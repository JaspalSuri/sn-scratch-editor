!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"></path><path d="M0 0h24v24H0V0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 18h12v-2H3v2zM3 6v2h18V6H3zm0 7h18v-2H3v2z"></path><path d="M0 0h24v24H0V0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg>'},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sentMessages=[],this.messageQueue=[],this.loggingEnabled=!1,this.acceptsThemes=!0,this.activeThemes=[],this.initialPermissions=e,this.onReadyCallback=n,this.coallesedSaving=!0,this.coallesedSavingDelay=250,this.registerMessageHandler()}var e,n,o;return e=t,(n=[{key:"registerMessageHandler",value:function(){var t=this,e=function(e){if(t.loggingEnabled&&console.log("Components API Message received:",e.data),!document.referrer||new URL(document.referrer).origin===new URL(e.origin).origin){if(t.origin){if(e.origin!==t.origin)return}else t.origin=e.origin;var n=e.data,r="string"==typeof n?JSON.parse(n):n;t.handleMessage(r)}};document.addEventListener("message",(function(t){e(t)}),!1),window.addEventListener("message",(function(t){e(t)}),!1)}},{key:"handleMessage",value:function(t){if("component-registered"===t.action)this.sessionKey=t.sessionKey,this.componentData=t.componentData,this.onReady(t.data),this.loggingEnabled&&console.log("Component successfully registered with payload:",t);else if("themes"===t.action)this.acceptsThemes&&this.activateThemes(t.data.themes);else if(t.original){var e=this.sentMessages.filter((function(e){return e.messageId===t.original.messageId}))[0];e||alert("This extension is attempting to communicate with Standard Notes, but an error is preventing it from doing so. Please restart this extension and try again."),e.callback&&e.callback(t.data)}}},{key:"onReady",value:function(t){this.environment=t.environment,this.platform=t.platform,this.uuid=t.uuid,this.isMobile="mobile"==this.environment,this.initialPermissions&&this.initialPermissions.length>0&&this.requestPermissions(this.initialPermissions);var e=!0,n=!1,r=void 0;try{for(var o,i=this.messageQueue[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var s=o.value;this.postMessage(s.action,s.data,s.callback)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}this.messageQueue=[],this.loggingEnabled&&console.log("onReadyData",t),this.activateThemes(t.activeThemeUrls||[]),this.onReadyCallback&&this.onReadyCallback()}},{key:"getSelfComponentUUID",value:function(){return this.uuid}},{key:"isRunningInDesktopApplication",value:function(){return"desktop"===this.environment}},{key:"setComponentDataValueForKey",value:function(t,e){this.componentData[t]=e,this.postMessage("set-component-data",{componentData:this.componentData},(function(t){}))}},{key:"clearComponentData",value:function(){this.componentData={},this.postMessage("set-component-data",{componentData:this.componentData},(function(t){}))}},{key:"componentDataValueForKey",value:function(t){return this.componentData[t]}},{key:"postMessage",value:function(t,e,n){if(this.sessionKey){var r={action:t,data:e,messageId:this.generateUUID(),sessionKey:this.sessionKey,api:"component"},o=JSON.parse(JSON.stringify(r));o.callback=n,this.sentMessages.push(o),this.isMobile&&(r=JSON.stringify(r)),this.loggingEnabled&&console.log("Posting message:",r),window.parent.postMessage(r,this.origin)}else this.messageQueue.push({action:t,data:e,callback:n})}},{key:"setSize",value:function(t,e,n){this.postMessage("set-size",{type:t,width:e,height:n},(function(t){}))}},{key:"requestPermissions",value:function(t,e){this.postMessage("request-permissions",{permissions:t},function(t){e&&e()}.bind(this))}},{key:"streamItems",value:function(t,e){Array.isArray(t)||(t=[t]),this.postMessage("stream-items",{content_types:t},function(t){e(t.items)}.bind(this))}},{key:"streamContextItem",value:function(t){var e=this;this.postMessage("stream-context-item",null,(function(n){var r=n.item;(!e.lastStreamedItem||e.lastStreamedItem.uuid!==r.uuid)&&e.pendingSaveTimeout&&(clearTimeout(e.pendingSaveTimeout),e._performSavingOfItems(e.pendingSaveParams),e.pendingSaveTimeout=null,e.pendingSaveParams=null),e.lastStreamedItem=r,t(e.lastStreamedItem)}))}},{key:"selectItem",value:function(t){this.postMessage("select-item",{item:this.jsonObjectForItem(t)})}},{key:"createItem",value:function(t,e){this.postMessage("create-item",{item:this.jsonObjectForItem(t)},function(t){var n=t.item;!n&&t.items&&t.items.length>0&&(n=t.items[0]),this.associateItem(n),e&&e(n)}.bind(this))}},{key:"createItems",value:function(t,e){var n=this,r=t.map((function(t){return n.jsonObjectForItem(t)}));this.postMessage("create-items",{items:r},function(t){e&&e(t.items)}.bind(this))}},{key:"associateItem",value:function(t){this.postMessage("associate-item",{item:this.jsonObjectForItem(t)})}},{key:"deassociateItem",value:function(t){this.postMessage("deassociate-item",{item:this.jsonObjectForItem(t)})}},{key:"clearSelection",value:function(){this.postMessage("clear-selection",{content_type:"Tag"})}},{key:"deleteItem",value:function(t,e){this.deleteItems([t],e)}},{key:"deleteItems",value:function(t,e){var n={items:t.map(function(t){return this.jsonObjectForItem(t)}.bind(this))};this.postMessage("delete-items",n,(function(t){e&&e(t)}))}},{key:"sendCustomEvent",value:function(t,e,n){this.postMessage(t,e,function(t){n&&n(t)}.bind(this))}},{key:"saveItem",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.saveItems([t],e,n)}},{key:"saveItemWithPresave",value:function(t,e,n){this.saveItemsWithPresave([t],e,n)}},{key:"saveItemsWithPresave",value:function(t,e,n){this.saveItems(t,n,!1,e)}},{key:"_performSavingOfItems",value:function(t){var e=t.items,n=t.presave,r=t.callback;n&&n();var o=[],i=!0,s=!1,a=void 0;try{for(var c,p=e[Symbol.iterator]();!(i=(c=p.next()).done);i=!0){var l=c.value;o.push(this.jsonObjectForItem(l))}}catch(t){s=!0,a=t}finally{try{i||null==p.return||p.return()}finally{if(s)throw a}}this.postMessage("save-items",{items:o},(function(t){r&&r()}))}},{key:"saveItems",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;if(this.pendingSaveItems||(this.pendingSaveItems=[]),1!=this.coallesedSaving||r)this._performSavingOfItems({items:t,presave:o,callback:e});else{this.pendingSaveTimeout&&clearTimeout(this.pendingSaveTimeout);var i=t.map((function(t){return t.uuid})),s=this.pendingSaveItems.filter((function(t){return!i.includes(t.uuid)}));this.pendingSaveItems=s.concat(t),this.pendingSaveParams={items:this.pendingSaveItems,presave:o,callback:e},this.pendingSaveTimeout=setTimeout((function(){n._performSavingOfItems(n.pendingSaveParams),n.pendingSaveItems=[],n.pendingSaveTimeout=null,n.pendingSaveParams=null}),this.coallesedSavingDelay)}}},{key:"jsonObjectForItem",value:function(t){var e=Object.assign({},t);return e.children=null,e.parent=null,e}},{key:"getItemAppDataValue",value:function(t,e){var n=t.content.appData&&t.content.appData["org.standardnotes.sn"];return n?n[e]:null}},{key:"activateThemes",value:function(t){if(this.loggingEnabled&&console.log("Incoming themes",t),this.activeThemes.sort().toString()!=t.sort().toString()){var e=t||[],n=[],r=!0,o=!1,i=void 0;try{for(var s,a=this.activeThemes[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var c=s.value;t.includes(c)?e=e.filter((function(t){return t!=c})):n.push(c)}}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}this.loggingEnabled&&(console.log("Deactivating themes:",n),console.log("Activating themes:",e));for(var p=0,l=n;p<l.length;p++){var h=l[p];this.deactivateTheme(h)}this.activeThemes=t;var u=!0,f=!1,d=void 0;try{for(var m,v=e[Symbol.iterator]();!(u=(m=v.next()).done);u=!0){var g=m.value;if(g){var y=document.createElement("link");y.id=btoa(g),y.href=g,y.type="text/css",y.rel="stylesheet",y.media="screen,print",y.className="custom-theme",document.getElementsByTagName("head")[0].appendChild(y)}}}catch(t){f=!0,d=t}finally{try{u||null==v.return||v.return()}finally{if(f)throw d}}}}},{key:"themeElementForUrl",value:function(t){return Array.from(document.getElementsByClassName("custom-theme")).slice().find((function(e){return e.id==btoa(t)}))}},{key:"deactivateTheme",value:function(t){var e=this.themeElementForUrl(t);e&&(e.disabled=!0,e.parentNode.removeChild(e))}},{key:"generateUUID",value:function(){var t=window.crypto||window.msCrypto;if(t){var e=new Uint32Array(4);t.getRandomValues(e);var n=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){n++;var r=e[n>>3]>>n%8*4&15;return("x"==t?r:3&r|8).toString(16)}))}var r=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(r+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==t?e:3&e|8).toString(16)}))}}])&&r(e.prototype,n),o&&r(e,o),t}();void 0!==t.exports&&(t.exports=o),window&&(window.ComponentManager=o)},function(t,e,n){"use strict";n.r(e);n.p,n.p,n.p,n.p,n.p;var r=n(0),o=n.n(r),i=n(1),s=n.n(i),a=n(2),c=n.n(a),p=n(3),l=n.n(p),h=n(4),u=n.n(h),f=n(5),d=n.n(f),m=n(6),v=n.n(m),g=n(7),y=n.n(g),w=n(8),b=n.n(w),k=n(9),x=n.n(k),S=n(10),M=n.n(S);function O(t){this.content=t}document.querySelector("button[data-format=paragraph] i").innerHTML=x.a,document.querySelector("button[data-format=checklist_item] i").innerHTML=o.a,document.querySelector("button[data-format=heading] i").innerHTML=y.a,document.querySelector("button[data-format=unordered_list] i").innerHTML=d.a,document.querySelector("button[data-format=strong] i").innerHTML=l.a,document.querySelector("button[data-format=em] i").innerHTML=u.a,document.querySelector("button[data-format=code] i").innerHTML=c.a,document.querySelector("button[data-format=link] i").innerHTML=b.a,document.querySelector("button[data-format=ordered_list] i").innerHTML=v.a,document.querySelector("div#link-modal label a i").innerHTML=M.a,O.prototype={constructor:O,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),i=r.content.slice();return-1==o?i.push(n||t,e):(i[o+1]=e,n&&(i[o]=n)),new O(i)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new O(n)},addToStart:function(t,e){return new O([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new O(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),i=r.find(t);return o.splice(-1==i?o.length:i,0,e,n),new O(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=O.from(t)).size?new O(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=O.from(t)).size?new O(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=O.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},O.from=function(t){if(t instanceof O)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new O(e)};var C=O;var T=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},D={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};T.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,s=0;s<e;i++){var a=this.content[i],c=s+a.nodeSize;if(c>t&&!1!==n(a,r+s,o,i)&&a.content.size){var p=s+1;a.nodesBetween(Math.max(0,t-p),Math.min(a.content.size,e-p),n,r+p)}s=c}},T.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},T.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!n):s.isLeaf&&r?(o+=r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o},T.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new T(r,this.size+t.size)},T.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,i=0;i<e;o++){var s=this.content[o],a=i+s.nodeSize;a>t&&((i<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-i),Math.min(s.text.length,e-i)):s.cut(Math.max(0,t-i-1),Math.min(s.content.size,e-i-1))),n.push(s),r+=s.nodeSize),i=a}return new T(n,r)},T.prototype.cutByIndex=function(t,e){return t==e?T.empty:0==t&&e==this.content.length?this:new T(this.content.slice(t,e))},T.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new T(r,o)},T.prototype.addToStart=function(t){return new T([t].concat(this.content),this.size+t.nodeSize)},T.prototype.addToEnd=function(t){return new T(this.content.concat(t),this.size+t.nodeSize)},T.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},D.firstChild.get=function(){return this.content.length?this.content[0]:null},D.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},D.childCount.get=function(){return this.content.length},T.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},T.prototype.maybeChild=function(t){return this.content[t]},T.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},T.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),function t(e,n,r){for(var o=0;;o++){if(o==e.childCount||o==n.childCount)return e.childCount==n.childCount?null:r;var i=e.child(o),s=n.child(o);if(i!=s){if(!i.sameMarkup(s))return r;if(i.isText&&i.text!=s.text){for(var a=0;i.text[a]==s.text[a];a++)r++;return r}if(i.content.size||s.content.size){var c=t(i.content,s.content,r+1);if(null!=c)return c}r+=i.nodeSize}else r+=i.nodeSize}}(this,t,e)},T.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),function t(e,n,r,o){for(var i=e.childCount,s=n.childCount;;){if(0==i||0==s)return i==s?null:{a:r,b:o};var a=e.child(--i),c=n.child(--s),p=a.nodeSize;if(a!=c){if(!a.sameMarkup(c))return{a:r,b:o};if(a.isText&&a.text!=c.text){for(var l=0,h=Math.min(a.text.length,c.text.length);l<h&&a.text[a.text.length-l-1]==c.text[c.text.length-l-1];)l++,r--,o--;return{a:r,b:o}}if(a.content.size||c.content.size){var u=t(a.content,c.content,r-1,o-1);if(u)return u}r-=p,o-=p}else r-=p,o-=p}}(this,t,e,n)},T.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return E(0,t);if(t==this.size)return E(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=t)return o==t||e>0?E(n+1,o):E(n,r);r=o}},T.prototype.toString=function(){return"<"+this.toStringInner()+">"},T.prototype.toStringInner=function(){return this.content.join(", ")},T.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},T.fromJSON=function(t,e){if(!e)return T.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new T(e.map(t.nodeFromJSON))},T.fromArray=function(t){if(!t.length)return T.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new T(e||t,n)},T.from=function(t){if(!t)return T.empty;if(t instanceof T)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new T([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(T.prototype,D);var N={index:0,offset:0};function E(t,e){return N.index=t,N.offset=e,N}function A(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!A(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e&&A(t[o],e[o])))return!1;for(var i in e)if(!(i in t))return!1}return!0}T.empty=new T([],0);var I=function(t,e){this.type=t,this.attrs=e};function z(t){var e=Error.call(this,t);return e.__proto__=z.prototype,e}I.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},I.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},I.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},I.prototype.eq=function(t){return this==t||this.type==t.type&&A(this.attrs,t.attrs)},I.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},I.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},I.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},I.setFrom=function(t){if(!t||0==t.length)return I.none;if(t instanceof I)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},I.none=[],z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z.prototype.name="ReplaceError";var R=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},P={size:{configurable:!0}};function _(t,e,n){if(n.openStart>t.depth)throw new z("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new z("Inconsistent open depths");return function t(e,n,r,o){var i=e.index(o),s=e.node(o);if(i==n.index(o)&&o<e.depth-r.openStart){var a=t(e,n,r,o+1);return s.copy(s.content.replaceChild(i,a))}if(r.content.size){if(r.openStart||r.openEnd||e.depth!=o||n.depth!=o){var c=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),o=n-1;o>=0;o--)r=e.node(o).copy(T.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(r,e),p=c.start,l=c.end;return L(s,function t(e,n,r,o,i){var s=e.depth>i&&V(e,n,i+1),a=o.depth>i&&V(r,o,i+1),c=[];F(null,e,i,c),s&&a&&n.index(i)==r.index(i)?(B(s,a),$(L(s,t(e,n,r,o,i+1)),c)):(s&&$(L(s,j(e,n,i+1)),c),F(n,r,i,c),a&&$(L(a,j(r,o,i+1)),c));return F(o,null,i,c),new T(c)}(e,p,l,n,o))}var h=e.parent,u=h.content;return L(h,u.cut(0,e.parentOffset).append(r.content).append(u.cut(n.parentOffset)))}return L(s,j(e,n,o))}(t,e,n,0)}function B(t,e){if(!e.type.compatibleContent(t.type))throw new z("Cannot join "+e.type.name+" onto "+t.type.name)}function V(t,e,n){var r=t.node(n);return B(r,e.node(n)),r}function $(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function F(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&($(t.nodeAfter,r),i++));for(var a=i;a<s;a++)$(o.child(a),r);e&&e.depth==n&&e.textOffset&&$(e.nodeBefore,r)}function L(t,e){if(!t.type.validContent(e))throw new z("Invalid content for node "+t.type.name);return t.copy(e)}function j(t,e,n){var r=[];(F(null,t,n,r),t.depth>n)&&$(L(V(t,e,n+1),j(t,e,n+1)),r);return F(e,null,n,r),new T(r)}P.size.get=function(){return this.content.size-this.openStart-this.openEnd},R.prototype.insertAt=function(t,e){var n=function t(e,n,r,o){var i=e.findIndex(n),s=i.index,a=i.offset,c=e.maybeChild(s);if(a==n||c.isText)return o&&!o.canReplace(s,s,r)?null:e.cut(0,n).append(r).append(e.cut(n));var p=t(c.content,n-a-1,r);return p&&e.replaceChild(s,c.copy(p))}(this.content,t+this.openStart,e,null);return n&&new R(n,this.openStart,this.openEnd)},R.prototype.removeBetween=function(t,e){return new R(function t(e,n,r){var o=e.findIndex(n),i=o.index,s=o.offset,a=e.maybeChild(i),c=e.findIndex(r),p=c.index,l=c.offset;if(s==n||a.isText){if(l!=r&&!e.child(p).isText)throw new RangeError("Removing non-flat range");return e.cut(0,n).append(e.cut(r))}if(i!=p)throw new RangeError("Removing non-flat range");return e.replaceChild(i,a.copy(t(a.content,n-s-1,r-s-1)))}(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},R.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},R.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},R.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},R.fromJSON=function(t,e){if(!e)return R.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new R(T.fromJSON(t,e.content),e.openStart||0,e.openEnd||0)},R.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new R(t,n,r)},Object.defineProperties(R.prototype,P),R.empty=new R(T.empty,0,0);var q=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},J={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};q.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},J.parent.get=function(){return this.node(this.depth)},J.doc.get=function(){return this.node(0)},q.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},q.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},q.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},q.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},q.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},q.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},q.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},J.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},J.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},J.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},q.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return I.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var i=n.marks,s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i},q.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},q.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},q.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new U(this,t,n)},q.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},q.prototype.max=function(t){return t.pos>this.pos?t:this},q.prototype.min=function(t){return t.pos<this.pos?t:this},q.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},q.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,c=s.offset,p=o-c;if(n.push(i,a,r+c),!p)break;if((i=i.child(a)).isText)break;o=p-1,r+=c+1}return new q(e,n,o)},q.resolveCached=function(t,e){for(var n=0;n<H.length;n++){var r=H[n];if(r.pos==e&&r.doc==t)return r}var o=H[W]=q.resolve(t,e);return W=(W+1)%K,o},Object.defineProperties(q.prototype,J);var H=[],W=0,K=12,U=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},G={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};G.start.get=function(){return this.$from.before(this.depth+1)},G.end.get=function(){return this.$to.after(this.depth+1)},G.parent.get=function(){return this.$from.node(this.depth)},G.startIndex.get=function(){return this.$from.index(this.depth)},G.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(U.prototype,G);var Q=Object.create(null),Y=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||T.empty,this.marks=r||I.none},X={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};X.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},X.childCount.get=function(){return this.content.childCount},Y.prototype.child=function(t){return this.content.child(t)},Y.prototype.maybeChild=function(t){return this.content.maybeChild(t)},Y.prototype.forEach=function(t){this.content.forEach(t)},Y.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},Y.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},X.textContent.get=function(){return this.textBetween(0,this.content.size,"")},Y.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},X.firstChild.get=function(){return this.content.firstChild},X.lastChild.get=function(){return this.content.lastChild},Y.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},Y.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},Y.prototype.hasMarkup=function(t,e,n){return this.type==t&&A(this.attrs,e||t.defaultAttrs||Q)&&I.sameSet(this.marks,n||I.none)},Y.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},Y.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},Y.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},Y.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return R.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i).content.cut(r.pos-s,o.pos-s);return new R(a,r.depth-i,o.depth-i)},Y.prototype.replace=function(t,e,n){return _(this.resolve(t),this.resolve(e),n)},Y.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(!(e=e.maybeChild(r)))return null;if(o==t||e.isText)return e;t-=o+1}},Y.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},Y.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},Y.prototype.resolve=function(t){return q.resolveCached(this,t)},Y.prototype.resolveNoCache=function(t){return q.resolve(this,t)},Y.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},X.isBlock.get=function(){return this.type.isBlock},X.isTextblock.get=function(){return this.type.isTextblock},X.inlineContent.get=function(){return this.type.inlineContent},X.isInline.get=function(){return this.type.isInline},X.isText.get=function(){return this.type.isText},X.isLeaf.get=function(){return this.type.isLeaf},X.isAtom.get=function(){return this.type.isAtom},Y.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),tt(this.marks,t)},Y.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},Y.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=T.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=r;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},Y.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},Y.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},Y.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(t){return t.check()}))},Y.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},Y.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=T.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(Y.prototype,X);var Z=function(t){function e(e,n,r,o){if(t.call(this,e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):tt(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(Y);function tt(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var et=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},nt={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};et.parse=function(t,e){var n=new rt(t,e);if(null==n.next)return et.empty;var r=it(n);n.next&&n.err("Unexpected trailing text");var o=function(t){var e=Object.create(null);return function n(r){var o=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),s=i>-1&&o[i+1];ht(t,r).forEach((function(t){s||o.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var i=e[r.join(",")]=new et(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(lt);i.next.push(o[s],e[a.join(",")]||n(a))}return i}(ht(t,0))}(function(t){var e=[[]];return o(function t(e,i){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(t(n,i))}),[]);if("seq"==e.type)for(var s=0;;s++){var a=t(e.exprs[s],i);if(s==e.exprs.length-1)return a;o(a,i=n())}else{if("star"==e.type){var c=n();return r(i,c),o(t(e.expr,c),c),[r(c)]}if("plus"==e.type){var p=n();return o(t(e.expr,i),p),o(t(e.expr,p),p),[r(p)]}if("opt"==e.type)return[r(i)].concat(t(e.expr,i));if("range"==e.type){for(var l=i,h=0;h<e.min;h++){var u=n();o(t(e.expr,l),u),l=u}if(-1==e.max)o(t(e.expr,l),l);else for(var f=e.min;f<e.max;f++){var d=n();r(l,d),o(t(e.expr,l),d),l=d}return[r(l)]}if("name"==e.type)return[r(i,null,e.value)]}}(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach((function(t){return t.to=e}))}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var c=o.next[a],p=o.next[a+1];s.push(c.name),!i||c.isText||c.hasRequiredAttrs()||(i=!1),-1==r.indexOf(p)&&r.push(p)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position")}}(o,n),o},et.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},et.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},nt.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},nt.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},et.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},et.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function o(i,s){var a=i.matchFragment(t,n);if(a&&(!e||a.validEnd))return T.from(s.map((function(t){return t.createAndFill()})));for(var c=0;c<i.next.length;c+=2){var p=i.next[c],l=i.next[c+1];if(!p.isText&&!p.hasRequiredAttrs()&&-1==r.indexOf(l)){r.push(l);var h=o(l,s.concat(p));if(h)return h}}}(this,[])},et.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},et.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a+=2){var c=o.next[a];c.isLeaf||c.hasRequiredAttrs()||c.name in e||r.type&&!o.next[a+1].validEnd||(n.push({match:c.contentMatch,type:c,via:r}),e[c.name]=!0)}}},nt.edgeCount.get=function(){return this.next.length>>1},et.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},et.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r})).join("\n")},Object.defineProperties(et.prototype,nt),et.empty=new et(!0);var rt=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},ot={next:{configurable:!0}};function it(t){var e=[];do{e.push(st(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function st(t){var e=[];do{e.push(at(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function at(t){for(var e=function(t){if(t.eat("(")){var e=it(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}0==o.length&&t.err("No node type or group '"+e+"' found");return o}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=pt(t,e)}return e}function ct(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function pt(t,e){var n=ct(t),r=n;return t.eat(",")&&(r="}"!=t.next?ct(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function lt(t,e){return e-t}function ht(t,e){var n=[];return function e(r){var o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var s=o[i],a=s.term,c=s.to;a||-1!=n.indexOf(c)||e(c)}}(e),n.sort(lt)}function ut(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function ft(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function dt(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new gt(t[n]);return e}ot.next.get=function(){return this.tokens[this.pos]},rt.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},rt.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(rt.prototype,ot);var mt=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=dt(n.attrs),this.defaultAttrs=ut(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},vt={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};vt.isInline.get=function(){return!this.isBlock},vt.isTextblock.get=function(){return this.isBlock&&this.inlineContent},vt.isLeaf.get=function(){return this.contentMatch==et.empty},vt.isAtom.get=function(){return this.isLeaf||this.spec.atom},mt.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},mt.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},mt.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:ft(this.attrs,t)},mt.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Y(this,this.computeAttrs(t),T.from(e),I.setFrom(n))},mt.prototype.createChecked=function(t,e,n){if(e=T.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new Y(this,this.computeAttrs(t),e,I.setFrom(n))},mt.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=T.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(T.empty,!0);return o?new Y(this,t,e.append(o),I.setFrom(n)):null},mt.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},mt.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},mt.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},mt.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:I.empty:t},mt.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new mt(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(mt.prototype,vt);var gt=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},yt={isRequired:{configurable:!0}};yt.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(gt.prototype,yt);var wt=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=dt(r.attrs),this.rank=e,this.excluded=null;var o=ut(this.attrs);this.instance=o&&new I(this,o)};wt.prototype.create=function(t){return!t&&this.instance?this.instance:new I(this,ft(this.attrs,t))},wt.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,o){return n[t]=new wt(t,r++,e,o)})),n},wt.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t.slice(0,e).concat(t.slice(e+1));return t},wt.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},wt.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var bt=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=C.from(t.nodes),this.spec.marks=C.from(t.marks),this.nodes=mt.compile(this.spec.nodes,this),this.marks=wt.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],i=o.spec.content||"",s=o.spec.marks;o.contentMatch=n[i]||(n[i]=et.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==s?null:s?kt(this,s.split(" ")):""!=s&&o.inlineContent?null:[]}for(var a in this.marks){var c=this.marks[a],p=c.spec.excludes;c.excluded=null==p?[c]:""==p?[]:kt(this,p.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function kt(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(var a in t.marks){var c=t.marks[a];("_"==o||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}bt.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof mt))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},bt.prototype.text=function(t,e){var n=this.nodes.text;return new Z(n,n.defaultAttrs,t,I.setFrom(e))},bt.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},bt.prototype.nodeFromJSON=function(t){return Y.fromJSON(this,t)},bt.prototype.markFromJSON=function(t){return I.fromJSON(this,t)},bt.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var xt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)}))};xt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new Dt(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},xt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new Dt(this,e,!0);return n.addAll(t,null,e.from,e.to),R.maxOpen(n.finish())},xt.prototype.matchTag=function(t,e){for(var n=0;n<this.tags.length;n++){var r=this.tags[n];if(Et(t,r.tag)&&(void 0===r.namespace||t.namespaceURI==r.namespace)&&(!r.context||e.matchesContext(r.context))){if(r.getAttrs){var o=r.getAttrs(t);if(!1===o)continue;r.attrs=o}return r}}},xt.prototype.matchStyle=function(t,e,n){for(var r=0;r<this.styles.length;r++){var o=this.styles[r];if(!(0!=o.style.indexOf(t)||o.context&&!n.matchesContext(o.context)||o.style.length>t.length&&(61!=o.style.charCodeAt(t.length)||o.style.slice(t.length+1)!=e))){if(o.getAttrs){var i=o.getAttrs(e);if(!1===i)continue;o.attrs=i}return o}}},xt.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var o=e[r];if((null==o.priority?50:o.priority)<n)break}e.splice(r,0,t)}var r=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=At(t)),t.mark=e}))};for(var o in t.marks)r(o);var i;for(var s in t.nodes)i=void 0,(i=t.nodes[s].spec.parseDOM)&&i.forEach((function(t){n(t=At(t)),t.node=s}));return e},xt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new xt(t,xt.schemaRules(t)))};var St={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Mt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ot={ol:!0,ul:!0};function Ct(t){return(t?1:0)|("full"===t?2:0)}var Tt=function(t,e,n,r,o,i,s){this.type=t,this.attrs=e,this.solid=o,this.match=i||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=I.none,this.pendingMarks=r};Tt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(T.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},Tt.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=T.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(T.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},Tt.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):It(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}};var Dt=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=Ct(e.preserveWhitespace)|(n?4:0);r=o?new Tt(o.type,o.attrs,I.none,I.none,!0,e.topMatch||o.type.contentMatch,i):new Tt(n?null:t.schema.topNodeType,null,I.none,I.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},Nt={top:{configurable:!0},currentPos:{configurable:!0}};function Et(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function At(t){var e={};for(var n in t)e[n]=t[n];return e}function It(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],s=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.type,a=r.next;if(o==e)return!0;if(i.indexOf(a)<0&&s(a))return!0}};return s(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}Nt.top.get=function(){return this.nodes[this.open]},Dt.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},Dt.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)2&n.options||(e=e.replace(/\r?\n|\r/g," "));else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},Dt.prototype.addElement=function(t){var e=t.nodeName.toLowerCase();Ot.hasOwnProperty(e)&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&Ot.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var n=this.options.ruleFromNode&&this.options.ruleFromNode(t)||this.parser.matchTag(t,this);if(n?n.ignore:Mt.hasOwnProperty(e))this.findInside(t);else if(!n||n.skip){n&&n.skip.nodeType&&(t=n.skip);var r,o=this.top,i=this.needsBlock;if(St.hasOwnProperty(e))r=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),r&&this.sync(o),this.needsBlock=i}else this.addElementByRule(t,n)},Dt.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},Dt.prototype.readStyles=function(t){for(var e=I.none,n=0;n<t.length;n+=2){var r=this.parser.matchStyle(t[n],t[n+1],this);if(r){if(r.ignore)return null;e=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(e)}}return e},Dt.prototype.addElementByRule=function(t,e){var n,r,o,i=this;e.node?(r=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(r.create(e.attrs))||this.leafFallback(t):n=this.enter(r,e.attrs,e.preserveWhitespace):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));var s=this.top;if(r&&r.isLeaf)this.findInside(t);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return i.insertNode(t)}));else{var a=e.contentElement;"string"==typeof a?a=t.querySelector(a):"function"==typeof a&&(a=a(t)),a||(a=t),this.findAround(t,a,!0),this.addAll(a,n)}n&&(this.sync(s),this.open--),o&&this.removePendingMark(o,s)},Dt.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&St.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},Dt.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},Dt.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},Dt.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},Dt.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?-5&o.options:Ct(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new Tt(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},Dt.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},Dt.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},Dt.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},Nt.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},Dt.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},Dt.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},Dt.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},Dt.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},Dt.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=function(t,a){for(;t>=0;t--){var c=n[t];if(""==c){if(t==n.length-1||0==t)continue;for(;a>=i;a--)if(s(t-1,a))return!0;return!1}var p=a>0||0==a&&o?e.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!p||p.name!=c&&-1==p.groups.indexOf(c))return!1;a--}return!0};return s(n.length-1,this.open)},Dt.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},Dt.prototype.addPendingMark=function(t){this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},Dt.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1?r.pendingMarks=t.removeFromSet(r.pendingMarks):r.activeMarks=t.removeFromSet(r.activeMarks),r==e)break}},Object.defineProperties(Dt.prototype,Nt);var zt=function(t,e){this.nodes=t||{},this.marks=e||{}};function Rt(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Pt(t){return t.document||window.document}zt.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=Pt(e).createDocumentFragment());var o=n,i=null;return t.forEach((function(t){if(i||t.marks.length){i||(i=[]);for(var n=0,s=0;n<i.length&&s<t.marks.length;){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(i[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}for(;n<i.length;)o=i.pop(),i.pop();for(;s<t.marks.length;){var c=t.marks[s++],p=r.serializeMark(c,t.isInline,e);p&&(i.push(c,o),o.appendChild(p.dom),o=p.contentDOM||p.dom)}}o.appendChild(r.serializeNode(t,e))})),n},zt.prototype.serializeNode=function(t,e){void 0===e&&(e={});var n=zt.renderSpec(Pt(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},zt.prototype.serializeNodeAndMarks=function(t,e){void 0===e&&(e={});for(var n=this.serializeNode(t,e),r=t.marks.length-1;r>=0;r--){var o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},zt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&zt.renderSpec(Pt(n),r(t,e))},zt.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};var r=e[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],c=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var p in c=2,a)if(null!=a[p]){var l=p.indexOf(" ");l>0?s.setAttributeNS(p.slice(0,l),p.slice(l+1),a[p]):s.setAttribute(p,a[p])}for(var h=c;h<e.length;h++){var u=e[h];if(0===u){if(h<e.length-1||h>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var f=zt.renderSpec(t,u,n),d=f.dom,m=f.contentDOM;if(s.appendChild(d),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:s,contentDOM:i}},zt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new zt(this.nodesFromSchema(t),this.marksFromSchema(t)))},zt.nodesFromSchema=function(t){var e=Rt(t.nodes);return e.text||(e.text=function(t){return t.text}),e},zt.marksFromSchema=function(t){return Rt(t.marks)};var _t=Math.pow(2,16);function Bt(t){return 65535&t}var Vt=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},$t=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};$t.prototype.recover=function(t){var e=0,n=Bt(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/_t}(t)},$t.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},$t.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},$t.prototype._map=function(t,e,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>t)break;var c=this.ranges[s+o],p=this.ranges[s+i],l=a+c;if(t<=l){var h=a+r+((c?t==a?-1:t==l?1:e:e)<0?0:p);if(n)return h;var u=s/3+(t-a)*_t;return new Vt(h,e<0?t!=a:t!=l,u)}r+=p-c}return n?t+r:new Vt(t+r)},$t.prototype.touches=function(t,e){for(var n=0,r=Bt(e),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var c=this.ranges[s+o];if(t<=a+c&&s==3*r)return!0;n+=this.ranges[s+i]-c}return!1},$t.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),c=this.ranges[r+e],p=this.ranges[r+n];t(s,s+c,a,a+p),o+=p-c}},$t.prototype.invert=function(){return new $t(this.ranges,!this.inverted)},$t.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},$t.offset=function(t){return 0==t?$t.empty:new $t(t<0?[0,-t,0]:[0,0,t])},$t.empty=new $t([]);var Ft=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function Lt(t){var e=Error.call(this,t);return e.__proto__=Lt.prototype,e}Ft.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new Ft(this.maps,this.mirror,t,e)},Ft.prototype.copy=function(){return new Ft(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},Ft.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},Ft.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},Ft.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},Ft.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},Ft.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},Ft.prototype.invert=function(){var t=new Ft;return t.appendMappingInverted(this),t},Ft.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},Ft.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},Ft.prototype._map=function(t,e,n){for(var r=!1,o=null,i=this.from;i<this.to;i++){var s=this.maps[i],a=o&&o[i];if(null!=a&&s.touches(t,a))t=s.recover(a);else{var c=s.mapResult(t,e);if(null!=c.recover){var p=this.getMirror(i);if(null!=p&&p>i&&p<this.to){if(c.deleted){i=p,t=this.maps[p].recover(c.recover);continue}(o||(o=Object.create(null)))[p]=c.recover}}c.deleted&&(r=!0),t=c.pos}}return n?t:new Vt(t,r)},Lt.prototype=Object.create(Error.prototype),Lt.prototype.constructor=Lt,Lt.prototype.name="TransformError";var jt=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Ft},qt={before:{configurable:!0},docChanged:{configurable:!0}};function Jt(){throw new Error("Override me")}qt.before.get=function(){return this.docs.length?this.docs[0]:this.doc},jt.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new Lt(e.failed);return this},jt.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},qt.docChanged.get=function(){return this.steps.length>0},jt.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(jt.prototype,qt);var Ht=Object.create(null),Wt=function(){};Wt.prototype.apply=function(t){return Jt()},Wt.prototype.getMap=function(){return $t.empty},Wt.prototype.invert=function(t){return Jt()},Wt.prototype.map=function(t){return Jt()},Wt.prototype.merge=function(t){return null},Wt.prototype.toJSON=function(){return Jt()},Wt.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Ht[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},Wt.jsonID=function(t,e){if(t in Ht)throw new RangeError("Duplicate use of step JSON ID "+t);return Ht[t]=e,e.prototype.jsonID=t,e};var Kt=function(t,e){this.doc=t,this.failed=e};Kt.ok=function(t){return new Kt(t,null)},Kt.fail=function(t){return new Kt(null,t)},Kt.fromReplace=function(t,e,n,r){try{return Kt.ok(t.replace(e,n,r))}catch(t){if(t instanceof z)return Kt.fail(t.message);throw t}};var Ut=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&Qt(t,this.from,this.to)?Kt.fail("Structure replace would overwrite content"):Kt.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new $t([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?R.empty:new R(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?R.empty:new R(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,R.fromJSON(t,n.slice),!!n.structure)},e}(Wt);Wt.jsonID("replace",Ut);var Gt=function(t){function e(e,n,r,o,i,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(Qt(t,this.from,this.gapFrom)||Qt(t,this.gapTo,this.to)))return Kt.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Kt.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?Kt.fromReplace(t,this.from,this.to,n):Kt.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new $t([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,R.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(Wt);function Qt(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function Yt(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Xt(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var r=t.$from.node(n),o=t.$from.index(n),i=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(o,i,e))return n;if(0==n||r.type.spec.isolating||!Yt(r,o,i))break}}function Zt(t,e,n,r){void 0===r&&(r=t);var o=function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;var s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}(t,e),i=o&&function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:e).contentMatch,c=r;a&&c<o;c++)a=a.matchType(n.child(c).type);if(!a||!a.validEnd)return null;return s}(r,e);return i?o.map(te).concat({type:e,attrs:n}).concat(i.map(te)):null}function te(t){return{type:t,attrs:null}}function ee(t,e,n,r){void 0===n&&(n=1);var o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,c=n-2;a>i;a--,c--){var p=o.node(a),l=o.index(a);if(p.type.spec.isolating)return!1;var h=p.content.cutByIndex(l,p.childCount),u=r&&r[c]||p;if(u!=p&&(h=h.replaceChild(0,u.type.create(u.attrs))),!p.canReplace(l+1,p.childCount)||!u.type.validContent(h))return!1}var f=o.indexAfter(i),d=r&&r[0];return o.node(i).canReplaceWith(f,f,d?d.type:o.node(i+1).type)}function ne(t,e){var n=t.resolve(e),r=n.index();return re(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function re(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function oe(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(oe(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return T.fromArray(r)}Wt.jsonID("replaceAround",Gt),jt.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),s=r.after(o+1),a=i,c=s,p=T.empty,l=0,h=o,u=!1;h>e;h--)u||n.index(h)>0?(u=!0,p=T.from(n.node(h).copy(p)),l++):a--;for(var f=T.empty,d=0,m=o,v=!1;m>e;m--)v||r.after(m+1)<r.end(m)?(v=!0,f=T.from(r.node(m).copy(f)),d++):c++;return this.step(new Gt(a,c,i,s,new R(p.append(f),l,d),p.size-l,!0))},jt.prototype.wrap=function(t,e){for(var n=T.empty,r=e.length-1;r>=0;r--)n=T.from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new Gt(o,i,o,i,new R(n,0,0),e.length,!0))},jt.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(i).map(e),n)){o.clearIncompatible(o.mapping.slice(i).map(e,1),n);var s=o.mapping.slice(i),a=s.map(e,1),c=s.map(e+t.nodeSize,1);return o.step(new Gt(a,c,a+1,c-1,new R(T.from(n.create(r,null,t.marks)),0,0),1,!0)),!1}})),this},jt.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Gt(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new R(T.from(i),0,0),1,!0))},jt.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=T.empty,i=T.empty,s=r.depth,a=r.depth-e,c=e-1;s>a;s--,c--){o=T.from(r.node(s).copy(o));var p=n&&n[c];i=T.from(p?p.type.create(p.attrs,i):r.node(s).copy(i))}return this.step(new Ut(t,t,new R(o.append(i),e,e),!0))},jt.prototype.join=function(t,e){void 0===e&&(e=1);var n=new Ut(t-e,t+e,R.empty,!0);return this.step(n)};var ie=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new R(oe(n.content,(function(t,n){return n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return Kt.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new se(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Wt);Wt.jsonID("addMark",ie);var se=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new R(oe(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return Kt.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new ie(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Wt);function ae(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=R.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);if(le(o,i,r))return new Ut(e,n,r);var s=function(t,e){var n=function t(e,n,r,o){var i=T.empty,s=0,a=r[n];if(e.depth>n){var c=t(e,n+1,r,o||a);s=c.openEnd+1,i=T.from(e.node(n+1).copy(c.content))}a&&(i=i.append(a.content),s=a.openEnd);o&&(i=i.append(e.node(n).contentMatchAt(e.indexAfter(n)).fillBefore(T.empty,!0)),s=0);return{content:i,openEnd:s}}(t,0,e,!1),r=n.content,o=n.openEnd;return new R(r,t.depth,o||0)}(o,function(t,e){for(var n=new he(t),r=1;e.size&&r<=3;r++){var o=n.placeSlice(e.content,e.openStart,e.openEnd,r);3==r&&o!=e&&o.size&&(r=0),e=o}for(;n.open.length;)n.closeNode();return n.placed}(o,r)),a=pe(o,i,s);if(!a)return null;if(s.size!=a.size&&function(t,e,n){if(!e.parent.isTextblock)return!1;var r,o=n.openEnd?function(t,e){for(var n=1;n<e;n++)t=t.lastChild.content;return t.lastChild}(n.content,n.openEnd):t.node(t.depth-(n.openStart-n.openEnd));if(!o.isTextblock)return!1;for(var i=e.index();i<e.parent.childCount;i++)if(!o.type.allowsMarks(e.parent.child(i).marks))return!1;n.openEnd?r=o.contentMatchAt(o.childCount):(r=o.contentMatchAt(o.childCount),n.size&&(r=r.matchFragment(n.content,n.openStart?1:0)));return(r=r.matchFragment(e.parent.content,e.index()))&&r.validEnd}(o,i,s)){for(var c=i.depth,p=i.after(c);c>1&&p==i.end(--c);)++p;var l=pe(o,t.resolve(p),s);if(l)return new Gt(e,p,n,i.end(),l,s.size)}return a.size||e!=n?new Ut(e,n,a):null}function ce(t,e,n,r,o,i,s){var a,c=t.childCount,p=c-(s>0?1:0),l=i<0?e:n.node(o);a=i<0?l.contentMatchAt(p):1==c&&s>0?l.contentMatchAt(i?n.index(o):n.indexAfter(o)):l.contentMatchAt(n.indexAfter(o)).matchFragment(t,c>0&&i?1:0,p);var h=r.node(o);if(s>0&&o<r.depth){var u=h.content.cutByIndex(r.indexAfter(o)).addToStart(t.lastChild),f=a.fillBefore(u,!0);if(f&&f.size&&i>0&&1==c&&(f=null),f){var d=ce(t.lastChild.content,t.lastChild,n,r,o+1,1==c?i-1:-1,s-1);if(d){var m=t.lastChild.copy(d);return f.size?t.cutByIndex(0,c-1).append(f).addToEnd(m):t.replaceChild(c-1,m)}}}s>0&&(a=a.matchType((1==c&&i>0?n.node(o+1):t.lastChild).type));var v=r.index(o);if(v==h.childCount&&!h.type.compatibleContent(e.type))return null;for(var g=a.fillBefore(h.content,!0,v),y=v;g&&y<h.content.childCount;y++)l.type.allowsMarks(h.content.child(y).marks)||(g=null);if(!g)return null;if(s>0){var w=function t(e,n,r,o,i){var s,a=e.content,c=a.childCount;s=i>=0?r.node(o).contentMatchAt(r.indexAfter(o)).matchFragment(a,i>0?1:0,c):e.contentMatchAt(c);if(n>0){var p=t(a.lastChild,n-1,r,o+1,1==c?i-1:-1);a=a.replaceChild(c-1,p)}return e.copy(a.append(s.fillBefore(T.empty,!0)))}(t.lastChild,s-1,n,o+1,1==c?i-1:-1);t=t.replaceChild(c-1,w)}return t=t.append(g),r.depth>o&&(t=t.addToEnd(function t(e,n){var r=e.node(n),o=r.contentMatchAt(0).fillBefore(r.content,!0,e.index(n));e.depth>n&&(o=o.addToEnd(t(e,n+1)));return r.copy(o)}(r,o+1))),t}function pe(t,e,n){var r=ce(n.content,t.node(0),t,e,0,n.openStart,n.openEnd);return r?function(t,e,n){for(;e>0&&n>0&&1==t.childCount;)t=t.firstChild.content,e--,n--;return new R(t,e,n)}(r,n.openStart,e.depth):null}function le(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}Wt.jsonID("removeMark",se),jt.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(r,c,p){if(r.isInline){var l=r.marks;if(!n.isInSet(l)&&p.type.allowsMarkType(n.type)){for(var h=Math.max(c,t),u=Math.min(c+r.nodeSize,e),f=n.addToSet(l),d=0;d<l.length;d++)l[d].isInSet(f)||(s&&s.to==h&&s.mark.eq(l[d])?s.to=u:o.push(s=new se(h,u,l[d])));a&&a.to==h?a.to=u:i.push(a=new ie(h,u,n))}}})),o.forEach((function(t){return r.step(t)})),i.forEach((function(t){return r.step(t)})),this},jt.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,(function(r,s){if(r.isInline){i++;var a=null;if(n instanceof wt){var c=n.isInSet(r.marks);c&&(a=[c])}else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var p=Math.min(s+r.nodeSize,e),l=0;l<a.length;l++){for(var h=a[l],u=void 0,f=0;f<o.length;f++){var d=o[f];d.step==i-1&&h.eq(o[f].style)&&(u=d)}u?(u.to=p,u.step=i):o.push({style:h,from:Math.max(s,t),to:p,step:i})}}})),o.forEach((function(t){return r.step(new se(t.from,t.to,t.style))})),this},jt.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,s=0;s<r.childCount;s++){var a=r.child(s),c=i+a.nodeSize,p=n.matchType(a.type,a.attrs);if(p){n=p;for(var l=0;l<a.marks.length;l++)e.allowsMarkType(a.marks[l].type)||this.step(new se(i,c,a.marks[l]))}else o.push(new Ut(i,c,R.empty));i=c}if(!n.validEnd){var h=n.fillBefore(T.empty,!0);this.replace(i,i,new R(h,0,0))}for(var u=o.length-1;u>=0;u--)this.step(o[u]);return this},jt.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=R.empty);var r=ae(this.doc,t,e,n);return r&&this.step(r),this},jt.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new R(T.from(n),0,0))},jt.prototype.delete=function(t,e){return this.replace(t,e,R.empty)},jt.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var he=function(t){this.open=[];for(var e=0;e<=t.depth;e++){var n=t.node(e),r=n.contentMatchAt(t.indexAfter(e));this.open.push({parent:n,match:r,content:T.empty,wrapper:!1,openEnd:0,depth:e})}this.placed=[]};function ue(t,e,n){var r=t.content;if(e>1){var o=ue(t.firstChild,e-1,1==t.childCount?n-1:0);r=t.content.replaceChild(0,o)}var i=t.type.contentMatch.fillBefore(r,0==n);return t.copy(i.append(r))}function fe(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(fe(i.content,e+1,n,r,i)))}if(e>r){var s=o.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(T.empty,!0))}return t}function de(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;o==e.start(r)&&n.push(r)}return n}he.prototype.placeSlice=function(t,e,n,r,o){if(e>0){var i=t.firstChild,s=this.placeSlice(i.content,Math.max(0,e-1),n&&1==t.childCount?n-1:0,r,i);s.content!=i.content&&(s.content.size?(t=t.replaceChild(0,i.copy(s.content)),e=s.openStart+1):(1==t.childCount&&(n=0),t=t.cutByIndex(1),e=0))}var a=this.placeContent(t,e,n,r,o);if(r>2&&a.size&&0==e){var c=a.content.firstChild,p=1==a.content.childCount;this.placeContent(c.content,0,n&&p?n-1:0,r,c),a=p?T.empty:new R(a.content.cutByIndex(1),0,n)}return a},he.prototype.placeContent=function(t,e,n,r,o){for(var i=0;i<t.childCount;i++){for(var s=t.child(i),a=!1,c=i==t.childCount-1,p=this.open.length-1;p>=0;p--){var l=this.open[p],h=void 0;if(r>1&&(h=l.match.findWrapping(s.type))&&(!o||!h.length||h[h.length-1]!=o.type)){for(;this.open.length-1>p;)this.closeNode();for(var u=0;u<h.length;u++)l.match=l.match.matchType(h[u]),p++,l={parent:h[u].create(),match:h[u].contentMatch,content:T.empty,wrapper:!0,openEnd:0,depth:p+u},this.open.push(l)}var f=l.match.matchType(s.type);if(!f){var d=l.match.fillBefore(T.from(s));if(!d){if(o&&l.match.matchType(o.type))break;continue}for(var m=0;m<d.childCount;m++){var v=d.child(m);this.addNode(l,v,0),f=l.match.matchFragment(v)}}for(;this.open.length-1>p;)this.closeNode();s=s.mark(l.parent.type.allowedMarks(s.marks)),e&&(s=ue(s,e,c?n:0),e=0),this.addNode(l,s,c?n:0),l.match=f,c&&(n=0),a=!0;break}if(!a)break}return this.open.length>1&&(i>0&&i==t.childCount||o&&this.open[this.open.length-1].parent.type==o.type)&&this.closeNode(),new R(t.cutByIndex(i),e,n)},he.prototype.addNode=function(t,e,n){var r,o;t.content=(r=t.content,o=t.openEnd,o?r.replaceChild(r.childCount-1,function t(e,n){var r=e.content;if(n>1){var o=t(e.lastChild,n-1);r=e.content.replaceChild(e.childCount-1,o)}var i=e.contentMatchAt(e.childCount).fillBefore(T.empty,!0);return e.copy(r.append(i))}(r.lastChild,o)):r).addToEnd(e),t.openEnd=n},he.prototype.closeNode=function(){var t=this.open.pop();0==t.content.size||(t.wrapper?this.addNode(this.open[this.open.length-1],t.parent.copy(t.content),t.openEnd+1):this.placed[t.depth]={depth:t.depth,content:t.content,openEnd:t.openEnd})},jt.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(le(r,o,n))return this.step(new Ut(t,e,n));var i=de(r,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,c=r.pos-1;a>0;a--,c--){var p=r.node(a).type.spec;if(p.defining||p.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==c&&i.splice(1,0,-a)}for(var l=i.indexOf(s),h=[],u=n.openStart,f=n.content,d=0;;d++){var m=f.firstChild;if(h.push(m),d==n.openStart)break;f=m.content}u>0&&h[u-1].type.spec.defining&&r.node(l).type!=h[u-1].type?u-=1:u>=2&&h[u-1].isTextblock&&h[u-2].type.spec.defining&&r.node(l).type!=h[u-2].type&&(u-=2);for(var v=n.openStart;v>=0;v--){var g=(v+u+1)%(n.openStart+1),y=h[g];if(y)for(var w=0;w<i.length;w++){var b=i[(w+l)%i.length],k=!0;b<0&&(k=!1,b=-b);var x=r.node(b-1),S=r.index(b-1);if(x.canReplaceWith(S,S,y.type,y.marks))return this.replace(r.before(b),k?o.after(b):e,new R(fe(n.content,0,n.openStart,g),g,n.openEnd))}}for(var M=this.steps.length,O=i.length-1;O>=0&&(this.replace(t,e,n),!(this.steps.length>M));O--){var C=i[O];O<0||(t=r.before(C),e=o.after(C))}return this},jt.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=function(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new R(T.from(n),0,0))},jt.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=de(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var c=1;c<=n.depth&&c<=r.depth;c++)if(t-n.start(c)==n.depth-c&&e>n.end(c)&&r.end(c)-e!=r.depth-c)return this.delete(n.before(c),e);return this.delete(t,e)};var me=Object.create(null),ve=function(t,e,n){this.ranges=n||[new ye(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},ge={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};ge.anchor.get=function(){return this.$anchor.pos},ge.head.get=function(){return this.$head.pos},ge.from.get=function(){return this.$from.pos},ge.to.get=function(){return this.$to.pos},ge.$from.get=function(){return this.ranges[0].$from},ge.$to.get=function(){return this.ranges[0].$to},ge.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},ve.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},ve.prototype.replace=function(t,e){void 0===e&&(e=R.empty);for(var n=e.content.lastChild,r=null,o=0;o<e.openEnd;o++)r=n,n=n.lastChild;for(var i=t.steps.length,s=this.ranges,a=0;a<s.length;a++){var c=s[a],p=c.$from,l=c.$to,h=t.mapping.slice(i);t.replaceRange(h.map(p.pos),h.map(l.pos),a?R.empty:e),0==a&&Ce(t,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}},ve.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],s=i.$from,a=i.$to,c=t.mapping.slice(n),p=c.map(s.pos),l=c.map(a.pos);o?t.deleteRange(p,l):(t.replaceRangeWith(p,l,e),Ce(t,n,e.isInline?-1:1))}},ve.findFrom=function(t,e,n){var r=t.parent.inlineContent?new we(t):Oe(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var o=t.depth-1;o>=0;o--){var i=e<0?Oe(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):Oe(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(i)return i}},ve.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new Se(t.node(0))},ve.atStart=function(t){return Oe(t,t,0,0,1)||new Se(t)},ve.atEnd=function(t){return Oe(t,t,t.content.size,t.childCount,-1)||new Se(t)},ve.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=me[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},ve.jsonID=function(t,e){if(t in me)throw new RangeError("Duplicate use of selection JSON ID "+t);return me[t]=e,e.prototype.jsonID=t,e},ve.prototype.getBookmark=function(){return we.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(ve.prototype,ge),ve.prototype.visible=!0;var ye=function(t,e){this.$from=t,this.$to=e},we=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=R.empty),t.prototype.replace.call(this,e,n),n==R.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new be(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!s)return t.near(r,o);r=s.$head}return n.parent.inlineContent||(0==i?n=r:(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0&&(n=r)),new e(n,r)},Object.defineProperties(e.prototype,n),e}(ve);ve.jsonID("text",we);var be=function(t,e){this.anchor=t,this.head=e};be.prototype.map=function(t){return new be(t.map(this.anchor),t.map(this.head))},be.prototype.resolve=function(t){return we.between(t.resolve(this.anchor),t.resolve(this.head))};var ke=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,s=o.pos,a=n.resolve(s);return i?t.near(a):new e(a)},e.prototype.content=function(){return new R(T.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new xe(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(ve);ke.prototype.visible=!1,ve.jsonID("node",ke);var xe=function(t){this.anchor=t};xe.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new be(r,r):new xe(r)},xe.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&ke.isSelectable(n)?new ke(e):ve.near(e)};var Se=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return Me},e}(ve);ve.jsonID("all",Se);var Me={map:function(){return this},resolve:function(t){return new Se(t)}};function Oe(t,e,n,r,o,i){if(e.inlineContent)return we.create(t,n);for(var s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&ke.isSelectable(a))return ke.create(t,n-(o<0?a.nodeSize:0))}else{var c=Oe(t,a,n+o,o<0?a.childCount:0,o,i);if(c)return c}n+=a.nodeSize*o}}function Ce(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o,i=t.steps[r];if(i instanceof Ut||i instanceof Gt)t.mapping.maps[r].forEach((function(t,e,n,r){null==o&&(o=r)})),t.setSelection(ve.near(t.doc.resolve(o),n))}}var Te=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return I.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||I.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(ve.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(jt);function De(t,e){return e&&t?t.bind(e):t}var Ne=function(t,e,n){this.name=t,this.init=De(e.init,n),this.apply=De(e.apply,n)},Ee=[new Ne("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new Ne("selection",{init:function(t,e){return t.selection||ve.atStart(e.doc)},apply:function(t){return t.selection}}),new Ne("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Ne("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],Ae=function(t,e){var n=this;this.schema=t,this.fields=Ee.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new Ne(t.key,t.spec.state,t))}))},Ie=function(t){this.config=t},ze={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};ze.schema.get=function(){return this.config.schema},ze.plugins.get=function(){return this.config.plugins},Ie.prototype.apply=function(t){return this.applyTransaction(t).state},Ie.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},Ie.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var s=this.config.plugins[i];if(s.spec.appendTransaction){var a=r?r[i].n:0,c=r?r[i].state:this,p=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,c,n);if(p&&n.filterTransaction(p,i)){if(p.setMeta("appendedTransaction",t),!r){r=[];for(var l=0;l<this.config.plugins.length;l++)r.push(l<i?{state:n,n:e.length}:{state:this,n:0})}e.push(p),n=n.applyInner(p),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},Ie.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new Ie(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}for(var i=0;i<Re.length;i++)Re[i](this,t,e);return e},ze.tr.get=function(){return new Te(this)},Ie.create=function(t){for(var e=new Ae(t.schema||t.doc.type.schema,t.plugins),n=new Ie(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},Ie.prototype.reconfigure=function(t){for(var e=new Ae(t.schema||this.schema,t.plugins),n=e.fields,r=new Ie(e),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(t,r)}return r},Ie.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e},Ie.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new Ae(t.schema,t.plugins),o=new Ie(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=Y.fromJSON(t.schema,e.doc);else if("selection"==r.name)o.selection=ve.fromJSON(o.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var i in n){var s=n[i],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,i))return void(o[r.name]=a.fromJSON.call(s,t,e[i],o))}o[r.name]=r.init(t,o)}})),o},Ie.addApplyListener=function(t){Re.push(t)},Ie.removeApplyListener=function(t){var e=Re.indexOf(t);e>-1&&Re.splice(e,1)},Object.defineProperties(Ie.prototype,ze);var Re=[];var Pe=function(t){this.props={},t.props&&function t(e,n,r){for(var o in e){var i=e[o];i instanceof Function?i=i.bind(n):"handleDOMEvents"==o&&(i=t(i,n,{})),r[o]=i}return r}(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:Be("plugin")};Pe.prototype.getState=function(t){return t[this.key]};var _e=Object.create(null);function Be(t){return t in _e?t+"$"+ ++_e[t]:(_e[t]=0,t+"$")}var Ve=function(t){void 0===t&&(t="key"),this.key=Be(t)};Ve.prototype.get=function(t){return t.config.pluginsByKey[this.key]},Ve.prototype.getState=function(t){return t[this.key]};var $e={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Fe=/Edge\/(\d+)/.exec(navigator.userAgent),Le=/MSIE \d/.test(navigator.userAgent),je=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);$e.mac=/Mac/.test(navigator.platform);var qe=$e.ie=!!(Le||je||Fe);$e.ie_version=Le?document.documentMode||6:je?+je[1]:Fe?+Fe[1]:null,$e.gecko=!qe&&/gecko\/(\d+)/i.test(navigator.userAgent),$e.gecko_version=$e.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Je=!qe&&/Chrome\/(\d+)/.exec(navigator.userAgent);$e.chrome=!!Je,$e.chrome_version=Je&&+Je[1],$e.ios=!qe&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),$e.android=/Android \d/.test(navigator.userAgent),$e.webkit=!qe&&"WebkitAppearance"in document.documentElement.style,$e.safari=/Apple Computer/.test(navigator.vendor),$e.webkit_version=$e.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var He=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},We=function(t){var e=t.parentNode;return e&&11==e.nodeType?e.host:e},Ke=function(t,e,n){var r=document.createRange();return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},Ue=function(t,e,n,r){return n&&(Qe(t,e,n,r,-1)||Qe(t,e,n,r,1))},Ge=/^(img|br|input|textarea|hr)$/i;function Qe(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:Ye(t))){var i=t.parentNode;if(1!=i.nodeType||Xe(t)||Ge.test(t.nodeName)||"false"==t.contentEditable)return!1;e=He(t)+(o<0?0:1),t=i}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(o<0?-1:0)]).contentEditable)return!1;e=o<0?Ye(t):0}}}function Ye(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Xe(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var Ze=function(t){var e=t.isCollapsed;return e&&$e.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function tn(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function en(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function nn(t,e){return"number"==typeof t?t:t[e]}function rn(t,e,n){for(var r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,s=i.defaultView,a=n||t.dom;a;a=We(a))if(1==a.nodeType){var c=a==i.body||1!=a.nodeType,p=c?en(s):a.getBoundingClientRect(),l=0,h=0;if(e.top<p.top+nn(r,"top")?h=-(p.top-e.top+nn(o,"top")):e.bottom>p.bottom-nn(r,"bottom")&&(h=e.bottom-p.bottom+nn(o,"bottom")),e.left<p.left+nn(r,"left")?l=-(p.left-e.left+nn(o,"left")):e.right>p.right-nn(r,"right")&&(l=e.right-p.right+nn(o,"right")),(l||h)&&(c?s.scrollBy(l,h):(h&&(a.scrollTop+=h),l&&(a.scrollLeft+=l),e={left:e.left-l,top:e.top-h,right:e.right-l,bottom:e.bottom-h})),c)break}}function on(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=We(t));return e}function sn(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r.dom,i=r.top,s=r.left;o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=s&&(o.scrollLeft=s)}}var an=null;function cn(t,e){for(var n,r,o=2e8,i=0,s=e.top,a=e.top,c=t.firstChild,p=0;c;c=c.nextSibling,p++){var l=void 0;if(1==c.nodeType)l=c.getClientRects();else{if(3!=c.nodeType)continue;l=Ke(c).getClientRects()}for(var h=0;h<l.length;h++){var u=l[h];if(u.top<=s&&u.bottom>=a){s=Math.max(u.bottom,s),a=Math.min(u.top,a);var f=u.left>e.left?u.left-e.left:u.right<e.left?e.left-u.right:0;if(f<o){n=c,o=f,r=f&&3==n.nodeType?{left:u.right<e.left?u.right:u.left,top:e.top}:e,1==c.nodeType&&f&&(i=p+(e.left>=(u.left+u.right)/2?1:0));continue}}!n&&(e.left>=u.right&&e.top>=u.top||e.left>=u.left&&e.top>=u.bottom)&&(i=p+1)}}return n&&3==n.nodeType?function(t,e){for(var n=t.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);var i=hn(r,1);if(i.top!=i.bottom&&pn(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:t,offset:i}:cn(n,r)}function pn(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function ln(t,e){var n,r,o,i,s=t.root;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(o=(n=a).offsetNode,i=n.offset)}catch(t){}if(!o&&s.caretRangeFromPoint){var c=s.caretRangeFromPoint(e.left,e.top);c&&(o=(r=c).startContainer,i=r.startOffset)}var p,l=s.elementFromPoint(e.left,e.top+1);if(!l||!t.dom.contains(1!=l.nodeType?l.parentNode:l)){var h=t.dom.getBoundingClientRect();if(!pn(e,h))return null;if(!(l=function t(e,n,r){var o=e.childNodes.length;if(o&&r.top<r.bottom)for(var i=Math.max(0,Math.min(o-1,Math.floor(o*(n.top-r.top)/(r.bottom-r.top))-2)),s=i;;){var a=e.childNodes[s];if(1==a.nodeType)for(var c=a.getClientRects(),p=0;p<c.length;p++){var l=c[p];if(pn(n,l))return t(a,n,l)}if((s=(s+1)%o)==i)break}return e}(t.dom,e,h)))return null}if(l=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(l,e),o){if($e.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var u,f=o.childNodes[i];"IMG"==f.nodeName&&(u=f.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}o==t.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&e.top>o.lastChild.getBoundingClientRect().bottom?p=t.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(p=function(t,e,n,r){for(var o=-1,i=e;i!=t.dom;){var s=t.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)o=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;o=s.posAfter}}i=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}(t,o,i,e))}null==p&&(p=function(t,e,n){var r=cn(e,n),o=r.node,i=r.offset,s=-1;if(1==o.nodeType&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,i,s)}(t,l,e));var d=t.docView.nearestDesc(l,!0);return{pos:p,inside:d?d.posAtStart-d.border:-1}}function hn(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function un(t,e){var n=t.docView.domFromPos(e),r=n.node,o=n.offset;if(3==r.nodeType&&($e.chrome||$e.gecko)){var i=hn(Ke(r,o,o),0);if($e.gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){var s=hn(Ke(r,o-1,o-1),-1);if(Math.abs(s.left-i.left)<1&&s.top==i.top){var a=hn(Ke(r,o,o+1),-1);return fn(a,a.left<s.left)}}return i}if(1==r.nodeType&&!t.state.doc.resolve(e).parent.inlineContent){var c,p=!0;if(o<r.childNodes.length){var l=r.childNodes[o];1==l.nodeType&&(c=l.getBoundingClientRect())}if(!c&&o){var h=r.childNodes[o-1];1==h.nodeType&&(c=h.getBoundingClientRect(),p=!1)}return function(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}(c||r.getBoundingClientRect(),p)}for(var u=-1;u<2;u+=2)if(u<0&&o){var f=void 0,d=3==r.nodeType?Ke(r,o-1,o):3==(f=r.childNodes[o-1]).nodeType?Ke(f):1==f.nodeType&&"BR"!=f.nodeName?f:null;if(d){var m=hn(d,1);if(m.top<m.bottom)return fn(m,!1)}}else if(u>0&&o<Ye(r)){var v=void 0,g=3==r.nodeType?Ke(r,o,o+1):3==(v=r.childNodes[o]).nodeType?Ke(v):1==v.nodeType?v:null;if(g){var y=hn(g,-1);if(y.top<y.bottom)return fn(y,!0)}}return fn(hn(3==r.nodeType?Ke(r):r,0),!1)}function fn(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function dn(t,e,n){var r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o.focus()}}var mn=/[\u0590-\u08ac]/;var vn=null,gn=null,yn=!1;function wn(t,e,n){return vn==e&&gn==n?yn:(vn=e,gn=n,yn="up"==n||"down"==n?function(t,e,n){var r=e.selection,o="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return dn(t,e,(function(){for(var e=t.docView.domFromPos(o.pos).node;;){var r=t.docView.nearestDesc(e,!0);if(!r)break;if(r.node.isBlock){e=r.dom;break}e=r.dom.parentNode}for(var i=un(t,o.pos),s=e.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=Ke(s,0,s.nodeValue.length).getClientRects()}for(var c=0;c<a.length;c++){var p=a[c];if(p.bottom>p.top&&("up"==n?p.bottom<i.top+1:p.top>i.bottom-1))return!1}}return!0}))}(t,e,n):function(t,e,n){var r=e.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=getSelection();return mn.test(r.parent.textContent)&&a.modify?dn(t,e,(function(){var e=a.getRangeAt(0),o=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var c=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||o==a.focusNode&&i==a.focusOffset;return a.removeAllRanges(),a.addRange(e),null!=s&&(a.caretBidiLevel=s),c})):"left"==n||"backward"==n?i:s}(t,e,n))}var bn=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},kn={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};bn.prototype.matchesWidget=function(){return!1},bn.prototype.matchesMark=function(){return!1},bn.prototype.matchesNode=function(){return!1},bn.prototype.matchesHack=function(){return!1},kn.beforePosition.get=function(){return!1},bn.prototype.parseRule=function(){return null},bn.prototype.stopEvent=function(){return!1},kn.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},kn.border.get=function(){return 0},bn.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},bn.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},kn.posBefore.get=function(){return this.parent.posBeforeChild(this)},kn.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},kn.posAfter.get=function(){return this.posBefore+this.size},kn.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},bn.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,o;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,s;if(t==this.contentDOM)i=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&(!(s=i.pmViewDesc)||s.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}var a;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!1;break}if(c.parentNode.firstChild!=c)break}if(null==a&&e==t.childNodes.length)for(var p=t;;p=p.parentNode){if(p==this.dom){a=!0;break}if(p.parentNode.lastChild!=p)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},bn.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(t):o.nodeDOM==t))return o;n=!1}}},bn.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},bn.prototype.posFromDOM=function(t,e,n){for(var r=t;;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}},bn.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<o)return r.descAt(t-n-r.border);n=o}},bn.prototype.domFromPos=function(t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var e=0,n=0;;n++){if(e==t){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:He(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+t);var r=this.children[n],o=e+r.size;if(t<o)return r.domFromPos(t-e-r.border);e=o}},bn.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,s=0;;s++){var a=this.children[s],c=i+a.size;if(-1==r&&t<=c){var p=i+a.border;if(t>=p&&e<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,p);t=i;for(var l=s;l>0;l--){var h=this.children[l-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){r=He(h.dom)+1;break}t-=h.size}-1==r&&(r=0)}if(r>-1&&e<=c){e=c;for(var u=s+1;u<this.children.length;u++){var f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=He(f.dom);break}e+=f.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}},bn.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},bn.prototype.domAfterPos=function(t){var e=this.domFromPos(t),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},bn.prototype.setSelection=function(t,e,n,r){for(var o=Math.min(t,e),i=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var c=this.children[s],p=a+c.size;if(o>a&&i<p)return c.setSelection(t-a-c.border,e-a-c.border,n,r);a=p}var l=this.domFromPos(t),h=this.domFromPos(e),u=n.getSelection(),f=document.createRange();if(r||!Ue(l.node,l.offset,u.anchorNode,u.anchorOffset)||!Ue(h.node,h.offset,u.focusNode,u.focusOffset)){if(u.extend)f.setEnd(l.node,l.offset),f.collapse(!1);else{if(t>e){var d=l;l=h,h=d}f.setEnd(h.node,h.offset),f.setStart(l.node,l.offset)}u.removeAllRanges(),u.addRange(f),u.extend&&u.extend(h.node,h.offset)}},bn.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},kn.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},bn.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?t<=i&&e>=n:t<i&&e>n){var s=n+o.border,a=i-o.border;if(t>=s&&e<=a)return this.dirty=t==n||e==i?2:1,void(t!=s||e!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(t-s,e-s):o.dirty=3);o.dirty=3}n=i}this.dirty=2},bn.prototype.markParentsDirty=function(){for(var t=this.parent;t;t=t.parent){t.dirty<2&&(t.dirty=2)}},Object.defineProperties(bn.prototype,kn);var xn=[],Sn=function(t){function e(e,n,r,o){var i,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,xn,s,null),this.widget=n,i=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},Object.defineProperties(e.prototype,n),e}(bn),Mn=function(t){function e(e,n,r,o){t.call(this,e,xn,n,null),this.textDOM=r,this.text=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(bn),On=function(t){function e(e,n,r,o){t.call(this,e,[],r,o),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,o){var i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return s&&s.dom||(s=zt.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,n,r){var o=e.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=Ln(i,n,s,r)),t>0&&(i=Ln(i,0,t,r));for(var a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o},e}(bn),Cn=function(t){function e(e,n,r,o,i,s,a,c,p){t.call(this,e,n.isLeaf?xn:[],i,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=o,s&&this.updateChildren(c,p)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0}};return e.create=function(t,n,r,o,i,s){var a,c,p=i.nodeViews[n.type.name],l=p&&p(n,i,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:s}),r),h=l&&l.dom,u=l&&l.contentDOM;if(n.isText)if(h){if(3!=h.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else h=document.createTextNode(n.text);else h||(h=(a=zt.renderSpec(document,n.type.spec.toDOM(n))).dom,u=a.contentDOM);u||n.isText||"BR"==h.nodeName||(h.hasAttribute("contenteditable")||(h.contentEditable=!1),n.type.spec.draggable&&(h.draggable=!0));var f=h;return h=_n(h,r,n),l?c=new En(t,n,r,o,h,u,f,l,i,s+1):n.isText?new Dn(t,n,r,o,h,f,i):new e(t,n,r,o,h,u,f,i,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?T.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&Bn(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,o=e,i=r&&t.composing&&this.localCompositionNode(t,e),s=new $n(this,i&&i.node);!function(t,e,n,r){var o=e.locals(t),i=0;if(0==o.length){for(var s=0;s<t.childCount;s++){var a=t.child(s);r(a,o,e.forChild(i,a),s),i+=a.nodeSize}return}for(var c=0,p=[],l=null,h=0;;){if(c<o.length&&o[c].to==i){for(var u=o[c++],f=void 0;c<o.length&&o[c].to==i;)(f||(f=[u])).push(o[c++]);if(f){f.sort(Fn);for(var d=0;d<f.length;d++)n(f[d],h,!!l)}else n(u,h,!!l)}var m=void 0,v=void 0;if(l)v=-1,m=l,l=null;else{if(!(h<t.childCount))break;v=h,m=t.child(h++)}for(var g=0;g<p.length;g++)p[g].to<=i&&p.splice(g--,1);for(;c<o.length&&o[c].from==i;)p.push(o[c++]);var y=i+m.nodeSize;if(m.isText){var w=y;c<o.length&&o[c].from<w&&(w=o[c].from);for(var b=0;b<p.length;b++)p[b].to<w&&(w=p[b].to);w<y&&(l=m.cut(w-i),m=m.cut(0,w-i),y=w,v=-1)}r(m,p.length?p.slice():xn,e.forChild(i,m),v),i=y}}(this.node,this.innerDeco,(function(e,i,a){e.spec.marks?s.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!a&&s.syncToMarks(i==n.node.childCount?I.none:n.node.child(i).marks,r,t),s.placeWidget(e,t,o)}),(function(e,n,i,a){s.syncToMarks(e.marks,r,t),s.findNodeMatch(e,n,i,a)||s.updateNextNode(e,n,i,t,a)||s.addNode(e,n,i,t,o),o+=e.nodeSize})),s.syncToMarks(xn,r,t),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(i&&this.protectLocalComposition(t,i),this.renderChildren())},e.prototype.renderChildren=function(){!function t(e,n){for(var r=e.firstChild,o=0;o<n.length;o++){var i=n[o],s=i.dom;if(s.parentNode==e){for(;s!=r;)r=Vn(r);r=r.nextSibling}else e.insertBefore(s,r);if(i instanceof On){var a=r?r.previousSibling:e.lastChild;t(i.contentDOM,i.children),r=a?a.nextSibling:e.firstChild}}for(;r;)r=Vn(r)}(this.contentDOM,this.children),$e.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom)},e.prototype.localCompositionNode=function(t,e){var n=t.state.selection,r=n.from,o=n.to;if(!(!(t.state.selection instanceof we)||r<e||o>e+this.node.content.size)){var i=t.root.getSelection(),s=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=Ye(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(i.focusNode,i.focusOffset);if(s&&this.dom.contains(s.parentNode)){var a=s.nodeValue,c=function(t,e,n,r){for(var o=0,i=0;o<t.childCount&&i<=r;){var s=t.child(o++),a=i;if(i+=s.nodeSize,s.isText){for(var c=s.text;o<t.childCount;){var p=t.child(o++);if(i+=p.nodeSize,!p.isText)break;c+=p.text}if(i>=n){var l=c.lastIndexOf(e,r-a);if(l>=0&&l+e.length+a>=n)return a+l}}}return-1}(this.node.content,a,r-e,o-e);return c<0?null:{node:s,pos:c,text:a}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,o=e.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var s=new Mn(this,i,n,o);t.compositionNodes.push(s),this.children=Ln(this.children,r,r+o.length,t,s)}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!Bn(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Rn(this.dom,this.nodeDOM,zn(this.outerDeco,this.node,e),zn(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!1)},Object.defineProperties(e.prototype,n),e}(bn);function Tn(t,e,n,r,o){return _n(r,e,t),new Cn(null,t,e,n,r,r,r,o,0)}var Dn=function(t){function e(e,n,r,o,i,s,a){t.call(this,e,n,r,o,i,null,s,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{skip:this.nodeDOM.parentNode||!0}},e.prototype.update=function(t,e){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text),this.node=t,this.dirty=0,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var o=this.node.cut(t,n),i=document.createTextNode(o.text);return new e(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},e}(Cn),Nn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return 0==this.dirty},e}(bn),En=function(t){function e(e,n,r,o,i,s,a,c,p,l){t.call(this,e,n,r,o,i,s,a,p,l),this.spec=c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(e,n);return i&&this.updateInner(e,n,r,o),i}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,o)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(Cn);function An(t){t&&(this.nodeName=t)}An.prototype=Object.create(null);var In=[new An];function zn(t,e,n){if(0==t.length)return In;for(var r=n?In[0]:new An,o=[r],i=0;i<t.length;i++){var s=t[i].type.attrs,a=r;if(s)for(var c in s.nodeName&&o.push(a=new An(s.nodeName)),s){var p=s[c];null!=p&&(n&&1==o.length&&o.push(a=r=new An(e.isInline?"span":"div")),"class"==c?a.class=(a.class?a.class+" ":"")+p:"style"==c?a.style=(a.style?a.style+";":"")+p:"nodeName"!=c&&(a[c]=p))}}return o}function Rn(t,e,n,r){if(n==In&&r==In)return e;for(var o=e,i=0;i<r.length;i++){var s=r[i],a=n[i];if(i){var c=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(c=o.parentNode)&&c.tagName.toLowerCase()==s.nodeName?o=c:((c=document.createElement(s.nodeName)).appendChild(o),a=In[0],o=c)}Pn(o,a||In[0],s)}return o}function Pn(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var i=e.class?e.class.split(" "):xn,s=n.class?n.class.split(" "):xn,a=0;a<i.length;a++)-1==s.indexOf(i[a])&&t.classList.remove(i[a]);for(var c=0;c<s.length;c++)-1==i.indexOf(s[c])&&t.classList.add(s[c])}if(e.style!=n.style){if(e.style)for(var p,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;p=l.exec(e.style);)t.style.removeProperty(p[1]);n.style&&(t.style.cssText+=n.style)}}function _n(t,e,n){return Rn(t,t,In,zn(e,n,1!=t.nodeType))}function Bn(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Vn(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var $n=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1;var n=function(t,e){for(var n=[],r=t.childCount,o=e.length-1;r>0&&o>=0;o--){var i=e[o],s=i.node;if(s){if(s!=t.child(r-1))break;n.push(i),--r}}return{nodes:n.reverse(),offset:r}}(t.node.content,t.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function Fn(t,e){return t.type.side-e.type.side}function Ln(t,e,n,r,o){for(var i=[],s=0,a=0;s<t.length;s++){var c=t[s],p=a,l=a+=c.size;p>=n||l<=e?i.push(c):(p<e&&i.push(c.slice(0,e-p,r)),o&&(i.push(o),o=null),l>n&&i.push(c.slice(n-p,c.size,r)))}return i}function jn(t,e){var n=t.selection,r=n.$anchor,o=n.$head,i=e>0?r.max(o):r.min(o),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&ve.findFrom(s,e)}function qn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Jn(t,e,n){var r=t.state.selection;if(r instanceof we){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var o=jn(t.state,e);return!!(o&&o instanceof ke)&&qn(t,o)}var i,s=r.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText)return!1;var c=e<0?s.pos-a.nodeSize:s.pos;return!!(a.isAtom||(i=t.docView.descAt(c))&&!i.contentDOM)&&(ke.isSelectable(a)?qn(t,new ke(e<0?t.state.doc.resolve(s.pos-a.nodeSize):s)):!!$e.webkit&&qn(t,new we(t.state.doc.resolve(e<0?c:c+a.nodeSize))))}if(r instanceof ke&&r.node.isInline)return qn(t,new we(e>0?r.$to:r.$from));var p=jn(t.state,e);return!!p&&qn(t,p)}function Hn(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Wn(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Kn(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var o,i,s=!1;for($e.gecko&&1==n.nodeType&&r<Hn(n)&&Wn(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var a=n.childNodes[r-1];if(Wn(a))o=n,i=--r;else{if(3!=a.nodeType)break;r=(n=a).nodeValue.length}}else{if(Gn(n))break;for(var c=n.previousSibling;c&&Wn(c);)o=n.parentNode,i=He(c),c=c.previousSibling;if(c)r=Hn(n=c);else{if((n=n.parentNode)==t.dom)break;r=0}}s?Qn(t,e,n,r):o&&Qn(t,e,o,i)}}function Un(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var o,i,s=Hn(n);;)if(r<s){if(1!=n.nodeType)break;if(!Wn(n.childNodes[r]))break;o=n,i=++r}else{if(Gn(n))break;for(var a=n.nextSibling;a&&Wn(a);)o=a.parentNode,i=He(a)+1,a=a.nextSibling;if(a)r=0,s=Hn(n=a);else{if((n=n.parentNode)==t.dom)break;r=s=0}}o&&Qn(t,e,o,i)}}function Gn(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Qn(t,e,n,r){if(Ze(e)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection()}function Yn(t,e,n){var r=t.state.selection;if(r instanceof we&&!r.empty||n.indexOf("s")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=jn(t.state,e);if(s&&s instanceof ke)return qn(t,s)}if(!o.parent.inlineContent){var a=ve.findFrom(e<0?o:i,e);return!a||qn(t,a)}return!1}function Xn(t,e){if(!(t.state.selection instanceof we))return!0;var n=t.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),t.dispatch(a),!0}return!1}function Zn(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function tr(t,e){var n=e.keyCode,r=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||$e.mac&&72==n&&"c"==r?Xn(t,-1)||Kn(t):46==n||$e.mac&&68==n&&"c"==r?Xn(t,1)||Un(t):13==n&&!$e.ios||27==n||(37==n?Jn(t,-1,r)||Kn(t):39==n?Jn(t,1,r)||Un(t):38==n?Yn(t,-1,r)||Kn(t):40==n?function(t){if($e.chrome&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;Zn(t,o,!0),setTimeout((function(){return Zn(t,o,!1)}),20)}}}(t)||Yn(t,1,r)||Un(t):r==($e.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function er(t,e){var n,r,o=t.root.getSelection(),i=t.state.doc,s=t.docView.nearestDesc(o.focusNode),a=s&&0==s.size,c=t.docView.posFromDOM(o.focusNode,o.focusOffset),p=i.resolve(c);if(Ze(o)){for(n=p;s&&!s.node;)s=s.parent;if(s&&s.node.isAtom&&ke.isSelectable(s.node)&&s.parent&&(!s.node.isInline||!function(t,e,n){for(var r=0==e,o=e==Ye(t);r||o;){if(t==n)return!0;var i=He(t);if(!(t=t.parentNode))return!1;r=r&&0==i,o=o&&i==Ye(t)}}(o.focusNode,o.focusOffset,s.dom))){var l=s.posBefore;r=new ke(c==l?p:i.resolve(l))}}else n=i.resolve(t.docView.posFromDOM(o.anchorNode,o.anchorOffset));r||(r=pr(t,n,p,"pointer"==e||t.state.selection.head<p.pos&&!a?1:-1));return r}function nr(t,e){var n=t.state.selection;if(ar(t,n),t.editable?t.hasFocus():lr(t)&&document.activeElement.contains(t.dom)){if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,He(r)+1):n.setEnd(r,0);n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&$e.ie&&$e.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{var r,o,i=n.anchor,s=n.head;!rr||n instanceof we||(n.$from.parent.inlineContent||(r=or(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=or(t,n.to))),t.docView.setSelection(i,s,t.root,e),rr&&(r&&sr(r),o&&sr(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):i!=s&&(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),t.dom.classList.remove("ProseMirror-hideselection"))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}$n.prototype.getPreMatch=function(t){return t>=this.preMatchOffset?this.preMatched[t-this.preMatchOffset]:null},$n.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},$n.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},$n.prototype.syncToMarks=function(t,e,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,t.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[o])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var c=On.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}},$n.prototype.findNodeMatch=function(t,e,n,r){var o=-1,i=r<0?void 0:this.getPreMatch(r),s=this.top.children;if(i&&i.matchesNode(t,e,n))o=s.indexOf(i);else for(var a=this.index,c=Math.min(s.length,a+5);a<c;a++){var p=s[a];if(p.matchesNode(t,e,n)&&this.preMatched.indexOf(p)<0){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},$n.prototype.updateNextNode=function(t,e,n,r,o){if(this.index==this.top.children.length)return!1;var i=this.top.children[this.index];if(i instanceof Cn){var s=this.preMatched.indexOf(i);if(s>-1&&s+this.preMatchOffset!=o)return!1;var a=i.dom;if(!(this.lock&&(a==this.lock||1==a.nodeType&&a.contains(this.lock.parentNode))&&!(t.isText&&i.node&&i.node.isText&&i.nodeDOM.nodeValue==t.text&&3!=i.dirty&&Bn(e,i.outerDeco)))&&i.update(t,e,n,r))return i.dom!=a&&(this.changed=!0),this.index++,!0}return!1},$n.prototype.addNode=function(t,e,n,r,o){this.top.children.splice(this.index++,0,Cn.create(this.top,t,e,n,r,o)),this.changed=!0},$n.prototype.placeWidget=function(t,e,n){if(this.index<this.top.children.length&&this.top.children[this.index].matchesWidget(t))this.index++;else{var r=new Sn(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}},$n.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof On;)t=t.children[t.children.length-1];if(!t||!(t instanceof Dn)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new Nn(this.top,xn,e,null)),this.changed=!0}};var rr=$e.safari||$e.chrome&&$e.chrome_version<63;function or(t,e){var n=t.docView.domFromPos(e),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if($e.safari&&i&&"false"==i.contentEditable)return ir(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return ir(i);if(s)return ir(s)}}function ir(t){return t.contentEditable="true",$e.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function sr(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function ar(t,e){if(e instanceof ke){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(cr(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else cr(t)}function cr(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function pr(t,e,n,r){return t.someProp("createSelectionBetween",(function(r){return r(t,e,n)}))||we.between(e,n,r)}function lr(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function hr(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if($e.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||$e.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function ur(t,e,n,r,o){if(e<0){var i=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,s=er(t,i);if(!t.state.selection.eq(s)){var a=t.state.tr.setSelection(s);"pointer"==i?a.setMeta("pointer",!0):"key"==i&&a.scrollIntoView(),t.dispatch(a)}}else{var c=t.state.doc.resolve(e),p=c.sharedDepth(n);e=c.before(p+1),n=t.state.doc.resolve(n).after(p+1);var l,h,u=t.state.selection,f=function(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,i=r.fromOffset,s=r.toOffset,a=r.from,c=r.to,p=t.root.getSelection(),l=null,h=p.anchorNode;if(h&&t.dom.contains(1==h.nodeType?h:h.parentNode)&&(l=[{node:h,offset:p.anchorOffset}],Ze(p)||l.push({node:p.focusNode,offset:p.focusOffset})),$e.chrome&&8===t.lastKeyCode)for(var u=s;u>i;u--){var f=o.childNodes[u-1],d=f.pmViewDesc;if("BR"==f.nodeType&&!d){s=u;break}if(!d||d.size)break}var m=t.state.doc,v=t.someProp("domParser")||xt.fromSchema(t.state.schema),g=m.resolve(a),y=null,w=v.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:s,preserveWhitespace:!g.parent.type.spec.code||"full",editableContent:!0,findPositions:l,ruleFromNode:hr,context:g});if(l&&null!=l[0].pos){var b=l[0].pos,k=l[1]&&l[1].pos;null==k&&(k=b),y={anchor:b+a,head:k+a}}return{doc:w,sel:y,from:a,to:c}}(t,e,n),d=t.state.doc,m=d.slice(f.from,f.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(l=t.state.selection.to,h="end"):(l=t.state.selection.from,h="start"),t.lastKeyCode=null;var v=function(t,e,n,r,o){var i=t.findDiffStart(e,n);if(null==i)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,c=s.b;if("end"==o){var p=Math.max(0,i-Math.min(a,c));r-=a+p-i}if(a<i&&t.size<e.size){c=(i-=r<=i&&r>=a?i-r:0)+(c-a),a=i}else if(c<i){a=(i-=r<=i&&r>=c?i-r:0)+(a-c),c=i}return{start:i,endA:a,endB:c}}(m.content,f.doc.content,f.from,l,h);if(!v){if(!(r&&u instanceof we&&!u.empty&&u.$head.sameParent(u.$anchor))||t.composing||f.sel&&f.sel.anchor!=f.sel.head){if(f.sel){var g=fr(t,t.state.doc,f.sel);g&&!g.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(g))}return}v={start:u.from,endA:u.to,endB:u.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof we&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),$e.ie&&$e.ie_version<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>f.from&&"  "==f.doc.textBetween(v.start-f.from-1,v.start-f.from+1)&&(v.start--,v.endA--,v.endB--);var y,w=f.doc.resolveNoCache(v.start-f.from),b=f.doc.resolveNoCache(v.endB-f.from);if(($e.ios&&t.lastIOSEnter>Date.now()-100&&(!w.sameParent(b)||o.some((function(t){return"DIV"==t.nodeName})))||!w.sameParent(b)&&w.pos<f.doc.content.size&&(y=ve.findFrom(f.doc.resolve(w.pos+1),1,!0))&&y.head==b.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,tn(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>v.start&&function(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||dr(r,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=t.resolve(dr(i,!0,!0));if(!s.parent.isTextblock||s.pos>n||dr(s,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(d,v.start,v.endA,w,b)&&t.someProp("handleKeyDown",(function(e){return e(t,tn(8,"Backspace"))})))$e.android&&$e.chrome&&t.domObserver.suppressSelectionUpdates();else{var k,x,S,M,O=v.start,C=v.endA;if(w.sameParent(b)&&w.parent.inlineContent)if(w.pos==b.pos)$e.ie&&$e.ie_version<=11&&0==w.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return nr(t)}),20)),k=t.state.tr.delete(O,C),x=d.resolve(v.start).marksAcross(d.resolve(v.endA));else if(v.endA==v.endB&&(M=d.resolve(v.start))&&(S=function(t,e){for(var n,r,o,i=t.firstChild.marks,s=e.firstChild.marks,a=i,c=s,p=0;p<s.length;p++)a=s[p].removeFromSet(a);for(var l=0;l<i.length;l++)c=i[l].removeFromSet(c);if(1==a.length&&0==c.length)r=a[0],n="add",o=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=a.length||1!=c.length)return null;r=c[0],n="remove",o=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var h=[],u=0;u<e.childCount;u++)h.push(o(e.child(u)));if(T.from(h).eq(t))return{mark:r,type:n}}(w.parent.content.cut(w.parentOffset,b.parentOffset),M.parent.content.cut(M.parentOffset,v.endA-M.start()))))k=t.state.tr,"add"==S.type?k.addMark(O,C,S.mark):k.removeMark(O,C,S.mark);else if(w.parent.child(w.index()).isText&&w.index()==b.index()-(b.textOffset?0:1)){var D=w.parent.textBetween(w.parentOffset,b.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,O,C,D)})))return;k=t.state.tr.insertText(D,O,C)}if(k||(k=t.state.tr.replace(O,C,f.doc.slice(v.start-f.from,v.endB-f.from))),f.sel){var N=fr(t,k.doc,f.sel);N&&!($e.chrome&&$e.android&&t.composing&&N.empty&&N.head==O||$e.ie&&N.empty&&N.head==O)&&k.setSelection(N)}x&&k.ensureMarks(x),t.dispatch(k.scrollIntoView())}}}function fr(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:pr(t,e.resolve(n.anchor),e.resolve(n.head))}function dr(t,e,n){for(var r=t.depth,o=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n)for(var i=t.node(r).maybeChild(t.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function mr(t,e){for(var n=[],r=e.content,o=e.openStart,i=e.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var s=r.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),r=s.content}var a=t.someProp("clipboardSerializer")||zt.fromSchema(t.state.schema),c=kr(),p=c.createElement("div");p.appendChild(a.serializeFragment(r,{document:c}));for(var l,h=p.firstChild;h&&1==h.nodeType&&(l=wr[h.nodeName.toLowerCase()]);){for(var u=l.length-1;u>=0;u--){for(var f=c.createElement(l[u]);p.firstChild;)f.appendChild(p.firstChild);p.appendChild(f)}h=p.firstChild}return h&&1==h.nodeType&&h.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n)),{dom:p,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function vr(t,e,n,r,o){var i,s,a=o.parent.type.spec.code;if(!n&&!e)return null;var c=e&&(r||a||!n);if(c){if(t.someProp("transformPastedText",(function(t){e=t(e)})),a)return new R(T.from(t.state.schema.text(e)),0,0);var p=t.someProp("clipboardTextParser",(function(t){return t(e,o)}));p?s=p:(i=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){i.appendChild(document.createElement("p")).textContent=t})))}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),i=function(t){var e=/(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=kr().createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(t),i=0;(n=o&&wr[o[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""),i=n.length);r.innerHTML=t;for(var s=0;s<i;s++)r=r.firstChild;return r}(n);var l=i&&i.querySelector("[data-pm-slice]"),h=l&&/^(\d+) (\d+) (.*)/.exec(l.getAttribute("data-pm-slice"));if(!s){var u=t.someProp("clipboardParser")||t.someProp("domParser")||xt.fromSchema(t.state.schema);s=u.parseSlice(i,{preserveWhitespace:!(!c&&!h),context:o})}return s=h?function(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var o=t.content,i=t.openStart,s=t.openEnd,a=n.length-2;a>=0;a-=2){var c=r.nodes[n[a]];if(!c||c.hasRequiredAttrs())break;o=T.from(c.create(n[a+1],o)),i++,s++}return new R(o,i,s)}(function(t,e,n){e<t.openStart&&(t=new R(yr(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd));n<t.openEnd&&(t=new R(yr(t.content,1,n,t.openEnd,0,0),t.openStart,n));return t}(s,+h[1],+h[2]),h[3]):R.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n).contentMatchAt(e.index(n)),o=void 0,i=[];if(t.forEach((function(t){if(i){var e,n=r.findWrapping(t.type);if(!n)return i=null;if(e=i.length&&o.length&&function t(e,n,r,o,i){if(i<e.length&&i<n.length&&e[i]==n[i]){var s=t(e,n,r,o.lastChild,i+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(i==e.length-1?r.type:e[i+1]))return o.copy(o.content.append(T.from(gr(r,e,i+1))))}}(n,o,t,i[i.length-1],0))i[i.length-1]=e;else{i.length&&(i[i.length-1]=function t(e,n){if(0==n)return e;var r=e.content.replaceChild(e.childCount-1,t(e.lastChild,n-1)),o=e.contentMatchAt(e.childCount).fillBefore(T.empty,!0);return e.copy(r.append(o))}(i[i.length-1],o.length));var s=gr(t,n);i.push(s),r=r.matchType(s.type,s.attrs),o=n}}})),i)return{v:T.from(i)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}(s.content,o),!1),t.someProp("transformPasted",(function(t){s=t(s)})),s}function gr(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,T.from(t));return t}function yr(t,e,n,r,o,i){var s=e<0?t.firstChild:t.lastChild,a=s.content;return o<r-1&&(a=yr(a,e,n,r,o+1,i)),o>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(T.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}var wr={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},br=null;function kr(){return br||(br=document.implementation.createHTMLDocument("title"))}var xr={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Sr=$e.ie&&$e.ie_version<=11,Mr=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Mr.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},Mr.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var Or=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=!1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);$e.ie&&$e.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Mr,Sr&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Or.prototype.flushSoon=function(){var t=this;this.flushingSoon||(this.flushingSoon=!0,window.setTimeout((function(){t.flushingSoon=!1,t.flush()}),20))},Or.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,xr),Sr&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Or.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}Sr&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Or.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Or.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Or.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},Or.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&lr(t)){var t;if(this.suppressingSelectionUpdates)return nr(this.view);if($e.ie&&$e.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&Ue(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},Or.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Or.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},Or.prototype.flush=function(){if(this.view.docView&&!this.flushingSoon){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&lr(this.view)&&!this.ignoreSelectionChange(e),r=-1,o=-1,i=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var c=this.registerMutation(t[a],s);c&&(r=r<0?c.from:Math.min(c.from,r),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&!this.view.composing&&(i=!0))}if($e.gecko&&s.length>1){var p=s.filter((function(t){return"BR"==t.nodeName}));if(2==p.length){var l=p[0],h=p[1];l.parentNode&&l.parentNode.parentNode==h.parentNode?h.remove():l.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(t){if(Cr)return;Cr=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,o,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||nr(this.view))}},Or.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){var r=t.previousSibling,o=t.nextSibling;if($e.ie&&$e.ie_version<=11&&t.addedNodes.length)for(var i=0;i<t.addedNodes.length;i++){var s=t.addedNodes[i],a=s.previousSibling,c=s.nextSibling;(!a||Array.prototype.indexOf.call(t.addedNodes,a)<0)&&(r=a),(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(o=c)}for(var p=r&&r.parentNode==t.target?He(r)+1:0,l=n.localPosFromDOM(t.target,p,-1),h=o&&o.parentNode==t.target?He(o):t.target.childNodes.length,u=0;u<t.addedNodes.length;u++)e.push(t.addedNodes[u]);return{from:l,to:n.localPosFromDOM(t.target,h,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var Cr=!1;var Tr={},Dr={};function Nr(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function Er(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return Ar(t,e)})}))}function Ar(t,e){return t.someProp("handleDOMEvents",(function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function Ir(t){return{left:t.clientX,top:t.clientY}}function zr(t,e,n,r,o){if(-1==r)return!1;for(var i=t.state.doc.resolve(r),s=function(r){if(t.someProp(e,(function(e){return r>i.depth?e(t,n,i.nodeAfter,i.before(r),o,!0):e(t,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},a=i.depth+1;a>0;a--){var c=s(a);if(c)return c.v}return!1}function Rr(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function Pr(t,e,n,r,o){return zr(t,"handleClickOn",e,n,r)||t.someProp("handleClick",(function(n){return n(t,e,r)}))||(o?function(t,e){if(-1==e)return!1;var n,r,o=t.state.selection;o instanceof ke&&(n=o.node);for(var i=t.state.doc.resolve(e),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s);if(ke.isSelectable(a)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break}}return null!=r&&(Rr(t,ke.create(t.state.doc,r),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&ke.isSelectable(r))&&(Rr(t,new ke(n),"pointer"),!0)}(t,n))}function _r(t,e,n,r){return zr(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(function(n){return n(t,e,r)}))}function Br(t,e,n,r){return zr(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",(function(n){return n(t,e,r)}))||function(t,e){var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(Rr(t,we.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(e),o=r.depth+1;o>0;o--){var i=o>r.depth?r.nodeAfter:r.node(o),s=r.before(o);if(i.inlineContent)Rr(t,we.create(n,s+1,s+1+i.content.size),"pointer");else{if(!ke.isSelectable(i))continue;Rr(t,ke.create(n,s),"pointer")}return!0}}(t,n)}function Vr(t){return Jr(t)}Dr.keydown=function(t,e){t.shiftKey=16==e.keyCode||e.shiftKey,Lr(t,e)||(t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!$e.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey?t.someProp("handleKeyDown",(function(n){return n(t,e)}))||tr(t,e)?e.preventDefault():Nr(t,"key"):t.lastIOSEnter=Date.now())},Dr.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},Dr.keypress=function(t,e){if(!(Lr(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||$e.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof we&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,r)}))||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var $r=$e.mac?"metaKey":"ctrlKey";Tr.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=Vr(t),r=Date.now(),o="singleClick";r-t.lastClick.time<500&&function(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(e,t.lastClick)&&!e[$r]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(Ir(e));i&&("singleClick"==o?t.mouseDown=new Fr(t,i,e,n):("doubleClick"==o?_r:Br)(t,i.pos,i.inside,e)?e.preventDefault():Nr(t,"pointer"))};var Fr=function(t,e,n,r){var o,i,s=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=r,this.selectNode=n[$r],this.allowDefault=n.shiftKey,e.inside>-1)o=t.state.doc.nodeAt(e.inside),i=e.inside;else{var a=t.state.doc.resolve(e.pos);o=a.parent,i=a.depth?a.before():0}this.mightDrag=null;var c=r?null:n.target,p=c?t.docView.nearestDesc(c,!0):null;this.target=p?p.dom:null,(o.type.spec.draggable&&!1!==o.type.spec.selectable||t.state.selection instanceof ke&&i==t.state.selection.from)&&(this.mightDrag={node:o,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&$e.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Nr(t,"pointer")};function Lr(t,e){return!!t.composing||!!($e.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}Fr.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!1),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},Fr.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Ir(t))),this.allowDefault||!e?Nr(this.view,"pointer"):Pr(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():!this.flushed&&(!$e.chrome||this.view.state.selection instanceof we||e.pos!=this.view.state.selection.from&&e.pos!=this.view.state.selection.to)?Nr(this.view,"pointer"):(Rr(this.view,ve.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault())}},Fr.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Nr(this.view,"pointer")},Tr.touchdown=function(t){Vr(t),Nr(t,"pointer")},Tr.contextmenu=function(t){return Vr(t)};var jr=$e.android?5e3:-1;function qr(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return Jr(t)}),e))}function Jr(t,e){for(t.composing=!1;t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty();return!(!e&&!t.docView.dirty)&&(t.updateState(t.state),!0)}Dr.compositionstart=Dr.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),Jr(t,!0),t.markCursor=null;else if(Jr(t),$e.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}o=s,i=-1}t.composing=!0}qr(t,jr)},Dr.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,qr(t,20))};var Hr=$e.ie&&$e.ie_version<15||$e.ios&&$e.webkit_version<604;function Wr(t,e,n,r){var o=vr(t,e,n,t.shiftKey,t.state.selection.$from);if(!t.someProp("handlePaste",(function(e){return e(t,r,o||R.empty)}))&&o){var i=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),s=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(o);t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}Tr.copy=Dr.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var o=Hr?null:e.clipboardData,i=mr(t,n.content()),s=i.dom,a=i.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",a)):function(t,e){var n=t.dom.ownerDocument,r=n.body.appendChild(n.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";var o=getSelection(),i=n.createRange();i.selectNodeContents(e),t.dom.blur(),o.removeAllRanges(),o.addRange(i),setTimeout((function(){n.body.removeChild(r),t.focus()}),50)}(t,s),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Dr.paste=function(t,e){var n=Hr?null:e.clipboardData,r=n&&n.getData("text/html"),o=n&&n.getData("text/plain");n&&(r||o||n.files.length)?(Wr(t,o,r,e),e.preventDefault()):function(t,e){var n=t.dom.ownerDocument,r=t.shiftKey||t.state.selection.$from.parent.type.spec.code,o=n.body.appendChild(n.createElement(r?"textarea":"div"));r||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((function(){t.focus(),n.body.removeChild(o),r?Wr(t,o.value,null,e):Wr(t,o.textContent,o.innerHTML,e)}),50)}(t,e)};var Kr=function(t,e){this.slice=t,this.move=e},Ur=$e.mac?"altKey":"ctrlKey";for(var Gr in Tr.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var r=t.state.selection,o=r.empty?null:t.posAtCoords(Ir(e));if(o&&o.pos>=r.from&&o.pos<=(r instanceof ke?r.to-1:r.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(ke.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var i=t.docView.nearestDesc(e.target,!0);if(!i||!i.node.type.spec.draggable||i==t.docView)return;t.dispatch(t.state.tr.setSelection(ke.create(t.state.doc,i.posBefore)))}var s=t.state.selection.content(),a=mr(t,s),c=a.dom,p=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Hr?"Text":"text/html",c.innerHTML),Hr||e.dataTransfer.setData("text/plain",p),t.dragging=new Kr(s,!e[Ur])}},Tr.dragend=function(t){window.setTimeout((function(){return t.dragging=null}),50)},Dr.dragover=Dr.dragenter=function(t,e){return e.preventDefault()},Dr.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var r=t.posAtCoords(Ir(e));if(r){var o=t.state.doc.resolve(r.pos);if(o){var i=n&&n.slice||vr(t,e.dataTransfer.getData(Hr?"Text":"text/plain"),Hr?null:e.dataTransfer.getData("text/html"),!1,o);if(i&&(e.preventDefault(),!t.someProp("handleDrop",(function(r){return r(t,e,i,n&&n.move)})))){var s=i?function(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,p=r.index(a)+(c>0?1:0);if(1==s?r.node(a).canReplace(p,p,o):r.node(a).contentMatchAt(p).findWrapping(o.firstChild.type))return 0==c?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}(t.state.doc,o.pos,i):o.pos;null==s&&(s=o.pos);var a=t.state.tr;n&&n.move&&a.deleteSelection();var c=a.mapping.map(s),p=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,l=a.doc;if(p?a.replaceRangeWith(c,c,i.content.firstChild):a.replaceRange(c,c,i),!a.doc.eq(l)){var h=a.doc.resolve(c);p&&ke.isSelectable(i.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(i.content.firstChild)?a.setSelection(new ke(h)):a.setSelection(pr(t,h,a.doc.resolve(a.mapping.map(s)))),t.focus(),t.dispatch(a.setMeta("uiEvent","drop"))}}}}}},Tr.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&nr(t)}),20))},Tr.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.domObserver.currentSelection.set({}),t.focused=!1)},Tr.beforeinput=function(t,e){if($e.chrome&&$e.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,tn(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},Dr)Tr[Gr]=Dr[Gr];function Qr(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var Yr=function(t,e){this.spec=e||ro,this.side=this.spec.side||0,this.toDOM=t};Yr.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new to(i-n,i-n,this)},Yr.prototype.valid=function(){return!0},Yr.prototype.eq=function(t){return this==t||t instanceof Yr&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Qr(this.spec,t.spec))};var Xr=function(t,e){this.spec=e||ro,this.attrs=t};Xr.prototype.map=function(t,e,n,r){var o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new to(o,i,this)},Xr.prototype.valid=function(t,e){return e.from<e.to},Xr.prototype.eq=function(t){return this==t||t instanceof Xr&&Qr(this.attrs,t.attrs)&&Qr(this.spec,t.spec)},Xr.is=function(t){return t.type instanceof Xr};var Zr=function(t,e){this.spec=e||ro,this.attrs=t};Zr.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,1);if(o.deleted)return null;var i=t.mapResult(e.to+r,-1);return i.deleted||i.pos<=o.pos?null:new to(o.pos-n,i.pos-n,this)},Zr.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),r=n.index,o=n.offset;return o==e.from&&o+t.child(r).nodeSize==e.to},Zr.prototype.eq=function(t){return this==t||t instanceof Zr&&Qr(this.attrs,t.attrs)&&Qr(this.spec,t.spec)};var to=function(t,e,n){this.from=t,this.to=e,this.type=n},eo={spec:{configurable:!0}};to.prototype.copy=function(t,e){return new to(t,e,this.type)},to.prototype.eq=function(t){return this.type.eq(t.type)&&this.from==t.from&&this.to==t.to},to.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},to.widget=function(t,e,n){return new to(t,t,new Yr(e,n))},to.inline=function(t,e,n,r){return new to(t,e,new Xr(n,r))},to.node=function(t,e,n,r){return new to(t,e,new Zr(n,r))},eo.spec.get=function(){return this.type.spec},Object.defineProperties(to.prototype,eo);var no=[],ro={},oo=function(t,e){this.local=t&&t.length?t:no,this.children=e&&e.length?e:no};oo.create=function(t,e){return e.length?lo(e,t,0,ro):io},oo.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},oo.prototype.findInner=function(t,e,n,r,o){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var c=this.children[a]+1;this.children[a+2].findInner(t-c,e-c,n,r+c,o)}},oo.prototype.map=function(t,e,n){return this==io||0==t.maps.length?this:this.mapInner(t,e,0,0,n||ro)},oo.prototype.mapInner=function(t,e,n,r,o){for(var i,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?function(t,e,n,r,o,i,s){for(var a=t.slice(),c=function(t,e,n,r){for(var s=0;s<a.length;s+=3){var c=a[s+1],p=void 0;-1==c||t>c+i||(e>=a[s]+i?a[s+1]=-1:(p=r-n-(e-t)+(i-o))&&(a[s]+=p,a[s+1]+=p))}},p=0;p<n.maps.length;p++)n.maps[p].forEach(c);for(var l=!1,h=0;h<a.length;h+=3)if(-1==a[h+1]){var u=n.map(a[h]+i),f=u-o;if(f<0||f>=r.content.size){l=!0;continue}var d=n.map(t[h+1]+i,-1)-o,m=r.content.findIndex(f),v=m.index,g=m.offset,y=r.maybeChild(v);if(y&&g==f&&g+y.nodeSize==d){var w=a[h+2].mapInner(n,y,u+1,a[h]+i+1,s);w!=io?(a[h]=f,a[h+1]=d,a[h+2]=w):(a[h+1]=-2,l=!0)}else l=!0}if(l){var b=lo(function(t,e,n,r,o,i,s){function a(t,e){for(var i=0;i<t.local.length;i++){var c=t.local[i].map(r,o,e);c?n.push(c):s.onRemove&&s.onRemove(t.local[i].spec)}for(var p=0;p<t.children.length;p+=3)a(t.children[p+2],t.children[p]+e+1)}for(var c=0;c<t.length;c+=3)-1==t[c+1]&&a(t[c+2],e[c]+i+1);return n}(a,t,e||[],n,o,i,s),r,0,s);e=b.local;for(var k=0;k<a.length;k+=3)a[k+1]<0&&(a.splice(k,3),k-=3);for(var x=0,S=0;x<b.children.length;x+=3){for(var M=b.children[x];S<a.length&&a[S]<M;)S+=3;a.splice(S,0,b.children[x],b.children[x+1],b.children[x+2])}}return new oo(e&&e.sort(ho),a)}(this.children,i,t,e,n,r,o):i?new oo(i.sort(ho)):io},oo.prototype.add=function(t,e){return e.length?this==io?oo.create(t,e):this.addInner(t,e,0):this},oo.prototype.addInner=function(t,e,n){var r,o=this,i=0;t.forEach((function(t,s){var a,c=s+n;if(a=co(e,t,c)){for(r||(r=o.children.slice());i<r.length&&r[i]<s;)i+=3;r[i]==s?r[i+2]=r[i+2].addInner(t,a,c+1):r.splice(i,0,s,s+t.nodeSize,lo(a,t,c+1,ro)),i+=3}}));var s=ao(i?po(e):e,-n);return new oo(s.length?this.local.concat(s).sort(ho):this.local,r||this.children)},oo.prototype.remove=function(t){return 0==t.length||this==io?this:this.removeInner(t,0)},oo.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,s=n[o]+e,a=n[o+1]+e,c=0,p=void 0;c<t.length;c++)(p=t[c])&&p.from>s&&p.to<a&&(t[c]=null,(i||(i=[])).push(p));if(i){n==this.children&&(n=this.children.slice());var l=n[o+2].removeInner(i,s+1);l!=io?n[o+2]=l:(n.splice(o,3),o-=3)}}if(r.length)for(var h=0,u=void 0;h<t.length;h++)if(u=t[h])for(var f=0;f<r.length;f++)r[f].type.eq(u.type)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new oo(r,n):io},oo.prototype.forChild=function(t,e){if(this==io)return this;if(e.isLeaf)return oo.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}for(var i=t+1,s=i+e.content.size,a=0;a<this.local.length;a++){var c=this.local[a];if(c.from<s&&c.to>i&&c.type instanceof Xr){var p=Math.max(i,c.from)-i,l=Math.min(s,c.to)-i;p<l&&(r||(r=[])).push(c.copy(p,l))}}if(r){var h=new oo(r.sort(ho));return n?new so([h,n]):h}return n||io},oo.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof oo)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},oo.prototype.locals=function(t){return uo(this.localsInner(t))},oo.prototype.localsInner=function(t){if(this==io)return no;if(t.inlineContent||!this.local.some(Xr.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Xr||e.push(this.local[n]);return e};var io=new oo;oo.empty=io,oo.removeOverlap=uo;var so=function(t){this.members=t};function ao(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(new to(o.from+e,o.to+e,o.type))}return n}function co(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,o=null,i=0,s=void 0;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function po(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function lo(t,e,n,r){var o=[],i=!1;e.forEach((function(e,s){var a=co(t,e,s+n);if(a){i=!0;var c=lo(a,e,n+s+1,r);c!=io&&o.push(s,s+e.nodeSize,c)}}));for(var s=ao(i?po(t):t,-n).sort(ho),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new oo(s,o):io}function ho(t,e){return t.from-e.from||t.to-e.to}function uo(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var o=n+1;o<e.length;o++){var i=e[o];if(i.from!=r.from){i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),fo(e,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),fo(e,o+1,i.copy(r.to,i.to)))}}return e}function fo(t,e,n){for(;e<t.length&&ho(n,t[e])>0;)e++;t.splice(e,0,n)}function mo(t){var e=[];return t.someProp("decorations",(function(n){var r=n(t.state);r&&r!=io&&e.push(r)})),t.cursorWrapper&&e.push(oo.create(t.state.doc,[t.cursorWrapper.deco])),so.from(e)}so.prototype.forChild=function(t,e){if(e.isLeaf)return oo.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(t,e);o!=io&&(o instanceof so?n=n.concat(o.members):n.push(o))}return so.from(n)},so.prototype.eq=function(t){if(!(t instanceof so)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},so.prototype.locals=function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(t);if(o.length)if(e){n&&(e=e.slice(),n=!1);for(var i=0;i<o.length;i++)e.push(o[i])}else e=o}return e?uo(n?e:e.sort(ho)):no},so.from=function(t){switch(t.length){case 0:return io;case 1:return t[0];default:return new so(t)}};var vo=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=bo(this),this.markCursor=null,this.cursorWrapper=null,wo(this),this.nodeViews=ko(this),this.docView=Tn(this.state.doc,yo(this),mo(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new Or(t,(function(e,n,r,o){return ur(t,e,n,r,o)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=Tr[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||Ar(t,e)||!t.editable&&e.type in Dr||n(t,e)})};for(var n in Tr)e(n);$e.safari&&t.dom.addEventListener("input",(function(){return null})),Er(t)}(this),this.pluginViews=[],this.updatePluginViews()},go={props:{configurable:!0},root:{configurable:!0}};function yo(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e.class+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))})),[to.node(0,t.state.doc.content.size,e)]}function wo(t){var e=t.state.selection,n=e.$head,r=e.$anchor,o=e.visible;if(t.markCursor){var i=document.createElement("img");i.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:i,deco:to.widget(n.pos,i,{raw:!0,marks:t.markCursor})}}else if(o||n.pos!=r.pos)t.cursorWrapper=null;else{var s;!t.cursorWrapper||t.cursorWrapper.dom.childNodes.length?((s=document.createElement("div")).style.position="absolute",s.style.left="-100000px"):t.cursorWrapper.deco.pos!=n.pos&&(s=t.cursorWrapper.dom),s&&(t.cursorWrapper={dom:s,deco:to.widget(n.pos,s,{raw:!0})})}}function bo(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function ko(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}go.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},vo.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Er(this),this._props=t,this.updateStateInner(t.state,!0)},vo.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)},vo.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},vo.prototype.updateStateInner=function(t,e){var n=this,r=this.state,o=!1;if(this.state=t,e){var i=ko(this);(function(t,e){var n=0,r=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var i in e)r++;return n!=r})(i,this.nodeViews)&&(this.nodeViews=i,o=!0),Er(this)}this.editable=bo(this),wo(this);var s,a,c,p,l,h,u,f,d,m,v,g=mo(this),y=yo(this),w=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",b=o||!this.docView.matchesNode(t.doc,y,g),k=b||!t.selection.eq(r.selection),x="preserve"==w&&k&&null==this.dom.style.overflowAnchor&&function(t){for(var e,n,r=t.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=t.root.elementFromPoint(i,s);if(a!=t.dom&&t.dom.contains(a)){var c=a.getBoundingClientRect();if(c.top>=o-20){e=a,n=c.top;break}}}return{refDOM:e,refTop:n,stack:on(t.dom)}}(this);if(k){this.domObserver.stop();var S=b&&($e.ie||$e.chrome)&&!r.selection.empty&&!t.selection.empty&&(p=r.selection,l=t.selection,h=Math.min(p.$anchor.sharedDepth(p.head),l.$anchor.sharedDepth(l.head)),p.$anchor.node(h)!=l.$anchor.node(h));b&&(!o&&this.docView.update(t.doc,y,g,this)||(this.docView.destroy(),this.docView=Tn(t.doc,y,g,this.dom,this))),S||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(s=this,a=s.docView.domFromPos(s.state.selection.anchor),c=s.root.getSelection(),Ue(a.node,a.offset,c.anchorNode,c.anchorOffset)))?nr(this,S):(ar(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==w)this.dom.scrollTop=0;else if("to selection"==w){var M=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof ke?rn(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),M):rn(this,this.coordsAtPos(t.selection.head),M))}else x&&(f=(u=x).refDOM,d=u.refTop,m=u.stack,v=f?f.getBoundingClientRect().top:0,sn(m,0==v?0:v-d))},vo.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},vo.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},vo.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var s=o[i].props[t];if(null!=s&&(n=e?e(s):s))return n}},vo.prototype.hasFocus=function(){return this.root.activeElement==this.dom},vo.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(an)return t.focus(an);var e=on(t);t.focus(null==an?{get preventScroll(){return an={preventScroll:!0},!0}}:void 0),an||(an=!1,sn(e,0))}(this.dom),nr(this),this.domObserver.start()},go.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},vo.prototype.posAtCoords=function(t){return ln(this,t)},vo.prototype.coordsAtPos=function(t){return un(this,t)},vo.prototype.domAtPos=function(t){return this.docView.domFromPos(t)},vo.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},vo.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},vo.prototype.endOfTextblock=function(t,e){return wn(this,e||this.state,t)},vo.prototype.destroy=function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],mo(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},vo.prototype.dispatchEvent=function(t){return function(t,e){Ar(t,e)||!Tr[e.type]||!t.editable&&e.type in Dr||Tr[e.type](t,e)}(this,t)},vo.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(vo.prototype,go);var xo=function(){};xo.prototype.append=function(t){return t.length?(t=xo.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},xo.prototype.prepend=function(t){return t.length?xo.from(t).append(this):this},xo.prototype.appendInner=function(t){return new Mo(this,t)},xo.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?xo.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},xo.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},xo.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},xo.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},xo.from=function(t){return t instanceof xo?t:t&&t.length?new So(t):xo.empty};var So=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(!1===t(this.values[o],r+o))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(!1===t(this.values[o],r+o))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=200)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=200)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(xo);xo.empty=new So([]);var Mo=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(xo),Oo=xo,Co=function(t,e){this.items=t,this.eventCount=e};Co.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(r=this.remapping(i,this.items.length),o=r.maps.length);var s,a,c=t.tr,p=[],l=[];return this.items.forEach((function(t,e){if(!t.step)return r||(r=n.remapping(i,e+1),o=r.maps.length),o--,void l.push(t);if(r){l.push(new To(t.map));var h,u=t.step.map(r.slice(o));u&&c.maybeStep(u).doc&&(h=c.mapping.maps[c.mapping.maps.length-1],p.push(new To(h,null,null,p.length+l.length))),o--,h&&r.appendMap(h,o)}else c.maybeStep(t.step);return t.selection?(s=r?t.selection.map(r.slice(o)):t.selection,a=new Co(n.items.slice(0,i).append(l.reverse().concat(p)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:c,selection:s}},Co.prototype.addTransform=function(t,e,n,r){for(var o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,c=0;c<t.steps.length;c++){var p,l=t.steps[c].invert(t.docs[c]),h=new To(t.mapping.maps[c],l,e);(p=a&&a.merge(h))&&(h=p,c?o.pop():s=s.slice(0,s.length-1)),o.push(h),e&&(i++,e=null),r||(a=h)}var u,f,d,m=i-n.depth;return m>No&&(f=m,(u=s).forEach((function(t,e){if(t.selection&&0==f--)return d=e,!1})),s=u.slice(d),i-=m),new Co(s.append(o),i)},Co.prototype.remapping=function(t,e){var n=new Ft;return this.items.forEach((function(e,r){var o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)}),t,e),n},Co.prototype.addMaps=function(t){return 0==this.eventCount?this:new Co(this.items.append(t.map((function(t){return new To(t)}))),this.eventCount)},Co.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach((function(t){t.selection&&s--}),r);var a=e;this.items.forEach((function(e){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var c=o.maps[r];if(e.step){var p=t.steps[r].invert(t.docs[r]),l=e.selection&&e.selection.map(o.slice(a+1,r));l&&s++,n.push(new To(c,p,l))}else n.push(new To(c))}}),r);for(var c=[],p=e;p<i;p++)c.push(new To(o.maps[p]));var l=this.items.slice(0,r).append(c).append(n),h=new Co(l,s);return h.emptyItemCount()>500&&(h=h.compress(this.items.length-n.length)),h},Co.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},Co.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((function(i,s){if(s>=t)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(e.slice(n)),c=a&&a.getMap();if(n--,c&&e.appendMap(c,n),a){var p=i.selection&&i.selection.map(e.slice(n));p&&o++;var l,h=new To(c.invert(),a,p),u=r.length-1;(l=r.length&&r[u].merge(h))?r[u]=l:r.push(h)}}else i.map&&n--}),this.items.length,0),new Co(Oo.from(r.reverse()),o)},Co.empty=new Co(Oo.empty,0);var To=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};To.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new To(e.getMap().invert(),e,this.selection)}};var Do=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},No=20;function Eo(t){var e=[];return t.forEach((function(t,n,r,o){return e.push(r,o)})),e}function Ao(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function Io(t,e,n,r){var o=Po(e),i=_o.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(s){var a=s.selection.resolve(s.transform.doc),c=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),p=new Do(r?c:s.remaining,r?s.remaining:c,null,0);n(s.transform.setSelection(a).setMeta(_o,{redo:r,historyState:p}).scrollIntoView())}}var zo=!1,Ro=null;function Po(t){var e=t.plugins;if(Ro!=e){zo=!1,Ro=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){zo=!0;break}}return zo}var _o=new Ve("history"),Bo=new Ve("closeHistory");function Vo(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new Pe({key:_o,state:{init:function(){return new Do(Co.empty,Co.empty,null,0)},apply:function(e,n,r){return function(t,e,n,r){var o,i=n.getMeta(_o);if(i)return i.historyState;n.getMeta(Bo)&&(t=new Do(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(_o))return s.getMeta(_o).redo?new Do(t.done.addTransform(n,null,r,Po(e)),t.undone,Eo(n.mapping.maps[n.steps.length-1]),t.prevTime):new Do(t.done,t.undone.addTransform(n,null,r,Po(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new Do(t.done.rebased(n,o),t.undone.rebased(n,o),Ao(t.prevRanges,n.mapping),t.prevTime):new Do(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Ao(t.prevRanges,n.mapping),t.prevTime);var a=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)})),n}(n,t.prevRanges)),c=s?Ao(t.prevRanges,n.mapping):Eo(n.mapping.maps[n.steps.length-1]);return new Do(t.done.addTransform(n,a?e.selection.getBookmark():null,r,Po(e)),Co.empty,c,n.time)}(n,r,e,t)}},config:t})}var $o=function(t,e){var n;this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,r,o){var i=n;if(e[1]){var s=e[0].lastIndexOf(e[1]);i+=e[0].slice(s+e[1].length);var a=(r+=s)-o;a>0&&(i=e[0].slice(s-a,s)+i,r=o)}return t.tr.insertText(i,r,o)}):e};function Fo(t,e,n,r,o,i){if(t.composing)return!1;var s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;for(var c=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"￼")+r,p=0;p<o.length;p++){var l=o[p].match.exec(c),h=l&&o[p].handler(s,l,e-(l[0].length-r.length),n);if(h)return t.dispatch(h.setMeta(i,{transform:h,from:e,to:n,text:r})),!0}return!1}new $o(/--$/,"—");var Lo=new $o(/\.\.\.$/,"…"),jo=[new $o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new $o(/"$/,"”"),new $o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new $o(/'$/,"’")];var qo=["ol",0],Jo=["ul",0],Ho=["li",0],Wo={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1==t.attrs.order?qo:["ol",{start:t.attrs.order},0]}},Ko={parseDOM:[{tag:"ul"}],toDOM:function(){return Jo}},Uo={parseDOM:[{tag:"li"}],toDOM:function(){return Ho},defining:!0};function Go(t,e){return function(n,r){var o=n.selection,i=o.$from,s=o.$to,a=i.blockRange(s),c=!1,p=a;if(!a)return!1;if(a.depth>=2&&i.node(a.depth-1).type.compatibleContent(t)&&0==a.startIndex){if(0==i.index(a.depth-1))return!1;var l=n.doc.resolve(a.start-2);p=new U(l,l,a.depth),a.endIndex<a.parent.childCount&&(a=new U(i,n.doc.resolve(s.end(a.depth)),a.depth)),c=!0}var h=Zt(p,t,e,a);return!!h&&(r&&r(function(t,e,n,r,o){for(var i=T.empty,s=n.length-1;s>=0;s--)i=T.from(n[s].type.create(n[s].attrs,i));t.step(new Gt(e.start-(r?2:0),e.end,e.start,e.end,new R(i,0,0),n.length,!0));for(var a=0,c=0;c<n.length;c++)n[c].type==o&&(a=c+1);for(var p=n.length-a,l=e.start+n.length-(r?2:0),h=e.parent,u=e.startIndex,f=e.endIndex,d=!0;u<f;u++,d=!1)!d&&ee(t.doc,l,p)&&(t.split(l,p),l+=2*p),l+=h.child(u).nodeSize;return t}(n.tr,a,h,c,t).scrollIntoView()),!0)}}function Qo(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,s=o.blockRange(i,(function(e){return e.childCount&&e.firstChild.type==t}));return!!s&&(!n||(o.node(s.depth-1).type==t?function(t,e,n,r){var o=t.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new Gt(i-1,s,i,s,new R(T.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new U(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));return e(o.lift(r,Xt(r)).scrollIntoView()),!0}(e,n,t,s):function(t,e,n){for(var r=t.tr,o=n.parent,i=n.end,s=n.endIndex-1,a=n.startIndex;s>a;s--)i-=o.child(s).nodeSize,r.delete(i-1,i+1);var c=r.doc.resolve(n.start),p=c.nodeAfter,l=0==n.startIndex,h=n.endIndex==o.childCount,u=c.node(-1),f=c.index(-1);if(!u.canReplace(f+(l?0:1),f+1,p.content.append(h?T.empty:T.from(o))))return!1;var d=c.pos,m=d+p.nodeSize;return r.step(new Gt(d-(l?1:0),m+(h?1:0),d+1,m-1,new R((l?T.empty:T.from(o.copy(T.empty))).append(h?T.empty:T.from(o.copy(T.empty))),l?0:1,h?0:1),l?0:1)),e(r.scrollIntoView()),!0}(e,n,s)))}}var Yo=["p",0],Xo=["blockquote",0],Zo=["hr"],ti=["pre",["code",0]],ei=["br"],ni=["em",0],ri=["strong",0],oi=["code",0],ii={link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM:function(t){var e=t.attrs;return["a",{href:e.href,title:e.title},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return ni}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!=t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}}],toDOM:function(){return ri}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return oi}}};new bt({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return Yo}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return Xo}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return Zo}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return ti}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM:function(t){var e=t.attrs;return["img",{src:e.src,alt:e.alt,title:e.title}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return ei}}},marks:ii});const si={content:"inline*",defining:!0,group:"block",toDOM:t=>["h1",{class:"sn-editor"},0],parseDOM:[{tag:"h1"}]},ai={content:"inline*",defining:!0,group:"block",toDOM:t=>["h2",{class:"sn-editor"},0],parseDOM:[{tag:"h2"}]},ci=new bt({nodes:{doc:{content:"block+",toDOM:t=>["main",{class:"sn-editor"},0],parseDOM:[{tag:"main"}]},paragraph:{content:"inline*",group:"block",marks:"_",toDOM:t=>["p",{class:"sn-editor"},0],parseDOM:[{tag:"p"}]},checklist_item:{attrs:{checked:{default:!1}},content:"inline*",defining:!0,group:"block",marks:"_",toDOM:t=>["div",{class:"checklist-item"},["input",Object.assign({type:"checkbox"},t.attrs.checked&&{checked:"true"})],["p",0]],parseDOM:[{contentElement:"p",tag:"div.checklist-item",getAttrs:t=>({checked:!!t.querySelector("input").checked})}]},unordered_list:Object.assign(Object.assign({},Ko),{content:"list_item+",group:"block"}),ordered_list:Object.assign(Object.assign({},Wo),{content:"list_item+",group:"block"}),list_item:Object.assign(Object.assign({},Uo),{content:"paragraph+"}),heading1:si,heading2:ai,text:{group:"inline"}},marks:{link:Object.assign(Object.assign({},ii.link),{inclusive:!1}),em:Object.assign(Object.assign({},ii.em),{inclusive:!1}),strong:Object.assign(Object.assign({},ii.strong),{inclusive:!1}),code:Object.assign(Object.assign({},ii.code),{inclusive:!1})}});function pi(t,e){return new $o(new RegExp(`${t}(.*?)${t}`),(t,n,r,o)=>{const[i,s]=n,{tr:a}=t;if(!s)return;const c=t.doc.resolve(r).marksAcross(t.doc.resolve(o));return a.replaceRangeWith(r,o,ci.text(s,[...c,e.create()]))})}function li(t,e){return new $o(new RegExp(`^${t}`),(t,n,r,o)=>{const{$from:i}=t.selection;if(i.depth>1)return;const{tr:s}=t;return s.replaceRangeWith(r,o,e.createAndFill()),s.setSelection(ve.near(s.doc.resolve(r))),s})}const hi=(ui={rules:[...jo,Lo,(mi=/^# /,vi=ci.nodes.heading2,new $o(mi,(function(t,e,n,r){var o=t.doc.resolve(n),i=gi instanceof Function?gi(e):gi;return o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),vi)?t.tr.delete(n,r).setBlockType(n,n,vi,i):null}))),pi("`",ci.marks.code),pi("\\*\\*",ci.marks.strong),pi("\\*",ci.marks.em),li("1. ",ci.nodes.ordered_list),li("- ",ci.nodes.unordered_list)]},fi=ui.rules,di=new Pe({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,e,n,r){return Fo(t,e,n,r,fi,di)},handleDOMEvents:{compositionend:function(t){setTimeout((function(){var e=t.state.selection.$cursor;e&&Fo(t,e.pos,e.pos,"",fi,di)}))}}},isInputRules:!0}));var ui,fi,di,mi,vi,gi;function yi(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function wi(t,e){for(;t;t="start"==e?t.firstChild:t.lastChild)if(t.isTextblock)return!0;return!1}function bi(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ki(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function xi(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Si(t,e){var n=t.selection,r=n.$from,o=n.$to;if(t.selection instanceof ke&&t.selection.node.isBlock)return!(!r.parentOffset||!ee(t.doc,r.pos))&&(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){var i=o.parentOffset==o.parent.content.size,s=t.tr;t.selection instanceof we&&s.deleteSelection();var a=0==r.depth?null:xi(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=i&&a?[{type:a}]:null,p=ee(s.doc,s.mapping.map(r.pos),1,c);c||p||!ee(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(c=[{type:a}],p=!0),p&&(s.split(s.mapping.map(r.pos),1,c),i||r.parentOffset||r.parent.type==a||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),T.from(a.create(),r.parent))||s.setNodeMarkup(s.mapping.map(r.before()),a)),e(s.scrollIntoView())}return!0}function Mi(t,e,n){var r,o,i=e.nodeBefore,s=e.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(function(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(i,i+1)||!o.isTextblock&&!ne(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0))}(t,e,n))return!0;if(e.parent.canReplace(e.index(),e.index()+1)&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){for(var a=e.pos+s.nodeSize,c=T.empty,p=r.length-1;p>=0;p--)c=T.from(r[p].create(null,c));c=T.from(i.copy(c));var l=t.tr.step(new Gt(e.pos-1,a,e.pos,a,new R(c,1,0),r.length,!0)),h=a+2*r.length;ne(l.doc,h)&&l.join(h),n(l.scrollIntoView())}return!0}var u=ve.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),d=f&&Xt(f);return null!=d&&d>=e.depth&&(n&&n(t.tr.lift(f,d).scrollIntoView()),!0)}function Oi(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}var Ci=Oi(yi,(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;var o=bi(r);if(!o){var i=r.blockRange(),s=i&&Xt(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}var a=o.nodeBefore;if(!a.type.spec.isolating&&Mi(t,o,e))return!0;if(0==r.parent.content.size&&(wi(a,"end")||ke.isSelectable(a))){if(e){var c=t.tr.deleteRange(r.before(),r.after());c.setSelection(wi(a,"end")?ve.findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):ke.create(c.doc,o.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos-a.nodeSize,o.pos).scrollIntoView()),!0)}),(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;var o=bi(r),i=o&&o.nodeBefore;return!(!i||!ke.isSelectable(i))&&(e&&e(t.tr.setSelection(ke.create(t.doc,o.pos-i.nodeSize)).scrollIntoView()),!0)})),Ti=Oi(yi,(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var o=ki(r);if(!o)return!1;var i=o.nodeAfter;if(Mi(t,o,e))return!0;if(0==r.parent.content.size&&(wi(i,"start")||ke.isSelectable(i))){if(e){var s=t.tr.deleteRange(r.before(),r.after());s.setSelection(wi(i,"start")?ve.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):ke.create(s.doc,s.mapping.map(o.pos))),e(s.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}),(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var o=ki(r),i=o&&o.nodeAfter;return!(!i||!ke.isSelectable(i))&&(e&&e(t.tr.setSelection(ke.create(t.doc,o.pos)).scrollIntoView()),!0)})),Di={Enter:Oi((function(t,e){var n=t.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}),(function(t,e){var n=t.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=xi(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(we.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}),(function(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(ee(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&Xt(o);return null!=i&&(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)}),Si),"Mod-Enter":function(t,e){var n=t.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),a=xi(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,a))return!1;if(e){var c=r.after(),p=t.tr.replaceWith(c,c,a.createAndFill());p.setSelection(ve.near(p.doc.resolve(c),1)),e(p.scrollIntoView())}return!0},Backspace:Ci,"Mod-Backspace":Ci,Delete:Ti,"Mod-Delete":Ti,"Mod-a":function(t,e){return e&&e(t.tr.setSelection(new Se(t.doc))),!0}},Ni={"Ctrl-h":Di.Backspace,"Alt-Backspace":Di["Mod-Backspace"],"Ctrl-d":Di.Delete,"Ctrl-Alt-Backspace":Di["Mod-Delete"],"Alt-Delete":Di["Mod-Delete"],"Alt-d":Di["Mod-Delete"]};for(var Ei in Di)Ni[Ei]=Di[Ei];var Ai=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?Ni:Di;class Ii extends Pe{constructor(t,e){super({view:n=>(this.view=n,this.modalEl=e,t.addEventListener("click",this.handleToolbarClick),{destroy(){t.removeEventListener("click",this.handleToolbarClick)},update:(e,n)=>{const r=this.getSelectedFormatAttrs(n);r&&r.forEach(e=>{const n=t.querySelector(`[data-format=${e}]`);n&&n.classList.remove("selected")});const o=this.getSelectedFormatAttrs(e.state);o&&o.forEach(e=>{const n=t.querySelector(`[data-format=${e}]`);n&&n.classList.add("selected")})}}),props:{handleKeyDown:(t,e)=>{const n=84===e.which,r=e.ctrlKey;if(n&&r)return this.toggleChecklistItem(),!0;const o=55===e.which,i=e.metaKey;if(o&&i)return this.toggleList(ci.nodes.unordered_list,ci.nodes.list_item),!0;if(85===e.which&&r)return this.toggleList(ci.nodes.unordered_list,ci.nodes.list_item),!0;if(79===e.which&&r)return this.toggleList(ci.nodes.ordered_list,ci.nodes.list_item),!0;if(187===e.which&&r)return this.promoteHeading(this.view.state,this.view.dispatch),!0;if(74===e.which&&r)return this.swapTextBlock(ci.nodes.paragraph),!0;const s=32===e.which;if(r&&s)return function(t,e){const{$from:n,$to:r}=t.selection,o=n.blockRange(r);let i=!1;for(let t=o.startIndex,e=o.parent.child(t);t<o.endIndex;t+=1){if(e.type!==ci.nodes.checklist_item)return!1;if(e.attrs.checked){i=!0;break}}if(!e)return!0;const{tr:s}=t;for(let t=o.startIndex,e=o.parent.child(t),n=o.start;t<o.endIndex;t+=1)s.setNodeMarkup(n,void 0,{checked:!i}),n+=e.nodeSize;return e(s),!0}(this.view.state,this.view.dispatch);const a=90===e.which;if(i&&a)return c=this.view.state,p=this.view.dispatch,!(!(l=_o.getState(c))||0==l.done.eventCount||(p&&Io(l,c,p,!1),0));var c,p,l;const h=89===e.which;if(i&&h)return function(t,e){var n=_o.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&Io(n,t,e,!0),!0)}(this.view.state,this.view.dispatch);const u=73===e.which;if(i&&u)return this.toggleMark(ci.marks.em),!0;const f=66===e.which;if(i&&f)return this.toggleMark(ci.marks.strong),!0;const d=222===e.which;if(i&&d)return this.toggleMark(ci.marks.code),!0;const m=75===e.which;return!(!i||!m)&&(this.activateLinkModal(this.view.state,this.view.dispatch),!0)}}}),this.swapTextBlock=t=>{let{dispatch:e,state:n}=this.view,{tr:r}=n;const{$from:o,$to:i,from:s,to:a}=n.selection;t!==ci.nodes.unordered_list&&Qo(ci.nodes.list_item)(n,e),({dispatch:e,state:n}=this.view),({tr:r}=n),r.setBlockType(s,a,t),e(r),this.view.focus()},this.promoteHeading=(t,e)=>{const{selection:n}=t;if(!n.empty)return;const{$from:{parent:{type:r}}}=n;let o;o=r===ci.nodes.heading2?ci.nodes.heading1:r===ci.nodes.heading1?ci.nodes.paragraph:ci.nodes.heading2,this.swapTextBlock(o)},this.toggleList=(t,e)=>{const{state:{selection:{$from:n,$to:r},tr:o}}=this.view;if(n.blockRange(r,e=>e.type===t)){const{dispatch:t,state:n}=this.view;Qo(e)(n,t)}else{const e=n.blockRange(r);for(let n=e.startIndex;n<e.endIndex;n+=1)if(e.parent.child(n).type===t)return;this.swapTextBlock(ci.nodes.paragraph);const{dispatch:o,state:i}=this.view;Go(t)(i,o)}},this.toggleChecklistItem=()=>{const{dispatch:t,state:e}=this.view,{doc:n,tr:r}=e,{$from:o,$to:i}=e.selection,s=o.blockRange(i);for(let t=s.startIndex;t<s.endIndex;t+=1)if(s.parent.child(t).type===ci.nodes.checklist_item)return void this.swapTextBlock(ci.nodes.paragraph);this.swapTextBlock(ci.nodes.checklist_item)},this.activateLinkModal=(t,e)=>{const{doc:n,selection:r}=t,{$from:o,$to:i}=r,s=o.marks().find(t=>t.type===ci.marks.link),a=i.marks().find(t=>t.type===ci.marks.link),c=s&&a;if(r.empty&&!c)return!1;if(s!==a)return!1;if(!e)return!0;const p=s;let l,h,u,f;if(p){const r=o.parent.nodeAt(o.parentOffset-o.textOffset);h=o.pos-o.textOffset,l=h+r.nodeSize,u=r.text,f=p.attrs.href;const i=new we(n.resolve(h),n.resolve(l));e(t.tr.setSelection(i))}else l=i.pos,h=o.pos,u=t.doc.textBetween(o.pos,i.pos),f="";new Ii.LinkModal(this.modalEl,{onConfirm:({text:t,url:e})=>{const n=ci.marks.link.create({href:e}),r=ci.text(t,[n]);this.view.dispatch(this.view.state.tr.replaceSelectionWith(r,!1))},text:u,url:f});return!0},this.toggleMark=t=>{var e,n;(e=t,function(t,r){var o=t.selection,i=o.empty,s=o.$cursor,a=o.ranges;if(i&&!s||!function(t,e,n){for(var r=function(r){var o=e[r],i=o.$from,s=o.$to,a=0==i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,s.pos,(function(t){if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)})),a)return{v:!0}},o=0;o<e.length;o++){var i=r(o);if(i)return i.v}return!1}(t.doc,a,e))return!1;if(r)if(s)e.isInSet(t.storedMarks||s.marks())?r(t.tr.removeStoredMark(e)):r(t.tr.addStoredMark(e.create(n)));else{for(var c=!1,p=t.tr,l=0;!c&&l<a.length;l++){var h=a[l],u=h.$from,f=h.$to;c=t.doc.rangeHasMark(u.pos,f.pos,e)}for(var d=0;d<a.length;d++){var m=a[d],v=m.$from,g=m.$to;c?p.removeMark(v.pos,g.pos,e):p.addMark(v.pos,g.pos,e.create(n))}r(p.scrollIntoView())}return!0})(this.view.state,this.view.dispatch),this.view.focus()},this.getSelectedFormatAndMarks=t=>{if(!t.selection)return;const e=[],{$from:n,$to:r,content:o}=t.selection,i=n.blockRange(r,t=>t.type!==ci.nodes.list_item);let s=null;for(let t=i.startIndex;t<i.endIndex;t+=1){const e=i.parent.child(t),n=e.type===ci.nodes.list_item?i.parent.type:e.type;if(null!==s){if(s!==n){s=null;break}}else s=n}e.push(s);const a=n.marksAcross(r);return a&&e.push(...a.map(t=>t.type)),e},this.getSelectedFormatAttrs=t=>{const[e,...n]=this.getSelectedFormatAndMarks(t),r=[];switch(e){case ci.nodes.heading1:case ci.nodes.heading2:r.push("heading");break;case ci.nodes.paragraph:r.push("paragraph");break;case ci.nodes.unordered_list:r.push("unordered_list");break;case ci.nodes.ordered_list:r.push("ordered_list");break;case ci.nodes.checklist_item:r.push("checklist_item");break;default:r.push(null)}return n.forEach(t=>{switch(t){case ci.marks.link:r.push("link");break;case ci.marks.em:r.push("em");break;case ci.marks.strong:r.push("strong");break;case ci.marks.code:r.push("code")}}),r},this.handleToolbarClick=t=>{const e=t.target.closest("[data-format]");e&&this.applyFormat(e.getAttribute("data-format"))},this.applyFormat=t=>{switch(t){case"paragraph":this.swapTextBlock(ci.nodes.paragraph);break;case"heading":this.promoteHeading(this.view.state,this.view.dispatch);break;case"unordered_list":this.toggleList(ci.nodes.unordered_list,ci.nodes.list_item);break;case"ordered_list":this.toggleList(ci.nodes.ordered_list,ci.nodes.list_item);break;case"checklist_item":this.toggleChecklistItem();break;case"strong":case"em":case"code":this.toggleMark(ci.marks[t]);break;case"link":this.activateLinkModal(this.view.state,this.view.dispatch)}}}}Ii.LinkModal=class{constructor(t,{onConfirm:e,text:n,url:r}){this.showCls="active",this.handleConfirm=()=>{this.onConfirm({text:this.textInput.value,url:this.urlInput.value}),this.destroy()},this.handleCancel=()=>{this.destroy()},this.handleGlobalKeydown=t=>{const e=13===t.which;if(document.activeElement===this.textInput||document.activeElement===this.urlInput&&e)return void this.handleConfirm();t.which;27===t.which&&this.handleCancel()},this.destroy=()=>{this.confirmBtn.removeEventListener("click",this.handleConfirm),this.cancelBtn.removeEventListener("click",this.handleCancel),document.removeEventListener("keydown",this.handleGlobalKeydown),this.el.classList.remove(this.showCls)},this.el=t,this.textInput.value=this.text=n,this.urlInput.value=this.url=r,this.urlOpenLink.href=r,this.onConfirm=e,this.el.classList.add(this.showCls),this.confirmBtn.addEventListener("click",this.handleConfirm),this.cancelBtn.addEventListener("click",this.handleCancel),document.addEventListener("keydown",this.handleGlobalKeydown),this.urlInput.focus()}get textInput(){return this.el.querySelector("input#text")}get urlInput(){return this.el.querySelector("input#url")}get urlOpenLink(){return this.el.querySelector("label[for=url] a")}get confirmBtn(){return this.el.querySelector("button#confirm")}get cancelBtn(){return this.el.querySelector("button#cancel")}};var zi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Ri=new Uint8Array(16);function Pi(){if(!zi)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zi(Ri)}for(var _i=[],Bi=0;Bi<256;++Bi)_i[Bi]=(Bi+256).toString(16).substr(1);var Vi=function(t,e){var n=e||0,r=_i;return[r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]]].join("")};var $i=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||Pi)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[r+i]=o[i];return e||Vi(o)},Fi=n(11),Li=n.n(Fi);function ji(t){return t&&t.content&&t.content["com.dylanonelson.sn-editor"]||null}function qi(t){return t?t.uuid:null}class Ji{constructor(){let t;this._item=null,this.shouldCallListeners=(t,e)=>!t.isMetadataUpdate&&(qi(t)!==qi(e)||function(t){const e=ji(t);return e&&e.lastSavedBy?e.lastSavedBy:null}(t)!==this._id),this._id=$i(),this._listeners=[],this._ready=new Promise(e=>{t=e}),this.componentManager=new Li.a([{name:"stream-context-item"}],()=>{this.componentManager.streamContextItem(e=>{console.debug("streamContextItem update:",e);const n=this.shouldCallListeners(e,this._item);this._item=e,n&&this._listeners.forEach(t=>{t(e)}),t()})})}get latestDoc(){return function(t){const e=ji(t);return e&&e.doc?e.doc:null}(this._item)}onUpdate(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>e!==t)}}ready(){return this._ready}saveNote(t){const e=Object.assign(Object.assign({},this._item),{content:Object.assign(Object.assign({},this._item.content),{"com.dylanonelson.sn-editor":{doc:t,lastSavedBy:this._id}})});this.componentManager.saveItemWithPresave(e)}}Ji.SN_ITEM_SAVE_KEY="com.dylanonelson.sn-editor",Ji.itemSelectors={};const Hi=new Ji,Wi={checklist_item(t,e,n){const r=document.createElement("div");r.classList.add("checklist-item");const i=document.createElement("span");i.classList.add("checkbox"),console.log(t.attrs),t.attrs.checked?(i.classList.add("is-checked"),i.innerHTML=o.a):i.innerHTML=s.a,i.contentEditable="false";const a=document.createElement("p");r.appendChild(i),r.appendChild(a);const c=t=>{const{relatedTarget:n,target:r}=t;n===i&&r===e.dom&&e.focus()},p=t=>{if(!1===i.contains(t.target))return;const r=i.classList.contains("is-checked"),{tr:o}=e.state,s=n();o.setNodeMarkup(s,void 0,{checked:!r}),e.dispatch(o)};return e.dom.addEventListener("blur",c),e.dom.addEventListener("click",p),{dom:r,contentDOM:a,destroy(){e.dom.removeEventListener("blur",c),e.dom.removeEventListener("click",p)}}}};for(var Ki={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Ui=Ki,Gi={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:";",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Qi="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Yi="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Xi="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),Zi="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ts="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),es=Qi&&(Zi||+Qi[1]<57)||Xi&&Zi,ns=0;ns<10;ns++)Ki[48+ns]=Ki[96+ns]=String(ns);for(ns=1;ns<=24;ns++)Ki[ns+111]="F"+ns;for(ns=65;ns<=90;ns++)Ki[ns]=String.fromCharCode(ns+32),Gi[ns]=String.fromCharCode(ns);for(var rs in Ki)Gi.hasOwnProperty(rs)||(Gi[rs]=Ki[rs]);var is=function(t){var e=!(es&&(t.ctrlKey||t.altKey||t.metaKey)||(Yi||ts)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?Gi:Ki)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e},ss="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function as(t){var e,n,r,o,i=t.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(var a=0;a<i.length-1;a++){var c=i[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))e=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))r=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);ss?o=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function cs(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function ps(t){return new Pe({props:{handleKeyDown:ls(t)}})}function ls(t){var e=function(t){var e=Object.create(null);for(var n in t)e[as(n)]=t[n];return e}(t);return function(t,n){var r,o=is(n),i=1==o.length&&" "!=o,s=e[cs(o,n,!i)];if(s&&s(t.state,t.dispatch,t))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey)&&(r=Ui[n.keyCode])&&r!=o){var a=e[cs(r,n,!0)];if(a&&a(t.state,t.dispatch,t))return!0}else if(i&&n.shiftKey){var c=e[cs(o,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}return!1}}const hs=[ps({Enter:(us=ci.nodes.list_item,function(t,e){var n=t.selection,r=n.$from,o=n.$to,i=n.node;if(i&&i.isBlock||r.depth<2||!r.sameParent(o))return!1;var s=r.node(-1);if(s.type!=us)return!1;if(0==r.parent.content.size){if(2==r.depth||r.node(-3).type!=us||r.index(-2)!=r.node(-2).childCount-1)return!1;if(e){for(var a=T.empty,c=r.index(-1)>0,p=r.depth-(c?1:2);p>=r.depth-3;p--)a=T.from(r.node(p).copy(a));a=a.append(T.from(us.createAndFill()));var l=t.tr.replace(r.before(c?null:-1),r.after(-3),new R(a,c?3:2,2));l.setSelection(t.selection.constructor.near(l.doc.resolve(r.pos+(c?3:2)))),e(l.scrollIntoView())}return!0}var h=o.pos==r.end()?s.contentMatchAt(0).defaultType:null,u=t.tr.delete(r.pos,o.pos),f=h&&[null,{type:h}];return!!ee(u.doc,r.pos,2,f)&&(e&&e(u.split(r.pos,2,f).scrollIntoView()),!0)})}),ps({Enter(t,e){const{selection:{$from:n,from:r},tr:o}=t;if(n.parent.type!==ci.nodes.checklist_item)return!1;o.deleteSelection();const i=o.doc.resolve(r);if(2===i.parent.nodeSize){const t=i.pos;return o.replaceWith(t-1,t+1,ci.nodes.paragraph.createAndFill()),e(o),!0}return o.split(r,void 0,[{type:ci.nodes.checklist_item,attrs:{checked:!1}}]),e(o),!0}}),ps(Ai)];var us,fs=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};function ds(){return Hi.latestDoc?ci.nodeFromJSON(Hi.latestDoc):ci.topNodeType.createAndFill()}!function(){fs(this,void 0,void 0,(function*(){yield Hi.ready();const t=window.view=new vo(document.querySelector("#editor"),{state:Ie.create({doc:ds(),plugins:[...hs,new Ii(document.querySelector("#toolbar"),document.querySelector("#link-modal")),new Pe({props:{nodeViews:Wi}}),hi,Vo()]}),dispatchTransaction(e){const n=t.state.apply(e);t.updateState(n),Hi.saveNote(n.doc.toJSON())}});Hi.onUpdate(e=>{t.setProps({state:Ie.create({doc:ds(),plugins:t.state.plugins})})})}))}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jaGVja19ib3gtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jaGVja19ib3hfb3V0bGluZV9ibGFuay0yNHB4LnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2NvZGUtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9mb3JtYXRfYm9sZC0yNHB4LnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2Zvcm1hdF9pdGFsaWMtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9mb3JtYXRfbGlzdF9idWxsZXRlZC0yNHB4LnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2Zvcm1hdF9saXN0X251bWJlcmVkLTI0cHguc3ZnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvZm9ybWF0X3NpemUtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9saW5rLTI0cHguc3ZnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvbm90ZXMtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9vcGVuX2luX25ldy0yNHB4LnN2ZyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbXBvbmVudE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yLXZpZXcvc3R5bGUvcHJvc2VtaXJyb3IuY3NzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMuY3NzIiwid2VicGFjazovLy8uL3NyYy9leHQuanNvbiIsIndlYnBhY2s6Ly8vLi9zcmMvZGV2LWV4dC5qc29uIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vcmRlcmVkbWFwL2luZGV4LmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdmdzLnRzIiwid2VicGFjazovLy8uLi9zcmMvZnJhZ21lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kaWZmLmpzIiwid2VicGFjazovLy8uLi9zcmMvY29tcGFyZWRlZXAuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tYXJrLmpzIiwid2VicGFjazovLy8uLi9zcmMvcmVwbGFjZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3Jlc29sdmVkcG9zLmpzIiwid2VicGFjazovLy8uLi9zcmMvbm9kZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zY2hlbWEuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9mcm9tX2RvbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RvX2RvbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL21hcC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3N0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZXBsYWNlX3N0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zdHJ1Y3R1cmUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tYXJrX3N0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zZWxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy90cmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3N0YXRlLmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLmpzIiwid2VicGFjazovLy8uLi9zcmMvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RvbWNvb3Jkcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3ZpZXdkZXNjLmpzIiwid2VicGFjazovLy8uLi9zcmMvY2FwdHVyZWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kb21jaGFuZ2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jbGlwYm9hcmQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kb21vYnNlcnZlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2lucHV0LmpzIiwid2VicGFjazovLy8uLi9zcmMvZGVjb3JhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3BlLXNlcXVlbmNlL2Rpc3QvaW5kZXguZXMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9oaXN0b3J5LmpzIiwid2VicGFjazovLy8uLi9zcmMvaW5wdXRydWxlcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3J1bGVzLmpzIiwid2VicGFjazovLy8uLi9zcmMvc2NoZW1hLWxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zY2hlbWEtYmFzaWMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjaGVtYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5wdXRSdWxlcy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3J1bGVidWlsZGVycy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbW1hbmRzLmpzIiwid2VicGFjazovLy8uL3NyYy9Ub29sYmFyUGx1Z2luLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvYnl0ZXNUb1V1aWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2xpZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9ub2RlVmlld3MudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3czYy1rZXluYW1lL2luZGV4LmVzLmpzIiwid2VicGFjazovLy8uLi9zcmMva2V5bWFwLmpzIiwid2VicGFjazovLy8uL3NyYy9rZXltYXBzLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkNvbXBvbmVudE1hbmFnZXIiLCJwZXJtaXNzaW9ucyIsIm9uUmVhZHkiLCJ0aGlzIiwic2VudE1lc3NhZ2VzIiwibWVzc2FnZVF1ZXVlIiwibG9nZ2luZ0VuYWJsZWQiLCJhY2NlcHRzVGhlbWVzIiwiYWN0aXZlVGhlbWVzIiwiaW5pdGlhbFBlcm1pc3Npb25zIiwib25SZWFkeUNhbGxiYWNrIiwiY29hbGxlc2VkU2F2aW5nIiwiY29hbGxlc2VkU2F2aW5nRGVsYXkiLCJyZWdpc3Rlck1lc3NhZ2VIYW5kbGVyIiwibWVzc2FnZUhhbmRsZXIiLCJldmVudCIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwiZG9jdW1lbnQiLCJyZWZlcnJlciIsIlVSTCIsIm9yaWdpbiIsInBhcnNlZERhdGEiLCJKU09OIiwicGFyc2UiLCJoYW5kbGVNZXNzYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsInBheWxvYWQiLCJhY3Rpb24iLCJzZXNzaW9uS2V5IiwiY29tcG9uZW50RGF0YSIsImFjdGl2YXRlVGhlbWVzIiwidGhlbWVzIiwib3JpZ2luYWwiLCJvcmlnaW5hbE1lc3NhZ2UiLCJmaWx0ZXIiLCJtZXNzYWdlIiwibWVzc2FnZUlkIiwiYWxlcnQiLCJjYWxsYmFjayIsImVudmlyb25tZW50IiwicGxhdGZvcm0iLCJ1dWlkIiwiaXNNb2JpbGUiLCJsZW5ndGgiLCJyZXF1ZXN0UGVybWlzc2lvbnMiLCJwb3N0TWVzc2FnZSIsImFjdGl2ZVRoZW1lVXJscyIsImdlbmVyYXRlVVVJRCIsImFwaSIsInNlbnRNZXNzYWdlIiwic3RyaW5naWZ5IiwicHVzaCIsInBhcmVudCIsInR5cGUiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRlbnRUeXBlcyIsIkFycmF5IiwiaXNBcnJheSIsImNvbnRlbnRfdHlwZXMiLCJpdGVtcyIsIml0ZW0iLCJsYXN0U3RyZWFtZWRJdGVtIiwicGVuZGluZ1NhdmVUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiX3BlcmZvcm1TYXZpbmdPZkl0ZW1zIiwicGVuZGluZ1NhdmVQYXJhbXMiLCJqc29uT2JqZWN0Rm9ySXRlbSIsImFzc29jaWF0ZUl0ZW0iLCJtYXBwZWQiLCJtYXAiLCJjb250ZW50X3R5cGUiLCJkZWxldGVJdGVtcyIsInBhcmFtcyIsInNraXBEZWJvdW5jZXIiLCJzYXZlSXRlbXMiLCJwcmVzYXZlIiwic2F2ZUl0ZW1zV2l0aFByZXNhdmUiLCJtYXBwZWRJdGVtcyIsInBlbmRpbmdTYXZlSXRlbXMiLCJpbmNvbWluZ0lkcyIsInByZWV4aXN0aW5nSXRlbXMiLCJpbmNsdWRlcyIsImNvbmNhdCIsInNldFRpbWVvdXQiLCJjb3B5IiwiYXNzaWduIiwiY2hpbGRyZW4iLCJjb250ZW50IiwiYXBwRGF0YSIsImluY29taW5nVXJscyIsInNvcnQiLCJ0b1N0cmluZyIsInRoZW1lc1RvQWN0aXZhdGUiLCJ0aGVtZXNUb0RlYWN0aXZhdGUiLCJhY3RpdmVVcmwiLCJjYW5kaWRhdGUiLCJ0aGVtZSIsImRlYWN0aXZhdGVUaGVtZSIsInVybCIsImxpbmsiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJidG9hIiwiaHJlZiIsInJlbCIsIm1lZGlhIiwiY2xhc3NOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhcHBlbmRDaGlsZCIsImZyb20iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwic2xpY2UiLCJmaW5kIiwiZWxlbWVudCIsInRoZW1lRWxlbWVudEZvclVybCIsImRpc2FibGVkIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiY3J5cHRvIiwibXNDcnlwdG8iLCJidWYiLCJVaW50MzJBcnJheSIsImdldFJhbmRvbVZhbHVlcyIsImlkeCIsInJlcGxhY2UiLCJEYXRlIiwiZ2V0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsImZsb29yIiwiT3JkZXJlZE1hcCIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lckhUTUwiLCJjb25zdHJ1Y3RvciIsImZvdW5kIiwidW5kZWZpbmVkIiwidXBkYXRlIiwibmV3S2V5Iiwic2VsZiIsInJlbW92ZSIsInNwbGljZSIsImFkZFRvU3RhcnQiLCJhZGRUb0VuZCIsImFkZEJlZm9yZSIsInBsYWNlIiwid2l0aG91dCIsImZvckVhY2giLCJmIiwicHJlcGVuZCIsInNpemUiLCJzdWJ0cmFjdCIsImFwcGVuZCIsInJlc3VsdCIsInByb3AiLCJGcmFnbWVudCIsImxldCIsIm5vZGVTaXplIiwibm9kZXNCZXR3ZWVuIiwidG8iLCJub2RlU3RhcnQiLCJwb3MiLCJjaGlsZCIsImVuZCIsInN0YXJ0IiwibWF4IiwibWluIiwiZGVzY2VuZGFudHMiLCJ0ZXh0QmV0d2VlbiIsImJsb2NrU2VwYXJhdG9yIiwibGVhZlRleHQiLCJ0ZXh0Iiwic2VwYXJhdGVkIiwibm9kZSIsImlzVGV4dCIsImlzTGVhZiIsImlzQmxvY2siLCJvdGhlciIsImxhc3QiLCJsYXN0Q2hpbGQiLCJmaXJzdCIsImZpcnN0Q2hpbGQiLCJzYW1lTWFya3VwIiwid2l0aFRleHQiLCJjdXQiLCJjdXRCeUluZGV4IiwiZW1wdHkiLCJyZXBsYWNlQ2hpbGQiLCJpbmRleCIsImN1cnJlbnQiLCJlcSIsImNoaWxkQ291bnQiLCJSYW5nZUVycm9yIiwibWF5YmVDaGlsZCIsImZpbmREaWZmU3RhcnQiLCJhIiwiYiIsImNoaWxkQSIsImNoaWxkQiIsImoiLCJpbm5lciIsImZpbmREaWZmRW5kIiwib3RoZXJQb3MiLCJwb3NBIiwicG9zQiIsImlBIiwiaUIiLCJzYW1lIiwibWluU2l6ZSIsImZpbmRJbmRleCIsInJvdW5kIiwicmV0SW5kZXgiLCJjdXJQb3MiLCJ0b1N0cmluZ0lubmVyIiwiam9pbiIsInRvSlNPTiIsImZyb21KU09OIiwic2NoZW1hIiwibm9kZUZyb21KU09OIiwiZnJvbUFycmF5IiwiYXJyYXkiLCJqb2luZWQiLCJub2RlcyIsImF0dHJzIiwiY29uc3QiLCJvZmZzZXQiLCJjb21wYXJlRGVlcCIsIiRmcm9tIiwicHJvdG90eXBlQWNjZXNzb3JzIiwiUmVzb2x2ZWRQb3MiLCJwYXRoIiwicGFyZW50T2Zmc2V0IiwiZGVwdGgiLCJyZXNvbHZlRGVwdGgiLCJ2YWwiLCJkb2MiLCJpbmRleEFmdGVyIiwidGV4dE9mZnNldCIsImJlZm9yZSIsImFmdGVyIiwibm9kZUFmdGVyIiwiZE9mZiIsIm5vZGVCZWZvcmUiLCJtYXJrcyIsIk1hcmsiLCJub25lIiwibWFpbiIsInRtcCIsInNwZWMiLCJpbmNsdXNpdmUiLCJpc0luU2V0IiwicmVtb3ZlRnJvbVNldCIsIm1hcmtzQWNyb3NzIiwiJGVuZCIsImlzSW5saW5lIiwibmV4dCIsInNoYXJlZERlcHRoIiwiYmxvY2tSYW5nZSIsInByZWQiLCJpbmxpbmVDb250ZW50IiwiTm9kZVJhbmdlIiwic2FtZVBhcmVudCIsInN0ciIsInJlc29sdmUiLCJyZW0iLCJyZXNvbHZlQ2FjaGVkIiwicmVzb2x2ZUNhY2hlIiwiY2FjaGVkIiwicmVzb2x2ZUNhY2hlUG9zIiwicmVzb2x2ZUNhY2hlU2l6ZSIsIiR0byIsInByb3RvdHlwZUFjY2Vzc29ycyQxIiwic3RhcnRJbmRleCIsImVuZEluZGV4IiwiZW1wdHlBdHRycyIsIk5vZGUiLCJzdGFydFBvcyIsInRleHRDb250ZW50IiwiaGFzTWFya3VwIiwiZGVmYXVsdEF0dHJzIiwic2FtZVNldCIsIm1hcmsiLCJpbmNsdWRlUGFyZW50cyIsIlNsaWNlIiwibm9kZUF0IiwiY2hpbGRBZnRlciIsImNoaWxkQmVmb3JlIiwicmVzb2x2ZU5vQ2FjaGUiLCJyYW5nZUhhc01hcmsiLCJpc1RleHRibG9jayIsImlzQXRvbSIsInRvRGVidWdTdHJpbmciLCJ3cmFwTWFya3MiLCJjb250ZW50TWF0Y2hBdCIsIm1hdGNoIiwiY29udGVudE1hdGNoIiwibWF0Y2hGcmFnbWVudCIsIkVycm9yIiwiY2FuUmVwbGFjZSIsInJlcGxhY2VtZW50Iiwib25lIiwidHdvIiwidmFsaWRFbmQiLCJhbGxvd3NNYXJrcyIsImNhblJlcGxhY2VXaXRoIiwibWF0Y2hUeXBlIiwiY2FuQXBwZW5kIiwiY29tcGF0aWJsZUNvbnRlbnQiLCJjaGVjayIsInZhbGlkQ29udGVudCIsIm9iaiIsIl8iLCJqc29uIiwibWFya0Zyb21KU09OIiwibm9kZVR5cGUiLCJUZXh0Tm9kZSIsInN1cGVyIiwiYmFzZSIsIkNvbnRlbnRNYXRjaCIsIndyYXBDYWNoZSIsInN0cmluZyIsIm5vZGVUeXBlcyIsInN0cmVhbSIsIlRva2VuU3RyZWFtIiwiZXhwciIsInBhcnNlRXhwciIsImVyciIsIm5mYSIsImxhYmVsZWQiLCJleHBsb3JlIiwic3RhdGVzIiwib3V0IiwidGVybSIsImtub3duIiwiaW5kZXhPZiIsInNldCIsIm51bGxGcm9tIiwic3RhdGUiLCJjbXAiLCJkZmEiLCJjb25uZWN0IiwiY29tcGlsZSIsImV4cHJzIiwicmVkdWNlIiwibG9vcCIsImVkZ2UiLCJjdXIiLCJlZGdlcyIsIndvcmsiLCJkZWFkIiwiaGFzUmVxdWlyZWRBdHRycyIsImNoZWNrRm9yRGVhZEVuZHMiLCJmcmFnIiwiZGVmYXVsdFR5cGUiLCJjb21wYXRpYmxlIiwiZmlsbEJlZm9yZSIsInRvRW5kIiwic2VlbiIsInNlYXJjaCIsInR5cGVzIiwiZmluaXNoZWQiLCJ0cCIsImNyZWF0ZUFuZEZpbGwiLCJmaW5kV3JhcHBpbmciLCJ0YXJnZXQiLCJjb21wdXRlZCIsImNvbXB1dGVXcmFwcGluZyIsImFjdGl2ZSIsInZpYSIsInNoaWZ0IiwicmV2ZXJzZSIsImVkZ2VDb3VudCIsInNjYW4iLCJpbmxpbmUiLCJ0b2tlbnMiLCJzcGxpdCIsInBvcCIsInVuc2hpZnQiLCJwYXJzZUV4cHJTZXEiLCJlYXQiLCJwYXJzZUV4cHJTdWJzY3JpcHQiLCJ0ZXN0IiwidHlwZU5hbWUiLCJncm91cHMiLCJyZXNvbHZlTmFtZSIsInBhcnNlRXhwckF0b20iLCJwYXJzZUV4cHJSYW5nZSIsInBhcnNlTnVtIiwiTnVtYmVyIiwiZGVmYXVsdHMiLCJhdHRyTmFtZSIsImF0dHIiLCJoYXNEZWZhdWx0IiwiZGVmYXVsdCIsImNvbXB1dGVBdHRycyIsImJ1aWx0IiwiZ2l2ZW4iLCJpbml0QXR0cnMiLCJBdHRyaWJ1dGUiLCJ0b2siLCJTeW50YXhFcnJvciIsIk5vZGVUeXBlIiwiZ3JvdXAiLCJtYXJrU2V0IiwiYXRvbSIsImlzUmVxdWlyZWQiLCJzZXRGcm9tIiwiY3JlYXRlQ2hlY2tlZCIsImFsbG93c01hcmtUeXBlIiwibWFya1R5cGUiLCJhbGxvd2VkTWFya3MiLCJ0b3BUeXBlIiwidG9wTm9kZSIsIm9wdGlvbnMiLCJNYXJrVHlwZSIsInJhbmsiLCJleGNsdWRlZCIsImluc3RhbmNlIiwiZXhjbHVkZXMiLCJjb250ZW50RXhwckNhY2hlIiwiY29udGVudEV4cHIiLCJtYXJrRXhwciIsImdhdGhlck1hcmtzIiwiZXhjbCIsInRvcE5vZGVUeXBlIiwid3JhcHBpbmdzIiwib2siLCJET01QYXJzZXIiLCJydWxlcyIsInRhZ3MiLCJzdHlsZXMiLCJydWxlIiwidGFnIiwic3R5bGUiLCJkb20iLCJjb250ZXh0IiwiUGFyc2VDb250ZXh0IiwiYWRkQWxsIiwiZmluaXNoIiwicGFyc2VTbGljZSIsIm1heE9wZW4iLCJtYXRjaFRhZyIsIm1hdGNoZXMiLCJuYW1lc3BhY2UiLCJuYW1lc3BhY2VVUkkiLCJtYXRjaGVzQ29udGV4dCIsImdldEF0dHJzIiwibWF0Y2hTdHlsZSIsImNoYXJDb2RlQXQiLCJzY2hlbWFSdWxlcyIsImluc2VydCIsInByaW9yaXR5IiwicGFyc2VET00iLCJmcm9tU2NoZW1hIiwiZG9tUGFyc2VyIiwiYmxvY2tUYWdzIiwiYWRkcmVzcyIsImFydGljbGUiLCJhc2lkZSIsImJsb2NrcXVvdGUiLCJjYW52YXMiLCJkZCIsImRpdiIsImRsIiwiZmllbGRzZXQiLCJmaWdjYXB0aW9uIiwiZmlndXJlIiwiZm9vdGVyIiwiZm9ybSIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsImhlYWRlciIsImhncm91cCIsImhyIiwibGkiLCJub3NjcmlwdCIsIm9sIiwib3V0cHV0IiwicHJlIiwic2VjdGlvbiIsInRhYmxlIiwidGZvb3QiLCJ1bCIsImlnbm9yZVRhZ3MiLCJoZWFkIiwic2NyaXB0IiwidGl0bGUiLCJsaXN0VGFncyIsIndzT3B0aW9uc0ZvciIsInByZXNlcnZlV2hpdGVzcGFjZSIsIk5vZGVDb250ZXh0IiwicGVuZGluZ01hcmtzIiwic29saWQiLCJhY3RpdmVNYXJrcyIsImZpbGwiLCJ3cmFwIiwib3BlbkVuZCIsImV4ZWMiLCJhcHBseVBlbmRpbmciLCJuZXh0VHlwZSIsInBlbmRpbmciLCJtYXJrTWF5QXBwbHkiLCJhZGRUb1NldCIsInBhcnNlciIsIm9wZW4iLCJpc09wZW4iLCJ0b3BDb250ZXh0IiwidG9wT3B0aW9ucyIsInRvcE1hdGNoIiwiZmluZFBvc2l0aW9ucyIsIm5lZWRzQmxvY2siLCJzZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwidG9wIiwiYWRkRE9NIiwiYWRkVGV4dE5vZGUiLCJnZXRBdHRyaWJ1dGUiLCJyZWFkU3R5bGVzIiwicmUiLCJ0cmltIiwicGFyc2VTdHlsZXMiLCJhZGRQZW5kaW5nTWFyayIsImFkZEVsZW1lbnQiLCJyZW1vdmVQZW5kaW5nTWFyayIsIm5vZGVWYWx1ZSIsImRvbU5vZGVCZWZvcmUiLCJwcmV2aW91c1NpYmxpbmciLCJub2RlTmFtZSIsImluc2VydE5vZGUiLCJmaW5kSW5UZXh0IiwiZmluZEluc2lkZSIsInRvTG93ZXJDYXNlIiwicHJldkl0ZW0iLCJuZXh0U2libGluZyIsIm5vcm1hbGl6ZUxpc3QiLCJydWxlRnJvbU5vZGUiLCJpZ25vcmUiLCJza2lwIiwic3luYyIsIm9sZE5lZWRzQmxvY2siLCJsZWFmRmFsbGJhY2siLCJhZGRFbGVtZW50QnlSdWxlIiwib3duZXJEb2N1bWVudCIsImNyZWF0ZVRleHROb2RlIiwiZW50ZXIiLCJzdGFydEluIiwiZ2V0Q29udGVudCIsImNvbnRlbnRET00iLCJjb250ZW50RWxlbWVudCIsImZpbmRBcm91bmQiLCJjaGlsZE5vZGVzIiwiZmluZEF0UG9pbnQiLCJmaW5kUGxhY2UiLCJyb3V0ZSIsImN4IiwiZW50ZXJJbm5lciIsImJsb2NrIiwidGV4dGJsb2NrRnJvbUNvbnRleHQiLCJjbG9zZUV4dHJhIiwicHJlc2VydmVXUyIsInRvcE9wZW4iLCJjdXJyZW50UG9zIiwiY29udGFpbnMiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsInRleHROb2RlIiwic29tZSIsInBhcnRzIiwib3B0aW9uIiwidXNlUm9vdCIsIm1pbkRlcHRoIiwicGFydCIsIiRjb250ZXh0IiwiZGVmbHQiLCJ1cHRvIiwibGV2ZWwiLCJsYXN0SW5kZXhPZiIsIkRPTVNlcmlhbGl6ZXIiLCJnYXRoZXJUb0RPTSIsInRvRE9NIiwic2VyaWFsaXplRnJhZ21lbnQiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJrZWVwIiwicmVuZGVyZWQiLCJzcGFubmluZyIsImFkZCIsIm1hcmtET00iLCJzZXJpYWxpemVNYXJrIiwic2VyaWFsaXplTm9kZSIsInJlbmRlclNwZWMiLCJvbkNvbnRlbnQiLCJzZXJpYWxpemVOb2RlQW5kTWFya3MiLCJzdHJ1Y3R1cmUiLCJ4bWxOUyIsInRhZ05hbWUiLCJzcGFjZSIsImNyZWF0ZUVsZW1lbnROUyIsInNldEF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlIiwiaW5uZXJDb250ZW50IiwiZG9tU2VyaWFsaXplciIsIm5vZGVzRnJvbVNjaGVtYSIsIm1hcmtzRnJvbVNjaGVtYSIsImZhY3RvcjE2IiwicG93IiwicmVjb3ZlckluZGV4IiwiTWFwUmVzdWx0IiwiZGVsZXRlZCIsInJlY292ZXIiLCJTdGVwTWFwIiwicmFuZ2VzIiwiaW52ZXJ0ZWQiLCJkaWZmIiwicmVjb3Zlck9mZnNldCIsIm1hcFJlc3VsdCIsImFzc29jIiwiX21hcCIsInNpbXBsZSIsIm9sZEluZGV4IiwibmV3SW5kZXgiLCJvbGRTaXplIiwibmV3U2l6ZSIsInRvdWNoZXMiLCJvbGRTdGFydCIsIm5ld1N0YXJ0IiwiaW52ZXJ0IiwiTWFwcGluZyIsIm1hcHMiLCJtaXJyb3IiLCJUcmFuc2Zvcm1FcnJvciIsIl9fcHJvdG9fXyIsImFwcGVuZE1hcCIsIm1pcnJvcnMiLCJzZXRNaXJyb3IiLCJhcHBlbmRNYXBwaW5nIiwibWFwcGluZyIsInN0YXJ0U2l6ZSIsIm1pcnIiLCJnZXRNaXJyb3IiLCJhcHBlbmRNYXBwaW5nSW52ZXJ0ZWQiLCJ0b3RhbFNpemUiLCJpbnZlcnNlIiwicmVjb3ZlcmFibGVzIiwicmVjIiwiY29yciIsInN0ZXBzIiwiZG9jcyIsIm11c3RPdmVycmlkZSIsInN0ZXAiLCJtYXliZVN0ZXAiLCJmYWlsZWQiLCJhcHBseSIsImFkZFN0ZXAiLCJkb2NDaGFuZ2VkIiwiZ2V0TWFwIiwic3RlcHNCeUlEIiwiX2RvYyIsIl9tYXBwaW5nIiwibWVyZ2UiLCJfb3RoZXIiLCJzdGVwVHlwZSIsImpzb25JRCIsInN0ZXBDbGFzcyIsIlN0ZXBSZXN1bHQiLCJmYWlsIiwiZnJvbVJlcGxhY2UiLCJlIiwiUmVwbGFjZUVycm9yIiwiY29udGVudEJldHdlZW4iLCJSZXBsYWNlU3RlcCIsIm9wZW5TdGFydCIsImdhcEZyb20iLCJnYXBUbyIsImdhcCIsImluc2VydGVkIiwiaW5zZXJ0QXQiLCJSZXBsYWNlQXJvdW5kU3RlcCIsInJlbW92ZUJldHdlZW4iLCJkaXN0IiwiY2FuQ3V0IiwibGlmdFRhcmdldCIsInJhbmdlIiwiaXNvbGF0aW5nIiwiaW5uZXJSYW5nZSIsImFyb3VuZCIsIm91dGVyIiwiZmluZFdyYXBwaW5nT3V0c2lkZSIsImluc2lkZSIsImlubmVyTWF0Y2giLCJmaW5kV3JhcHBpbmdJbnNpZGUiLCJ3aXRoQXR0cnMiLCJjYW5TcGxpdCIsInR5cGVzQWZ0ZXIiLCIkcG9zIiwiaW5uZXJUeXBlIiwicmVzdCIsImJhc2VUeXBlIiwiY2FuSm9pbiIsIm1hcEZyYWdtZW50IiwibGlmdCIsImdhcFN0YXJ0IiwiZ2FwRW5kIiwic3BsaXR0aW5nIiwid3JhcHBlcnMiLCJzZXRCbG9ja1R5cGUiLCJtYXBGcm9tIiwiY2FuQ2hhbmdlVHlwZSIsImNsZWFySW5jb21wYXRpYmxlIiwic3RhcnRNIiwiZW5kTSIsInNldE5vZGVNYXJrdXAiLCJuZXdOb2RlIiwicmVwbGFjZVdpdGgiLCJ0eXBlQWZ0ZXIiLCJvbGRTbGljZSIsIkFkZE1hcmtTdGVwIiwiUmVtb3ZlTWFya1N0ZXAiLCJyZXBsYWNlU3RlcCIsImZpdHNUcml2aWFsbHkiLCJmaXR0ZWRMZWZ0IiwicGxhY2VkIiwiZml0TGVmdElubmVyIiwicGxhY2VkQmVsb3ciLCJwbGFjZWRIZXJlIiwiZml0TGVmdCIsImZyb250aWVyIiwicGFzcyIsInBsYWNlU2xpY2UiLCJjbG9zZU5vZGUiLCJmaXR0ZWQiLCJmaXRSaWdodCIsIm5vZGVSaWdodCIsImNhbk1vdmVUZXh0IiwiZml0dGVkQWZ0ZXIiLCJmaXRSaWdodEpvaW4iLCJjb3VudCIsIm1hdGNoQ291bnQiLCJ0b05vZGUiLCJqb2luYWJsZSIsInRvSW5kZXgiLCJjbG9zZWQiLCJmaXRSaWdodENsb3NlZCIsImZpdFJpZ2h0U2VwYXJhdGUiLCJub3JtYWxpemVTbGljZSIsImFkZE1hcmsiLCJyZW1vdmVkIiwiYWRkZWQiLCJyZW1vdmluZyIsImFkZGluZyIsIm5ld1NldCIsInJlbW92ZU1hcmsiLCJtYXRjaGVkIiwidG9SZW1vdmUiLCJwYXJlbnRUeXBlIiwiZGVsU3RlcHMiLCJhbGxvd2VkIiwiZGVsZXRlIiwid3JhcHBlciIsImNsb3NlTm9kZVN0YXJ0IiwiY2xvc2VGcmFnbWVudCIsIm9sZE9wZW4iLCJuZXdPcGVuIiwiY292ZXJlZERlcHRocyIsInBsYWNlQ29udGVudCIsInNpbmdsZSIsInciLCJjaCIsImFkZE5vZGUiLCJjbG9zZU5vZGVFbmQiLCJyZXBsYWNlUmFuZ2UiLCJkZWxldGVSYW5nZSIsInRhcmdldERlcHRocyIsInByZWZlcnJlZFRhcmdldCIsImRlZmluaW5nIiwicHJlZmVycmVkVGFyZ2V0SW5kZXgiLCJsZWZ0Tm9kZXMiLCJwcmVmZXJyZWREZXB0aCIsIm9wZW5EZXB0aCIsInRhcmdldERlcHRoIiwiZXhwYW5kIiwic3RhcnRTdGVwcyIsInJlcGxhY2VSYW5nZVdpdGgiLCJwb2ludCIsImluc2VydFBvaW50IiwiY292ZXJlZCIsInRpbWUiLCJjdXJTZWxlY3Rpb24iLCJzZWxlY3Rpb24iLCJjdXJTZWxlY3Rpb25Gb3IiLCJzdG9yZWRNYXJrcyIsInVwZGF0ZWQiLCJtZXRhIiwic2V0U2VsZWN0aW9uIiwic2VsZWN0aW9uU2V0Iiwic2V0U3RvcmVkTWFya3MiLCJlbnN1cmVNYXJrcyIsImFkZFN0b3JlZE1hcmsiLCIkaGVhZCIsInJlbW92ZVN0b3JlZE1hcmsiLCJzdG9yZWRNYXJrc1NldCIsInNldFRpbWUiLCJyZXBsYWNlU2VsZWN0aW9uIiwicmVwbGFjZVNlbGVjdGlvbldpdGgiLCJpbmhlcml0TWFya3MiLCJkZWxldGVTZWxlY3Rpb24iLCJpbnNlcnRUZXh0IiwibmVhciIsInNldE1ldGEiLCJnZXRNZXRhIiwiaXNHZW5lcmljIiwic2Nyb2xsSW50b1ZpZXciLCJzY3JvbGxlZEludG9WaWV3IiwiRmllbGREZXNjIiwiZGVzYyIsImluaXQiLCJiYXNlRmllbGRzIiwiY29uZmlnIiwidHIiLCJhdFN0YXJ0IiwiX21hcmtzIiwiX29sZCIsIiRjdXJzb3IiLCJwcmV2IiwiQ29uZmlndXJhdGlvbiIsInBsdWdpbnMiLCJmaWVsZHMiLCJwbHVnaW5zQnlLZXkiLCJwbHVnaW4iLCJFZGl0b3JTdGF0ZSIsImFwcGx5VHJhbnNhY3Rpb24iLCJmaWx0ZXJUcmFuc2FjdGlvbiIsInJvb3RUciIsInRyYW5zYWN0aW9ucyIsInRycyIsIm5ld1N0YXRlIiwiYXBwbHlJbm5lciIsImhhdmVOZXciLCJhcHBlbmRUcmFuc2FjdGlvbiIsIm9sZFN0YXRlIiwibmV3SW5zdGFuY2UiLCJmaWVsZCIsImFwcGx5TGlzdGVuZXJzIiwiJGNvbmZpZyIsInJlY29uZmlndXJlIiwicGx1Z2luRmllbGRzIiwiYWRkQXBwbHlMaXN0ZW5lciIsInJlbW92ZUFwcGx5TGlzdGVuZXIiLCJQbHVnaW4iLCJwcm9wcyIsImJpbmRQcm9wcyIsIkZ1bmN0aW9uIiwiY3JlYXRlS2V5IiwiZ2V0U3RhdGUiLCJrZXlzIiwiUGx1Z2luS2V5IiwibmF2aWdhdG9yIiwiaWVfZWRnZSIsInVzZXJBZ2VudCIsImllX3VwdG8xMCIsImllXzExdXAiLCJtYWMiLCJpZSIsImllX3ZlcnNpb24iLCJkb2N1bWVudE1vZGUiLCJnZWNrbyIsImdlY2tvX3ZlcnNpb24iLCJjaHJvbWUiLCJjaHJvbWVfdmVyc2lvbiIsImlvcyIsImFuZHJvaWQiLCJ3ZWJraXQiLCJkb2N1bWVudEVsZW1lbnQiLCJzYWZhcmkiLCJ2ZW5kb3IiLCJ3ZWJraXRfdmVyc2lvbiIsImRvbUluZGV4IiwiaG9zdCIsInRleHRSYW5nZSIsImNyZWF0ZVJhbmdlIiwic2V0RW5kIiwic2V0U3RhcnQiLCJpc0VxdWl2YWxlbnRQb3NpdGlvbiIsIm9mZiIsInRhcmdldE5vZGUiLCJ0YXJnZXRPZmYiLCJzY2FuRm9yIiwiYXRvbUVsZW1lbnRzIiwiZGlyIiwiaGFzQmxvY2tEZXNjIiwiY29udGVudEVkaXRhYmxlIiwicG1WaWV3RGVzYyIsInNlbGVjdGlvbkNvbGxhcHNlZCIsImRvbVNlbCIsImNvbGxhcHNlZCIsImlzQ29sbGFwc2VkIiwiYnJvd3NlciIsInJhbmdlQ291bnQiLCJnZXRSYW5nZUF0Iiwia2V5RXZlbnQiLCJrZXlDb2RlIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJjb2RlIiwid2luZG93UmVjdCIsIndpbiIsImxlZnQiLCJyaWdodCIsImlubmVyV2lkdGgiLCJib3R0b20iLCJpbm5lckhlaWdodCIsImdldFNpZGUiLCJzaWRlIiwic2Nyb2xsUmVjdEludG9WaWV3IiwidmlldyIsInJlY3QiLCJzdGFydERPTSIsInNjcm9sbFRocmVzaG9sZCIsInNvbWVQcm9wIiwic2Nyb2xsTWFyZ2luIiwiZGVmYXVsdFZpZXciLCJhdFRvcCIsImJvZHkiLCJib3VuZGluZyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm1vdmVYIiwibW92ZVkiLCJzY3JvbGxCeSIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJzY3JvbGxTdGFjayIsInN0YWNrIiwicmVzdG9yZVNjcm9sbFN0YWNrIiwiZFRvcCIsInByZXZlbnRTY3JvbGxTdXBwb3J0ZWQiLCJmaW5kT2Zmc2V0SW5Ob2RlIiwiY29vcmRzIiwiY2xvc2VzdCIsImNvb3Jkc0Nsb3Nlc3QiLCJkeENsb3Nlc3QiLCJyb3dCb3QiLCJyb3dUb3AiLCJjaGlsZEluZGV4IiwicmVjdHMiLCJnZXRDbGllbnRSZWN0cyIsImR4IiwibGVuIiwic2luZ2xlUmVjdCIsImluUmVjdCIsImZpbmRPZmZzZXRJblRleHQiLCJwb3NBdENvb3JkcyIsInJvb3QiLCJjYXJldFBvc2l0aW9uRnJvbVBvaW50IiwiY2FyZXRSYW5nZUZyb21Qb2ludCIsImVsdCIsImVsZW1lbnRGcm9tUG9pbnQiLCJib3giLCJzdGFydEkiLCJ0YXJnZXRLbHVkZ2UiLCJvdXRzaWRlIiwiZG9jVmlldyIsIm5lYXJlc3REZXNjIiwicG9zQmVmb3JlIiwicG9zQWZ0ZXIiLCJwb3NGcm9tRE9NIiwicG9zRnJvbUNhcmV0IiwiYmlhcyIsInBvc0Zyb21FbGVtZW50IiwicG9zQXRTdGFydCIsImJvcmRlciIsImNvb3Jkc0F0UG9zIiwiZG9tRnJvbVBvcyIsInJlY3RCZWZvcmUiLCJhYnMiLCJyZWN0QWZ0ZXIiLCJmbGF0dGVuViIsInkiLCJmbGF0dGVuSCIsIngiLCJ3aXRoRmx1c2hlZFN0YXRlIiwidmlld1N0YXRlIiwiYWN0aXZlRWxlbWVudCIsInVwZGF0ZVN0YXRlIiwiZm9jdXMiLCJtYXliZVJUTCIsImNhY2hlZFN0YXRlIiwiY2FjaGVkRGlyIiwiY2FjaGVkUmVzdWx0IiwiZW5kT2ZUZXh0YmxvY2siLCJzZWwiLCIkYW5jaG9yIiwibmVhcmVzdCIsImJveGVzIiwiZW5kT2ZUZXh0YmxvY2tWZXJ0aWNhbCIsImF0RW5kIiwiZ2V0U2VsZWN0aW9uIiwibW9kaWZ5Iiwib2xkUmFuZ2UiLCJvbGROb2RlIiwiZm9jdXNOb2RlIiwib2xkT2ZmIiwiZm9jdXNPZmZzZXQiLCJvbGRCaWRpTGV2ZWwiLCJjYXJldEJpZGlMZXZlbCIsImRvbUFmdGVyUG9zIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJlbmRPZlRleHRibG9ja0hvcml6b250YWwiLCJkaXJ0eSIsIm1hdGNoZXNXaWRnZXQiLCJtYXRjaGVzTWFyayIsIm1hdGNoZXNOb2RlIiwibWF0Y2hlc0hhY2siLCJiZWZvcmVQb3NpdGlvbiIsInBhcnNlUnVsZSIsInN0b3BFdmVudCIsImRlc3Ryb3kiLCJwb3NCZWZvcmVDaGlsZCIsInBvc0F0RW5kIiwibG9jYWxQb3NGcm9tRE9NIiwiZG9tQmVmb3JlIiwiZG9tQWZ0ZXIiLCJvbmx5Tm9kZXMiLCJnZXREZXNjIiwibm9kZURPTSIsImRlc2NBdCIsInBhcnNlUmFuZ2UiLCJmcm9tT2Zmc2V0IiwidG9PZmZzZXQiLCJjaGlsZEJhc2UiLCJlbXB0eUNoaWxkQXQiLCJhbmNob3IiLCJmb3JjZSIsImFuY2hvckRPTSIsImhlYWRET00iLCJhbmNob3JOb2RlIiwiYW5jaG9yT2Zmc2V0IiwiZXh0ZW5kIiwiY29sbGFwc2UiLCJpZ25vcmVNdXRhdGlvbiIsIm11dGF0aW9uIiwiY29udGVudExvc3QiLCJtYXJrRGlydHkiLCJzdGFydEluc2lkZSIsImVuZEluc2lkZSIsIm1hcmtQYXJlbnRzRGlydHkiLCJub3RoaW5nIiwiV2lkZ2V0Vmlld0Rlc2MiLCJ3aWRnZXQiLCJyYXciLCJjbGFzc0xpc3QiLCJzdG9wIiwiaWdub3JlU2VsZWN0aW9uIiwiQ29tcG9zaXRpb25WaWV3RGVzYyIsInRleHRET00iLCJtdXQiLCJvbGRWYWx1ZSIsImN1c3RvbSIsIm5vZGVWaWV3cyIsIk1hcmtWaWV3RGVzYyIsInJlcGxhY2VOb2RlcyIsIm91dGVyRGVjbyIsImlubmVyRGVjbyIsInVwZGF0ZUNoaWxkcmVuIiwiZGVzY09iaiIsImhhc0F0dHJpYnV0ZSIsImRyYWdnYWJsZSIsImFwcGx5T3V0ZXJEZWNvIiwiQ3VzdG9tTm9kZVZpZXdEZXNjIiwiVGV4dFZpZXdEZXNjIiwiTm9kZVZpZXdEZXNjIiwicmVwYXJzZUluVmlldyIsInNhbWVPdXRlckRlY28iLCJjb21wb3NpdGlvbiIsImNvbXBvc2luZyIsImxvY2FsQ29tcG9zaXRpb25Ob2RlIiwidXBkYXRlciIsIlZpZXdUcmVlVXBkYXRlciIsImRlY28iLCJvbldpZGdldCIsIm9uTm9kZSIsImxvY2FscyIsImZvckNoaWxkIiwiZGVjb0luZGV4IiwicmVzdE5vZGUiLCJwYXJlbnRJbmRleCIsIndpZGdldHMiLCJjb21wYXJlU2lkZSIsImN1dEF0IiwiaXRlckRlY28iLCJpbnNpZGVOb2RlIiwic3luY1RvTWFya3MiLCJwbGFjZVdpZGdldCIsImZpbmROb2RlTWF0Y2giLCJ1cGRhdGVOZXh0Tm9kZSIsImFkZFRleHRibG9ja0hhY2tzIiwiZGVzdHJveVJlc3QiLCJjaGFuZ2VkIiwicHJvdGVjdExvY2FsQ29tcG9zaXRpb24iLCJyZW5kZXJDaGlsZHJlbiIsInJlbmRlckRlc2NzIiwicGFyZW50RE9NIiwiZGVzY3MiLCJjaGlsZERPTSIsInJtIiwiaW5zZXJ0QmVmb3JlIiwib2xkQ1NTIiwiY3NzVGV4dCIsImdldENvbXB1dGVkU3R5bGUiLCJsaXN0U3R5bGUiLCJpb3NIYWNrcyIsIm5lYXJieVRleHROb2RlIiwidGV4dFBvcyIsImNoaWxkU3RhcnQiLCJmaW5kVGV4dEluRnJhZ21lbnQiLCJjb21wb3NpdGlvbk5vZGVzIiwidXBkYXRlSW5uZXIiLCJ1cGRhdGVPdXRlckRlY28iLCJuZWVkc1dyYXAiLCJvbGRET00iLCJwYXRjaE91dGVyRGVjbyIsImNvbXB1dGVPdXRlckRlY28iLCJzZWxlY3ROb2RlIiwiZGVzZWxlY3ROb2RlIiwiZG9jVmlld0Rlc2MiLCJpblBhcmVudCIsIkJSSGFja1ZpZXdEZXNjIiwiT3V0ZXJEZWNvTGV2ZWwiLCJub0RlY28iLCJjbGFzcyIsIm91dGVyRE9NIiwicHJldkNvbXB1dGVkIiwiY3VyQ29tcHV0ZWQiLCJjdXJET00iLCJwYXRjaEF0dHJpYnV0ZXMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJwcmV2TGlzdCIsImN1ckxpc3QiLCJyZW1vdmVQcm9wZXJ0eSIsImxvY2tlZE5vZGUiLCJsb2NrIiwicHJlTWF0Y2giLCJwcmVNYXRjaGVkIiwicHJlTWF0Y2hPZmZzZXQiLCJtb3ZlU2VsZWN0aW9uQmxvY2siLCIkc2lkZSIsIiRzdGFydCIsImZpbmRGcm9tIiwiZGlzcGF0Y2giLCJzZWxlY3RIb3Jpem9udGFsbHkiLCJtb2RzIiwibm9kZVBvcyIsImlzU2VsZWN0YWJsZSIsIm5vZGVMZW4iLCJpc0lnbm9yYWJsZSIsInNraXBJZ25vcmVkTm9kZXNMZWZ0IiwibW92ZU5vZGUiLCJtb3ZlT2Zmc2V0IiwiaXNCbG9ja05vZGUiLCJzZXRTZWxGb2N1cyIsInNraXBJZ25vcmVkTm9kZXNSaWdodCIsImRvbU9ic2VydmVyIiwic2V0Q3VyU2VsZWN0aW9uIiwic2VsZWN0VmVydGljYWxseSIsImJleW9uZCIsInN0b3BOYXRpdmVIb3Jpem9udGFsRGVsZXRlIiwibmV4dE5vZGUiLCJzd2l0Y2hFZGl0YWJsZSIsImNhcHR1cmVLZXlEb3duIiwiY3RybEtleSIsIm1ldGFLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsImdldE1vZHMiLCJjaHJvbWVEb3duQXJyb3dCdWciLCJzZWxlY3Rpb25Gcm9tRE9NIiwiaW5XaWRnZXQiLCJpc09uRWRnZSIsInNlbGVjdGlvbkJldHdlZW4iLCJzZWxlY3Rpb25Ub0RPTSIsInN5bmNOb2RlU2VsZWN0aW9uIiwiZWRpdGFibGUiLCJoYXNGb2N1cyIsImhhc1NlbGVjdGlvbiIsImRpc2Nvbm5lY3RTZWxlY3Rpb24iLCJjdXJzb3JXcmFwcGVyIiwiaW1nIiwidmlzaWJsZSIsInNlbGVjdEN1cnNvcldyYXBwZXIiLCJyZXNldEVkaXRhYmxlRnJvbSIsInJlc2V0RWRpdGFibGVUbyIsImJyb2tlblNlbGVjdEJldHdlZW5VbmVkaXRhYmxlIiwidGVtcG9yYXJpbHlFZGl0YWJsZU5lYXIiLCJyZXNldEVkaXRhYmxlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhpZGVTZWxlY3Rpb25HdWFyZCIsInJlbW92ZUNsYXNzT25TZWxlY3Rpb25DaGFuZ2UiLCJjb25uZWN0U2VsZWN0aW9uIiwiZ2V0UHJlTWF0Y2giLCJkZXN0cm95QmV0d2VlbiIsIm1heEtlZXAiLCJtYXJrRGVzYyIsIm5leHRET00iLCJzZXRFZGl0YWJsZSIsIndhc0RyYWdnYWJsZSIsImxhc3RTZWxlY3RlZFZpZXdEZXNjIiwiY2xlYXJOb2RlU2VsZWN0aW9uIiwiYmV0d2VlbiIsInJlYWRET01DaGFuZ2UiLCJ0eXBlT3ZlciIsImFkZGVkTm9kZXMiLCJsYXN0U2VsZWN0aW9uVGltZSIsImxhc3RTZWxlY3Rpb25PcmlnaW4iLCJuZXdTZWwiLCIkYmVmb3JlIiwic2hhcmVkIiwicHJlZmVycmVkUG9zIiwicHJlZmVycmVkU2lkZSIsImZyb21fIiwidG9fIiwibGFzdEtleUNvZGUiLCJzdGFydERvYyIsImVkaXRhYmxlQ29udGVudCIsInBhcnNlQmV0d2VlbiIsImNvbXBhcmUiLCJsYXN0S2V5Q29kZVRpbWUiLCJjaGFuZ2UiLCJlbmRBIiwiZW5kQiIsImFkanVzdCIsImZpbmREaWZmIiwicmVzb2x2ZVNlbGVjdGlvbiIsImRvbUNoYW5nZUNvdW50IiwibmV4dFNlbCIsImxhc3RJT1NFbnRlciIsIm9sZCIsIiRuZXdTdGFydCIsIiRuZXdFbmQiLCJza2lwQ2xvc2luZ0FuZE9wZW5pbmciLCIkbmV4dCIsImxvb2tzTGlrZUpvaW4iLCJzdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMiLCJtYXJrQ2hhbmdlIiwiJGZyb20xIiwiY2hGcm9tIiwiY2hUbyIsImN1ck1hcmtzIiwicHJldk1hcmtzIiwiaXNNYXJrQ2hhbmdlIiwicGFyc2VkU2VsIiwiZnJvbUVuZCIsIm1heU9wZW4iLCJzZXJpYWxpemVGb3JDbGlwYm9hcmQiLCJzZXJpYWxpemVyIiwiZGV0YWNoZWREb2MiLCJ3cmFwTWFwIiwicGFyc2VGcm9tQ2xpcGJvYXJkIiwiaHRtbCIsInBsYWluVGV4dCIsImluQ29kZSIsImFzVGV4dCIsInBhcnNlZCIsIm1ldGFzIiwiZmlyc3RUYWciLCJyZWFkSFRNTCIsImNvbnRleHROb2RlIiwic2xpY2VEYXRhIiwiYWRkQ29udGV4dCIsImNsb3NlUmFuZ2UiLCJjbG9zZVNsaWNlIiwibGFzdFdyYXAiLCJpbkxhc3QiLCJhZGRUb1NpYmxpbmciLCJzaWJsaW5nIiwid2l0aFdyYXBwZXJzIiwiY2xvc2VSaWdodCIsIndyYXBwZWQiLCJub3JtYWxpemVTaWJsaW5ncyIsInRoZWFkIiwidGJvZHkiLCJjYXB0aW9uIiwiY29sZ3JvdXAiLCJjb2wiLCJ0ZCIsInRoIiwiX2RldGFjaGVkRG9jIiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJvYnNlcnZlT3B0aW9ucyIsImNoaWxkTGlzdCIsImNoYXJhY3RlckRhdGEiLCJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlT2xkVmFsdWUiLCJzdWJ0cmVlIiwidXNlQ2hhckRhdGEiLCJTZWxlY3Rpb25TdGF0ZSIsIkRPTU9ic2VydmVyIiwiaGFuZGxlRE9NQ2hhbmdlIiwicXVldWUiLCJmbHVzaGluZ1Nvb24iLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJyZW1vdmVkTm9kZXMiLCJmbHVzaFNvb24iLCJmbHVzaCIsImN1cnJlbnRTZWxlY3Rpb24iLCJvbkNoYXJEYXRhIiwicHJldlZhbHVlIiwib25TZWxlY3Rpb25DaGFuZ2UiLCJzdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMiLCJvYnNlcnZlIiwidGFrZSIsInRha2VSZWNvcmRzIiwiZGlzY29ubmVjdCIsImlnbm9yZVNlbGVjdGlvbkNoYW5nZSIsImNvbnRhaW5lciIsImNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIiwicmVnaXN0ZXJNdXRhdGlvbiIsImJycyIsImNzc0NoZWNrZWQiLCJ3aGl0ZVNwYWNlIiwiY2hlY2tDU1MiLCJhdHRyaWJ1dGVOYW1lIiwiaGFuZGxlcnMiLCJlZGl0SGFuZGxlcnMiLCJzZXRTZWxlY3Rpb25PcmlnaW4iLCJlbnN1cmVMaXN0ZW5lcnMiLCJjdXJyZW50SGFuZGxlcnMiLCJldmVudEhhbmRsZXJzIiwicnVuQ3VzdG9tSGFuZGxlciIsImhhbmRsZXIiLCJkZWZhdWx0UHJldmVudGVkIiwiZXZlbnRDb29yZHMiLCJjbGllbnRYIiwiY2xpZW50WSIsInJ1bkhhbmRsZXJPbkNvbnRleHQiLCJwcm9wTmFtZSIsInVwZGF0ZVNlbGVjdGlvbiIsImZvY3VzZWQiLCJoYW5kbGVTaW5nbGVDbGljayIsInNlbGVjdGVkTm9kZSIsInNlbGVjdEF0Iiwic2VsZWN0Q2xpY2tlZE5vZGUiLCJzZWxlY3RDbGlja2VkTGVhZiIsImhhbmRsZURvdWJsZUNsaWNrIiwiaGFuZGxlVHJpcGxlQ2xpY2siLCJkZWZhdWx0VHJpcGxlQ2xpY2siLCJmb3JjZURPTUZsdXNoIiwiZW5kQ29tcG9zaXRpb24iLCJrZXlkb3duIiwiaW5Pck5lYXJDb21wb3NpdGlvbiIsInByZXZlbnREZWZhdWx0Iiwia2V5dXAiLCJrZXlwcmVzcyIsImNoYXJDb2RlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwic2VsZWN0Tm9kZU1vZGlmaWVyIiwibW91c2Vkb3duIiwiZmx1c2hlZCIsImxhc3RDbGljayIsImNsaWNrIiwiZHkiLCJpc05lYXIiLCJtb3VzZURvd24iLCJ0YXJnZXRQb3MiLCJhbGxvd0RlZmF1bHQiLCJtaWdodERyYWciLCJ0YXJnZXREZXNjIiwic2VsZWN0YWJsZSIsInNldFVuZWRpdGFibGUiLCJhZGRBdHRyIiwidXAiLCJtb3ZlIiwidGltZVN0YW1wIiwiY29tcG9zaXRpb25FbmRlZEF0IiwiZG9uZSIsInRvdWNoZG93biIsImNvbnRleHRtZW51IiwidGltZW91dENvbXBvc2l0aW9uIiwic2NoZWR1bGVDb21wb3NlRW5kIiwiZGVsYXkiLCJjb21wb3NpbmdUaW1lb3V0IiwiZm9yY2VVcGRhdGUiLCJjb21wb3NpdGlvbnN0YXJ0IiwiY29tcG9zaXRpb251cGRhdGUiLCJtYXJrQ3Vyc29yIiwiY29tcG9zaXRpb25lbmQiLCJicm9rZW5DbGlwYm9hcmRBUEkiLCJkb1Bhc3RlIiwic2luZ2xlTm9kZSIsInNsaWNlU2luZ2xlTm9kZSIsImNsaXBib2FyZERhdGEiLCJjbGVhckRhdGEiLCJzZXREYXRhIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwiYmx1ciIsImNhcHR1cmVDb3B5IiwicGFzdGUiLCJnZXREYXRhIiwiZmlsZXMiLCJjYXB0dXJlUGFzdGUiLCJEcmFnZ2luZyIsImRyYWdDb3B5TW9kaWZpZXIiLCJkcmFnc3RhcnQiLCJkYXRhVHJhbnNmZXIiLCJkcmFnZ2luZyIsImRyYWdlbmQiLCJkcmFnb3ZlciIsImRyYWdlbnRlciIsImRyb3AiLCJldmVudFBvcyIsIiRtb3VzZSIsImluc2VydFBvcyIsImRyb3BQb2ludCIsImlzTm9kZSIsImJlZm9yZUluc2VydCIsImJlZm9yZWlucHV0IiwiaW5wdXRUeXBlIiwiY29tcGFyZU9ianMiLCJXaWRnZXRUeXBlIiwibm9TcGVjIiwic3BhbiIsIm9sZE9mZnNldCIsIkRlY29yYXRpb24iLCJ2YWxpZCIsIklubGluZVR5cGUiLCJpbmNsdXNpdmVTdGFydCIsImluY2x1c2l2ZUVuZCIsImlzIiwiRGVjb3JhdGlvblNldCIsImxvY2FsIiwiZGVjb3JhdGlvbnMiLCJidWlsZFRyZWUiLCJwcmVkaWNhdGUiLCJmaW5kSW5uZXIiLCJjaGlsZE9mZiIsIm1hcElubmVyIiwibmV3TG9jYWwiLCJvblJlbW92ZSIsIm9sZENoaWxkcmVuIiwib2xkRW5kIiwibmV3RW5kIiwiZFNpemUiLCJtdXN0UmVidWlsZCIsImZyb21Mb2NhbCIsInRvTG9jYWwiLCJjaGlsZE9mZnNldCIsImNoaWxkTm9kZSIsImdhdGhlciIsIm1hcEFuZEdhdGhlclJlbWFpbmluZ0RlY29yYXRpb25zIiwiYnlQb3MiLCJtYXBDaGlsZHJlbiIsImFkZElubmVyIiwiYmFzZU9mZnNldCIsInRha2VTcGFuc0Zvck5vZGUiLCJtb3ZlU3BhbnMiLCJ3aXRob3V0TnVsbHMiLCJyZW1vdmVJbm5lciIsImRlYyIsImxvY2FsU2V0IiwiRGVjb3JhdGlvbkdyb3VwIiwicmVtb3ZlT3ZlcmxhcCIsImxvY2Fsc0lubmVyIiwibWVtYmVycyIsInNwYW5zIiwiaGFzTnVsbHMiLCJsb2NhbFN0YXJ0Iiwid29ya2luZyIsImluc2VydEFoZWFkIiwidmlld0RlY29yYXRpb25zIiwic29ydGVkIiwiRWRpdG9yVmlldyIsIl9wcm9wcyIsIl9yb290IiwibW91bnQiLCJtb3VudGVkIiwiZ2V0RWRpdGFibGUiLCJidWlsZE5vZGVWaWV3cyIsImNvbXB1dGVEb2NEZWNvIiwiYnViYmxlcyIsImV2ZW50QmVsb25nc1RvVmlldyIsInBsdWdpblZpZXdzIiwidXBkYXRlUGx1Z2luVmlld3MiLCJjb250ZW50ZWRpdGFibGUiLCJ1cGRhdGVDdXJzb3JXcmFwcGVyIiwicG9zaXRpb24iLCJoYW5kbGVET01FdmVudHMiLCJ1cGRhdGVTdGF0ZUlubmVyIiwic2V0UHJvcHMiLCJyZWNvbmZpZ3VyZWQiLCJyZWRyYXciLCJuQSIsIm5CIiwiY2hhbmdlZE5vZGVWaWV3cyIsInNlbDEiLCJzZWwyIiwibmV3UmVmVG9wIiwic2Nyb2xsIiwic2Nyb2xsVG9TZWxlY3Rpb24iLCJ1cGRhdGVEb2MiLCJ1cGRhdGVTZWwiLCJvbGRTY3JvbGxQb3MiLCJvdmVyZmxvd0FuY2hvciIsInJlZkRPTSIsInJlZlRvcCIsInN0YXJ0WSIsImxvY2FsUmVjdCIsInN0b3JlU2Nyb2xsUG9zIiwiZm9yY2VTZWxVcGRhdGUiLCJkZXN0cm95UGx1Z2luVmlld3MiLCJwcmV2U3RhdGUiLCJwbHVnaW5WaWV3Iiwic2V0QWN0aXZlIiwic3RvcmVkIiwicHJldmVudFNjcm9sbCIsImZvY3VzUHJldmVudFNjcm9sbCIsImdldFByb3RvdHlwZU9mIiwiZG9tQXRQb3MiLCJwb3NBdERPTSIsImRpc3BhdGNoRXZlbnQiLCJkaXNwYXRjaFRyYW5zYWN0aW9uIiwiUm9wZVNlcXVlbmNlIiwibGVhZkFwcGVuZCIsImxlYWZQcmVwZW5kIiwiYXBwZW5kSW5uZXIiLCJBcHBlbmQiLCJzbGljZUlubmVyIiwiZ2V0SW5uZXIiLCJmb3JFYWNoSW5uZXIiLCJmb3JFYWNoSW52ZXJ0ZWRJbm5lciIsInZhbHVlcyIsIkxlYWYiLCJjb25maWd1cmFibGUiLCJmbGF0dGVuIiwiZGVmaW5lUHJvcGVydGllcyIsImxlZnRMZW4iLCJCcmFuY2giLCJldmVudENvdW50IiwicG9wRXZlbnQiLCJwcmVzZXJ2ZUl0ZW1zIiwicmVtYXAiLCJyZW1hcHBpbmciLCJyZW1haW5pbmciLCJ0cmFuc2Zvcm0iLCJhZGRBZnRlciIsIkl0ZW0iLCJhZGRUcmFuc2Zvcm0iLCJoaXN0T3B0aW9ucyIsIm5ld0l0ZW1zIiwib2xkSXRlbXMiLCJsYXN0SXRlbSIsIm1lcmdlZCIsImN1dFBvaW50Iiwib3ZlcmZsb3ciLCJERVBUSF9PVkVSRkxPVyIsIm1pcnJvclBvcyIsIm1pcnJvck9mZnNldCIsImFkZE1hcHMiLCJyZWJhc2VkIiwicmViYXNlZFRyYW5zZm9ybSIsInJlYmFzZWRDb3VudCIsInJlYmFzZWRJdGVtcyIsIm5ld1VudGlsIiwiaVJlYmFzZWQiLCJuZXdNYXBzIiwiYnJhbmNoIiwiZW1wdHlJdGVtQ291bnQiLCJjb21wcmVzcyIsImV2ZW50cyIsIm5ld0l0ZW0iLCJIaXN0b3J5U3RhdGUiLCJ1bmRvbmUiLCJwcmV2UmFuZ2VzIiwicHJldlRpbWUiLCJyYW5nZXNGb3IiLCJfZnJvbSIsIl90byIsIm1hcFJhbmdlcyIsImhpc3RUcmFuc2FjdGlvbiIsImhpc3RvcnkiLCJyZWRvIiwibXVzdFByZXNlcnZlSXRlbXMiLCJoaXN0b3J5S2V5IiwiZ2V0Qm9va21hcmsiLCJuZXdIaXN0IiwiaGlzdG9yeVN0YXRlIiwiY2FjaGVkUHJlc2VydmVJdGVtcyIsImNhY2hlZFByZXNlcnZlSXRlbXNQbHVnaW5zIiwiaGlzdG9yeVByZXNlcnZlSXRlbXMiLCJjbG9zZUhpc3RvcnlLZXkiLCJuZXdHcm91cERlbGF5IiwiaGlzdCIsImhpc3RvcnlUciIsImFwcGVuZGVkIiwibmV3R3JvdXAiLCJhZGphY2VudCIsImlzQWRqYWNlbnRUbyIsIklucHV0UnVsZSIsImN1dE9mZiIsInJ1biIsInRleHRCZWZvcmUiLCJlbGxpcHNpcyIsInNtYXJ0UXVvdGVzIiwib2xET00iLCJ1bERPTSIsImxpRE9NIiwib3JkZXJlZExpc3QiLCJvcmRlciIsImJ1bGxldExpc3QiLCJsaXN0SXRlbSIsIndyYXBJbkxpc3QiLCJsaXN0VHlwZSIsImRvSm9pbiIsIm91dGVyUmFuZ2UiLCIkaW5zZXJ0Iiwiam9pbkJlZm9yZSIsInNwbGl0RGVwdGgiLCJzcGxpdFBvcyIsImRvV3JhcEluTGlzdCIsImxpZnRMaXN0SXRlbSIsIml0ZW1UeXBlIiwiZW5kT2ZMaXN0IiwibGlmdFRvT3V0ZXJMaXN0IiwibGlzdCIsImluZGV4QmVmb3JlIiwibGlmdE91dE9mTGlzdCIsInBET00iLCJibG9ja3F1b3RlRE9NIiwiaHJET00iLCJwcmVET00iLCJickRPTSIsImVtRE9NIiwic3Ryb25nRE9NIiwiY29kZURPTSIsImVtIiwic3Ryb25nIiwiZm9udFdlaWdodCIsInBhcmFncmFwaCIsImhvcml6b250YWxfcnVsZSIsImhlYWRpbmciLCJjb2RlX2Jsb2NrIiwiaW1hZ2UiLCJzcmMiLCJhbHQiLCJoYXJkX2JyZWFrIiwiaGVhZGluZzFTcGVjIiwiaGVhZGluZzJTcGVjIiwiY2hlY2tsaXN0X2l0ZW0iLCJjaGVja2VkIiwidW5vcmRlcmVkX2xpc3QiLCJvcmRlcmVkX2xpc3QiLCJsaXN0X2l0ZW0iLCJoZWFkaW5nMSIsImhlYWRpbmcyIiwibWFya1dyYXBwaW5nUnVsZSIsIlJlZ0V4cCIsImV4aXN0aW5nTWFya3MiLCJsaXN0VHlwZVJ1bGUiLCJwcmVmaXgiLCJpbnB1dFJ1bGVzUGx1Z2luIiwicmVnZXhwIiwiaGFuZGxlVGV4dElucHV0IiwiaXNJbnB1dFJ1bGVzIiwidGV4dGJsb2NrQXQiLCJmaW5kQ3V0QmVmb3JlIiwiZmluZEN1dEFmdGVyIiwiZGVmYXVsdEJsb2NrQXQiLCJzcGxpdEJsb2NrIiwiY2FuIiwiZGVsZXRlQmFycmllciIsIiRjdXQiLCJjb25uIiwiam9pbk1heWJlQ2xlYXIiLCJqb2luQXQiLCJzZWxBZnRlciIsImNoYWluQ29tbWFuZHMiLCJjb21tYW5kcyIsImJhY2tzcGFjZSIsImRlbCIsInBjQmFzZUtleW1hcCIsImFib3ZlIiwiQWxsU2VsZWN0aW9uIiwibWFjQmFzZUtleW1hcCIsImJhc2VLZXltYXAiLCJvcyIsInRvb2xiYXJFbCIsIm1vZGFsRWwiLCJ2aWV3SW5zdGFuY2UiLCJoYW5kbGVUb29sYmFyQ2xpY2siLCJwcmV2aW91c1N0YXRlIiwicHJldmlvdXNseVNlbGVjdGVkQXR0cnMiLCJnZXRTZWxlY3RlZEZvcm1hdEF0dHJzIiwiYnRuIiwic2VsZWN0ZWRBdHRycyIsImhhbmRsZUtleURvd24iLCJpc1QiLCJ3aGljaCIsImhhc0N0cmwiLCJ0b2dnbGVDaGVja2xpc3RJdGVtIiwiaXM3IiwiaGFzTW9kIiwidG9nZ2xlTGlzdCIsInByb21vdGVIZWFkaW5nIiwic3dhcFRleHRCbG9jayIsImlzU3BhY2UiLCJoYXNDaGVja2VkIiwidG9nZ2xlQ2hlY2tsaXN0SXRlbVN0YXRlIiwiaXNaIiwiaXNZIiwiaXNJIiwidG9nZ2xlTWFyayIsImlzQiIsImlzUHJpbWUiLCJpc0siLCJhY3RpdmF0ZUxpbmtNb2RhbCIsImxpbmtNYXJrQXRTdGFydCIsImxpbmtNYXJrQXRFbmQiLCJzZWxlY3Rpb25Jc0luc2lkZUxpbmsiLCJuZXdTZWxlY3Rpb24iLCJMaW5rTW9kYWwiLCJvbkNvbmZpcm0iLCJtYXJrQXBwbGllcyIsImhhcyIsImdldFNlbGVjdGVkRm9ybWF0QW5kTWFya3MiLCJzZWxlY3RlZCIsImN1cnJlbnRUeXBlIiwibWFya1R5cGVzIiwiYnV0dG9uIiwiYXBwbHlGb3JtYXQiLCJkYXRhRm9ybWF0U3RyIiwiZWwiLCJzaG93Q2xzIiwiaGFuZGxlQ29uZmlybSIsInRleHRJbnB1dCIsInVybElucHV0IiwiaGFuZGxlQ2FuY2VsIiwiaGFuZGxlR2xvYmFsS2V5ZG93biIsImlzRW50ZXIiLCJjb25maXJtQnRuIiwiY2FuY2VsQnRuIiwidXJsT3BlbkxpbmsiLCJybmRzOCIsIlVpbnQ4QXJyYXkiLCJybmciLCJieXRlVG9IZXgiLCJzdWJzdHIiLCJidGgiLCJybmRzIiwiaWkiLCJnZXROYW1lc3BhY2VkQ29udGVudCIsImdldFV1aWQiLCJyZXNvbHZlQ2xpZW50UmVhZHkiLCJfaXRlbSIsInNob3VsZENhbGxMaXN0ZW5lcnMiLCJuZXh0SXRlbSIsInByZXZpb3VzSXRlbSIsImlzTWV0YWRhdGFVcGRhdGUiLCJsYXN0U2F2ZWRCeSIsImdldExhc3RTYXZlZEJ5IiwiX2lkIiwiX2xpc3RlbmVycyIsIl9yZWFkeSIsIlByb21pc2UiLCJjb21wb25lbnRNYW5hZ2VyIiwic3RyZWFtQ29udGV4dEl0ZW0iLCJkZWJ1ZyIsImNhbGxMaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImdldERvYyIsImpzb25Eb2MiLCJ0b1NhdmUiLCJzYXZlSXRlbVdpdGhQcmVzYXZlIiwiU05fSVRFTV9TQVZFX0tFWSIsIml0ZW1TZWxlY3RvcnMiLCJjbGllbnQiLCJnZXRQb3MiLCJpbnB1dFNwYW4iLCJmb2N1c0hhbmRsZXIiLCJyZWxhdGVkVGFyZ2V0IiwiY2xpY2tIYW5kbGVyIiwiOCIsIjkiLCIxMCIsIjEyIiwiMTMiLCIxNiIsIjE3IiwiMTgiLCIyMCIsIjI3IiwiMzIiLCIzMyIsIjM0IiwiMzUiLCIzNiIsIjM3IiwiMzgiLCIzOSIsIjQwIiwiNDQiLCI0NSIsIjQ2IiwiNTkiLCI2MSIsIjkxIiwiOTIiLCIxMDYiLCIxMDciLCIxMDgiLCIxMDkiLCIxMTAiLCIxMTEiLCIxNDQiLCIxNDUiLCIxNjAiLCIxNjEiLCIxNjIiLCIxNjMiLCIxNjQiLCIxNjUiLCIxNzMiLCIxODYiLCIxODciLCIxODgiLCIxODkiLCIxOTAiLCIxOTEiLCIxOTIiLCIyMTkiLCIyMjAiLCIyMjEiLCIyMjIiLCIyMjkiLCJiYXNlXzEiLCI0OCIsIjQ5IiwiNTAiLCI1MSIsIjUyIiwiNTMiLCI1NCIsIjU1IiwiNTYiLCI1NyIsImJyb2tlbk1vZGlmaWVyTmFtZXMiLCJrZXlOYW1lIiwibm9ybWFsaXplS2V5TmFtZSIsImN0cmwiLCJtb2QiLCJtb2RpZmllcnMiLCJrZXltYXAiLCJiaW5kaW5ncyIsImtleWRvd25IYW5kbGVyIiwibm9ybWFsaXplIiwiYmFzZU5hbWUiLCJpc0NoYXIiLCJkaXJlY3QiLCJmcm9tQ29kZSIsIndpdGhTaGlmdCIsImtleW1hcFBsdWdpbnMiLCJFbnRlciIsImdyYW5kUGFyZW50Iiwia2VlcEl0ZW0iLCJuZXh0JEZyb20iLCJuZXh0RnJvbSIsImdldERvY0Zvck5ld0VkaXRvclN0YXRlIiwibGF0ZXN0RG9jIiwicmVhZHkiLCJzYXZlTm90ZSIsIm9uVXBkYXRlIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFP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SCxjQUFjLFdBQ3ZCLENBQ0U2TSxNQUFPaWYsR0FBWWoxQixPQUFPLENBQ3hCMFAsSUFBS3NtRCxLQUNMbmhDLFFBQVMsSUFDSjZnQyxHQUNILElBQUksR0FDRjd6RCxTQUFTc0gsY0FBYyxZQUN2QnRILFNBQVNzSCxjQUFjLGdCQUV6QixJQUFJaXRCLEdBQU8sQ0FDVEMsTUFBTyxDQUNMaU4sVUFBQSxNQUdKNGxCLEdBQ0EsUUFHSixvQkFBb0I1MEIsR0FDbEIsTUFBTXhqQixFQUFPd3BCLEVBQUt0a0IsTUFBTWdVLE1BQU1zSyxHQUM5QmdHLEVBQUtvRSxZQUFZNXRCLEdBQ2pCdS9DLEdBQU84RixTQUFTcmxELEVBQUtwQixJQUFJcEIsYUFLL0IraEQsR0FBTytGLFNBQVUxbUQsSUFDZjRxQixFQUFLaWtCLFNBQVMsQ0FDWnZvQyxNQUFPaWYsR0FBWWoxQixPQUFPLENBQ3hCMFAsSUFBS3NtRCxLQUNMbmhDLFFBQVN5RixFQUFLdGtCLE1BQU02ZSxpQkFNNUJWIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMik7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xOSAzSDVjLTEuMTEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjExIDAgMi0uOSAyLTJWNWMwLTEuMS0uODktMi0yLTJ6bS05IDE0bC01LTUgMS40MS0xLjQxTDEwIDE0LjE3bDcuNTktNy41OUwxOSA4bC05IDl6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTE5IDV2MTRINVY1aDE0bTAtMkg1Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6XFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk0wIDBoMjR2MjRIMFYwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk05LjQgMTYuNkw0LjggMTJsNC42LTQuNkw4IDZsLTYgNiA2IDYgMS40LTEuNHptNS4yIDBsNC42LTQuNi00LjYtNC42TDE2IDZsNiA2LTYgNi0xLjQtMS40elxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk0xNS42IDEwLjc5Yy45Ny0uNjcgMS42NS0xLjc3IDEuNjUtMi43OSAwLTIuMjYtMS43NS00LTQtNEg3djE0aDcuMDRjMi4wOSAwIDMuNzEtMS43IDMuNzEtMy43OSAwLTEuNTItLjg2LTIuODItMi4xNS0zLjQyek0xMCA2LjVoM2MuODMgMCAxLjUuNjcgMS41IDEuNXMtLjY3IDEuNS0xLjUgMS41aC0zdi0zem0zLjUgOUgxMHYtM2gzLjVjLjgzIDAgMS41LjY3IDEuNSAxLjVzLS42NyAxLjUtMS41IDEuNXpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xMCA0djNoMi4yMWwtMy40MiA4SDZ2M2g4di0zaC0yLjIxbDMuNDItOEgxOFY0elxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk00IDEwLjVjLS44MyAwLTEuNS42Ny0xLjUgMS41cy42NyAxLjUgMS41IDEuNSAxLjUtLjY3IDEuNS0xLjUtLjY3LTEuNS0xLjUtMS41em0wLTZjLS44MyAwLTEuNS42Ny0xLjUgMS41UzMuMTcgNy41IDQgNy41IDUuNSA2LjgzIDUuNSA2IDQuODMgNC41IDQgNC41em0wIDEyYy0uODMgMC0xLjUuNjgtMS41IDEuNXMuNjggMS41IDEuNSAxLjUgMS41LS42OCAxLjUtMS41LS42Ny0xLjUtMS41LTEuNXpNNyAxOWgxNHYtMkg3djJ6bTAtNmgxNHYtMkg3djJ6bTAtOHYyaDE0VjVIN3pcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDI0djI0SDBWMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj48cGF0aCBkPVxcXCJNMiAxN2gydi41SDN2MWgxdi41SDJ2MWgzdi00SDJ2MXptMS05aDFWNEgydjFoMXYzem0tMSAzaDEuOEwyIDEzLjF2LjloM3YtMUgzLjJMNSAxMC45VjEwSDJ2MXptNS02djJoMTRWNUg3em0wIDE0aDE0di0ySDd2MnptMC02aDE0di0ySDd2MnpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk05IDR2M2g1djEyaDNWN2g1VjRIOXptLTYgOGgzdjdoM3YtN2gzVjlIM3YzelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk0wIDBoMjR2MjRIMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMy45IDEyYzAtMS43MSAxLjM5LTMuMSAzLjEtMy4xaDRWN0g3Yy0yLjc2IDAtNSAyLjI0LTUgNXMyLjI0IDUgNSA1aDR2LTEuOUg3Yy0xLjcxIDAtMy4xLTEuMzktMy4xLTMuMXpNOCAxM2g4di0ySDh2MnptOS02aC00djEuOWg0YzEuNzEgMCAzLjEgMS4zOSAzLjEgMy4xcy0xLjM5IDMuMS0zLjEgMy4xaC00VjE3aDRjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTV6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTMgMThoMTJ2LTJIM3Yyek0zIDZ2MmgxOFY2SDN6bTAgN2gxOHYtMkgzdjJ6XFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwVjB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xOSAxOUg1VjVoN1YzSDVjLTEuMTEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMnYtN2gtMnY3ek0xNCAzdjJoMy41OWwtOS44MyA5LjgzIDEuNDEgMS40MUwxOSA2LjQxVjEwaDJWM2gtN3pcXFwiPjwvcGF0aD48L3N2Zz5cIiIsImNsYXNzIENvbXBvbmVudE1hbmFnZXIge1xuXG4gIGNvbnN0cnVjdG9yKHBlcm1pc3Npb25zLCBvblJlYWR5KSB7XG4gICAgdGhpcy5zZW50TWVzc2FnZXMgPSBbXTtcbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMubG9nZ2luZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmFjY2VwdHNUaGVtZXMgPSB0cnVlO1xuICAgIHRoaXMuYWN0aXZlVGhlbWVzID0gW107XG5cbiAgICB0aGlzLmluaXRpYWxQZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25zO1xuICAgIHRoaXMub25SZWFkeUNhbGxiYWNrID0gb25SZWFkeTtcblxuICAgIHRoaXMuY29hbGxlc2VkU2F2aW5nID0gdHJ1ZTtcbiAgICB0aGlzLmNvYWxsZXNlZFNhdmluZ0RlbGF5ID0gMjUwO1xuXG4gICAgdGhpcy5yZWdpc3Rlck1lc3NhZ2VIYW5kbGVyKCk7XG4gIH1cblxuICByZWdpc3Rlck1lc3NhZ2VIYW5kbGVyKCkge1xuICAgIGxldCBtZXNzYWdlSGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKHRoaXMubG9nZ2luZ0VuYWJsZWQpIHsgY29uc29sZS5sb2coXCJDb21wb25lbnRzIEFQSSBNZXNzYWdlIHJlY2VpdmVkOlwiLCBldmVudC5kYXRhKX1cblxuICAgICAgLy8gV2UgZG9uJ3QgaGF2ZSBhY2Nlc3MgdG8gd2luZG93LnBhcmVudC5vcmlnaW4gZHVlIHRvIGNyb3NzLWRvbWFpbiByZXN0cmljdGlvbnMuXG4gICAgICAvLyBDaGVjayByZWZlcnJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBkZWZlciB0byBjaGVja2luZyBmb3IgZmlyc3QtcnVuIHZhbHVlLlxuICAgICAgLy8gQ3JhZnQgVVJMIG9iamVjdHMgc28gdGhhdCBleGFtcGxlLmNvbSA9PT0gZXhhbXBsZS5jb20vXG4gICAgICBpZihkb2N1bWVudC5yZWZlcnJlcikge1xuICAgICAgICBsZXQgcmVmZXJyZXIgPSBuZXcgVVJMKGRvY3VtZW50LnJlZmVycmVyKS5vcmlnaW47XG4gICAgICAgIGxldCBldmVudE9yaWdpbiA9IG5ldyBVUkwoZXZlbnQub3JpZ2luKS5vcmlnaW47XG4gICAgICAgIGlmKHJlZmVycmVyICE9PSBldmVudE9yaWdpbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgZmlyc3QgbWVzc2FnZSB3aWxsIGJlIHRoZSBtb3N0IHJlbGlhYmxlIG9uZSwgc28gd2Ugd29uJ3QgY2hhbmdlIGl0IGFmdGVyIGFueSBzdWJzZXF1ZW50IGV2ZW50cyxcbiAgICAgIC8vIGluIGNhc2UgeW91IHJlY2VpdmUgYW4gZXZlbnQgZnJvbSBhbm90aGVyIHdpbmRvdy5cbiAgICAgIGlmKCF0aGlzLm9yaWdpbikge1xuICAgICAgICB0aGlzLm9yaWdpbiA9IGV2ZW50Lm9yaWdpbjtcbiAgICAgIH0gZWxzZSBpZihldmVudC5vcmlnaW4gIT09IHRoaXMub3JpZ2luKSB7XG4gICAgICAgIC8vIElmIGV2ZW50IG9yaWdpbiBkb2Vzbid0IG1hdGNoIGZpcnN0LXJ1biB2YWx1ZSwgcmV0dXJuLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIE1vYmlsZSBlbnZpcm9ubWVudCBzZW5kcyBkYXRhIGFzIEpTT04gc3RyaW5nXG4gICAgICBsZXQgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICBsZXQgcGFyc2VkRGF0YSA9IHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiID8gSlNPTi5wYXJzZShkYXRhKSA6IGRhdGE7XG4gICAgICB0aGlzLmhhbmRsZU1lc3NhZ2UocGFyc2VkRGF0YSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgIE1vYmlsZSAoUmVhY3QgTmF0aXZlKSB1c2VzIGBkb2N1bWVudGAsIHdlYi9kZXNrdG9wIHVzZXMgYHdpbmRvd2AuYWRkRXZlbnRMaXN0ZW5lclxuICAgICAgZm9yIHBvc3RNZXNzYWdlIEFQSSB0byB3b3JrIHByb3Blcmx5LlxuXG4gICAgICBVcGRhdGUgTWF5IDIwMTk6XG4gICAgICBBcyBwYXJ0IG9mIHRyYW5zaXRpb25pbmcgUmVhY3QgTmF0aXZlIHdlYnZpZXcgaW50byB0aGUgY29tbXVuaXR5IHBhY2thZ2UsXG4gICAgICB3ZSdsbCBub3cgb25seSBuZWVkIHRvIHVzZSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lci5cblxuICAgICAgSG93ZXZlciwgd2Ugd2FudCB0byBtYWludGFpbiBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGZvciBNb2JpbGUgPCB2My4wLjUsIHNvIHdlJ2xsIGtlZXAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lclxuXG4gICAgICBBbHNvLCBldmVuIHdpdGggdGhlIG5ldyB2ZXJzaW9uIG9mIHJlYWN0LW5hdGl2ZS13ZWJ2aWV3LCBBbmRyb2lkIG1heSBzdGlsbCByZXF1aXJlIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgKHdoaWxlIGlPUyBzdGlsbCBvbmx5IHJlcXVpcmVzIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKVxuICAgICAgaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LW5hdGl2ZS1jb21tdW5pdHkvcmVhY3QtbmF0aXZlLXdlYnZpZXcvaXNzdWVzLzMyMyNpc3N1ZWNvbW1lbnQtNDY3NzY3OTMzXG4gICAgICovXG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIG1lc3NhZ2VIYW5kbGVyKGV2ZW50KTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBtZXNzYWdlSGFuZGxlcihldmVudCk7XG4gICAgfSwgZmFsc2UpO1xuICB9XG5cbiAgaGFuZGxlTWVzc2FnZShwYXlsb2FkKSB7XG4gICAgaWYocGF5bG9hZC5hY3Rpb24gPT09IFwiY29tcG9uZW50LXJlZ2lzdGVyZWRcIikge1xuICAgICAgdGhpcy5zZXNzaW9uS2V5ID0gcGF5bG9hZC5zZXNzaW9uS2V5O1xuICAgICAgdGhpcy5jb21wb25lbnREYXRhID0gcGF5bG9hZC5jb21wb25lbnREYXRhO1xuXG4gICAgICB0aGlzLm9uUmVhZHkocGF5bG9hZC5kYXRhKTtcblxuICAgICAgaWYodGhpcy5sb2dnaW5nRW5hYmxlZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbXBvbmVudCBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCB3aXRoIHBheWxvYWQ6XCIsIHBheWxvYWQpO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmKHBheWxvYWQuYWN0aW9uID09PSBcInRoZW1lc1wiKSB7XG4gICAgICBpZih0aGlzLmFjY2VwdHNUaGVtZXMpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVRoZW1lcyhwYXlsb2FkLmRhdGEudGhlbWVzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlbHNlIGlmKHBheWxvYWQub3JpZ2luYWwpIHtcbiAgICAgIC8vIGdldCBjYWxsYmFjayBmcm9tIHF1ZXVlXG4gICAgICB2YXIgb3JpZ2luYWxNZXNzYWdlID0gdGhpcy5zZW50TWVzc2FnZXMuZmlsdGVyKGZ1bmN0aW9uKG1lc3NhZ2Upe1xuICAgICAgICByZXR1cm4gbWVzc2FnZS5tZXNzYWdlSWQgPT09IHBheWxvYWQub3JpZ2luYWwubWVzc2FnZUlkO1xuICAgICAgfSlbMF07XG5cbiAgICAgIGlmKCFvcmlnaW5hbE1lc3NhZ2UpIHtcbiAgICAgICAgLy8gQ29ubmVjdGlvbiBtdXN0IGhhdmUgYmVlbiByZXNldC4gQWxlcnQgdGhlIHVzZXIuXG4gICAgICAgIGFsZXJ0KFwiVGhpcyBleHRlbnNpb24gaXMgYXR0ZW1wdGluZyB0byBjb21tdW5pY2F0ZSB3aXRoIFN0YW5kYXJkIE5vdGVzLCBidXQgYW4gZXJyb3IgaXMgcHJldmVudGluZyBpdCBmcm9tIGRvaW5nIHNvLiBQbGVhc2UgcmVzdGFydCB0aGlzIGV4dGVuc2lvbiBhbmQgdHJ5IGFnYWluLlwiKVxuICAgICAgfVxuXG4gICAgICBpZihvcmlnaW5hbE1lc3NhZ2UuY2FsbGJhY2spIHtcbiAgICAgICAgb3JpZ2luYWxNZXNzYWdlLmNhbGxiYWNrKHBheWxvYWQuZGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25SZWFkeShkYXRhKSB7XG4gICAgdGhpcy5lbnZpcm9ubWVudCA9IGRhdGEuZW52aXJvbm1lbnQ7XG4gICAgdGhpcy5wbGF0Zm9ybSA9IGRhdGEucGxhdGZvcm07XG4gICAgdGhpcy51dWlkID0gZGF0YS51dWlkO1xuICAgIHRoaXMuaXNNb2JpbGUgPSB0aGlzLmVudmlyb25tZW50ID09IFwibW9iaWxlXCI7XG5cbiAgICBpZih0aGlzLmluaXRpYWxQZXJtaXNzaW9ucyAmJiB0aGlzLmluaXRpYWxQZXJtaXNzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnJlcXVlc3RQZXJtaXNzaW9ucyh0aGlzLmluaXRpYWxQZXJtaXNzaW9ucyk7XG4gICAgfVxuXG4gICAgZm9yKHZhciBtZXNzYWdlIG9mIHRoaXMubWVzc2FnZVF1ZXVlKSB7XG4gICAgICB0aGlzLnBvc3RNZXNzYWdlKG1lc3NhZ2UuYWN0aW9uLCBtZXNzYWdlLmRhdGEsIG1lc3NhZ2UuY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107XG5cbiAgICBpZih0aGlzLmxvZ2dpbmdFbmFibGVkKSB7IGNvbnNvbGUubG9nKFwib25SZWFkeURhdGFcIiwgZGF0YSk7IH1cblxuICAgIHRoaXMuYWN0aXZhdGVUaGVtZXMoZGF0YS5hY3RpdmVUaGVtZVVybHMgfHwgW10pO1xuXG4gICAgaWYodGhpcy5vblJlYWR5Q2FsbGJhY2spIHtcbiAgICAgIHRoaXMub25SZWFkeUNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2VsZkNvbXBvbmVudFVVSUQoKSB7XG4gICAgcmV0dXJuIHRoaXMudXVpZDtcbiAgfVxuXG4gIGlzUnVubmluZ0luRGVza3RvcEFwcGxpY2F0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmVudmlyb25tZW50ID09PSBcImRlc2t0b3BcIjtcbiAgfVxuXG4gIHNldENvbXBvbmVudERhdGFWYWx1ZUZvcktleShrZXksIHZhbHVlKSB7XG4gICAgdGhpcy5jb21wb25lbnREYXRhW2tleV0gPSB2YWx1ZTtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwic2V0LWNvbXBvbmVudC1kYXRhXCIsIHtjb21wb25lbnREYXRhOiB0aGlzLmNvbXBvbmVudERhdGF9LCBmdW5jdGlvbihkYXRhKXt9KTtcbiAgfVxuXG4gIGNsZWFyQ29tcG9uZW50RGF0YSgpIHtcbiAgICB0aGlzLmNvbXBvbmVudERhdGEgPSB7fTtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwic2V0LWNvbXBvbmVudC1kYXRhXCIsIHtjb21wb25lbnREYXRhOiB0aGlzLmNvbXBvbmVudERhdGF9LCBmdW5jdGlvbihkYXRhKXt9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERhdGFWYWx1ZUZvcktleShrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnREYXRhW2tleV07XG4gIH1cblxuICBwb3N0TWVzc2FnZShhY3Rpb24sIGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgaWYoIXRoaXMuc2Vzc2lvbktleSkge1xuICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaCh7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBtZXNzYWdlID0ge1xuICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgbWVzc2FnZUlkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLFxuICAgICAgc2Vzc2lvbktleTogdGhpcy5zZXNzaW9uS2V5LFxuICAgICAgYXBpOiBcImNvbXBvbmVudFwiXG4gICAgfVxuXG4gICAgdmFyIHNlbnRNZXNzYWdlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XG4gICAgc2VudE1lc3NhZ2UuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLnNlbnRNZXNzYWdlcy5wdXNoKHNlbnRNZXNzYWdlKTtcblxuICAgIC8vIE1vYmlsZSAoUmVhY3QgTmF0aXZlKSByZXF1aXJlcyBhIHN0cmluZyBmb3IgdGhlIHBvc3RNZXNzYWdlIEFQSS5cbiAgICBpZih0aGlzLmlzTW9iaWxlKSB7XG4gICAgICBtZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgaWYodGhpcy5sb2dnaW5nRW5hYmxlZCkge1xuICAgICAgY29uc29sZS5sb2coXCJQb3N0aW5nIG1lc3NhZ2U6XCIsIG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UobWVzc2FnZSwgdGhpcy5vcmlnaW4pO1xuICB9XG5cbiAgc2V0U2l6ZSh0eXBlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgdGhpcy5wb3N0TWVzc2FnZShcInNldC1zaXplXCIsIHt0eXBlOiB0eXBlLCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0fSwgZnVuY3Rpb24oZGF0YSl7XG5cbiAgICB9KVxuICB9XG5cbiAgcmVxdWVzdFBlcm1pc3Npb25zKHBlcm1pc3Npb25zLCBjYWxsYmFjaykge1xuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJyZXF1ZXN0LXBlcm1pc3Npb25zXCIsIHtwZXJtaXNzaW9uczogcGVybWlzc2lvbnN9LCBmdW5jdGlvbihkYXRhKXtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHN0cmVhbUl0ZW1zKGNvbnRlbnRUeXBlcywgY2FsbGJhY2spIHtcbiAgICBpZighQXJyYXkuaXNBcnJheShjb250ZW50VHlwZXMpKSB7XG4gICAgICBjb250ZW50VHlwZXMgPSBbY29udGVudFR5cGVzXTtcbiAgICB9XG4gICAgdGhpcy5wb3N0TWVzc2FnZShcInN0cmVhbS1pdGVtc1wiLCB7Y29udGVudF90eXBlczogY29udGVudFR5cGVzfSwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICBjYWxsYmFjayhkYXRhLml0ZW1zKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9XG5cbiAgc3RyZWFtQ29udGV4dEl0ZW0oY2FsbGJhY2spIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwic3RyZWFtLWNvbnRleHQtaXRlbVwiLCBudWxsLCAoZGF0YSkgPT4ge1xuICAgICAgbGV0IGl0ZW0gPSBkYXRhLml0ZW07XG4gICAgICAvKlxuICAgICAgICBJZiB0aGlzIGlzIGEgbmV3IGNvbnRleHQgaXRlbSB0aGFuIHRoZSBjb250ZXh0IGl0ZW0gdGhlIGNvbXBvbmVudCB3YXMgY3VycmVudGx5IGVudGVydGFpbmluZyxcbiAgICAgICAgd2Ugd2FudCB0byBpbW1lZGlhdGVseSBjb21taXQgYW55IHBlbmRpbmcgc2F2ZXMsIGJlY2F1c2UgaWYgeW91IHNlbmQgdGhlIG5ldyBjb250ZXh0IGl0ZW0gdG8gdGhlXG4gICAgICAgIGNvbXBvbmVudCBiZWZvcmUgaXQgaGFzIGNvbW1pdGVkIGl0cyBwcmVzYXZlLCBpdCB3aWxsIGVuZCB1cCBmaXJzdCByZXBsYWNpbmcgdGhlIFVJIHdpdGggbmV3IGNvbnRleHQgaXRlbSxcbiAgICAgICAgYW5kIHdoZW4gdGhlIGRlYm91bmNlciBleGVjdXRlcyB0byByZWFkIHRoZSBjb21wb25lbnQgVUksIGl0IHdpbGwgYmUgcmVhZGluZyB0aGUgbmV3IFVJIGZvciB0aGUgcHJldmlvdXMgaXRlbS5cbiAgICAgICovXG4gICAgICBsZXQgaXNOZXdJdGVtID0gIXRoaXMubGFzdFN0cmVhbWVkSXRlbSB8fCB0aGlzLmxhc3RTdHJlYW1lZEl0ZW0udXVpZCAhPT0gaXRlbS51dWlkO1xuICAgICAgaWYoaXNOZXdJdGVtICYmIHRoaXMucGVuZGluZ1NhdmVUaW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdTYXZlVGltZW91dCk7XG4gICAgICAgIHRoaXMuX3BlcmZvcm1TYXZpbmdPZkl0ZW1zKHRoaXMucGVuZGluZ1NhdmVQYXJhbXMpO1xuICAgICAgICB0aGlzLnBlbmRpbmdTYXZlVGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ1NhdmVQYXJhbXMgPSBudWxsO1xuICAgICAgfVxuICAgICAgdGhpcy5sYXN0U3RyZWFtZWRJdGVtID0gaXRlbTtcbiAgICAgIGNhbGxiYWNrKHRoaXMubGFzdFN0cmVhbWVkSXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBzZWxlY3RJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwic2VsZWN0LWl0ZW1cIiwge2l0ZW06IHRoaXMuanNvbk9iamVjdEZvckl0ZW0oaXRlbSl9KTtcbiAgfVxuXG4gIGNyZWF0ZUl0ZW0oaXRlbSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwiY3JlYXRlLWl0ZW1cIiwge2l0ZW06IHRoaXMuanNvbk9iamVjdEZvckl0ZW0oaXRlbSl9LCBmdW5jdGlvbihkYXRhKXtcbiAgICAgIHZhciBpdGVtID0gZGF0YS5pdGVtO1xuXG4gICAgICAvLyBBIHByZXZpb3VzIHZlcnNpb24gb2YgdGhlIFNOIGFwcCBoYWQgYW4gaXNzdWUgd2hlcmUgdGhlIGl0ZW0gaW4gdGhlIHJlcGx5IHRvIGNyZWF0ZS1pdGVtXG4gICAgICAvLyB3b3VsZCBiZSBuZXN0ZWQgaW5zaWRlIFwiaXRlbXNcIiBhbmQgbm90IFwiaXRlbVwiLiBTbyBoYW5kbGUgYm90aCBjYXNlcyBoZXJlLlxuICAgICAgaWYoIWl0ZW0gJiYgZGF0YS5pdGVtcyAmJiBkYXRhLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaXRlbSA9IGRhdGEuaXRlbXNbMF07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXNzb2NpYXRlSXRlbShpdGVtKTtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGl0ZW0pO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH1cblxuICBjcmVhdGVJdGVtcyhpdGVtcywgY2FsbGJhY2spIHtcbiAgICBsZXQgbWFwcGVkID0gaXRlbXMubWFwKChpdGVtKSA9PiB7cmV0dXJuIHRoaXMuanNvbk9iamVjdEZvckl0ZW0oaXRlbSl9KTtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwiY3JlYXRlLWl0ZW1zXCIsIHtpdGVtczogbWFwcGVkfSwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhkYXRhLml0ZW1zKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9XG5cbiAgYXNzb2NpYXRlSXRlbShpdGVtKSB7XG4gICAgdGhpcy5wb3N0TWVzc2FnZShcImFzc29jaWF0ZS1pdGVtXCIsIHtpdGVtOiB0aGlzLmpzb25PYmplY3RGb3JJdGVtKGl0ZW0pfSk7XG4gIH1cblxuICBkZWFzc29jaWF0ZUl0ZW0oaXRlbSkge1xuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJkZWFzc29jaWF0ZS1pdGVtXCIsIHtpdGVtOiB0aGlzLmpzb25PYmplY3RGb3JJdGVtKGl0ZW0pfSk7XG4gIH1cblxuICBjbGVhclNlbGVjdGlvbigpIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwiY2xlYXItc2VsZWN0aW9uXCIsIHtjb250ZW50X3R5cGU6IFwiVGFnXCJ9KTtcbiAgfVxuXG4gIGRlbGV0ZUl0ZW0oaXRlbSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmRlbGV0ZUl0ZW1zKFtpdGVtXSwgY2FsbGJhY2spO1xuICB9XG5cbiAgZGVsZXRlSXRlbXMoaXRlbXMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgIGl0ZW1zOiBpdGVtcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb25PYmplY3RGb3JJdGVtKGl0ZW0pO1xuICAgICAgfS5iaW5kKHRoaXMpKVxuICAgIH07XG5cbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwiZGVsZXRlLWl0ZW1zXCIsIHBhcmFtcywgKGRhdGEpID0+IHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGRhdGEpO1xuICAgIH0pO1xuICB9XG5cbiAgc2VuZEN1c3RvbUV2ZW50KGFjdGlvbiwgZGF0YSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKGFjdGlvbiwgZGF0YSwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhkYXRhKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9XG5cbiAgc2F2ZUl0ZW0oaXRlbSwgY2FsbGJhY2ssIHNraXBEZWJvdW5jZXIgPSBmYWxzZSkge1xuICAgIHRoaXMuc2F2ZUl0ZW1zKFtpdGVtXSwgY2FsbGJhY2ssIHNraXBEZWJvdW5jZXIpO1xuICB9XG5cbiAgLyogUHJlc2F2ZSBhbGxvd3MgY2xpZW50cyB0byBwZXJmb3JtIGFueSBhY3Rpb25zIGxhc3Qgc2Vjb25kIGJlZm9yZSB0aGUgc2F2ZSBhY3R1YWxseSBvY2N1cnMgKGxpa2Ugc2V0dGluZyBwcmV2aWV3cykuXG4gICAgIFNhdmVzIGRlYm91bmNlIGJ5IGRlZmF1bHQsIHNvIGlmIGEgY2xpZW50IG5lZWRzIHRvIGNvbXB1dGUgYSBwcm9wZXJ0eSBvbiBhbiBpdGVtIGJlZm9yZSBzYXZpbmcsIGl0J3MgYmVzdCB0b1xuICAgICBob29rIGludG8gdGhlIGRlYm91bmNlIGN5Y2xlIHNvIHRoYXQgY2xpZW50cyBkb24ndCBoYXZlIHRvIGltcGxlbWVudCB0aGVpciBvd24gZGVib3VuY2luZy5cbiAgICovXG5cbiAgc2F2ZUl0ZW1XaXRoUHJlc2F2ZShpdGVtLCBwcmVzYXZlLCBjYWxsYmFjaykge1xuICAgIHRoaXMuc2F2ZUl0ZW1zV2l0aFByZXNhdmUoW2l0ZW1dLCBwcmVzYXZlLCBjYWxsYmFjayk7XG4gIH1cblxuICBzYXZlSXRlbXNXaXRoUHJlc2F2ZShpdGVtcywgcHJlc2F2ZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLnNhdmVJdGVtcyhpdGVtcywgY2FsbGJhY2ssIGZhbHNlLCBwcmVzYXZlKTtcbiAgfVxuXG4gIF9wZXJmb3JtU2F2aW5nT2ZJdGVtcyh7aXRlbXMsIHByZXNhdmUsIGNhbGxiYWNrfSkge1xuICAgIC8vIHByZXNhdmUgYmxvY2sgYWxsb3dzIGNsaWVudCB0byBnYWluIHRoZSBiZW5lZml0IG9mIHBlcmZvcm1pbmcgc29tZXRoaW5nIGluIHRoZSBkZWJvdW5jZSBjeWNsZS5cbiAgICBwcmVzYXZlICYmIHByZXNhdmUoKTtcblxuICAgIGxldCBtYXBwZWRJdGVtcyA9IFtdO1xuICAgIGZvcihsZXQgaXRlbSBvZiBpdGVtcykge1xuICAgICAgbWFwcGVkSXRlbXMucHVzaCh0aGlzLmpzb25PYmplY3RGb3JJdGVtKGl0ZW0pKTtcbiAgICB9XG5cbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwic2F2ZS1pdGVtc1wiLCB7aXRlbXM6IG1hcHBlZEl0ZW1zfSwgKGRhdGEpID0+IHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKlxuICBza2lwRGVib3VuY2VyIGFsbG93cyBzYXZlcyB0byBnbyB0aHJvdWdoIHJpZ2h0IGF3YXkgcmF0aGVyIHRoYW4gd2FpdGluZyBmb3IgdGltZW91dC5cbiAgVGhpcyBzaG91bGQgYmUgdXNlZCB3aGVuIHNhdmluZyBpdGVtcyB2aWEgb3RoZXIgbWVhbnMgYmVzaWRlcyBrZXlzdHJva2VzLlxuICAqL1xuICBzYXZlSXRlbXMoaXRlbXMsIGNhbGxiYWNrLCBza2lwRGVib3VuY2VyID0gZmFsc2UsIHByZXNhdmUpIHtcblxuICAgIC8vIFdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgd2hlbiB3ZSBjbGVhciBhIHBlbmRpbmcgc2F2ZSB0aW1lb3V0LFxuICAgIC8vIHdlIGNhcnJ5IG92ZXIgdGhvc2UgcGVuZGluZyBpdGVtcyBpbnRvIHRoZSBuZXcgc2F2ZS5cbiAgICBpZighdGhpcy5wZW5kaW5nU2F2ZUl0ZW1zKSB7IHRoaXMucGVuZGluZ1NhdmVJdGVtcyA9IFtdO31cblxuICAgIGlmKHRoaXMuY29hbGxlc2VkU2F2aW5nID09IHRydWUgJiYgIXNraXBEZWJvdW5jZXIpIHtcbiAgICAgIGlmKHRoaXMucGVuZGluZ1NhdmVUaW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdTYXZlVGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIGxldCBpbmNvbWluZ0lkcyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS51dWlkKTtcblxuICAgICAgLy8gUmVwbGFjZSBhbnkgZXhpc3Rpbmcgc2F2ZSBpdGVtcyB3aXRoIGluY29taW5nIHZhbHVlc1xuICAgICAgLy8gT25seSBrZWVwIGl0ZW1zIGhlcmUgd2hvIGFyZSBub3QgaW4gaW5jb21pbmdJZHNcbiAgICAgIGxldCBwcmVleGlzdGluZ0l0ZW1zID0gdGhpcy5wZW5kaW5nU2F2ZUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gIWluY29taW5nSWRzLmluY2x1ZGVzKGl0ZW0udXVpZCk7XG4gICAgICB9KVxuXG4gICAgICAgIC8vIEFkZCBuZXcgaXRlbXMsIG5vdyB0aGF0IHdlJ3ZlIG1hZGUgc3VyZSBpdCdzIGNsZWFyZWQgb2YgaW5jb21pbmcgaXRlbXMuXG4gICAgICB0aGlzLnBlbmRpbmdTYXZlSXRlbXMgPSBwcmVleGlzdGluZ0l0ZW1zLmNvbmNhdChpdGVtcyk7XG5cbiAgICAgIC8vIFdlJ2xsIHBvdGVudGlhbGx5IG5lZWQgdG8gY29tbWl0IGVhcmx5IGlmIHN0cmVhbS1jb250ZXh0LWl0ZW0gbWVzc2FnZSBjb21lcyBpblxuICAgICAgdGhpcy5wZW5kaW5nU2F2ZVBhcmFtcyA9IHtcbiAgICAgICAgaXRlbXM6IHRoaXMucGVuZGluZ1NhdmVJdGVtcyxcbiAgICAgICAgcHJlc2F2ZTogcHJlc2F2ZSxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrXG4gICAgICB9XG5cbiAgICAgIHRoaXMucGVuZGluZ1NhdmVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuX3BlcmZvcm1TYXZpbmdPZkl0ZW1zKHRoaXMucGVuZGluZ1NhdmVQYXJhbXMpO1xuICAgICAgICB0aGlzLnBlbmRpbmdTYXZlSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5wZW5kaW5nU2F2ZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmdTYXZlUGFyYW1zID0gbnVsbDtcbiAgICAgIH0sIHRoaXMuY29hbGxlc2VkU2F2aW5nRGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9wZXJmb3JtU2F2aW5nT2ZJdGVtcyh7aXRlbXMsIHByZXNhdmUsIGNhbGxiYWNrfSk7XG4gICAgfVxuICB9XG5cbiAganNvbk9iamVjdEZvckl0ZW0oaXRlbSkge1xuICAgIHZhciBjb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7XG4gICAgY29weS5jaGlsZHJlbiA9IG51bGw7XG4gICAgY29weS5wYXJlbnQgPSBudWxsO1xuICAgIHJldHVybiBjb3B5O1xuICB9XG5cbiAgZ2V0SXRlbUFwcERhdGFWYWx1ZShpdGVtLCBrZXkpIHtcbiAgICBsZXQgQXBwRG9tYWluID0gXCJvcmcuc3RhbmRhcmRub3Rlcy5zblwiO1xuICAgIHZhciBkYXRhID0gaXRlbS5jb250ZW50LmFwcERhdGEgJiYgaXRlbS5jb250ZW50LmFwcERhdGFbQXBwRG9tYWluXTtcbiAgICBpZihkYXRhKSB7XG4gICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKiBUaGVtZXMgKi9cblxuICBhY3RpdmF0ZVRoZW1lcyhpbmNvbWluZ1VybHMpIHtcbiAgICBpZih0aGlzLmxvZ2dpbmdFbmFibGVkKSB7IGNvbnNvbGUubG9nKFwiSW5jb21pbmcgdGhlbWVzXCIsIGluY29taW5nVXJscyk7IH1cbiAgICBpZih0aGlzLmFjdGl2ZVRoZW1lcy5zb3J0KCkudG9TdHJpbmcoKSA9PSBpbmNvbWluZ1VybHMuc29ydCgpLnRvU3RyaW5nKCkpIHtcbiAgICAgIC8vIGluY29taW5nIGFyZSBzYW1lIGFzIGFjdGl2ZSwgZG8gbm90aGluZ1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB0aGVtZXNUb0FjdGl2YXRlID0gaW5jb21pbmdVcmxzIHx8IFtdO1xuICAgIGxldCB0aGVtZXNUb0RlYWN0aXZhdGUgPSBbXTtcblxuICAgIGZvcih2YXIgYWN0aXZlVXJsIG9mIHRoaXMuYWN0aXZlVGhlbWVzKSB7XG4gICAgICBpZighaW5jb21pbmdVcmxzLmluY2x1ZGVzKGFjdGl2ZVVybCkpIHtcbiAgICAgICAgLy8gYWN0aXZlIG5vdCBwcmVzZW50IGluIGluY29taW5nLCBkZWFjdGl2YXRlIGl0XG4gICAgICAgIHRoZW1lc1RvRGVhY3RpdmF0ZS5wdXNoKGFjdGl2ZVVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBhbHJlYWR5IHByZXNlbnQgaW4gYWN0aXZlIHRoZW1lcywgcmVtb3ZlIGl0IGZyb20gdGhlbWVzVG9BY3RpdmF0ZVxuICAgICAgICB0aGVtZXNUb0FjdGl2YXRlID0gdGhlbWVzVG9BY3RpdmF0ZS5maWx0ZXIoKGNhbmRpZGF0ZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBjYW5kaWRhdGUgIT0gYWN0aXZlVXJsO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmKHRoaXMubG9nZ2luZ0VuYWJsZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRGVhY3RpdmF0aW5nIHRoZW1lczpcIiwgdGhlbWVzVG9EZWFjdGl2YXRlKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiQWN0aXZhdGluZyB0aGVtZXM6XCIsIHRoZW1lc1RvQWN0aXZhdGUpO1xuICAgIH1cblxuICAgIGZvcih2YXIgdGhlbWUgb2YgdGhlbWVzVG9EZWFjdGl2YXRlKSB7XG4gICAgICB0aGlzLmRlYWN0aXZhdGVUaGVtZSh0aGVtZSk7XG4gICAgfVxuXG4gICAgdGhpcy5hY3RpdmVUaGVtZXMgPSBpbmNvbWluZ1VybHM7XG5cbiAgICBmb3IodmFyIHVybCBvZiB0aGVtZXNUb0FjdGl2YXRlKSB7XG4gICAgICBpZighdXJsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgbGluay5pZCA9IGJ0b2EodXJsKTtcbiAgICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICAgIGxpbmsudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgICAgIGxpbmsucmVsID0gXCJzdHlsZXNoZWV0XCI7XG4gICAgICBsaW5rLm1lZGlhID0gXCJzY3JlZW4scHJpbnRcIjtcbiAgICAgIGxpbmsuY2xhc3NOYW1lID0gXCJjdXN0b20tdGhlbWVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICB9XG4gIH1cblxuICB0aGVtZUVsZW1lbnRGb3JVcmwodXJsKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY3VzdG9tLXRoZW1lXCIpKS5zbGljZSgpO1xuICAgIHJldHVybiBlbGVtZW50cy5maW5kKChlbGVtZW50KSA9PiB7XG4gICAgICAvLyBXZSB1c2VkIHRvIHNlYXJjaCBoZXJlIGJ5IGBocmVmYCwgYnV0IG9uIGRlc2t0b3AsIHdpdGggbG9jYWwgZmlsZTovLyB1cmxzLCB0aGF0IGRpZG4ndCB3b3JrIGZvciBzb21lIHJlYXNvbi5cbiAgICAgIHJldHVybiBlbGVtZW50LmlkID09IGJ0b2EodXJsKTtcbiAgICB9KVxuICB9XG5cbiAgZGVhY3RpdmF0ZVRoZW1lKHVybCkge1xuICAgIGxldCBlbGVtZW50ID0gdGhpcy50aGVtZUVsZW1lbnRGb3JVcmwodXJsKTtcbiAgICBpZihlbGVtZW50KSB7XG4gICAgICBlbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICAvKiBUaGVtZSBjYWNoaW5nIGlzIGN1cnJlbnRseSBkaXNhYmxlZC4gTWlnaHQgYmUgZW5hYmxlZCBpbiB0aGUgZnV0dXJlIGlmIG5lY2Nlc3NhcnkuICovXG4gIC8qXG4gIGFjdGl2YXRlQ2FjaGVkVGhlbWVzKCkge1xuICAgIGxldCB0aGVtZXMgPSB0aGlzLmdldENhY2hlZFRoZW1lVXJscygpO1xuICAgIGxldCB3cml0ZVRvQ2FjaGUgPSBmYWxzZTtcbiAgICBpZih0aGlzLmxvZ2dpbmdFbmFibGVkKSB7IGNvbnNvbGUubG9nKFwiQWN0aXZhdGluZyBjYWNoZWQgdGhlbWVzXCIsIHRoZW1lcyk7IH1cbiAgICB0aGlzLmFjdGl2YXRlVGhlbWVzKHRoZW1lcywgd3JpdGVUb0NhY2hlKTtcbiAgfVxuXG4gIGNhY2hlVGhlbWVVcmxzKHVybHMpIHtcbiAgICBpZih0aGlzLmxvZ2dpbmdFbmFibGVkKSB7IGNvbnNvbGUubG9nKFwiQ2FjaGluZyB0aGVtZSB1cmxzXCIsIHVybHMpOyB9XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjYWNoZWRUaGVtZVVybHNcIiwgSlNPTi5zdHJpbmdpZnkodXJscykpO1xuICB9XG5cbiAgZGVjYWNoZVRoZW1lVXJscygpIHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImNhY2hlZFRoZW1lVXJsc1wiKTtcbiAgfVxuXG4gIGdldENhY2hlZFRoZW1lVXJscygpIHtcbiAgICBsZXQgdXJscyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2FjaGVkVGhlbWVVcmxzXCIpO1xuICAgIGlmKHVybHMpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHVybHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG4gICovXG5cblxuICAvKiBVdGlsaXRpZXMgKi9cblxuXG4gIGdlbmVyYXRlVVVJRCgpIHtcbiAgICB2YXIgY3J5cHRvID0gd2luZG93LmNyeXB0byB8fCB3aW5kb3cubXNDcnlwdG87XG4gICAgaWYoY3J5cHRvKSB7XG4gICAgICB2YXIgYnVmID0gbmV3IFVpbnQzMkFycmF5KDQpO1xuICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhidWYpO1xuICAgICAgdmFyIGlkeCA9IC0xO1xuICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xuICAgICAgICAgIGlkeCsrO1xuICAgICAgICAgIHZhciByID0gKGJ1ZltpZHg+PjNdID4+ICgoaWR4JTgpKjQpKSYxNTtcbiAgICAgICAgICB2YXIgdiA9IGMgPT0gJ3gnID8gciA6IChyJjB4M3wweDgpO1xuICAgICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgaWYod2luZG93LnBlcmZvcm1hbmNlICYmIHR5cGVvZiB3aW5kb3cucGVyZm9ybWFuY2Uubm93ID09PSBcImZ1bmN0aW9uXCIpe1xuICAgICAgICBkICs9IHBlcmZvcm1hbmNlLm5vdygpOyAvL3VzZSBoaWdoLXByZWNpc2lvbiB0aW1lciBpZiBhdmFpbGFibGVcbiAgICAgIH1cbiAgICAgIHZhciB1dWlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XG4gICAgICAgIHZhciByID0gKGQgKyBNYXRoLnJhbmRvbSgpKjE2KSUxNiB8IDA7XG4gICAgICAgIGQgPSBNYXRoLmZsb29yKGQvMTYpO1xuICAgICAgICByZXR1cm4gKGM9PSd4JyA/IHIgOiAociYweDN8MHg4KSkudG9TdHJpbmcoMTYpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdXVpZDtcbiAgICB9XG4gIH1cbn1cblxuXG5pZih0eXBlb2YgbW9kdWxlICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBDb21wb25lbnRNYW5hZ2VyO1xufVxuXG5pZih3aW5kb3cpIHtcbiAgd2luZG93LkNvbXBvbmVudE1hbmFnZXIgPSBDb21wb25lbnRNYW5hZ2VyO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcInByb3NlbWlycm9yLmNzc1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbmRleC5odG1sXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcInN0eWxlcy5jc3NcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZXh0Lmpzb25cIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZGV2LWV4dC5qc29uXCI7IiwiLy8gOjotIFBlcnNpc3RlbnQgZGF0YSBzdHJ1Y3R1cmUgcmVwcmVzZW50aW5nIGFuIG9yZGVyZWQgbWFwcGluZyBmcm9tXG4vLyBzdHJpbmdzIHRvIHZhbHVlcywgd2l0aCBzb21lIGNvbnZlbmllbnQgdXBkYXRlIG1ldGhvZHMuXG5mdW5jdGlvbiBPcmRlcmVkTWFwKGNvbnRlbnQpIHtcbiAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbn1cblxuT3JkZXJlZE1hcC5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBPcmRlcmVkTWFwLFxuXG4gIGZpbmQ6IGZ1bmN0aW9uKGtleSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb250ZW50Lmxlbmd0aDsgaSArPSAyKVxuICAgICAgaWYgKHRoaXMuY29udGVudFtpXSA9PT0ga2V5KSByZXR1cm4gaVxuICAgIHJldHVybiAtMVxuICB9LFxuXG4gIC8vIDo6IChzdHJpbmcpIOKGkiA/YW55XG4gIC8vIFJldHJpZXZlIHRoZSB2YWx1ZSBzdG9yZWQgdW5kZXIgYGtleWAsIG9yIHJldHVybiB1bmRlZmluZWQgd2hlblxuICAvLyBubyBzdWNoIGtleSBleGlzdHMuXG4gIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGZvdW5kID0gdGhpcy5maW5kKGtleSk7XG4gICAgcmV0dXJuIGZvdW5kID09IC0xID8gdW5kZWZpbmVkIDogdGhpcy5jb250ZW50W2ZvdW5kICsgMV1cbiAgfSxcblxuICAvLyA6OiAoc3RyaW5nLCBhbnksID9zdHJpbmcpIOKGkiBPcmRlcmVkTWFwXG4gIC8vIENyZWF0ZSBhIG5ldyBtYXAgYnkgcmVwbGFjaW5nIHRoZSB2YWx1ZSBvZiBga2V5YCB3aXRoIGEgbmV3XG4gIC8vIHZhbHVlLCBvciBhZGRpbmcgYSBiaW5kaW5nIHRvIHRoZSBlbmQgb2YgdGhlIG1hcC4gSWYgYG5ld0tleWAgaXNcbiAgLy8gZ2l2ZW4sIHRoZSBrZXkgb2YgdGhlIGJpbmRpbmcgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoYXQga2V5LlxuICB1cGRhdGU6IGZ1bmN0aW9uKGtleSwgdmFsdWUsIG5ld0tleSkge1xuICAgIHZhciBzZWxmID0gbmV3S2V5ICYmIG5ld0tleSAhPSBrZXkgPyB0aGlzLnJlbW92ZShuZXdLZXkpIDogdGhpcztcbiAgICB2YXIgZm91bmQgPSBzZWxmLmZpbmQoa2V5KSwgY29udGVudCA9IHNlbGYuY29udGVudC5zbGljZSgpO1xuICAgIGlmIChmb3VuZCA9PSAtMSkge1xuICAgICAgY29udGVudC5wdXNoKG5ld0tleSB8fCBrZXksIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGVudFtmb3VuZCArIDFdID0gdmFsdWU7XG4gICAgICBpZiAobmV3S2V5KSBjb250ZW50W2ZvdW5kXSA9IG5ld0tleTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwKGNvbnRlbnQpXG4gIH0sXG5cbiAgLy8gOjogKHN0cmluZykg4oaSIE9yZGVyZWRNYXBcbiAgLy8gUmV0dXJuIGEgbWFwIHdpdGggdGhlIGdpdmVuIGtleSByZW1vdmVkLCBpZiBpdCBleGlzdGVkLlxuICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZChrZXkpO1xuICAgIGlmIChmb3VuZCA9PSAtMSkgcmV0dXJuIHRoaXNcbiAgICB2YXIgY29udGVudCA9IHRoaXMuY29udGVudC5zbGljZSgpO1xuICAgIGNvbnRlbnQuc3BsaWNlKGZvdW5kLCAyKTtcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAoY29udGVudClcbiAgfSxcblxuICAvLyA6OiAoc3RyaW5nLCBhbnkpIOKGkiBPcmRlcmVkTWFwXG4gIC8vIEFkZCBhIG5ldyBrZXkgdG8gdGhlIHN0YXJ0IG9mIHRoZSBtYXAuXG4gIGFkZFRvU3RhcnQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAoW2tleSwgdmFsdWVdLmNvbmNhdCh0aGlzLnJlbW92ZShrZXkpLmNvbnRlbnQpKVxuICB9LFxuXG4gIC8vIDo6IChzdHJpbmcsIGFueSkg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQWRkIGEgbmV3IGtleSB0byB0aGUgZW5kIG9mIHRoZSBtYXAuXG4gIGFkZFRvRW5kOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgdmFyIGNvbnRlbnQgPSB0aGlzLnJlbW92ZShrZXkpLmNvbnRlbnQuc2xpY2UoKTtcbiAgICBjb250ZW50LnB1c2goa2V5LCB2YWx1ZSk7XG4gICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwKGNvbnRlbnQpXG4gIH0sXG5cbiAgLy8gOjogKHN0cmluZywgc3RyaW5nLCBhbnkpIOKGkiBPcmRlcmVkTWFwXG4gIC8vIEFkZCBhIGtleSBhZnRlciB0aGUgZ2l2ZW4ga2V5LiBJZiBgcGxhY2VgIGlzIG5vdCBmb3VuZCwgdGhlIG5ld1xuICAvLyBrZXkgaXMgYWRkZWQgdG8gdGhlIGVuZC5cbiAgYWRkQmVmb3JlOiBmdW5jdGlvbihwbGFjZSwga2V5LCB2YWx1ZSkge1xuICAgIHZhciB3aXRob3V0ID0gdGhpcy5yZW1vdmUoa2V5KSwgY29udGVudCA9IHdpdGhvdXQuY29udGVudC5zbGljZSgpO1xuICAgIHZhciBmb3VuZCA9IHdpdGhvdXQuZmluZChwbGFjZSk7XG4gICAgY29udGVudC5zcGxpY2UoZm91bmQgPT0gLTEgPyBjb250ZW50Lmxlbmd0aCA6IGZvdW5kLCAwLCBrZXksIHZhbHVlKTtcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAoY29udGVudClcbiAgfSxcblxuICAvLyA6OiAoKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSlcbiAgLy8gQ2FsbCB0aGUgZ2l2ZW4gZnVuY3Rpb24gZm9yIGVhY2gga2V5L3ZhbHVlIHBhaXIgaW4gdGhlIG1hcCwgaW5cbiAgLy8gb3JkZXIuXG4gIGZvckVhY2g6IGZ1bmN0aW9uKGYpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29udGVudC5sZW5ndGg7IGkgKz0gMilcbiAgICAgIGYodGhpcy5jb250ZW50W2ldLCB0aGlzLmNvbnRlbnRbaSArIDFdKTtcbiAgfSxcblxuICAvLyA6OiAodW5pb248T2JqZWN0LCBPcmRlcmVkTWFwPikg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQ3JlYXRlIGEgbmV3IG1hcCBieSBwcmVwZW5kaW5nIHRoZSBrZXlzIGluIHRoaXMgbWFwIHRoYXQgZG9uJ3RcbiAgLy8gYXBwZWFyIGluIGBtYXBgIGJlZm9yZSB0aGUga2V5cyBpbiBgbWFwYC5cbiAgcHJlcGVuZDogZnVuY3Rpb24obWFwKSB7XG4gICAgbWFwID0gT3JkZXJlZE1hcC5mcm9tKG1hcCk7XG4gICAgaWYgKCFtYXAuc2l6ZSkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAobWFwLmNvbnRlbnQuY29uY2F0KHRoaXMuc3VidHJhY3QobWFwKS5jb250ZW50KSlcbiAgfSxcblxuICAvLyA6OiAodW5pb248T2JqZWN0LCBPcmRlcmVkTWFwPikg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQ3JlYXRlIGEgbmV3IG1hcCBieSBhcHBlbmRpbmcgdGhlIGtleXMgaW4gdGhpcyBtYXAgdGhhdCBkb24ndFxuICAvLyBhcHBlYXIgaW4gYG1hcGAgYWZ0ZXIgdGhlIGtleXMgaW4gYG1hcGAuXG4gIGFwcGVuZDogZnVuY3Rpb24obWFwKSB7XG4gICAgbWFwID0gT3JkZXJlZE1hcC5mcm9tKG1hcCk7XG4gICAgaWYgKCFtYXAuc2l6ZSkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAodGhpcy5zdWJ0cmFjdChtYXApLmNvbnRlbnQuY29uY2F0KG1hcC5jb250ZW50KSlcbiAgfSxcblxuICAvLyA6OiAodW5pb248T2JqZWN0LCBPcmRlcmVkTWFwPikg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQ3JlYXRlIGEgbWFwIGNvbnRhaW5pbmcgYWxsIHRoZSBrZXlzIGluIHRoaXMgbWFwIHRoYXQgZG9uJ3RcbiAgLy8gYXBwZWFyIGluIGBtYXBgLlxuICBzdWJ0cmFjdDogZnVuY3Rpb24obWFwKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXM7XG4gICAgbWFwID0gT3JkZXJlZE1hcC5mcm9tKG1hcCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXAuY29udGVudC5sZW5ndGg7IGkgKz0gMilcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZW1vdmUobWFwLmNvbnRlbnRbaV0pO1xuICAgIHJldHVybiByZXN1bHRcbiAgfSxcblxuICAvLyA6OiBudW1iZXJcbiAgLy8gVGhlIGFtb3VudCBvZiBrZXlzIGluIHRoaXMgbWFwLlxuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aCA+PiAxXG4gIH1cbn07XG5cbi8vIDo6ICg/dW5pb248T2JqZWN0LCBPcmRlcmVkTWFwPikg4oaSIE9yZGVyZWRNYXBcbi8vIFJldHVybiBhIG1hcCB3aXRoIHRoZSBnaXZlbiBjb250ZW50LiBJZiBudWxsLCBjcmVhdGUgYW4gZW1wdHlcbi8vIG1hcC4gSWYgZ2l2ZW4gYW4gb3JkZXJlZCBtYXAsIHJldHVybiB0aGF0IG1hcCBpdHNlbGYuIElmIGdpdmVuIGFuXG4vLyBvYmplY3QsIGNyZWF0ZSBhIG1hcCBmcm9tIHRoZSBvYmplY3QncyBwcm9wZXJ0aWVzLlxuT3JkZXJlZE1hcC5mcm9tID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgT3JkZXJlZE1hcCkgcmV0dXJuIHZhbHVlXG4gIHZhciBjb250ZW50ID0gW107XG4gIGlmICh2YWx1ZSkgZm9yICh2YXIgcHJvcCBpbiB2YWx1ZSkgY29udGVudC5wdXNoKHByb3AsIHZhbHVlW3Byb3BdKTtcbiAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwKGNvbnRlbnQpXG59O1xuXG52YXIgb3JkZXJlZG1hcCA9IE9yZGVyZWRNYXA7XG5cbmV4cG9ydCBkZWZhdWx0IG9yZGVyZWRtYXA7XG4iLCJpbXBvcnQgKiBhcyBzdmdzIGZyb20gJy4vYXNzZXRzJztcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtZm9ybWF0PXBhcmFncmFwaF0gaScpLmlubmVySFRNTCA9IHN2Z3MuTm90ZXM7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1mb3JtYXQ9Y2hlY2tsaXN0X2l0ZW1dIGknKS5pbm5lckhUTUwgPSBzdmdzLkNoZWNrQm94O1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtZm9ybWF0PWhlYWRpbmddIGknKS5pbm5lckhUTUwgPSBzdmdzLkZvcm1hdFNpemU7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1mb3JtYXQ9dW5vcmRlcmVkX2xpc3RdIGknKS5pbm5lckhUTUwgPSBzdmdzLkZvcm1hdExpc3RCdWxsZXRlZDtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWZvcm1hdD1zdHJvbmddIGknKS5pbm5lckhUTUwgPSBzdmdzLkZvcm1hdEJvbGQ7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1mb3JtYXQ9ZW1dIGknKS5pbm5lckhUTUwgPSBzdmdzLkZvcm1hdEl0YWxpYztcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWZvcm1hdD1jb2RlXSBpJykuaW5uZXJIVE1MID0gc3Zncy5Db2RlO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtZm9ybWF0PWxpbmtdIGknKS5pbm5lckhUTUwgPSBzdmdzLkxpbms7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1mb3JtYXQ9b3JkZXJlZF9saXN0XSBpJykuaW5uZXJIVE1MID0gc3Zncy5Gb3JtYXRMaXN0TnVtYmVyZWQ7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYjbGluay1tb2RhbCBsYWJlbCBhIGknKS5pbm5lckhUTUwgPSBzdmdzLk9wZW5Jbk5ldztcbiIsImltcG9ydCB7ZmluZERpZmZTdGFydCwgZmluZERpZmZFbmR9IGZyb20gXCIuL2RpZmZcIlxuXG4vLyA6Oi0gQSBmcmFnbWVudCByZXByZXNlbnRzIGEgbm9kZSdzIGNvbGxlY3Rpb24gb2YgY2hpbGQgbm9kZXMuXG4vL1xuLy8gTGlrZSBub2RlcywgZnJhZ21lbnRzIGFyZSBwZXJzaXN0ZW50IGRhdGEgc3RydWN0dXJlcywgYW5kIHlvdVxuLy8gc2hvdWxkIG5vdCBtdXRhdGUgdGhlbSBvciB0aGVpciBjb250ZW50LiBSYXRoZXIsIHlvdSBjcmVhdGUgbmV3XG4vLyBpbnN0YW5jZXMgd2hlbmV2ZXIgbmVlZGVkLiBUaGUgQVBJIHRyaWVzIHRvIG1ha2UgdGhpcyBlYXN5LlxuZXhwb3J0IGNsYXNzIEZyYWdtZW50IHtcbiAgY29uc3RydWN0b3IoY29udGVudCwgc2l6ZSkge1xuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnRcbiAgICAvLyA6OiBudW1iZXJcbiAgICAvLyBUaGUgc2l6ZSBvZiB0aGUgZnJhZ21lbnQsIHdoaWNoIGlzIHRoZSB0b3RhbCBvZiB0aGUgc2l6ZSBvZiBpdHNcbiAgICAvLyBjb250ZW50IG5vZGVzLlxuICAgIHRoaXMuc2l6ZSA9IHNpemUgfHwgMFxuICAgIGlmIChzaXplID09IG51bGwpIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudC5sZW5ndGg7IGkrKylcbiAgICAgIHRoaXMuc2l6ZSArPSBjb250ZW50W2ldLm5vZGVTaXplXG4gIH1cblxuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsIChub2RlOiBOb2RlLCBzdGFydDogbnVtYmVyLCBwYXJlbnQ6IE5vZGUsIGluZGV4OiBudW1iZXIpIOKGkiA/Ym9vbCwgP251bWJlcilcbiAgLy8gSW52b2tlIGEgY2FsbGJhY2sgZm9yIGFsbCBkZXNjZW5kYW50IG5vZGVzIGJldHdlZW4gdGhlIGdpdmVuIHR3b1xuICAvLyBwb3NpdGlvbnMgKHJlbGF0aXZlIHRvIHN0YXJ0IG9mIHRoaXMgZnJhZ21lbnQpLiBEb2Vzbid0IGRlc2NlbmRcbiAgLy8gaW50byBhIG5vZGUgd2hlbiB0aGUgY2FsbGJhY2sgcmV0dXJucyBgZmFsc2VgLlxuICBub2Rlc0JldHdlZW4oZnJvbSwgdG8sIGYsIG5vZGVTdGFydCA9IDAsIHBhcmVudCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSAwOyBwb3MgPCB0bzsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGQgPSB0aGlzLmNvbnRlbnRbaV0sIGVuZCA9IHBvcyArIGNoaWxkLm5vZGVTaXplXG4gICAgICBpZiAoZW5kID4gZnJvbSAmJiBmKGNoaWxkLCBub2RlU3RhcnQgKyBwb3MsIHBhcmVudCwgaSkgIT09IGZhbHNlICYmIGNoaWxkLmNvbnRlbnQuc2l6ZSkge1xuICAgICAgICBsZXQgc3RhcnQgPSBwb3MgKyAxXG4gICAgICAgIGNoaWxkLm5vZGVzQmV0d2VlbihNYXRoLm1heCgwLCBmcm9tIC0gc3RhcnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oY2hpbGQuY29udGVudC5zaXplLCB0byAtIHN0YXJ0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGYsIG5vZGVTdGFydCArIHN0YXJ0KVxuICAgICAgfVxuICAgICAgcG9zID0gZW5kXG4gICAgfVxuICB9XG5cbiAgLy8gOjogKChub2RlOiBOb2RlLCBwb3M6IG51bWJlciwgcGFyZW50OiBOb2RlKSDihpIgP2Jvb2wpXG4gIC8vIENhbGwgdGhlIGdpdmVuIGNhbGxiYWNrIGZvciBldmVyeSBkZXNjZW5kYW50IG5vZGUuIFRoZSBjYWxsYmFja1xuICAvLyBtYXkgcmV0dXJuIGBmYWxzZWAgdG8gcHJldmVudCB0cmF2ZXJzYWwgb2YgYSBnaXZlbiBub2RlJ3MgY2hpbGRyZW4uXG4gIGRlc2NlbmRhbnRzKGYpIHtcbiAgICB0aGlzLm5vZGVzQmV0d2VlbigwLCB0aGlzLnNpemUsIGYpXG4gIH1cblxuICAvLyA6IChudW1iZXIsIG51bWJlciwgP3N0cmluZywgP3N0cmluZykg4oaSIHN0cmluZ1xuICB0ZXh0QmV0d2Vlbihmcm9tLCB0bywgYmxvY2tTZXBhcmF0b3IsIGxlYWZUZXh0KSB7XG4gICAgbGV0IHRleHQgPSBcIlwiLCBzZXBhcmF0ZWQgPSB0cnVlXG4gICAgdGhpcy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIChub2RlLCBwb3MpID0+IHtcbiAgICAgIGlmIChub2RlLmlzVGV4dCkge1xuICAgICAgICB0ZXh0ICs9IG5vZGUudGV4dC5zbGljZShNYXRoLm1heChmcm9tLCBwb3MpIC0gcG9zLCB0byAtIHBvcylcbiAgICAgICAgc2VwYXJhdGVkID0gIWJsb2NrU2VwYXJhdG9yXG4gICAgICB9IGVsc2UgaWYgKG5vZGUuaXNMZWFmICYmIGxlYWZUZXh0KSB7XG4gICAgICAgIHRleHQgKz0gbGVhZlRleHRcbiAgICAgICAgc2VwYXJhdGVkID0gIWJsb2NrU2VwYXJhdG9yXG4gICAgICB9IGVsc2UgaWYgKCFzZXBhcmF0ZWQgJiYgbm9kZS5pc0Jsb2NrKSB7XG4gICAgICAgIHRleHQgKz0gYmxvY2tTZXBhcmF0b3JcbiAgICAgICAgc2VwYXJhdGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0sIDApXG4gICAgcmV0dXJuIHRleHRcbiAgfVxuXG4gIC8vIDo6IChGcmFnbWVudCkg4oaSIEZyYWdtZW50XG4gIC8vIENyZWF0ZSBhIG5ldyBmcmFnbWVudCBjb250YWluaW5nIHRoZSBjb21iaW5lZCBjb250ZW50IG9mIHRoaXNcbiAgLy8gZnJhZ21lbnQgYW5kIHRoZSBvdGhlci5cbiAgYXBwZW5kKG90aGVyKSB7XG4gICAgaWYgKCFvdGhlci5zaXplKSByZXR1cm4gdGhpc1xuICAgIGlmICghdGhpcy5zaXplKSByZXR1cm4gb3RoZXJcbiAgICBsZXQgbGFzdCA9IHRoaXMubGFzdENoaWxkLCBmaXJzdCA9IG90aGVyLmZpcnN0Q2hpbGQsIGNvbnRlbnQgPSB0aGlzLmNvbnRlbnQuc2xpY2UoKSwgaSA9IDBcbiAgICBpZiAobGFzdC5pc1RleHQgJiYgbGFzdC5zYW1lTWFya3VwKGZpcnN0KSkge1xuICAgICAgY29udGVudFtjb250ZW50Lmxlbmd0aCAtIDFdID0gbGFzdC53aXRoVGV4dChsYXN0LnRleHQgKyBmaXJzdC50ZXh0KVxuICAgICAgaSA9IDFcbiAgICB9XG4gICAgZm9yICg7IGkgPCBvdGhlci5jb250ZW50Lmxlbmd0aDsgaSsrKSBjb250ZW50LnB1c2gob3RoZXIuY29udGVudFtpXSlcbiAgICByZXR1cm4gbmV3IEZyYWdtZW50KGNvbnRlbnQsIHRoaXMuc2l6ZSArIG90aGVyLnNpemUpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyLCA/bnVtYmVyKSDihpIgRnJhZ21lbnRcbiAgLy8gQ3V0IG91dCB0aGUgc3ViLWZyYWdtZW50IGJldHdlZW4gdGhlIHR3byBnaXZlbiBwb3NpdGlvbnMuXG4gIGN1dChmcm9tLCB0bykge1xuICAgIGlmICh0byA9PSBudWxsKSB0byA9IHRoaXMuc2l6ZVxuICAgIGlmIChmcm9tID09IDAgJiYgdG8gPT0gdGhpcy5zaXplKSByZXR1cm4gdGhpc1xuICAgIGxldCByZXN1bHQgPSBbXSwgc2l6ZSA9IDBcbiAgICBpZiAodG8gPiBmcm9tKSBmb3IgKGxldCBpID0gMCwgcG9zID0gMDsgcG9zIDwgdG87IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gdGhpcy5jb250ZW50W2ldLCBlbmQgPSBwb3MgKyBjaGlsZC5ub2RlU2l6ZVxuICAgICAgaWYgKGVuZCA+IGZyb20pIHtcbiAgICAgICAgaWYgKHBvcyA8IGZyb20gfHwgZW5kID4gdG8pIHtcbiAgICAgICAgICBpZiAoY2hpbGQuaXNUZXh0KVxuICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5jdXQoTWF0aC5tYXgoMCwgZnJvbSAtIHBvcyksIE1hdGgubWluKGNoaWxkLnRleHQubGVuZ3RoLCB0byAtIHBvcykpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5jdXQoTWF0aC5tYXgoMCwgZnJvbSAtIHBvcyAtIDEpLCBNYXRoLm1pbihjaGlsZC5jb250ZW50LnNpemUsIHRvIC0gcG9zIC0gMSkpXG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnB1c2goY2hpbGQpXG4gICAgICAgIHNpemUgKz0gY2hpbGQubm9kZVNpemVcbiAgICAgIH1cbiAgICAgIHBvcyA9IGVuZFxuICAgIH1cbiAgICByZXR1cm4gbmV3IEZyYWdtZW50KHJlc3VsdCwgc2l6ZSlcbiAgfVxuXG4gIGN1dEJ5SW5kZXgoZnJvbSwgdG8pIHtcbiAgICBpZiAoZnJvbSA9PSB0bykgcmV0dXJuIEZyYWdtZW50LmVtcHR5XG4gICAgaWYgKGZyb20gPT0gMCAmJiB0byA9PSB0aGlzLmNvbnRlbnQubGVuZ3RoKSByZXR1cm4gdGhpc1xuICAgIHJldHVybiBuZXcgRnJhZ21lbnQodGhpcy5jb250ZW50LnNsaWNlKGZyb20sIHRvKSlcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIsIE5vZGUpIOKGkiBGcmFnbWVudFxuICAvLyBDcmVhdGUgYSBuZXcgZnJhZ21lbnQgaW4gd2hpY2ggdGhlIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4IGlzXG4gIC8vIHJlcGxhY2VkIGJ5IHRoZSBnaXZlbiBub2RlLlxuICByZXBsYWNlQ2hpbGQoaW5kZXgsIG5vZGUpIHtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMuY29udGVudFtpbmRleF1cbiAgICBpZiAoY3VycmVudCA9PSBub2RlKSByZXR1cm4gdGhpc1xuICAgIGxldCBjb3B5ID0gdGhpcy5jb250ZW50LnNsaWNlKClcbiAgICBsZXQgc2l6ZSA9IHRoaXMuc2l6ZSArIG5vZGUubm9kZVNpemUgLSBjdXJyZW50Lm5vZGVTaXplXG4gICAgY29weVtpbmRleF0gPSBub2RlXG4gICAgcmV0dXJuIG5ldyBGcmFnbWVudChjb3B5LCBzaXplKVxuICB9XG5cbiAgLy8gOiAoTm9kZSkg4oaSIEZyYWdtZW50XG4gIC8vIENyZWF0ZSBhIG5ldyBmcmFnbWVudCBieSBwcmVwZW5kaW5nIHRoZSBnaXZlbiBub2RlIHRvIHRoaXNcbiAgLy8gZnJhZ21lbnQuXG4gIGFkZFRvU3RhcnQobm9kZSkge1xuICAgIHJldHVybiBuZXcgRnJhZ21lbnQoW25vZGVdLmNvbmNhdCh0aGlzLmNvbnRlbnQpLCB0aGlzLnNpemUgKyBub2RlLm5vZGVTaXplKVxuICB9XG5cbiAgLy8gOiAoTm9kZSkg4oaSIEZyYWdtZW50XG4gIC8vIENyZWF0ZSBhIG5ldyBmcmFnbWVudCBieSBhcHBlbmRpbmcgdGhlIGdpdmVuIG5vZGUgdG8gdGhpc1xuICAvLyBmcmFnbWVudC5cbiAgYWRkVG9FbmQobm9kZSkge1xuICAgIHJldHVybiBuZXcgRnJhZ21lbnQodGhpcy5jb250ZW50LmNvbmNhdChub2RlKSwgdGhpcy5zaXplICsgbm9kZS5ub2RlU2l6ZSlcbiAgfVxuXG4gIC8vIDo6IChGcmFnbWVudCkg4oaSIGJvb2xcbiAgLy8gQ29tcGFyZSB0aGlzIGZyYWdtZW50IHRvIGFub3RoZXIgb25lLlxuICBlcShvdGhlcikge1xuICAgIGlmICh0aGlzLmNvbnRlbnQubGVuZ3RoICE9IG90aGVyLmNvbnRlbnQubGVuZ3RoKSByZXR1cm4gZmFsc2VcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29udGVudC5sZW5ndGg7IGkrKylcbiAgICAgIGlmICghdGhpcy5jb250ZW50W2ldLmVxKG90aGVyLmNvbnRlbnRbaV0pKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gOjogP05vZGVcbiAgLy8gVGhlIGZpcnN0IGNoaWxkIG9mIHRoZSBmcmFnbWVudCwgb3IgYG51bGxgIGlmIGl0IGlzIGVtcHR5LlxuICBnZXQgZmlyc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGggPyB0aGlzLmNvbnRlbnRbMF0gOiBudWxsIH1cblxuICAvLyA6OiA/Tm9kZVxuICAvLyBUaGUgbGFzdCBjaGlsZCBvZiB0aGUgZnJhZ21lbnQsIG9yIGBudWxsYCBpZiBpdCBpcyBlbXB0eS5cbiAgZ2V0IGxhc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGggPyB0aGlzLmNvbnRlbnRbdGhpcy5jb250ZW50Lmxlbmd0aCAtIDFdIDogbnVsbCB9XG5cbiAgLy8gOjogbnVtYmVyXG4gIC8vIFRoZSBudW1iZXIgb2YgY2hpbGQgbm9kZXMgaW4gdGhpcyBmcmFnbWVudC5cbiAgZ2V0IGNoaWxkQ291bnQoKSB7IHJldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIgTm9kZVxuICAvLyBHZXQgdGhlIGNoaWxkIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LiBSYWlzZSBhbiBlcnJvciB3aGVuIHRoZVxuICAvLyBpbmRleCBpcyBvdXQgb2YgcmFuZ2UuXG4gIGNoaWxkKGluZGV4KSB7XG4gICAgbGV0IGZvdW5kID0gdGhpcy5jb250ZW50W2luZGV4XVxuICAgIGlmICghZm91bmQpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggXCIgKyBpbmRleCArIFwiIG91dCBvZiByYW5nZSBmb3IgXCIgKyB0aGlzKVxuICAgIHJldHVybiBmb3VuZFxuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSID9Ob2RlXG4gIC8vIEdldCB0aGUgY2hpbGQgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGl0IGV4aXN0cy5cbiAgbWF5YmVDaGlsZChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRbaW5kZXhdXG4gIH1cblxuICAvLyA6OiAoKG5vZGU6IE5vZGUsIG9mZnNldDogbnVtYmVyLCBpbmRleDogbnVtYmVyKSlcbiAgLy8gQ2FsbCBgZmAgZm9yIGV2ZXJ5IGNoaWxkIG5vZGUsIHBhc3NpbmcgdGhlIG5vZGUsIGl0cyBvZmZzZXRcbiAgLy8gaW50byB0aGlzIHBhcmVudCBub2RlLCBhbmQgaXRzIGluZGV4LlxuICBmb3JFYWNoKGYpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgcCA9IDA7IGkgPCB0aGlzLmNvbnRlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IHRoaXMuY29udGVudFtpXVxuICAgICAgZihjaGlsZCwgcCwgaSlcbiAgICAgIHAgKz0gY2hpbGQubm9kZVNpemVcbiAgICB9XG4gIH1cblxuICAvLyA6OiAoRnJhZ21lbnQpIOKGkiA/bnVtYmVyXG4gIC8vIEZpbmQgdGhlIGZpcnN0IHBvc2l0aW9uIGF0IHdoaWNoIHRoaXMgZnJhZ21lbnQgYW5kIGFub3RoZXJcbiAgLy8gZnJhZ21lbnQgZGlmZmVyLCBvciBgbnVsbGAgaWYgdGhleSBhcmUgdGhlIHNhbWUuXG4gIGZpbmREaWZmU3RhcnQob3RoZXIsIHBvcyA9IDApIHtcbiAgICByZXR1cm4gZmluZERpZmZTdGFydCh0aGlzLCBvdGhlciwgcG9zKVxuICB9XG5cbiAgLy8gOjogKEZyYWdtZW50KSDihpIgP3thOiBudW1iZXIsIGI6IG51bWJlcn1cbiAgLy8gRmluZCB0aGUgZmlyc3QgcG9zaXRpb24sIHNlYXJjaGluZyBmcm9tIHRoZSBlbmQsIGF0IHdoaWNoIHRoaXNcbiAgLy8gZnJhZ21lbnQgYW5kIHRoZSBnaXZlbiBmcmFnbWVudCBkaWZmZXIsIG9yIGBudWxsYCBpZiB0aGV5IGFyZSB0aGVcbiAgLy8gc2FtZS4gU2luY2UgdGhpcyBwb3NpdGlvbiB3aWxsIG5vdCBiZSB0aGUgc2FtZSBpbiBib3RoIG5vZGVzLCBhblxuICAvLyBvYmplY3Qgd2l0aCB0d28gc2VwYXJhdGUgcG9zaXRpb25zIGlzIHJldHVybmVkLlxuICBmaW5kRGlmZkVuZChvdGhlciwgcG9zID0gdGhpcy5zaXplLCBvdGhlclBvcyA9IG90aGVyLnNpemUpIHtcbiAgICByZXR1cm4gZmluZERpZmZFbmQodGhpcywgb3RoZXIsIHBvcywgb3RoZXJQb3MpXG4gIH1cblxuICAvLyA6IChudW1iZXIsID9udW1iZXIpIOKGkiB7aW5kZXg6IG51bWJlciwgb2Zmc2V0OiBudW1iZXJ9XG4gIC8vIEZpbmQgdGhlIGluZGV4IGFuZCBpbm5lciBvZmZzZXQgY29ycmVzcG9uZGluZyB0byBhIGdpdmVuIHJlbGF0aXZlXG4gIC8vIHBvc2l0aW9uIGluIHRoaXMgZnJhZ21lbnQuIFRoZSByZXN1bHQgb2JqZWN0IHdpbGwgYmUgcmV1c2VkXG4gIC8vIChvdmVyd3JpdHRlbikgdGhlIG5leHQgdGltZSB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkLiAoTm90IHB1YmxpYy4pXG4gIGZpbmRJbmRleChwb3MsIHJvdW5kID0gLTEpIHtcbiAgICBpZiAocG9zID09IDApIHJldHVybiByZXRJbmRleCgwLCBwb3MpXG4gICAgaWYgKHBvcyA9PSB0aGlzLnNpemUpIHJldHVybiByZXRJbmRleCh0aGlzLmNvbnRlbnQubGVuZ3RoLCBwb3MpXG4gICAgaWYgKHBvcyA+IHRoaXMuc2l6ZSB8fCBwb3MgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgUG9zaXRpb24gJHtwb3N9IG91dHNpZGUgb2YgZnJhZ21lbnQgKCR7dGhpc30pYClcbiAgICBmb3IgKGxldCBpID0gMCwgY3VyUG9zID0gMDs7IGkrKykge1xuICAgICAgbGV0IGN1ciA9IHRoaXMuY2hpbGQoaSksIGVuZCA9IGN1clBvcyArIGN1ci5ub2RlU2l6ZVxuICAgICAgaWYgKGVuZCA+PSBwb3MpIHtcbiAgICAgICAgaWYgKGVuZCA9PSBwb3MgfHwgcm91bmQgPiAwKSByZXR1cm4gcmV0SW5kZXgoaSArIDEsIGVuZClcbiAgICAgICAgcmV0dXJuIHJldEluZGV4KGksIGN1clBvcylcbiAgICAgIH1cbiAgICAgIGN1clBvcyA9IGVuZFxuICAgIH1cbiAgfVxuXG4gIC8vIDo6ICgpIOKGkiBzdHJpbmdcbiAgLy8gUmV0dXJuIGEgZGVidWdnaW5nIHN0cmluZyB0aGF0IGRlc2NyaWJlcyB0aGlzIGZyYWdtZW50LlxuICB0b1N0cmluZygpIHsgcmV0dXJuIFwiPFwiICsgdGhpcy50b1N0cmluZ0lubmVyKCkgKyBcIj5cIiB9XG5cbiAgdG9TdHJpbmdJbm5lcigpIHsgcmV0dXJuIHRoaXMuY29udGVudC5qb2luKFwiLCBcIikgfVxuXG4gIC8vIDo6ICgpIOKGkiA/T2JqZWN0XG4gIC8vIENyZWF0ZSBhIEpTT04tc2VyaWFsaXplYWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGZyYWdtZW50LlxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGggPyB0aGlzLmNvbnRlbnQubWFwKG4gPT4gbi50b0pTT04oKSkgOiBudWxsXG4gIH1cblxuICAvLyA6OiAoU2NoZW1hLCA/T2JqZWN0KSDihpIgRnJhZ21lbnRcbiAgLy8gRGVzZXJpYWxpemUgYSBmcmFnbWVudCBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uLlxuICBzdGF0aWMgZnJvbUpTT04oc2NoZW1hLCB2YWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHJldHVybiBGcmFnbWVudC5lbXB0eVxuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgRnJhZ21lbnQuZnJvbUpTT05cIilcbiAgICByZXR1cm4gbmV3IEZyYWdtZW50KHZhbHVlLm1hcChzY2hlbWEubm9kZUZyb21KU09OKSlcbiAgfVxuXG4gIC8vIDo6IChbTm9kZV0pIOKGkiBGcmFnbWVudFxuICAvLyBCdWlsZCBhIGZyYWdtZW50IGZyb20gYW4gYXJyYXkgb2Ygbm9kZXMuIEVuc3VyZXMgdGhhdCBhZGphY2VudFxuICAvLyB0ZXh0IG5vZGVzIHdpdGggdGhlIHNhbWUgbWFya3MgYXJlIGpvaW5lZCB0b2dldGhlci5cbiAgc3RhdGljIGZyb21BcnJheShhcnJheSkge1xuICAgIGlmICghYXJyYXkubGVuZ3RoKSByZXR1cm4gRnJhZ21lbnQuZW1wdHlcbiAgICBsZXQgam9pbmVkLCBzaXplID0gMFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBub2RlID0gYXJyYXlbaV1cbiAgICAgIHNpemUgKz0gbm9kZS5ub2RlU2l6ZVxuICAgICAgaWYgKGkgJiYgbm9kZS5pc1RleHQgJiYgYXJyYXlbaSAtIDFdLnNhbWVNYXJrdXAobm9kZSkpIHtcbiAgICAgICAgaWYgKCFqb2luZWQpIGpvaW5lZCA9IGFycmF5LnNsaWNlKDAsIGkpXG4gICAgICAgIGpvaW5lZFtqb2luZWQubGVuZ3RoIC0gMV0gPSBub2RlLndpdGhUZXh0KGpvaW5lZFtqb2luZWQubGVuZ3RoIC0gMV0udGV4dCArIG5vZGUudGV4dClcbiAgICAgIH0gZWxzZSBpZiAoam9pbmVkKSB7XG4gICAgICAgIGpvaW5lZC5wdXNoKG5vZGUpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgRnJhZ21lbnQoam9pbmVkIHx8IGFycmF5LCBzaXplKVxuICB9XG5cbiAgLy8gOjogKD91bmlvbjxGcmFnbWVudCwgTm9kZSwgW05vZGVdPikg4oaSIEZyYWdtZW50XG4gIC8vIENyZWF0ZSBhIGZyYWdtZW50IGZyb20gc29tZXRoaW5nIHRoYXQgY2FuIGJlIGludGVycHJldGVkIGFzIGEgc2V0XG4gIC8vIG9mIG5vZGVzLiBGb3IgYG51bGxgLCBpdCByZXR1cm5zIHRoZSBlbXB0eSBmcmFnbWVudC4gRm9yIGFcbiAgLy8gZnJhZ21lbnQsIHRoZSBmcmFnbWVudCBpdHNlbGYuIEZvciBhIG5vZGUgb3IgYXJyYXkgb2Ygbm9kZXMsIGFcbiAgLy8gZnJhZ21lbnQgY29udGFpbmluZyB0aG9zZSBub2Rlcy5cbiAgc3RhdGljIGZyb20obm9kZXMpIHtcbiAgICBpZiAoIW5vZGVzKSByZXR1cm4gRnJhZ21lbnQuZW1wdHlcbiAgICBpZiAobm9kZXMgaW5zdGFuY2VvZiBGcmFnbWVudCkgcmV0dXJuIG5vZGVzXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZXMpKSByZXR1cm4gdGhpcy5mcm9tQXJyYXkobm9kZXMpXG4gICAgaWYgKG5vZGVzLmF0dHJzKSByZXR1cm4gbmV3IEZyYWdtZW50KFtub2Rlc10sIG5vZGVzLm5vZGVTaXplKVxuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQ2FuIG5vdCBjb252ZXJ0IFwiICsgbm9kZXMgKyBcIiB0byBhIEZyYWdtZW50XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgIChub2Rlcy5ub2Rlc0JldHdlZW4gPyBcIiAobG9va3MgbGlrZSBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBwcm9zZW1pcnJvci1tb2RlbCB3ZXJlIGxvYWRlZClcIiA6IFwiXCIpKVxuICB9XG59XG5cbmNvbnN0IGZvdW5kID0ge2luZGV4OiAwLCBvZmZzZXQ6IDB9XG5mdW5jdGlvbiByZXRJbmRleChpbmRleCwgb2Zmc2V0KSB7XG4gIGZvdW5kLmluZGV4ID0gaW5kZXhcbiAgZm91bmQub2Zmc2V0ID0gb2Zmc2V0XG4gIHJldHVybiBmb3VuZFxufVxuXG4vLyA6OiBGcmFnbWVudFxuLy8gQW4gZW1wdHkgZnJhZ21lbnQuIEludGVuZGVkIHRvIGJlIHJldXNlZCB3aGVuZXZlciBhIG5vZGUgZG9lc24ndFxuLy8gY29udGFpbiBhbnl0aGluZyAocmF0aGVyIHRoYW4gYWxsb2NhdGluZyBhIG5ldyBlbXB0eSBmcmFnbWVudCBmb3Jcbi8vIGVhY2ggbGVhZiBub2RlKS5cbkZyYWdtZW50LmVtcHR5ID0gbmV3IEZyYWdtZW50KFtdLCAwKVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGZpbmREaWZmU3RhcnQoYSwgYiwgcG9zKSB7XG4gIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgaWYgKGkgPT0gYS5jaGlsZENvdW50IHx8IGkgPT0gYi5jaGlsZENvdW50KVxuICAgICAgcmV0dXJuIGEuY2hpbGRDb3VudCA9PSBiLmNoaWxkQ291bnQgPyBudWxsIDogcG9zXG5cbiAgICBsZXQgY2hpbGRBID0gYS5jaGlsZChpKSwgY2hpbGRCID0gYi5jaGlsZChpKVxuICAgIGlmIChjaGlsZEEgPT0gY2hpbGRCKSB7IHBvcyArPSBjaGlsZEEubm9kZVNpemU7IGNvbnRpbnVlIH1cblxuICAgIGlmICghY2hpbGRBLnNhbWVNYXJrdXAoY2hpbGRCKSkgcmV0dXJuIHBvc1xuXG4gICAgaWYgKGNoaWxkQS5pc1RleHQgJiYgY2hpbGRBLnRleHQgIT0gY2hpbGRCLnRleHQpIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBjaGlsZEEudGV4dFtqXSA9PSBjaGlsZEIudGV4dFtqXTsgaisrKVxuICAgICAgICBwb3MrK1xuICAgICAgcmV0dXJuIHBvc1xuICAgIH1cbiAgICBpZiAoY2hpbGRBLmNvbnRlbnQuc2l6ZSB8fCBjaGlsZEIuY29udGVudC5zaXplKSB7XG4gICAgICBsZXQgaW5uZXIgPSBmaW5kRGlmZlN0YXJ0KGNoaWxkQS5jb250ZW50LCBjaGlsZEIuY29udGVudCwgcG9zICsgMSlcbiAgICAgIGlmIChpbm5lciAhPSBudWxsKSByZXR1cm4gaW5uZXJcbiAgICB9XG4gICAgcG9zICs9IGNoaWxkQS5ub2RlU2l6ZVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRGlmZkVuZChhLCBiLCBwb3NBLCBwb3NCKSB7XG4gIGZvciAobGV0IGlBID0gYS5jaGlsZENvdW50LCBpQiA9IGIuY2hpbGRDb3VudDs7KSB7XG4gICAgaWYgKGlBID09IDAgfHwgaUIgPT0gMClcbiAgICAgIHJldHVybiBpQSA9PSBpQiA/IG51bGwgOiB7YTogcG9zQSwgYjogcG9zQn1cblxuICAgIGxldCBjaGlsZEEgPSBhLmNoaWxkKC0taUEpLCBjaGlsZEIgPSBiLmNoaWxkKC0taUIpLCBzaXplID0gY2hpbGRBLm5vZGVTaXplXG4gICAgaWYgKGNoaWxkQSA9PSBjaGlsZEIpIHtcbiAgICAgIHBvc0EgLT0gc2l6ZTsgcG9zQiAtPSBzaXplXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGlmICghY2hpbGRBLnNhbWVNYXJrdXAoY2hpbGRCKSkgcmV0dXJuIHthOiBwb3NBLCBiOiBwb3NCfVxuXG4gICAgaWYgKGNoaWxkQS5pc1RleHQgJiYgY2hpbGRBLnRleHQgIT0gY2hpbGRCLnRleHQpIHtcbiAgICAgIGxldCBzYW1lID0gMCwgbWluU2l6ZSA9IE1hdGgubWluKGNoaWxkQS50ZXh0Lmxlbmd0aCwgY2hpbGRCLnRleHQubGVuZ3RoKVxuICAgICAgd2hpbGUgKHNhbWUgPCBtaW5TaXplICYmIGNoaWxkQS50ZXh0W2NoaWxkQS50ZXh0Lmxlbmd0aCAtIHNhbWUgLSAxXSA9PSBjaGlsZEIudGV4dFtjaGlsZEIudGV4dC5sZW5ndGggLSBzYW1lIC0gMV0pIHtcbiAgICAgICAgc2FtZSsrOyBwb3NBLS07IHBvc0ItLVxuICAgICAgfVxuICAgICAgcmV0dXJuIHthOiBwb3NBLCBiOiBwb3NCfVxuICAgIH1cbiAgICBpZiAoY2hpbGRBLmNvbnRlbnQuc2l6ZSB8fCBjaGlsZEIuY29udGVudC5zaXplKSB7XG4gICAgICBsZXQgaW5uZXIgPSBmaW5kRGlmZkVuZChjaGlsZEEuY29udGVudCwgY2hpbGRCLmNvbnRlbnQsIHBvc0EgLSAxLCBwb3NCIC0gMSlcbiAgICAgIGlmIChpbm5lcikgcmV0dXJuIGlubmVyXG4gICAgfVxuICAgIHBvc0EgLT0gc2l6ZTsgcG9zQiAtPSBzaXplXG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjb21wYXJlRGVlcChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZVxuICBpZiAoIShhICYmIHR5cGVvZiBhID09IFwib2JqZWN0XCIpIHx8XG4gICAgICAhKGIgJiYgdHlwZW9mIGIgPT0gXCJvYmplY3RcIikpIHJldHVybiBmYWxzZVxuICBsZXQgYXJyYXkgPSBBcnJheS5pc0FycmF5KGEpXG4gIGlmIChBcnJheS5pc0FycmF5KGIpICE9IGFycmF5KSByZXR1cm4gZmFsc2VcbiAgaWYgKGFycmF5KSB7XG4gICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2VcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIGlmICghY29tcGFyZURlZXAoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZVxuICB9IGVsc2Uge1xuICAgIGZvciAobGV0IHAgaW4gYSkgaWYgKCEocCBpbiBiKSB8fCAhY29tcGFyZURlZXAoYVtwXSwgYltwXSkpIHJldHVybiBmYWxzZVxuICAgIGZvciAobGV0IHAgaW4gYikgaWYgKCEocCBpbiBhKSkgcmV0dXJuIGZhbHNlXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cbiIsImltcG9ydCB7TWFya1R5cGUsIFNsaWNlLCBGcmFnbWVudH0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcblxuaW1wb3J0IHtUcmFuc2Zvcm19IGZyb20gXCIuL3RyYW5zZm9ybVwiXG5pbXBvcnQge0FkZE1hcmtTdGVwLCBSZW1vdmVNYXJrU3RlcH0gZnJvbSBcIi4vbWFya19zdGVwXCJcbmltcG9ydCB7UmVwbGFjZVN0ZXB9IGZyb20gXCIuL3JlcGxhY2Vfc3RlcFwiXG5cbi8vIDo6IChudW1iZXIsIG51bWJlciwgTWFyaykg4oaSIHRoaXNcbi8vIEFkZCB0aGUgZ2l2ZW4gbWFyayB0byB0aGUgaW5saW5lIGNvbnRlbnQgYmV0d2VlbiBgZnJvbWAgYW5kIGB0b2AuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLmFkZE1hcmsgPSBmdW5jdGlvbihmcm9tLCB0bywgbWFyaykge1xuICBsZXQgcmVtb3ZlZCA9IFtdLCBhZGRlZCA9IFtdLCByZW1vdmluZyA9IG51bGwsIGFkZGluZyA9IG51bGxcbiAgdGhpcy5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCAobm9kZSwgcG9zLCBwYXJlbnQpID0+IHtcbiAgICBpZiAoIW5vZGUuaXNJbmxpbmUpIHJldHVyblxuICAgIGxldCBtYXJrcyA9IG5vZGUubWFya3NcbiAgICBpZiAoIW1hcmsuaXNJblNldChtYXJrcykgJiYgcGFyZW50LnR5cGUuYWxsb3dzTWFya1R5cGUobWFyay50eXBlKSkge1xuICAgICAgbGV0IHN0YXJ0ID0gTWF0aC5tYXgocG9zLCBmcm9tKSwgZW5kID0gTWF0aC5taW4ocG9zICsgbm9kZS5ub2RlU2l6ZSwgdG8pXG4gICAgICBsZXQgbmV3U2V0ID0gbWFyay5hZGRUb1NldChtYXJrcylcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIW1hcmtzW2ldLmlzSW5TZXQobmV3U2V0KSkge1xuICAgICAgICAgIGlmIChyZW1vdmluZyAmJiByZW1vdmluZy50byA9PSBzdGFydCAmJiByZW1vdmluZy5tYXJrLmVxKG1hcmtzW2ldKSlcbiAgICAgICAgICAgIHJlbW92aW5nLnRvID0gZW5kXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKHJlbW92aW5nID0gbmV3IFJlbW92ZU1hcmtTdGVwKHN0YXJ0LCBlbmQsIG1hcmtzW2ldKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYWRkaW5nICYmIGFkZGluZy50byA9PSBzdGFydClcbiAgICAgICAgYWRkaW5nLnRvID0gZW5kXG4gICAgICBlbHNlXG4gICAgICAgIGFkZGVkLnB1c2goYWRkaW5nID0gbmV3IEFkZE1hcmtTdGVwKHN0YXJ0LCBlbmQsIG1hcmspKVxuICAgIH1cbiAgfSlcblxuICByZW1vdmVkLmZvckVhY2gocyA9PiB0aGlzLnN0ZXAocykpXG4gIGFkZGVkLmZvckVhY2gocyA9PiB0aGlzLnN0ZXAocykpXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIDo6IChudW1iZXIsIG51bWJlciwgP3VuaW9uPE1hcmssIE1hcmtUeXBlPikg4oaSIHRoaXNcbi8vIFJlbW92ZSBtYXJrcyBmcm9tIGlubGluZSBub2RlcyBiZXR3ZWVuIGBmcm9tYCBhbmQgYHRvYC4gV2hlbiBgbWFya2Bcbi8vIGlzIGEgc2luZ2xlIG1hcmssIHJlbW92ZSBwcmVjaXNlbHkgdGhhdCBtYXJrLiBXaGVuIGl0IGlzIGEgbWFyayB0eXBlLFxuLy8gcmVtb3ZlIGFsbCBtYXJrcyBvZiB0aGF0IHR5cGUuIFdoZW4gaXQgaXMgbnVsbCwgcmVtb3ZlIGFsbCBtYXJrcyBvZlxuLy8gYW55IHR5cGUuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnJlbW92ZU1hcmsgPSBmdW5jdGlvbihmcm9tLCB0bywgbWFyayA9IG51bGwpIHtcbiAgbGV0IG1hdGNoZWQgPSBbXSwgc3RlcCA9IDBcbiAgdGhpcy5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCAobm9kZSwgcG9zKSA9PiB7XG4gICAgaWYgKCFub2RlLmlzSW5saW5lKSByZXR1cm5cbiAgICBzdGVwKytcbiAgICBsZXQgdG9SZW1vdmUgPSBudWxsXG4gICAgaWYgKG1hcmsgaW5zdGFuY2VvZiBNYXJrVHlwZSkge1xuICAgICAgbGV0IGZvdW5kID0gbWFyay5pc0luU2V0KG5vZGUubWFya3MpXG4gICAgICBpZiAoZm91bmQpIHRvUmVtb3ZlID0gW2ZvdW5kXVxuICAgIH0gZWxzZSBpZiAobWFyaykge1xuICAgICAgaWYgKG1hcmsuaXNJblNldChub2RlLm1hcmtzKSkgdG9SZW1vdmUgPSBbbWFya11cbiAgICB9IGVsc2Uge1xuICAgICAgdG9SZW1vdmUgPSBub2RlLm1hcmtzXG4gICAgfVxuICAgIGlmICh0b1JlbW92ZSAmJiB0b1JlbW92ZS5sZW5ndGgpIHtcbiAgICAgIGxldCBlbmQgPSBNYXRoLm1pbihwb3MgKyBub2RlLm5vZGVTaXplLCB0bylcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9SZW1vdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHN0eWxlID0gdG9SZW1vdmVbaV0sIGZvdW5kXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbWF0Y2hlZC5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGxldCBtID0gbWF0Y2hlZFtqXVxuICAgICAgICAgIGlmIChtLnN0ZXAgPT0gc3RlcCAtIDEgJiYgc3R5bGUuZXEobWF0Y2hlZFtqXS5zdHlsZSkpIGZvdW5kID0gbVxuICAgICAgICB9XG4gICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgIGZvdW5kLnRvID0gZW5kXG4gICAgICAgICAgZm91bmQuc3RlcCA9IHN0ZXBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXRjaGVkLnB1c2goe3N0eWxlLCBmcm9tOiBNYXRoLm1heChwb3MsIGZyb20pLCB0bzogZW5kLCBzdGVwfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgbWF0Y2hlZC5mb3JFYWNoKG0gPT4gdGhpcy5zdGVwKG5ldyBSZW1vdmVNYXJrU3RlcChtLmZyb20sIG0udG8sIG0uc3R5bGUpKSlcbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gOjogKG51bWJlciwgTm9kZVR5cGUsID9Db250ZW50TWF0Y2gpIOKGkiB0aGlzXG4vLyBSZW1vdmVzIGFsbCBtYXJrcyBhbmQgbm9kZXMgZnJvbSB0aGUgY29udGVudCBvZiB0aGUgbm9kZSBhdCBgcG9zYFxuLy8gdGhhdCBkb24ndCBtYXRjaCB0aGUgZ2l2ZW4gbmV3IHBhcmVudCBub2RlIHR5cGUuIEFjY2VwdHMgYW5cbi8vIG9wdGlvbmFsIHN0YXJ0aW5nIFtjb250ZW50IG1hdGNoXSgjbW9kZWwuQ29udGVudE1hdGNoKSBhcyB0aGlyZFxuLy8gYXJndW1lbnQuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLmNsZWFySW5jb21wYXRpYmxlID0gZnVuY3Rpb24ocG9zLCBwYXJlbnRUeXBlLCBtYXRjaCA9IHBhcmVudFR5cGUuY29udGVudE1hdGNoKSB7XG4gIGxldCBub2RlID0gdGhpcy5kb2Mubm9kZUF0KHBvcylcbiAgbGV0IGRlbFN0ZXBzID0gW10sIGN1ciA9IHBvcyArIDFcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmNoaWxkQ291bnQ7IGkrKykge1xuICAgIGxldCBjaGlsZCA9IG5vZGUuY2hpbGQoaSksIGVuZCA9IGN1ciArIGNoaWxkLm5vZGVTaXplXG4gICAgbGV0IGFsbG93ZWQgPSBtYXRjaC5tYXRjaFR5cGUoY2hpbGQudHlwZSwgY2hpbGQuYXR0cnMpXG4gICAgaWYgKCFhbGxvd2VkKSB7XG4gICAgICBkZWxTdGVwcy5wdXNoKG5ldyBSZXBsYWNlU3RlcChjdXIsIGVuZCwgU2xpY2UuZW1wdHkpKVxuICAgIH0gZWxzZSB7XG4gICAgICBtYXRjaCA9IGFsbG93ZWRcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2hpbGQubWFya3MubGVuZ3RoOyBqKyspIGlmICghcGFyZW50VHlwZS5hbGxvd3NNYXJrVHlwZShjaGlsZC5tYXJrc1tqXS50eXBlKSlcbiAgICAgICAgdGhpcy5zdGVwKG5ldyBSZW1vdmVNYXJrU3RlcChjdXIsIGVuZCwgY2hpbGQubWFya3Nbal0pKVxuICAgIH1cbiAgICBjdXIgPSBlbmRcbiAgfVxuICBpZiAoIW1hdGNoLnZhbGlkRW5kKSB7XG4gICAgbGV0IGZpbGwgPSBtYXRjaC5maWxsQmVmb3JlKEZyYWdtZW50LmVtcHR5LCB0cnVlKVxuICAgIHRoaXMucmVwbGFjZShjdXIsIGN1ciwgbmV3IFNsaWNlKGZpbGwsIDAsIDApKVxuICB9XG4gIGZvciAobGV0IGkgPSBkZWxTdGVwcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgdGhpcy5zdGVwKGRlbFN0ZXBzW2ldKVxuICByZXR1cm4gdGhpc1xufVxuIiwiaW1wb3J0IHtGcmFnbWVudCwgU2xpY2V9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5cbmltcG9ydCB7UmVwbGFjZVN0ZXAsIFJlcGxhY2VBcm91bmRTdGVwfSBmcm9tIFwiLi9yZXBsYWNlX3N0ZXBcIlxuaW1wb3J0IHtUcmFuc2Zvcm19IGZyb20gXCIuL3RyYW5zZm9ybVwiXG5pbXBvcnQge2luc2VydFBvaW50fSBmcm9tIFwiLi9zdHJ1Y3R1cmVcIlxuXG4vLyA6OiAoTm9kZSwgbnVtYmVyLCA/bnVtYmVyLCA/U2xpY2UpIOKGkiA/U3RlcFxuLy8g4oCYRml04oCZIGEgc2xpY2UgaW50byBhIGdpdmVuIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudCwgcHJvZHVjaW5nIGFcbi8vIFtzdGVwXSgjdHJhbnNmb3JtLlN0ZXApIHRoYXQgaW5zZXJ0cyBpdC4gV2lsbCByZXR1cm4gbnVsbCBpZlxuLy8gdGhlcmUncyBubyBtZWFuaW5nZnVsIHdheSB0byBpbnNlcnQgdGhlIHNsaWNlIGhlcmUsIG9yIGluc2VydGluZyBpdFxuLy8gd291bGQgYmUgYSBuby1vcCAoYW4gZW1wdHkgc2xpY2Ugb3ZlciBhbiBlbXB0eSByYW5nZSkuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZVN0ZXAoZG9jLCBmcm9tLCB0byA9IGZyb20sIHNsaWNlID0gU2xpY2UuZW1wdHkpIHtcbiAgaWYgKGZyb20gPT0gdG8gJiYgIXNsaWNlLnNpemUpIHJldHVybiBudWxsXG5cbiAgbGV0ICRmcm9tID0gZG9jLnJlc29sdmUoZnJvbSksICR0byA9IGRvYy5yZXNvbHZlKHRvKVxuICAvLyBPcHRpbWl6YXRpb24gLS0gYXZvaWQgd29yayBpZiBpdCdzIG9idmlvdXMgdGhhdCBpdCdzIG5vdCBuZWVkZWQuXG4gIGlmIChmaXRzVHJpdmlhbGx5KCRmcm9tLCAkdG8sIHNsaWNlKSkgcmV0dXJuIG5ldyBSZXBsYWNlU3RlcChmcm9tLCB0bywgc2xpY2UpXG4gIGxldCBwbGFjZWQgPSBwbGFjZVNsaWNlKCRmcm9tLCBzbGljZSlcblxuICBsZXQgZml0dGVkTGVmdCA9IGZpdExlZnQoJGZyb20sIHBsYWNlZClcbiAgbGV0IGZpdHRlZCA9IGZpdFJpZ2h0KCRmcm9tLCAkdG8sIGZpdHRlZExlZnQpXG4gIGlmICghZml0dGVkKSByZXR1cm4gbnVsbFxuICBpZiAoZml0dGVkTGVmdC5zaXplICE9IGZpdHRlZC5zaXplICYmIGNhbk1vdmVUZXh0KCRmcm9tLCAkdG8sIGZpdHRlZExlZnQpKSB7XG4gICAgbGV0IGQgPSAkdG8uZGVwdGgsIGFmdGVyID0gJHRvLmFmdGVyKGQpXG4gICAgd2hpbGUgKGQgPiAxICYmIGFmdGVyID09ICR0by5lbmQoLS1kKSkgKythZnRlclxuICAgIGxldCBmaXR0ZWRBZnRlciA9IGZpdFJpZ2h0KCRmcm9tLCBkb2MucmVzb2x2ZShhZnRlciksIGZpdHRlZExlZnQpXG4gICAgaWYgKGZpdHRlZEFmdGVyKVxuICAgICAgcmV0dXJuIG5ldyBSZXBsYWNlQXJvdW5kU3RlcChmcm9tLCBhZnRlciwgdG8sICR0by5lbmQoKSwgZml0dGVkQWZ0ZXIsIGZpdHRlZExlZnQuc2l6ZSlcbiAgfVxuICByZXR1cm4gZml0dGVkLnNpemUgfHwgZnJvbSAhPSB0byA/IG5ldyBSZXBsYWNlU3RlcChmcm9tLCB0bywgZml0dGVkKSA6IG51bGxcbn1cblxuLy8gOjogKG51bWJlciwgP251bWJlciwgP1NsaWNlKSDihpIgdGhpc1xuLy8gUmVwbGFjZSB0aGUgcGFydCBvZiB0aGUgZG9jdW1lbnQgYmV0d2VlbiBgZnJvbWAgYW5kIGB0b2Agd2l0aCB0aGVcbi8vIGdpdmVuIGBzbGljZWAuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbihmcm9tLCB0byA9IGZyb20sIHNsaWNlID0gU2xpY2UuZW1wdHkpIHtcbiAgbGV0IHN0ZXAgPSByZXBsYWNlU3RlcCh0aGlzLmRvYywgZnJvbSwgdG8sIHNsaWNlKVxuICBpZiAoc3RlcCkgdGhpcy5zdGVwKHN0ZXApXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIDo6IChudW1iZXIsIG51bWJlciwgdW5pb248RnJhZ21lbnQsIE5vZGUsIFtOb2RlXT4pIOKGkiB0aGlzXG4vLyBSZXBsYWNlIHRoZSBnaXZlbiByYW5nZSB3aXRoIHRoZSBnaXZlbiBjb250ZW50LCB3aGljaCBtYXkgYmUgYVxuLy8gZnJhZ21lbnQsIG5vZGUsIG9yIGFycmF5IG9mIG5vZGVzLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5yZXBsYWNlV2l0aCA9IGZ1bmN0aW9uKGZyb20sIHRvLCBjb250ZW50KSB7XG4gIHJldHVybiB0aGlzLnJlcGxhY2UoZnJvbSwgdG8sIG5ldyBTbGljZShGcmFnbWVudC5mcm9tKGNvbnRlbnQpLCAwLCAwKSlcbn1cblxuLy8gOjogKG51bWJlciwgbnVtYmVyKSDihpIgdGhpc1xuLy8gRGVsZXRlIHRoZSBjb250ZW50IGJldHdlZW4gdGhlIGdpdmVuIHBvc2l0aW9ucy5cblRyYW5zZm9ybS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgcmV0dXJuIHRoaXMucmVwbGFjZShmcm9tLCB0bywgU2xpY2UuZW1wdHkpXG59XG5cbi8vIDo6IChudW1iZXIsIHVuaW9uPEZyYWdtZW50LCBOb2RlLCBbTm9kZV0+KSDihpIgdGhpc1xuLy8gSW5zZXJ0IHRoZSBnaXZlbiBjb250ZW50IGF0IHRoZSBnaXZlbiBwb3NpdGlvbi5cblRyYW5zZm9ybS5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24ocG9zLCBjb250ZW50KSB7XG4gIHJldHVybiB0aGlzLnJlcGxhY2VXaXRoKHBvcywgcG9zLCBjb250ZW50KVxufVxuXG5cblxuZnVuY3Rpb24gZml0TGVmdElubmVyKCRmcm9tLCBkZXB0aCwgcGxhY2VkLCBwbGFjZWRCZWxvdykge1xuICBsZXQgY29udGVudCA9IEZyYWdtZW50LmVtcHR5LCBvcGVuRW5kID0gMCwgcGxhY2VkSGVyZSA9IHBsYWNlZFtkZXB0aF1cbiAgaWYgKCRmcm9tLmRlcHRoID4gZGVwdGgpIHtcbiAgICBsZXQgaW5uZXIgPSBmaXRMZWZ0SW5uZXIoJGZyb20sIGRlcHRoICsgMSwgcGxhY2VkLCBwbGFjZWRCZWxvdyB8fCBwbGFjZWRIZXJlKVxuICAgIG9wZW5FbmQgPSBpbm5lci5vcGVuRW5kICsgMVxuICAgIGNvbnRlbnQgPSBGcmFnbWVudC5mcm9tKCRmcm9tLm5vZGUoZGVwdGggKyAxKS5jb3B5KGlubmVyLmNvbnRlbnQpKVxuICB9XG5cbiAgaWYgKHBsYWNlZEhlcmUpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5hcHBlbmQocGxhY2VkSGVyZS5jb250ZW50KVxuICAgIG9wZW5FbmQgPSBwbGFjZWRIZXJlLm9wZW5FbmRcbiAgfVxuICBpZiAocGxhY2VkQmVsb3cpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5hcHBlbmQoJGZyb20ubm9kZShkZXB0aCkuY29udGVudE1hdGNoQXQoJGZyb20uaW5kZXhBZnRlcihkZXB0aCkpLmZpbGxCZWZvcmUoRnJhZ21lbnQuZW1wdHksIHRydWUpKVxuICAgIG9wZW5FbmQgPSAwXG4gIH1cblxuICByZXR1cm4ge2NvbnRlbnQsIG9wZW5FbmR9XG59XG5cbmZ1bmN0aW9uIGZpdExlZnQoJGZyb20sIHBsYWNlZCkge1xuICBsZXQge2NvbnRlbnQsIG9wZW5FbmR9ID0gZml0TGVmdElubmVyKCRmcm9tLCAwLCBwbGFjZWQsIGZhbHNlKVxuICByZXR1cm4gbmV3IFNsaWNlKGNvbnRlbnQsICRmcm9tLmRlcHRoLCBvcGVuRW5kIHx8IDApXG59XG5cbmZ1bmN0aW9uIGZpdFJpZ2h0Sm9pbihjb250ZW50LCBwYXJlbnQsICRmcm9tLCAkdG8sIGRlcHRoLCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgbGV0IG1hdGNoLCBjb3VudCA9IGNvbnRlbnQuY2hpbGRDb3VudCwgbWF0Y2hDb3VudCA9IGNvdW50IC0gKG9wZW5FbmQgPiAwID8gMSA6IDApXG4gIGxldCBwYXJlbnROb2RlID0gb3BlblN0YXJ0IDwgMCA/IHBhcmVudCA6ICRmcm9tLm5vZGUoZGVwdGgpXG4gIGlmIChvcGVuU3RhcnQgPCAwKVxuICAgIG1hdGNoID0gcGFyZW50Tm9kZS5jb250ZW50TWF0Y2hBdChtYXRjaENvdW50KVxuICBlbHNlIGlmIChjb3VudCA9PSAxICYmIG9wZW5FbmQgPiAwKVxuICAgIG1hdGNoID0gcGFyZW50Tm9kZS5jb250ZW50TWF0Y2hBdChvcGVuU3RhcnQgPyAkZnJvbS5pbmRleChkZXB0aCkgOiAkZnJvbS5pbmRleEFmdGVyKGRlcHRoKSlcbiAgZWxzZVxuICAgIG1hdGNoID0gcGFyZW50Tm9kZS5jb250ZW50TWF0Y2hBdCgkZnJvbS5pbmRleEFmdGVyKGRlcHRoKSlcbiAgICAgIC5tYXRjaEZyYWdtZW50KGNvbnRlbnQsIGNvdW50ID4gMCAmJiBvcGVuU3RhcnQgPyAxIDogMCwgbWF0Y2hDb3VudClcblxuICBsZXQgdG9Ob2RlID0gJHRvLm5vZGUoZGVwdGgpXG4gIGlmIChvcGVuRW5kID4gMCAmJiBkZXB0aCA8ICR0by5kZXB0aCkge1xuICAgIGxldCBhZnRlciA9IHRvTm9kZS5jb250ZW50LmN1dEJ5SW5kZXgoJHRvLmluZGV4QWZ0ZXIoZGVwdGgpKS5hZGRUb1N0YXJ0KGNvbnRlbnQubGFzdENoaWxkKVxuICAgIGxldCBqb2luYWJsZSA9IG1hdGNoLmZpbGxCZWZvcmUoYWZ0ZXIsIHRydWUpXG4gICAgLy8gQ2FuJ3QgaW5zZXJ0IGNvbnRlbnQgaWYgdGhlcmUncyBhIHNpbmdsZSBub2RlIHN0cmV0Y2hlZCBhY3Jvc3MgdGhpcyBnYXBcbiAgICBpZiAoam9pbmFibGUgJiYgam9pbmFibGUuc2l6ZSAmJiBvcGVuU3RhcnQgPiAwICYmIGNvdW50ID09IDEpIGpvaW5hYmxlID0gbnVsbFxuXG4gICAgaWYgKGpvaW5hYmxlKSB7XG4gICAgICBsZXQgaW5uZXIgPSBmaXRSaWdodEpvaW4oY29udGVudC5sYXN0Q2hpbGQuY29udGVudCwgY29udGVudC5sYXN0Q2hpbGQsICRmcm9tLCAkdG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGggKyAxLCBjb3VudCA9PSAxID8gb3BlblN0YXJ0IC0gMSA6IC0xLCBvcGVuRW5kIC0gMSlcbiAgICAgIGlmIChpbm5lcikge1xuICAgICAgICBsZXQgbGFzdCA9IGNvbnRlbnQubGFzdENoaWxkLmNvcHkoaW5uZXIpXG4gICAgICAgIGlmIChqb2luYWJsZS5zaXplKVxuICAgICAgICAgIHJldHVybiBjb250ZW50LmN1dEJ5SW5kZXgoMCwgY291bnQgLSAxKS5hcHBlbmQoam9pbmFibGUpLmFkZFRvRW5kKGxhc3QpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gY29udGVudC5yZXBsYWNlQ2hpbGQoY291bnQgLSAxLCBsYXN0KVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAob3BlbkVuZCA+IDApXG4gICAgbWF0Y2ggPSBtYXRjaC5tYXRjaFR5cGUoKGNvdW50ID09IDEgJiYgb3BlblN0YXJ0ID4gMCA/ICRmcm9tLm5vZGUoZGVwdGggKyAxKSA6IGNvbnRlbnQubGFzdENoaWxkKS50eXBlKVxuXG4gIC8vIElmIHdlJ3JlIGhlcmUsIHRoZSBuZXh0IGxldmVsIGNhbid0IGJlIGpvaW5lZCwgc28gd2Ugc2VlIHdoYXRcbiAgLy8gaGFwcGVucyBpZiB3ZSBsZWF2ZSBpdCBvcGVuLlxuICBsZXQgdG9JbmRleCA9ICR0by5pbmRleChkZXB0aClcbiAgaWYgKHRvSW5kZXggPT0gdG9Ob2RlLmNoaWxkQ291bnQgJiYgIXRvTm9kZS50eXBlLmNvbXBhdGlibGVDb250ZW50KHBhcmVudC50eXBlKSkgcmV0dXJuIG51bGxcbiAgbGV0IGpvaW5hYmxlID0gbWF0Y2guZmlsbEJlZm9yZSh0b05vZGUuY29udGVudCwgdHJ1ZSwgdG9JbmRleClcbiAgZm9yIChsZXQgaSA9IHRvSW5kZXg7IGpvaW5hYmxlICYmIGkgPCB0b05vZGUuY29udGVudC5jaGlsZENvdW50OyBpKyspXG4gICAgaWYgKCFwYXJlbnROb2RlLnR5cGUuYWxsb3dzTWFya3ModG9Ob2RlLmNvbnRlbnQuY2hpbGQoaSkubWFya3MpKSBqb2luYWJsZSA9IG51bGxcbiAgaWYgKCFqb2luYWJsZSkgcmV0dXJuIG51bGxcblxuICBpZiAob3BlbkVuZCA+IDApIHtcbiAgICBsZXQgY2xvc2VkID0gZml0UmlnaHRDbG9zZWQoY29udGVudC5sYXN0Q2hpbGQsIG9wZW5FbmQgLSAxLCAkZnJvbSwgZGVwdGggKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9PSAxID8gb3BlblN0YXJ0IC0gMSA6IC0xKVxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VDaGlsZChjb3VudCAtIDEsIGNsb3NlZClcbiAgfVxuICBjb250ZW50ID0gY29udGVudC5hcHBlbmQoam9pbmFibGUpXG4gIGlmICgkdG8uZGVwdGggPiBkZXB0aClcbiAgICBjb250ZW50ID0gY29udGVudC5hZGRUb0VuZChmaXRSaWdodFNlcGFyYXRlKCR0bywgZGVwdGggKyAxKSlcbiAgcmV0dXJuIGNvbnRlbnRcbn1cblxuZnVuY3Rpb24gZml0UmlnaHRDbG9zZWQobm9kZSwgb3BlbkVuZCwgJGZyb20sIGRlcHRoLCBvcGVuU3RhcnQpIHtcbiAgbGV0IG1hdGNoLCBjb250ZW50ID0gbm9kZS5jb250ZW50LCBjb3VudCA9IGNvbnRlbnQuY2hpbGRDb3VudFxuICBpZiAob3BlblN0YXJ0ID49IDApXG4gICAgbWF0Y2ggPSAkZnJvbS5ub2RlKGRlcHRoKS5jb250ZW50TWF0Y2hBdCgkZnJvbS5pbmRleEFmdGVyKGRlcHRoKSlcbiAgICAgIC5tYXRjaEZyYWdtZW50KGNvbnRlbnQsIG9wZW5TdGFydCA+IDAgPyAxIDogMCwgY291bnQpXG4gIGVsc2VcbiAgICBtYXRjaCA9IG5vZGUuY29udGVudE1hdGNoQXQoY291bnQpXG5cbiAgaWYgKG9wZW5FbmQgPiAwKSB7XG4gICAgbGV0IGNsb3NlZCA9IGZpdFJpZ2h0Q2xvc2VkKGNvbnRlbnQubGFzdENoaWxkLCBvcGVuRW5kIC0gMSwgJGZyb20sIGRlcHRoICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgPT0gMSA/IG9wZW5TdGFydCAtIDEgOiAtMSlcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQ2hpbGQoY291bnQgLSAxLCBjbG9zZWQpXG4gIH1cblxuICByZXR1cm4gbm9kZS5jb3B5KGNvbnRlbnQuYXBwZW5kKG1hdGNoLmZpbGxCZWZvcmUoRnJhZ21lbnQuZW1wdHksIHRydWUpKSlcbn1cblxuZnVuY3Rpb24gZml0UmlnaHRTZXBhcmF0ZSgkdG8sIGRlcHRoKSB7XG4gIGxldCBub2RlID0gJHRvLm5vZGUoZGVwdGgpXG4gIGxldCBmaWxsID0gbm9kZS5jb250ZW50TWF0Y2hBdCgwKS5maWxsQmVmb3JlKG5vZGUuY29udGVudCwgdHJ1ZSwgJHRvLmluZGV4KGRlcHRoKSlcbiAgaWYgKCR0by5kZXB0aCA+IGRlcHRoKSBmaWxsID0gZmlsbC5hZGRUb0VuZChmaXRSaWdodFNlcGFyYXRlKCR0bywgZGVwdGggKyAxKSlcbiAgcmV0dXJuIG5vZGUuY29weShmaWxsKVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTbGljZShjb250ZW50LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgd2hpbGUgKG9wZW5TdGFydCA+IDAgJiYgb3BlbkVuZCA+IDAgJiYgY29udGVudC5jaGlsZENvdW50ID09IDEpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5maXJzdENoaWxkLmNvbnRlbnRcbiAgICBvcGVuU3RhcnQtLVxuICAgIG9wZW5FbmQtLVxuICB9XG4gIHJldHVybiBuZXcgU2xpY2UoY29udGVudCwgb3BlblN0YXJ0LCBvcGVuRW5kKVxufVxuXG4vLyA6IChSZXNvbHZlZFBvcywgUmVzb2x2ZWRQb3MsIG51bWJlciwgU2xpY2UpIOKGkiBTbGljZVxuZnVuY3Rpb24gZml0UmlnaHQoJGZyb20sICR0bywgc2xpY2UpIHtcbiAgbGV0IGZpdHRlZCA9IGZpdFJpZ2h0Sm9pbihzbGljZS5jb250ZW50LCAkZnJvbS5ub2RlKDApLCAkZnJvbSwgJHRvLCAwLCBzbGljZS5vcGVuU3RhcnQsIHNsaWNlLm9wZW5FbmQpXG4gIGlmICghZml0dGVkKSByZXR1cm4gbnVsbFxuICByZXR1cm4gbm9ybWFsaXplU2xpY2UoZml0dGVkLCBzbGljZS5vcGVuU3RhcnQsICR0by5kZXB0aClcbn1cblxuZnVuY3Rpb24gZml0c1RyaXZpYWxseSgkZnJvbSwgJHRvLCBzbGljZSkge1xuICByZXR1cm4gIXNsaWNlLm9wZW5TdGFydCAmJiAhc2xpY2Uub3BlbkVuZCAmJiAkZnJvbS5zdGFydCgpID09ICR0by5zdGFydCgpICYmXG4gICAgJGZyb20ucGFyZW50LmNhblJlcGxhY2UoJGZyb20uaW5kZXgoKSwgJHRvLmluZGV4KCksIHNsaWNlLmNvbnRlbnQpXG59XG5cbmZ1bmN0aW9uIGNhbk1vdmVUZXh0KCRmcm9tLCAkdG8sIHNsaWNlKSB7XG4gIGlmICghJHRvLnBhcmVudC5pc1RleHRibG9jaykgcmV0dXJuIGZhbHNlXG5cbiAgbGV0IHBhcmVudCA9IHNsaWNlLm9wZW5FbmQgPyBub2RlUmlnaHQoc2xpY2UuY29udGVudCwgc2xpY2Uub3BlbkVuZClcbiAgICAgIDogJGZyb20ubm9kZSgkZnJvbS5kZXB0aCAtIChzbGljZS5vcGVuU3RhcnQgLSBzbGljZS5vcGVuRW5kKSlcbiAgaWYgKCFwYXJlbnQuaXNUZXh0YmxvY2spIHJldHVybiBmYWxzZVxuICBmb3IgKGxldCBpID0gJHRvLmluZGV4KCk7IGkgPCAkdG8ucGFyZW50LmNoaWxkQ291bnQ7IGkrKylcbiAgICBpZiAoIXBhcmVudC50eXBlLmFsbG93c01hcmtzKCR0by5wYXJlbnQuY2hpbGQoaSkubWFya3MpKSByZXR1cm4gZmFsc2VcbiAgbGV0IG1hdGNoXG4gIGlmIChzbGljZS5vcGVuRW5kKSB7XG4gICAgbWF0Y2ggPSBwYXJlbnQuY29udGVudE1hdGNoQXQocGFyZW50LmNoaWxkQ291bnQpXG4gIH0gZWxzZSB7XG4gICAgbWF0Y2ggPSBwYXJlbnQuY29udGVudE1hdGNoQXQocGFyZW50LmNoaWxkQ291bnQpXG4gICAgaWYgKHNsaWNlLnNpemUpIG1hdGNoID0gbWF0Y2gubWF0Y2hGcmFnbWVudChzbGljZS5jb250ZW50LCBzbGljZS5vcGVuU3RhcnQgPyAxIDogMClcbiAgfVxuICBtYXRjaCA9IG1hdGNoLm1hdGNoRnJhZ21lbnQoJHRvLnBhcmVudC5jb250ZW50LCAkdG8uaW5kZXgoKSlcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoLnZhbGlkRW5kXG59XG5cbmZ1bmN0aW9uIG5vZGVSaWdodChjb250ZW50LCBkZXB0aCkge1xuICBmb3IgKGxldCBpID0gMTsgaSA8IGRlcHRoOyBpKyspIGNvbnRlbnQgPSBjb250ZW50Lmxhc3RDaGlsZC5jb250ZW50XG4gIHJldHVybiBjb250ZW50Lmxhc3RDaGlsZFxufVxuXG4vLyBBbGdvcml0aG0gZm9yICdwbGFjaW5nJyB0aGUgZWxlbWVudHMgb2YgYSBzbGljZSBpbnRvIGEgZ2FwOlxuLy9cbi8vIFdlIGNvbnNpZGVyIHRoZSBjb250ZW50IG9mIGVhY2ggbm9kZSB0aGF0IGlzIG9wZW4gdG8gdGhlIGxlZnQgdG8gYmVcbi8vIGluZGVwZW5kZW50bHkgcGxhY2VhYmxlLiBJLmUuIGluIDxwKFwiZm9vXCIpLCBwKFwiYmFyXCIpPiwgd2hlbiB0aGVcbi8vIHBhcmFncmFwaCBvbiB0aGUgbGVmdCBpcyBvcGVuLCBcImZvb1wiIGNhbiBiZSBwbGFjZWQgKHNvbWV3aGVyZSBvblxuLy8gdGhlIGxlZnQgc2lkZSBvZiB0aGUgcmVwbGFjZW1lbnQgZ2FwKSBpbmRlcGVuZGVudGx5IGZyb20gcChcImJhclwiKS5cbi8vXG4vLyBTbyBwbGFjZVNsaWNlIHNwbGl0cyB1cCBhIHNsaWNlIGludG8gYSBudW1iZXIgb2Ygc3ViLXNsaWNlcyxcbi8vIGFsb25nIHdpdGggaW5mb3JtYXRpb24gb24gd2hlcmUgdGhleSBjYW4gYmUgcGxhY2VkIG9uIHRoZSBnaXZlblxuLy8gbGVmdC1zaWRlIGVkZ2UuIEl0IHdvcmtzIGJ5IHdhbGtpbmcgdGhlIG9wZW4gc2lkZSBvZiB0aGUgc2xpY2UsXG4vLyBmcm9tIHRoZSBpbnNpZGUgb3V0LCBhbmQgdHJ5aW5nIHRvIGZpbmQgYSBsYW5kaW5nIHNwb3QgZm9yIGVhY2hcbi8vIGVsZW1lbnQsIGJ5IHNpbXVsdGFuZW91c2x5IHNjYW5uaW5nIG92ZXIgdGhlIGdhcCBzaWRlLiBXaGVuIG5vXG4vLyBwbGFjZSBpcyBmb3VuZCBmb3IgYW4gb3BlbiBub2RlJ3MgY29udGVudCwgaXQgaXMgbGVmdCBpbiB0aGF0IG5vZGUuXG5cbi8vIDogKFJlc29sdmVkUG9zLCBTbGljZSkg4oaSIFt7Y29udGVudDogRnJhZ21lbnQsIG9wZW5FbmQ6IG51bWJlciwgZGVwdGg6IG51bWJlcn1dXG5mdW5jdGlvbiBwbGFjZVNsaWNlKCRmcm9tLCBzbGljZSkge1xuICBsZXQgZnJvbnRpZXIgPSBuZXcgRnJvbnRpZXIoJGZyb20pXG4gIGZvciAobGV0IHBhc3MgPSAxOyBzbGljZS5zaXplICYmIHBhc3MgPD0gMzsgcGFzcysrKSB7XG4gICAgbGV0IHZhbHVlID0gZnJvbnRpZXIucGxhY2VTbGljZShzbGljZS5jb250ZW50LCBzbGljZS5vcGVuU3RhcnQsIHNsaWNlLm9wZW5FbmQsIHBhc3MpXG4gICAgaWYgKHBhc3MgPT0gMyAmJiB2YWx1ZSAhPSBzbGljZSAmJiB2YWx1ZS5zaXplKSBwYXNzID0gMCAvLyBSZXN0YXJ0IGlmIHRoZSAzcmQgcGFzcyBtYWRlIHByb2dyZXNzIGJ1dCBsZWZ0IGNvbnRlbnRcbiAgICBzbGljZSA9IHZhbHVlXG4gIH1cbiAgd2hpbGUgKGZyb250aWVyLm9wZW4ubGVuZ3RoKSBmcm9udGllci5jbG9zZU5vZGUoKVxuICByZXR1cm4gZnJvbnRpZXIucGxhY2VkXG59XG5cbi8vIEhlbHBlciBjbGFzcyB0aGF0IG1vZGVscyB0aGUgb3BlbiBzaWRlIG9mIHRoZSBpbnNlcnQgcG9zaXRpb24sXG4vLyBrZWVwaW5nIHRyYWNrIG9mIHRoZSBjb250ZW50IG1hdGNoIGFuZCBhbHJlYWR5IGluc2VydGVkIGNvbnRlbnRcbi8vIGF0IGVhY2ggZGVwdGguXG5jbGFzcyBGcm9udGllciB7XG4gIGNvbnN0cnVjdG9yKCRwb3MpIHtcbiAgICAvLyA6IFt7cGFyZW50OiBOb2RlLCBtYXRjaDogQ29udGVudE1hdGNoLCBjb250ZW50OiBGcmFnbWVudCwgd3JhcHBlcjogYm9vbCwgb3BlbkVuZDogbnVtYmVyLCBkZXB0aDogbnVtYmVyfV1cbiAgICB0aGlzLm9wZW4gPSBbXVxuICAgIGZvciAobGV0IGQgPSAwOyBkIDw9ICRwb3MuZGVwdGg7IGQrKykge1xuICAgICAgbGV0IHBhcmVudCA9ICRwb3Mubm9kZShkKSwgbWF0Y2ggPSBwYXJlbnQuY29udGVudE1hdGNoQXQoJHBvcy5pbmRleEFmdGVyKGQpKVxuICAgICAgdGhpcy5vcGVuLnB1c2goe3BhcmVudCwgbWF0Y2gsIGNvbnRlbnQ6IEZyYWdtZW50LmVtcHR5LCB3cmFwcGVyOiBmYWxzZSwgb3BlbkVuZDogMCwgZGVwdGg6IGR9KVxuICAgIH1cbiAgICB0aGlzLnBsYWNlZCA9IFtdXG4gIH1cblxuICAvLyA6IChGcmFnbWVudCwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgP05vZGUpIOKGkiBTbGljZVxuICAvLyBUcmllcyB0byBwbGFjZSB0aGUgY29udGVudCBvZiB0aGUgZ2l2ZW4gc2xpY2UsIGFuZCByZXR1cm5zIGFcbiAgLy8gc2xpY2UgY29udGFpbmluZyB1bnBsYWNlZCBjb250ZW50LlxuICAvL1xuICAvLyBwYXNzIDE6IHRyeSB0byBmaXQgZGlyZWN0bHlcbiAgLy8gcGFzcyAyOiBhbGxvdyB3cmFwcGVyIG5vZGVzIHRvIGJlIGludHJvZHVjZWRcbiAgLy8gcGFzcyAzOiBhbGxvdyB1bndyYXBwaW5nIG9mIG5vZGVzIHRoYXQgYXJlbid0IG9wZW5cbiAgcGxhY2VTbGljZShmcmFnbWVudCwgb3BlblN0YXJ0LCBvcGVuRW5kLCBwYXNzLCBwYXJlbnQpIHtcbiAgICBpZiAob3BlblN0YXJ0ID4gMCkge1xuICAgICAgbGV0IGZpcnN0ID0gZnJhZ21lbnQuZmlyc3RDaGlsZFxuICAgICAgbGV0IGlubmVyID0gdGhpcy5wbGFjZVNsaWNlKGZpcnN0LmNvbnRlbnQsIE1hdGgubWF4KDAsIG9wZW5TdGFydCAtIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5FbmQgJiYgZnJhZ21lbnQuY2hpbGRDb3VudCA9PSAxID8gb3BlbkVuZCAtIDEgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MsIGZpcnN0KVxuICAgICAgaWYgKGlubmVyLmNvbnRlbnQgIT0gZmlyc3QuY29udGVudCkge1xuICAgICAgICBpZiAoaW5uZXIuY29udGVudC5zaXplKSB7XG4gICAgICAgICAgZnJhZ21lbnQgPSBmcmFnbWVudC5yZXBsYWNlQ2hpbGQoMCwgZmlyc3QuY29weShpbm5lci5jb250ZW50KSlcbiAgICAgICAgICBvcGVuU3RhcnQgPSBpbm5lci5vcGVuU3RhcnQgKyAxXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGZyYWdtZW50LmNoaWxkQ291bnQgPT0gMSkgb3BlbkVuZCA9IDBcbiAgICAgICAgICBmcmFnbWVudCA9IGZyYWdtZW50LmN1dEJ5SW5kZXgoMSlcbiAgICAgICAgICBvcGVuU3RhcnQgPSAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IHRoaXMucGxhY2VDb250ZW50KGZyYWdtZW50LCBvcGVuU3RhcnQsIG9wZW5FbmQsIHBhc3MsIHBhcmVudClcbiAgICBpZiAocGFzcyA+IDIgJiYgcmVzdWx0LnNpemUgJiYgb3BlblN0YXJ0ID09IDApIHtcbiAgICAgIGxldCBjaGlsZCA9IHJlc3VsdC5jb250ZW50LmZpcnN0Q2hpbGQsIHNpbmdsZSA9IHJlc3VsdC5jb250ZW50LmNoaWxkQ291bnQgPT0gMVxuICAgICAgdGhpcy5wbGFjZUNvbnRlbnQoY2hpbGQuY29udGVudCwgMCwgb3BlbkVuZCAmJiBzaW5nbGUgPyBvcGVuRW5kIC0gMSA6IDAsIHBhc3MsIGNoaWxkKVxuICAgICAgcmVzdWx0ID0gc2luZ2xlID8gRnJhZ21lbnQuZW1wdHkgOiBuZXcgU2xpY2UocmVzdWx0LmNvbnRlbnQuY3V0QnlJbmRleCgxKSwgMCwgb3BlbkVuZClcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgcGxhY2VDb250ZW50KGZyYWdtZW50LCBvcGVuU3RhcnQsIG9wZW5FbmQsIHBhc3MsIHBhcmVudCkge1xuICAgIGxldCBpID0gMFxuICAgIC8vIEdvIG92ZXIgdGhlIGZyYWdtZW50J3MgY2hpbGRyZW5cbiAgICBmb3IgKDsgaSA8IGZyYWdtZW50LmNoaWxkQ291bnQ7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gZnJhZ21lbnQuY2hpbGQoaSksIHBsYWNlZCA9IGZhbHNlLCBsYXN0ID0gaSA9PSBmcmFnbWVudC5jaGlsZENvdW50IC0gMVxuICAgICAgLy8gVHJ5IGVhY2ggb3BlbiBub2RlIGluIHR1cm4sIHN0YXJ0aW5nIGZyb20gdGhlIGlubmVybW9zdFxuICAgICAgZm9yIChsZXQgZCA9IHRoaXMub3Blbi5sZW5ndGggLSAxOyBkID49IDA7IGQtLSkge1xuICAgICAgICBsZXQgb3BlbiA9IHRoaXMub3BlbltkXSwgd3JhcFxuXG4gICAgICAgIC8vIElmIHBhc3MgPiAxLCBpdCBpcyBhbGxvd2VkIHRvIHdyYXAgdGhlIG5vZGUgdG8gaGVscCBmaW5kIGFcbiAgICAgICAgLy8gZml0LCBzbyBpZiBmaW5kV3JhcHBpbmcgcmV0dXJucyBzb21ldGhpbmcsIHdlIGFkZCBvcGVuXG4gICAgICAgIC8vIG5vZGVzIHRvIHRoZSBmcm9udGllciBmb3IgdGhhdCB3cmFwcGluZy5cbiAgICAgICAgaWYgKHBhc3MgPiAxICYmICh3cmFwID0gb3Blbi5tYXRjaC5maW5kV3JhcHBpbmcoY2hpbGQudHlwZSkpICYmXG4gICAgICAgICAgICAhKHBhcmVudCAmJiB3cmFwLmxlbmd0aCAmJiB3cmFwW3dyYXAubGVuZ3RoIC0gMV0gPT0gcGFyZW50LnR5cGUpKSB7XG4gICAgICAgICAgd2hpbGUgKHRoaXMub3Blbi5sZW5ndGggLSAxID4gZCkgdGhpcy5jbG9zZU5vZGUoKVxuICAgICAgICAgIGZvciAobGV0IHcgPSAwOyB3IDwgd3JhcC5sZW5ndGg7IHcrKykge1xuICAgICAgICAgICAgb3Blbi5tYXRjaCA9IG9wZW4ubWF0Y2gubWF0Y2hUeXBlKHdyYXBbd10pXG4gICAgICAgICAgICBkKytcbiAgICAgICAgICAgIG9wZW4gPSB7cGFyZW50OiB3cmFwW3ddLmNyZWF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICBtYXRjaDogd3JhcFt3XS5jb250ZW50TWF0Y2gsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IEZyYWdtZW50LmVtcHR5LCB3cmFwcGVyOiB0cnVlLCBvcGVuRW5kOiAwLCBkZXB0aDogZCArIHd9XG4gICAgICAgICAgICB0aGlzLm9wZW4ucHVzaChvcGVuKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlZSBpZiB0aGUgY2hpbGQgZml0cyBoZXJlXG4gICAgICAgIGxldCBtYXRjaCA9IG9wZW4ubWF0Y2gubWF0Y2hUeXBlKGNoaWxkLnR5cGUpXG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICBsZXQgZmlsbCA9IG9wZW4ubWF0Y2guZmlsbEJlZm9yZShGcmFnbWVudC5mcm9tKGNoaWxkKSlcbiAgICAgICAgICBpZiAoZmlsbCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBmaWxsLmNoaWxkQ291bnQ7IGorKykge1xuICAgICAgICAgICAgICBsZXQgY2ggPSBmaWxsLmNoaWxkKGopXG4gICAgICAgICAgICAgIHRoaXMuYWRkTm9kZShvcGVuLCBjaCwgMClcbiAgICAgICAgICAgICAgbWF0Y2ggPSBvcGVuLm1hdGNoLm1hdGNoRnJhZ21lbnQoY2gpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJlbnQgJiYgb3Blbi5tYXRjaC5tYXRjaFR5cGUocGFyZW50LnR5cGUpKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBjb250aW51ZSBsb29raW5nIGZ1cnRoZXIgdXAgaWYgdGhlIHBhcmVudCBub2RlXG4gICAgICAgICAgICAvLyB3b3VsZCBmaXQgaGVyZS5cbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xvc2Ugb3BlbiBub2RlcyBhYm92ZSB0aGlzIG9uZSwgc2luY2Ugd2UncmUgc3RhcnRpbmcgdG9cbiAgICAgICAgLy8gYWRkIHRvIHRoaXMuXG4gICAgICAgIHdoaWxlICh0aGlzLm9wZW4ubGVuZ3RoIC0gMSA+IGQpIHRoaXMuY2xvc2VOb2RlKClcbiAgICAgICAgLy8gU3RyaXAgbWFya3MgZnJvbSB0aGUgY2hpbGQgb3IgY2xvc2UgaXRzIHN0YXJ0IHdoZW4gbmVjZXNzYXJ5XG4gICAgICAgIGNoaWxkID0gY2hpbGQubWFyayhvcGVuLnBhcmVudC50eXBlLmFsbG93ZWRNYXJrcyhjaGlsZC5tYXJrcykpXG4gICAgICAgIGlmIChvcGVuU3RhcnQpIHtcbiAgICAgICAgICBjaGlsZCA9IGNsb3NlTm9kZVN0YXJ0KGNoaWxkLCBvcGVuU3RhcnQsIGxhc3QgPyBvcGVuRW5kIDogMClcbiAgICAgICAgICBvcGVuU3RhcnQgPSAwXG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHRoZSBjaGlsZCB0byB0aGlzIG9wZW4gbm9kZSBhbmQgYWRqdXN0IGl0cyBtZXRhZGF0YVxuICAgICAgICB0aGlzLmFkZE5vZGUob3BlbiwgY2hpbGQsIGxhc3QgPyBvcGVuRW5kIDogMClcbiAgICAgICAgb3Blbi5tYXRjaCA9IG1hdGNoXG4gICAgICAgIGlmIChsYXN0KSBvcGVuRW5kID0gMFxuICAgICAgICBwbGFjZWQgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICAvLyBBcyBzb29uIGFzIHdlJ3ZlIGZhaWxlZCB0byBwbGFjZSBhIG5vZGUgd2Ugc3RvcCBsb29raW5nIGF0XG4gICAgICAvLyBsYXRlciBub2Rlc1xuICAgICAgaWYgKCFwbGFjZWQpIGJyZWFrXG4gICAgfVxuICAgIC8vIENsb3NlIHRoZSBjdXJyZW50IG9wZW4gbm9kZSBpZiBpdCdzIG5vdCB0aGUgdGhlIHJvb3QgYW5kIHdlXG4gICAgLy8gZWl0aGVyIHBsYWNlZCB1cCB0byB0aGUgZW5kIG9mIHRoZSBub2RlIG9yIHRoZSB0aGUgY3VycmVudFxuICAgIC8vIHNsaWNlIGRlcHRoJ3Mgbm9kZSB0eXBlIG1hdGNoZXMgdGhlIG9wZW4gbm9kZSdzIHR5cGVcbiAgICBpZiAodGhpcy5vcGVuLmxlbmd0aCA+IDEgJiZcbiAgICAgICAgKGkgPiAwICYmIGkgPT0gZnJhZ21lbnQuY2hpbGRDb3VudCB8fFxuICAgICAgICAgcGFyZW50ICYmIHRoaXMub3Blblt0aGlzLm9wZW4ubGVuZ3RoIC0gMV0ucGFyZW50LnR5cGUgPT0gcGFyZW50LnR5cGUpKVxuICAgICAgdGhpcy5jbG9zZU5vZGUoKVxuXG4gICAgcmV0dXJuIG5ldyBTbGljZShmcmFnbWVudC5jdXRCeUluZGV4KGkpLCBvcGVuU3RhcnQsIG9wZW5FbmQpXG4gIH1cblxuICBhZGROb2RlKG9wZW4sIG5vZGUsIG9wZW5FbmQpIHtcbiAgICBvcGVuLmNvbnRlbnQgPSBjbG9zZUZyYWdtZW50RW5kKG9wZW4uY29udGVudCwgb3Blbi5vcGVuRW5kKS5hZGRUb0VuZChub2RlKVxuICAgIG9wZW4ub3BlbkVuZCA9IG9wZW5FbmRcbiAgfVxuXG4gIGNsb3NlTm9kZSgpIHtcbiAgICBsZXQgb3BlbiA9IHRoaXMub3Blbi5wb3AoKVxuICAgIGlmIChvcGVuLmNvbnRlbnQuc2l6ZSA9PSAwKSB7XG4gICAgICAvLyBOb3RoaW5nIGhlcmVcbiAgICB9IGVsc2UgaWYgKG9wZW4ud3JhcHBlcikge1xuICAgICAgdGhpcy5hZGROb2RlKHRoaXMub3Blblt0aGlzLm9wZW4ubGVuZ3RoIC0gMV0sIG9wZW4ucGFyZW50LmNvcHkob3Blbi5jb250ZW50KSwgb3Blbi5vcGVuRW5kICsgMSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wbGFjZWRbb3Blbi5kZXB0aF0gPSB7ZGVwdGg6IG9wZW4uZGVwdGgsIGNvbnRlbnQ6IG9wZW4uY29udGVudCwgb3BlbkVuZDogb3Blbi5vcGVuRW5kfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjbG9zZU5vZGVTdGFydChub2RlLCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgbGV0IGNvbnRlbnQgPSBub2RlLmNvbnRlbnRcbiAgaWYgKG9wZW5TdGFydCA+IDEpIHtcbiAgICBsZXQgZmlyc3QgPSBjbG9zZU5vZGVTdGFydChub2RlLmZpcnN0Q2hpbGQsIG9wZW5TdGFydCAtIDEsIG5vZGUuY2hpbGRDb3VudCA9PSAxID8gb3BlbkVuZCAtIDEgOiAwKVxuICAgIGNvbnRlbnQgPSBub2RlLmNvbnRlbnQucmVwbGFjZUNoaWxkKDAsIGZpcnN0KVxuICB9XG4gIGxldCBmaWxsID0gbm9kZS50eXBlLmNvbnRlbnRNYXRjaC5maWxsQmVmb3JlKGNvbnRlbnQsIG9wZW5FbmQgPT0gMClcbiAgcmV0dXJuIG5vZGUuY29weShmaWxsLmFwcGVuZChjb250ZW50KSlcbn1cblxuZnVuY3Rpb24gY2xvc2VOb2RlRW5kKG5vZGUsIGRlcHRoKSB7XG4gIGxldCBjb250ZW50ID0gbm9kZS5jb250ZW50XG4gIGlmIChkZXB0aCA+IDEpIHtcbiAgICBsZXQgbGFzdCA9IGNsb3NlTm9kZUVuZChub2RlLmxhc3RDaGlsZCwgZGVwdGggLSAxKVxuICAgIGNvbnRlbnQgPSBub2RlLmNvbnRlbnQucmVwbGFjZUNoaWxkKG5vZGUuY2hpbGRDb3VudCAtIDEsIGxhc3QpXG4gIH1cbiAgbGV0IGZpbGwgPSBub2RlLmNvbnRlbnRNYXRjaEF0KG5vZGUuY2hpbGRDb3VudCkuZmlsbEJlZm9yZShGcmFnbWVudC5lbXB0eSwgdHJ1ZSlcbiAgcmV0dXJuIG5vZGUuY29weShjb250ZW50LmFwcGVuZChmaWxsKSlcbn1cblxuZnVuY3Rpb24gY2xvc2VGcmFnbWVudEVuZChmcmFnbWVudCwgZGVwdGgpIHtcbiAgcmV0dXJuIGRlcHRoID8gZnJhZ21lbnQucmVwbGFjZUNoaWxkKGZyYWdtZW50LmNoaWxkQ291bnQgLSAxLCBjbG9zZU5vZGVFbmQoZnJhZ21lbnQubGFzdENoaWxkLCBkZXB0aCkpIDogZnJhZ21lbnRcbn1cblxuLy8gOjogKG51bWJlciwgbnVtYmVyLCBTbGljZSkg4oaSIHRoaXNcbi8vIFJlcGxhY2UgYSByYW5nZSBvZiB0aGUgZG9jdW1lbnQgd2l0aCBhIGdpdmVuIHNsaWNlLCB1c2luZyBgZnJvbWAsXG4vLyBgdG9gLCBhbmQgdGhlIHNsaWNlJ3MgW2BvcGVuU3RhcnRgXSgjbW9kZWwuU2xpY2Uub3BlblN0YXJ0KSBwcm9wZXJ0eVxuLy8gYXMgaGludHMsIHJhdGhlciB0aGFuIGZpeGVkIHN0YXJ0IGFuZCBlbmQgcG9pbnRzLiBUaGlzIG1ldGhvZCBtYXlcbi8vIGdyb3cgdGhlIHJlcGxhY2VkIGFyZWEgb3IgY2xvc2Ugb3BlbiBub2RlcyBpbiB0aGUgc2xpY2UgaW4gb3JkZXIgdG9cbi8vIGdldCBhIGZpdCB0aGF0IGlzIG1vcmUgaW4gbGluZSB3aXRoIFdZU0lXWUcgZXhwZWN0YXRpb25zLCBieVxuLy8gZHJvcHBpbmcgZnVsbHkgY292ZXJlZCBwYXJlbnQgbm9kZXMgb2YgdGhlIHJlcGxhY2VkIHJlZ2lvbiB3aGVuXG4vLyB0aGV5IGFyZSBtYXJrZWQgW25vbi1kZWZpbmluZ10oI21vZGVsLk5vZGVTcGVjLmRlZmluaW5nKSwgb3Jcbi8vIGluY2x1ZGluZyBhbiBvcGVuIHBhcmVudCBub2RlIGZyb20gdGhlIHNsaWNlIHRoYXQgX2lzXyBtYXJrZWQgYXNcbi8vIFtkZWZpbmluZ10oI21vZGVsLk5vZGVTcGVjLmRlZmluaW5nKS5cbi8vXG4vLyBUaGlzIGlzIHRoZSBtZXRob2QsIGZvciBleGFtcGxlLCB0byBoYW5kbGUgcGFzdGUuIFRoZSBzaW1pbGFyXG4vLyBbYHJlcGxhY2VgXSgjdHJhbnNmb3JtLlRyYW5zZm9ybS5yZXBsYWNlKSBtZXRob2QgaXMgYSBtb3JlXG4vLyBwcmltaXRpdmUgdG9vbCB3aGljaCB3aWxsIF9ub3RfIG1vdmUgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgaXRzIGdpdmVuXG4vLyByYW5nZSwgYW5kIGlzIHVzZWZ1bCBpbiBzaXR1YXRpb25zIHdoZXJlIHlvdSBuZWVkIG1vcmUgcHJlY2lzZVxuLy8gY29udHJvbCBvdmVyIHdoYXQgaGFwcGVucy5cblRyYW5zZm9ybS5wcm90b3R5cGUucmVwbGFjZVJhbmdlID0gZnVuY3Rpb24oZnJvbSwgdG8sIHNsaWNlKSB7XG4gIGlmICghc2xpY2Uuc2l6ZSkgcmV0dXJuIHRoaXMuZGVsZXRlUmFuZ2UoZnJvbSwgdG8pXG5cbiAgbGV0ICRmcm9tID0gdGhpcy5kb2MucmVzb2x2ZShmcm9tKSwgJHRvID0gdGhpcy5kb2MucmVzb2x2ZSh0bylcbiAgaWYgKGZpdHNUcml2aWFsbHkoJGZyb20sICR0bywgc2xpY2UpKVxuICAgIHJldHVybiB0aGlzLnN0ZXAobmV3IFJlcGxhY2VTdGVwKGZyb20sIHRvLCBzbGljZSkpXG5cbiAgbGV0IHRhcmdldERlcHRocyA9IGNvdmVyZWREZXB0aHMoJGZyb20sIHRoaXMuZG9jLnJlc29sdmUodG8pKVxuICAvLyBDYW4ndCByZXBsYWNlIHRoZSB3aG9sZSBkb2N1bWVudCwgc28gcmVtb3ZlIDAgaWYgaXQncyBwcmVzZW50XG4gIGlmICh0YXJnZXREZXB0aHNbdGFyZ2V0RGVwdGhzLmxlbmd0aCAtIDFdID09IDApIHRhcmdldERlcHRocy5wb3AoKVxuICAvLyBOZWdhdGl2ZSBudW1iZXJzIHJlcHJlc2VudCBub3QgZXhwYW5zaW9uIG92ZXIgdGhlIHdob2xlIG5vZGUgYXRcbiAgLy8gdGhhdCBkZXB0aCwgYnV0IHJlcGxhY2luZyBmcm9tICRmcm9tLmJlZm9yZSgtRCkgdG8gJHRvLnBvcy5cbiAgbGV0IHByZWZlcnJlZFRhcmdldCA9IC0oJGZyb20uZGVwdGggKyAxKVxuICB0YXJnZXREZXB0aHMudW5zaGlmdChwcmVmZXJyZWRUYXJnZXQpXG4gIC8vIFRoaXMgbG9vcCBwaWNrcyBhIHByZWZlcnJlZCB0YXJnZXQgZGVwdGgsIGlmIG9uZSBvZiB0aGUgY292ZXJpbmdcbiAgLy8gZGVwdGhzIGlzIG5vdCBvdXRzaWRlIG9mIGEgZGVmaW5pbmcgbm9kZSwgYW5kIGFkZHMgbmVnYXRpdmVcbiAgLy8gZGVwdGhzIGZvciBhbnkgZGVwdGggdGhhdCBoYXMgJGZyb20gYXQgaXRzIHN0YXJ0IGFuZCBkb2VzIG5vdFxuICAvLyBjcm9zcyBhIGRlZmluaW5nIG5vZGUuXG4gIGZvciAobGV0IGQgPSAkZnJvbS5kZXB0aCwgcG9zID0gJGZyb20ucG9zIC0gMTsgZCA+IDA7IGQtLSwgcG9zLS0pIHtcbiAgICBsZXQgc3BlYyA9ICRmcm9tLm5vZGUoZCkudHlwZS5zcGVjXG4gICAgaWYgKHNwZWMuZGVmaW5pbmcgfHwgc3BlYy5pc29sYXRpbmcpIGJyZWFrXG4gICAgaWYgKHRhcmdldERlcHRocy5pbmRleE9mKGQpID4gLTEpIHByZWZlcnJlZFRhcmdldCA9IGRcbiAgICBlbHNlIGlmICgkZnJvbS5iZWZvcmUoZCkgPT0gcG9zKSB0YXJnZXREZXB0aHMuc3BsaWNlKDEsIDAsIC1kKVxuICB9XG4gIC8vIFRyeSB0byBmaXQgZWFjaCBwb3NzaWJsZSBkZXB0aCBvZiB0aGUgc2xpY2UgaW50byBlYWNoIHBvc3NpYmxlXG4gIC8vIHRhcmdldCBkZXB0aCwgc3RhcnRpbmcgd2l0aCB0aGUgcHJlZmVycmVkIGRlcHRocy5cbiAgbGV0IHByZWZlcnJlZFRhcmdldEluZGV4ID0gdGFyZ2V0RGVwdGhzLmluZGV4T2YocHJlZmVycmVkVGFyZ2V0KVxuXG4gIGxldCBsZWZ0Tm9kZXMgPSBbXSwgcHJlZmVycmVkRGVwdGggPSBzbGljZS5vcGVuU3RhcnRcbiAgZm9yIChsZXQgY29udGVudCA9IHNsaWNlLmNvbnRlbnQsIGkgPSAwOzsgaSsrKSB7XG4gICAgbGV0IG5vZGUgPSBjb250ZW50LmZpcnN0Q2hpbGRcbiAgICBsZWZ0Tm9kZXMucHVzaChub2RlKVxuICAgIGlmIChpID09IHNsaWNlLm9wZW5TdGFydCkgYnJlYWtcbiAgICBjb250ZW50ID0gbm9kZS5jb250ZW50XG4gIH1cbiAgLy8gQmFjayB1cCBpZiB0aGUgbm9kZSBkaXJlY3RseSBhYm92ZSBvcGVuU3RhcnQsIG9yIHRoZSBub2RlIGFib3ZlXG4gIC8vIHRoYXQgc2VwYXJhdGVkIG9ubHkgYnkgYSBub24tZGVmaW5pbmcgdGV4dGJsb2NrIG5vZGUsIGlzIGRlZmluaW5nLlxuICBpZiAocHJlZmVycmVkRGVwdGggPiAwICYmIGxlZnROb2Rlc1twcmVmZXJyZWREZXB0aCAtIDFdLnR5cGUuc3BlYy5kZWZpbmluZyAmJlxuICAgICAgJGZyb20ubm9kZShwcmVmZXJyZWRUYXJnZXRJbmRleCkudHlwZSAhPSBsZWZ0Tm9kZXNbcHJlZmVycmVkRGVwdGggLSAxXS50eXBlKVxuICAgIHByZWZlcnJlZERlcHRoIC09IDFcbiAgZWxzZSBpZiAocHJlZmVycmVkRGVwdGggPj0gMiAmJiBsZWZ0Tm9kZXNbcHJlZmVycmVkRGVwdGggLSAxXS5pc1RleHRibG9jayAmJiBsZWZ0Tm9kZXNbcHJlZmVycmVkRGVwdGggLSAyXS50eXBlLnNwZWMuZGVmaW5pbmcgJiZcbiAgICAgICAgICAgJGZyb20ubm9kZShwcmVmZXJyZWRUYXJnZXRJbmRleCkudHlwZSAhPSBsZWZ0Tm9kZXNbcHJlZmVycmVkRGVwdGggLSAyXS50eXBlKVxuICAgIHByZWZlcnJlZERlcHRoIC09IDJcblxuICBmb3IgKGxldCBqID0gc2xpY2Uub3BlblN0YXJ0OyBqID49IDA7IGotLSkge1xuICAgIGxldCBvcGVuRGVwdGggPSAoaiArIHByZWZlcnJlZERlcHRoICsgMSkgJSAoc2xpY2Uub3BlblN0YXJ0ICsgMSlcbiAgICBsZXQgaW5zZXJ0ID0gbGVmdE5vZGVzW29wZW5EZXB0aF1cbiAgICBpZiAoIWluc2VydCkgY29udGludWVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhcmdldERlcHRocy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gTG9vcCBvdmVyIHBvc3NpYmxlIGV4cGFuc2lvbiBsZXZlbHMsIHN0YXJ0aW5nIHdpdGggdGhlXG4gICAgICAvLyBwcmVmZXJyZWQgb25lXG4gICAgICBsZXQgdGFyZ2V0RGVwdGggPSB0YXJnZXREZXB0aHNbKGkgKyBwcmVmZXJyZWRUYXJnZXRJbmRleCkgJSB0YXJnZXREZXB0aHMubGVuZ3RoXSwgZXhwYW5kID0gdHJ1ZVxuICAgICAgaWYgKHRhcmdldERlcHRoIDwgMCkgeyBleHBhbmQgPSBmYWxzZTsgdGFyZ2V0RGVwdGggPSAtdGFyZ2V0RGVwdGggfVxuICAgICAgbGV0IHBhcmVudCA9ICRmcm9tLm5vZGUodGFyZ2V0RGVwdGggLSAxKSwgaW5kZXggPSAkZnJvbS5pbmRleCh0YXJnZXREZXB0aCAtIDEpXG4gICAgICBpZiAocGFyZW50LmNhblJlcGxhY2VXaXRoKGluZGV4LCBpbmRleCwgaW5zZXJ0LnR5cGUsIGluc2VydC5tYXJrcykpXG4gICAgICAgIHJldHVybiB0aGlzLnJlcGxhY2UoJGZyb20uYmVmb3JlKHRhcmdldERlcHRoKSwgZXhwYW5kID8gJHRvLmFmdGVyKHRhcmdldERlcHRoKSA6IHRvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTbGljZShjbG9zZUZyYWdtZW50KHNsaWNlLmNvbnRlbnQsIDAsIHNsaWNlLm9wZW5TdGFydCwgb3BlbkRlcHRoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkRlcHRoLCBzbGljZS5vcGVuRW5kKSlcbiAgICB9XG4gIH1cblxuICBsZXQgc3RhcnRTdGVwcyA9IHRoaXMuc3RlcHMubGVuZ3RoXG4gIGZvciAobGV0IGkgPSB0YXJnZXREZXB0aHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB0aGlzLnJlcGxhY2UoZnJvbSwgdG8sIHNsaWNlKVxuICAgIGlmICh0aGlzLnN0ZXBzLmxlbmd0aCA+IHN0YXJ0U3RlcHMpIGJyZWFrXG4gICAgbGV0IGRlcHRoID0gdGFyZ2V0RGVwdGhzW2ldXG4gICAgaWYgKGkgPCAwKSBjb250aW51ZVxuICAgIGZyb20gPSAkZnJvbS5iZWZvcmUoZGVwdGgpOyB0byA9ICR0by5hZnRlcihkZXB0aClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5mdW5jdGlvbiBjbG9zZUZyYWdtZW50KGZyYWdtZW50LCBkZXB0aCwgb2xkT3BlbiwgbmV3T3BlbiwgcGFyZW50KSB7XG4gIGlmIChkZXB0aCA8IG9sZE9wZW4pIHtcbiAgICBsZXQgZmlyc3QgPSBmcmFnbWVudC5maXJzdENoaWxkXG4gICAgZnJhZ21lbnQgPSBmcmFnbWVudC5yZXBsYWNlQ2hpbGQoMCwgZmlyc3QuY29weShjbG9zZUZyYWdtZW50KGZpcnN0LmNvbnRlbnQsIGRlcHRoICsgMSwgb2xkT3BlbiwgbmV3T3BlbiwgZmlyc3QpKSlcbiAgfVxuICBpZiAoZGVwdGggPiBuZXdPcGVuKSB7XG4gICAgbGV0IG1hdGNoID0gcGFyZW50LmNvbnRlbnRNYXRjaEF0KDApXG4gICAgbGV0IHN0YXJ0ID0gbWF0Y2guZmlsbEJlZm9yZShmcmFnbWVudCkuYXBwZW5kKGZyYWdtZW50KVxuICAgIGZyYWdtZW50ID0gc3RhcnQuYXBwZW5kKG1hdGNoLm1hdGNoRnJhZ21lbnQoc3RhcnQpLmZpbGxCZWZvcmUoRnJhZ21lbnQuZW1wdHksIHRydWUpKVxuICB9XG4gIHJldHVybiBmcmFnbWVudFxufVxuXG4vLyA6OiAobnVtYmVyLCBudW1iZXIsIE5vZGUpIOKGkiB0aGlzXG4vLyBSZXBsYWNlIHRoZSBnaXZlbiByYW5nZSB3aXRoIGEgbm9kZSwgYnV0IHVzZSBgZnJvbWAgYW5kIGB0b2AgYXNcbi8vIGhpbnRzLCByYXRoZXIgdGhhbiBwcmVjaXNlIHBvc2l0aW9ucy4gV2hlbiBmcm9tIGFuZCB0byBhcmUgdGhlIHNhbWVcbi8vIGFuZCBhcmUgYXQgdGhlIHN0YXJ0IG9yIGVuZCBvZiBhIHBhcmVudCBub2RlIGluIHdoaWNoIHRoZSBnaXZlblxuLy8gbm9kZSBkb2Vzbid0IGZpdCwgdGhpcyBtZXRob2QgbWF5IF9tb3ZlXyB0aGVtIG91dCB0b3dhcmRzIGEgcGFyZW50XG4vLyB0aGF0IGRvZXMgYWxsb3cgdGhlIGdpdmVuIG5vZGUgdG8gYmUgcGxhY2VkLiBXaGVuIHRoZSBnaXZlbiByYW5nZVxuLy8gY29tcGxldGVseSBjb3ZlcnMgYSBwYXJlbnQgbm9kZSwgdGhpcyBtZXRob2QgbWF5IGNvbXBsZXRlbHkgcmVwbGFjZVxuLy8gdGhhdCBwYXJlbnQgbm9kZS5cblRyYW5zZm9ybS5wcm90b3R5cGUucmVwbGFjZVJhbmdlV2l0aCA9IGZ1bmN0aW9uKGZyb20sIHRvLCBub2RlKSB7XG4gIGlmICghbm9kZS5pc0lubGluZSAmJiBmcm9tID09IHRvICYmIHRoaXMuZG9jLnJlc29sdmUoZnJvbSkucGFyZW50LmNvbnRlbnQuc2l6ZSkge1xuICAgIGxldCBwb2ludCA9IGluc2VydFBvaW50KHRoaXMuZG9jLCBmcm9tLCBub2RlLnR5cGUpXG4gICAgaWYgKHBvaW50ICE9IG51bGwpIGZyb20gPSB0byA9IHBvaW50XG4gIH1cbiAgcmV0dXJuIHRoaXMucmVwbGFjZVJhbmdlKGZyb20sIHRvLCBuZXcgU2xpY2UoRnJhZ21lbnQuZnJvbShub2RlKSwgMCwgMCkpXG59XG5cbi8vIDo6IChudW1iZXIsIG51bWJlcikg4oaSIHRoaXNcbi8vIERlbGV0ZSB0aGUgZ2l2ZW4gcmFuZ2UsIGV4cGFuZGluZyBpdCB0byBjb3ZlciBmdWxseSBjb3ZlcmVkXG4vLyBwYXJlbnQgbm9kZXMgdW50aWwgYSB2YWxpZCByZXBsYWNlIGlzIGZvdW5kLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5kZWxldGVSYW5nZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIGxldCAkZnJvbSA9IHRoaXMuZG9jLnJlc29sdmUoZnJvbSksICR0byA9IHRoaXMuZG9jLnJlc29sdmUodG8pXG4gIGxldCBjb3ZlcmVkID0gY292ZXJlZERlcHRocygkZnJvbSwgJHRvKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgZGVwdGggPSBjb3ZlcmVkW2ldLCBsYXN0ID0gaSA9PSBjb3ZlcmVkLmxlbmd0aCAtIDFcbiAgICBpZiAoKGxhc3QgJiYgZGVwdGggPT0gMCkgfHwgJGZyb20ubm9kZShkZXB0aCkudHlwZS5jb250ZW50TWF0Y2gudmFsaWRFbmQpXG4gICAgICByZXR1cm4gdGhpcy5kZWxldGUoJGZyb20uc3RhcnQoZGVwdGgpLCAkdG8uZW5kKGRlcHRoKSlcbiAgICBpZiAoZGVwdGggPiAwICYmIChsYXN0IHx8ICRmcm9tLm5vZGUoZGVwdGggLSAxKS5jYW5SZXBsYWNlKCRmcm9tLmluZGV4KGRlcHRoIC0gMSksICR0by5pbmRleEFmdGVyKGRlcHRoIC0gMSkpKSlcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZSgkZnJvbS5iZWZvcmUoZGVwdGgpLCAkdG8uYWZ0ZXIoZGVwdGgpKVxuICB9XG4gIGZvciAobGV0IGQgPSAxOyBkIDw9ICRmcm9tLmRlcHRoICYmIGQgPD0gJHRvLmRlcHRoOyBkKyspIHtcbiAgICBpZiAoZnJvbSAtICRmcm9tLnN0YXJ0KGQpID09ICRmcm9tLmRlcHRoIC0gZCAmJiB0byA+ICRmcm9tLmVuZChkKSAmJiAkdG8uZW5kKGQpIC0gdG8gIT0gJHRvLmRlcHRoIC0gZClcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZSgkZnJvbS5iZWZvcmUoZCksIHRvKVxuICB9XG4gIHJldHVybiB0aGlzLmRlbGV0ZShmcm9tLCB0bylcbn1cblxuLy8gOiAoUmVzb2x2ZWRQb3MsIFJlc29sdmVkUG9zKSDihpIgW251bWJlcl1cbi8vIFJldHVybnMgYW4gYXJyYXkgb2YgYWxsIGRlcHRocyBmb3Igd2hpY2ggJGZyb20gLSAkdG8gc3BhbnMgdGhlXG4vLyB3aG9sZSBjb250ZW50IG9mIHRoZSBub2RlcyBhdCB0aGF0IGRlcHRoLlxuZnVuY3Rpb24gY292ZXJlZERlcHRocygkZnJvbSwgJHRvKSB7XG4gIGxldCByZXN1bHQgPSBbXSwgbWluRGVwdGggPSBNYXRoLm1pbigkZnJvbS5kZXB0aCwgJHRvLmRlcHRoKVxuICBmb3IgKGxldCBkID0gbWluRGVwdGg7IGQgPj0gMDsgZC0tKSB7XG4gICAgbGV0IHN0YXJ0ID0gJGZyb20uc3RhcnQoZClcbiAgICBpZiAoc3RhcnQgPCAkZnJvbS5wb3MgLSAoJGZyb20uZGVwdGggLSBkKSB8fFxuICAgICAgICAkdG8uZW5kKGQpID4gJHRvLnBvcyArICgkdG8uZGVwdGggLSBkKSB8fFxuICAgICAgICAkZnJvbS5ub2RlKGQpLnR5cGUuc3BlYy5pc29sYXRpbmcgfHxcbiAgICAgICAgJHRvLm5vZGUoZCkudHlwZS5zcGVjLmlzb2xhdGluZykgYnJlYWtcbiAgICBpZiAoc3RhcnQgPT0gJHRvLnN0YXJ0KGQpKSByZXN1bHQucHVzaChkKVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cbiIsImltcG9ydCB7TWFya30gZnJvbSBcIi4vbWFya1wiXG5cbi8vIDo6LSBZb3UgY2FuIFtfcmVzb2x2ZV9dKCNtb2RlbC5Ob2RlLnJlc29sdmUpIGEgcG9zaXRpb24gdG8gZ2V0IG1vcmVcbi8vIGluZm9ybWF0aW9uIGFib3V0IGl0LiBPYmplY3RzIG9mIHRoaXMgY2xhc3MgcmVwcmVzZW50IHN1Y2ggYVxuLy8gcmVzb2x2ZWQgcG9zaXRpb24sIHByb3ZpZGluZyB2YXJpb3VzIHBpZWNlcyBvZiBjb250ZXh0IGluZm9ybWF0aW9uLFxuLy8gYW5kIHNvbWUgaGVscGVyIG1ldGhvZHMuXG4vL1xuLy8gVGhyb3VnaG91dCB0aGlzIGludGVyZmFjZSwgbWV0aG9kcyB0aGF0IHRha2UgYW4gb3B0aW9uYWwgYGRlcHRoYFxuLy8gcGFyYW1ldGVyIHdpbGwgaW50ZXJwcmV0IHVuZGVmaW5lZCBhcyBgdGhpcy5kZXB0aGAgYW5kIG5lZ2F0aXZlXG4vLyBudW1iZXJzIGFzIGB0aGlzLmRlcHRoICsgdmFsdWVgLlxuZXhwb3J0IGNsYXNzIFJlc29sdmVkUG9zIHtcbiAgY29uc3RydWN0b3IocG9zLCBwYXRoLCBwYXJlbnRPZmZzZXQpIHtcbiAgICAvLyA6OiBudW1iZXIgVGhlIHBvc2l0aW9uIHRoYXQgd2FzIHJlc29sdmVkLlxuICAgIHRoaXMucG9zID0gcG9zXG4gICAgdGhpcy5wYXRoID0gcGF0aFxuICAgIC8vIDo6IG51bWJlclxuICAgIC8vIFRoZSBudW1iZXIgb2YgbGV2ZWxzIHRoZSBwYXJlbnQgbm9kZSBpcyBmcm9tIHRoZSByb290LiBJZiB0aGlzXG4gICAgLy8gcG9zaXRpb24gcG9pbnRzIGRpcmVjdGx5IGludG8gdGhlIHJvb3Qgbm9kZSwgaXQgaXMgMC4gSWYgaXRcbiAgICAvLyBwb2ludHMgaW50byBhIHRvcC1sZXZlbCBwYXJhZ3JhcGgsIDEsIGFuZCBzbyBvbi5cbiAgICB0aGlzLmRlcHRoID0gcGF0aC5sZW5ndGggLyAzIC0gMVxuICAgIC8vIDo6IG51bWJlciBUaGUgb2Zmc2V0IHRoaXMgcG9zaXRpb24gaGFzIGludG8gaXRzIHBhcmVudCBub2RlLlxuICAgIHRoaXMucGFyZW50T2Zmc2V0ID0gcGFyZW50T2Zmc2V0XG4gIH1cblxuICByZXNvbHZlRGVwdGgodmFsKSB7XG4gICAgaWYgKHZhbCA9PSBudWxsKSByZXR1cm4gdGhpcy5kZXB0aFxuICAgIGlmICh2YWwgPCAwKSByZXR1cm4gdGhpcy5kZXB0aCArIHZhbFxuICAgIHJldHVybiB2YWxcbiAgfVxuXG4gIC8vIDo6IE5vZGVcbiAgLy8gVGhlIHBhcmVudCBub2RlIHRoYXQgdGhlIHBvc2l0aW9uIHBvaW50cyBpbnRvLiBOb3RlIHRoYXQgZXZlbiBpZlxuICAvLyBhIHBvc2l0aW9uIHBvaW50cyBpbnRvIGEgdGV4dCBub2RlLCB0aGF0IG5vZGUgaXMgbm90IGNvbnNpZGVyZWRcbiAgLy8gdGhlIHBhcmVudOKAlHRleHQgbm9kZXMgYXJlIOKAmGZsYXTigJkgaW4gdGhpcyBtb2RlbCwgYW5kIGhhdmUgbm8gY29udGVudC5cbiAgZ2V0IHBhcmVudCgpIHsgcmV0dXJuIHRoaXMubm9kZSh0aGlzLmRlcHRoKSB9XG5cbiAgLy8gOjogTm9kZVxuICAvLyBUaGUgcm9vdCBub2RlIGluIHdoaWNoIHRoZSBwb3NpdGlvbiB3YXMgcmVzb2x2ZWQuXG4gIGdldCBkb2MoKSB7IHJldHVybiB0aGlzLm5vZGUoMCkgfVxuXG4gIC8vIDo6ICg/bnVtYmVyKSDihpIgTm9kZVxuICAvLyBUaGUgYW5jZXN0b3Igbm9kZSBhdCB0aGUgZ2l2ZW4gbGV2ZWwuIGBwLm5vZGUocC5kZXB0aClgIGlzIHRoZVxuICAvLyBzYW1lIGFzIGBwLnBhcmVudGAuXG4gIG5vZGUoZGVwdGgpIHsgcmV0dXJuIHRoaXMucGF0aFt0aGlzLnJlc29sdmVEZXB0aChkZXB0aCkgKiAzXSB9XG5cbiAgLy8gOjogKD9udW1iZXIpIOKGkiBudW1iZXJcbiAgLy8gVGhlIGluZGV4IGludG8gdGhlIGFuY2VzdG9yIGF0IHRoZSBnaXZlbiBsZXZlbC4gSWYgdGhpcyBwb2ludHMgYXRcbiAgLy8gdGhlIDNyZCBub2RlIGluIHRoZSAybmQgcGFyYWdyYXBoIG9uIHRoZSB0b3AgbGV2ZWwsIGZvciBleGFtcGxlLFxuICAvLyBgcC5pbmRleCgwKWAgaXMgMSBhbmQgYHAuaW5kZXgoMSlgIGlzIDIuXG4gIGluZGV4KGRlcHRoKSB7IHJldHVybiB0aGlzLnBhdGhbdGhpcy5yZXNvbHZlRGVwdGgoZGVwdGgpICogMyArIDFdIH1cblxuICAvLyA6OiAoP251bWJlcikg4oaSIG51bWJlclxuICAvLyBUaGUgaW5kZXggcG9pbnRpbmcgYWZ0ZXIgdGhpcyBwb3NpdGlvbiBpbnRvIHRoZSBhbmNlc3RvciBhdCB0aGVcbiAgLy8gZ2l2ZW4gbGV2ZWwuXG4gIGluZGV4QWZ0ZXIoZGVwdGgpIHtcbiAgICBkZXB0aCA9IHRoaXMucmVzb2x2ZURlcHRoKGRlcHRoKVxuICAgIHJldHVybiB0aGlzLmluZGV4KGRlcHRoKSArIChkZXB0aCA9PSB0aGlzLmRlcHRoICYmICF0aGlzLnRleHRPZmZzZXQgPyAwIDogMSlcbiAgfVxuXG4gIC8vIDo6ICg/bnVtYmVyKSDihpIgbnVtYmVyXG4gIC8vIFRoZSAoYWJzb2x1dGUpIHBvc2l0aW9uIGF0IHRoZSBzdGFydCBvZiB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW5cbiAgLy8gbGV2ZWwuXG4gIHN0YXJ0KGRlcHRoKSB7XG4gICAgZGVwdGggPSB0aGlzLnJlc29sdmVEZXB0aChkZXB0aClcbiAgICByZXR1cm4gZGVwdGggPT0gMCA/IDAgOiB0aGlzLnBhdGhbZGVwdGggKiAzIC0gMV0gKyAxXG4gIH1cblxuICAvLyA6OiAoP251bWJlcikg4oaSIG51bWJlclxuICAvLyBUaGUgKGFic29sdXRlKSBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlblxuICAvLyBsZXZlbC5cbiAgZW5kKGRlcHRoKSB7XG4gICAgZGVwdGggPSB0aGlzLnJlc29sdmVEZXB0aChkZXB0aClcbiAgICByZXR1cm4gdGhpcy5zdGFydChkZXB0aCkgKyB0aGlzLm5vZGUoZGVwdGgpLmNvbnRlbnQuc2l6ZVxuICB9XG5cbiAgLy8gOjogKD9udW1iZXIpIOKGkiBudW1iZXJcbiAgLy8gVGhlIChhYnNvbHV0ZSkgcG9zaXRpb24gZGlyZWN0bHkgYmVmb3JlIHRoZSB3cmFwcGluZyBub2RlIGF0IHRoZVxuICAvLyBnaXZlbiBsZXZlbCwgb3IsIHdoZW4gYGRlcHRoYCBpcyBgdGhpcy5kZXB0aCArIDFgLCB0aGUgb3JpZ2luYWxcbiAgLy8gcG9zaXRpb24uXG4gIGJlZm9yZShkZXB0aCkge1xuICAgIGRlcHRoID0gdGhpcy5yZXNvbHZlRGVwdGgoZGVwdGgpXG4gICAgaWYgKCFkZXB0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGVyZSBpcyBubyBwb3NpdGlvbiBiZWZvcmUgdGhlIHRvcC1sZXZlbCBub2RlXCIpXG4gICAgcmV0dXJuIGRlcHRoID09IHRoaXMuZGVwdGggKyAxID8gdGhpcy5wb3MgOiB0aGlzLnBhdGhbZGVwdGggKiAzIC0gMV1cbiAgfVxuXG4gIC8vIDo6ICg/bnVtYmVyKSDihpIgbnVtYmVyXG4gIC8vIFRoZSAoYWJzb2x1dGUpIHBvc2l0aW9uIGRpcmVjdGx5IGFmdGVyIHRoZSB3cmFwcGluZyBub2RlIGF0IHRoZVxuICAvLyBnaXZlbiBsZXZlbCwgb3IgdGhlIG9yaWdpbmFsIHBvc2l0aW9uIHdoZW4gYGRlcHRoYCBpcyBgdGhpcy5kZXB0aCArIDFgLlxuICBhZnRlcihkZXB0aCkge1xuICAgIGRlcHRoID0gdGhpcy5yZXNvbHZlRGVwdGgoZGVwdGgpXG4gICAgaWYgKCFkZXB0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGVyZSBpcyBubyBwb3NpdGlvbiBhZnRlciB0aGUgdG9wLWxldmVsIG5vZGVcIilcbiAgICByZXR1cm4gZGVwdGggPT0gdGhpcy5kZXB0aCArIDEgPyB0aGlzLnBvcyA6IHRoaXMucGF0aFtkZXB0aCAqIDMgLSAxXSArIHRoaXMucGF0aFtkZXB0aCAqIDNdLm5vZGVTaXplXG4gIH1cblxuICAvLyA6OiBudW1iZXJcbiAgLy8gV2hlbiB0aGlzIHBvc2l0aW9uIHBvaW50cyBpbnRvIGEgdGV4dCBub2RlLCB0aGlzIHJldHVybnMgdGhlXG4gIC8vIGRpc3RhbmNlIGJldHdlZW4gdGhlIHBvc2l0aW9uIGFuZCB0aGUgc3RhcnQgb2YgdGhlIHRleHQgbm9kZS5cbiAgLy8gV2lsbCBiZSB6ZXJvIGZvciBwb3NpdGlvbnMgdGhhdCBwb2ludCBiZXR3ZWVuIG5vZGVzLlxuICBnZXQgdGV4dE9mZnNldCgpIHsgcmV0dXJuIHRoaXMucG9zIC0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXSB9XG5cbiAgLy8gOjogP05vZGVcbiAgLy8gR2V0IHRoZSBub2RlIGRpcmVjdGx5IGFmdGVyIHRoZSBwb3NpdGlvbiwgaWYgYW55LiBJZiB0aGUgcG9zaXRpb25cbiAgLy8gcG9pbnRzIGludG8gYSB0ZXh0IG5vZGUsIG9ubHkgdGhlIHBhcnQgb2YgdGhhdCBub2RlIGFmdGVyIHRoZVxuICAvLyBwb3NpdGlvbiBpcyByZXR1cm5lZC5cbiAgZ2V0IG5vZGVBZnRlcigpIHtcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5wYXJlbnQsIGluZGV4ID0gdGhpcy5pbmRleCh0aGlzLmRlcHRoKVxuICAgIGlmIChpbmRleCA9PSBwYXJlbnQuY2hpbGRDb3VudCkgcmV0dXJuIG51bGxcbiAgICBsZXQgZE9mZiA9IHRoaXMucG9zIC0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXSwgY2hpbGQgPSBwYXJlbnQuY2hpbGQoaW5kZXgpXG4gICAgcmV0dXJuIGRPZmYgPyBwYXJlbnQuY2hpbGQoaW5kZXgpLmN1dChkT2ZmKSA6IGNoaWxkXG4gIH1cblxuICAvLyA6OiA/Tm9kZVxuICAvLyBHZXQgdGhlIG5vZGUgZGlyZWN0bHkgYmVmb3JlIHRoZSBwb3NpdGlvbiwgaWYgYW55LiBJZiB0aGVcbiAgLy8gcG9zaXRpb24gcG9pbnRzIGludG8gYSB0ZXh0IG5vZGUsIG9ubHkgdGhlIHBhcnQgb2YgdGhhdCBub2RlXG4gIC8vIGJlZm9yZSB0aGUgcG9zaXRpb24gaXMgcmV0dXJuZWQuXG4gIGdldCBub2RlQmVmb3JlKCkge1xuICAgIGxldCBpbmRleCA9IHRoaXMuaW5kZXgodGhpcy5kZXB0aClcbiAgICBsZXQgZE9mZiA9IHRoaXMucG9zIC0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXVxuICAgIGlmIChkT2ZmKSByZXR1cm4gdGhpcy5wYXJlbnQuY2hpbGQoaW5kZXgpLmN1dCgwLCBkT2ZmKVxuICAgIHJldHVybiBpbmRleCA9PSAwID8gbnVsbCA6IHRoaXMucGFyZW50LmNoaWxkKGluZGV4IC0gMSlcbiAgfVxuXG4gIC8vIDo6ICgpIOKGkiBbTWFya11cbiAgLy8gR2V0IHRoZSBtYXJrcyBhdCB0aGlzIHBvc2l0aW9uLCBmYWN0b3JpbmcgaW4gdGhlIHN1cnJvdW5kaW5nXG4gIC8vIG1hcmtzJyBbYGluY2x1c2l2ZWBdKCNtb2RlbC5NYXJrU3BlYy5pbmNsdXNpdmUpIHByb3BlcnR5LiBJZiB0aGVcbiAgLy8gcG9zaXRpb24gaXMgYXQgdGhlIHN0YXJ0IG9mIGEgbm9uLWVtcHR5IG5vZGUsIHRoZSBtYXJrcyBvZiB0aGVcbiAgLy8gbm9kZSBhZnRlciBpdCAoaWYgYW55KSBhcmUgcmV0dXJuZWQuXG4gIG1hcmtzKCkge1xuICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudCwgaW5kZXggPSB0aGlzLmluZGV4KClcblxuICAgIC8vIEluIGFuIGVtcHR5IHBhcmVudCwgcmV0dXJuIHRoZSBlbXB0eSBhcnJheVxuICAgIGlmIChwYXJlbnQuY29udGVudC5zaXplID09IDApIHJldHVybiBNYXJrLm5vbmVcblxuICAgIC8vIFdoZW4gaW5zaWRlIGEgdGV4dCBub2RlLCBqdXN0IHJldHVybiB0aGUgdGV4dCBub2RlJ3MgbWFya3NcbiAgICBpZiAodGhpcy50ZXh0T2Zmc2V0KSByZXR1cm4gcGFyZW50LmNoaWxkKGluZGV4KS5tYXJrc1xuXG4gICAgbGV0IG1haW4gPSBwYXJlbnQubWF5YmVDaGlsZChpbmRleCAtIDEpLCBvdGhlciA9IHBhcmVudC5tYXliZUNoaWxkKGluZGV4KVxuICAgIC8vIElmIHRoZSBgYWZ0ZXJgIGZsYWcgaXMgdHJ1ZSBvZiB0aGVyZSBpcyBubyBub2RlIGJlZm9yZSwgbWFrZVxuICAgIC8vIHRoZSBub2RlIGFmdGVyIHRoaXMgcG9zaXRpb24gdGhlIG1haW4gcmVmZXJlbmNlLlxuICAgIGlmICghbWFpbikgeyBsZXQgdG1wID0gbWFpbjsgbWFpbiA9IG90aGVyOyBvdGhlciA9IHRtcCB9XG5cbiAgICAvLyBVc2UgYWxsIG1hcmtzIGluIHRoZSBtYWluIG5vZGUsIGV4Y2VwdCB0aG9zZSB0aGF0IGhhdmVcbiAgICAvLyBgaW5jbHVzaXZlYCBzZXQgdG8gZmFsc2UgYW5kIGFyZSBub3QgcHJlc2VudCBpbiB0aGUgb3RoZXIgbm9kZS5cbiAgICBsZXQgbWFya3MgPSBtYWluLm1hcmtzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChtYXJrc1tpXS50eXBlLnNwZWMuaW5jbHVzaXZlID09PSBmYWxzZSAmJiAoIW90aGVyIHx8ICFtYXJrc1tpXS5pc0luU2V0KG90aGVyLm1hcmtzKSkpXG4gICAgICAgIG1hcmtzID0gbWFya3NbaS0tXS5yZW1vdmVGcm9tU2V0KG1hcmtzKVxuXG4gICAgcmV0dXJuIG1hcmtzXG4gIH1cblxuICAvLyA6OiAoUmVzb2x2ZWRQb3MpIOKGkiA/W01hcmtdXG4gIC8vIEdldCB0aGUgbWFya3MgYWZ0ZXIgdGhlIGN1cnJlbnQgcG9zaXRpb24sIGlmIGFueSwgZXhjZXB0IHRob3NlXG4gIC8vIHRoYXQgYXJlIG5vbi1pbmNsdXNpdmUgYW5kIG5vdCBwcmVzZW50IGF0IHBvc2l0aW9uIGAkZW5kYC4gVGhpc1xuICAvLyBpcyBtb3N0bHkgdXNlZnVsIGZvciBnZXR0aW5nIHRoZSBzZXQgb2YgbWFya3MgdG8gcHJlc2VydmUgYWZ0ZXIgYVxuICAvLyBkZWxldGlvbi4gV2lsbCByZXR1cm4gYG51bGxgIGlmIHRoaXMgcG9zaXRpb24gaXMgYXQgdGhlIGVuZCBvZlxuICAvLyBpdHMgcGFyZW50IG5vZGUgb3IgaXRzIHBhcmVudCBub2RlIGlzbid0IGEgdGV4dGJsb2NrIChpbiB3aGljaFxuICAvLyBjYXNlIG5vIG1hcmtzIHNob3VsZCBiZSBwcmVzZXJ2ZWQpLlxuICBtYXJrc0Fjcm9zcygkZW5kKSB7XG4gICAgbGV0IGFmdGVyID0gdGhpcy5wYXJlbnQubWF5YmVDaGlsZCh0aGlzLmluZGV4KCkpXG4gICAgaWYgKCFhZnRlciB8fCAhYWZ0ZXIuaXNJbmxpbmUpIHJldHVybiBudWxsXG5cbiAgICBsZXQgbWFya3MgPSBhZnRlci5tYXJrcywgbmV4dCA9ICRlbmQucGFyZW50Lm1heWJlQ2hpbGQoJGVuZC5pbmRleCgpKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyBpKyspXG4gICAgICBpZiAobWFya3NbaV0udHlwZS5zcGVjLmluY2x1c2l2ZSA9PT0gZmFsc2UgJiYgKCFuZXh0IHx8ICFtYXJrc1tpXS5pc0luU2V0KG5leHQubWFya3MpKSlcbiAgICAgICAgbWFya3MgPSBtYXJrc1tpLS1dLnJlbW92ZUZyb21TZXQobWFya3MpXG4gICAgcmV0dXJuIG1hcmtzXG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIgbnVtYmVyXG4gIC8vIFRoZSBkZXB0aCB1cCB0byB3aGljaCB0aGlzIHBvc2l0aW9uIGFuZCB0aGUgZ2l2ZW4gKG5vbi1yZXNvbHZlZClcbiAgLy8gcG9zaXRpb24gc2hhcmUgdGhlIHNhbWUgcGFyZW50IG5vZGVzLlxuICBzaGFyZWREZXB0aChwb3MpIHtcbiAgICBmb3IgKGxldCBkZXB0aCA9IHRoaXMuZGVwdGg7IGRlcHRoID4gMDsgZGVwdGgtLSlcbiAgICAgIGlmICh0aGlzLnN0YXJ0KGRlcHRoKSA8PSBwb3MgJiYgdGhpcy5lbmQoZGVwdGgpID49IHBvcykgcmV0dXJuIGRlcHRoXG4gICAgcmV0dXJuIDBcbiAgfVxuXG4gIC8vIDo6ICg/UmVzb2x2ZWRQb3MsID8oTm9kZSkg4oaSIGJvb2wpIOKGkiA/Tm9kZVJhbmdlXG4gIC8vIFJldHVybnMgYSByYW5nZSBiYXNlZCBvbiB0aGUgcGxhY2Ugd2hlcmUgdGhpcyBwb3NpdGlvbiBhbmQgdGhlXG4gIC8vIGdpdmVuIHBvc2l0aW9uIGRpdmVyZ2UgYXJvdW5kIGJsb2NrIGNvbnRlbnQuIElmIGJvdGggcG9pbnQgaW50b1xuICAvLyB0aGUgc2FtZSB0ZXh0YmxvY2ssIGZvciBleGFtcGxlLCBhIHJhbmdlIGFyb3VuZCB0aGF0IHRleHRibG9ja1xuICAvLyB3aWxsIGJlIHJldHVybmVkLiBJZiB0aGV5IHBvaW50IGludG8gZGlmZmVyZW50IGJsb2NrcywgdGhlIHJhbmdlXG4gIC8vIGFyb3VuZCB0aG9zZSBibG9ja3MgaW4gdGhlaXIgc2hhcmVkIGFuY2VzdG9yIGlzIHJldHVybmVkLiBZb3UgY2FuXG4gIC8vIHBhc3MgaW4gYW4gb3B0aW9uYWwgcHJlZGljYXRlIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIHBhcmVudFxuICAvLyBub2RlIHRvIHNlZSBpZiBhIHJhbmdlIGludG8gdGhhdCBwYXJlbnQgaXMgYWNjZXB0YWJsZS5cbiAgYmxvY2tSYW5nZShvdGhlciA9IHRoaXMsIHByZWQpIHtcbiAgICBpZiAob3RoZXIucG9zIDwgdGhpcy5wb3MpIHJldHVybiBvdGhlci5ibG9ja1JhbmdlKHRoaXMpXG4gICAgZm9yIChsZXQgZCA9IHRoaXMuZGVwdGggLSAodGhpcy5wYXJlbnQuaW5saW5lQ29udGVudCB8fCB0aGlzLnBvcyA9PSBvdGhlci5wb3MgPyAxIDogMCk7IGQgPj0gMDsgZC0tKVxuICAgICAgaWYgKG90aGVyLnBvcyA8PSB0aGlzLmVuZChkKSAmJiAoIXByZWQgfHwgcHJlZCh0aGlzLm5vZGUoZCkpKSlcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlUmFuZ2UodGhpcywgb3RoZXIsIGQpXG4gIH1cblxuICAvLyA6OiAoUmVzb2x2ZWRQb3MpIOKGkiBib29sXG4gIC8vIFF1ZXJ5IHdoZXRoZXIgdGhlIGdpdmVuIHBvc2l0aW9uIHNoYXJlcyB0aGUgc2FtZSBwYXJlbnQgbm9kZS5cbiAgc2FtZVBhcmVudChvdGhlcikge1xuICAgIHJldHVybiB0aGlzLnBvcyAtIHRoaXMucGFyZW50T2Zmc2V0ID09IG90aGVyLnBvcyAtIG90aGVyLnBhcmVudE9mZnNldFxuICB9XG5cbiAgLy8gOjogKFJlc29sdmVkUG9zKSDihpIgUmVzb2x2ZWRQb3NcbiAgLy8gUmV0dXJuIHRoZSBncmVhdGVyIG9mIHRoaXMgYW5kIHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgbWF4KG90aGVyKSB7XG4gICAgcmV0dXJuIG90aGVyLnBvcyA+IHRoaXMucG9zID8gb3RoZXIgOiB0aGlzXG4gIH1cblxuICAvLyA6OiAoUmVzb2x2ZWRQb3MpIOKGkiBSZXNvbHZlZFBvc1xuICAvLyBSZXR1cm4gdGhlIHNtYWxsZXIgb2YgdGhpcyBhbmQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICBtaW4ob3RoZXIpIHtcbiAgICByZXR1cm4gb3RoZXIucG9zIDwgdGhpcy5wb3MgPyBvdGhlciA6IHRoaXNcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGxldCBzdHIgPSBcIlwiXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdGhpcy5kZXB0aDsgaSsrKVxuICAgICAgc3RyICs9IChzdHIgPyBcIi9cIiA6IFwiXCIpICsgdGhpcy5ub2RlKGkpLnR5cGUubmFtZSArIFwiX1wiICsgdGhpcy5pbmRleChpIC0gMSlcbiAgICByZXR1cm4gc3RyICsgXCI6XCIgKyB0aGlzLnBhcmVudE9mZnNldFxuICB9XG5cbiAgc3RhdGljIHJlc29sdmUoZG9jLCBwb3MpIHtcbiAgICBpZiAoIShwb3MgPj0gMCAmJiBwb3MgPD0gZG9jLmNvbnRlbnQuc2l6ZSkpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiUG9zaXRpb24gXCIgKyBwb3MgKyBcIiBvdXQgb2YgcmFuZ2VcIilcbiAgICBsZXQgcGF0aCA9IFtdXG4gICAgbGV0IHN0YXJ0ID0gMCwgcGFyZW50T2Zmc2V0ID0gcG9zXG4gICAgZm9yIChsZXQgbm9kZSA9IGRvYzs7KSB7XG4gICAgICBsZXQge2luZGV4LCBvZmZzZXR9ID0gbm9kZS5jb250ZW50LmZpbmRJbmRleChwYXJlbnRPZmZzZXQpXG4gICAgICBsZXQgcmVtID0gcGFyZW50T2Zmc2V0IC0gb2Zmc2V0XG4gICAgICBwYXRoLnB1c2gobm9kZSwgaW5kZXgsIHN0YXJ0ICsgb2Zmc2V0KVxuICAgICAgaWYgKCFyZW0pIGJyZWFrXG4gICAgICBub2RlID0gbm9kZS5jaGlsZChpbmRleClcbiAgICAgIGlmIChub2RlLmlzVGV4dCkgYnJlYWtcbiAgICAgIHBhcmVudE9mZnNldCA9IHJlbSAtIDFcbiAgICAgIHN0YXJ0ICs9IG9mZnNldCArIDFcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZXNvbHZlZFBvcyhwb3MsIHBhdGgsIHBhcmVudE9mZnNldClcbiAgfVxuXG4gIHN0YXRpYyByZXNvbHZlQ2FjaGVkKGRvYywgcG9zKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNvbHZlQ2FjaGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjYWNoZWQgPSByZXNvbHZlQ2FjaGVbaV1cbiAgICAgIGlmIChjYWNoZWQucG9zID09IHBvcyAmJiBjYWNoZWQuZG9jID09IGRvYykgcmV0dXJuIGNhY2hlZFxuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gcmVzb2x2ZUNhY2hlW3Jlc29sdmVDYWNoZVBvc10gPSBSZXNvbHZlZFBvcy5yZXNvbHZlKGRvYywgcG9zKVxuICAgIHJlc29sdmVDYWNoZVBvcyA9IChyZXNvbHZlQ2FjaGVQb3MgKyAxKSAlIHJlc29sdmVDYWNoZVNpemVcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cblxubGV0IHJlc29sdmVDYWNoZSA9IFtdLCByZXNvbHZlQ2FjaGVQb3MgPSAwLCByZXNvbHZlQ2FjaGVTaXplID0gMTJcblxuLy8gOjotIFJlcHJlc2VudHMgYSBmbGF0IHJhbmdlIG9mIGNvbnRlbnQsIGkuZS4gb25lIHRoYXQgc3RhcnRzIGFuZFxuLy8gZW5kcyBpbiB0aGUgc2FtZSBub2RlLlxuZXhwb3J0IGNsYXNzIE5vZGVSYW5nZSB7XG4gIC8vIDo6IChSZXNvbHZlZFBvcywgUmVzb2x2ZWRQb3MsIG51bWJlcilcbiAgLy8gQ29uc3RydWN0IGEgbm9kZSByYW5nZS4gYCRmcm9tYCBhbmQgYCR0b2Agc2hvdWxkIHBvaW50IGludG8gdGhlXG4gIC8vIHNhbWUgbm9kZSB1bnRpbCBhdCBsZWFzdCB0aGUgZ2l2ZW4gYGRlcHRoYCwgc2luY2UgYSBub2RlIHJhbmdlXG4gIC8vIGRlbm90ZXMgYW4gYWRqYWNlbnQgc2V0IG9mIG5vZGVzIGluIGEgc2luZ2xlIHBhcmVudCBub2RlLlxuICBjb25zdHJ1Y3RvcigkZnJvbSwgJHRvLCBkZXB0aCkge1xuICAgIC8vIDo6IFJlc29sdmVkUG9zIEEgcmVzb2x2ZWQgcG9zaXRpb24gYWxvbmcgdGhlIHN0YXJ0IG9mIHRoZVxuICAgIC8vIGNvbnRlbnQuIE1heSBoYXZlIGEgYGRlcHRoYCBncmVhdGVyIHRoYW4gdGhpcyBvYmplY3QncyBgZGVwdGhgXG4gICAgLy8gcHJvcGVydHksIHNpbmNlIHRoZXNlIGFyZSB0aGUgcG9zaXRpb25zIHRoYXQgd2VyZSB1c2VkIHRvXG4gICAgLy8gY29tcHV0ZSB0aGUgcmFuZ2UsIG5vdCByZS1yZXNvbHZlZCBwb3NpdGlvbnMgZGlyZWN0bHkgYXQgaXRzXG4gICAgLy8gYm91bmRhcmllcy5cbiAgICB0aGlzLiRmcm9tID0gJGZyb21cbiAgICAvLyA6OiBSZXNvbHZlZFBvcyBBIHBvc2l0aW9uIGFsb25nIHRoZSBlbmQgb2YgdGhlIGNvbnRlbnQuIFNlZVxuICAgIC8vIGNhdmVhdCBmb3IgW2AkZnJvbWBdKCNtb2RlbC5Ob2RlUmFuZ2UuJGZyb20pLlxuICAgIHRoaXMuJHRvID0gJHRvXG4gICAgLy8gOjogbnVtYmVyIFRoZSBkZXB0aCBvZiB0aGUgbm9kZSB0aGF0IHRoaXMgcmFuZ2UgcG9pbnRzIGludG8uXG4gICAgdGhpcy5kZXB0aCA9IGRlcHRoXG4gIH1cblxuICAvLyA6OiBudW1iZXIgVGhlIHBvc2l0aW9uIGF0IHRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gIGdldCBzdGFydCgpIHsgcmV0dXJuIHRoaXMuJGZyb20uYmVmb3JlKHRoaXMuZGVwdGggKyAxKSB9XG4gIC8vIDo6IG51bWJlciBUaGUgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gIGdldCBlbmQoKSB7IHJldHVybiB0aGlzLiR0by5hZnRlcih0aGlzLmRlcHRoICsgMSkgfVxuXG4gIC8vIDo6IE5vZGUgVGhlIHBhcmVudCBub2RlIHRoYXQgdGhlIHJhbmdlIHBvaW50cyBpbnRvLlxuICBnZXQgcGFyZW50KCkgeyByZXR1cm4gdGhpcy4kZnJvbS5ub2RlKHRoaXMuZGVwdGgpIH1cbiAgLy8gOjogbnVtYmVyIFRoZSBzdGFydCBpbmRleCBvZiB0aGUgcmFuZ2UgaW4gdGhlIHBhcmVudCBub2RlLlxuICBnZXQgc3RhcnRJbmRleCgpIHsgcmV0dXJuIHRoaXMuJGZyb20uaW5kZXgodGhpcy5kZXB0aCkgfVxuICAvLyA6OiBudW1iZXIgVGhlIGVuZCBpbmRleCBvZiB0aGUgcmFuZ2UgaW4gdGhlIHBhcmVudCBub2RlLlxuICBnZXQgZW5kSW5kZXgoKSB7IHJldHVybiB0aGlzLiR0by5pbmRleEFmdGVyKHRoaXMuZGVwdGgpIH1cbn1cbiIsImltcG9ydCB7RnJhZ21lbnR9IGZyb20gXCIuL2ZyYWdtZW50XCJcbmltcG9ydCB7TWFya30gZnJvbSBcIi4vbWFya1wiXG5pbXBvcnQge1NsaWNlLCByZXBsYWNlfSBmcm9tIFwiLi9yZXBsYWNlXCJcbmltcG9ydCB7UmVzb2x2ZWRQb3N9IGZyb20gXCIuL3Jlc29sdmVkcG9zXCJcbmltcG9ydCB7Y29tcGFyZURlZXB9IGZyb20gXCIuL2NvbXBhcmVkZWVwXCJcblxuY29uc3QgZW1wdHlBdHRycyA9IE9iamVjdC5jcmVhdGUobnVsbClcblxuLy8gOjotIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIG5vZGUgaW4gdGhlIHRyZWUgdGhhdCBtYWtlcyB1cCBhXG4vLyBQcm9zZU1pcnJvciBkb2N1bWVudC4gU28gYSBkb2N1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBgTm9kZWAsIHdpdGhcbi8vIGNoaWxkcmVuIHRoYXQgYXJlIGFsc28gaW5zdGFuY2VzIG9mIGBOb2RlYC5cbi8vXG4vLyBOb2RlcyBhcmUgcGVyc2lzdGVudCBkYXRhIHN0cnVjdHVyZXMuIEluc3RlYWQgb2YgY2hhbmdpbmcgdGhlbSwgeW91XG4vLyBjcmVhdGUgbmV3IG9uZXMgd2l0aCB0aGUgY29udGVudCB5b3Ugd2FudC4gT2xkIG9uZXMga2VlcCBwb2ludGluZ1xuLy8gYXQgdGhlIG9sZCBkb2N1bWVudCBzaGFwZS4gVGhpcyBpcyBtYWRlIGNoZWFwZXIgYnkgc2hhcmluZ1xuLy8gc3RydWN0dXJlIGJldHdlZW4gdGhlIG9sZCBhbmQgbmV3IGRhdGEgYXMgbXVjaCBhcyBwb3NzaWJsZSwgd2hpY2ggYVxuLy8gdHJlZSBzaGFwZSBsaWtlIHRoaXMgKHdpdGhvdXQgYmFjayBwb2ludGVycykgbWFrZXMgZWFzeS5cbi8vXG4vLyAqKkRvIG5vdCoqIGRpcmVjdGx5IG11dGF0ZSB0aGUgcHJvcGVydGllcyBvZiBhIGBOb2RlYCBvYmplY3QuIFNlZVxuLy8gW3RoZSBndWlkZV0oL2RvY3MvZ3VpZGUvI2RvYykgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5leHBvcnQgY2xhc3MgTm9kZSB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGF0dHJzLCBjb250ZW50LCBtYXJrcykge1xuICAgIC8vIDo6IE5vZGVUeXBlXG4gICAgLy8gVGhlIHR5cGUgb2Ygbm9kZSB0aGF0IHRoaXMgaXMuXG4gICAgdGhpcy50eXBlID0gdHlwZVxuXG4gICAgLy8gOjogT2JqZWN0XG4gICAgLy8gQW4gb2JqZWN0IG1hcHBpbmcgYXR0cmlidXRlIG5hbWVzIHRvIHZhbHVlcy4gVGhlIGtpbmQgb2ZcbiAgICAvLyBhdHRyaWJ1dGVzIGFsbG93ZWQgYW5kIHJlcXVpcmVkIGFyZVxuICAgIC8vIFtkZXRlcm1pbmVkXSgjbW9kZWwuTm9kZVNwZWMuYXR0cnMpIGJ5IHRoZSBub2RlIHR5cGUuXG4gICAgdGhpcy5hdHRycyA9IGF0dHJzXG5cbiAgICAvLyA6OiBGcmFnbWVudFxuICAgIC8vIEEgY29udGFpbmVyIGhvbGRpbmcgdGhlIG5vZGUncyBjaGlsZHJlbi5cbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50IHx8IEZyYWdtZW50LmVtcHR5XG5cbiAgICAvLyA6OiBbTWFya11cbiAgICAvLyBUaGUgbWFya3MgKHRoaW5ncyBsaWtlIHdoZXRoZXIgaXQgaXMgZW1waGFzaXplZCBvciBwYXJ0IG9mIGFcbiAgICAvLyBsaW5rKSBhcHBsaWVkIHRvIHRoaXMgbm9kZS5cbiAgICB0aGlzLm1hcmtzID0gbWFya3MgfHwgTWFyay5ub25lXG4gIH1cblxuICAvLyB0ZXh0OjogP3N0cmluZ1xuICAvLyBGb3IgdGV4dCBub2RlcywgdGhpcyBjb250YWlucyB0aGUgbm9kZSdzIHRleHQgY29udGVudC5cblxuICAvLyA6OiBudW1iZXJcbiAgLy8gVGhlIHNpemUgb2YgdGhpcyBub2RlLCBhcyBkZWZpbmVkIGJ5IHRoZSBpbnRlZ2VyLWJhc2VkIFtpbmRleGluZ1xuICAvLyBzY2hlbWVdKC9kb2NzL2d1aWRlLyNkb2MuaW5kZXhpbmcpLiBGb3IgdGV4dCBub2RlcywgdGhpcyBpcyB0aGVcbiAgLy8gYW1vdW50IG9mIGNoYXJhY3RlcnMuIEZvciBvdGhlciBsZWFmIG5vZGVzLCBpdCBpcyBvbmUuIEZvclxuICAvLyBub24tbGVhZiBub2RlcywgaXQgaXMgdGhlIHNpemUgb2YgdGhlIGNvbnRlbnQgcGx1cyB0d28gKHRoZSBzdGFydFxuICAvLyBhbmQgZW5kIHRva2VuKS5cbiAgZ2V0IG5vZGVTaXplKCkgeyByZXR1cm4gdGhpcy5pc0xlYWYgPyAxIDogMiArIHRoaXMuY29udGVudC5zaXplIH1cblxuICAvLyA6OiBudW1iZXJcbiAgLy8gVGhlIG51bWJlciBvZiBjaGlsZHJlbiB0aGF0IHRoZSBub2RlIGhhcy5cbiAgZ2V0IGNoaWxkQ291bnQoKSB7IHJldHVybiB0aGlzLmNvbnRlbnQuY2hpbGRDb3VudCB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSIE5vZGVcbiAgLy8gR2V0IHRoZSBjaGlsZCBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC4gUmFpc2VzIGFuIGVycm9yIHdoZW4gdGhlXG4gIC8vIGluZGV4IGlzIG91dCBvZiByYW5nZS5cbiAgY2hpbGQoaW5kZXgpIHsgcmV0dXJuIHRoaXMuY29udGVudC5jaGlsZChpbmRleCkgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiA/Tm9kZVxuICAvLyBHZXQgdGhlIGNoaWxkIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LCBpZiBpdCBleGlzdHMuXG4gIG1heWJlQ2hpbGQoaW5kZXgpIHsgcmV0dXJuIHRoaXMuY29udGVudC5tYXliZUNoaWxkKGluZGV4KSB9XG5cbiAgLy8gOjogKChub2RlOiBOb2RlLCBvZmZzZXQ6IG51bWJlciwgaW5kZXg6IG51bWJlcikpXG4gIC8vIENhbGwgYGZgIGZvciBldmVyeSBjaGlsZCBub2RlLCBwYXNzaW5nIHRoZSBub2RlLCBpdHMgb2Zmc2V0XG4gIC8vIGludG8gdGhpcyBwYXJlbnQgbm9kZSwgYW5kIGl0cyBpbmRleC5cbiAgZm9yRWFjaChmKSB7IHRoaXMuY29udGVudC5mb3JFYWNoKGYpIH1cblxuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsIChub2RlOiBOb2RlLCBwb3M6IG51bWJlciwgcGFyZW50OiBOb2RlLCBpbmRleDogbnVtYmVyKSDihpIgP2Jvb2wsID9udW1iZXIpXG4gIC8vIEludm9rZSBhIGNhbGxiYWNrIGZvciBhbGwgZGVzY2VuZGFudCBub2RlcyByZWN1cnNpdmVseSBiZXR3ZWVuXG4gIC8vIHRoZSBnaXZlbiB0d28gcG9zaXRpb25zIHRoYXQgYXJlIHJlbGF0aXZlIHRvIHN0YXJ0IG9mIHRoaXMgbm9kZSdzXG4gIC8vIGNvbnRlbnQuIFRoZSBjYWxsYmFjayBpcyBpbnZva2VkIHdpdGggdGhlIG5vZGUsIGl0c1xuICAvLyBwYXJlbnQtcmVsYXRpdmUgcG9zaXRpb24sIGl0cyBwYXJlbnQgbm9kZSwgYW5kIGl0cyBjaGlsZCBpbmRleC5cbiAgLy8gV2hlbiB0aGUgY2FsbGJhY2sgcmV0dXJucyBmYWxzZSBmb3IgYSBnaXZlbiBub2RlLCB0aGF0IG5vZGUnc1xuICAvLyBjaGlsZHJlbiB3aWxsIG5vdCBiZSByZWN1cnNlZCBvdmVyLiBUaGUgbGFzdCBwYXJhbWV0ZXIgY2FuIGJlXG4gIC8vIHVzZWQgdG8gc3BlY2lmeSBhIHN0YXJ0aW5nIHBvc2l0aW9uIHRvIGNvdW50IGZyb20uXG4gIG5vZGVzQmV0d2Vlbihmcm9tLCB0bywgZiwgc3RhcnRQb3MgPSAwKSB7XG4gICAgdGhpcy5jb250ZW50Lm5vZGVzQmV0d2Vlbihmcm9tLCB0bywgZiwgc3RhcnRQb3MsIHRoaXMpXG4gIH1cblxuICAvLyA6OiAoKG5vZGU6IE5vZGUsIHBvczogbnVtYmVyLCBwYXJlbnQ6IE5vZGUpIOKGkiA/Ym9vbClcbiAgLy8gQ2FsbCB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGV2ZXJ5IGRlc2NlbmRhbnQgbm9kZS4gRG9lc24ndFxuICAvLyBkZXNjZW5kIGludG8gYSBub2RlIHdoZW4gdGhlIGNhbGxiYWNrIHJldHVybnMgYGZhbHNlYC5cbiAgZGVzY2VuZGFudHMoZikge1xuICAgIHRoaXMubm9kZXNCZXR3ZWVuKDAsIHRoaXMuY29udGVudC5zaXplLCBmKVxuICB9XG5cbiAgLy8gOjogc3RyaW5nXG4gIC8vIENvbmNhdGVuYXRlcyBhbGwgdGhlIHRleHQgbm9kZXMgZm91bmQgaW4gdGhpcyBmcmFnbWVudCBhbmQgaXRzXG4gIC8vIGNoaWxkcmVuLlxuICBnZXQgdGV4dENvbnRlbnQoKSB7IHJldHVybiB0aGlzLnRleHRCZXR3ZWVuKDAsIHRoaXMuY29udGVudC5zaXplLCBcIlwiKSB9XG5cbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCA/c3RyaW5nLCA/c3RyaW5nKSDihpIgc3RyaW5nXG4gIC8vIEdldCBhbGwgdGV4dCBiZXR3ZWVuIHBvc2l0aW9ucyBgZnJvbWAgYW5kIGB0b2AuIFdoZW5cbiAgLy8gYGJsb2NrU2VwYXJhdG9yYCBpcyBnaXZlbiwgaXQgd2lsbCBiZSBpbnNlcnRlZCB3aGVuZXZlciBhIG5ld1xuICAvLyBibG9jayBub2RlIGlzIHN0YXJ0ZWQuIFdoZW4gYGxlYWZUZXh0YCBpcyBnaXZlbiwgaXQnbGwgYmVcbiAgLy8gaW5zZXJ0ZWQgZm9yIGV2ZXJ5IG5vbi10ZXh0IGxlYWYgbm9kZSBlbmNvdW50ZXJlZC5cbiAgdGV4dEJldHdlZW4oZnJvbSwgdG8sIGJsb2NrU2VwYXJhdG9yLCBsZWFmVGV4dCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQudGV4dEJldHdlZW4oZnJvbSwgdG8sIGJsb2NrU2VwYXJhdG9yLCBsZWFmVGV4dClcbiAgfVxuXG4gIC8vIDo6ID9Ob2RlXG4gIC8vIFJldHVybnMgdGhpcyBub2RlJ3MgZmlyc3QgY2hpbGQsIG9yIGBudWxsYCBpZiB0aGVyZSBhcmUgbm9cbiAgLy8gY2hpbGRyZW4uXG4gIGdldCBmaXJzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5jb250ZW50LmZpcnN0Q2hpbGQgfVxuXG4gIC8vIDo6ID9Ob2RlXG4gIC8vIFJldHVybnMgdGhpcyBub2RlJ3MgbGFzdCBjaGlsZCwgb3IgYG51bGxgIGlmIHRoZXJlIGFyZSBub1xuICAvLyBjaGlsZHJlbi5cbiAgZ2V0IGxhc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMuY29udGVudC5sYXN0Q2hpbGQgfVxuXG4gIC8vIDo6IChOb2RlKSDihpIgYm9vbFxuICAvLyBUZXN0IHdoZXRoZXIgdHdvIG5vZGVzIHJlcHJlc2VudCB0aGUgc2FtZSBwaWVjZSBvZiBkb2N1bWVudC5cbiAgZXEob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcyA9PSBvdGhlciB8fCAodGhpcy5zYW1lTWFya3VwKG90aGVyKSAmJiB0aGlzLmNvbnRlbnQuZXEob3RoZXIuY29udGVudCkpXG4gIH1cblxuICAvLyA6OiAoTm9kZSkg4oaSIGJvb2xcbiAgLy8gQ29tcGFyZSB0aGUgbWFya3VwICh0eXBlLCBhdHRyaWJ1dGVzLCBhbmQgbWFya3MpIG9mIHRoaXMgbm9kZSB0b1xuICAvLyB0aG9zZSBvZiBhbm90aGVyLiBSZXR1cm5zIGB0cnVlYCBpZiBib3RoIGhhdmUgdGhlIHNhbWUgbWFya3VwLlxuICBzYW1lTWFya3VwKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzTWFya3VwKG90aGVyLnR5cGUsIG90aGVyLmF0dHJzLCBvdGhlci5tYXJrcylcbiAgfVxuXG4gIC8vIDo6IChOb2RlVHlwZSwgP09iamVjdCwgP1tNYXJrXSkg4oaSIGJvb2xcbiAgLy8gQ2hlY2sgd2hldGhlciB0aGlzIG5vZGUncyBtYXJrdXAgY29ycmVzcG9uZCB0byB0aGUgZ2l2ZW4gdHlwZSxcbiAgLy8gYXR0cmlidXRlcywgYW5kIG1hcmtzLlxuICBoYXNNYXJrdXAodHlwZSwgYXR0cnMsIG1hcmtzKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PSB0eXBlICYmXG4gICAgICBjb21wYXJlRGVlcCh0aGlzLmF0dHJzLCBhdHRycyB8fCB0eXBlLmRlZmF1bHRBdHRycyB8fCBlbXB0eUF0dHJzKSAmJlxuICAgICAgTWFyay5zYW1lU2V0KHRoaXMubWFya3MsIG1hcmtzIHx8IE1hcmsubm9uZSlcbiAgfVxuXG4gIC8vIDo6ICg/RnJhZ21lbnQpIOKGkiBOb2RlXG4gIC8vIENyZWF0ZSBhIG5ldyBub2RlIHdpdGggdGhlIHNhbWUgbWFya3VwIGFzIHRoaXMgbm9kZSwgY29udGFpbmluZ1xuICAvLyB0aGUgZ2l2ZW4gY29udGVudCAob3IgZW1wdHksIGlmIG5vIGNvbnRlbnQgaXMgZ2l2ZW4pLlxuICBjb3B5KGNvbnRlbnQgPSBudWxsKSB7XG4gICAgaWYgKGNvbnRlbnQgPT0gdGhpcy5jb250ZW50KSByZXR1cm4gdGhpc1xuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnR5cGUsIHRoaXMuYXR0cnMsIGNvbnRlbnQsIHRoaXMubWFya3MpXG4gIH1cblxuICAvLyA6OiAoW01hcmtdKSDihpIgTm9kZVxuICAvLyBDcmVhdGUgYSBjb3B5IG9mIHRoaXMgbm9kZSwgd2l0aCB0aGUgZ2l2ZW4gc2V0IG9mIG1hcmtzIGluc3RlYWRcbiAgLy8gb2YgdGhlIG5vZGUncyBvd24gbWFya3MuXG4gIG1hcmsobWFya3MpIHtcbiAgICByZXR1cm4gbWFya3MgPT0gdGhpcy5tYXJrcyA/IHRoaXMgOiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnR5cGUsIHRoaXMuYXR0cnMsIHRoaXMuY29udGVudCwgbWFya3MpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyLCA/bnVtYmVyKSDihpIgTm9kZVxuICAvLyBDcmVhdGUgYSBjb3B5IG9mIHRoaXMgbm9kZSB3aXRoIG9ubHkgdGhlIGNvbnRlbnQgYmV0d2VlbiB0aGVcbiAgLy8gZ2l2ZW4gcG9zaXRpb25zLiBJZiBgdG9gIGlzIG5vdCBnaXZlbiwgaXQgZGVmYXVsdHMgdG8gdGhlIGVuZCBvZlxuICAvLyB0aGUgbm9kZS5cbiAgY3V0KGZyb20sIHRvKSB7XG4gICAgaWYgKGZyb20gPT0gMCAmJiB0byA9PSB0aGlzLmNvbnRlbnQuc2l6ZSkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gdGhpcy5jb3B5KHRoaXMuY29udGVudC5jdXQoZnJvbSwgdG8pKVxuICB9XG5cbiAgLy8gOjogKG51bWJlciwgP251bWJlcikg4oaSIFNsaWNlXG4gIC8vIEN1dCBvdXQgdGhlIHBhcnQgb2YgdGhlIGRvY3VtZW50IGJldHdlZW4gdGhlIGdpdmVuIHBvc2l0aW9ucywgYW5kXG4gIC8vIHJldHVybiBpdCBhcyBhIGBTbGljZWAgb2JqZWN0LlxuICBzbGljZShmcm9tLCB0byA9IHRoaXMuY29udGVudC5zaXplLCBpbmNsdWRlUGFyZW50cyA9IGZhbHNlKSB7XG4gICAgaWYgKGZyb20gPT0gdG8pIHJldHVybiBTbGljZS5lbXB0eVxuXG4gICAgbGV0ICRmcm9tID0gdGhpcy5yZXNvbHZlKGZyb20pLCAkdG8gPSB0aGlzLnJlc29sdmUodG8pXG4gICAgbGV0IGRlcHRoID0gaW5jbHVkZVBhcmVudHMgPyAwIDogJGZyb20uc2hhcmVkRGVwdGgodG8pXG4gICAgbGV0IHN0YXJ0ID0gJGZyb20uc3RhcnQoZGVwdGgpLCBub2RlID0gJGZyb20ubm9kZShkZXB0aClcbiAgICBsZXQgY29udGVudCA9IG5vZGUuY29udGVudC5jdXQoJGZyb20ucG9zIC0gc3RhcnQsICR0by5wb3MgLSBzdGFydClcbiAgICByZXR1cm4gbmV3IFNsaWNlKGNvbnRlbnQsICRmcm9tLmRlcHRoIC0gZGVwdGgsICR0by5kZXB0aCAtIGRlcHRoKVxuICB9XG5cbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCBTbGljZSkg4oaSIE5vZGVcbiAgLy8gUmVwbGFjZSB0aGUgcGFydCBvZiB0aGUgZG9jdW1lbnQgYmV0d2VlbiB0aGUgZ2l2ZW4gcG9zaXRpb25zIHdpdGhcbiAgLy8gdGhlIGdpdmVuIHNsaWNlLiBUaGUgc2xpY2UgbXVzdCAnZml0JywgbWVhbmluZyBpdHMgb3BlbiBzaWRlc1xuICAvLyBtdXN0IGJlIGFibGUgdG8gY29ubmVjdCB0byB0aGUgc3Vycm91bmRpbmcgY29udGVudCwgYW5kIGl0c1xuICAvLyBjb250ZW50IG5vZGVzIG11c3QgYmUgdmFsaWQgY2hpbGRyZW4gZm9yIHRoZSBub2RlIHRoZXkgYXJlIHBsYWNlZFxuICAvLyBpbnRvLiBJZiBhbnkgb2YgdGhpcyBpcyB2aW9sYXRlZCwgYW4gZXJyb3Igb2YgdHlwZVxuICAvLyBbYFJlcGxhY2VFcnJvcmBdKCNtb2RlbC5SZXBsYWNlRXJyb3IpIGlzIHRocm93bi5cbiAgcmVwbGFjZShmcm9tLCB0bywgc2xpY2UpIHtcbiAgICByZXR1cm4gcmVwbGFjZSh0aGlzLnJlc29sdmUoZnJvbSksIHRoaXMucmVzb2x2ZSh0byksIHNsaWNlKVxuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSID9Ob2RlXG4gIC8vIEZpbmQgdGhlIG5vZGUgZGlyZWN0bHkgYWZ0ZXIgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICBub2RlQXQocG9zKSB7XG4gICAgZm9yIChsZXQgbm9kZSA9IHRoaXM7Oykge1xuICAgICAgbGV0IHtpbmRleCwgb2Zmc2V0fSA9IG5vZGUuY29udGVudC5maW5kSW5kZXgocG9zKVxuICAgICAgbm9kZSA9IG5vZGUubWF5YmVDaGlsZChpbmRleClcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIG51bGxcbiAgICAgIGlmIChvZmZzZXQgPT0gcG9zIHx8IG5vZGUuaXNUZXh0KSByZXR1cm4gbm9kZVxuICAgICAgcG9zIC09IG9mZnNldCArIDFcbiAgICB9XG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIge25vZGU6ID9Ob2RlLCBpbmRleDogbnVtYmVyLCBvZmZzZXQ6IG51bWJlcn1cbiAgLy8gRmluZCB0aGUgKGRpcmVjdCkgY2hpbGQgbm9kZSBhZnRlciB0aGUgZ2l2ZW4gb2Zmc2V0LCBpZiBhbnksXG4gIC8vIGFuZCByZXR1cm4gaXQgYWxvbmcgd2l0aCBpdHMgaW5kZXggYW5kIG9mZnNldCByZWxhdGl2ZSB0byB0aGlzXG4gIC8vIG5vZGUuXG4gIGNoaWxkQWZ0ZXIocG9zKSB7XG4gICAgbGV0IHtpbmRleCwgb2Zmc2V0fSA9IHRoaXMuY29udGVudC5maW5kSW5kZXgocG9zKVxuICAgIHJldHVybiB7bm9kZTogdGhpcy5jb250ZW50Lm1heWJlQ2hpbGQoaW5kZXgpLCBpbmRleCwgb2Zmc2V0fVxuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSIHtub2RlOiA/Tm9kZSwgaW5kZXg6IG51bWJlciwgb2Zmc2V0OiBudW1iZXJ9XG4gIC8vIEZpbmQgdGhlIChkaXJlY3QpIGNoaWxkIG5vZGUgYmVmb3JlIHRoZSBnaXZlbiBvZmZzZXQsIGlmIGFueSxcbiAgLy8gYW5kIHJldHVybiBpdCBhbG9uZyB3aXRoIGl0cyBpbmRleCBhbmQgb2Zmc2V0IHJlbGF0aXZlIHRvIHRoaXNcbiAgLy8gbm9kZS5cbiAgY2hpbGRCZWZvcmUocG9zKSB7XG4gICAgaWYgKHBvcyA9PSAwKSByZXR1cm4ge25vZGU6IG51bGwsIGluZGV4OiAwLCBvZmZzZXQ6IDB9XG4gICAgbGV0IHtpbmRleCwgb2Zmc2V0fSA9IHRoaXMuY29udGVudC5maW5kSW5kZXgocG9zKVxuICAgIGlmIChvZmZzZXQgPCBwb3MpIHJldHVybiB7bm9kZTogdGhpcy5jb250ZW50LmNoaWxkKGluZGV4KSwgaW5kZXgsIG9mZnNldH1cbiAgICBsZXQgbm9kZSA9IHRoaXMuY29udGVudC5jaGlsZChpbmRleCAtIDEpXG4gICAgcmV0dXJuIHtub2RlLCBpbmRleDogaW5kZXggLSAxLCBvZmZzZXQ6IG9mZnNldCAtIG5vZGUubm9kZVNpemV9XG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIgUmVzb2x2ZWRQb3NcbiAgLy8gUmVzb2x2ZSB0aGUgZ2l2ZW4gcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50LCByZXR1cm5pbmcgYW5cbiAgLy8gW29iamVjdF0oI21vZGVsLlJlc29sdmVkUG9zKSB3aXRoIGluZm9ybWF0aW9uIGFib3V0IGl0cyBjb250ZXh0LlxuICByZXNvbHZlKHBvcykgeyByZXR1cm4gUmVzb2x2ZWRQb3MucmVzb2x2ZUNhY2hlZCh0aGlzLCBwb3MpIH1cblxuICByZXNvbHZlTm9DYWNoZShwb3MpIHsgcmV0dXJuIFJlc29sdmVkUG9zLnJlc29sdmUodGhpcywgcG9zKSB9XG5cbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCBNYXJrVHlwZSkg4oaSIGJvb2xcbiAgLy8gVGVzdCB3aGV0aGVyIGEgbWFyayBvZiB0aGUgZ2l2ZW4gdHlwZSBvY2N1cnMgaW4gdGhpcyBkb2N1bWVudFxuICAvLyBiZXR3ZWVuIHRoZSB0d28gZ2l2ZW4gcG9zaXRpb25zLlxuICByYW5nZUhhc01hcmsoZnJvbSwgdG8sIHR5cGUpIHtcbiAgICBsZXQgZm91bmQgPSBmYWxzZVxuICAgIGlmICh0byA+IGZyb20pIHRoaXMubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBub2RlID0+IHtcbiAgICAgIGlmICh0eXBlLmlzSW5TZXQobm9kZS5tYXJrcykpIGZvdW5kID0gdHJ1ZVxuICAgICAgcmV0dXJuICFmb3VuZFxuICAgIH0pXG4gICAgcmV0dXJuIGZvdW5kXG4gIH1cblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgd2hlbiB0aGlzIGlzIGEgYmxvY2sgKG5vbi1pbmxpbmUgbm9kZSlcbiAgZ2V0IGlzQmxvY2soKSB7IHJldHVybiB0aGlzLnR5cGUuaXNCbG9jayB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBUcnVlIHdoZW4gdGhpcyBpcyBhIHRleHRibG9jayBub2RlLCBhIGJsb2NrIG5vZGUgd2l0aCBpbmxpbmVcbiAgLy8gY29udGVudC5cbiAgZ2V0IGlzVGV4dGJsb2NrKCkgeyByZXR1cm4gdGhpcy50eXBlLmlzVGV4dGJsb2NrIH1cblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgd2hlbiB0aGlzIG5vZGUgYWxsb3dzIGlubGluZSBjb250ZW50LlxuICBnZXQgaW5saW5lQ29udGVudCgpIHsgcmV0dXJuIHRoaXMudHlwZS5pbmxpbmVDb250ZW50IH1cblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgd2hlbiB0aGlzIGlzIGFuIGlubGluZSBub2RlIChhIHRleHQgbm9kZSBvciBhIG5vZGUgdGhhdCBjYW5cbiAgLy8gYXBwZWFyIGFtb25nIHRleHQpLlxuICBnZXQgaXNJbmxpbmUoKSB7IHJldHVybiB0aGlzLnR5cGUuaXNJbmxpbmUgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSB3aGVuIHRoaXMgaXMgYSB0ZXh0IG5vZGUuXG4gIGdldCBpc1RleHQoKSB7IHJldHVybiB0aGlzLnR5cGUuaXNUZXh0IH1cblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgd2hlbiB0aGlzIGlzIGEgbGVhZiBub2RlLlxuICBnZXQgaXNMZWFmKCkgeyByZXR1cm4gdGhpcy50eXBlLmlzTGVhZiB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBUcnVlIHdoZW4gdGhpcyBpcyBhbiBhdG9tLCBpLmUuIHdoZW4gaXQgZG9lcyBub3QgaGF2ZSBkaXJlY3RseVxuICAvLyBlZGl0YWJsZSBjb250ZW50LiBUaGlzIGlzIHVzdWFsbHkgdGhlIHNhbWUgYXMgYGlzTGVhZmAsIGJ1dCBjYW5cbiAgLy8gYmUgY29uZmlndXJlZCB3aXRoIHRoZSBbYGF0b21gIHByb3BlcnR5XSgjbW9kZWwuTm9kZVNwZWMuYXRvbSkgb25cbiAgLy8gYSBub2RlJ3Mgc3BlYyAodHlwaWNhbGx5IHVzZWQgd2hlbiB0aGUgbm9kZSBpcyBkaXNwbGF5ZWQgYXMgYW5cbiAgLy8gdW5lZGl0YWJsZSBbbm9kZSB2aWV3XSgjdmlldy5Ob2RlVmlldykpLlxuICBnZXQgaXNBdG9tKCkgeyByZXR1cm4gdGhpcy50eXBlLmlzQXRvbSB9XG5cbiAgLy8gOjogKCkg4oaSIHN0cmluZ1xuICAvLyBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlIGZvciBkZWJ1Z2dpbmdcbiAgLy8gcHVycG9zZXMuXG4gIHRvU3RyaW5nKCkge1xuICAgIGlmICh0aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKSByZXR1cm4gdGhpcy50eXBlLnNwZWMudG9EZWJ1Z1N0cmluZyh0aGlzKVxuICAgIGxldCBuYW1lID0gdGhpcy50eXBlLm5hbWVcbiAgICBpZiAodGhpcy5jb250ZW50LnNpemUpXG4gICAgICBuYW1lICs9IFwiKFwiICsgdGhpcy5jb250ZW50LnRvU3RyaW5nSW5uZXIoKSArIFwiKVwiXG4gICAgcmV0dXJuIHdyYXBNYXJrcyh0aGlzLm1hcmtzLCBuYW1lKVxuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSIENvbnRlbnRNYXRjaFxuICAvLyBHZXQgdGhlIGNvbnRlbnQgbWF0Y2ggaW4gdGhpcyBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgY29udGVudE1hdGNoQXQoaW5kZXgpIHtcbiAgICBsZXQgbWF0Y2ggPSB0aGlzLnR5cGUuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LCAwLCBpbmRleClcbiAgICBpZiAoIW1hdGNoKSB0aHJvdyBuZXcgRXJyb3IoXCJDYWxsZWQgY29udGVudE1hdGNoQXQgb24gYSBub2RlIHdpdGggaW52YWxpZCBjb250ZW50XCIpXG4gICAgcmV0dXJuIG1hdGNoXG4gIH1cblxuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsID9GcmFnbWVudCwgP251bWJlciwgP251bWJlcikg4oaSIGJvb2xcbiAgLy8gVGVzdCB3aGV0aGVyIHJlcGxhY2luZyB0aGUgcmFuZ2UgYmV0d2VlbiBgZnJvbWAgYW5kIGB0b2AgKGJ5XG4gIC8vIGNoaWxkIGluZGV4KSB3aXRoIHRoZSBnaXZlbiByZXBsYWNlbWVudCBmcmFnbWVudCAod2hpY2ggZGVmYXVsdHNcbiAgLy8gdG8gdGhlIGVtcHR5IGZyYWdtZW50KSB3b3VsZCBsZWF2ZSB0aGUgbm9kZSdzIGNvbnRlbnQgdmFsaWQuIFlvdVxuICAvLyBjYW4gb3B0aW9uYWxseSBwYXNzIGBzdGFydGAgYW5kIGBlbmRgIGluZGljZXMgaW50byB0aGVcbiAgLy8gcmVwbGFjZW1lbnQgZnJhZ21lbnQuXG4gIGNhblJlcGxhY2UoZnJvbSwgdG8sIHJlcGxhY2VtZW50ID0gRnJhZ21lbnQuZW1wdHksIHN0YXJ0ID0gMCwgZW5kID0gcmVwbGFjZW1lbnQuY2hpbGRDb3VudCkge1xuICAgIGxldCBvbmUgPSB0aGlzLmNvbnRlbnRNYXRjaEF0KGZyb20pLm1hdGNoRnJhZ21lbnQocmVwbGFjZW1lbnQsIHN0YXJ0LCBlbmQpXG4gICAgbGV0IHR3byA9IG9uZSAmJiBvbmUubWF0Y2hGcmFnbWVudCh0aGlzLmNvbnRlbnQsIHRvKVxuICAgIGlmICghdHdvIHx8ICF0d28udmFsaWRFbmQpIHJldHVybiBmYWxzZVxuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSBpZiAoIXRoaXMudHlwZS5hbGxvd3NNYXJrcyhyZXBsYWNlbWVudC5jaGlsZChpKS5tYXJrcykpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsIE5vZGVUeXBlLCA/W01hcmtdKSDihpIgYm9vbFxuICAvLyBUZXN0IHdoZXRoZXIgcmVwbGFjaW5nIHRoZSByYW5nZSBgZnJvbWAgdG8gYHRvYCAoYnkgaW5kZXgpIHdpdGggYVxuICAvLyBub2RlIG9mIHRoZSBnaXZlbiB0eXBlIHdvdWxkIGxlYXZlIHRoZSBub2RlJ3MgY29udGVudCB2YWxpZC5cbiAgY2FuUmVwbGFjZVdpdGgoZnJvbSwgdG8sIHR5cGUsIG1hcmtzKSB7XG4gICAgaWYgKG1hcmtzICYmICF0aGlzLnR5cGUuYWxsb3dzTWFya3MobWFya3MpKSByZXR1cm4gZmFsc2VcbiAgICBsZXQgc3RhcnQgPSB0aGlzLmNvbnRlbnRNYXRjaEF0KGZyb20pLm1hdGNoVHlwZSh0eXBlKVxuICAgIGxldCBlbmQgPSBzdGFydCAmJiBzdGFydC5tYXRjaEZyYWdtZW50KHRoaXMuY29udGVudCwgdG8pXG4gICAgcmV0dXJuIGVuZCA/IGVuZC52YWxpZEVuZCA6IGZhbHNlXG4gIH1cblxuICAvLyA6OiAoTm9kZSkg4oaSIGJvb2xcbiAgLy8gVGVzdCB3aGV0aGVyIHRoZSBnaXZlbiBub2RlJ3MgY29udGVudCBjb3VsZCBiZSBhcHBlbmRlZCB0byB0aGlzXG4gIC8vIG5vZGUuIElmIHRoYXQgbm9kZSBpcyBlbXB0eSwgdGhpcyB3aWxsIG9ubHkgcmV0dXJuIHRydWUgaWYgdGhlcmVcbiAgLy8gaXMgYXQgbGVhc3Qgb25lIG5vZGUgdHlwZSB0aGF0IGNhbiBhcHBlYXIgaW4gYm90aCBub2RlcyAodG8gYXZvaWRcbiAgLy8gbWVyZ2luZyBjb21wbGV0ZWx5IGluY29tcGF0aWJsZSBub2RlcykuXG4gIGNhbkFwcGVuZChvdGhlcikge1xuICAgIGlmIChvdGhlci5jb250ZW50LnNpemUpIHJldHVybiB0aGlzLmNhblJlcGxhY2UodGhpcy5jaGlsZENvdW50LCB0aGlzLmNoaWxkQ291bnQsIG90aGVyLmNvbnRlbnQpXG4gICAgZWxzZSByZXR1cm4gdGhpcy50eXBlLmNvbXBhdGlibGVDb250ZW50KG90aGVyLnR5cGUpXG4gIH1cblxuICAvLyA6OiAoKVxuICAvLyBDaGVjayB3aGV0aGVyIHRoaXMgbm9kZSBhbmQgaXRzIGRlc2NlbmRhbnRzIGNvbmZvcm0gdG8gdGhlXG4gIC8vIHNjaGVtYSwgYW5kIHJhaXNlIGVycm9yIHdoZW4gdGhleSBkbyBub3QuXG4gIGNoZWNrKCkge1xuICAgIGlmICghdGhpcy50eXBlLnZhbGlkQ29udGVudCh0aGlzLmNvbnRlbnQpKVxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYEludmFsaWQgY29udGVudCBmb3Igbm9kZSAke3RoaXMudHlwZS5uYW1lfTogJHt0aGlzLmNvbnRlbnQudG9TdHJpbmcoKS5zbGljZSgwLCA1MCl9YClcbiAgICB0aGlzLmNvbnRlbnQuZm9yRWFjaChub2RlID0+IG5vZGUuY2hlY2soKSlcbiAgfVxuXG4gIC8vIDo6ICgpIOKGkiBPYmplY3RcbiAgLy8gUmV0dXJuIGEgSlNPTi1zZXJpYWxpemVhYmxlIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgbm9kZS5cbiAgdG9KU09OKCkge1xuICAgIGxldCBvYmogPSB7dHlwZTogdGhpcy50eXBlLm5hbWV9XG4gICAgZm9yIChsZXQgXyBpbiB0aGlzLmF0dHJzKSB7XG4gICAgICBvYmouYXR0cnMgPSB0aGlzLmF0dHJzXG4gICAgICBicmVha1xuICAgIH1cbiAgICBpZiAodGhpcy5jb250ZW50LnNpemUpXG4gICAgICBvYmouY29udGVudCA9IHRoaXMuY29udGVudC50b0pTT04oKVxuICAgIGlmICh0aGlzLm1hcmtzLmxlbmd0aClcbiAgICAgIG9iai5tYXJrcyA9IHRoaXMubWFya3MubWFwKG4gPT4gbi50b0pTT04oKSlcbiAgICByZXR1cm4gb2JqXG4gIH1cblxuICAvLyA6OiAoU2NoZW1hLCBPYmplY3QpIOKGkiBOb2RlXG4gIC8vIERlc2VyaWFsaXplIGEgbm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uLlxuICBzdGF0aWMgZnJvbUpTT04oc2NoZW1hLCBqc29uKSB7XG4gICAgaWYgKCFqc29uKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIE5vZGUuZnJvbUpTT05cIilcbiAgICBsZXQgbWFya3MgPSBudWxsXG4gICAgaWYgKGpzb24ubWFya3MpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShqc29uLm1hcmtzKSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIG1hcmsgZGF0YSBmb3IgTm9kZS5mcm9tSlNPTlwiKVxuICAgICAgbWFya3MgPSBqc29uLm1hcmtzLm1hcChzY2hlbWEubWFya0Zyb21KU09OKVxuICAgIH1cbiAgICBpZiAoanNvbi50eXBlID09IFwidGV4dFwiKSB7XG4gICAgICBpZiAodHlwZW9mIGpzb24udGV4dCAhPSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgdGV4dCBub2RlIGluIEpTT05cIilcbiAgICAgIHJldHVybiBzY2hlbWEudGV4dChqc29uLnRleHQsIG1hcmtzKVxuICAgIH1cbiAgICBsZXQgY29udGVudCA9IEZyYWdtZW50LmZyb21KU09OKHNjaGVtYSwganNvbi5jb250ZW50KVxuICAgIHJldHVybiBzY2hlbWEubm9kZVR5cGUoanNvbi50eXBlKS5jcmVhdGUoanNvbi5hdHRycywgY29udGVudCwgbWFya3MpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRleHROb2RlIGV4dGVuZHMgTm9kZSB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGF0dHJzLCBjb250ZW50LCBtYXJrcykge1xuICAgIHN1cGVyKHR5cGUsIGF0dHJzLCBudWxsLCBtYXJrcylcblxuICAgIGlmICghY29udGVudCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJFbXB0eSB0ZXh0IG5vZGVzIGFyZSBub3QgYWxsb3dlZFwiKVxuXG4gICAgdGhpcy50ZXh0ID0gY29udGVudFxuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgaWYgKHRoaXMudHlwZS5zcGVjLnRvRGVidWdTdHJpbmcpIHJldHVybiB0aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKHRoaXMpXG4gICAgcmV0dXJuIHdyYXBNYXJrcyh0aGlzLm1hcmtzLCBKU09OLnN0cmluZ2lmeSh0aGlzLnRleHQpKVxuICB9XG5cbiAgZ2V0IHRleHRDb250ZW50KCkgeyByZXR1cm4gdGhpcy50ZXh0IH1cblxuICB0ZXh0QmV0d2Vlbihmcm9tLCB0bykgeyByZXR1cm4gdGhpcy50ZXh0LnNsaWNlKGZyb20sIHRvKSB9XG5cbiAgZ2V0IG5vZGVTaXplKCkgeyByZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aCB9XG5cbiAgbWFyayhtYXJrcykge1xuICAgIHJldHVybiBtYXJrcyA9PSB0aGlzLm1hcmtzID8gdGhpcyA6IG5ldyBUZXh0Tm9kZSh0aGlzLnR5cGUsIHRoaXMuYXR0cnMsIHRoaXMudGV4dCwgbWFya3MpXG4gIH1cblxuICB3aXRoVGV4dCh0ZXh0KSB7XG4gICAgaWYgKHRleHQgPT0gdGhpcy50ZXh0KSByZXR1cm4gdGhpc1xuICAgIHJldHVybiBuZXcgVGV4dE5vZGUodGhpcy50eXBlLCB0aGlzLmF0dHJzLCB0ZXh0LCB0aGlzLm1hcmtzKVxuICB9XG5cbiAgY3V0KGZyb20gPSAwLCB0byA9IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICBpZiAoZnJvbSA9PSAwICYmIHRvID09IHRoaXMudGV4dC5sZW5ndGgpIHJldHVybiB0aGlzXG4gICAgcmV0dXJuIHRoaXMud2l0aFRleHQodGhpcy50ZXh0LnNsaWNlKGZyb20sIHRvKSlcbiAgfVxuXG4gIGVxKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuc2FtZU1hcmt1cChvdGhlcikgJiYgdGhpcy50ZXh0ID09IG90aGVyLnRleHRcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICBsZXQgYmFzZSA9IHN1cGVyLnRvSlNPTigpXG4gICAgYmFzZS50ZXh0ID0gdGhpcy50ZXh0XG4gICAgcmV0dXJuIGJhc2VcbiAgfVxufVxuXG5mdW5jdGlvbiB3cmFwTWFya3MobWFya3MsIHN0cikge1xuICBmb3IgKGxldCBpID0gbWFya3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgc3RyID0gbWFya3NbaV0udHlwZS5uYW1lICsgXCIoXCIgKyBzdHIgKyBcIilcIlxuICByZXR1cm4gc3RyXG59XG4iLCJpbXBvcnQge0ZyYWdtZW50fSBmcm9tIFwiLi9mcmFnbWVudFwiXG5cbi8vIDo6LSBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyByZXByZXNlbnQgYSBtYXRjaCBzdGF0ZSBvZiBhIG5vZGVcbi8vIHR5cGUncyBbY29udGVudCBleHByZXNzaW9uXSgjbW9kZWwuTm9kZVNwZWMuY29udGVudCksIGFuZCBjYW4gYmVcbi8vIHVzZWQgdG8gZmluZCBvdXQgd2hldGhlciBmdXJ0aGVyIGNvbnRlbnQgbWF0Y2hlcyBoZXJlLCBhbmQgd2hldGhlclxuLy8gYSBnaXZlbiBwb3NpdGlvbiBpcyBhIHZhbGlkIGVuZCBvZiB0aGUgbm9kZS5cbmV4cG9ydCBjbGFzcyBDb250ZW50TWF0Y2gge1xuICBjb25zdHJ1Y3Rvcih2YWxpZEVuZCkge1xuICAgIC8vIDo6IGJvb2xcbiAgICAvLyBUcnVlIHdoZW4gdGhpcyBtYXRjaCBzdGF0ZSByZXByZXNlbnRzIGEgdmFsaWQgZW5kIG9mIHRoZSBub2RlLlxuICAgIHRoaXMudmFsaWRFbmQgPSB2YWxpZEVuZFxuICAgIHRoaXMubmV4dCA9IFtdXG4gICAgdGhpcy53cmFwQ2FjaGUgPSBbXVxuICB9XG5cbiAgc3RhdGljIHBhcnNlKHN0cmluZywgbm9kZVR5cGVzKSB7XG4gICAgbGV0IHN0cmVhbSA9IG5ldyBUb2tlblN0cmVhbShzdHJpbmcsIG5vZGVUeXBlcylcbiAgICBpZiAoc3RyZWFtLm5leHQgPT0gbnVsbCkgcmV0dXJuIENvbnRlbnRNYXRjaC5lbXB0eVxuICAgIGxldCBleHByID0gcGFyc2VFeHByKHN0cmVhbSlcbiAgICBpZiAoc3RyZWFtLm5leHQpIHN0cmVhbS5lcnIoXCJVbmV4cGVjdGVkIHRyYWlsaW5nIHRleHRcIilcbiAgICBsZXQgbWF0Y2ggPSBkZmEobmZhKGV4cHIpKVxuICAgIGNoZWNrRm9yRGVhZEVuZHMobWF0Y2gsIHN0cmVhbSlcbiAgICByZXR1cm4gbWF0Y2hcbiAgfVxuXG4gIC8vIDo6IChOb2RlVHlwZSkg4oaSID9Db250ZW50TWF0Y2hcbiAgLy8gTWF0Y2ggYSBub2RlIHR5cGUsIHJldHVybmluZyBhIG1hdGNoIGFmdGVyIHRoYXQgbm9kZSBpZlxuICAvLyBzdWNjZXNzZnVsLlxuICBtYXRjaFR5cGUodHlwZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uZXh0Lmxlbmd0aDsgaSArPSAyKVxuICAgICAgaWYgKHRoaXMubmV4dFtpXSA9PSB0eXBlKSByZXR1cm4gdGhpcy5uZXh0W2kgKyAxXVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvLyA6OiAoRnJhZ21lbnQsID9udW1iZXIsID9udW1iZXIpIOKGkiA/Q29udGVudE1hdGNoXG4gIC8vIFRyeSB0byBtYXRjaCBhIGZyYWdtZW50LiBSZXR1cm5zIHRoZSByZXN1bHRpbmcgbWF0Y2ggd2hlblxuICAvLyBzdWNjZXNzZnVsLlxuICBtYXRjaEZyYWdtZW50KGZyYWcsIHN0YXJ0ID0gMCwgZW5kID0gZnJhZy5jaGlsZENvdW50KSB7XG4gICAgbGV0IGN1ciA9IHRoaXNcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGN1ciAmJiBpIDwgZW5kOyBpKyspXG4gICAgICBjdXIgPSBjdXIubWF0Y2hUeXBlKGZyYWcuY2hpbGQoaSkudHlwZSlcbiAgICByZXR1cm4gY3VyXG4gIH1cblxuICBnZXQgaW5saW5lQ29udGVudCgpIHtcbiAgICBsZXQgZmlyc3QgPSB0aGlzLm5leHRbMF1cbiAgICByZXR1cm4gZmlyc3QgPyBmaXJzdC5pc0lubGluZSA6IGZhbHNlXG4gIH1cblxuICAvLyA6OiA/Tm9kZVR5cGVcbiAgLy8gR2V0IHRoZSBmaXJzdCBtYXRjaGluZyBub2RlIHR5cGUgYXQgdGhpcyBtYXRjaCBwb3NpdGlvbiB0aGF0IGNhblxuICAvLyBiZSBnZW5lcmF0ZWQuXG4gIGdldCBkZWZhdWx0VHlwZSgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubmV4dC5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgbGV0IHR5cGUgPSB0aGlzLm5leHRbaV1cbiAgICAgIGlmICghKHR5cGUuaXNUZXh0IHx8IHR5cGUuaGFzUmVxdWlyZWRBdHRycygpKSkgcmV0dXJuIHR5cGVcbiAgICB9XG4gIH1cblxuICBjb21wYXRpYmxlKG90aGVyKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5leHQubGVuZ3RoOyBpICs9IDIpXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG90aGVyLm5leHQubGVuZ3RoOyBqICs9IDIpXG4gICAgICAgIGlmICh0aGlzLm5leHRbaV0gPT0gb3RoZXIubmV4dFtqXSkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIDo6IChGcmFnbWVudCwgYm9vbCwgP251bWJlcikg4oaSID9GcmFnbWVudFxuICAvLyBUcnkgdG8gbWF0Y2ggdGhlIGdpdmVuIGZyYWdtZW50LCBhbmQgaWYgdGhhdCBmYWlscywgc2VlIGlmIGl0IGNhblxuICAvLyBiZSBtYWRlIHRvIG1hdGNoIGJ5IGluc2VydGluZyBub2RlcyBpbiBmcm9udCBvZiBpdC4gV2hlblxuICAvLyBzdWNjZXNzZnVsLCByZXR1cm4gYSBmcmFnbWVudCBvZiBpbnNlcnRlZCBub2RlcyAod2hpY2ggbWF5IGJlXG4gIC8vIGVtcHR5IGlmIG5vdGhpbmcgaGFkIHRvIGJlIGluc2VydGVkKS4gV2hlbiBgdG9FbmRgIGlzIHRydWUsIG9ubHlcbiAgLy8gcmV0dXJuIGEgZnJhZ21lbnQgaWYgdGhlIHJlc3VsdGluZyBtYXRjaCBnb2VzIHRvIHRoZSBlbmQgb2YgdGhlXG4gIC8vIGNvbnRlbnQgZXhwcmVzc2lvbi5cbiAgZmlsbEJlZm9yZShhZnRlciwgdG9FbmQgPSBmYWxzZSwgc3RhcnRJbmRleCA9IDApIHtcbiAgICBsZXQgc2VlbiA9IFt0aGlzXVxuICAgIGZ1bmN0aW9uIHNlYXJjaChtYXRjaCwgdHlwZXMpIHtcbiAgICAgIGxldCBmaW5pc2hlZCA9IG1hdGNoLm1hdGNoRnJhZ21lbnQoYWZ0ZXIsIHN0YXJ0SW5kZXgpXG4gICAgICBpZiAoZmluaXNoZWQgJiYgKCF0b0VuZCB8fCBmaW5pc2hlZC52YWxpZEVuZCkpXG4gICAgICAgIHJldHVybiBGcmFnbWVudC5mcm9tKHR5cGVzLm1hcCh0cCA9PiB0cC5jcmVhdGVBbmRGaWxsKCkpKVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGNoLm5leHQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgbGV0IHR5cGUgPSBtYXRjaC5uZXh0W2ldLCBuZXh0ID0gbWF0Y2gubmV4dFtpICsgMV1cbiAgICAgICAgaWYgKCEodHlwZS5pc1RleHQgfHwgdHlwZS5oYXNSZXF1aXJlZEF0dHJzKCkpICYmIHNlZW4uaW5kZXhPZihuZXh0KSA9PSAtMSkge1xuICAgICAgICAgIHNlZW4ucHVzaChuZXh0KVxuICAgICAgICAgIGxldCBmb3VuZCA9IHNlYXJjaChuZXh0LCB0eXBlcy5jb25jYXQodHlwZSkpXG4gICAgICAgICAgaWYgKGZvdW5kKSByZXR1cm4gZm91bmRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZWFyY2godGhpcywgW10pXG4gIH1cblxuICAvLyA6OiAoTm9kZVR5cGUpIOKGkiA/W05vZGVUeXBlXVxuICAvLyBGaW5kIGEgc2V0IG9mIHdyYXBwaW5nIG5vZGUgdHlwZXMgdGhhdCB3b3VsZCBhbGxvdyBhIG5vZGUgb2YgdGhlXG4gIC8vIGdpdmVuIHR5cGUgdG8gYXBwZWFyIGF0IHRoaXMgcG9zaXRpb24uIFRoZSByZXN1bHQgbWF5IGJlIGVtcHR5XG4gIC8vICh3aGVuIGl0IGZpdHMgZGlyZWN0bHkpIGFuZCB3aWxsIGJlIG51bGwgd2hlbiBubyBzdWNoIHdyYXBwaW5nXG4gIC8vIGV4aXN0cy5cbiAgZmluZFdyYXBwaW5nKHRhcmdldCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53cmFwQ2FjaGUubGVuZ3RoOyBpICs9IDIpXG4gICAgICBpZiAodGhpcy53cmFwQ2FjaGVbaV0gPT0gdGFyZ2V0KSByZXR1cm4gdGhpcy53cmFwQ2FjaGVbaSArIDFdXG4gICAgbGV0IGNvbXB1dGVkID0gdGhpcy5jb21wdXRlV3JhcHBpbmcodGFyZ2V0KVxuICAgIHRoaXMud3JhcENhY2hlLnB1c2godGFyZ2V0LCBjb21wdXRlZClcbiAgICByZXR1cm4gY29tcHV0ZWRcbiAgfVxuXG4gIGNvbXB1dGVXcmFwcGluZyh0YXJnZXQpIHtcbiAgICBsZXQgc2VlbiA9IE9iamVjdC5jcmVhdGUobnVsbCksIGFjdGl2ZSA9IFt7bWF0Y2g6IHRoaXMsIHR5cGU6IG51bGwsIHZpYTogbnVsbH1dXG4gICAgd2hpbGUgKGFjdGl2ZS5sZW5ndGgpIHtcbiAgICAgIGxldCBjdXJyZW50ID0gYWN0aXZlLnNoaWZ0KCksIG1hdGNoID0gY3VycmVudC5tYXRjaFxuICAgICAgaWYgKG1hdGNoLm1hdGNoVHlwZSh0YXJnZXQpKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXVxuICAgICAgICBmb3IgKGxldCBvYmogPSBjdXJyZW50OyBvYmoudHlwZTsgb2JqID0gb2JqLnZpYSlcbiAgICAgICAgICByZXN1bHQucHVzaChvYmoudHlwZSlcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXZlcnNlKClcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2gubmV4dC5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBsZXQgdHlwZSA9IG1hdGNoLm5leHRbaV1cbiAgICAgICAgaWYgKCF0eXBlLmlzTGVhZiAmJiAhdHlwZS5oYXNSZXF1aXJlZEF0dHJzKCkgJiYgISh0eXBlLm5hbWUgaW4gc2VlbikgJiYgKCFjdXJyZW50LnR5cGUgfHwgbWF0Y2gubmV4dFtpICsgMV0udmFsaWRFbmQpKSB7XG4gICAgICAgICAgYWN0aXZlLnB1c2goe21hdGNoOiB0eXBlLmNvbnRlbnRNYXRjaCwgdHlwZSwgdmlhOiBjdXJyZW50fSlcbiAgICAgICAgICBzZWVuW3R5cGUubmFtZV0gPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyA6OiBudW1iZXJcbiAgLy8gVGhlIG51bWJlciBvZiBvdXRnb2luZyBlZGdlcyB0aGlzIG5vZGUgaGFzIGluIHRoZSBmaW5pdGVcbiAgLy8gYXV0b21hdG9uIHRoYXQgZGVzY3JpYmVzIHRoZSBjb250ZW50IGV4cHJlc3Npb24uXG4gIGdldCBlZGdlQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubmV4dC5sZW5ndGggPj4gMVxuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSIHt0eXBlOiBOb2RlVHlwZSwgbmV4dDogQ29udGVudE1hdGNofVxuICAvLyBHZXQgdGhlIF9uX+KAi3RoIG91dGdvaW5nIGVkZ2UgZnJvbSB0aGlzIG5vZGUgaW4gdGhlIGZpbml0ZVxuICAvLyBhdXRvbWF0b24gdGhhdCBkZXNjcmliZXMgdGhlIGNvbnRlbnQgZXhwcmVzc2lvbi5cbiAgZWRnZShuKSB7XG4gICAgbGV0IGkgPSBuIDw8IDFcbiAgICBpZiAoaSA+PSB0aGlzLm5leHQubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgVGhlcmUncyBubyAke259dGggZWRnZSBpbiB0aGlzIGNvbnRlbnQgbWF0Y2hgKVxuICAgIHJldHVybiB7dHlwZTogdGhpcy5uZXh0W2ldLCBuZXh0OiB0aGlzLm5leHRbaSArIDFdfVxuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgbGV0IHNlZW4gPSBbXVxuICAgIGZ1bmN0aW9uIHNjYW4obSkge1xuICAgICAgc2Vlbi5wdXNoKG0pXG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IG0ubmV4dC5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAgaWYgKHNlZW4uaW5kZXhPZihtLm5leHRbaV0pID09IC0xKSBzY2FuKG0ubmV4dFtpXSlcbiAgICB9XG4gICAgc2Nhbih0aGlzKVxuICAgIHJldHVybiBzZWVuLm1hcCgobSwgaSkgPT4ge1xuICAgICAgbGV0IG91dCA9IGkgKyAobS52YWxpZEVuZCA/IFwiKlwiIDogXCIgXCIpICsgXCIgXCJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbS5uZXh0Lmxlbmd0aDsgaSArPSAyKVxuICAgICAgICBvdXQgKz0gKGkgPyBcIiwgXCIgOiBcIlwiKSArIG0ubmV4dFtpXS5uYW1lICsgXCItPlwiICsgc2Vlbi5pbmRleE9mKG0ubmV4dFtpICsgMV0pXG4gICAgICByZXR1cm4gb3V0XG4gICAgfSkuam9pbihcIlxcblwiKVxuICB9XG59XG5cbkNvbnRlbnRNYXRjaC5lbXB0eSA9IG5ldyBDb250ZW50TWF0Y2godHJ1ZSlcblxuY2xhc3MgVG9rZW5TdHJlYW0ge1xuICBjb25zdHJ1Y3RvcihzdHJpbmcsIG5vZGVUeXBlcykge1xuICAgIHRoaXMuc3RyaW5nID0gc3RyaW5nXG4gICAgdGhpcy5ub2RlVHlwZXMgPSBub2RlVHlwZXNcbiAgICB0aGlzLmlubGluZSA9IG51bGxcbiAgICB0aGlzLnBvcyA9IDBcbiAgICB0aGlzLnRva2VucyA9IHN0cmluZy5zcGxpdCgvXFxzKig/PVxcYnxcXFd8JCkvKVxuICAgIGlmICh0aGlzLnRva2Vuc1t0aGlzLnRva2Vucy5sZW5ndGggLSAxXSA9PSBcIlwiKSB0aGlzLnRva2Vucy5wb3AoKVxuICAgIGlmICh0aGlzLnRva2Vuc1swXSA9PSBcIlwiKSB0aGlzLnRva2Vucy51bnNoaWZ0KClcbiAgfVxuXG4gIGdldCBuZXh0KCkgeyByZXR1cm4gdGhpcy50b2tlbnNbdGhpcy5wb3NdIH1cblxuICBlYXQodG9rKSB7IHJldHVybiB0aGlzLm5leHQgPT0gdG9rICYmICh0aGlzLnBvcysrIHx8IHRydWUpIH1cblxuICBlcnIoc3RyKSB7IHRocm93IG5ldyBTeW50YXhFcnJvcihzdHIgKyBcIiAoaW4gY29udGVudCBleHByZXNzaW9uICdcIiArIHRoaXMuc3RyaW5nICsgXCInKVwiKSB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlRXhwcihzdHJlYW0pIHtcbiAgbGV0IGV4cHJzID0gW11cbiAgZG8geyBleHBycy5wdXNoKHBhcnNlRXhwclNlcShzdHJlYW0pKSB9XG4gIHdoaWxlIChzdHJlYW0uZWF0KFwifFwiKSlcbiAgcmV0dXJuIGV4cHJzLmxlbmd0aCA9PSAxID8gZXhwcnNbMF0gOiB7dHlwZTogXCJjaG9pY2VcIiwgZXhwcnN9XG59XG5cbmZ1bmN0aW9uIHBhcnNlRXhwclNlcShzdHJlYW0pIHtcbiAgbGV0IGV4cHJzID0gW11cbiAgZG8geyBleHBycy5wdXNoKHBhcnNlRXhwclN1YnNjcmlwdChzdHJlYW0pKSB9XG4gIHdoaWxlIChzdHJlYW0ubmV4dCAmJiBzdHJlYW0ubmV4dCAhPSBcIilcIiAmJiBzdHJlYW0ubmV4dCAhPSBcInxcIilcbiAgcmV0dXJuIGV4cHJzLmxlbmd0aCA9PSAxID8gZXhwcnNbMF0gOiB7dHlwZTogXCJzZXFcIiwgZXhwcnN9XG59XG5cbmZ1bmN0aW9uIHBhcnNlRXhwclN1YnNjcmlwdChzdHJlYW0pIHtcbiAgbGV0IGV4cHIgPSBwYXJzZUV4cHJBdG9tKHN0cmVhbSlcbiAgZm9yICg7Oykge1xuICAgIGlmIChzdHJlYW0uZWF0KFwiK1wiKSlcbiAgICAgIGV4cHIgPSB7dHlwZTogXCJwbHVzXCIsIGV4cHJ9XG4gICAgZWxzZSBpZiAoc3RyZWFtLmVhdChcIipcIikpXG4gICAgICBleHByID0ge3R5cGU6IFwic3RhclwiLCBleHByfVxuICAgIGVsc2UgaWYgKHN0cmVhbS5lYXQoXCI/XCIpKVxuICAgICAgZXhwciA9IHt0eXBlOiBcIm9wdFwiLCBleHByfVxuICAgIGVsc2UgaWYgKHN0cmVhbS5lYXQoXCJ7XCIpKVxuICAgICAgZXhwciA9IHBhcnNlRXhwclJhbmdlKHN0cmVhbSwgZXhwcilcbiAgICBlbHNlIGJyZWFrXG4gIH1cbiAgcmV0dXJuIGV4cHJcbn1cblxuZnVuY3Rpb24gcGFyc2VOdW0oc3RyZWFtKSB7XG4gIGlmICgvXFxELy50ZXN0KHN0cmVhbS5uZXh0KSkgc3RyZWFtLmVycihcIkV4cGVjdGVkIG51bWJlciwgZ290ICdcIiArIHN0cmVhbS5uZXh0ICsgXCInXCIpXG4gIGxldCByZXN1bHQgPSBOdW1iZXIoc3RyZWFtLm5leHQpXG4gIHN0cmVhbS5wb3MrK1xuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIHBhcnNlRXhwclJhbmdlKHN0cmVhbSwgZXhwcikge1xuICBsZXQgbWluID0gcGFyc2VOdW0oc3RyZWFtKSwgbWF4ID0gbWluXG4gIGlmIChzdHJlYW0uZWF0KFwiLFwiKSkge1xuICAgIGlmIChzdHJlYW0ubmV4dCAhPSBcIn1cIikgbWF4ID0gcGFyc2VOdW0oc3RyZWFtKVxuICAgIGVsc2UgbWF4ID0gLTFcbiAgfVxuICBpZiAoIXN0cmVhbS5lYXQoXCJ9XCIpKSBzdHJlYW0uZXJyKFwiVW5jbG9zZWQgYnJhY2VkIHJhbmdlXCIpXG4gIHJldHVybiB7dHlwZTogXCJyYW5nZVwiLCBtaW4sIG1heCwgZXhwcn1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZU5hbWUoc3RyZWFtLCBuYW1lKSB7XG4gIGxldCB0eXBlcyA9IHN0cmVhbS5ub2RlVHlwZXMsIHR5cGUgPSB0eXBlc1tuYW1lXVxuICBpZiAodHlwZSkgcmV0dXJuIFt0eXBlXVxuICBsZXQgcmVzdWx0ID0gW11cbiAgZm9yIChsZXQgdHlwZU5hbWUgaW4gdHlwZXMpIHtcbiAgICBsZXQgdHlwZSA9IHR5cGVzW3R5cGVOYW1lXVxuICAgIGlmICh0eXBlLmdyb3Vwcy5pbmRleE9mKG5hbWUpID4gLTEpIHJlc3VsdC5wdXNoKHR5cGUpXG4gIH1cbiAgaWYgKHJlc3VsdC5sZW5ndGggPT0gMCkgc3RyZWFtLmVycihcIk5vIG5vZGUgdHlwZSBvciBncm91cCAnXCIgKyBuYW1lICsgXCInIGZvdW5kXCIpXG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gcGFyc2VFeHByQXRvbShzdHJlYW0pIHtcbiAgaWYgKHN0cmVhbS5lYXQoXCIoXCIpKSB7XG4gICAgbGV0IGV4cHIgPSBwYXJzZUV4cHIoc3RyZWFtKVxuICAgIGlmICghc3RyZWFtLmVhdChcIilcIikpIHN0cmVhbS5lcnIoXCJNaXNzaW5nIGNsb3NpbmcgcGFyZW5cIilcbiAgICByZXR1cm4gZXhwclxuICB9IGVsc2UgaWYgKCEvXFxXLy50ZXN0KHN0cmVhbS5uZXh0KSkge1xuICAgIGxldCBleHBycyA9IHJlc29sdmVOYW1lKHN0cmVhbSwgc3RyZWFtLm5leHQpLm1hcCh0eXBlID0+IHtcbiAgICAgIGlmIChzdHJlYW0uaW5saW5lID09IG51bGwpIHN0cmVhbS5pbmxpbmUgPSB0eXBlLmlzSW5saW5lXG4gICAgICBlbHNlIGlmIChzdHJlYW0uaW5saW5lICE9IHR5cGUuaXNJbmxpbmUpIHN0cmVhbS5lcnIoXCJNaXhpbmcgaW5saW5lIGFuZCBibG9jayBjb250ZW50XCIpXG4gICAgICByZXR1cm4ge3R5cGU6IFwibmFtZVwiLCB2YWx1ZTogdHlwZX1cbiAgICB9KVxuICAgIHN0cmVhbS5wb3MrK1xuICAgIHJldHVybiBleHBycy5sZW5ndGggPT0gMSA/IGV4cHJzWzBdIDoge3R5cGU6IFwiY2hvaWNlXCIsIGV4cHJzfVxuICB9IGVsc2Uge1xuICAgIHN0cmVhbS5lcnIoXCJVbmV4cGVjdGVkIHRva2VuICdcIiArIHN0cmVhbS5uZXh0ICsgXCInXCIpXG4gIH1cbn1cblxuLy8gVGhlIGNvZGUgYmVsb3cgaGVscHMgY29tcGlsZSBhIHJlZ3VsYXItZXhwcmVzc2lvbi1saWtlIGxhbmd1YWdlXG4vLyBpbnRvIGEgZGV0ZXJtaW5pc3RpYyBmaW5pdGUgYXV0b21hdG9uLiBGb3IgYSBnb29kIGludHJvZHVjdGlvbiB0b1xuLy8gdGhlc2UgY29uY2VwdHMsIHNlZSBodHRwczovL3N3dGNoLmNvbS9+cnNjL3JlZ2V4cC9yZWdleHAxLmh0bWxcblxuLy8gOiAoT2JqZWN0KSDihpIgW1t7dGVybTogP2FueSwgdG86IG51bWJlcn1dXVxuLy8gQ29uc3RydWN0IGFuIE5GQSBmcm9tIGFuIGV4cHJlc3Npb24gYXMgcmV0dXJuZWQgYnkgdGhlIHBhcnNlci4gVGhlXG4vLyBORkEgaXMgcmVwcmVzZW50ZWQgYXMgYW4gYXJyYXkgb2Ygc3RhdGVzLCB3aGljaCBhcmUgdGhlbXNlbHZlc1xuLy8gYXJyYXlzIG9mIGVkZ2VzLCB3aGljaCBhcmUgYHt0ZXJtLCB0b31gIG9iamVjdHMuIFRoZSBmaXJzdCBzdGF0ZSBpc1xuLy8gdGhlIGVudHJ5IHN0YXRlIGFuZCB0aGUgbGFzdCBub2RlIGlzIHRoZSBzdWNjZXNzIHN0YXRlLlxuLy9cbi8vIE5vdGUgdGhhdCB1bmxpa2UgdHlwaWNhbCBORkFzLCB0aGUgZWRnZSBvcmRlcmluZyBpbiB0aGlzIG9uZSBpc1xuLy8gc2lnbmlmaWNhbnQsIGluIHRoYXQgaXQgaXMgdXNlZCB0byBjb250cnVjdCBmaWxsZXIgY29udGVudCB3aGVuXG4vLyBuZWNlc3NhcnkuXG5mdW5jdGlvbiBuZmEoZXhwcikge1xuICBsZXQgbmZhID0gW1tdXVxuICBjb25uZWN0KGNvbXBpbGUoZXhwciwgMCksIG5vZGUoKSlcbiAgcmV0dXJuIG5mYVxuXG4gIGZ1bmN0aW9uIG5vZGUoKSB7IHJldHVybiBuZmEucHVzaChbXSkgLSAxIH1cbiAgZnVuY3Rpb24gZWRnZShmcm9tLCB0bywgdGVybSkge1xuICAgIGxldCBlZGdlID0ge3Rlcm0sIHRvfVxuICAgIG5mYVtmcm9tXS5wdXNoKGVkZ2UpXG4gICAgcmV0dXJuIGVkZ2VcbiAgfVxuICBmdW5jdGlvbiBjb25uZWN0KGVkZ2VzLCB0bykgeyBlZGdlcy5mb3JFYWNoKGVkZ2UgPT4gZWRnZS50byA9IHRvKSB9XG5cbiAgZnVuY3Rpb24gY29tcGlsZShleHByLCBmcm9tKSB7XG4gICAgaWYgKGV4cHIudHlwZSA9PSBcImNob2ljZVwiKSB7XG4gICAgICByZXR1cm4gZXhwci5leHBycy5yZWR1Y2UoKG91dCwgZXhwcikgPT4gb3V0LmNvbmNhdChjb21waWxlKGV4cHIsIGZyb20pKSwgW10pXG4gICAgfSBlbHNlIGlmIChleHByLnR5cGUgPT0gXCJzZXFcIikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7OyBpKyspIHtcbiAgICAgICAgbGV0IG5leHQgPSBjb21waWxlKGV4cHIuZXhwcnNbaV0sIGZyb20pXG4gICAgICAgIGlmIChpID09IGV4cHIuZXhwcnMubGVuZ3RoIC0gMSkgcmV0dXJuIG5leHRcbiAgICAgICAgY29ubmVjdChuZXh0LCBmcm9tID0gbm9kZSgpKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZXhwci50eXBlID09IFwic3RhclwiKSB7XG4gICAgICBsZXQgbG9vcCA9IG5vZGUoKVxuICAgICAgZWRnZShmcm9tLCBsb29wKVxuICAgICAgY29ubmVjdChjb21waWxlKGV4cHIuZXhwciwgbG9vcCksIGxvb3ApXG4gICAgICByZXR1cm4gW2VkZ2UobG9vcCldXG4gICAgfSBlbHNlIGlmIChleHByLnR5cGUgPT0gXCJwbHVzXCIpIHtcbiAgICAgIGxldCBsb29wID0gbm9kZSgpXG4gICAgICBjb25uZWN0KGNvbXBpbGUoZXhwci5leHByLCBmcm9tKSwgbG9vcClcbiAgICAgIGNvbm5lY3QoY29tcGlsZShleHByLmV4cHIsIGxvb3ApLCBsb29wKVxuICAgICAgcmV0dXJuIFtlZGdlKGxvb3ApXVxuICAgIH0gZWxzZSBpZiAoZXhwci50eXBlID09IFwib3B0XCIpIHtcbiAgICAgIHJldHVybiBbZWRnZShmcm9tKV0uY29uY2F0KGNvbXBpbGUoZXhwci5leHByLCBmcm9tKSlcbiAgICB9IGVsc2UgaWYgKGV4cHIudHlwZSA9PSBcInJhbmdlXCIpIHtcbiAgICAgIGxldCBjdXIgPSBmcm9tXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4cHIubWluOyBpKyspIHtcbiAgICAgICAgbGV0IG5leHQgPSBub2RlKClcbiAgICAgICAgY29ubmVjdChjb21waWxlKGV4cHIuZXhwciwgY3VyKSwgbmV4dClcbiAgICAgICAgY3VyID0gbmV4dFxuICAgICAgfVxuICAgICAgaWYgKGV4cHIubWF4ID09IC0xKSB7XG4gICAgICAgIGNvbm5lY3QoY29tcGlsZShleHByLmV4cHIsIGN1ciksIGN1cilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBleHByLm1pbjsgaSA8IGV4cHIubWF4OyBpKyspIHtcbiAgICAgICAgICBsZXQgbmV4dCA9IG5vZGUoKVxuICAgICAgICAgIGVkZ2UoY3VyLCBuZXh0KVxuICAgICAgICAgIGNvbm5lY3QoY29tcGlsZShleHByLmV4cHIsIGN1ciksIG5leHQpXG4gICAgICAgICAgY3VyID0gbmV4dFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gW2VkZ2UoY3VyKV1cbiAgICB9IGVsc2UgaWYgKGV4cHIudHlwZSA9PSBcIm5hbWVcIikge1xuICAgICAgcmV0dXJuIFtlZGdlKGZyb20sIG51bGwsIGV4cHIudmFsdWUpXVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjbXAoYSwgYikgeyByZXR1cm4gYiAtIGEgfVxuXG4vLyBHZXQgdGhlIHNldCBvZiBub2RlcyByZWFjaGFibGUgYnkgbnVsbCBlZGdlcyBmcm9tIGBub2RlYC4gT21pdFxuLy8gbm9kZXMgd2l0aCBvbmx5IGEgc2luZ2xlIG51bGwtb3V0LWVkZ2UsIHNpbmNlIHRoZXkgbWF5IGxlYWQgdG9cbi8vIG5lZWRsZXNzIGR1cGxpY2F0ZWQgbm9kZXMuXG5mdW5jdGlvbiBudWxsRnJvbShuZmEsIG5vZGUpIHtcbiAgbGV0IHJlc3VsdCA9IFtdXG4gIHNjYW4obm9kZSlcbiAgcmV0dXJuIHJlc3VsdC5zb3J0KGNtcClcblxuICBmdW5jdGlvbiBzY2FuKG5vZGUpIHtcbiAgICBsZXQgZWRnZXMgPSBuZmFbbm9kZV1cbiAgICBpZiAoZWRnZXMubGVuZ3RoID09IDEgJiYgIWVkZ2VzWzBdLnRlcm0pIHJldHVybiBzY2FuKGVkZ2VzWzBdLnRvKVxuICAgIHJlc3VsdC5wdXNoKG5vZGUpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZGdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHt0ZXJtLCB0b30gPSBlZGdlc1tpXVxuICAgICAgaWYgKCF0ZXJtICYmIHJlc3VsdC5pbmRleE9mKHRvKSA9PSAtMSkgc2Nhbih0bylcbiAgICB9XG4gIH1cbn1cblxuLy8gOiAoW1t7dGVybTogP2FueSwgdG86IG51bWJlcn1dXSkg4oaSIENvbnRlbnRNYXRjaFxuLy8gQ29tcGlsZXMgYW4gTkZBIGFzIHByb2R1Y2VkIGJ5IGBuZmFgIGludG8gYSBERkEsIG1vZGVsZWQgYXMgYSBzZXRcbi8vIG9mIHN0YXRlIG9iamVjdHMgKGBDb250ZW50TWF0Y2hgIGluc3RhbmNlcykgd2l0aCB0cmFuc2l0aW9uc1xuLy8gYmV0d2VlbiB0aGVtLlxuZnVuY3Rpb24gZGZhKG5mYSkge1xuICBsZXQgbGFiZWxlZCA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgcmV0dXJuIGV4cGxvcmUobnVsbEZyb20obmZhLCAwKSlcblxuICBmdW5jdGlvbiBleHBsb3JlKHN0YXRlcykge1xuICAgIGxldCBvdXQgPSBbXVxuICAgIHN0YXRlcy5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgbmZhW25vZGVdLmZvckVhY2goKHt0ZXJtLCB0b30pID0+IHtcbiAgICAgICAgaWYgKCF0ZXJtKSByZXR1cm5cbiAgICAgICAgbGV0IGtub3duID0gb3V0LmluZGV4T2YodGVybSksIHNldCA9IGtub3duID4gLTEgJiYgb3V0W2tub3duICsgMV1cbiAgICAgICAgbnVsbEZyb20obmZhLCB0bykuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICBpZiAoIXNldCkgb3V0LnB1c2godGVybSwgc2V0ID0gW10pXG4gICAgICAgICAgaWYgKHNldC5pbmRleE9mKG5vZGUpID09IC0xKSBzZXQucHVzaChub2RlKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuICAgIGxldCBzdGF0ZSA9IGxhYmVsZWRbc3RhdGVzLmpvaW4oXCIsXCIpXSA9IG5ldyBDb250ZW50TWF0Y2goc3RhdGVzLmluZGV4T2YobmZhLmxlbmd0aCAtIDEpID4gLTEpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIGxldCBzdGF0ZXMgPSBvdXRbaSArIDFdLnNvcnQoY21wKVxuICAgICAgc3RhdGUubmV4dC5wdXNoKG91dFtpXSwgbGFiZWxlZFtzdGF0ZXMuam9pbihcIixcIildIHx8IGV4cGxvcmUoc3RhdGVzKSlcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JEZWFkRW5kcyhtYXRjaCwgc3RyZWFtKSB7XG4gIGZvciAobGV0IGkgPSAwLCB3b3JrID0gW21hdGNoXTsgaSA8IHdvcmsubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgc3RhdGUgPSB3b3JrW2ldLCBkZWFkID0gIXN0YXRlLnZhbGlkRW5kLCBub2RlcyA9IFtdXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBzdGF0ZS5uZXh0Lmxlbmd0aDsgaiArPSAyKSB7XG4gICAgICBsZXQgbm9kZSA9IHN0YXRlLm5leHRbal0sIG5leHQgPSBzdGF0ZS5uZXh0W2ogKyAxXVxuICAgICAgbm9kZXMucHVzaChub2RlLm5hbWUpXG4gICAgICBpZiAoZGVhZCAmJiAhKG5vZGUuaXNUZXh0IHx8IG5vZGUuaGFzUmVxdWlyZWRBdHRycygpKSkgZGVhZCA9IGZhbHNlXG4gICAgICBpZiAod29yay5pbmRleE9mKG5leHQpID09IC0xKSB3b3JrLnB1c2gobmV4dClcbiAgICB9XG4gICAgaWYgKGRlYWQpIHN0cmVhbS5lcnIoXCJPbmx5IG5vbi1nZW5lcmF0YWJsZSBub2RlcyAoXCIgKyBub2Rlcy5qb2luKFwiLCBcIikgKyBcIikgaW4gYSByZXF1aXJlZCBwb3NpdGlvblwiKVxuICB9XG59XG4iLCJpbXBvcnQgT3JkZXJlZE1hcCBmcm9tIFwib3JkZXJlZG1hcFwiXG5cbmltcG9ydCB7Tm9kZSwgVGV4dE5vZGV9IGZyb20gXCIuL25vZGVcIlxuaW1wb3J0IHtGcmFnbWVudH0gZnJvbSBcIi4vZnJhZ21lbnRcIlxuaW1wb3J0IHtNYXJrfSBmcm9tIFwiLi9tYXJrXCJcbmltcG9ydCB7Q29udGVudE1hdGNofSBmcm9tIFwiLi9jb250ZW50XCJcblxuLy8gRm9yIG5vZGUgdHlwZXMgd2hlcmUgYWxsIGF0dHJzIGhhdmUgYSBkZWZhdWx0IHZhbHVlIChvciB3aGljaCBkb24ndFxuLy8gaGF2ZSBhbnkgYXR0cmlidXRlcyksIGJ1aWxkIHVwIGEgc2luZ2xlIHJldXNhYmxlIGRlZmF1bHQgYXR0cmlidXRlXG4vLyBvYmplY3QsIGFuZCB1c2UgaXQgZm9yIGFsbCBub2RlcyB0aGF0IGRvbid0IHNwZWNpZnkgc3BlY2lmaWNcbi8vIGF0dHJpYnV0ZXMuXG5mdW5jdGlvbiBkZWZhdWx0QXR0cnMoYXR0cnMpIHtcbiAgbGV0IGRlZmF1bHRzID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICBmb3IgKGxldCBhdHRyTmFtZSBpbiBhdHRycykge1xuICAgIGxldCBhdHRyID0gYXR0cnNbYXR0ck5hbWVdXG4gICAgaWYgKCFhdHRyLmhhc0RlZmF1bHQpIHJldHVybiBudWxsXG4gICAgZGVmYXVsdHNbYXR0ck5hbWVdID0gYXR0ci5kZWZhdWx0XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRzXG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVBdHRycyhhdHRycywgdmFsdWUpIHtcbiAgbGV0IGJ1aWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICBmb3IgKGxldCBuYW1lIGluIGF0dHJzKSB7XG4gICAgbGV0IGdpdmVuID0gdmFsdWUgJiYgdmFsdWVbbmFtZV1cbiAgICBpZiAoZ2l2ZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IGF0dHIgPSBhdHRyc1tuYW1lXVxuICAgICAgaWYgKGF0dHIuaGFzRGVmYXVsdCkgZ2l2ZW4gPSBhdHRyLmRlZmF1bHRcbiAgICAgIGVsc2UgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJObyB2YWx1ZSBzdXBwbGllZCBmb3IgYXR0cmlidXRlIFwiICsgbmFtZSlcbiAgICB9XG4gICAgYnVpbHRbbmFtZV0gPSBnaXZlblxuICB9XG4gIHJldHVybiBidWlsdFxufVxuXG5mdW5jdGlvbiBpbml0QXR0cnMoYXR0cnMpIHtcbiAgbGV0IHJlc3VsdCA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgaWYgKGF0dHJzKSBmb3IgKGxldCBuYW1lIGluIGF0dHJzKSByZXN1bHRbbmFtZV0gPSBuZXcgQXR0cmlidXRlKGF0dHJzW25hbWVdKVxuICByZXR1cm4gcmVzdWx0XG59XG5cbi8vIDo6LSBOb2RlIHR5cGVzIGFyZSBvYmplY3RzIGFsbG9jYXRlZCBvbmNlIHBlciBgU2NoZW1hYCBhbmQgdXNlZCB0b1xuLy8gW3RhZ10oI21vZGVsLk5vZGUudHlwZSkgYE5vZGVgIGluc3RhbmNlcy4gVGhleSBjb250YWluIGluZm9ybWF0aW9uXG4vLyBhYm91dCB0aGUgbm9kZSB0eXBlLCBzdWNoIGFzIGl0cyBuYW1lIGFuZCB3aGF0IGtpbmQgb2Ygbm9kZSBpdFxuLy8gcmVwcmVzZW50cy5cbmV4cG9ydCBjbGFzcyBOb2RlVHlwZSB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIHNjaGVtYSwgc3BlYykge1xuICAgIC8vIDo6IHN0cmluZ1xuICAgIC8vIFRoZSBuYW1lIHRoZSBub2RlIHR5cGUgaGFzIGluIHRoaXMgc2NoZW1hLlxuICAgIHRoaXMubmFtZSA9IG5hbWVcblxuICAgIC8vIDo6IFNjaGVtYVxuICAgIC8vIEEgbGluayBiYWNrIHRvIHRoZSBgU2NoZW1hYCB0aGUgbm9kZSB0eXBlIGJlbG9uZ3MgdG8uXG4gICAgdGhpcy5zY2hlbWEgPSBzY2hlbWFcblxuICAgIC8vIDo6IE5vZGVTcGVjXG4gICAgLy8gVGhlIHNwZWMgdGhhdCB0aGlzIHR5cGUgaXMgYmFzZWQgb25cbiAgICB0aGlzLnNwZWMgPSBzcGVjXG5cbiAgICB0aGlzLmdyb3VwcyA9IHNwZWMuZ3JvdXAgPyBzcGVjLmdyb3VwLnNwbGl0KFwiIFwiKSA6IFtdXG4gICAgdGhpcy5hdHRycyA9IGluaXRBdHRycyhzcGVjLmF0dHJzKVxuXG4gICAgdGhpcy5kZWZhdWx0QXR0cnMgPSBkZWZhdWx0QXR0cnModGhpcy5hdHRycylcblxuICAgIC8vIDo6IENvbnRlbnRNYXRjaFxuICAgIC8vIFRoZSBzdGFydGluZyBtYXRjaCBvZiB0aGUgbm9kZSB0eXBlJ3MgY29udGVudCBleHByZXNzaW9uLlxuICAgIHRoaXMuY29udGVudE1hdGNoID0gbnVsbFxuXG4gICAgLy8gOiA/W01hcmtUeXBlXVxuICAgIC8vIFRoZSBzZXQgb2YgbWFya3MgYWxsb3dlZCBpbiB0aGlzIG5vZGUuIGBudWxsYCBtZWFucyBhbGwgbWFya3NcbiAgICAvLyBhcmUgYWxsb3dlZC5cbiAgICB0aGlzLm1hcmtTZXQgPSBudWxsXG5cbiAgICAvLyA6OiBib29sXG4gICAgLy8gVHJ1ZSBpZiB0aGlzIG5vZGUgdHlwZSBoYXMgaW5saW5lIGNvbnRlbnQuXG4gICAgdGhpcy5pbmxpbmVDb250ZW50ID0gbnVsbFxuXG4gICAgLy8gOjogYm9vbFxuICAgIC8vIFRydWUgaWYgdGhpcyBpcyBhIGJsb2NrIHR5cGVcbiAgICB0aGlzLmlzQmxvY2sgPSAhKHNwZWMuaW5saW5lIHx8IG5hbWUgPT0gXCJ0ZXh0XCIpXG5cbiAgICAvLyA6OiBib29sXG4gICAgLy8gVHJ1ZSBpZiB0aGlzIGlzIHRoZSB0ZXh0IG5vZGUgdHlwZS5cbiAgICB0aGlzLmlzVGV4dCA9IG5hbWUgPT0gXCJ0ZXh0XCJcbiAgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSBpZiB0aGlzIGlzIGFuIGlubGluZSB0eXBlLlxuICBnZXQgaXNJbmxpbmUoKSB7IHJldHVybiAhdGhpcy5pc0Jsb2NrIH1cblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgaWYgdGhpcyBpcyBhIHRleHRibG9jayB0eXBlLCBhIGJsb2NrIHRoYXQgY29udGFpbnMgaW5saW5lXG4gIC8vIGNvbnRlbnQuXG4gIGdldCBpc1RleHRibG9jaygpIHsgcmV0dXJuIHRoaXMuaXNCbG9jayAmJiB0aGlzLmlubGluZUNvbnRlbnQgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSBmb3Igbm9kZSB0eXBlcyB0aGF0IGFsbG93IG5vIGNvbnRlbnQuXG4gIGdldCBpc0xlYWYoKSB7IHJldHVybiB0aGlzLmNvbnRlbnRNYXRjaCA9PSBDb250ZW50TWF0Y2guZW1wdHkgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSB3aGVuIHRoaXMgbm9kZSBpcyBhbiBhdG9tLCBpLmUuIHdoZW4gaXQgZG9lcyBub3QgaGF2ZVxuICAvLyBkaXJlY3RseSBlZGl0YWJsZSBjb250ZW50LlxuICBnZXQgaXNBdG9tKCkgeyByZXR1cm4gdGhpcy5pc0xlYWYgfHwgdGhpcy5zcGVjLmF0b20gfVxuXG4gIC8vIDo6ICgpIOKGkiBib29sXG4gIC8vIFRlbGxzIHlvdSB3aGV0aGVyIHRoaXMgbm9kZSB0eXBlIGhhcyBhbnkgcmVxdWlyZWQgYXR0cmlidXRlcy5cbiAgaGFzUmVxdWlyZWRBdHRycygpIHtcbiAgICBmb3IgKGxldCBuIGluIHRoaXMuYXR0cnMpIGlmICh0aGlzLmF0dHJzW25dLmlzUmVxdWlyZWQpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBjb21wYXRpYmxlQ29udGVudChvdGhlcikge1xuICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8IHRoaXMuY29udGVudE1hdGNoLmNvbXBhdGlibGUob3RoZXIuY29udGVudE1hdGNoKVxuICB9XG5cbiAgY29tcHV0ZUF0dHJzKGF0dHJzKSB7XG4gICAgaWYgKCFhdHRycyAmJiB0aGlzLmRlZmF1bHRBdHRycykgcmV0dXJuIHRoaXMuZGVmYXVsdEF0dHJzXG4gICAgZWxzZSByZXR1cm4gY29tcHV0ZUF0dHJzKHRoaXMuYXR0cnMsIGF0dHJzKVxuICB9XG5cbiAgLy8gOjogKD9PYmplY3QsID91bmlvbjxGcmFnbWVudCwgTm9kZSwgW05vZGVdPiwgP1tNYXJrXSkg4oaSIE5vZGVcbiAgLy8gQ3JlYXRlIGEgYE5vZGVgIG9mIHRoaXMgdHlwZS4gVGhlIGdpdmVuIGF0dHJpYnV0ZXMgYXJlXG4gIC8vIGNoZWNrZWQgYW5kIGRlZmF1bHRlZCAoeW91IGNhbiBwYXNzIGBudWxsYCB0byB1c2UgdGhlIHR5cGUnc1xuICAvLyBkZWZhdWx0cyBlbnRpcmVseSwgaWYgbm8gcmVxdWlyZWQgYXR0cmlidXRlcyBleGlzdCkuIGBjb250ZW50YFxuICAvLyBtYXkgYmUgYSBgRnJhZ21lbnRgLCBhIG5vZGUsIGFuIGFycmF5IG9mIG5vZGVzLCBvclxuICAvLyBgbnVsbGAuIFNpbWlsYXJseSBgbWFya3NgIG1heSBiZSBgbnVsbGAgdG8gZGVmYXVsdCB0byB0aGUgZW1wdHlcbiAgLy8gc2V0IG9mIG1hcmtzLlxuICBjcmVhdGUoYXR0cnMsIGNvbnRlbnQsIG1hcmtzKSB7XG4gICAgaWYgKHRoaXMuaXNUZXh0KSB0aHJvdyBuZXcgRXJyb3IoXCJOb2RlVHlwZS5jcmVhdGUgY2FuJ3QgY29uc3RydWN0IHRleHQgbm9kZXNcIilcbiAgICByZXR1cm4gbmV3IE5vZGUodGhpcywgdGhpcy5jb21wdXRlQXR0cnMoYXR0cnMpLCBGcmFnbWVudC5mcm9tKGNvbnRlbnQpLCBNYXJrLnNldEZyb20obWFya3MpKVxuICB9XG5cbiAgLy8gOjogKD9PYmplY3QsID91bmlvbjxGcmFnbWVudCwgTm9kZSwgW05vZGVdPiwgP1tNYXJrXSkg4oaSIE5vZGVcbiAgLy8gTGlrZSBbYGNyZWF0ZWBdKCNtb2RlbC5Ob2RlVHlwZS5jcmVhdGUpLCBidXQgY2hlY2sgdGhlIGdpdmVuIGNvbnRlbnRcbiAgLy8gYWdhaW5zdCB0aGUgbm9kZSB0eXBlJ3MgY29udGVudCByZXN0cmljdGlvbnMsIGFuZCB0aHJvdyBhbiBlcnJvclxuICAvLyBpZiBpdCBkb2Vzbid0IG1hdGNoLlxuICBjcmVhdGVDaGVja2VkKGF0dHJzLCBjb250ZW50LCBtYXJrcykge1xuICAgIGNvbnRlbnQgPSBGcmFnbWVudC5mcm9tKGNvbnRlbnQpXG4gICAgaWYgKCF0aGlzLnZhbGlkQ29udGVudChjb250ZW50KSlcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBjb250ZW50IGZvciBub2RlIFwiICsgdGhpcy5uYW1lKVxuICAgIHJldHVybiBuZXcgTm9kZSh0aGlzLCB0aGlzLmNvbXB1dGVBdHRycyhhdHRycyksIGNvbnRlbnQsIE1hcmsuc2V0RnJvbShtYXJrcykpXG4gIH1cblxuICAvLyA6OiAoP09iamVjdCwgP3VuaW9uPEZyYWdtZW50LCBOb2RlLCBbTm9kZV0+LCA/W01hcmtdKSDihpIgP05vZGVcbiAgLy8gTGlrZSBbYGNyZWF0ZWBdKCNtb2RlbC5Ob2RlVHlwZS5jcmVhdGUpLCBidXQgc2VlIGlmIGl0IGlzIG5lY2Vzc2FyeSB0b1xuICAvLyBhZGQgbm9kZXMgdG8gdGhlIHN0YXJ0IG9yIGVuZCBvZiB0aGUgZ2l2ZW4gZnJhZ21lbnQgdG8gbWFrZSBpdFxuICAvLyBmaXQgdGhlIG5vZGUuIElmIG5vIGZpdHRpbmcgd3JhcHBpbmcgY2FuIGJlIGZvdW5kLCByZXR1cm4gbnVsbC5cbiAgLy8gTm90ZSB0aGF0LCBkdWUgdG8gdGhlIGZhY3QgdGhhdCByZXF1aXJlZCBub2RlcyBjYW4gYWx3YXlzIGJlXG4gIC8vIGNyZWF0ZWQsIHRoaXMgd2lsbCBhbHdheXMgc3VjY2VlZCBpZiB5b3UgcGFzcyBudWxsIG9yXG4gIC8vIGBGcmFnbWVudC5lbXB0eWAgYXMgY29udGVudC5cbiAgY3JlYXRlQW5kRmlsbChhdHRycywgY29udGVudCwgbWFya3MpIHtcbiAgICBhdHRycyA9IHRoaXMuY29tcHV0ZUF0dHJzKGF0dHJzKVxuICAgIGNvbnRlbnQgPSBGcmFnbWVudC5mcm9tKGNvbnRlbnQpXG4gICAgaWYgKGNvbnRlbnQuc2l6ZSkge1xuICAgICAgbGV0IGJlZm9yZSA9IHRoaXMuY29udGVudE1hdGNoLmZpbGxCZWZvcmUoY29udGVudClcbiAgICAgIGlmICghYmVmb3JlKSByZXR1cm4gbnVsbFxuICAgICAgY29udGVudCA9IGJlZm9yZS5hcHBlbmQoY29udGVudClcbiAgICB9XG4gICAgbGV0IGFmdGVyID0gdGhpcy5jb250ZW50TWF0Y2gubWF0Y2hGcmFnbWVudChjb250ZW50KS5maWxsQmVmb3JlKEZyYWdtZW50LmVtcHR5LCB0cnVlKVxuICAgIGlmICghYWZ0ZXIpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIG5ldyBOb2RlKHRoaXMsIGF0dHJzLCBjb250ZW50LmFwcGVuZChhZnRlciksIE1hcmsuc2V0RnJvbShtYXJrcykpXG4gIH1cblxuICAvLyA6OiAoRnJhZ21lbnQpIOKGkiBib29sXG4gIC8vIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gZnJhZ21lbnQgaXMgdmFsaWQgY29udGVudCBmb3IgdGhpcyBub2RlXG4gIC8vIHR5cGUgd2l0aCB0aGUgZ2l2ZW4gYXR0cmlidXRlcy5cbiAgdmFsaWRDb250ZW50KGNvbnRlbnQpIHtcbiAgICBsZXQgcmVzdWx0ID0gdGhpcy5jb250ZW50TWF0Y2gubWF0Y2hGcmFnbWVudChjb250ZW50KVxuICAgIGlmICghcmVzdWx0IHx8ICFyZXN1bHQudmFsaWRFbmQpIHJldHVybiBmYWxzZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudC5jaGlsZENvdW50OyBpKyspXG4gICAgICBpZiAoIXRoaXMuYWxsb3dzTWFya3MoY29udGVudC5jaGlsZChpKS5tYXJrcykpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyA6OiAoTWFya1R5cGUpIOKGkiBib29sXG4gIC8vIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIG1hcmsgdHlwZSBpcyBhbGxvd2VkIGluIHRoaXMgbm9kZS5cbiAgYWxsb3dzTWFya1R5cGUobWFya1R5cGUpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJrU2V0ID09IG51bGwgfHwgdGhpcy5tYXJrU2V0LmluZGV4T2YobWFya1R5cGUpID4gLTFcbiAgfVxuXG4gIC8vIDo6IChbTWFya10pIOKGkiBib29sXG4gIC8vIFRlc3Qgd2hldGhlciB0aGUgZ2l2ZW4gc2V0IG9mIG1hcmtzIGFyZSBhbGxvd2VkIGluIHRoaXMgbm9kZS5cbiAgYWxsb3dzTWFya3MobWFya3MpIHtcbiAgICBpZiAodGhpcy5tYXJrU2V0ID09IG51bGwpIHJldHVybiB0cnVlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7IGkrKykgaWYgKCF0aGlzLmFsbG93c01hcmtUeXBlKG1hcmtzW2ldLnR5cGUpKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gOjogKFtNYXJrXSkg4oaSIFtNYXJrXVxuICAvLyBSZW1vdmVzIHRoZSBtYXJrcyB0aGF0IGFyZSBub3QgYWxsb3dlZCBpbiB0aGlzIG5vZGUgZnJvbSB0aGUgZ2l2ZW4gc2V0LlxuICBhbGxvd2VkTWFya3MobWFya3MpIHtcbiAgICBpZiAodGhpcy5tYXJrU2V0ID09IG51bGwpIHJldHVybiBtYXJrc1xuICAgIGxldCBjb3B5XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLmFsbG93c01hcmtUeXBlKG1hcmtzW2ldLnR5cGUpKSB7XG4gICAgICAgIGlmICghY29weSkgY29weSA9IG1hcmtzLnNsaWNlKDAsIGkpXG4gICAgICB9IGVsc2UgaWYgKGNvcHkpIHtcbiAgICAgICAgY29weS5wdXNoKG1hcmtzW2ldKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gIWNvcHkgPyBtYXJrcyA6IGNvcHkubGVuZ3RoID8gY29weSA6IE1hcmsuZW1wdHlcbiAgfVxuXG4gIHN0YXRpYyBjb21waWxlKG5vZGVzLCBzY2hlbWEpIHtcbiAgICBsZXQgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICAgIG5vZGVzLmZvckVhY2goKG5hbWUsIHNwZWMpID0+IHJlc3VsdFtuYW1lXSA9IG5ldyBOb2RlVHlwZShuYW1lLCBzY2hlbWEsIHNwZWMpKVxuXG4gICAgbGV0IHRvcFR5cGUgPSBzY2hlbWEuc3BlYy50b3BOb2RlIHx8IFwiZG9jXCJcbiAgICBpZiAoIXJlc3VsdFt0b3BUeXBlXSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJTY2hlbWEgaXMgbWlzc2luZyBpdHMgdG9wIG5vZGUgdHlwZSAoJ1wiICsgdG9wVHlwZSArIFwiJylcIilcbiAgICBpZiAoIXJlc3VsdC50ZXh0KSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkV2ZXJ5IHNjaGVtYSBuZWVkcyBhICd0ZXh0JyB0eXBlXCIpXG4gICAgZm9yIChsZXQgXyBpbiByZXN1bHQudGV4dC5hdHRycykgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGUgdGV4dCBub2RlIHR5cGUgc2hvdWxkIG5vdCBoYXZlIGF0dHJpYnV0ZXNcIilcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuXG4vLyBBdHRyaWJ1dGUgZGVzY3JpcHRvcnNcblxuY2xhc3MgQXR0cmlidXRlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuaGFzRGVmYXVsdCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBcImRlZmF1bHRcIilcbiAgICB0aGlzLmRlZmF1bHQgPSBvcHRpb25zLmRlZmF1bHRcbiAgfVxuXG4gIGdldCBpc1JlcXVpcmVkKCkge1xuICAgIHJldHVybiAhdGhpcy5oYXNEZWZhdWx0XG4gIH1cbn1cblxuLy8gTWFya3NcblxuLy8gOjotIExpa2Ugbm9kZXMsIG1hcmtzICh3aGljaCBhcmUgYXNzb2NpYXRlZCB3aXRoIG5vZGVzIHRvIHNpZ25pZnlcbi8vIHRoaW5ncyBsaWtlIGVtcGhhc2lzIG9yIGJlaW5nIHBhcnQgb2YgYSBsaW5rKSBhcmVcbi8vIFt0YWdnZWRdKCNtb2RlbC5NYXJrLnR5cGUpIHdpdGggdHlwZSBvYmplY3RzLCB3aGljaCBhcmVcbi8vIGluc3RhbnRpYXRlZCBvbmNlIHBlciBgU2NoZW1hYC5cbmV4cG9ydCBjbGFzcyBNYXJrVHlwZSB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIHJhbmssIHNjaGVtYSwgc3BlYykge1xuICAgIC8vIDo6IHN0cmluZ1xuICAgIC8vIFRoZSBuYW1lIG9mIHRoZSBtYXJrIHR5cGUuXG4gICAgdGhpcy5uYW1lID0gbmFtZVxuXG4gICAgLy8gOjogU2NoZW1hXG4gICAgLy8gVGhlIHNjaGVtYSB0aGF0IHRoaXMgbWFyayB0eXBlIGluc3RhbmNlIGlzIHBhcnQgb2YuXG4gICAgdGhpcy5zY2hlbWEgPSBzY2hlbWFcblxuICAgIC8vIDo6IE1hcmtTcGVjXG4gICAgLy8gVGhlIHNwZWMgb24gd2hpY2ggdGhlIHR5cGUgaXMgYmFzZWQuXG4gICAgdGhpcy5zcGVjID0gc3BlY1xuXG4gICAgdGhpcy5hdHRycyA9IGluaXRBdHRycyhzcGVjLmF0dHJzKVxuXG4gICAgdGhpcy5yYW5rID0gcmFua1xuICAgIHRoaXMuZXhjbHVkZWQgPSBudWxsXG4gICAgbGV0IGRlZmF1bHRzID0gZGVmYXVsdEF0dHJzKHRoaXMuYXR0cnMpXG4gICAgdGhpcy5pbnN0YW5jZSA9IGRlZmF1bHRzICYmIG5ldyBNYXJrKHRoaXMsIGRlZmF1bHRzKVxuICB9XG5cbiAgLy8gOjogKD9PYmplY3QpIOKGkiBNYXJrXG4gIC8vIENyZWF0ZSBhIG1hcmsgb2YgdGhpcyB0eXBlLiBgYXR0cnNgIG1heSBiZSBgbnVsbGAgb3IgYW4gb2JqZWN0XG4gIC8vIGNvbnRhaW5pbmcgb25seSBzb21lIG9mIHRoZSBtYXJrJ3MgYXR0cmlidXRlcy4gVGhlIG90aGVycywgaWZcbiAgLy8gdGhleSBoYXZlIGRlZmF1bHRzLCB3aWxsIGJlIGFkZGVkLlxuICBjcmVhdGUoYXR0cnMpIHtcbiAgICBpZiAoIWF0dHJzICYmIHRoaXMuaW5zdGFuY2UpIHJldHVybiB0aGlzLmluc3RhbmNlXG4gICAgcmV0dXJuIG5ldyBNYXJrKHRoaXMsIGNvbXB1dGVBdHRycyh0aGlzLmF0dHJzLCBhdHRycykpXG4gIH1cblxuICBzdGF0aWMgY29tcGlsZShtYXJrcywgc2NoZW1hKSB7XG4gICAgbGV0IHJlc3VsdCA9IE9iamVjdC5jcmVhdGUobnVsbCksIHJhbmsgPSAwXG4gICAgbWFya3MuZm9yRWFjaCgobmFtZSwgc3BlYykgPT4gcmVzdWx0W25hbWVdID0gbmV3IE1hcmtUeXBlKG5hbWUsIHJhbmsrKywgc2NoZW1hLCBzcGVjKSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyA6OiAoW01hcmtdKSDihpIgW01hcmtdXG4gIC8vIFdoZW4gdGhlcmUgaXMgYSBtYXJrIG9mIHRoaXMgdHlwZSBpbiB0aGUgZ2l2ZW4gc2V0LCBhIG5ldyBzZXRcbiAgLy8gd2l0aG91dCBpdCBpcyByZXR1cm5lZC4gT3RoZXJ3aXNlLCB0aGUgaW5wdXQgc2V0IGlzIHJldHVybmVkLlxuICByZW1vdmVGcm9tU2V0KHNldCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKHNldFtpXS50eXBlID09IHRoaXMpXG4gICAgICAgIHJldHVybiBzZXQuc2xpY2UoMCwgaSkuY29uY2F0KHNldC5zbGljZShpICsgMSkpXG4gICAgcmV0dXJuIHNldFxuICB9XG5cbiAgLy8gOjogKFtNYXJrXSkg4oaSID9NYXJrXG4gIC8vIFRlc3RzIHdoZXRoZXIgdGhlcmUgaXMgYSBtYXJrIG9mIHRoaXMgdHlwZSBpbiB0aGUgZ2l2ZW4gc2V0LlxuICBpc0luU2V0KHNldCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKHNldFtpXS50eXBlID09IHRoaXMpIHJldHVybiBzZXRbaV1cbiAgfVxuXG4gIC8vIDo6IChNYXJrVHlwZSkg4oaSIGJvb2xcbiAgLy8gUXVlcmllcyB3aGV0aGVyIGEgZ2l2ZW4gbWFyayB0eXBlIGlzXG4gIC8vIFtleGNsdWRlZF0oI21vZGVsLk1hcmtTcGVjLmV4Y2x1ZGVzKSBieSB0aGlzIG9uZS5cbiAgZXhjbHVkZXMob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5leGNsdWRlZC5pbmRleE9mKG90aGVyKSA+IC0xXG4gIH1cbn1cblxuLy8gU2NoZW1hU3BlYzo6IGludGVyZmFjZVxuLy8gQW4gb2JqZWN0IGRlc2NyaWJpbmcgYSBzY2hlbWEsIGFzIHBhc3NlZCB0byB0aGUgW2BTY2hlbWFgXSgjbW9kZWwuU2NoZW1hKVxuLy8gY29uc3RydWN0b3IuXG4vL1xuLy8gICBub2Rlczo6IHVuaW9uPE9iamVjdDxOb2RlU3BlYz4sIE9yZGVyZWRNYXA8Tm9kZVNwZWM+PlxuLy8gICBUaGUgbm9kZSB0eXBlcyBpbiB0aGlzIHNjaGVtYS4gTWFwcyBuYW1lcyB0b1xuLy8gICBbYE5vZGVTcGVjYF0oI21vZGVsLk5vZGVTcGVjKSBvYmplY3RzIHRoYXQgZGVzY3JpYmUgdGhlIG5vZGUgdHlwZVxuLy8gICBhc3NvY2lhdGVkIHdpdGggdGhhdCBuYW1lLiBUaGVpciBvcmRlciBpcyBzaWduaWZpY2FudOKAlGl0XG4vLyAgIGRldGVybWluZXMgd2hpY2ggW3BhcnNlIHJ1bGVzXSgjbW9kZWwuTm9kZVNwZWMucGFyc2VET00pIHRha2Vcbi8vICAgcHJlY2VkZW5jZSBieSBkZWZhdWx0LCBhbmQgd2hpY2ggbm9kZXMgY29tZSBmaXJzdCBpbiBhIGdpdmVuXG4vLyAgIFtncm91cF0oI21vZGVsLk5vZGVTcGVjLmdyb3VwKS5cbi8vXG4vLyAgIG1hcmtzOjogP3VuaW9uPE9iamVjdDxNYXJrU3BlYz4sIE9yZGVyZWRNYXA8TWFya1NwZWM+PlxuLy8gICBUaGUgbWFyayB0eXBlcyB0aGF0IGV4aXN0IGluIHRoaXMgc2NoZW1hLiBUaGUgb3JkZXIgaW4gd2hpY2ggdGhleVxuLy8gICBhcmUgcHJvdmlkZWQgZGV0ZXJtaW5lcyB0aGUgb3JkZXIgaW4gd2hpY2ggW21hcmtcbi8vICAgc2V0c10oI21vZGVsLk1hcmsuYWRkVG9TZXQpIGFyZSBzb3J0ZWQgYW5kIGluIHdoaWNoIFtwYXJzZVxuLy8gICBydWxlc10oI21vZGVsLk1hcmtTcGVjLnBhcnNlRE9NKSBhcmUgdHJpZWQuXG4vL1xuLy8gICB0b3BOb2RlOjogP3N0cmluZ1xuLy8gICBUaGUgbmFtZSBvZiB0aGUgZGVmYXVsdCB0b3AtbGV2ZWwgbm9kZSBmb3IgdGhlIHNjaGVtYS4gRGVmYXVsdHNcbi8vICAgdG8gYFwiZG9jXCJgLlxuXG4vLyBOb2RlU3BlYzo6IGludGVyZmFjZVxuLy9cbi8vICAgY29udGVudDo6ID9zdHJpbmdcbi8vICAgVGhlIGNvbnRlbnQgZXhwcmVzc2lvbiBmb3IgdGhpcyBub2RlLCBhcyBkZXNjcmliZWQgaW4gdGhlIFtzY2hlbWFcbi8vICAgZ3VpZGVdKC9kb2NzL2d1aWRlLyNzY2hlbWEuY29udGVudF9leHByZXNzaW9ucykuIFdoZW4gbm90IGdpdmVuLFxuLy8gICB0aGUgbm9kZSBkb2VzIG5vdCBhbGxvdyBhbnkgY29udGVudC5cbi8vXG4vLyAgIG1hcmtzOjogP3N0cmluZ1xuLy8gICBUaGUgbWFya3MgdGhhdCBhcmUgYWxsb3dlZCBpbnNpZGUgb2YgdGhpcyBub2RlLiBNYXkgYmUgYVxuLy8gICBzcGFjZS1zZXBhcmF0ZWQgc3RyaW5nIHJlZmVycmluZyB0byBtYXJrIG5hbWVzIG9yIGdyb3VwcywgYFwiX1wiYFxuLy8gICB0byBleHBsaWNpdGx5IGFsbG93IGFsbCBtYXJrcywgb3IgYFwiXCJgIHRvIGRpc2FsbG93IG1hcmtzLiBXaGVuXG4vLyAgIG5vdCBnaXZlbiwgbm9kZXMgd2l0aCBpbmxpbmUgY29udGVudCBkZWZhdWx0IHRvIGFsbG93aW5nIGFsbFxuLy8gICBtYXJrcywgb3RoZXIgbm9kZXMgZGVmYXVsdCB0byBub3QgYWxsb3dpbmcgbWFya3MuXG4vL1xuLy8gICBncm91cDo6ID9zdHJpbmdcbi8vICAgVGhlIGdyb3VwIG9yIHNwYWNlLXNlcGFyYXRlZCBncm91cHMgdG8gd2hpY2ggdGhpcyBub2RlIGJlbG9uZ3MsXG4vLyAgIHdoaWNoIGNhbiBiZSByZWZlcnJlZCB0byBpbiB0aGUgY29udGVudCBleHByZXNzaW9ucyBmb3IgdGhlXG4vLyAgIHNjaGVtYS5cbi8vXG4vLyAgIGlubGluZTo6ID9ib29sXG4vLyAgIFNob3VsZCBiZSBzZXQgdG8gdHJ1ZSBmb3IgaW5saW5lIG5vZGVzLiAoSW1wbGllZCBmb3IgdGV4dCBub2Rlcy4pXG4vL1xuLy8gICBhdG9tOjogP2Jvb2xcbi8vICAgQ2FuIGJlIHNldCB0byB0cnVlIHRvIGluZGljYXRlIHRoYXQsIHRob3VnaCB0aGlzIGlzbid0IGEgW2xlYWZcbi8vICAgbm9kZV0oI21vZGVsLk5vZGVUeXBlLmlzTGVhZiksIGl0IGRvZXNuJ3QgaGF2ZSBkaXJlY3RseSBlZGl0YWJsZVxuLy8gICBjb250ZW50IGFuZCBzaG91bGQgYmUgdHJlYXRlZCBhcyBhIHNpbmdsZSB1bml0IGluIHRoZSB2aWV3LlxuLy9cbi8vICAgYXR0cnM6OiA/T2JqZWN0PEF0dHJpYnV0ZVNwZWM+XG4vLyAgIFRoZSBhdHRyaWJ1dGVzIHRoYXQgbm9kZXMgb2YgdGhpcyB0eXBlIGdldC5cbi8vXG4vLyAgIHNlbGVjdGFibGU6OiA/Ym9vbFxuLy8gICBDb250cm9scyB3aGV0aGVyIG5vZGVzIG9mIHRoaXMgdHlwZSBjYW4gYmUgc2VsZWN0ZWQgYXMgYSBbbm9kZVxuLy8gICBzZWxlY3Rpb25dKCNzdGF0ZS5Ob2RlU2VsZWN0aW9uKS4gRGVmYXVsdHMgdG8gdHJ1ZSBmb3Igbm9uLXRleHRcbi8vICAgbm9kZXMuXG4vL1xuLy8gICBkcmFnZ2FibGU6OiA/Ym9vbFxuLy8gICBEZXRlcm1pbmVzIHdoZXRoZXIgbm9kZXMgb2YgdGhpcyB0eXBlIGNhbiBiZSBkcmFnZ2VkIHdpdGhvdXRcbi8vICAgYmVpbmcgc2VsZWN0ZWQuIERlZmF1bHRzIHRvIGZhbHNlLlxuLy9cbi8vICAgY29kZTo6ID9ib29sXG4vLyAgIENhbiBiZSB1c2VkIHRvIGluZGljYXRlIHRoYXQgdGhpcyBub2RlIGNvbnRhaW5zIGNvZGUsIHdoaWNoXG4vLyAgIGNhdXNlcyBzb21lIGNvbW1hbmRzIHRvIGJlaGF2ZSBkaWZmZXJlbnRseS5cbi8vXG4vLyAgIGRlZmluaW5nOjogP2Jvb2xcbi8vICAgRGV0ZXJtaW5lcyB3aGV0aGVyIHRoaXMgbm9kZSBpcyBjb25zaWRlcmVkIGFuIGltcG9ydGFudCBwYXJlbnRcbi8vICAgbm9kZSBkdXJpbmcgcmVwbGFjZSBvcGVyYXRpb25zIChzdWNoIGFzIHBhc3RlKS4gTm9uLWRlZmluaW5nICh0aGVcbi8vICAgZGVmYXVsdCkgbm9kZXMgZ2V0IGRyb3BwZWQgd2hlbiB0aGVpciBlbnRpcmUgY29udGVudCBpcyByZXBsYWNlZCxcbi8vICAgd2hlcmVhcyBkZWZpbmluZyBub2RlcyBwZXJzaXN0IGFuZCB3cmFwIHRoZSBpbnNlcnRlZCBjb250ZW50LlxuLy8gICBMaWtld2lzZSwgaW4gX2luc2VydGVkXyBjb250ZW50IHRoZSBkZWZpbmluZyBwYXJlbnRzIG9mIHRoZVxuLy8gICBjb250ZW50IGFyZSBwcmVzZXJ2ZWQgd2hlbiBwb3NzaWJsZS4gVHlwaWNhbGx5LFxuLy8gICBub24tZGVmYXVsdC1wYXJhZ3JhcGggdGV4dGJsb2NrIHR5cGVzLCBhbmQgcG9zc2libHkgbGlzdCBpdGVtcyxcbi8vICAgYXJlIG1hcmtlZCBhcyBkZWZpbmluZy5cbi8vXG4vLyAgIGlzb2xhdGluZzo6ID9ib29sXG4vLyAgIFdoZW4gZW5hYmxlZCAoZGVmYXVsdCBpcyBmYWxzZSksIHRoZSBzaWRlcyBvZiBub2RlcyBvZiB0aGlzIHR5cGVcbi8vICAgY291bnQgYXMgYm91bmRhcmllcyB0aGF0IHJlZ3VsYXIgZWRpdGluZyBvcGVyYXRpb25zLCBsaWtlXG4vLyAgIGJhY2tzcGFjaW5nIG9yIGxpZnRpbmcsIHdvbid0IGNyb3NzLiBBbiBleGFtcGxlIG9mIGEgbm9kZSB0aGF0XG4vLyAgIHNob3VsZCBwcm9iYWJseSBoYXZlIHRoaXMgZW5hYmxlZCBpcyBhIHRhYmxlIGNlbGwuXG4vL1xuLy8gICB0b0RPTTo6ID8obm9kZTogTm9kZSkg4oaSIERPTU91dHB1dFNwZWNcbi8vICAgRGVmaW5lcyB0aGUgZGVmYXVsdCB3YXkgYSBub2RlIG9mIHRoaXMgdHlwZSBzaG91bGQgYmUgc2VyaWFsaXplZFxuLy8gICB0byBET00vSFRNTCAoYXMgdXNlZCBieVxuLy8gICBbYERPTVNlcmlhbGl6ZXIuZnJvbVNjaGVtYWBdKCNtb2RlbC5ET01TZXJpYWxpemVyXmZyb21TY2hlbWEpKS5cbi8vICAgU2hvdWxkIHJldHVybiBhIERPTSBub2RlIG9yIGFuIFthcnJheVxuLy8gICBzdHJ1Y3R1cmVdKCNtb2RlbC5ET01PdXRwdXRTcGVjKSB0aGF0IGRlc2NyaWJlcyBvbmUsIHdpdGggYW5cbi8vICAgb3B0aW9uYWwgbnVtYmVyIHplcm8gKOKAnGhvbGXigJ0pIGluIGl0IHRvIGluZGljYXRlIHdoZXJlIHRoZSBub2RlJ3Ncbi8vICAgY29udGVudCBzaG91bGQgYmUgaW5zZXJ0ZWQuXG4vL1xuLy8gICBGb3IgdGV4dCBub2RlcywgdGhlIGRlZmF1bHQgaXMgdG8gY3JlYXRlIGEgdGV4dCBET00gbm9kZS4gVGhvdWdoXG4vLyAgIGl0IGlzIHBvc3NpYmxlIHRvIGNyZWF0ZSBhIHNlcmlhbGl6ZXIgd2hlcmUgdGV4dCBpcyByZW5kZXJlZFxuLy8gICBkaWZmZXJlbnRseSwgdGhpcyBpcyBub3Qgc3VwcG9ydGVkIGluc2lkZSB0aGUgZWRpdG9yLCBzbyB5b3Vcbi8vICAgc2hvdWxkbid0IG92ZXJyaWRlIHRoYXQgaW4geW91ciB0ZXh0IG5vZGUgc3BlYy5cbi8vXG4vLyAgIHBhcnNlRE9NOjogP1tQYXJzZVJ1bGVdXG4vLyAgIEFzc29jaWF0ZXMgRE9NIHBhcnNlciBpbmZvcm1hdGlvbiB3aXRoIHRoaXMgbm9kZSwgd2hpY2ggY2FuIGJlXG4vLyAgIHVzZWQgYnkgW2BET01QYXJzZXIuZnJvbVNjaGVtYWBdKCNtb2RlbC5ET01QYXJzZXJeZnJvbVNjaGVtYSkgdG9cbi8vICAgYXV0b21hdGljYWxseSBkZXJpdmUgYSBwYXJzZXIuIFRoZSBgbm9kZWAgZmllbGQgaW4gdGhlIHJ1bGVzIGlzXG4vLyAgIGltcGxpZWQgKHRoZSBuYW1lIG9mIHRoaXMgbm9kZSB3aWxsIGJlIGZpbGxlZCBpbiBhdXRvbWF0aWNhbGx5KS5cbi8vICAgSWYgeW91IHN1cHBseSB5b3VyIG93biBwYXJzZXIsIHlvdSBkbyBub3QgbmVlZCB0byBhbHNvIHNwZWNpZnlcbi8vICAgcGFyc2luZyBydWxlcyBpbiB5b3VyIHNjaGVtYS5cbi8vXG4vLyAgIHRvRGVidWdTdHJpbmc6OiA/KG5vZGU6IE5vZGUpIC0+IHN0cmluZ1xuLy8gICBEZWZpbmVzIHRoZSBkZWZhdWx0IHdheSBhIG5vZGUgb2YgdGhpcyB0eXBlIHNob3VsZCBiZSBzZXJpYWxpemVkXG4vLyAgIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIGZvciBkZWJ1Z2dpbmcgKGUuZy4gaW4gZXJyb3IgbWVzc2FnZXMpLlxuXG4vLyBNYXJrU3BlYzo6IGludGVyZmFjZVxuLy9cbi8vICAgYXR0cnM6OiA/T2JqZWN0PEF0dHJpYnV0ZVNwZWM+XG4vLyAgIFRoZSBhdHRyaWJ1dGVzIHRoYXQgbWFya3Mgb2YgdGhpcyB0eXBlIGdldC5cbi8vXG4vLyAgIGluY2x1c2l2ZTo6ID9ib29sXG4vLyAgIFdoZXRoZXIgdGhpcyBtYXJrIHNob3VsZCBiZSBhY3RpdmUgd2hlbiB0aGUgY3Vyc29yIGlzIHBvc2l0aW9uZWRcbi8vICAgYXQgaXRzIGVuZCAob3IgYXQgaXRzIHN0YXJ0IHdoZW4gdGhhdCBpcyBhbHNvIHRoZSBzdGFydCBvZiB0aGVcbi8vICAgcGFyZW50IG5vZGUpLiBEZWZhdWx0cyB0byB0cnVlLlxuLy9cbi8vICAgZXhjbHVkZXM6OiA/c3RyaW5nXG4vLyAgIERldGVybWluZXMgd2hpY2ggb3RoZXIgbWFya3MgdGhpcyBtYXJrIGNhbiBjb2V4aXN0IHdpdGguIFNob3VsZFxuLy8gICBiZSBhIHNwYWNlLXNlcGFyYXRlZCBzdHJpbmdzIG5hbWluZyBvdGhlciBtYXJrcyBvciBncm91cHMgb2YgbWFya3MuXG4vLyAgIFdoZW4gYSBtYXJrIGlzIFthZGRlZF0oI21vZGVsLk1hcmsuYWRkVG9TZXQpIHRvIGEgc2V0LCBhbGwgbWFya3Ncbi8vICAgdGhhdCBpdCBleGNsdWRlcyBhcmUgcmVtb3ZlZCBpbiB0aGUgcHJvY2Vzcy4gSWYgdGhlIHNldCBjb250YWluc1xuLy8gICBhbnkgbWFyayB0aGF0IGV4Y2x1ZGVzIHRoZSBuZXcgbWFyayBidXQgaXMgbm90LCBpdHNlbGYsIGV4Y2x1ZGVkXG4vLyAgIGJ5IHRoZSBuZXcgbWFyaywgdGhlIG1hcmsgY2FuIG5vdCBiZSBhZGRlZCBhbiB0aGUgc2V0LiBZb3UgY2FuXG4vLyAgIHVzZSB0aGUgdmFsdWUgYFwiX1wiYCB0byBpbmRpY2F0ZSB0aGF0IHRoZSBtYXJrIGV4Y2x1ZGVzIGFsbFxuLy8gICBtYXJrcyBpbiB0aGUgc2NoZW1hLlxuLy9cbi8vICAgRGVmYXVsdHMgdG8gb25seSBiZWluZyBleGNsdXNpdmUgd2l0aCBtYXJrcyBvZiB0aGUgc2FtZSB0eXBlLiBZb3Vcbi8vICAgY2FuIHNldCBpdCB0byBhbiBlbXB0eSBzdHJpbmcgKG9yIGFueSBzdHJpbmcgbm90IGNvbnRhaW5pbmcgdGhlXG4vLyAgIG1hcmsncyBvd24gbmFtZSkgdG8gYWxsb3cgbXVsdGlwbGUgbWFya3Mgb2YgYSBnaXZlbiB0eXBlIHRvXG4vLyAgIGNvZXhpc3QgKGFzIGxvbmcgYXMgdGhleSBoYXZlIGRpZmZlcmVudCBhdHRyaWJ1dGVzKS5cbi8vXG4vLyAgIGdyb3VwOjogP3N0cmluZ1xuLy8gICBUaGUgZ3JvdXAgb3Igc3BhY2Utc2VwYXJhdGVkIGdyb3VwcyB0byB3aGljaCB0aGlzIG1hcmsgYmVsb25ncy5cbi8vXG4vLyAgIHNwYW5uaW5nOjogP2Jvb2xcbi8vICAgRGV0ZXJtaW5lcyB3aGV0aGVyIG1hcmtzIG9mIHRoaXMgdHlwZSBjYW4gc3BhbiBtdWx0aXBsZSBhZGphY2VudFxuLy8gICBub2RlcyB3aGVuIHNlcmlhbGl6ZWQgdG8gRE9NL0hUTUwuIERlZmF1bHRzIHRvIHRydWUuXG4vL1xuLy8gICB0b0RPTTo6ID8obWFyazogTWFyaywgaW5saW5lOiBib29sKSDihpIgRE9NT3V0cHV0U3BlY1xuLy8gICBEZWZpbmVzIHRoZSBkZWZhdWx0IHdheSBtYXJrcyBvZiB0aGlzIHR5cGUgc2hvdWxkIGJlIHNlcmlhbGl6ZWRcbi8vICAgdG8gRE9NL0hUTUwuIFdoZW4gdGhlIHJlc3VsdGluZyBzcGVjIGNvbnRhaW5zIGEgaG9sZSwgdGhhdCBpc1xuLy8gICB3aGVyZSB0aGUgbWFya2VkIGNvbnRlbnQgaXMgcGxhY2VkLiBPdGhlcndpc2UsIGl0IGlzIGFwcGVuZGVkIHRvXG4vLyAgIHRoZSB0b3Agbm9kZS5cbi8vXG4vLyAgIHBhcnNlRE9NOjogP1tQYXJzZVJ1bGVdXG4vLyAgIEFzc29jaWF0ZXMgRE9NIHBhcnNlciBpbmZvcm1hdGlvbiB3aXRoIHRoaXMgbWFyayAoc2VlIHRoZVxuLy8gICBjb3JyZXNwb25kaW5nIFtub2RlIHNwZWMgZmllbGRdKCNtb2RlbC5Ob2RlU3BlYy5wYXJzZURPTSkpLiBUaGVcbi8vICAgYG1hcmtgIGZpZWxkIGluIHRoZSBydWxlcyBpcyBpbXBsaWVkLlxuXG4vLyBBdHRyaWJ1dGVTcGVjOjogaW50ZXJmYWNlXG4vL1xuLy8gVXNlZCB0byBbZGVmaW5lXSgjbW9kZWwuTm9kZVNwZWMuYXR0cnMpIGF0dHJpYnV0ZXMgb24gbm9kZXMgb3Jcbi8vIG1hcmtzLlxuLy9cbi8vICAgZGVmYXVsdDo6ID9hbnlcbi8vICAgVGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoaXMgYXR0cmlidXRlLCB0byB1c2Ugd2hlbiBubyBleHBsaWNpdFxuLy8gICB2YWx1ZSBpcyBwcm92aWRlZC4gQXR0cmlidXRlcyB0aGF0IGhhdmUgbm8gZGVmYXVsdCBtdXN0IGJlXG4vLyAgIHByb3ZpZGVkIHdoZW5ldmVyIGEgbm9kZSBvciBtYXJrIG9mIGEgdHlwZSB0aGF0IGhhcyB0aGVtIGlzXG4vLyAgIGNyZWF0ZWQuXG5cbi8vIDo6LSBBIGRvY3VtZW50IHNjaGVtYS4gSG9sZHMgW25vZGVdKCNtb2RlbC5Ob2RlVHlwZSkgYW5kIFttYXJrXG4vLyB0eXBlXSgjbW9kZWwuTWFya1R5cGUpIG9iamVjdHMgZm9yIHRoZSBub2RlcyBhbmQgbWFya3MgdGhhdCBtYXlcbi8vIG9jY3VyIGluIGNvbmZvcm1pbmcgZG9jdW1lbnRzLCBhbmQgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3Jcbi8vIGNyZWF0aW5nIGFuZCBkZXNlcmlhbGl6aW5nIHN1Y2ggZG9jdW1lbnRzLlxuZXhwb3J0IGNsYXNzIFNjaGVtYSB7XG4gIC8vIDo6IChTY2hlbWFTcGVjKVxuICAvLyBDb25zdHJ1Y3QgYSBzY2hlbWEgZnJvbSBhIHNjaGVtYSBbc3BlY2lmaWNhdGlvbl0oI21vZGVsLlNjaGVtYVNwZWMpLlxuICBjb25zdHJ1Y3RvcihzcGVjKSB7XG4gICAgLy8gOjogU2NoZW1hU3BlY1xuICAgIC8vIFRoZSBbc3BlY10oI21vZGVsLlNjaGVtYVNwZWMpIG9uIHdoaWNoIHRoZSBzY2hlbWEgaXMgYmFzZWQsXG4gICAgLy8gd2l0aCB0aGUgYWRkZWQgZ3VhcmFudGVlIHRoYXQgaXRzIGBub2Rlc2AgYW5kIGBtYXJrc2BcbiAgICAvLyBwcm9wZXJ0aWVzIGFyZVxuICAgIC8vIFtgT3JkZXJlZE1hcGBdKGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJpam5oL29yZGVyZWRtYXApIGluc3RhbmNlc1xuICAgIC8vIChub3QgcmF3IG9iamVjdHMpLlxuICAgIHRoaXMuc3BlYyA9IHt9XG4gICAgZm9yIChsZXQgcHJvcCBpbiBzcGVjKSB0aGlzLnNwZWNbcHJvcF0gPSBzcGVjW3Byb3BdXG4gICAgdGhpcy5zcGVjLm5vZGVzID0gT3JkZXJlZE1hcC5mcm9tKHNwZWMubm9kZXMpXG4gICAgdGhpcy5zcGVjLm1hcmtzID0gT3JkZXJlZE1hcC5mcm9tKHNwZWMubWFya3MpXG5cbiAgICAvLyA6OiBPYmplY3Q8Tm9kZVR5cGU+XG4gICAgLy8gQW4gb2JqZWN0IG1hcHBpbmcgdGhlIHNjaGVtYSdzIG5vZGUgbmFtZXMgdG8gbm9kZSB0eXBlIG9iamVjdHMuXG4gICAgdGhpcy5ub2RlcyA9IE5vZGVUeXBlLmNvbXBpbGUodGhpcy5zcGVjLm5vZGVzLCB0aGlzKVxuXG4gICAgLy8gOjogT2JqZWN0PE1hcmtUeXBlPlxuICAgIC8vIEEgbWFwIGZyb20gbWFyayBuYW1lcyB0byBtYXJrIHR5cGUgb2JqZWN0cy5cbiAgICB0aGlzLm1hcmtzID0gTWFya1R5cGUuY29tcGlsZSh0aGlzLnNwZWMubWFya3MsIHRoaXMpXG5cbiAgICBsZXQgY29udGVudEV4cHJDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgICBmb3IgKGxldCBwcm9wIGluIHRoaXMubm9kZXMpIHtcbiAgICAgIGlmIChwcm9wIGluIHRoaXMubWFya3MpXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKHByb3AgKyBcIiBjYW4gbm90IGJlIGJvdGggYSBub2RlIGFuZCBhIG1hcmtcIilcbiAgICAgIGxldCB0eXBlID0gdGhpcy5ub2Rlc1twcm9wXSwgY29udGVudEV4cHIgPSB0eXBlLnNwZWMuY29udGVudCB8fCBcIlwiLCBtYXJrRXhwciA9IHR5cGUuc3BlYy5tYXJrc1xuICAgICAgdHlwZS5jb250ZW50TWF0Y2ggPSBjb250ZW50RXhwckNhY2hlW2NvbnRlbnRFeHByXSB8fFxuICAgICAgICAoY29udGVudEV4cHJDYWNoZVtjb250ZW50RXhwcl0gPSBDb250ZW50TWF0Y2gucGFyc2UoY29udGVudEV4cHIsIHRoaXMubm9kZXMpKVxuICAgICAgdHlwZS5pbmxpbmVDb250ZW50ID0gdHlwZS5jb250ZW50TWF0Y2guaW5saW5lQ29udGVudFxuICAgICAgdHlwZS5tYXJrU2V0ID0gbWFya0V4cHIgPT0gXCJfXCIgPyBudWxsIDpcbiAgICAgICAgbWFya0V4cHIgPyBnYXRoZXJNYXJrcyh0aGlzLCBtYXJrRXhwci5zcGxpdChcIiBcIikpIDpcbiAgICAgICAgbWFya0V4cHIgPT0gXCJcIiB8fCAhdHlwZS5pbmxpbmVDb250ZW50ID8gW10gOiBudWxsXG4gICAgfVxuICAgIGZvciAobGV0IHByb3AgaW4gdGhpcy5tYXJrcykge1xuICAgICAgbGV0IHR5cGUgPSB0aGlzLm1hcmtzW3Byb3BdLCBleGNsID0gdHlwZS5zcGVjLmV4Y2x1ZGVzXG4gICAgICB0eXBlLmV4Y2x1ZGVkID0gZXhjbCA9PSBudWxsID8gW3R5cGVdIDogZXhjbCA9PSBcIlwiID8gW10gOiBnYXRoZXJNYXJrcyh0aGlzLCBleGNsLnNwbGl0KFwiIFwiKSlcbiAgICB9XG5cbiAgICB0aGlzLm5vZGVGcm9tSlNPTiA9IHRoaXMubm9kZUZyb21KU09OLmJpbmQodGhpcylcbiAgICB0aGlzLm1hcmtGcm9tSlNPTiA9IHRoaXMubWFya0Zyb21KU09OLmJpbmQodGhpcylcblxuICAgIC8vIDo6IE5vZGVUeXBlXG4gICAgLy8gVGhlIHR5cGUgb2YgdGhlIFtkZWZhdWx0IHRvcCBub2RlXSgjbW9kZWwuU2NoZW1hU3BlYy50b3BOb2RlKVxuICAgIC8vIGZvciB0aGlzIHNjaGVtYS5cbiAgICB0aGlzLnRvcE5vZGVUeXBlID0gdGhpcy5ub2Rlc1t0aGlzLnNwZWMudG9wTm9kZSB8fCBcImRvY1wiXVxuXG4gICAgLy8gOjogT2JqZWN0XG4gICAgLy8gQW4gb2JqZWN0IGZvciBzdG9yaW5nIHdoYXRldmVyIHZhbHVlcyBtb2R1bGVzIG1heSB3YW50IHRvXG4gICAgLy8gY29tcHV0ZSBhbmQgY2FjaGUgcGVyIHNjaGVtYS4gKElmIHlvdSB3YW50IHRvIHN0b3JlIHNvbWV0aGluZ1xuICAgIC8vIGluIGl0LCB0cnkgdG8gdXNlIHByb3BlcnR5IG5hbWVzIHVubGlrZWx5IHRvIGNsYXNoLilcbiAgICB0aGlzLmNhY2hlZCA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgICB0aGlzLmNhY2hlZC53cmFwcGluZ3MgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gIH1cblxuICAvLyA6OiAodW5pb248c3RyaW5nLCBOb2RlVHlwZT4sID9PYmplY3QsID91bmlvbjxGcmFnbWVudCwgTm9kZSwgW05vZGVdPiwgP1tNYXJrXSkg4oaSIE5vZGVcbiAgLy8gQ3JlYXRlIGEgbm9kZSBpbiB0aGlzIHNjaGVtYS4gVGhlIGB0eXBlYCBtYXkgYmUgYSBzdHJpbmcgb3IgYVxuICAvLyBgTm9kZVR5cGVgIGluc3RhbmNlLiBBdHRyaWJ1dGVzIHdpbGwgYmUgZXh0ZW5kZWRcbiAgLy8gd2l0aCBkZWZhdWx0cywgYGNvbnRlbnRgIG1heSBiZSBhIGBGcmFnbWVudGAsXG4gIC8vIGBudWxsYCwgYSBgTm9kZWAsIG9yIGFuIGFycmF5IG9mIG5vZGVzLlxuICBub2RlKHR5cGUsIGF0dHJzLCBjb250ZW50LCBtYXJrcykge1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PSBcInN0cmluZ1wiKVxuICAgICAgdHlwZSA9IHRoaXMubm9kZVR5cGUodHlwZSlcbiAgICBlbHNlIGlmICghKHR5cGUgaW5zdGFuY2VvZiBOb2RlVHlwZSkpXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgbm9kZSB0eXBlOiBcIiArIHR5cGUpXG4gICAgZWxzZSBpZiAodHlwZS5zY2hlbWEgIT0gdGhpcylcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiTm9kZSB0eXBlIGZyb20gZGlmZmVyZW50IHNjaGVtYSB1c2VkIChcIiArIHR5cGUubmFtZSArIFwiKVwiKVxuXG4gICAgcmV0dXJuIHR5cGUuY3JlYXRlQ2hlY2tlZChhdHRycywgY29udGVudCwgbWFya3MpXG4gIH1cblxuICAvLyA6OiAoc3RyaW5nLCA/W01hcmtdKSDihpIgTm9kZVxuICAvLyBDcmVhdGUgYSB0ZXh0IG5vZGUgaW4gdGhlIHNjaGVtYS4gRW1wdHkgdGV4dCBub2RlcyBhcmUgbm90XG4gIC8vIGFsbG93ZWQuXG4gIHRleHQodGV4dCwgbWFya3MpIHtcbiAgICBsZXQgdHlwZSA9IHRoaXMubm9kZXMudGV4dFxuICAgIHJldHVybiBuZXcgVGV4dE5vZGUodHlwZSwgdHlwZS5kZWZhdWx0QXR0cnMsIHRleHQsIE1hcmsuc2V0RnJvbShtYXJrcykpXG4gIH1cblxuICAvLyA6OiAodW5pb248c3RyaW5nLCBNYXJrVHlwZT4sID9PYmplY3QpIOKGkiBNYXJrXG4gIC8vIENyZWF0ZSBhIG1hcmsgd2l0aCB0aGUgZ2l2ZW4gdHlwZSBhbmQgYXR0cmlidXRlcy5cbiAgbWFyayh0eXBlLCBhdHRycykge1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PSBcInN0cmluZ1wiKSB0eXBlID0gdGhpcy5tYXJrc1t0eXBlXVxuICAgIHJldHVybiB0eXBlLmNyZWF0ZShhdHRycylcbiAgfVxuXG4gIC8vIDo6IChPYmplY3QpIOKGkiBOb2RlXG4gIC8vIERlc2VyaWFsaXplIGEgbm9kZSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uLiBUaGlzIG1ldGhvZCBpc1xuICAvLyBib3VuZC5cbiAgbm9kZUZyb21KU09OKGpzb24pIHtcbiAgICByZXR1cm4gTm9kZS5mcm9tSlNPTih0aGlzLCBqc29uKVxuICB9XG5cbiAgLy8gOjogKE9iamVjdCkg4oaSIE1hcmtcbiAgLy8gRGVzZXJpYWxpemUgYSBtYXJrIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24uIFRoaXMgbWV0aG9kIGlzXG4gIC8vIGJvdW5kLlxuICBtYXJrRnJvbUpTT04oanNvbikge1xuICAgIHJldHVybiBNYXJrLmZyb21KU09OKHRoaXMsIGpzb24pXG4gIH1cblxuICBub2RlVHlwZShuYW1lKSB7XG4gICAgbGV0IGZvdW5kID0gdGhpcy5ub2Rlc1tuYW1lXVxuICAgIGlmICghZm91bmQpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVW5rbm93biBub2RlIHR5cGU6IFwiICsgbmFtZSlcbiAgICByZXR1cm4gZm91bmRcbiAgfVxufVxuXG5mdW5jdGlvbiBnYXRoZXJNYXJrcyhzY2hlbWEsIG1hcmtzKSB7XG4gIGxldCBmb3VuZCA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbmFtZSA9IG1hcmtzW2ldLCBtYXJrID0gc2NoZW1hLm1hcmtzW25hbWVdLCBvayA9IG1hcmtcbiAgICBpZiAobWFyaykge1xuICAgICAgZm91bmQucHVzaChtYXJrKVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBwcm9wIGluIHNjaGVtYS5tYXJrcykge1xuICAgICAgICBsZXQgbWFyayA9IHNjaGVtYS5tYXJrc1twcm9wXVxuICAgICAgICBpZiAobmFtZSA9PSBcIl9cIiB8fCAobWFyay5zcGVjLmdyb3VwICYmIG1hcmsuc3BlYy5ncm91cC5zcGxpdChcIiBcIikuaW5kZXhPZihuYW1lKSA+IC0xKSlcbiAgICAgICAgICBmb3VuZC5wdXNoKG9rID0gbWFyaylcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFvaykgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiVW5rbm93biBtYXJrIHR5cGU6ICdcIiArIG1hcmtzW2ldICsgXCInXCIpXG4gIH1cbiAgcmV0dXJuIGZvdW5kXG59XG4iLCJpbXBvcnQge0ZyYWdtZW50fSBmcm9tIFwiLi9mcmFnbWVudFwiXG5pbXBvcnQge1NsaWNlfSBmcm9tIFwiLi9yZXBsYWNlXCJcbmltcG9ydCB7TWFya30gZnJvbSBcIi4vbWFya1wiXG5cbi8vIFBhcnNlT3B0aW9uczo6IGludGVyZmFjZVxuLy8gVGhlc2UgYXJlIHRoZSBvcHRpb25zIHJlY29nbml6ZWQgYnkgdGhlXG4vLyBbYHBhcnNlYF0oI21vZGVsLkRPTVBhcnNlci5wYXJzZSkgYW5kXG4vLyBbYHBhcnNlU2xpY2VgXSgjbW9kZWwuRE9NUGFyc2VyLnBhcnNlU2xpY2UpIG1ldGhvZHMuXG4vL1xuLy8gICBwcmVzZXJ2ZVdoaXRlc3BhY2U6OiA/dW5pb248Ym9vbCwgXCJmdWxsXCI+XG4vLyAgIEJ5IGRlZmF1bHQsIHdoaXRlc3BhY2UgaXMgY29sbGFwc2VkIGFzIHBlciBIVE1MJ3MgcnVsZXMuIFBhc3Ncbi8vICAgYHRydWVgIHRvIHByZXNlcnZlIHdoaXRlc3BhY2UsIGJ1dCBub3JtYWxpemUgbmV3bGluZXMgdG9cbi8vICAgc3BhY2VzLCBhbmQgYFwiZnVsbFwiYCB0byBwcmVzZXJ2ZSB3aGl0ZXNwYWNlIGVudGlyZWx5LlxuLy9cbi8vICAgZmluZFBvc2l0aW9uczo6ID9be25vZGU6IGRvbS5Ob2RlLCBvZmZzZXQ6IG51bWJlcn1dXG4vLyAgIFdoZW4gZ2l2ZW4sIHRoZSBwYXJzZXIgd2lsbCwgYmVzaWRlIHBhcnNpbmcgdGhlIGNvbnRlbnQsXG4vLyAgIHJlY29yZCB0aGUgZG9jdW1lbnQgcG9zaXRpb25zIG9mIHRoZSBnaXZlbiBET00gcG9zaXRpb25zLiBJdFxuLy8gICB3aWxsIGRvIHNvIGJ5IHdyaXRpbmcgdG8gdGhlIG9iamVjdHMsIGFkZGluZyBhIGBwb3NgIHByb3BlcnR5XG4vLyAgIHRoYXQgaG9sZHMgdGhlIGRvY3VtZW50IHBvc2l0aW9uLiBET00gcG9zaXRpb25zIHRoYXQgYXJlIG5vdFxuLy8gICBpbiB0aGUgcGFyc2VkIGNvbnRlbnQgd2lsbCBub3QgYmUgd3JpdHRlbiB0by5cbi8vXG4vLyAgIGZyb206OiA/bnVtYmVyXG4vLyAgIFRoZSBjaGlsZCBub2RlIGluZGV4IHRvIHN0YXJ0IHBhcnNpbmcgZnJvbS5cbi8vXG4vLyAgIHRvOjogP251bWJlclxuLy8gICBUaGUgY2hpbGQgbm9kZSBpbmRleCB0byBzdG9wIHBhcnNpbmcgYXQuXG4vL1xuLy8gICB0b3BOb2RlOjogP05vZGVcbi8vICAgQnkgZGVmYXVsdCwgdGhlIGNvbnRlbnQgaXMgcGFyc2VkIGludG8gdGhlIHNjaGVtYSdzIGRlZmF1bHRcbi8vICAgW3RvcCBub2RlIHR5cGVdKCNtb2RlbC5TY2hlbWEudG9wTm9kZVR5cGUpLiBZb3UgY2FuIHBhc3MgdGhpc1xuLy8gICBvcHRpb24gdG8gdXNlIHRoZSB0eXBlIGFuZCBhdHRyaWJ1dGVzIGZyb20gYSBkaWZmZXJlbnQgbm9kZVxuLy8gICBhcyB0aGUgdG9wIGNvbnRhaW5lci5cbi8vXG4vLyAgIHRvcE1hdGNoOjogP0NvbnRlbnRNYXRjaFxuLy8gICBQcm92aWRlIHRoZSBzdGFydGluZyBjb250ZW50IG1hdGNoIHRoYXQgY29udGVudCBwYXJzZWQgaW50byB0aGVcbi8vICAgdG9wIG5vZGUgaXMgbWF0Y2hlZCBhZ2FpbnN0LlxuLy9cbi8vICAgY29udGV4dDo6ID9SZXNvbHZlZFBvc1xuLy8gICBBIHNldCBvZiBhZGRpdGlvbmFsIG5vZGVzIHRvIGNvdW50IGFzXG4vLyAgIFtjb250ZXh0XSgjbW9kZWwuUGFyc2VSdWxlLmNvbnRleHQpIHdoZW4gcGFyc2luZywgYWJvdmUgdGhlXG4vLyAgIGdpdmVuIFt0b3Agbm9kZV0oI21vZGVsLlBhcnNlT3B0aW9ucy50b3BOb2RlKS5cblxuLy8gUGFyc2VSdWxlOjogaW50ZXJmYWNlXG4vLyBBIHZhbHVlIHRoYXQgZGVzY3JpYmVzIGhvdyB0byBwYXJzZSBhIGdpdmVuIERPTSBub2RlIG9yIGlubGluZVxuLy8gc3R5bGUgYXMgYSBQcm9zZU1pcnJvciBub2RlIG9yIG1hcmsuXG4vL1xuLy8gICB0YWc6OiA/c3RyaW5nXG4vLyAgIEEgQ1NTIHNlbGVjdG9yIGRlc2NyaWJpbmcgdGhlIGtpbmQgb2YgRE9NIGVsZW1lbnRzIHRvIG1hdGNoLiBBXG4vLyAgIHNpbmdsZSBydWxlIHNob3VsZCBoYXZlIF9laXRoZXJfIGEgYHRhZ2Agb3IgYSBgc3R5bGVgIHByb3BlcnR5LlxuLy9cbi8vICAgbmFtZXNwYWNlOjogP3N0cmluZ1xuLy8gICBUaGUgbmFtZXNwYWNlIHRvIG1hdGNoLiBUaGlzIHNob3VsZCBiZSB1c2VkIHdpdGggYHRhZ2AuXG4vLyAgIE5vZGVzIGFyZSBvbmx5IG1hdGNoZWQgd2hlbiB0aGUgbmFtZXNwYWNlIG1hdGNoZXMgb3IgdGhpcyBwcm9wZXJ0eVxuLy8gICBpcyBudWxsLlxuLy9cbi8vICAgc3R5bGU6OiA/c3RyaW5nXG4vLyAgIEEgQ1NTIHByb3BlcnR5IG5hbWUgdG8gbWF0Y2guIFdoZW4gZ2l2ZW4sIHRoaXMgcnVsZSBtYXRjaGVzXG4vLyAgIGlubGluZSBzdHlsZXMgdGhhdCBsaXN0IHRoYXQgcHJvcGVydHkuIE1heSBhbHNvIGhhdmUgdGhlIGZvcm1cbi8vICAgYFwicHJvcGVydHk9dmFsdWVcImAsIGluIHdoaWNoIGNhc2UgdGhlIHJ1bGUgb25seSBtYXRjaGVzIGlmIHRoZVxuLy8gICBwcm9wZXJ5J3MgdmFsdWUgZXhhY3RseSBtYXRjaGVzIHRoZSBnaXZlbiB2YWx1ZS4gKEZvciBtb3JlXG4vLyAgIGNvbXBsaWNhdGVkIGZpbHRlcnMsIHVzZSBbYGdldEF0dHJzYF0oI21vZGVsLlBhcnNlUnVsZS5nZXRBdHRycylcbi8vICAgYW5kIHJldHVybiBmYWxzZSB0byBpbmRpY2F0ZSB0aGF0IHRoZSBtYXRjaCBmYWlsZWQuKVxuLy9cbi8vICAgcHJpb3JpdHk6OiA/bnVtYmVyXG4vLyAgIENhbiBiZSB1c2VkIHRvIGNoYW5nZSB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIHBhcnNlIHJ1bGVzIGluIGFcbi8vICAgc2NoZW1hIGFyZSB0cmllZC4gVGhvc2Ugd2l0aCBoaWdoZXIgcHJpb3JpdHkgY29tZSBmaXJzdC4gUnVsZXNcbi8vICAgd2l0aG91dCBhIHByaW9yaXR5IGFyZSBjb3VudGVkIGFzIGhhdmluZyBwcmlvcml0eSA1MC4gVGhpc1xuLy8gICBwcm9wZXJ0eSBpcyBvbmx5IG1lYW5pbmdmdWwgaW4gYSBzY2hlbWHigJR3aGVuIGRpcmVjdGx5XG4vLyAgIGNvbnN0cnVjdGluZyBhIHBhcnNlciwgdGhlIG9yZGVyIG9mIHRoZSBydWxlIGFycmF5IGlzIHVzZWQuXG4vL1xuLy8gICBjb250ZXh0OjogP3N0cmluZ1xuLy8gICBXaGVuIGdpdmVuLCByZXN0cmljdHMgdGhpcyBydWxlIHRvIG9ubHkgbWF0Y2ggd2hlbiB0aGUgY3VycmVudFxuLy8gICBjb250ZXh04oCUdGhlIHBhcmVudCBub2RlcyBpbnRvIHdoaWNoIHRoZSBjb250ZW50IGlzIGJlaW5nXG4vLyAgIHBhcnNlZOKAlG1hdGNoZXMgdGhpcyBleHByZXNzaW9uLiBTaG91bGQgY29udGFpbiBvbmUgb3IgbW9yZSBub2RlXG4vLyAgIG5hbWVzIG9yIG5vZGUgZ3JvdXAgbmFtZXMgZm9sbG93ZWQgYnkgc2luZ2xlIG9yIGRvdWJsZSBzbGFzaGVzLlxuLy8gICBGb3IgZXhhbXBsZSBgXCJwYXJhZ3JhcGgvXCJgIG1lYW5zIHRoZSBydWxlIG9ubHkgbWF0Y2hlcyB3aGVuIHRoZVxuLy8gICBwYXJlbnQgbm9kZSBpcyBhIHBhcmFncmFwaCwgYFwiYmxvY2txdW90ZS9wYXJhZ3JhcGgvXCJgIHJlc3RyaWN0c1xuLy8gICBpdCB0byBiZSBpbiBhIHBhcmFncmFwaCB0aGF0IGlzIGluc2lkZSBhIGJsb2NrcXVvdGUsIGFuZFxuLy8gICBgXCJzZWN0aW9uLy9cImAgbWF0Y2hlcyBhbnkgcG9zaXRpb24gaW5zaWRlIGEgc2VjdGlvbuKAlGEgZG91YmxlXG4vLyAgIHNsYXNoIG1hdGNoZXMgYW55IHNlcXVlbmNlIG9mIGFuY2VzdG9yIG5vZGVzLiBUbyBhbGxvdyBtdWx0aXBsZVxuLy8gICBkaWZmZXJlbnQgY29udGV4dHMsIHRoZXkgY2FuIGJlIHNlcGFyYXRlZCBieSBhIHBpcGUgKGB8YClcbi8vICAgY2hhcmFjdGVyLCBhcyBpbiBgXCJibG9ja3F1b3RlL3xsaXN0X2l0ZW0vXCJgLlxuLy9cbi8vICAgbm9kZTo6ID9zdHJpbmdcbi8vICAgVGhlIG5hbWUgb2YgdGhlIG5vZGUgdHlwZSB0byBjcmVhdGUgd2hlbiB0aGlzIHJ1bGUgbWF0Y2hlcy4gT25seVxuLy8gICB2YWxpZCBmb3IgcnVsZXMgd2l0aCBhIGB0YWdgIHByb3BlcnR5LCBub3QgZm9yIHN0eWxlIHJ1bGVzLiBFYWNoXG4vLyAgIHJ1bGUgc2hvdWxkIGhhdmUgb25lIG9mIGEgYG5vZGVgLCBgbWFya2AsIG9yIGBpZ25vcmVgIHByb3BlcnR5XG4vLyAgIChleGNlcHQgd2hlbiBpdCBhcHBlYXJzIGluIGEgW25vZGVdKCNtb2RlbC5Ob2RlU3BlYy5wYXJzZURPTSkgb3Jcbi8vICAgW21hcmsgc3BlY10oI21vZGVsLk1hcmtTcGVjLnBhcnNlRE9NKSwgaW4gd2hpY2ggY2FzZSB0aGUgYG5vZGVgXG4vLyAgIG9yIGBtYXJrYCBwcm9wZXJ0eSB3aWxsIGJlIGRlcml2ZWQgZnJvbSBpdHMgcG9zaXRpb24pLlxuLy9cbi8vICAgbWFyazo6ID9zdHJpbmdcbi8vICAgVGhlIG5hbWUgb2YgdGhlIG1hcmsgdHlwZSB0byB3cmFwIHRoZSBtYXRjaGVkIGNvbnRlbnQgaW4uXG4vL1xuLy8gICBpZ25vcmU6OiA/Ym9vbFxuLy8gICBXaGVuIHRydWUsIGlnbm9yZSBjb250ZW50IHRoYXQgbWF0Y2hlcyB0aGlzIHJ1bGUuXG4vL1xuLy8gICBza2lwOjogP2Jvb2xcbi8vICAgV2hlbiB0cnVlLCBpZ25vcmUgdGhlIG5vZGUgdGhhdCBtYXRjaGVzIHRoaXMgcnVsZSwgYnV0IGRvIHBhcnNlXG4vLyAgIGl0cyBjb250ZW50LlxuLy9cbi8vICAgYXR0cnM6OiA/T2JqZWN0XG4vLyAgIEF0dHJpYnV0ZXMgZm9yIHRoZSBub2RlIG9yIG1hcmsgY3JlYXRlZCBieSB0aGlzIHJ1bGUuIFdoZW5cbi8vICAgYGdldEF0dHJzYCBpcyBwcm92aWRlZCwgaXQgdGFrZXMgcHJlY2VkZW5jZS5cbi8vXG4vLyAgIGdldEF0dHJzOjogPyh1bmlvbjxkb20uTm9kZSwgc3RyaW5nPikg4oaSID91bmlvbjxPYmplY3QsIGZhbHNlPlxuLy8gICBBIGZ1bmN0aW9uIHVzZWQgdG8gY29tcHV0ZSB0aGUgYXR0cmlidXRlcyBmb3IgdGhlIG5vZGUgb3IgbWFya1xuLy8gICBjcmVhdGVkIGJ5IHRoaXMgcnVsZS4gQ2FuIGFsc28gYmUgdXNlZCB0byBkZXNjcmliZSBmdXJ0aGVyXG4vLyAgIGNvbmRpdGlvbnMgdGhlIERPTSBlbGVtZW50IG9yIHN0eWxlIG11c3QgbWF0Y2guIFdoZW4gaXQgcmV0dXJuc1xuLy8gICBgZmFsc2VgLCB0aGUgcnVsZSB3b24ndCBtYXRjaC4gV2hlbiBpdCByZXR1cm5zIG51bGwgb3IgdW5kZWZpbmVkLFxuLy8gICB0aGF0IGlzIGludGVycHJldGVkIGFzIGFuIGVtcHR5L2RlZmF1bHQgc2V0IG9mIGF0dHJpYnV0ZXMuXG4vL1xuLy8gICBDYWxsZWQgd2l0aCBhIERPTSBFbGVtZW50IGZvciBgdGFnYCBydWxlcywgYW5kIHdpdGggYSBzdHJpbmcgKHRoZVxuLy8gICBzdHlsZSdzIHZhbHVlKSBmb3IgYHN0eWxlYCBydWxlcy5cbi8vXG4vLyAgIGNvbnRlbnRFbGVtZW50OjogP3VuaW9uPHN0cmluZywgKGRvbS5Ob2RlKSDihpIgZG9tLk5vZGU+XG4vLyAgIEZvciBgdGFnYCBydWxlcyB0aGF0IHByb2R1Y2Ugbm9uLWxlYWYgbm9kZXMgb3IgbWFya3MsIGJ5IGRlZmF1bHRcbi8vICAgdGhlIGNvbnRlbnQgb2YgdGhlIERPTSBlbGVtZW50IGlzIHBhcnNlZCBhcyBjb250ZW50IG9mIHRoZSBtYXJrXG4vLyAgIG9yIG5vZGUuIElmIHRoZSBjaGlsZCBub2RlcyBhcmUgaW4gYSBkZXNjZW5kZW50IG5vZGUsIHRoaXMgbWF5IGJlXG4vLyAgIGEgQ1NTIHNlbGVjdG9yIHN0cmluZyB0aGF0IHRoZSBwYXJzZXIgbXVzdCB1c2UgdG8gZmluZCB0aGUgYWN0dWFsXG4vLyAgIGNvbnRlbnQgZWxlbWVudCwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGFjdHVhbCBjb250ZW50XG4vLyAgIGVsZW1lbnQgdG8gdGhlIHBhcnNlci5cbi8vXG4vLyAgIGdldENvbnRlbnQ6OiA/KGRvbS5Ob2RlLCBzY2hlbWE6IFNjaGVtYSkg4oaSIEZyYWdtZW50XG4vLyAgIENhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIHRoZSBjb250ZW50IG9mIGEgbWF0Y2hlZCBub2RlLiBXaGVuXG4vLyAgIHByZXNlbnQsIGluc3RlYWQgb2YgcGFyc2luZyB0aGUgbm9kZSdzIGNoaWxkIG5vZGVzLCB0aGUgcmVzdWx0IG9mXG4vLyAgIHRoaXMgZnVuY3Rpb24gaXMgdXNlZC5cbi8vXG4vLyAgIHByZXNlcnZlV2hpdGVzcGFjZTo6ID91bmlvbjxib29sLCBcImZ1bGxcIj5cbi8vICAgQ29udHJvbHMgd2hldGhlciB3aGl0ZXNwYWNlIHNob3VsZCBiZSBwcmVzZXJ2ZWQgd2hlbiBwYXJzaW5nIHRoZVxuLy8gICBjb250ZW50IGluc2lkZSB0aGUgbWF0Y2hlZCBlbGVtZW50LiBgZmFsc2VgIG1lYW5zIHdoaXRlc3BhY2UgbWF5XG4vLyAgIGJlIGNvbGxhcHNlZCwgYHRydWVgIG1lYW5zIHRoYXQgd2hpdGVzcGFjZSBzaG91bGQgYmUgcHJlc2VydmVkXG4vLyAgIGJ1dCBuZXdsaW5lcyBub3JtYWxpemVkIHRvIHNwYWNlcywgYW5kIGBcImZ1bGxcImAgbWVhbnMgdGhhdFxuLy8gICBuZXdsaW5lcyBzaG91bGQgYWxzbyBiZSBwcmVzZXJ2ZWQuXG5cbi8vIDo6LSBBIERPTSBwYXJzZXIgcmVwcmVzZW50cyBhIHN0cmF0ZWd5IGZvciBwYXJzaW5nIERPTSBjb250ZW50IGludG9cbi8vIGEgUHJvc2VNaXJyb3IgZG9jdW1lbnQgY29uZm9ybWluZyB0byBhIGdpdmVuIHNjaGVtYS4gSXRzIGJlaGF2aW9yXG4vLyBpcyBkZWZpbmVkIGJ5IGFuIGFycmF5IG9mIFtydWxlc10oI21vZGVsLlBhcnNlUnVsZSkuXG5leHBvcnQgY2xhc3MgRE9NUGFyc2VyIHtcbiAgLy8gOjogKFNjaGVtYSwgW1BhcnNlUnVsZV0pXG4gIC8vIENyZWF0ZSBhIHBhcnNlciB0aGF0IHRhcmdldHMgdGhlIGdpdmVuIHNjaGVtYSwgdXNpbmcgdGhlIGdpdmVuXG4gIC8vIHBhcnNpbmcgcnVsZXMuXG4gIGNvbnN0cnVjdG9yKHNjaGVtYSwgcnVsZXMpIHtcbiAgICAvLyA6OiBTY2hlbWFcbiAgICAvLyBUaGUgc2NoZW1hIGludG8gd2hpY2ggdGhlIHBhcnNlciBwYXJzZXMuXG4gICAgdGhpcy5zY2hlbWEgPSBzY2hlbWFcbiAgICAvLyA6OiBbUGFyc2VSdWxlXVxuICAgIC8vIFRoZSBzZXQgb2YgW3BhcnNlIHJ1bGVzXSgjbW9kZWwuUGFyc2VSdWxlKSB0aGF0IHRoZSBwYXJzZXJcbiAgICAvLyB1c2VzLCBpbiBvcmRlciBvZiBwcmVjZWRlbmNlLlxuICAgIHRoaXMucnVsZXMgPSBydWxlc1xuICAgIHRoaXMudGFncyA9IFtdXG4gICAgdGhpcy5zdHlsZXMgPSBbXVxuXG4gICAgcnVsZXMuZm9yRWFjaChydWxlID0+IHtcbiAgICAgIGlmIChydWxlLnRhZykgdGhpcy50YWdzLnB1c2gocnVsZSlcbiAgICAgIGVsc2UgaWYgKHJ1bGUuc3R5bGUpIHRoaXMuc3R5bGVzLnB1c2gocnVsZSlcbiAgICB9KVxuICB9XG5cbiAgLy8gOjogKGRvbS5Ob2RlLCA/UGFyc2VPcHRpb25zKSDihpIgTm9kZVxuICAvLyBQYXJzZSBhIGRvY3VtZW50IGZyb20gdGhlIGNvbnRlbnQgb2YgYSBET00gbm9kZS5cbiAgcGFyc2UoZG9tLCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgY29udGV4dCA9IG5ldyBQYXJzZUNvbnRleHQodGhpcywgb3B0aW9ucywgZmFsc2UpXG4gICAgY29udGV4dC5hZGRBbGwoZG9tLCBudWxsLCBvcHRpb25zLmZyb20sIG9wdGlvbnMudG8pXG4gICAgcmV0dXJuIGNvbnRleHQuZmluaXNoKClcbiAgfVxuXG4gIC8vIDo6IChkb20uTm9kZSwgP1BhcnNlT3B0aW9ucykg4oaSIFNsaWNlXG4gIC8vIFBhcnNlcyB0aGUgY29udGVudCBvZiB0aGUgZ2l2ZW4gRE9NIG5vZGUsIGxpa2VcbiAgLy8gW2BwYXJzZWBdKCNtb2RlbC5ET01QYXJzZXIucGFyc2UpLCBhbmQgdGFrZXMgdGhlIHNhbWUgc2V0IG9mXG4gIC8vIG9wdGlvbnMuIEJ1dCB1bmxpa2UgdGhhdCBtZXRob2QsIHdoaWNoIHByb2R1Y2VzIGEgd2hvbGUgbm9kZSxcbiAgLy8gdGhpcyBvbmUgcmV0dXJucyBhIHNsaWNlIHRoYXQgaXMgb3BlbiBhdCB0aGUgc2lkZXMsIG1lYW5pbmcgdGhhdFxuICAvLyB0aGUgc2NoZW1hIGNvbnN0cmFpbnRzIGFyZW4ndCBhcHBsaWVkIHRvIHRoZSBzdGFydCBvZiBub2RlcyB0b1xuICAvLyB0aGUgbGVmdCBvZiB0aGUgaW5wdXQgYW5kIHRoZSBlbmQgb2Ygbm9kZXMgYXQgdGhlIGVuZC5cbiAgcGFyc2VTbGljZShkb20sIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBjb250ZXh0ID0gbmV3IFBhcnNlQ29udGV4dCh0aGlzLCBvcHRpb25zLCB0cnVlKVxuICAgIGNvbnRleHQuYWRkQWxsKGRvbSwgbnVsbCwgb3B0aW9ucy5mcm9tLCBvcHRpb25zLnRvKVxuICAgIHJldHVybiBTbGljZS5tYXhPcGVuKGNvbnRleHQuZmluaXNoKCkpXG4gIH1cblxuICBtYXRjaFRhZyhkb20sIGNvbnRleHQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGFncy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHJ1bGUgPSB0aGlzLnRhZ3NbaV1cbiAgICAgIGlmIChtYXRjaGVzKGRvbSwgcnVsZS50YWcpICYmXG4gICAgICAgICAgKHJ1bGUubmFtZXNwYWNlID09PSB1bmRlZmluZWQgfHwgZG9tLm5hbWVzcGFjZVVSSSA9PSBydWxlLm5hbWVzcGFjZSkgJiZcbiAgICAgICAgICAoIXJ1bGUuY29udGV4dCB8fCBjb250ZXh0Lm1hdGNoZXNDb250ZXh0KHJ1bGUuY29udGV4dCkpKSB7XG4gICAgICAgIGlmIChydWxlLmdldEF0dHJzKSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IHJ1bGUuZ2V0QXR0cnMoZG9tKVxuICAgICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSBjb250aW51ZVxuICAgICAgICAgIHJ1bGUuYXR0cnMgPSByZXN1bHRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnVsZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1hdGNoU3R5bGUocHJvcCwgdmFsdWUsIGNvbnRleHQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcnVsZSA9IHRoaXMuc3R5bGVzW2ldXG4gICAgICBpZiAocnVsZS5zdHlsZS5pbmRleE9mKHByb3ApICE9IDAgfHxcbiAgICAgICAgICBydWxlLmNvbnRleHQgJiYgIWNvbnRleHQubWF0Y2hlc0NvbnRleHQocnVsZS5jb250ZXh0KSB8fFxuICAgICAgICAgIC8vIFRlc3QgdGhhdCB0aGUgc3R5bGUgc3RyaW5nIGVpdGhlciBwcmVjaXNlbHkgbWF0Y2hlcyB0aGUgcHJvcCxcbiAgICAgICAgICAvLyBvciBoYXMgYW4gJz0nIHNpZ24gYWZ0ZXIgdGhlIHByb3AsIGZvbGxvd2VkIGJ5IHRoZSBnaXZlblxuICAgICAgICAgIC8vIHZhbHVlLlxuICAgICAgICAgIHJ1bGUuc3R5bGUubGVuZ3RoID4gcHJvcC5sZW5ndGggJiZcbiAgICAgICAgICAocnVsZS5zdHlsZS5jaGFyQ29kZUF0KHByb3AubGVuZ3RoKSAhPSA2MSB8fCBydWxlLnN0eWxlLnNsaWNlKHByb3AubGVuZ3RoICsgMSkgIT0gdmFsdWUpKVxuICAgICAgICBjb250aW51ZVxuICAgICAgaWYgKHJ1bGUuZ2V0QXR0cnMpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJ1bGUuZ2V0QXR0cnModmFsdWUpXG4gICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSBjb250aW51ZVxuICAgICAgICBydWxlLmF0dHJzID0gcmVzdWx0XG4gICAgICB9XG4gICAgICByZXR1cm4gcnVsZVxuICAgIH1cbiAgfVxuXG4gIC8vIDogKFNjaGVtYSkg4oaSIFtQYXJzZVJ1bGVdXG4gIHN0YXRpYyBzY2hlbWFSdWxlcyhzY2hlbWEpIHtcbiAgICBsZXQgcmVzdWx0ID0gW11cbiAgICBmdW5jdGlvbiBpbnNlcnQocnVsZSkge1xuICAgICAgbGV0IHByaW9yaXR5ID0gcnVsZS5wcmlvcml0eSA9PSBudWxsID8gNTAgOiBydWxlLnByaW9yaXR5LCBpID0gMFxuICAgICAgZm9yICg7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG5leHQgPSByZXN1bHRbaV0sIG5leHRQcmlvcml0eSA9IG5leHQucHJpb3JpdHkgPT0gbnVsbCA/IDUwIDogbmV4dC5wcmlvcml0eVxuICAgICAgICBpZiAobmV4dFByaW9yaXR5IDwgcHJpb3JpdHkpIGJyZWFrXG4gICAgICB9XG4gICAgICByZXN1bHQuc3BsaWNlKGksIDAsIHJ1bGUpXG4gICAgfVxuXG4gICAgZm9yIChsZXQgbmFtZSBpbiBzY2hlbWEubWFya3MpIHtcbiAgICAgIGxldCBydWxlcyA9IHNjaGVtYS5tYXJrc1tuYW1lXS5zcGVjLnBhcnNlRE9NXG4gICAgICBpZiAocnVsZXMpIHJ1bGVzLmZvckVhY2gocnVsZSA9PiB7XG4gICAgICAgIGluc2VydChydWxlID0gY29weShydWxlKSlcbiAgICAgICAgcnVsZS5tYXJrID0gbmFtZVxuICAgICAgfSlcbiAgICB9XG4gICAgZm9yIChsZXQgbmFtZSBpbiBzY2hlbWEubm9kZXMpIHtcbiAgICAgIGxldCBydWxlcyA9IHNjaGVtYS5ub2Rlc1tuYW1lXS5zcGVjLnBhcnNlRE9NXG4gICAgICBpZiAocnVsZXMpIHJ1bGVzLmZvckVhY2gocnVsZSA9PiB7XG4gICAgICAgIGluc2VydChydWxlID0gY29weShydWxlKSlcbiAgICAgICAgcnVsZS5ub2RlID0gbmFtZVxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLy8gOjogKFNjaGVtYSkg4oaSIERPTVBhcnNlclxuICAvLyBDb25zdHJ1Y3QgYSBET00gcGFyc2VyIHVzaW5nIHRoZSBwYXJzaW5nIHJ1bGVzIGxpc3RlZCBpbiBhXG4gIC8vIHNjaGVtYSdzIFtub2RlIHNwZWNzXSgjbW9kZWwuTm9kZVNwZWMucGFyc2VET00pLCByZW9yZGVyZWQgYnlcbiAgLy8gW3ByaW9yaXR5XSgjbW9kZWwuUGFyc2VSdWxlLnByaW9yaXR5KS5cbiAgc3RhdGljIGZyb21TY2hlbWEoc2NoZW1hKSB7XG4gICAgcmV0dXJuIHNjaGVtYS5jYWNoZWQuZG9tUGFyc2VyIHx8XG4gICAgICAoc2NoZW1hLmNhY2hlZC5kb21QYXJzZXIgPSBuZXcgRE9NUGFyc2VyKHNjaGVtYSwgRE9NUGFyc2VyLnNjaGVtYVJ1bGVzKHNjaGVtYSkpKVxuICB9XG59XG5cbi8vIDogT2JqZWN0PGJvb2w+IFRoZSBibG9jay1sZXZlbCB0YWdzIGluIEhUTUw1XG5jb25zdCBibG9ja1RhZ3MgPSB7XG4gIGFkZHJlc3M6IHRydWUsIGFydGljbGU6IHRydWUsIGFzaWRlOiB0cnVlLCBibG9ja3F1b3RlOiB0cnVlLCBjYW52YXM6IHRydWUsXG4gIGRkOiB0cnVlLCBkaXY6IHRydWUsIGRsOiB0cnVlLCBmaWVsZHNldDogdHJ1ZSwgZmlnY2FwdGlvbjogdHJ1ZSwgZmlndXJlOiB0cnVlLFxuICBmb290ZXI6IHRydWUsIGZvcm06IHRydWUsIGgxOiB0cnVlLCBoMjogdHJ1ZSwgaDM6IHRydWUsIGg0OiB0cnVlLCBoNTogdHJ1ZSxcbiAgaDY6IHRydWUsIGhlYWRlcjogdHJ1ZSwgaGdyb3VwOiB0cnVlLCBocjogdHJ1ZSwgbGk6IHRydWUsIG5vc2NyaXB0OiB0cnVlLCBvbDogdHJ1ZSxcbiAgb3V0cHV0OiB0cnVlLCBwOiB0cnVlLCBwcmU6IHRydWUsIHNlY3Rpb246IHRydWUsIHRhYmxlOiB0cnVlLCB0Zm9vdDogdHJ1ZSwgdWw6IHRydWVcbn1cblxuLy8gOiBPYmplY3Q8Ym9vbD4gVGhlIHRhZ3MgdGhhdCB3ZSBub3JtYWxseSBpZ25vcmUuXG5jb25zdCBpZ25vcmVUYWdzID0ge1xuICBoZWFkOiB0cnVlLCBub3NjcmlwdDogdHJ1ZSwgb2JqZWN0OiB0cnVlLCBzY3JpcHQ6IHRydWUsIHN0eWxlOiB0cnVlLCB0aXRsZTogdHJ1ZVxufVxuXG4vLyA6IE9iamVjdDxib29sPiBMaXN0IHRhZ3MuXG5jb25zdCBsaXN0VGFncyA9IHtvbDogdHJ1ZSwgdWw6IHRydWV9XG5cbi8vIFVzaW5nIGEgYml0ZmllbGQgZm9yIG5vZGUgY29udGV4dCBvcHRpb25zXG5jb25zdCBPUFRfUFJFU0VSVkVfV1MgPSAxLCBPUFRfUFJFU0VSVkVfV1NfRlVMTCA9IDIsIE9QVF9PUEVOX0xFRlQgPSA0XG5cbmZ1bmN0aW9uIHdzT3B0aW9uc0ZvcihwcmVzZXJ2ZVdoaXRlc3BhY2UpIHtcbiAgcmV0dXJuIChwcmVzZXJ2ZVdoaXRlc3BhY2UgPyBPUFRfUFJFU0VSVkVfV1MgOiAwKSB8IChwcmVzZXJ2ZVdoaXRlc3BhY2UgPT09IFwiZnVsbFwiID8gT1BUX1BSRVNFUlZFX1dTX0ZVTEwgOiAwKVxufVxuXG5jbGFzcyBOb2RlQ29udGV4dCB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGF0dHJzLCBtYXJrcywgcGVuZGluZ01hcmtzLCBzb2xpZCwgbWF0Y2gsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnR5cGUgPSB0eXBlXG4gICAgdGhpcy5hdHRycyA9IGF0dHJzXG4gICAgdGhpcy5zb2xpZCA9IHNvbGlkXG4gICAgdGhpcy5tYXRjaCA9IG1hdGNoIHx8IChvcHRpb25zICYgT1BUX09QRU5fTEVGVCA/IG51bGwgOiB0eXBlLmNvbnRlbnRNYXRjaClcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gICAgdGhpcy5jb250ZW50ID0gW11cbiAgICAvLyBNYXJrcyBhcHBsaWVkIHRvIHRoaXMgbm9kZSBpdHNlbGZcbiAgICB0aGlzLm1hcmtzID0gbWFya3NcbiAgICAvLyBNYXJrcyBhcHBsaWVkIHRvIGl0cyBjaGlsZHJlblxuICAgIHRoaXMuYWN0aXZlTWFya3MgPSBNYXJrLm5vbmVcbiAgICAvLyBNYXJrcyB0aGF0IGNhbid0IGFwcGx5IGhlcmUsIGJ1dCB3aWxsIGJlIHVzZWQgaW4gY2hpbGRyZW4gaWYgcG9zc2libGVcbiAgICB0aGlzLnBlbmRpbmdNYXJrcyA9IHBlbmRpbmdNYXJrc1xuICB9XG5cbiAgZmluZFdyYXBwaW5nKG5vZGUpIHtcbiAgICBpZiAoIXRoaXMubWF0Y2gpIHtcbiAgICAgIGlmICghdGhpcy50eXBlKSByZXR1cm4gW11cbiAgICAgIGxldCBmaWxsID0gdGhpcy50eXBlLmNvbnRlbnRNYXRjaC5maWxsQmVmb3JlKEZyYWdtZW50LmZyb20obm9kZSkpXG4gICAgICBpZiAoZmlsbCkge1xuICAgICAgICB0aGlzLm1hdGNoID0gdGhpcy50eXBlLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KGZpbGwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnR5cGUuY29udGVudE1hdGNoLCB3cmFwXG4gICAgICAgIGlmICh3cmFwID0gc3RhcnQuZmluZFdyYXBwaW5nKG5vZGUudHlwZSkpIHtcbiAgICAgICAgICB0aGlzLm1hdGNoID0gc3RhcnRcbiAgICAgICAgICByZXR1cm4gd3JhcFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubWF0Y2guZmluZFdyYXBwaW5nKG5vZGUudHlwZSlcbiAgfVxuXG4gIGZpbmlzaChvcGVuRW5kKSB7XG4gICAgaWYgKCEodGhpcy5vcHRpb25zICYgT1BUX1BSRVNFUlZFX1dTKSkgeyAvLyBTdHJpcCB0cmFpbGluZyB3aGl0ZXNwYWNlXG4gICAgICBsZXQgbGFzdCA9IHRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMV0sIG1cbiAgICAgIGlmIChsYXN0ICYmIGxhc3QuaXNUZXh0ICYmIChtID0gL1sgXFx0XFxyXFxuXFx1MDAwY10rJC8uZXhlYyhsYXN0LnRleHQpKSkge1xuICAgICAgICBpZiAobGFzdC50ZXh0Lmxlbmd0aCA9PSBtWzBdLmxlbmd0aCkgdGhpcy5jb250ZW50LnBvcCgpXG4gICAgICAgIGVsc2UgdGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGggLSAxXSA9IGxhc3Qud2l0aFRleHQobGFzdC50ZXh0LnNsaWNlKDAsIGxhc3QudGV4dC5sZW5ndGggLSBtWzBdLmxlbmd0aCkpXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBjb250ZW50ID0gRnJhZ21lbnQuZnJvbSh0aGlzLmNvbnRlbnQpXG4gICAgaWYgKCFvcGVuRW5kICYmIHRoaXMubWF0Y2gpXG4gICAgICBjb250ZW50ID0gY29udGVudC5hcHBlbmQodGhpcy5tYXRjaC5maWxsQmVmb3JlKEZyYWdtZW50LmVtcHR5LCB0cnVlKSlcbiAgICByZXR1cm4gdGhpcy50eXBlID8gdGhpcy50eXBlLmNyZWF0ZSh0aGlzLmF0dHJzLCBjb250ZW50LCB0aGlzLm1hcmtzKSA6IGNvbnRlbnRcbiAgfVxuXG4gIGFwcGx5UGVuZGluZyhuZXh0VHlwZSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBwZW5kaW5nID0gdGhpcy5wZW5kaW5nTWFya3M7IGkgPCBwZW5kaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbWFyayA9IHBlbmRpbmdbaV1cbiAgICAgIGlmICgodGhpcy50eXBlID8gdGhpcy50eXBlLmFsbG93c01hcmtUeXBlKG1hcmsudHlwZSkgOiBtYXJrTWF5QXBwbHkobWFyay50eXBlLCBuZXh0VHlwZSkpICYmXG4gICAgICAgICAgIW1hcmsuaXNJblNldCh0aGlzLmFjdGl2ZU1hcmtzKSkge1xuICAgICAgICB0aGlzLmFjdGl2ZU1hcmtzID0gbWFyay5hZGRUb1NldCh0aGlzLmFjdGl2ZU1hcmtzKVxuICAgICAgICB0aGlzLnBlbmRpbmdNYXJrcyA9IG1hcmsucmVtb3ZlRnJvbVNldCh0aGlzLnBlbmRpbmdNYXJrcylcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgUGFyc2VDb250ZXh0IHtcbiAgLy8gOiAoRE9NUGFyc2VyLCBPYmplY3QpXG4gIGNvbnN0cnVjdG9yKHBhcnNlciwgb3B0aW9ucywgb3Blbikge1xuICAgIC8vIDogRE9NUGFyc2VyIFRoZSBwYXJzZXIgd2UgYXJlIHVzaW5nLlxuICAgIHRoaXMucGFyc2VyID0gcGFyc2VyXG4gICAgLy8gOiBPYmplY3QgVGhlIG9wdGlvbnMgcGFzc2VkIHRvIHRoaXMgcGFyc2UuXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICAgIHRoaXMuaXNPcGVuID0gb3BlblxuICAgIGxldCB0b3BOb2RlID0gb3B0aW9ucy50b3BOb2RlLCB0b3BDb250ZXh0XG4gICAgbGV0IHRvcE9wdGlvbnMgPSB3c09wdGlvbnNGb3Iob3B0aW9ucy5wcmVzZXJ2ZVdoaXRlc3BhY2UpIHwgKG9wZW4gPyBPUFRfT1BFTl9MRUZUIDogMClcbiAgICBpZiAodG9wTm9kZSlcbiAgICAgIHRvcENvbnRleHQgPSBuZXcgTm9kZUNvbnRleHQodG9wTm9kZS50eXBlLCB0b3BOb2RlLmF0dHJzLCBNYXJrLm5vbmUsIE1hcmsubm9uZSwgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy50b3BNYXRjaCB8fCB0b3BOb2RlLnR5cGUuY29udGVudE1hdGNoLCB0b3BPcHRpb25zKVxuICAgIGVsc2UgaWYgKG9wZW4pXG4gICAgICB0b3BDb250ZXh0ID0gbmV3IE5vZGVDb250ZXh0KG51bGwsIG51bGwsIE1hcmsubm9uZSwgTWFyay5ub25lLCB0cnVlLCBudWxsLCB0b3BPcHRpb25zKVxuICAgIGVsc2VcbiAgICAgIHRvcENvbnRleHQgPSBuZXcgTm9kZUNvbnRleHQocGFyc2VyLnNjaGVtYS50b3BOb2RlVHlwZSwgbnVsbCwgTWFyay5ub25lLCBNYXJrLm5vbmUsIHRydWUsIG51bGwsIHRvcE9wdGlvbnMpXG4gICAgdGhpcy5ub2RlcyA9IFt0b3BDb250ZXh0XVxuICAgIC8vIDogW01hcmtdIFRoZSBjdXJyZW50IHNldCBvZiBtYXJrc1xuICAgIHRoaXMub3BlbiA9IDBcbiAgICB0aGlzLmZpbmQgPSBvcHRpb25zLmZpbmRQb3NpdGlvbnNcbiAgICB0aGlzLm5lZWRzQmxvY2sgPSBmYWxzZVxuICB9XG5cbiAgZ2V0IHRvcCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlc1t0aGlzLm9wZW5dXG4gIH1cblxuICAvLyA6IChkb20uTm9kZSlcbiAgLy8gQWRkIGEgRE9NIG5vZGUgdG8gdGhlIGNvbnRlbnQuIFRleHQgaXMgaW5zZXJ0ZWQgYXMgdGV4dCBub2RlLFxuICAvLyBvdGhlcndpc2UsIHRoZSBub2RlIGlzIHBhc3NlZCB0byBgYWRkRWxlbWVudGAgb3IsIGlmIGl0IGhhcyBhXG4gIC8vIGBzdHlsZWAgYXR0cmlidXRlLCBgYWRkRWxlbWVudFdpdGhTdHlsZXNgLlxuICBhZGRET00oZG9tKSB7XG4gICAgaWYgKGRvbS5ub2RlVHlwZSA9PSAzKSB7XG4gICAgICB0aGlzLmFkZFRleHROb2RlKGRvbSlcbiAgICB9IGVsc2UgaWYgKGRvbS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICBsZXQgc3R5bGUgPSBkb20uZ2V0QXR0cmlidXRlKFwic3R5bGVcIilcbiAgICAgIGxldCBtYXJrcyA9IHN0eWxlID8gdGhpcy5yZWFkU3R5bGVzKHBhcnNlU3R5bGVzKHN0eWxlKSkgOiBudWxsLCB0b3AgPSB0aGlzLnRvcFxuICAgICAgaWYgKG1hcmtzICE9IG51bGwpIGZvciAobGV0IGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyBpKyspIHRoaXMuYWRkUGVuZGluZ01hcmsobWFya3NbaV0pXG4gICAgICB0aGlzLmFkZEVsZW1lbnQoZG9tKVxuICAgICAgaWYgKG1hcmtzICE9IG51bGwpIGZvciAobGV0IGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyBpKyspIHRoaXMucmVtb3ZlUGVuZGluZ01hcmsobWFya3NbaV0sIHRvcClcbiAgICB9XG4gIH1cblxuICBhZGRUZXh0Tm9kZShkb20pIHtcbiAgICBsZXQgdmFsdWUgPSBkb20ubm9kZVZhbHVlXG4gICAgbGV0IHRvcCA9IHRoaXMudG9wXG4gICAgaWYgKCh0b3AudHlwZSA/IHRvcC50eXBlLmlubGluZUNvbnRlbnQgOiB0b3AuY29udGVudC5sZW5ndGggJiYgdG9wLmNvbnRlbnRbMF0uaXNJbmxpbmUpIHx8IC9bXiBcXHRcXHJcXG5cXHUwMDBjXS8udGVzdCh2YWx1ZSkpIHtcbiAgICAgIGlmICghKHRvcC5vcHRpb25zICYgT1BUX1BSRVNFUlZFX1dTKSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1sgXFx0XFxyXFxuXFx1MDAwY10rL2csIFwiIFwiKVxuICAgICAgICAvLyBJZiB0aGlzIHN0YXJ0cyB3aXRoIHdoaXRlc3BhY2UsIGFuZCB0aGVyZSBpcyBubyBub2RlIGJlZm9yZSBpdCwgb3JcbiAgICAgICAgLy8gYSBoYXJkIGJyZWFrLCBvciBhIHRleHQgbm9kZSB0aGF0IGVuZHMgd2l0aCB3aGl0ZXNwYWNlLCBzdHJpcCB0aGVcbiAgICAgICAgLy8gbGVhZGluZyBzcGFjZS5cbiAgICAgICAgaWYgKC9eWyBcXHRcXHJcXG5cXHUwMDBjXS8udGVzdCh2YWx1ZSkgJiYgdGhpcy5vcGVuID09IHRoaXMubm9kZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGxldCBub2RlQmVmb3JlID0gdG9wLmNvbnRlbnRbdG9wLmNvbnRlbnQubGVuZ3RoIC0gMV1cbiAgICAgICAgICBsZXQgZG9tTm9kZUJlZm9yZSA9IGRvbS5wcmV2aW91c1NpYmxpbmdcbiAgICAgICAgICBpZiAoIW5vZGVCZWZvcmUgfHxcbiAgICAgICAgICAgICAgKGRvbU5vZGVCZWZvcmUgJiYgZG9tTm9kZUJlZm9yZS5ub2RlTmFtZSA9PSAnQlInKSB8fFxuICAgICAgICAgICAgICAobm9kZUJlZm9yZS5pc1RleHQgJiYgL1sgXFx0XFxyXFxuXFx1MDAwY10kLy50ZXN0KG5vZGVCZWZvcmUudGV4dCkpKVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgxKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCEodG9wLm9wdGlvbnMgJiBPUFRfUFJFU0VSVkVfV1NfRlVMTCkpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXHI/XFxufFxcci9nLCBcIiBcIilcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSkgdGhpcy5pbnNlcnROb2RlKHRoaXMucGFyc2VyLnNjaGVtYS50ZXh0KHZhbHVlKSlcbiAgICAgIHRoaXMuZmluZEluVGV4dChkb20pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZmluZEluc2lkZShkb20pXG4gICAgfVxuICB9XG5cbiAgLy8gOiAoZG9tLkVsZW1lbnQpXG4gIC8vIFRyeSB0byBmaW5kIGEgaGFuZGxlciBmb3IgdGhlIGdpdmVuIHRhZyBhbmQgdXNlIHRoYXQgdG8gcGFyc2UuIElmXG4gIC8vIG5vbmUgaXMgZm91bmQsIHRoZSBlbGVtZW50J3MgY29udGVudCBub2RlcyBhcmUgYWRkZWQgZGlyZWN0bHkuXG4gIGFkZEVsZW1lbnQoZG9tKSB7XG4gICAgbGV0IG5hbWUgPSBkb20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKVxuICAgIGlmIChsaXN0VGFncy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgbm9ybWFsaXplTGlzdChkb20pXG4gICAgbGV0IHJ1bGUgPSAodGhpcy5vcHRpb25zLnJ1bGVGcm9tTm9kZSAmJiB0aGlzLm9wdGlvbnMucnVsZUZyb21Ob2RlKGRvbSkpIHx8IHRoaXMucGFyc2VyLm1hdGNoVGFnKGRvbSwgdGhpcylcbiAgICBpZiAocnVsZSA/IHJ1bGUuaWdub3JlIDogaWdub3JlVGFncy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgdGhpcy5maW5kSW5zaWRlKGRvbSlcbiAgICB9IGVsc2UgaWYgKCFydWxlIHx8IHJ1bGUuc2tpcCkge1xuICAgICAgaWYgKHJ1bGUgJiYgcnVsZS5za2lwLm5vZGVUeXBlKSBkb20gPSBydWxlLnNraXBcbiAgICAgIGxldCBzeW5jLCB0b3AgPSB0aGlzLnRvcCwgb2xkTmVlZHNCbG9jayA9IHRoaXMubmVlZHNCbG9ja1xuICAgICAgaWYgKGJsb2NrVGFncy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBzeW5jID0gdHJ1ZVxuICAgICAgICBpZiAoIXRvcC50eXBlKSB0aGlzLm5lZWRzQmxvY2sgPSB0cnVlXG4gICAgICB9IGVsc2UgaWYgKCFkb20uZmlyc3RDaGlsZCkge1xuICAgICAgICB0aGlzLmxlYWZGYWxsYmFjayhkb20pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgdGhpcy5hZGRBbGwoZG9tKVxuICAgICAgaWYgKHN5bmMpIHRoaXMuc3luYyh0b3ApXG4gICAgICB0aGlzLm5lZWRzQmxvY2sgPSBvbGROZWVkc0Jsb2NrXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkRWxlbWVudEJ5UnVsZShkb20sIHJ1bGUpXG4gICAgfVxuICB9XG5cbiAgLy8gQ2FsbGVkIGZvciBsZWFmIERPTSBub2RlcyB0aGF0IHdvdWxkIG90aGVyd2lzZSBiZSBpZ25vcmVkXG4gIGxlYWZGYWxsYmFjayhkb20pIHtcbiAgICBpZiAoZG9tLm5vZGVOYW1lID09IFwiQlJcIiAmJiB0aGlzLnRvcC50eXBlICYmIHRoaXMudG9wLnR5cGUuaW5saW5lQ29udGVudClcbiAgICAgIHRoaXMuYWRkVGV4dE5vZGUoZG9tLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcXG5cIikpXG4gIH1cblxuICAvLyBSdW4gYW55IHN0eWxlIHBhcnNlciBhc3NvY2lhdGVkIHdpdGggdGhlIG5vZGUncyBzdHlsZXMuIEVpdGhlclxuICAvLyByZXR1cm4gYW4gYXJyYXkgb2YgbWFya3MsIG9yIG51bGwgdG8gaW5kaWNhdGUgc29tZSBvZiB0aGUgc3R5bGVzXG4gIC8vIGhhZCBhIHJ1bGUgd2l0aCBgaWdub3JlYCBzZXQuXG4gIHJlYWRTdHlsZXMoc3R5bGVzKSB7XG4gICAgbGV0IG1hcmtzID0gTWFyay5ub25lXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIGxldCBydWxlID0gdGhpcy5wYXJzZXIubWF0Y2hTdHlsZShzdHlsZXNbaV0sIHN0eWxlc1tpICsgMV0sIHRoaXMpXG4gICAgICBpZiAoIXJ1bGUpIGNvbnRpbnVlXG4gICAgICBpZiAocnVsZS5pZ25vcmUpIHJldHVybiBudWxsXG4gICAgICBtYXJrcyA9IHRoaXMucGFyc2VyLnNjaGVtYS5tYXJrc1tydWxlLm1hcmtdLmNyZWF0ZShydWxlLmF0dHJzKS5hZGRUb1NldChtYXJrcylcbiAgICB9XG4gICAgcmV0dXJuIG1hcmtzXG4gIH1cblxuICAvLyA6IChkb20uRWxlbWVudCwgUGFyc2VSdWxlKSDihpIgYm9vbFxuICAvLyBMb29rIHVwIGEgaGFuZGxlciBmb3IgdGhlIGdpdmVuIG5vZGUuIElmIG5vbmUgYXJlIGZvdW5kLCByZXR1cm5cbiAgLy8gZmFsc2UuIE90aGVyd2lzZSwgYXBwbHkgaXQsIHVzZSBpdHMgcmV0dXJuIHZhbHVlIHRvIGRyaXZlIHRoZSB3YXlcbiAgLy8gdGhlIG5vZGUncyBjb250ZW50IGlzIHdyYXBwZWQsIGFuZCByZXR1cm4gdHJ1ZS5cbiAgYWRkRWxlbWVudEJ5UnVsZShkb20sIHJ1bGUpIHtcbiAgICBsZXQgc3luYywgbm9kZVR5cGUsIG1hcmtUeXBlLCBtYXJrXG4gICAgaWYgKHJ1bGUubm9kZSkge1xuICAgICAgbm9kZVR5cGUgPSB0aGlzLnBhcnNlci5zY2hlbWEubm9kZXNbcnVsZS5ub2RlXVxuICAgICAgaWYgKCFub2RlVHlwZS5pc0xlYWYpIHtcbiAgICAgICAgc3luYyA9IHRoaXMuZW50ZXIobm9kZVR5cGUsIHJ1bGUuYXR0cnMsIHJ1bGUucHJlc2VydmVXaGl0ZXNwYWNlKVxuICAgICAgfSBlbHNlIGlmICghdGhpcy5pbnNlcnROb2RlKG5vZGVUeXBlLmNyZWF0ZShydWxlLmF0dHJzKSkpIHtcbiAgICAgICAgdGhpcy5sZWFmRmFsbGJhY2soZG9tKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtYXJrVHlwZSA9IHRoaXMucGFyc2VyLnNjaGVtYS5tYXJrc1tydWxlLm1hcmtdXG4gICAgICBtYXJrID0gbWFya1R5cGUuY3JlYXRlKHJ1bGUuYXR0cnMpXG4gICAgICB0aGlzLmFkZFBlbmRpbmdNYXJrKG1hcmspXG4gICAgfVxuICAgIGxldCBzdGFydEluID0gdGhpcy50b3BcblxuICAgIGlmIChub2RlVHlwZSAmJiBub2RlVHlwZS5pc0xlYWYpIHtcbiAgICAgIHRoaXMuZmluZEluc2lkZShkb20pXG4gICAgfSBlbHNlIGlmIChydWxlLmdldENvbnRlbnQpIHtcbiAgICAgIHRoaXMuZmluZEluc2lkZShkb20pXG4gICAgICBydWxlLmdldENvbnRlbnQoZG9tLCB0aGlzLnBhcnNlci5zY2hlbWEpLmZvckVhY2gobm9kZSA9PiB0aGlzLmluc2VydE5vZGUobm9kZSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBjb250ZW50RE9NID0gcnVsZS5jb250ZW50RWxlbWVudFxuICAgICAgaWYgKHR5cGVvZiBjb250ZW50RE9NID09IFwic3RyaW5nXCIpIGNvbnRlbnRET00gPSBkb20ucXVlcnlTZWxlY3Rvcihjb250ZW50RE9NKVxuICAgICAgZWxzZSBpZiAodHlwZW9mIGNvbnRlbnRET00gPT0gXCJmdW5jdGlvblwiKSBjb250ZW50RE9NID0gY29udGVudERPTShkb20pXG4gICAgICBpZiAoIWNvbnRlbnRET00pIGNvbnRlbnRET00gPSBkb21cbiAgICAgIHRoaXMuZmluZEFyb3VuZChkb20sIGNvbnRlbnRET00sIHRydWUpXG4gICAgICB0aGlzLmFkZEFsbChjb250ZW50RE9NLCBzeW5jKVxuICAgIH1cbiAgICBpZiAoc3luYykgeyB0aGlzLnN5bmMoc3RhcnRJbik7IHRoaXMub3Blbi0tIH1cbiAgICBpZiAobWFyaykgdGhpcy5yZW1vdmVQZW5kaW5nTWFyayhtYXJrLCBzdGFydEluKVxuICB9XG5cbiAgLy8gOiAoZG9tLk5vZGUsID9Ob2RlQnVpbGRlciwgP251bWJlciwgP251bWJlcilcbiAgLy8gQWRkIGFsbCBjaGlsZCBub2RlcyBiZXR3ZWVuIGBzdGFydEluZGV4YCBhbmQgYGVuZEluZGV4YCAob3IgdGhlXG4gIC8vIHdob2xlIG5vZGUsIGlmIG5vdCBnaXZlbikuIElmIGBzeW5jYCBpcyBwYXNzZWQsIHVzZSBpdCB0b1xuICAvLyBzeW5jaHJvbml6ZSBhZnRlciBldmVyeSBibG9jayBlbGVtZW50LlxuICBhZGRBbGwocGFyZW50LCBzeW5jLCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIGxldCBpbmRleCA9IHN0YXJ0SW5kZXggfHwgMFxuICAgIGZvciAobGV0IGRvbSA9IHN0YXJ0SW5kZXggPyBwYXJlbnQuY2hpbGROb2Rlc1tzdGFydEluZGV4XSA6IHBhcmVudC5maXJzdENoaWxkLFxuICAgICAgICAgICAgIGVuZCA9IGVuZEluZGV4ID09IG51bGwgPyBudWxsIDogcGFyZW50LmNoaWxkTm9kZXNbZW5kSW5kZXhdO1xuICAgICAgICAgZG9tICE9IGVuZDsgZG9tID0gZG9tLm5leHRTaWJsaW5nLCArK2luZGV4KSB7XG4gICAgICB0aGlzLmZpbmRBdFBvaW50KHBhcmVudCwgaW5kZXgpXG4gICAgICB0aGlzLmFkZERPTShkb20pXG4gICAgICBpZiAoc3luYyAmJiBibG9ja1RhZ3MuaGFzT3duUHJvcGVydHkoZG9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKVxuICAgICAgICB0aGlzLnN5bmMoc3luYylcbiAgICB9XG4gICAgdGhpcy5maW5kQXRQb2ludChwYXJlbnQsIGluZGV4KVxuICB9XG5cbiAgLy8gVHJ5IHRvIGZpbmQgYSB3YXkgdG8gZml0IHRoZSBnaXZlbiBub2RlIHR5cGUgaW50byB0aGUgY3VycmVudFxuICAvLyBjb250ZXh0LiBNYXkgYWRkIGludGVybWVkaWF0ZSB3cmFwcGVycyBhbmQvb3IgbGVhdmUgbm9uLXNvbGlkXG4gIC8vIG5vZGVzIHRoYXQgd2UncmUgaW4uXG4gIGZpbmRQbGFjZShub2RlKSB7XG4gICAgbGV0IHJvdXRlLCBzeW5jXG4gICAgZm9yIChsZXQgZGVwdGggPSB0aGlzLm9wZW47IGRlcHRoID49IDA7IGRlcHRoLS0pIHtcbiAgICAgIGxldCBjeCA9IHRoaXMubm9kZXNbZGVwdGhdXG4gICAgICBsZXQgZm91bmQgPSBjeC5maW5kV3JhcHBpbmcobm9kZSlcbiAgICAgIGlmIChmb3VuZCAmJiAoIXJvdXRlIHx8IHJvdXRlLmxlbmd0aCA+IGZvdW5kLmxlbmd0aCkpIHtcbiAgICAgICAgcm91dGUgPSBmb3VuZFxuICAgICAgICBzeW5jID0gY3hcbiAgICAgICAgaWYgKCFmb3VuZC5sZW5ndGgpIGJyZWFrXG4gICAgICB9XG4gICAgICBpZiAoY3guc29saWQpIGJyZWFrXG4gICAgfVxuICAgIGlmICghcm91dGUpIHJldHVybiBmYWxzZVxuICAgIHRoaXMuc3luYyhzeW5jKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm91dGUubGVuZ3RoOyBpKyspXG4gICAgICB0aGlzLmVudGVySW5uZXIocm91dGVbaV0sIG51bGwsIGZhbHNlKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyA6IChOb2RlKSDihpIgP05vZGVcbiAgLy8gVHJ5IHRvIGluc2VydCB0aGUgZ2l2ZW4gbm9kZSwgYWRqdXN0aW5nIHRoZSBjb250ZXh0IHdoZW4gbmVlZGVkLlxuICBpbnNlcnROb2RlKG5vZGUpIHtcbiAgICBpZiAobm9kZS5pc0lubGluZSAmJiB0aGlzLm5lZWRzQmxvY2sgJiYgIXRoaXMudG9wLnR5cGUpIHtcbiAgICAgIGxldCBibG9jayA9IHRoaXMudGV4dGJsb2NrRnJvbUNvbnRleHQoKVxuICAgICAgaWYgKGJsb2NrKSB0aGlzLmVudGVySW5uZXIoYmxvY2spXG4gICAgfVxuICAgIGlmICh0aGlzLmZpbmRQbGFjZShub2RlKSkge1xuICAgICAgdGhpcy5jbG9zZUV4dHJhKClcbiAgICAgIGxldCB0b3AgPSB0aGlzLnRvcFxuICAgICAgdG9wLmFwcGx5UGVuZGluZyhub2RlLnR5cGUpXG4gICAgICBpZiAodG9wLm1hdGNoKSB0b3AubWF0Y2ggPSB0b3AubWF0Y2gubWF0Y2hUeXBlKG5vZGUudHlwZSlcbiAgICAgIGxldCBtYXJrcyA9IHRvcC5hY3RpdmVNYXJrc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLm1hcmtzLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAoIXRvcC50eXBlIHx8IHRvcC50eXBlLmFsbG93c01hcmtUeXBlKG5vZGUubWFya3NbaV0udHlwZSkpXG4gICAgICAgICAgbWFya3MgPSBub2RlLm1hcmtzW2ldLmFkZFRvU2V0KG1hcmtzKVxuICAgICAgdG9wLmNvbnRlbnQucHVzaChub2RlLm1hcmsobWFya3MpKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyA6IChOb2RlVHlwZSwgP09iamVjdCkg4oaSIGJvb2xcbiAgLy8gVHJ5IHRvIHN0YXJ0IGEgbm9kZSBvZiB0aGUgZ2l2ZW4gdHlwZSwgYWRqdXN0aW5nIHRoZSBjb250ZXh0IHdoZW5cbiAgLy8gbmVjZXNzYXJ5LlxuICBlbnRlcih0eXBlLCBhdHRycywgcHJlc2VydmVXUykge1xuICAgIGxldCBvayA9IHRoaXMuZmluZFBsYWNlKHR5cGUuY3JlYXRlKGF0dHJzKSlcbiAgICBpZiAob2spIHRoaXMuZW50ZXJJbm5lcih0eXBlLCBhdHRycywgdHJ1ZSwgcHJlc2VydmVXUylcbiAgICByZXR1cm4gb2tcbiAgfVxuXG4gIC8vIE9wZW4gYSBub2RlIG9mIHRoZSBnaXZlbiB0eXBlXG4gIGVudGVySW5uZXIodHlwZSwgYXR0cnMsIHNvbGlkLCBwcmVzZXJ2ZVdTKSB7XG4gICAgdGhpcy5jbG9zZUV4dHJhKClcbiAgICBsZXQgdG9wID0gdGhpcy50b3BcbiAgICB0b3AuYXBwbHlQZW5kaW5nKHR5cGUpXG4gICAgdG9wLm1hdGNoID0gdG9wLm1hdGNoICYmIHRvcC5tYXRjaC5tYXRjaFR5cGUodHlwZSwgYXR0cnMpXG4gICAgbGV0IG9wdGlvbnMgPSBwcmVzZXJ2ZVdTID09IG51bGwgPyB0b3Aub3B0aW9ucyAmIH5PUFRfT1BFTl9MRUZUIDogd3NPcHRpb25zRm9yKHByZXNlcnZlV1MpXG4gICAgaWYgKCh0b3Aub3B0aW9ucyAmIE9QVF9PUEVOX0xFRlQpICYmIHRvcC5jb250ZW50Lmxlbmd0aCA9PSAwKSBvcHRpb25zIHw9IE9QVF9PUEVOX0xFRlRcbiAgICB0aGlzLm5vZGVzLnB1c2gobmV3IE5vZGVDb250ZXh0KHR5cGUsIGF0dHJzLCB0b3AuYWN0aXZlTWFya3MsIHRvcC5wZW5kaW5nTWFya3MsIHNvbGlkLCBudWxsLCBvcHRpb25zKSlcbiAgICB0aGlzLm9wZW4rK1xuICB9XG5cbiAgLy8gTWFrZSBzdXJlIGFsbCBub2RlcyBhYm92ZSB0aGlzLm9wZW4gYXJlIGZpbmlzaGVkIGFuZCBhZGRlZCB0b1xuICAvLyB0aGVpciBwYXJlbnRzXG4gIGNsb3NlRXh0cmEob3BlbkVuZCkge1xuICAgIGxldCBpID0gdGhpcy5ub2Rlcy5sZW5ndGggLSAxXG4gICAgaWYgKGkgPiB0aGlzLm9wZW4pIHtcbiAgICAgIGZvciAoOyBpID4gdGhpcy5vcGVuOyBpLS0pIHRoaXMubm9kZXNbaSAtIDFdLmNvbnRlbnQucHVzaCh0aGlzLm5vZGVzW2ldLmZpbmlzaChvcGVuRW5kKSlcbiAgICAgIHRoaXMubm9kZXMubGVuZ3RoID0gdGhpcy5vcGVuICsgMVxuICAgIH1cbiAgfVxuXG4gIGZpbmlzaCgpIHtcbiAgICB0aGlzLm9wZW4gPSAwXG4gICAgdGhpcy5jbG9zZUV4dHJhKHRoaXMuaXNPcGVuKVxuICAgIHJldHVybiB0aGlzLm5vZGVzWzBdLmZpbmlzaCh0aGlzLmlzT3BlbiB8fCB0aGlzLm9wdGlvbnMudG9wT3BlbilcbiAgfVxuXG4gIHN5bmModG8pIHtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5vcGVuOyBpID49IDA7IGktLSkgaWYgKHRoaXMubm9kZXNbaV0gPT0gdG8pIHtcbiAgICAgIHRoaXMub3BlbiA9IGlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgfVxuXG4gIGdldCBjdXJyZW50UG9zKCkge1xuICAgIHRoaXMuY2xvc2VFeHRyYSgpXG4gICAgbGV0IHBvcyA9IDBcbiAgICBmb3IgKGxldCBpID0gdGhpcy5vcGVuOyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLm5vZGVzW2ldLmNvbnRlbnRcbiAgICAgIGZvciAobGV0IGogPSBjb250ZW50Lmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKVxuICAgICAgICBwb3MgKz0gY29udGVudFtqXS5ub2RlU2l6ZVxuICAgICAgaWYgKGkpIHBvcysrXG4gICAgfVxuICAgIHJldHVybiBwb3NcbiAgfVxuXG4gIGZpbmRBdFBvaW50KHBhcmVudCwgb2Zmc2V0KSB7XG4gICAgaWYgKHRoaXMuZmluZCkgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbmQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmZpbmRbaV0ubm9kZSA9PSBwYXJlbnQgJiYgdGhpcy5maW5kW2ldLm9mZnNldCA9PSBvZmZzZXQpXG4gICAgICAgIHRoaXMuZmluZFtpXS5wb3MgPSB0aGlzLmN1cnJlbnRQb3NcbiAgICB9XG4gIH1cblxuICBmaW5kSW5zaWRlKHBhcmVudCkge1xuICAgIGlmICh0aGlzLmZpbmQpIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maW5kLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5maW5kW2ldLnBvcyA9PSBudWxsICYmIHBhcmVudC5ub2RlVHlwZSA9PSAxICYmIHBhcmVudC5jb250YWlucyh0aGlzLmZpbmRbaV0ubm9kZSkpXG4gICAgICAgIHRoaXMuZmluZFtpXS5wb3MgPSB0aGlzLmN1cnJlbnRQb3NcbiAgICB9XG4gIH1cblxuICBmaW5kQXJvdW5kKHBhcmVudCwgY29udGVudCwgYmVmb3JlKSB7XG4gICAgaWYgKHBhcmVudCAhPSBjb250ZW50ICYmIHRoaXMuZmluZCkgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbmQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmZpbmRbaV0ucG9zID09IG51bGwgJiYgcGFyZW50Lm5vZGVUeXBlID09IDEgJiYgcGFyZW50LmNvbnRhaW5zKHRoaXMuZmluZFtpXS5ub2RlKSkge1xuICAgICAgICBsZXQgcG9zID0gY29udGVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0aGlzLmZpbmRbaV0ubm9kZSlcbiAgICAgICAgaWYgKHBvcyAmIChiZWZvcmUgPyAyIDogNCkpXG4gICAgICAgICAgdGhpcy5maW5kW2ldLnBvcyA9IHRoaXMuY3VycmVudFBvc1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZpbmRJblRleHQodGV4dE5vZGUpIHtcbiAgICBpZiAodGhpcy5maW5kKSBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmluZC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuZmluZFtpXS5ub2RlID09IHRleHROb2RlKVxuICAgICAgICB0aGlzLmZpbmRbaV0ucG9zID0gdGhpcy5jdXJyZW50UG9zIC0gKHRleHROb2RlLm5vZGVWYWx1ZS5sZW5ndGggLSB0aGlzLmZpbmRbaV0ub2Zmc2V0KVxuICAgIH1cbiAgfVxuXG4gIC8vIDogKHN0cmluZykg4oaSIGJvb2xcbiAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBnaXZlbiBbY29udGV4dFxuICAvLyBzdHJpbmddKCNQYXJzZVJ1bGUuY29udGV4dCkgbWF0Y2hlcyB0aGlzIGNvbnRleHQuXG4gIG1hdGNoZXNDb250ZXh0KGNvbnRleHQpIHtcbiAgICBpZiAoY29udGV4dC5pbmRleE9mKFwifFwiKSA+IC0xKVxuICAgICAgcmV0dXJuIGNvbnRleHQuc3BsaXQoL1xccypcXHxcXHMqLykuc29tZSh0aGlzLm1hdGNoZXNDb250ZXh0LCB0aGlzKVxuXG4gICAgbGV0IHBhcnRzID0gY29udGV4dC5zcGxpdChcIi9cIilcbiAgICBsZXQgb3B0aW9uID0gdGhpcy5vcHRpb25zLmNvbnRleHRcbiAgICBsZXQgdXNlUm9vdCA9ICF0aGlzLmlzT3BlbiAmJiAoIW9wdGlvbiB8fCBvcHRpb24ucGFyZW50LnR5cGUgPT0gdGhpcy5ub2Rlc1swXS50eXBlKVxuICAgIGxldCBtaW5EZXB0aCA9IC0ob3B0aW9uID8gb3B0aW9uLmRlcHRoICsgMSA6IDApICsgKHVzZVJvb3QgPyAwIDogMSlcbiAgICBsZXQgbWF0Y2ggPSAoaSwgZGVwdGgpID0+IHtcbiAgICAgIGZvciAoOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgcGFydCA9IHBhcnRzW2ldXG4gICAgICAgIGlmIChwYXJ0ID09IFwiXCIpIHtcbiAgICAgICAgICBpZiAoaSA9PSBwYXJ0cy5sZW5ndGggLSAxIHx8IGkgPT0gMCkgY29udGludWVcbiAgICAgICAgICBmb3IgKDsgZGVwdGggPj0gbWluRGVwdGg7IGRlcHRoLS0pXG4gICAgICAgICAgICBpZiAobWF0Y2goaSAtIDEsIGRlcHRoKSkgcmV0dXJuIHRydWVcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgbmV4dCA9IGRlcHRoID4gMCB8fCAoZGVwdGggPT0gMCAmJiB1c2VSb290KSA/IHRoaXMubm9kZXNbZGVwdGhdLnR5cGVcbiAgICAgICAgICAgICAgOiBvcHRpb24gJiYgZGVwdGggPj0gbWluRGVwdGggPyBvcHRpb24ubm9kZShkZXB0aCAtIG1pbkRlcHRoKS50eXBlXG4gICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgIGlmICghbmV4dCB8fCAobmV4dC5uYW1lICE9IHBhcnQgJiYgbmV4dC5ncm91cHMuaW5kZXhPZihwYXJ0KSA9PSAtMSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICBkZXB0aC0tXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBtYXRjaChwYXJ0cy5sZW5ndGggLSAxLCB0aGlzLm9wZW4pXG4gIH1cblxuICB0ZXh0YmxvY2tGcm9tQ29udGV4dCgpIHtcbiAgICBsZXQgJGNvbnRleHQgPSB0aGlzLm9wdGlvbnMuY29udGV4dFxuICAgIGlmICgkY29udGV4dCkgZm9yIChsZXQgZCA9ICRjb250ZXh0LmRlcHRoOyBkID49IDA7IGQtLSkge1xuICAgICAgbGV0IGRlZmx0ID0gJGNvbnRleHQubm9kZShkKS5jb250ZW50TWF0Y2hBdCgkY29udGV4dC5pbmRleEFmdGVyKGQpKS5kZWZhdWx0VHlwZVxuICAgICAgaWYgKGRlZmx0ICYmIGRlZmx0LmlzVGV4dGJsb2NrICYmIGRlZmx0LmRlZmF1bHRBdHRycykgcmV0dXJuIGRlZmx0XG4gICAgfVxuICAgIGZvciAobGV0IG5hbWUgaW4gdGhpcy5wYXJzZXIuc2NoZW1hLm5vZGVzKSB7XG4gICAgICBsZXQgdHlwZSA9IHRoaXMucGFyc2VyLnNjaGVtYS5ub2Rlc1tuYW1lXVxuICAgICAgaWYgKHR5cGUuaXNUZXh0YmxvY2sgJiYgdHlwZS5kZWZhdWx0QXR0cnMpIHJldHVybiB0eXBlXG4gICAgfVxuICB9XG5cbiAgYWRkUGVuZGluZ01hcmsobWFyaykge1xuICAgIHRoaXMudG9wLnBlbmRpbmdNYXJrcyA9IG1hcmsuYWRkVG9TZXQodGhpcy50b3AucGVuZGluZ01hcmtzKVxuICB9XG5cbiAgcmVtb3ZlUGVuZGluZ01hcmsobWFyaywgdXB0bykge1xuICAgIGZvciAobGV0IGRlcHRoID0gdGhpcy5vcGVuOyBkZXB0aCA+PSAwOyBkZXB0aC0tKSB7XG4gICAgICBsZXQgbGV2ZWwgPSB0aGlzLm5vZGVzW2RlcHRoXVxuICAgICAgbGV0IGZvdW5kID0gbGV2ZWwucGVuZGluZ01hcmtzLmxhc3RJbmRleE9mKG1hcmspXG4gICAgICBpZiAoZm91bmQgPiAtMSkgbGV2ZWwucGVuZGluZ01hcmtzID0gbWFyay5yZW1vdmVGcm9tU2V0KGxldmVsLnBlbmRpbmdNYXJrcylcbiAgICAgIGVsc2UgbGV2ZWwuYWN0aXZlTWFya3MgPSBtYXJrLnJlbW92ZUZyb21TZXQobGV2ZWwuYWN0aXZlTWFya3MpXG4gICAgICBpZiAobGV2ZWwgPT0gdXB0bykgYnJlYWtcbiAgICB9XG4gIH1cbn1cblxuLy8gS2x1ZGdlIHRvIHdvcmsgYXJvdW5kIGRpcmVjdGx5IG5lc3RlZCBsaXN0IG5vZGVzIHByb2R1Y2VkIGJ5IHNvbWVcbi8vIHRvb2xzIGFuZCBhbGxvd2VkIGJ5IGJyb3dzZXJzIHRvIG1lYW4gdGhhdCB0aGUgbmVzdGVkIGxpc3QgaXNcbi8vIGFjdHVhbGx5IHBhcnQgb2YgdGhlIGxpc3QgaXRlbSBhYm92ZSBpdC5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUxpc3QoZG9tKSB7XG4gIGZvciAobGV0IGNoaWxkID0gZG9tLmZpcnN0Q2hpbGQsIHByZXZJdGVtID0gbnVsbDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHtcbiAgICBsZXQgbmFtZSA9IGNoaWxkLm5vZGVUeXBlID09IDEgPyBjaGlsZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIDogbnVsbFxuICAgIGlmIChuYW1lICYmIGxpc3RUYWdzLmhhc093blByb3BlcnR5KG5hbWUpICYmIHByZXZJdGVtKSB7XG4gICAgICBwcmV2SXRlbS5hcHBlbmRDaGlsZChjaGlsZClcbiAgICAgIGNoaWxkID0gcHJldkl0ZW1cbiAgICB9IGVsc2UgaWYgKG5hbWUgPT0gXCJsaVwiKSB7XG4gICAgICBwcmV2SXRlbSA9IGNoaWxkXG4gICAgfSBlbHNlIGlmIChuYW1lKSB7XG4gICAgICBwcmV2SXRlbSA9IG51bGxcbiAgICB9XG4gIH1cbn1cblxuLy8gQXBwbHkgYSBDU1Mgc2VsZWN0b3IuXG5mdW5jdGlvbiBtYXRjaGVzKGRvbSwgc2VsZWN0b3IpIHtcbiAgcmV0dXJuIChkb20ubWF0Y2hlcyB8fCBkb20ubXNNYXRjaGVzU2VsZWN0b3IgfHwgZG9tLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBkb20ubW96TWF0Y2hlc1NlbGVjdG9yKS5jYWxsKGRvbSwgc2VsZWN0b3IpXG59XG5cbi8vIDogKHN0cmluZykg4oaSIFtzdHJpbmddXG4vLyBUb2tlbml6ZSBhIHN0eWxlIGF0dHJpYnV0ZSBpbnRvIHByb3BlcnR5L3ZhbHVlIHBhaXJzLlxuZnVuY3Rpb24gcGFyc2VTdHlsZXMoc3R5bGUpIHtcbiAgbGV0IHJlID0gL1xccyooW1xcdy1dKylcXHMqOlxccyooW147XSspL2csIG0sIHJlc3VsdCA9IFtdXG4gIHdoaWxlIChtID0gcmUuZXhlYyhzdHlsZSkpIHJlc3VsdC5wdXNoKG1bMV0sIG1bMl0udHJpbSgpKVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIGNvcHkob2JqKSB7XG4gIGxldCBjb3B5ID0ge31cbiAgZm9yIChsZXQgcHJvcCBpbiBvYmopIGNvcHlbcHJvcF0gPSBvYmpbcHJvcF1cbiAgcmV0dXJuIGNvcHlcbn1cblxuLy8gVXNlZCB3aGVuIGZpbmRpbmcgYSBtYXJrIGF0IHRoZSB0b3AgbGV2ZWwgb2YgYSBmcmFnbWVudCBwYXJzZS5cbi8vIENoZWNrcyB3aGV0aGVyIGl0IHdvdWxkIGJlIHJlYXNvbmFibGUgdG8gYXBwbHkgYSBnaXZlbiBtYXJrIHR5cGUgdG9cbi8vIGEgZ2l2ZW4gbm9kZSwgYnkgbG9va2luZyBhdCB0aGUgd2F5IHRoZSBtYXJrIG9jY3VycyBpbiB0aGUgc2NoZW1hLlxuZnVuY3Rpb24gbWFya01heUFwcGx5KG1hcmtUeXBlLCBub2RlVHlwZSkge1xuICBsZXQgbm9kZXMgPSBub2RlVHlwZS5zY2hlbWEubm9kZXNcbiAgZm9yIChsZXQgbmFtZSBpbiBub2Rlcykge1xuICAgIGxldCBwYXJlbnQgPSBub2Rlc1tuYW1lXVxuICAgIGlmICghcGFyZW50LmFsbG93c01hcmtUeXBlKG1hcmtUeXBlKSkgY29udGludWVcbiAgICBsZXQgc2VlbiA9IFtdLCBzY2FuID0gbWF0Y2ggPT4ge1xuICAgICAgc2Vlbi5wdXNoKG1hdGNoKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRjaC5lZGdlQ291bnQ7IGkrKykge1xuICAgICAgICBsZXQge3R5cGUsIG5leHR9ID0gbWF0Y2guZWRnZShpKVxuICAgICAgICBpZiAodHlwZSA9PSBub2RlVHlwZSkgcmV0dXJuIHRydWVcbiAgICAgICAgaWYgKHNlZW4uaW5kZXhPZihuZXh0KSA8IDAgJiYgc2NhbihuZXh0KSkgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNjYW4ocGFyZW50LmNvbnRlbnRNYXRjaCkpIHJldHVybiB0cnVlXG4gIH1cbn1cbiIsIi8vIERPTU91dHB1dFNwZWM6OiBpbnRlcmZhY2Vcbi8vIEEgZGVzY3JpcHRpb24gb2YgYSBET00gc3RydWN0dXJlLiBDYW4gYmUgZWl0aGVyIGEgc3RyaW5nLCB3aGljaCBpc1xuLy8gaW50ZXJwcmV0ZWQgYXMgYSB0ZXh0IG5vZGUsIGEgRE9NIG5vZGUsIHdoaWNoIGlzIGludGVycHJldGVkIGFzXG4vLyBpdHNlbGYsIG9yIGFuIGFycmF5LlxuLy9cbi8vIEFuIGFycmF5IGRlc2NyaWJlcyBhIERPTSBlbGVtZW50LiBUaGUgZmlyc3QgdmFsdWUgaW4gdGhlIGFycmF5XG4vLyBzaG91bGQgYmUgYSBzdHJpbmfigJR0aGUgbmFtZSBvZiB0aGUgRE9NIGVsZW1lbnQsIG9wdGlvbmFsbHkgcHJlZml4ZWRcbi8vIGJ5IGEgbmFtZXNwYWNlIFVSTCBhbmQgYSBzcGFjZS4gSWYgdGhlIHNlY29uZCBlbGVtZW50IGlzIHBsYWluXG4vLyBvYmplY3QsIGl0IGlzIGludGVycHJldGVkIGFzIGEgc2V0IG9mIGF0dHJpYnV0ZXMgZm9yIHRoZSBlbGVtZW50LlxuLy8gQW55IGVsZW1lbnRzIGFmdGVyIHRoYXQgKGluY2x1ZGluZyB0aGUgMm5kIGlmIGl0J3Mgbm90IGFuIGF0dHJpYnV0ZVxuLy8gb2JqZWN0KSBhcmUgaW50ZXJwcmV0ZWQgYXMgY2hpbGRyZW4gb2YgdGhlIERPTSBlbGVtZW50cywgYW5kIG11c3Rcbi8vIGVpdGhlciBiZSB2YWxpZCBgRE9NT3V0cHV0U3BlY2AgdmFsdWVzLCBvciB0aGUgbnVtYmVyIHplcm8uXG4vL1xuLy8gVGhlIG51bWJlciB6ZXJvIChwcm9ub3VuY2VkIOKAnGhvbGXigJ0pIGlzIHVzZWQgdG8gaW5kaWNhdGUgdGhlIHBsYWNlXG4vLyB3aGVyZSBhIG5vZGUncyBjaGlsZCBub2RlcyBzaG91bGQgYmUgaW5zZXJ0ZWQuIElmIGl0IG9jY3VycyBpbiBhblxuLy8gb3V0cHV0IHNwZWMsIGl0IHNob3VsZCBiZSB0aGUgb25seSBjaGlsZCBlbGVtZW50IGluIGl0cyBwYXJlbnRcbi8vIG5vZGUuXG5cbi8vIDo6LSBBIERPTSBzZXJpYWxpemVyIGtub3dzIGhvdyB0byBjb252ZXJ0IFByb3NlTWlycm9yIG5vZGVzIGFuZFxuLy8gbWFya3Mgb2YgdmFyaW91cyB0eXBlcyB0byBET00gbm9kZXMuXG5leHBvcnQgY2xhc3MgRE9NU2VyaWFsaXplciB7XG4gIC8vIDo6IChPYmplY3Q8KG5vZGU6IE5vZGUpIOKGkiBET01PdXRwdXRTcGVjPiwgT2JqZWN0PD8obWFyazogTWFyaywgaW5saW5lOiBib29sKSDihpIgRE9NT3V0cHV0U3BlYz4pXG4gIC8vIENyZWF0ZSBhIHNlcmlhbGl6ZXIuIGBub2Rlc2Agc2hvdWxkIG1hcCBub2RlIG5hbWVzIHRvIGZ1bmN0aW9uc1xuICAvLyB0aGF0IHRha2UgYSBub2RlIGFuZCByZXR1cm4gYSBkZXNjcmlwdGlvbiBvZiB0aGUgY29ycmVzcG9uZGluZ1xuICAvLyBET00uIGBtYXJrc2AgZG9lcyB0aGUgc2FtZSBmb3IgbWFyayBuYW1lcywgYnV0IGFsc28gZ2V0cyBhblxuICAvLyBhcmd1bWVudCB0aGF0IHRlbGxzIGl0IHdoZXRoZXIgdGhlIG1hcmsncyBjb250ZW50IGlzIGJsb2NrIG9yXG4gIC8vIGlubGluZSBjb250ZW50IChmb3IgdHlwaWNhbCB1c2UsIGl0J2xsIGFsd2F5cyBiZSBpbmxpbmUpLiBBIG1hcmtcbiAgLy8gc2VyaWFsaXplciBtYXkgYmUgYG51bGxgIHRvIGluZGljYXRlIHRoYXQgbWFya3Mgb2YgdGhhdCB0eXBlXG4gIC8vIHNob3VsZCBub3QgYmUgc2VyaWFsaXplZC5cbiAgY29uc3RydWN0b3Iobm9kZXMsIG1hcmtzKSB7XG4gICAgLy8gOjogT2JqZWN0PChub2RlOiBOb2RlKSDihpIgRE9NT3V0cHV0U3BlYz5cbiAgICAvLyBUaGUgbm9kZSBzZXJpYWxpemF0aW9uIGZ1bmN0aW9ucy5cbiAgICB0aGlzLm5vZGVzID0gbm9kZXMgfHwge31cbiAgICAvLyA6OiBPYmplY3Q8PyhtYXJrOiBNYXJrLCBpbmxpbmU6IGJvb2wpIOKGkiBET01PdXRwdXRTcGVjPlxuICAgIC8vIFRoZSBtYXJrIHNlcmlhbGl6YXRpb24gZnVuY3Rpb25zLlxuICAgIHRoaXMubWFya3MgPSBtYXJrcyB8fCB7fVxuICB9XG5cbiAgLy8gOjogKEZyYWdtZW50LCA/T2JqZWN0KSDihpIgZG9tLkRvY3VtZW50RnJhZ21lbnRcbiAgLy8gU2VyaWFsaXplIHRoZSBjb250ZW50IG9mIHRoaXMgZnJhZ21lbnQgdG8gYSBET00gZnJhZ21lbnQuIFdoZW5cbiAgLy8gbm90IGluIHRoZSBicm93c2VyLCB0aGUgYGRvY3VtZW50YCBvcHRpb24sIGNvbnRhaW5pbmcgYSBET01cbiAgLy8gZG9jdW1lbnQsIHNob3VsZCBiZSBwYXNzZWQgc28gdGhhdCB0aGUgc2VyaWFsaXplciBjYW4gY3JlYXRlXG4gIC8vIG5vZGVzLlxuICBzZXJpYWxpemVGcmFnbWVudChmcmFnbWVudCwgb3B0aW9ucyA9IHt9LCB0YXJnZXQpIHtcbiAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gZG9jKG9wdGlvbnMpLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKVxuXG4gICAgbGV0IHRvcCA9IHRhcmdldCwgYWN0aXZlID0gbnVsbFxuICAgIGZyYWdtZW50LmZvckVhY2gobm9kZSA9PiB7XG4gICAgICBpZiAoYWN0aXZlIHx8IG5vZGUubWFya3MubGVuZ3RoKSB7XG4gICAgICAgIGlmICghYWN0aXZlKSBhY3RpdmUgPSBbXVxuICAgICAgICBsZXQga2VlcCA9IDAsIHJlbmRlcmVkID0gMFxuICAgICAgICB3aGlsZSAoa2VlcCA8IGFjdGl2ZS5sZW5ndGggJiYgcmVuZGVyZWQgPCBub2RlLm1hcmtzLmxlbmd0aCkge1xuICAgICAgICAgIGxldCBuZXh0ID0gbm9kZS5tYXJrc1tyZW5kZXJlZF1cbiAgICAgICAgICBpZiAoIXRoaXMubWFya3NbbmV4dC50eXBlLm5hbWVdKSB7IHJlbmRlcmVkKys7IGNvbnRpbnVlIH1cbiAgICAgICAgICBpZiAoIW5leHQuZXEoYWN0aXZlW2tlZXBdKSB8fCBuZXh0LnR5cGUuc3BlYy5zcGFubmluZyA9PT0gZmFsc2UpIGJyZWFrXG4gICAgICAgICAga2VlcCArPSAyOyByZW5kZXJlZCsrXG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGtlZXAgPCBhY3RpdmUubGVuZ3RoKSB7XG4gICAgICAgICAgdG9wID0gYWN0aXZlLnBvcCgpXG4gICAgICAgICAgYWN0aXZlLnBvcCgpXG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHJlbmRlcmVkIDwgbm9kZS5tYXJrcy5sZW5ndGgpIHtcbiAgICAgICAgICBsZXQgYWRkID0gbm9kZS5tYXJrc1tyZW5kZXJlZCsrXVxuICAgICAgICAgIGxldCBtYXJrRE9NID0gdGhpcy5zZXJpYWxpemVNYXJrKGFkZCwgbm9kZS5pc0lubGluZSwgb3B0aW9ucylcbiAgICAgICAgICBpZiAobWFya0RPTSkge1xuICAgICAgICAgICAgYWN0aXZlLnB1c2goYWRkLCB0b3ApXG4gICAgICAgICAgICB0b3AuYXBwZW5kQ2hpbGQobWFya0RPTS5kb20pXG4gICAgICAgICAgICB0b3AgPSBtYXJrRE9NLmNvbnRlbnRET00gfHwgbWFya0RPTS5kb21cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRvcC5hcHBlbmRDaGlsZCh0aGlzLnNlcmlhbGl6ZU5vZGUobm9kZSwgb3B0aW9ucykpXG4gICAgfSlcblxuICAgIHJldHVybiB0YXJnZXRcbiAgfVxuXG4gIC8vIDo6IChOb2RlLCA/T2JqZWN0KSDihpIgZG9tLk5vZGVcbiAgLy8gU2VyaWFsaXplIHRoaXMgbm9kZSB0byBhIERPTSBub2RlLiBUaGlzIGNhbiBiZSB1c2VmdWwgd2hlbiB5b3VcbiAgLy8gbmVlZCB0byBzZXJpYWxpemUgYSBwYXJ0IG9mIGEgZG9jdW1lbnQsIGFzIG9wcG9zZWQgdG8gdGhlIHdob2xlXG4gIC8vIGRvY3VtZW50LiBUbyBzZXJpYWxpemUgYSB3aG9sZSBkb2N1bWVudCwgdXNlXG4gIC8vIFtgc2VyaWFsaXplRnJhZ21lbnRgXSgjbW9kZWwuRE9NU2VyaWFsaXplci5zZXJpYWxpemVGcmFnbWVudCkgb25cbiAgLy8gaXRzIFtjb250ZW50XSgjbW9kZWwuTm9kZS5jb250ZW50KS5cbiAgc2VyaWFsaXplTm9kZShub2RlLCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQge2RvbSwgY29udGVudERPTX0gPVxuICAgICAgICBET01TZXJpYWxpemVyLnJlbmRlclNwZWMoZG9jKG9wdGlvbnMpLCB0aGlzLm5vZGVzW25vZGUudHlwZS5uYW1lXShub2RlKSlcbiAgICBpZiAoY29udGVudERPTSkge1xuICAgICAgaWYgKG5vZGUuaXNMZWFmKVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkNvbnRlbnQgaG9sZSBub3QgYWxsb3dlZCBpbiBhIGxlYWYgbm9kZSBzcGVjXCIpXG4gICAgICBpZiAob3B0aW9ucy5vbkNvbnRlbnQpXG4gICAgICAgIG9wdGlvbnMub25Db250ZW50KG5vZGUsIGNvbnRlbnRET00sIG9wdGlvbnMpXG4gICAgICBlbHNlXG4gICAgICAgIHRoaXMuc2VyaWFsaXplRnJhZ21lbnQobm9kZS5jb250ZW50LCBvcHRpb25zLCBjb250ZW50RE9NKVxuICAgIH1cbiAgICByZXR1cm4gZG9tXG4gIH1cblxuICBzZXJpYWxpemVOb2RlQW5kTWFya3Mobm9kZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGRvbSA9IHRoaXMuc2VyaWFsaXplTm9kZShub2RlLCBvcHRpb25zKVxuICAgIGZvciAobGV0IGkgPSBub2RlLm1hcmtzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBsZXQgd3JhcCA9IHRoaXMuc2VyaWFsaXplTWFyayhub2RlLm1hcmtzW2ldLCBub2RlLmlzSW5saW5lLCBvcHRpb25zKVxuICAgICAgaWYgKHdyYXApIHtcbiAgICAgICAgOyh3cmFwLmNvbnRlbnRET00gfHwgd3JhcC5kb20pLmFwcGVuZENoaWxkKGRvbSlcbiAgICAgICAgZG9tID0gd3JhcC5kb21cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRvbVxuICB9XG5cbiAgc2VyaWFsaXplTWFyayhtYXJrLCBpbmxpbmUsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCB0b0RPTSA9IHRoaXMubWFya3NbbWFyay50eXBlLm5hbWVdXG4gICAgcmV0dXJuIHRvRE9NICYmIERPTVNlcmlhbGl6ZXIucmVuZGVyU3BlYyhkb2Mob3B0aW9ucyksIHRvRE9NKG1hcmssIGlubGluZSkpXG4gIH1cblxuICAvLyA6OiAoZG9tLkRvY3VtZW50LCBET01PdXRwdXRTcGVjKSDihpIge2RvbTogZG9tLk5vZGUsIGNvbnRlbnRET006ID9kb20uTm9kZX1cbiAgLy8gUmVuZGVyIGFuIFtvdXRwdXQgc3BlY10oI21vZGVsLkRPTU91dHB1dFNwZWMpIHRvIGEgRE9NIG5vZGUuIElmXG4gIC8vIHRoZSBzcGVjIGhhcyBhIGhvbGUgKHplcm8pIGluIGl0LCBgY29udGVudERPTWAgd2lsbCBwb2ludCBhdCB0aGVcbiAgLy8gbm9kZSB3aXRoIHRoZSBob2xlLlxuICBzdGF0aWMgcmVuZGVyU3BlYyhkb2MsIHN0cnVjdHVyZSwgeG1sTlMgPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiBzdHJ1Y3R1cmUgPT0gXCJzdHJpbmdcIilcbiAgICAgIHJldHVybiB7ZG9tOiBkb2MuY3JlYXRlVGV4dE5vZGUoc3RydWN0dXJlKX1cbiAgICBpZiAoc3RydWN0dXJlLm5vZGVUeXBlICE9IG51bGwpXG4gICAgICByZXR1cm4ge2RvbTogc3RydWN0dXJlfVxuICAgIGxldCB0YWdOYW1lID0gc3RydWN0dXJlWzBdLCBzcGFjZSA9IHRhZ05hbWUuaW5kZXhPZihcIiBcIilcbiAgICBpZiAoc3BhY2UgPiAwKSB7XG4gICAgICB4bWxOUyA9IHRhZ05hbWUuc2xpY2UoMCwgc3BhY2UpXG4gICAgICB0YWdOYW1lID0gdGFnTmFtZS5zbGljZShzcGFjZSArIDEpXG4gICAgfVxuICAgIGxldCBjb250ZW50RE9NID0gbnVsbCwgZG9tID0geG1sTlMgPyBkb2MuY3JlYXRlRWxlbWVudE5TKHhtbE5TLCB0YWdOYW1lKSA6IGRvYy5jcmVhdGVFbGVtZW50KHRhZ05hbWUpXG4gICAgbGV0IGF0dHJzID0gc3RydWN0dXJlWzFdLCBzdGFydCA9IDFcbiAgICBpZiAoYXR0cnMgJiYgdHlwZW9mIGF0dHJzID09IFwib2JqZWN0XCIgJiYgYXR0cnMubm9kZVR5cGUgPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShhdHRycykpIHtcbiAgICAgIHN0YXJ0ID0gMlxuICAgICAgZm9yIChsZXQgbmFtZSBpbiBhdHRycykgaWYgKGF0dHJzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgbGV0IHNwYWNlID0gbmFtZS5pbmRleE9mKFwiIFwiKVxuICAgICAgICBpZiAoc3BhY2UgPiAwKSBkb20uc2V0QXR0cmlidXRlTlMobmFtZS5zbGljZSgwLCBzcGFjZSksIG5hbWUuc2xpY2Uoc3BhY2UgKyAxKSwgYXR0cnNbbmFtZV0pXG4gICAgICAgIGVsc2UgZG9tLnNldEF0dHJpYnV0ZShuYW1lLCBhdHRyc1tuYW1lXSlcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgc3RydWN0dXJlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGQgPSBzdHJ1Y3R1cmVbaV1cbiAgICAgIGlmIChjaGlsZCA9PT0gMCkge1xuICAgICAgICBpZiAoaSA8IHN0cnVjdHVyZS5sZW5ndGggLSAxIHx8IGkgPiBzdGFydClcbiAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkNvbnRlbnQgaG9sZSBtdXN0IGJlIHRoZSBvbmx5IGNoaWxkIG9mIGl0cyBwYXJlbnQgbm9kZVwiKVxuICAgICAgICByZXR1cm4ge2RvbSwgY29udGVudERPTTogZG9tfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHtkb206IGlubmVyLCBjb250ZW50RE9NOiBpbm5lckNvbnRlbnR9ID0gRE9NU2VyaWFsaXplci5yZW5kZXJTcGVjKGRvYywgY2hpbGQsIHhtbE5TKVxuICAgICAgICBkb20uYXBwZW5kQ2hpbGQoaW5uZXIpXG4gICAgICAgIGlmIChpbm5lckNvbnRlbnQpIHtcbiAgICAgICAgICBpZiAoY29udGVudERPTSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJNdWx0aXBsZSBjb250ZW50IGhvbGVzXCIpXG4gICAgICAgICAgY29udGVudERPTSA9IGlubmVyQ29udGVudFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7ZG9tLCBjb250ZW50RE9NfVxuICB9XG5cbiAgLy8gOjogKFNjaGVtYSkg4oaSIERPTVNlcmlhbGl6ZXJcbiAgLy8gQnVpbGQgYSBzZXJpYWxpemVyIHVzaW5nIHRoZSBbYHRvRE9NYF0oI21vZGVsLk5vZGVTcGVjLnRvRE9NKVxuICAvLyBwcm9wZXJ0aWVzIGluIGEgc2NoZW1hJ3Mgbm9kZSBhbmQgbWFyayBzcGVjcy5cbiAgc3RhdGljIGZyb21TY2hlbWEoc2NoZW1hKSB7XG4gICAgcmV0dXJuIHNjaGVtYS5jYWNoZWQuZG9tU2VyaWFsaXplciB8fFxuICAgICAgKHNjaGVtYS5jYWNoZWQuZG9tU2VyaWFsaXplciA9IG5ldyBET01TZXJpYWxpemVyKHRoaXMubm9kZXNGcm9tU2NoZW1hKHNjaGVtYSksIHRoaXMubWFya3NGcm9tU2NoZW1hKHNjaGVtYSkpKVxuICB9XG5cbiAgLy8gOiAoU2NoZW1hKSDihpIgT2JqZWN0PChub2RlOiBOb2RlKSDihpIgRE9NT3V0cHV0U3BlYz5cbiAgLy8gR2F0aGVyIHRoZSBzZXJpYWxpemVycyBpbiBhIHNjaGVtYSdzIG5vZGUgc3BlY3MgaW50byBhbiBvYmplY3QuXG4gIC8vIFRoaXMgY2FuIGJlIHVzZWZ1bCBhcyBhIGJhc2UgdG8gYnVpbGQgYSBjdXN0b20gc2VyaWFsaXplciBmcm9tLlxuICBzdGF0aWMgbm9kZXNGcm9tU2NoZW1hKHNjaGVtYSkge1xuICAgIGxldCByZXN1bHQgPSBnYXRoZXJUb0RPTShzY2hlbWEubm9kZXMpXG4gICAgaWYgKCFyZXN1bHQudGV4dCkgcmVzdWx0LnRleHQgPSBub2RlID0+IG5vZGUudGV4dFxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8vIDogKFNjaGVtYSkg4oaSIE9iamVjdDwobWFyazogTWFyaykg4oaSIERPTU91dHB1dFNwZWM+XG4gIC8vIEdhdGhlciB0aGUgc2VyaWFsaXplcnMgaW4gYSBzY2hlbWEncyBtYXJrIHNwZWNzIGludG8gYW4gb2JqZWN0LlxuICBzdGF0aWMgbWFya3NGcm9tU2NoZW1hKHNjaGVtYSkge1xuICAgIHJldHVybiBnYXRoZXJUb0RPTShzY2hlbWEubWFya3MpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2F0aGVyVG9ET00ob2JqKSB7XG4gIGxldCByZXN1bHQgPSB7fVxuICBmb3IgKGxldCBuYW1lIGluIG9iaikge1xuICAgIGxldCB0b0RPTSA9IG9ialtuYW1lXS5zcGVjLnRvRE9NXG4gICAgaWYgKHRvRE9NKSByZXN1bHRbbmFtZV0gPSB0b0RPTVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gZG9jKG9wdGlvbnMpIHtcbiAgLy8gZGVjbGFyZSBnbG9iYWw6IHdpbmRvd1xuICByZXR1cm4gb3B0aW9ucy5kb2N1bWVudCB8fCB3aW5kb3cuZG9jdW1lbnRcbn1cbiIsIi8vIE1hcHBhYmxlOjogaW50ZXJmYWNlXG4vLyBUaGVyZSBhcmUgc2V2ZXJhbCB0aGluZ3MgdGhhdCBwb3NpdGlvbnMgY2FuIGJlIG1hcHBlZCB0aHJvdWdoLlxuLy8gU3VjaCBvYmplY3RzIGNvbmZvcm0gdG8gdGhpcyBpbnRlcmZhY2UuXG4vL1xuLy8gICBtYXA6OiAocG9zOiBudW1iZXIsIGFzc29jOiA/bnVtYmVyKSDihpIgbnVtYmVyXG4vLyAgIE1hcCBhIHBvc2l0aW9uIHRocm91Z2ggdGhpcyBvYmplY3QuIFdoZW4gZ2l2ZW4sIGBhc3NvY2AgKHNob3VsZFxuLy8gICBiZSAtMSBvciAxLCBkZWZhdWx0cyB0byAxKSBkZXRlcm1pbmVzIHdpdGggd2hpY2ggc2lkZSB0aGVcbi8vICAgcG9zaXRpb24gaXMgYXNzb2NpYXRlZCwgd2hpY2ggZGV0ZXJtaW5lcyBpbiB3aGljaCBkaXJlY3Rpb24gdG9cbi8vICAgbW92ZSB3aGVuIGEgY2h1bmsgb2YgY29udGVudCBpcyBpbnNlcnRlZCBhdCB0aGUgbWFwcGVkIHBvc2l0aW9uLlxuLy9cbi8vICAgbWFwUmVzdWx0OjogKHBvczogbnVtYmVyLCBhc3NvYzogP251bWJlcikg4oaSIE1hcFJlc3VsdFxuLy8gICBNYXAgYSBwb3NpdGlvbiwgYW5kIHJldHVybiBhbiBvYmplY3QgY29udGFpbmluZyBhZGRpdGlvbmFsXG4vLyAgIGluZm9ybWF0aW9uIGFib3V0IHRoZSBtYXBwaW5nLiBUaGUgcmVzdWx0J3MgYGRlbGV0ZWRgIGZpZWxkIHRlbGxzXG4vLyAgIHlvdSB3aGV0aGVyIHRoZSBwb3NpdGlvbiB3YXMgZGVsZXRlZCAoY29tcGxldGVseSBlbmNsb3NlZCBpbiBhXG4vLyAgIHJlcGxhY2VkIHJhbmdlKSBkdXJpbmcgdGhlIG1hcHBpbmcuIFdoZW4gY29udGVudCBvbiBvbmx5IG9uZSBzaWRlXG4vLyAgIGlzIGRlbGV0ZWQsIHRoZSBwb3NpdGlvbiBpdHNlbGYgaXMgb25seSBjb25zaWRlcmVkIGRlbGV0ZWQgd2hlblxuLy8gICBgYXNzb2NgIHBvaW50cyBpbiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBkZWxldGVkIGNvbnRlbnQuXG5cbi8vIFJlY292ZXJ5IHZhbHVlcyBlbmNvZGUgYSByYW5nZSBpbmRleCBhbmQgYW4gb2Zmc2V0LiBUaGV5IGFyZVxuLy8gcmVwcmVzZW50ZWQgYXMgbnVtYmVycywgYmVjYXVzZSB0b25zIG9mIHRoZW0gd2lsbCBiZSBjcmVhdGVkIHdoZW5cbi8vIG1hcHBpbmcsIGZvciBleGFtcGxlLCBhIGxhcmdlIG51bWJlciBvZiBkZWNvcmF0aW9ucy4gVGhlIG51bWJlcidzXG4vLyBsb3dlciAxNiBiaXRzIHByb3ZpZGUgdGhlIGluZGV4LCB0aGUgcmVtYWluaW5nIGJpdHMgdGhlIG9mZnNldC5cbi8vXG4vLyBOb3RlOiBXZSBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBiaXQgc2hpZnQgb3BlcmF0b3JzIHRvIGVuLSBhbmRcbi8vIGRlY29kZSB0aGVzZSwgc2luY2UgdGhvc2UgY2xpcCB0byAzMiBiaXRzLCB3aGljaCB3ZSBtaWdodCBpbiByYXJlXG4vLyBjYXNlcyB3YW50IHRvIG92ZXJmbG93LiBBIDY0LWJpdCBmbG9hdCBjYW4gcmVwcmVzZW50IDQ4LWJpdFxuLy8gaW50ZWdlcnMgcHJlY2lzZWx5LlxuXG5jb25zdCBsb3dlcjE2ID0gMHhmZmZmXG5jb25zdCBmYWN0b3IxNiA9IE1hdGgucG93KDIsIDE2KVxuXG5mdW5jdGlvbiBtYWtlUmVjb3ZlcihpbmRleCwgb2Zmc2V0KSB7IHJldHVybiBpbmRleCArIG9mZnNldCAqIGZhY3RvcjE2IH1cbmZ1bmN0aW9uIHJlY292ZXJJbmRleCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgJiBsb3dlcjE2IH1cbmZ1bmN0aW9uIHJlY292ZXJPZmZzZXQodmFsdWUpIHsgcmV0dXJuICh2YWx1ZSAtICh2YWx1ZSAmIGxvd2VyMTYpKSAvIGZhY3RvcjE2IH1cblxuLy8gOjotIEFuIG9iamVjdCByZXByZXNlbnRpbmcgYSBtYXBwZWQgcG9zaXRpb24gd2l0aCBleHRyYVxuLy8gaW5mb3JtYXRpb24uXG5leHBvcnQgY2xhc3MgTWFwUmVzdWx0IHtcbiAgY29uc3RydWN0b3IocG9zLCBkZWxldGVkID0gZmFsc2UsIHJlY292ZXIgPSBudWxsKSB7XG4gICAgLy8gOjogbnVtYmVyIFRoZSBtYXBwZWQgdmVyc2lvbiBvZiB0aGUgcG9zaXRpb24uXG4gICAgdGhpcy5wb3MgPSBwb3NcbiAgICAvLyA6OiBib29sIFRlbGxzIHlvdSB3aGV0aGVyIHRoZSBwb3NpdGlvbiB3YXMgZGVsZXRlZCwgdGhhdCBpcyxcbiAgICAvLyB3aGV0aGVyIHRoZSBzdGVwIHJlbW92ZWQgaXRzIHN1cnJvdW5kaW5ncyBmcm9tIHRoZSBkb2N1bWVudC5cbiAgICB0aGlzLmRlbGV0ZWQgPSBkZWxldGVkXG4gICAgdGhpcy5yZWNvdmVyID0gcmVjb3ZlclxuICB9XG59XG5cbi8vIDo6IGNsYXNzIGV4dGVuZHMgTWFwcGFibGVcbi8vIEEgbWFwIGRlc2NyaWJpbmcgdGhlIGRlbGV0aW9ucyBhbmQgaW5zZXJ0aW9ucyBtYWRlIGJ5IGEgc3RlcCwgd2hpY2hcbi8vIGNhbiBiZSB1c2VkIHRvIGZpbmQgdGhlIGNvcnJlc3BvbmRlbmNlIGJldHdlZW4gcG9zaXRpb25zIGluIHRoZVxuLy8gcHJlLXN0ZXAgdmVyc2lvbiBvZiBhIGRvY3VtZW50IGFuZCB0aGUgc2FtZSBwb3NpdGlvbiBpbiB0aGVcbi8vIHBvc3Qtc3RlcCB2ZXJzaW9uLlxuZXhwb3J0IGNsYXNzIFN0ZXBNYXAge1xuICAvLyA6OiAoW251bWJlcl0pXG4gIC8vIENyZWF0ZSBhIHBvc2l0aW9uIG1hcC4gVGhlIG1vZGlmaWNhdGlvbnMgdG8gdGhlIGRvY3VtZW50IGFyZVxuICAvLyByZXByZXNlbnRlZCBhcyBhbiBhcnJheSBvZiBudW1iZXJzLCBpbiB3aGljaCBlYWNoIGdyb3VwIG9mIHRocmVlXG4gIC8vIHJlcHJlc2VudHMgYSBtb2RpZmllZCBjaHVuayBhcyBgW3N0YXJ0LCBvbGRTaXplLCBuZXdTaXplXWAuXG4gIGNvbnN0cnVjdG9yKHJhbmdlcywgaW52ZXJ0ZWQgPSBmYWxzZSkge1xuICAgIHRoaXMucmFuZ2VzID0gcmFuZ2VzXG4gICAgdGhpcy5pbnZlcnRlZCA9IGludmVydGVkXG4gIH1cblxuICByZWNvdmVyKHZhbHVlKSB7XG4gICAgbGV0IGRpZmYgPSAwLCBpbmRleCA9IHJlY292ZXJJbmRleCh2YWx1ZSlcbiAgICBpZiAoIXRoaXMuaW52ZXJ0ZWQpIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXg7IGkrKylcbiAgICAgIGRpZmYgKz0gdGhpcy5yYW5nZXNbaSAqIDMgKyAyXSAtIHRoaXMucmFuZ2VzW2kgKiAzICsgMV1cbiAgICByZXR1cm4gdGhpcy5yYW5nZXNbaW5kZXggKiAzXSArIGRpZmYgKyByZWNvdmVyT2Zmc2V0KHZhbHVlKVxuICB9XG5cbiAgLy8gOiAobnVtYmVyLCA/bnVtYmVyKSDihpIgTWFwUmVzdWx0XG4gIG1hcFJlc3VsdChwb3MsIGFzc29jID0gMSkgeyByZXR1cm4gdGhpcy5fbWFwKHBvcywgYXNzb2MsIGZhbHNlKSB9XG5cbiAgLy8gOiAobnVtYmVyLCA/bnVtYmVyKSDihpIgbnVtYmVyXG4gIG1hcChwb3MsIGFzc29jID0gMSkgeyByZXR1cm4gdGhpcy5fbWFwKHBvcywgYXNzb2MsIHRydWUpIH1cblxuICBfbWFwKHBvcywgYXNzb2MsIHNpbXBsZSkge1xuICAgIGxldCBkaWZmID0gMCwgb2xkSW5kZXggPSB0aGlzLmludmVydGVkID8gMiA6IDEsIG5ld0luZGV4ID0gdGhpcy5pbnZlcnRlZCA/IDEgOiAyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5yYW5nZXNbaV0gLSAodGhpcy5pbnZlcnRlZCA/IGRpZmYgOiAwKVxuICAgICAgaWYgKHN0YXJ0ID4gcG9zKSBicmVha1xuICAgICAgbGV0IG9sZFNpemUgPSB0aGlzLnJhbmdlc1tpICsgb2xkSW5kZXhdLCBuZXdTaXplID0gdGhpcy5yYW5nZXNbaSArIG5ld0luZGV4XSwgZW5kID0gc3RhcnQgKyBvbGRTaXplXG4gICAgICBpZiAocG9zIDw9IGVuZCkge1xuICAgICAgICBsZXQgc2lkZSA9ICFvbGRTaXplID8gYXNzb2MgOiBwb3MgPT0gc3RhcnQgPyAtMSA6IHBvcyA9PSBlbmQgPyAxIDogYXNzb2NcbiAgICAgICAgbGV0IHJlc3VsdCA9IHN0YXJ0ICsgZGlmZiArIChzaWRlIDwgMCA/IDAgOiBuZXdTaXplKVxuICAgICAgICBpZiAoc2ltcGxlKSByZXR1cm4gcmVzdWx0XG4gICAgICAgIGxldCByZWNvdmVyID0gbWFrZVJlY292ZXIoaSAvIDMsIHBvcyAtIHN0YXJ0KVxuICAgICAgICByZXR1cm4gbmV3IE1hcFJlc3VsdChyZXN1bHQsIGFzc29jIDwgMCA/IHBvcyAhPSBzdGFydCA6IHBvcyAhPSBlbmQsIHJlY292ZXIpXG4gICAgICB9XG4gICAgICBkaWZmICs9IG5ld1NpemUgLSBvbGRTaXplXG4gICAgfVxuICAgIHJldHVybiBzaW1wbGUgPyBwb3MgKyBkaWZmIDogbmV3IE1hcFJlc3VsdChwb3MgKyBkaWZmKVxuICB9XG5cbiAgdG91Y2hlcyhwb3MsIHJlY292ZXIpIHtcbiAgICBsZXQgZGlmZiA9IDAsIGluZGV4ID0gcmVjb3ZlckluZGV4KHJlY292ZXIpXG4gICAgbGV0IG9sZEluZGV4ID0gdGhpcy5pbnZlcnRlZCA/IDIgOiAxLCBuZXdJbmRleCA9IHRoaXMuaW52ZXJ0ZWQgPyAxIDogMlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgIGxldCBzdGFydCA9IHRoaXMucmFuZ2VzW2ldIC0gKHRoaXMuaW52ZXJ0ZWQgPyBkaWZmIDogMClcbiAgICAgIGlmIChzdGFydCA+IHBvcykgYnJlYWtcbiAgICAgIGxldCBvbGRTaXplID0gdGhpcy5yYW5nZXNbaSArIG9sZEluZGV4XSwgZW5kID0gc3RhcnQgKyBvbGRTaXplXG4gICAgICBpZiAocG9zIDw9IGVuZCAmJiBpID09IGluZGV4ICogMykgcmV0dXJuIHRydWVcbiAgICAgIGRpZmYgKz0gdGhpcy5yYW5nZXNbaSArIG5ld0luZGV4XSAtIG9sZFNpemVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyA6OiAoKG9sZFN0YXJ0OiBudW1iZXIsIG9sZEVuZDogbnVtYmVyLCBuZXdTdGFydDogbnVtYmVyLCBuZXdFbmQ6IG51bWJlcikpXG4gIC8vIENhbGxzIHRoZSBnaXZlbiBmdW5jdGlvbiBvbiBlYWNoIG9mIHRoZSBjaGFuZ2VkIHJhbmdlcyBpbmNsdWRlZCBpblxuICAvLyB0aGlzIG1hcC5cbiAgZm9yRWFjaChmKSB7XG4gICAgbGV0IG9sZEluZGV4ID0gdGhpcy5pbnZlcnRlZCA/IDIgOiAxLCBuZXdJbmRleCA9IHRoaXMuaW52ZXJ0ZWQgPyAxIDogMlxuICAgIGZvciAobGV0IGkgPSAwLCBkaWZmID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICBsZXQgc3RhcnQgPSB0aGlzLnJhbmdlc1tpXSwgb2xkU3RhcnQgPSBzdGFydCAtICh0aGlzLmludmVydGVkID8gZGlmZiA6IDApLCBuZXdTdGFydCA9IHN0YXJ0ICsgKHRoaXMuaW52ZXJ0ZWQgPyAwIDogZGlmZilcbiAgICAgIGxldCBvbGRTaXplID0gdGhpcy5yYW5nZXNbaSArIG9sZEluZGV4XSwgbmV3U2l6ZSA9IHRoaXMucmFuZ2VzW2kgKyBuZXdJbmRleF1cbiAgICAgIGYob2xkU3RhcnQsIG9sZFN0YXJ0ICsgb2xkU2l6ZSwgbmV3U3RhcnQsIG5ld1N0YXJ0ICsgbmV3U2l6ZSlcbiAgICAgIGRpZmYgKz0gbmV3U2l6ZSAtIG9sZFNpemVcbiAgICB9XG4gIH1cblxuICAvLyA6OiAoKSDihpIgU3RlcE1hcFxuICAvLyBDcmVhdGUgYW4gaW52ZXJ0ZWQgdmVyc2lvbiBvZiB0aGlzIG1hcC4gVGhlIHJlc3VsdCBjYW4gYmUgdXNlZCB0b1xuICAvLyBtYXAgcG9zaXRpb25zIGluIHRoZSBwb3N0LXN0ZXAgZG9jdW1lbnQgdG8gdGhlIHByZS1zdGVwIGRvY3VtZW50LlxuICBpbnZlcnQoKSB7XG4gICAgcmV0dXJuIG5ldyBTdGVwTWFwKHRoaXMucmFuZ2VzLCAhdGhpcy5pbnZlcnRlZClcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiAodGhpcy5pbnZlcnRlZCA/IFwiLVwiIDogXCJcIikgKyBKU09OLnN0cmluZ2lmeSh0aGlzLnJhbmdlcylcbiAgfVxuXG4gIC8vIDo6IChuOiBudW1iZXIpIOKGkiBTdGVwTWFwXG4gIC8vIENyZWF0ZSBhIG1hcCB0aGF0IG1vdmVzIGFsbCBwb3NpdGlvbnMgYnkgb2Zmc2V0IGBuYCAod2hpY2ggbWF5IGJlXG4gIC8vIG5lZ2F0aXZlKS4gVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4gYXBwbHlpbmcgc3RlcHMgbWVhbnQgZm9yIGFcbiAgLy8gc3ViLWRvY3VtZW50IHRvIGEgbGFyZ2VyIGRvY3VtZW50LCBvciB2aWNlLXZlcnNhLlxuICBzdGF0aWMgb2Zmc2V0KG4pIHtcbiAgICByZXR1cm4gbiA9PSAwID8gU3RlcE1hcC5lbXB0eSA6IG5ldyBTdGVwTWFwKG4gPCAwID8gWzAsIC1uLCAwXSA6IFswLCAwLCBuXSlcbiAgfVxufVxuXG5TdGVwTWFwLmVtcHR5ID0gbmV3IFN0ZXBNYXAoW10pXG5cbi8vIDo6IGNsYXNzIGV4dGVuZHMgTWFwcGFibGVcbi8vIEEgbWFwcGluZyByZXByZXNlbnRzIGEgcGlwZWxpbmUgb2YgemVybyBvciBtb3JlIFtzdGVwXG4vLyBtYXBzXSgjdHJhbnNmb3JtLlN0ZXBNYXApLiBJdCBoYXMgc3BlY2lhbCBwcm92aXNpb25zIGZvciBsb3NzbGVzc2x5XG4vLyBoYW5kbGluZyBtYXBwaW5nIHBvc2l0aW9ucyB0aHJvdWdoIGEgc2VyaWVzIG9mIHN0ZXBzIGluIHdoaWNoIHNvbWVcbi8vIHN0ZXBzIGFyZSBpbnZlcnRlZCB2ZXJzaW9ucyBvZiBlYXJsaWVyIHN0ZXBzLiAoVGhpcyBjb21lcyB1cCB3aGVuXG4vLyDigJhbcmViYXNpbmddKC9kb2NzL2d1aWRlLyN0cmFuc2Zvcm0ucmViYXNpbmcp4oCZIHN0ZXBzIGZvclxuLy8gY29sbGFib3JhdGlvbiBvciBoaXN0b3J5IG1hbmFnZW1lbnQuKVxuZXhwb3J0IGNsYXNzIE1hcHBpbmcge1xuICAvLyA6OiAoP1tTdGVwTWFwXSlcbiAgLy8gQ3JlYXRlIGEgbmV3IG1hcHBpbmcgd2l0aCB0aGUgZ2l2ZW4gcG9zaXRpb24gbWFwcy5cbiAgY29uc3RydWN0b3IobWFwcywgbWlycm9yLCBmcm9tLCB0bykge1xuICAgIC8vIDo6IFtTdGVwTWFwXVxuICAgIC8vIFRoZSBzdGVwIG1hcHMgaW4gdGhpcyBtYXBwaW5nLlxuICAgIHRoaXMubWFwcyA9IG1hcHMgfHwgW11cbiAgICAvLyA6OiBudW1iZXJcbiAgICAvLyBUaGUgc3RhcnRpbmcgcG9zaXRpb24gaW4gdGhlIGBtYXBzYCBhcnJheSwgdXNlZCB3aGVuIGBtYXBgIG9yXG4gICAgLy8gYG1hcFJlc3VsdGAgaXMgY2FsbGVkLlxuICAgIHRoaXMuZnJvbSA9IGZyb20gfHwgMFxuICAgIC8vIDo6IG51bWJlclxuICAgIC8vIFRoZSBlbmQgcG9zaXRpb24gaW4gdGhlIGBtYXBzYCBhcnJheS5cbiAgICB0aGlzLnRvID0gdG8gPT0gbnVsbCA/IHRoaXMubWFwcy5sZW5ndGggOiB0b1xuICAgIHRoaXMubWlycm9yID0gbWlycm9yXG4gIH1cblxuICAvLyA6OiAoP251bWJlciwgP251bWJlcikg4oaSIE1hcHBpbmdcbiAgLy8gQ3JlYXRlIGEgbWFwcGluZyB0aGF0IG1hcHMgb25seSB0aHJvdWdoIGEgcGFydCBvZiB0aGlzIG9uZS5cbiAgc2xpY2UoZnJvbSA9IDAsIHRvID0gdGhpcy5tYXBzLmxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgTWFwcGluZyh0aGlzLm1hcHMsIHRoaXMubWlycm9yLCBmcm9tLCB0bylcbiAgfVxuXG4gIGNvcHkoKSB7XG4gICAgcmV0dXJuIG5ldyBNYXBwaW5nKHRoaXMubWFwcy5zbGljZSgpLCB0aGlzLm1pcnJvciAmJiB0aGlzLm1pcnJvci5zbGljZSgpLCB0aGlzLmZyb20sIHRoaXMudG8pXG4gIH1cblxuICAvLyA6OiAoU3RlcE1hcCwgP251bWJlcilcbiAgLy8gQWRkIGEgc3RlcCBtYXAgdG8gdGhlIGVuZCBvZiB0aGlzIG1hcHBpbmcuIElmIGBtaXJyb3JzYCBpc1xuICAvLyBnaXZlbiwgaXQgc2hvdWxkIGJlIHRoZSBpbmRleCBvZiB0aGUgc3RlcCBtYXAgdGhhdCBpcyB0aGUgbWlycm9yXG4gIC8vIGltYWdlIG9mIHRoaXMgb25lLlxuICBhcHBlbmRNYXAobWFwLCBtaXJyb3JzKSB7XG4gICAgdGhpcy50byA9IHRoaXMubWFwcy5wdXNoKG1hcClcbiAgICBpZiAobWlycm9ycyAhPSBudWxsKSB0aGlzLnNldE1pcnJvcih0aGlzLm1hcHMubGVuZ3RoIC0gMSwgbWlycm9ycylcbiAgfVxuXG4gIC8vIDo6IChNYXBwaW5nKVxuICAvLyBBZGQgYWxsIHRoZSBzdGVwIG1hcHMgaW4gYSBnaXZlbiBtYXBwaW5nIHRvIHRoaXMgb25lIChwcmVzZXJ2aW5nXG4gIC8vIG1pcnJvcmluZyBpbmZvcm1hdGlvbikuXG4gIGFwcGVuZE1hcHBpbmcobWFwcGluZykge1xuICAgIGZvciAobGV0IGkgPSAwLCBzdGFydFNpemUgPSB0aGlzLm1hcHMubGVuZ3RoOyBpIDwgbWFwcGluZy5tYXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbWlyciA9IG1hcHBpbmcuZ2V0TWlycm9yKGkpXG4gICAgICB0aGlzLmFwcGVuZE1hcChtYXBwaW5nLm1hcHNbaV0sIG1pcnIgIT0gbnVsbCAmJiBtaXJyIDwgaSA/IHN0YXJ0U2l6ZSArIG1pcnIgOiBudWxsKVxuICAgIH1cbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiA/bnVtYmVyXG4gIC8vIEZpbmRzIHRoZSBvZmZzZXQgb2YgdGhlIHN0ZXAgbWFwIHRoYXQgbWlycm9ycyB0aGUgbWFwIGF0IHRoZVxuICAvLyBnaXZlbiBvZmZzZXQsIGluIHRoaXMgbWFwcGluZyAoYXMgcGVyIHRoZSBzZWNvbmQgYXJndW1lbnQgdG9cbiAgLy8gYGFwcGVuZE1hcGApLlxuICBnZXRNaXJyb3Iobikge1xuICAgIGlmICh0aGlzLm1pcnJvcikgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1pcnJvci5sZW5ndGg7IGkrKylcbiAgICAgIGlmICh0aGlzLm1pcnJvcltpXSA9PSBuKSByZXR1cm4gdGhpcy5taXJyb3JbaSArIChpICUgMiA/IC0xIDogMSldXG4gIH1cblxuICBzZXRNaXJyb3IobiwgbSkge1xuICAgIGlmICghdGhpcy5taXJyb3IpIHRoaXMubWlycm9yID0gW11cbiAgICB0aGlzLm1pcnJvci5wdXNoKG4sIG0pXG4gIH1cblxuICAvLyA6OiAoTWFwcGluZylcbiAgLy8gQXBwZW5kIHRoZSBpbnZlcnNlIG9mIHRoZSBnaXZlbiBtYXBwaW5nIHRvIHRoaXMgb25lLlxuICBhcHBlbmRNYXBwaW5nSW52ZXJ0ZWQobWFwcGluZykge1xuICAgIGZvciAobGV0IGkgPSBtYXBwaW5nLm1hcHMubGVuZ3RoIC0gMSwgdG90YWxTaXplID0gdGhpcy5tYXBzLmxlbmd0aCArIG1hcHBpbmcubWFwcy5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBsZXQgbWlyciA9IG1hcHBpbmcuZ2V0TWlycm9yKGkpXG4gICAgICB0aGlzLmFwcGVuZE1hcChtYXBwaW5nLm1hcHNbaV0uaW52ZXJ0KCksIG1pcnIgIT0gbnVsbCAmJiBtaXJyID4gaSA/IHRvdGFsU2l6ZSAtIG1pcnIgLSAxIDogbnVsbClcbiAgICB9XG4gIH1cblxuICAvLyA6OiAoKSDihpIgTWFwcGluZ1xuICAvLyBDcmVhdGUgYW4gaW52ZXJ0ZWQgdmVyc2lvbiBvZiB0aGlzIG1hcHBpbmcuXG4gIGludmVydCgpIHtcbiAgICBsZXQgaW52ZXJzZSA9IG5ldyBNYXBwaW5nXG4gICAgaW52ZXJzZS5hcHBlbmRNYXBwaW5nSW52ZXJ0ZWQodGhpcylcbiAgICByZXR1cm4gaW52ZXJzZVxuICB9XG5cbiAgLy8gOiAobnVtYmVyLCA/bnVtYmVyKSDihpIgbnVtYmVyXG4gIC8vIE1hcCBhIHBvc2l0aW9uIHRocm91Z2ggdGhpcyBtYXBwaW5nLlxuICBtYXAocG9zLCBhc3NvYyA9IDEpIHtcbiAgICBpZiAodGhpcy5taXJyb3IpIHJldHVybiB0aGlzLl9tYXAocG9zLCBhc3NvYywgdHJ1ZSlcbiAgICBmb3IgKGxldCBpID0gdGhpcy5mcm9tOyBpIDwgdGhpcy50bzsgaSsrKVxuICAgICAgcG9zID0gdGhpcy5tYXBzW2ldLm1hcChwb3MsIGFzc29jKVxuICAgIHJldHVybiBwb3NcbiAgfVxuXG4gIC8vIDogKG51bWJlciwgP251bWJlcikg4oaSIE1hcFJlc3VsdFxuICAvLyBNYXAgYSBwb3NpdGlvbiB0aHJvdWdoIHRoaXMgbWFwcGluZywgcmV0dXJuaW5nIGEgbWFwcGluZ1xuICAvLyByZXN1bHQuXG4gIG1hcFJlc3VsdChwb3MsIGFzc29jID0gMSkgeyByZXR1cm4gdGhpcy5fbWFwKHBvcywgYXNzb2MsIGZhbHNlKSB9XG5cbiAgX21hcChwb3MsIGFzc29jLCBzaW1wbGUpIHtcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlLCByZWNvdmVyYWJsZXMgPSBudWxsXG5cbiAgICBmb3IgKGxldCBpID0gdGhpcy5mcm9tOyBpIDwgdGhpcy50bzsgaSsrKSB7XG4gICAgICBsZXQgbWFwID0gdGhpcy5tYXBzW2ldLCByZWMgPSByZWNvdmVyYWJsZXMgJiYgcmVjb3ZlcmFibGVzW2ldXG4gICAgICBpZiAocmVjICE9IG51bGwgJiYgbWFwLnRvdWNoZXMocG9zLCByZWMpKSB7XG4gICAgICAgIHBvcyA9IG1hcC5yZWNvdmVyKHJlYylcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgbGV0IHJlc3VsdCA9IG1hcC5tYXBSZXN1bHQocG9zLCBhc3NvYylcbiAgICAgIGlmIChyZXN1bHQucmVjb3ZlciAhPSBudWxsKSB7XG4gICAgICAgIGxldCBjb3JyID0gdGhpcy5nZXRNaXJyb3IoaSlcbiAgICAgICAgaWYgKGNvcnIgIT0gbnVsbCAmJiBjb3JyID4gaSAmJiBjb3JyIDwgdGhpcy50bykge1xuICAgICAgICAgIGlmIChyZXN1bHQuZGVsZXRlZCkge1xuICAgICAgICAgICAgaSA9IGNvcnJcbiAgICAgICAgICAgIHBvcyA9IHRoaXMubWFwc1tjb3JyXS5yZWNvdmVyKHJlc3VsdC5yZWNvdmVyKVxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgOyhyZWNvdmVyYWJsZXMgfHwgKHJlY292ZXJhYmxlcyA9IE9iamVjdC5jcmVhdGUobnVsbCkpKVtjb3JyXSA9IHJlc3VsdC5yZWNvdmVyXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXN1bHQuZGVsZXRlZCkgZGVsZXRlZCA9IHRydWVcbiAgICAgIHBvcyA9IHJlc3VsdC5wb3NcbiAgICB9XG5cbiAgICByZXR1cm4gc2ltcGxlID8gcG9zIDogbmV3IE1hcFJlc3VsdChwb3MsIGRlbGV0ZWQpXG4gIH1cbn1cbiIsImltcG9ydCB7TWFwcGluZ30gZnJvbSBcIi4vbWFwXCJcblxuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zZm9ybUVycm9yKG1lc3NhZ2UpIHtcbiAgbGV0IGVyciA9IEVycm9yLmNhbGwodGhpcywgbWVzc2FnZSlcbiAgZXJyLl9fcHJvdG9fXyA9IFRyYW5zZm9ybUVycm9yLnByb3RvdHlwZVxuICByZXR1cm4gZXJyXG59XG5cblRyYW5zZm9ybUVycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKVxuVHJhbnNmb3JtRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVHJhbnNmb3JtRXJyb3JcblRyYW5zZm9ybUVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJUcmFuc2Zvcm1FcnJvclwiXG5cbi8vIDo6LSBBYnN0cmFjdGlvbiB0byBidWlsZCB1cCBhbmQgdHJhY2sgYW4gYXJyYXkgb2Zcbi8vIFtzdGVwc10oI3RyYW5zZm9ybS5TdGVwKSByZXByZXNlbnRpbmcgYSBkb2N1bWVudCB0cmFuc2Zvcm1hdGlvbi5cbi8vXG4vLyBNb3N0IHRyYW5zZm9ybWluZyBtZXRob2RzIHJldHVybiB0aGUgYFRyYW5zZm9ybWAgb2JqZWN0IGl0c2VsZiwgc29cbi8vIHRoYXQgdGhleSBjYW4gYmUgY2hhaW5lZC5cbmV4cG9ydCBjbGFzcyBUcmFuc2Zvcm0ge1xuICAvLyA6OiAoTm9kZSlcbiAgLy8gQ3JlYXRlIGEgdHJhbnNmb3JtIHRoYXQgc3RhcnRzIHdpdGggdGhlIGdpdmVuIGRvY3VtZW50LlxuICBjb25zdHJ1Y3Rvcihkb2MpIHtcbiAgICAvLyA6OiBOb2RlXG4gICAgLy8gVGhlIGN1cnJlbnQgZG9jdW1lbnQgKHRoZSByZXN1bHQgb2YgYXBwbHlpbmcgdGhlIHN0ZXBzIGluIHRoZVxuICAgIC8vIHRyYW5zZm9ybSkuXG4gICAgdGhpcy5kb2MgPSBkb2NcbiAgICAvLyA6OiBbU3RlcF1cbiAgICAvLyBUaGUgc3RlcHMgaW4gdGhpcyB0cmFuc2Zvcm0uXG4gICAgdGhpcy5zdGVwcyA9IFtdXG4gICAgLy8gOjogW05vZGVdXG4gICAgLy8gVGhlIGRvY3VtZW50cyBiZWZvcmUgZWFjaCBvZiB0aGUgc3RlcHMuXG4gICAgdGhpcy5kb2NzID0gW11cbiAgICAvLyA6OiBNYXBwaW5nXG4gICAgLy8gQSBtYXBwaW5nIHdpdGggdGhlIG1hcHMgZm9yIGVhY2ggb2YgdGhlIHN0ZXBzIGluIHRoaXMgdHJhbnNmb3JtLlxuICAgIHRoaXMubWFwcGluZyA9IG5ldyBNYXBwaW5nXG4gIH1cblxuICAvLyA6OiBOb2RlIFRoZSBzdGFydGluZyBkb2N1bWVudC5cbiAgZ2V0IGJlZm9yZSgpIHsgcmV0dXJuIHRoaXMuZG9jcy5sZW5ndGggPyB0aGlzLmRvY3NbMF0gOiB0aGlzLmRvYyB9XG5cbiAgLy8gOjogKHN0ZXA6IFN0ZXApIOKGkiB0aGlzXG4gIC8vIEFwcGx5IGEgbmV3IHN0ZXAgaW4gdGhpcyB0cmFuc2Zvcm0sIHNhdmluZyB0aGUgcmVzdWx0LiBUaHJvd3MgYW5cbiAgLy8gZXJyb3Igd2hlbiB0aGUgc3RlcCBmYWlscy5cbiAgc3RlcChvYmplY3QpIHtcbiAgICBsZXQgcmVzdWx0ID0gdGhpcy5tYXliZVN0ZXAob2JqZWN0KVxuICAgIGlmIChyZXN1bHQuZmFpbGVkKSB0aHJvdyBuZXcgVHJhbnNmb3JtRXJyb3IocmVzdWx0LmZhaWxlZClcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gOjogKFN0ZXApIOKGkiBTdGVwUmVzdWx0XG4gIC8vIFRyeSB0byBhcHBseSBhIHN0ZXAgaW4gdGhpcyB0cmFuc2Zvcm1hdGlvbiwgaWdub3JpbmcgaXQgaWYgaXRcbiAgLy8gZmFpbHMuIFJldHVybnMgdGhlIHN0ZXAgcmVzdWx0LlxuICBtYXliZVN0ZXAoc3RlcCkge1xuICAgIGxldCByZXN1bHQgPSBzdGVwLmFwcGx5KHRoaXMuZG9jKVxuICAgIGlmICghcmVzdWx0LmZhaWxlZCkgdGhpcy5hZGRTdGVwKHN0ZXAsIHJlc3VsdC5kb2MpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBUcnVlIHdoZW4gdGhlIGRvY3VtZW50IGhhcyBiZWVuIGNoYW5nZWQgKHdoZW4gdGhlcmUgYXJlIGFueVxuICAvLyBzdGVwcykuXG4gIGdldCBkb2NDaGFuZ2VkKCkge1xuICAgIHJldHVybiB0aGlzLnN0ZXBzLmxlbmd0aCA+IDBcbiAgfVxuXG4gIGFkZFN0ZXAoc3RlcCwgZG9jKSB7XG4gICAgdGhpcy5kb2NzLnB1c2godGhpcy5kb2MpXG4gICAgdGhpcy5zdGVwcy5wdXNoKHN0ZXApXG4gICAgdGhpcy5tYXBwaW5nLmFwcGVuZE1hcChzdGVwLmdldE1hcCgpKVxuICAgIHRoaXMuZG9jID0gZG9jXG4gIH1cbn1cbiIsImltcG9ydCB7UmVwbGFjZUVycm9yfSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuXG5pbXBvcnQge1N0ZXBNYXB9IGZyb20gXCIuL21hcFwiXG5cbmZ1bmN0aW9uIG11c3RPdmVycmlkZSgpIHsgdGhyb3cgbmV3IEVycm9yKFwiT3ZlcnJpZGUgbWVcIikgfVxuXG5jb25zdCBzdGVwc0J5SUQgPSBPYmplY3QuY3JlYXRlKG51bGwpXG5cbi8vIDo6LSBBIHN0ZXAgb2JqZWN0IHJlcHJlc2VudHMgYW4gYXRvbWljIGNoYW5nZS4gSXQgZ2VuZXJhbGx5IGFwcGxpZXNcbi8vIG9ubHkgdG8gdGhlIGRvY3VtZW50IGl0IHdhcyBjcmVhdGVkIGZvciwgc2luY2UgdGhlIHBvc2l0aW9uc1xuLy8gc3RvcmVkIGluIGl0IHdpbGwgb25seSBtYWtlIHNlbnNlIGZvciB0aGF0IGRvY3VtZW50LlxuLy9cbi8vIE5ldyBzdGVwcyBhcmUgZGVmaW5lZCBieSBjcmVhdGluZyBjbGFzc2VzIHRoYXQgZXh0ZW5kIGBTdGVwYCxcbi8vIG92ZXJyaWRpbmcgdGhlIGBhcHBseWAsIGBpbnZlcnRgLCBgbWFwYCwgYGdldE1hcGAgYW5kIGBmcm9tSlNPTmBcbi8vIG1ldGhvZHMsIGFuZCByZWdpc3RlcmluZyB5b3VyIGNsYXNzIHdpdGggYSB1bmlxdWVcbi8vIEpTT04tc2VyaWFsaXphdGlvbiBpZGVudGlmaWVyIHVzaW5nXG4vLyBbYFN0ZXAuanNvbklEYF0oI3RyYW5zZm9ybS5TdGVwXmpzb25JRCkuXG5leHBvcnQgY2xhc3MgU3RlcCB7XG4gIC8vIDo6IChkb2M6IE5vZGUpIOKGkiBTdGVwUmVzdWx0XG4gIC8vIEFwcGxpZXMgdGhpcyBzdGVwIHRvIHRoZSBnaXZlbiBkb2N1bWVudCwgcmV0dXJuaW5nIGEgcmVzdWx0XG4gIC8vIG9iamVjdCB0aGF0IGVpdGhlciBpbmRpY2F0ZXMgZmFpbHVyZSwgaWYgdGhlIHN0ZXAgY2FuIG5vdCBiZVxuICAvLyBhcHBsaWVkIHRvIHRoaXMgZG9jdW1lbnQsIG9yIGluZGljYXRlcyBzdWNjZXNzIGJ5IGNvbnRhaW5pbmcgYVxuICAvLyB0cmFuc2Zvcm1lZCBkb2N1bWVudC5cbiAgYXBwbHkoX2RvYykgeyByZXR1cm4gbXVzdE92ZXJyaWRlKCkgfVxuXG4gIC8vIDo6ICgpIOKGkiBTdGVwTWFwXG4gIC8vIEdldCB0aGUgc3RlcCBtYXAgdGhhdCByZXByZXNlbnRzIHRoZSBjaGFuZ2VzIG1hZGUgYnkgdGhpcyBzdGVwLFxuICAvLyBhbmQgd2hpY2ggY2FuIGJlIHVzZWQgdG8gdHJhbnNmb3JtIGJldHdlZW4gcG9zaXRpb25zIGluIHRoZSBvbGRcbiAgLy8gYW5kIHRoZSBuZXcgZG9jdW1lbnQuXG4gIGdldE1hcCgpIHsgcmV0dXJuIFN0ZXBNYXAuZW1wdHkgfVxuXG4gIC8vIDo6IChkb2M6IE5vZGUpIOKGkiBTdGVwXG4gIC8vIENyZWF0ZSBhbiBpbnZlcnRlZCB2ZXJzaW9uIG9mIHRoaXMgc3RlcC4gTmVlZHMgdGhlIGRvY3VtZW50IGFzIGl0XG4gIC8vIHdhcyBiZWZvcmUgdGhlIHN0ZXAgYXMgYXJndW1lbnQuXG4gIGludmVydChfZG9jKSB7IHJldHVybiBtdXN0T3ZlcnJpZGUoKSB9XG5cbiAgLy8gOjogKG1hcHBpbmc6IE1hcHBhYmxlKSDihpIgP1N0ZXBcbiAgLy8gTWFwIHRoaXMgc3RlcCB0aHJvdWdoIGEgbWFwcGFibGUgdGhpbmcsIHJldHVybmluZyBlaXRoZXIgYVxuICAvLyB2ZXJzaW9uIG9mIHRoYXQgc3RlcCB3aXRoIGl0cyBwb3NpdGlvbnMgYWRqdXN0ZWQsIG9yIGBudWxsYCBpZlxuICAvLyB0aGUgc3RlcCB3YXMgZW50aXJlbHkgZGVsZXRlZCBieSB0aGUgbWFwcGluZy5cbiAgbWFwKF9tYXBwaW5nKSB7IHJldHVybiBtdXN0T3ZlcnJpZGUoKSB9XG5cbiAgLy8gOjogKG90aGVyOiBTdGVwKSDihpIgP1N0ZXBcbiAgLy8gVHJ5IHRvIG1lcmdlIHRoaXMgc3RlcCB3aXRoIGFub3RoZXIgb25lLCB0byBiZSBhcHBsaWVkIGRpcmVjdGx5XG4gIC8vIGFmdGVyIGl0LiBSZXR1cm5zIHRoZSBtZXJnZWQgc3RlcCB3aGVuIHBvc3NpYmxlLCBudWxsIGlmIHRoZVxuICAvLyBzdGVwcyBjYW4ndCBiZSBtZXJnZWQuXG4gIG1lcmdlKF9vdGhlcikgeyByZXR1cm4gbnVsbCB9XG5cbiAgLy8gOjogKCkg4oaSIE9iamVjdFxuICAvLyBDcmVhdGUgYSBKU09OLXNlcmlhbGl6ZWFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBzdGVwLiBXaGVuXG4gIC8vIGRlZmluaW5nIHRoaXMgZm9yIGEgY3VzdG9tIHN1YmNsYXNzLCBtYWtlIHN1cmUgdGhlIHJlc3VsdCBvYmplY3RcbiAgLy8gaW5jbHVkZXMgdGhlIHN0ZXAgdHlwZSdzIFtKU09OIGlkXSgjdHJhbnNmb3JtLlN0ZXBeanNvbklEKSB1bmRlclxuICAvLyB0aGUgYHN0ZXBUeXBlYCBwcm9wZXJ0eS5cbiAgdG9KU09OKCkgeyByZXR1cm4gbXVzdE92ZXJyaWRlKCkgfVxuXG4gIC8vIDo6IChTY2hlbWEsIE9iamVjdCkg4oaSIFN0ZXBcbiAgLy8gRGVzZXJpYWxpemUgYSBzdGVwIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24uIFdpbGwgY2FsbFxuICAvLyB0aHJvdWdoIHRvIHRoZSBzdGVwIGNsYXNzJyBvd24gaW1wbGVtZW50YXRpb24gb2YgdGhpcyBtZXRob2QuXG4gIHN0YXRpYyBmcm9tSlNPTihzY2hlbWEsIGpzb24pIHtcbiAgICBpZiAoIWpzb24gfHwgIWpzb24uc3RlcFR5cGUpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgU3RlcC5mcm9tSlNPTlwiKVxuICAgIGxldCB0eXBlID0gc3RlcHNCeUlEW2pzb24uc3RlcFR5cGVdXG4gICAgaWYgKCF0eXBlKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgTm8gc3RlcCB0eXBlICR7anNvbi5zdGVwVHlwZX0gZGVmaW5lZGApXG4gICAgcmV0dXJuIHR5cGUuZnJvbUpTT04oc2NoZW1hLCBqc29uKVxuICB9XG5cbiAgLy8gOjogKHN0cmluZywgY29uc3RydWN0b3I8U3RlcD4pXG4gIC8vIFRvIGJlIGFibGUgdG8gc2VyaWFsaXplIHN0ZXBzIHRvIEpTT04sIGVhY2ggc3RlcCBuZWVkcyBhIHN0cmluZ1xuICAvLyBJRCB0byBhdHRhY2ggdG8gaXRzIEpTT04gcmVwcmVzZW50YXRpb24uIFVzZSB0aGlzIG1ldGhvZCB0b1xuICAvLyByZWdpc3RlciBhbiBJRCBmb3IgeW91ciBzdGVwIGNsYXNzZXMuIFRyeSB0byBwaWNrIHNvbWV0aGluZ1xuICAvLyB0aGF0J3MgdW5saWtlbHkgdG8gY2xhc2ggd2l0aCBzdGVwcyBmcm9tIG90aGVyIG1vZHVsZXMuXG4gIHN0YXRpYyBqc29uSUQoaWQsIHN0ZXBDbGFzcykge1xuICAgIGlmIChpZCBpbiBzdGVwc0J5SUQpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiRHVwbGljYXRlIHVzZSBvZiBzdGVwIEpTT04gSUQgXCIgKyBpZClcbiAgICBzdGVwc0J5SURbaWRdID0gc3RlcENsYXNzXG4gICAgc3RlcENsYXNzLnByb3RvdHlwZS5qc29uSUQgPSBpZFxuICAgIHJldHVybiBzdGVwQ2xhc3NcbiAgfVxufVxuXG4vLyA6Oi0gVGhlIHJlc3VsdCBvZiBbYXBwbHlpbmddKCN0cmFuc2Zvcm0uU3RlcC5hcHBseSkgYSBzdGVwLiBDb250YWlucyBlaXRoZXIgYVxuLy8gbmV3IGRvY3VtZW50IG9yIGEgZmFpbHVyZSB2YWx1ZS5cbmV4cG9ydCBjbGFzcyBTdGVwUmVzdWx0IHtcbiAgLy8gOiAoP05vZGUsID9zdHJpbmcpXG4gIGNvbnN0cnVjdG9yKGRvYywgZmFpbGVkKSB7XG4gICAgLy8gOjogP05vZGUgVGhlIHRyYW5zZm9ybWVkIGRvY3VtZW50LlxuICAgIHRoaXMuZG9jID0gZG9jXG4gICAgLy8gOjogP3N0cmluZyBUZXh0IHByb3ZpZGluZyBpbmZvcm1hdGlvbiBhYm91dCBhIGZhaWxlZCBzdGVwLlxuICAgIHRoaXMuZmFpbGVkID0gZmFpbGVkXG4gIH1cblxuICAvLyA6OiAoTm9kZSkg4oaSIFN0ZXBSZXN1bHRcbiAgLy8gQ3JlYXRlIGEgc3VjY2Vzc2Z1bCBzdGVwIHJlc3VsdC5cbiAgc3RhdGljIG9rKGRvYykgeyByZXR1cm4gbmV3IFN0ZXBSZXN1bHQoZG9jLCBudWxsKSB9XG5cbiAgLy8gOjogKHN0cmluZykg4oaSIFN0ZXBSZXN1bHRcbiAgLy8gQ3JlYXRlIGEgZmFpbGVkIHN0ZXAgcmVzdWx0LlxuICBzdGF0aWMgZmFpbChtZXNzYWdlKSB7IHJldHVybiBuZXcgU3RlcFJlc3VsdChudWxsLCBtZXNzYWdlKSB9XG5cbiAgLy8gOjogKE5vZGUsIG51bWJlciwgbnVtYmVyLCBTbGljZSkg4oaSIFN0ZXBSZXN1bHRcbiAgLy8gQ2FsbCBbYE5vZGUucmVwbGFjZWBdKCNtb2RlbC5Ob2RlLnJlcGxhY2UpIHdpdGggdGhlIGdpdmVuXG4gIC8vIGFyZ3VtZW50cy4gQ3JlYXRlIGEgc3VjY2Vzc2Z1bCByZXN1bHQgaWYgaXQgc3VjY2VlZHMsIGFuZCBhXG4gIC8vIGZhaWxlZCBvbmUgaWYgaXQgdGhyb3dzIGEgYFJlcGxhY2VFcnJvcmAuXG4gIHN0YXRpYyBmcm9tUmVwbGFjZShkb2MsIGZyb20sIHRvLCBzbGljZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gU3RlcFJlc3VsdC5vayhkb2MucmVwbGFjZShmcm9tLCB0bywgc2xpY2UpKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlIGluc3RhbmNlb2YgUmVwbGFjZUVycm9yKSByZXR1cm4gU3RlcFJlc3VsdC5mYWlsKGUubWVzc2FnZSlcbiAgICAgIHRocm93IGVcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7U2xpY2V9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5cbmltcG9ydCB7U3RlcCwgU3RlcFJlc3VsdH0gZnJvbSBcIi4vc3RlcFwiXG5pbXBvcnQge1N0ZXBNYXB9IGZyb20gXCIuL21hcFwiXG5cbi8vIDo6LSBSZXBsYWNlIGEgcGFydCBvZiB0aGUgZG9jdW1lbnQgd2l0aCBhIHNsaWNlIG9mIG5ldyBjb250ZW50LlxuZXhwb3J0IGNsYXNzIFJlcGxhY2VTdGVwIGV4dGVuZHMgU3RlcCB7XG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgU2xpY2UsID9ib29sKVxuICAvLyBUaGUgZ2l2ZW4gYHNsaWNlYCBzaG91bGQgZml0IHRoZSAnZ2FwJyBiZXR3ZWVuIGBmcm9tYCBhbmRcbiAgLy8gYHRvYOKAlHRoZSBkZXB0aHMgbXVzdCBsaW5lIHVwLCBhbmQgdGhlIHN1cnJvdW5kaW5nIG5vZGVzIG11c3QgYmVcbiAgLy8gYWJsZSB0byBiZSBqb2luZWQgd2l0aCB0aGUgb3BlbiBzaWRlcyBvZiB0aGUgc2xpY2UuIFdoZW5cbiAgLy8gYHN0cnVjdHVyZWAgaXMgdHJ1ZSwgdGhlIHN0ZXAgd2lsbCBmYWlsIGlmIHRoZSBjb250ZW50IGJldHdlZW5cbiAgLy8gZnJvbSBhbmQgdG8gaXMgbm90IGp1c3QgYSBzZXF1ZW5jZSBvZiBjbG9zaW5nIGFuZCB0aGVuIG9wZW5pbmdcbiAgLy8gdG9rZW5zICh0aGlzIGlzIHRvIGd1YXJkIGFnYWluc3QgcmViYXNlZCByZXBsYWNlIHN0ZXBzXG4gIC8vIG92ZXJ3cml0aW5nIHNvbWV0aGluZyB0aGV5IHdlcmVuJ3Qgc3VwcG9zZWQgdG8pLlxuICBjb25zdHJ1Y3Rvcihmcm9tLCB0bywgc2xpY2UsIHN0cnVjdHVyZSkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLmZyb20gPSBmcm9tXG4gICAgdGhpcy50byA9IHRvXG4gICAgdGhpcy5zbGljZSA9IHNsaWNlXG4gICAgdGhpcy5zdHJ1Y3R1cmUgPSAhIXN0cnVjdHVyZVxuICB9XG5cbiAgYXBwbHkoZG9jKSB7XG4gICAgaWYgKHRoaXMuc3RydWN0dXJlICYmIGNvbnRlbnRCZXR3ZWVuKGRvYywgdGhpcy5mcm9tLCB0aGlzLnRvKSlcbiAgICAgIHJldHVybiBTdGVwUmVzdWx0LmZhaWwoXCJTdHJ1Y3R1cmUgcmVwbGFjZSB3b3VsZCBvdmVyd3JpdGUgY29udGVudFwiKVxuICAgIHJldHVybiBTdGVwUmVzdWx0LmZyb21SZXBsYWNlKGRvYywgdGhpcy5mcm9tLCB0aGlzLnRvLCB0aGlzLnNsaWNlKVxuICB9XG5cbiAgZ2V0TWFwKCkge1xuICAgIHJldHVybiBuZXcgU3RlcE1hcChbdGhpcy5mcm9tLCB0aGlzLnRvIC0gdGhpcy5mcm9tLCB0aGlzLnNsaWNlLnNpemVdKVxuICB9XG5cbiAgaW52ZXJ0KGRvYykge1xuICAgIHJldHVybiBuZXcgUmVwbGFjZVN0ZXAodGhpcy5mcm9tLCB0aGlzLmZyb20gKyB0aGlzLnNsaWNlLnNpemUsIGRvYy5zbGljZSh0aGlzLmZyb20sIHRoaXMudG8pKVxuICB9XG5cbiAgbWFwKG1hcHBpbmcpIHtcbiAgICBsZXQgZnJvbSA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMuZnJvbSwgMSksIHRvID0gbWFwcGluZy5tYXBSZXN1bHQodGhpcy50bywgLTEpXG4gICAgaWYgKGZyb20uZGVsZXRlZCAmJiB0by5kZWxldGVkKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiBuZXcgUmVwbGFjZVN0ZXAoZnJvbS5wb3MsIE1hdGgubWF4KGZyb20ucG9zLCB0by5wb3MpLCB0aGlzLnNsaWNlKVxuICB9XG5cbiAgbWVyZ2Uob3RoZXIpIHtcbiAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFJlcGxhY2VTdGVwKSB8fCBvdGhlci5zdHJ1Y3R1cmUgIT0gdGhpcy5zdHJ1Y3R1cmUpIHJldHVybiBudWxsXG5cbiAgICBpZiAodGhpcy5mcm9tICsgdGhpcy5zbGljZS5zaXplID09IG90aGVyLmZyb20gJiYgIXRoaXMuc2xpY2Uub3BlbkVuZCAmJiAhb3RoZXIuc2xpY2Uub3BlblN0YXJ0KSB7XG4gICAgICBsZXQgc2xpY2UgPSB0aGlzLnNsaWNlLnNpemUgKyBvdGhlci5zbGljZS5zaXplID09IDAgPyBTbGljZS5lbXB0eVxuICAgICAgICAgIDogbmV3IFNsaWNlKHRoaXMuc2xpY2UuY29udGVudC5hcHBlbmQob3RoZXIuc2xpY2UuY29udGVudCksIHRoaXMuc2xpY2Uub3BlblN0YXJ0LCBvdGhlci5zbGljZS5vcGVuRW5kKVxuICAgICAgcmV0dXJuIG5ldyBSZXBsYWNlU3RlcCh0aGlzLmZyb20sIHRoaXMudG8gKyAob3RoZXIudG8gLSBvdGhlci5mcm9tKSwgc2xpY2UsIHRoaXMuc3RydWN0dXJlKVxuICAgIH0gZWxzZSBpZiAob3RoZXIudG8gPT0gdGhpcy5mcm9tICYmICF0aGlzLnNsaWNlLm9wZW5TdGFydCAmJiAhb3RoZXIuc2xpY2Uub3BlbkVuZCkge1xuICAgICAgbGV0IHNsaWNlID0gdGhpcy5zbGljZS5zaXplICsgb3RoZXIuc2xpY2Uuc2l6ZSA9PSAwID8gU2xpY2UuZW1wdHlcbiAgICAgICAgICA6IG5ldyBTbGljZShvdGhlci5zbGljZS5jb250ZW50LmFwcGVuZCh0aGlzLnNsaWNlLmNvbnRlbnQpLCBvdGhlci5zbGljZS5vcGVuU3RhcnQsIHRoaXMuc2xpY2Uub3BlbkVuZClcbiAgICAgIHJldHVybiBuZXcgUmVwbGFjZVN0ZXAob3RoZXIuZnJvbSwgdGhpcy50bywgc2xpY2UsIHRoaXMuc3RydWN0dXJlKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICBsZXQganNvbiA9IHtzdGVwVHlwZTogXCJyZXBsYWNlXCIsIGZyb206IHRoaXMuZnJvbSwgdG86IHRoaXMudG99XG4gICAgaWYgKHRoaXMuc2xpY2Uuc2l6ZSkganNvbi5zbGljZSA9IHRoaXMuc2xpY2UudG9KU09OKClcbiAgICBpZiAodGhpcy5zdHJ1Y3R1cmUpIGpzb24uc3RydWN0dXJlID0gdHJ1ZVxuICAgIHJldHVybiBqc29uXG4gIH1cblxuICBzdGF0aWMgZnJvbUpTT04oc2NoZW1hLCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uLmZyb20gIT0gXCJudW1iZXJcIiB8fCB0eXBlb2YganNvbi50byAhPSBcIm51bWJlclwiKVxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBSZXBsYWNlU3RlcC5mcm9tSlNPTlwiKVxuICAgIHJldHVybiBuZXcgUmVwbGFjZVN0ZXAoanNvbi5mcm9tLCBqc29uLnRvLCBTbGljZS5mcm9tSlNPTihzY2hlbWEsIGpzb24uc2xpY2UpLCAhIWpzb24uc3RydWN0dXJlKVxuICB9XG59XG5cblN0ZXAuanNvbklEKFwicmVwbGFjZVwiLCBSZXBsYWNlU3RlcClcblxuLy8gOjotIFJlcGxhY2UgYSBwYXJ0IG9mIHRoZSBkb2N1bWVudCB3aXRoIGEgc2xpY2Ugb2YgY29udGVudCwgYnV0XG4vLyBwcmVzZXJ2ZSBhIHJhbmdlIG9mIHRoZSByZXBsYWNlZCBjb250ZW50IGJ5IG1vdmluZyBpdCBpbnRvIHRoZVxuLy8gc2xpY2UuXG5leHBvcnQgY2xhc3MgUmVwbGFjZUFyb3VuZFN0ZXAgZXh0ZW5kcyBTdGVwIHtcbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgU2xpY2UsIG51bWJlciwgP2Jvb2wpXG4gIC8vIENyZWF0ZSBhIHJlcGxhY2UtYXJvdW5kIHN0ZXAgd2l0aCB0aGUgZ2l2ZW4gcmFuZ2UgYW5kIGdhcC5cbiAgLy8gYGluc2VydGAgc2hvdWxkIGJlIHRoZSBwb2ludCBpbiB0aGUgc2xpY2UgaW50byB3aGljaCB0aGUgY29udGVudFxuICAvLyBvZiB0aGUgZ2FwIHNob3VsZCBiZSBtb3ZlZC4gYHN0cnVjdHVyZWAgaGFzIHRoZSBzYW1lIG1lYW5pbmcgYXNcbiAgLy8gaXQgaGFzIGluIHRoZSBbYFJlcGxhY2VTdGVwYF0oI3RyYW5zZm9ybS5SZXBsYWNlU3RlcCkgY2xhc3MuXG4gIGNvbnN0cnVjdG9yKGZyb20sIHRvLCBnYXBGcm9tLCBnYXBUbywgc2xpY2UsIGluc2VydCwgc3RydWN0dXJlKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuZnJvbSA9IGZyb21cbiAgICB0aGlzLnRvID0gdG9cbiAgICB0aGlzLmdhcEZyb20gPSBnYXBGcm9tXG4gICAgdGhpcy5nYXBUbyA9IGdhcFRvXG4gICAgdGhpcy5zbGljZSA9IHNsaWNlXG4gICAgdGhpcy5pbnNlcnQgPSBpbnNlcnRcbiAgICB0aGlzLnN0cnVjdHVyZSA9ICEhc3RydWN0dXJlXG4gIH1cblxuICBhcHBseShkb2MpIHtcbiAgICBpZiAodGhpcy5zdHJ1Y3R1cmUgJiYgKGNvbnRlbnRCZXR3ZWVuKGRvYywgdGhpcy5mcm9tLCB0aGlzLmdhcEZyb20pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50QmV0d2Vlbihkb2MsIHRoaXMuZ2FwVG8sIHRoaXMudG8pKSlcbiAgICAgIHJldHVybiBTdGVwUmVzdWx0LmZhaWwoXCJTdHJ1Y3R1cmUgZ2FwLXJlcGxhY2Ugd291bGQgb3ZlcndyaXRlIGNvbnRlbnRcIilcblxuICAgIGxldCBnYXAgPSBkb2Muc2xpY2UodGhpcy5nYXBGcm9tLCB0aGlzLmdhcFRvKVxuICAgIGlmIChnYXAub3BlblN0YXJ0IHx8IGdhcC5vcGVuRW5kKVxuICAgICAgcmV0dXJuIFN0ZXBSZXN1bHQuZmFpbChcIkdhcCBpcyBub3QgYSBmbGF0IHJhbmdlXCIpXG4gICAgbGV0IGluc2VydGVkID0gdGhpcy5zbGljZS5pbnNlcnRBdCh0aGlzLmluc2VydCwgZ2FwLmNvbnRlbnQpXG4gICAgaWYgKCFpbnNlcnRlZCkgcmV0dXJuIFN0ZXBSZXN1bHQuZmFpbChcIkNvbnRlbnQgZG9lcyBub3QgZml0IGluIGdhcFwiKVxuICAgIHJldHVybiBTdGVwUmVzdWx0LmZyb21SZXBsYWNlKGRvYywgdGhpcy5mcm9tLCB0aGlzLnRvLCBpbnNlcnRlZClcbiAgfVxuXG4gIGdldE1hcCgpIHtcbiAgICByZXR1cm4gbmV3IFN0ZXBNYXAoW3RoaXMuZnJvbSwgdGhpcy5nYXBGcm9tIC0gdGhpcy5mcm9tLCB0aGlzLmluc2VydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FwVG8sIHRoaXMudG8gLSB0aGlzLmdhcFRvLCB0aGlzLnNsaWNlLnNpemUgLSB0aGlzLmluc2VydF0pXG4gIH1cblxuICBpbnZlcnQoZG9jKSB7XG4gICAgbGV0IGdhcCA9IHRoaXMuZ2FwVG8gLSB0aGlzLmdhcEZyb21cbiAgICByZXR1cm4gbmV3IFJlcGxhY2VBcm91bmRTdGVwKHRoaXMuZnJvbSwgdGhpcy5mcm9tICsgdGhpcy5zbGljZS5zaXplICsgZ2FwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcm9tICsgdGhpcy5pbnNlcnQsIHRoaXMuZnJvbSArIHRoaXMuaW5zZXJ0ICsgZ2FwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLnNsaWNlKHRoaXMuZnJvbSwgdGhpcy50bykucmVtb3ZlQmV0d2Vlbih0aGlzLmdhcEZyb20gLSB0aGlzLmZyb20sIHRoaXMuZ2FwVG8gLSB0aGlzLmZyb20pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYXBGcm9tIC0gdGhpcy5mcm9tLCB0aGlzLnN0cnVjdHVyZSlcbiAgfVxuXG4gIG1hcChtYXBwaW5nKSB7XG4gICAgbGV0IGZyb20gPSBtYXBwaW5nLm1hcFJlc3VsdCh0aGlzLmZyb20sIDEpLCB0byA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMudG8sIC0xKVxuICAgIGxldCBnYXBGcm9tID0gbWFwcGluZy5tYXAodGhpcy5nYXBGcm9tLCAtMSksIGdhcFRvID0gbWFwcGluZy5tYXAodGhpcy5nYXBUbywgMSlcbiAgICBpZiAoKGZyb20uZGVsZXRlZCAmJiB0by5kZWxldGVkKSB8fCBnYXBGcm9tIDwgZnJvbS5wb3MgfHwgZ2FwVG8gPiB0by5wb3MpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIG5ldyBSZXBsYWNlQXJvdW5kU3RlcChmcm9tLnBvcywgdG8ucG9zLCBnYXBGcm9tLCBnYXBUbywgdGhpcy5zbGljZSwgdGhpcy5pbnNlcnQsIHRoaXMuc3RydWN0dXJlKVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIGxldCBqc29uID0ge3N0ZXBUeXBlOiBcInJlcGxhY2VBcm91bmRcIiwgZnJvbTogdGhpcy5mcm9tLCB0bzogdGhpcy50byxcbiAgICAgICAgICAgICAgICBnYXBGcm9tOiB0aGlzLmdhcEZyb20sIGdhcFRvOiB0aGlzLmdhcFRvLCBpbnNlcnQ6IHRoaXMuaW5zZXJ0fVxuICAgIGlmICh0aGlzLnNsaWNlLnNpemUpIGpzb24uc2xpY2UgPSB0aGlzLnNsaWNlLnRvSlNPTigpXG4gICAgaWYgKHRoaXMuc3RydWN0dXJlKSBqc29uLnN0cnVjdHVyZSA9IHRydWVcbiAgICByZXR1cm4ganNvblxuICB9XG5cbiAgc3RhdGljIGZyb21KU09OKHNjaGVtYSwganNvbikge1xuICAgIGlmICh0eXBlb2YganNvbi5mcm9tICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIGpzb24udG8gIT0gXCJudW1iZXJcIiB8fFxuICAgICAgICB0eXBlb2YganNvbi5nYXBGcm9tICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIGpzb24uZ2FwVG8gIT0gXCJudW1iZXJcIiB8fCB0eXBlb2YganNvbi5pbnNlcnQgIT0gXCJudW1iZXJcIilcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgUmVwbGFjZUFyb3VuZFN0ZXAuZnJvbUpTT05cIilcbiAgICByZXR1cm4gbmV3IFJlcGxhY2VBcm91bmRTdGVwKGpzb24uZnJvbSwganNvbi50bywganNvbi5nYXBGcm9tLCBqc29uLmdhcFRvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2xpY2UuZnJvbUpTT04oc2NoZW1hLCBqc29uLnNsaWNlKSwganNvbi5pbnNlcnQsICEhanNvbi5zdHJ1Y3R1cmUpXG4gIH1cbn1cblxuU3RlcC5qc29uSUQoXCJyZXBsYWNlQXJvdW5kXCIsIFJlcGxhY2VBcm91bmRTdGVwKVxuXG5mdW5jdGlvbiBjb250ZW50QmV0d2Vlbihkb2MsIGZyb20sIHRvKSB7XG4gIGxldCAkZnJvbSA9IGRvYy5yZXNvbHZlKGZyb20pLCBkaXN0ID0gdG8gLSBmcm9tLCBkZXB0aCA9ICRmcm9tLmRlcHRoXG4gIHdoaWxlIChkaXN0ID4gMCAmJiBkZXB0aCA+IDAgJiYgJGZyb20uaW5kZXhBZnRlcihkZXB0aCkgPT0gJGZyb20ubm9kZShkZXB0aCkuY2hpbGRDb3VudCkge1xuICAgIGRlcHRoLS1cbiAgICBkaXN0LS1cbiAgfVxuICBpZiAoZGlzdCA+IDApIHtcbiAgICBsZXQgbmV4dCA9ICRmcm9tLm5vZGUoZGVwdGgpLm1heWJlQ2hpbGQoJGZyb20uaW5kZXhBZnRlcihkZXB0aCkpXG4gICAgd2hpbGUgKGRpc3QgPiAwKSB7XG4gICAgICBpZiAoIW5leHQgfHwgbmV4dC5pc0xlYWYpIHJldHVybiB0cnVlXG4gICAgICBuZXh0ID0gbmV4dC5maXJzdENoaWxkXG4gICAgICBkaXN0LS1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG4iLCJpbXBvcnQge1NsaWNlLCBGcmFnbWVudH0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcblxuaW1wb3J0IHtUcmFuc2Zvcm19IGZyb20gXCIuL3RyYW5zZm9ybVwiXG5pbXBvcnQge1JlcGxhY2VTdGVwLCBSZXBsYWNlQXJvdW5kU3RlcH0gZnJvbSBcIi4vcmVwbGFjZV9zdGVwXCJcblxuZnVuY3Rpb24gY2FuQ3V0KG5vZGUsIHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIChzdGFydCA9PSAwIHx8IG5vZGUuY2FuUmVwbGFjZShzdGFydCwgbm9kZS5jaGlsZENvdW50KSkgJiZcbiAgICAoZW5kID09IG5vZGUuY2hpbGRDb3VudCB8fCBub2RlLmNhblJlcGxhY2UoMCwgZW5kKSlcbn1cblxuLy8gOjogKE5vZGVSYW5nZSkg4oaSID9udW1iZXJcbi8vIFRyeSB0byBmaW5kIGEgdGFyZ2V0IGRlcHRoIHRvIHdoaWNoIHRoZSBjb250ZW50IGluIHRoZSBnaXZlbiByYW5nZVxuLy8gY2FuIGJlIGxpZnRlZC4gV2lsbCBub3QgZ28gYWNyb3NzXG4vLyBbaXNvbGF0aW5nXSgjbW9kZWwuTm9kZVNwZWMuaXNvbGF0aW5nKSBwYXJlbnQgbm9kZXMuXG5leHBvcnQgZnVuY3Rpb24gbGlmdFRhcmdldChyYW5nZSkge1xuICBsZXQgcGFyZW50ID0gcmFuZ2UucGFyZW50XG4gIGxldCBjb250ZW50ID0gcGFyZW50LmNvbnRlbnQuY3V0QnlJbmRleChyYW5nZS5zdGFydEluZGV4LCByYW5nZS5lbmRJbmRleClcbiAgZm9yIChsZXQgZGVwdGggPSByYW5nZS5kZXB0aDs7IC0tZGVwdGgpIHtcbiAgICBsZXQgbm9kZSA9IHJhbmdlLiRmcm9tLm5vZGUoZGVwdGgpXG4gICAgbGV0IGluZGV4ID0gcmFuZ2UuJGZyb20uaW5kZXgoZGVwdGgpLCBlbmRJbmRleCA9IHJhbmdlLiR0by5pbmRleEFmdGVyKGRlcHRoKVxuICAgIGlmIChkZXB0aCA8IHJhbmdlLmRlcHRoICYmIG5vZGUuY2FuUmVwbGFjZShpbmRleCwgZW5kSW5kZXgsIGNvbnRlbnQpKVxuICAgICAgcmV0dXJuIGRlcHRoXG4gICAgaWYgKGRlcHRoID09IDAgfHwgbm9kZS50eXBlLnNwZWMuaXNvbGF0aW5nIHx8ICFjYW5DdXQobm9kZSwgaW5kZXgsIGVuZEluZGV4KSkgYnJlYWtcbiAgfVxufVxuXG4vLyA6OiAoTm9kZVJhbmdlLCBudW1iZXIpIOKGkiB0aGlzXG4vLyBTcGxpdCB0aGUgY29udGVudCBpbiB0aGUgZ2l2ZW4gcmFuZ2Ugb2ZmIGZyb20gaXRzIHBhcmVudCwgaWYgdGhlcmVcbi8vIGlzIHNpYmxpbmcgY29udGVudCBiZWZvcmUgb3IgYWZ0ZXIgaXQsIGFuZCBtb3ZlIGl0IHVwIHRoZSB0cmVlIHRvXG4vLyB0aGUgZGVwdGggc3BlY2lmaWVkIGJ5IGB0YXJnZXRgLiBZb3UnbGwgcHJvYmFibHkgd2FudCB0byB1c2Vcbi8vIFtgbGlmdFRhcmdldGBdKCN0cmFuc2Zvcm0ubGlmdFRhcmdldCkgdG8gY29tcHV0ZSBgdGFyZ2V0YCwgdG8gbWFrZVxuLy8gc3VyZSB0aGUgbGlmdCBpcyB2YWxpZC5cblRyYW5zZm9ybS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uKHJhbmdlLCB0YXJnZXQpIHtcbiAgbGV0IHskZnJvbSwgJHRvLCBkZXB0aH0gPSByYW5nZVxuXG4gIGxldCBnYXBTdGFydCA9ICRmcm9tLmJlZm9yZShkZXB0aCArIDEpLCBnYXBFbmQgPSAkdG8uYWZ0ZXIoZGVwdGggKyAxKVxuICBsZXQgc3RhcnQgPSBnYXBTdGFydCwgZW5kID0gZ2FwRW5kXG5cbiAgbGV0IGJlZm9yZSA9IEZyYWdtZW50LmVtcHR5LCBvcGVuU3RhcnQgPSAwXG4gIGZvciAobGV0IGQgPSBkZXB0aCwgc3BsaXR0aW5nID0gZmFsc2U7IGQgPiB0YXJnZXQ7IGQtLSlcbiAgICBpZiAoc3BsaXR0aW5nIHx8ICRmcm9tLmluZGV4KGQpID4gMCkge1xuICAgICAgc3BsaXR0aW5nID0gdHJ1ZVxuICAgICAgYmVmb3JlID0gRnJhZ21lbnQuZnJvbSgkZnJvbS5ub2RlKGQpLmNvcHkoYmVmb3JlKSlcbiAgICAgIG9wZW5TdGFydCsrXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0LS1cbiAgICB9XG4gIGxldCBhZnRlciA9IEZyYWdtZW50LmVtcHR5LCBvcGVuRW5kID0gMFxuICBmb3IgKGxldCBkID0gZGVwdGgsIHNwbGl0dGluZyA9IGZhbHNlOyBkID4gdGFyZ2V0OyBkLS0pXG4gICAgaWYgKHNwbGl0dGluZyB8fCAkdG8uYWZ0ZXIoZCArIDEpIDwgJHRvLmVuZChkKSkge1xuICAgICAgc3BsaXR0aW5nID0gdHJ1ZVxuICAgICAgYWZ0ZXIgPSBGcmFnbWVudC5mcm9tKCR0by5ub2RlKGQpLmNvcHkoYWZ0ZXIpKVxuICAgICAgb3BlbkVuZCsrXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuZCsrXG4gICAgfVxuXG4gIHJldHVybiB0aGlzLnN0ZXAobmV3IFJlcGxhY2VBcm91bmRTdGVwKHN0YXJ0LCBlbmQsIGdhcFN0YXJ0LCBnYXBFbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTbGljZShiZWZvcmUuYXBwZW5kKGFmdGVyKSwgb3BlblN0YXJ0LCBvcGVuRW5kKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlLnNpemUgLSBvcGVuU3RhcnQsIHRydWUpKVxufVxuXG4vLyA6OiAoTm9kZVJhbmdlLCBOb2RlVHlwZSwgP09iamVjdCwgP05vZGVSYW5nZSkg4oaSID9be3R5cGU6IE5vZGVUeXBlLCBhdHRyczogP09iamVjdH1dXG4vLyBUcnkgdG8gZmluZCBhIHZhbGlkIHdheSB0byB3cmFwIHRoZSBjb250ZW50IGluIHRoZSBnaXZlbiByYW5nZSBpbiBhXG4vLyBub2RlIG9mIHRoZSBnaXZlbiB0eXBlLiBNYXkgaW50cm9kdWNlIGV4dHJhIG5vZGVzIGFyb3VuZCBhbmQgaW5zaWRlXG4vLyB0aGUgd3JhcHBlciBub2RlLCBpZiBuZWNlc3NhcnkuIFJldHVybnMgbnVsbCBpZiBubyB2YWxpZCB3cmFwcGluZ1xuLy8gY291bGQgYmUgZm91bmQuIFdoZW4gYGlubmVyUmFuZ2VgIGlzIGdpdmVuLCB0aGF0IHJhbmdlJ3MgY29udGVudCBpc1xuLy8gdXNlZCBhcyB0aGUgY29udGVudCB0byBmaXQgaW50byB0aGUgd3JhcHBpbmcsIGluc3RlYWQgb2YgdGhlXG4vLyBjb250ZW50IG9mIGByYW5nZWAuXG5leHBvcnQgZnVuY3Rpb24gZmluZFdyYXBwaW5nKHJhbmdlLCBub2RlVHlwZSwgYXR0cnMsIGlubmVyUmFuZ2UgPSByYW5nZSkge1xuICBsZXQgYXJvdW5kID0gZmluZFdyYXBwaW5nT3V0c2lkZShyYW5nZSwgbm9kZVR5cGUpXG4gIGxldCBpbm5lciA9IGFyb3VuZCAmJiBmaW5kV3JhcHBpbmdJbnNpZGUoaW5uZXJSYW5nZSwgbm9kZVR5cGUpXG4gIGlmICghaW5uZXIpIHJldHVybiBudWxsXG4gIHJldHVybiBhcm91bmQubWFwKHdpdGhBdHRycykuY29uY2F0KHt0eXBlOiBub2RlVHlwZSwgYXR0cnN9KS5jb25jYXQoaW5uZXIubWFwKHdpdGhBdHRycykpXG59XG5cbmZ1bmN0aW9uIHdpdGhBdHRycyh0eXBlKSB7IHJldHVybiB7dHlwZSwgYXR0cnM6IG51bGx9IH1cblxuZnVuY3Rpb24gZmluZFdyYXBwaW5nT3V0c2lkZShyYW5nZSwgdHlwZSkge1xuICBsZXQge3BhcmVudCwgc3RhcnRJbmRleCwgZW5kSW5kZXh9ID0gcmFuZ2VcbiAgbGV0IGFyb3VuZCA9IHBhcmVudC5jb250ZW50TWF0Y2hBdChzdGFydEluZGV4KS5maW5kV3JhcHBpbmcodHlwZSlcbiAgaWYgKCFhcm91bmQpIHJldHVybiBudWxsXG4gIGxldCBvdXRlciA9IGFyb3VuZC5sZW5ndGggPyBhcm91bmRbMF0gOiB0eXBlXG4gIHJldHVybiBwYXJlbnQuY2FuUmVwbGFjZVdpdGgoc3RhcnRJbmRleCwgZW5kSW5kZXgsIG91dGVyKSA/IGFyb3VuZCA6IG51bGxcbn1cblxuZnVuY3Rpb24gZmluZFdyYXBwaW5nSW5zaWRlKHJhbmdlLCB0eXBlKSB7XG4gIGxldCB7cGFyZW50LCBzdGFydEluZGV4LCBlbmRJbmRleH0gPSByYW5nZVxuICBsZXQgaW5uZXIgPSBwYXJlbnQuY2hpbGQoc3RhcnRJbmRleClcbiAgbGV0IGluc2lkZSA9IHR5cGUuY29udGVudE1hdGNoLmZpbmRXcmFwcGluZyhpbm5lci50eXBlKVxuICBpZiAoIWluc2lkZSkgcmV0dXJuIG51bGxcbiAgbGV0IGxhc3RUeXBlID0gaW5zaWRlLmxlbmd0aCA/IGluc2lkZVtpbnNpZGUubGVuZ3RoIC0gMV0gOiB0eXBlXG4gIGxldCBpbm5lck1hdGNoID0gbGFzdFR5cGUuY29udGVudE1hdGNoXG4gIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpbm5lck1hdGNoICYmIGkgPCBlbmRJbmRleDsgaSsrKVxuICAgIGlubmVyTWF0Y2ggPSBpbm5lck1hdGNoLm1hdGNoVHlwZShwYXJlbnQuY2hpbGQoaSkudHlwZSlcbiAgaWYgKCFpbm5lck1hdGNoIHx8ICFpbm5lck1hdGNoLnZhbGlkRW5kKSByZXR1cm4gbnVsbFxuICByZXR1cm4gaW5zaWRlXG59XG5cbi8vIDo6IChOb2RlUmFuZ2UsIFt7dHlwZTogTm9kZVR5cGUsIGF0dHJzOiA/T2JqZWN0fV0pIOKGkiB0aGlzXG4vLyBXcmFwIHRoZSBnaXZlbiBbcmFuZ2VdKCNtb2RlbC5Ob2RlUmFuZ2UpIGluIHRoZSBnaXZlbiBzZXQgb2Ygd3JhcHBlcnMuXG4vLyBUaGUgd3JhcHBlcnMgYXJlIGFzc3VtZWQgdG8gYmUgdmFsaWQgaW4gdGhpcyBwb3NpdGlvbiwgYW5kIHNob3VsZFxuLy8gcHJvYmFibHkgYmUgY29tcHV0ZWQgd2l0aCBbYGZpbmRXcmFwcGluZ2BdKCN0cmFuc2Zvcm0uZmluZFdyYXBwaW5nKS5cblRyYW5zZm9ybS5wcm90b3R5cGUud3JhcCA9IGZ1bmN0aW9uKHJhbmdlLCB3cmFwcGVycykge1xuICBsZXQgY29udGVudCA9IEZyYWdtZW50LmVtcHR5XG4gIGZvciAobGV0IGkgPSB3cmFwcGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICBjb250ZW50ID0gRnJhZ21lbnQuZnJvbSh3cmFwcGVyc1tpXS50eXBlLmNyZWF0ZSh3cmFwcGVyc1tpXS5hdHRycywgY29udGVudCkpXG5cbiAgbGV0IHN0YXJ0ID0gcmFuZ2Uuc3RhcnQsIGVuZCA9IHJhbmdlLmVuZFxuICByZXR1cm4gdGhpcy5zdGVwKG5ldyBSZXBsYWNlQXJvdW5kU3RlcChzdGFydCwgZW5kLCBzdGFydCwgZW5kLCBuZXcgU2xpY2UoY29udGVudCwgMCwgMCksIHdyYXBwZXJzLmxlbmd0aCwgdHJ1ZSkpXG59XG5cbi8vIDo6IChudW1iZXIsID9udW1iZXIsIE5vZGVUeXBlLCA/T2JqZWN0KSDihpIgdGhpc1xuLy8gU2V0IHRoZSB0eXBlIG9mIGFsbCB0ZXh0YmxvY2tzIChwYXJ0bHkpIGJldHdlZW4gYGZyb21gIGFuZCBgdG9gIHRvXG4vLyB0aGUgZ2l2ZW4gbm9kZSB0eXBlIHdpdGggdGhlIGdpdmVuIGF0dHJpYnV0ZXMuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnNldEJsb2NrVHlwZSA9IGZ1bmN0aW9uKGZyb20sIHRvID0gZnJvbSwgdHlwZSwgYXR0cnMpIHtcbiAgaWYgKCF0eXBlLmlzVGV4dGJsb2NrKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlR5cGUgZ2l2ZW4gdG8gc2V0QmxvY2tUeXBlIHNob3VsZCBiZSBhIHRleHRibG9ja1wiKVxuICBsZXQgbWFwRnJvbSA9IHRoaXMuc3RlcHMubGVuZ3RoXG4gIHRoaXMuZG9jLm5vZGVzQmV0d2Vlbihmcm9tLCB0bywgKG5vZGUsIHBvcykgPT4ge1xuICAgIGlmIChub2RlLmlzVGV4dGJsb2NrICYmICFub2RlLmhhc01hcmt1cCh0eXBlLCBhdHRycykgJiYgY2FuQ2hhbmdlVHlwZSh0aGlzLmRvYywgdGhpcy5tYXBwaW5nLnNsaWNlKG1hcEZyb20pLm1hcChwb3MpLCB0eXBlKSkge1xuICAgICAgLy8gRW5zdXJlIGFsbCBtYXJrdXAgdGhhdCBpc24ndCBhbGxvd2VkIGluIHRoZSBuZXcgbm9kZSB0eXBlIGlzIGNsZWFyZWRcbiAgICAgIHRoaXMuY2xlYXJJbmNvbXBhdGlibGUodGhpcy5tYXBwaW5nLnNsaWNlKG1hcEZyb20pLm1hcChwb3MsIDEpLCB0eXBlKVxuICAgICAgbGV0IG1hcHBpbmcgPSB0aGlzLm1hcHBpbmcuc2xpY2UobWFwRnJvbSlcbiAgICAgIGxldCBzdGFydE0gPSBtYXBwaW5nLm1hcChwb3MsIDEpLCBlbmRNID0gbWFwcGluZy5tYXAocG9zICsgbm9kZS5ub2RlU2l6ZSwgMSlcbiAgICAgIHRoaXMuc3RlcChuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoc3RhcnRNLCBlbmRNLCBzdGFydE0gKyAxLCBlbmRNIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWNlKEZyYWdtZW50LmZyb20odHlwZS5jcmVhdGUoYXR0cnMsIG51bGwsIG5vZGUubWFya3MpKSwgMCwgMCksIDEsIHRydWUpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9KVxuICByZXR1cm4gdGhpc1xufVxuXG5mdW5jdGlvbiBjYW5DaGFuZ2VUeXBlKGRvYywgcG9zLCB0eXBlKSB7XG4gIGxldCAkcG9zID0gZG9jLnJlc29sdmUocG9zKSwgaW5kZXggPSAkcG9zLmluZGV4KClcbiAgcmV0dXJuICRwb3MucGFyZW50LmNhblJlcGxhY2VXaXRoKGluZGV4LCBpbmRleCArIDEsIHR5cGUpXG59XG5cbi8vIDo6IChudW1iZXIsID9Ob2RlVHlwZSwgP09iamVjdCwgP1tNYXJrXSkg4oaSIHRoaXNcbi8vIENoYW5nZSB0aGUgdHlwZSwgYXR0cmlidXRlcywgYW5kL29yIG1hcmtzIG9mIHRoZSBub2RlIGF0IGBwb3NgLlxuLy8gV2hlbiBgdHlwZWAgaXNuJ3QgZ2l2ZW4sIHRoZSBleGlzdGluZyBub2RlIHR5cGUgaXMgcHJlc2VydmVkLFxuVHJhbnNmb3JtLnByb3RvdHlwZS5zZXROb2RlTWFya3VwID0gZnVuY3Rpb24ocG9zLCB0eXBlLCBhdHRycywgbWFya3MpIHtcbiAgbGV0IG5vZGUgPSB0aGlzLmRvYy5ub2RlQXQocG9zKVxuICBpZiAoIW5vZGUpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiTm8gbm9kZSBhdCBnaXZlbiBwb3NpdGlvblwiKVxuICBpZiAoIXR5cGUpIHR5cGUgPSBub2RlLnR5cGVcbiAgbGV0IG5ld05vZGUgPSB0eXBlLmNyZWF0ZShhdHRycywgbnVsbCwgbWFya3MgfHwgbm9kZS5tYXJrcylcbiAgaWYgKG5vZGUuaXNMZWFmKVxuICAgIHJldHVybiB0aGlzLnJlcGxhY2VXaXRoKHBvcywgcG9zICsgbm9kZS5ub2RlU2l6ZSwgbmV3Tm9kZSlcblxuICBpZiAoIXR5cGUudmFsaWRDb250ZW50KG5vZGUuY29udGVudCkpXG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgdHlwZSBcIiArIHR5cGUubmFtZSlcblxuICByZXR1cm4gdGhpcy5zdGVwKG5ldyBSZXBsYWNlQXJvdW5kU3RlcChwb3MsIHBvcyArIG5vZGUubm9kZVNpemUsIHBvcyArIDEsIHBvcyArIG5vZGUubm9kZVNpemUgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2xpY2UoRnJhZ21lbnQuZnJvbShuZXdOb2RlKSwgMCwgMCksIDEsIHRydWUpKVxufVxuXG4vLyA6OiAoTm9kZSwgbnVtYmVyLCBudW1iZXIsID9bP3t0eXBlOiBOb2RlVHlwZSwgYXR0cnM6ID9PYmplY3R9XSkg4oaSIGJvb2xcbi8vIENoZWNrIHdoZXRoZXIgc3BsaXR0aW5nIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiBpcyBhbGxvd2VkLlxuZXhwb3J0IGZ1bmN0aW9uIGNhblNwbGl0KGRvYywgcG9zLCBkZXB0aCA9IDEsIHR5cGVzQWZ0ZXIpIHtcbiAgbGV0ICRwb3MgPSBkb2MucmVzb2x2ZShwb3MpLCBiYXNlID0gJHBvcy5kZXB0aCAtIGRlcHRoXG4gIGxldCBpbm5lclR5cGUgPSAodHlwZXNBZnRlciAmJiB0eXBlc0FmdGVyW3R5cGVzQWZ0ZXIubGVuZ3RoIC0gMV0pIHx8ICRwb3MucGFyZW50XG4gIGlmIChiYXNlIDwgMCB8fCAkcG9zLnBhcmVudC50eXBlLnNwZWMuaXNvbGF0aW5nIHx8XG4gICAgICAhJHBvcy5wYXJlbnQuY2FuUmVwbGFjZSgkcG9zLmluZGV4KCksICRwb3MucGFyZW50LmNoaWxkQ291bnQpIHx8XG4gICAgICAhaW5uZXJUeXBlLnR5cGUudmFsaWRDb250ZW50KCRwb3MucGFyZW50LmNvbnRlbnQuY3V0QnlJbmRleCgkcG9zLmluZGV4KCksICRwb3MucGFyZW50LmNoaWxkQ291bnQpKSlcbiAgICByZXR1cm4gZmFsc2VcbiAgZm9yIChsZXQgZCA9ICRwb3MuZGVwdGggLSAxLCBpID0gZGVwdGggLSAyOyBkID4gYmFzZTsgZC0tLCBpLS0pIHtcbiAgICBsZXQgbm9kZSA9ICRwb3Mubm9kZShkKSwgaW5kZXggPSAkcG9zLmluZGV4KGQpXG4gICAgaWYgKG5vZGUudHlwZS5zcGVjLmlzb2xhdGluZykgcmV0dXJuIGZhbHNlXG4gICAgbGV0IHJlc3QgPSBub2RlLmNvbnRlbnQuY3V0QnlJbmRleChpbmRleCwgbm9kZS5jaGlsZENvdW50KVxuICAgIGxldCBhZnRlciA9ICh0eXBlc0FmdGVyICYmIHR5cGVzQWZ0ZXJbaV0pIHx8IG5vZGVcbiAgICBpZiAoYWZ0ZXIgIT0gbm9kZSkgcmVzdCA9IHJlc3QucmVwbGFjZUNoaWxkKDAsIGFmdGVyLnR5cGUuY3JlYXRlKGFmdGVyLmF0dHJzKSlcbiAgICBpZiAoIW5vZGUuY2FuUmVwbGFjZShpbmRleCArIDEsIG5vZGUuY2hpbGRDb3VudCkgfHwgIWFmdGVyLnR5cGUudmFsaWRDb250ZW50KHJlc3QpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgbGV0IGluZGV4ID0gJHBvcy5pbmRleEFmdGVyKGJhc2UpXG4gIGxldCBiYXNlVHlwZSA9IHR5cGVzQWZ0ZXIgJiYgdHlwZXNBZnRlclswXVxuICByZXR1cm4gJHBvcy5ub2RlKGJhc2UpLmNhblJlcGxhY2VXaXRoKGluZGV4LCBpbmRleCwgYmFzZVR5cGUgPyBiYXNlVHlwZS50eXBlIDogJHBvcy5ub2RlKGJhc2UgKyAxKS50eXBlKVxufVxuXG4vLyA6OiAobnVtYmVyLCA/bnVtYmVyLCA/Wz97dHlwZTogTm9kZVR5cGUsIGF0dHJzOiA/T2JqZWN0fV0pIOKGkiB0aGlzXG4vLyBTcGxpdCB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24sIGFuZCBvcHRpb25hbGx5LCBpZiBgZGVwdGhgIGlzXG4vLyBncmVhdGVyIHRoYW4gb25lLCBhbnkgbnVtYmVyIG9mIG5vZGVzIGFib3ZlIHRoYXQuIEJ5IGRlZmF1bHQsIHRoZVxuLy8gcGFydHMgc3BsaXQgb2ZmIHdpbGwgaW5oZXJpdCB0aGUgbm9kZSB0eXBlIG9mIHRoZSBvcmlnaW5hbCBub2RlLlxuLy8gVGhpcyBjYW4gYmUgY2hhbmdlZCBieSBwYXNzaW5nIGFuIGFycmF5IG9mIHR5cGVzIGFuZCBhdHRyaWJ1dGVzIHRvXG4vLyB1c2UgYWZ0ZXIgdGhlIHNwbGl0LlxuVHJhbnNmb3JtLnByb3RvdHlwZS5zcGxpdCA9IGZ1bmN0aW9uKHBvcywgZGVwdGggPSAxLCB0eXBlc0FmdGVyKSB7XG4gIGxldCAkcG9zID0gdGhpcy5kb2MucmVzb2x2ZShwb3MpLCBiZWZvcmUgPSBGcmFnbWVudC5lbXB0eSwgYWZ0ZXIgPSBGcmFnbWVudC5lbXB0eVxuICBmb3IgKGxldCBkID0gJHBvcy5kZXB0aCwgZSA9ICRwb3MuZGVwdGggLSBkZXB0aCwgaSA9IGRlcHRoIC0gMTsgZCA+IGU7IGQtLSwgaS0tKSB7XG4gICAgYmVmb3JlID0gRnJhZ21lbnQuZnJvbSgkcG9zLm5vZGUoZCkuY29weShiZWZvcmUpKVxuICAgIGxldCB0eXBlQWZ0ZXIgPSB0eXBlc0FmdGVyICYmIHR5cGVzQWZ0ZXJbaV1cbiAgICBhZnRlciA9IEZyYWdtZW50LmZyb20odHlwZUFmdGVyID8gdHlwZUFmdGVyLnR5cGUuY3JlYXRlKHR5cGVBZnRlci5hdHRycywgYWZ0ZXIpIDogJHBvcy5ub2RlKGQpLmNvcHkoYWZ0ZXIpKVxuICB9XG4gIHJldHVybiB0aGlzLnN0ZXAobmV3IFJlcGxhY2VTdGVwKHBvcywgcG9zLCBuZXcgU2xpY2UoYmVmb3JlLmFwcGVuZChhZnRlciksIGRlcHRoLCBkZXB0aCksIHRydWUpKVxufVxuXG4vLyA6OiAoTm9kZSwgbnVtYmVyKSDihpIgYm9vbFxuLy8gVGVzdCB3aGV0aGVyIHRoZSBibG9ja3MgYmVmb3JlIGFuZCBhZnRlciBhIGdpdmVuIHBvc2l0aW9uIGNhbiBiZVxuLy8gam9pbmVkLlxuZXhwb3J0IGZ1bmN0aW9uIGNhbkpvaW4oZG9jLCBwb3MpIHtcbiAgbGV0ICRwb3MgPSBkb2MucmVzb2x2ZShwb3MpLCBpbmRleCA9ICRwb3MuaW5kZXgoKVxuICByZXR1cm4gam9pbmFibGUoJHBvcy5ub2RlQmVmb3JlLCAkcG9zLm5vZGVBZnRlcikgJiZcbiAgICAkcG9zLnBhcmVudC5jYW5SZXBsYWNlKGluZGV4LCBpbmRleCArIDEpXG59XG5cbmZ1bmN0aW9uIGpvaW5hYmxlKGEsIGIpIHtcbiAgcmV0dXJuIGEgJiYgYiAmJiAhYS5pc0xlYWYgJiYgYS5jYW5BcHBlbmQoYilcbn1cblxuLy8gOjogKE5vZGUsIG51bWJlciwgP251bWJlcikg4oaSID9udW1iZXJcbi8vIEZpbmQgYW4gYW5jZXN0b3Igb2YgdGhlIGdpdmVuIHBvc2l0aW9uIHRoYXQgY2FuIGJlIGpvaW5lZCB0byB0aGVcbi8vIGJsb2NrIGJlZm9yZSAob3IgYWZ0ZXIgaWYgYGRpcmAgaXMgcG9zaXRpdmUpLiBSZXR1cm5zIHRoZSBqb2luYWJsZVxuLy8gcG9pbnQsIGlmIGFueS5cbmV4cG9ydCBmdW5jdGlvbiBqb2luUG9pbnQoZG9jLCBwb3MsIGRpciA9IC0xKSB7XG4gIGxldCAkcG9zID0gZG9jLnJlc29sdmUocG9zKVxuICBmb3IgKGxldCBkID0gJHBvcy5kZXB0aDs7IGQtLSkge1xuICAgIGxldCBiZWZvcmUsIGFmdGVyXG4gICAgaWYgKGQgPT0gJHBvcy5kZXB0aCkge1xuICAgICAgYmVmb3JlID0gJHBvcy5ub2RlQmVmb3JlXG4gICAgICBhZnRlciA9ICRwb3Mubm9kZUFmdGVyXG4gICAgfSBlbHNlIGlmIChkaXIgPiAwKSB7XG4gICAgICBiZWZvcmUgPSAkcG9zLm5vZGUoZCArIDEpXG4gICAgICBhZnRlciA9ICRwb3Mubm9kZShkKS5tYXliZUNoaWxkKCRwb3MuaW5kZXgoZCkgKyAxKVxuICAgIH0gZWxzZSB7XG4gICAgICBiZWZvcmUgPSAkcG9zLm5vZGUoZCkubWF5YmVDaGlsZCgkcG9zLmluZGV4KGQpIC0gMSlcbiAgICAgIGFmdGVyID0gJHBvcy5ub2RlKGQgKyAxKVxuICAgIH1cbiAgICBpZiAoYmVmb3JlICYmICFiZWZvcmUuaXNUZXh0YmxvY2sgJiYgam9pbmFibGUoYmVmb3JlLCBhZnRlcikpIHJldHVybiBwb3NcbiAgICBpZiAoZCA9PSAwKSBicmVha1xuICAgIHBvcyA9IGRpciA8IDAgPyAkcG9zLmJlZm9yZShkKSA6ICRwb3MuYWZ0ZXIoZClcbiAgfVxufVxuXG4vLyA6OiAobnVtYmVyLCA/bnVtYmVyKSDihpIgdGhpc1xuLy8gSm9pbiB0aGUgYmxvY2tzIGFyb3VuZCB0aGUgZ2l2ZW4gcG9zaXRpb24uIElmIGRlcHRoIGlzIDIsIHRoZWlyXG4vLyBsYXN0IGFuZCBmaXJzdCBzaWJsaW5ncyBhcmUgYWxzbyBqb2luZWQsIGFuZCBzbyBvbi5cblRyYW5zZm9ybS5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uKHBvcywgZGVwdGggPSAxKSB7XG4gIGxldCBzdGVwID0gbmV3IFJlcGxhY2VTdGVwKHBvcyAtIGRlcHRoLCBwb3MgKyBkZXB0aCwgU2xpY2UuZW1wdHksIHRydWUpXG4gIHJldHVybiB0aGlzLnN0ZXAoc3RlcClcbn1cblxuLy8gOjogKE5vZGUsIG51bWJlciwgTm9kZVR5cGUpIOKGkiA/bnVtYmVyXG4vLyBUcnkgdG8gZmluZCBhIHBvaW50IHdoZXJlIGEgbm9kZSBvZiB0aGUgZ2l2ZW4gdHlwZSBjYW4gYmUgaW5zZXJ0ZWRcbi8vIG5lYXIgYHBvc2AsIGJ5IHNlYXJjaGluZyB1cCB0aGUgbm9kZSBoaWVyYXJjaHkgd2hlbiBgcG9zYCBpdHNlbGZcbi8vIGlzbid0IGEgdmFsaWQgcGxhY2UgYnV0IGlzIGF0IHRoZSBzdGFydCBvciBlbmQgb2YgYSBub2RlLiBSZXR1cm5cbi8vIG51bGwgaWYgbm8gcG9zaXRpb24gd2FzIGZvdW5kLlxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFBvaW50KGRvYywgcG9zLCBub2RlVHlwZSkge1xuICBsZXQgJHBvcyA9IGRvYy5yZXNvbHZlKHBvcylcbiAgaWYgKCRwb3MucGFyZW50LmNhblJlcGxhY2VXaXRoKCRwb3MuaW5kZXgoKSwgJHBvcy5pbmRleCgpLCBub2RlVHlwZSkpIHJldHVybiBwb3NcblxuICBpZiAoJHBvcy5wYXJlbnRPZmZzZXQgPT0gMClcbiAgICBmb3IgKGxldCBkID0gJHBvcy5kZXB0aCAtIDE7IGQgPj0gMDsgZC0tKSB7XG4gICAgICBsZXQgaW5kZXggPSAkcG9zLmluZGV4KGQpXG4gICAgICBpZiAoJHBvcy5ub2RlKGQpLmNhblJlcGxhY2VXaXRoKGluZGV4LCBpbmRleCwgbm9kZVR5cGUpKSByZXR1cm4gJHBvcy5iZWZvcmUoZCArIDEpXG4gICAgICBpZiAoaW5kZXggPiAwKSByZXR1cm4gbnVsbFxuICAgIH1cbiAgaWYgKCRwb3MucGFyZW50T2Zmc2V0ID09ICRwb3MucGFyZW50LmNvbnRlbnQuc2l6ZSlcbiAgICBmb3IgKGxldCBkID0gJHBvcy5kZXB0aCAtIDE7IGQgPj0gMDsgZC0tKSB7XG4gICAgICBsZXQgaW5kZXggPSAkcG9zLmluZGV4QWZ0ZXIoZClcbiAgICAgIGlmICgkcG9zLm5vZGUoZCkuY2FuUmVwbGFjZVdpdGgoaW5kZXgsIGluZGV4LCBub2RlVHlwZSkpIHJldHVybiAkcG9zLmFmdGVyKGQgKyAxKVxuICAgICAgaWYgKGluZGV4IDwgJHBvcy5ub2RlKGQpLmNoaWxkQ291bnQpIHJldHVybiBudWxsXG4gICAgfVxufVxuXG4vLyA6OiAoTm9kZSwgbnVtYmVyLCBTbGljZSkg4oaSID9udW1iZXJcbi8vIEZpbmRzIGEgcG9zaXRpb24gYXQgb3IgYXJvdW5kIHRoZSBnaXZlbiBwb3NpdGlvbiB3aGVyZSB0aGUgZ2l2ZW5cbi8vIHNsaWNlIGNhbiBiZSBpbnNlcnRlZC4gV2lsbCBsb29rIGF0IHBhcmVudCBub2RlcycgbmVhcmVzdCBib3VuZGFyeVxuLy8gYW5kIHRyeSB0aGVyZSwgZXZlbiBpZiB0aGUgb3JpZ2luYWwgcG9zaXRpb24gd2Fzbid0IGRpcmVjdGx5IGF0IHRoZVxuLy8gc3RhcnQgb3IgZW5kIG9mIHRoYXQgbm9kZS4gUmV0dXJucyBudWxsIHdoZW4gbm8gcG9zaXRpb24gd2FzIGZvdW5kLlxuZXhwb3J0IGZ1bmN0aW9uIGRyb3BQb2ludChkb2MsIHBvcywgc2xpY2UpIHtcbiAgbGV0ICRwb3MgPSBkb2MucmVzb2x2ZShwb3MpXG4gIGlmICghc2xpY2UuY29udGVudC5zaXplKSByZXR1cm4gcG9zXG4gIGxldCBjb250ZW50ID0gc2xpY2UuY29udGVudFxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWNlLm9wZW5TdGFydDsgaSsrKSBjb250ZW50ID0gY29udGVudC5maXJzdENoaWxkLmNvbnRlbnRcbiAgZm9yIChsZXQgcGFzcyA9IDE7IHBhc3MgPD0gKHNsaWNlLm9wZW5TdGFydCA9PSAwICYmIHNsaWNlLnNpemUgPyAyIDogMSk7IHBhc3MrKykge1xuICAgIGZvciAobGV0IGQgPSAkcG9zLmRlcHRoOyBkID49IDA7IGQtLSkge1xuICAgICAgbGV0IGJpYXMgPSBkID09ICRwb3MuZGVwdGggPyAwIDogJHBvcy5wb3MgPD0gKCRwb3Muc3RhcnQoZCArIDEpICsgJHBvcy5lbmQoZCArIDEpKSAvIDIgPyAtMSA6IDFcbiAgICAgIGxldCBpbnNlcnRQb3MgPSAkcG9zLmluZGV4KGQpICsgKGJpYXMgPiAwID8gMSA6IDApXG4gICAgICBpZiAocGFzcyA9PSAxXG4gICAgICAgICAgPyAkcG9zLm5vZGUoZCkuY2FuUmVwbGFjZShpbnNlcnRQb3MsIGluc2VydFBvcywgY29udGVudClcbiAgICAgICAgICA6ICRwb3Mubm9kZShkKS5jb250ZW50TWF0Y2hBdChpbnNlcnRQb3MpLmZpbmRXcmFwcGluZyhjb250ZW50LmZpcnN0Q2hpbGQudHlwZSkpXG4gICAgICAgIHJldHVybiBiaWFzID09IDAgPyAkcG9zLnBvcyA6IGJpYXMgPCAwID8gJHBvcy5iZWZvcmUoZCArIDEpIDogJHBvcy5hZnRlcihkICsgMSlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cbiIsImltcG9ydCB7RnJhZ21lbnQsIFNsaWNlfSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuaW1wb3J0IHtTdGVwLCBTdGVwUmVzdWx0fSBmcm9tIFwiLi9zdGVwXCJcblxuZnVuY3Rpb24gbWFwRnJhZ21lbnQoZnJhZ21lbnQsIGYsIHBhcmVudCkge1xuICBsZXQgbWFwcGVkID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFnbWVudC5jaGlsZENvdW50OyBpKyspIHtcbiAgICBsZXQgY2hpbGQgPSBmcmFnbWVudC5jaGlsZChpKVxuICAgIGlmIChjaGlsZC5jb250ZW50LnNpemUpIGNoaWxkID0gY2hpbGQuY29weShtYXBGcmFnbWVudChjaGlsZC5jb250ZW50LCBmLCBjaGlsZCkpXG4gICAgaWYgKGNoaWxkLmlzSW5saW5lKSBjaGlsZCA9IGYoY2hpbGQsIHBhcmVudCwgaSlcbiAgICBtYXBwZWQucHVzaChjaGlsZClcbiAgfVxuICByZXR1cm4gRnJhZ21lbnQuZnJvbUFycmF5KG1hcHBlZClcbn1cblxuLy8gOjotIEFkZCBhIG1hcmsgdG8gYWxsIGlubGluZSBjb250ZW50IGJldHdlZW4gdHdvIHBvc2l0aW9ucy5cbmV4cG9ydCBjbGFzcyBBZGRNYXJrU3RlcCBleHRlbmRzIFN0ZXAge1xuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsIE1hcmspXG4gIGNvbnN0cnVjdG9yKGZyb20sIHRvLCBtYXJrKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuZnJvbSA9IGZyb21cbiAgICB0aGlzLnRvID0gdG9cbiAgICB0aGlzLm1hcmsgPSBtYXJrXG4gIH1cblxuICBhcHBseShkb2MpIHtcbiAgICBsZXQgb2xkU2xpY2UgPSBkb2Muc2xpY2UodGhpcy5mcm9tLCB0aGlzLnRvKSwgJGZyb20gPSBkb2MucmVzb2x2ZSh0aGlzLmZyb20pXG4gICAgbGV0IHBhcmVudCA9ICRmcm9tLm5vZGUoJGZyb20uc2hhcmVkRGVwdGgodGhpcy50bykpXG4gICAgbGV0IHNsaWNlID0gbmV3IFNsaWNlKG1hcEZyYWdtZW50KG9sZFNsaWNlLmNvbnRlbnQsIChub2RlLCBwYXJlbnQpID0+IHtcbiAgICAgIGlmICghcGFyZW50LnR5cGUuYWxsb3dzTWFya1R5cGUodGhpcy5tYXJrLnR5cGUpKSByZXR1cm4gbm9kZVxuICAgICAgcmV0dXJuIG5vZGUubWFyayh0aGlzLm1hcmsuYWRkVG9TZXQobm9kZS5tYXJrcykpXG4gICAgfSwgcGFyZW50KSwgb2xkU2xpY2Uub3BlblN0YXJ0LCBvbGRTbGljZS5vcGVuRW5kKVxuICAgIHJldHVybiBTdGVwUmVzdWx0LmZyb21SZXBsYWNlKGRvYywgdGhpcy5mcm9tLCB0aGlzLnRvLCBzbGljZSlcbiAgfVxuXG4gIGludmVydCgpIHtcbiAgICByZXR1cm4gbmV3IFJlbW92ZU1hcmtTdGVwKHRoaXMuZnJvbSwgdGhpcy50bywgdGhpcy5tYXJrKVxuICB9XG5cbiAgbWFwKG1hcHBpbmcpIHtcbiAgICBsZXQgZnJvbSA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMuZnJvbSwgMSksIHRvID0gbWFwcGluZy5tYXBSZXN1bHQodGhpcy50bywgLTEpXG4gICAgaWYgKGZyb20uZGVsZXRlZCAmJiB0by5kZWxldGVkIHx8IGZyb20ucG9zID49IHRvLnBvcykgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gbmV3IEFkZE1hcmtTdGVwKGZyb20ucG9zLCB0by5wb3MsIHRoaXMubWFyaylcbiAgfVxuXG4gIG1lcmdlKG90aGVyKSB7XG4gICAgaWYgKG90aGVyIGluc3RhbmNlb2YgQWRkTWFya1N0ZXAgJiZcbiAgICAgICAgb3RoZXIubWFyay5lcSh0aGlzLm1hcmspICYmXG4gICAgICAgIHRoaXMuZnJvbSA8PSBvdGhlci50byAmJiB0aGlzLnRvID49IG90aGVyLmZyb20pXG4gICAgICByZXR1cm4gbmV3IEFkZE1hcmtTdGVwKE1hdGgubWluKHRoaXMuZnJvbSwgb3RoZXIuZnJvbSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHRoaXMudG8sIG90aGVyLnRvKSwgdGhpcy5tYXJrKVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7c3RlcFR5cGU6IFwiYWRkTWFya1wiLCBtYXJrOiB0aGlzLm1hcmsudG9KU09OKCksXG4gICAgICAgICAgICBmcm9tOiB0aGlzLmZyb20sIHRvOiB0aGlzLnRvfVxuICB9XG5cbiAgc3RhdGljIGZyb21KU09OKHNjaGVtYSwganNvbikge1xuICAgIGlmICh0eXBlb2YganNvbi5mcm9tICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIGpzb24udG8gIT0gXCJudW1iZXJcIilcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgQWRkTWFya1N0ZXAuZnJvbUpTT05cIilcbiAgICByZXR1cm4gbmV3IEFkZE1hcmtTdGVwKGpzb24uZnJvbSwganNvbi50bywgc2NoZW1hLm1hcmtGcm9tSlNPTihqc29uLm1hcmspKVxuICB9XG59XG5cblN0ZXAuanNvbklEKFwiYWRkTWFya1wiLCBBZGRNYXJrU3RlcClcblxuLy8gOjotIFJlbW92ZSBhIG1hcmsgZnJvbSBhbGwgaW5saW5lIGNvbnRlbnQgYmV0d2VlbiB0d28gcG9zaXRpb25zLlxuZXhwb3J0IGNsYXNzIFJlbW92ZU1hcmtTdGVwIGV4dGVuZHMgU3RlcCB7XG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgTWFyaylcbiAgY29uc3RydWN0b3IoZnJvbSwgdG8sIG1hcmspIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5mcm9tID0gZnJvbVxuICAgIHRoaXMudG8gPSB0b1xuICAgIHRoaXMubWFyayA9IG1hcmtcbiAgfVxuXG4gIGFwcGx5KGRvYykge1xuICAgIGxldCBvbGRTbGljZSA9IGRvYy5zbGljZSh0aGlzLmZyb20sIHRoaXMudG8pXG4gICAgbGV0IHNsaWNlID0gbmV3IFNsaWNlKG1hcEZyYWdtZW50KG9sZFNsaWNlLmNvbnRlbnQsIG5vZGUgPT4ge1xuICAgICAgcmV0dXJuIG5vZGUubWFyayh0aGlzLm1hcmsucmVtb3ZlRnJvbVNldChub2RlLm1hcmtzKSlcbiAgICB9KSwgb2xkU2xpY2Uub3BlblN0YXJ0LCBvbGRTbGljZS5vcGVuRW5kKVxuICAgIHJldHVybiBTdGVwUmVzdWx0LmZyb21SZXBsYWNlKGRvYywgdGhpcy5mcm9tLCB0aGlzLnRvLCBzbGljZSlcbiAgfVxuXG4gIGludmVydCgpIHtcbiAgICByZXR1cm4gbmV3IEFkZE1hcmtTdGVwKHRoaXMuZnJvbSwgdGhpcy50bywgdGhpcy5tYXJrKVxuICB9XG5cbiAgbWFwKG1hcHBpbmcpIHtcbiAgICBsZXQgZnJvbSA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMuZnJvbSwgMSksIHRvID0gbWFwcGluZy5tYXBSZXN1bHQodGhpcy50bywgLTEpXG4gICAgaWYgKGZyb20uZGVsZXRlZCAmJiB0by5kZWxldGVkIHx8IGZyb20ucG9zID49IHRvLnBvcykgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gbmV3IFJlbW92ZU1hcmtTdGVwKGZyb20ucG9zLCB0by5wb3MsIHRoaXMubWFyaylcbiAgfVxuXG4gIG1lcmdlKG90aGVyKSB7XG4gICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVtb3ZlTWFya1N0ZXAgJiZcbiAgICAgICAgb3RoZXIubWFyay5lcSh0aGlzLm1hcmspICYmXG4gICAgICAgIHRoaXMuZnJvbSA8PSBvdGhlci50byAmJiB0aGlzLnRvID49IG90aGVyLmZyb20pXG4gICAgICByZXR1cm4gbmV3IFJlbW92ZU1hcmtTdGVwKE1hdGgubWluKHRoaXMuZnJvbSwgb3RoZXIuZnJvbSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHRoaXMudG8sIG90aGVyLnRvKSwgdGhpcy5tYXJrKVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7c3RlcFR5cGU6IFwicmVtb3ZlTWFya1wiLCBtYXJrOiB0aGlzLm1hcmsudG9KU09OKCksXG4gICAgICAgICAgICBmcm9tOiB0aGlzLmZyb20sIHRvOiB0aGlzLnRvfVxuICB9XG5cbiAgc3RhdGljIGZyb21KU09OKHNjaGVtYSwganNvbikge1xuICAgIGlmICh0eXBlb2YganNvbi5mcm9tICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIGpzb24udG8gIT0gXCJudW1iZXJcIilcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgUmVtb3ZlTWFya1N0ZXAuZnJvbUpTT05cIilcbiAgICByZXR1cm4gbmV3IFJlbW92ZU1hcmtTdGVwKGpzb24uZnJvbSwganNvbi50bywgc2NoZW1hLm1hcmtGcm9tSlNPTihqc29uLm1hcmspKVxuICB9XG59XG5cblN0ZXAuanNvbklEKFwicmVtb3ZlTWFya1wiLCBSZW1vdmVNYXJrU3RlcClcbiIsImltcG9ydCB7VGV4dFNlbGVjdGlvbiwgTm9kZVNlbGVjdGlvbn0gZnJvbSBcInByb3NlbWlycm9yLXN0YXRlXCJcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5pbXBvcnQge3NlbGVjdGlvbkNvbGxhcHNlZCwgaXNFcXVpdmFsZW50UG9zaXRpb24sIGRvbUluZGV4LCBpc09uRWRnZX0gZnJvbSBcIi4vZG9tXCJcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGlvbkZyb21ET00odmlldywgb3JpZ2luKSB7XG4gIGxldCBkb21TZWwgPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCksIGRvYyA9IHZpZXcuc3RhdGUuZG9jXG4gIGxldCBuZWFyZXN0RGVzYyA9IHZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhkb21TZWwuZm9jdXNOb2RlKSwgaW5XaWRnZXQgPSBuZWFyZXN0RGVzYyAmJiBuZWFyZXN0RGVzYy5zaXplID09IDBcbiAgbGV0IGhlYWQgPSB2aWV3LmRvY1ZpZXcucG9zRnJvbURPTShkb21TZWwuZm9jdXNOb2RlLCBkb21TZWwuZm9jdXNPZmZzZXQpXG4gIGxldCAkaGVhZCA9IGRvYy5yZXNvbHZlKGhlYWQpLCAkYW5jaG9yLCBzZWxlY3Rpb25cbiAgaWYgKHNlbGVjdGlvbkNvbGxhcHNlZChkb21TZWwpKSB7XG4gICAgJGFuY2hvciA9ICRoZWFkXG4gICAgd2hpbGUgKG5lYXJlc3REZXNjICYmICFuZWFyZXN0RGVzYy5ub2RlKSBuZWFyZXN0RGVzYyA9IG5lYXJlc3REZXNjLnBhcmVudFxuICAgIGlmIChuZWFyZXN0RGVzYyAmJiBuZWFyZXN0RGVzYy5ub2RlLmlzQXRvbSAmJiBOb2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShuZWFyZXN0RGVzYy5ub2RlKSAmJiBuZWFyZXN0RGVzYy5wYXJlbnRcbiAgICAgICAgJiYgIShuZWFyZXN0RGVzYy5ub2RlLmlzSW5saW5lICYmIGlzT25FZGdlKGRvbVNlbC5mb2N1c05vZGUsIGRvbVNlbC5mb2N1c09mZnNldCwgbmVhcmVzdERlc2MuZG9tKSkpIHtcbiAgICAgIGxldCBwb3MgPSBuZWFyZXN0RGVzYy5wb3NCZWZvcmVcbiAgICAgIHNlbGVjdGlvbiA9IG5ldyBOb2RlU2VsZWN0aW9uKGhlYWQgPT0gcG9zID8gJGhlYWQgOiBkb2MucmVzb2x2ZShwb3MpKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAkYW5jaG9yID0gZG9jLnJlc29sdmUodmlldy5kb2NWaWV3LnBvc0Zyb21ET00oZG9tU2VsLmFuY2hvck5vZGUsIGRvbVNlbC5hbmNob3JPZmZzZXQpKVxuICB9XG5cbiAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICBsZXQgYmlhcyA9IG9yaWdpbiA9PSBcInBvaW50ZXJcIiB8fCAodmlldy5zdGF0ZS5zZWxlY3Rpb24uaGVhZCA8ICRoZWFkLnBvcyAmJiAhaW5XaWRnZXQpID8gMSA6IC0xXG4gICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uQmV0d2Vlbih2aWV3LCAkYW5jaG9yLCAkaGVhZCwgYmlhcylcbiAgfVxuICByZXR1cm4gc2VsZWN0aW9uXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Rpb25Ub0RPTSh2aWV3LCBmb3JjZSkge1xuICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb25cbiAgc3luY05vZGVTZWxlY3Rpb24odmlldywgc2VsKVxuXG4gIGlmICh2aWV3LmVkaXRhYmxlID8gIXZpZXcuaGFzRm9jdXMoKSA6ICEoaGFzU2VsZWN0aW9uKHZpZXcpICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY29udGFpbnModmlldy5kb20pKSkgcmV0dXJuXG5cbiAgdmlldy5kb21PYnNlcnZlci5kaXNjb25uZWN0U2VsZWN0aW9uKClcblxuICBpZiAodmlldy5jdXJzb3JXcmFwcGVyKSB7XG4gICAgc2VsZWN0Q3Vyc29yV3JhcHBlcih2aWV3KVxuICB9IGVsc2Uge1xuICAgIGxldCB7YW5jaG9yLCBoZWFkfSA9IHNlbCwgcmVzZXRFZGl0YWJsZUZyb20sIHJlc2V0RWRpdGFibGVUb1xuICAgIGlmIChicm9rZW5TZWxlY3RCZXR3ZWVuVW5lZGl0YWJsZSAmJiAhKHNlbCBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24pKSB7XG4gICAgICBpZiAoIXNlbC4kZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudClcbiAgICAgICAgcmVzZXRFZGl0YWJsZUZyb20gPSB0ZW1wb3JhcmlseUVkaXRhYmxlTmVhcih2aWV3LCBzZWwuZnJvbSlcbiAgICAgIGlmICghc2VsLmVtcHR5ICYmICFzZWwuJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnQpXG4gICAgICAgIHJlc2V0RWRpdGFibGVUbyA9IHRlbXBvcmFyaWx5RWRpdGFibGVOZWFyKHZpZXcsIHNlbC50bylcbiAgICB9XG4gICAgdmlldy5kb2NWaWV3LnNldFNlbGVjdGlvbihhbmNob3IsIGhlYWQsIHZpZXcucm9vdCwgZm9yY2UpXG4gICAgaWYgKGJyb2tlblNlbGVjdEJldHdlZW5VbmVkaXRhYmxlKSB7XG4gICAgICBpZiAocmVzZXRFZGl0YWJsZUZyb20pIHJlc2V0RWRpdGFibGUocmVzZXRFZGl0YWJsZUZyb20pXG4gICAgICBpZiAocmVzZXRFZGl0YWJsZVRvKSByZXNldEVkaXRhYmxlKHJlc2V0RWRpdGFibGVUbylcbiAgICB9XG4gICAgaWYgKHNlbC52aXNpYmxlKSB7XG4gICAgICB2aWV3LmRvbS5jbGFzc0xpc3QucmVtb3ZlKFwiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvblwiKVxuICAgIH0gZWxzZSBpZiAoYW5jaG9yICE9IGhlYWQpIHtcbiAgICAgIHZpZXcuZG9tLmNsYXNzTGlzdC5hZGQoXCJQcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uXCIpXG4gICAgICBpZiAoXCJvbnNlbGVjdGlvbmNoYW5nZVwiIGluIGRvY3VtZW50KSByZW1vdmVDbGFzc09uU2VsZWN0aW9uQ2hhbmdlKHZpZXcpXG4gICAgfVxuICB9XG5cbiAgdmlldy5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKVxuICB2aWV3LmRvbU9ic2VydmVyLmNvbm5lY3RTZWxlY3Rpb24oKVxufVxuXG4vLyBLbHVkZ2UgdG8gd29yayBhcm91bmQgV2Via2l0IG5vdCBhbGxvd2luZyBhIHNlbGVjdGlvbiB0byBzdGFydC9lbmRcbi8vIGJldHdlZW4gbm9uLWVkaXRhYmxlIGJsb2NrIG5vZGVzLiBXZSBicmllZmx5IG1ha2Ugc29tZXRoaW5nXG4vLyBlZGl0YWJsZSwgc2V0IHRoZSBzZWxlY3Rpb24sIHRoZW4gc2V0IGl0IHVuZWRpdGFibGUgYWdhaW4uXG5cbmNvbnN0IGJyb2tlblNlbGVjdEJldHdlZW5VbmVkaXRhYmxlID0gYnJvd3Nlci5zYWZhcmkgfHwgYnJvd3Nlci5jaHJvbWUgJiYgYnJvd3Nlci5jaHJvbWVfdmVyc2lvbiA8IDYzXG5cbmZ1bmN0aW9uIHRlbXBvcmFyaWx5RWRpdGFibGVOZWFyKHZpZXcsIHBvcykge1xuICBsZXQge25vZGUsIG9mZnNldH0gPSB2aWV3LmRvY1ZpZXcuZG9tRnJvbVBvcyhwb3MpXG4gIGxldCBhZnRlciA9IG9mZnNldCA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggPyBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XSA6IG51bGxcbiAgbGV0IGJlZm9yZSA9IG9mZnNldCA/IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXSA6IG51bGxcbiAgaWYgKGJyb3dzZXIuc2FmYXJpICYmIGFmdGVyICYmIGFmdGVyLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpIHJldHVybiBzZXRFZGl0YWJsZShhZnRlcilcbiAgaWYgKCghYWZ0ZXIgfHwgYWZ0ZXIuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIikgJiYgKCFiZWZvcmUgfHwgYmVmb3JlLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpKSB7XG4gICAgaWYgKGFmdGVyKSByZXR1cm4gc2V0RWRpdGFibGUoYWZ0ZXIpXG4gICAgZWxzZSBpZiAoYmVmb3JlKSByZXR1cm4gc2V0RWRpdGFibGUoYmVmb3JlKVxuICB9XG59XG5cbmZ1bmN0aW9uIHNldEVkaXRhYmxlKGVsZW1lbnQpIHtcbiAgZWxlbWVudC5jb250ZW50RWRpdGFibGUgPSBcInRydWVcIlxuICBpZiAoYnJvd3Nlci5zYWZhcmkgJiYgZWxlbWVudC5kcmFnZ2FibGUpIHsgZWxlbWVudC5kcmFnZ2FibGUgPSBmYWxzZTsgZWxlbWVudC53YXNEcmFnZ2FibGUgPSB0cnVlIH1cbiAgcmV0dXJuIGVsZW1lbnRcbn1cblxuZnVuY3Rpb24gcmVzZXRFZGl0YWJsZShlbGVtZW50KSB7XG4gIGVsZW1lbnQuY29udGVudEVkaXRhYmxlID0gXCJmYWxzZVwiXG4gIGlmIChlbGVtZW50Lndhc0RyYWdnYWJsZSkgeyBlbGVtZW50LmRyYWdnYWJsZSA9IHRydWU7IGVsZW1lbnQud2FzRHJhZ2dhYmxlID0gbnVsbCB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzT25TZWxlY3Rpb25DaGFuZ2Uodmlldykge1xuICBsZXQgZG9jID0gdmlldy5kb20ub3duZXJEb2N1bWVudFxuICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB2aWV3LmhpZGVTZWxlY3Rpb25HdWFyZClcbiAgbGV0IGRvbVNlbCA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKVxuICBsZXQgbm9kZSA9IGRvbVNlbC5hbmNob3JOb2RlLCBvZmZzZXQgPSBkb21TZWwuYW5jaG9yT2Zmc2V0XG4gIGRvYy5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHZpZXcuaGlkZVNlbGVjdGlvbkd1YXJkID0gKCkgPT4ge1xuICAgIGlmIChkb21TZWwuYW5jaG9yTm9kZSAhPSBub2RlIHx8IGRvbVNlbC5hbmNob3JPZmZzZXQgIT0gb2Zmc2V0KSB7XG4gICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB2aWV3LmhpZGVTZWxlY3Rpb25HdWFyZClcbiAgICAgIHZpZXcuZG9tLmNsYXNzTGlzdC5yZW1vdmUoXCJQcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uXCIpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBzZWxlY3RDdXJzb3JXcmFwcGVyKHZpZXcpIHtcbiAgbGV0IGRvbVNlbCA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSwgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpXG4gIGxldCBub2RlID0gdmlldy5jdXJzb3JXcmFwcGVyLmRvbSwgaW1nID0gbm9kZS5ub2RlTmFtZSA9PSBcIklNR1wiXG4gIGlmIChpbWcpIHJhbmdlLnNldEVuZChub2RlLnBhcmVudE5vZGUsIGRvbUluZGV4KG5vZGUpICsgMSlcbiAgZWxzZSByYW5nZS5zZXRFbmQobm9kZSwgMClcbiAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpXG4gIGRvbVNlbC5yZW1vdmVBbGxSYW5nZXMoKVxuICBkb21TZWwuYWRkUmFuZ2UocmFuZ2UpXG4gIC8vIEtsdWRnZSB0byBraWxsICdjb250cm9sIHNlbGVjdGlvbicgaW4gSUUxMSB3aGVuIHNlbGVjdGluZyBhblxuICAvLyBpbnZpc2libGUgY3Vyc29yIHdyYXBwZXIsIHNpbmNlIHRoYXQgd291bGQgcmVzdWx0IGluIHRob3NlIHdlaXJkXG4gIC8vIHJlc2l6ZSBoYW5kbGVzIGFuZCBhIHNlbGVjdGlvbiB0aGF0IGNvbnNpZGVycyB0aGUgYWJzb2x1dGVseVxuICAvLyBwb3NpdGlvbmVkIHdyYXBwZXIsIHJhdGhlciB0aGFuIHRoZSByb290IGVkaXRhYmxlIG5vZGUsIHRoZVxuICAvLyBmb2N1c2VkIGVsZW1lbnQuXG4gIGlmICghaW1nICYmICF2aWV3LnN0YXRlLnNlbGVjdGlvbi52aXNpYmxlICYmIGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDw9IDExKSB7XG4gICAgbm9kZS5kaXNhYmxlZCA9IHRydWVcbiAgICBub2RlLmRpc2FibGVkID0gZmFsc2VcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3luY05vZGVTZWxlY3Rpb24odmlldywgc2VsKSB7XG4gIGlmIChzZWwgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uKSB7XG4gICAgbGV0IGRlc2MgPSB2aWV3LmRvY1ZpZXcuZGVzY0F0KHNlbC5mcm9tKVxuICAgIGlmIChkZXNjICE9IHZpZXcubGFzdFNlbGVjdGVkVmlld0Rlc2MpIHtcbiAgICAgIGNsZWFyTm9kZVNlbGVjdGlvbih2aWV3KVxuICAgICAgaWYgKGRlc2MpIGRlc2Muc2VsZWN0Tm9kZSgpXG4gICAgICB2aWV3Lmxhc3RTZWxlY3RlZFZpZXdEZXNjID0gZGVzY1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjbGVhck5vZGVTZWxlY3Rpb24odmlldylcbiAgfVxufVxuXG4vLyBDbGVhciBhbGwgRE9NIHN0YXRlZnVsbmVzcyBvZiB0aGUgbGFzdCBub2RlIHNlbGVjdGlvbi5cbmZ1bmN0aW9uIGNsZWFyTm9kZVNlbGVjdGlvbih2aWV3KSB7XG4gIGlmICh2aWV3Lmxhc3RTZWxlY3RlZFZpZXdEZXNjKSB7XG4gICAgaWYgKHZpZXcubGFzdFNlbGVjdGVkVmlld0Rlc2MucGFyZW50KVxuICAgICAgdmlldy5sYXN0U2VsZWN0ZWRWaWV3RGVzYy5kZXNlbGVjdE5vZGUoKVxuICAgIHZpZXcubGFzdFNlbGVjdGVkVmlld0Rlc2MgPSBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGlvbkJldHdlZW4odmlldywgJGFuY2hvciwgJGhlYWQsIGJpYXMpIHtcbiAgcmV0dXJuIHZpZXcuc29tZVByb3AoXCJjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuXCIsIGYgPT4gZih2aWV3LCAkYW5jaG9yLCAkaGVhZCkpXG4gICAgfHwgVGV4dFNlbGVjdGlvbi5iZXR3ZWVuKCRhbmNob3IsICRoZWFkLCBiaWFzKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzRm9jdXNBbmRTZWxlY3Rpb24odmlldykge1xuICBpZiAodmlldy5lZGl0YWJsZSAmJiB2aWV3LnJvb3QuYWN0aXZlRWxlbWVudCAhPSB2aWV3LmRvbSkgcmV0dXJuIGZhbHNlXG4gIHJldHVybiBoYXNTZWxlY3Rpb24odmlldylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1NlbGVjdGlvbih2aWV3KSB7XG4gIGxldCBzZWwgPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKClcbiAgaWYgKCFzZWwuYW5jaG9yTm9kZSkgcmV0dXJuIGZhbHNlXG4gIHRyeSB7XG4gICAgLy8gRmlyZWZveCB3aWxsIHJhaXNlICdwZXJtaXNzaW9uIGRlbmllZCcgZXJyb3JzIHdoZW4gYWNjZXNzaW5nXG4gICAgLy8gcHJvcGVydGllcyBvZiBgc2VsLmFuY2hvck5vZGVgIHdoZW4gaXQncyBpbiBhIGdlbmVyYXRlZCBDU1NcbiAgICAvLyBlbGVtZW50LlxuICAgIHJldHVybiB2aWV3LmRvbS5jb250YWlucyhzZWwuYW5jaG9yTm9kZS5ub2RlVHlwZSA9PSAzID8gc2VsLmFuY2hvck5vZGUucGFyZW50Tm9kZSA6IHNlbC5hbmNob3JOb2RlKSAmJlxuICAgICAgKHZpZXcuZWRpdGFibGUgfHwgdmlldy5kb20uY29udGFpbnMoc2VsLmZvY3VzTm9kZS5ub2RlVHlwZSA9PSAzID8gc2VsLmZvY3VzTm9kZS5wYXJlbnROb2RlIDogc2VsLmZvY3VzTm9kZSkpXG4gIH0gY2F0Y2goXykge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbmNob3JJblJpZ2h0UGxhY2Uodmlldykge1xuICBsZXQgYW5jaG9yRE9NID0gdmlldy5kb2NWaWV3LmRvbUZyb21Qb3Modmlldy5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yKVxuICBsZXQgZG9tU2VsID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpXG4gIHJldHVybiBpc0VxdWl2YWxlbnRQb3NpdGlvbihhbmNob3JET00ubm9kZSwgYW5jaG9yRE9NLm9mZnNldCwgZG9tU2VsLmFuY2hvck5vZGUsIGRvbVNlbC5hbmNob3JPZmZzZXQpXG59XG4iLCJpbXBvcnQge1RyYW5zZm9ybX0gZnJvbSBcInByb3NlbWlycm9yLXRyYW5zZm9ybVwiXG5pbXBvcnQge01hcmt9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5pbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vc2VsZWN0aW9uXCJcblxuY29uc3QgVVBEQVRFRF9TRUwgPSAxLCBVUERBVEVEX01BUktTID0gMiwgVVBEQVRFRF9TQ1JPTEwgPSA0XG5cbi8vIDo6LSBBbiBlZGl0b3Igc3RhdGUgdHJhbnNhY3Rpb24sIHdoaWNoIGNhbiBiZSBhcHBsaWVkIHRvIGEgc3RhdGUgdG9cbi8vIGNyZWF0ZSBhbiB1cGRhdGVkIHN0YXRlLiBVc2Vcbi8vIFtgRWRpdG9yU3RhdGUudHJgXSgjc3RhdGUuRWRpdG9yU3RhdGUudHIpIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZS5cbi8vXG4vLyBUcmFuc2FjdGlvbnMgdHJhY2sgY2hhbmdlcyB0byB0aGUgZG9jdW1lbnQgKHRoZXkgYXJlIGEgc3ViY2xhc3Mgb2Zcbi8vIFtgVHJhbnNmb3JtYF0oI3RyYW5zZm9ybS5UcmFuc2Zvcm0pKSwgYnV0IGFsc28gb3RoZXIgc3RhdGUgY2hhbmdlcyxcbi8vIGxpa2Ugc2VsZWN0aW9uIHVwZGF0ZXMgYW5kIGFkanVzdG1lbnRzIG9mIHRoZSBzZXQgb2YgW3N0b3JlZFxuLy8gbWFya3NdKCNzdGF0ZS5FZGl0b3JTdGF0ZS5zdG9yZWRNYXJrcykuIEluIGFkZGl0aW9uLCB5b3UgY2FuIHN0b3JlXG4vLyBtZXRhZGF0YSBwcm9wZXJ0aWVzIGluIGEgdHJhbnNhY3Rpb24sIHdoaWNoIGFyZSBleHRyYSBwaWVjZXMgb2Zcbi8vIGluZm9ybWF0aW9uIHRoYXQgY2xpZW50IGNvZGUgb3IgcGx1Z2lucyBjYW4gdXNlIHRvIGRlc2NyaWJlIHdoYXQgYVxuLy8gdHJhbnNhY2lvbiByZXByZXNlbnRzLCBzbyB0aGF0IHRoZXkgY2FuIHVwZGF0ZSB0aGVpciBbb3duXG4vLyBzdGF0ZV0oI3N0YXRlLlN0YXRlRmllbGQpIGFjY29yZGluZ2x5LlxuLy9cbi8vIFRoZSBbZWRpdG9yIHZpZXddKCN2aWV3LkVkaXRvclZpZXcpIHVzZXMgYSBmZXcgbWV0YWRhdGEgcHJvcGVydGllczpcbi8vIGl0IHdpbGwgYXR0YWNoIGEgcHJvcGVydHkgYFwicG9pbnRlclwiYCB3aXRoIHRoZSB2YWx1ZSBgdHJ1ZWAgdG9cbi8vIHNlbGVjdGlvbiB0cmFuc2FjdGlvbnMgZGlyZWN0bHkgY2F1c2VkIGJ5IG1vdXNlIG9yIHRvdWNoIGlucHV0LCBhbmRcbi8vIGEgYFwidWlFdmVudFwiYCBwcm9wZXJ0eSBvZiB0aGF0IG1heSBiZSBgXCJwYXN0ZVwiYCwgYFwiY3V0XCJgLCBvciBgXCJkcm9wXCJgLlxuZXhwb3J0IGNsYXNzIFRyYW5zYWN0aW9uIGV4dGVuZHMgVHJhbnNmb3JtIHtcbiAgY29uc3RydWN0b3Ioc3RhdGUpIHtcbiAgICBzdXBlcihzdGF0ZS5kb2MpXG4gICAgLy8gOjogbnVtYmVyXG4gICAgLy8gVGhlIHRpbWVzdGFtcCBhc3NvY2lhdGVkIHdpdGggdGhpcyB0cmFuc2FjdGlvbiwgaW4gdGhlIHNhbWVcbiAgICAvLyBmb3JtYXQgYXMgYERhdGUubm93KClgLlxuICAgIHRoaXMudGltZSA9IERhdGUubm93KClcbiAgICB0aGlzLmN1clNlbGVjdGlvbiA9IHN0YXRlLnNlbGVjdGlvblxuICAgIC8vIFRoZSBzdGVwIGNvdW50IGZvciB3aGljaCB0aGUgY3VycmVudCBzZWxlY3Rpb24gaXMgdmFsaWQuXG4gICAgdGhpcy5jdXJTZWxlY3Rpb25Gb3IgPSAwXG4gICAgLy8gOjogP1tNYXJrXVxuICAgIC8vIFRoZSBzdG9yZWQgbWFya3Mgc2V0IGJ5IHRoaXMgdHJhbnNhY3Rpb24sIGlmIGFueS5cbiAgICB0aGlzLnN0b3JlZE1hcmtzID0gc3RhdGUuc3RvcmVkTWFya3NcbiAgICAvLyBCaXRmaWVsZCB0byB0cmFjayB3aGljaCBhc3BlY3RzIG9mIHRoZSBzdGF0ZSB3ZXJlIHVwZGF0ZWQgYnlcbiAgICAvLyB0aGlzIHRyYW5zYWN0aW9uLlxuICAgIHRoaXMudXBkYXRlZCA9IDBcbiAgICAvLyBPYmplY3QgdXNlZCB0byBzdG9yZSBtZXRhZGF0YSBwcm9wZXJ0aWVzIGZvciB0aGUgdHJhbnNhY3Rpb24uXG4gICAgdGhpcy5tZXRhID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICB9XG5cbiAgLy8gOjogU2VsZWN0aW9uXG4gIC8vIFRoZSB0cmFuc2FjdGlvbidzIGN1cnJlbnQgc2VsZWN0aW9uLiBUaGlzIGRlZmF1bHRzIHRvIHRoZSBlZGl0b3JcbiAgLy8gc2VsZWN0aW9uIFttYXBwZWRdKCNzdGF0ZS5TZWxlY3Rpb24ubWFwKSB0aHJvdWdoIHRoZSBzdGVwcyBpbiB0aGVcbiAgLy8gdHJhbnNhY3Rpb24sIGJ1dCBjYW4gYmUgb3ZlcndyaXR0ZW4gd2l0aFxuICAvLyBbYHNldFNlbGVjdGlvbmBdKCNzdGF0ZS5UcmFuc2FjdGlvbi5zZXRTZWxlY3Rpb24pLlxuICBnZXQgc2VsZWN0aW9uKCkge1xuICAgIGlmICh0aGlzLmN1clNlbGVjdGlvbkZvciA8IHRoaXMuc3RlcHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmN1clNlbGVjdGlvbiA9IHRoaXMuY3VyU2VsZWN0aW9uLm1hcCh0aGlzLmRvYywgdGhpcy5tYXBwaW5nLnNsaWNlKHRoaXMuY3VyU2VsZWN0aW9uRm9yKSlcbiAgICAgIHRoaXMuY3VyU2VsZWN0aW9uRm9yID0gdGhpcy5zdGVwcy5sZW5ndGhcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY3VyU2VsZWN0aW9uXG4gIH1cblxuICAvLyA6OiAoU2VsZWN0aW9uKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gVXBkYXRlIHRoZSB0cmFuc2FjdGlvbidzIGN1cnJlbnQgc2VsZWN0aW9uLiBXaWxsIGRldGVybWluZSB0aGVcbiAgLy8gc2VsZWN0aW9uIHRoYXQgdGhlIGVkaXRvciBnZXRzIHdoZW4gdGhlIHRyYW5zYWN0aW9uIGlzIGFwcGxpZWQuXG4gIHNldFNlbGVjdGlvbihzZWxlY3Rpb24pIHtcbiAgICBpZiAoc2VsZWN0aW9uLiRmcm9tLmRvYyAhPSB0aGlzLmRvYylcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiU2VsZWN0aW9uIHBhc3NlZCB0byBzZXRTZWxlY3Rpb24gbXVzdCBwb2ludCBhdCB0aGUgY3VycmVudCBkb2N1bWVudFwiKVxuICAgIHRoaXMuY3VyU2VsZWN0aW9uID0gc2VsZWN0aW9uXG4gICAgdGhpcy5jdXJTZWxlY3Rpb25Gb3IgPSB0aGlzLnN0ZXBzLmxlbmd0aFxuICAgIHRoaXMudXBkYXRlZCA9ICh0aGlzLnVwZGF0ZWQgfCBVUERBVEVEX1NFTCkgJiB+VVBEQVRFRF9NQVJLU1xuICAgIHRoaXMuc3RvcmVkTWFya3MgPSBudWxsXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gV2hldGhlciB0aGUgc2VsZWN0aW9uIHdhcyBleHBsaWNpdGx5IHVwZGF0ZWQgYnkgdGhpcyB0cmFuc2FjdGlvbi5cbiAgZ2V0IHNlbGVjdGlvblNldCgpIHtcbiAgICByZXR1cm4gKHRoaXMudXBkYXRlZCAmIFVQREFURURfU0VMKSA+IDBcbiAgfVxuXG4gIC8vIDo6ICg/W01hcmtdKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gU2V0IHRoZSBjdXJyZW50IHN0b3JlZCBtYXJrcy5cbiAgc2V0U3RvcmVkTWFya3MobWFya3MpIHtcbiAgICB0aGlzLnN0b3JlZE1hcmtzID0gbWFya3NcbiAgICB0aGlzLnVwZGF0ZWQgfD0gVVBEQVRFRF9NQVJLU1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyA6OiAoW01hcmtdKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gTWFrZSBzdXJlIHRoZSBjdXJyZW50IHN0b3JlZCBtYXJrcyBvciwgaWYgdGhhdCBpcyBudWxsLCB0aGUgbWFya3NcbiAgLy8gYXQgdGhlIHNlbGVjdGlvbiwgbWF0Y2ggdGhlIGdpdmVuIHNldCBvZiBtYXJrcy4gRG9lcyBub3RoaW5nIGlmXG4gIC8vIHRoaXMgaXMgYWxyZWFkeSB0aGUgY2FzZS5cbiAgZW5zdXJlTWFya3MobWFya3MpIHtcbiAgICBpZiAoIU1hcmsuc2FtZVNldCh0aGlzLnN0b3JlZE1hcmtzIHx8IHRoaXMuc2VsZWN0aW9uLiRmcm9tLm1hcmtzKCksIG1hcmtzKSlcbiAgICAgIHRoaXMuc2V0U3RvcmVkTWFya3MobWFya3MpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIDo6IChNYXJrKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gQWRkIGEgbWFyayB0byB0aGUgc2V0IG9mIHN0b3JlZCBtYXJrcy5cbiAgYWRkU3RvcmVkTWFyayhtYXJrKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5zdXJlTWFya3MobWFyay5hZGRUb1NldCh0aGlzLnN0b3JlZE1hcmtzIHx8IHRoaXMuc2VsZWN0aW9uLiRoZWFkLm1hcmtzKCkpKVxuICB9XG5cbiAgLy8gOjogKHVuaW9uPE1hcmssIE1hcmtUeXBlPikg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIFJlbW92ZSBhIG1hcmsgb3IgbWFyayB0eXBlIGZyb20gdGhlIHNldCBvZiBzdG9yZWQgbWFya3MuXG4gIHJlbW92ZVN0b3JlZE1hcmsobWFyaykge1xuICAgIHJldHVybiB0aGlzLmVuc3VyZU1hcmtzKG1hcmsucmVtb3ZlRnJvbVNldCh0aGlzLnN0b3JlZE1hcmtzIHx8IHRoaXMuc2VsZWN0aW9uLiRoZWFkLm1hcmtzKCkpKVxuICB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBXaGV0aGVyIHRoZSBzdG9yZWQgbWFya3Mgd2VyZSBleHBsaWNpdGx5IHNldCBmb3IgdGhpcyB0cmFuc2FjdGlvbi5cbiAgZ2V0IHN0b3JlZE1hcmtzU2V0KCkge1xuICAgIHJldHVybiAodGhpcy51cGRhdGVkICYgVVBEQVRFRF9NQVJLUykgPiAwXG4gIH1cblxuICBhZGRTdGVwKHN0ZXAsIGRvYykge1xuICAgIHN1cGVyLmFkZFN0ZXAoc3RlcCwgZG9jKVxuICAgIHRoaXMudXBkYXRlZCA9IHRoaXMudXBkYXRlZCAmIH5VUERBVEVEX01BUktTXG4gICAgdGhpcy5zdG9yZWRNYXJrcyA9IG51bGxcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiBUcmFuc2FjdGlvblxuICAvLyBVcGRhdGUgdGhlIHRpbWVzdGFtcCBmb3IgdGhlIHRyYW5zYWN0aW9uLlxuICBzZXRUaW1lKHRpbWUpIHtcbiAgICB0aGlzLnRpbWUgPSB0aW1lXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIDo6IChTbGljZSkg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIFJlcGxhY2UgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHdpdGggdGhlIGdpdmVuIHNsaWNlLlxuICByZXBsYWNlU2VsZWN0aW9uKHNsaWNlKSB7XG4gICAgdGhpcy5zZWxlY3Rpb24ucmVwbGFjZSh0aGlzLCBzbGljZSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gOjogKE5vZGUsID9ib29sKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gUmVwbGFjZSB0aGUgc2VsZWN0aW9uIHdpdGggdGhlIGdpdmVuIG5vZGUuIFdoZW4gYGluaGVyaXRNYXJrc2AgaXNcbiAgLy8gdHJ1ZSBhbmQgdGhlIGNvbnRlbnQgaXMgaW5saW5lLCBpdCBpbmhlcml0cyB0aGUgbWFya3MgZnJvbSB0aGVcbiAgLy8gcGxhY2Ugd2hlcmUgaXQgaXMgaW5zZXJ0ZWQuXG4gIHJlcGxhY2VTZWxlY3Rpb25XaXRoKG5vZGUsIGluaGVyaXRNYXJrcykge1xuICAgIGxldCBzZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvblxuICAgIGlmIChpbmhlcml0TWFya3MgIT09IGZhbHNlKVxuICAgICAgbm9kZSA9IG5vZGUubWFyayh0aGlzLnN0b3JlZE1hcmtzIHx8IChzZWxlY3Rpb24uZW1wdHkgPyBzZWxlY3Rpb24uJGZyb20ubWFya3MoKSA6IChzZWxlY3Rpb24uJGZyb20ubWFya3NBY3Jvc3Moc2VsZWN0aW9uLiR0bykgfHwgTWFyay5ub25lKSkpXG4gICAgc2VsZWN0aW9uLnJlcGxhY2VXaXRoKHRoaXMsIG5vZGUpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIDo6ICgpIOKGkiBUcmFuc2FjdGlvblxuICAvLyBEZWxldGUgdGhlIHNlbGVjdGlvbi5cbiAgZGVsZXRlU2VsZWN0aW9uKCkge1xuICAgIHRoaXMuc2VsZWN0aW9uLnJlcGxhY2UodGhpcylcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gOjogKHN0cmluZywgZnJvbTogP251bWJlciwgdG86ID9udW1iZXIpIOKGkiBUcmFuc2FjdGlvblxuICAvLyBSZXBsYWNlIHRoZSBnaXZlbiByYW5nZSwgb3IgdGhlIHNlbGVjdGlvbiBpZiBubyByYW5nZSBpcyBnaXZlbixcbiAgLy8gd2l0aCBhIHRleHQgbm9kZSBjb250YWluaW5nIHRoZSBnaXZlbiBzdHJpbmcuXG4gIGluc2VydFRleHQodGV4dCwgZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgbGV0IHNjaGVtYSA9IHRoaXMuZG9jLnR5cGUuc2NoZW1hXG4gICAgaWYgKGZyb20gPT0gbnVsbCkge1xuICAgICAgaWYgKCF0ZXh0KSByZXR1cm4gdGhpcy5kZWxldGVTZWxlY3Rpb24oKVxuICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZVNlbGVjdGlvbldpdGgoc2NoZW1hLnRleHQodGV4dCksIHRydWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGV4dCkgcmV0dXJuIHRoaXMuZGVsZXRlUmFuZ2UoZnJvbSwgdG8pXG4gICAgICBsZXQgbWFya3MgPSB0aGlzLnN0b3JlZE1hcmtzXG4gICAgICBpZiAoIW1hcmtzKSB7XG4gICAgICAgIGxldCAkZnJvbSA9IHRoaXMuZG9jLnJlc29sdmUoZnJvbSlcbiAgICAgICAgbWFya3MgPSB0byA9PSBmcm9tID8gJGZyb20ubWFya3MoKSA6ICRmcm9tLm1hcmtzQWNyb3NzKHRoaXMuZG9jLnJlc29sdmUodG8pKVxuICAgICAgfVxuICAgICAgdGhpcy5yZXBsYWNlUmFuZ2VXaXRoKGZyb20sIHRvLCBzY2hlbWEudGV4dCh0ZXh0LCBtYXJrcykpXG4gICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uLmVtcHR5KSB0aGlzLnNldFNlbGVjdGlvbihTZWxlY3Rpb24ubmVhcih0aGlzLnNlbGVjdGlvbi4kdG8pKVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH1cblxuICAvLyA6OiAodW5pb248c3RyaW5nLCBQbHVnaW4sIFBsdWdpbktleT4sIGFueSkg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIFN0b3JlIGEgbWV0YWRhdGEgcHJvcGVydHkgaW4gdGhpcyB0cmFuc2FjdGlvbiwga2V5ZWQgZWl0aGVyIGJ5XG4gIC8vIG5hbWUgb3IgYnkgcGx1Z2luLlxuICBzZXRNZXRhKGtleSwgdmFsdWUpIHtcbiAgICB0aGlzLm1ldGFbdHlwZW9mIGtleSA9PSBcInN0cmluZ1wiID8ga2V5IDoga2V5LmtleV0gPSB2YWx1ZVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyA6OiAodW5pb248c3RyaW5nLCBQbHVnaW4sIFBsdWdpbktleT4pIOKGkiBhbnlcbiAgLy8gUmV0cmlldmUgYSBtZXRhZGF0YSBwcm9wZXJ0eSBmb3IgYSBnaXZlbiBuYW1lIG9yIHBsdWdpbi5cbiAgZ2V0TWV0YShrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5tZXRhW3R5cGVvZiBrZXkgPT0gXCJzdHJpbmdcIiA/IGtleSA6IGtleS5rZXldXG4gIH1cblxuICAvLyA6OiBib29sXG4gIC8vIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHRyYW5zYWN0aW9uIGRvZXNuJ3QgY29udGFpbiBhbnkgbWV0YWRhdGEsXG4gIC8vIGFuZCBjYW4gdGh1cyBzYWZlbHkgYmUgZXh0ZW5kZWQuXG4gIGdldCBpc0dlbmVyaWMoKSB7XG4gICAgZm9yIChsZXQgXyBpbiB0aGlzLm1ldGEpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyA6OiAoKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gSW5kaWNhdGUgdGhhdCB0aGUgZWRpdG9yIHNob3VsZCBzY3JvbGwgdGhlIHNlbGVjdGlvbiBpbnRvIHZpZXdcbiAgLy8gd2hlbiB1cGRhdGVkIHRvIHRoZSBzdGF0ZSBwcm9kdWNlZCBieSB0aGlzIHRyYW5zYWN0aW9uLlxuICBzY3JvbGxJbnRvVmlldygpIHtcbiAgICB0aGlzLnVwZGF0ZWQgfD0gVVBEQVRFRF9TQ1JPTExcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgZ2V0IHNjcm9sbGVkSW50b1ZpZXcoKSB7XG4gICAgcmV0dXJuICh0aGlzLnVwZGF0ZWQgJiBVUERBVEVEX1NDUk9MTCkgPiAwXG4gIH1cbn1cbiIsImltcG9ydCB7Tm9kZX0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcblxuaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL3NlbGVjdGlvblwiXG5pbXBvcnQge1RyYW5zYWN0aW9ufSBmcm9tIFwiLi90cmFuc2FjdGlvblwiXG5cbmZ1bmN0aW9uIGJpbmQoZiwgc2VsZikge1xuICByZXR1cm4gIXNlbGYgfHwgIWYgPyBmIDogZi5iaW5kKHNlbGYpXG59XG5cbmNsYXNzIEZpZWxkRGVzYyB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGRlc2MsIHNlbGYpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgdGhpcy5pbml0ID0gYmluZChkZXNjLmluaXQsIHNlbGYpXG4gICAgdGhpcy5hcHBseSA9IGJpbmQoZGVzYy5hcHBseSwgc2VsZilcbiAgfVxufVxuXG5jb25zdCBiYXNlRmllbGRzID0gW1xuICBuZXcgRmllbGREZXNjKFwiZG9jXCIsIHtcbiAgICBpbml0KGNvbmZpZykgeyByZXR1cm4gY29uZmlnLmRvYyB8fCBjb25maWcuc2NoZW1hLnRvcE5vZGVUeXBlLmNyZWF0ZUFuZEZpbGwoKSB9LFxuICAgIGFwcGx5KHRyKSB7IHJldHVybiB0ci5kb2MgfVxuICB9KSxcblxuICBuZXcgRmllbGREZXNjKFwic2VsZWN0aW9uXCIsIHtcbiAgICBpbml0KGNvbmZpZywgaW5zdGFuY2UpIHsgcmV0dXJuIGNvbmZpZy5zZWxlY3Rpb24gfHwgU2VsZWN0aW9uLmF0U3RhcnQoaW5zdGFuY2UuZG9jKSB9LFxuICAgIGFwcGx5KHRyKSB7IHJldHVybiB0ci5zZWxlY3Rpb24gfVxuICB9KSxcblxuICBuZXcgRmllbGREZXNjKFwic3RvcmVkTWFya3NcIiwge1xuICAgIGluaXQoY29uZmlnKSB7IHJldHVybiBjb25maWcuc3RvcmVkTWFya3MgfHwgbnVsbCB9LFxuICAgIGFwcGx5KHRyLCBfbWFya3MsIF9vbGQsIHN0YXRlKSB7IHJldHVybiBzdGF0ZS5zZWxlY3Rpb24uJGN1cnNvciA/IHRyLnN0b3JlZE1hcmtzIDogbnVsbCB9XG4gIH0pLFxuXG4gIG5ldyBGaWVsZERlc2MoXCJzY3JvbGxUb1NlbGVjdGlvblwiLCB7XG4gICAgaW5pdCgpIHsgcmV0dXJuIDAgfSxcbiAgICBhcHBseSh0ciwgcHJldikgeyByZXR1cm4gdHIuc2Nyb2xsZWRJbnRvVmlldyA/IHByZXYgKyAxIDogcHJldiB9XG4gIH0pXG5dXG5cbi8vIE9iamVjdCB3cmFwcGluZyB0aGUgcGFydCBvZiBhIHN0YXRlIG9iamVjdCB0aGF0IHN0YXlzIHRoZSBzYW1lXG4vLyBhY3Jvc3MgdHJhbnNhY3Rpb25zLiBTdG9yZWQgaW4gdGhlIHN0YXRlJ3MgYGNvbmZpZ2AgcHJvcGVydHkuXG5jbGFzcyBDb25maWd1cmF0aW9uIHtcbiAgY29uc3RydWN0b3Ioc2NoZW1hLCBwbHVnaW5zKSB7XG4gICAgdGhpcy5zY2hlbWEgPSBzY2hlbWFcbiAgICB0aGlzLmZpZWxkcyA9IGJhc2VGaWVsZHMuY29uY2F0KClcbiAgICB0aGlzLnBsdWdpbnMgPSBbXVxuICAgIHRoaXMucGx1Z2luc0J5S2V5ID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICAgIGlmIChwbHVnaW5zKSBwbHVnaW5zLmZvckVhY2gocGx1Z2luID0+IHtcbiAgICAgIGlmICh0aGlzLnBsdWdpbnNCeUtleVtwbHVnaW4ua2V5XSlcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBZGRpbmcgZGlmZmVyZW50IGluc3RhbmNlcyBvZiBhIGtleWVkIHBsdWdpbiAoXCIgKyBwbHVnaW4ua2V5ICsgXCIpXCIpXG4gICAgICB0aGlzLnBsdWdpbnMucHVzaChwbHVnaW4pXG4gICAgICB0aGlzLnBsdWdpbnNCeUtleVtwbHVnaW4ua2V5XSA9IHBsdWdpblxuICAgICAgaWYgKHBsdWdpbi5zcGVjLnN0YXRlKVxuICAgICAgICB0aGlzLmZpZWxkcy5wdXNoKG5ldyBGaWVsZERlc2MocGx1Z2luLmtleSwgcGx1Z2luLnNwZWMuc3RhdGUsIHBsdWdpbikpXG4gICAgfSlcbiAgfVxufVxuXG4vLyA6Oi0gVGhlIHN0YXRlIG9mIGEgUHJvc2VNaXJyb3IgZWRpdG9yIGlzIHJlcHJlc2VudGVkIGJ5IGFuIG9iamVjdFxuLy8gb2YgdGhpcyB0eXBlLiBBIHN0YXRlIGlzIGEgcGVyc2lzdGVudCBkYXRhIHN0cnVjdHVyZeKAlGl0IGlzbid0XG4vLyB1cGRhdGVkLCBidXQgcmF0aGVyIGEgbmV3IHN0YXRlIHZhbHVlIGlzIGNvbXB1dGVkIGZyb20gYW4gb2xkIG9uZVxuLy8gdXNpbmcgdGhlIFtgYXBwbHlgXSgjc3RhdGUuRWRpdG9yU3RhdGUuYXBwbHkpIG1ldGhvZC5cbi8vXG4vLyBBIHN0YXRlIGhvbGRzIGEgbnVtYmVyIG9mIGJ1aWx0LWluIGZpZWxkcywgYW5kIHBsdWdpbnMgY2FuXG4vLyBbZGVmaW5lXSgjc3RhdGUuUGx1Z2luU3BlYy5zdGF0ZSkgYWRkaXRpb25hbCBmaWVsZHMuXG5leHBvcnQgY2xhc3MgRWRpdG9yU3RhdGUge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZ1xuICB9XG5cbiAgLy8gZG9jOjogTm9kZVxuICAvLyBUaGUgY3VycmVudCBkb2N1bWVudC5cblxuICAvLyBzZWxlY3Rpb246OiBTZWxlY3Rpb25cbiAgLy8gVGhlIHNlbGVjdGlvbi5cblxuICAvLyBzdG9yZWRNYXJrczo6ID9bTWFya11cbiAgLy8gQSBzZXQgb2YgbWFya3MgdG8gYXBwbHkgdG8gdGhlIG5leHQgaW5wdXQuIFdpbGwgYmUgbnVsbCB3aGVuXG4gIC8vIG5vIGV4cGxpY2l0IG1hcmtzIGhhdmUgYmVlbiBzZXQuXG5cbiAgLy8gOjogU2NoZW1hXG4gIC8vIFRoZSBzY2hlbWEgb2YgdGhlIHN0YXRlJ3MgZG9jdW1lbnQuXG4gIGdldCBzY2hlbWEoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnNjaGVtYVxuICB9XG5cbiAgLy8gOjogW1BsdWdpbl1cbiAgLy8gVGhlIHBsdWdpbnMgdGhhdCBhcmUgYWN0aXZlIGluIHRoaXMgc3RhdGUuXG4gIGdldCBwbHVnaW5zKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5wbHVnaW5zXG4gIH1cblxuICAvLyA6OiAoVHJhbnNhY3Rpb24pIOKGkiBFZGl0b3JTdGF0ZVxuICAvLyBBcHBseSB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb24gdG8gcHJvZHVjZSBhIG5ldyBzdGF0ZS5cbiAgYXBwbHkodHIpIHtcbiAgICByZXR1cm4gdGhpcy5hcHBseVRyYW5zYWN0aW9uKHRyKS5zdGF0ZVxuICB9XG5cbiAgLy8gOiAoVHJhbnNhY3Rpb24pIOKGkiBib29sXG4gIGZpbHRlclRyYW5zYWN0aW9uKHRyLCBpZ25vcmUgPSAtMSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb25maWcucGx1Z2lucy5sZW5ndGg7IGkrKykgaWYgKGkgIT0gaWdub3JlKSB7XG4gICAgICBsZXQgcGx1Z2luID0gdGhpcy5jb25maWcucGx1Z2luc1tpXVxuICAgICAgaWYgKHBsdWdpbi5zcGVjLmZpbHRlclRyYW5zYWN0aW9uICYmICFwbHVnaW4uc3BlYy5maWx0ZXJUcmFuc2FjdGlvbi5jYWxsKHBsdWdpbiwgdHIsIHRoaXMpKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIDo6IChUcmFuc2FjdGlvbikg4oaSIHtzdGF0ZTogRWRpdG9yU3RhdGUsIHRyYW5zYWN0aW9uczogW1RyYW5zYWN0aW9uXX1cbiAgLy8gVmVyYm9zZSB2YXJpYW50IG9mIFtgYXBwbHlgXSgjc3RhdGUuRWRpdG9yU3RhdGUuYXBwbHkpIHRoYXRcbiAgLy8gcmV0dXJucyB0aGUgcHJlY2lzZSB0cmFuc2FjdGlvbnMgdGhhdCB3ZXJlIGFwcGxpZWQgKHdoaWNoIG1pZ2h0XG4gIC8vIGJlIGluZmx1ZW5jZWQgYnkgdGhlIFt0cmFuc2FjdGlvblxuICAvLyBob29rc10oI3N0YXRlLlBsdWdpblNwZWMuZmlsdGVyVHJhbnNhY3Rpb24pIG9mXG4gIC8vIHBsdWdpbnMpIGFsb25nIHdpdGggdGhlIG5ldyBzdGF0ZS5cbiAgYXBwbHlUcmFuc2FjdGlvbihyb290VHIpIHtcbiAgICBpZiAoIXRoaXMuZmlsdGVyVHJhbnNhY3Rpb24ocm9vdFRyKSkgcmV0dXJuIHtzdGF0ZTogdGhpcywgdHJhbnNhY3Rpb25zOiBbXX1cblxuICAgIGxldCB0cnMgPSBbcm9vdFRyXSwgbmV3U3RhdGUgPSB0aGlzLmFwcGx5SW5uZXIocm9vdFRyKSwgc2VlbiA9IG51bGxcbiAgICAvLyBUaGlzIGxvb3AgcmVwZWF0ZWRseSBnaXZlcyBwbHVnaW5zIGEgY2hhbmNlIHRvIHJlc3BvbmQgdG9cbiAgICAvLyB0cmFuc2FjdGlvbnMgYXMgbmV3IHRyYW5zYWN0aW9ucyBhcmUgYWRkZWQsIG1ha2luZyBzdXJlIHRvIG9ubHlcbiAgICAvLyBwYXNzIHRoZSB0cmFuc2FjdGlvbnMgdGhlIHBsdWdpbiBkaWQgbm90IHNlZSBiZWZvcmUuXG4gICAgb3V0ZXI6IGZvciAoOzspIHtcbiAgICAgIGxldCBoYXZlTmV3ID0gZmFsc2VcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb25maWcucGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcGx1Z2luID0gdGhpcy5jb25maWcucGx1Z2luc1tpXVxuICAgICAgICBpZiAocGx1Z2luLnNwZWMuYXBwZW5kVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICBsZXQgbiA9IHNlZW4gPyBzZWVuW2ldLm4gOiAwLCBvbGRTdGF0ZSA9IHNlZW4gPyBzZWVuW2ldLnN0YXRlIDogdGhpc1xuICAgICAgICAgIGxldCB0ciA9IG4gPCB0cnMubGVuZ3RoICYmXG4gICAgICAgICAgICAgIHBsdWdpbi5zcGVjLmFwcGVuZFRyYW5zYWN0aW9uLmNhbGwocGx1Z2luLCBuID8gdHJzLnNsaWNlKG4pIDogdHJzLCBvbGRTdGF0ZSwgbmV3U3RhdGUpXG4gICAgICAgICAgaWYgKHRyICYmIG5ld1N0YXRlLmZpbHRlclRyYW5zYWN0aW9uKHRyLCBpKSkge1xuICAgICAgICAgICAgdHIuc2V0TWV0YShcImFwcGVuZGVkVHJhbnNhY3Rpb25cIiwgcm9vdFRyKVxuICAgICAgICAgICAgaWYgKCFzZWVuKSB7XG4gICAgICAgICAgICAgIHNlZW4gPSBbXVxuICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAgc2Vlbi5wdXNoKGogPCBpID8ge3N0YXRlOiBuZXdTdGF0ZSwgbjogdHJzLmxlbmd0aH0gOiB7c3RhdGU6IHRoaXMsIG46IDB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJzLnB1c2godHIpXG4gICAgICAgICAgICBuZXdTdGF0ZSA9IG5ld1N0YXRlLmFwcGx5SW5uZXIodHIpXG4gICAgICAgICAgICBoYXZlTmV3ID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2Vlbikgc2VlbltpXSA9IHtzdGF0ZTogbmV3U3RhdGUsIG46IHRycy5sZW5ndGh9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaGF2ZU5ldykgcmV0dXJuIHtzdGF0ZTogbmV3U3RhdGUsIHRyYW5zYWN0aW9uczogdHJzfVxuICAgIH1cbiAgfVxuXG4gIC8vIDogKFRyYW5zYWN0aW9uKSDihpIgRWRpdG9yU3RhdGVcbiAgYXBwbHlJbm5lcih0cikge1xuICAgIGlmICghdHIuYmVmb3JlLmVxKHRoaXMuZG9jKSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBcHBseWluZyBhIG1pc21hdGNoZWQgdHJhbnNhY3Rpb25cIilcbiAgICBsZXQgbmV3SW5zdGFuY2UgPSBuZXcgRWRpdG9yU3RhdGUodGhpcy5jb25maWcpLCBmaWVsZHMgPSB0aGlzLmNvbmZpZy5maWVsZHNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGZpZWxkID0gZmllbGRzW2ldXG4gICAgICBuZXdJbnN0YW5jZVtmaWVsZC5uYW1lXSA9IGZpZWxkLmFwcGx5KHRyLCB0aGlzW2ZpZWxkLm5hbWVdLCB0aGlzLCBuZXdJbnN0YW5jZSlcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcHBseUxpc3RlbmVycy5sZW5ndGg7IGkrKykgYXBwbHlMaXN0ZW5lcnNbaV0odGhpcywgdHIsIG5ld0luc3RhbmNlKVxuICAgIHJldHVybiBuZXdJbnN0YW5jZVxuICB9XG5cbiAgLy8gOjogVHJhbnNhY3Rpb25cbiAgLy8gU3RhcnQgYSBbdHJhbnNhY3Rpb25dKCNzdGF0ZS5UcmFuc2FjdGlvbikgZnJvbSB0aGlzIHN0YXRlLlxuICBnZXQgdHIoKSB7IHJldHVybiBuZXcgVHJhbnNhY3Rpb24odGhpcykgfVxuXG4gIC8vIDo6IChPYmplY3QpIOKGkiBFZGl0b3JTdGF0ZVxuICAvLyBDcmVhdGUgYSBuZXcgc3RhdGUuXG4gIC8vXG4gIC8vICAgY29uZmlnOjotIENvbmZpZ3VyYXRpb24gb3B0aW9ucy4gTXVzdCBjb250YWluIGBzY2hlbWFgIG9yIGBkb2NgIChvciBib3RoKS5cbiAgLy9cbiAgLy8gICAgICBzY2hlbWE6OiA/U2NoZW1hXG4gIC8vICAgICAgVGhlIHNjaGVtYSB0byB1c2UuXG4gIC8vXG4gIC8vICAgICAgZG9jOjogP05vZGVcbiAgLy8gICAgICBUaGUgc3RhcnRpbmcgZG9jdW1lbnQuXG4gIC8vXG4gIC8vICAgICAgc2VsZWN0aW9uOjogP1NlbGVjdGlvblxuICAvLyAgICAgIEEgdmFsaWQgc2VsZWN0aW9uIGluIHRoZSBkb2N1bWVudC5cbiAgLy9cbiAgLy8gICAgICBzdG9yZWRNYXJrczo6ID9bTWFya11cbiAgLy8gICAgICBUaGUgaW5pdGlhbCBzZXQgb2YgW3N0b3JlZCBtYXJrc10oI3N0YXRlLkVkaXRvclN0YXRlLnN0b3JlZE1hcmtzKS5cbiAgLy9cbiAgLy8gICAgICBwbHVnaW5zOjogP1tQbHVnaW5dXG4gIC8vICAgICAgVGhlIHBsdWdpbnMgdGhhdCBzaG91bGQgYmUgYWN0aXZlIGluIHRoaXMgc3RhdGUuXG4gIHN0YXRpYyBjcmVhdGUoY29uZmlnKSB7XG4gICAgbGV0ICRjb25maWcgPSBuZXcgQ29uZmlndXJhdGlvbihjb25maWcuc2NoZW1hIHx8IGNvbmZpZy5kb2MudHlwZS5zY2hlbWEsIGNvbmZpZy5wbHVnaW5zKVxuICAgIGxldCBpbnN0YW5jZSA9IG5ldyBFZGl0b3JTdGF0ZSgkY29uZmlnKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJGNvbmZpZy5maWVsZHMubGVuZ3RoOyBpKyspXG4gICAgICBpbnN0YW5jZVskY29uZmlnLmZpZWxkc1tpXS5uYW1lXSA9ICRjb25maWcuZmllbGRzW2ldLmluaXQoY29uZmlnLCBpbnN0YW5jZSlcbiAgICByZXR1cm4gaW5zdGFuY2VcbiAgfVxuXG4gIC8vIDo6IChPYmplY3QpIOKGkiBFZGl0b3JTdGF0ZVxuICAvLyBDcmVhdGUgYSBuZXcgc3RhdGUgYmFzZWQgb24gdGhpcyBvbmUsIGJ1dCB3aXRoIGFuIGFkanVzdGVkIHNldCBvZlxuICAvLyBhY3RpdmUgcGx1Z2lucy4gU3RhdGUgZmllbGRzIHRoYXQgZXhpc3QgaW4gYm90aCBzZXRzIG9mIHBsdWdpbnNcbiAgLy8gYXJlIGtlcHQgdW5jaGFuZ2VkLiBUaG9zZSB0aGF0IG5vIGxvbmdlciBleGlzdCBhcmUgZHJvcHBlZCwgYW5kXG4gIC8vIHRob3NlIHRoYXQgYXJlIG5ldyBhcmUgaW5pdGlhbGl6ZWQgdXNpbmcgdGhlaXJcbiAgLy8gW2Bpbml0YF0oI3N0YXRlLlN0YXRlRmllbGQuaW5pdCkgbWV0aG9kLCBwYXNzaW5nIGluIHRoZSBuZXdcbiAgLy8gY29uZmlndXJhdGlvbiBvYmplY3QuLlxuICAvL1xuICAvLyAgIGNvbmZpZzo6LSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgLy9cbiAgLy8gICAgIHNjaGVtYTo6ID9TY2hlbWFcbiAgLy8gICAgIE5ldyBzY2hlbWEgdG8gdXNlLlxuICAvL1xuICAvLyAgICAgcGx1Z2luczo6ID9bUGx1Z2luXVxuICAvLyAgICAgTmV3IHNldCBvZiBhY3RpdmUgcGx1Z2lucy5cbiAgcmVjb25maWd1cmUoY29uZmlnKSB7XG4gICAgbGV0ICRjb25maWcgPSBuZXcgQ29uZmlndXJhdGlvbihjb25maWcuc2NoZW1hIHx8IHRoaXMuc2NoZW1hLCBjb25maWcucGx1Z2lucylcbiAgICBsZXQgZmllbGRzID0gJGNvbmZpZy5maWVsZHMsIGluc3RhbmNlID0gbmV3IEVkaXRvclN0YXRlKCRjb25maWcpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBuYW1lID0gZmllbGRzW2ldLm5hbWVcbiAgICAgIGluc3RhbmNlW25hbWVdID0gdGhpcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IHRoaXNbbmFtZV0gOiBmaWVsZHNbaV0uaW5pdChjb25maWcsIGluc3RhbmNlKVxuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2VcbiAgfVxuXG4gIC8vIDo6ICg/dW5pb248T2JqZWN0PFBsdWdpbj4sIHN0cmluZywgbnVtYmVyPikg4oaSIE9iamVjdFxuICAvLyBTZXJpYWxpemUgdGhpcyBzdGF0ZSB0byBKU09OLiBJZiB5b3Ugd2FudCB0byBzZXJpYWxpemUgdGhlIHN0YXRlXG4gIC8vIG9mIHBsdWdpbnMsIHBhc3MgYW4gb2JqZWN0IG1hcHBpbmcgcHJvcGVydHkgbmFtZXMgdG8gdXNlIGluIHRoZVxuICAvLyByZXN1bHRpbmcgSlNPTiBvYmplY3QgdG8gcGx1Z2luIG9iamVjdHMuIFRoZSBhcmd1bWVudCBtYXkgYWxzbyBiZVxuICAvLyBhIHN0cmluZyBvciBudW1iZXIsIGluIHdoaWNoIGNhc2UgaXQgaXMgaWdub3JlZCwgdG8gc3VwcG9ydCB0aGVcbiAgLy8gd2F5IGBKU09OLnN0cmluZ2lmeWAgY2FsbHMgYHRvU3RyaW5nYCBtZXRob2RzLlxuICB0b0pTT04ocGx1Z2luRmllbGRzKSB7XG4gICAgbGV0IHJlc3VsdCA9IHtkb2M6IHRoaXMuZG9jLnRvSlNPTigpLCBzZWxlY3Rpb246IHRoaXMuc2VsZWN0aW9uLnRvSlNPTigpfVxuICAgIGlmICh0aGlzLnN0b3JlZE1hcmtzKSByZXN1bHQuc3RvcmVkTWFya3MgPSB0aGlzLnN0b3JlZE1hcmtzLm1hcChtID0+IG0udG9KU09OKCkpXG4gICAgaWYgKHBsdWdpbkZpZWxkcyAmJiB0eXBlb2YgcGx1Z2luRmllbGRzID09ICdvYmplY3QnKSBmb3IgKGxldCBwcm9wIGluIHBsdWdpbkZpZWxkcykge1xuICAgICAgaWYgKHByb3AgPT0gXCJkb2NcIiB8fCBwcm9wID09IFwic2VsZWN0aW9uXCIpXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlIEpTT04gZmllbGRzIGBkb2NgIGFuZCBgc2VsZWN0aW9uYCBhcmUgcmVzZXJ2ZWRcIilcbiAgICAgIGxldCBwbHVnaW4gPSBwbHVnaW5GaWVsZHNbcHJvcF0sIHN0YXRlID0gcGx1Z2luLnNwZWMuc3RhdGVcbiAgICAgIGlmIChzdGF0ZSAmJiBzdGF0ZS50b0pTT04pIHJlc3VsdFtwcm9wXSA9IHN0YXRlLnRvSlNPTi5jYWxsKHBsdWdpbiwgdGhpc1twbHVnaW4ua2V5XSlcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLy8gOjogKE9iamVjdCwgT2JqZWN0LCA/T2JqZWN0PFBsdWdpbj4pIOKGkiBFZGl0b3JTdGF0ZVxuICAvLyBEZXNlcmlhbGl6ZSBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgYSBzdGF0ZS4gYGNvbmZpZ2Agc2hvdWxkXG4gIC8vIGhhdmUgYXQgbGVhc3QgYSBgc2NoZW1hYCBmaWVsZCwgYW5kIHNob3VsZCBjb250YWluIGFycmF5IG9mXG4gIC8vIHBsdWdpbnMgdG8gaW5pdGlhbGl6ZSB0aGUgc3RhdGUgd2l0aC4gYHBsdWdpbkZpZWxkc2AgY2FuIGJlIHVzZWRcbiAgLy8gdG8gZGVzZXJpYWxpemUgdGhlIHN0YXRlIG9mIHBsdWdpbnMsIGJ5IGFzc29jaWF0aW5nIHBsdWdpblxuICAvLyBpbnN0YW5jZXMgd2l0aCB0aGUgcHJvcGVydHkgbmFtZXMgdGhleSB1c2UgaW4gdGhlIEpTT04gb2JqZWN0LlxuICAvL1xuICAvLyAgIGNvbmZpZzo6LSBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgLy9cbiAgLy8gICAgIHNjaGVtYTo6IFNjaGVtYVxuICAvLyAgICAgVGhlIHNjaGVtYSB0byB1c2UuXG4gIC8vXG4gIC8vICAgICBwbHVnaW5zOjogP1tQbHVnaW5dXG4gIC8vICAgICBUaGUgc2V0IG9mIGFjdGl2ZSBwbHVnaW5zLlxuICBzdGF0aWMgZnJvbUpTT04oY29uZmlnLCBqc29uLCBwbHVnaW5GaWVsZHMpIHtcbiAgICBpZiAoIWpzb24pIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgRWRpdG9yU3RhdGUuZnJvbUpTT05cIilcbiAgICBpZiAoIWNvbmZpZy5zY2hlbWEpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiUmVxdWlyZWQgY29uZmlnIGZpZWxkICdzY2hlbWEnIG1pc3NpbmdcIilcbiAgICBsZXQgJGNvbmZpZyA9IG5ldyBDb25maWd1cmF0aW9uKGNvbmZpZy5zY2hlbWEsIGNvbmZpZy5wbHVnaW5zKVxuICAgIGxldCBpbnN0YW5jZSA9IG5ldyBFZGl0b3JTdGF0ZSgkY29uZmlnKVxuICAgICRjb25maWcuZmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgaWYgKGZpZWxkLm5hbWUgPT0gXCJkb2NcIikge1xuICAgICAgICBpbnN0YW5jZS5kb2MgPSBOb2RlLmZyb21KU09OKGNvbmZpZy5zY2hlbWEsIGpzb24uZG9jKVxuICAgICAgfSBlbHNlIGlmIChmaWVsZC5uYW1lID09IFwic2VsZWN0aW9uXCIpIHtcbiAgICAgICAgaW5zdGFuY2Uuc2VsZWN0aW9uID0gU2VsZWN0aW9uLmZyb21KU09OKGluc3RhbmNlLmRvYywganNvbi5zZWxlY3Rpb24pXG4gICAgICB9IGVsc2UgaWYgKGZpZWxkLm5hbWUgPT0gXCJzdG9yZWRNYXJrc1wiKSB7XG4gICAgICAgIGlmIChqc29uLnN0b3JlZE1hcmtzKSBpbnN0YW5jZS5zdG9yZWRNYXJrcyA9IGpzb24uc3RvcmVkTWFya3MubWFwKGNvbmZpZy5zY2hlbWEubWFya0Zyb21KU09OKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHBsdWdpbkZpZWxkcykgZm9yIChsZXQgcHJvcCBpbiBwbHVnaW5GaWVsZHMpIHtcbiAgICAgICAgICBsZXQgcGx1Z2luID0gcGx1Z2luRmllbGRzW3Byb3BdLCBzdGF0ZSA9IHBsdWdpbi5zcGVjLnN0YXRlXG4gICAgICAgICAgaWYgKHBsdWdpbi5rZXkgPT0gZmllbGQubmFtZSAmJiBzdGF0ZSAmJiBzdGF0ZS5mcm9tSlNPTiAmJlxuICAgICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoanNvbiwgcHJvcCkpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgZmllbGQgYmVsb25ncyB0byBhIHBsdWdpbiBtYXBwZWQgdG8gYSBKU09OIGZpZWxkLCByZWFkIGl0IGZyb20gdGhlcmUuXG4gICAgICAgICAgICBpbnN0YW5jZVtmaWVsZC5uYW1lXSA9IHN0YXRlLmZyb21KU09OLmNhbGwocGx1Z2luLCBjb25maWcsIGpzb25bcHJvcF0sIGluc3RhbmNlKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlW2ZpZWxkLm5hbWVdID0gZmllbGQuaW5pdChjb25maWcsIGluc3RhbmNlKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGluc3RhbmNlXG4gIH1cblxuICAvLyBLbHVkZ2UgdG8gYWxsb3cgdGhlIHZpZXcgdG8gdHJhY2sgbWFwcGluZ3MgYmV0d2VlbiBkaWZmZXJlbnRcbiAgLy8gaW5zdGFuY2VzIG9mIGEgc3RhdGUuXG4gIC8vXG4gIC8vIEZJWE1FIHRoaXMgaXMgbm8gbG9uZ2VyIG5lZWRlZCBhcyBvZiBwcm9zZW1pcnJvci12aWV3IDEuOS4wLFxuICAvLyB0aG91Z2ggZHVlIHRvIGJhY2t3YXJkcy1jb21wYXQgd2Ugc2hvdWxkIHByb2JhYmx5IGtlZXAgaXQgYXJvdW5kXG4gIC8vIGZvciBhIHdoaWxlIChpZiBvbmx5IGFzIGEgbm8tb3ApXG4gIHN0YXRpYyBhZGRBcHBseUxpc3RlbmVyKGYpIHtcbiAgICBhcHBseUxpc3RlbmVycy5wdXNoKGYpXG4gIH1cbiAgc3RhdGljIHJlbW92ZUFwcGx5TGlzdGVuZXIoZikge1xuICAgIGxldCBmb3VuZCA9IGFwcGx5TGlzdGVuZXJzLmluZGV4T2YoZilcbiAgICBpZiAoZm91bmQgPiAtMSkgYXBwbHlMaXN0ZW5lcnMuc3BsaWNlKGZvdW5kLCAxKVxuICB9XG59XG5cbmNvbnN0IGFwcGx5TGlzdGVuZXJzID0gW11cbiIsIi8vIFBsdWdpblNwZWM6OiBpbnRlcmZhY2Vcbi8vXG4vLyBUaGlzIGlzIHRoZSB0eXBlIHBhc3NlZCB0byB0aGUgW2BQbHVnaW5gXSgjc3RhdGUuUGx1Z2luKVxuLy8gY29uc3RydWN0b3IuIEl0IHByb3ZpZGVzIGEgZGVmaW5pdGlvbiBmb3IgYSBwbHVnaW4uXG4vL1xuLy8gICBwcm9wczo6ID9FZGl0b3JQcm9wc1xuLy8gICBUaGUgW3ZpZXcgcHJvcHNdKCN2aWV3LkVkaXRvclByb3BzKSBhZGRlZCBieSB0aGlzIHBsdWdpbi4gUHJvcHNcbi8vICAgdGhhdCBhcmUgZnVuY3Rpb25zIHdpbGwgYmUgYm91bmQgdG8gaGF2ZSB0aGUgcGx1Z2luIGluc3RhbmNlIGFzXG4vLyAgIHRoZWlyIGB0aGlzYCBiaW5kaW5nLlxuLy9cbi8vICAgc3RhdGU6OiA/U3RhdGVGaWVsZDxhbnk+XG4vLyAgIEFsbG93cyBhIHBsdWdpbiB0byBkZWZpbmUgYSBbc3RhdGUgZmllbGRdKCNzdGF0ZS5TdGF0ZUZpZWxkKSwgYW5cbi8vICAgZXh0cmEgc2xvdCBpbiB0aGUgc3RhdGUgb2JqZWN0IGluIHdoaWNoIGl0IGNhbiBrZWVwIGl0cyBvd24gZGF0YS5cbi8vXG4vLyAgIGtleTo6ID9QbHVnaW5LZXlcbi8vICAgQ2FuIGJlIHVzZWQgdG8gbWFrZSB0aGlzIGEga2V5ZWQgcGx1Z2luLiBZb3UgY2FuIGhhdmUgb25seSBvbmVcbi8vICAgcGx1Z2luIHdpdGggYSBnaXZlbiBrZXkgaW4gYSBnaXZlbiBzdGF0ZSwgYnV0IGl0IGlzIHBvc3NpYmxlIHRvXG4vLyAgIGFjY2VzcyB0aGUgcGx1Z2luJ3MgY29uZmlndXJhdGlvbiBhbmQgc3RhdGUgdGhyb3VnaCB0aGUga2V5LFxuLy8gICB3aXRob3V0IGhhdmluZyBhY2Nlc3MgdG8gdGhlIHBsdWdpbiBpbnN0YW5jZSBvYmplY3QuXG4vL1xuLy8gICB2aWV3OjogPyhFZGl0b3JWaWV3KSDihpIgT2JqZWN0XG4vLyAgIFdoZW4gdGhlIHBsdWdpbiBuZWVkcyB0byBpbnRlcmFjdCB3aXRoIHRoZSBlZGl0b3Igdmlldywgb3Jcbi8vICAgc2V0IHNvbWV0aGluZyB1cCBpbiB0aGUgRE9NLCB1c2UgdGhpcyBmaWVsZC4gVGhlIGZ1bmN0aW9uXG4vLyAgIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHBsdWdpbidzIHN0YXRlIGlzIGFzc29jaWF0ZWQgd2l0aCBhblxuLy8gICBlZGl0b3Igdmlldy5cbi8vXG4vLyAgICAgcmV0dXJuOjotXG4vLyAgICAgU2hvdWxkIHJldHVybiBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIG9wdGlvbmFsXG4vLyAgICAgcHJvcGVydGllczpcbi8vXG4vLyAgICAgICB1cGRhdGU6OiA/KHZpZXc6IEVkaXRvclZpZXcsIHByZXZTdGF0ZTogRWRpdG9yU3RhdGUpXG4vLyAgICAgICBDYWxsZWQgd2hlbmV2ZXIgdGhlIHZpZXcncyBzdGF0ZSBpcyB1cGRhdGVkLlxuLy9cbi8vICAgICAgIGRlc3Ryb3k6OiA/KClcbi8vICAgICAgIENhbGxlZCB3aGVuIHRoZSB2aWV3IGlzIGRlc3Ryb3llZCBvciByZWNlaXZlcyBhIHN0YXRlXG4vLyAgICAgICB3aXRoIGRpZmZlcmVudCBwbHVnaW5zLlxuLy9cbi8vICAgZmlsdGVyVHJhbnNhY3Rpb246OiA/KFRyYW5zYWN0aW9uLCBFZGl0b3JTdGF0ZSkg4oaSIGJvb2xcbi8vICAgV2hlbiBwcmVzZW50LCB0aGlzIHdpbGwgYmUgY2FsbGVkIGJlZm9yZSBhIHRyYW5zYWN0aW9uIGlzXG4vLyAgIGFwcGxpZWQgYnkgdGhlIHN0YXRlLCBhbGxvd2luZyB0aGUgcGx1Z2luIHRvIGNhbmNlbCBpdCAoYnlcbi8vICAgcmV0dXJuaW5nIGZhbHNlKS5cbi8vXG4vLyAgIGFwcGVuZFRyYW5zYWN0aW9uOjogPyh0cmFuc2FjdGlvbnM6IFtUcmFuc2FjdGlvbl0sIG9sZFN0YXRlOiBFZGl0b3JTdGF0ZSwgbmV3U3RhdGU6IEVkaXRvclN0YXRlKSDihpIgP1RyYW5zYWN0aW9uXG4vLyAgIEFsbG93cyB0aGUgcGx1Z2luIHRvIGFwcGVuZCBhbm90aGVyIHRyYW5zYWN0aW9uIHRvIGJlIGFwcGxpZWRcbi8vICAgYWZ0ZXIgdGhlIGdpdmVuIGFycmF5IG9mIHRyYW5zYWN0aW9ucy4gV2hlbiBhbm90aGVyIHBsdWdpblxuLy8gICBhcHBlbmRzIGEgdHJhbnNhY3Rpb24gYWZ0ZXIgdGhpcyB3YXMgY2FsbGVkLCBpdCBpcyBjYWxsZWQgYWdhaW5cbi8vICAgd2l0aCB0aGUgbmV3IHN0YXRlIGFuZCBuZXcgdHJhbnNhY3Rpb25z4oCUYnV0IG9ubHkgdGhlIG5ld1xuLy8gICB0cmFuc2FjdGlvbnMsIGkuZS4gaXQgd29uJ3QgYmUgcGFzc2VkIHRyYW5zYWN0aW9ucyB0aGF0IGl0XG4vLyAgIGFscmVhZHkgc2F3LlxuXG5mdW5jdGlvbiBiaW5kUHJvcHMob2JqLCBzZWxmLCB0YXJnZXQpIHtcbiAgZm9yIChsZXQgcHJvcCBpbiBvYmopIHtcbiAgICBsZXQgdmFsID0gb2JqW3Byb3BdXG4gICAgaWYgKHZhbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB2YWwgPSB2YWwuYmluZChzZWxmKVxuICAgIGVsc2UgaWYgKHByb3AgPT0gXCJoYW5kbGVET01FdmVudHNcIikgdmFsID0gYmluZFByb3BzKHZhbCwgc2VsZiwge30pXG4gICAgdGFyZ2V0W3Byb3BdID0gdmFsXG4gIH1cbiAgcmV0dXJuIHRhcmdldFxufVxuXG4vLyA6Oi0gUGx1Z2lucyBidW5kbGUgZnVuY3Rpb25hbGl0eSB0aGF0IGNhbiBiZSBhZGRlZCB0byBhbiBlZGl0b3IuXG4vLyBUaGV5IGFyZSBwYXJ0IG9mIHRoZSBbZWRpdG9yIHN0YXRlXSgjc3RhdGUuRWRpdG9yU3RhdGUpIGFuZFxuLy8gbWF5IGluZmx1ZW5jZSB0aGF0IHN0YXRlIGFuZCB0aGUgdmlldyB0aGF0IGNvbnRhaW5zIGl0LlxuZXhwb3J0IGNsYXNzIFBsdWdpbiB7XG4gIC8vIDo6IChQbHVnaW5TcGVjKVxuICAvLyBDcmVhdGUgYSBwbHVnaW4uXG4gIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAvLyA6OiBFZGl0b3JQcm9wc1xuICAgIC8vIFRoZSBbcHJvcHNdKCN2aWV3LkVkaXRvclByb3BzKSBleHBvcnRlZCBieSB0aGlzIHBsdWdpbi5cbiAgICB0aGlzLnByb3BzID0ge31cbiAgICBpZiAoc3BlYy5wcm9wcykgYmluZFByb3BzKHNwZWMucHJvcHMsIHRoaXMsIHRoaXMucHJvcHMpXG4gICAgLy8gOjogT2JqZWN0XG4gICAgLy8gVGhlIHBsdWdpbidzIFtzcGVjIG9iamVjdF0oI3N0YXRlLlBsdWdpblNwZWMpLlxuICAgIHRoaXMuc3BlYyA9IHNwZWNcbiAgICB0aGlzLmtleSA9IHNwZWMua2V5ID8gc3BlYy5rZXkua2V5IDogY3JlYXRlS2V5KFwicGx1Z2luXCIpXG4gIH1cblxuICAvLyA6OiAoRWRpdG9yU3RhdGUpIOKGkiBhbnlcbiAgLy8gRXh0cmFjdCB0aGUgcGx1Z2luJ3Mgc3RhdGUgZmllbGQgZnJvbSBhbiBlZGl0b3Igc3RhdGUuXG4gIGdldFN0YXRlKHN0YXRlKSB7IHJldHVybiBzdGF0ZVt0aGlzLmtleV0gfVxufVxuXG4vLyBTdGF0ZUZpZWxkOjogaW50ZXJmYWNlPFQ+XG4vLyBBIHBsdWdpbiBzcGVjIG1heSBwcm92aWRlIGEgc3RhdGUgZmllbGQgKHVuZGVyIGl0c1xuLy8gW2BzdGF0ZWBdKCNzdGF0ZS5QbHVnaW5TcGVjLnN0YXRlKSBwcm9wZXJ0eSkgb2YgdGhpcyB0eXBlLCB3aGljaFxuLy8gZGVzY3JpYmVzIHRoZSBzdGF0ZSBpdCB3YW50cyB0byBrZWVwLiBGdW5jdGlvbnMgcHJvdmlkZWQgaGVyZSBhcmVcbi8vIGFsd2F5cyBjYWxsZWQgd2l0aCB0aGUgcGx1Z2luIGluc3RhbmNlIGFzIHRoZWlyIGB0aGlzYCBiaW5kaW5nLlxuLy9cbi8vICAgaW5pdDo6IChjb25maWc6IE9iamVjdCwgaW5zdGFuY2U6IEVkaXRvclN0YXRlKSDihpIgVFxuLy8gICBJbml0aWFsaXplIHRoZSB2YWx1ZSBvZiB0aGUgZmllbGQuIGBjb25maWdgIHdpbGwgYmUgdGhlIG9iamVjdFxuLy8gICBwYXNzZWQgdG8gW2BFZGl0b3JTdGF0ZS5jcmVhdGVgXSgjc3RhdGUuRWRpdG9yU3RhdGVeY3JlYXRlKS4gTm90ZVxuLy8gICB0aGF0IGBpbnN0YW5jZWAgaXMgYSBoYWxmLWluaXRpYWxpemVkIHN0YXRlIGluc3RhbmNlLCBhbmQgd2lsbFxuLy8gICBub3QgaGF2ZSB2YWx1ZXMgZm9yIHBsdWdpbiBmaWVsZHMgaW5pdGlhbGl6ZWQgYWZ0ZXIgdGhpcyBvbmUuXG4vL1xuLy8gICBhcHBseTo6ICh0cjogVHJhbnNhY3Rpb24sIHZhbHVlOiBULCBvbGRTdGF0ZTogRWRpdG9yU3RhdGUsIG5ld1N0YXRlOiBFZGl0b3JTdGF0ZSkg4oaSIFRcbi8vICAgQXBwbHkgdGhlIGdpdmVuIHRyYW5zYWN0aW9uIHRvIHRoaXMgc3RhdGUgZmllbGQsIHByb2R1Y2luZyBhIG5ld1xuLy8gICBmaWVsZCB2YWx1ZS4gTm90ZSB0aGF0IHRoZSBgbmV3U3RhdGVgIGFyZ3VtZW50IGlzIGFnYWluIGEgcGFydGlhbGx5XG4vLyAgIGNvbnN0cnVjdGVkIHN0YXRlIGRvZXMgbm90IHlldCBjb250YWluIHRoZSBzdGF0ZSBmcm9tIHBsdWdpbnNcbi8vICAgY29taW5nIGFmdGVyIHRoaXMgb25lLlxuLy9cbi8vICAgdG9KU09OOjogPyh2YWx1ZTogVCkg4oaSICpcbi8vICAgQ29udmVydCB0aGlzIGZpZWxkIHRvIEpTT04uIE9wdGlvbmFsLCBjYW4gYmUgbGVmdCBvZmYgdG8gZGlzYWJsZVxuLy8gICBKU09OIHNlcmlhbGl6YXRpb24gZm9yIHRoZSBmaWVsZC5cbi8vXG4vLyAgIGZyb21KU09OOjogPyhjb25maWc6IE9iamVjdCwgdmFsdWU6ICosIHN0YXRlOiBFZGl0b3JTdGF0ZSkg4oaSIFRcbi8vICAgRGVzZXJpYWxpemUgdGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBmaWVsZC4gTm90ZSB0aGF0IHRoZVxuLy8gICBgc3RhdGVgIGFyZ3VtZW50IGlzIGFnYWluIGEgaGFsZi1pbml0aWFsaXplZCBzdGF0ZS5cblxuY29uc3Qga2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbClcblxuZnVuY3Rpb24gY3JlYXRlS2V5KG5hbWUpIHtcbiAgaWYgKG5hbWUgaW4ga2V5cykgcmV0dXJuIG5hbWUgKyBcIiRcIiArICsra2V5c1tuYW1lXVxuICBrZXlzW25hbWVdID0gMFxuICByZXR1cm4gbmFtZSArIFwiJFwiXG59XG5cbi8vIDo6LSBBIGtleSBpcyB1c2VkIHRvIFt0YWddKCNzdGF0ZS5QbHVnaW5TcGVjLmtleSlcbi8vIHBsdWdpbnMgaW4gYSB3YXkgdGhhdCBtYWtlcyBpdCBwb3NzaWJsZSB0byBmaW5kIHRoZW0sIGdpdmVuIGFuXG4vLyBlZGl0b3Igc3RhdGUuIEFzc2lnbmluZyBhIGtleSBkb2VzIG1lYW4gb25seSBvbmUgcGx1Z2luIG9mIHRoYXRcbi8vIHR5cGUgY2FuIGJlIGFjdGl2ZSBpbiBhIHN0YXRlLlxuZXhwb3J0IGNsYXNzIFBsdWdpbktleSB7XG4gIC8vIDo6ICg/c3RyaW5nKVxuICAvLyBDcmVhdGUgYSBwbHVnaW4ga2V5LlxuICBjb25zdHJ1Y3RvcihuYW1lID0gXCJrZXlcIikgeyB0aGlzLmtleSA9IGNyZWF0ZUtleShuYW1lKSB9XG5cbiAgLy8gOjogKEVkaXRvclN0YXRlKSDihpIgP1BsdWdpblxuICAvLyBHZXQgdGhlIGFjdGl2ZSBwbHVnaW4gd2l0aCB0aGlzIGtleSwgaWYgYW55LCBmcm9tIGFuIGVkaXRvclxuICAvLyBzdGF0ZS5cbiAgZ2V0KHN0YXRlKSB7IHJldHVybiBzdGF0ZS5jb25maWcucGx1Z2luc0J5S2V5W3RoaXMua2V5XSB9XG5cbiAgLy8gOjogKEVkaXRvclN0YXRlKSDihpIgP2FueVxuICAvLyBHZXQgdGhlIHBsdWdpbidzIHN0YXRlIGZyb20gYW4gZWRpdG9yIHN0YXRlLlxuICBnZXRTdGF0ZShzdGF0ZSkgeyByZXR1cm4gc3RhdGVbdGhpcy5rZXldIH1cbn1cbiIsImNvbnN0IHJlc3VsdCA9IHt9XG5leHBvcnQgZGVmYXVsdCByZXN1bHRcblxuaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgZG9jdW1lbnQgIT0gXCJ1bmRlZmluZWRcIikge1xuICBjb25zdCBpZV9lZGdlID0gL0VkZ2VcXC8oXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgY29uc3QgaWVfdXB0bzEwID0gL01TSUUgXFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG4gIGNvbnN0IGllXzExdXAgPSAvVHJpZGVudFxcLyg/Ols3LTldfFxcZHsyLH0pXFwuLipydjooXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudClcblxuICByZXN1bHQubWFjID0gL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pXG4gIGxldCBpZSA9IHJlc3VsdC5pZSA9ICEhKGllX3VwdG8xMCB8fCBpZV8xMXVwIHx8IGllX2VkZ2UpXG4gIHJlc3VsdC5pZV92ZXJzaW9uID0gaWVfdXB0bzEwID8gZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8IDYgOiBpZV8xMXVwID8gK2llXzExdXBbMV0gOiBpZV9lZGdlID8gK2llX2VkZ2VbMV0gOiBudWxsXG4gIHJlc3VsdC5nZWNrbyA9ICFpZSAmJiAvZ2Vja29cXC8oXFxkKykvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG4gIHJlc3VsdC5nZWNrb192ZXJzaW9uID0gcmVzdWx0LmdlY2tvICYmICsoL0ZpcmVmb3hcXC8oXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgWzAsIDBdKVsxXVxuICBsZXQgY2hyb21lID0gIWllICYmIC9DaHJvbWVcXC8oXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgcmVzdWx0LmNocm9tZSA9ICEhY2hyb21lXG4gIHJlc3VsdC5jaHJvbWVfdmVyc2lvbiA9IGNocm9tZSAmJiArY2hyb21lWzFdXG4gIHJlc3VsdC5pb3MgPSAhaWUgJiYgL0FwcGxlV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmIC9Nb2JpbGVcXC9cXHcrLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG4gIHJlc3VsdC5hbmRyb2lkID0gL0FuZHJvaWQgXFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG4gIHJlc3VsdC53ZWJraXQgPSAhaWUgJiYgJ1dlYmtpdEFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZVxuICByZXN1bHQuc2FmYXJpID0gL0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpXG4gIHJlc3VsdC53ZWJraXRfdmVyc2lvbiA9IHJlc3VsdC53ZWJraXQgJiYgKygvXFxiQXBwbGVXZWJLaXRcXC8oXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgWzAsIDBdKVsxXVxufVxuIiwiaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5cbmV4cG9ydCBjb25zdCBkb21JbmRleCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgZm9yICh2YXIgaW5kZXggPSAwOzsgaW5kZXgrKykge1xuICAgIG5vZGUgPSBub2RlLnByZXZpb3VzU2libGluZ1xuICAgIGlmICghbm9kZSkgcmV0dXJuIGluZGV4XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHBhcmVudE5vZGUgPSBmdW5jdGlvbihub2RlKSB7XG4gIGxldCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGVcbiAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgPT0gMTEgPyBwYXJlbnQuaG9zdCA6IHBhcmVudFxufVxuXG5leHBvcnQgY29uc3QgdGV4dFJhbmdlID0gZnVuY3Rpb24obm9kZSwgZnJvbSwgdG8pIHtcbiAgbGV0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKVxuICByYW5nZS5zZXRFbmQobm9kZSwgdG8gPT0gbnVsbCA/IG5vZGUubm9kZVZhbHVlLmxlbmd0aCA6IHRvKVxuICByYW5nZS5zZXRTdGFydChub2RlLCBmcm9tIHx8IDApXG4gIHJldHVybiByYW5nZVxufVxuXG4vLyBTY2FucyBmb3J3YXJkIGFuZCBiYWNrd2FyZCB0aHJvdWdoIERPTSBwb3NpdGlvbnMgZXF1aXZhbGVudCB0byB0aGVcbi8vIGdpdmVuIG9uZSB0byBzZWUgaWYgdGhlIHR3byBhcmUgaW4gdGhlIHNhbWUgcGxhY2UgKGkuZS4gYWZ0ZXIgYVxuLy8gdGV4dCBub2RlIHZzIGF0IHRoZSBlbmQgb2YgdGhhdCB0ZXh0IG5vZGUpXG5leHBvcnQgY29uc3QgaXNFcXVpdmFsZW50UG9zaXRpb24gPSBmdW5jdGlvbihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZikge1xuICByZXR1cm4gdGFyZ2V0Tm9kZSAmJiAoc2NhbkZvcihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZiwgLTEpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FuRm9yKG5vZGUsIG9mZiwgdGFyZ2V0Tm9kZSwgdGFyZ2V0T2ZmLCAxKSlcbn1cblxuY29uc3QgYXRvbUVsZW1lbnRzID0gL14oaW1nfGJyfGlucHV0fHRleHRhcmVhfGhyKSQvaVxuXG5mdW5jdGlvbiBzY2FuRm9yKG5vZGUsIG9mZiwgdGFyZ2V0Tm9kZSwgdGFyZ2V0T2ZmLCBkaXIpIHtcbiAgZm9yICg7Oykge1xuICAgIGlmIChub2RlID09IHRhcmdldE5vZGUgJiYgb2ZmID09IHRhcmdldE9mZikgcmV0dXJuIHRydWVcbiAgICBpZiAob2ZmID09IChkaXIgPCAwID8gMCA6IG5vZGVTaXplKG5vZGUpKSkge1xuICAgICAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZVxuICAgICAgaWYgKHBhcmVudC5ub2RlVHlwZSAhPSAxIHx8IGhhc0Jsb2NrRGVzYyhub2RlKSB8fCBhdG9tRWxlbWVudHMudGVzdChub2RlLm5vZGVOYW1lKSB8fCBub2RlLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgb2ZmID0gZG9tSW5kZXgobm9kZSkgKyAoZGlyIDwgMCA/IDAgOiAxKVxuICAgICAgbm9kZSA9IHBhcmVudFxuICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZiArIChkaXIgPCAwID8gLTEgOiAwKV1cbiAgICAgIGlmIChub2RlLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpIHJldHVybiBmYWxzZVxuICAgICAgb2ZmID0gZGlyIDwgMCA/IG5vZGVTaXplKG5vZGUpIDogMFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vZGVTaXplKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gMyA/IG5vZGUubm9kZVZhbHVlLmxlbmd0aCA6IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGhcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT25FZGdlKG5vZGUsIG9mZnNldCwgcGFyZW50KSB7XG4gIGZvciAobGV0IGF0U3RhcnQgPSBvZmZzZXQgPT0gMCwgYXRFbmQgPSBvZmZzZXQgPT0gbm9kZVNpemUobm9kZSk7IGF0U3RhcnQgfHwgYXRFbmQ7KSB7XG4gICAgaWYgKG5vZGUgPT0gcGFyZW50KSByZXR1cm4gdHJ1ZVxuICAgIGxldCBpbmRleCA9IGRvbUluZGV4KG5vZGUpXG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZVxuICAgIGlmICghbm9kZSkgcmV0dXJuIGZhbHNlXG4gICAgYXRTdGFydCA9IGF0U3RhcnQgJiYgaW5kZXggPT0gMFxuICAgIGF0RW5kID0gYXRFbmQgJiYgaW5kZXggPT0gbm9kZVNpemUobm9kZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBoYXNCbG9ja0Rlc2MoZG9tKSB7XG4gIGxldCBkZXNjXG4gIGZvciAobGV0IGN1ciA9IGRvbTsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSkgaWYgKGRlc2MgPSBjdXIucG1WaWV3RGVzYykgYnJlYWtcbiAgcmV0dXJuIGRlc2MgJiYgZGVzYy5ub2RlICYmIGRlc2Mubm9kZS5pc0Jsb2NrICYmIChkZXNjLmRvbSA9PSBkb20gfHwgZGVzYy5jb250ZW50RE9NID09IGRvbSlcbn1cblxuLy8gV29yayBhcm91bmQgQ2hyb21lIGlzc3VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzUyM1xuLy8gKGlzQ29sbGFwc2VkIGluYXBwcm9wcmlhdGVseSByZXR1cm5zIHRydWUgaW4gc2hhZG93IGRvbSlcbmV4cG9ydCBjb25zdCBzZWxlY3Rpb25Db2xsYXBzZWQgPSBmdW5jdGlvbihkb21TZWwpIHtcbiAgbGV0IGNvbGxhcHNlZCA9IGRvbVNlbC5pc0NvbGxhcHNlZFxuICBpZiAoY29sbGFwc2VkICYmIGJyb3dzZXIuY2hyb21lICYmIGRvbVNlbC5yYW5nZUNvdW50ICYmICFkb21TZWwuZ2V0UmFuZ2VBdCgwKS5jb2xsYXBzZWQpXG4gICAgY29sbGFwc2VkID0gZmFsc2VcbiAgcmV0dXJuIGNvbGxhcHNlZFxufVxuXG5leHBvcnQgZnVuY3Rpb24ga2V5RXZlbnQoa2V5Q29kZSwga2V5KSB7XG4gIGxldCBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIilcbiAgZXZlbnQuaW5pdEV2ZW50KFwia2V5ZG93blwiLCB0cnVlLCB0cnVlKVxuICBldmVudC5rZXlDb2RlID0ga2V5Q29kZVxuICBldmVudC5rZXkgPSBldmVudC5jb2RlID0ga2V5XG4gIHJldHVybiBldmVudFxufVxuIiwiaW1wb3J0IHtub2RlU2l6ZSwgdGV4dFJhbmdlLCBwYXJlbnROb2RlfSBmcm9tIFwiLi9kb21cIlxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5cbmZ1bmN0aW9uIHdpbmRvd1JlY3Qod2luKSB7XG4gIHJldHVybiB7bGVmdDogMCwgcmlnaHQ6IHdpbi5pbm5lcldpZHRoLFxuICAgICAgICAgIHRvcDogMCwgYm90dG9tOiB3aW4uaW5uZXJIZWlnaHR9XG59XG5cbmZ1bmN0aW9uIGdldFNpZGUodmFsdWUsIHNpZGUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiID8gdmFsdWUgOiB2YWx1ZVtzaWRlXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2Nyb2xsUmVjdEludG9WaWV3KHZpZXcsIHJlY3QsIHN0YXJ0RE9NKSB7XG4gIGxldCBzY3JvbGxUaHJlc2hvbGQgPSB2aWV3LnNvbWVQcm9wKFwic2Nyb2xsVGhyZXNob2xkXCIpIHx8IDAsIHNjcm9sbE1hcmdpbiA9IHZpZXcuc29tZVByb3AoXCJzY3JvbGxNYXJnaW5cIikgfHwgNVxuICBsZXQgZG9jID0gdmlldy5kb20ub3duZXJEb2N1bWVudCwgd2luID0gZG9jLmRlZmF1bHRWaWV3XG4gIGZvciAobGV0IHBhcmVudCA9IHN0YXJ0RE9NIHx8IHZpZXcuZG9tOzsgcGFyZW50ID0gcGFyZW50Tm9kZShwYXJlbnQpKSB7XG4gICAgaWYgKCFwYXJlbnQpIGJyZWFrXG4gICAgaWYgKHBhcmVudC5ub2RlVHlwZSAhPSAxKSBjb250aW51ZVxuICAgIGxldCBhdFRvcCA9IHBhcmVudCA9PSBkb2MuYm9keSB8fCBwYXJlbnQubm9kZVR5cGUgIT0gMVxuICAgIGxldCBib3VuZGluZyA9IGF0VG9wID8gd2luZG93UmVjdCh3aW4pIDogcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgbGV0IG1vdmVYID0gMCwgbW92ZVkgPSAwXG4gICAgaWYgKHJlY3QudG9wIDwgYm91bmRpbmcudG9wICsgZ2V0U2lkZShzY3JvbGxUaHJlc2hvbGQsIFwidG9wXCIpKVxuICAgICAgbW92ZVkgPSAtKGJvdW5kaW5nLnRvcCAtIHJlY3QudG9wICsgZ2V0U2lkZShzY3JvbGxNYXJnaW4sIFwidG9wXCIpKVxuICAgIGVsc2UgaWYgKHJlY3QuYm90dG9tID4gYm91bmRpbmcuYm90dG9tIC0gZ2V0U2lkZShzY3JvbGxUaHJlc2hvbGQsIFwiYm90dG9tXCIpKVxuICAgICAgbW92ZVkgPSByZWN0LmJvdHRvbSAtIGJvdW5kaW5nLmJvdHRvbSArIGdldFNpZGUoc2Nyb2xsTWFyZ2luLCBcImJvdHRvbVwiKVxuICAgIGlmIChyZWN0LmxlZnQgPCBib3VuZGluZy5sZWZ0ICsgZ2V0U2lkZShzY3JvbGxUaHJlc2hvbGQsIFwibGVmdFwiKSlcbiAgICAgIG1vdmVYID0gLShib3VuZGluZy5sZWZ0IC0gcmVjdC5sZWZ0ICsgZ2V0U2lkZShzY3JvbGxNYXJnaW4sIFwibGVmdFwiKSlcbiAgICBlbHNlIGlmIChyZWN0LnJpZ2h0ID4gYm91bmRpbmcucmlnaHQgLSBnZXRTaWRlKHNjcm9sbFRocmVzaG9sZCwgXCJyaWdodFwiKSlcbiAgICAgIG1vdmVYID0gcmVjdC5yaWdodCAtIGJvdW5kaW5nLnJpZ2h0ICsgZ2V0U2lkZShzY3JvbGxNYXJnaW4sIFwicmlnaHRcIilcbiAgICBpZiAobW92ZVggfHwgbW92ZVkpIHtcbiAgICAgIGlmIChhdFRvcCkge1xuICAgICAgICB3aW4uc2Nyb2xsQnkobW92ZVgsIG1vdmVZKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1vdmVZKSBwYXJlbnQuc2Nyb2xsVG9wICs9IG1vdmVZXG4gICAgICAgIGlmIChtb3ZlWCkgcGFyZW50LnNjcm9sbExlZnQgKz0gbW92ZVhcbiAgICAgICAgcmVjdCA9IHtsZWZ0OiByZWN0LmxlZnQgLSBtb3ZlWCwgdG9wOiByZWN0LnRvcCAtIG1vdmVZLCByaWdodDogcmVjdC5yaWdodCAtIG1vdmVYLCBib3R0b206IHJlY3QuYm90dG9tIC0gbW92ZVl9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhdFRvcCkgYnJlYWtcbiAgfVxufVxuXG4vLyBTdG9yZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIG9mIHRoZSBlZGl0b3IncyBwYXJlbnQgbm9kZXMsIGFsb25nIHdpdGhcbi8vIHRoZSB0b3AgcG9zaXRpb24gb2YgYW4gZWxlbWVudCBuZWFyIHRoZSB0b3Agb2YgdGhlIGVkaXRvciwgd2hpY2hcbi8vIHdpbGwgYmUgdXNlZCB0byBtYWtlIHN1cmUgdGhlIHZpc2libGUgdmlld3BvcnQgcmVtYWlucyBzdGFibGUgZXZlblxuLy8gd2hlbiB0aGUgc2l6ZSBvZiB0aGUgY29udGVudCBhYm92ZSBjaGFuZ2VzLlxuZXhwb3J0IGZ1bmN0aW9uIHN0b3JlU2Nyb2xsUG9zKHZpZXcpIHtcbiAgbGV0IHJlY3QgPSB2aWV3LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgc3RhcnRZID0gTWF0aC5tYXgoMCwgcmVjdC50b3ApXG4gIGxldCByZWZET00sIHJlZlRvcFxuICBmb3IgKGxldCB4ID0gKHJlY3QubGVmdCArIHJlY3QucmlnaHQpIC8gMiwgeSA9IHN0YXJ0WSArIDE7XG4gICAgICAgeSA8IE1hdGgubWluKGlubmVySGVpZ2h0LCByZWN0LmJvdHRvbSk7IHkgKz0gNSkge1xuICAgIGxldCBkb20gPSB2aWV3LnJvb3QuZWxlbWVudEZyb21Qb2ludCh4LCB5KVxuICAgIGlmIChkb20gPT0gdmlldy5kb20gfHwgIXZpZXcuZG9tLmNvbnRhaW5zKGRvbSkpIGNvbnRpbnVlXG4gICAgbGV0IGxvY2FsUmVjdCA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGlmIChsb2NhbFJlY3QudG9wID49IHN0YXJ0WSAtIDIwKSB7XG4gICAgICByZWZET00gPSBkb21cbiAgICAgIHJlZlRvcCA9IGxvY2FsUmVjdC50b3BcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIHJldHVybiB7cmVmRE9NLCByZWZUb3AsIHN0YWNrOiBzY3JvbGxTdGFjayh2aWV3LmRvbSl9XG59XG5cbmZ1bmN0aW9uIHNjcm9sbFN0YWNrKGRvbSkge1xuICBsZXQgc3RhY2sgPSBbXSwgZG9jID0gZG9tLm93bmVyRG9jdW1lbnRcbiAgZm9yICg7IGRvbTsgZG9tID0gcGFyZW50Tm9kZShkb20pKSB7XG4gICAgc3RhY2sucHVzaCh7ZG9tLCB0b3A6IGRvbS5zY3JvbGxUb3AsIGxlZnQ6IGRvbS5zY3JvbGxMZWZ0fSlcbiAgICBpZiAoZG9tID09IGRvYykgYnJlYWtcbiAgfVxuICByZXR1cm4gc3RhY2tcbn1cblxuLy8gUmVzZXQgdGhlIHNjcm9sbCBwb3NpdGlvbiBvZiB0aGUgZWRpdG9yJ3MgcGFyZW50IG5vZGVzIHRvIHRoYXQgd2hhdFxuLy8gaXQgd2FzIGJlZm9yZSwgd2hlbiBzdG9yZVNjcm9sbFBvcyB3YXMgY2FsbGVkLlxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0U2Nyb2xsUG9zKHtyZWZET00sIHJlZlRvcCwgc3RhY2t9KSB7XG4gIGxldCBuZXdSZWZUb3AgPSByZWZET00gPyByZWZET00uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIDogMFxuICByZXN0b3JlU2Nyb2xsU3RhY2soc3RhY2ssIG5ld1JlZlRvcCA9PSAwID8gMCA6IG5ld1JlZlRvcCAtIHJlZlRvcClcbn1cblxuZnVuY3Rpb24gcmVzdG9yZVNjcm9sbFN0YWNrKHN0YWNrLCBkVG9wKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICBsZXQge2RvbSwgdG9wLCBsZWZ0fSA9IHN0YWNrW2ldXG4gICAgaWYgKGRvbS5zY3JvbGxUb3AgIT0gdG9wICsgZFRvcCkgZG9tLnNjcm9sbFRvcCA9IHRvcCArIGRUb3BcbiAgICBpZiAoZG9tLnNjcm9sbExlZnQgIT0gbGVmdCkgZG9tLnNjcm9sbExlZnQgPSBsZWZ0XG4gIH1cbn1cblxubGV0IHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPSBudWxsXG4vLyBGZWF0dXJlLWRldGVjdHMgc3VwcG9ydCBmb3IgLmZvY3VzKHtwcmV2ZW50U2Nyb2xsOiB0cnVlfSksIGFuZCB1c2VzXG4vLyBhIGZhbGxiYWNrIGtsdWRnZSB3aGVuIG5vdCBzdXBwb3J0ZWQuXG5leHBvcnQgZnVuY3Rpb24gZm9jdXNQcmV2ZW50U2Nyb2xsKGRvbSkge1xuICBpZiAoZG9tLnNldEFjdGl2ZSkgcmV0dXJuIGRvbS5zZXRBY3RpdmUoKSAvLyBpbiBJRVxuICBpZiAocHJldmVudFNjcm9sbFN1cHBvcnRlZCkgcmV0dXJuIGRvbS5mb2N1cyhwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkKVxuXG4gIGxldCBzdG9yZWQgPSBzY3JvbGxTdGFjayhkb20pXG4gIGRvbS5mb2N1cyhwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkID09IG51bGwgPyB7XG4gICAgZ2V0IHByZXZlbnRTY3JvbGwoKSB7XG4gICAgICBwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkID0ge3ByZXZlbnRTY3JvbGw6IHRydWV9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfSA6IHVuZGVmaW5lZClcbiAgaWYgKCFwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkKSB7XG4gICAgcHJldmVudFNjcm9sbFN1cHBvcnRlZCA9IGZhbHNlXG4gICAgcmVzdG9yZVNjcm9sbFN0YWNrKHN0b3JlZCwgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kT2Zmc2V0SW5Ob2RlKG5vZGUsIGNvb3Jkcykge1xuICBsZXQgY2xvc2VzdCwgZHhDbG9zZXN0ID0gMmU4LCBjb29yZHNDbG9zZXN0LCBvZmZzZXQgPSAwXG4gIGxldCByb3dCb3QgPSBjb29yZHMudG9wLCByb3dUb3AgPSBjb29yZHMudG9wXG4gIGZvciAobGV0IGNoaWxkID0gbm9kZS5maXJzdENoaWxkLCBjaGlsZEluZGV4ID0gMDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcsIGNoaWxkSW5kZXgrKykge1xuICAgIGxldCByZWN0c1xuICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAxKSByZWN0cyA9IGNoaWxkLmdldENsaWVudFJlY3RzKClcbiAgICBlbHNlIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAzKSByZWN0cyA9IHRleHRSYW5nZShjaGlsZCkuZ2V0Q2xpZW50UmVjdHMoKVxuICAgIGVsc2UgY29udGludWVcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCByZWN0ID0gcmVjdHNbaV1cbiAgICAgIGlmIChyZWN0LnRvcCA8PSByb3dCb3QgJiYgcmVjdC5ib3R0b20gPj0gcm93VG9wKSB7XG4gICAgICAgIHJvd0JvdCA9IE1hdGgubWF4KHJlY3QuYm90dG9tLCByb3dCb3QpXG4gICAgICAgIHJvd1RvcCA9IE1hdGgubWluKHJlY3QudG9wLCByb3dUb3ApXG4gICAgICAgIGxldCBkeCA9IHJlY3QubGVmdCA+IGNvb3Jkcy5sZWZ0ID8gcmVjdC5sZWZ0IC0gY29vcmRzLmxlZnRcbiAgICAgICAgICAgIDogcmVjdC5yaWdodCA8IGNvb3Jkcy5sZWZ0ID8gY29vcmRzLmxlZnQgLSByZWN0LnJpZ2h0IDogMFxuICAgICAgICBpZiAoZHggPCBkeENsb3Nlc3QpIHtcbiAgICAgICAgICBjbG9zZXN0ID0gY2hpbGRcbiAgICAgICAgICBkeENsb3Nlc3QgPSBkeFxuICAgICAgICAgIGNvb3Jkc0Nsb3Nlc3QgPSBkeCAmJiBjbG9zZXN0Lm5vZGVUeXBlID09IDMgPyB7bGVmdDogcmVjdC5yaWdodCA8IGNvb3Jkcy5sZWZ0ID8gcmVjdC5yaWdodCA6IHJlY3QubGVmdCwgdG9wOiBjb29yZHMudG9wfSA6IGNvb3Jkc1xuICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAxICYmIGR4KVxuICAgICAgICAgICAgb2Zmc2V0ID0gY2hpbGRJbmRleCArIChjb29yZHMubGVmdCA+PSAocmVjdC5sZWZ0ICsgcmVjdC5yaWdodCkgLyAyID8gMSA6IDApXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFjbG9zZXN0ICYmIChjb29yZHMubGVmdCA+PSByZWN0LnJpZ2h0ICYmIGNvb3Jkcy50b3AgPj0gcmVjdC50b3AgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgY29vcmRzLmxlZnQgPj0gcmVjdC5sZWZ0ICYmIGNvb3Jkcy50b3AgPj0gcmVjdC5ib3R0b20pKVxuICAgICAgICBvZmZzZXQgPSBjaGlsZEluZGV4ICsgMVxuICAgIH1cbiAgfVxuICBpZiAoY2xvc2VzdCAmJiBjbG9zZXN0Lm5vZGVUeXBlID09IDMpIHJldHVybiBmaW5kT2Zmc2V0SW5UZXh0KGNsb3Nlc3QsIGNvb3Jkc0Nsb3Nlc3QpXG4gIGlmICghY2xvc2VzdCB8fCAoZHhDbG9zZXN0ICYmIGNsb3Nlc3Qubm9kZVR5cGUgPT0gMSkpIHJldHVybiB7bm9kZSwgb2Zmc2V0fVxuICByZXR1cm4gZmluZE9mZnNldEluTm9kZShjbG9zZXN0LCBjb29yZHNDbG9zZXN0KVxufVxuXG5mdW5jdGlvbiBmaW5kT2Zmc2V0SW5UZXh0KG5vZGUsIGNvb3Jkcykge1xuICBsZXQgbGVuID0gbm9kZS5ub2RlVmFsdWUubGVuZ3RoXG4gIGxldCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKClcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHJhbmdlLnNldEVuZChub2RlLCBpICsgMSlcbiAgICByYW5nZS5zZXRTdGFydChub2RlLCBpKVxuICAgIGxldCByZWN0ID0gc2luZ2xlUmVjdChyYW5nZSwgMSlcbiAgICBpZiAocmVjdC50b3AgPT0gcmVjdC5ib3R0b20pIGNvbnRpbnVlXG4gICAgaWYgKGluUmVjdChjb29yZHMsIHJlY3QpKVxuICAgICAgcmV0dXJuIHtub2RlLCBvZmZzZXQ6IGkgKyAoY29vcmRzLmxlZnQgPj0gKHJlY3QubGVmdCArIHJlY3QucmlnaHQpIC8gMiA/IDEgOiAwKX1cbiAgfVxuICByZXR1cm4ge25vZGUsIG9mZnNldDogMH1cbn1cblxuZnVuY3Rpb24gaW5SZWN0KGNvb3JkcywgcmVjdCkge1xuICByZXR1cm4gY29vcmRzLmxlZnQgPj0gcmVjdC5sZWZ0IC0gMSAmJiBjb29yZHMubGVmdCA8PSByZWN0LnJpZ2h0ICsgMSYmXG4gICAgY29vcmRzLnRvcCA+PSByZWN0LnRvcCAtIDEgJiYgY29vcmRzLnRvcCA8PSByZWN0LmJvdHRvbSArIDFcbn1cblxuZnVuY3Rpb24gdGFyZ2V0S2x1ZGdlKGRvbSwgY29vcmRzKSB7XG4gIGxldCBwYXJlbnQgPSBkb20ucGFyZW50Tm9kZVxuICBpZiAocGFyZW50ICYmIC9ebGkkL2kudGVzdChwYXJlbnQubm9kZU5hbWUpICYmIGNvb3Jkcy5sZWZ0IDwgZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpXG4gICAgcmV0dXJuIHBhcmVudFxuICByZXR1cm4gZG9tXG59XG5cbmZ1bmN0aW9uIHBvc0Zyb21FbGVtZW50KHZpZXcsIGVsdCwgY29vcmRzKSB7XG4gIGxldCB7bm9kZSwgb2Zmc2V0fSA9IGZpbmRPZmZzZXRJbk5vZGUoZWx0LCBjb29yZHMpLCBiaWFzID0gLTFcbiAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiAhbm9kZS5maXJzdENoaWxkKSB7XG4gICAgbGV0IHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgYmlhcyA9IHJlY3QubGVmdCAhPSByZWN0LnJpZ2h0ICYmIGNvb3Jkcy5sZWZ0ID4gKHJlY3QubGVmdCArIHJlY3QucmlnaHQpIC8gMiA/IDEgOiAtMVxuICB9XG4gIHJldHVybiB2aWV3LmRvY1ZpZXcucG9zRnJvbURPTShub2RlLCBvZmZzZXQsIGJpYXMpXG59XG5cbmZ1bmN0aW9uIHBvc0Zyb21DYXJldCh2aWV3LCBub2RlLCBvZmZzZXQsIGNvb3Jkcykge1xuICAvLyBCcm93c2VyIChpbiBjYXJldFBvc2l0aW9uL1JhbmdlRnJvbVBvaW50KSB3aWxsIGFncmVzc2l2ZWx5XG4gIC8vIG5vcm1hbGl6ZSB0b3dhcmRzIG5lYXJieSBpbmxpbmUgbm9kZXMuIFNpbmNlIHdlIGFyZSBpbnRlcmVzdGVkIGluXG4gIC8vIHBvc2l0aW9ucyBiZXR3ZWVuIGJsb2NrIG5vZGVzIHRvbywgd2UgZmlyc3Qgd2FsayB1cCB0aGUgaGllcmFyY2h5XG4gIC8vIG9mIG5vZGVzIHRvIHNlZSBpZiB0aGVyZSBhcmUgYmxvY2sgbm9kZXMgdGhhdCB0aGUgY29vcmRpbmF0ZXNcbiAgLy8gZmFsbCBvdXRzaWRlIG9mLiBJZiBzbywgd2UgdGFrZSB0aGUgcG9zaXRpb24gYmVmb3JlL2FmdGVyIHRoYXRcbiAgLy8gYmxvY2suIElmIG5vdCwgd2UgY2FsbCBgcG9zRnJvbURPTWAgb24gdGhlIHJhdyBub2RlL29mZnNldC5cbiAgbGV0IG91dHNpZGUgPSAtMVxuICBmb3IgKGxldCBjdXIgPSBub2RlOzspIHtcbiAgICBpZiAoY3VyID09IHZpZXcuZG9tKSBicmVha1xuICAgIGxldCBkZXNjID0gdmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGN1ciwgdHJ1ZSlcbiAgICBpZiAoIWRlc2MpIHJldHVybiBudWxsXG4gICAgaWYgKGRlc2Mubm9kZS5pc0Jsb2NrICYmIGRlc2MucGFyZW50KSB7XG4gICAgICBsZXQgcmVjdCA9IGRlc2MuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICBpZiAocmVjdC5sZWZ0ID4gY29vcmRzLmxlZnQgfHwgcmVjdC50b3AgPiBjb29yZHMudG9wKSBvdXRzaWRlID0gZGVzYy5wb3NCZWZvcmVcbiAgICAgIGVsc2UgaWYgKHJlY3QucmlnaHQgPCBjb29yZHMubGVmdCB8fCByZWN0LmJvdHRvbSA8IGNvb3Jkcy50b3ApIG91dHNpZGUgPSBkZXNjLnBvc0FmdGVyXG4gICAgICBlbHNlIGJyZWFrXG4gICAgfVxuICAgIGN1ciA9IGRlc2MuZG9tLnBhcmVudE5vZGVcbiAgfVxuICByZXR1cm4gb3V0c2lkZSA+IC0xID8gb3V0c2lkZSA6IHZpZXcuZG9jVmlldy5wb3NGcm9tRE9NKG5vZGUsIG9mZnNldClcbn1cblxuZnVuY3Rpb24gZWxlbWVudEZyb21Qb2ludChlbGVtZW50LCBjb29yZHMsIGJveCkge1xuICBsZXQgbGVuID0gZWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aFxuICBpZiAobGVuICYmIGJveC50b3AgPCBib3guYm90dG9tKSB7XG4gICAgZm9yIChsZXQgc3RhcnRJID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obGVuIC0gMSwgTWF0aC5mbG9vcihsZW4gKiAoY29vcmRzLnRvcCAtIGJveC50b3ApIC8gKGJveC5ib3R0b20gLSBib3gudG9wKSkgLSAyKSksIGkgPSBzdGFydEk7Oykge1xuICAgICAgbGV0IGNoaWxkID0gZWxlbWVudC5jaGlsZE5vZGVzW2ldXG4gICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICBsZXQgcmVjdHMgPSBjaGlsZC5nZXRDbGllbnRSZWN0cygpXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVjdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBsZXQgcmVjdCA9IHJlY3RzW2pdXG4gICAgICAgICAgaWYgKGluUmVjdChjb29yZHMsIHJlY3QpKSByZXR1cm4gZWxlbWVudEZyb21Qb2ludChjaGlsZCwgY29vcmRzLCByZWN0KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKGkgPSAoaSArIDEpICUgbGVuKSA9PSBzdGFydEkpIGJyZWFrXG4gICAgfVxuICB9XG4gIHJldHVybiBlbGVtZW50XG59XG5cbi8vIEdpdmVuIGFuIHgseSBwb3NpdGlvbiBvbiB0aGUgZWRpdG9yLCBnZXQgdGhlIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudC5cbmV4cG9ydCBmdW5jdGlvbiBwb3NBdENvb3Jkcyh2aWV3LCBjb29yZHMpIHtcbiAgbGV0IHJvb3QgPSB2aWV3LnJvb3QsIG5vZGUsIG9mZnNldFxuICBpZiAocm9vdC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KSB7XG4gICAgdHJ5IHsgLy8gRmlyZWZveCB0aHJvd3MgZm9yIHRoaXMgY2FsbCBpbiBoYXJkLXRvLXByZWRpY3QgY2lyY3Vtc3RhbmNlcyAoIzk5NClcbiAgICAgIGxldCBwb3MgPSByb290LmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoY29vcmRzLmxlZnQsIGNvb3Jkcy50b3ApXG4gICAgICBpZiAocG9zKSAoe29mZnNldE5vZGU6IG5vZGUsIG9mZnNldH0gPSBwb3MpXG4gICAgfSBjYXRjaCAoXykge31cbiAgfVxuICBpZiAoIW5vZGUgJiYgcm9vdC5jYXJldFJhbmdlRnJvbVBvaW50KSB7XG4gICAgbGV0IHJhbmdlID0gcm9vdC5jYXJldFJhbmdlRnJvbVBvaW50KGNvb3Jkcy5sZWZ0LCBjb29yZHMudG9wKVxuICAgIGlmIChyYW5nZSkgKHtzdGFydENvbnRhaW5lcjogbm9kZSwgc3RhcnRPZmZzZXQ6IG9mZnNldH0gPSByYW5nZSlcbiAgfVxuXG4gIGxldCBlbHQgPSByb290LmVsZW1lbnRGcm9tUG9pbnQoY29vcmRzLmxlZnQsIGNvb3Jkcy50b3AgKyAxKSwgcG9zXG4gIGlmICghZWx0IHx8ICF2aWV3LmRvbS5jb250YWlucyhlbHQubm9kZVR5cGUgIT0gMSA/IGVsdC5wYXJlbnROb2RlIDogZWx0KSkge1xuICAgIGxldCBib3ggPSB2aWV3LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGlmICghaW5SZWN0KGNvb3JkcywgYm94KSkgcmV0dXJuIG51bGxcbiAgICBlbHQgPSBlbGVtZW50RnJvbVBvaW50KHZpZXcuZG9tLCBjb29yZHMsIGJveClcbiAgICBpZiAoIWVsdCkgcmV0dXJuIG51bGxcbiAgfVxuICBlbHQgPSB0YXJnZXRLbHVkZ2UoZWx0LCBjb29yZHMpXG4gIGlmIChub2RlKSB7XG4gICAgaWYgKGJyb3dzZXIuZ2Vja28gJiYgbm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAvLyBGaXJlZm94IHdpbGwgc29tZXRpbWVzIHJldHVybiBvZmZzZXRzIGludG8gPGlucHV0PiBub2Rlcywgd2hpY2hcbiAgICAgIC8vIGhhdmUgbm8gYWN0dWFsIGNoaWxkcmVuLCBmcm9tIGNhcmV0UG9zaXRpb25Gcm9tUG9pbnQgKCM5NTMpXG4gICAgICBvZmZzZXQgPSBNYXRoLm1pbihvZmZzZXQsIG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpXG4gICAgICAvLyBJdCdsbCBhbHNvIG1vdmUgdGhlIHJldHVybmVkIHBvc2l0aW9uIGJlZm9yZSBpbWFnZSBub2RlcyxcbiAgICAgIC8vIGV2ZW4gaWYgdGhvc2UgYXJlIGJlaGluZCBpdC5cbiAgICAgIGlmIChvZmZzZXQgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgIGxldCBuZXh0ID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldF0sIGJveFxuICAgICAgICBpZiAobmV4dC5ub2RlTmFtZSA9PSBcIklNR1wiICYmIChib3ggPSBuZXh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKS5yaWdodCA8PSBjb29yZHMubGVmdCAmJlxuICAgICAgICAgICAgYm94LmJvdHRvbSA+IGNvb3Jkcy50b3ApXG4gICAgICAgICAgb2Zmc2V0KytcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gU3VzcGljaW91c2x5IHNwZWNpZmljIGtsdWRnZSB0byB3b3JrIGFyb3VuZCBjYXJldCpGcm9tUG9pbnRcbiAgICAvLyBuZXZlciByZXR1cm5pbmcgYSBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudFxuICAgIGlmIChub2RlID09IHZpZXcuZG9tICYmIG9mZnNldCA9PSBub2RlLmNoaWxkTm9kZXMubGVuZ3RoIC0gMSAmJiBub2RlLmxhc3RDaGlsZC5ub2RlVHlwZSA9PSAxICYmXG4gICAgICAgIGNvb3Jkcy50b3AgPiBub2RlLmxhc3RDaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20pXG4gICAgICBwb3MgPSB2aWV3LnN0YXRlLmRvYy5jb250ZW50LnNpemVcbiAgICAvLyBJZ25vcmUgcG9zaXRpb25zIGRpcmVjdGx5IGFmdGVyIGEgQlIsIHNpbmNlIGNhcmV0KkZyb21Qb2ludFxuICAgIC8vICdyb3VuZCB1cCcgcG9zaXRpb25zIHRoYXQgd291bGQgYmUgbW9yZSBhY2N1cmF0ZWx5IHBsYWNlZFxuICAgIC8vIGJlZm9yZSB0aGUgQlIgbm9kZS5cbiAgICBlbHNlIGlmIChvZmZzZXQgPT0gMCB8fCBub2RlLm5vZGVUeXBlICE9IDEgfHwgbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdLm5vZGVOYW1lICE9IFwiQlJcIilcbiAgICAgIHBvcyA9IHBvc0Zyb21DYXJldCh2aWV3LCBub2RlLCBvZmZzZXQsIGNvb3JkcylcbiAgfVxuICBpZiAocG9zID09IG51bGwpIHBvcyA9IHBvc0Zyb21FbGVtZW50KHZpZXcsIGVsdCwgY29vcmRzKVxuXG4gIGxldCBkZXNjID0gdmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGVsdCwgdHJ1ZSlcbiAgcmV0dXJuIHtwb3MsIGluc2lkZTogZGVzYyA/IGRlc2MucG9zQXRTdGFydCAtIGRlc2MuYm9yZGVyIDogLTF9XG59XG5cbmZ1bmN0aW9uIHNpbmdsZVJlY3Qob2JqZWN0LCBiaWFzKSB7XG4gIGxldCByZWN0cyA9IG9iamVjdC5nZXRDbGllbnRSZWN0cygpXG4gIHJldHVybiAhcmVjdHMubGVuZ3RoID8gb2JqZWN0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogcmVjdHNbYmlhcyA8IDAgPyAwIDogcmVjdHMubGVuZ3RoIC0gMV1cbn1cblxuLy8gOiAoRWRpdG9yVmlldywgbnVtYmVyKSDihpIge2xlZnQ6IG51bWJlciwgdG9wOiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyfVxuLy8gR2l2ZW4gYSBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQgbW9kZWwsIGdldCBhIGJvdW5kaW5nIGJveCBvZiB0aGVcbi8vIGNoYXJhY3RlciBhdCB0aGF0IHBvc2l0aW9uLCByZWxhdGl2ZSB0byB0aGUgd2luZG93LlxuZXhwb3J0IGZ1bmN0aW9uIGNvb3Jkc0F0UG9zKHZpZXcsIHBvcykge1xuICBsZXQge25vZGUsIG9mZnNldH0gPSB2aWV3LmRvY1ZpZXcuZG9tRnJvbVBvcyhwb3MpXG5cbiAgLy8gVGhlc2UgYnJvd3NlcnMgc3VwcG9ydCBxdWVyeWluZyBlbXB0eSB0ZXh0IHJhbmdlc1xuICBpZiAobm9kZS5ub2RlVHlwZSA9PSAzICYmIChicm93c2VyLmNocm9tZSB8fCBicm93c2VyLmdlY2tvKSkge1xuICAgIGxldCByZWN0ID0gc2luZ2xlUmVjdCh0ZXh0UmFuZ2Uobm9kZSwgb2Zmc2V0LCBvZmZzZXQpLCAwKVxuICAgIC8vIEZpcmVmb3ggcmV0dXJucyBiYWQgcmVzdWx0cyAodGhlIHBvc2l0aW9uIGJlZm9yZSB0aGUgc3BhY2UpXG4gICAgLy8gd2hlbiBxdWVyeWluZyBhIHBvc2l0aW9uIGRpcmVjdGx5IGFmdGVyIGxpbmUtYnJva2VuXG4gICAgLy8gd2hpdGVzcGFjZS4gRGV0ZWN0IHRoaXMgc2l0dWF0aW9uIGFuZCBhbmQga2x1ZGdlIGFyb3VuZCBpdFxuICAgIGlmIChicm93c2VyLmdlY2tvICYmIG9mZnNldCAmJiAvXFxzLy50ZXN0KG5vZGUubm9kZVZhbHVlW29mZnNldCAtIDFdKSAmJiBvZmZzZXQgPCBub2RlLm5vZGVWYWx1ZS5sZW5ndGgpIHtcbiAgICAgIGxldCByZWN0QmVmb3JlID0gc2luZ2xlUmVjdCh0ZXh0UmFuZ2Uobm9kZSwgb2Zmc2V0IC0gMSwgb2Zmc2V0IC0gMSksIC0xKVxuICAgICAgaWYgKE1hdGguYWJzKHJlY3RCZWZvcmUubGVmdCAtIHJlY3QubGVmdCkgPCAxICYmIHJlY3RCZWZvcmUudG9wID09IHJlY3QudG9wKSB7XG4gICAgICAgIGxldCByZWN0QWZ0ZXIgPSBzaW5nbGVSZWN0KHRleHRSYW5nZShub2RlLCBvZmZzZXQsIG9mZnNldCArIDEpLCAtMSlcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW5WKHJlY3RBZnRlciwgcmVjdEFmdGVyLmxlZnQgPCByZWN0QmVmb3JlLmxlZnQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZWN0XG4gIH1cblxuICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmICF2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKHBvcykucGFyZW50LmlubGluZUNvbnRlbnQpIHtcbiAgICAvLyBSZXR1cm4gYSBob3Jpem9udGFsIGxpbmUgaW4gYmxvY2sgY29udGV4dFxuICAgIGxldCB0b3AgPSB0cnVlLCByZWN0XG4gICAgaWYgKG9mZnNldCA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIGxldCBhZnRlciA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdXG4gICAgICBpZiAoYWZ0ZXIubm9kZVR5cGUgPT0gMSkgcmVjdCA9IGFmdGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgfVxuICAgIGlmICghcmVjdCAmJiBvZmZzZXQpIHtcbiAgICAgIGxldCBiZWZvcmUgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV1cbiAgICAgIGlmIChiZWZvcmUubm9kZVR5cGUgPT0gMSkgeyByZWN0ID0gYmVmb3JlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyB0b3AgPSBmYWxzZSB9XG4gICAgfVxuICAgIHJldHVybiBmbGF0dGVuSChyZWN0IHx8IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHRvcClcbiAgfVxuXG4gIC8vIE5vdCBGaXJlZm94L0Nocm9tZSwgb3Igbm90IGluIGEgdGV4dCBub2RlLCBzbyB3ZSBoYXZlIHRvIHVzZVxuICAvLyBhY3R1YWwgZWxlbWVudC9jaGFyYWN0ZXIgcmVjdGFuZ2xlcyB0byBnZXQgYSBzb2x1dGlvbiAodGhpcyBwYXJ0XG4gIC8vIGlzIG5vdCB2ZXJ5IGJpZGktc2FmZSlcbiAgLy9cbiAgLy8gVHJ5IHRoZSBsZWZ0IHNpZGUgZmlyc3QsIGZhbGwgYmFjayB0byB0aGUgcmlnaHQgb25lIGlmIHRoYXRcbiAgLy8gZG9lc24ndCB3b3JrLlxuICBmb3IgKGxldCBkaXIgPSAtMTsgZGlyIDwgMjsgZGlyICs9IDIpIHtcbiAgICBpZiAoZGlyIDwgMCAmJiBvZmZzZXQpIHtcbiAgICAgIGxldCBwcmV2LCB0YXJnZXQgPSBub2RlLm5vZGVUeXBlID09IDMgPyB0ZXh0UmFuZ2Uobm9kZSwgb2Zmc2V0IC0gMSwgb2Zmc2V0KVxuICAgICAgICAgIDogKHByZXYgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV0pLm5vZGVUeXBlID09IDMgPyB0ZXh0UmFuZ2UocHJldilcbiAgICAgICAgICA6IHByZXYubm9kZVR5cGUgPT0gMSAmJiBwcmV2Lm5vZGVOYW1lICE9IFwiQlJcIiA/IHByZXYgOiBudWxsIC8vIEJSIG5vZGVzIHRlbmQgdG8gb25seSByZXR1cm4gdGhlIHJlY3RhbmdsZSBiZWZvcmUgdGhlbVxuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBsZXQgcmVjdCA9IHNpbmdsZVJlY3QodGFyZ2V0LCAxKVxuICAgICAgICBpZiAocmVjdC50b3AgPCByZWN0LmJvdHRvbSkgcmV0dXJuIGZsYXR0ZW5WKHJlY3QsIGZhbHNlKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGlyID4gMCAmJiBvZmZzZXQgPCBub2RlU2l6ZShub2RlKSkge1xuICAgICAgbGV0IG5leHQsIHRhcmdldCA9IG5vZGUubm9kZVR5cGUgPT0gMyA/IHRleHRSYW5nZShub2RlLCBvZmZzZXQsIG9mZnNldCArIDEpXG4gICAgICAgICAgOiAobmV4dCA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdKS5ub2RlVHlwZSA9PSAzID8gdGV4dFJhbmdlKG5leHQpXG4gICAgICAgICAgOiBuZXh0Lm5vZGVUeXBlID09IDEgPyBuZXh0IDogbnVsbFxuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBsZXQgcmVjdCA9IHNpbmdsZVJlY3QodGFyZ2V0LCAtMSlcbiAgICAgICAgaWYgKHJlY3QudG9wIDwgcmVjdC5ib3R0b20pIHJldHVybiBmbGF0dGVuVihyZWN0LCB0cnVlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBBbGwgZWxzZSBmYWlsZWQsIGp1c3QgdHJ5IHRvIGdldCBhIHJlY3RhbmdsZSBmb3IgdGhlIHRhcmdldCBub2RlXG4gIHJldHVybiBmbGF0dGVuVihzaW5nbGVSZWN0KG5vZGUubm9kZVR5cGUgPT0gMyA/IHRleHRSYW5nZShub2RlKSA6IG5vZGUsIDApLCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gZmxhdHRlblYocmVjdCwgbGVmdCkge1xuICBpZiAocmVjdC53aWR0aCA9PSAwKSByZXR1cm4gcmVjdFxuICBsZXQgeCA9IGxlZnQgPyByZWN0LmxlZnQgOiByZWN0LnJpZ2h0XG4gIHJldHVybiB7dG9wOiByZWN0LnRvcCwgYm90dG9tOiByZWN0LmJvdHRvbSwgbGVmdDogeCwgcmlnaHQ6IHh9XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5IKHJlY3QsIHRvcCkge1xuICBpZiAocmVjdC5oZWlnaHQgPT0gMCkgcmV0dXJuIHJlY3RcbiAgbGV0IHkgPSB0b3AgPyByZWN0LnRvcCA6IHJlY3QuYm90dG9tXG4gIHJldHVybiB7dG9wOiB5LCBib3R0b206IHksIGxlZnQ6IHJlY3QubGVmdCwgcmlnaHQ6IHJlY3QucmlnaHR9XG59XG5cbmZ1bmN0aW9uIHdpdGhGbHVzaGVkU3RhdGUodmlldywgc3RhdGUsIGYpIHtcbiAgbGV0IHZpZXdTdGF0ZSA9IHZpZXcuc3RhdGUsIGFjdGl2ZSA9IHZpZXcucm9vdC5hY3RpdmVFbGVtZW50XG4gIGlmICh2aWV3U3RhdGUgIT0gc3RhdGUpIHZpZXcudXBkYXRlU3RhdGUoc3RhdGUpXG4gIGlmIChhY3RpdmUgIT0gdmlldy5kb20pIHZpZXcuZm9jdXMoKVxuICB0cnkge1xuICAgIHJldHVybiBmKClcbiAgfSBmaW5hbGx5IHtcbiAgICBpZiAodmlld1N0YXRlICE9IHN0YXRlKSB2aWV3LnVwZGF0ZVN0YXRlKHZpZXdTdGF0ZSlcbiAgICBpZiAoYWN0aXZlICE9IHZpZXcuZG9tKSBhY3RpdmUuZm9jdXMoKVxuICB9XG59XG5cbi8vIDogKEVkaXRvclZpZXcsIG51bWJlciwgbnVtYmVyKVxuLy8gV2hldGhlciB2ZXJ0aWNhbCBwb3NpdGlvbiBtb3Rpb24gaW4gYSBnaXZlbiBkaXJlY3Rpb25cbi8vIGZyb20gYSBwb3NpdGlvbiB3b3VsZCBsZWF2ZSBhIHRleHQgYmxvY2suXG5mdW5jdGlvbiBlbmRPZlRleHRibG9ja1ZlcnRpY2FsKHZpZXcsIHN0YXRlLCBkaXIpIHtcbiAgbGV0IHNlbCA9IHN0YXRlLnNlbGVjdGlvblxuICBsZXQgJHBvcyA9IGRpciA9PSBcInVwXCIgPyBzZWwuJGFuY2hvci5taW4oc2VsLiRoZWFkKSA6IHNlbC4kYW5jaG9yLm1heChzZWwuJGhlYWQpXG4gIHJldHVybiB3aXRoRmx1c2hlZFN0YXRlKHZpZXcsIHN0YXRlLCAoKSA9PiB7XG4gICAgbGV0IHtub2RlOiBkb219ID0gdmlldy5kb2NWaWV3LmRvbUZyb21Qb3MoJHBvcy5wb3MpXG4gICAgZm9yICg7Oykge1xuICAgICAgbGV0IG5lYXJlc3QgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MoZG9tLCB0cnVlKVxuICAgICAgaWYgKCFuZWFyZXN0KSBicmVha1xuICAgICAgaWYgKG5lYXJlc3Qubm9kZS5pc0Jsb2NrKSB7IGRvbSA9IG5lYXJlc3QuZG9tOyBicmVhayB9XG4gICAgICBkb20gPSBuZWFyZXN0LmRvbS5wYXJlbnROb2RlXG4gICAgfVxuICAgIGxldCBjb29yZHMgPSBjb29yZHNBdFBvcyh2aWV3LCAkcG9zLnBvcylcbiAgICBmb3IgKGxldCBjaGlsZCA9IGRvbS5maXJzdENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgICAgbGV0IGJveGVzXG4gICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMSkgYm94ZXMgPSBjaGlsZC5nZXRDbGllbnRSZWN0cygpXG4gICAgICBlbHNlIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAzKSBib3hlcyA9IHRleHRSYW5nZShjaGlsZCwgMCwgY2hpbGQubm9kZVZhbHVlLmxlbmd0aCkuZ2V0Q2xpZW50UmVjdHMoKVxuICAgICAgZWxzZSBjb250aW51ZVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgYm94ID0gYm94ZXNbaV1cbiAgICAgICAgaWYgKGJveC5ib3R0b20gPiBib3gudG9wICYmIChkaXIgPT0gXCJ1cFwiID8gYm94LmJvdHRvbSA8IGNvb3Jkcy50b3AgKyAxIDogYm94LnRvcCA+IGNvb3Jkcy5ib3R0b20gLSAxKSlcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfSlcbn1cblxuY29uc3QgbWF5YmVSVEwgPSAvW1xcdTA1OTAtXFx1MDhhY10vXG5cbmZ1bmN0aW9uIGVuZE9mVGV4dGJsb2NrSG9yaXpvbnRhbCh2aWV3LCBzdGF0ZSwgZGlyKSB7XG4gIGxldCB7JGhlYWR9ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGlmICghJGhlYWQucGFyZW50LmlzVGV4dGJsb2NrKSByZXR1cm4gZmFsc2VcbiAgbGV0IG9mZnNldCA9ICRoZWFkLnBhcmVudE9mZnNldCwgYXRTdGFydCA9ICFvZmZzZXQsIGF0RW5kID0gb2Zmc2V0ID09ICRoZWFkLnBhcmVudC5jb250ZW50LnNpemVcbiAgbGV0IHNlbCA9IGdldFNlbGVjdGlvbigpXG4gIC8vIElmIHRoZSB0ZXh0YmxvY2sgaXMgYWxsIExUUiwgb3IgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0XG4gIC8vIFNlbGVjdGlvbi5tb2RpZnkgKEVkZ2UpLCBmYWxsIGJhY2sgdG8gYSBwcmltaXRpdmUgYXBwcm9hY2hcbiAgaWYgKCFtYXliZVJUTC50ZXN0KCRoZWFkLnBhcmVudC50ZXh0Q29udGVudCkgfHwgIXNlbC5tb2RpZnkpXG4gICAgcmV0dXJuIGRpciA9PSBcImxlZnRcIiB8fCBkaXIgPT0gXCJiYWNrd2FyZFwiID8gYXRTdGFydCA6IGF0RW5kXG5cbiAgcmV0dXJuIHdpdGhGbHVzaGVkU3RhdGUodmlldywgc3RhdGUsICgpID0+IHtcbiAgICAvLyBUaGlzIGlzIGEgaHVnZSBoYWNrLCBidXQgYXBwZWFycyB0byBiZSB0aGUgYmVzdCB3ZSBjYW5cbiAgICAvLyBjdXJyZW50bHkgZG86IHVzZSBgU2VsZWN0aW9uLm1vZGlmeWAgdG8gbW92ZSB0aGUgc2VsZWN0aW9uIGJ5XG4gICAgLy8gb25lIGNoYXJhY3RlciwgYW5kIHNlZSBpZiB0aGF0IG1vdmVzIHRoZSBjdXJzb3Igb3V0IG9mIHRoZVxuICAgIC8vIHRleHRibG9jayAob3IgZG9lc24ndCBtb3ZlIGl0IGF0IGFsbCwgd2hlbiBhdCB0aGUgc3RhcnQvZW5kIG9mXG4gICAgLy8gdGhlIGRvY3VtZW50KS5cbiAgICBsZXQgb2xkUmFuZ2UgPSBzZWwuZ2V0UmFuZ2VBdCgwKSwgb2xkTm9kZSA9IHNlbC5mb2N1c05vZGUsIG9sZE9mZiA9IHNlbC5mb2N1c09mZnNldFxuICAgIGxldCBvbGRCaWRpTGV2ZWwgPSBzZWwuY2FyZXRCaWRpTGV2ZWwgLy8gT25seSBmb3IgRmlyZWZveFxuICAgIHNlbC5tb2RpZnkoXCJtb3ZlXCIsIGRpciwgXCJjaGFyYWN0ZXJcIilcbiAgICBsZXQgcGFyZW50RE9NID0gJGhlYWQuZGVwdGggPyB2aWV3LmRvY1ZpZXcuZG9tQWZ0ZXJQb3MoJGhlYWQuYmVmb3JlKCkpIDogdmlldy5kb21cbiAgICBsZXQgcmVzdWx0ID0gIXBhcmVudERPTS5jb250YWlucyhzZWwuZm9jdXNOb2RlLm5vZGVUeXBlID09IDEgPyBzZWwuZm9jdXNOb2RlIDogc2VsLmZvY3VzTm9kZS5wYXJlbnROb2RlKSB8fFxuICAgICAgICAob2xkTm9kZSA9PSBzZWwuZm9jdXNOb2RlICYmIG9sZE9mZiA9PSBzZWwuZm9jdXNPZmZzZXQpXG4gICAgLy8gUmVzdG9yZSB0aGUgcHJldmlvdXMgc2VsZWN0aW9uXG4gICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpXG4gICAgc2VsLmFkZFJhbmdlKG9sZFJhbmdlKVxuICAgIGlmIChvbGRCaWRpTGV2ZWwgIT0gbnVsbCkgc2VsLmNhcmV0QmlkaUxldmVsID0gb2xkQmlkaUxldmVsXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9KVxufVxuXG5sZXQgY2FjaGVkU3RhdGUgPSBudWxsLCBjYWNoZWREaXIgPSBudWxsLCBjYWNoZWRSZXN1bHQgPSBmYWxzZVxuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mVGV4dGJsb2NrKHZpZXcsIHN0YXRlLCBkaXIpIHtcbiAgaWYgKGNhY2hlZFN0YXRlID09IHN0YXRlICYmIGNhY2hlZERpciA9PSBkaXIpIHJldHVybiBjYWNoZWRSZXN1bHRcbiAgY2FjaGVkU3RhdGUgPSBzdGF0ZTsgY2FjaGVkRGlyID0gZGlyXG4gIHJldHVybiBjYWNoZWRSZXN1bHQgPSBkaXIgPT0gXCJ1cFwiIHx8IGRpciA9PSBcImRvd25cIlxuICAgID8gZW5kT2ZUZXh0YmxvY2tWZXJ0aWNhbCh2aWV3LCBzdGF0ZSwgZGlyKVxuICAgIDogZW5kT2ZUZXh0YmxvY2tIb3Jpem9udGFsKHZpZXcsIHN0YXRlLCBkaXIpXG59XG4iLCJpbXBvcnQge0RPTVNlcmlhbGl6ZXIsIEZyYWdtZW50LCBNYXJrfSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuaW1wb3J0IHtUZXh0U2VsZWN0aW9ufSBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIlxuXG5pbXBvcnQge2RvbUluZGV4LCBpc0VxdWl2YWxlbnRQb3NpdGlvbiwgbm9kZVNpemV9IGZyb20gXCIuL2RvbVwiXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwiLi9icm93c2VyXCJcblxuLy8gTm9kZVZpZXc6OiBpbnRlcmZhY2Vcbi8vXG4vLyBCeSBkZWZhdWx0LCBkb2N1bWVudCBub2RlcyBhcmUgcmVuZGVyZWQgdXNpbmcgdGhlIHJlc3VsdCBvZiB0aGVcbi8vIFtgdG9ET01gXSgjbW9kZWwuTm9kZVNwZWMudG9ET00pIG1ldGhvZCBvZiB0aGVpciBzcGVjLCBhbmQgbWFuYWdlZFxuLy8gZW50aXJlbHkgYnkgdGhlIGVkaXRvci4gRm9yIHNvbWUgdXNlIGNhc2VzLCBzdWNoIGFzIGVtYmVkZGVkXG4vLyBub2RlLXNwZWNpZmljIGVkaXRpbmcgaW50ZXJmYWNlcywgeW91IHdhbnQgbW9yZSBjb250cm9sIG92ZXJcbi8vIHRoZSBiZWhhdmlvciBvZiBhIG5vZGUncyBpbi1lZGl0b3IgcmVwcmVzZW50YXRpb24sIGFuZCBuZWVkIHRvXG4vLyBbZGVmaW5lXSgjdmlldy5FZGl0b3JQcm9wcy5ub2RlVmlld3MpIGEgY3VzdG9tIG5vZGUgdmlldy5cbi8vXG4vLyBPYmplY3RzIHJldHVybmVkIGFzIG5vZGUgdmlld3MgbXVzdCBjb25mb3JtIHRvIHRoaXMgaW50ZXJmYWNlLlxuLy9cbi8vICAgZG9tOjogP2RvbS5Ob2RlXG4vLyAgIFRoZSBvdXRlciBET00gbm9kZSB0aGF0IHJlcHJlc2VudHMgdGhlIGRvY3VtZW50IG5vZGUuIFdoZW4gbm90XG4vLyAgIGdpdmVuLCB0aGUgZGVmYXVsdCBzdHJhdGVneSBpcyB1c2VkIHRvIGNyZWF0ZSBhIERPTSBub2RlLlxuLy9cbi8vICAgY29udGVudERPTTo6ID9kb20uTm9kZVxuLy8gICBUaGUgRE9NIG5vZGUgdGhhdCBzaG91bGQgaG9sZCB0aGUgbm9kZSdzIGNvbnRlbnQuIE9ubHkgbWVhbmluZ2Z1bFxuLy8gICBpZiB0aGUgbm9kZSB2aWV3IGFsc28gZGVmaW5lcyBhIGBkb21gIHByb3BlcnR5IGFuZCBpZiBpdHMgbm9kZVxuLy8gICB0eXBlIGlzIG5vdCBhIGxlYWYgbm9kZSB0eXBlLiBXaGVuIHRoaXMgaXMgcHJlc2VudCwgUHJvc2VNaXJyb3Jcbi8vICAgd2lsbCB0YWtlIGNhcmUgb2YgcmVuZGVyaW5nIHRoZSBub2RlJ3MgY2hpbGRyZW4gaW50byBpdC4gV2hlbiBpdFxuLy8gICBpcyBub3QgcHJlc2VudCwgdGhlIG5vZGUgdmlldyBpdHNlbGYgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZ1xuLy8gICAob3IgZGVjaWRpbmcgbm90IHRvIHJlbmRlcikgaXRzIGNoaWxkIG5vZGVzLlxuLy9cbi8vICAgdXBkYXRlOjogPyhub2RlOiBOb2RlLCBkZWNvcmF0aW9uczogW0RlY29yYXRpb25dKSDihpIgYm9vbFxuLy8gICBXaGVuIGdpdmVuLCB0aGlzIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIHZpZXcgaXMgdXBkYXRpbmcgaXRzZWxmLlxuLy8gICBJdCB3aWxsIGJlIGdpdmVuIGEgbm9kZSAocG9zc2libHkgb2YgYSBkaWZmZXJlbnQgdHlwZSksIGFuZCBhblxuLy8gICBhcnJheSBvZiBhY3RpdmUgZGVjb3JhdGlvbnMgKHdoaWNoIGFyZSBhdXRvbWF0aWNhbGx5IGRyYXduLCBhbmRcbi8vICAgdGhlIG5vZGUgdmlldyBtYXkgaWdub3JlIGlmIGl0IGlzbid0IGludGVyZXN0ZWQgaW4gdGhlbSksIGFuZFxuLy8gICBzaG91bGQgcmV0dXJuIHRydWUgaWYgaXQgd2FzIGFibGUgdG8gdXBkYXRlIHRvIHRoYXQgbm9kZSwgYW5kXG4vLyAgIGZhbHNlIG90aGVyd2lzZS4gSWYgdGhlIG5vZGUgdmlldyBoYXMgYSBgY29udGVudERPTWAgcHJvcGVydHkgKG9yXG4vLyAgIG5vIGBkb21gIHByb3BlcnR5KSwgdXBkYXRpbmcgaXRzIGNoaWxkIG5vZGVzIHdpbGwgYmUgaGFuZGxlZCBieVxuLy8gICBQcm9zZU1pcnJvci5cbi8vXG4vLyAgIHNlbGVjdE5vZGU6OiA/KClcbi8vICAgQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlIHdheSB0aGUgbm9kZSdzIHNlbGVjdGVkIHN0YXR1cyAoYXMgYVxuLy8gICBub2RlIHNlbGVjdGlvbikgaXMgZGlzcGxheWVkLlxuLy9cbi8vICAgZGVzZWxlY3ROb2RlOjogPygpXG4vLyAgIFdoZW4gZGVmaW5pbmcgYSBgc2VsZWN0Tm9kZWAgbWV0aG9kLCB5b3Ugc2hvdWxkIGFsc28gcHJvdmlkZSBhXG4vLyAgIGBkZXNlbGVjdE5vZGVgIG1ldGhvZCB0byByZW1vdmUgdGhlIGVmZmVjdCBhZ2Fpbi5cbi8vXG4vLyAgIHNldFNlbGVjdGlvbjo6ID8oYW5jaG9yOiBudW1iZXIsIGhlYWQ6IG51bWJlciwgcm9vdDogZG9tLkRvY3VtZW50KVxuLy8gICBUaGlzIHdpbGwgYmUgY2FsbGVkIHRvIGhhbmRsZSBzZXR0aW5nIHRoZSBzZWxlY3Rpb24gaW5zaWRlIHRoZVxuLy8gICBub2RlLiBUaGUgYGFuY2hvcmAgYW5kIGBoZWFkYCBwb3NpdGlvbnMgYXJlIHJlbGF0aXZlIHRvIHRoZSBzdGFydFxuLy8gICBvZiB0aGUgbm9kZS4gQnkgZGVmYXVsdCwgYSBET00gc2VsZWN0aW9uIHdpbGwgYmUgY3JlYXRlZCBiZXR3ZWVuXG4vLyAgIHRoZSBET00gcG9zaXRpb25zIGNvcnJlc3BvbmRpbmcgdG8gdGhvc2UgcG9zaXRpb25zLCBidXQgaWYgeW91XG4vLyAgIG92ZXJyaWRlIGl0IHlvdSBjYW4gZG8gc29tZXRoaW5nIGVsc2UuXG4vL1xuLy8gICBzdG9wRXZlbnQ6OiA/KGV2ZW50OiBkb20uRXZlbnQpIOKGkiBib29sXG4vLyAgIENhbiBiZSB1c2VkIHRvIHByZXZlbnQgdGhlIGVkaXRvciB2aWV3IGZyb20gdHJ5aW5nIHRvIGhhbmRsZSBzb21lXG4vLyAgIG9yIGFsbCBET00gZXZlbnRzIHRoYXQgYnViYmxlIHVwIGZyb20gdGhlIG5vZGUgdmlldy4gRXZlbnRzIGZvclxuLy8gICB3aGljaCB0aGlzIHJldHVybnMgdHJ1ZSBhcmUgbm90IGhhbmRsZWQgYnkgdGhlIGVkaXRvci5cbi8vXG4vLyAgIGlnbm9yZU11dGF0aW9uOjogPyhkb20uTXV0YXRpb25SZWNvcmQpIOKGkiBib29sXG4vLyAgIENhbGxlZCB3aGVuIGEgRE9NXG4vLyAgIFttdXRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL011dGF0aW9uT2JzZXJ2ZXIpXG4vLyAgIG9yIGEgc2VsZWN0aW9uIGNoYW5nZSBoYXBwZW5zIHdpdGhpbiB0aGUgdmlldy4gV2hlbiB0aGUgY2hhbmdlIGlzXG4vLyAgIGEgc2VsZWN0aW9uIGNoYW5nZSwgdGhlIHJlY29yZCB3aWxsIGhhdmUgYSBgdHlwZWAgcHJvcGVydHkgb2Zcbi8vICAgYFwic2VsZWN0aW9uXCJgICh3aGljaCBkb2Vzbid0IG9jY3VyIGZvciBuYXRpdmUgbXV0YXRpb24gcmVjb3JkcykuXG4vLyAgIFJldHVybiBmYWxzZSBpZiB0aGUgZWRpdG9yIHNob3VsZCByZS1yZWFkIHRoZSBzZWxlY3Rpb24gb3Jcbi8vICAgcmUtcGFyc2UgdGhlIHJhbmdlIGFyb3VuZCB0aGUgbXV0YXRpb24sIHRydWUgaWYgaXQgY2FuIHNhZmVseSBiZVxuLy8gICBpZ25vcmVkLlxuLy9cbi8vICAgZGVzdHJveTo6ID8oKVxuLy8gICBDYWxsZWQgd2hlbiB0aGUgbm9kZSB2aWV3IGlzIHJlbW92ZWQgZnJvbSB0aGUgZWRpdG9yIG9yIHRoZSB3aG9sZVxuLy8gICBlZGl0b3IgaXMgZGVzdHJveWVkLlxuXG4vLyBWaWV3IGRlc2NyaXB0aW9ucyBhcmUgZGF0YSBzdHJ1Y3R1cmVzIHRoYXQgZGVzY3JpYmUgdGhlIERPTSB0aGF0IGlzXG4vLyB1c2VkIHRvIHJlcHJlc2VudCB0aGUgZWRpdG9yJ3MgY29udGVudC4gVGhleSBhcmUgdXNlZCBmb3I6XG4vL1xuLy8gLSBJbmNyZW1lbnRhbCByZWRyYXdpbmcgd2hlbiB0aGUgZG9jdW1lbnQgY2hhbmdlc1xuLy9cbi8vIC0gRmlndXJpbmcgb3V0IHdoYXQgcGFydCBvZiB0aGUgZG9jdW1lbnQgYSBnaXZlbiBET00gcG9zaXRpb25cbi8vICAgY29ycmVzcG9uZHMgdG9cbi8vXG4vLyAtIFdpcmluZyBpbiBjdXN0b20gaW1wbGVtZW50YXRpb25zIG9mIHRoZSBlZGl0aW5nIGludGVyZmFjZSBmb3IgYVxuLy8gICBnaXZlbiBub2RlXG4vL1xuLy8gVGhleSBmb3JtIGEgZG91Ymx5LWxpbmtlZCBtdXRhYmxlIHRyZWUsIHN0YXJ0aW5nIGF0IGB2aWV3LmRvY1ZpZXdgLlxuXG5jb25zdCBOT1RfRElSVFkgPSAwLCBDSElMRF9ESVJUWSA9IDEsIENPTlRFTlRfRElSVFkgPSAyLCBOT0RFX0RJUlRZID0gM1xuXG4vLyBTdXBlcmNsYXNzIGZvciB0aGUgdmFyaW91cyBraW5kcyBvZiBkZXNjcmlwdGlvbnMuIERlZmluZXMgdGhlaXJcbi8vIGJhc2ljIHN0cnVjdHVyZSBhbmQgc2hhcmVkIG1ldGhvZHMuXG5jbGFzcyBWaWV3RGVzYyB7XG4gIC8vIDogKD9WaWV3RGVzYywgW1ZpZXdEZXNjXSwgZG9tLk5vZGUsID9kb20uTm9kZSlcbiAgY29uc3RydWN0b3IocGFyZW50LCBjaGlsZHJlbiwgZG9tLCBjb250ZW50RE9NKSB7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRcbiAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW5cbiAgICB0aGlzLmRvbSA9IGRvbVxuICAgIC8vIEFuIGV4cGFuZG8gcHJvcGVydHkgb24gdGhlIERPTSBub2RlIHByb3ZpZGVzIGEgbGluayBiYWNrIHRvIGl0c1xuICAgIC8vIGRlc2NyaXB0aW9uLlxuICAgIGRvbS5wbVZpZXdEZXNjID0gdGhpc1xuICAgIC8vIFRoaXMgaXMgdGhlIG5vZGUgdGhhdCBob2xkcyB0aGUgY2hpbGQgdmlld3MuIEl0IG1heSBiZSBudWxsIGZvclxuICAgIC8vIGRlc2NzIHRoYXQgZG9uJ3QgaGF2ZSBjaGlsZHJlbi5cbiAgICB0aGlzLmNvbnRlbnRET00gPSBjb250ZW50RE9NXG4gICAgdGhpcy5kaXJ0eSA9IE5PVF9ESVJUWVxuICB9XG5cbiAgLy8gVXNlZCB0byBjaGVjayB3aGV0aGVyIGEgZ2l2ZW4gZGVzY3JpcHRpb24gY29ycmVzcG9uZHMgdG8gYVxuICAvLyB3aWRnZXQvbWFyay9ub2RlLlxuICBtYXRjaGVzV2lkZ2V0KCkgeyByZXR1cm4gZmFsc2UgfVxuICBtYXRjaGVzTWFyaygpIHsgcmV0dXJuIGZhbHNlIH1cbiAgbWF0Y2hlc05vZGUoKSB7IHJldHVybiBmYWxzZSB9XG4gIG1hdGNoZXNIYWNrKCkgeyByZXR1cm4gZmFsc2UgfVxuXG4gIGdldCBiZWZvcmVQb3NpdGlvbigpIHsgcmV0dXJuIGZhbHNlIH1cblxuICAvLyA6ICgpIOKGkiA/UGFyc2VSdWxlXG4gIC8vIFdoZW4gcGFyc2luZyBpbi1lZGl0b3IgY29udGVudCAoaW4gZG9tY2hhbmdlLmpzKSwgd2UgYWxsb3dcbiAgLy8gZGVzY3JpcHRpb25zIHRvIGRldGVybWluZSB0aGUgcGFyc2UgcnVsZXMgdGhhdCBzaG91bGQgYmUgdXNlZCB0b1xuICAvLyBwYXJzZSB0aGVtLlxuICBwYXJzZVJ1bGUoKSB7IHJldHVybiBudWxsIH1cblxuICAvLyA6IChkb20uRXZlbnQpIOKGkiBib29sXG4gIC8vIFVzZWQgYnkgdGhlIGVkaXRvcidzIGV2ZW50IGhhbmRsZXIgdG8gaWdub3JlIGV2ZW50cyB0aGF0IGNvbWVcbiAgLy8gZnJvbSBjZXJ0YWluIGRlc2NzLlxuICBzdG9wRXZlbnQoKSB7IHJldHVybiBmYWxzZSB9XG5cbiAgLy8gVGhlIHNpemUgb2YgdGhlIGNvbnRlbnQgcmVwcmVzZW50ZWQgYnkgdGhpcyBkZXNjLlxuICBnZXQgc2l6ZSgpIHtcbiAgICBsZXQgc2l6ZSA9IDBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHNpemUgKz0gdGhpcy5jaGlsZHJlbltpXS5zaXplXG4gICAgcmV0dXJuIHNpemVcbiAgfVxuXG4gIC8vIEZvciBibG9jayBub2RlcywgdGhpcyByZXByZXNlbnRzIHRoZSBzcGFjZSB0YWtlbiB1cCBieSB0aGVpclxuICAvLyBzdGFydC9lbmQgdG9rZW5zLlxuICBnZXQgYm9yZGVyKCkgeyByZXR1cm4gMCB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnBhcmVudCA9IG51bGxcbiAgICBpZiAodGhpcy5kb20ucG1WaWV3RGVzYyA9PSB0aGlzKSB0aGlzLmRvbS5wbVZpZXdEZXNjID0gbnVsbFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgIHRoaXMuY2hpbGRyZW5baV0uZGVzdHJveSgpXG4gIH1cblxuICBwb3NCZWZvcmVDaGlsZChjaGlsZCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSB0aGlzLnBvc0F0U3RhcnQ7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY3VyID0gdGhpcy5jaGlsZHJlbltpXVxuICAgICAgaWYgKGN1ciA9PSBjaGlsZCkgcmV0dXJuIHBvc1xuICAgICAgcG9zICs9IGN1ci5zaXplXG4gICAgfVxuICB9XG5cbiAgZ2V0IHBvc0JlZm9yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQodGhpcylcbiAgfVxuXG4gIGdldCBwb3NBdFN0YXJ0KCkge1xuICAgIHJldHVybiB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LnBvc0JlZm9yZUNoaWxkKHRoaXMpICsgdGhpcy5ib3JkZXIgOiAwXG4gIH1cblxuICBnZXQgcG9zQWZ0ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zQmVmb3JlICsgdGhpcy5zaXplXG4gIH1cblxuICBnZXQgcG9zQXRFbmQoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zQXRTdGFydCArIHRoaXMuc2l6ZSAtIDIgKiB0aGlzLmJvcmRlclxuICB9XG5cbiAgLy8gOiAoZG9tLk5vZGUsIG51bWJlciwgP251bWJlcikg4oaSIG51bWJlclxuICBsb2NhbFBvc0Zyb21ET00oZG9tLCBvZmZzZXQsIGJpYXMpIHtcbiAgICAvLyBJZiB0aGUgRE9NIHBvc2l0aW9uIGlzIGluIHRoZSBjb250ZW50LCB1c2UgdGhlIGNoaWxkIGRlc2MgYWZ0ZXJcbiAgICAvLyBpdCB0byBmaWd1cmUgb3V0IGEgcG9zaXRpb24uXG4gICAgaWYgKHRoaXMuY29udGVudERPTSAmJiB0aGlzLmNvbnRlbnRET00uY29udGFpbnMoZG9tLm5vZGVUeXBlID09IDEgPyBkb20gOiBkb20ucGFyZW50Tm9kZSkpIHtcbiAgICAgIGlmIChiaWFzIDwgMCkge1xuICAgICAgICBsZXQgZG9tQmVmb3JlLCBkZXNjXG4gICAgICAgIGlmIChkb20gPT0gdGhpcy5jb250ZW50RE9NKSB7XG4gICAgICAgICAgZG9tQmVmb3JlID0gZG9tLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aGlsZSAoZG9tLnBhcmVudE5vZGUgIT0gdGhpcy5jb250ZW50RE9NKSBkb20gPSBkb20ucGFyZW50Tm9kZVxuICAgICAgICAgIGRvbUJlZm9yZSA9IGRvbS5wcmV2aW91c1NpYmxpbmdcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoZG9tQmVmb3JlICYmICEoKGRlc2MgPSBkb21CZWZvcmUucG1WaWV3RGVzYykgJiYgZGVzYy5wYXJlbnQgPT0gdGhpcykpIGRvbUJlZm9yZSA9IGRvbUJlZm9yZS5wcmV2aW91c1NpYmxpbmdcbiAgICAgICAgcmV0dXJuIGRvbUJlZm9yZSA/IHRoaXMucG9zQmVmb3JlQ2hpbGQoZGVzYykgKyBkZXNjLnNpemUgOiB0aGlzLnBvc0F0U3RhcnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkb21BZnRlciwgZGVzY1xuICAgICAgICBpZiAoZG9tID09IHRoaXMuY29udGVudERPTSkge1xuICAgICAgICAgIGRvbUFmdGVyID0gZG9tLmNoaWxkTm9kZXNbb2Zmc2V0XVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdoaWxlIChkb20ucGFyZW50Tm9kZSAhPSB0aGlzLmNvbnRlbnRET00pIGRvbSA9IGRvbS5wYXJlbnROb2RlXG4gICAgICAgICAgZG9tQWZ0ZXIgPSBkb20ubmV4dFNpYmxpbmdcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoZG9tQWZ0ZXIgJiYgISgoZGVzYyA9IGRvbUFmdGVyLnBtVmlld0Rlc2MpICYmIGRlc2MucGFyZW50ID09IHRoaXMpKSBkb21BZnRlciA9IGRvbUFmdGVyLm5leHRTaWJsaW5nXG4gICAgICAgIHJldHVybiBkb21BZnRlciA/IHRoaXMucG9zQmVmb3JlQ2hpbGQoZGVzYykgOiB0aGlzLnBvc0F0RW5kXG4gICAgICB9XG4gICAgfVxuICAgIC8vIE90aGVyd2lzZSwgdXNlIHZhcmlvdXMgaGV1cmlzdGljcywgZmFsbGluZyBiYWNrIG9uIHRoZSBiaWFzXG4gICAgLy8gcGFyYW1ldGVyLCB0byBkZXRlcm1pbmUgd2hldGhlciB0byByZXR1cm4gdGhlIHBvc2l0aW9uIGF0IHRoZVxuICAgIC8vIHN0YXJ0IG9yIGF0IHRoZSBlbmQgb2YgdGhpcyB2aWV3IGRlc2MuXG4gICAgbGV0IGF0RW5kXG4gICAgaWYgKHRoaXMuY29udGVudERPTSAmJiB0aGlzLmNvbnRlbnRET00gIT0gdGhpcy5kb20gJiYgdGhpcy5kb20uY29udGFpbnModGhpcy5jb250ZW50RE9NKSkge1xuICAgICAgYXRFbmQgPSBkb20uY29tcGFyZURvY3VtZW50UG9zaXRpb24odGhpcy5jb250ZW50RE9NKSAmIDJcbiAgICB9IGVsc2UgaWYgKHRoaXMuZG9tLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGlmIChvZmZzZXQgPT0gMCkgZm9yIChsZXQgc2VhcmNoID0gZG9tOzsgc2VhcmNoID0gc2VhcmNoLnBhcmVudE5vZGUpIHtcbiAgICAgICAgaWYgKHNlYXJjaCA9PSB0aGlzLmRvbSkgeyBhdEVuZCA9IGZhbHNlOyBicmVhayB9XG4gICAgICAgIGlmIChzZWFyY2gucGFyZW50Tm9kZS5maXJzdENoaWxkICE9IHNlYXJjaCkgYnJlYWtcbiAgICAgIH1cbiAgICAgIGlmIChhdEVuZCA9PSBudWxsICYmIG9mZnNldCA9PSBkb20uY2hpbGROb2Rlcy5sZW5ndGgpIGZvciAobGV0IHNlYXJjaCA9IGRvbTs7IHNlYXJjaCA9IHNlYXJjaC5wYXJlbnROb2RlKSB7XG4gICAgICAgIGlmIChzZWFyY2ggPT0gdGhpcy5kb20pIHsgYXRFbmQgPSB0cnVlOyBicmVhayB9XG4gICAgICAgIGlmIChzZWFyY2gucGFyZW50Tm9kZS5sYXN0Q2hpbGQgIT0gc2VhcmNoKSBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKGF0RW5kID09IG51bGwgPyBiaWFzID4gMCA6IGF0RW5kKSA/IHRoaXMucG9zQXRFbmQgOiB0aGlzLnBvc0F0U3RhcnRcbiAgfVxuXG4gIC8vIFNjYW4gdXAgdGhlIGRvbSBmaW5kaW5nIHRoZSBmaXJzdCBkZXNjIHRoYXQgaXMgYSBkZXNjZW5kYW50IG9mXG4gIC8vIHRoaXMgb25lLlxuICBuZWFyZXN0RGVzYyhkb20sIG9ubHlOb2Rlcykge1xuICAgIGZvciAobGV0IGZpcnN0ID0gdHJ1ZSwgY3VyID0gZG9tOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlKSB7XG4gICAgICBsZXQgZGVzYyA9IHRoaXMuZ2V0RGVzYyhjdXIpXG4gICAgICBpZiAoZGVzYyAmJiAoIW9ubHlOb2RlcyB8fCBkZXNjLm5vZGUpKSB7XG4gICAgICAgIC8vIElmIGRvbSBpcyBvdXRzaWRlIG9mIHRoaXMgZGVzYydzIG5vZGVET00sIGRvbid0IGNvdW50IGl0LlxuICAgICAgICBpZiAoZmlyc3QgJiYgZGVzYy5ub2RlRE9NICYmICEoZGVzYy5ub2RlRE9NLm5vZGVUeXBlID09IDEgPyBkZXNjLm5vZGVET00uY29udGFpbnMoZG9tKSA6IGRlc2Mubm9kZURPTSA9PSBkb20pKSBmaXJzdCA9IGZhbHNlXG4gICAgICAgIGVsc2UgcmV0dXJuIGRlc2NcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXREZXNjKGRvbSkge1xuICAgIGxldCBkZXNjID0gZG9tLnBtVmlld0Rlc2NcbiAgICBmb3IgKGxldCBjdXIgPSBkZXNjOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnQpIGlmIChjdXIgPT0gdGhpcykgcmV0dXJuIGRlc2NcbiAgfVxuXG4gIHBvc0Zyb21ET00oZG9tLCBvZmZzZXQsIGJpYXMpIHtcbiAgICBmb3IgKGxldCBzY2FuID0gZG9tOzsgc2NhbiA9IHNjYW4ucGFyZW50Tm9kZSkge1xuICAgICAgbGV0IGRlc2MgPSB0aGlzLmdldERlc2Moc2NhbilcbiAgICAgIGlmIChkZXNjKSByZXR1cm4gZGVzYy5sb2NhbFBvc0Zyb21ET00oZG9tLCBvZmZzZXQsIGJpYXMpXG4gICAgfVxuICB9XG5cbiAgLy8gOiAobnVtYmVyKSDihpIgP05vZGVWaWV3RGVzY1xuICAvLyBGaW5kIHRoZSBkZXNjIGZvciB0aGUgbm9kZSBhZnRlciB0aGUgZ2l2ZW4gcG9zLCBpZiBhbnkuIChXaGVuIGFcbiAgLy8gcGFyZW50IG5vZGUgb3ZlcnJvZGUgcmVuZGVyaW5nLCB0aGVyZSBtaWdodCBub3QgYmUgb25lLilcbiAgZGVzY0F0KHBvcykge1xuICAgIGZvciAobGV0IGkgPSAwLCBvZmZzZXQgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gb2Zmc2V0ICsgY2hpbGQuc2l6ZVxuICAgICAgaWYgKG9mZnNldCA9PSBwb3MgJiYgZW5kICE9IG9mZnNldCkge1xuICAgICAgICB3aGlsZSAoIWNoaWxkLmJvcmRlciAmJiBjaGlsZC5jaGlsZHJlbi5sZW5ndGgpIGNoaWxkID0gY2hpbGQuY2hpbGRyZW5bMF1cbiAgICAgICAgcmV0dXJuIGNoaWxkXG4gICAgICB9XG4gICAgICBpZiAocG9zIDwgZW5kKSByZXR1cm4gY2hpbGQuZGVzY0F0KHBvcyAtIG9mZnNldCAtIGNoaWxkLmJvcmRlcilcbiAgICAgIG9mZnNldCA9IGVuZFxuICAgIH1cbiAgfVxuXG4gIC8vIDogKG51bWJlcikg4oaSIHtub2RlOiBkb20uTm9kZSwgb2Zmc2V0OiBudW1iZXJ9XG4gIGRvbUZyb21Qb3MocG9zKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRlbnRET00pIHJldHVybiB7bm9kZTogdGhpcy5kb20sIG9mZnNldDogMH1cbiAgICBmb3IgKGxldCBvZmZzZXQgPSAwLCBpID0gMDs7IGkrKykge1xuICAgICAgaWYgKG9mZnNldCA9PSBwb3MpIHtcbiAgICAgICAgd2hpbGUgKGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAmJiAodGhpcy5jaGlsZHJlbltpXS5iZWZvcmVQb3NpdGlvbiB8fCB0aGlzLmNoaWxkcmVuW2ldLmRvbS5wYXJlbnROb2RlICE9IHRoaXMuY29udGVudERPTSkpIGkrK1xuICAgICAgICByZXR1cm4ge25vZGU6IHRoaXMuY29udGVudERPTSxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGkgPT0gdGhpcy5jaGlsZHJlbi5sZW5ndGggPyB0aGlzLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGggOiBkb21JbmRleCh0aGlzLmNoaWxkcmVuW2ldLmRvbSl9XG4gICAgICB9XG4gICAgICBpZiAoaSA9PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwb3NpdGlvbiBcIiArIHBvcylcbiAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIGVuZCA9IG9mZnNldCArIGNoaWxkLnNpemVcbiAgICAgIGlmIChwb3MgPCBlbmQpIHJldHVybiBjaGlsZC5kb21Gcm9tUG9zKHBvcyAtIG9mZnNldCAtIGNoaWxkLmJvcmRlcilcbiAgICAgIG9mZnNldCA9IGVuZFxuICAgIH1cbiAgfVxuXG4gIC8vIFVzZWQgdG8gZmluZCBhIERPTSByYW5nZSBpbiBhIHNpbmdsZSBwYXJlbnQgZm9yIGEgZ2l2ZW4gY2hhbmdlZFxuICAvLyByYW5nZS5cbiAgcGFyc2VSYW5nZShmcm9tLCB0bywgYmFzZSA9IDApIHtcbiAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT0gMClcbiAgICAgIHJldHVybiB7bm9kZTogdGhpcy5jb250ZW50RE9NLCBmcm9tLCB0bywgZnJvbU9mZnNldDogMCwgdG9PZmZzZXQ6IHRoaXMuY29udGVudERPTS5jaGlsZE5vZGVzLmxlbmd0aH1cblxuICAgIGxldCBmcm9tT2Zmc2V0ID0gLTEsIHRvT2Zmc2V0ID0gLTFcbiAgICBmb3IgKGxldCBvZmZzZXQgPSBiYXNlLCBpID0gMDs7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gb2Zmc2V0ICsgY2hpbGQuc2l6ZVxuICAgICAgaWYgKGZyb21PZmZzZXQgPT0gLTEgJiYgZnJvbSA8PSBlbmQpIHtcbiAgICAgICAgbGV0IGNoaWxkQmFzZSA9IG9mZnNldCArIGNoaWxkLmJvcmRlclxuICAgICAgICAvLyBGSVhNRSBtYXliZSBkZXNjZW5kIG1hcmsgdmlld3MgdG8gcGFyc2UgYSBuYXJyb3dlciByYW5nZT9cbiAgICAgICAgaWYgKGZyb20gPj0gY2hpbGRCYXNlICYmIHRvIDw9IGVuZCAtIGNoaWxkLmJvcmRlciAmJiBjaGlsZC5ub2RlICYmXG4gICAgICAgICAgICBjaGlsZC5jb250ZW50RE9NICYmIHRoaXMuY29udGVudERPTS5jb250YWlucyhjaGlsZC5jb250ZW50RE9NKSlcbiAgICAgICAgICByZXR1cm4gY2hpbGQucGFyc2VSYW5nZShmcm9tLCB0bywgY2hpbGRCYXNlKVxuXG4gICAgICAgIGZyb20gPSBvZmZzZXRcbiAgICAgICAgZm9yIChsZXQgaiA9IGk7IGogPiAwOyBqLS0pIHtcbiAgICAgICAgICBsZXQgcHJldiA9IHRoaXMuY2hpbGRyZW5baiAtIDFdXG4gICAgICAgICAgaWYgKHByZXYuc2l6ZSAmJiBwcmV2LmRvbS5wYXJlbnROb2RlID09IHRoaXMuY29udGVudERPTSAmJiAhcHJldi5lbXB0eUNoaWxkQXQoMSkpIHtcbiAgICAgICAgICAgIGZyb21PZmZzZXQgPSBkb21JbmRleChwcmV2LmRvbSkgKyAxXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBmcm9tIC09IHByZXYuc2l6ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChmcm9tT2Zmc2V0ID09IC0xKSBmcm9tT2Zmc2V0ID0gMFxuICAgICAgfVxuICAgICAgaWYgKGZyb21PZmZzZXQgPiAtMSAmJiB0byA8PSBlbmQpIHtcbiAgICAgICAgdG8gPSBlbmRcbiAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGxldCBuZXh0ID0gdGhpcy5jaGlsZHJlbltqXVxuICAgICAgICAgIGlmIChuZXh0LnNpemUgJiYgbmV4dC5kb20ucGFyZW50Tm9kZSA9PSB0aGlzLmNvbnRlbnRET00gJiYgIW5leHQuZW1wdHlDaGlsZEF0KC0xKSkge1xuICAgICAgICAgICAgdG9PZmZzZXQgPSBkb21JbmRleChuZXh0LmRvbSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIHRvICs9IG5leHQuc2l6ZVxuICAgICAgICB9XG4gICAgICAgIGlmICh0b09mZnNldCA9PSAtMSkgdG9PZmZzZXQgPSB0aGlzLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGhcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIG9mZnNldCA9IGVuZFxuICAgIH1cbiAgICByZXR1cm4ge25vZGU6IHRoaXMuY29udGVudERPTSwgZnJvbSwgdG8sIGZyb21PZmZzZXQsIHRvT2Zmc2V0fVxuICB9XG5cbiAgZW1wdHlDaGlsZEF0KHNpZGUpIHtcbiAgICBpZiAodGhpcy5ib3JkZXIgfHwgIXRoaXMuY29udGVudERPTSB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHJldHVybiBmYWxzZVxuICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5bc2lkZSA8IDAgPyAwIDogdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxXVxuICAgIHJldHVybiBjaGlsZC5zaXplID09IDAgfHwgY2hpbGQuZW1wdHlDaGlsZEF0KHNpZGUpXG4gIH1cblxuICAvLyA6IChudW1iZXIpIOKGkiBkb20uTm9kZVxuICBkb21BZnRlclBvcyhwb3MpIHtcbiAgICBsZXQge25vZGUsIG9mZnNldH0gPSB0aGlzLmRvbUZyb21Qb3MocG9zKVxuICAgIGlmIChub2RlLm5vZGVUeXBlICE9IDEgfHwgb2Zmc2V0ID09IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk5vIG5vZGUgYWZ0ZXIgcG9zIFwiICsgcG9zKVxuICAgIHJldHVybiBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XVxuICB9XG5cbiAgLy8gOiAobnVtYmVyLCBudW1iZXIsIGRvbS5Eb2N1bWVudClcbiAgLy8gVmlldyBkZXNjcyBhcmUgcmVzcG9uc2libGUgZm9yIHNldHRpbmcgYW55IHNlbGVjdGlvbiB0aGF0IGZhbGxzXG4gIC8vIGVudGlyZWx5IGluc2lkZSBvZiB0aGVtLCBzbyB0aGF0IGN1c3RvbSBpbXBsZW1lbnRhdGlvbnMgY2FuIGRvXG4gIC8vIGN1c3RvbSB0aGluZ3Mgd2l0aCB0aGUgc2VsZWN0aW9uLiBOb3RlIHRoYXQgdGhpcyBmYWxscyBhcGFydCB3aGVuXG4gIC8vIGEgc2VsZWN0aW9uIHN0YXJ0cyBpbiBzdWNoIGEgbm9kZSBhbmQgZW5kcyBpbiBhbm90aGVyLCBpbiB3aGljaFxuICAvLyBjYXNlIHdlIGp1c3QgdXNlIHdoYXRldmVyIGRvbUZyb21Qb3MgcHJvZHVjZXMgYXMgYSBiZXN0IGVmZm9ydC5cbiAgc2V0U2VsZWN0aW9uKGFuY2hvciwgaGVhZCwgcm9vdCwgZm9yY2UpIHtcbiAgICAvLyBJZiB0aGUgc2VsZWN0aW9uIGZhbGxzIGVudGlyZWx5IGluIGEgY2hpbGQsIGdpdmUgaXQgdG8gdGhhdCBjaGlsZFxuICAgIGxldCBmcm9tID0gTWF0aC5taW4oYW5jaG9yLCBoZWFkKSwgdG8gPSBNYXRoLm1heChhbmNob3IsIGhlYWQpXG4gICAgZm9yIChsZXQgaSA9IDAsIG9mZnNldCA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5zaXplXG4gICAgICBpZiAoZnJvbSA+IG9mZnNldCAmJiB0byA8IGVuZClcbiAgICAgICAgcmV0dXJuIGNoaWxkLnNldFNlbGVjdGlvbihhbmNob3IgLSBvZmZzZXQgLSBjaGlsZC5ib3JkZXIsIGhlYWQgLSBvZmZzZXQgLSBjaGlsZC5ib3JkZXIsIHJvb3QsIGZvcmNlKVxuICAgICAgb2Zmc2V0ID0gZW5kXG4gICAgfVxuXG4gICAgbGV0IGFuY2hvckRPTSA9IHRoaXMuZG9tRnJvbVBvcyhhbmNob3IpLCBoZWFkRE9NID0gdGhpcy5kb21Gcm9tUG9zKGhlYWQpXG4gICAgbGV0IGRvbVNlbCA9IHJvb3QuZ2V0U2VsZWN0aW9uKCksIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKVxuICAgIGlmICghZm9yY2UgJiZcbiAgICAgICAgaXNFcXVpdmFsZW50UG9zaXRpb24oYW5jaG9yRE9NLm5vZGUsIGFuY2hvckRPTS5vZmZzZXQsIGRvbVNlbC5hbmNob3JOb2RlLCBkb21TZWwuYW5jaG9yT2Zmc2V0KSAmJlxuICAgICAgICBpc0VxdWl2YWxlbnRQb3NpdGlvbihoZWFkRE9NLm5vZGUsIGhlYWRET00ub2Zmc2V0LCBkb21TZWwuZm9jdXNOb2RlLCBkb21TZWwuZm9jdXNPZmZzZXQpKVxuICAgICAgcmV0dXJuXG5cbiAgICAvLyBTZWxlY3Rpb24uZXh0ZW5kIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiAnaW52ZXJ0ZWQnIHNlbGVjdGlvblxuICAgIC8vIChvbmUgd2hlcmUgdGhlIGZvY3VzIGlzIGJlZm9yZSB0aGUgYW5jaG9yKSwgYnV0IG5vdCBhbGxcbiAgICAvLyBicm93c2VycyBzdXBwb3J0IGl0IHlldC5cbiAgICBpZiAoZG9tU2VsLmV4dGVuZCkge1xuICAgICAgcmFuZ2Uuc2V0RW5kKGFuY2hvckRPTS5ub2RlLCBhbmNob3JET00ub2Zmc2V0KVxuICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhbmNob3IgPiBoZWFkKSB7IGxldCB0bXAgPSBhbmNob3JET007IGFuY2hvckRPTSA9IGhlYWRET007IGhlYWRET00gPSB0bXAgfVxuICAgICAgcmFuZ2Uuc2V0RW5kKGhlYWRET00ubm9kZSwgaGVhZERPTS5vZmZzZXQpXG4gICAgICByYW5nZS5zZXRTdGFydChhbmNob3JET00ubm9kZSwgYW5jaG9yRE9NLm9mZnNldClcbiAgICB9XG4gICAgZG9tU2VsLnJlbW92ZUFsbFJhbmdlcygpXG4gICAgZG9tU2VsLmFkZFJhbmdlKHJhbmdlKVxuICAgIGlmIChkb21TZWwuZXh0ZW5kKVxuICAgICAgZG9tU2VsLmV4dGVuZChoZWFkRE9NLm5vZGUsIGhlYWRET00ub2Zmc2V0KVxuICB9XG5cbiAgLy8gOiAoZG9tLk11dGF0aW9uUmVjb3JkKSDihpIgYm9vbFxuICBpZ25vcmVNdXRhdGlvbihtdXRhdGlvbikge1xuICAgIHJldHVybiAhdGhpcy5jb250ZW50RE9NICYmIG11dGF0aW9uLnR5cGUgIT0gXCJzZWxlY3Rpb25cIlxuICB9XG5cbiAgZ2V0IGNvbnRlbnRMb3N0KCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRET00gJiYgdGhpcy5jb250ZW50RE9NICE9IHRoaXMuZG9tICYmICF0aGlzLmRvbS5jb250YWlucyh0aGlzLmNvbnRlbnRET00pXG4gIH1cblxuICAvLyBSZW1vdmUgYSBzdWJ0cmVlIG9mIHRoZSBlbGVtZW50IHRyZWUgdGhhdCBoYXMgYmVlbiB0b3VjaGVkXG4gIC8vIGJ5IGEgRE9NIGNoYW5nZSwgc28gdGhhdCB0aGUgbmV4dCB1cGRhdGUgd2lsbCByZWRyYXcgaXQuXG4gIG1hcmtEaXJ0eShmcm9tLCB0bykge1xuICAgIGZvciAobGV0IG9mZnNldCA9IDAsIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gb2Zmc2V0ICsgY2hpbGQuc2l6ZVxuICAgICAgaWYgKG9mZnNldCA9PSBlbmQgPyBmcm9tIDw9IGVuZCAmJiB0byA+PSBvZmZzZXQgOiBmcm9tIDwgZW5kICYmIHRvID4gb2Zmc2V0KSB7XG4gICAgICAgIGxldCBzdGFydEluc2lkZSA9IG9mZnNldCArIGNoaWxkLmJvcmRlciwgZW5kSW5zaWRlID0gZW5kIC0gY2hpbGQuYm9yZGVyXG4gICAgICAgIGlmIChmcm9tID49IHN0YXJ0SW5zaWRlICYmIHRvIDw9IGVuZEluc2lkZSkge1xuICAgICAgICAgIHRoaXMuZGlydHkgPSBmcm9tID09IG9mZnNldCB8fCB0byA9PSBlbmQgPyBDT05URU5UX0RJUlRZIDogQ0hJTERfRElSVFlcbiAgICAgICAgICBpZiAoZnJvbSA9PSBzdGFydEluc2lkZSAmJiB0byA9PSBlbmRJbnNpZGUgJiZcbiAgICAgICAgICAgICAgKGNoaWxkLmNvbnRlbnRMb3N0IHx8IGNoaWxkLmRvbS5wYXJlbnROb2RlICE9IHRoaXMuY29udGVudERPTSkpIGNoaWxkLmRpcnR5ID0gTk9ERV9ESVJUWVxuICAgICAgICAgIGVsc2UgY2hpbGQubWFya0RpcnR5KGZyb20gLSBzdGFydEluc2lkZSwgdG8gLSBzdGFydEluc2lkZSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGlsZC5kaXJ0eSA9IE5PREVfRElSVFlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb2Zmc2V0ID0gZW5kXG4gICAgfVxuICAgIHRoaXMuZGlydHkgPSBDT05URU5UX0RJUlRZXG4gIH1cblxuICBtYXJrUGFyZW50c0RpcnR5KCkge1xuICAgIGxldCBsZXZlbCA9IDFcbiAgICBmb3IgKGxldCBub2RlID0gdGhpcy5wYXJlbnQ7IG5vZGU7IG5vZGUgPSBub2RlLnBhcmVudCkge1xuICAgICAgbGV0IGRpcnR5ID0gbGV2ZWwgPT0gMSA/IENPTlRFTlRfRElSVFkgOiBDSElMRF9ESVJUWVxuICAgICAgaWYgKG5vZGUuZGlydHkgPCBkaXJ0eSkgbm9kZS5kaXJ0eSA9IGRpcnR5XG4gICAgfVxuICB9XG59XG5cbi8vIFJldXNlZCBhcnJheSB0byBhdm9pZCBhbGxvY2F0aW5nIGZyZXNoIGFycmF5cyBmb3IgdGhpbmdzIHRoYXQgd2lsbFxuLy8gc3RheSBlbXB0eSBhbnl3YXkuXG5jb25zdCBub3RoaW5nID0gW11cblxuLy8gQSB3aWRnZXQgZGVzYyByZXByZXNlbnRzIGEgd2lkZ2V0IGRlY29yYXRpb24sIHdoaWNoIGlzIGEgRE9NIG5vZGVcbi8vIGRyYXduIGJldHdlZW4gdGhlIGRvY3VtZW50IG5vZGVzLlxuY2xhc3MgV2lkZ2V0Vmlld0Rlc2MgZXh0ZW5kcyBWaWV3RGVzYyB7XG4gIC8vIDogKFZpZXdEZXNjLCBEZWNvcmF0aW9uKVxuICBjb25zdHJ1Y3RvcihwYXJlbnQsIHdpZGdldCwgdmlldywgcG9zKSB7XG4gICAgbGV0IHNlbGYsIGRvbSA9IHdpZGdldC50eXBlLnRvRE9NXG4gICAgaWYgKHR5cGVvZiBkb20gPT0gXCJmdW5jdGlvblwiKSBkb20gPSBkb20odmlldywgKCkgPT4ge1xuICAgICAgaWYgKCFzZWxmKSByZXR1cm4gcG9zXG4gICAgICBpZiAoc2VsZi5wYXJlbnQpIHJldHVybiBzZWxmLnBhcmVudC5wb3NCZWZvcmVDaGlsZChzZWxmKVxuICAgIH0pXG4gICAgaWYgKCF3aWRnZXQudHlwZS5zcGVjLnJhdykge1xuICAgICAgaWYgKGRvbS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgIGxldCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbiAgICAgICAgd3JhcC5hcHBlbmRDaGlsZChkb20pXG4gICAgICAgIGRvbSA9IHdyYXBcbiAgICAgIH1cbiAgICAgIGRvbS5jb250ZW50RWRpdGFibGUgPSBmYWxzZVxuICAgICAgZG9tLmNsYXNzTGlzdC5hZGQoXCJQcm9zZU1pcnJvci13aWRnZXRcIilcbiAgICB9XG4gICAgc3VwZXIocGFyZW50LCBub3RoaW5nLCBkb20sIG51bGwpXG4gICAgdGhpcy53aWRnZXQgPSB3aWRnZXRcbiAgICBzZWxmID0gdGhpc1xuICB9XG5cbiAgZ2V0IGJlZm9yZVBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLndpZGdldC50eXBlLnNpZGUgPCAwXG4gIH1cblxuICBtYXRjaGVzV2lkZ2V0KHdpZGdldCkge1xuICAgIHJldHVybiB0aGlzLmRpcnR5ID09IE5PVF9ESVJUWSAmJiB3aWRnZXQudHlwZS5lcSh0aGlzLndpZGdldC50eXBlKVxuICB9XG5cbiAgcGFyc2VSdWxlKCkgeyByZXR1cm4ge2lnbm9yZTogdHJ1ZX0gfVxuXG4gIHN0b3BFdmVudChldmVudCkge1xuICAgIGxldCBzdG9wID0gdGhpcy53aWRnZXQuc3BlYy5zdG9wRXZlbnRcbiAgICByZXR1cm4gc3RvcCA/IHN0b3AoZXZlbnQpIDogZmFsc2VcbiAgfVxuXG4gIGlnbm9yZU11dGF0aW9uKG11dGF0aW9uKSB7XG4gICAgcmV0dXJuIG11dGF0aW9uLnR5cGUgIT0gXCJzZWxlY3Rpb25cIiB8fCB0aGlzLndpZGdldC5zcGVjLmlnbm9yZVNlbGVjdGlvblxuICB9XG59XG5cbmNsYXNzIENvbXBvc2l0aW9uVmlld0Rlc2MgZXh0ZW5kcyBWaWV3RGVzYyB7XG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgZG9tLCB0ZXh0RE9NLCB0ZXh0KSB7XG4gICAgc3VwZXIocGFyZW50LCBub3RoaW5nLCBkb20sIG51bGwpXG4gICAgdGhpcy50ZXh0RE9NID0gdGV4dERPTVxuICAgIHRoaXMudGV4dCA9IHRleHRcbiAgfVxuXG4gIGdldCBzaXplKCkgeyByZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aCB9XG5cbiAgbG9jYWxQb3NGcm9tRE9NKGRvbSwgb2Zmc2V0KSB7XG4gICAgaWYgKGRvbSAhPSB0aGlzLnRleHRET00pIHJldHVybiB0aGlzLnBvc0F0U3RhcnQgKyAob2Zmc2V0ID8gdGhpcy5zaXplIDogMClcbiAgICByZXR1cm4gdGhpcy5wb3NBdFN0YXJ0ICsgb2Zmc2V0XG4gIH1cblxuICBkb21Gcm9tUG9zKHBvcykge1xuICAgIHJldHVybiB7bm9kZTogdGhpcy50ZXh0RE9NLCBvZmZzZXQ6IHBvc31cbiAgfVxuXG4gIGlnbm9yZU11dGF0aW9uKG11dCkge1xuICAgIHJldHVybiBtdXQudHlwZSA9PT0gJ2NoYXJhY3RlckRhdGEnICYmIG11dC50YXJnZXQubm9kZVZhbHVlID09IG11dC5vbGRWYWx1ZVxuICAgfVxufVxuXG4vLyBBIG1hcmsgZGVzYyByZXByZXNlbnRzIGEgbWFyay4gTWF5IGhhdmUgbXVsdGlwbGUgY2hpbGRyZW4sXG4vLyBkZXBlbmRpbmcgb24gaG93IHRoZSBtYXJrIGlzIHNwbGl0LiBOb3RlIHRoYXQgbWFya3MgYXJlIGRyYXduIHVzaW5nXG4vLyBhIGZpeGVkIG5lc3Rpbmcgb3JkZXIsIGZvciBzaW1wbGljaXR5IGFuZCBwcmVkaWN0YWJpbGl0eSwgc28gaW5cbi8vIHNvbWUgY2FzZXMgdGhleSB3aWxsIGJlIHNwbGl0IG1vcmUgb2Z0ZW4gdGhhbiB3b3VsZCBhcHBlYXJcbi8vIG5lY2Vzc2FyeS5cbmNsYXNzIE1hcmtWaWV3RGVzYyBleHRlbmRzIFZpZXdEZXNjIHtcbiAgLy8gOiAoVmlld0Rlc2MsIE1hcmssIGRvbS5Ob2RlKVxuICBjb25zdHJ1Y3RvcihwYXJlbnQsIG1hcmssIGRvbSwgY29udGVudERPTSkge1xuICAgIHN1cGVyKHBhcmVudCwgW10sIGRvbSwgY29udGVudERPTSlcbiAgICB0aGlzLm1hcmsgPSBtYXJrXG4gIH1cblxuICBzdGF0aWMgY3JlYXRlKHBhcmVudCwgbWFyaywgaW5saW5lLCB2aWV3KSB7XG4gICAgbGV0IGN1c3RvbSA9IHZpZXcubm9kZVZpZXdzW21hcmsudHlwZS5uYW1lXVxuICAgIGxldCBzcGVjID0gY3VzdG9tICYmIGN1c3RvbShtYXJrLCB2aWV3LCBpbmxpbmUpXG4gICAgaWYgKCFzcGVjIHx8ICFzcGVjLmRvbSlcbiAgICAgIHNwZWMgPSBET01TZXJpYWxpemVyLnJlbmRlclNwZWMoZG9jdW1lbnQsIG1hcmsudHlwZS5zcGVjLnRvRE9NKG1hcmssIGlubGluZSkpXG4gICAgcmV0dXJuIG5ldyBNYXJrVmlld0Rlc2MocGFyZW50LCBtYXJrLCBzcGVjLmRvbSwgc3BlYy5jb250ZW50RE9NIHx8IHNwZWMuZG9tKVxuICB9XG5cbiAgcGFyc2VSdWxlKCkgeyByZXR1cm4ge21hcms6IHRoaXMubWFyay50eXBlLm5hbWUsIGF0dHJzOiB0aGlzLm1hcmsuYXR0cnMsIGNvbnRlbnRFbGVtZW50OiB0aGlzLmNvbnRlbnRET019IH1cblxuICBtYXRjaGVzTWFyayhtYXJrKSB7IHJldHVybiB0aGlzLmRpcnR5ICE9IE5PREVfRElSVFkgJiYgdGhpcy5tYXJrLmVxKG1hcmspIH1cblxuICBtYXJrRGlydHkoZnJvbSwgdG8pIHtcbiAgICBzdXBlci5tYXJrRGlydHkoZnJvbSwgdG8pXG4gICAgLy8gTW92ZSBkaXJ0eSBpbmZvIHRvIG5lYXJlc3Qgbm9kZSB2aWV3XG4gICAgaWYgKHRoaXMuZGlydHkgIT0gTk9UX0RJUlRZKSB7XG4gICAgICBsZXQgcGFyZW50ID0gdGhpcy5wYXJlbnRcbiAgICAgIHdoaWxlICghcGFyZW50Lm5vZGUpIHBhcmVudCA9IHBhcmVudC5wYXJlbnRcbiAgICAgIGlmIChwYXJlbnQuZGlydHkgPCB0aGlzLmRpcnR5KSBwYXJlbnQuZGlydHkgPSB0aGlzLmRpcnR5XG4gICAgICB0aGlzLmRpcnR5ID0gTk9UX0RJUlRZXG4gICAgfVxuICB9XG5cbiAgc2xpY2UoZnJvbSwgdG8sIHZpZXcpIHtcbiAgICBsZXQgY29weSA9IE1hcmtWaWV3RGVzYy5jcmVhdGUodGhpcy5wYXJlbnQsIHRoaXMubWFyaywgdHJ1ZSwgdmlldylcbiAgICBsZXQgbm9kZXMgPSB0aGlzLmNoaWxkcmVuLCBzaXplID0gdGhpcy5zaXplXG4gICAgaWYgKHRvIDwgc2l6ZSkgbm9kZXMgPSByZXBsYWNlTm9kZXMobm9kZXMsIHRvLCBzaXplLCB2aWV3KVxuICAgIGlmIChmcm9tID4gMCkgbm9kZXMgPSByZXBsYWNlTm9kZXMobm9kZXMsIDAsIGZyb20sIHZpZXcpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgbm9kZXNbaV0ucGFyZW50ID0gY29weVxuICAgIGNvcHkuY2hpbGRyZW4gPSBub2Rlc1xuICAgIHJldHVybiBjb3B5XG4gIH1cbn1cblxuLy8gTm9kZSB2aWV3IGRlc2NzIGFyZSB0aGUgbWFpbiwgbW9zdCBjb21tb24gdHlwZSBvZiB2aWV3IGRlc2MsIGFuZFxuLy8gY29ycmVzcG9uZCB0byBhbiBhY3R1YWwgbm9kZSBpbiB0aGUgZG9jdW1lbnQuIFVubGlrZSBtYXJrIGRlc2NzLFxuLy8gdGhleSBwb3B1bGF0ZSB0aGVpciBjaGlsZCBhcnJheSB0aGVtc2VsdmVzLlxuY2xhc3MgTm9kZVZpZXdEZXNjIGV4dGVuZHMgVmlld0Rlc2Mge1xuICAvLyA6ICg/Vmlld0Rlc2MsIE5vZGUsIFtEZWNvcmF0aW9uXSwgRGVjb3JhdGlvblNldCwgZG9tLk5vZGUsID9kb20uTm9kZSwgRWRpdG9yVmlldylcbiAgY29uc3RydWN0b3IocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBjb250ZW50RE9NLCBub2RlRE9NLCB2aWV3LCBwb3MpIHtcbiAgICBzdXBlcihwYXJlbnQsIG5vZGUuaXNMZWFmID8gbm90aGluZyA6IFtdLCBkb20sIGNvbnRlbnRET00pXG4gICAgdGhpcy5ub2RlRE9NID0gbm9kZURPTVxuICAgIHRoaXMubm9kZSA9IG5vZGVcbiAgICB0aGlzLm91dGVyRGVjbyA9IG91dGVyRGVjb1xuICAgIHRoaXMuaW5uZXJEZWNvID0gaW5uZXJEZWNvXG4gICAgaWYgKGNvbnRlbnRET00pIHRoaXMudXBkYXRlQ2hpbGRyZW4odmlldywgcG9zKVxuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCwgYSBub2RlIGlzIHJlbmRlcmVkIHVzaW5nIHRoZSBgdG9ET01gIG1ldGhvZCBmcm9tIHRoZVxuICAvLyBub2RlIHR5cGUgc3BlYy4gQnV0IGNsaWVudCBjb2RlIGNhbiB1c2UgdGhlIGBub2RlVmlld3NgIHNwZWMgdG9cbiAgLy8gc3VwcGx5IGEgY3VzdG9tIG5vZGUgdmlldywgd2hpY2ggY2FuIGluZmx1ZW5jZSB2YXJpb3VzIGFzcGVjdHMgb2ZcbiAgLy8gdGhlIHdheSB0aGUgbm9kZSB3b3Jrcy5cbiAgLy9cbiAgLy8gKFVzaW5nIHN1YmNsYXNzaW5nIGZvciB0aGlzIHdhcyBpbnRlbnRpb25hbGx5IGRlY2lkZWQgYWdhaW5zdCxcbiAgLy8gc2luY2UgaXQnZCByZXF1aXJlIGV4cG9zaW5nIGEgd2hvbGUgc2xldyBvZiBmaW5uaWNreVxuICAvLyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIHRvIHRoZSB1c2VyIGNvZGUgdGhhdCB0aGV5IHByb2JhYmx5IHdpbGxcbiAgLy8gbmV2ZXIgbmVlZC4pXG4gIHN0YXRpYyBjcmVhdGUocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldywgcG9zKSB7XG4gICAgbGV0IGN1c3RvbSA9IHZpZXcubm9kZVZpZXdzW25vZGUudHlwZS5uYW1lXSwgZGVzY09ialxuICAgIGxldCBzcGVjID0gY3VzdG9tICYmIGN1c3RvbShub2RlLCB2aWV3LCAoKSA9PiB7XG4gICAgICAvLyAoVGhpcyBpcyBhIGZ1bmN0aW9uIHRoYXQgYWxsb3dzIHRoZSBjdXN0b20gdmlldyB0byBmaW5kIGl0c1xuICAgICAgLy8gb3duIHBvc2l0aW9uKVxuICAgICAgaWYgKCFkZXNjT2JqKSByZXR1cm4gcG9zXG4gICAgICBpZiAoZGVzY09iai5wYXJlbnQpIHJldHVybiBkZXNjT2JqLnBhcmVudC5wb3NCZWZvcmVDaGlsZChkZXNjT2JqKVxuICAgIH0sIG91dGVyRGVjbylcblxuICAgIGxldCBkb20gPSBzcGVjICYmIHNwZWMuZG9tLCBjb250ZW50RE9NID0gc3BlYyAmJiBzcGVjLmNvbnRlbnRET01cbiAgICBpZiAobm9kZS5pc1RleHQpIHtcbiAgICAgIGlmICghZG9tKSBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLnRleHQpXG4gICAgICBlbHNlIGlmIChkb20ubm9kZVR5cGUgIT0gMykgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUZXh0IG11c3QgYmUgcmVuZGVyZWQgYXMgYSBET00gdGV4dCBub2RlXCIpXG4gICAgfSBlbHNlIGlmICghZG9tKSB7XG4gICAgICA7KHtkb20sIGNvbnRlbnRET019ID0gRE9NU2VyaWFsaXplci5yZW5kZXJTcGVjKGRvY3VtZW50LCBub2RlLnR5cGUuc3BlYy50b0RPTShub2RlKSkpXG4gICAgfVxuICAgIGlmICghY29udGVudERPTSAmJiAhbm9kZS5pc1RleHQgJiYgZG9tLm5vZGVOYW1lICE9IFwiQlJcIikgeyAvLyBDaHJvbWUgZ2V0cyBjb25mdXNlZCBieSA8YnIgY29udGVudGVkaXRhYmxlPWZhbHNlPlxuICAgICAgaWYgKCFkb20uaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKSBkb20uY29udGVudEVkaXRhYmxlID0gZmFsc2VcbiAgICAgIGlmIChub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGUpIGRvbS5kcmFnZ2FibGUgPSB0cnVlXG4gICAgfVxuXG4gICAgbGV0IG5vZGVET00gPSBkb21cbiAgICBkb20gPSBhcHBseU91dGVyRGVjbyhkb20sIG91dGVyRGVjbywgbm9kZSlcblxuICAgIGlmIChzcGVjKVxuICAgICAgcmV0dXJuIGRlc2NPYmogPSBuZXcgQ3VzdG9tTm9kZVZpZXdEZXNjKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgY29udGVudERPTSwgbm9kZURPTSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVjLCB2aWV3LCBwb3MgKyAxKVxuICAgIGVsc2UgaWYgKG5vZGUuaXNUZXh0KVxuICAgICAgcmV0dXJuIG5ldyBUZXh0Vmlld0Rlc2MocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBub2RlRE9NLCB2aWV3KVxuICAgIGVsc2VcbiAgICAgIHJldHVybiBuZXcgTm9kZVZpZXdEZXNjKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgY29udGVudERPTSwgbm9kZURPTSwgdmlldywgcG9zICsgMSlcbiAgfVxuXG4gIHBhcnNlUnVsZSgpIHtcbiAgICAvLyBFeHBlcmltZW50YWwga2x1ZGdlIHRvIGFsbG93IG9wdC1pbiByZS1wYXJzaW5nIG9mIG5vZGVzXG4gICAgaWYgKHRoaXMubm9kZS50eXBlLnNwZWMucmVwYXJzZUluVmlldykgcmV0dXJuIG51bGxcbiAgICAvLyBGSVhNRSB0aGUgYXNzdW1wdGlvbiB0aGF0IHRoaXMgY2FuIGFsd2F5cyByZXR1cm4gdGhlIGN1cnJlbnRcbiAgICAvLyBhdHRycyBtZWFucyB0aGF0IGlmIHRoZSB1c2VyIHNvbWVob3cgbWFuYWdlcyB0byBjaGFuZ2UgdGhlXG4gICAgLy8gYXR0cnMgaW4gdGhlIGRvbSwgdGhhdCB3b24ndCBiZSBwaWNrZWQgdXAuIE5vdCBlbnRpcmVseSBzdXJlXG4gICAgLy8gd2hldGhlciB0aGlzIGlzIGEgcHJvYmxlbVxuICAgIGxldCBydWxlID0ge25vZGU6IHRoaXMubm9kZS50eXBlLm5hbWUsIGF0dHJzOiB0aGlzLm5vZGUuYXR0cnN9XG4gICAgaWYgKHRoaXMubm9kZS50eXBlLnNwZWMuY29kZSkgcnVsZS5wcmVzZXJ2ZVdoaXRlc3BhY2UgPSBcImZ1bGxcIlxuICAgIGlmICh0aGlzLmNvbnRlbnRET00gJiYgIXRoaXMuY29udGVudExvc3QpIHJ1bGUuY29udGVudEVsZW1lbnQgPSB0aGlzLmNvbnRlbnRET01cbiAgICBlbHNlIHJ1bGUuZ2V0Q29udGVudCA9ICgpID0+IHRoaXMuY29udGVudERPTSA/IEZyYWdtZW50LmVtcHR5IDogdGhpcy5ub2RlLmNvbnRlbnRcbiAgICByZXR1cm4gcnVsZVxuICB9XG5cbiAgbWF0Y2hlc05vZGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28pIHtcbiAgICByZXR1cm4gdGhpcy5kaXJ0eSA9PSBOT1RfRElSVFkgJiYgbm9kZS5lcSh0aGlzLm5vZGUpICYmXG4gICAgICBzYW1lT3V0ZXJEZWNvKG91dGVyRGVjbywgdGhpcy5vdXRlckRlY28pICYmIGlubmVyRGVjby5lcSh0aGlzLmlubmVyRGVjbylcbiAgfVxuXG4gIGdldCBzaXplKCkgeyByZXR1cm4gdGhpcy5ub2RlLm5vZGVTaXplIH1cblxuICBnZXQgYm9yZGVyKCkgeyByZXR1cm4gdGhpcy5ub2RlLmlzTGVhZiA/IDAgOiAxIH1cblxuICAvLyBTeW5jcyBgdGhpcy5jaGlsZHJlbmAgdG8gbWF0Y2ggYHRoaXMubm9kZS5jb250ZW50YCBhbmQgdGhlIGxvY2FsXG4gIC8vIGRlY29yYXRpb25zLCBwb3NzaWJseSBpbnRyb2R1Y2luZyBuZXN0aW5nIGZvciBtYXJrcy4gVGhlbiwgaW4gYVxuICAvLyBzZXBhcmF0ZSBzdGVwLCBzeW5jcyB0aGUgRE9NIGluc2lkZSBgdGhpcy5jb250ZW50RE9NYCB0b1xuICAvLyBgdGhpcy5jaGlsZHJlbmAuXG4gIHVwZGF0ZUNoaWxkcmVuKHZpZXcsIHBvcykge1xuICAgIGxldCBpbmxpbmUgPSB0aGlzLm5vZGUuaW5saW5lQ29udGVudCwgb2ZmID0gcG9zXG4gICAgbGV0IGNvbXBvc2l0aW9uID0gaW5saW5lICYmIHZpZXcuY29tcG9zaW5nICYmIHRoaXMubG9jYWxDb21wb3NpdGlvbk5vZGUodmlldywgcG9zKVxuICAgIGxldCB1cGRhdGVyID0gbmV3IFZpZXdUcmVlVXBkYXRlcih0aGlzLCBjb21wb3NpdGlvbiAmJiBjb21wb3NpdGlvbi5ub2RlKVxuICAgIGl0ZXJEZWNvKHRoaXMubm9kZSwgdGhpcy5pbm5lckRlY28sICh3aWRnZXQsIGksIGluc2lkZU5vZGUpID0+IHtcbiAgICAgIGlmICh3aWRnZXQuc3BlYy5tYXJrcylcbiAgICAgICAgdXBkYXRlci5zeW5jVG9NYXJrcyh3aWRnZXQuc3BlYy5tYXJrcywgaW5saW5lLCB2aWV3KVxuICAgICAgZWxzZSBpZiAod2lkZ2V0LnR5cGUuc2lkZSA+PSAwICYmICFpbnNpZGVOb2RlKVxuICAgICAgICB1cGRhdGVyLnN5bmNUb01hcmtzKGkgPT0gdGhpcy5ub2RlLmNoaWxkQ291bnQgPyBNYXJrLm5vbmUgOiB0aGlzLm5vZGUuY2hpbGQoaSkubWFya3MsIGlubGluZSwgdmlldylcbiAgICAgIC8vIElmIHRoZSBuZXh0IG5vZGUgaXMgYSBkZXNjIG1hdGNoaW5nIHRoaXMgd2lkZ2V0LCByZXVzZSBpdCxcbiAgICAgIC8vIG90aGVyd2lzZSBpbnNlcnQgdGhlIHdpZGdldCBhcyBhIG5ldyB2aWV3IGRlc2MuXG4gICAgICB1cGRhdGVyLnBsYWNlV2lkZ2V0KHdpZGdldCwgdmlldywgb2ZmKVxuICAgIH0sIChjaGlsZCwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGkpID0+IHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgd3JhcHBpbmcgbWFyayBkZXNjcyBtYXRjaCB0aGUgbm9kZSdzIG1hcmtzLlxuICAgICAgdXBkYXRlci5zeW5jVG9NYXJrcyhjaGlsZC5tYXJrcywgaW5saW5lLCB2aWV3KVxuICAgICAgLy8gRWl0aGVyIGZpbmQgYW4gZXhpc3RpbmcgZGVzYyB0aGF0IGV4YWN0bHkgbWF0Y2hlcyB0aGlzIG5vZGUsXG4gICAgICAvLyBhbmQgZHJvcCB0aGUgZGVzY3MgYmVmb3JlIGl0LlxuICAgICAgdXBkYXRlci5maW5kTm9kZU1hdGNoKGNoaWxkLCBvdXRlckRlY28sIGlubmVyRGVjbywgaSkgfHxcbiAgICAgICAgLy8gT3IgdHJ5IHVwZGF0aW5nIHRoZSBuZXh0IGRlc2MgdG8gcmVmbGVjdCB0aGlzIG5vZGUuXG4gICAgICAgIHVwZGF0ZXIudXBkYXRlTmV4dE5vZGUoY2hpbGQsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBpKSB8fFxuICAgICAgICAvLyBPciBqdXN0IGFkZCBpdCBhcyBhIG5ldyBkZXNjLlxuICAgICAgICB1cGRhdGVyLmFkZE5vZGUoY2hpbGQsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBvZmYpXG4gICAgICBvZmYgKz0gY2hpbGQubm9kZVNpemVcbiAgICB9KVxuICAgIC8vIERyb3AgYWxsIHJlbWFpbmluZyBkZXNjcyBhZnRlciB0aGUgY3VycmVudCBwb3NpdGlvbi5cbiAgICB1cGRhdGVyLnN5bmNUb01hcmtzKG5vdGhpbmcsIGlubGluZSwgdmlldylcbiAgICBpZiAodGhpcy5ub2RlLmlzVGV4dGJsb2NrKSB1cGRhdGVyLmFkZFRleHRibG9ja0hhY2tzKClcbiAgICB1cGRhdGVyLmRlc3Ryb3lSZXN0KClcblxuICAgIC8vIFN5bmMgdGhlIERPTSBpZiBhbnl0aGluZyBjaGFuZ2VkXG4gICAgaWYgKHVwZGF0ZXIuY2hhbmdlZCB8fCB0aGlzLmRpcnR5ID09IENPTlRFTlRfRElSVFkpIHtcbiAgICAgIC8vIE1heSBoYXZlIHRvIHByb3RlY3QgZm9jdXNlZCBET00gZnJvbSBiZWluZyBjaGFuZ2VkIGlmIGEgY29tcG9zaXRpb24gaXMgYWN0aXZlXG4gICAgICBpZiAoY29tcG9zaXRpb24pIHRoaXMucHJvdGVjdExvY2FsQ29tcG9zaXRpb24odmlldywgY29tcG9zaXRpb24pXG4gICAgICB0aGlzLnJlbmRlckNoaWxkcmVuKClcbiAgICB9XG4gIH1cblxuICByZW5kZXJDaGlsZHJlbigpIHtcbiAgICByZW5kZXJEZXNjcyh0aGlzLmNvbnRlbnRET00sIHRoaXMuY2hpbGRyZW4sIE5vZGVWaWV3RGVzYy5pcylcbiAgICBpZiAoYnJvd3Nlci5pb3MpIGlvc0hhY2tzKHRoaXMuZG9tKVxuICB9XG5cbiAgbG9jYWxDb21wb3NpdGlvbk5vZGUodmlldywgcG9zKSB7XG4gICAgLy8gT25seSBkbyBzb21ldGhpbmcgaWYgYm90aCB0aGUgc2VsZWN0aW9uIGFuZCBhIGZvY3VzZWQgdGV4dCBub2RlXG4gICAgLy8gYXJlIGluc2lkZSBvZiB0aGlzIG5vZGUsIGFuZCB0aGUgbm9kZSBpc24ndCBhbHJlYWR5IHBhcnQgb2YgYVxuICAgIC8vIHZpZXcgdGhhdCdzIGEgY2hpbGQgb2YgdGhpcyB2aWV3XG4gICAgbGV0IHtmcm9tLCB0b30gPSB2aWV3LnN0YXRlLnNlbGVjdGlvblxuICAgIGlmICghKHZpZXcuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbikgfHwgZnJvbSA8IHBvcyB8fCB0byA+IHBvcyArIHRoaXMubm9kZS5jb250ZW50LnNpemUpIHJldHVyblxuICAgIGxldCBzZWwgPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKClcbiAgICBsZXQgdGV4dE5vZGUgPSBuZWFyYnlUZXh0Tm9kZShzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQpXG4gICAgaWYgKCF0ZXh0Tm9kZSB8fCAhdGhpcy5kb20uY29udGFpbnModGV4dE5vZGUucGFyZW50Tm9kZSkpIHJldHVyblxuXG4gICAgLy8gRmluZCB0aGUgdGV4dCBpbiB0aGUgZm9jdXNlZCBub2RlIGluIHRoZSBub2RlLCBzdG9wIGlmIGl0J3Mgbm90XG4gICAgLy8gdGhlcmUgKG1heSBoYXZlIGJlZW4gbW9kaWZpZWQgdGhyb3VnaCBvdGhlciBtZWFucywgaW4gd2hpY2hcbiAgICAvLyBjYXNlIGl0IHNob3VsZCBvdmVyd3JpdHRlbilcbiAgICBsZXQgdGV4dCA9IHRleHROb2RlLm5vZGVWYWx1ZVxuICAgIGxldCB0ZXh0UG9zID0gZmluZFRleHRJbkZyYWdtZW50KHRoaXMubm9kZS5jb250ZW50LCB0ZXh0LCBmcm9tIC0gcG9zLCB0byAtIHBvcylcblxuICAgIHJldHVybiB0ZXh0UG9zIDwgMCA/IG51bGwgOiB7bm9kZTogdGV4dE5vZGUsIHBvczogdGV4dFBvcywgdGV4dH1cbiAgfVxuXG4gIHByb3RlY3RMb2NhbENvbXBvc2l0aW9uKHZpZXcsIHtub2RlLCBwb3MsIHRleHR9KSB7XG4gICAgLy8gVGhlIG5vZGUgaXMgYWxyZWFkeSBwYXJ0IG9mIGEgbG9jYWwgdmlldyBkZXNjLCBsZWF2ZSBpdCB0aGVyZVxuICAgIGlmICh0aGlzLmdldERlc2Mobm9kZSkpIHJldHVyblxuXG4gICAgLy8gQ3JlYXRlIGEgY29tcG9zaXRpb24gdmlldyBmb3IgdGhlIG9ycGhhbmVkIG5vZGVzXG4gICAgbGV0IHRvcE5vZGUgPSBub2RlXG4gICAgZm9yICg7OyB0b3BOb2RlID0gdG9wTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICBpZiAodG9wTm9kZS5wYXJlbnROb2RlID09IHRoaXMuY29udGVudERPTSkgYnJlYWtcbiAgICAgIHdoaWxlICh0b3BOb2RlLnByZXZpb3VzU2libGluZykgdG9wTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRvcE5vZGUucHJldmlvdXNTaWJsaW5nKVxuICAgICAgd2hpbGUgKHRvcE5vZGUubmV4dFNpYmxpbmcpIHRvcE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0b3BOb2RlLm5leHRTaWJsaW5nKVxuICAgICAgaWYgKHRvcE5vZGUucG1WaWV3RGVzYykgdG9wTm9kZS5wbVZpZXdEZXNjID0gbnVsbFxuICAgIH1cbiAgICBsZXQgZGVzYyA9IG5ldyBDb21wb3NpdGlvblZpZXdEZXNjKHRoaXMsIHRvcE5vZGUsIG5vZGUsIHRleHQpXG4gICAgdmlldy5jb21wb3NpdGlvbk5vZGVzLnB1c2goZGVzYylcblxuICAgIC8vIFBhdGNoIHVwIHRoaXMuY2hpbGRyZW4gdG8gY29udGFpbiB0aGUgY29tcG9zaXRpb24gdmlld1xuICAgIHRoaXMuY2hpbGRyZW4gPSByZXBsYWNlTm9kZXModGhpcy5jaGlsZHJlbiwgcG9zLCBwb3MgKyB0ZXh0Lmxlbmd0aCwgdmlldywgZGVzYylcbiAgfVxuXG4gIC8vIDogKE5vZGUsIFtEZWNvcmF0aW9uXSwgRGVjb3JhdGlvblNldCwgRWRpdG9yVmlldykg4oaSIGJvb2xcbiAgLy8gSWYgdGhpcyBkZXNjIGJlIHVwZGF0ZWQgdG8gbWF0Y2ggdGhlIGdpdmVuIG5vZGUgZGVjb3JhdGlvbixcbiAgLy8gZG8gc28gYW5kIHJldHVybiB0cnVlLlxuICB1cGRhdGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcpIHtcbiAgICBpZiAodGhpcy5kaXJ0eSA9PSBOT0RFX0RJUlRZIHx8XG4gICAgICAgICFub2RlLnNhbWVNYXJrdXAodGhpcy5ub2RlKSkgcmV0dXJuIGZhbHNlXG4gICAgdGhpcy51cGRhdGVJbm5lcihub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldylcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgdXBkYXRlSW5uZXIobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcpIHtcbiAgICB0aGlzLnVwZGF0ZU91dGVyRGVjbyhvdXRlckRlY28pXG4gICAgdGhpcy5ub2RlID0gbm9kZVxuICAgIHRoaXMuaW5uZXJEZWNvID0gaW5uZXJEZWNvXG4gICAgaWYgKHRoaXMuY29udGVudERPTSkgdGhpcy51cGRhdGVDaGlsZHJlbih2aWV3LCB0aGlzLnBvc0F0U3RhcnQpXG4gICAgdGhpcy5kaXJ0eSA9IE5PVF9ESVJUWVxuICB9XG5cbiAgdXBkYXRlT3V0ZXJEZWNvKG91dGVyRGVjbykge1xuICAgIGlmIChzYW1lT3V0ZXJEZWNvKG91dGVyRGVjbywgdGhpcy5vdXRlckRlY28pKSByZXR1cm5cbiAgICBsZXQgbmVlZHNXcmFwID0gdGhpcy5ub2RlRE9NLm5vZGVUeXBlICE9IDFcbiAgICBsZXQgb2xkRE9NID0gdGhpcy5kb21cbiAgICB0aGlzLmRvbSA9IHBhdGNoT3V0ZXJEZWNvKHRoaXMuZG9tLCB0aGlzLm5vZGVET00sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlT3V0ZXJEZWNvKHRoaXMub3V0ZXJEZWNvLCB0aGlzLm5vZGUsIG5lZWRzV3JhcCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlT3V0ZXJEZWNvKG91dGVyRGVjbywgdGhpcy5ub2RlLCBuZWVkc1dyYXApKVxuICAgIGlmICh0aGlzLmRvbSAhPSBvbGRET00pIHtcbiAgICAgIG9sZERPTS5wbVZpZXdEZXNjID0gbnVsbFxuICAgICAgdGhpcy5kb20ucG1WaWV3RGVzYyA9IHRoaXNcbiAgICB9XG4gICAgdGhpcy5vdXRlckRlY28gPSBvdXRlckRlY29cbiAgfVxuXG4gIC8vIE1hcmsgdGhpcyBub2RlIGFzIGJlaW5nIHRoZSBzZWxlY3RlZCBub2RlLlxuICBzZWxlY3ROb2RlKCkge1xuICAgIHRoaXMubm9kZURPTS5jbGFzc0xpc3QuYWRkKFwiUHJvc2VNaXJyb3Itc2VsZWN0ZWRub2RlXCIpXG4gICAgaWYgKHRoaXMuY29udGVudERPTSB8fCAhdGhpcy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGUpIHRoaXMuZG9tLmRyYWdnYWJsZSA9IHRydWVcbiAgfVxuXG4gIC8vIFJlbW92ZSBzZWxlY3RlZCBub2RlIG1hcmtpbmcgZnJvbSB0aGlzIG5vZGUuXG4gIGRlc2VsZWN0Tm9kZSgpIHtcbiAgICB0aGlzLm5vZGVET00uY2xhc3NMaXN0LnJlbW92ZShcIlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZVwiKVxuICAgIGlmICh0aGlzLmNvbnRlbnRET00gfHwgIXRoaXMubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlKSB0aGlzLmRvbS5kcmFnZ2FibGUgPSBmYWxzZVxuICB9XG59XG5cbi8vIENyZWF0ZSBhIHZpZXcgZGVzYyBmb3IgdGhlIHRvcC1sZXZlbCBkb2N1bWVudCBub2RlLCB0byBiZSBleHBvcnRlZFxuLy8gYW5kIHVzZWQgYnkgdGhlIHZpZXcgY2xhc3MuXG5leHBvcnQgZnVuY3Rpb24gZG9jVmlld0Rlc2MoZG9jLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCB2aWV3KSB7XG4gIGFwcGx5T3V0ZXJEZWNvKGRvbSwgb3V0ZXJEZWNvLCBkb2MpXG4gIHJldHVybiBuZXcgTm9kZVZpZXdEZXNjKG51bGwsIGRvYywgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgZG9tLCBkb20sIHZpZXcsIDApXG59XG5cbmNsYXNzIFRleHRWaWV3RGVzYyBleHRlbmRzIE5vZGVWaWV3RGVzYyB7XG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgbm9kZURPTSwgdmlldykge1xuICAgIHN1cGVyKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgbnVsbCwgbm9kZURPTSwgdmlldylcbiAgfVxuXG4gIHBhcnNlUnVsZSgpIHtcbiAgICByZXR1cm4ge3NraXA6IHRoaXMubm9kZURPTS5wYXJlbnROb2RlIHx8IHRydWV9XG4gIH1cblxuICB1cGRhdGUobm9kZSwgb3V0ZXJEZWNvKSB7XG4gICAgaWYgKHRoaXMuZGlydHkgPT0gTk9ERV9ESVJUWSB8fCAodGhpcy5kaXJ0eSAhPSBOT1RfRElSVFkgJiYgIXRoaXMuaW5QYXJlbnQoKSkgfHxcbiAgICAgICAgIW5vZGUuc2FtZU1hcmt1cCh0aGlzLm5vZGUpKSByZXR1cm4gZmFsc2VcbiAgICB0aGlzLnVwZGF0ZU91dGVyRGVjbyhvdXRlckRlY28pXG4gICAgaWYgKCh0aGlzLmRpcnR5ICE9IE5PVF9ESVJUWSB8fCBub2RlLnRleHQgIT0gdGhpcy5ub2RlLnRleHQpICYmIG5vZGUudGV4dCAhPSB0aGlzLm5vZGVET00ubm9kZVZhbHVlKVxuICAgICAgdGhpcy5ub2RlRE9NLm5vZGVWYWx1ZSA9IG5vZGUudGV4dFxuICAgIHRoaXMubm9kZSA9IG5vZGVcbiAgICB0aGlzLmRpcnR5ID0gTk9UX0RJUlRZXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGluUGFyZW50KCkge1xuICAgIGxldCBwYXJlbnRET00gPSB0aGlzLnBhcmVudC5jb250ZW50RE9NXG4gICAgZm9yIChsZXQgbiA9IHRoaXMubm9kZURPTTsgbjsgbiA9IG4ucGFyZW50Tm9kZSkgaWYgKG4gPT0gcGFyZW50RE9NKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZG9tRnJvbVBvcyhwb3MpIHtcbiAgICByZXR1cm4ge25vZGU6IHRoaXMubm9kZURPTSwgb2Zmc2V0OiBwb3N9XG4gIH1cblxuICBsb2NhbFBvc0Zyb21ET00oZG9tLCBvZmZzZXQsIGJpYXMpIHtcbiAgICBpZiAoZG9tID09IHRoaXMubm9kZURPTSkgcmV0dXJuIHRoaXMucG9zQXRTdGFydCArIE1hdGgubWluKG9mZnNldCwgdGhpcy5ub2RlLnRleHQubGVuZ3RoKVxuICAgIHJldHVybiBzdXBlci5sb2NhbFBvc0Zyb21ET00oZG9tLCBvZmZzZXQsIGJpYXMpXG4gIH1cblxuICBpZ25vcmVNdXRhdGlvbihtdXRhdGlvbikge1xuICAgIHJldHVybiBtdXRhdGlvbi50eXBlICE9IFwiY2hhcmFjdGVyRGF0YVwiICYmIG11dGF0aW9uLnR5cGUgIT0gXCJzZWxlY3Rpb25cIlxuICB9XG5cbiAgc2xpY2UoZnJvbSwgdG8sIHZpZXcpIHtcbiAgICBsZXQgbm9kZSA9IHRoaXMubm9kZS5jdXQoZnJvbSwgdG8pLCBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLnRleHQpXG4gICAgcmV0dXJuIG5ldyBUZXh0Vmlld0Rlc2ModGhpcy5wYXJlbnQsIG5vZGUsIHRoaXMub3V0ZXJEZWNvLCB0aGlzLmlubmVyRGVjbywgZG9tLCBkb20sIHZpZXcpXG4gIH1cbn1cblxuLy8gQSBkdW1teSBkZXNjIHVzZWQgdG8gdGFnIHRyYWlsaW5nIEJSIG9yIHNwYW4gbm9kZXMgY3JlYXRlZCB0byB3b3JrXG4vLyBhcm91bmQgY29udGVudEVkaXRhYmxlIHRlcnJpYmxlbmVzcy5cbmNsYXNzIEJSSGFja1ZpZXdEZXNjIGV4dGVuZHMgVmlld0Rlc2Mge1xuICBwYXJzZVJ1bGUoKSB7IHJldHVybiB7aWdub3JlOiB0cnVlfSB9XG4gIG1hdGNoZXNIYWNrKCkgeyByZXR1cm4gdGhpcy5kaXJ0eSA9PSBOT1RfRElSVFkgfVxufVxuXG4vLyBBIHNlcGFyYXRlIHN1YmNsYXNzIGlzIHVzZWQgZm9yIGN1c3RvbWl6ZWQgbm9kZSB2aWV3cywgc28gdGhhdCB0aGVcbi8vIGV4dHJhIGNoZWNrcyBvbmx5IGhhdmUgdG8gYmUgbWFkZSBmb3Igbm9kZXMgdGhhdCBhcmUgYWN0dWFsbHlcbi8vIGN1c3RvbWl6ZWQuXG5jbGFzcyBDdXN0b21Ob2RlVmlld0Rlc2MgZXh0ZW5kcyBOb2RlVmlld0Rlc2Mge1xuICAvLyA6ICg/Vmlld0Rlc2MsIE5vZGUsIFtEZWNvcmF0aW9uXSwgRGVjb3JhdGlvblNldCwgZG9tLk5vZGUsID9kb20uTm9kZSwgTm9kZVZpZXcsIEVkaXRvclZpZXcpXG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgY29udGVudERPTSwgbm9kZURPTSwgc3BlYywgdmlldywgcG9zKSB7XG4gICAgc3VwZXIocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBjb250ZW50RE9NLCBub2RlRE9NLCB2aWV3LCBwb3MpXG4gICAgdGhpcy5zcGVjID0gc3BlY1xuICB9XG5cbiAgLy8gQSBjdXN0b20gYHVwZGF0ZWAgbWV0aG9kIGdldHMgdG8gZGVjaWRlIHdoZXRoZXIgdGhlIHVwZGF0ZSBnb2VzXG4gIC8vIHRocm91Z2guIElmIGl0IGRvZXMsIGFuZCB0aGVyZSdzIGEgYGNvbnRlbnRET01gIG5vZGUsIG91ciBsb2dpY1xuICAvLyB1cGRhdGVzIHRoZSBjaGlsZHJlbi5cbiAgdXBkYXRlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KSB7XG4gICAgaWYgKHRoaXMuZGlydHkgPT0gTk9ERV9ESVJUWSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKHRoaXMuc3BlYy51cGRhdGUpIHtcbiAgICAgIGxldCByZXN1bHQgPSB0aGlzLnNwZWMudXBkYXRlKG5vZGUsIG91dGVyRGVjbylcbiAgICAgIGlmIChyZXN1bHQpIHRoaXMudXBkYXRlSW5uZXIobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcpXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSBlbHNlIGlmICghdGhpcy5jb250ZW50RE9NICYmICFub2RlLmlzTGVhZikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdXBlci51cGRhdGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcpXG4gICAgfVxuICB9XG5cbiAgc2VsZWN0Tm9kZSgpIHtcbiAgICB0aGlzLnNwZWMuc2VsZWN0Tm9kZSA/IHRoaXMuc3BlYy5zZWxlY3ROb2RlKCkgOiBzdXBlci5zZWxlY3ROb2RlKClcbiAgfVxuXG4gIGRlc2VsZWN0Tm9kZSgpIHtcbiAgICB0aGlzLnNwZWMuZGVzZWxlY3ROb2RlID8gdGhpcy5zcGVjLmRlc2VsZWN0Tm9kZSgpIDogc3VwZXIuZGVzZWxlY3ROb2RlKClcbiAgfVxuXG4gIHNldFNlbGVjdGlvbihhbmNob3IsIGhlYWQsIHJvb3QsIGZvcmNlKSB7XG4gICAgdGhpcy5zcGVjLnNldFNlbGVjdGlvbiA/IHRoaXMuc3BlYy5zZXRTZWxlY3Rpb24oYW5jaG9yLCBoZWFkLCByb290KVxuICAgICAgOiBzdXBlci5zZXRTZWxlY3Rpb24oYW5jaG9yLCBoZWFkLCByb290LCBmb3JjZSlcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuc3BlYy5kZXN0cm95KSB0aGlzLnNwZWMuZGVzdHJveSgpXG4gICAgc3VwZXIuZGVzdHJveSgpXG4gIH1cblxuICBzdG9wRXZlbnQoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5zcGVjLnN0b3BFdmVudCA/IHRoaXMuc3BlYy5zdG9wRXZlbnQoZXZlbnQpIDogZmFsc2VcbiAgfVxuXG4gIGlnbm9yZU11dGF0aW9uKG11dGF0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuc3BlYy5pZ25vcmVNdXRhdGlvbiA/IHRoaXMuc3BlYy5pZ25vcmVNdXRhdGlvbihtdXRhdGlvbikgOiBzdXBlci5pZ25vcmVNdXRhdGlvbihtdXRhdGlvbilcbiAgfVxufVxuXG4vLyA6IChkb20uTm9kZSwgW1ZpZXdEZXNjXSlcbi8vIFN5bmMgdGhlIGNvbnRlbnQgb2YgdGhlIGdpdmVuIERPTSBub2RlIHdpdGggdGhlIG5vZGVzIGFzc29jaWF0ZWRcbi8vIHdpdGggdGhlIGdpdmVuIGFycmF5IG9mIHZpZXcgZGVzY3MsIHJlY3Vyc2luZyBpbnRvIG1hcmsgZGVzY3Ncbi8vIGJlY2F1c2UgdGhpcyBzaG91bGQgc3luYyB0aGUgc3VidHJlZSBmb3IgYSB3aG9sZSBub2RlIGF0IGEgdGltZS5cbmZ1bmN0aW9uIHJlbmRlckRlc2NzKHBhcmVudERPTSwgZGVzY3MpIHtcbiAgbGV0IGRvbSA9IHBhcmVudERPTS5maXJzdENoaWxkXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGVzY3MubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgZGVzYyA9IGRlc2NzW2ldLCBjaGlsZERPTSA9IGRlc2MuZG9tXG4gICAgaWYgKGNoaWxkRE9NLnBhcmVudE5vZGUgPT0gcGFyZW50RE9NKSB7XG4gICAgICB3aGlsZSAoY2hpbGRET00gIT0gZG9tKSBkb20gPSBybShkb20pXG4gICAgICBkb20gPSBkb20ubmV4dFNpYmxpbmdcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50RE9NLmluc2VydEJlZm9yZShjaGlsZERPTSwgZG9tKVxuICAgIH1cbiAgICBpZiAoZGVzYyBpbnN0YW5jZW9mIE1hcmtWaWV3RGVzYykge1xuICAgICAgbGV0IHBvcyA9IGRvbSA/IGRvbS5wcmV2aW91c1NpYmxpbmcgOiBwYXJlbnRET00ubGFzdENoaWxkXG4gICAgICByZW5kZXJEZXNjcyhkZXNjLmNvbnRlbnRET00sIGRlc2MuY2hpbGRyZW4pXG4gICAgICBkb20gPSBwb3MgPyBwb3MubmV4dFNpYmxpbmcgOiBwYXJlbnRET00uZmlyc3RDaGlsZFxuICAgIH1cbiAgfVxuICB3aGlsZSAoZG9tKSBkb20gPSBybShkb20pXG59XG5cbmZ1bmN0aW9uIE91dGVyRGVjb0xldmVsKG5vZGVOYW1lKSB7XG4gIGlmIChub2RlTmFtZSkgdGhpcy5ub2RlTmFtZSA9IG5vZGVOYW1lXG59XG5PdXRlckRlY29MZXZlbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpXG5cbmNvbnN0IG5vRGVjbyA9IFtuZXcgT3V0ZXJEZWNvTGV2ZWxdXG5cbmZ1bmN0aW9uIGNvbXB1dGVPdXRlckRlY28ob3V0ZXJEZWNvLCBub2RlLCBuZWVkc1dyYXApIHtcbiAgaWYgKG91dGVyRGVjby5sZW5ndGggPT0gMCkgcmV0dXJuIG5vRGVjb1xuXG4gIGxldCB0b3AgPSBuZWVkc1dyYXAgPyBub0RlY29bMF0gOiBuZXcgT3V0ZXJEZWNvTGV2ZWwsIHJlc3VsdCA9IFt0b3BdXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRlckRlY28ubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgYXR0cnMgPSBvdXRlckRlY29baV0udHlwZS5hdHRycywgY3VyID0gdG9wXG4gICAgaWYgKCFhdHRycykgY29udGludWVcbiAgICBpZiAoYXR0cnMubm9kZU5hbWUpXG4gICAgICByZXN1bHQucHVzaChjdXIgPSBuZXcgT3V0ZXJEZWNvTGV2ZWwoYXR0cnMubm9kZU5hbWUpKVxuXG4gICAgZm9yIChsZXQgbmFtZSBpbiBhdHRycykge1xuICAgICAgbGV0IHZhbCA9IGF0dHJzW25hbWVdXG4gICAgICBpZiAodmFsID09IG51bGwpIGNvbnRpbnVlXG4gICAgICBpZiAobmVlZHNXcmFwICYmIHJlc3VsdC5sZW5ndGggPT0gMSlcbiAgICAgICAgcmVzdWx0LnB1c2goY3VyID0gdG9wID0gbmV3IE91dGVyRGVjb0xldmVsKG5vZGUuaXNJbmxpbmUgPyBcInNwYW5cIiA6IFwiZGl2XCIpKVxuICAgICAgaWYgKG5hbWUgPT0gXCJjbGFzc1wiKSBjdXIuY2xhc3MgPSAoY3VyLmNsYXNzID8gY3VyLmNsYXNzICsgXCIgXCIgOiBcIlwiKSArIHZhbFxuICAgICAgZWxzZSBpZiAobmFtZSA9PSBcInN0eWxlXCIpIGN1ci5zdHlsZSA9IChjdXIuc3R5bGUgPyBjdXIuc3R5bGUgKyBcIjtcIiA6IFwiXCIpICsgdmFsXG4gICAgICBlbHNlIGlmIChuYW1lICE9IFwibm9kZU5hbWVcIikgY3VyW25hbWVdID0gdmFsXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBwYXRjaE91dGVyRGVjbyhvdXRlckRPTSwgbm9kZURPTSwgcHJldkNvbXB1dGVkLCBjdXJDb21wdXRlZCkge1xuICAvLyBTaG9ydGN1dCBmb3IgdHJpdmlhbCBjYXNlXG4gIGlmIChwcmV2Q29tcHV0ZWQgPT0gbm9EZWNvICYmIGN1ckNvbXB1dGVkID09IG5vRGVjbykgcmV0dXJuIG5vZGVET01cblxuICBsZXQgY3VyRE9NID0gbm9kZURPTVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGN1ckNvbXB1dGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGRlY28gPSBjdXJDb21wdXRlZFtpXSwgcHJldiA9IHByZXZDb21wdXRlZFtpXVxuICAgIGlmIChpKSB7XG4gICAgICBsZXQgcGFyZW50XG4gICAgICBpZiAocHJldiAmJiBwcmV2Lm5vZGVOYW1lID09IGRlY28ubm9kZU5hbWUgJiYgY3VyRE9NICE9IG91dGVyRE9NICYmXG4gICAgICAgICAgKHBhcmVudCA9IGN1ckRPTS5wYXJlbnROb2RlKSAmJiBwYXJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09IGRlY28ubm9kZU5hbWUpIHtcbiAgICAgICAgY3VyRE9NID0gcGFyZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGRlY28ubm9kZU5hbWUpXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjdXJET00pXG4gICAgICAgIHByZXYgPSBub0RlY29bMF1cbiAgICAgICAgY3VyRE9NID0gcGFyZW50XG4gICAgICB9XG4gICAgfVxuICAgIHBhdGNoQXR0cmlidXRlcyhjdXJET00sIHByZXYgfHwgbm9EZWNvWzBdLCBkZWNvKVxuICB9XG4gIHJldHVybiBjdXJET01cbn1cblxuZnVuY3Rpb24gcGF0Y2hBdHRyaWJ1dGVzKGRvbSwgcHJldiwgY3VyKSB7XG4gIGZvciAobGV0IG5hbWUgaW4gcHJldilcbiAgICBpZiAobmFtZSAhPSBcImNsYXNzXCIgJiYgbmFtZSAhPSBcInN0eWxlXCIgJiYgbmFtZSAhPSBcIm5vZGVOYW1lXCIgJiYgIShuYW1lIGluIGN1cikpXG4gICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpXG4gIGZvciAobGV0IG5hbWUgaW4gY3VyKVxuICAgIGlmIChuYW1lICE9IFwiY2xhc3NcIiAmJiBuYW1lICE9IFwic3R5bGVcIiAmJiBuYW1lICE9IFwibm9kZU5hbWVcIiAmJiBjdXJbbmFtZV0gIT0gcHJldltuYW1lXSlcbiAgICAgIGRvbS5zZXRBdHRyaWJ1dGUobmFtZSwgY3VyW25hbWVdKVxuICBpZiAocHJldi5jbGFzcyAhPSBjdXIuY2xhc3MpIHtcbiAgICBsZXQgcHJldkxpc3QgPSBwcmV2LmNsYXNzID8gcHJldi5jbGFzcy5zcGxpdChcIiBcIikgOiBub3RoaW5nXG4gICAgbGV0IGN1ckxpc3QgPSBjdXIuY2xhc3MgPyBjdXIuY2xhc3Muc3BsaXQoXCIgXCIpIDogbm90aGluZ1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldkxpc3QubGVuZ3RoOyBpKyspIGlmIChjdXJMaXN0LmluZGV4T2YocHJldkxpc3RbaV0pID09IC0xKVxuICAgICAgZG9tLmNsYXNzTGlzdC5yZW1vdmUocHJldkxpc3RbaV0pXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJMaXN0Lmxlbmd0aDsgaSsrKSBpZiAocHJldkxpc3QuaW5kZXhPZihjdXJMaXN0W2ldKSA9PSAtMSlcbiAgICAgIGRvbS5jbGFzc0xpc3QuYWRkKGN1ckxpc3RbaV0pXG4gIH1cbiAgaWYgKHByZXYuc3R5bGUgIT0gY3VyLnN0eWxlKSB7XG4gICAgaWYgKHByZXYuc3R5bGUpIHtcbiAgICAgIGxldCBwcm9wID0gL1xccyooW1xcd1xcLVxceGExLVxcdWZmZmZdKylcXHMqOig/OlwiKD86XFxcXC58W15cIl0pKlwifCcoPzpcXFxcLnxbXiddKSonfFxcKC4qP1xcKXxbXjtdKSovZywgbVxuICAgICAgd2hpbGUgKG0gPSBwcm9wLmV4ZWMocHJldi5zdHlsZSkpXG4gICAgICAgIGRvbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShtWzFdKVxuICAgIH1cbiAgICBpZiAoY3VyLnN0eWxlKVxuICAgICAgZG9tLnN0eWxlLmNzc1RleHQgKz0gY3VyLnN0eWxlXG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlPdXRlckRlY28oZG9tLCBkZWNvLCBub2RlKSB7XG4gIHJldHVybiBwYXRjaE91dGVyRGVjbyhkb20sIGRvbSwgbm9EZWNvLCBjb21wdXRlT3V0ZXJEZWNvKGRlY28sIG5vZGUsIGRvbS5ub2RlVHlwZSAhPSAxKSlcbn1cblxuLy8gOiAoW0RlY29yYXRpb25dLCBbRGVjb3JhdGlvbl0pIOKGkiBib29sXG5mdW5jdGlvbiBzYW1lT3V0ZXJEZWNvKGEsIGIpIHtcbiAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2VcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSBpZiAoIWFbaV0udHlwZS5lcShiW2ldLnR5cGUpKSByZXR1cm4gZmFsc2VcbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gUmVtb3ZlIGEgRE9NIG5vZGUgYW5kIHJldHVybiBpdHMgbmV4dCBzaWJsaW5nLlxuZnVuY3Rpb24gcm0oZG9tKSB7XG4gIGxldCBuZXh0ID0gZG9tLm5leHRTaWJsaW5nXG4gIGRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRvbSlcbiAgcmV0dXJuIG5leHRcbn1cblxuLy8gSGVscGVyIGNsYXNzIGZvciBpbmNyZW1lbnRhbGx5IHVwZGF0aW5nIGEgdHJlZSBvZiBtYXJrIGRlc2NzIGFuZFxuLy8gdGhlIHdpZGdldCBhbmQgbm9kZSBkZXNjcyBpbnNpZGUgb2YgdGhlbS5cbmNsYXNzIFZpZXdUcmVlVXBkYXRlciB7XG4gIC8vIDogKE5vZGVWaWV3RGVzYylcbiAgY29uc3RydWN0b3IodG9wLCBsb2NrZWROb2RlKSB7XG4gICAgdGhpcy50b3AgPSB0b3BcbiAgICB0aGlzLmxvY2sgPSBsb2NrZWROb2RlXG4gICAgLy8gSW5kZXggaW50byBgdGhpcy50b3BgJ3MgY2hpbGQgYXJyYXksIHJlcHJlc2VudHMgdGhlIGN1cnJlbnRcbiAgICAvLyB1cGRhdGUgcG9zaXRpb24uXG4gICAgdGhpcy5pbmRleCA9IDBcbiAgICAvLyBXaGVuIGVudGVyaW5nIGEgbWFyaywgdGhlIGN1cnJlbnQgdG9wIGFuZCBpbmRleCBhcmUgcHVzaGVkXG4gICAgLy8gb250byB0aGlzLlxuICAgIHRoaXMuc3RhY2sgPSBbXVxuICAgIC8vIFRyYWNrcyB3aGV0aGVyIGFueXRoaW5nIHdhcyBjaGFuZ2VkXG4gICAgdGhpcy5jaGFuZ2VkID0gZmFsc2VcblxuICAgIGxldCBwcmUgPSBwcmVNYXRjaCh0b3Aubm9kZS5jb250ZW50LCB0b3AuY2hpbGRyZW4pXG4gICAgdGhpcy5wcmVNYXRjaGVkID0gcHJlLm5vZGVzXG4gICAgdGhpcy5wcmVNYXRjaE9mZnNldCA9IHByZS5vZmZzZXRcbiAgfVxuXG4gIGdldFByZU1hdGNoKGluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4ID49IHRoaXMucHJlTWF0Y2hPZmZzZXQgPyB0aGlzLnByZU1hdGNoZWRbaW5kZXggLSB0aGlzLnByZU1hdGNoT2Zmc2V0XSA6IG51bGxcbiAgfVxuXG4gIC8vIERlc3Ryb3kgYW5kIHJlbW92ZSB0aGUgY2hpbGRyZW4gYmV0d2VlbiB0aGUgZ2l2ZW4gaW5kaWNlcyBpblxuICAvLyBgdGhpcy50b3BgLlxuICBkZXN0cm95QmV0d2VlbihzdGFydCwgZW5kKSB7XG4gICAgaWYgKHN0YXJ0ID09IGVuZCkgcmV0dXJuXG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHRoaXMudG9wLmNoaWxkcmVuW2ldLmRlc3Ryb3koKVxuICAgIHRoaXMudG9wLmNoaWxkcmVuLnNwbGljZShzdGFydCwgZW5kIC0gc3RhcnQpXG4gICAgdGhpcy5jaGFuZ2VkID0gdHJ1ZVxuICB9XG5cbiAgLy8gRGVzdHJveSBhbGwgcmVtYWluaW5nIGNoaWxkcmVuIGluIGB0aGlzLnRvcGAuXG4gIGRlc3Ryb3lSZXN0KCkge1xuICAgIHRoaXMuZGVzdHJveUJldHdlZW4odGhpcy5pbmRleCwgdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKVxuICB9XG5cbiAgLy8gOiAoW01hcmtdLCBFZGl0b3JWaWV3KVxuICAvLyBTeW5jIHRoZSBjdXJyZW50IHN0YWNrIG9mIG1hcmsgZGVzY3Mgd2l0aCB0aGUgZ2l2ZW4gYXJyYXkgb2ZcbiAgLy8gbWFya3MsIHJldXNpbmcgZXhpc3RpbmcgbWFyayBkZXNjcyB3aGVuIHBvc3NpYmxlLlxuICBzeW5jVG9NYXJrcyhtYXJrcywgaW5saW5lLCB2aWV3KSB7XG4gICAgbGV0IGtlZXAgPSAwLCBkZXB0aCA9IHRoaXMuc3RhY2subGVuZ3RoID4+IDFcbiAgICBsZXQgbWF4S2VlcCA9IE1hdGgubWluKGRlcHRoLCBtYXJrcy5sZW5ndGgpXG4gICAgd2hpbGUgKGtlZXAgPCBtYXhLZWVwICYmXG4gICAgICAgICAgIChrZWVwID09IGRlcHRoIC0gMSA/IHRoaXMudG9wIDogdGhpcy5zdGFja1soa2VlcCArIDEpIDw8IDFdKS5tYXRjaGVzTWFyayhtYXJrc1trZWVwXSkgJiYgbWFya3Nba2VlcF0udHlwZS5zcGVjLnNwYW5uaW5nICE9PSBmYWxzZSlcbiAgICAgIGtlZXArK1xuXG4gICAgd2hpbGUgKGtlZXAgPCBkZXB0aCkge1xuICAgICAgdGhpcy5kZXN0cm95UmVzdCgpXG4gICAgICB0aGlzLnRvcC5kaXJ0eSA9IE5PVF9ESVJUWVxuICAgICAgdGhpcy5pbmRleCA9IHRoaXMuc3RhY2sucG9wKClcbiAgICAgIHRoaXMudG9wID0gdGhpcy5zdGFjay5wb3AoKVxuICAgICAgZGVwdGgtLVxuICAgIH1cbiAgICB3aGlsZSAoZGVwdGggPCBtYXJrcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuc3RhY2sucHVzaCh0aGlzLnRvcCwgdGhpcy5pbmRleCArIDEpXG4gICAgICBsZXQgZm91bmQgPSAtMVxuICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaW5kZXg7IGkgPCBNYXRoLm1pbih0aGlzLmluZGV4ICsgMywgdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLnRvcC5jaGlsZHJlbltpXS5tYXRjaGVzTWFyayhtYXJrc1tkZXB0aF0pKSB7IGZvdW5kID0gaTsgYnJlYWsgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kID4gLTEpIHtcbiAgICAgICAgaWYgKGZvdW5kID4gdGhpcy5pbmRleCkge1xuICAgICAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWVcbiAgICAgICAgICB0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsIGZvdW5kKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9wID0gdGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBtYXJrRGVzYyA9IE1hcmtWaWV3RGVzYy5jcmVhdGUodGhpcy50b3AsIG1hcmtzW2RlcHRoXSwgaW5saW5lLCB2aWV3KVxuICAgICAgICB0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCwgMCwgbWFya0Rlc2MpXG4gICAgICAgIHRoaXMudG9wID0gbWFya0Rlc2NcbiAgICAgICAgdGhpcy5jaGFuZ2VkID0gdHJ1ZVxuICAgICAgfVxuICAgICAgdGhpcy5pbmRleCA9IDBcbiAgICAgIGRlcHRoKytcbiAgICB9XG4gIH1cblxuICAvLyA6IChOb2RlLCBbRGVjb3JhdGlvbl0sIERlY29yYXRpb25TZXQpIOKGkiBib29sXG4gIC8vIFRyeSB0byBmaW5kIGEgbm9kZSBkZXNjIG1hdGNoaW5nIHRoZSBnaXZlbiBkYXRhLiBTa2lwIG92ZXIgaXQgYW5kXG4gIC8vIHJldHVybiB0cnVlIHdoZW4gc3VjY2Vzc2Z1bC5cbiAgZmluZE5vZGVNYXRjaChub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgaW5kZXgpIHtcbiAgICBsZXQgZm91bmQgPSAtMSwgcHJlTWF0Y2ggPSBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiB0aGlzLmdldFByZU1hdGNoKGluZGV4KSwgY2hpbGRyZW4gPSB0aGlzLnRvcC5jaGlsZHJlblxuICAgIGlmIChwcmVNYXRjaCAmJiBwcmVNYXRjaC5tYXRjaGVzTm9kZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbykpIHtcbiAgICAgIGZvdW5kID0gY2hpbGRyZW4uaW5kZXhPZihwcmVNYXRjaClcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaW5kZXgsIGUgPSBNYXRoLm1pbihjaGlsZHJlbi5sZW5ndGgsIGkgKyA1KTsgaSA8IGU7IGkrKykge1xuICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZHJlbltpXVxuICAgICAgICBpZiAoY2hpbGQubWF0Y2hlc05vZGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28pICYmIHRoaXMucHJlTWF0Y2hlZC5pbmRleE9mKGNoaWxkKSA8IDApIHtcbiAgICAgICAgICBmb3VuZCA9IGlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmb3VuZCA8IDApIHJldHVybiBmYWxzZVxuICAgIHRoaXMuZGVzdHJveUJldHdlZW4odGhpcy5pbmRleCwgZm91bmQpXG4gICAgdGhpcy5pbmRleCsrXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIDogKE5vZGUsIFtEZWNvcmF0aW9uXSwgRGVjb3JhdGlvblNldCwgRWRpdG9yVmlldywgRnJhZ21lbnQsIG51bWJlcikg4oaSIGJvb2xcbiAgLy8gVHJ5IHRvIHVwZGF0ZSB0aGUgbmV4dCBub2RlLCBpZiBhbnksIHRvIHRoZSBnaXZlbiBkYXRhLiBDaGVja3NcbiAgLy8gcHJlLW1hdGNoZXMgdG8gYXZvaWQgb3ZlcndyaXRpbmcgbm9kZXMgdGhhdCBjb3VsZCBzdGlsbCBiZSB1c2VkLlxuICB1cGRhdGVOZXh0Tm9kZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldywgaW5kZXgpIHtcbiAgICBpZiAodGhpcy5pbmRleCA9PSB0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgpIHJldHVybiBmYWxzZVxuICAgIGxldCBuZXh0ID0gdGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF1cbiAgICBpZiAobmV4dCBpbnN0YW5jZW9mIE5vZGVWaWV3RGVzYykge1xuICAgICAgbGV0IHByZU1hdGNoID0gdGhpcy5wcmVNYXRjaGVkLmluZGV4T2YobmV4dClcbiAgICAgIGlmIChwcmVNYXRjaCA+IC0xICYmIHByZU1hdGNoICsgdGhpcy5wcmVNYXRjaE9mZnNldCAhPSBpbmRleCkgcmV0dXJuIGZhbHNlXG4gICAgICBsZXQgbmV4dERPTSA9IG5leHQuZG9tXG5cbiAgICAgIC8vIENhbid0IHVwZGF0ZSBpZiBuZXh0RE9NIGlzIG9yIGNvbnRhaW5zIHRoaXMubG9jaywgZXhjZXB0IGlmXG4gICAgICAvLyBpdCdzIGEgdGV4dCBub2RlIHdob3NlIGNvbnRlbnQgYWxyZWFkeSBtYXRjaGVzIHRoZSBuZXcgdGV4dFxuICAgICAgLy8gYW5kIHdob3NlIGRlY29yYXRpb25zIG1hdGNoIHRoZSBuZXcgb25lcy5cbiAgICAgIGxldCBsb2NrZWQgPSB0aGlzLmxvY2sgJiYgKG5leHRET00gPT0gdGhpcy5sb2NrIHx8IG5leHRET00ubm9kZVR5cGUgPT0gMSAmJiBuZXh0RE9NLmNvbnRhaW5zKHRoaXMubG9jay5wYXJlbnROb2RlKSkgJiZcbiAgICAgICAgICAhKG5vZGUuaXNUZXh0ICYmIG5leHQubm9kZSAmJiBuZXh0Lm5vZGUuaXNUZXh0ICYmIG5leHQubm9kZURPTS5ub2RlVmFsdWUgPT0gbm9kZS50ZXh0ICYmXG4gICAgICAgICAgICBuZXh0LmRpcnR5ICE9IE5PREVfRElSVFkgJiYgc2FtZU91dGVyRGVjbyhvdXRlckRlY28sIG5leHQub3V0ZXJEZWNvKSlcbiAgICAgIGlmICghbG9ja2VkICYmIG5leHQudXBkYXRlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KSkge1xuICAgICAgICBpZiAobmV4dC5kb20gIT0gbmV4dERPTSkgdGhpcy5jaGFuZ2VkID0gdHJ1ZVxuICAgICAgICB0aGlzLmluZGV4KytcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyA6IChOb2RlLCBbRGVjb3JhdGlvbl0sIERlY29yYXRpb25TZXQsIEVkaXRvclZpZXcpXG4gIC8vIEluc2VydCB0aGUgbm9kZSBhcyBhIG5ld2x5IGNyZWF0ZWQgbm9kZSBkZXNjLlxuICBhZGROb2RlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBwb3MpIHtcbiAgICB0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLCAwLCBOb2RlVmlld0Rlc2MuY3JlYXRlKHRoaXMudG9wLCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldywgcG9zKSlcbiAgICB0aGlzLmNoYW5nZWQgPSB0cnVlXG4gIH1cblxuICBwbGFjZVdpZGdldCh3aWRnZXQsIHZpZXcsIHBvcykge1xuICAgIGlmICh0aGlzLmluZGV4IDwgdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoICYmIHRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdLm1hdGNoZXNXaWRnZXQod2lkZ2V0KSkge1xuICAgICAgdGhpcy5pbmRleCsrXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBkZXNjID0gbmV3IFdpZGdldFZpZXdEZXNjKHRoaXMudG9wLCB3aWRnZXQsIHZpZXcsIHBvcylcbiAgICAgIHRoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssIDAsIGRlc2MpXG4gICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlXG4gICAgfVxuICB9XG5cbiAgLy8gTWFrZSBzdXJlIGEgdGV4dGJsb2NrIGxvb2tzIGFuZCBiZWhhdmVzIGNvcnJlY3RseSBpblxuICAvLyBjb250ZW50RWRpdGFibGUuXG4gIGFkZFRleHRibG9ja0hhY2tzKCkge1xuICAgIGxldCBsYXN0Q2hpbGQgPSB0aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4IC0gMV1cbiAgICB3aGlsZSAobGFzdENoaWxkIGluc3RhbmNlb2YgTWFya1ZpZXdEZXNjKSBsYXN0Q2hpbGQgPSBsYXN0Q2hpbGQuY2hpbGRyZW5bbGFzdENoaWxkLmNoaWxkcmVuLmxlbmd0aCAtIDFdXG5cbiAgICBpZiAoIWxhc3RDaGlsZCB8fCAvLyBFbXB0eSB0ZXh0YmxvY2tcbiAgICAgICAgIShsYXN0Q2hpbGQgaW5zdGFuY2VvZiBUZXh0Vmlld0Rlc2MpIHx8XG4gICAgICAgIC9cXG4kLy50ZXN0KGxhc3RDaGlsZC5ub2RlLnRleHQpKSB7XG4gICAgICBpZiAodGhpcy5pbmRleCA8IHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCAmJiB0aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4XS5tYXRjaGVzSGFjaygpKSB7XG4gICAgICAgIHRoaXMuaW5kZXgrK1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKVxuICAgICAgICB0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLCAwLCBuZXcgQlJIYWNrVmlld0Rlc2ModGhpcy50b3AsIG5vdGhpbmcsIGRvbSwgbnVsbCkpXG4gICAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gOiAoRnJhZ21lbnQsIFtWaWV3RGVzY10pIOKGkiBbVmlld0Rlc2NdXG4vLyBJdGVyYXRlIGZyb20gdGhlIGVuZCBvZiB0aGUgZnJhZ21lbnQgYW5kIGFycmF5IG9mIGRlc2NzIHRvIGZpbmRcbi8vIGRpcmVjdGx5IG1hdGNoaW5nIG9uZXMsIGluIG9yZGVyIHRvIGF2b2lkIG92ZXJlYWdlcmx5IHJldXNpbmdcbi8vIHRob3NlIGZvciBvdGhlciBub2Rlcy4gUmV0dXJucyBhbiBhcnJheSB3aG9zZSBwb3NpdGlvbnMgY29ycmVzcG9uZFxuLy8gdG8gbm9kZSBwb3NpdGlvbnMgaW4gdGhlIGZyYWdtZW50LCBhbmQgd2hvc2UgZWxlbWVudHMgYXJlIGVpdGhlclxuLy8gZGVzY3MgbWF0Y2hlZCB0byB0aGUgY2hpbGQgYXQgdGhhdCBpbmRleCwgb3IgZW1wdHkuXG5mdW5jdGlvbiBwcmVNYXRjaChmcmFnLCBkZXNjcykge1xuICBsZXQgcmVzdWx0ID0gW10sIGVuZCA9IGZyYWcuY2hpbGRDb3VudFxuICBmb3IgKGxldCBpID0gZGVzY3MubGVuZ3RoIC0gMTsgZW5kID4gMCAmJiBpID49IDA7IGktLSkge1xuICAgIGxldCBkZXNjID0gZGVzY3NbaV0sIG5vZGUgPSBkZXNjLm5vZGVcbiAgICBpZiAoIW5vZGUpIGNvbnRpbnVlXG4gICAgaWYgKG5vZGUgIT0gZnJhZy5jaGlsZChlbmQgLSAxKSkgYnJlYWtcbiAgICByZXN1bHQucHVzaChkZXNjKVxuICAgIC0tZW5kXG4gIH1cbiAgcmV0dXJuIHtub2RlczogcmVzdWx0LnJldmVyc2UoKSwgb2Zmc2V0OiBlbmR9XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVTaWRlKGEsIGIpIHsgcmV0dXJuIGEudHlwZS5zaWRlIC0gYi50eXBlLnNpZGUgfVxuXG4vLyA6IChWaWV3RGVzYywgRGVjb3JhdGlvblNldCwgKERlY29yYXRpb24sIG51bWJlciksIChOb2RlLCBbRGVjb3JhdGlvbl0sIERlY29yYXRpb25TZXQsIG51bWJlcikpXG4vLyBUaGlzIGZ1bmN0aW9uIGFic3RyYWN0cyBpdGVyYXRpbmcgb3ZlciB0aGUgbm9kZXMgYW5kIGRlY29yYXRpb25zIGluXG4vLyBhIGZyYWdtZW50LiBDYWxscyBgb25Ob2RlYCBmb3IgZWFjaCBub2RlLCB3aXRoIGl0cyBsb2NhbCBhbmQgY2hpbGRcbi8vIGRlY29yYXRpb25zLiBTcGxpdHMgdGV4dCBub2RlcyB3aGVuIHRoZXJlIGlzIGEgZGVjb3JhdGlvbiBzdGFydGluZ1xuLy8gb3IgZW5kaW5nIGluc2lkZSBvZiB0aGVtLiBDYWxscyBgb25XaWRnZXRgIGZvciBlYWNoIHdpZGdldC5cbmZ1bmN0aW9uIGl0ZXJEZWNvKHBhcmVudCwgZGVjbywgb25XaWRnZXQsIG9uTm9kZSkge1xuICBsZXQgbG9jYWxzID0gZGVjby5sb2NhbHMocGFyZW50KSwgb2Zmc2V0ID0gMFxuICAvLyBTaW1wbGUsIGNoZWFwIHZhcmlhbnQgZm9yIHdoZW4gdGhlcmUgYXJlIG5vIGxvY2FsIGRlY29yYXRpb25zXG4gIGlmIChsb2NhbHMubGVuZ3RoID09IDApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmVudC5jaGlsZENvdW50OyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IHBhcmVudC5jaGlsZChpKVxuICAgICAgb25Ob2RlKGNoaWxkLCBsb2NhbHMsIGRlY28uZm9yQ2hpbGQob2Zmc2V0LCBjaGlsZCksIGkpXG4gICAgICBvZmZzZXQgKz0gY2hpbGQubm9kZVNpemVcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICBsZXQgZGVjb0luZGV4ID0gMCwgYWN0aXZlID0gW10sIHJlc3ROb2RlID0gbnVsbFxuICBmb3IgKGxldCBwYXJlbnRJbmRleCA9IDA7Oykge1xuICAgIGlmIChkZWNvSW5kZXggPCBsb2NhbHMubGVuZ3RoICYmIGxvY2Fsc1tkZWNvSW5kZXhdLnRvID09IG9mZnNldCkge1xuICAgICAgbGV0IHdpZGdldCA9IGxvY2Fsc1tkZWNvSW5kZXgrK10sIHdpZGdldHNcbiAgICAgIHdoaWxlIChkZWNvSW5kZXggPCBsb2NhbHMubGVuZ3RoICYmIGxvY2Fsc1tkZWNvSW5kZXhdLnRvID09IG9mZnNldClcbiAgICAgICAgKHdpZGdldHMgfHwgKHdpZGdldHMgPSBbd2lkZ2V0XSkpLnB1c2gobG9jYWxzW2RlY29JbmRleCsrXSlcbiAgICAgIGlmICh3aWRnZXRzKSB7XG4gICAgICAgIHdpZGdldHMuc29ydChjb21wYXJlU2lkZSlcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aWRnZXRzLmxlbmd0aDsgaSsrKSBvbldpZGdldCh3aWRnZXRzW2ldLCBwYXJlbnRJbmRleCwgISFyZXN0Tm9kZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uV2lkZ2V0KHdpZGdldCwgcGFyZW50SW5kZXgsICEhcmVzdE5vZGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGNoaWxkLCBpbmRleFxuICAgIGlmIChyZXN0Tm9kZSkge1xuICAgICAgaW5kZXggPSAtMVxuICAgICAgY2hpbGQgPSByZXN0Tm9kZVxuICAgICAgcmVzdE5vZGUgPSBudWxsXG4gICAgfSBlbHNlIGlmIChwYXJlbnRJbmRleCA8IHBhcmVudC5jaGlsZENvdW50KSB7XG4gICAgICBpbmRleCA9IHBhcmVudEluZGV4XG4gICAgICBjaGlsZCA9IHBhcmVudC5jaGlsZChwYXJlbnRJbmRleCsrKVxuICAgIH0gZWxzZSB7XG4gICAgICBicmVha1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlLmxlbmd0aDsgaSsrKSBpZiAoYWN0aXZlW2ldLnRvIDw9IG9mZnNldCkgYWN0aXZlLnNwbGljZShpLS0sIDEpXG4gICAgd2hpbGUgKGRlY29JbmRleCA8IGxvY2Fscy5sZW5ndGggJiYgbG9jYWxzW2RlY29JbmRleF0uZnJvbSA9PSBvZmZzZXQpIGFjdGl2ZS5wdXNoKGxvY2Fsc1tkZWNvSW5kZXgrK10pXG5cbiAgICBsZXQgZW5kID0gb2Zmc2V0ICsgY2hpbGQubm9kZVNpemVcbiAgICBpZiAoY2hpbGQuaXNUZXh0KSB7XG4gICAgICBsZXQgY3V0QXQgPSBlbmRcbiAgICAgIGlmIChkZWNvSW5kZXggPCBsb2NhbHMubGVuZ3RoICYmIGxvY2Fsc1tkZWNvSW5kZXhdLmZyb20gPCBjdXRBdCkgY3V0QXQgPSBsb2NhbHNbZGVjb0luZGV4XS5mcm9tXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGl2ZS5sZW5ndGg7IGkrKykgaWYgKGFjdGl2ZVtpXS50byA8IGN1dEF0KSBjdXRBdCA9IGFjdGl2ZVtpXS50b1xuICAgICAgaWYgKGN1dEF0IDwgZW5kKSB7XG4gICAgICAgIHJlc3ROb2RlID0gY2hpbGQuY3V0KGN1dEF0IC0gb2Zmc2V0KVxuICAgICAgICBjaGlsZCA9IGNoaWxkLmN1dCgwLCBjdXRBdCAtIG9mZnNldClcbiAgICAgICAgZW5kID0gY3V0QXRcbiAgICAgICAgaW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cblxuICAgIG9uTm9kZShjaGlsZCwgYWN0aXZlLmxlbmd0aCA/IGFjdGl2ZS5zbGljZSgpIDogbm90aGluZywgZGVjby5mb3JDaGlsZChvZmZzZXQsIGNoaWxkKSwgaW5kZXgpXG4gICAgb2Zmc2V0ID0gZW5kXG4gIH1cbn1cblxuLy8gTGlzdCBtYXJrZXJzIGluIE1vYmlsZSBTYWZhcmkgd2lsbCBteXN0ZXJpb3VzbHkgZGlzYXBwZWFyXG4vLyBzb21ldGltZXMuIFRoaXMgd29ya3MgYXJvdW5kIHRoYXQuXG5mdW5jdGlvbiBpb3NIYWNrcyhkb20pIHtcbiAgaWYgKGRvbS5ub2RlTmFtZSA9PSBcIlVMXCIgfHwgZG9tLm5vZGVOYW1lID09IFwiT0xcIikge1xuICAgIGxldCBvbGRDU1MgPSBkb20uc3R5bGUuY3NzVGV4dFxuICAgIGRvbS5zdHlsZS5jc3NUZXh0ID0gb2xkQ1NTICsgXCI7IGxpc3Qtc3R5bGU6IHNxdWFyZSAhaW1wb3J0YW50XCJcbiAgICB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb20pLmxpc3RTdHlsZVxuICAgIGRvbS5zdHlsZS5jc3NUZXh0ID0gb2xkQ1NTXG4gIH1cbn1cblxuZnVuY3Rpb24gbmVhcmJ5VGV4dE5vZGUobm9kZSwgb2Zmc2V0KSB7XG4gIGZvciAoOzspIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAzKSByZXR1cm4gbm9kZVxuICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgb2Zmc2V0ID4gMCkge1xuICAgICAgaWYgKG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggPiBvZmZzZXQgJiYgbm9kZS5jaGlsZE5vZGVzW29mZnNldF0ubm9kZVR5cGUgPT0gMylcbiAgICAgICAgcmV0dXJuIG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdXG4gICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdXG4gICAgICBvZmZzZXQgPSBub2RlU2l6ZShub2RlKVxuICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIG9mZnNldCA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIG5vZGUgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XVxuICAgICAgb2Zmc2V0ID0gMFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxufVxuXG4vLyBGaW5kIGEgcGllY2Ugb2YgdGV4dCBpbiBhbiBpbmxpbmUgZnJhZ21lbnQsIG92ZXJsYXBwaW5nIGZyb20tdG9cbmZ1bmN0aW9uIGZpbmRUZXh0SW5GcmFnbWVudChmcmFnLCB0ZXh0LCBmcm9tLCB0bykge1xuICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDsgaSA8IGZyYWcuY2hpbGRDb3VudCAmJiBwb3MgPD0gdG87KSB7XG4gICAgbGV0IGNoaWxkID0gZnJhZy5jaGlsZChpKyspLCBjaGlsZFN0YXJ0ID0gcG9zXG4gICAgcG9zICs9IGNoaWxkLm5vZGVTaXplXG4gICAgaWYgKCFjaGlsZC5pc1RleHQpIGNvbnRpbnVlXG4gICAgbGV0IHN0ciA9IGNoaWxkLnRleHRcbiAgICB3aGlsZSAoaSA8IGZyYWcuY2hpbGRDb3VudCkge1xuICAgICAgbGV0IG5leHQgPSBmcmFnLmNoaWxkKGkrKylcbiAgICAgIHBvcyArPSBuZXh0Lm5vZGVTaXplXG4gICAgICBpZiAoIW5leHQuaXNUZXh0KSBicmVha1xuICAgICAgc3RyICs9IG5leHQudGV4dFxuICAgIH1cbiAgICBpZiAocG9zID49IGZyb20pIHtcbiAgICAgIGxldCBmb3VuZCA9IHN0ci5sYXN0SW5kZXhPZih0ZXh0LCB0byAtIGNoaWxkU3RhcnQpXG4gICAgICBpZiAoZm91bmQgPj0gMCAmJiBmb3VuZCArIHRleHQubGVuZ3RoICsgY2hpbGRTdGFydCA+PSBmcm9tKVxuICAgICAgICByZXR1cm4gY2hpbGRTdGFydCArIGZvdW5kXG4gICAgfVxuICB9XG4gIHJldHVybiAtMVxufVxuXG4vLyBSZXBsYWNlIHJhbmdlIGZyb20tdG8gaW4gYW4gYXJyYXkgb2YgdmlldyBkZXNjcyB3aXRoIHJlcGxhY2VtZW50XG4vLyAobWF5IGJlIG51bGwgdG8ganVzdCBkZWxldGUpLiBUaGlzIGdvZXMgdmVyeSBtdWNoIGFnYWluc3QgdGhlIGdyYWluXG4vLyBvZiB0aGUgcmVzdCBvZiB0aGlzIGNvZGUsIHdoaWNoIHRlbmRzIHRvIGNyZWF0ZSBub2RlcyB3aXRoIHRoZVxuLy8gcmlnaHQgc2hhcGUgaW4gb25lIGdvLCByYXRoZXIgdGhhbiBtZXNzaW5nIHdpdGggdGhlbSBhZnRlclxuLy8gY3JlYXRpb24sIGJ1dCBpcyBuZWNlc3NhcnkgaW4gdGhlIGNvbXBvc2l0aW9uIGhhY2suXG5mdW5jdGlvbiByZXBsYWNlTm9kZXMobm9kZXMsIGZyb20sIHRvLCB2aWV3LCByZXBsYWNlbWVudCkge1xuICBsZXQgcmVzdWx0ID0gW11cbiAgZm9yIChsZXQgaSA9IDAsIG9mZiA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBjaGlsZCA9IG5vZGVzW2ldLCBzdGFydCA9IG9mZiwgZW5kID0gb2ZmICs9IGNoaWxkLnNpemVcbiAgICBpZiAoc3RhcnQgPj0gdG8gfHwgZW5kIDw9IGZyb20pIHtcbiAgICAgIHJlc3VsdC5wdXNoKGNoaWxkKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3RhcnQgPCBmcm9tKSByZXN1bHQucHVzaChjaGlsZC5zbGljZSgwLCBmcm9tIC0gc3RhcnQsIHZpZXcpKVxuICAgICAgaWYgKHJlcGxhY2VtZW50KSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHJlcGxhY2VtZW50KVxuICAgICAgICByZXBsYWNlbWVudCA9IG51bGxcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgPiB0bykgcmVzdWx0LnB1c2goY2hpbGQuc2xpY2UodG8gLSBzdGFydCwgY2hpbGQuc2l6ZSwgdmlldykpXG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cbiIsImltcG9ydCB7U2VsZWN0aW9uLCBOb2RlU2VsZWN0aW9uLCBUZXh0U2VsZWN0aW9ufSBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIlxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5pbXBvcnQge2RvbUluZGV4LCBzZWxlY3Rpb25Db2xsYXBzZWR9IGZyb20gXCIuL2RvbVwiXG5cbmZ1bmN0aW9uIG1vdmVTZWxlY3Rpb25CbG9jayhzdGF0ZSwgZGlyKSB7XG4gIGxldCB7JGFuY2hvciwgJGhlYWR9ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGxldCAkc2lkZSA9IGRpciA+IDAgPyAkYW5jaG9yLm1heCgkaGVhZCkgOiAkYW5jaG9yLm1pbigkaGVhZClcbiAgbGV0ICRzdGFydCA9ICEkc2lkZS5wYXJlbnQuaW5saW5lQ29udGVudCA/ICRzaWRlIDogJHNpZGUuZGVwdGggPyBzdGF0ZS5kb2MucmVzb2x2ZShkaXIgPiAwID8gJHNpZGUuYWZ0ZXIoKSA6ICRzaWRlLmJlZm9yZSgpKSA6IG51bGxcbiAgcmV0dXJuICRzdGFydCAmJiBTZWxlY3Rpb24uZmluZEZyb20oJHN0YXJ0LCBkaXIpXG59XG5cbmZ1bmN0aW9uIGFwcGx5KHZpZXcsIHNlbCkge1xuICB2aWV3LmRpc3BhdGNoKHZpZXcuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHNlbCkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gc2VsZWN0SG9yaXpvbnRhbGx5KHZpZXcsIGRpciwgbW9kcykge1xuICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKHNlbCBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24pIHtcbiAgICBpZiAoIXNlbC5lbXB0eSB8fCBtb2RzLmluZGV4T2YoXCJzXCIpID4gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSBpZiAodmlldy5lbmRPZlRleHRibG9jayhkaXIgPiAwID8gXCJyaWdodFwiIDogXCJsZWZ0XCIpKSB7XG4gICAgICBsZXQgbmV4dCA9IG1vdmVTZWxlY3Rpb25CbG9jayh2aWV3LnN0YXRlLCBkaXIpXG4gICAgICBpZiAobmV4dCAmJiAobmV4dCBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24pKSByZXR1cm4gYXBwbHkodmlldywgbmV4dClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgJGhlYWQgPSBzZWwuJGhlYWQsIG5vZGUgPSAkaGVhZC50ZXh0T2Zmc2V0ID8gbnVsbCA6IGRpciA8IDAgPyAkaGVhZC5ub2RlQmVmb3JlIDogJGhlYWQubm9kZUFmdGVyLCBkZXNjXG4gICAgICBpZiAoIW5vZGUgfHwgbm9kZS5pc1RleHQpIHJldHVybiBmYWxzZVxuICAgICAgbGV0IG5vZGVQb3MgPSBkaXIgPCAwID8gJGhlYWQucG9zIC0gbm9kZS5ub2RlU2l6ZSA6ICRoZWFkLnBvc1xuICAgICAgaWYgKCEobm9kZS5pc0F0b20gfHwgKGRlc2MgPSB2aWV3LmRvY1ZpZXcuZGVzY0F0KG5vZGVQb3MpKSAmJiAhZGVzYy5jb250ZW50RE9NKSkgcmV0dXJuIGZhbHNlXG4gICAgICBpZiAoTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KHZpZXcsIG5ldyBOb2RlU2VsZWN0aW9uKGRpciA8IDAgPyB2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKCRoZWFkLnBvcyAtIG5vZGUubm9kZVNpemUpIDogJGhlYWQpKVxuICAgICAgfSBlbHNlIGlmIChicm93c2VyLndlYmtpdCkge1xuICAgICAgICAvLyBDaHJvbWUgYW5kIFNhZmFyaSB3aWxsIGludHJvZHVjZSBleHRyYSBwb2ludGxlc3MgY3Vyc29yXG4gICAgICAgIC8vIHBvc2l0aW9ucyBhcm91bmQgaW5saW5lIHVuZWRpdGFibGUgbm9kZXMsIHNvIHdlIGhhdmUgdG9cbiAgICAgICAgLy8gdGFrZSBvdmVyIGFuZCBtb3ZlIHRoZSBjdXJzb3IgcGFzdCB0aGVtICgjOTM3KVxuICAgICAgICByZXR1cm4gYXBwbHkodmlldywgbmV3IFRleHRTZWxlY3Rpb24odmlldy5zdGF0ZS5kb2MucmVzb2x2ZShkaXIgPCAwID8gbm9kZVBvcyA6IG5vZGVQb3MgKyBub2RlLm5vZGVTaXplKSkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoc2VsIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbiAmJiBzZWwubm9kZS5pc0lubGluZSkge1xuICAgIHJldHVybiBhcHBseSh2aWV3LCBuZXcgVGV4dFNlbGVjdGlvbihkaXIgPiAwID8gc2VsLiR0byA6IHNlbC4kZnJvbSkpXG4gIH0gZWxzZSB7XG4gICAgbGV0IG5leHQgPSBtb3ZlU2VsZWN0aW9uQmxvY2sodmlldy5zdGF0ZSwgZGlyKVxuICAgIGlmIChuZXh0KSByZXR1cm4gYXBwbHkodmlldywgbmV4dClcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBub2RlTGVuKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gMyA/IG5vZGUubm9kZVZhbHVlLmxlbmd0aCA6IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGhcbn1cblxuZnVuY3Rpb24gaXNJZ25vcmFibGUoZG9tKSB7XG4gIGxldCBkZXNjID0gZG9tLnBtVmlld0Rlc2NcbiAgcmV0dXJuIGRlc2MgJiYgZGVzYy5zaXplID09IDAgJiYgKGRvbS5uZXh0U2libGluZyB8fCBkb20ubm9kZU5hbWUgIT0gXCJCUlwiKVxufVxuXG4vLyBNYWtlIHN1cmUgdGhlIGN1cnNvciBpc24ndCBkaXJlY3RseSBhZnRlciBvbmUgb3IgbW9yZSBpZ25vcmVkXG4vLyBub2Rlcywgd2hpY2ggd2lsbCBjb25mdXNlIHRoZSBicm93c2VyJ3MgY3Vyc29yIG1vdGlvbiBsb2dpYy5cbmZ1bmN0aW9uIHNraXBJZ25vcmVkTm9kZXNMZWZ0KHZpZXcpIHtcbiAgbGV0IHNlbCA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKVxuICBsZXQgbm9kZSA9IHNlbC5mb2N1c05vZGUsIG9mZnNldCA9IHNlbC5mb2N1c09mZnNldFxuICBpZiAoIW5vZGUpIHJldHVyblxuICBsZXQgbW92ZU5vZGUsIG1vdmVPZmZzZXQsIGZvcmNlID0gZmFsc2VcbiAgLy8gR2Vja28gd2lsbCBkbyBvZGQgdGhpbmdzIHdoZW4gdGhlIHNlbGVjdGlvbiBpcyBkaXJlY3RseSBpbiBmcm9udFxuICAvLyBvZiBhIG5vbi1lZGl0YWJsZSBub2RlLCBzbyBpbiB0aGF0IGNhc2UsIG1vdmUgaXQgaW50byB0aGUgbmV4dFxuICAvLyBub2RlIGlmIHBvc3NpYmxlLiBJc3N1ZSBwcm9zZW1pcnJvci9wcm9zZW1pcnJvciM4MzIuXG4gIGlmIChicm93c2VyLmdlY2tvICYmIG5vZGUubm9kZVR5cGUgPT0gMSAmJiBvZmZzZXQgPCBub2RlTGVuKG5vZGUpICYmIGlzSWdub3JhYmxlKG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdKSkgZm9yY2UgPSB0cnVlXG4gIGZvciAoOzspIHtcbiAgICBpZiAob2Zmc2V0ID4gMCkge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICBicmVha1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGJlZm9yZSA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXVxuICAgICAgICBpZiAoaXNJZ25vcmFibGUoYmVmb3JlKSkge1xuICAgICAgICAgIG1vdmVOb2RlID0gbm9kZVxuICAgICAgICAgIG1vdmVPZmZzZXQgPSAtLW9mZnNldFxuICAgICAgICB9IGVsc2UgaWYgKGJlZm9yZS5ub2RlVHlwZSA9PSAzKSB7XG4gICAgICAgICAgbm9kZSA9IGJlZm9yZVxuICAgICAgICAgIG9mZnNldCA9IG5vZGUubm9kZVZhbHVlLmxlbmd0aFxuICAgICAgICB9IGVsc2UgYnJlYWtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzQmxvY2tOb2RlKG5vZGUpKSB7XG4gICAgICBicmVha1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcHJldiA9IG5vZGUucHJldmlvdXNTaWJsaW5nXG4gICAgICB3aGlsZSAocHJldiAmJiBpc0lnbm9yYWJsZShwcmV2KSkge1xuICAgICAgICBtb3ZlTm9kZSA9IG5vZGUucGFyZW50Tm9kZVxuICAgICAgICBtb3ZlT2Zmc2V0ID0gZG9tSW5kZXgocHJldilcbiAgICAgICAgcHJldiA9IHByZXYucHJldmlvdXNTaWJsaW5nXG4gICAgICB9XG4gICAgICBpZiAoIXByZXYpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZVxuICAgICAgICBpZiAobm9kZSA9PSB2aWV3LmRvbSkgYnJlYWtcbiAgICAgICAgb2Zmc2V0ID0gMFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZSA9IHByZXZcbiAgICAgICAgb2Zmc2V0ID0gbm9kZUxlbihub2RlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZm9yY2UpIHNldFNlbEZvY3VzKHZpZXcsIHNlbCwgbm9kZSwgb2Zmc2V0KVxuICBlbHNlIGlmIChtb3ZlTm9kZSkgc2V0U2VsRm9jdXModmlldywgc2VsLCBtb3ZlTm9kZSwgbW92ZU9mZnNldClcbn1cblxuLy8gTWFrZSBzdXJlIHRoZSBjdXJzb3IgaXNuJ3QgZGlyZWN0bHkgYmVmb3JlIG9uZSBvciBtb3JlIGlnbm9yZWRcbi8vIG5vZGVzLlxuZnVuY3Rpb24gc2tpcElnbm9yZWROb2Rlc1JpZ2h0KHZpZXcpIHtcbiAgbGV0IHNlbCA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKVxuICBsZXQgbm9kZSA9IHNlbC5mb2N1c05vZGUsIG9mZnNldCA9IHNlbC5mb2N1c09mZnNldFxuICBpZiAoIW5vZGUpIHJldHVyblxuICBsZXQgbGVuID0gbm9kZUxlbihub2RlKVxuICBsZXQgbW92ZU5vZGUsIG1vdmVPZmZzZXRcbiAgZm9yICg7Oykge1xuICAgIGlmIChvZmZzZXQgPCBsZW4pIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9IDEpIGJyZWFrXG4gICAgICBsZXQgYWZ0ZXIgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XVxuICAgICAgaWYgKGlzSWdub3JhYmxlKGFmdGVyKSkge1xuICAgICAgICBtb3ZlTm9kZSA9IG5vZGVcbiAgICAgICAgbW92ZU9mZnNldCA9ICsrb2Zmc2V0XG4gICAgICB9XG4gICAgICBlbHNlIGJyZWFrXG4gICAgfSBlbHNlIGlmIChpc0Jsb2NrTm9kZShub2RlKSkge1xuICAgICAgYnJlYWtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG5leHQgPSBub2RlLm5leHRTaWJsaW5nXG4gICAgICB3aGlsZSAobmV4dCAmJiBpc0lnbm9yYWJsZShuZXh0KSkge1xuICAgICAgICBtb3ZlTm9kZSA9IG5leHQucGFyZW50Tm9kZVxuICAgICAgICBtb3ZlT2Zmc2V0ID0gZG9tSW5kZXgobmV4dCkgKyAxXG4gICAgICAgIG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nXG4gICAgICB9XG4gICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZVxuICAgICAgICBpZiAobm9kZSA9PSB2aWV3LmRvbSkgYnJlYWtcbiAgICAgICAgb2Zmc2V0ID0gbGVuID0gMFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZSA9IG5leHRcbiAgICAgICAgb2Zmc2V0ID0gMFxuICAgICAgICBsZW4gPSBub2RlTGVuKG5vZGUpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChtb3ZlTm9kZSkgc2V0U2VsRm9jdXModmlldywgc2VsLCBtb3ZlTm9kZSwgbW92ZU9mZnNldClcbn1cblxuZnVuY3Rpb24gaXNCbG9ja05vZGUoZG9tKSB7XG4gIGxldCBkZXNjID0gZG9tLnBtVmlld0Rlc2NcbiAgcmV0dXJuIGRlc2MgJiYgZGVzYy5ub2RlICYmIGRlc2Mubm9kZS5pc0Jsb2NrXG59XG5cbmZ1bmN0aW9uIHNldFNlbEZvY3VzKHZpZXcsIHNlbCwgbm9kZSwgb2Zmc2V0KSB7XG4gIGlmIChzZWxlY3Rpb25Db2xsYXBzZWQoc2VsKSkge1xuICAgIGxldCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKClcbiAgICByYW5nZS5zZXRFbmQobm9kZSwgb2Zmc2V0KVxuICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIG9mZnNldClcbiAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKClcbiAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpXG4gIH0gZWxzZSBpZiAoc2VsLmV4dGVuZCkge1xuICAgIHNlbC5leHRlbmQobm9kZSwgb2Zmc2V0KVxuICB9XG4gIHZpZXcuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKClcbn1cblxuLy8gOiAoRWRpdG9yU3RhdGUsIG51bWJlcilcbi8vIENoZWNrIHdoZXRoZXIgdmVydGljYWwgc2VsZWN0aW9uIG1vdGlvbiB3b3VsZCBpbnZvbHZlIG5vZGVcbi8vIHNlbGVjdGlvbnMuIElmIHNvLCBhcHBseSBpdCAoaWYgbm90LCB0aGUgcmVzdWx0IGlzIGxlZnQgdG8gdGhlXG4vLyBicm93c2VyKVxuZnVuY3Rpb24gc2VsZWN0VmVydGljYWxseSh2aWV3LCBkaXIsIG1vZHMpIHtcbiAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uXG4gIGlmIChzZWwgaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uICYmICFzZWwuZW1wdHkgfHwgbW9kcy5pbmRleE9mKFwic1wiKSA+IC0xKSByZXR1cm4gZmFsc2VcbiAgbGV0IHskZnJvbSwgJHRvfSA9IHNlbFxuXG4gIGlmICghJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnQgfHwgdmlldy5lbmRPZlRleHRibG9jayhkaXIgPCAwID8gXCJ1cFwiIDogXCJkb3duXCIpKSB7XG4gICAgbGV0IG5leHQgPSBtb3ZlU2VsZWN0aW9uQmxvY2sodmlldy5zdGF0ZSwgZGlyKVxuICAgIGlmIChuZXh0ICYmIChuZXh0IGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbikpXG4gICAgICByZXR1cm4gYXBwbHkodmlldywgbmV4dClcbiAgfVxuICBpZiAoISRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50KSB7XG4gICAgbGV0IGJleW9uZCA9IFNlbGVjdGlvbi5maW5kRnJvbShkaXIgPCAwID8gJGZyb20gOiAkdG8sIGRpcilcbiAgICByZXR1cm4gYmV5b25kID8gYXBwbHkodmlldywgYmV5b25kKSA6IHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gc3RvcE5hdGl2ZUhvcml6b250YWxEZWxldGUodmlldywgZGlyKSB7XG4gIGlmICghKHZpZXcuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbikpIHJldHVybiB0cnVlXG4gIGxldCB7JGhlYWQsICRhbmNob3IsIGVtcHR5fSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uXG4gIGlmICghJGhlYWQuc2FtZVBhcmVudCgkYW5jaG9yKSkgcmV0dXJuIHRydWVcbiAgaWYgKCFlbXB0eSkgcmV0dXJuIGZhbHNlXG4gIGlmICh2aWV3LmVuZE9mVGV4dGJsb2NrKGRpciA+IDAgPyBcImZvcndhcmRcIiA6IFwiYmFja3dhcmRcIikpIHJldHVybiB0cnVlXG4gIGxldCBuZXh0Tm9kZSA9ICEkaGVhZC50ZXh0T2Zmc2V0ICYmIChkaXIgPCAwID8gJGhlYWQubm9kZUJlZm9yZSA6ICRoZWFkLm5vZGVBZnRlcilcbiAgaWYgKG5leHROb2RlICYmICFuZXh0Tm9kZS5pc1RleHQpIHtcbiAgICBsZXQgdHIgPSB2aWV3LnN0YXRlLnRyXG4gICAgaWYgKGRpciA8IDApIHRyLmRlbGV0ZSgkaGVhZC5wb3MgLSBuZXh0Tm9kZS5ub2RlU2l6ZSwgJGhlYWQucG9zKVxuICAgIGVsc2UgdHIuZGVsZXRlKCRoZWFkLnBvcywgJGhlYWQucG9zICsgbmV4dE5vZGUubm9kZVNpemUpXG4gICAgdmlldy5kaXNwYXRjaCh0cilcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBzd2l0Y2hFZGl0YWJsZSh2aWV3LCBub2RlLCBzdGF0ZSkge1xuICB2aWV3LmRvbU9ic2VydmVyLnN0b3AoKVxuICBub2RlLmNvbnRlbnRFZGl0YWJsZSA9IHN0YXRlXG4gIHZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKVxufVxuXG4vLyBJc3N1ZSAjODY3IC8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9OTAzODIxXG4vLyBJbiB3aGljaCBDaHJvbWUgZG9lcyByZWFsbHkgd3JvbmcgdGhpbmdzIHdoZW4gdGhlIGRvd24gYXJyb3cgaXNcbi8vIHByZXNzZWQgd2hlbiB0aGUgY3Vyc29yIGlzIGRpcmVjdGx5IGF0IHRoZSBzdGFydCBvZiBhIHRleHRibG9jayBhbmRcbi8vIGhhcyBhbiB1bmVkaXRhYmxlIG5vZGUgYWZ0ZXIgaXRcbmZ1bmN0aW9uIGNocm9tZURvd25BcnJvd0J1Zyh2aWV3KSB7XG4gIGlmICghYnJvd3Nlci5jaHJvbWUgfHwgdmlldy5zdGF0ZS5zZWxlY3Rpb24uJGhlYWQucGFyZW50T2Zmc2V0ID4gMCkgcmV0dXJuXG4gIGxldCB7Zm9jdXNOb2RlLCBmb2N1c09mZnNldH0gPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKClcbiAgaWYgKGZvY3VzTm9kZSAmJiBmb2N1c05vZGUubm9kZVR5cGUgPT0gMSAmJiBmb2N1c09mZnNldCA9PSAwICYmXG4gICAgICBmb2N1c05vZGUuZmlyc3RDaGlsZCAmJiBmb2N1c05vZGUuZmlyc3RDaGlsZC5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKSB7XG4gICAgbGV0IGNoaWxkID0gZm9jdXNOb2RlLmZpcnN0Q2hpbGRcbiAgICBzd2l0Y2hFZGl0YWJsZSh2aWV3LCBjaGlsZCwgdHJ1ZSlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHN3aXRjaEVkaXRhYmxlKHZpZXcsIGNoaWxkLCBmYWxzZSksIDIwKVxuICB9XG59XG5cbi8vIEEgYmFja2Ryb3Aga2V5IG1hcHBpbmcgdXNlZCB0byBtYWtlIHN1cmUgd2UgYWx3YXlzIHN1cHByZXNzIGtleXNcbi8vIHRoYXQgaGF2ZSBhIGRhbmdlcm91cyBkZWZhdWx0IGVmZmVjdCwgZXZlbiBpZiB0aGUgY29tbWFuZHMgdGhleSBhcmVcbi8vIGJvdW5kIHRvIHJldHVybiBmYWxzZSwgYW5kIHRvIG1ha2Ugc3VyZSB0aGF0IGN1cnNvci1tb3Rpb24ga2V5c1xuLy8gZmluZCBhIGN1cnNvciAoYXMgb3Bwb3NlZCB0byBhIG5vZGUgc2VsZWN0aW9uKSB3aGVuIHByZXNzZWQuIEZvclxuLy8gY3Vyc29yLW1vdGlvbiBrZXlzLCB0aGUgY29kZSBpbiB0aGUgaGFuZGxlcnMgYWxzbyB0YWtlcyBjYXJlIG9mXG4vLyBibG9jayBzZWxlY3Rpb25zLlxuXG5mdW5jdGlvbiBnZXRNb2RzKGV2ZW50KSB7XG4gIGxldCByZXN1bHQgPSBcIlwiXG4gIGlmIChldmVudC5jdHJsS2V5KSByZXN1bHQgKz0gXCJjXCJcbiAgaWYgKGV2ZW50Lm1ldGFLZXkpIHJlc3VsdCArPSBcIm1cIlxuICBpZiAoZXZlbnQuYWx0S2V5KSByZXN1bHQgKz0gXCJhXCJcbiAgaWYgKGV2ZW50LnNoaWZ0S2V5KSByZXN1bHQgKz0gXCJzXCJcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZUtleURvd24odmlldywgZXZlbnQpIHtcbiAgbGV0IGNvZGUgPSBldmVudC5rZXlDb2RlLCBtb2RzID0gZ2V0TW9kcyhldmVudClcbiAgaWYgKGNvZGUgPT0gOCB8fCAoYnJvd3Nlci5tYWMgJiYgY29kZSA9PSA3MiAmJiBtb2RzID09IFwiY1wiKSkgeyAvLyBCYWNrc3BhY2UsIEN0cmwtaCBvbiBNYWNcbiAgICByZXR1cm4gc3RvcE5hdGl2ZUhvcml6b250YWxEZWxldGUodmlldywgLTEpIHx8IHNraXBJZ25vcmVkTm9kZXNMZWZ0KHZpZXcpXG4gIH0gZWxzZSBpZiAoY29kZSA9PSA0NiB8fCAoYnJvd3Nlci5tYWMgJiYgY29kZSA9PSA2OCAmJiBtb2RzID09IFwiY1wiKSkgeyAvLyBEZWxldGUsIEN0cmwtZCBvbiBNYWNcbiAgICByZXR1cm4gc3RvcE5hdGl2ZUhvcml6b250YWxEZWxldGUodmlldywgMSkgfHwgc2tpcElnbm9yZWROb2Rlc1JpZ2h0KHZpZXcpXG4gIH0gZWxzZSBpZiAoKGNvZGUgPT0gMTMgJiYgIWJyb3dzZXIuaW9zKSB8fCBjb2RlID09IDI3KSB7IC8vIEVudGVyIChsZXQgdGhyb3VnaCBvbiBpT1MsIHRvIGF2b2lkIGtleWJvYXJkIHN5bmMgaXNzdWVzKSwgRXNjXG4gICAgcmV0dXJuIHRydWVcbiAgfSBlbHNlIGlmIChjb2RlID09IDM3KSB7IC8vIExlZnQgYXJyb3dcbiAgICByZXR1cm4gc2VsZWN0SG9yaXpvbnRhbGx5KHZpZXcsIC0xLCBtb2RzKSB8fCBza2lwSWdub3JlZE5vZGVzTGVmdCh2aWV3KVxuICB9IGVsc2UgaWYgKGNvZGUgPT0gMzkpIHsgLy8gUmlnaHQgYXJyb3dcbiAgICByZXR1cm4gc2VsZWN0SG9yaXpvbnRhbGx5KHZpZXcsIDEsIG1vZHMpIHx8IHNraXBJZ25vcmVkTm9kZXNSaWdodCh2aWV3KVxuICB9IGVsc2UgaWYgKGNvZGUgPT0gMzgpIHsgLy8gVXAgYXJyb3dcbiAgICByZXR1cm4gc2VsZWN0VmVydGljYWxseSh2aWV3LCAtMSwgbW9kcykgfHwgc2tpcElnbm9yZWROb2Rlc0xlZnQodmlldylcbiAgfSBlbHNlIGlmIChjb2RlID09IDQwKSB7IC8vIERvd24gYXJyb3dcbiAgICByZXR1cm4gY2hyb21lRG93bkFycm93QnVnKHZpZXcpIHx8IHNlbGVjdFZlcnRpY2FsbHkodmlldywgMSwgbW9kcykgfHwgc2tpcElnbm9yZWROb2Rlc1JpZ2h0KHZpZXcpXG4gIH0gZWxzZSBpZiAobW9kcyA9PSAoYnJvd3Nlci5tYWMgPyBcIm1cIiA6IFwiY1wiKSAmJlxuICAgICAgICAgICAgIChjb2RlID09IDY2IHx8IGNvZGUgPT0gNzMgfHwgY29kZSA9PSA4OSB8fCBjb2RlID09IDkwKSkgeyAvLyBNb2QtW2JpeXpdXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cbiIsImltcG9ydCB7RnJhZ21lbnQsIERPTVBhcnNlcn0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcbmltcG9ydCB7U2VsZWN0aW9uLCBUZXh0U2VsZWN0aW9ufSBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIlxuXG5pbXBvcnQge3NlbGVjdGlvbkJldHdlZW4sIHNlbGVjdGlvbkZyb21ET00sIHNlbGVjdGlvblRvRE9NfSBmcm9tIFwiLi9zZWxlY3Rpb25cIlxuaW1wb3J0IHtzZWxlY3Rpb25Db2xsYXBzZWQsIGtleUV2ZW50fSBmcm9tIFwiLi9kb21cIlxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5cbi8vIE5vdGUgdGhhdCBhbGwgcmVmZXJlbmNpbmcgYW5kIHBhcnNpbmcgaXMgZG9uZSB3aXRoIHRoZVxuLy8gc3RhcnQtb2Ytb3BlcmF0aW9uIHNlbGVjdGlvbiBhbmQgZG9jdW1lbnQsIHNpbmNlIHRoYXQncyB0aGUgb25lXG4vLyB0aGF0IHRoZSBET00gcmVwcmVzZW50cy4gSWYgYW55IGNoYW5nZXMgY2FtZSBpbiBpbiB0aGUgbWVhbnRpbWUsXG4vLyB0aGUgbW9kaWZpY2F0aW9uIGlzIG1hcHBlZCBvdmVyIHRob3NlIGJlZm9yZSBpdCBpcyBhcHBsaWVkLCBpblxuLy8gcmVhZERPTUNoYW5nZS5cblxuZnVuY3Rpb24gcGFyc2VCZXR3ZWVuKHZpZXcsIGZyb21fLCB0b18pIHtcbiAgbGV0IHtub2RlOiBwYXJlbnQsIGZyb21PZmZzZXQsIHRvT2Zmc2V0LCBmcm9tLCB0b30gPSB2aWV3LmRvY1ZpZXcucGFyc2VSYW5nZShmcm9tXywgdG9fKVxuXG4gIGxldCBkb21TZWwgPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCksIGZpbmQgPSBudWxsLCBhbmNob3IgPSBkb21TZWwuYW5jaG9yTm9kZVxuICBpZiAoYW5jaG9yICYmIHZpZXcuZG9tLmNvbnRhaW5zKGFuY2hvci5ub2RlVHlwZSA9PSAxID8gYW5jaG9yIDogYW5jaG9yLnBhcmVudE5vZGUpKSB7XG4gICAgZmluZCA9IFt7bm9kZTogYW5jaG9yLCBvZmZzZXQ6IGRvbVNlbC5hbmNob3JPZmZzZXR9XVxuICAgIGlmICghc2VsZWN0aW9uQ29sbGFwc2VkKGRvbVNlbCkpXG4gICAgICBmaW5kLnB1c2goe25vZGU6IGRvbVNlbC5mb2N1c05vZGUsIG9mZnNldDogZG9tU2VsLmZvY3VzT2Zmc2V0fSlcbiAgfVxuICAvLyBXb3JrIGFyb3VuZCBpc3N1ZSBpbiBDaHJvbWUgd2hlcmUgYmFja3NwYWNpbmcgc29tZXRpbWVzIHJlcGxhY2VzXG4gIC8vIHRoZSBkZWxldGVkIGNvbnRlbnQgd2l0aCBhIHJhbmRvbSBCUiBub2RlIChpc3N1ZXMgIzc5OSwgIzgzMSlcbiAgaWYgKGJyb3dzZXIuY2hyb21lICYmIHZpZXcubGFzdEtleUNvZGUgPT09IDgpIHtcbiAgICBmb3IgKGxldCBvZmYgPSB0b09mZnNldDsgb2ZmID4gZnJvbU9mZnNldDsgb2ZmLS0pIHtcbiAgICAgIGxldCBub2RlID0gcGFyZW50LmNoaWxkTm9kZXNbb2ZmIC0gMV0sIGRlc2MgPSBub2RlLnBtVmlld0Rlc2NcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IFwiQlJcIiAmJiAhZGVzYykgeyB0b09mZnNldCA9IG9mZjsgYnJlYWsgfVxuICAgICAgaWYgKCFkZXNjIHx8IGRlc2Muc2l6ZSkgYnJlYWtcbiAgICB9XG4gIH1cbiAgbGV0IHN0YXJ0RG9jID0gdmlldy5zdGF0ZS5kb2NcbiAgbGV0IHBhcnNlciA9IHZpZXcuc29tZVByb3AoXCJkb21QYXJzZXJcIikgfHwgRE9NUGFyc2VyLmZyb21TY2hlbWEodmlldy5zdGF0ZS5zY2hlbWEpXG4gIGxldCAkZnJvbSA9IHN0YXJ0RG9jLnJlc29sdmUoZnJvbSlcblxuICBsZXQgc2VsID0gbnVsbCwgZG9jID0gcGFyc2VyLnBhcnNlKHBhcmVudCwge1xuICAgIHRvcE5vZGU6ICRmcm9tLnBhcmVudCxcbiAgICB0b3BNYXRjaDogJGZyb20ucGFyZW50LmNvbnRlbnRNYXRjaEF0KCRmcm9tLmluZGV4KCkpLFxuICAgIHRvcE9wZW46IHRydWUsXG4gICAgZnJvbTogZnJvbU9mZnNldCxcbiAgICB0bzogdG9PZmZzZXQsXG4gICAgcHJlc2VydmVXaGl0ZXNwYWNlOiAkZnJvbS5wYXJlbnQudHlwZS5zcGVjLmNvZGUgPyBcImZ1bGxcIiA6IHRydWUsXG4gICAgZWRpdGFibGVDb250ZW50OiB0cnVlLFxuICAgIGZpbmRQb3NpdGlvbnM6IGZpbmQsXG4gICAgcnVsZUZyb21Ob2RlLFxuICAgIGNvbnRleHQ6ICRmcm9tXG4gIH0pXG4gIGlmIChmaW5kICYmIGZpbmRbMF0ucG9zICE9IG51bGwpIHtcbiAgICBsZXQgYW5jaG9yID0gZmluZFswXS5wb3MsIGhlYWQgPSBmaW5kWzFdICYmIGZpbmRbMV0ucG9zXG4gICAgaWYgKGhlYWQgPT0gbnVsbCkgaGVhZCA9IGFuY2hvclxuICAgIHNlbCA9IHthbmNob3I6IGFuY2hvciArIGZyb20sIGhlYWQ6IGhlYWQgKyBmcm9tfVxuICB9XG4gIHJldHVybiB7ZG9jLCBzZWwsIGZyb20sIHRvfVxufVxuXG5mdW5jdGlvbiBydWxlRnJvbU5vZGUoZG9tKSB7XG4gIGxldCBkZXNjID0gZG9tLnBtVmlld0Rlc2NcbiAgaWYgKGRlc2MpIHtcbiAgICByZXR1cm4gZGVzYy5wYXJzZVJ1bGUoKVxuICB9IGVsc2UgaWYgKGRvbS5ub2RlTmFtZSA9PSBcIkJSXCIgJiYgZG9tLnBhcmVudE5vZGUpIHtcbiAgICAvLyBTYWZhcmkgcmVwbGFjZXMgdGhlIGxpc3QgaXRlbSBvciB0YWJsZSBjZWxsIHdpdGggYSBCUlxuICAgIC8vIGRpcmVjdGx5IGluIHRoZSBsaXN0IG5vZGUgKD8hKSBpZiB5b3UgZGVsZXRlIHRoZSBsYXN0XG4gICAgLy8gY2hhcmFjdGVyIGluIGEgbGlzdCBpdGVtIG9yIHRhYmxlIGNlbGwgKCM3MDgsICM4NjIpXG4gICAgaWYgKGJyb3dzZXIuc2FmYXJpICYmIC9eKHVsfG9sKSQvaS50ZXN0KGRvbS5wYXJlbnROb2RlLm5vZGVOYW1lKSkge1xuICAgICAgbGV0IHNraXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICBza2lwLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSlcbiAgICAgIHJldHVybiB7c2tpcH1cbiAgICB9IGVsc2UgaWYgKGRvbS5wYXJlbnROb2RlLmxhc3RDaGlsZCA9PSBkb20gfHwgYnJvd3Nlci5zYWZhcmkgJiYgL14odHJ8dGFibGUpJC9pLnRlc3QoZG9tLnBhcmVudE5vZGUubm9kZU5hbWUpKSB7XG4gICAgICByZXR1cm4ge2lnbm9yZTogdHJ1ZX1cbiAgICB9XG4gIH0gZWxzZSBpZiAoZG9tLm5vZGVOYW1lID09IFwiSU1HXCIgJiYgZG9tLmdldEF0dHJpYnV0ZShcIm1hcmstcGxhY2Vob2xkZXJcIikpIHtcbiAgICByZXR1cm4ge2lnbm9yZTogdHJ1ZX1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZERPTUNoYW5nZSh2aWV3LCBmcm9tLCB0bywgdHlwZU92ZXIsIGFkZGVkTm9kZXMpIHtcbiAgaWYgKGZyb20gPCAwKSB7XG4gICAgbGV0IG9yaWdpbiA9IHZpZXcubGFzdFNlbGVjdGlvblRpbWUgPiBEYXRlLm5vdygpIC0gNTAgPyB2aWV3Lmxhc3RTZWxlY3Rpb25PcmlnaW4gOiBudWxsXG4gICAgbGV0IG5ld1NlbCA9IHNlbGVjdGlvbkZyb21ET00odmlldywgb3JpZ2luKVxuICAgIGlmICghdmlldy5zdGF0ZS5zZWxlY3Rpb24uZXEobmV3U2VsKSkge1xuICAgICAgbGV0IHRyID0gdmlldy5zdGF0ZS50ci5zZXRTZWxlY3Rpb24obmV3U2VsKVxuICAgICAgaWYgKG9yaWdpbiA9PSBcInBvaW50ZXJcIikgdHIuc2V0TWV0YShcInBvaW50ZXJcIiwgdHJ1ZSlcbiAgICAgIGVsc2UgaWYgKG9yaWdpbiA9PSBcImtleVwiKSB0ci5zY3JvbGxJbnRvVmlldygpXG4gICAgICB2aWV3LmRpc3BhdGNoKHRyKVxuICAgIH1cbiAgICByZXR1cm5cbiAgfVxuXG4gIGxldCAkYmVmb3JlID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShmcm9tKVxuICBsZXQgc2hhcmVkID0gJGJlZm9yZS5zaGFyZWREZXB0aCh0bylcbiAgZnJvbSA9ICRiZWZvcmUuYmVmb3JlKHNoYXJlZCArIDEpXG4gIHRvID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZSh0bykuYWZ0ZXIoc2hhcmVkICsgMSlcblxuICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb25cbiAgbGV0IHBhcnNlID0gcGFyc2VCZXR3ZWVuKHZpZXcsIGZyb20sIHRvKVxuXG4gIGxldCBkb2MgPSB2aWV3LnN0YXRlLmRvYywgY29tcGFyZSA9IGRvYy5zbGljZShwYXJzZS5mcm9tLCBwYXJzZS50bylcbiAgbGV0IHByZWZlcnJlZFBvcywgcHJlZmVycmVkU2lkZVxuICAvLyBQcmVmZXIgYW5jaG9yaW5nIHRvIGVuZCB3aGVuIEJhY2tzcGFjZSBpcyBwcmVzc2VkXG4gIGlmICh2aWV3Lmxhc3RLZXlDb2RlID09PSA4ICYmIERhdGUubm93KCkgLSAxMDAgPCB2aWV3Lmxhc3RLZXlDb2RlVGltZSkge1xuICAgIHByZWZlcnJlZFBvcyA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvXG4gICAgcHJlZmVycmVkU2lkZSA9IFwiZW5kXCJcbiAgfSBlbHNlIHtcbiAgICBwcmVmZXJyZWRQb3MgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tXG4gICAgcHJlZmVycmVkU2lkZSA9IFwic3RhcnRcIlxuICB9XG4gIHZpZXcubGFzdEtleUNvZGUgPSBudWxsXG5cbiAgbGV0IGNoYW5nZSA9IGZpbmREaWZmKGNvbXBhcmUuY29udGVudCwgcGFyc2UuZG9jLmNvbnRlbnQsIHBhcnNlLmZyb20sIHByZWZlcnJlZFBvcywgcHJlZmVycmVkU2lkZSlcbiAgaWYgKCFjaGFuZ2UpIHtcbiAgICBpZiAodHlwZU92ZXIgJiYgc2VsIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbiAmJiAhc2VsLmVtcHR5ICYmIHNlbC4kaGVhZC5zYW1lUGFyZW50KHNlbC4kYW5jaG9yKSAmJlxuICAgICAgICAhdmlldy5jb21wb3NpbmcgJiYgIShwYXJzZS5zZWwgJiYgcGFyc2Uuc2VsLmFuY2hvciAhPSBwYXJzZS5zZWwuaGVhZCkpIHtcbiAgICAgIGNoYW5nZSA9IHtzdGFydDogc2VsLmZyb20sIGVuZEE6IHNlbC50bywgZW5kQjogc2VsLnRvfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGFyc2Uuc2VsKSB7XG4gICAgICAgIGxldCBzZWwgPSByZXNvbHZlU2VsZWN0aW9uKHZpZXcsIHZpZXcuc3RhdGUuZG9jLCBwYXJzZS5zZWwpXG4gICAgICAgIGlmIChzZWwgJiYgIXNlbC5lcSh2aWV3LnN0YXRlLnNlbGVjdGlvbikpIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oc2VsKSlcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgfVxuICB2aWV3LmRvbUNoYW5nZUNvdW50KytcbiAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIG92ZXJ3cml0aW5nIGEgc2VsZWN0aW9uIGJ5IHR5cGluZyBtYXRjaGVzXG4gIC8vIHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIHNlbGVjdGVkIGNvbnRlbnQsIGNyZWF0aW5nIGEgY2hhbmdlXG4gIC8vIHRoYXQncyBzbWFsbGVyIHRoYW4gd2hhdCB3YXMgYWN0dWFsbHkgb3ZlcndyaXR0ZW4uXG4gIGlmICh2aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tIDwgdmlldy5zdGF0ZS5zZWxlY3Rpb24udG8gJiZcbiAgICAgIGNoYW5nZS5zdGFydCA9PSBjaGFuZ2UuZW5kQiAmJlxuICAgICAgdmlldy5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uKSB7XG4gICAgaWYgKGNoYW5nZS5zdGFydCA+IHZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb20gJiYgY2hhbmdlLnN0YXJ0IDw9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb20gKyAyKSB7XG4gICAgICBjaGFuZ2Uuc3RhcnQgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tXG4gICAgfSBlbHNlIGlmIChjaGFuZ2UuZW5kQSA8IHZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvICYmIGNoYW5nZS5lbmRBID49IHZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvIC0gMikge1xuICAgICAgY2hhbmdlLmVuZEIgKz0gKHZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvIC0gY2hhbmdlLmVuZEEpXG4gICAgICBjaGFuZ2UuZW5kQSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvXG4gICAgfVxuICB9XG5cbiAgLy8gSUUxMSB3aWxsIGluc2VydCBhIG5vbi1icmVha2luZyBzcGFjZSBfYWhlYWRfIG9mIHRoZSBzcGFjZSBhZnRlclxuICAvLyB0aGUgY3Vyc29yIHNwYWNlIHdoZW4gYWRkaW5nIGEgc3BhY2UgYmVmb3JlIGFub3RoZXIgc3BhY2UuIFdoZW5cbiAgLy8gdGhhdCBoYXBwZW5lZCwgYWRqdXN0IHRoZSBjaGFuZ2UgdG8gY292ZXIgdGhlIHNwYWNlIGluc3RlYWQuXG4gIGlmIChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMSAmJiBjaGFuZ2UuZW5kQiA9PSBjaGFuZ2Uuc3RhcnQgKyAxICYmXG4gICAgICBjaGFuZ2UuZW5kQSA9PSBjaGFuZ2Uuc3RhcnQgJiYgY2hhbmdlLnN0YXJ0ID4gcGFyc2UuZnJvbSAmJlxuICAgICAgcGFyc2UuZG9jLnRleHRCZXR3ZWVuKGNoYW5nZS5zdGFydCAtIHBhcnNlLmZyb20gLSAxLCBjaGFuZ2Uuc3RhcnQgLSBwYXJzZS5mcm9tICsgMSkgPT0gXCIgXFx1MDBhMFwiKSB7XG4gICAgY2hhbmdlLnN0YXJ0LS1cbiAgICBjaGFuZ2UuZW5kQS0tXG4gICAgY2hhbmdlLmVuZEItLVxuICB9XG5cbiAgbGV0ICRmcm9tID0gcGFyc2UuZG9jLnJlc29sdmVOb0NhY2hlKGNoYW5nZS5zdGFydCAtIHBhcnNlLmZyb20pXG4gIGxldCAkdG8gPSBwYXJzZS5kb2MucmVzb2x2ZU5vQ2FjaGUoY2hhbmdlLmVuZEIgLSBwYXJzZS5mcm9tKVxuICBsZXQgbmV4dFNlbFxuICAvLyBJZiB0aGlzIGxvb2tzIGxpa2UgdGhlIGVmZmVjdCBvZiBwcmVzc2luZyBFbnRlciAob3Igd2FzIHJlY29yZGVkXG4gIC8vIGFzIGJlaW5nIGFuIGlPUyBlbnRlciBwcmVzcyksIGp1c3QgZGlzcGF0Y2ggYW4gRW50ZXIga2V5IGluc3RlYWQuXG4gIGlmICgoKGJyb3dzZXIuaW9zICYmIHZpZXcubGFzdElPU0VudGVyID4gRGF0ZS5ub3coKSAtIDEwMCAmJlxuICAgICAgICAoISRmcm9tLnNhbWVQYXJlbnQoJHRvKSB8fCBhZGRlZE5vZGVzLnNvbWUobiA9PiBuLm5vZGVOYW1lID09IFwiRElWXCIpKSkgfHxcbiAgICAgICAoISRmcm9tLnNhbWVQYXJlbnQoJHRvKSAmJiAkZnJvbS5wb3MgPCBwYXJzZS5kb2MuY29udGVudC5zaXplICYmXG4gICAgICAgIChuZXh0U2VsID0gU2VsZWN0aW9uLmZpbmRGcm9tKHBhcnNlLmRvYy5yZXNvbHZlKCRmcm9tLnBvcyArIDEpLCAxLCB0cnVlKSkgJiZcbiAgICAgICAgbmV4dFNlbC5oZWFkID09ICR0by5wb3MpKSAmJlxuICAgICAgdmlldy5zb21lUHJvcChcImhhbmRsZUtleURvd25cIiwgZiA9PiBmKHZpZXcsIGtleUV2ZW50KDEzLCBcIkVudGVyXCIpKSkpIHtcbiAgICB2aWV3Lmxhc3RJT1NFbnRlciA9IDBcbiAgICByZXR1cm5cbiAgfVxuICAvLyBTYW1lIGZvciBiYWNrc3BhY2VcbiAgaWYgKHZpZXcuc3RhdGUuc2VsZWN0aW9uLmFuY2hvciA+IGNoYW5nZS5zdGFydCAmJlxuICAgICAgbG9va3NMaWtlSm9pbihkb2MsIGNoYW5nZS5zdGFydCwgY2hhbmdlLmVuZEEsICRmcm9tLCAkdG8pICYmXG4gICAgICB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlS2V5RG93blwiLCBmID0+IGYodmlldywga2V5RXZlbnQoOCwgXCJCYWNrc3BhY2VcIikpKSkge1xuICAgIGlmIChicm93c2VyLmFuZHJvaWQgJiYgYnJvd3Nlci5jaHJvbWUpIHZpZXcuZG9tT2JzZXJ2ZXIuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKCkgLy8gIzgyMFxuICAgIHJldHVyblxuICB9XG5cbiAgbGV0IGNoRnJvbSA9IGNoYW5nZS5zdGFydCwgY2hUbyA9IGNoYW5nZS5lbmRBXG5cbiAgbGV0IHRyLCBzdG9yZWRNYXJrcywgbWFya0NoYW5nZSwgJGZyb20xXG4gIGlmICgkZnJvbS5zYW1lUGFyZW50KCR0bykgJiYgJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnQpIHtcbiAgICBpZiAoJGZyb20ucG9zID09ICR0by5wb3MpIHsgLy8gRGVsZXRpb25cbiAgICAgIC8vIElFMTEgc29tZXRpbWVzIHdlaXJkbHkgbW92ZXMgdGhlIERPTSBzZWxlY3Rpb24gYXJvdW5kIGFmdGVyXG4gICAgICAvLyBiYWNrc3BhY2luZyBvdXQgdGhlIGZpcnN0IGVsZW1lbnQgaW4gYSB0ZXh0YmxvY2tcbiAgICAgIGlmIChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMSAmJiAkZnJvbS5wYXJlbnRPZmZzZXQgPT0gMCkge1xuICAgICAgICB2aWV3LmRvbU9ic2VydmVyLnN1cHByZXNzU2VsZWN0aW9uVXBkYXRlcygpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2VsZWN0aW9uVG9ET00odmlldyksIDIwKVxuICAgICAgfVxuICAgICAgdHIgPSB2aWV3LnN0YXRlLnRyLmRlbGV0ZShjaEZyb20sIGNoVG8pXG4gICAgICBzdG9yZWRNYXJrcyA9IGRvYy5yZXNvbHZlKGNoYW5nZS5zdGFydCkubWFya3NBY3Jvc3MoZG9jLnJlc29sdmUoY2hhbmdlLmVuZEEpKVxuICAgIH0gZWxzZSBpZiAoIC8vIEFkZGluZyBvciByZW1vdmluZyBhIG1hcmtcbiAgICAgIGNoYW5nZS5lbmRBID09IGNoYW5nZS5lbmRCICYmICgkZnJvbTEgPSBkb2MucmVzb2x2ZShjaGFuZ2Uuc3RhcnQpKSAmJlxuICAgICAgKG1hcmtDaGFuZ2UgPSBpc01hcmtDaGFuZ2UoJGZyb20ucGFyZW50LmNvbnRlbnQuY3V0KCRmcm9tLnBhcmVudE9mZnNldCwgJHRvLnBhcmVudE9mZnNldCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZnJvbTEucGFyZW50LmNvbnRlbnQuY3V0KCRmcm9tMS5wYXJlbnRPZmZzZXQsIGNoYW5nZS5lbmRBIC0gJGZyb20xLnN0YXJ0KCkpKSlcbiAgICApIHtcbiAgICAgIHRyID0gdmlldy5zdGF0ZS50clxuICAgICAgaWYgKG1hcmtDaGFuZ2UudHlwZSA9PSBcImFkZFwiKSB0ci5hZGRNYXJrKGNoRnJvbSwgY2hUbywgbWFya0NoYW5nZS5tYXJrKVxuICAgICAgZWxzZSB0ci5yZW1vdmVNYXJrKGNoRnJvbSwgY2hUbywgbWFya0NoYW5nZS5tYXJrKVxuICAgIH0gZWxzZSBpZiAoJGZyb20ucGFyZW50LmNoaWxkKCRmcm9tLmluZGV4KCkpLmlzVGV4dCAmJiAkZnJvbS5pbmRleCgpID09ICR0by5pbmRleCgpIC0gKCR0by50ZXh0T2Zmc2V0ID8gMCA6IDEpKSB7XG4gICAgICAvLyBCb3RoIHBvc2l0aW9ucyBpbiB0aGUgc2FtZSB0ZXh0IG5vZGUgLS0gc2ltcGx5IGluc2VydCB0ZXh0XG4gICAgICBsZXQgdGV4dCA9ICRmcm9tLnBhcmVudC50ZXh0QmV0d2VlbigkZnJvbS5wYXJlbnRPZmZzZXQsICR0by5wYXJlbnRPZmZzZXQpXG4gICAgICBpZiAodmlldy5zb21lUHJvcChcImhhbmRsZVRleHRJbnB1dFwiLCBmID0+IGYodmlldywgY2hGcm9tLCBjaFRvLCB0ZXh0KSkpIHJldHVyblxuICAgICAgdHIgPSB2aWV3LnN0YXRlLnRyLmluc2VydFRleHQodGV4dCwgY2hGcm9tLCBjaFRvKVxuICAgIH1cbiAgfVxuXG4gIGlmICghdHIpXG4gICAgdHIgPSB2aWV3LnN0YXRlLnRyLnJlcGxhY2UoY2hGcm9tLCBjaFRvLCBwYXJzZS5kb2Muc2xpY2UoY2hhbmdlLnN0YXJ0IC0gcGFyc2UuZnJvbSwgY2hhbmdlLmVuZEIgLSBwYXJzZS5mcm9tKSlcbiAgaWYgKHBhcnNlLnNlbCkge1xuICAgIGxldCBzZWwgPSByZXNvbHZlU2VsZWN0aW9uKHZpZXcsIHRyLmRvYywgcGFyc2Uuc2VsKVxuICAgIC8vIENocm9tZSBBbmRyb2lkIHdpbGwgc29tZXRpbWVzLCBkdXJpbmcgY29tcG9zaXRpb24sIHJlcG9ydCB0aGVcbiAgICAvLyBzZWxlY3Rpb24gaW4gdGhlIHdyb25nIHBsYWNlLiBJZiBpdCBsb29rcyBsaWtlIHRoYXQgaXNcbiAgICAvLyBoYXBwZW5pbmcsIGRvbid0IHVwZGF0ZSB0aGUgc2VsZWN0aW9uLlxuICAgIC8vIEVkZ2UganVzdCBkb2Vzbid0IG1vdmUgdGhlIGN1cnNvciBmb3J3YXJkIHdoZW4geW91IHN0YXJ0IHR5cGluZ1xuICAgIC8vIGluIGFuIGVtcHR5IGJsb2NrIG9yIGJldHdlZW4gYnIgbm9kZXMuXG4gICAgaWYgKHNlbCAmJiAhKGJyb3dzZXIuY2hyb21lICYmIGJyb3dzZXIuYW5kcm9pZCAmJiB2aWV3LmNvbXBvc2luZyAmJiBzZWwuZW1wdHkgJiYgc2VsLmhlYWQgPT0gY2hGcm9tIHx8XG4gICAgICAgICAgICAgICAgIGJyb3dzZXIuaWUgJiYgc2VsLmVtcHR5ICYmIHNlbC5oZWFkID09IGNoRnJvbSkpXG4gICAgICB0ci5zZXRTZWxlY3Rpb24oc2VsKVxuICB9XG4gIGlmIChzdG9yZWRNYXJrcykgdHIuZW5zdXJlTWFya3Moc3RvcmVkTWFya3MpXG4gIHZpZXcuZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSlcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVNlbGVjdGlvbih2aWV3LCBkb2MsIHBhcnNlZFNlbCkge1xuICBpZiAoTWF0aC5tYXgocGFyc2VkU2VsLmFuY2hvciwgcGFyc2VkU2VsLmhlYWQpID4gZG9jLmNvbnRlbnQuc2l6ZSkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIHNlbGVjdGlvbkJldHdlZW4odmlldywgZG9jLnJlc29sdmUocGFyc2VkU2VsLmFuY2hvciksIGRvYy5yZXNvbHZlKHBhcnNlZFNlbC5oZWFkKSlcbn1cblxuLy8gOiAoRnJhZ21lbnQsIEZyYWdtZW50KSDihpIgP3ttYXJrOiBNYXJrLCB0eXBlOiBzdHJpbmd9XG4vLyBHaXZlbiB0d28gc2FtZS1sZW5ndGgsIG5vbi1lbXB0eSBmcmFnbWVudHMgb2YgaW5saW5lIGNvbnRlbnQsXG4vLyBkZXRlcm1pbmUgd2hldGhlciB0aGUgZmlyc3QgY291bGQgYmUgY3JlYXRlZCBmcm9tIHRoZSBzZWNvbmQgYnlcbi8vIHJlbW92aW5nIG9yIGFkZGluZyBhIHNpbmdsZSBtYXJrIHR5cGUuXG5mdW5jdGlvbiBpc01hcmtDaGFuZ2UoY3VyLCBwcmV2KSB7XG4gIGxldCBjdXJNYXJrcyA9IGN1ci5maXJzdENoaWxkLm1hcmtzLCBwcmV2TWFya3MgPSBwcmV2LmZpcnN0Q2hpbGQubWFya3NcbiAgbGV0IGFkZGVkID0gY3VyTWFya3MsIHJlbW92ZWQgPSBwcmV2TWFya3MsIHR5cGUsIG1hcmssIHVwZGF0ZVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZNYXJrcy5sZW5ndGg7IGkrKykgYWRkZWQgPSBwcmV2TWFya3NbaV0ucmVtb3ZlRnJvbVNldChhZGRlZClcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJNYXJrcy5sZW5ndGg7IGkrKykgcmVtb3ZlZCA9IGN1ck1hcmtzW2ldLnJlbW92ZUZyb21TZXQocmVtb3ZlZClcbiAgaWYgKGFkZGVkLmxlbmd0aCA9PSAxICYmIHJlbW92ZWQubGVuZ3RoID09IDApIHtcbiAgICBtYXJrID0gYWRkZWRbMF1cbiAgICB0eXBlID0gXCJhZGRcIlxuICAgIHVwZGF0ZSA9IG5vZGUgPT4gbm9kZS5tYXJrKG1hcmsuYWRkVG9TZXQobm9kZS5tYXJrcykpXG4gIH0gZWxzZSBpZiAoYWRkZWQubGVuZ3RoID09IDAgJiYgcmVtb3ZlZC5sZW5ndGggPT0gMSkge1xuICAgIG1hcmsgPSByZW1vdmVkWzBdXG4gICAgdHlwZSA9IFwicmVtb3ZlXCJcbiAgICB1cGRhdGUgPSBub2RlID0+IG5vZGUubWFyayhtYXJrLnJlbW92ZUZyb21TZXQobm9kZS5tYXJrcykpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICBsZXQgdXBkYXRlZCA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldi5jaGlsZENvdW50OyBpKyspIHVwZGF0ZWQucHVzaCh1cGRhdGUocHJldi5jaGlsZChpKSkpXG4gIGlmIChGcmFnbWVudC5mcm9tKHVwZGF0ZWQpLmVxKGN1cikpIHJldHVybiB7bWFyaywgdHlwZX1cbn1cblxuZnVuY3Rpb24gbG9va3NMaWtlSm9pbihvbGQsIHN0YXJ0LCBlbmQsICRuZXdTdGFydCwgJG5ld0VuZCkge1xuICBpZiAoISRuZXdTdGFydC5wYXJlbnQuaXNUZXh0YmxvY2sgfHxcbiAgICAgIC8vIFRoZSBjb250ZW50IG11c3QgaGF2ZSBzaHJ1bmtcbiAgICAgIGVuZCAtIHN0YXJ0IDw9ICRuZXdFbmQucG9zIC0gJG5ld1N0YXJ0LnBvcyB8fFxuICAgICAgLy8gbmV3RW5kIG11c3QgcG9pbnQgZGlyZWN0bHkgYXQgb3IgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgYmxvY2sgdGhhdCBuZXdTdGFydCBwb2ludHMgaW50b1xuICAgICAgc2tpcENsb3NpbmdBbmRPcGVuaW5nKCRuZXdTdGFydCwgdHJ1ZSwgZmFsc2UpIDwgJG5ld0VuZC5wb3MpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgbGV0ICRzdGFydCA9IG9sZC5yZXNvbHZlKHN0YXJ0KVxuICAvLyBTdGFydCBtdXN0IGJlIGF0IHRoZSBlbmQgb2YgYSBibG9ja1xuICBpZiAoJHN0YXJ0LnBhcmVudE9mZnNldCA8ICRzdGFydC5wYXJlbnQuY29udGVudC5zaXplIHx8ICEkc3RhcnQucGFyZW50LmlzVGV4dGJsb2NrKVxuICAgIHJldHVybiBmYWxzZVxuICBsZXQgJG5leHQgPSBvbGQucmVzb2x2ZShza2lwQ2xvc2luZ0FuZE9wZW5pbmcoJHN0YXJ0LCB0cnVlLCB0cnVlKSlcbiAgLy8gVGhlIG5leHQgdGV4dGJsb2NrIG11c3Qgc3RhcnQgYmVmb3JlIGVuZCBhbmQgZW5kIG5lYXIgaXRcbiAgaWYgKCEkbmV4dC5wYXJlbnQuaXNUZXh0YmxvY2sgfHwgJG5leHQucG9zID4gZW5kIHx8XG4gICAgICBza2lwQ2xvc2luZ0FuZE9wZW5pbmcoJG5leHQsIHRydWUsIGZhbHNlKSA8IGVuZClcbiAgICByZXR1cm4gZmFsc2VcblxuICAvLyBUaGUgZnJhZ21lbnRzIGFmdGVyIHRoZSBqb2luIHBvaW50IG11c3QgbWF0Y2hcbiAgcmV0dXJuICRuZXdTdGFydC5wYXJlbnQuY29udGVudC5jdXQoJG5ld1N0YXJ0LnBhcmVudE9mZnNldCkuZXEoJG5leHQucGFyZW50LmNvbnRlbnQpXG59XG5cbmZ1bmN0aW9uIHNraXBDbG9zaW5nQW5kT3BlbmluZygkcG9zLCBmcm9tRW5kLCBtYXlPcGVuKSB7XG4gIGxldCBkZXB0aCA9ICRwb3MuZGVwdGgsIGVuZCA9IGZyb21FbmQgPyAkcG9zLmVuZCgpIDogJHBvcy5wb3NcbiAgd2hpbGUgKGRlcHRoID4gMCAmJiAoZnJvbUVuZCB8fCAkcG9zLmluZGV4QWZ0ZXIoZGVwdGgpID09ICRwb3Mubm9kZShkZXB0aCkuY2hpbGRDb3VudCkpIHtcbiAgICBkZXB0aC0tXG4gICAgZW5kKytcbiAgICBmcm9tRW5kID0gZmFsc2VcbiAgfVxuICBpZiAobWF5T3Blbikge1xuICAgIGxldCBuZXh0ID0gJHBvcy5ub2RlKGRlcHRoKS5tYXliZUNoaWxkKCRwb3MuaW5kZXhBZnRlcihkZXB0aCkpXG4gICAgd2hpbGUgKG5leHQgJiYgIW5leHQuaXNMZWFmKSB7XG4gICAgICBuZXh0ID0gbmV4dC5maXJzdENoaWxkXG4gICAgICBlbmQrK1xuICAgIH1cbiAgfVxuICByZXR1cm4gZW5kXG59XG5cbmZ1bmN0aW9uIGZpbmREaWZmKGEsIGIsIHBvcywgcHJlZmVycmVkUG9zLCBwcmVmZXJyZWRTaWRlKSB7XG4gIGxldCBzdGFydCA9IGEuZmluZERpZmZTdGFydChiLCBwb3MpXG4gIGlmIChzdGFydCA9PSBudWxsKSByZXR1cm4gbnVsbFxuICBsZXQge2E6IGVuZEEsIGI6IGVuZEJ9ID0gYS5maW5kRGlmZkVuZChiLCBwb3MgKyBhLnNpemUsIHBvcyArIGIuc2l6ZSlcbiAgaWYgKHByZWZlcnJlZFNpZGUgPT0gXCJlbmRcIikge1xuICAgIGxldCBhZGp1c3QgPSBNYXRoLm1heCgwLCBzdGFydCAtIE1hdGgubWluKGVuZEEsIGVuZEIpKVxuICAgIHByZWZlcnJlZFBvcyAtPSBlbmRBICsgYWRqdXN0IC0gc3RhcnRcbiAgfVxuICBpZiAoZW5kQSA8IHN0YXJ0ICYmIGEuc2l6ZSA8IGIuc2l6ZSkge1xuICAgIGxldCBtb3ZlID0gcHJlZmVycmVkUG9zIDw9IHN0YXJ0ICYmIHByZWZlcnJlZFBvcyA+PSBlbmRBID8gc3RhcnQgLSBwcmVmZXJyZWRQb3MgOiAwXG4gICAgc3RhcnQgLT0gbW92ZVxuICAgIGVuZEIgPSBzdGFydCArIChlbmRCIC0gZW5kQSlcbiAgICBlbmRBID0gc3RhcnRcbiAgfSBlbHNlIGlmIChlbmRCIDwgc3RhcnQpIHtcbiAgICBsZXQgbW92ZSA9IHByZWZlcnJlZFBvcyA8PSBzdGFydCAmJiBwcmVmZXJyZWRQb3MgPj0gZW5kQiA/IHN0YXJ0IC0gcHJlZmVycmVkUG9zIDogMFxuICAgIHN0YXJ0IC09IG1vdmVcbiAgICBlbmRBID0gc3RhcnQgKyAoZW5kQSAtIGVuZEIpXG4gICAgZW5kQiA9IHN0YXJ0XG4gIH1cbiAgcmV0dXJuIHtzdGFydCwgZW5kQSwgZW5kQn1cbn1cbiIsImltcG9ydCB7U2xpY2UsIEZyYWdtZW50LCBET01QYXJzZXIsIERPTVNlcmlhbGl6ZXJ9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVGb3JDbGlwYm9hcmQodmlldywgc2xpY2UpIHtcbiAgbGV0IGNvbnRleHQgPSBbXSwge2NvbnRlbnQsIG9wZW5TdGFydCwgb3BlbkVuZH0gPSBzbGljZVxuICB3aGlsZSAob3BlblN0YXJ0ID4gMSAmJiBvcGVuRW5kID4gMSAmJiBjb250ZW50LmNoaWxkQ291bnQgPT0gMSAmJiBjb250ZW50LmZpcnN0Q2hpbGQuY2hpbGRDb3VudCA9PSAxKSB7XG4gICAgb3BlblN0YXJ0LS1cbiAgICBvcGVuRW5kLS1cbiAgICBsZXQgbm9kZSA9IGNvbnRlbnQuZmlyc3RDaGlsZFxuICAgIGNvbnRleHQucHVzaChub2RlLnR5cGUubmFtZSwgbm9kZS50eXBlLmhhc1JlcXVpcmVkQXR0cnMoKSA/IG5vZGUuYXR0cnMgOiBudWxsKVxuICAgIGNvbnRlbnQgPSBub2RlLmNvbnRlbnRcbiAgfVxuXG4gIGxldCBzZXJpYWxpemVyID0gdmlldy5zb21lUHJvcChcImNsaXBib2FyZFNlcmlhbGl6ZXJcIikgfHwgRE9NU2VyaWFsaXplci5mcm9tU2NoZW1hKHZpZXcuc3RhdGUuc2NoZW1hKVxuICBsZXQgZG9jID0gZGV0YWNoZWREb2MoKSwgd3JhcCA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gIHdyYXAuYXBwZW5kQ2hpbGQoc2VyaWFsaXplci5zZXJpYWxpemVGcmFnbWVudChjb250ZW50LCB7ZG9jdW1lbnQ6IGRvY30pKVxuXG4gIGxldCBmaXJzdENoaWxkID0gd3JhcC5maXJzdENoaWxkLCBuZWVkc1dyYXBcbiAgd2hpbGUgKGZpcnN0Q2hpbGQgJiYgZmlyc3RDaGlsZC5ub2RlVHlwZSA9PSAxICYmIChuZWVkc1dyYXAgPSB3cmFwTWFwW2ZpcnN0Q2hpbGQubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pKSB7XG4gICAgZm9yIChsZXQgaSA9IG5lZWRzV3JhcC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IHdyYXBwZXIgPSBkb2MuY3JlYXRlRWxlbWVudChuZWVkc1dyYXBbaV0pXG4gICAgICB3aGlsZSAod3JhcC5maXJzdENoaWxkKSB3cmFwcGVyLmFwcGVuZENoaWxkKHdyYXAuZmlyc3RDaGlsZClcbiAgICAgIHdyYXAuYXBwZW5kQ2hpbGQod3JhcHBlcilcbiAgICB9XG4gICAgZmlyc3RDaGlsZCA9IHdyYXAuZmlyc3RDaGlsZFxuICB9XG5cbiAgaWYgKGZpcnN0Q2hpbGQgJiYgZmlyc3RDaGlsZC5ub2RlVHlwZSA9PSAxKVxuICAgIGZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwiZGF0YS1wbS1zbGljZVwiLCBgJHtvcGVuU3RhcnR9ICR7b3BlbkVuZH0gJHtKU09OLnN0cmluZ2lmeShjb250ZXh0KX1gKVxuXG4gIGxldCB0ZXh0ID0gdmlldy5zb21lUHJvcChcImNsaXBib2FyZFRleHRTZXJpYWxpemVyXCIsIGYgPT4gZihzbGljZSkpIHx8XG4gICAgICBzbGljZS5jb250ZW50LnRleHRCZXR3ZWVuKDAsIHNsaWNlLmNvbnRlbnQuc2l6ZSwgXCJcXG5cXG5cIilcblxuICByZXR1cm4ge2RvbTogd3JhcCwgdGV4dH1cbn1cblxuLy8gOiAoRWRpdG9yVmlldywgc3RyaW5nLCBzdHJpbmcsID9ib29sLCBSZXNvbHZlZFBvcykg4oaSID9TbGljZVxuLy8gUmVhZCBhIHNsaWNlIG9mIGNvbnRlbnQgZnJvbSB0aGUgY2xpcGJvYXJkIChvciBkcm9wIGRhdGEpLlxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRnJvbUNsaXBib2FyZCh2aWV3LCB0ZXh0LCBodG1sLCBwbGFpblRleHQsICRjb250ZXh0KSB7XG4gIGxldCBkb20sIGluQ29kZSA9ICRjb250ZXh0LnBhcmVudC50eXBlLnNwZWMuY29kZSwgc2xpY2VcbiAgaWYgKCFodG1sICYmICF0ZXh0KSByZXR1cm4gbnVsbFxuICBsZXQgYXNUZXh0ID0gdGV4dCAmJiAocGxhaW5UZXh0IHx8IGluQ29kZSB8fCAhaHRtbClcbiAgaWYgKGFzVGV4dCkge1xuICAgIHZpZXcuc29tZVByb3AoXCJ0cmFuc2Zvcm1QYXN0ZWRUZXh0XCIsIGYgPT4geyB0ZXh0ID0gZih0ZXh0KSB9KVxuICAgIGlmIChpbkNvZGUpIHJldHVybiBuZXcgU2xpY2UoRnJhZ21lbnQuZnJvbSh2aWV3LnN0YXRlLnNjaGVtYS50ZXh0KHRleHQpKSwgMCwgMClcbiAgICBsZXQgcGFyc2VkID0gdmlldy5zb21lUHJvcChcImNsaXBib2FyZFRleHRQYXJzZXJcIiwgZiA9PiBmKHRleHQsICRjb250ZXh0KSlcbiAgICBpZiAocGFyc2VkKSB7XG4gICAgICBzbGljZSA9IHBhcnNlZFxuICAgIH0gZWxzZSB7XG4gICAgICBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICB0ZXh0LnRyaW0oKS5zcGxpdCgvKD86XFxyXFxuP3xcXG4pKy8pLmZvckVhY2goYmxvY2sgPT4ge1xuICAgICAgICBkb20uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIikpLnRleHRDb250ZW50ID0gYmxvY2tcbiAgICAgIH0pXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZpZXcuc29tZVByb3AoXCJ0cmFuc2Zvcm1QYXN0ZWRIVE1MXCIsIGYgPT4geyBodG1sID0gZihodG1sKSB9KVxuICAgIGRvbSA9IHJlYWRIVE1MKGh0bWwpXG4gIH1cblxuICBsZXQgY29udGV4dE5vZGUgPSBkb20gJiYgZG9tLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1wbS1zbGljZV1cIilcbiAgbGV0IHNsaWNlRGF0YSA9IGNvbnRleHROb2RlICYmIC9eKFxcZCspIChcXGQrKSAoLiopLy5leGVjKGNvbnRleHROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEtcG0tc2xpY2VcIikpXG4gIGlmICghc2xpY2UpIHtcbiAgICBsZXQgcGFyc2VyID0gdmlldy5zb21lUHJvcChcImNsaXBib2FyZFBhcnNlclwiKSB8fCB2aWV3LnNvbWVQcm9wKFwiZG9tUGFyc2VyXCIpIHx8IERPTVBhcnNlci5mcm9tU2NoZW1hKHZpZXcuc3RhdGUuc2NoZW1hKVxuICAgIHNsaWNlID0gcGFyc2VyLnBhcnNlU2xpY2UoZG9tLCB7cHJlc2VydmVXaGl0ZXNwYWNlOiAhIShhc1RleHQgfHwgc2xpY2VEYXRhKSwgY29udGV4dDogJGNvbnRleHR9KVxuICB9XG4gIGlmIChzbGljZURhdGEpXG4gICAgc2xpY2UgPSBhZGRDb250ZXh0KGNsb3NlU2xpY2Uoc2xpY2UsICtzbGljZURhdGFbMV0sICtzbGljZURhdGFbMl0pLCBzbGljZURhdGFbM10pXG4gIGVsc2UgLy8gSFRNTCB3YXNuJ3QgY3JlYXRlZCBieSBQcm9zZU1pcnJvci4gTWFrZSBzdXJlIHRvcC1sZXZlbCBzaWJsaW5ncyBhcmUgY29oZXJlbnRcbiAgICBzbGljZSA9IFNsaWNlLm1heE9wZW4obm9ybWFsaXplU2libGluZ3Moc2xpY2UuY29udGVudCwgJGNvbnRleHQpLCBmYWxzZSlcblxuICB2aWV3LnNvbWVQcm9wKFwidHJhbnNmb3JtUGFzdGVkXCIsIGYgPT4geyBzbGljZSA9IGYoc2xpY2UpIH0pXG4gIHJldHVybiBzbGljZVxufVxuXG4vLyBUYWtlcyBhIHNsaWNlIHBhcnNlZCB3aXRoIHBhcnNlU2xpY2UsIHdoaWNoIG1lYW5zIHRoZXJlIGhhc24ndCBiZWVuXG4vLyBhbnkgY29udGVudC1leHByZXNzaW9uIGNoZWNraW5nIGRvbmUgb24gdGhlIHRvcCBub2RlcywgdHJpZXMgdG9cbi8vIGZpbmQgYSBwYXJlbnQgbm9kZSBpbiB0aGUgY3VycmVudCBjb250ZXh0IHRoYXQgbWlnaHQgZml0IHRoZSBub2Rlcyxcbi8vIGFuZCBpZiBzdWNjZXNzZnVsLCByZWJ1aWxkcyB0aGUgc2xpY2Ugc28gdGhhdCBpdCBmaXRzIGludG8gdGhhdCBwYXJlbnQuXG4vL1xuLy8gVGhpcyBhZGRyZXNzZXMgdGhlIHByb2JsZW0gdGhhdCBUcmFuc2Zvcm0ucmVwbGFjZSBleHBlY3RzIGFcbi8vIGNvaGVyZW50IHNsaWNlLCBhbmQgd2lsbCBmYWlsIHRvIHBsYWNlIGEgc2V0IG9mIHNpYmxpbmdzIHRoYXQgZG9uJ3Rcbi8vIGZpdCBhbnl3aGVyZSBpbiB0aGUgc2NoZW1hLlxuZnVuY3Rpb24gbm9ybWFsaXplU2libGluZ3MoZnJhZ21lbnQsICRjb250ZXh0KSB7XG4gIGlmIChmcmFnbWVudC5jaGlsZENvdW50IDwgMikgcmV0dXJuIGZyYWdtZW50XG4gIGZvciAobGV0IGQgPSAkY29udGV4dC5kZXB0aDsgZCA+PSAwOyBkLS0pIHtcbiAgICBsZXQgcGFyZW50ID0gJGNvbnRleHQubm9kZShkKVxuICAgIGxldCBtYXRjaCA9IHBhcmVudC5jb250ZW50TWF0Y2hBdCgkY29udGV4dC5pbmRleChkKSlcbiAgICBsZXQgbGFzdFdyYXAsIHJlc3VsdCA9IFtdXG4gICAgZnJhZ21lbnQuZm9yRWFjaChub2RlID0+IHtcbiAgICAgIGlmICghcmVzdWx0KSByZXR1cm5cbiAgICAgIGxldCB3cmFwID0gbWF0Y2guZmluZFdyYXBwaW5nKG5vZGUudHlwZSksIGluTGFzdFxuICAgICAgaWYgKCF3cmFwKSByZXR1cm4gcmVzdWx0ID0gbnVsbFxuICAgICAgaWYgKGluTGFzdCA9IHJlc3VsdC5sZW5ndGggJiYgbGFzdFdyYXAubGVuZ3RoICYmIGFkZFRvU2libGluZyh3cmFwLCBsYXN0V3JhcCwgbm9kZSwgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSwgMCkpIHtcbiAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IGluTGFzdFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGgpIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPSBjbG9zZVJpZ2h0KHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0sIGxhc3RXcmFwLmxlbmd0aClcbiAgICAgICAgbGV0IHdyYXBwZWQgPSB3aXRoV3JhcHBlcnMobm9kZSwgd3JhcClcbiAgICAgICAgcmVzdWx0LnB1c2god3JhcHBlZClcbiAgICAgICAgbWF0Y2ggPSBtYXRjaC5tYXRjaFR5cGUod3JhcHBlZC50eXBlLCB3cmFwcGVkLmF0dHJzKVxuICAgICAgICBsYXN0V3JhcCA9IHdyYXBcbiAgICAgIH1cbiAgICB9KVxuICAgIGlmIChyZXN1bHQpIHJldHVybiBGcmFnbWVudC5mcm9tKHJlc3VsdClcbiAgfVxuICByZXR1cm4gZnJhZ21lbnRcbn1cblxuZnVuY3Rpb24gd2l0aFdyYXBwZXJzKG5vZGUsIHdyYXAsIGZyb20gPSAwKSB7XG4gIGZvciAobGV0IGkgPSB3cmFwLmxlbmd0aCAtIDE7IGkgPj0gZnJvbTsgaS0tKVxuICAgIG5vZGUgPSB3cmFwW2ldLmNyZWF0ZShudWxsLCBGcmFnbWVudC5mcm9tKG5vZGUpKVxuICByZXR1cm4gbm9kZVxufVxuXG4vLyBVc2VkIHRvIGdyb3VwIGFkamFjZW50IG5vZGVzIHdyYXBwZWQgaW4gc2ltaWxhciBwYXJlbnRzIGJ5XG4vLyBub3JtYWxpemVTaWJsaW5ncyBpbnRvIHRoZSBzYW1lIHBhcmVudCBub2RlXG5mdW5jdGlvbiBhZGRUb1NpYmxpbmcod3JhcCwgbGFzdFdyYXAsIG5vZGUsIHNpYmxpbmcsIGRlcHRoKSB7XG4gIGlmIChkZXB0aCA8IHdyYXAubGVuZ3RoICYmIGRlcHRoIDwgbGFzdFdyYXAubGVuZ3RoICYmIHdyYXBbZGVwdGhdID09IGxhc3RXcmFwW2RlcHRoXSkge1xuICAgIGxldCBpbm5lciA9IGFkZFRvU2libGluZyh3cmFwLCBsYXN0V3JhcCwgbm9kZSwgc2libGluZy5sYXN0Q2hpbGQsIGRlcHRoICsgMSlcbiAgICBpZiAoaW5uZXIpIHJldHVybiBzaWJsaW5nLmNvcHkoc2libGluZy5jb250ZW50LnJlcGxhY2VDaGlsZChzaWJsaW5nLmNoaWxkQ291bnQgLSAxLCBpbm5lcikpXG4gICAgbGV0IG1hdGNoID0gc2libGluZy5jb250ZW50TWF0Y2hBdChzaWJsaW5nLmNoaWxkQ291bnQpXG4gICAgaWYgKG1hdGNoLm1hdGNoVHlwZShkZXB0aCA9PSB3cmFwLmxlbmd0aCAtIDEgPyBub2RlLnR5cGUgOiB3cmFwW2RlcHRoICsgMV0pKVxuICAgICAgcmV0dXJuIHNpYmxpbmcuY29weShzaWJsaW5nLmNvbnRlbnQuYXBwZW5kKEZyYWdtZW50LmZyb20od2l0aFdyYXBwZXJzKG5vZGUsIHdyYXAsIGRlcHRoICsgMSkpKSlcbiAgfVxufVxuXG5mdW5jdGlvbiBjbG9zZVJpZ2h0KG5vZGUsIGRlcHRoKSB7XG4gIGlmIChkZXB0aCA9PSAwKSByZXR1cm4gbm9kZVxuICBsZXQgZnJhZ21lbnQgPSBub2RlLmNvbnRlbnQucmVwbGFjZUNoaWxkKG5vZGUuY2hpbGRDb3VudCAtIDEsIGNsb3NlUmlnaHQobm9kZS5sYXN0Q2hpbGQsIGRlcHRoIC0gMSkpXG4gIGxldCBmaWxsID0gbm9kZS5jb250ZW50TWF0Y2hBdChub2RlLmNoaWxkQ291bnQpLmZpbGxCZWZvcmUoRnJhZ21lbnQuZW1wdHksIHRydWUpXG4gIHJldHVybiBub2RlLmNvcHkoZnJhZ21lbnQuYXBwZW5kKGZpbGwpKVxufVxuXG5mdW5jdGlvbiBjbG9zZVJhbmdlKGZyYWdtZW50LCBzaWRlLCBmcm9tLCB0bywgZGVwdGgsIG9wZW5FbmQpIHtcbiAgbGV0IG5vZGUgPSBzaWRlIDwgMCA/IGZyYWdtZW50LmZpcnN0Q2hpbGQgOiBmcmFnbWVudC5sYXN0Q2hpbGQsIGlubmVyID0gbm9kZS5jb250ZW50XG4gIGlmIChkZXB0aCA8IHRvIC0gMSkgaW5uZXIgPSBjbG9zZVJhbmdlKGlubmVyLCBzaWRlLCBmcm9tLCB0bywgZGVwdGggKyAxLCBvcGVuRW5kKVxuICBpZiAoZGVwdGggPj0gZnJvbSlcbiAgICBpbm5lciA9IHNpZGUgPCAwID8gbm9kZS5jb250ZW50TWF0Y2hBdCgwKS5maWxsQmVmb3JlKGlubmVyLCBmcmFnbWVudC5jaGlsZENvdW50ID4gMSB8fCBvcGVuRW5kIDw9IGRlcHRoKS5hcHBlbmQoaW5uZXIpXG4gICAgICA6IGlubmVyLmFwcGVuZChub2RlLmNvbnRlbnRNYXRjaEF0KG5vZGUuY2hpbGRDb3VudCkuZmlsbEJlZm9yZShGcmFnbWVudC5lbXB0eSwgdHJ1ZSkpXG4gIHJldHVybiBmcmFnbWVudC5yZXBsYWNlQ2hpbGQoc2lkZSA8IDAgPyAwIDogZnJhZ21lbnQuY2hpbGRDb3VudCAtIDEsIG5vZGUuY29weShpbm5lcikpXG59XG5cbmZ1bmN0aW9uIGNsb3NlU2xpY2Uoc2xpY2UsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICBpZiAob3BlblN0YXJ0IDwgc2xpY2Uub3BlblN0YXJ0KVxuICAgIHNsaWNlID0gbmV3IFNsaWNlKGNsb3NlUmFuZ2Uoc2xpY2UuY29udGVudCwgLTEsIG9wZW5TdGFydCwgc2xpY2Uub3BlblN0YXJ0LCAwLCBzbGljZS5vcGVuRW5kKSwgb3BlblN0YXJ0LCBzbGljZS5vcGVuRW5kKVxuICBpZiAob3BlbkVuZCA8IHNsaWNlLm9wZW5FbmQpXG4gICAgc2xpY2UgPSBuZXcgU2xpY2UoY2xvc2VSYW5nZShzbGljZS5jb250ZW50LCAxLCBvcGVuRW5kLCBzbGljZS5vcGVuRW5kLCAwLCAwKSwgc2xpY2Uub3BlblN0YXJ0LCBvcGVuRW5kKVxuICByZXR1cm4gc2xpY2Vcbn1cblxuLy8gVHJpY2sgZnJvbSBqUXVlcnkgLS0gc29tZSBlbGVtZW50cyBtdXN0IGJlIHdyYXBwZWQgaW4gb3RoZXJcbi8vIGVsZW1lbnRzIGZvciBpbm5lckhUTUwgdG8gd29yay4gSS5lLiBpZiB5b3UgZG8gYGRpdi5pbm5lckhUTUwgPVxuLy8gXCI8dGQ+Li48L3RkPlwiYCB0aGUgdGFibGUgY2VsbHMgYXJlIGlnbm9yZWQuXG5jb25zdCB3cmFwTWFwID0ge1xuICB0aGVhZDogW1widGFibGVcIl0sXG4gIHRib2R5OiBbXCJ0YWJsZVwiXSxcbiAgdGZvb3Q6IFtcInRhYmxlXCJdLFxuICBjYXB0aW9uOiBbXCJ0YWJsZVwiXSxcbiAgY29sZ3JvdXA6IFtcInRhYmxlXCJdLFxuICBjb2w6IFtcInRhYmxlXCIsIFwiY29sZ3JvdXBcIl0sXG4gIHRyOiBbXCJ0YWJsZVwiLCBcInRib2R5XCJdLFxuICB0ZDogW1widGFibGVcIiwgXCJ0Ym9keVwiLCBcInRyXCJdLFxuICB0aDogW1widGFibGVcIiwgXCJ0Ym9keVwiLCBcInRyXCJdXG59XG5cbmxldCBfZGV0YWNoZWREb2MgPSBudWxsXG5mdW5jdGlvbiBkZXRhY2hlZERvYygpIHtcbiAgcmV0dXJuIF9kZXRhY2hlZERvYyB8fCAoX2RldGFjaGVkRG9jID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwidGl0bGVcIikpXG59XG5cbmZ1bmN0aW9uIHJlYWRIVE1MKGh0bWwpIHtcbiAgbGV0IG1ldGFzID0gLyhcXHMqPG1ldGEgW14+XSo+KSovLmV4ZWMoaHRtbClcbiAgaWYgKG1ldGFzKSBodG1sID0gaHRtbC5zbGljZShtZXRhc1swXS5sZW5ndGgpXG4gIGxldCBlbHQgPSBkZXRhY2hlZERvYygpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgbGV0IGZpcnN0VGFnID0gLyg/OjxtZXRhIFtePl0qPikqPChbYS16XVtePlxcc10rKS9pLmV4ZWMoaHRtbCksIHdyYXAsIGRlcHRoID0gMFxuICBpZiAod3JhcCA9IGZpcnN0VGFnICYmIHdyYXBNYXBbZmlyc3RUYWdbMV0udG9Mb3dlckNhc2UoKV0pIHtcbiAgICBodG1sID0gd3JhcC5tYXAobiA9PiBcIjxcIiArIG4gKyBcIj5cIikuam9pbihcIlwiKSArIGh0bWwgKyB3cmFwLm1hcChuID0+IFwiPC9cIiArIG4gKyBcIj5cIikucmV2ZXJzZSgpLmpvaW4oXCJcIilcbiAgICBkZXB0aCA9IHdyYXAubGVuZ3RoXG4gIH1cbiAgZWx0LmlubmVySFRNTCA9IGh0bWxcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXB0aDsgaSsrKSBlbHQgPSBlbHQuZmlyc3RDaGlsZFxuICByZXR1cm4gZWx0XG59XG5cbmZ1bmN0aW9uIGFkZENvbnRleHQoc2xpY2UsIGNvbnRleHQpIHtcbiAgaWYgKCFzbGljZS5zaXplKSByZXR1cm4gc2xpY2VcbiAgbGV0IHNjaGVtYSA9IHNsaWNlLmNvbnRlbnQuZmlyc3RDaGlsZC50eXBlLnNjaGVtYSwgYXJyYXlcbiAgdHJ5IHsgYXJyYXkgPSBKU09OLnBhcnNlKGNvbnRleHQpIH1cbiAgY2F0Y2goZSkgeyByZXR1cm4gc2xpY2UgfVxuICBsZXQge2NvbnRlbnQsIG9wZW5TdGFydCwgb3BlbkVuZH0gPSBzbGljZVxuICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMjsgaSA+PSAwOyBpIC09IDIpIHtcbiAgICBsZXQgdHlwZSA9IHNjaGVtYS5ub2Rlc1thcnJheVtpXV1cbiAgICBpZiAoIXR5cGUgfHwgdHlwZS5oYXNSZXF1aXJlZEF0dHJzKCkpIGJyZWFrXG4gICAgY29udGVudCA9IEZyYWdtZW50LmZyb20odHlwZS5jcmVhdGUoYXJyYXlbaSArIDFdLCBjb250ZW50KSlcbiAgICBvcGVuU3RhcnQrKzsgb3BlbkVuZCsrXG4gIH1cbiAgcmV0dXJuIG5ldyBTbGljZShjb250ZW50LCBvcGVuU3RhcnQsIG9wZW5FbmQpXG59XG4iLCJpbXBvcnQgYnJvd3NlciBmcm9tIFwiLi9icm93c2VyXCJcbmltcG9ydCB7ZG9tSW5kZXgsIGlzRXF1aXZhbGVudFBvc2l0aW9ufSBmcm9tIFwiLi9kb21cIlxuaW1wb3J0IHtoYXNGb2N1c0FuZFNlbGVjdGlvbiwgaGFzU2VsZWN0aW9uLCBzZWxlY3Rpb25Ub0RPTX0gZnJvbSBcIi4vc2VsZWN0aW9uXCJcblxuY29uc3Qgb2JzZXJ2ZU9wdGlvbnMgPSB7XG4gIGNoaWxkTGlzdDogdHJ1ZSxcbiAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiB0cnVlLFxuICBhdHRyaWJ1dGVzOiB0cnVlLFxuICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgc3VidHJlZTogdHJ1ZVxufVxuLy8gSUUxMSBoYXMgdmVyeSBicm9rZW4gbXV0YXRpb24gb2JzZXJ2ZXJzLCBzbyB3ZSBhbHNvIGxpc3RlbiB0byBET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcbmNvbnN0IHVzZUNoYXJEYXRhID0gYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTFcblxuY2xhc3MgU2VsZWN0aW9uU3RhdGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFuY2hvck5vZGUgPSB0aGlzLmFuY2hvck9mZnNldCA9IHRoaXMuZm9jdXNOb2RlID0gdGhpcy5mb2N1c09mZnNldCA9IG51bGxcbiAgfVxuXG4gIHNldChzZWwpIHtcbiAgICB0aGlzLmFuY2hvck5vZGUgPSBzZWwuYW5jaG9yTm9kZTsgdGhpcy5hbmNob3JPZmZzZXQgPSBzZWwuYW5jaG9yT2Zmc2V0XG4gICAgdGhpcy5mb2N1c05vZGUgPSBzZWwuZm9jdXNOb2RlOyB0aGlzLmZvY3VzT2Zmc2V0ID0gc2VsLmZvY3VzT2Zmc2V0XG4gIH1cblxuICBlcShzZWwpIHtcbiAgICByZXR1cm4gc2VsLmFuY2hvck5vZGUgPT0gdGhpcy5hbmNob3JOb2RlICYmIHNlbC5hbmNob3JPZmZzZXQgPT0gdGhpcy5hbmNob3JPZmZzZXQgJiZcbiAgICAgIHNlbC5mb2N1c05vZGUgPT0gdGhpcy5mb2N1c05vZGUgJiYgc2VsLmZvY3VzT2Zmc2V0ID09IHRoaXMuZm9jdXNPZmZzZXRcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRE9NT2JzZXJ2ZXIge1xuICBjb25zdHJ1Y3Rvcih2aWV3LCBoYW5kbGVET01DaGFuZ2UpIHtcbiAgICB0aGlzLnZpZXcgPSB2aWV3XG4gICAgdGhpcy5oYW5kbGVET01DaGFuZ2UgPSBoYW5kbGVET01DaGFuZ2VcbiAgICB0aGlzLnF1ZXVlID0gW11cbiAgICB0aGlzLmZsdXNoaW5nU29vbiA9IGZhbHNlXG4gICAgdGhpcy5vYnNlcnZlciA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyICYmXG4gICAgICBuZXcgd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHRoaXMucXVldWUucHVzaChtdXRhdGlvbnNbaV0pXG4gICAgICAgIC8vIElFMTEgd2lsbCBzb21ldGltZXMgKG9uIGJhY2tzcGFjaW5nIG91dCBhIHNpbmdsZSBjaGFyYWN0ZXJcbiAgICAgICAgLy8gdGV4dCBub2RlIGFmdGVyIGEgQlIgbm9kZSkgY2FsbCB0aGUgb2JzZXJ2ZXIgY2FsbGJhY2tcbiAgICAgICAgLy8gYmVmb3JlIGFjdHVhbGx5IHVwZGF0aW5nIHRoZSBET00sIHdoaWNoIHdpbGwgY2F1c2VcbiAgICAgICAgLy8gUHJvc2VNaXJyb3IgdG8gbWlzcyB0aGUgY2hhbmdlIChzZWUgIzkzMClcbiAgICAgICAgaWYgKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDw9IDExICYmIG11dGF0aW9ucy5zb21lKFxuICAgICAgICAgIG0gPT4gbS50eXBlID09IFwiY2hpbGRMaXN0XCIgJiYgbS5yZW1vdmVkTm9kZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICAgICBtLnR5cGUgPT0gXCJjaGFyYWN0ZXJEYXRhXCIgJiYgbS5vbGRWYWx1ZS5sZW5ndGggPiBtLnRhcmdldC5ub2RlVmFsdWUubGVuZ3RoKSlcbiAgICAgICAgICB0aGlzLmZsdXNoU29vbigpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICB0aGlzLmZsdXNoKClcbiAgICAgIH0pXG4gICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uID0gbmV3IFNlbGVjdGlvblN0YXRlXG4gICAgaWYgKHVzZUNoYXJEYXRhKSB7XG4gICAgICB0aGlzLm9uQ2hhckRhdGEgPSBlID0+IHtcbiAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKHt0YXJnZXQ6IGUudGFyZ2V0LCB0eXBlOiBcImNoYXJhY3RlckRhdGFcIiwgb2xkVmFsdWU6IGUucHJldlZhbHVlfSlcbiAgICAgICAgdGhpcy5mbHVzaFNvb24oKVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlID0gdGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMgPSBmYWxzZVxuICB9XG5cbiAgZmx1c2hTb29uKCkge1xuICAgIGlmICghdGhpcy5mbHVzaGluZ1Nvb24pIHtcbiAgICAgIHRoaXMuZmx1c2hpbmdTb29uID0gdHJ1ZVxuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4geyB0aGlzLmZsdXNoaW5nU29vbiA9IGZhbHNlOyB0aGlzLmZsdXNoKCkgfSwgMjApXG4gICAgfVxuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXIpXG4gICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy52aWV3LmRvbSwgb2JzZXJ2ZU9wdGlvbnMpXG4gICAgaWYgKHVzZUNoYXJEYXRhKVxuICAgICAgdGhpcy52aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkXCIsIHRoaXMub25DaGFyRGF0YSlcbiAgICB0aGlzLmNvbm5lY3RTZWxlY3Rpb24oKVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBpZiAodGhpcy5vYnNlcnZlcikge1xuICAgICAgbGV0IHRha2UgPSB0aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKClcbiAgICAgIGlmICh0YWtlLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRha2UubGVuZ3RoOyBpKyspIHRoaXMucXVldWUucHVzaCh0YWtlW2ldKVxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLmZsdXNoKCksIDIwKVxuICAgICAgfVxuICAgICAgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KClcbiAgICB9XG4gICAgaWYgKHVzZUNoYXJEYXRhKSB0aGlzLnZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcIiwgdGhpcy5vbkNoYXJEYXRhKVxuICAgIHRoaXMuZGlzY29ubmVjdFNlbGVjdGlvbigpXG4gIH1cblxuICBjb25uZWN0U2VsZWN0aW9uKCkge1xuICAgIHRoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpXG4gIH1cblxuICBkaXNjb25uZWN0U2VsZWN0aW9uKCkge1xuICAgIHRoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpXG4gIH1cblxuICBzdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMoKSB7XG4gICAgdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMgPSB0cnVlXG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcyA9IGZhbHNlLCA1MClcbiAgfVxuXG4gIG9uU2VsZWN0aW9uQ2hhbmdlKCkge1xuICAgIGlmICghaGFzRm9jdXNBbmRTZWxlY3Rpb24odGhpcy52aWV3KSkgcmV0dXJuXG4gICAgaWYgKHRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzKSByZXR1cm4gc2VsZWN0aW9uVG9ET00odGhpcy52aWV3KVxuICAgIC8vIERlbGV0aW9ucyBvbiBJRTExIGZpcmUgdGhlaXIgZXZlbnRzIGluIHRoZSB3cm9uZyBvcmRlciwgZ2l2aW5nXG4gICAgLy8gdXMgYSBzZWxlY3Rpb24gY2hhbmdlIGV2ZW50IGJlZm9yZSB0aGUgRE9NIGNoYW5nZXMgYXJlXG4gICAgLy8gcmVwb3J0ZWQuXG4gICAgaWYgKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDw9IDExICYmICF0aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLmVtcHR5KSB7XG4gICAgICBsZXQgc2VsID0gdGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKClcbiAgICAgIC8vIFNlbGVjdGlvbi5pc0NvbGxhcHNlZCBpc24ndCByZWxpYWJsZSBvbiBJRVxuICAgICAgaWYgKHNlbC5mb2N1c05vZGUgJiYgaXNFcXVpdmFsZW50UG9zaXRpb24oc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0LCBzZWwuYW5jaG9yTm9kZSwgc2VsLmFuY2hvck9mZnNldCkpXG4gICAgICAgIHJldHVybiB0aGlzLmZsdXNoU29vbigpXG4gICAgfVxuICAgIHRoaXMuZmx1c2goKVxuICB9XG5cbiAgc2V0Q3VyU2VsZWN0aW9uKCkge1xuICAgIHRoaXMuY3VycmVudFNlbGVjdGlvbi5zZXQodGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCkpXG4gIH1cblxuICBpZ25vcmVTZWxlY3Rpb25DaGFuZ2Uoc2VsKSB7XG4gICAgaWYgKHNlbC5yYW5nZUNvdW50ID09IDApIHJldHVybiB0cnVlXG4gICAgbGV0IGNvbnRhaW5lciA9IHNlbC5nZXRSYW5nZUF0KDApLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyXG4gICAgbGV0IGRlc2MgPSB0aGlzLnZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhjb250YWluZXIpXG4gICAgaWYgKGRlc2MgJiYgZGVzYy5pZ25vcmVNdXRhdGlvbih7dHlwZTogXCJzZWxlY3Rpb25cIiwgdGFyZ2V0OiBjb250YWluZXIubm9kZVR5cGUgPT0gMyA/IGNvbnRhaW5lci5wYXJlbnROb2RlIDogY29udGFpbmVyfSkpIHtcbiAgICAgIHRoaXMuc2V0Q3VyU2VsZWN0aW9uKClcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgZmx1c2goKSB7XG4gICAgaWYgKCF0aGlzLnZpZXcuZG9jVmlldyB8fCB0aGlzLmZsdXNoaW5nU29vbikgcmV0dXJuXG4gICAgbGV0IG11dGF0aW9ucyA9IHRoaXMub2JzZXJ2ZXIgPyB0aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCkgOiBbXVxuICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgbXV0YXRpb25zID0gdGhpcy5xdWV1ZS5jb25jYXQobXV0YXRpb25zKVxuICAgICAgdGhpcy5xdWV1ZS5sZW5ndGggPSAwXG4gICAgfVxuXG4gICAgbGV0IHNlbCA9IHRoaXMudmlldy5yb290LmdldFNlbGVjdGlvbigpXG4gICAgbGV0IG5ld1NlbCA9ICF0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcyAmJiAhdGhpcy5jdXJyZW50U2VsZWN0aW9uLmVxKHNlbCkgJiYgaGFzU2VsZWN0aW9uKHRoaXMudmlldykgJiYgIXRoaXMuaWdub3JlU2VsZWN0aW9uQ2hhbmdlKHNlbClcblxuICAgIGxldCBmcm9tID0gLTEsIHRvID0gLTEsIHR5cGVPdmVyID0gZmFsc2UsIGFkZGVkID0gW11cbiAgICBpZiAodGhpcy52aWV3LmVkaXRhYmxlKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11dGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5yZWdpc3Rlck11dGF0aW9uKG11dGF0aW9uc1tpXSwgYWRkZWQpXG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBmcm9tID0gZnJvbSA8IDAgPyByZXN1bHQuZnJvbSA6IE1hdGgubWluKHJlc3VsdC5mcm9tLCBmcm9tKVxuICAgICAgICAgIHRvID0gdG8gPCAwID8gcmVzdWx0LnRvIDogTWF0aC5tYXgocmVzdWx0LnRvLCB0bylcbiAgICAgICAgICBpZiAocmVzdWx0LnR5cGVPdmVyICYmICF0aGlzLnZpZXcuY29tcG9zaW5nKSB0eXBlT3ZlciA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChicm93c2VyLmdlY2tvICYmIGFkZGVkLmxlbmd0aCA+IDEpIHtcbiAgICAgIGxldCBicnMgPSBhZGRlZC5maWx0ZXIobiA9PiBuLm5vZGVOYW1lID09IFwiQlJcIilcbiAgICAgIGlmIChicnMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgbGV0IFthLCBiXSA9IGJyc1xuICAgICAgICBpZiAoYS5wYXJlbnROb2RlICYmIGEucGFyZW50Tm9kZS5wYXJlbnROb2RlID09IGIucGFyZW50Tm9kZSkgYi5yZW1vdmUoKVxuICAgICAgICBlbHNlIGEucmVtb3ZlKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZnJvbSA+IC0xIHx8IG5ld1NlbCkge1xuICAgICAgaWYgKGZyb20gPiAtMSkge1xuICAgICAgICB0aGlzLnZpZXcuZG9jVmlldy5tYXJrRGlydHkoZnJvbSwgdG8pXG4gICAgICAgIGNoZWNrQ1NTKHRoaXMudmlldylcbiAgICAgIH1cbiAgICAgIHRoaXMuaGFuZGxlRE9NQ2hhbmdlKGZyb20sIHRvLCB0eXBlT3ZlciwgYWRkZWQpXG4gICAgICBpZiAodGhpcy52aWV3LmRvY1ZpZXcuZGlydHkpIHRoaXMudmlldy51cGRhdGVTdGF0ZSh0aGlzLnZpZXcuc3RhdGUpXG4gICAgICBlbHNlIGlmICghdGhpcy5jdXJyZW50U2VsZWN0aW9uLmVxKHNlbCkpIHNlbGVjdGlvblRvRE9NKHRoaXMudmlldylcbiAgICB9XG4gIH1cblxuICByZWdpc3Rlck11dGF0aW9uKG11dCwgYWRkZWQpIHtcbiAgICAvLyBJZ25vcmUgbXV0YXRpb25zIGluc2lkZSBub2RlcyB0aGF0IHdlcmUgYWxyZWFkeSBub3RlZCBhcyBpbnNlcnRlZFxuICAgIGlmIChhZGRlZC5pbmRleE9mKG11dC50YXJnZXQpID4gLTEpIHJldHVybiBudWxsXG4gICAgbGV0IGRlc2MgPSB0aGlzLnZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhtdXQudGFyZ2V0KVxuICAgIGlmIChtdXQudHlwZSA9PSBcImF0dHJpYnV0ZXNcIiAmJlxuICAgICAgICAoZGVzYyA9PSB0aGlzLnZpZXcuZG9jVmlldyB8fCBtdXQuYXR0cmlidXRlTmFtZSA9PSBcImNvbnRlbnRlZGl0YWJsZVwiIHx8XG4gICAgICAgICAvLyBGaXJlZm94IHNvbWV0aW1lcyBmaXJlcyBzcHVyaW91cyBldmVudHMgZm9yIG51bGwvZW1wdHkgc3R5bGVzXG4gICAgICAgICAobXV0LmF0dHJpYnV0ZU5hbWUgPT0gXCJzdHlsZVwiICYmICFtdXQub2xkVmFsdWUgJiYgIW11dC50YXJnZXQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikpKSlcbiAgICAgIHJldHVybiBudWxsXG4gICAgaWYgKCFkZXNjIHx8IGRlc2MuaWdub3JlTXV0YXRpb24obXV0KSkgcmV0dXJuIG51bGxcblxuICAgIGlmIChtdXQudHlwZSA9PSBcImNoaWxkTGlzdFwiKSB7XG4gICAgICBsZXQgcHJldiA9IG11dC5wcmV2aW91c1NpYmxpbmcsIG5leHQgPSBtdXQubmV4dFNpYmxpbmdcbiAgICAgIGlmIChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMSAmJiBtdXQuYWRkZWROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gSUUxMSBnaXZlcyB1cyBpbmNvcnJlY3QgbmV4dC9wcmV2IHNpYmxpbmdzIGZvciBzb21lXG4gICAgICAgIC8vIGluc2VydGlvbnMsIHNvIGlmIHRoZXJlIGFyZSBhZGRlZCBub2RlcywgcmVjb21wdXRlIHRob3NlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXV0LmFkZGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQge3ByZXZpb3VzU2libGluZywgbmV4dFNpYmxpbmd9ID0gbXV0LmFkZGVkTm9kZXNbaV1cbiAgICAgICAgICBpZiAoIXByZXZpb3VzU2libGluZyB8fCBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKG11dC5hZGRlZE5vZGVzLCBwcmV2aW91c1NpYmxpbmcpIDwgMCkgcHJldiA9IHByZXZpb3VzU2libGluZ1xuICAgICAgICAgIGlmICghbmV4dFNpYmxpbmcgfHwgQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChtdXQuYWRkZWROb2RlcywgbmV4dFNpYmxpbmcpIDwgMCkgbmV4dCA9IG5leHRTaWJsaW5nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBmcm9tT2Zmc2V0ID0gcHJldiAmJiBwcmV2LnBhcmVudE5vZGUgPT0gbXV0LnRhcmdldFxuICAgICAgICAgID8gZG9tSW5kZXgocHJldikgKyAxIDogMFxuICAgICAgbGV0IGZyb20gPSBkZXNjLmxvY2FsUG9zRnJvbURPTShtdXQudGFyZ2V0LCBmcm9tT2Zmc2V0LCAtMSlcbiAgICAgIGxldCB0b09mZnNldCA9IG5leHQgJiYgbmV4dC5wYXJlbnROb2RlID09IG11dC50YXJnZXRcbiAgICAgICAgICA/IGRvbUluZGV4KG5leHQpIDogbXV0LnRhcmdldC5jaGlsZE5vZGVzLmxlbmd0aFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXQuYWRkZWROb2Rlcy5sZW5ndGg7IGkrKykgYWRkZWQucHVzaChtdXQuYWRkZWROb2Rlc1tpXSlcbiAgICAgIGxldCB0byA9IGRlc2MubG9jYWxQb3NGcm9tRE9NKG11dC50YXJnZXQsIHRvT2Zmc2V0LCAxKVxuICAgICAgcmV0dXJuIHtmcm9tLCB0b31cbiAgICB9IGVsc2UgaWYgKG11dC50eXBlID09IFwiYXR0cmlidXRlc1wiKSB7XG4gICAgICByZXR1cm4ge2Zyb206IGRlc2MucG9zQXRTdGFydCAtIGRlc2MuYm9yZGVyLCB0bzogZGVzYy5wb3NBdEVuZCArIGRlc2MuYm9yZGVyfVxuICAgIH0gZWxzZSB7IC8vIFwiY2hhcmFjdGVyRGF0YVwiXG4gICAgICByZXR1cm4ge1xuICAgICAgICBmcm9tOiBkZXNjLnBvc0F0U3RhcnQsXG4gICAgICAgIHRvOiBkZXNjLnBvc0F0RW5kLFxuICAgICAgICAvLyBBbiBldmVudCB3YXMgZ2VuZXJhdGVkIGZvciBhIHRleHQgY2hhbmdlIHRoYXQgZGlkbid0IGNoYW5nZVxuICAgICAgICAvLyBhbnkgdGV4dC4gTWFyayB0aGUgZG9tIGNoYW5nZSB0byBmYWxsIGJhY2sgdG8gYXNzdW1pbmcgdGhlXG4gICAgICAgIC8vIHNlbGVjdGlvbiB3YXMgdHlwZWQgb3ZlciB3aXRoIGFuIGlkZW50aWNhbCB2YWx1ZSBpZiBpdCBjYW4ndFxuICAgICAgICAvLyBmaW5kIGFub3RoZXIgY2hhbmdlLlxuICAgICAgICB0eXBlT3ZlcjogbXV0LnRhcmdldC5ub2RlVmFsdWUgPT0gbXV0Lm9sZFZhbHVlXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmxldCBjc3NDaGVja2VkID0gZmFsc2VcblxuZnVuY3Rpb24gY2hlY2tDU1Modmlldykge1xuICBpZiAoY3NzQ2hlY2tlZCkgcmV0dXJuXG4gIGNzc0NoZWNrZWQgPSB0cnVlXG4gIGlmIChnZXRDb21wdXRlZFN0eWxlKHZpZXcuZG9tKS53aGl0ZVNwYWNlID09IFwibm9ybWFsXCIpXG4gICAgY29uc29sZVtcIndhcm5cIl0oXCJQcm9zZU1pcnJvciBleHBlY3RzIHRoZSBDU1Mgd2hpdGUtc3BhY2UgcHJvcGVydHkgdG8gYmUgc2V0LCBwcmVmZXJhYmx5IHRvICdwcmUtd3JhcCcuIEl0IGlzIHJlY29tbWVuZGVkIHRvIGxvYWQgc3R5bGUvcHJvc2VtaXJyb3IuY3NzIGZyb20gdGhlIHByb3NlbWlycm9yLXZpZXcgcGFja2FnZS5cIilcbn1cbiIsImltcG9ydCB7U2VsZWN0aW9uLCBOb2RlU2VsZWN0aW9uLCBUZXh0U2VsZWN0aW9ufSBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIlxuaW1wb3J0IHtkcm9wUG9pbnR9IGZyb20gXCJwcm9zZW1pcnJvci10cmFuc2Zvcm1cIlxuaW1wb3J0IHtTbGljZX0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5pbXBvcnQge2NhcHR1cmVLZXlEb3dufSBmcm9tIFwiLi9jYXB0dXJla2V5c1wiXG5pbXBvcnQge3JlYWRET01DaGFuZ2V9IGZyb20gXCIuL2RvbWNoYW5nZVwiXG5pbXBvcnQge3BhcnNlRnJvbUNsaXBib2FyZCwgc2VyaWFsaXplRm9yQ2xpcGJvYXJkfSBmcm9tIFwiLi9jbGlwYm9hcmRcIlxuaW1wb3J0IHtET01PYnNlcnZlcn0gZnJvbSBcIi4vZG9tb2JzZXJ2ZXJcIlxuaW1wb3J0IHtzZWxlY3Rpb25CZXR3ZWVuLCBzZWxlY3Rpb25Ub0RPTX0gZnJvbSBcIi4vc2VsZWN0aW9uXCJcbmltcG9ydCB7a2V5RXZlbnR9IGZyb20gXCIuL2RvbVwiXG5cbi8vIEEgY29sbGVjdGlvbiBvZiBET00gZXZlbnRzIHRoYXQgb2NjdXIgd2l0aGluIHRoZSBlZGl0b3IsIGFuZCBjYWxsYmFjayBmdW5jdGlvbnNcbi8vIHRvIGludm9rZSB3aGVuIHRoZSBldmVudCBmaXJlcy5cbmNvbnN0IGhhbmRsZXJzID0ge30sIGVkaXRIYW5kbGVycyA9IHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0SW5wdXQodmlldykge1xuICB2aWV3LnNoaWZ0S2V5ID0gZmFsc2VcbiAgdmlldy5tb3VzZURvd24gPSBudWxsXG4gIHZpZXcubGFzdEtleUNvZGUgPSBudWxsXG4gIHZpZXcubGFzdEtleUNvZGVUaW1lID0gMFxuICB2aWV3Lmxhc3RDbGljayA9IHt0aW1lOiAwLCB4OiAwLCB5OiAwLCB0eXBlOiBcIlwifVxuICB2aWV3Lmxhc3RTZWxlY3Rpb25PcmlnaW4gPSBudWxsXG4gIHZpZXcubGFzdFNlbGVjdGlvblRpbWUgPSAwXG5cbiAgdmlldy5sYXN0SU9TRW50ZXIgPSAwXG5cbiAgdmlldy5jb21wb3NpbmcgPSBmYWxzZVxuICB2aWV3LmNvbXBvc2luZ1RpbWVvdXQgPSBudWxsXG4gIHZpZXcuY29tcG9zaXRpb25Ob2RlcyA9IFtdXG4gIHZpZXcuY29tcG9zaXRpb25FbmRlZEF0ID0gLTJlOFxuXG4gIHZpZXcuZG9tT2JzZXJ2ZXIgPSBuZXcgRE9NT2JzZXJ2ZXIodmlldywgKGZyb20sIHRvLCB0eXBlT3ZlciwgYWRkZWQpID0+IHJlYWRET01DaGFuZ2UodmlldywgZnJvbSwgdG8sIHR5cGVPdmVyLCBhZGRlZCkpXG4gIHZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKVxuICAvLyBVc2VkIGJ5IGhhY2tzIGxpa2UgdGhlIGJlZm9yZWlucHV0IGhhbmRsZXIgdG8gY2hlY2sgd2hldGhlciBhbnl0aGluZyBoYXBwZW5lZCBpbiB0aGUgRE9NXG4gIHZpZXcuZG9tQ2hhbmdlQ291bnQgPSAwXG5cbiAgdmlldy5ldmVudEhhbmRsZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICBmb3IgKGxldCBldmVudCBpbiBoYW5kbGVycykge1xuICAgIGxldCBoYW5kbGVyID0gaGFuZGxlcnNbZXZlbnRdXG4gICAgdmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdmlldy5ldmVudEhhbmRsZXJzW2V2ZW50XSA9IGV2ZW50ID0+IHtcbiAgICAgIGlmIChldmVudEJlbG9uZ3NUb1ZpZXcodmlldywgZXZlbnQpICYmICFydW5DdXN0b21IYW5kbGVyKHZpZXcsIGV2ZW50KSAmJlxuICAgICAgICAgICh2aWV3LmVkaXRhYmxlIHx8ICEoZXZlbnQudHlwZSBpbiBlZGl0SGFuZGxlcnMpKSlcbiAgICAgICAgaGFuZGxlcih2aWV3LCBldmVudClcbiAgICB9KVxuICB9XG4gIC8vIE9uIFNhZmFyaSwgZm9yIHJlYXNvbnMgYmV5b25kIG15IHVuZGVyc3RhbmRpbmcsIGFkZGluZyBhbiBpbnB1dFxuICAvLyBldmVudCBoYW5kbGVyIG1ha2VzIGFuIGlzc3VlIHdoZXJlIHRoZSBjb21wb3NpdGlvbiB2YW5pc2hlcyB3aGVuXG4gIC8vIHlvdSBwcmVzcyBlbnRlciBnbyBhd2F5LlxuICBpZiAoYnJvd3Nlci5zYWZhcmkpIHZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiBudWxsKVxuXG4gIGVuc3VyZUxpc3RlbmVycyh2aWV3KVxufVxuXG5mdW5jdGlvbiBzZXRTZWxlY3Rpb25PcmlnaW4odmlldywgb3JpZ2luKSB7XG4gIHZpZXcubGFzdFNlbGVjdGlvbk9yaWdpbiA9IG9yaWdpblxuICB2aWV3Lmxhc3RTZWxlY3Rpb25UaW1lID0gRGF0ZS5ub3coKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveUlucHV0KHZpZXcpIHtcbiAgdmlldy5kb21PYnNlcnZlci5zdG9wKClcbiAgZm9yIChsZXQgdHlwZSBpbiB2aWV3LmV2ZW50SGFuZGxlcnMpXG4gICAgdmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCB2aWV3LmV2ZW50SGFuZGxlcnNbdHlwZV0pXG4gIGNsZWFyVGltZW91dCh2aWV3LmNvbXBvc2luZ1RpbWVvdXQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVMaXN0ZW5lcnModmlldykge1xuICB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlRE9NRXZlbnRzXCIsIGN1cnJlbnRIYW5kbGVycyA9PiB7XG4gICAgZm9yIChsZXQgdHlwZSBpbiBjdXJyZW50SGFuZGxlcnMpIGlmICghdmlldy5ldmVudEhhbmRsZXJzW3R5cGVdKVxuICAgICAgdmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCB2aWV3LmV2ZW50SGFuZGxlcnNbdHlwZV0gPSBldmVudCA9PiBydW5DdXN0b21IYW5kbGVyKHZpZXcsIGV2ZW50KSlcbiAgfSlcbn1cblxuZnVuY3Rpb24gcnVuQ3VzdG9tSGFuZGxlcih2aWV3LCBldmVudCkge1xuICByZXR1cm4gdmlldy5zb21lUHJvcChcImhhbmRsZURPTUV2ZW50c1wiLCBoYW5kbGVycyA9PiB7XG4gICAgbGV0IGhhbmRsZXIgPSBoYW5kbGVyc1tldmVudC50eXBlXVxuICAgIHJldHVybiBoYW5kbGVyID8gaGFuZGxlcih2aWV3LCBldmVudCkgfHwgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCA6IGZhbHNlXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGV2ZW50QmVsb25nc1RvVmlldyh2aWV3LCBldmVudCkge1xuICBpZiAoIWV2ZW50LmJ1YmJsZXMpIHJldHVybiB0cnVlXG4gIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm4gZmFsc2VcbiAgZm9yIChsZXQgbm9kZSA9IGV2ZW50LnRhcmdldDsgbm9kZSAhPSB2aWV3LmRvbTsgbm9kZSA9IG5vZGUucGFyZW50Tm9kZSlcbiAgICBpZiAoIW5vZGUgfHwgbm9kZS5ub2RlVHlwZSA9PSAxMSB8fFxuICAgICAgICAobm9kZS5wbVZpZXdEZXNjICYmIG5vZGUucG1WaWV3RGVzYy5zdG9wRXZlbnQoZXZlbnQpKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICByZXR1cm4gdHJ1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudCh2aWV3LCBldmVudCkge1xuICBpZiAoIXJ1bkN1c3RvbUhhbmRsZXIodmlldywgZXZlbnQpICYmIGhhbmRsZXJzW2V2ZW50LnR5cGVdICYmXG4gICAgICAodmlldy5lZGl0YWJsZSB8fCAhKGV2ZW50LnR5cGUgaW4gZWRpdEhhbmRsZXJzKSkpXG4gICAgaGFuZGxlcnNbZXZlbnQudHlwZV0odmlldywgZXZlbnQpXG59XG5cbmVkaXRIYW5kbGVycy5rZXlkb3duID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gIHZpZXcuc2hpZnRLZXkgPSBldmVudC5rZXlDb2RlID09IDE2IHx8IGV2ZW50LnNoaWZ0S2V5XG4gIGlmIChpbk9yTmVhckNvbXBvc2l0aW9uKHZpZXcsIGV2ZW50KSkgcmV0dXJuXG4gIHZpZXcubGFzdEtleUNvZGUgPSBldmVudC5rZXlDb2RlXG4gIHZpZXcubGFzdEtleUNvZGVUaW1lID0gRGF0ZS5ub3coKVxuICAvLyBPbiBpT1MsIGlmIHdlIHByZXZlbnREZWZhdWx0IGVudGVyIGtleSBwcmVzc2VzLCB0aGUgdmlydHVhbFxuICAvLyBrZXlib2FyZCBnZXRzIGNvbmZ1c2VkLiBTbyB0aGUgaGFjayBoZXJlIGlzIHRvIHNldCBhIGZsYWcgdGhhdFxuICAvLyBtYWtlcyB0aGUgRE9NIGNoYW5nZSBjb2RlIHJlY29nbml6ZSB0aGF0IHdoYXQganVzdCBoYXBwZW5zIHNob3VsZFxuICAvLyBiZSByZXBsYWNlZCBieSB3aGF0ZXZlciB0aGUgRW50ZXIga2V5IGhhbmRsZXJzIGRvLlxuICBpZiAoYnJvd3Nlci5pb3MgJiYgZXZlbnQua2V5Q29kZSA9PSAxMyAmJiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuYWx0S2V5ICYmICFldmVudC5tZXRhS2V5KVxuICAgIHZpZXcubGFzdElPU0VudGVyID0gRGF0ZS5ub3coKVxuICBlbHNlIGlmICh2aWV3LnNvbWVQcm9wKFwiaGFuZGxlS2V5RG93blwiLCBmID0+IGYodmlldywgZXZlbnQpKSB8fCBjYXB0dXJlS2V5RG93bih2aWV3LCBldmVudCkpXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICBlbHNlXG4gICAgc2V0U2VsZWN0aW9uT3JpZ2luKHZpZXcsIFwia2V5XCIpXG59XG5cbmVkaXRIYW5kbGVycy5rZXl1cCA9ICh2aWV3LCBlKSA9PiB7XG4gIGlmIChlLmtleUNvZGUgPT0gMTYpIHZpZXcuc2hpZnRLZXkgPSBmYWxzZVxufVxuXG5lZGl0SGFuZGxlcnMua2V5cHJlc3MgPSAodmlldywgZXZlbnQpID0+IHtcbiAgaWYgKGluT3JOZWFyQ29tcG9zaXRpb24odmlldywgZXZlbnQpIHx8ICFldmVudC5jaGFyQ29kZSB8fFxuICAgICAgZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuYWx0S2V5IHx8IGJyb3dzZXIubWFjICYmIGV2ZW50Lm1ldGFLZXkpIHJldHVyblxuXG4gIGlmICh2aWV3LnNvbWVQcm9wKFwiaGFuZGxlS2V5UHJlc3NcIiwgZiA9PiBmKHZpZXcsIGV2ZW50KSkpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgcmV0dXJuXG4gIH1cblxuICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKCEoc2VsIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbikgfHwgIXNlbC4kZnJvbS5zYW1lUGFyZW50KHNlbC4kdG8pKSB7XG4gICAgbGV0IHRleHQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LmNoYXJDb2RlKVxuICAgIGlmICghdmlldy5zb21lUHJvcChcImhhbmRsZVRleHRJbnB1dFwiLCBmID0+IGYodmlldywgc2VsLiRmcm9tLnBvcywgc2VsLiR0by5wb3MsIHRleHQpKSlcbiAgICAgIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5pbnNlcnRUZXh0KHRleHQpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50Q29vcmRzKGV2ZW50KSB7IHJldHVybiB7bGVmdDogZXZlbnQuY2xpZW50WCwgdG9wOiBldmVudC5jbGllbnRZfSB9XG5cbmZ1bmN0aW9uIGlzTmVhcihldmVudCwgY2xpY2spIHtcbiAgbGV0IGR4ID0gY2xpY2sueCAtIGV2ZW50LmNsaWVudFgsIGR5ID0gY2xpY2sueSAtIGV2ZW50LmNsaWVudFlcbiAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5IDwgMTAwXG59XG5cbmZ1bmN0aW9uIHJ1bkhhbmRsZXJPbkNvbnRleHQodmlldywgcHJvcE5hbWUsIHBvcywgaW5zaWRlLCBldmVudCkge1xuICBpZiAoaW5zaWRlID09IC0xKSByZXR1cm4gZmFsc2VcbiAgbGV0ICRwb3MgPSB2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKGluc2lkZSlcbiAgZm9yIChsZXQgaSA9ICRwb3MuZGVwdGggKyAxOyBpID4gMDsgaS0tKSB7XG4gICAgaWYgKHZpZXcuc29tZVByb3AocHJvcE5hbWUsIGYgPT4gaSA+ICRwb3MuZGVwdGggPyBmKHZpZXcsIHBvcywgJHBvcy5ub2RlQWZ0ZXIsICRwb3MuYmVmb3JlKGkpLCBldmVudCwgdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGYodmlldywgcG9zLCAkcG9zLm5vZGUoaSksICRwb3MuYmVmb3JlKGkpLCBldmVudCwgZmFsc2UpKSlcbiAgICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGlvbih2aWV3LCBzZWxlY3Rpb24sIG9yaWdpbikge1xuICBpZiAoIXZpZXcuZm9jdXNlZCkgdmlldy5mb2N1cygpXG4gIGxldCB0ciA9IHZpZXcuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHNlbGVjdGlvbilcbiAgaWYgKG9yaWdpbiA9PSBcInBvaW50ZXJcIikgdHIuc2V0TWV0YShcInBvaW50ZXJcIiwgdHJ1ZSlcbiAgdmlldy5kaXNwYXRjaCh0cilcbn1cblxuZnVuY3Rpb24gc2VsZWN0Q2xpY2tlZExlYWYodmlldywgaW5zaWRlKSB7XG4gIGlmIChpbnNpZGUgPT0gLTEpIHJldHVybiBmYWxzZVxuICBsZXQgJHBvcyA9IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoaW5zaWRlKSwgbm9kZSA9ICRwb3Mubm9kZUFmdGVyXG4gIGlmIChub2RlICYmIG5vZGUuaXNBdG9tICYmIE5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5vZGUpKSB7XG4gICAgdXBkYXRlU2VsZWN0aW9uKHZpZXcsIG5ldyBOb2RlU2VsZWN0aW9uKCRwb3MpLCBcInBvaW50ZXJcIilcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBzZWxlY3RDbGlja2VkTm9kZSh2aWV3LCBpbnNpZGUpIHtcbiAgaWYgKGluc2lkZSA9PSAtMSkgcmV0dXJuIGZhbHNlXG4gIGxldCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbiwgc2VsZWN0ZWROb2RlLCBzZWxlY3RBdFxuICBpZiAoc2VsIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbikgc2VsZWN0ZWROb2RlID0gc2VsLm5vZGVcblxuICBsZXQgJHBvcyA9IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoaW5zaWRlKVxuICBmb3IgKGxldCBpID0gJHBvcy5kZXB0aCArIDE7IGkgPiAwOyBpLS0pIHtcbiAgICBsZXQgbm9kZSA9IGkgPiAkcG9zLmRlcHRoID8gJHBvcy5ub2RlQWZ0ZXIgOiAkcG9zLm5vZGUoaSlcbiAgICBpZiAoTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUobm9kZSkpIHtcbiAgICAgIGlmIChzZWxlY3RlZE5vZGUgJiYgc2VsLiRmcm9tLmRlcHRoID4gMCAmJlxuICAgICAgICAgIGkgPj0gc2VsLiRmcm9tLmRlcHRoICYmICRwb3MuYmVmb3JlKHNlbC4kZnJvbS5kZXB0aCArIDEpID09IHNlbC4kZnJvbS5wb3MpXG4gICAgICAgIHNlbGVjdEF0ID0gJHBvcy5iZWZvcmUoc2VsLiRmcm9tLmRlcHRoKVxuICAgICAgZWxzZVxuICAgICAgICBzZWxlY3RBdCA9ICRwb3MuYmVmb3JlKGkpXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmIChzZWxlY3RBdCAhPSBudWxsKSB7XG4gICAgdXBkYXRlU2VsZWN0aW9uKHZpZXcsIE5vZGVTZWxlY3Rpb24uY3JlYXRlKHZpZXcuc3RhdGUuZG9jLCBzZWxlY3RBdCksIFwicG9pbnRlclwiKVxuICAgIHJldHVybiB0cnVlXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlU2luZ2xlQ2xpY2sodmlldywgcG9zLCBpbnNpZGUsIGV2ZW50LCBzZWxlY3ROb2RlKSB7XG4gIHJldHVybiBydW5IYW5kbGVyT25Db250ZXh0KHZpZXcsIFwiaGFuZGxlQ2xpY2tPblwiLCBwb3MsIGluc2lkZSwgZXZlbnQpIHx8XG4gICAgdmlldy5zb21lUHJvcChcImhhbmRsZUNsaWNrXCIsIGYgPT4gZih2aWV3LCBwb3MsIGV2ZW50KSkgfHxcbiAgICAoc2VsZWN0Tm9kZSA/IHNlbGVjdENsaWNrZWROb2RlKHZpZXcsIGluc2lkZSkgOiBzZWxlY3RDbGlja2VkTGVhZih2aWV3LCBpbnNpZGUpKVxufVxuXG5mdW5jdGlvbiBoYW5kbGVEb3VibGVDbGljayh2aWV3LCBwb3MsIGluc2lkZSwgZXZlbnQpIHtcbiAgcmV0dXJuIHJ1bkhhbmRsZXJPbkNvbnRleHQodmlldywgXCJoYW5kbGVEb3VibGVDbGlja09uXCIsIHBvcywgaW5zaWRlLCBldmVudCkgfHxcbiAgICB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlRG91YmxlQ2xpY2tcIiwgZiA9PiBmKHZpZXcsIHBvcywgZXZlbnQpKVxufVxuXG5mdW5jdGlvbiBoYW5kbGVUcmlwbGVDbGljayh2aWV3LCBwb3MsIGluc2lkZSwgZXZlbnQpIHtcbiAgcmV0dXJuIHJ1bkhhbmRsZXJPbkNvbnRleHQodmlldywgXCJoYW5kbGVUcmlwbGVDbGlja09uXCIsIHBvcywgaW5zaWRlLCBldmVudCkgfHxcbiAgICB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlVHJpcGxlQ2xpY2tcIiwgZiA9PiBmKHZpZXcsIHBvcywgZXZlbnQpKSB8fFxuICAgIGRlZmF1bHRUcmlwbGVDbGljayh2aWV3LCBpbnNpZGUpXG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRUcmlwbGVDbGljayh2aWV3LCBpbnNpZGUpIHtcbiAgbGV0IGRvYyA9IHZpZXcuc3RhdGUuZG9jXG4gIGlmIChpbnNpZGUgPT0gLTEpIHtcbiAgICBpZiAoZG9jLmlubGluZUNvbnRlbnQpIHtcbiAgICAgIHVwZGF0ZVNlbGVjdGlvbih2aWV3LCBUZXh0U2VsZWN0aW9uLmNyZWF0ZShkb2MsIDAsIGRvYy5jb250ZW50LnNpemUpLCBcInBvaW50ZXJcIilcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgbGV0ICRwb3MgPSBkb2MucmVzb2x2ZShpbnNpZGUpXG4gIGZvciAobGV0IGkgPSAkcG9zLmRlcHRoICsgMTsgaSA+IDA7IGktLSkge1xuICAgIGxldCBub2RlID0gaSA+ICRwb3MuZGVwdGggPyAkcG9zLm5vZGVBZnRlciA6ICRwb3Mubm9kZShpKVxuICAgIGxldCBub2RlUG9zID0gJHBvcy5iZWZvcmUoaSlcbiAgICBpZiAobm9kZS5pbmxpbmVDb250ZW50KVxuICAgICAgdXBkYXRlU2VsZWN0aW9uKHZpZXcsIFRleHRTZWxlY3Rpb24uY3JlYXRlKGRvYywgbm9kZVBvcyArIDEsIG5vZGVQb3MgKyAxICsgbm9kZS5jb250ZW50LnNpemUpLCBcInBvaW50ZXJcIilcbiAgICBlbHNlIGlmIChOb2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShub2RlKSlcbiAgICAgIHVwZGF0ZVNlbGVjdGlvbih2aWV3LCBOb2RlU2VsZWN0aW9uLmNyZWF0ZShkb2MsIG5vZGVQb3MpLCBcInBvaW50ZXJcIilcbiAgICBlbHNlXG4gICAgICBjb250aW51ZVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuZnVuY3Rpb24gZm9yY2VET01GbHVzaCh2aWV3KSB7XG4gIHJldHVybiBlbmRDb21wb3NpdGlvbih2aWV3KVxufVxuXG5jb25zdCBzZWxlY3ROb2RlTW9kaWZpZXIgPSBicm93c2VyLm1hYyA/IFwibWV0YUtleVwiIDogXCJjdHJsS2V5XCJcblxuaGFuZGxlcnMubW91c2Vkb3duID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gIHZpZXcuc2hpZnRLZXkgPSBldmVudC5zaGlmdEtleVxuICBsZXQgZmx1c2hlZCA9IGZvcmNlRE9NRmx1c2godmlldylcbiAgbGV0IG5vdyA9IERhdGUubm93KCksIHR5cGUgPSBcInNpbmdsZUNsaWNrXCJcbiAgaWYgKG5vdyAtIHZpZXcubGFzdENsaWNrLnRpbWUgPCA1MDAgJiYgaXNOZWFyKGV2ZW50LCB2aWV3Lmxhc3RDbGljaykgJiYgIWV2ZW50W3NlbGVjdE5vZGVNb2RpZmllcl0pIHtcbiAgICBpZiAodmlldy5sYXN0Q2xpY2sudHlwZSA9PSBcInNpbmdsZUNsaWNrXCIpIHR5cGUgPSBcImRvdWJsZUNsaWNrXCJcbiAgICBlbHNlIGlmICh2aWV3Lmxhc3RDbGljay50eXBlID09IFwiZG91YmxlQ2xpY2tcIikgdHlwZSA9IFwidHJpcGxlQ2xpY2tcIlxuICB9XG4gIHZpZXcubGFzdENsaWNrID0ge3RpbWU6IG5vdywgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSwgdHlwZX1cblxuICBsZXQgcG9zID0gdmlldy5wb3NBdENvb3JkcyhldmVudENvb3JkcyhldmVudCkpXG4gIGlmICghcG9zKSByZXR1cm5cblxuICBpZiAodHlwZSA9PSBcInNpbmdsZUNsaWNrXCIpXG4gICAgdmlldy5tb3VzZURvd24gPSBuZXcgTW91c2VEb3duKHZpZXcsIHBvcywgZXZlbnQsIGZsdXNoZWQpXG4gIGVsc2UgaWYgKCh0eXBlID09IFwiZG91YmxlQ2xpY2tcIiA/IGhhbmRsZURvdWJsZUNsaWNrIDogaGFuZGxlVHJpcGxlQ2xpY2spKHZpZXcsIHBvcy5wb3MsIHBvcy5pbnNpZGUsIGV2ZW50KSlcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIGVsc2VcbiAgICBzZXRTZWxlY3Rpb25PcmlnaW4odmlldywgXCJwb2ludGVyXCIpXG59XG5cbmNsYXNzIE1vdXNlRG93biB7XG4gIGNvbnN0cnVjdG9yKHZpZXcsIHBvcywgZXZlbnQsIGZsdXNoZWQpIHtcbiAgICB0aGlzLnZpZXcgPSB2aWV3XG4gICAgdGhpcy5zdGFydERvYyA9IHZpZXcuc3RhdGUuZG9jXG4gICAgdGhpcy5wb3MgPSBwb3NcbiAgICB0aGlzLmV2ZW50ID0gZXZlbnRcbiAgICB0aGlzLmZsdXNoZWQgPSBmbHVzaGVkXG4gICAgdGhpcy5zZWxlY3ROb2RlID0gZXZlbnRbc2VsZWN0Tm9kZU1vZGlmaWVyXVxuICAgIHRoaXMuYWxsb3dEZWZhdWx0ID0gZXZlbnQuc2hpZnRLZXlcblxuICAgIGxldCB0YXJnZXROb2RlLCB0YXJnZXRQb3NcbiAgICBpZiAocG9zLmluc2lkZSA+IC0xKSB7XG4gICAgICB0YXJnZXROb2RlID0gdmlldy5zdGF0ZS5kb2Mubm9kZUF0KHBvcy5pbnNpZGUpXG4gICAgICB0YXJnZXRQb3MgPSBwb3MuaW5zaWRlXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCAkcG9zID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShwb3MucG9zKVxuICAgICAgdGFyZ2V0Tm9kZSA9ICRwb3MucGFyZW50XG4gICAgICB0YXJnZXRQb3MgPSAkcG9zLmRlcHRoID8gJHBvcy5iZWZvcmUoKSA6IDBcbiAgICB9XG5cbiAgICB0aGlzLm1pZ2h0RHJhZyA9IG51bGxcblxuICAgIGNvbnN0IHRhcmdldCA9IGZsdXNoZWQgPyBudWxsIDogZXZlbnQudGFyZ2V0XG4gICAgY29uc3QgdGFyZ2V0RGVzYyA9IHRhcmdldCA/IHZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyh0YXJnZXQsIHRydWUpIDogbnVsbFxuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0RGVzYyA/IHRhcmdldERlc2MuZG9tIDogbnVsbFxuXG4gICAgaWYgKHRhcmdldE5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZSAmJiB0YXJnZXROb2RlLnR5cGUuc3BlYy5zZWxlY3RhYmxlICE9PSBmYWxzZSB8fFxuICAgICAgICB2aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24gJiYgdGFyZ2V0UG9zID09IHZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb20pXG4gICAgICB0aGlzLm1pZ2h0RHJhZyA9IHtub2RlOiB0YXJnZXROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiB0YXJnZXRQb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBdHRyOiB0aGlzLnRhcmdldCAmJiAhdGhpcy50YXJnZXQuZHJhZ2dhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VW5lZGl0YWJsZTogdGhpcy50YXJnZXQgJiYgYnJvd3Nlci5nZWNrbyAmJiAhdGhpcy50YXJnZXQuaGFzQXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpfVxuXG4gICAgaWYgKHRoaXMudGFyZ2V0ICYmIHRoaXMubWlnaHREcmFnICYmICh0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyIHx8IHRoaXMubWlnaHREcmFnLnNldFVuZWRpdGFibGUpKSB7XG4gICAgICB0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpXG4gICAgICBpZiAodGhpcy5taWdodERyYWcuYWRkQXR0cikgdGhpcy50YXJnZXQuZHJhZ2dhYmxlID0gdHJ1ZVxuICAgICAgaWYgKHRoaXMubWlnaHREcmFnLnNldFVuZWRpdGFibGUpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy50YXJnZXQuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsIFwiZmFsc2VcIiksIDIwKVxuICAgICAgdGhpcy52aWV3LmRvbU9ic2VydmVyLnN0YXJ0KClcbiAgICB9XG5cbiAgICB2aWV3LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy51cCA9IHRoaXMudXAuYmluZCh0aGlzKSlcbiAgICB2aWV3LnJvb3QuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdmUgPSB0aGlzLm1vdmUuYmluZCh0aGlzKSlcbiAgICBzZXRTZWxlY3Rpb25PcmlnaW4odmlldywgXCJwb2ludGVyXCIpXG4gIH1cblxuICBkb25lKCkge1xuICAgIHRoaXMudmlldy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMudXApXG4gICAgdGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdmUpXG4gICAgaWYgKHRoaXMubWlnaHREcmFnICYmIHRoaXMudGFyZ2V0KSB7XG4gICAgICB0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpXG4gICAgICBpZiAodGhpcy5taWdodERyYWcuYWRkQXR0cikgdGhpcy50YXJnZXQuZHJhZ2dhYmxlID0gZmFsc2VcbiAgICAgIGlmICh0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlKSB0aGlzLnRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIilcbiAgICAgIHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpXG4gICAgfVxuICAgIHRoaXMudmlldy5tb3VzZURvd24gPSBudWxsXG4gIH1cblxuICB1cChldmVudCkge1xuICAgIHRoaXMuZG9uZSgpXG5cbiAgICBpZiAoIXRoaXMudmlldy5kb20uY29udGFpbnMoZXZlbnQudGFyZ2V0Lm5vZGVUeXBlID09IDMgPyBldmVudC50YXJnZXQucGFyZW50Tm9kZSA6IGV2ZW50LnRhcmdldCkpXG4gICAgICByZXR1cm5cblxuICAgIGxldCBwb3MgPSB0aGlzLnBvc1xuICAgIGlmICh0aGlzLnZpZXcuc3RhdGUuZG9jICE9IHRoaXMuc3RhcnREb2MpIHBvcyA9IHRoaXMudmlldy5wb3NBdENvb3JkcyhldmVudENvb3JkcyhldmVudCkpXG5cbiAgICBpZiAodGhpcy5hbGxvd0RlZmF1bHQgfHwgIXBvcykge1xuICAgICAgc2V0U2VsZWN0aW9uT3JpZ2luKHRoaXMudmlldywgXCJwb2ludGVyXCIpXG4gICAgfSBlbHNlIGlmIChoYW5kbGVTaW5nbGVDbGljayh0aGlzLnZpZXcsIHBvcy5wb3MsIHBvcy5pbnNpZGUsIGV2ZW50LCB0aGlzLnNlbGVjdE5vZGUpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfSBlbHNlIGlmICh0aGlzLmZsdXNoZWQgfHxcbiAgICAgICAgICAgICAgIC8vIENocm9tZSB3aWxsIHNvbWV0aW1lcyB0cmVhdCBhIG5vZGUgc2VsZWN0aW9uIGFzIGFcbiAgICAgICAgICAgICAgIC8vIGN1cnNvciwgYnV0IHN0aWxsIHJlcG9ydCB0aGF0IHRoZSBub2RlIGlzIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAvLyB3aGVuIGFza2VkIHRocm91Z2ggZ2V0U2VsZWN0aW9uLiBZb3UnbGwgdGhlbiBnZXQgYVxuICAgICAgICAgICAgICAgLy8gc2l0dWF0aW9uIHdoZXJlIGNsaWNraW5nIGF0IHRoZSBwb2ludCB3aGVyZSB0aGF0XG4gICAgICAgICAgICAgICAvLyAoaGlkZGVuKSBjdXJzb3IgaXMgZG9lc24ndCBjaGFuZ2UgdGhlIHNlbGVjdGlvbiwgYW5kXG4gICAgICAgICAgICAgICAvLyB0aHVzIGRvZXNuJ3QgZ2V0IGEgcmVhY3Rpb24gZnJvbSBQcm9zZU1pcnJvci4gVGhpc1xuICAgICAgICAgICAgICAgLy8gd29ya3MgYXJvdW5kIHRoYXQuXG4gICAgICAgICAgICAgICAoYnJvd3Nlci5jaHJvbWUgJiYgISh0aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbikgJiZcbiAgICAgICAgICAgICAgICAocG9zLnBvcyA9PSB0aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb20gfHwgcG9zLnBvcyA9PSB0aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvKSkpIHtcbiAgICAgIHVwZGF0ZVNlbGVjdGlvbih0aGlzLnZpZXcsIFNlbGVjdGlvbi5uZWFyKHRoaXMudmlldy5zdGF0ZS5kb2MucmVzb2x2ZShwb3MucG9zKSksIFwicG9pbnRlclwiKVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTZWxlY3Rpb25PcmlnaW4odGhpcy52aWV3LCBcInBvaW50ZXJcIilcbiAgICB9XG4gIH1cblxuICBtb3ZlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmFsbG93RGVmYXVsdCAmJiAoTWF0aC5hYnModGhpcy5ldmVudC54IC0gZXZlbnQuY2xpZW50WCkgPiA0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnModGhpcy5ldmVudC55IC0gZXZlbnQuY2xpZW50WSkgPiA0KSlcbiAgICAgIHRoaXMuYWxsb3dEZWZhdWx0ID0gdHJ1ZVxuICAgIHNldFNlbGVjdGlvbk9yaWdpbih0aGlzLnZpZXcsIFwicG9pbnRlclwiKVxuICB9XG59XG5cbmhhbmRsZXJzLnRvdWNoZG93biA9IHZpZXcgPT4ge1xuICBmb3JjZURPTUZsdXNoKHZpZXcpXG4gIHNldFNlbGVjdGlvbk9yaWdpbih2aWV3LCBcInBvaW50ZXJcIilcbn1cblxuaGFuZGxlcnMuY29udGV4dG1lbnUgPSB2aWV3ID0+IGZvcmNlRE9NRmx1c2godmlldylcblxuZnVuY3Rpb24gaW5Pck5lYXJDb21wb3NpdGlvbih2aWV3LCBldmVudCkge1xuICBpZiAodmlldy5jb21wb3NpbmcpIHJldHVybiB0cnVlXG4gIC8vIFNlZSBodHRwczovL3d3dy5zdHVtLmRlLzIwMTYvMDYvMjQvaGFuZGxpbmctaW1lLWV2ZW50cy1pbi1qYXZhc2NyaXB0Ly5cbiAgLy8gT24gSmFwYW5lc2UgaW5wdXQgbWV0aG9kIGVkaXRvcnMgKElNRXMpLCB0aGUgRW50ZXIga2V5IGlzIHVzZWQgdG8gY29uZmlybSBjaGFyYWN0ZXJcbiAgLy8gc2VsZWN0aW9uLiBPbiBTYWZhcmksIHdoZW4gRW50ZXIgaXMgcHJlc3NlZCwgY29tcG9zaXRpb25lbmQgYW5kIGtleWRvd24gZXZlbnRzIGFyZVxuICAvLyBlbWl0dGVkLiBUaGUga2V5ZG93biBldmVudCB0cmlnZ2VycyBuZXdsaW5lIGluc2VydGlvbiwgd2hpY2ggd2UgZG9uJ3Qgd2FudC5cbiAgLy8gVGhpcyBtZXRob2QgcmV0dXJucyB0cnVlIGlmIHRoZSBrZXlkb3duIGV2ZW50IHNob3VsZCBiZSBpZ25vcmVkLlxuICAvLyBXZSBvbmx5IGlnbm9yZSBpdCBvbmNlLCBhcyBwcmVzc2luZyBFbnRlciBhIHNlY29uZCB0aW1lICpzaG91bGQqIGluc2VydCBhIG5ld2xpbmUuXG4gIC8vIEZ1cnRoZXJtb3JlLCB0aGUga2V5ZG93biBldmVudCB0aW1lc3RhbXAgbXVzdCBiZSBjbG9zZSB0byB0aGUgY29tcG9zaXRpb25FbmRlZEF0IHRpbWVzdGFtcC5cbiAgLy8gVGhpcyBndWFyZHMgYWdhaW5zdCB0aGUgY2FzZSB3aGVyZSBjb21wb3NpdGlvbmVuZCBpcyB0cmlnZ2VyZWQgd2l0aG91dCB0aGUga2V5Ym9hcmRcbiAgLy8gKGUuZy4gY2hhcmFjdGVyIGNvbmZpcm1hdGlvbiBtYXkgYmUgZG9uZSB3aXRoIHRoZSBtb3VzZSksIGFuZCBrZXlkb3duIGlzIHRyaWdnZXJlZFxuICAvLyBhZnRlcndhcmRzLSB3ZSB3b3VsZG4ndCB3YW50IHRvIGlnbm9yZSB0aGUga2V5ZG93biBldmVudCBpbiB0aGlzIGNhc2UuXG4gIGlmIChicm93c2VyLnNhZmFyaSAmJiBNYXRoLmFicyhldmVudC50aW1lU3RhbXAgLSB2aWV3LmNvbXBvc2l0aW9uRW5kZWRBdCkgPCA1MDApIHtcbiAgICB2aWV3LmNvbXBvc2l0aW9uRW5kZWRBdCA9IC0yZThcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyBEcm9wIGFjdGl2ZSBjb21wb3NpdGlvbiBhZnRlciA1IHNlY29uZHMgb2YgaW5hY3Rpdml0eSBvbiBBbmRyb2lkXG5jb25zdCB0aW1lb3V0Q29tcG9zaXRpb24gPSBicm93c2VyLmFuZHJvaWQgPyA1MDAwIDogLTFcblxuZWRpdEhhbmRsZXJzLmNvbXBvc2l0aW9uc3RhcnQgPSBlZGl0SGFuZGxlcnMuY29tcG9zaXRpb251cGRhdGUgPSB2aWV3ID0+IHtcbiAgaWYgKCF2aWV3LmNvbXBvc2luZykge1xuICAgIHZpZXcuZG9tT2JzZXJ2ZXIuZmx1c2goKVxuICAgIGxldCB7c3RhdGV9ID0gdmlldywgJHBvcyA9IHN0YXRlLnNlbGVjdGlvbi4kZnJvbVxuICAgIGlmIChzdGF0ZS5zZWxlY3Rpb24uZW1wdHkgJiZcbiAgICAgICAgKHN0YXRlLnN0b3JlZE1hcmtzIHx8ICghJHBvcy50ZXh0T2Zmc2V0ICYmICRwb3MucGFyZW50T2Zmc2V0ICYmICRwb3Mubm9kZUJlZm9yZS5tYXJrcy5zb21lKG0gPT4gbS50eXBlLnNwZWMuaW5jbHVzaXZlID09PSBmYWxzZSkpKSkge1xuICAgICAgLy8gTmVlZCB0byB3cmFwIHRoZSBjdXJzb3IgaW4gbWFyayBub2RlcyBkaWZmZXJlbnQgZnJvbSB0aGUgb25lcyBpbiB0aGUgRE9NIGNvbnRleHRcbiAgICAgIHZpZXcubWFya0N1cnNvciA9IHZpZXcuc3RhdGUuc3RvcmVkTWFya3MgfHwgJHBvcy5tYXJrcygpXG4gICAgICBlbmRDb21wb3NpdGlvbih2aWV3LCB0cnVlKVxuICAgICAgdmlldy5tYXJrQ3Vyc29yID0gbnVsbFxuICAgIH0gZWxzZSB7XG4gICAgICBlbmRDb21wb3NpdGlvbih2aWV3KVxuICAgICAgLy8gSW4gZmlyZWZveCwgaWYgdGhlIGN1cnNvciBpcyBhZnRlciBidXQgb3V0c2lkZSBhIG1hcmtlZCBub2RlLFxuICAgICAgLy8gdGhlIGluc2VydGVkIHRleHQgd29uJ3QgaW5oZXJpdCB0aGUgbWFya3MuIFNvIHRoaXMgbW92ZXMgaXRcbiAgICAgIC8vIGluc2lkZSBpZiBuZWNlc3NhcnkuXG4gICAgICBpZiAoYnJvd3Nlci5nZWNrbyAmJiBzdGF0ZS5zZWxlY3Rpb24uZW1wdHkgJiYgJHBvcy5wYXJlbnRPZmZzZXQgJiYgISRwb3MudGV4dE9mZnNldCAmJiAkcG9zLm5vZGVCZWZvcmUubWFya3MubGVuZ3RoKSB7XG4gICAgICAgIGxldCBzZWwgPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKClcbiAgICAgICAgZm9yIChsZXQgbm9kZSA9IHNlbC5mb2N1c05vZGUsIG9mZnNldCA9IHNlbC5mb2N1c09mZnNldDsgbm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEgJiYgb2Zmc2V0ICE9IDA7KSB7XG4gICAgICAgICAgbGV0IGJlZm9yZSA9IG9mZnNldCA8IDAgPyBub2RlLmxhc3RDaGlsZCA6IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXVxuICAgICAgICAgIGlmICghYmVmb3JlKSBicmVha1xuICAgICAgICAgIGlmIChiZWZvcmUubm9kZVR5cGUgPT0gMykge1xuICAgICAgICAgICAgc2VsLmNvbGxhcHNlKGJlZm9yZSwgYmVmb3JlLm5vZGVWYWx1ZS5sZW5ndGgpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlID0gYmVmb3JlXG4gICAgICAgICAgICBvZmZzZXQgPSAtMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2aWV3LmNvbXBvc2luZyA9IHRydWVcbiAgfVxuICBzY2hlZHVsZUNvbXBvc2VFbmQodmlldywgdGltZW91dENvbXBvc2l0aW9uKVxufVxuXG5lZGl0SGFuZGxlcnMuY29tcG9zaXRpb25lbmQgPSAodmlldywgZXZlbnQpID0+IHtcbiAgaWYgKHZpZXcuY29tcG9zaW5nKSB7XG4gICAgdmlldy5jb21wb3NpbmcgPSBmYWxzZVxuICAgIHZpZXcuY29tcG9zaXRpb25FbmRlZEF0ID0gZXZlbnQudGltZVN0YW1wXG4gICAgc2NoZWR1bGVDb21wb3NlRW5kKHZpZXcsIDIwKVxuICB9XG59XG5cbmZ1bmN0aW9uIHNjaGVkdWxlQ29tcG9zZUVuZCh2aWV3LCBkZWxheSkge1xuICBjbGVhclRpbWVvdXQodmlldy5jb21wb3NpbmdUaW1lb3V0KVxuICBpZiAoZGVsYXkgPiAtMSkgdmlldy5jb21wb3NpbmdUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBlbmRDb21wb3NpdGlvbih2aWV3KSwgZGVsYXkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmRDb21wb3NpdGlvbih2aWV3LCBmb3JjZVVwZGF0ZSkge1xuICB2aWV3LmNvbXBvc2luZyA9IGZhbHNlXG4gIHdoaWxlICh2aWV3LmNvbXBvc2l0aW9uTm9kZXMubGVuZ3RoID4gMCkgdmlldy5jb21wb3NpdGlvbk5vZGVzLnBvcCgpLm1hcmtQYXJlbnRzRGlydHkoKVxuICBpZiAoZm9yY2VVcGRhdGUgfHwgdmlldy5kb2NWaWV3LmRpcnR5KSB7XG4gICAgdmlldy51cGRhdGVTdGF0ZSh2aWV3LnN0YXRlKVxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIGNhcHR1cmVDb3B5KHZpZXcsIGRvbSkge1xuICAvLyBUaGUgZXh0cmEgd3JhcHBlciBpcyBzb21laG93IG5lY2Vzc2FyeSBvbiBJRS9FZGdlIHRvIHByZXZlbnQgdGhlXG4gIC8vIGNvbnRlbnQgZnJvbSBiZWluZyBtYW5nbGVkIHdoZW4gaXQgaXMgcHV0IG9udG8gdGhlIGNsaXBib2FyZFxuICBsZXQgZG9jID0gdmlldy5kb20ub3duZXJEb2N1bWVudFxuICBsZXQgd3JhcCA9IGRvYy5ib2R5LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKVxuICB3cmFwLmFwcGVuZENoaWxkKGRvbSlcbiAgd3JhcC5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IC0xMDAwMHB4OyB0b3A6IDEwcHhcIlxuICBsZXQgc2VsID0gZ2V0U2VsZWN0aW9uKCksIHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKClcbiAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGRvbSlcbiAgLy8gRG9uZSBiZWNhdXNlIElFIHdpbGwgZmlyZSBhIHNlbGVjdGlvbmNoYW5nZSBtb3ZpbmcgdGhlIHNlbGVjdGlvblxuICAvLyB0byBpdHMgc3RhcnQgd2hlbiByZW1vdmVBbGxSYW5nZXMgaXMgY2FsbGVkIGFuZCB0aGUgZWRpdG9yIHN0aWxsXG4gIC8vIGhhcyBmb2N1cyAod2hpY2ggd2lsbCBtZXNzIHVwIHRoZSBlZGl0b3IncyBzZWxlY3Rpb24gc3RhdGUpLlxuICB2aWV3LmRvbS5ibHVyKClcbiAgc2VsLnJlbW92ZUFsbFJhbmdlcygpXG4gIHNlbC5hZGRSYW5nZShyYW5nZSlcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgZG9jLmJvZHkucmVtb3ZlQ2hpbGQod3JhcClcbiAgICB2aWV3LmZvY3VzKClcbiAgfSwgNTApXG59XG5cbi8vIFRoaXMgaXMgdmVyeSBjcnVkZSwgYnV0IHVuZm9ydHVuYXRlbHkgYm90aCB0aGVzZSBicm93c2VycyBfcHJldGVuZF9cbi8vIHRoYXQgdGhleSBoYXZlIGEgY2xpcGJvYXJkIEFQSeKAlGFsbCB0aGUgb2JqZWN0cyBhbmQgbWV0aG9kcyBhcmVcbi8vIHRoZXJlLCB0aGV5IGp1c3QgZG9uJ3Qgd29yaywgYW5kIHRoZXkgYXJlIGhhcmQgdG8gdGVzdC5cbmNvbnN0IGJyb2tlbkNsaXBib2FyZEFQSSA9IChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8IDE1KSB8fFxuICAgICAgKGJyb3dzZXIuaW9zICYmIGJyb3dzZXIud2Via2l0X3ZlcnNpb24gPCA2MDQpXG5cbmhhbmRsZXJzLmNvcHkgPSBlZGl0SGFuZGxlcnMuY3V0ID0gKHZpZXcsIGUpID0+IHtcbiAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLCBjdXQgPSBlLnR5cGUgPT0gXCJjdXRcIlxuICBpZiAoc2VsLmVtcHR5KSByZXR1cm5cblxuICAvLyBJRSBhbmQgRWRnZSdzIGNsaXBib2FyZCBpbnRlcmZhY2UgaXMgY29tcGxldGVseSBicm9rZW5cbiAgbGV0IGRhdGEgPSBicm9rZW5DbGlwYm9hcmRBUEkgPyBudWxsIDogZS5jbGlwYm9hcmREYXRhXG4gIGxldCBzbGljZSA9IHNlbC5jb250ZW50KCksIHtkb20sIHRleHR9ID0gc2VyaWFsaXplRm9yQ2xpcGJvYXJkKHZpZXcsIHNsaWNlKVxuICBpZiAoZGF0YSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGRhdGEuY2xlYXJEYXRhKClcbiAgICBkYXRhLnNldERhdGEoXCJ0ZXh0L2h0bWxcIiwgZG9tLmlubmVySFRNTClcbiAgICBkYXRhLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIHRleHQpXG4gIH0gZWxzZSB7XG4gICAgY2FwdHVyZUNvcHkodmlldywgZG9tKVxuICB9XG4gIGlmIChjdXQpIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5kZWxldGVTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoXCJ1aUV2ZW50XCIsIFwiY3V0XCIpKVxufVxuXG5mdW5jdGlvbiBzbGljZVNpbmdsZU5vZGUoc2xpY2UpIHtcbiAgcmV0dXJuIHNsaWNlLm9wZW5TdGFydCA9PSAwICYmIHNsaWNlLm9wZW5FbmQgPT0gMCAmJiBzbGljZS5jb250ZW50LmNoaWxkQ291bnQgPT0gMSA/IHNsaWNlLmNvbnRlbnQuZmlyc3RDaGlsZCA6IG51bGxcbn1cblxuZnVuY3Rpb24gY2FwdHVyZVBhc3RlKHZpZXcsIGUpIHtcbiAgbGV0IGRvYyA9IHZpZXcuZG9tLm93bmVyRG9jdW1lbnRcbiAgbGV0IHBsYWluVGV4dCA9IHZpZXcuc2hpZnRLZXkgfHwgdmlldy5zdGF0ZS5zZWxlY3Rpb24uJGZyb20ucGFyZW50LnR5cGUuc3BlYy5jb2RlXG4gIGxldCB0YXJnZXQgPSBkb2MuYm9keS5hcHBlbmRDaGlsZChkb2MuY3JlYXRlRWxlbWVudChwbGFpblRleHQgPyBcInRleHRhcmVhXCIgOiBcImRpdlwiKSlcbiAgaWYgKCFwbGFpblRleHQpIHRhcmdldC5jb250ZW50RWRpdGFibGUgPSBcInRydWVcIlxuICB0YXJnZXQuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAtMTAwMDBweDsgdG9wOiAxMHB4XCJcbiAgdGFyZ2V0LmZvY3VzKClcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgdmlldy5mb2N1cygpXG4gICAgZG9jLmJvZHkucmVtb3ZlQ2hpbGQodGFyZ2V0KVxuICAgIGlmIChwbGFpblRleHQpIGRvUGFzdGUodmlldywgdGFyZ2V0LnZhbHVlLCBudWxsLCBlKVxuICAgIGVsc2UgZG9QYXN0ZSh2aWV3LCB0YXJnZXQudGV4dENvbnRlbnQsIHRhcmdldC5pbm5lckhUTUwsIGUpXG4gIH0sIDUwKVxufVxuXG5mdW5jdGlvbiBkb1Bhc3RlKHZpZXcsIHRleHQsIGh0bWwsIGUpIHtcbiAgbGV0IHNsaWNlID0gcGFyc2VGcm9tQ2xpcGJvYXJkKHZpZXcsIHRleHQsIGh0bWwsIHZpZXcuc2hpZnRLZXksIHZpZXcuc3RhdGUuc2VsZWN0aW9uLiRmcm9tKVxuICBpZiAodmlldy5zb21lUHJvcChcImhhbmRsZVBhc3RlXCIsIGYgPT4gZih2aWV3LCBlLCBzbGljZSB8fCBTbGljZS5lbXB0eSkpIHx8ICFzbGljZSkgcmV0dXJuXG5cbiAgbGV0IHNpbmdsZU5vZGUgPSBzbGljZVNpbmdsZU5vZGUoc2xpY2UpXG4gIGxldCB0ciA9IHNpbmdsZU5vZGUgPyB2aWV3LnN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKHNpbmdsZU5vZGUsIHZpZXcuc2hpZnRLZXkpIDogdmlldy5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uKHNsaWNlKVxuICB2aWV3LmRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkuc2V0TWV0YShcInBhc3RlXCIsIHRydWUpLnNldE1ldGEoXCJ1aUV2ZW50XCIsIFwicGFzdGVcIikpXG59XG5cbmVkaXRIYW5kbGVycy5wYXN0ZSA9ICh2aWV3LCBlKSA9PiB7XG4gIGxldCBkYXRhID0gYnJva2VuQ2xpcGJvYXJkQVBJID8gbnVsbCA6IGUuY2xpcGJvYXJkRGF0YVxuICBsZXQgaHRtbCA9IGRhdGEgJiYgZGF0YS5nZXREYXRhKFwidGV4dC9odG1sXCIpLCB0ZXh0ID0gZGF0YSAmJiBkYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpXG4gIGlmIChkYXRhICYmIChodG1sIHx8IHRleHQgfHwgZGF0YS5maWxlcy5sZW5ndGgpKSB7XG4gICAgZG9QYXN0ZSh2aWV3LCB0ZXh0LCBodG1sLCBlKVxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9IGVsc2Uge1xuICAgIGNhcHR1cmVQYXN0ZSh2aWV3LCBlKVxuICB9XG59XG5cbmNsYXNzIERyYWdnaW5nIHtcbiAgY29uc3RydWN0b3Ioc2xpY2UsIG1vdmUpIHtcbiAgICB0aGlzLnNsaWNlID0gc2xpY2VcbiAgICB0aGlzLm1vdmUgPSBtb3ZlXG4gIH1cbn1cblxuY29uc3QgZHJhZ0NvcHlNb2RpZmllciA9IGJyb3dzZXIubWFjID8gXCJhbHRLZXlcIiA6IFwiY3RybEtleVwiXG5cbmhhbmRsZXJzLmRyYWdzdGFydCA9ICh2aWV3LCBlKSA9PiB7XG4gIGxldCBtb3VzZURvd24gPSB2aWV3Lm1vdXNlRG93blxuICBpZiAobW91c2VEb3duKSBtb3VzZURvd24uZG9uZSgpXG4gIGlmICghZS5kYXRhVHJhbnNmZXIpIHJldHVyblxuXG4gIGxldCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvblxuICBsZXQgcG9zID0gc2VsLmVtcHR5ID8gbnVsbCA6IHZpZXcucG9zQXRDb29yZHMoZXZlbnRDb29yZHMoZSkpXG4gIGlmIChwb3MgJiYgcG9zLnBvcyA+PSBzZWwuZnJvbSAmJiBwb3MucG9zIDw9IChzZWwgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uID8gc2VsLnRvIC0gMTogc2VsLnRvKSkge1xuICAgIC8vIEluIHNlbGVjdGlvblxuICB9IGVsc2UgaWYgKG1vdXNlRG93biAmJiBtb3VzZURvd24ubWlnaHREcmFnKSB7XG4gICAgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihOb2RlU2VsZWN0aW9uLmNyZWF0ZSh2aWV3LnN0YXRlLmRvYywgbW91c2VEb3duLm1pZ2h0RHJhZy5wb3MpKSlcbiAgfSBlbHNlIGlmIChlLnRhcmdldCAmJiBlLnRhcmdldC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgbGV0IGRlc2MgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MoZS50YXJnZXQsIHRydWUpXG4gICAgaWYgKCFkZXNjIHx8ICFkZXNjLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZSB8fCBkZXNjID09IHZpZXcuZG9jVmlldykgcmV0dXJuXG4gICAgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihOb2RlU2VsZWN0aW9uLmNyZWF0ZSh2aWV3LnN0YXRlLmRvYywgZGVzYy5wb3NCZWZvcmUpKSlcbiAgfVxuICBsZXQgc2xpY2UgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbi5jb250ZW50KCksIHtkb20sIHRleHR9ID0gc2VyaWFsaXplRm9yQ2xpcGJvYXJkKHZpZXcsIHNsaWNlKVxuICBlLmRhdGFUcmFuc2Zlci5jbGVhckRhdGEoKVxuICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKGJyb2tlbkNsaXBib2FyZEFQSSA/IFwiVGV4dFwiIDogXCJ0ZXh0L2h0bWxcIiwgZG9tLmlubmVySFRNTClcbiAgaWYgKCFicm9rZW5DbGlwYm9hcmRBUEkpIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIHRleHQpXG4gIHZpZXcuZHJhZ2dpbmcgPSBuZXcgRHJhZ2dpbmcoc2xpY2UsICFlW2RyYWdDb3B5TW9kaWZpZXJdKVxufVxuXG5oYW5kbGVycy5kcmFnZW5kID0gdmlldyA9PiB7XG4gIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHZpZXcuZHJhZ2dpbmcgPSBudWxsLCA1MClcbn1cblxuZWRpdEhhbmRsZXJzLmRyYWdvdmVyID0gZWRpdEhhbmRsZXJzLmRyYWdlbnRlciA9IChfLCBlKSA9PiBlLnByZXZlbnREZWZhdWx0KClcblxuZWRpdEhhbmRsZXJzLmRyb3AgPSAodmlldywgZSkgPT4ge1xuICBsZXQgZHJhZ2dpbmcgPSB2aWV3LmRyYWdnaW5nXG4gIHZpZXcuZHJhZ2dpbmcgPSBudWxsXG5cbiAgaWYgKCFlLmRhdGFUcmFuc2ZlcikgcmV0dXJuXG5cbiAgbGV0IGV2ZW50UG9zID0gdmlldy5wb3NBdENvb3JkcyhldmVudENvb3JkcyhlKSlcbiAgaWYgKCFldmVudFBvcykgcmV0dXJuXG4gIGxldCAkbW91c2UgPSB2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKGV2ZW50UG9zLnBvcylcbiAgaWYgKCEkbW91c2UpIHJldHVyblxuICBsZXQgc2xpY2UgPSBkcmFnZ2luZyAmJiBkcmFnZ2luZy5zbGljZSB8fFxuICAgICAgcGFyc2VGcm9tQ2xpcGJvYXJkKHZpZXcsIGUuZGF0YVRyYW5zZmVyLmdldERhdGEoYnJva2VuQ2xpcGJvYXJkQVBJID8gXCJUZXh0XCIgOiBcInRleHQvcGxhaW5cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgYnJva2VuQ2xpcGJvYXJkQVBJID8gbnVsbCA6IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L2h0bWxcIiksIGZhbHNlLCAkbW91c2UpXG4gIGlmICghc2xpY2UpIHJldHVyblxuXG4gIGUucHJldmVudERlZmF1bHQoKVxuICBpZiAodmlldy5zb21lUHJvcChcImhhbmRsZURyb3BcIiwgZiA9PiBmKHZpZXcsIGUsIHNsaWNlLCBkcmFnZ2luZyAmJiBkcmFnZ2luZy5tb3ZlKSkpIHJldHVyblxuICBsZXQgaW5zZXJ0UG9zID0gc2xpY2UgPyBkcm9wUG9pbnQodmlldy5zdGF0ZS5kb2MsICRtb3VzZS5wb3MsIHNsaWNlKSA6ICRtb3VzZS5wb3NcbiAgaWYgKGluc2VydFBvcyA9PSBudWxsKSBpbnNlcnRQb3MgPSAkbW91c2UucG9zXG5cbiAgbGV0IHRyID0gdmlldy5zdGF0ZS50clxuICBpZiAoZHJhZ2dpbmcgJiYgZHJhZ2dpbmcubW92ZSkgdHIuZGVsZXRlU2VsZWN0aW9uKClcblxuICBsZXQgcG9zID0gdHIubWFwcGluZy5tYXAoaW5zZXJ0UG9zKVxuICBsZXQgaXNOb2RlID0gc2xpY2Uub3BlblN0YXJ0ID09IDAgJiYgc2xpY2Uub3BlbkVuZCA9PSAwICYmIHNsaWNlLmNvbnRlbnQuY2hpbGRDb3VudCA9PSAxXG4gIGxldCBiZWZvcmVJbnNlcnQgPSB0ci5kb2NcbiAgaWYgKGlzTm9kZSlcbiAgICB0ci5yZXBsYWNlUmFuZ2VXaXRoKHBvcywgcG9zLCBzbGljZS5jb250ZW50LmZpcnN0Q2hpbGQpXG4gIGVsc2VcbiAgICB0ci5yZXBsYWNlUmFuZ2UocG9zLCBwb3MsIHNsaWNlKVxuICBpZiAodHIuZG9jLmVxKGJlZm9yZUluc2VydCkpIHJldHVyblxuXG4gIGxldCAkcG9zID0gdHIuZG9jLnJlc29sdmUocG9zKVxuICBpZiAoaXNOb2RlICYmIE5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKHNsaWNlLmNvbnRlbnQuZmlyc3RDaGlsZCkgJiZcbiAgICAgICRwb3Mubm9kZUFmdGVyICYmICRwb3Mubm9kZUFmdGVyLnNhbWVNYXJrdXAoc2xpY2UuY29udGVudC5maXJzdENoaWxkKSlcbiAgICB0ci5zZXRTZWxlY3Rpb24obmV3IE5vZGVTZWxlY3Rpb24oJHBvcykpXG4gIGVsc2VcbiAgICB0ci5zZXRTZWxlY3Rpb24oc2VsZWN0aW9uQmV0d2Vlbih2aWV3LCAkcG9zLCB0ci5kb2MucmVzb2x2ZSh0ci5tYXBwaW5nLm1hcChpbnNlcnRQb3MpKSkpXG4gIHZpZXcuZm9jdXMoKVxuICB2aWV3LmRpc3BhdGNoKHRyLnNldE1ldGEoXCJ1aUV2ZW50XCIsIFwiZHJvcFwiKSlcbn1cblxuaGFuZGxlcnMuZm9jdXMgPSB2aWV3ID0+IHtcbiAgaWYgKCF2aWV3LmZvY3VzZWQpIHtcbiAgICB2aWV3LmRvbU9ic2VydmVyLnN0b3AoKVxuICAgIHZpZXcuZG9tLmNsYXNzTGlzdC5hZGQoXCJQcm9zZU1pcnJvci1mb2N1c2VkXCIpXG4gICAgdmlldy5kb21PYnNlcnZlci5zdGFydCgpXG4gICAgdmlldy5mb2N1c2VkID0gdHJ1ZVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHZpZXcuZG9jVmlldyAmJiB2aWV3Lmhhc0ZvY3VzKCkgJiYgIXZpZXcuZG9tT2JzZXJ2ZXIuY3VycmVudFNlbGVjdGlvbi5lcSh2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCkpKVxuICAgICAgICBzZWxlY3Rpb25Ub0RPTSh2aWV3KVxuICAgIH0sIDIwKVxuICB9XG59XG5cbmhhbmRsZXJzLmJsdXIgPSB2aWV3ID0+IHtcbiAgaWYgKHZpZXcuZm9jdXNlZCkge1xuICAgIHZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpXG4gICAgdmlldy5kb20uY2xhc3NMaXN0LnJlbW92ZShcIlByb3NlTWlycm9yLWZvY3VzZWRcIilcbiAgICB2aWV3LmRvbU9ic2VydmVyLnN0YXJ0KClcbiAgICB2aWV3LmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uc2V0KHt9KVxuICAgIHZpZXcuZm9jdXNlZCA9IGZhbHNlXG4gIH1cbn1cblxuaGFuZGxlcnMuYmVmb3JlaW5wdXQgPSAodmlldywgZXZlbnQpID0+IHtcbiAgLy8gV2Ugc2hvdWxkIHByb2JhYmx5IGRvIG1vcmUgd2l0aCBiZWZvcmVpbnB1dCBldmVudHMsIGJ1dCBzdXBwb3J0XG4gIC8vIGlzIHNvIHNwb3R0eSB0aGF0IEknbSBzdGlsbCB3YWl0aW5nIHRvIHNlZSB3aGVyZSB0aGV5IGFyZSBnb2luZy5cblxuICAvLyBWZXJ5IHNwZWNpZmljIGhhY2sgdG8gZGVhbCB3aXRoIGJhY2tzcGFjZSBzb21ldGltZXMgZmFpbGluZyBvblxuICAvLyBDaHJvbWUgQW5kcm9pZCB3aGVuIGFmdGVyIGFuIHVuZWRpdGFibGUgbm9kZS5cbiAgaWYgKGJyb3dzZXIuY2hyb21lICYmIGJyb3dzZXIuYW5kcm9pZCAmJiBldmVudC5pbnB1dFR5cGUgPT0gXCJkZWxldGVDb250ZW50QmFja3dhcmRcIikge1xuICAgIGxldCB7ZG9tQ2hhbmdlQ291bnR9ID0gdmlld1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHZpZXcuZG9tQ2hhbmdlQ291bnQgIT0gZG9tQ2hhbmdlQ291bnQpIHJldHVybiAvLyBFdmVudCBhbHJlYWR5IGhhZCBzb21lIGVmZmVjdFxuICAgICAgLy8gVGhpcyBidWcgdGVuZHMgdG8gY2xvc2UgdGhlIHZpcnR1YWwga2V5Ym9hcmQsIHNvIHdlIHJlZm9jdXNcbiAgICAgIHZpZXcuZG9tLmJsdXIoKVxuICAgICAgdmlldy5mb2N1cygpXG4gICAgICBpZiAodmlldy5zb21lUHJvcChcImhhbmRsZUtleURvd25cIiwgZiA9PiBmKHZpZXcsIGtleUV2ZW50KDgsIFwiQmFja3NwYWNlXCIpKSkpIHJldHVyblxuICAgICAgbGV0IHskY3Vyc29yfSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uXG4gICAgICAvLyBDcnVkZSBhcHByb3hpbWF0aW9uIG9mIGJhY2tzcGFjZSBiZWhhdmlvciB3aGVuIG5vIGNvbW1hbmQgaGFuZGxlZCBpdFxuICAgICAgaWYgKCRjdXJzb3IgJiYgJGN1cnNvci5wb3MgPiAwKSB2aWV3LmRpc3BhdGNoKHZpZXcuc3RhdGUudHIuZGVsZXRlKCRjdXJzb3IucG9zIC0gMSwgJGN1cnNvci5wb3MpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgfSwgNTApXG4gIH1cbn1cblxuLy8gTWFrZSBzdXJlIGFsbCBoYW5kbGVycyBnZXQgcmVnaXN0ZXJlZFxuZm9yIChsZXQgcHJvcCBpbiBlZGl0SGFuZGxlcnMpIGhhbmRsZXJzW3Byb3BdID0gZWRpdEhhbmRsZXJzW3Byb3BdXG4iLCJmdW5jdGlvbiBjb21wYXJlT2JqcyhhLCBiKSB7XG4gIGlmIChhID09IGIpIHJldHVybiB0cnVlXG4gIGZvciAobGV0IHAgaW4gYSkgaWYgKGFbcF0gIT09IGJbcF0pIHJldHVybiBmYWxzZVxuICBmb3IgKGxldCBwIGluIGIpIGlmICghKHAgaW4gYSkpIHJldHVybiBmYWxzZVxuICByZXR1cm4gdHJ1ZVxufVxuXG5jbGFzcyBXaWRnZXRUeXBlIHtcbiAgY29uc3RydWN0b3IodG9ET00sIHNwZWMpIHtcbiAgICB0aGlzLnNwZWMgPSBzcGVjIHx8IG5vU3BlY1xuICAgIHRoaXMuc2lkZSA9IHRoaXMuc3BlYy5zaWRlIHx8IDBcbiAgICB0aGlzLnRvRE9NID0gdG9ET01cbiAgfVxuXG4gIG1hcChtYXBwaW5nLCBzcGFuLCBvZmZzZXQsIG9sZE9mZnNldCkge1xuICAgIGxldCB7cG9zLCBkZWxldGVkfSA9IG1hcHBpbmcubWFwUmVzdWx0KHNwYW4uZnJvbSArIG9sZE9mZnNldCwgdGhpcy5zaWRlIDwgMCA/IC0xIDogMSlcbiAgICByZXR1cm4gZGVsZXRlZCA/IG51bGwgOiBuZXcgRGVjb3JhdGlvbihwb3MgLSBvZmZzZXQsIHBvcyAtIG9mZnNldCwgdGhpcylcbiAgfVxuXG4gIHZhbGlkKCkgeyByZXR1cm4gdHJ1ZSB9XG5cbiAgZXEob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcyA9PSBvdGhlciB8fFxuICAgICAgKG90aGVyIGluc3RhbmNlb2YgV2lkZ2V0VHlwZSAmJlxuICAgICAgICh0aGlzLnNwZWMua2V5ICYmIHRoaXMuc3BlYy5rZXkgPT0gb3RoZXIuc3BlYy5rZXkgfHxcbiAgICAgICAgdGhpcy50b0RPTSA9PSBvdGhlci50b0RPTSAmJiBjb21wYXJlT2Jqcyh0aGlzLnNwZWMsIG90aGVyLnNwZWMpKSlcbiAgfVxufVxuXG5jbGFzcyBJbmxpbmVUeXBlIHtcbiAgY29uc3RydWN0b3IoYXR0cnMsIHNwZWMpIHtcbiAgICB0aGlzLnNwZWMgPSBzcGVjIHx8IG5vU3BlY1xuICAgIHRoaXMuYXR0cnMgPSBhdHRyc1xuICB9XG5cbiAgbWFwKG1hcHBpbmcsIHNwYW4sIG9mZnNldCwgb2xkT2Zmc2V0KSB7XG4gICAgbGV0IGZyb20gPSBtYXBwaW5nLm1hcChzcGFuLmZyb20gKyBvbGRPZmZzZXQsIHRoaXMuc3BlYy5pbmNsdXNpdmVTdGFydCA/IC0xIDogMSkgLSBvZmZzZXRcbiAgICBsZXQgdG8gPSBtYXBwaW5nLm1hcChzcGFuLnRvICsgb2xkT2Zmc2V0LCB0aGlzLnNwZWMuaW5jbHVzaXZlRW5kID8gMSA6IC0xKSAtIG9mZnNldFxuICAgIHJldHVybiBmcm9tID49IHRvID8gbnVsbCA6IG5ldyBEZWNvcmF0aW9uKGZyb20sIHRvLCB0aGlzKVxuICB9XG5cbiAgdmFsaWQoXywgc3BhbikgeyByZXR1cm4gc3Bhbi5mcm9tIDwgc3Bhbi50byB9XG5cbiAgZXEob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcyA9PSBvdGhlciB8fFxuICAgICAgKG90aGVyIGluc3RhbmNlb2YgSW5saW5lVHlwZSAmJiBjb21wYXJlT2Jqcyh0aGlzLmF0dHJzLCBvdGhlci5hdHRycykgJiZcbiAgICAgICBjb21wYXJlT2Jqcyh0aGlzLnNwZWMsIG90aGVyLnNwZWMpKVxuICB9XG5cbiAgc3RhdGljIGlzKHNwYW4pIHsgcmV0dXJuIHNwYW4udHlwZSBpbnN0YW5jZW9mIElubGluZVR5cGUgfVxufVxuXG5jbGFzcyBOb2RlVHlwZSB7XG4gIGNvbnN0cnVjdG9yKGF0dHJzLCBzcGVjKSB7XG4gICAgdGhpcy5zcGVjID0gc3BlYyB8fCBub1NwZWNcbiAgICB0aGlzLmF0dHJzID0gYXR0cnNcbiAgfVxuXG4gIG1hcChtYXBwaW5nLCBzcGFuLCBvZmZzZXQsIG9sZE9mZnNldCkge1xuICAgIGxldCBmcm9tID0gbWFwcGluZy5tYXBSZXN1bHQoc3Bhbi5mcm9tICsgb2xkT2Zmc2V0LCAxKVxuICAgIGlmIChmcm9tLmRlbGV0ZWQpIHJldHVybiBudWxsXG4gICAgbGV0IHRvID0gbWFwcGluZy5tYXBSZXN1bHQoc3Bhbi50byArIG9sZE9mZnNldCwgLTEpXG4gICAgaWYgKHRvLmRlbGV0ZWQgfHwgdG8ucG9zIDw9IGZyb20ucG9zKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiBuZXcgRGVjb3JhdGlvbihmcm9tLnBvcyAtIG9mZnNldCwgdG8ucG9zIC0gb2Zmc2V0LCB0aGlzKVxuICB9XG5cbiAgdmFsaWQobm9kZSwgc3Bhbikge1xuICAgIGxldCB7aW5kZXgsIG9mZnNldH0gPSBub2RlLmNvbnRlbnQuZmluZEluZGV4KHNwYW4uZnJvbSlcbiAgICByZXR1cm4gb2Zmc2V0ID09IHNwYW4uZnJvbSAmJiBvZmZzZXQgKyBub2RlLmNoaWxkKGluZGV4KS5ub2RlU2l6ZSA9PSBzcGFuLnRvXG4gIH1cblxuICBlcShvdGhlcikge1xuICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8XG4gICAgICAob3RoZXIgaW5zdGFuY2VvZiBOb2RlVHlwZSAmJiBjb21wYXJlT2Jqcyh0aGlzLmF0dHJzLCBvdGhlci5hdHRycykgJiZcbiAgICAgICBjb21wYXJlT2Jqcyh0aGlzLnNwZWMsIG90aGVyLnNwZWMpKVxuICB9XG59XG5cbi8vIDo6LSBEZWNvcmF0aW9uIG9iamVjdHMgY2FuIGJlIHByb3ZpZGVkIHRvIHRoZSB2aWV3IHRocm91Z2ggdGhlXG4vLyBbYGRlY29yYXRpb25zYCBwcm9wXSgjdmlldy5FZGl0b3JQcm9wcy5kZWNvcmF0aW9ucykuIFRoZXkgY29tZSBpblxuLy8gc2V2ZXJhbCB2YXJpYW50c+KAlHNlZSB0aGUgc3RhdGljIG1lbWJlcnMgb2YgdGhpcyBjbGFzcyBmb3IgZGV0YWlscy5cbmV4cG9ydCBjbGFzcyBEZWNvcmF0aW9uIHtcbiAgY29uc3RydWN0b3IoZnJvbSwgdG8sIHR5cGUpIHtcbiAgICAvLyA6OiBudW1iZXJcbiAgICAvLyBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIGRlY29yYXRpb24uXG4gICAgdGhpcy5mcm9tID0gZnJvbVxuICAgIC8vIDo6IG51bWJlclxuICAgIC8vIFRoZSBlbmQgcG9zaXRpb24uIFdpbGwgYmUgdGhlIHNhbWUgYXMgYGZyb21gIGZvciBbd2lkZ2V0XG4gICAgLy8gZGVjb3JhdGlvbnNdKCN2aWV3LkRlY29yYXRpb25ed2lkZ2V0KS5cbiAgICB0aGlzLnRvID0gdG9cbiAgICB0aGlzLnR5cGUgPSB0eXBlXG4gIH1cblxuICBjb3B5KGZyb20sIHRvKSB7XG4gICAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uKGZyb20sIHRvLCB0aGlzLnR5cGUpXG4gIH1cblxuICBlcShvdGhlcikge1xuICAgIHJldHVybiB0aGlzLnR5cGUuZXEob3RoZXIudHlwZSkgJiYgdGhpcy5mcm9tID09IG90aGVyLmZyb20gJiYgdGhpcy50byA9PSBvdGhlci50b1xuICB9XG5cbiAgbWFwKG1hcHBpbmcsIG9mZnNldCwgb2xkT2Zmc2V0KSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZS5tYXAobWFwcGluZywgdGhpcywgb2Zmc2V0LCBvbGRPZmZzZXQpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyLCB1bmlvbjwodmlldzogRWRpdG9yVmlldywgZ2V0UG9zOiAoKSDihpIgbnVtYmVyKSDihpIgZG9tLk5vZGUsIGRvbS5Ob2RlPiwgP09iamVjdCkg4oaSIERlY29yYXRpb25cbiAgLy8gQ3JlYXRlcyBhIHdpZGdldCBkZWNvcmF0aW9uLCB3aGljaCBpcyBhIERPTSBub2RlIHRoYXQncyBzaG93biBpblxuICAvLyB0aGUgZG9jdW1lbnQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHlvdVxuICAvLyBkZWxheSByZW5kZXJpbmcgdGhlIHdpZGdldCBieSBwYXNzaW5nIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlXG4gIC8vIGNhbGxlZCB3aGVuIHRoZSB3aWRnZXQgaXMgYWN0dWFsbHkgZHJhd24gaW4gYSB2aWV3LCBidXQgeW91IGNhblxuICAvLyBhbHNvIGRpcmVjdGx5IHBhc3MgYSBET00gbm9kZS4gYGdldFBvc2AgY2FuIGJlIHVzZWQgdG8gZmluZCB0aGVcbiAgLy8gd2lkZ2V0J3MgY3VycmVudCBkb2N1bWVudCBwb3NpdGlvbi5cbiAgLy9cbiAgLy8gICBzcGVjOjotIFRoZXNlIG9wdGlvbnMgYXJlIHN1cHBvcnRlZDpcbiAgLy9cbiAgLy8gICAgIHNpZGU6OiA/bnVtYmVyXG4gIC8vICAgICBDb250cm9scyB3aGljaCBzaWRlIG9mIHRoZSBkb2N1bWVudCBwb3NpdGlvbiB0aGlzIHdpZGdldCBpc1xuICAvLyAgICAgYXNzb2NpYXRlZCB3aXRoLiBXaGVuIG5lZ2F0aXZlLCBpdCBpcyBkcmF3biBiZWZvcmUgYSBjdXJzb3JcbiAgLy8gICAgIGF0IGl0cyBwb3NpdGlvbiwgYW5kIGNvbnRlbnQgaW5zZXJ0ZWQgYXQgdGhhdCBwb3NpdGlvbiBlbmRzXG4gIC8vICAgICB1cCBhZnRlciB0aGUgd2lkZ2V0LiBXaGVuIHplcm8gKHRoZSBkZWZhdWx0KSBvciBwb3NpdGl2ZSwgdGhlXG4gIC8vICAgICB3aWRnZXQgaXMgZHJhd24gYWZ0ZXIgdGhlIGN1cnNvciBhbmQgY29udGVudCBpbnNlcnRlZCB0aGVyZVxuICAvLyAgICAgZW5kcyB1cCBiZWZvcmUgdGhlIHdpZGdldC5cbiAgLy9cbiAgLy8gICAgIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIHdpZGdldHMgYXQgYSBnaXZlbiBwb3NpdGlvbiwgdGhlaXJcbiAgLy8gICAgIGBzaWRlYCB2YWx1ZXMgZGV0ZXJtaW5lIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFwcGVhci4gVGhvc2VcbiAgLy8gICAgIHdpdGggbG93ZXIgdmFsdWVzIGFwcGVhciBmaXJzdC4gVGhlIG9yZGVyaW5nIG9mIHdpZGdldHMgd2l0aFxuICAvLyAgICAgdGhlIHNhbWUgYHNpZGVgIHZhbHVlIGlzIHVuc3BlY2lmaWVkLlxuICAvL1xuICAvLyAgICAgV2hlbiBgbWFya3NgIGlzIG51bGwsIGBzaWRlYCBhbHNvIGRldGVybWluZXMgdGhlIG1hcmtzIHRoYXRcbiAgLy8gICAgIHRoZSB3aWRnZXQgaXMgd3JhcHBlZCBpbuKAlHRob3NlIG9mIHRoZSBub2RlIGJlZm9yZSB3aGVuXG4gIC8vICAgICBuZWdhdGl2ZSwgdGhvc2Ugb2YgdGhlIG5vZGUgYWZ0ZXIgd2hlbiBwb3NpdGl2ZS5cbiAgLy9cbiAgLy8gICAgIG1hcmtzOjogP1tNYXJrXVxuICAvLyAgICAgVGhlIHByZWNpc2Ugc2V0IG9mIG1hcmtzIHRvIGRyYXcgYXJvdW5kIHRoZSB3aWRnZXQuXG4gIC8vXG4gIC8vICAgICBzdG9wRXZlbnQ6OiA/KGV2ZW50OiBkb20uRXZlbnQpIOKGkiBib29sXG4gIC8vICAgICBDYW4gYmUgdXNlZCB0byBjb250cm9sIHdoaWNoIERPTSBldmVudHMsIHdoZW4gdGhleSBidWJibGUgb3V0XG4gIC8vICAgICBvZiB0aGlzIHdpZGdldCwgdGhlIGVkaXRvciB2aWV3IHNob3VsZCBpZ25vcmUuXG4gIC8vXG4gIC8vICAgICBpZ25vcmVTZWxlY3Rpb246OiA/Ym9vbFxuICAvLyAgICAgV2hlbiBzZXQgKGRlZmF1bHRzIHRvIGZhbHNlKSwgc2VsZWN0aW9uIGNoYW5nZXMgaW5zaWRlIHRoZVxuICAvLyAgICAgd2lkZ2V0IGFyZSBpZ25vcmVkLCBhbmQgZG9uJ3QgY2F1c2UgUHJvc2VNaXJyb3IgdG8gdHJ5IGFuZFxuICAvLyAgICAgcmUtc3luYyB0aGUgc2VsZWN0aW9uIHdpdGggaXRzIHNlbGVjdGlvbiBzdGF0ZS5cbiAgLy9cbiAgLy8gICAgIGtleTo6ID9zdHJpbmdcbiAgLy8gICAgIFdoZW4gY29tcGFyaW5nIGRlY29yYXRpb25zIG9mIHRoaXMgdHlwZSAoaW4gb3JkZXIgdG8gZGVjaWRlXG4gIC8vICAgICB3aGV0aGVyIGl0IG5lZWRzIHRvIGJlIHJlZHJhd24pLCBQcm9zZU1pcnJvciB3aWxsIGJ5IGRlZmF1bHRcbiAgLy8gICAgIGNvbXBhcmUgdGhlIHdpZGdldCBET00gbm9kZSBieSBpZGVudGl0eS4gSWYgeW91IHBhc3MgYSBrZXksXG4gIC8vICAgICB0aGF0IGtleSB3aWxsIGJlIGNvbXBhcmVkIGluc3RlYWQsIHdoaWNoIGNhbiBiZSB1c2VmdWwgd2hlblxuICAvLyAgICAgeW91IGdlbmVyYXRlIGRlY29yYXRpb25zIG9uIHRoZSBmbHkgYW5kIGRvbid0IHdhbnQgdG8gc3RvcmVcbiAgLy8gICAgIGFuZCByZXVzZSBET00gbm9kZXMuIE1ha2Ugc3VyZSB0aGF0IGFueSB3aWRnZXRzIHdpdGggdGhlIHNhbWVcbiAgLy8gICAgIGtleSBhcmUgaW50ZXJjaGFuZ2VhYmxl4oCUaWYgd2lkZ2V0cyBkaWZmZXIgaW4sIGZvciBleGFtcGxlLFxuICAvLyAgICAgdGhlIGJlaGF2aW9yIG9mIHNvbWUgZXZlbnQgaGFuZGxlciwgdGhleSBzaG91bGQgZ2V0XG4gIC8vICAgICBkaWZmZXJlbnQga2V5cy5cbiAgc3RhdGljIHdpZGdldChwb3MsIHRvRE9NLCBzcGVjKSB7XG4gICAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uKHBvcywgcG9zLCBuZXcgV2lkZ2V0VHlwZSh0b0RPTSwgc3BlYykpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsIERlY29yYXRpb25BdHRycywgP09iamVjdCkg4oaSIERlY29yYXRpb25cbiAgLy8gQ3JlYXRlcyBhbiBpbmxpbmUgZGVjb3JhdGlvbiwgd2hpY2ggYWRkcyB0aGUgZ2l2ZW4gYXR0cmlidXRlcyB0b1xuICAvLyBlYWNoIGlubGluZSBub2RlIGJldHdlZW4gYGZyb21gIGFuZCBgdG9gLlxuICAvL1xuICAvLyAgIHNwZWM6Oi0gVGhlc2Ugb3B0aW9ucyBhcmUgcmVjb2duaXplZDpcbiAgLy9cbiAgLy8gICAgIGluY2x1c2l2ZVN0YXJ0OjogP2Jvb2xcbiAgLy8gICAgIERldGVybWluZXMgaG93IHRoZSBsZWZ0IHNpZGUgb2YgdGhlIGRlY29yYXRpb24gaXNcbiAgLy8gICAgIFttYXBwZWRdKCN0cmFuc2Zvcm0uUG9zaXRpb25fTWFwcGluZykgd2hlbiBjb250ZW50IGlzXG4gIC8vICAgICBpbnNlcnRlZCBkaXJlY3RseSBhdCB0aGF0IHBvc2l0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZGVjb3JhdGlvblxuICAvLyAgICAgd29uJ3QgaW5jbHVkZSB0aGUgbmV3IGNvbnRlbnQsIGJ1dCB5b3UgY2FuIHNldCB0aGlzIHRvIGB0cnVlYFxuICAvLyAgICAgdG8gbWFrZSBpdCBpbmNsdXNpdmUuXG4gIC8vXG4gIC8vICAgICBpbmNsdXNpdmVFbmQ6OiA/Ym9vbFxuICAvLyAgICAgRGV0ZXJtaW5lcyBob3cgdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIGRlY29yYXRpb24gaXMgbWFwcGVkLlxuICAvLyAgICAgU2VlXG4gIC8vICAgICBbYGluY2x1c2l2ZVN0YXJ0YF0oI3ZpZXcuRGVjb3JhdGlvbl5pbmxpbmVec3BlYy5pbmNsdXNpdmVTdGFydCkuXG4gIHN0YXRpYyBpbmxpbmUoZnJvbSwgdG8sIGF0dHJzLCBzcGVjKSB7XG4gICAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uKGZyb20sIHRvLCBuZXcgSW5saW5lVHlwZShhdHRycywgc3BlYykpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsIERlY29yYXRpb25BdHRycywgP09iamVjdCkg4oaSIERlY29yYXRpb25cbiAgLy8gQ3JlYXRlcyBhIG5vZGUgZGVjb3JhdGlvbi4gYGZyb21gIGFuZCBgdG9gIHNob3VsZCBwb2ludCBwcmVjaXNlbHlcbiAgLy8gYmVmb3JlIGFuZCBhZnRlciBhIG5vZGUgaW4gdGhlIGRvY3VtZW50LiBUaGF0IG5vZGUsIGFuZCBvbmx5IHRoYXRcbiAgLy8gbm9kZSwgd2lsbCByZWNlaXZlIHRoZSBnaXZlbiBhdHRyaWJ1dGVzLlxuICAvL1xuICAvLyAgIHNwZWM6Oi1cbiAgLy9cbiAgLy8gICBPcHRpb25hbCBpbmZvcm1hdGlvbiB0byBzdG9yZSB3aXRoIHRoZSBkZWNvcmF0aW9uLiBJdFxuICAvLyAgIGlzIGFsc28gdXNlZCB3aGVuIGNvbXBhcmluZyBkZWNvcmF0b3JzIGZvciBlcXVhbGl0eS5cbiAgc3RhdGljIG5vZGUoZnJvbSwgdG8sIGF0dHJzLCBzcGVjKSB7XG4gICAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uKGZyb20sIHRvLCBuZXcgTm9kZVR5cGUoYXR0cnMsIHNwZWMpKVxuICB9XG5cbiAgLy8gOjogT2JqZWN0XG4gIC8vIFRoZSBzcGVjIHByb3ZpZGVkIHdoZW4gY3JlYXRpbmcgdGhpcyBkZWNvcmF0aW9uLiBDYW4gYmUgdXNlZnVsXG4gIC8vIGlmIHlvdSd2ZSBzdG9yZWQgZXh0cmEgaW5mb3JtYXRpb24gaW4gdGhhdCBvYmplY3QuXG4gIGdldCBzcGVjKCkgeyByZXR1cm4gdGhpcy50eXBlLnNwZWMgfVxufVxuXG4vLyBEZWNvcmF0aW9uQXR0cnM6OiBpbnRlcmZhY2Vcbi8vIEEgc2V0IG9mIGF0dHJpYnV0ZXMgdG8gYWRkIHRvIGEgZGVjb3JhdGVkIG5vZGUuIE1vc3QgcHJvcGVydGllc1xuLy8gc2ltcGx5IGRpcmVjdGx5IGNvcnJlc3BvbmQgdG8gRE9NIGF0dHJpYnV0ZXMgb2YgdGhlIHNhbWUgbmFtZSxcbi8vIHdoaWNoIHdpbGwgYmUgc2V0IHRvIHRoZSBwcm9wZXJ0eSdzIHZhbHVlLiBUaGVzZSBhcmUgZXhjZXB0aW9uczpcbi8vXG4vLyAgIGNsYXNzOjogP3N0cmluZ1xuLy8gICBBIENTUyBjbGFzcyBuYW1lIG9yIGEgc3BhY2Utc2VwYXJhdGVkIHNldCBvZiBjbGFzcyBuYW1lcyB0byBiZVxuLy8gICBfYWRkZWRfIHRvIHRoZSBjbGFzc2VzIHRoYXQgdGhlIG5vZGUgYWxyZWFkeSBoYWQuXG4vL1xuLy8gICBzdHlsZTo6ID9zdHJpbmdcbi8vICAgQSBzdHJpbmcgb2YgQ1NTIHRvIGJlIF9hZGRlZF8gdG8gdGhlIG5vZGUncyBleGlzdGluZyBgc3R5bGVgIHByb3BlcnR5LlxuLy9cbi8vICAgbm9kZU5hbWU6OiA/c3RyaW5nXG4vLyAgIFdoZW4gbm9uLW51bGwsIHRoZSB0YXJnZXQgbm9kZSBpcyB3cmFwcGVkIGluIGEgRE9NIGVsZW1lbnQgb2Zcbi8vICAgdGhpcyB0eXBlIChhbmQgdGhlIG90aGVyIGF0dHJpYnV0ZXMgYXJlIGFwcGxpZWQgdG8gdGhpcyBlbGVtZW50KS5cblxuY29uc3Qgbm9uZSA9IFtdLCBub1NwZWMgPSB7fVxuXG4vLyA6Oi0gQSBjb2xsZWN0aW9uIG9mIFtkZWNvcmF0aW9uc10oI3ZpZXcuRGVjb3JhdGlvbiksIG9yZ2FuaXplZCBpblxuLy8gc3VjaCBhIHdheSB0aGF0IHRoZSBkcmF3aW5nIGFsZ29yaXRobSBjYW4gZWZmaWNpZW50bHkgdXNlIGFuZFxuLy8gY29tcGFyZSB0aGVtLiBUaGlzIGlzIGEgcGVyc2lzdGVudCBkYXRhIHN0cnVjdHVyZeKAlGl0IGlzIG5vdFxuLy8gbW9kaWZpZWQsIHVwZGF0ZXMgY3JlYXRlIGEgbmV3IHZhbHVlLlxuZXhwb3J0IGNsYXNzIERlY29yYXRpb25TZXQge1xuICBjb25zdHJ1Y3Rvcihsb2NhbCwgY2hpbGRyZW4pIHtcbiAgICB0aGlzLmxvY2FsID0gbG9jYWwgJiYgbG9jYWwubGVuZ3RoID8gbG9jYWwgOiBub25lXG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aCA/IGNoaWxkcmVuIDogbm9uZVxuICB9XG5cbiAgLy8gOjogKE5vZGUsIFtEZWNvcmF0aW9uXSkg4oaSIERlY29yYXRpb25TZXRcbiAgLy8gQ3JlYXRlIGEgc2V0IG9mIGRlY29yYXRpb25zLCB1c2luZyB0aGUgc3RydWN0dXJlIG9mIHRoZSBnaXZlblxuICAvLyBkb2N1bWVudC5cbiAgc3RhdGljIGNyZWF0ZShkb2MsIGRlY29yYXRpb25zKSB7XG4gICAgcmV0dXJuIGRlY29yYXRpb25zLmxlbmd0aCA/IGJ1aWxkVHJlZShkZWNvcmF0aW9ucywgZG9jLCAwLCBub1NwZWMpIDogZW1wdHlcbiAgfVxuXG4gIC8vIDo6ICg/bnVtYmVyLCA/bnVtYmVyLCA/KHNwZWM6IE9iamVjdCkg4oaSIGJvb2wpIOKGkiBbRGVjb3JhdGlvbl1cbiAgLy8gRmluZCBhbGwgZGVjb3JhdGlvbnMgaW4gdGhpcyBzZXQgd2hpY2ggdG91Y2ggdGhlIGdpdmVuIHJhbmdlXG4gIC8vIChpbmNsdWRpbmcgZGVjb3JhdGlvbnMgdGhhdCBzdGFydCBvciBlbmQgZGlyZWN0bHkgYXQgdGhlXG4gIC8vIGJvdW5kYXJpZXMpIGFuZCBtYXRjaCB0aGUgZ2l2ZW4gcHJlZGljYXRlIG9uIHRoZWlyIHNwZWMuIFdoZW5cbiAgLy8gYHN0YXJ0YCBhbmQgYGVuZGAgYXJlIG9taXR0ZWQsIGFsbCBkZWNvcmF0aW9ucyBpbiB0aGUgc2V0IGFyZVxuICAvLyBjb25zaWRlcmVkLiBXaGVuIGBwcmVkaWNhdGVgIGlzbid0IGdpdmVuLCBhbGwgZGVjb3JhdGlvbnMgYXJlXG4gIC8vIGFzc3VtZWQgdG8gbWF0Y2guXG4gIGZpbmQoc3RhcnQsIGVuZCwgcHJlZGljYXRlKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdXG4gICAgdGhpcy5maW5kSW5uZXIoc3RhcnQgPT0gbnVsbCA/IDAgOiBzdGFydCwgZW5kID09IG51bGwgPyAxZTkgOiBlbmQsIHJlc3VsdCwgMCwgcHJlZGljYXRlKVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIGZpbmRJbm5lcihzdGFydCwgZW5kLCByZXN1bHQsIG9mZnNldCwgcHJlZGljYXRlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxvY2FsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgc3BhbiA9IHRoaXMubG9jYWxbaV1cbiAgICAgIGlmIChzcGFuLmZyb20gPD0gZW5kICYmIHNwYW4udG8gPj0gc3RhcnQgJiYgKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKHNwYW4uc3BlYykpKVxuICAgICAgICByZXN1bHQucHVzaChzcGFuLmNvcHkoc3Bhbi5mcm9tICsgb2Zmc2V0LCBzcGFuLnRvICsgb2Zmc2V0KSlcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICBpZiAodGhpcy5jaGlsZHJlbltpXSA8IGVuZCAmJiB0aGlzLmNoaWxkcmVuW2kgKyAxXSA+IHN0YXJ0KSB7XG4gICAgICAgIGxldCBjaGlsZE9mZiA9IHRoaXMuY2hpbGRyZW5baV0gKyAxXG4gICAgICAgIHRoaXMuY2hpbGRyZW5baSArIDJdLmZpbmRJbm5lcihzdGFydCAtIGNoaWxkT2ZmLCBlbmQgLSBjaGlsZE9mZiwgcmVzdWx0LCBvZmZzZXQgKyBjaGlsZE9mZiwgcHJlZGljYXRlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIDo6IChNYXBwaW5nLCBOb2RlLCA/T2JqZWN0KSDihpIgRGVjb3JhdGlvblNldFxuICAvLyBNYXAgdGhlIHNldCBvZiBkZWNvcmF0aW9ucyBpbiByZXNwb25zZSB0byBhIGNoYW5nZSBpbiB0aGVcbiAgLy8gZG9jdW1lbnQuXG4gIC8vXG4gIC8vICAgb3B0aW9uczo6LSBBbiBvcHRpb25hbCBzZXQgb2Ygb3B0aW9ucy5cbiAgLy9cbiAgLy8gICAgIG9uUmVtb3ZlOjogPyhkZWNvcmF0aW9uU3BlYzogT2JqZWN0KVxuICAvLyAgICAgV2hlbiBnaXZlbiwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBkZWNvcmF0aW9uXG4gIC8vICAgICB0aGF0IGdldHMgZHJvcHBlZCBhcyBhIHJlc3VsdCBvZiB0aGUgbWFwcGluZywgcGFzc2luZyB0aGVcbiAgLy8gICAgIHNwZWMgb2YgdGhhdCBkZWNvcmF0aW9uLlxuICBtYXAobWFwcGluZywgZG9jLCBvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMgPT0gZW1wdHkgfHwgbWFwcGluZy5tYXBzLmxlbmd0aCA9PSAwKSByZXR1cm4gdGhpc1xuICAgIHJldHVybiB0aGlzLm1hcElubmVyKG1hcHBpbmcsIGRvYywgMCwgMCwgb3B0aW9ucyB8fCBub1NwZWMpXG4gIH1cblxuICBtYXBJbm5lcihtYXBwaW5nLCBub2RlLCBvZmZzZXQsIG9sZE9mZnNldCwgb3B0aW9ucykge1xuICAgIGxldCBuZXdMb2NhbFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sb2NhbC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG1hcHBlZCA9IHRoaXMubG9jYWxbaV0ubWFwKG1hcHBpbmcsIG9mZnNldCwgb2xkT2Zmc2V0KVxuICAgICAgaWYgKG1hcHBlZCAmJiBtYXBwZWQudHlwZS52YWxpZChub2RlLCBtYXBwZWQpKSAobmV3TG9jYWwgfHwgKG5ld0xvY2FsID0gW10pKS5wdXNoKG1hcHBlZClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMub25SZW1vdmUpIG9wdGlvbnMub25SZW1vdmUodGhpcy5sb2NhbFtpXS5zcGVjKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgIHJldHVybiBtYXBDaGlsZHJlbih0aGlzLmNoaWxkcmVuLCBuZXdMb2NhbCwgbWFwcGluZywgbm9kZSwgb2Zmc2V0LCBvbGRPZmZzZXQsIG9wdGlvbnMpXG4gICAgZWxzZVxuICAgICAgcmV0dXJuIG5ld0xvY2FsID8gbmV3IERlY29yYXRpb25TZXQobmV3TG9jYWwuc29ydChieVBvcykpIDogZW1wdHlcbiAgfVxuXG4gIC8vIDo6IChOb2RlLCBbRGVjb3JhdGlvbl0pIOKGkiBEZWNvcmF0aW9uU2V0XG4gIC8vIEFkZCB0aGUgZ2l2ZW4gYXJyYXkgb2YgZGVjb3JhdGlvbnMgdG8gdGhlIG9uZXMgaW4gdGhlIHNldCxcbiAgLy8gcHJvZHVjaW5nIGEgbmV3IHNldC4gTmVlZHMgYWNjZXNzIHRvIHRoZSBjdXJyZW50IGRvY3VtZW50IHRvXG4gIC8vIGNyZWF0ZSB0aGUgYXBwcm9wcmlhdGUgdHJlZSBzdHJ1Y3R1cmUuXG4gIGFkZChkb2MsIGRlY29yYXRpb25zKSB7XG4gICAgaWYgKCFkZWNvcmF0aW9ucy5sZW5ndGgpIHJldHVybiB0aGlzXG4gICAgaWYgKHRoaXMgPT0gZW1wdHkpIHJldHVybiBEZWNvcmF0aW9uU2V0LmNyZWF0ZShkb2MsIGRlY29yYXRpb25zKVxuICAgIHJldHVybiB0aGlzLmFkZElubmVyKGRvYywgZGVjb3JhdGlvbnMsIDApXG4gIH1cblxuICBhZGRJbm5lcihkb2MsIGRlY29yYXRpb25zLCBvZmZzZXQpIHtcbiAgICBsZXQgY2hpbGRyZW4sIGNoaWxkSW5kZXggPSAwXG4gICAgZG9jLmZvckVhY2goKGNoaWxkTm9kZSwgY2hpbGRPZmZzZXQpID0+IHtcbiAgICAgIGxldCBiYXNlT2Zmc2V0ID0gY2hpbGRPZmZzZXQgKyBvZmZzZXQsIGZvdW5kXG4gICAgICBpZiAoIShmb3VuZCA9IHRha2VTcGFuc0Zvck5vZGUoZGVjb3JhdGlvbnMsIGNoaWxkTm9kZSwgYmFzZU9mZnNldCkpKSByZXR1cm5cblxuICAgICAgaWYgKCFjaGlsZHJlbikgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuLnNsaWNlKClcbiAgICAgIHdoaWxlIChjaGlsZEluZGV4IDwgY2hpbGRyZW4ubGVuZ3RoICYmIGNoaWxkcmVuW2NoaWxkSW5kZXhdIDwgY2hpbGRPZmZzZXQpIGNoaWxkSW5kZXggKz0gM1xuICAgICAgaWYgKGNoaWxkcmVuW2NoaWxkSW5kZXhdID09IGNoaWxkT2Zmc2V0KVxuICAgICAgICBjaGlsZHJlbltjaGlsZEluZGV4ICsgMl0gPSBjaGlsZHJlbltjaGlsZEluZGV4ICsgMl0uYWRkSW5uZXIoY2hpbGROb2RlLCBmb3VuZCwgYmFzZU9mZnNldCArIDEpXG4gICAgICBlbHNlXG4gICAgICAgIGNoaWxkcmVuLnNwbGljZShjaGlsZEluZGV4LCAwLCBjaGlsZE9mZnNldCwgY2hpbGRPZmZzZXQgKyBjaGlsZE5vZGUubm9kZVNpemUsIGJ1aWxkVHJlZShmb3VuZCwgY2hpbGROb2RlLCBiYXNlT2Zmc2V0ICsgMSwgbm9TcGVjKSlcbiAgICAgIGNoaWxkSW5kZXggKz0gM1xuICAgIH0pXG5cbiAgICBsZXQgbG9jYWwgPSBtb3ZlU3BhbnMoY2hpbGRJbmRleCA/IHdpdGhvdXROdWxscyhkZWNvcmF0aW9ucykgOiBkZWNvcmF0aW9ucywgLW9mZnNldClcbiAgICByZXR1cm4gbmV3IERlY29yYXRpb25TZXQobG9jYWwubGVuZ3RoID8gdGhpcy5sb2NhbC5jb25jYXQobG9jYWwpLnNvcnQoYnlQb3MpIDogdGhpcy5sb2NhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gfHwgdGhpcy5jaGlsZHJlbilcbiAgfVxuXG4gIC8vIDo6IChbRGVjb3JhdGlvbl0pIOKGkiBEZWNvcmF0aW9uU2V0XG4gIC8vIENyZWF0ZSBhIG5ldyBzZXQgdGhhdCBjb250YWlucyB0aGUgZGVjb3JhdGlvbnMgaW4gdGhpcyBzZXQsIG1pbnVzXG4gIC8vIHRoZSBvbmVzIGluIHRoZSBnaXZlbiBhcnJheS5cbiAgcmVtb3ZlKGRlY29yYXRpb25zKSB7XG4gICAgaWYgKGRlY29yYXRpb25zLmxlbmd0aCA9PSAwIHx8IHRoaXMgPT0gZW1wdHkpIHJldHVybiB0aGlzXG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlSW5uZXIoZGVjb3JhdGlvbnMsIDApXG4gIH1cblxuICByZW1vdmVJbm5lcihkZWNvcmF0aW9ucywgb2Zmc2V0KSB7XG4gICAgbGV0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbiwgbG9jYWwgPSB0aGlzLmxvY2FsXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgbGV0IGZvdW5kLCBmcm9tID0gY2hpbGRyZW5baV0gKyBvZmZzZXQsIHRvID0gY2hpbGRyZW5baSArIDFdICsgb2Zmc2V0XG4gICAgICBmb3IgKGxldCBqID0gMCwgc3BhbjsgaiA8IGRlY29yYXRpb25zLmxlbmd0aDsgaisrKSBpZiAoc3BhbiA9IGRlY29yYXRpb25zW2pdKSB7XG4gICAgICAgIGlmIChzcGFuLmZyb20gPiBmcm9tICYmIHNwYW4udG8gPCB0bykge1xuICAgICAgICAgIGRlY29yYXRpb25zW2pdID0gbnVsbFxuICAgICAgICAgIDsoZm91bmQgfHwgKGZvdW5kID0gW10pKS5wdXNoKHNwYW4pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghZm91bmQpIGNvbnRpbnVlXG4gICAgICBpZiAoY2hpbGRyZW4gPT0gdGhpcy5jaGlsZHJlbikgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuLnNsaWNlKClcbiAgICAgIGxldCByZW1vdmVkID0gY2hpbGRyZW5baSArIDJdLnJlbW92ZUlubmVyKGZvdW5kLCBmcm9tICsgMSlcbiAgICAgIGlmIChyZW1vdmVkICE9IGVtcHR5KSB7XG4gICAgICAgIGNoaWxkcmVuW2kgKyAyXSA9IHJlbW92ZWRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuLnNwbGljZShpLCAzKVxuICAgICAgICBpIC09IDNcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxvY2FsLmxlbmd0aCkgZm9yIChsZXQgaSA9IDAsIHNwYW47IGkgPCBkZWNvcmF0aW9ucy5sZW5ndGg7IGkrKykgaWYgKHNwYW4gPSBkZWNvcmF0aW9uc1tpXSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsb2NhbC5sZW5ndGg7IGorKykgaWYgKGxvY2FsW2pdLnR5cGUuZXEoc3Bhbi50eXBlKSkge1xuICAgICAgICBpZiAobG9jYWwgPT0gdGhpcy5sb2NhbCkgbG9jYWwgPSB0aGlzLmxvY2FsLnNsaWNlKClcbiAgICAgICAgbG9jYWwuc3BsaWNlKGotLSwgMSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoaWxkcmVuID09IHRoaXMuY2hpbGRyZW4gJiYgbG9jYWwgPT0gdGhpcy5sb2NhbCkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gbG9jYWwubGVuZ3RoIHx8IGNoaWxkcmVuLmxlbmd0aCA/IG5ldyBEZWNvcmF0aW9uU2V0KGxvY2FsLCBjaGlsZHJlbikgOiBlbXB0eVxuICB9XG5cbiAgZm9yQ2hpbGQob2Zmc2V0LCBub2RlKSB7XG4gICAgaWYgKHRoaXMgPT0gZW1wdHkpIHJldHVybiB0aGlzXG4gICAgaWYgKG5vZGUuaXNMZWFmKSByZXR1cm4gRGVjb3JhdGlvblNldC5lbXB0eVxuXG4gICAgbGV0IGNoaWxkLCBsb2NhbFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgKz0gMykgaWYgKHRoaXMuY2hpbGRyZW5baV0gPj0gb2Zmc2V0KSB7XG4gICAgICBpZiAodGhpcy5jaGlsZHJlbltpXSA9PSBvZmZzZXQpIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpICsgMl1cbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGxldCBzdGFydCA9IG9mZnNldCArIDEsIGVuZCA9IHN0YXJ0ICsgbm9kZS5jb250ZW50LnNpemVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubG9jYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBkZWMgPSB0aGlzLmxvY2FsW2ldXG4gICAgICBpZiAoZGVjLmZyb20gPCBlbmQgJiYgZGVjLnRvID4gc3RhcnQgJiYgKGRlYy50eXBlIGluc3RhbmNlb2YgSW5saW5lVHlwZSkpIHtcbiAgICAgICAgbGV0IGZyb20gPSBNYXRoLm1heChzdGFydCwgZGVjLmZyb20pIC0gc3RhcnQsIHRvID0gTWF0aC5taW4oZW5kLCBkZWMudG8pIC0gc3RhcnRcbiAgICAgICAgaWYgKGZyb20gPCB0bykgKGxvY2FsIHx8IChsb2NhbCA9IFtdKSkucHVzaChkZWMuY29weShmcm9tLCB0bykpXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsb2NhbCkge1xuICAgICAgbGV0IGxvY2FsU2V0ID0gbmV3IERlY29yYXRpb25TZXQobG9jYWwuc29ydChieVBvcykpXG4gICAgICByZXR1cm4gY2hpbGQgPyBuZXcgRGVjb3JhdGlvbkdyb3VwKFtsb2NhbFNldCwgY2hpbGRdKSA6IGxvY2FsU2V0XG4gICAgfVxuICAgIHJldHVybiBjaGlsZCB8fCBlbXB0eVxuICB9XG5cbiAgZXEob3RoZXIpIHtcbiAgICBpZiAodGhpcyA9PSBvdGhlcikgcmV0dXJuIHRydWVcbiAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIERlY29yYXRpb25TZXQpIHx8XG4gICAgICAgIHRoaXMubG9jYWwubGVuZ3RoICE9IG90aGVyLmxvY2FsLmxlbmd0aCB8fFxuICAgICAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCAhPSBvdGhlci5jaGlsZHJlbi5sZW5ndGgpIHJldHVybiBmYWxzZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sb2NhbC5sZW5ndGg7IGkrKylcbiAgICAgIGlmICghdGhpcy5sb2NhbFtpXS5lcShvdGhlci5sb2NhbFtpXSkpIHJldHVybiBmYWxzZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgKz0gMylcbiAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldICE9IG90aGVyLmNoaWxkcmVuW2ldIHx8XG4gICAgICAgICAgdGhpcy5jaGlsZHJlbltpICsgMV0gIT0gb3RoZXIuY2hpbGRyZW5baSArIDFdIHx8XG4gICAgICAgICAgIXRoaXMuY2hpbGRyZW5baSArIDJdLmVxKG90aGVyLmNoaWxkcmVuW2kgKyAyXSkpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBsb2NhbHMobm9kZSkge1xuICAgIHJldHVybiByZW1vdmVPdmVybGFwKHRoaXMubG9jYWxzSW5uZXIobm9kZSkpXG4gIH1cblxuICBsb2NhbHNJbm5lcihub2RlKSB7XG4gICAgaWYgKHRoaXMgPT0gZW1wdHkpIHJldHVybiBub25lXG4gICAgaWYgKG5vZGUuaW5saW5lQ29udGVudCB8fCAhdGhpcy5sb2NhbC5zb21lKElubGluZVR5cGUuaXMpKSByZXR1cm4gdGhpcy5sb2NhbFxuICAgIGxldCByZXN1bHQgPSBbXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sb2NhbC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCEodGhpcy5sb2NhbFtpXS50eXBlIGluc3RhbmNlb2YgSW5saW5lVHlwZSkpXG4gICAgICAgIHJlc3VsdC5wdXNoKHRoaXMubG9jYWxbaV0pXG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuXG5jb25zdCBlbXB0eSA9IG5ldyBEZWNvcmF0aW9uU2V0KClcblxuLy8gOjogRGVjb3JhdGlvblNldFxuLy8gVGhlIGVtcHR5IHNldCBvZiBkZWNvcmF0aW9ucy5cbkRlY29yYXRpb25TZXQuZW1wdHkgPSBlbXB0eVxuXG5EZWNvcmF0aW9uU2V0LnJlbW92ZU92ZXJsYXAgPSByZW1vdmVPdmVybGFwXG5cbi8vIDotIEFuIGFic3RyYWN0aW9uIHRoYXQgYWxsb3dzIHRoZSBjb2RlIGRlYWxpbmcgd2l0aCBkZWNvcmF0aW9ucyB0b1xuLy8gdHJlYXQgbXVsdGlwbGUgRGVjb3JhdGlvblNldCBvYmplY3RzIGFzIGlmIGl0IHdlcmUgYSBzaW5nbGUgb2JqZWN0XG4vLyB3aXRoIChhIHN1YnNldCBvZikgdGhlIHNhbWUgaW50ZXJmYWNlLlxuY2xhc3MgRGVjb3JhdGlvbkdyb3VwIHtcbiAgY29uc3RydWN0b3IobWVtYmVycykge1xuICAgIHRoaXMubWVtYmVycyA9IG1lbWJlcnNcbiAgfVxuXG4gIGZvckNoaWxkKG9mZnNldCwgY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQuaXNMZWFmKSByZXR1cm4gRGVjb3JhdGlvblNldC5lbXB0eVxuICAgIGxldCBmb3VuZCA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbWJlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCByZXN1bHQgPSB0aGlzLm1lbWJlcnNbaV0uZm9yQ2hpbGQob2Zmc2V0LCBjaGlsZClcbiAgICAgIGlmIChyZXN1bHQgPT0gZW1wdHkpIGNvbnRpbnVlXG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRGVjb3JhdGlvbkdyb3VwKSBmb3VuZCA9IGZvdW5kLmNvbmNhdChyZXN1bHQubWVtYmVycylcbiAgICAgIGVsc2UgZm91bmQucHVzaChyZXN1bHQpXG4gICAgfVxuICAgIHJldHVybiBEZWNvcmF0aW9uR3JvdXAuZnJvbShmb3VuZClcbiAgfVxuXG4gIGVxKG90aGVyKSB7XG4gICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBEZWNvcmF0aW9uR3JvdXApIHx8XG4gICAgICAgIG90aGVyLm1lbWJlcnMubGVuZ3RoICE9IHRoaXMubWVtYmVycy5sZW5ndGgpIHJldHVybiBmYWxzZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZW1iZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKCF0aGlzLm1lbWJlcnNbaV0uZXEob3RoZXIubWVtYmVyc1tpXSkpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBsb2NhbHMobm9kZSkge1xuICAgIGxldCByZXN1bHQsIHNvcnRlZCA9IHRydWVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVtYmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGxvY2FscyA9IHRoaXMubWVtYmVyc1tpXS5sb2NhbHNJbm5lcihub2RlKVxuICAgICAgaWYgKCFsb2NhbHMubGVuZ3RoKSBjb250aW51ZVxuICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0ID0gbG9jYWxzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc29ydGVkKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKClcbiAgICAgICAgICBzb3J0ZWQgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbG9jYWxzLmxlbmd0aDsgaisrKSByZXN1bHQucHVzaChsb2NhbHNbal0pXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQgPyByZW1vdmVPdmVybGFwKHNvcnRlZCA/IHJlc3VsdCA6IHJlc3VsdC5zb3J0KGJ5UG9zKSkgOiBub25lXG4gIH1cblxuICAvLyA6IChbRGVjb3JhdGlvblNldF0pIOKGkiB1bmlvbjxEZWNvcmF0aW9uU2V0LCBEZWNvcmF0aW9uR3JvdXA+XG4gIC8vIENyZWF0ZSBhIGdyb3VwIGZvciB0aGUgZ2l2ZW4gYXJyYXkgb2YgZGVjb3JhdGlvbiBzZXRzLCBvciByZXR1cm5cbiAgLy8gYSBzaW5nbGUgc2V0IHdoZW4gcG9zc2libGUuXG4gIHN0YXRpYyBmcm9tKG1lbWJlcnMpIHtcbiAgICBzd2l0Y2ggKG1lbWJlcnMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBlbXB0eVxuICAgICAgY2FzZSAxOiByZXR1cm4gbWVtYmVyc1swXVxuICAgICAgZGVmYXVsdDogcmV0dXJuIG5ldyBEZWNvcmF0aW9uR3JvdXAobWVtYmVycylcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFwQ2hpbGRyZW4ob2xkQ2hpbGRyZW4sIG5ld0xvY2FsLCBtYXBwaW5nLCBub2RlLCBvZmZzZXQsIG9sZE9mZnNldCwgb3B0aW9ucykge1xuICBsZXQgY2hpbGRyZW4gPSBvbGRDaGlsZHJlbi5zbGljZSgpXG5cbiAgLy8gTWFyayB0aGUgY2hpbGRyZW4gdGhhdCBhcmUgZGlyZWN0bHkgdG91Y2hlZCBieSBjaGFuZ2VzLCBhbmRcbiAgLy8gbW92ZSB0aG9zZSB0aGF0IGFyZSBhZnRlciB0aGUgY2hhbmdlcy5cbiAgbGV0IHNoaWZ0ID0gKG9sZFN0YXJ0LCBvbGRFbmQsIG5ld1N0YXJ0LCBuZXdFbmQpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICBsZXQgZW5kID0gY2hpbGRyZW5baSArIDFdLCBkU2l6ZVxuICAgICAgaWYgKGVuZCA9PSAtMSB8fCBvbGRTdGFydCA+IGVuZCArIG9sZE9mZnNldCkgY29udGludWVcbiAgICAgIGlmIChvbGRFbmQgPj0gY2hpbGRyZW5baV0gKyBvbGRPZmZzZXQpIHtcbiAgICAgICAgY2hpbGRyZW5baSArIDFdID0gLTFcbiAgICAgIH0gZWxzZSBpZiAoZFNpemUgPSAobmV3RW5kIC0gbmV3U3RhcnQpIC0gKG9sZEVuZCAtIG9sZFN0YXJ0KSArIChvbGRPZmZzZXQgLSBvZmZzZXQpKSB7XG4gICAgICAgIGNoaWxkcmVuW2ldICs9IGRTaXplXG4gICAgICAgIGNoaWxkcmVuW2kgKyAxXSArPSBkU2l6ZVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcHBpbmcubWFwcy5sZW5ndGg7IGkrKykgbWFwcGluZy5tYXBzW2ldLmZvckVhY2goc2hpZnQpXG5cbiAgLy8gRmluZCB0aGUgY2hpbGQgbm9kZXMgdGhhdCBzdGlsbCBjb3JyZXNwb25kIHRvIGEgc2luZ2xlIG5vZGUsXG4gIC8vIHJlY3Vyc2l2ZWx5IGNhbGwgbWFwSW5uZXIgb24gdGhlbSBhbmQgdXBkYXRlIHRoZWlyIHBvc2l0aW9ucy5cbiAgbGV0IG11c3RSZWJ1aWxkID0gZmFsc2VcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkgKz0gMykgaWYgKGNoaWxkcmVuW2kgKyAxXSA9PSAtMSkgeyAvLyBUb3VjaGVkIG5vZGVzXG4gICAgbGV0IGZyb20gPSBtYXBwaW5nLm1hcChjaGlsZHJlbltpXSArIG9sZE9mZnNldCksIGZyb21Mb2NhbCA9IGZyb20gLSBvZmZzZXRcbiAgICBpZiAoZnJvbUxvY2FsIDwgMCB8fCBmcm9tTG9jYWwgPj0gbm9kZS5jb250ZW50LnNpemUpIHtcbiAgICAgIG11c3RSZWJ1aWxkID0gdHJ1ZVxuICAgICAgY29udGludWVcbiAgICB9XG4gICAgLy8gTXVzdCByZWFkIG9sZENoaWxkcmVuIGJlY2F1c2UgY2hpbGRyZW4gd2FzIHRhZ2dlZCB3aXRoIC0xXG4gICAgbGV0IHRvID0gbWFwcGluZy5tYXAob2xkQ2hpbGRyZW5baSArIDFdICsgb2xkT2Zmc2V0LCAtMSksIHRvTG9jYWwgPSB0byAtIG9mZnNldFxuICAgIGxldCB7aW5kZXgsIG9mZnNldDogY2hpbGRPZmZzZXR9ID0gbm9kZS5jb250ZW50LmZpbmRJbmRleChmcm9tTG9jYWwpXG4gICAgbGV0IGNoaWxkTm9kZSA9IG5vZGUubWF5YmVDaGlsZChpbmRleClcbiAgICBpZiAoY2hpbGROb2RlICYmIGNoaWxkT2Zmc2V0ID09IGZyb21Mb2NhbCAmJiBjaGlsZE9mZnNldCArIGNoaWxkTm9kZS5ub2RlU2l6ZSA9PSB0b0xvY2FsKSB7XG4gICAgICBsZXQgbWFwcGVkID0gY2hpbGRyZW5baSArIDJdLm1hcElubmVyKG1hcHBpbmcsIGNoaWxkTm9kZSwgZnJvbSArIDEsIGNoaWxkcmVuW2ldICsgb2xkT2Zmc2V0ICsgMSwgb3B0aW9ucylcbiAgICAgIGlmIChtYXBwZWQgIT0gZW1wdHkpIHtcbiAgICAgICAgY2hpbGRyZW5baV0gPSBmcm9tTG9jYWxcbiAgICAgICAgY2hpbGRyZW5baSArIDFdID0gdG9Mb2NhbFxuICAgICAgICBjaGlsZHJlbltpICsgMl0gPSBtYXBwZWRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuW2kgKyAxXSA9IC0yXG4gICAgICAgIG11c3RSZWJ1aWxkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtdXN0UmVidWlsZCA9IHRydWVcbiAgICB9XG4gIH1cblxuICAvLyBSZW1haW5pbmcgY2hpbGRyZW4gbXVzdCBiZSBjb2xsZWN0ZWQgYW5kIHJlYnVpbHQgaW50byB0aGUgYXBwcm9wcmlhdGUgc3RydWN0dXJlXG4gIGlmIChtdXN0UmVidWlsZCkge1xuICAgIGxldCBkZWNvcmF0aW9ucyA9IG1hcEFuZEdhdGhlclJlbWFpbmluZ0RlY29yYXRpb25zKGNoaWxkcmVuLCBvbGRDaGlsZHJlbiwgbmV3TG9jYWwgfHwgW10sIG1hcHBpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0LCBvbGRPZmZzZXQsIG9wdGlvbnMpXG4gICAgbGV0IGJ1aWx0ID0gYnVpbGRUcmVlKGRlY29yYXRpb25zLCBub2RlLCAwLCBvcHRpb25zKVxuICAgIG5ld0xvY2FsID0gYnVpbHQubG9jYWxcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKSBpZiAoY2hpbGRyZW5baSArIDFdIDwgMCkge1xuICAgICAgY2hpbGRyZW4uc3BsaWNlKGksIDMpXG4gICAgICBpIC09IDNcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgYnVpbHQuY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgIGxldCBmcm9tID0gYnVpbHQuY2hpbGRyZW5baV1cbiAgICAgIHdoaWxlIChqIDwgY2hpbGRyZW4ubGVuZ3RoICYmIGNoaWxkcmVuW2pdIDwgZnJvbSkgaiArPSAzXG4gICAgICBjaGlsZHJlbi5zcGxpY2UoaiwgMCwgYnVpbHQuY2hpbGRyZW5baV0sIGJ1aWx0LmNoaWxkcmVuW2kgKyAxXSwgYnVpbHQuY2hpbGRyZW5baSArIDJdKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgRGVjb3JhdGlvblNldChuZXdMb2NhbCAmJiBuZXdMb2NhbC5zb3J0KGJ5UG9zKSwgY2hpbGRyZW4pXG59XG5cbmZ1bmN0aW9uIG1vdmVTcGFucyhzcGFucywgb2Zmc2V0KSB7XG4gIGlmICghb2Zmc2V0IHx8ICFzcGFucy5sZW5ndGgpIHJldHVybiBzcGFuc1xuICBsZXQgcmVzdWx0ID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBzcGFuID0gc3BhbnNbaV1cbiAgICByZXN1bHQucHVzaChuZXcgRGVjb3JhdGlvbihzcGFuLmZyb20gKyBvZmZzZXQsIHNwYW4udG8gKyBvZmZzZXQsIHNwYW4udHlwZSkpXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBtYXBBbmRHYXRoZXJSZW1haW5pbmdEZWNvcmF0aW9ucyhjaGlsZHJlbiwgb2xkQ2hpbGRyZW4sIGRlY29yYXRpb25zLCBtYXBwaW5nLCBvZmZzZXQsIG9sZE9mZnNldCwgb3B0aW9ucykge1xuICAvLyBHYXRoZXIgYWxsIGRlY29yYXRpb25zIGZyb20gdGhlIHJlbWFpbmluZyBtYXJrZWQgY2hpbGRyZW5cbiAgZnVuY3Rpb24gZ2F0aGVyKHNldCwgb2xkT2Zmc2V0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXQubG9jYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBtYXBwZWQgPSBzZXQubG9jYWxbaV0ubWFwKG1hcHBpbmcsIG9mZnNldCwgb2xkT2Zmc2V0KVxuICAgICAgaWYgKG1hcHBlZCkgZGVjb3JhdGlvbnMucHVzaChtYXBwZWQpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLm9uUmVtb3ZlKSBvcHRpb25zLm9uUmVtb3ZlKHNldC5sb2NhbFtpXS5zcGVjKVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldC5jaGlsZHJlbi5sZW5ndGg7IGkgKz0gMylcbiAgICAgIGdhdGhlcihzZXQuY2hpbGRyZW5baSArIDJdLCBzZXQuY2hpbGRyZW5baV0gKyBvbGRPZmZzZXQgKyAxKVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpIGlmIChjaGlsZHJlbltpICsgMV0gPT0gLTEpXG4gICAgZ2F0aGVyKGNoaWxkcmVuW2kgKyAyXSwgb2xkQ2hpbGRyZW5baV0gKyBvbGRPZmZzZXQgKyAxKVxuXG4gIHJldHVybiBkZWNvcmF0aW9uc1xufVxuXG5mdW5jdGlvbiB0YWtlU3BhbnNGb3JOb2RlKHNwYW5zLCBub2RlLCBvZmZzZXQpIHtcbiAgaWYgKG5vZGUuaXNMZWFmKSByZXR1cm4gbnVsbFxuICBsZXQgZW5kID0gb2Zmc2V0ICsgbm9kZS5ub2RlU2l6ZSwgZm91bmQgPSBudWxsXG4gIGZvciAobGV0IGkgPSAwLCBzcGFuOyBpIDwgc3BhbnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoKHNwYW4gPSBzcGFuc1tpXSkgJiYgc3Bhbi5mcm9tID4gb2Zmc2V0ICYmIHNwYW4udG8gPCBlbmQpIHtcbiAgICAgIDsoZm91bmQgfHwgKGZvdW5kID0gW10pKS5wdXNoKHNwYW4pXG4gICAgICBzcGFuc1tpXSA9IG51bGxcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZvdW5kXG59XG5cbmZ1bmN0aW9uIHdpdGhvdXROdWxscyhhcnJheSkge1xuICBsZXQgcmVzdWx0ID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKylcbiAgICBpZiAoYXJyYXlbaV0gIT0gbnVsbCkgcmVzdWx0LnB1c2goYXJyYXlbaV0pXG4gIHJldHVybiByZXN1bHRcbn1cblxuLy8gOiAoW0RlY29yYXRpb25dLCBOb2RlLCBudW1iZXIpIOKGkiBEZWNvcmF0aW9uU2V0XG4vLyBCdWlsZCB1cCBhIHRyZWUgdGhhdCBjb3JyZXNwb25kcyB0byBhIHNldCBvZiBkZWNvcmF0aW9ucy4gYG9mZnNldGBcbi8vIGlzIGEgYmFzZSBvZmZzZXQgdGhhdCBzaG91bGQgYmUgc3VidHJhY3RldCBmcm9tIHRoZSBgZnJvbWAgYW5kIGB0b2Bcbi8vIHBvc2l0aW9ucyBpbiB0aGUgc3BhbnMgKHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBhbGxvY2F0ZSBuZXcgc3BhbnNcbi8vIGZvciByZWN1cnNpdmUgY2FsbHMpLlxuZnVuY3Rpb24gYnVpbGRUcmVlKHNwYW5zLCBub2RlLCBvZmZzZXQsIG9wdGlvbnMpIHtcbiAgbGV0IGNoaWxkcmVuID0gW10sIGhhc051bGxzID0gZmFsc2VcbiAgbm9kZS5mb3JFYWNoKChjaGlsZE5vZGUsIGxvY2FsU3RhcnQpID0+IHtcbiAgICBsZXQgZm91bmQgPSB0YWtlU3BhbnNGb3JOb2RlKHNwYW5zLCBjaGlsZE5vZGUsIGxvY2FsU3RhcnQgKyBvZmZzZXQpXG4gICAgaWYgKGZvdW5kKSB7XG4gICAgICBoYXNOdWxscyA9IHRydWVcbiAgICAgIGxldCBzdWJ0cmVlID0gYnVpbGRUcmVlKGZvdW5kLCBjaGlsZE5vZGUsIG9mZnNldCArIGxvY2FsU3RhcnQgKyAxLCBvcHRpb25zKVxuICAgICAgaWYgKHN1YnRyZWUgIT0gZW1wdHkpXG4gICAgICAgIGNoaWxkcmVuLnB1c2gobG9jYWxTdGFydCwgbG9jYWxTdGFydCArIGNoaWxkTm9kZS5ub2RlU2l6ZSwgc3VidHJlZSlcbiAgICB9XG4gIH0pXG4gIGxldCBsb2NhbHMgPSBtb3ZlU3BhbnMoaGFzTnVsbHMgPyB3aXRob3V0TnVsbHMoc3BhbnMpIDogc3BhbnMsIC1vZmZzZXQpLnNvcnQoYnlQb3MpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxzLmxlbmd0aDsgaSsrKSBpZiAoIWxvY2Fsc1tpXS50eXBlLnZhbGlkKG5vZGUsIGxvY2Fsc1tpXSkpIHtcbiAgICBpZiAob3B0aW9ucy5vblJlbW92ZSkgb3B0aW9ucy5vblJlbW92ZShsb2NhbHNbaV0uc3BlYylcbiAgICBsb2NhbHMuc3BsaWNlKGktLSwgMSlcbiAgfVxuICByZXR1cm4gbG9jYWxzLmxlbmd0aCB8fCBjaGlsZHJlbi5sZW5ndGggPyBuZXcgRGVjb3JhdGlvblNldChsb2NhbHMsIGNoaWxkcmVuKSA6IGVtcHR5XG59XG5cbi8vIDogKERlY29yYXRpb24sIERlY29yYXRpb24pIOKGkiBudW1iZXJcbi8vIFVzZWQgdG8gc29ydCBkZWNvcmF0aW9ucyBzbyB0aGF0IG9uZXMgd2l0aCBhIGxvdyBzdGFydCBwb3NpdGlvblxuLy8gY29tZSBmaXJzdCwgYW5kIHdpdGhpbiBhIHNldCB3aXRoIHRoZSBzYW1lIHN0YXJ0IHBvc2l0aW9uLCB0aG9zZVxuLy8gd2l0aCBhbiBzbWFsbGVyIGVuZCBwb3NpdGlvbiBjb21lIGZpcnN0LlxuZnVuY3Rpb24gYnlQb3MoYSwgYikge1xuICByZXR1cm4gYS5mcm9tIC0gYi5mcm9tIHx8IGEudG8gLSBiLnRvXG59XG5cbi8vIDogKFtEZWNvcmF0aW9uXSkg4oaSIFtEZWNvcmF0aW9uXVxuLy8gU2NhbiBhIHNvcnRlZCBhcnJheSBvZiBkZWNvcmF0aW9ucyBmb3IgcGFydGlhbGx5IG92ZXJsYXBwaW5nIHNwYW5zLFxuLy8gYW5kIHNwbGl0IHRob3NlIHNvIHRoYXQgb25seSBmdWxseSBvdmVybGFwcGluZyBzcGFucyBhcmUgbGVmdCAodG9cbi8vIG1ha2Ugc3Vic2VxdWVudCByZW5kZXJpbmcgZWFzaWVyKS4gV2lsbCByZXR1cm4gdGhlIGlucHV0IGFycmF5IGlmXG4vLyBubyBwYXJ0aWFsbHkgb3ZlcmxhcHBpbmcgc3BhbnMgYXJlIGZvdW5kICh0aGUgY29tbW9uIGNhc2UpLlxuZnVuY3Rpb24gcmVtb3ZlT3ZlcmxhcChzcGFucykge1xuICBsZXQgd29ya2luZyA9IHNwYW5zXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgd29ya2luZy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBsZXQgc3BhbiA9IHdvcmtpbmdbaV1cbiAgICBpZiAoc3Bhbi5mcm9tICE9IHNwYW4udG8pIGZvciAobGV0IGogPSBpICsgMTsgaiA8IHdvcmtpbmcubGVuZ3RoOyBqKyspIHtcbiAgICAgIGxldCBuZXh0ID0gd29ya2luZ1tqXVxuICAgICAgaWYgKG5leHQuZnJvbSA9PSBzcGFuLmZyb20pIHtcbiAgICAgICAgaWYgKG5leHQudG8gIT0gc3Bhbi50bykge1xuICAgICAgICAgIGlmICh3b3JraW5nID09IHNwYW5zKSB3b3JraW5nID0gc3BhbnMuc2xpY2UoKVxuICAgICAgICAgIC8vIEZvbGxvd2VkIGJ5IGEgcGFydGlhbGx5IG92ZXJsYXBwaW5nIGxhcmdlciBzcGFuLiBTcGxpdCB0aGF0XG4gICAgICAgICAgLy8gc3Bhbi5cbiAgICAgICAgICB3b3JraW5nW2pdID0gbmV4dC5jb3B5KG5leHQuZnJvbSwgc3Bhbi50bylcbiAgICAgICAgICBpbnNlcnRBaGVhZCh3b3JraW5nLCBqICsgMSwgbmV4dC5jb3B5KHNwYW4udG8sIG5leHQudG8pKVxuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobmV4dC5mcm9tIDwgc3Bhbi50bykge1xuICAgICAgICAgIGlmICh3b3JraW5nID09IHNwYW5zKSB3b3JraW5nID0gc3BhbnMuc2xpY2UoKVxuICAgICAgICAgIC8vIFRoZSBlbmQgb2YgdGhpcyBvbmUgb3ZlcmxhcHMgd2l0aCBhIHN1YnNlcXVlbnQgc3Bhbi4gU3BsaXRcbiAgICAgICAgICAvLyB0aGlzIG9uZS5cbiAgICAgICAgICB3b3JraW5nW2ldID0gc3Bhbi5jb3B5KHNwYW4uZnJvbSwgbmV4dC5mcm9tKVxuICAgICAgICAgIGluc2VydEFoZWFkKHdvcmtpbmcsIGosIHNwYW4uY29weShuZXh0LmZyb20sIHNwYW4udG8pKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB3b3JraW5nXG59XG5cbmZ1bmN0aW9uIGluc2VydEFoZWFkKGFycmF5LCBpLCBkZWNvKSB7XG4gIHdoaWxlIChpIDwgYXJyYXkubGVuZ3RoICYmIGJ5UG9zKGRlY28sIGFycmF5W2ldKSA+IDApIGkrK1xuICBhcnJheS5zcGxpY2UoaSwgMCwgZGVjbylcbn1cblxuLy8gOiAoRWRpdG9yVmlldykg4oaSIHVuaW9uPERlY29yYXRpb25TZXQsIERlY29yYXRpb25Hcm91cD5cbi8vIEdldCB0aGUgZGVjb3JhdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHByb3BzIG9mIGEgdmlldy5cbmV4cG9ydCBmdW5jdGlvbiB2aWV3RGVjb3JhdGlvbnModmlldykge1xuICBsZXQgZm91bmQgPSBbXVxuICB2aWV3LnNvbWVQcm9wKFwiZGVjb3JhdGlvbnNcIiwgZiA9PiB7XG4gICAgbGV0IHJlc3VsdCA9IGYodmlldy5zdGF0ZSlcbiAgICBpZiAocmVzdWx0ICYmIHJlc3VsdCAhPSBlbXB0eSkgZm91bmQucHVzaChyZXN1bHQpXG4gIH0pXG4gIGlmICh2aWV3LmN1cnNvcldyYXBwZXIpXG4gICAgZm91bmQucHVzaChEZWNvcmF0aW9uU2V0LmNyZWF0ZSh2aWV3LnN0YXRlLmRvYywgW3ZpZXcuY3Vyc29yV3JhcHBlci5kZWNvXSkpXG4gIHJldHVybiBEZWNvcmF0aW9uR3JvdXAuZnJvbShmb3VuZClcbn1cbiIsImltcG9ydCB7Tm9kZVNlbGVjdGlvbn0gZnJvbSBcInByb3NlbWlycm9yLXN0YXRlXCJcblxuaW1wb3J0IHtzY3JvbGxSZWN0SW50b1ZpZXcsIHBvc0F0Q29vcmRzLCBjb29yZHNBdFBvcywgZW5kT2ZUZXh0YmxvY2ssIHN0b3JlU2Nyb2xsUG9zLFxuICAgICAgICByZXNldFNjcm9sbFBvcywgZm9jdXNQcmV2ZW50U2Nyb2xsfSBmcm9tIFwiLi9kb21jb29yZHNcIlxuaW1wb3J0IHtkb2NWaWV3RGVzY30gZnJvbSBcIi4vdmlld2Rlc2NcIlxuaW1wb3J0IHtpbml0SW5wdXQsIGRlc3Ryb3lJbnB1dCwgZGlzcGF0Y2hFdmVudCwgZW5zdXJlTGlzdGVuZXJzfSBmcm9tIFwiLi9pbnB1dFwiXG5pbXBvcnQge3NlbGVjdGlvblRvRE9NLCBhbmNob3JJblJpZ2h0UGxhY2UsIHN5bmNOb2RlU2VsZWN0aW9ufSBmcm9tIFwiLi9zZWxlY3Rpb25cIlxuaW1wb3J0IHtEZWNvcmF0aW9uLCB2aWV3RGVjb3JhdGlvbnN9IGZyb20gXCIuL2RlY29yYXRpb25cIlxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5cbmV4cG9ydCB7RGVjb3JhdGlvbiwgRGVjb3JhdGlvblNldH0gZnJvbSBcIi4vZGVjb3JhdGlvblwiXG5cbi8vIEV4cG9ydGVkIGZvciB0ZXN0aW5nXG5leHBvcnQge3NlcmlhbGl6ZUZvckNsaXBib2FyZCBhcyBfX3NlcmlhbGl6ZUZvckNsaXBib2FyZCwgcGFyc2VGcm9tQ2xpcGJvYXJkIGFzIF9fcGFyc2VGcm9tQ2xpcGJvYXJkfSBmcm9tIFwiLi9jbGlwYm9hcmRcIlxuZXhwb3J0IHtlbmRDb21wb3NpdGlvbiBhcyBfX2VuZENvbXBvc2l0aW9ufSBmcm9tIFwiLi9pbnB1dFwiXG5cbi8vIDo6LSBBbiBlZGl0b3IgdmlldyBtYW5hZ2VzIHRoZSBET00gc3RydWN0dXJlIHRoYXQgcmVwcmVzZW50cyBhblxuLy8gZWRpdGFibGUgZG9jdW1lbnQuIEl0cyBzdGF0ZSBhbmQgYmVoYXZpb3IgYXJlIGRldGVybWluZWQgYnkgaXRzXG4vLyBbcHJvcHNdKCN2aWV3LkRpcmVjdEVkaXRvclByb3BzKS5cbmV4cG9ydCBjbGFzcyBFZGl0b3JWaWV3IHtcbiAgLy8gOjogKD91bmlvbjxkb20uTm9kZSwgKGRvbS5Ob2RlKSwge21vdW50OiBkb20uTm9kZX0+LCBEaXJlY3RFZGl0b3JQcm9wcylcbiAgLy8gQ3JlYXRlIGEgdmlldy4gYHBsYWNlYCBtYXkgYmUgYSBET00gbm9kZSB0aGF0IHRoZSBlZGl0b3Igc2hvdWxkXG4gIC8vIGJlIGFwcGVuZGVkIHRvLCBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBwbGFjZSBpdCBpbnRvIHRoZSBkb2N1bWVudCxcbiAgLy8gb3IgYW4gb2JqZWN0IHdob3NlIGBtb3VudGAgcHJvcGVydHkgaG9sZHMgdGhlIG5vZGUgdG8gdXNlIGFzIHRoZVxuICAvLyBkb2N1bWVudCBjb250YWluZXIuIElmIGl0IGlzIGBudWxsYCwgdGhlIGVkaXRvciB3aWxsIG5vdCBiZSBhZGRlZFxuICAvLyB0byB0aGUgZG9jdW1lbnQuXG4gIGNvbnN0cnVjdG9yKHBsYWNlLCBwcm9wcykge1xuICAgIHRoaXMuX3Byb3BzID0gcHJvcHNcbiAgICAvLyA6OiBFZGl0b3JTdGF0ZVxuICAgIC8vIFRoZSB2aWV3J3MgY3VycmVudCBbc3RhdGVdKCNzdGF0ZS5FZGl0b3JTdGF0ZSkuXG4gICAgdGhpcy5zdGF0ZSA9IHByb3BzLnN0YXRlXG5cbiAgICB0aGlzLmRpc3BhdGNoID0gdGhpcy5kaXNwYXRjaC5iaW5kKHRoaXMpXG5cbiAgICB0aGlzLl9yb290ID0gbnVsbFxuICAgIHRoaXMuZm9jdXNlZCA9IGZhbHNlXG5cbiAgICAvLyA6OiBkb20uRWxlbWVudFxuICAgIC8vIEFuIGVkaXRhYmxlIERPTSBub2RlIGNvbnRhaW5pbmcgdGhlIGRvY3VtZW50LiAoWW91IHByb2JhYmx5XG4gICAgLy8gc2hvdWxkIG5vdCBkaXJlY3RseSBpbnRlcmZlcmUgd2l0aCBpdHMgY29udGVudC4pXG4gICAgdGhpcy5kb20gPSAocGxhY2UgJiYgcGxhY2UubW91bnQpIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICBpZiAocGxhY2UpIHtcbiAgICAgIGlmIChwbGFjZS5hcHBlbmRDaGlsZCkgcGxhY2UuYXBwZW5kQ2hpbGQodGhpcy5kb20pXG4gICAgICBlbHNlIGlmIChwbGFjZS5hcHBseSkgcGxhY2UodGhpcy5kb20pXG4gICAgICBlbHNlIGlmIChwbGFjZS5tb3VudCkgdGhpcy5tb3VudGVkID0gdHJ1ZVxuICAgIH1cblxuICAgIC8vIDo6IGJvb2xcbiAgICAvLyBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZWRpdG9yIGlzIGN1cnJlbnRseSBbZWRpdGFibGVdKCN2aWV3LkVkaXRvclByb3BzLmVkaXRhYmxlKS5cbiAgICB0aGlzLmVkaXRhYmxlID0gZ2V0RWRpdGFibGUodGhpcylcbiAgICB0aGlzLm1hcmtDdXJzb3IgPSBudWxsXG4gICAgdGhpcy5jdXJzb3JXcmFwcGVyID0gbnVsbFxuICAgIHVwZGF0ZUN1cnNvcldyYXBwZXIodGhpcylcbiAgICB0aGlzLm5vZGVWaWV3cyA9IGJ1aWxkTm9kZVZpZXdzKHRoaXMpXG4gICAgdGhpcy5kb2NWaWV3ID0gZG9jVmlld0Rlc2ModGhpcy5zdGF0ZS5kb2MsIGNvbXB1dGVEb2NEZWNvKHRoaXMpLCB2aWV3RGVjb3JhdGlvbnModGhpcyksIHRoaXMuZG9tLCB0aGlzKVxuXG4gICAgdGhpcy5sYXN0U2VsZWN0ZWRWaWV3RGVzYyA9IG51bGxcbiAgICAvLyA6OiA/e3NsaWNlOiBTbGljZSwgbW92ZTogYm9vbH1cbiAgICAvLyBXaGVuIGVkaXRvciBjb250ZW50IGlzIGJlaW5nIGRyYWdnZWQsIHRoaXMgb2JqZWN0IGNvbnRhaW5zXG4gICAgLy8gaW5mb3JtYXRpb24gYWJvdXQgdGhlIGRyYWdnZWQgc2xpY2UgYW5kIHdoZXRoZXIgaXQgaXMgYmVpbmdcbiAgICAvLyBjb3BpZWQgb3IgbW92ZWQuIEF0IGFueSBvdGhlciB0aW1lLCBpdCBpcyBudWxsLlxuICAgIHRoaXMuZHJhZ2dpbmcgPSBudWxsXG5cbiAgICBpbml0SW5wdXQodGhpcylcblxuICAgIHRoaXMucGx1Z2luVmlld3MgPSBbXVxuICAgIHRoaXMudXBkYXRlUGx1Z2luVmlld3MoKVxuICB9XG5cbiAgLy8gY29tcG9zaW5nOjogYm9vbGVhblxuICAvLyBIb2xkcyBgdHJ1ZWAgd2hlbiBhXG4gIC8vIFtjb21wb3NpdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Nb3ppbGxhL0lNRV9oYW5kbGluZ19ndWlkZSlcbiAgLy8gaXMgYWN0aXZlLlxuXG4gIC8vIDo6IERpcmVjdEVkaXRvclByb3BzXG4gIC8vIFRoZSB2aWV3J3MgY3VycmVudCBbcHJvcHNdKCN2aWV3LkVkaXRvclByb3BzKS5cbiAgZ2V0IHByb3BzKCkge1xuICAgIGlmICh0aGlzLl9wcm9wcy5zdGF0ZSAhPSB0aGlzLnN0YXRlKSB7XG4gICAgICBsZXQgcHJldiA9IHRoaXMuX3Byb3BzXG4gICAgICB0aGlzLl9wcm9wcyA9IHt9XG4gICAgICBmb3IgKGxldCBuYW1lIGluIHByZXYpIHRoaXMuX3Byb3BzW25hbWVdID0gcHJldltuYW1lXVxuICAgICAgdGhpcy5fcHJvcHMuc3RhdGUgPSB0aGlzLnN0YXRlXG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9wcm9wc1xuICB9XG5cbiAgLy8gOjogKERpcmVjdEVkaXRvclByb3BzKVxuICAvLyBVcGRhdGUgdGhlIHZpZXcncyBwcm9wcy4gV2lsbCBpbW1lZGlhdGVseSBjYXVzZSBhbiB1cGRhdGUgdG9cbiAgLy8gdGhlIERPTS5cbiAgdXBkYXRlKHByb3BzKSB7XG4gICAgaWYgKHByb3BzLmhhbmRsZURPTUV2ZW50cyAhPSB0aGlzLl9wcm9wcy5oYW5kbGVET01FdmVudHMpIGVuc3VyZUxpc3RlbmVycyh0aGlzKVxuICAgIHRoaXMuX3Byb3BzID0gcHJvcHNcbiAgICB0aGlzLnVwZGF0ZVN0YXRlSW5uZXIocHJvcHMuc3RhdGUsIHRydWUpXG4gIH1cblxuICAvLyA6OiAoRGlyZWN0RWRpdG9yUHJvcHMpXG4gIC8vIFVwZGF0ZSB0aGUgdmlldyBieSB1cGRhdGluZyBleGlzdGluZyBwcm9wcyBvYmplY3Qgd2l0aCB0aGUgb2JqZWN0XG4gIC8vIGdpdmVuIGFzIGFyZ3VtZW50LiBFcXVpdmFsZW50IHRvIGB2aWV3LnVwZGF0ZShPYmplY3QuYXNzaWduKHt9LFxuICAvLyB2aWV3LnByb3BzLCBwcm9wcykpYC5cbiAgc2V0UHJvcHMocHJvcHMpIHtcbiAgICBsZXQgdXBkYXRlZCA9IHt9XG4gICAgZm9yIChsZXQgbmFtZSBpbiB0aGlzLl9wcm9wcykgdXBkYXRlZFtuYW1lXSA9IHRoaXMuX3Byb3BzW25hbWVdXG4gICAgdXBkYXRlZC5zdGF0ZSA9IHRoaXMuc3RhdGVcbiAgICBmb3IgKGxldCBuYW1lIGluIHByb3BzKSB1cGRhdGVkW25hbWVdID0gcHJvcHNbbmFtZV1cbiAgICB0aGlzLnVwZGF0ZSh1cGRhdGVkKVxuICB9XG5cbiAgLy8gOjogKEVkaXRvclN0YXRlKVxuICAvLyBVcGRhdGUgdGhlIGVkaXRvcidzIGBzdGF0ZWAgcHJvcCwgd2l0aG91dCB0b3VjaGluZyBhbnkgb2YgdGhlXG4gIC8vIG90aGVyIHByb3BzLlxuICB1cGRhdGVTdGF0ZShzdGF0ZSkge1xuICAgIHRoaXMudXBkYXRlU3RhdGVJbm5lcihzdGF0ZSwgdGhpcy5zdGF0ZS5wbHVnaW5zICE9IHN0YXRlLnBsdWdpbnMpXG4gIH1cblxuICB1cGRhdGVTdGF0ZUlubmVyKHN0YXRlLCByZWNvbmZpZ3VyZWQpIHtcbiAgICBsZXQgcHJldiA9IHRoaXMuc3RhdGUsIHJlZHJhdyA9IGZhbHNlXG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlXG4gICAgaWYgKHJlY29uZmlndXJlZCkge1xuICAgICAgbGV0IG5vZGVWaWV3cyA9IGJ1aWxkTm9kZVZpZXdzKHRoaXMpXG4gICAgICBpZiAoY2hhbmdlZE5vZGVWaWV3cyhub2RlVmlld3MsIHRoaXMubm9kZVZpZXdzKSkge1xuICAgICAgICB0aGlzLm5vZGVWaWV3cyA9IG5vZGVWaWV3c1xuICAgICAgICByZWRyYXcgPSB0cnVlXG4gICAgICB9XG4gICAgICBlbnN1cmVMaXN0ZW5lcnModGhpcylcbiAgICB9XG5cbiAgICB0aGlzLmVkaXRhYmxlID0gZ2V0RWRpdGFibGUodGhpcylcbiAgICB1cGRhdGVDdXJzb3JXcmFwcGVyKHRoaXMpXG4gICAgbGV0IGlubmVyRGVjbyA9IHZpZXdEZWNvcmF0aW9ucyh0aGlzKSwgb3V0ZXJEZWNvID0gY29tcHV0ZURvY0RlY28odGhpcylcblxuICAgIGxldCBzY3JvbGwgPSByZWNvbmZpZ3VyZWQgPyBcInJlc2V0XCJcbiAgICAgICAgOiBzdGF0ZS5zY3JvbGxUb1NlbGVjdGlvbiA+IHByZXYuc2Nyb2xsVG9TZWxlY3Rpb24gPyBcInRvIHNlbGVjdGlvblwiIDogXCJwcmVzZXJ2ZVwiXG4gICAgbGV0IHVwZGF0ZURvYyA9IHJlZHJhdyB8fCAhdGhpcy5kb2NWaWV3Lm1hdGNoZXNOb2RlKHN0YXRlLmRvYywgb3V0ZXJEZWNvLCBpbm5lckRlY28pXG4gICAgbGV0IHVwZGF0ZVNlbCA9IHVwZGF0ZURvYyB8fCAhc3RhdGUuc2VsZWN0aW9uLmVxKHByZXYuc2VsZWN0aW9uKVxuICAgIGxldCBvbGRTY3JvbGxQb3MgPSBzY3JvbGwgPT0gXCJwcmVzZXJ2ZVwiICYmIHVwZGF0ZVNlbCAmJiB0aGlzLmRvbS5zdHlsZS5vdmVyZmxvd0FuY2hvciA9PSBudWxsICYmIHN0b3JlU2Nyb2xsUG9zKHRoaXMpXG5cbiAgICBpZiAodXBkYXRlU2VsKSB7XG4gICAgICB0aGlzLmRvbU9ic2VydmVyLnN0b3AoKVxuICAgICAgLy8gV29yayBhcm91bmQgYW4gaXNzdWUgaW4gQ2hyb21lLCBJRSwgYW5kIEVkZ2Ugd2hlcmUgY2hhbmdpbmdcbiAgICAgIC8vIHRoZSBET00gYXJvdW5kIGFuIGFjdGl2ZSBzZWxlY3Rpb24gcHV0cyBpdCBpbnRvIGEgYnJva2VuXG4gICAgICAvLyBzdGF0ZSB3aGVyZSB0aGUgdGhpbmcgdGhlIHVzZXIgc2VlcyBkaWZmZXJzIGZyb20gdGhlXG4gICAgICAvLyBzZWxlY3Rpb24gcmVwb3J0ZWQgYnkgdGhlIFNlbGVjdGlvbiBvYmplY3QgKCM3MTAsICM5NzMsXG4gICAgICAvLyAjMTAxMSwgIzEwMTMpLlxuICAgICAgbGV0IGZvcmNlU2VsVXBkYXRlID0gdXBkYXRlRG9jICYmIChicm93c2VyLmllIHx8IGJyb3dzZXIuY2hyb21lKSAmJlxuICAgICAgICAgICFwcmV2LnNlbGVjdGlvbi5lbXB0eSAmJiAhc3RhdGUuc2VsZWN0aW9uLmVtcHR5ICYmIHNlbGVjdGlvbkNvbnRleHRDaGFuZ2VkKHByZXYuc2VsZWN0aW9uLCBzdGF0ZS5zZWxlY3Rpb24pXG4gICAgICBpZiAodXBkYXRlRG9jKSB7XG4gICAgICAgIGlmIChyZWRyYXcgfHwgIXRoaXMuZG9jVmlldy51cGRhdGUoc3RhdGUuZG9jLCBvdXRlckRlY28sIGlubmVyRGVjbywgdGhpcykpIHtcbiAgICAgICAgICB0aGlzLmRvY1ZpZXcuZGVzdHJveSgpXG4gICAgICAgICAgdGhpcy5kb2NWaWV3ID0gZG9jVmlld0Rlc2Moc3RhdGUuZG9jLCBvdXRlckRlY28sIGlubmVyRGVjbywgdGhpcy5kb20sIHRoaXMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFdvcmsgYXJvdW5kIGZvciBhbiBpc3N1ZSB3aGVyZSBhbiB1cGRhdGUgYXJyaXZpbmcgcmlnaHQgYmV0d2VlblxuICAgICAgLy8gYSBET00gc2VsZWN0aW9uIGNoYW5nZSBhbmQgdGhlIFwic2VsZWN0aW9uY2hhbmdlXCIgZXZlbnQgZm9yIGl0XG4gICAgICAvLyBjYW4gY2F1c2UgYSBzcHVyaW91cyBET00gc2VsZWN0aW9uIHVwZGF0ZSwgZGlzcnVwdGluZyBtb3VzZVxuICAgICAgLy8gZHJhZyBzZWxlY3Rpb24uXG4gICAgICBpZiAoZm9yY2VTZWxVcGRhdGUgfHxcbiAgICAgICAgICAhKHRoaXMubW91c2VEb3duICYmIHRoaXMuZG9tT2JzZXJ2ZXIuY3VycmVudFNlbGVjdGlvbi5lcSh0aGlzLnJvb3QuZ2V0U2VsZWN0aW9uKCkpICYmIGFuY2hvckluUmlnaHRQbGFjZSh0aGlzKSkpIHtcbiAgICAgICAgc2VsZWN0aW9uVG9ET00odGhpcywgZm9yY2VTZWxVcGRhdGUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzeW5jTm9kZVNlbGVjdGlvbih0aGlzLCBzdGF0ZS5zZWxlY3Rpb24pXG4gICAgICAgIHRoaXMuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKClcbiAgICAgIH1cbiAgICAgIHRoaXMuZG9tT2JzZXJ2ZXIuc3RhcnQoKVxuICAgIH1cblxuICAgIHRoaXMudXBkYXRlUGx1Z2luVmlld3MocHJldilcblxuICAgIGlmIChzY3JvbGwgPT0gXCJyZXNldFwiKSB7XG4gICAgICB0aGlzLmRvbS5zY3JvbGxUb3AgPSAwXG4gICAgfSBlbHNlIGlmIChzY3JvbGwgPT0gXCJ0byBzZWxlY3Rpb25cIikge1xuICAgICAgbGV0IHN0YXJ0RE9NID0gdGhpcy5yb290LmdldFNlbGVjdGlvbigpLmZvY3VzTm9kZVxuICAgICAgaWYgKHRoaXMuc29tZVByb3AoXCJoYW5kbGVTY3JvbGxUb1NlbGVjdGlvblwiLCBmID0+IGYodGhpcykpKVxuICAgICAgICB7fSAvLyBIYW5kbGVkXG4gICAgICBlbHNlIGlmIChzdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uKVxuICAgICAgICBzY3JvbGxSZWN0SW50b1ZpZXcodGhpcywgdGhpcy5kb2NWaWV3LmRvbUFmdGVyUG9zKHN0YXRlLnNlbGVjdGlvbi5mcm9tKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgc3RhcnRET00pXG4gICAgICBlbHNlXG4gICAgICAgIHNjcm9sbFJlY3RJbnRvVmlldyh0aGlzLCB0aGlzLmNvb3Jkc0F0UG9zKHN0YXRlLnNlbGVjdGlvbi5oZWFkKSwgc3RhcnRET00pXG4gICAgfSBlbHNlIGlmIChvbGRTY3JvbGxQb3MpIHtcbiAgICAgIHJlc2V0U2Nyb2xsUG9zKG9sZFNjcm9sbFBvcylcbiAgICB9XG4gIH1cblxuICBkZXN0cm95UGx1Z2luVmlld3MoKSB7XG4gICAgbGV0IHZpZXdcbiAgICB3aGlsZSAodmlldyA9IHRoaXMucGx1Z2luVmlld3MucG9wKCkpIGlmICh2aWV3LmRlc3Ryb3kpIHZpZXcuZGVzdHJveSgpXG4gIH1cblxuICB1cGRhdGVQbHVnaW5WaWV3cyhwcmV2U3RhdGUpIHtcbiAgICBpZiAoIXByZXZTdGF0ZSB8fCBwcmV2U3RhdGUucGx1Z2lucyAhPSB0aGlzLnN0YXRlLnBsdWdpbnMpIHtcbiAgICAgIHRoaXMuZGVzdHJveVBsdWdpblZpZXdzKClcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5wbHVnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBwbHVnaW4gPSB0aGlzLnN0YXRlLnBsdWdpbnNbaV1cbiAgICAgICAgaWYgKHBsdWdpbi5zcGVjLnZpZXcpIHRoaXMucGx1Z2luVmlld3MucHVzaChwbHVnaW4uc3BlYy52aWV3KHRoaXMpKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGx1Z2luVmlld3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHBsdWdpblZpZXcgPSB0aGlzLnBsdWdpblZpZXdzW2ldXG4gICAgICAgIGlmIChwbHVnaW5WaWV3LnVwZGF0ZSkgcGx1Z2luVmlldy51cGRhdGUodGhpcywgcHJldlN0YXRlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIDo6IChzdHJpbmcsID8ocHJvcDogKikg4oaSICopIOKGkiAqXG4gIC8vIEdvZXMgb3ZlciB0aGUgdmFsdWVzIG9mIGEgcHJvcCwgZmlyc3QgdGhvc2UgcHJvdmlkZWQgZGlyZWN0bHksXG4gIC8vIHRoZW4gdGhvc2UgZnJvbSBwbHVnaW5zIChpbiBvcmRlciksIGFuZCBjYWxscyBgZmAgZXZlcnkgdGltZSBhXG4gIC8vIG5vbi11bmRlZmluZWQgdmFsdWUgaXMgZm91bmQuIFdoZW4gYGZgIHJldHVybnMgYSB0cnV0aHkgdmFsdWUsXG4gIC8vIHRoYXQgaXMgaW1tZWRpYXRlbHkgcmV0dXJuZWQuIFdoZW4gYGZgIGlzbid0IHByb3ZpZGVkLCBpdCBpc1xuICAvLyB0cmVhdGVkIGFzIHRoZSBpZGVudGl0eSBmdW5jdGlvbiAodGhlIHByb3AgdmFsdWUgaXMgcmV0dXJuZWRcbiAgLy8gZGlyZWN0bHkpLlxuICBzb21lUHJvcChwcm9wTmFtZSwgZikge1xuICAgIGxldCBwcm9wID0gdGhpcy5fcHJvcHMgJiYgdGhpcy5fcHJvcHNbcHJvcE5hbWVdLCB2YWx1ZVxuICAgIGlmIChwcm9wICE9IG51bGwgJiYgKHZhbHVlID0gZiA/IGYocHJvcCkgOiBwcm9wKSkgcmV0dXJuIHZhbHVlXG4gICAgbGV0IHBsdWdpbnMgPSB0aGlzLnN0YXRlLnBsdWdpbnNcbiAgICBpZiAocGx1Z2lucykgZm9yIChsZXQgaSA9IDA7IGkgPCBwbHVnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcHJvcCA9IHBsdWdpbnNbaV0ucHJvcHNbcHJvcE5hbWVdXG4gICAgICBpZiAocHJvcCAhPSBudWxsICYmICh2YWx1ZSA9IGYgPyBmKHByb3ApIDogcHJvcCkpIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgfVxuXG4gIC8vIDo6ICgpIOKGkiBib29sXG4gIC8vIFF1ZXJ5IHdoZXRoZXIgdGhlIHZpZXcgaGFzIGZvY3VzLlxuICBoYXNGb2N1cygpIHtcbiAgICByZXR1cm4gdGhpcy5yb290LmFjdGl2ZUVsZW1lbnQgPT0gdGhpcy5kb21cbiAgfVxuXG4gIC8vIDo6ICgpXG4gIC8vIEZvY3VzIHRoZSBlZGl0b3IuXG4gIGZvY3VzKCkge1xuICAgIHRoaXMuZG9tT2JzZXJ2ZXIuc3RvcCgpXG4gICAgaWYgKHRoaXMuZWRpdGFibGUpIGZvY3VzUHJldmVudFNjcm9sbCh0aGlzLmRvbSlcbiAgICBzZWxlY3Rpb25Ub0RPTSh0aGlzKVxuICAgIHRoaXMuZG9tT2JzZXJ2ZXIuc3RhcnQoKVxuICB9XG5cbiAgLy8gOjogdW5pb248ZG9tLkRvY3VtZW50LCBkb20uRG9jdW1lbnRGcmFnbWVudD5cbiAgLy8gR2V0IHRoZSBkb2N1bWVudCByb290IGluIHdoaWNoIHRoZSBlZGl0b3IgZXhpc3RzLiBUaGlzIHdpbGxcbiAgLy8gdXN1YWxseSBiZSB0aGUgdG9wLWxldmVsIGBkb2N1bWVudGAsIGJ1dCBtaWdodCBiZSBhIFtzaGFkb3dcbiAgLy8gRE9NXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9XZWJfQ29tcG9uZW50cy9TaGFkb3dfRE9NKVxuICAvLyByb290IGlmIHRoZSBlZGl0b3IgaXMgaW5zaWRlIG9uZS5cbiAgZ2V0IHJvb3QoKSB7XG4gICAgbGV0IGNhY2hlZCA9IHRoaXMuX3Jvb3RcbiAgICBpZiAoY2FjaGVkID09IG51bGwpIGZvciAobGV0IHNlYXJjaCA9IHRoaXMuZG9tLnBhcmVudE5vZGU7IHNlYXJjaDsgc2VhcmNoID0gc2VhcmNoLnBhcmVudE5vZGUpIHtcbiAgICAgIGlmIChzZWFyY2gubm9kZVR5cGUgPT0gOSB8fCAoc2VhcmNoLm5vZGVUeXBlID09IDExICYmIHNlYXJjaC5ob3N0KSkge1xuICAgICAgICBpZiAoIXNlYXJjaC5nZXRTZWxlY3Rpb24pIE9iamVjdC5nZXRQcm90b3R5cGVPZihzZWFyY2gpLmdldFNlbGVjdGlvbiA9ICgpID0+IGRvY3VtZW50LmdldFNlbGVjdGlvbigpXG4gICAgICAgIHJldHVybiB0aGlzLl9yb290ID0gc2VhcmNoXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWQgfHwgZG9jdW1lbnRcbiAgfVxuXG4gIC8vIDo6ICh7bGVmdDogbnVtYmVyLCB0b3A6IG51bWJlcn0pIOKGkiA/e3BvczogbnVtYmVyLCBpbnNpZGU6IG51bWJlcn1cbiAgLy8gR2l2ZW4gYSBwYWlyIG9mIHZpZXdwb3J0IGNvb3JkaW5hdGVzLCByZXR1cm4gdGhlIGRvY3VtZW50XG4gIC8vIHBvc2l0aW9uIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlbS4gTWF5IHJldHVybiBudWxsIGlmIHRoZSBnaXZlblxuICAvLyBjb29yZGluYXRlcyBhcmVuJ3QgaW5zaWRlIG9mIHRoZSBlZGl0b3IuIFdoZW4gYW4gb2JqZWN0IGlzXG4gIC8vIHJldHVybmVkLCBpdHMgYHBvc2AgcHJvcGVydHkgaXMgdGhlIHBvc2l0aW9uIG5lYXJlc3QgdG8gdGhlXG4gIC8vIGNvb3JkaW5hdGVzLCBhbmQgaXRzIGBpbnNpZGVgIHByb3BlcnR5IGhvbGRzIHRoZSBwb3NpdGlvbiBvZiB0aGVcbiAgLy8gaW5uZXIgbm9kZSB0aGF0IHRoZSBwb3NpdGlvbiBmYWxscyBpbnNpZGUgb2YsIG9yIC0xIGlmIGl0IGlzIGF0XG4gIC8vIHRoZSB0b3AgbGV2ZWwsIG5vdCBpbiBhbnkgbm9kZS5cbiAgcG9zQXRDb29yZHMoY29vcmRzKSB7XG4gICAgcmV0dXJuIHBvc0F0Q29vcmRzKHRoaXMsIGNvb3JkcylcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiB7bGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyLCB0b3A6IG51bWJlciwgYm90dG9tOiBudW1iZXJ9XG4gIC8vIFJldHVybnMgdGhlIHZpZXdwb3J0IHJlY3RhbmdsZSBhdCBhIGdpdmVuIGRvY3VtZW50IHBvc2l0aW9uLiBgbGVmdGBcbiAgLy8gYW5kIGByaWdodGAgd2lsbCBiZSB0aGUgc2FtZSBudW1iZXIsIGFzIHRoaXMgcmV0dXJucyBhIGZsYXRcbiAgLy8gY3Vyc29yLWlzaCByZWN0YW5nbGUuXG4gIGNvb3Jkc0F0UG9zKHBvcykge1xuICAgIHJldHVybiBjb29yZHNBdFBvcyh0aGlzLCBwb3MpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIge25vZGU6IGRvbS5Ob2RlLCBvZmZzZXQ6IG51bWJlcn1cbiAgLy8gRmluZCB0aGUgRE9NIHBvc2l0aW9uIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGdpdmVuIGRvY3VtZW50XG4gIC8vIHBvc2l0aW9uLiBOb3RlIHRoYXQgeW91IHNob3VsZCAqKm5vdCoqIG11dGF0ZSB0aGUgZWRpdG9yJ3NcbiAgLy8gaW50ZXJuYWwgRE9NLCBvbmx5IGluc3BlY3QgaXQgKGFuZCBldmVuIHRoYXQgaXMgdXN1YWxseSBub3RcbiAgLy8gbmVjZXNzYXJ5KS5cbiAgZG9tQXRQb3MocG9zKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9jVmlldy5kb21Gcm9tUG9zKHBvcylcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiA/ZG9tLk5vZGVcbiAgLy8gRmluZCB0aGUgRE9NIG5vZGUgdGhhdCByZXByZXNlbnRzIHRoZSBkb2N1bWVudCBub2RlIGFmdGVyIHRoZVxuICAvLyBnaXZlbiBwb3NpdGlvbi4gTWF5IHJldHVybiBgbnVsbGAgd2hlbiB0aGUgcG9zaXRpb24gZG9lc24ndCBwb2ludFxuICAvLyBpbiBmcm9udCBvZiBhIG5vZGUgb3IgaWYgdGhlIG5vZGUgaXMgaW5zaWRlIGFuIG9wYXF1ZSBub2RlIHZpZXcuXG4gIC8vXG4gIC8vIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmUgYWJsZSB0byBjYWxsIHRoaW5ncyBsaWtlXG4gIC8vIGBnZXRCb3VuZGluZ0NsaWVudFJlY3RgIG9uIHRoYXQgRE9NIG5vZGUuIERvICoqbm90KiogbXV0YXRlIHRoZVxuICAvLyBlZGl0b3IgRE9NIGRpcmVjdGx5LCBvciBhZGQgc3R5bGluZyB0aGlzIHdheSwgc2luY2UgdGhhdCB3aWxsIGJlXG4gIC8vIGltbWVkaWF0ZWx5IG92ZXJyaWRlbiBieSB0aGUgZWRpdG9yIGFzIGl0IHJlZHJhd3MgdGhlIG5vZGUuXG4gIG5vZGVET00ocG9zKSB7XG4gICAgbGV0IGRlc2MgPSB0aGlzLmRvY1ZpZXcuZGVzY0F0KHBvcylcbiAgICByZXR1cm4gZGVzYyA/IGRlc2Mubm9kZURPTSA6IG51bGxcbiAgfVxuXG4gIC8vIDo6IChkb20uTm9kZSwgbnVtYmVyLCA/bnVtYmVyKSDihpIgbnVtYmVyXG4gIC8vIEZpbmQgdGhlIGRvY3VtZW50IHBvc2l0aW9uIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBnaXZlbiBET01cbiAgLy8gcG9zaXRpb24uIChXaGVuZXZlciBwb3NzaWJsZSwgaXQgaXMgcHJlZmVyYWJsZSB0byBpbnNwZWN0IHRoZVxuICAvLyBkb2N1bWVudCBzdHJ1Y3R1cmUgZGlyZWN0bHksIHJhdGhlciB0aGFuIHBva2luZyBhcm91bmQgaW4gdGhlXG4gIC8vIERPTSwgYnV0IHNvbWV0aW1lc+KAlGZvciBleGFtcGxlIHdoZW4gaW50ZXJwcmV0aW5nIGFuIGV2ZW50XG4gIC8vIHRhcmdldOKAlHlvdSBkb24ndCBoYXZlIGEgY2hvaWNlLilcbiAgLy9cbiAgLy8gVGhlIGBiaWFzYCBwYXJhbWV0ZXIgY2FuIGJlIHVzZWQgdG8gaW5mbHVlbmNlIHdoaWNoIHNpZGUgb2YgYSBET01cbiAgLy8gbm9kZSB0byB1c2Ugd2hlbiB0aGUgcG9zaXRpb24gaXMgaW5zaWRlIGEgbGVhZiBub2RlLlxuICBwb3NBdERPTShub2RlLCBvZmZzZXQsIGJpYXMgPSAtMSkge1xuICAgIGxldCBwb3MgPSB0aGlzLmRvY1ZpZXcucG9zRnJvbURPTShub2RlLCBvZmZzZXQsIGJpYXMpXG4gICAgaWYgKHBvcyA9PSBudWxsKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkRPTSBwb3NpdGlvbiBub3QgaW5zaWRlIHRoZSBlZGl0b3JcIilcbiAgICByZXR1cm4gcG9zXG4gIH1cblxuICAvLyA6OiAodW5pb248XCJ1cFwiLCBcImRvd25cIiwgXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJmb3J3YXJkXCIsIFwiYmFja3dhcmRcIj4sID9FZGl0b3JTdGF0ZSkg4oaSIGJvb2xcbiAgLy8gRmluZCBvdXQgd2hldGhlciB0aGUgc2VsZWN0aW9uIGlzIGF0IHRoZSBlbmQgb2YgYSB0ZXh0YmxvY2sgd2hlblxuICAvLyBtb3ZpbmcgaW4gYSBnaXZlbiBkaXJlY3Rpb24uIFdoZW4sIGZvciBleGFtcGxlLCBnaXZlbiBgXCJsZWZ0XCJgLFxuICAvLyBpdCB3aWxsIHJldHVybiB0cnVlIGlmIG1vdmluZyBsZWZ0IGZyb20gdGhlIGN1cnJlbnQgY3Vyc29yXG4gIC8vIHBvc2l0aW9uIHdvdWxkIGxlYXZlIHRoYXQgcG9zaXRpb24ncyBwYXJlbnQgdGV4dGJsb2NrLiBXaWxsIGFwcGx5XG4gIC8vIHRvIHRoZSB2aWV3J3MgY3VycmVudCBzdGF0ZSBieSBkZWZhdWx0LCBidXQgaXQgaXMgcG9zc2libGUgdG9cbiAgLy8gcGFzcyBhIGRpZmZlcmVudCBzdGF0ZS5cbiAgZW5kT2ZUZXh0YmxvY2soZGlyLCBzdGF0ZSkge1xuICAgIHJldHVybiBlbmRPZlRleHRibG9jayh0aGlzLCBzdGF0ZSB8fCB0aGlzLnN0YXRlLCBkaXIpXG4gIH1cblxuICAvLyA6OiAoKVxuICAvLyBSZW1vdmVzIHRoZSBlZGl0b3IgZnJvbSB0aGUgRE9NIGFuZCBkZXN0cm95cyBhbGwgW25vZGVcbiAgLy8gdmlld3NdKCN2aWV3Lk5vZGVWaWV3KS5cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAoIXRoaXMuZG9jVmlldykgcmV0dXJuXG4gICAgZGVzdHJveUlucHV0KHRoaXMpXG4gICAgdGhpcy5kZXN0cm95UGx1Z2luVmlld3MoKVxuICAgIGlmICh0aGlzLm1vdW50ZWQpIHtcbiAgICAgIHRoaXMuZG9jVmlldy51cGRhdGUodGhpcy5zdGF0ZS5kb2MsIFtdLCB2aWV3RGVjb3JhdGlvbnModGhpcyksIHRoaXMpXG4gICAgICB0aGlzLmRvbS50ZXh0Q29udGVudCA9IFwiXCJcbiAgICB9IGVsc2UgaWYgKHRoaXMuZG9tLnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMuZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20pXG4gICAgfVxuICAgIHRoaXMuZG9jVmlldy5kZXN0cm95KClcbiAgICB0aGlzLmRvY1ZpZXcgPSBudWxsXG4gIH1cblxuICAvLyBVc2VkIGZvciB0ZXN0aW5nLlxuICBkaXNwYXRjaEV2ZW50KGV2ZW50KSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgZXZlbnQpXG4gIH1cblxuICAvLyA6OiAoVHJhbnNhY3Rpb24pXG4gIC8vIERpc3BhdGNoIGEgdHJhbnNhY3Rpb24uIFdpbGwgY2FsbFxuICAvLyBbYGRpc3BhdGNoVHJhbnNhY3Rpb25gXSgjdmlldy5EaXJlY3RFZGl0b3JQcm9wcy5kaXNwYXRjaFRyYW5zYWN0aW9uKVxuICAvLyB3aGVuIGdpdmVuLCBhbmQgb3RoZXJ3aXNlIGRlZmF1bHRzIHRvIGFwcGx5aW5nIHRoZSB0cmFuc2FjdGlvbiB0b1xuICAvLyB0aGUgY3VycmVudCBzdGF0ZSBhbmQgY2FsbGluZ1xuICAvLyBbYHVwZGF0ZVN0YXRlYF0oI3ZpZXcuRWRpdG9yVmlldy51cGRhdGVTdGF0ZSkgd2l0aCB0aGUgcmVzdWx0LlxuICAvLyBUaGlzIG1ldGhvZCBpcyBib3VuZCB0byB0aGUgdmlldyBpbnN0YW5jZSwgc28gdGhhdCBpdCBjYW4gYmVcbiAgLy8gZWFzaWx5IHBhc3NlZCBhcm91bmQuXG4gIGRpc3BhdGNoKHRyKSB7XG4gICAgbGV0IGRpc3BhdGNoVHJhbnNhY3Rpb24gPSB0aGlzLl9wcm9wcy5kaXNwYXRjaFRyYW5zYWN0aW9uXG4gICAgaWYgKGRpc3BhdGNoVHJhbnNhY3Rpb24pIGRpc3BhdGNoVHJhbnNhY3Rpb24uY2FsbCh0aGlzLCB0cilcbiAgICBlbHNlIHRoaXMudXBkYXRlU3RhdGUodGhpcy5zdGF0ZS5hcHBseSh0cikpXG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZURvY0RlY28odmlldykge1xuICBsZXQgYXR0cnMgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gIGF0dHJzLmNsYXNzID0gXCJQcm9zZU1pcnJvclwiXG4gIGF0dHJzLmNvbnRlbnRlZGl0YWJsZSA9IFN0cmluZyh2aWV3LmVkaXRhYmxlKVxuXG4gIHZpZXcuc29tZVByb3AoXCJhdHRyaWJ1dGVzXCIsIHZhbHVlID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09IFwiZnVuY3Rpb25cIikgdmFsdWUgPSB2YWx1ZSh2aWV3LnN0YXRlKVxuICAgIGlmICh2YWx1ZSkgZm9yIChsZXQgYXR0ciBpbiB2YWx1ZSkge1xuICAgICAgaWYgKGF0dHIgPT0gXCJjbGFzc1wiKVxuICAgICAgICBhdHRycy5jbGFzcyArPSBcIiBcIiArIHZhbHVlW2F0dHJdXG4gICAgICBlbHNlIGlmICghYXR0cnNbYXR0cl0gJiYgYXR0ciAhPSBcImNvbnRlbnRlZGl0YWJsZVwiICYmIGF0dHIgIT0gXCJub2RlTmFtZVwiKVxuICAgICAgICBhdHRyc1thdHRyXSA9IFN0cmluZyh2YWx1ZVthdHRyXSlcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIFtEZWNvcmF0aW9uLm5vZGUoMCwgdmlldy5zdGF0ZS5kb2MuY29udGVudC5zaXplLCBhdHRycyldXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUN1cnNvcldyYXBwZXIodmlldykge1xuICBsZXQgeyRoZWFkLCAkYW5jaG9yLCB2aXNpYmxlfSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uXG4gIGlmICh2aWV3Lm1hcmtDdXJzb3IpIHtcbiAgICBsZXQgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKVxuICAgIGRvbS5zZXRBdHRyaWJ1dGUoXCJtYXJrLXBsYWNlaG9sZGVyXCIsIFwidHJ1ZVwiKVxuICAgIHZpZXcuY3Vyc29yV3JhcHBlciA9IHtkb20sIGRlY286IERlY29yYXRpb24ud2lkZ2V0KCRoZWFkLnBvcywgZG9tLCB7cmF3OiB0cnVlLCBtYXJrczogdmlldy5tYXJrQ3Vyc29yfSl9XG4gIH0gZWxzZSBpZiAodmlzaWJsZSB8fCAkaGVhZC5wb3MgIT0gJGFuY2hvci5wb3MpIHtcbiAgICB2aWV3LmN1cnNvcldyYXBwZXIgPSBudWxsXG4gIH0gZWxzZSB7XG4gICAgbGV0IGRvbVxuICAgIGlmICghdmlldy5jdXJzb3JXcmFwcGVyIHx8IHZpZXcuY3Vyc29yV3JhcHBlci5kb20uY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgIGRvbS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxuICAgICAgZG9tLnN0eWxlLmxlZnQgPSBcIi0xMDAwMDBweFwiXG4gICAgfSBlbHNlIGlmICh2aWV3LmN1cnNvcldyYXBwZXIuZGVjby5wb3MgIT0gJGhlYWQucG9zKSB7XG4gICAgICBkb20gPSB2aWV3LmN1cnNvcldyYXBwZXIuZG9tXG4gICAgfVxuICAgIGlmIChkb20pXG4gICAgICB2aWV3LmN1cnNvcldyYXBwZXIgPSB7ZG9tLCBkZWNvOiBEZWNvcmF0aW9uLndpZGdldCgkaGVhZC5wb3MsIGRvbSwge3JhdzogdHJ1ZX0pfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEVkaXRhYmxlKHZpZXcpIHtcbiAgcmV0dXJuICF2aWV3LnNvbWVQcm9wKFwiZWRpdGFibGVcIiwgdmFsdWUgPT4gdmFsdWUodmlldy5zdGF0ZSkgPT09IGZhbHNlKVxufVxuXG5mdW5jdGlvbiBzZWxlY3Rpb25Db250ZXh0Q2hhbmdlZChzZWwxLCBzZWwyKSB7XG4gIGxldCBkZXB0aCA9IE1hdGgubWluKHNlbDEuJGFuY2hvci5zaGFyZWREZXB0aChzZWwxLmhlYWQpLCBzZWwyLiRhbmNob3Iuc2hhcmVkRGVwdGgoc2VsMi5oZWFkKSlcbiAgcmV0dXJuIHNlbDEuJGFuY2hvci5ub2RlKGRlcHRoKSAhPSBzZWwyLiRhbmNob3Iubm9kZShkZXB0aClcbn1cblxuZnVuY3Rpb24gYnVpbGROb2RlVmlld3Modmlldykge1xuICBsZXQgcmVzdWx0ID0ge31cbiAgdmlldy5zb21lUHJvcChcIm5vZGVWaWV3c1wiLCBvYmogPT4ge1xuICAgIGZvciAobGV0IHByb3AgaW4gb2JqKSBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHByb3ApKVxuICAgICAgcmVzdWx0W3Byb3BdID0gb2JqW3Byb3BdXG4gIH0pXG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gY2hhbmdlZE5vZGVWaWV3cyhhLCBiKSB7XG4gIGxldCBuQSA9IDAsIG5CID0gMFxuICBmb3IgKGxldCBwcm9wIGluIGEpIHtcbiAgICBpZiAoYVtwcm9wXSAhPSBiW3Byb3BdKSByZXR1cm4gdHJ1ZVxuICAgIG5BKytcbiAgfVxuICBmb3IgKGxldCBfIGluIGIpIG5CKytcbiAgcmV0dXJuIG5BICE9IG5CXG59XG5cbi8vIEVkaXRvclByb3BzOjogaW50ZXJmYWNlXG4vL1xuLy8gUHJvcHMgYXJlIGNvbmZpZ3VyYXRpb24gdmFsdWVzIHRoYXQgY2FuIGJlIHBhc3NlZCB0byBhbiBlZGl0b3Igdmlld1xuLy8gb3IgaW5jbHVkZWQgaW4gYSBwbHVnaW4uIFRoaXMgaW50ZXJmYWNlIGxpc3RzIHRoZSBzdXBwb3J0ZWQgcHJvcHMuXG4vL1xuLy8gVGhlIHZhcmlvdXMgZXZlbnQtaGFuZGxpbmcgZnVuY3Rpb25zIG1heSBhbGwgcmV0dXJuIGB0cnVlYCB0b1xuLy8gaW5kaWNhdGUgdGhhdCB0aGV5IGhhbmRsZWQgdGhlIGdpdmVuIGV2ZW50LiBUaGUgdmlldyB3aWxsIHRoZW4gdGFrZVxuLy8gY2FyZSB0byBjYWxsIGBwcmV2ZW50RGVmYXVsdGAgb24gdGhlIGV2ZW50LCBleGNlcHQgd2l0aFxuLy8gYGhhbmRsZURPTUV2ZW50c2AsIHdoZXJlIHRoZSBoYW5kbGVyIGl0c2VsZiBpcyByZXNwb25zaWJsZSBmb3IgdGhhdC5cbi8vXG4vLyBIb3cgYSBwcm9wIGlzIHJlc29sdmVkIGRlcGVuZHMgb24gdGhlIHByb3AuIEhhbmRsZXIgZnVuY3Rpb25zIGFyZVxuLy8gY2FsbGVkIG9uZSBhdCBhIHRpbWUsIHN0YXJ0aW5nIHdpdGggdGhlIGJhc2UgcHJvcHMgYW5kIHRoZW5cbi8vIHNlYXJjaGluZyB0aHJvdWdoIHRoZSBwbHVnaW5zIChpbiBvcmRlciBvZiBhcHBlYXJhbmNlKSB1bnRpbCBvbmUgb2Zcbi8vIHRoZW0gcmV0dXJucyB0cnVlLiBGb3Igc29tZSBwcm9wcywgdGhlIGZpcnN0IHBsdWdpbiB0aGF0IHlpZWxkcyBhXG4vLyB2YWx1ZSBnZXRzIHByZWNlZGVuY2UuXG4vL1xuLy8gICBoYW5kbGVET01FdmVudHM6OiA/T2JqZWN0PCh2aWV3OiBFZGl0b3JWaWV3LCBldmVudDogZG9tLkV2ZW50KSDihpIgYm9vbD5cbi8vICAgQ2FuIGJlIGFuIG9iamVjdCBtYXBwaW5nIERPTSBldmVudCB0eXBlIG5hbWVzIHRvIGZ1bmN0aW9ucyB0aGF0XG4vLyAgIGhhbmRsZSB0aGVtLiBTdWNoIGZ1bmN0aW9ucyB3aWxsIGJlIGNhbGxlZCBiZWZvcmUgYW55IGhhbmRsaW5nXG4vLyAgIFByb3NlTWlycm9yIGRvZXMgb2YgZXZlbnRzIGZpcmVkIG9uIHRoZSBlZGl0YWJsZSBET00gZWxlbWVudC5cbi8vICAgQ29udHJhcnkgdG8gdGhlIG90aGVyIGV2ZW50IGhhbmRsaW5nIHByb3BzLCB3aGVuIHJldHVybmluZyB0cnVlXG4vLyAgIGZyb20gc3VjaCBhIGZ1bmN0aW9uLCB5b3UgYXJlIHJlc3BvbnNpYmxlIGZvciBjYWxsaW5nXG4vLyAgIGBwcmV2ZW50RGVmYXVsdGAgeW91cnNlbGYgKG9yIG5vdCwgaWYgeW91IHdhbnQgdG8gYWxsb3cgdGhlXG4vLyAgIGRlZmF1bHQgYmVoYXZpb3IpLlxuLy9cbi8vICAgaGFuZGxlS2V5RG93bjo6ID8odmlldzogRWRpdG9yVmlldywgZXZlbnQ6IGRvbS5LZXlib2FyZEV2ZW50KSDihpIgYm9vbFxuLy8gICBDYWxsZWQgd2hlbiB0aGUgZWRpdG9yIHJlY2VpdmVzIGEgYGtleWRvd25gIGV2ZW50LlxuLy9cbi8vICAgaGFuZGxlS2V5UHJlc3M6OiA/KHZpZXc6IEVkaXRvclZpZXcsIGV2ZW50OiBkb20uS2V5Ym9hcmRFdmVudCkg4oaSIGJvb2xcbi8vICAgSGFuZGxlciBmb3IgYGtleXByZXNzYCBldmVudHMuXG4vL1xuLy8gICBoYW5kbGVUZXh0SW5wdXQ6OiA/KHZpZXc6IEVkaXRvclZpZXcsIGZyb206IG51bWJlciwgdG86IG51bWJlciwgdGV4dDogc3RyaW5nKSDihpIgYm9vbFxuLy8gICBXaGVuZXZlciB0aGUgdXNlciBkaXJlY3RseSBpbnB1dCB0ZXh0LCB0aGlzIGhhbmRsZXIgaXMgY2FsbGVkXG4vLyAgIGJlZm9yZSB0aGUgaW5wdXQgaXMgYXBwbGllZC4gSWYgaXQgcmV0dXJucyBgdHJ1ZWAsIHRoZSBkZWZhdWx0XG4vLyAgIGJlaGF2aW9yIG9mIGFjdHVhbGx5IGluc2VydGluZyB0aGUgdGV4dCBpcyBzdXBwcmVzc2VkLlxuLy9cbi8vICAgaGFuZGxlQ2xpY2tPbjo6ID8odmlldzogRWRpdG9yVmlldywgcG9zOiBudW1iZXIsIG5vZGU6IE5vZGUsIG5vZGVQb3M6IG51bWJlciwgZXZlbnQ6IGRvbS5Nb3VzZUV2ZW50LCBkaXJlY3Q6IGJvb2wpIOKGkiBib29sXG4vLyAgIENhbGxlZCBmb3IgZWFjaCBub2RlIGFyb3VuZCBhIGNsaWNrLCBmcm9tIHRoZSBpbnNpZGUgb3V0LiBUaGVcbi8vICAgYGRpcmVjdGAgZmxhZyB3aWxsIGJlIHRydWUgZm9yIHRoZSBpbm5lciBub2RlLlxuLy9cbi8vICAgaGFuZGxlQ2xpY2s6OiA/KHZpZXc6IEVkaXRvclZpZXcsIHBvczogbnVtYmVyLCBldmVudDogZG9tLk1vdXNlRXZlbnQpIOKGkiBib29sXG4vLyAgIENhbGxlZCB3aGVuIHRoZSBlZGl0b3IgaXMgY2xpY2tlZCwgYWZ0ZXIgYGhhbmRsZUNsaWNrT25gIGhhbmRsZXJzXG4vLyAgIGhhdmUgYmVlbiBjYWxsZWQuXG4vL1xuLy8gICBoYW5kbGVEb3VibGVDbGlja09uOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBwb3M6IG51bWJlciwgbm9kZTogTm9kZSwgbm9kZVBvczogbnVtYmVyLCBldmVudDogZG9tLk1vdXNlRXZlbnQsIGRpcmVjdDogYm9vbCkg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIGZvciBlYWNoIG5vZGUgYXJvdW5kIGEgZG91YmxlIGNsaWNrLlxuLy9cbi8vICAgaGFuZGxlRG91YmxlQ2xpY2s6OiA/KHZpZXc6IEVkaXRvclZpZXcsIHBvczogbnVtYmVyLCBldmVudDogZG9tLk1vdXNlRXZlbnQpIOKGkiBib29sXG4vLyAgIENhbGxlZCB3aGVuIHRoZSBlZGl0b3IgaXMgZG91YmxlLWNsaWNrZWQsIGFmdGVyIGBoYW5kbGVEb3VibGVDbGlja09uYC5cbi8vXG4vLyAgIGhhbmRsZVRyaXBsZUNsaWNrT246OiA/KHZpZXc6IEVkaXRvclZpZXcsIHBvczogbnVtYmVyLCBub2RlOiBOb2RlLCBub2RlUG9zOiBudW1iZXIsIGV2ZW50OiBkb20uTW91c2VFdmVudCwgZGlyZWN0OiBib29sKSDihpIgYm9vbFxuLy8gICBDYWxsZWQgZm9yIGVhY2ggbm9kZSBhcm91bmQgYSB0cmlwbGUgY2xpY2suXG4vL1xuLy8gICBoYW5kbGVUcmlwbGVDbGljazo6ID8odmlldzogRWRpdG9yVmlldywgcG9zOiBudW1iZXIsIGV2ZW50OiBkb20uTW91c2VFdmVudCkg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIHdoZW4gdGhlIGVkaXRvciBpcyB0cmlwbGUtY2xpY2tlZCwgYWZ0ZXIgYGhhbmRsZVRyaXBsZUNsaWNrT25gLlxuLy9cbi8vICAgaGFuZGxlUGFzdGU6OiA/KHZpZXc6IEVkaXRvclZpZXcsIGV2ZW50OiBkb20uRXZlbnQsIHNsaWNlOiBTbGljZSkg4oaSIGJvb2xcbi8vICAgQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlIGJlaGF2aW9yIG9mIHBhc3RpbmcuIGBzbGljZWAgaXMgdGhlXG4vLyAgIHBhc3RlZCBjb250ZW50IHBhcnNlZCBieSB0aGUgZWRpdG9yLCBidXQgeW91IGNhbiBkaXJlY3RseSBhY2Nlc3Ncbi8vICAgdGhlIGV2ZW50IHRvIGdldCBhdCB0aGUgcmF3IGNvbnRlbnQuXG4vL1xuLy8gICBoYW5kbGVEcm9wOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBldmVudDogZG9tLkV2ZW50LCBzbGljZTogU2xpY2UsIG1vdmVkOiBib29sKSDihpIgYm9vbFxuLy8gICBDYWxsZWQgd2hlbiBzb21ldGhpbmcgaXMgZHJvcHBlZCBvbiB0aGUgZWRpdG9yLiBgbW92ZWRgIHdpbGwgYmVcbi8vICAgdHJ1ZSBpZiB0aGlzIGRyb3AgbW92ZXMgZnJvbSB0aGUgY3VycmVudCBzZWxlY3Rpb24gKHdoaWNoIHNob3VsZFxuLy8gICB0aHVzIGJlIGRlbGV0ZWQpLlxuLy9cbi8vICAgaGFuZGxlU2Nyb2xsVG9TZWxlY3Rpb246OiA/KHZpZXc6IEVkaXRvclZpZXcpIOKGkiBib29sXG4vLyAgIENhbGxlZCB3aGVuIHRoZSB2aWV3LCBhZnRlciB1cGRhdGluZyBpdHMgc3RhdGUsIHRyaWVzIHRvIHNjcm9sbFxuLy8gICB0aGUgc2VsZWN0aW9uIGludG8gdmlldy4gQSBoYW5kbGVyIGZ1bmN0aW9uIG1heSByZXR1cm4gZmFsc2UgdG9cbi8vICAgaW5kaWNhdGUgdGhhdCBpdCBkaWQgbm90IGhhbmRsZSB0aGUgc2Nyb2xsaW5nIGFuZCBmdXJ0aGVyXG4vLyAgIGhhbmRsZXJzIG9yIHRoZSBkZWZhdWx0IGJlaGF2aW9yIHNob3VsZCBiZSB0cmllZC5cbi8vXG4vLyAgIGNyZWF0ZVNlbGVjdGlvbkJldHdlZW46OiA/KHZpZXc6IEVkaXRvclZpZXcsIGFuY2hvcjogUmVzb2x2ZWRQb3MsIGhlYWQ6IFJlc29sdmVkUG9zKSDihpIgP1NlbGVjdGlvblxuLy8gICBDYW4gYmUgdXNlZCB0byBvdmVycmlkZSB0aGUgd2F5IGEgc2VsZWN0aW9uIGlzIGNyZWF0ZWQgd2hlblxuLy8gICByZWFkaW5nIGEgRE9NIHNlbGVjdGlvbiBiZXR3ZWVuIHRoZSBnaXZlbiBhbmNob3IgYW5kIGhlYWQuXG4vL1xuLy8gICBkb21QYXJzZXI6OiA/RE9NUGFyc2VyXG4vLyAgIFRoZSBbcGFyc2VyXSgjbW9kZWwuRE9NUGFyc2VyKSB0byB1c2Ugd2hlbiByZWFkaW5nIGVkaXRvciBjaGFuZ2VzXG4vLyAgIGZyb20gdGhlIERPTS4gRGVmYXVsdHMgdG8gY2FsbGluZ1xuLy8gICBbYERPTVBhcnNlci5mcm9tU2NoZW1hYF0oI21vZGVsLkRPTVBhcnNlcl5mcm9tU2NoZW1hKSBvbiB0aGVcbi8vICAgZWRpdG9yJ3Mgc2NoZW1hLlxuLy9cbi8vICAgdHJhbnNmb3JtUGFzdGVkSFRNTDo6ID8oaHRtbDogc3RyaW5nKSDihpIgc3RyaW5nXG4vLyAgIENhbiBiZSB1c2VkIHRvIHRyYW5zZm9ybSBwYXN0ZWQgSFRNTCB0ZXh0LCBfYmVmb3JlXyBpdCBpcyBwYXJzZWQsXG4vLyAgIGZvciBleGFtcGxlIHRvIGNsZWFuIGl0IHVwLlxuLy9cbi8vICAgY2xpcGJvYXJkUGFyc2VyOjogP0RPTVBhcnNlclxuLy8gICBUaGUgW3BhcnNlcl0oI21vZGVsLkRPTVBhcnNlcikgdG8gdXNlIHdoZW4gcmVhZGluZyBjb250ZW50IGZyb21cbi8vICAgdGhlIGNsaXBib2FyZC4gV2hlbiBub3QgZ2l2ZW4sIHRoZSB2YWx1ZSBvZiB0aGVcbi8vICAgW2Bkb21QYXJzZXJgXSgjdmlldy5FZGl0b3JQcm9wcy5kb21QYXJzZXIpIHByb3AgaXMgdXNlZC5cbi8vXG4vLyAgIHRyYW5zZm9ybVBhc3RlZFRleHQ6OiA/KHRleHQ6IHN0cmluZykg4oaSIHN0cmluZ1xuLy8gICBUcmFuc2Zvcm0gcGFzdGVkIHBsYWluIHRleHQuXG4vL1xuLy8gICBjbGlwYm9hcmRUZXh0UGFyc2VyOjogPyh0ZXh0OiBzdHJpbmcsICRjb250ZXh0OiBSZXNvbHZlZFBvcykg4oaSIFNsaWNlXG4vLyAgIEEgZnVuY3Rpb24gdG8gcGFyc2UgdGV4dCBmcm9tIHRoZSBjbGlwYm9hcmQgaW50byBhIGRvY3VtZW50XG4vLyAgIHNsaWNlLiBDYWxsZWQgYWZ0ZXJcbi8vICAgW2B0cmFuc2Zvcm1QYXN0ZWRUZXh0YF0oI3ZpZXcuRWRpdG9yUHJvcHMudHJhbnNmb3JtUGFzdGVkVGV4dCkuXG4vLyAgIFRoZSBkZWZhdWx0IGJlaGF2aW9yIGlzIHRvIHNwbGl0IHRoZSB0ZXh0IGludG8gbGluZXMsIHdyYXAgdGhlbVxuLy8gICBpbiBgPHA+YCB0YWdzLCBhbmQgY2FsbFxuLy8gICBbYGNsaXBib2FyZFBhcnNlcmBdKCN2aWV3LkVkaXRvclByb3BzLmNsaXBib2FyZFBhcnNlcikgb24gaXQuXG4vL1xuLy8gICB0cmFuc2Zvcm1QYXN0ZWQ6OiA/KFNsaWNlKSDihpIgU2xpY2Vcbi8vICAgQ2FuIGJlIHVzZWQgdG8gdHJhbnNmb3JtIHBhc3RlZCBjb250ZW50IGJlZm9yZSBpdCBpcyBhcHBsaWVkIHRvXG4vLyAgIHRoZSBkb2N1bWVudC5cbi8vXG4vLyAgIG5vZGVWaWV3czo6ID9PYmplY3Q8KG5vZGU6IE5vZGUsIHZpZXc6IEVkaXRvclZpZXcsIGdldFBvczogKCkg4oaSIG51bWJlciwgZGVjb3JhdGlvbnM6IFtEZWNvcmF0aW9uXSkg4oaSIE5vZGVWaWV3PlxuLy8gICBBbGxvd3MgeW91IHRvIHBhc3MgY3VzdG9tIHJlbmRlcmluZyBhbmQgYmVoYXZpb3IgbG9naWMgZm9yIG5vZGVzXG4vLyAgIGFuZCBtYXJrcy4gU2hvdWxkIG1hcCBub2RlIGFuZCBtYXJrIG5hbWVzIHRvIGNvbnN0cnVjdG9yXG4vLyAgIGZ1bmN0aW9ucyB0aGF0IHByb2R1Y2UgYSBbYE5vZGVWaWV3YF0oI3ZpZXcuTm9kZVZpZXcpIG9iamVjdFxuLy8gICBpbXBsZW1lbnRpbmcgdGhlIG5vZGUncyBkaXNwbGF5IGJlaGF2aW9yLiBGb3Igbm9kZXMsIHRoZSB0aGlyZFxuLy8gICBhcmd1bWVudCBgZ2V0UG9zYCBpcyBhIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB0byBnZXQgdGhlXG4vLyAgIG5vZGUncyBjdXJyZW50IHBvc2l0aW9uLCB3aGljaCBjYW4gYmUgdXNlZnVsIHdoZW4gY3JlYXRpbmdcbi8vICAgdHJhbnNhY3Rpb25zIHRvIHVwZGF0ZSBpdC4gRm9yIG1hcmtzLCB0aGUgdGhpcmQgYXJndW1lbnQgaXMgYVxuLy8gICBib29sZWFuIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIG1hcmsncyBjb250ZW50IGlzIGlubGluZS5cbi8vXG4vLyAgIGBkZWNvcmF0aW9uc2AgaXMgYW4gYXJyYXkgb2Ygbm9kZSBvciBpbmxpbmUgZGVjb3JhdGlvbnMgdGhhdCBhcmVcbi8vICAgYWN0aXZlIGFyb3VuZCB0aGUgbm9kZS4gVGhleSBhcmUgYXV0b21hdGljYWxseSBkcmF3biBpbiB0aGVcbi8vICAgbm9ybWFsIHdheSwgYW5kIHlvdSB3aWxsIHVzdWFsbHkganVzdCB3YW50IHRvIGlnbm9yZSB0aGlzLCBidXRcbi8vICAgdGhleSBjYW4gYWxzbyBiZSB1c2VkIGFzIGEgd2F5IHRvIHByb3ZpZGUgY29udGV4dCBpbmZvcm1hdGlvbiB0b1xuLy8gICB0aGUgbm9kZSB2aWV3IHdpdGhvdXQgYWRkaW5nIGl0IHRvIHRoZSBkb2N1bWVudCBpdHNlbGYuXG4vL1xuLy8gICBjbGlwYm9hcmRTZXJpYWxpemVyOjogP0RPTVNlcmlhbGl6ZXJcbi8vICAgVGhlIERPTSBzZXJpYWxpemVyIHRvIHVzZSB3aGVuIHB1dHRpbmcgY29udGVudCBvbnRvIHRoZVxuLy8gICBjbGlwYm9hcmQuIElmIG5vdCBnaXZlbiwgdGhlIHJlc3VsdCBvZlxuLy8gICBbYERPTVNlcmlhbGl6ZXIuZnJvbVNjaGVtYWBdKCNtb2RlbC5ET01TZXJpYWxpemVyXmZyb21TY2hlbWEpXG4vLyAgIHdpbGwgYmUgdXNlZC5cbi8vXG4vLyAgIGNsaXBib2FyZFRleHRTZXJpYWxpemVyOjogPyhTbGljZSkg4oaSIHN0cmluZ1xuLy8gICBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgdG8gZ2V0IHRoZSB0ZXh0IGZvciB0aGUgY3VycmVudFxuLy8gICBzZWxlY3Rpb24gd2hlbiBjb3B5aW5nIHRleHQgdG8gdGhlIGNsaXBib2FyZC4gQnkgZGVmYXVsdCwgdGhlXG4vLyAgIGVkaXRvciB3aWxsIHVzZSBbYHRleHRCZXR3ZWVuYF0oI21vZGVsLk5vZGUudGV4dEJldHdlZW4pIG9uIHRoZVxuLy8gICBzZWxlY3RlZCByYW5nZS5cbi8vXG4vLyAgIGRlY29yYXRpb25zOjogPyhzdGF0ZTogRWRpdG9yU3RhdGUpIOKGkiA/RGVjb3JhdGlvblNldFxuLy8gICBBIHNldCBvZiBbZG9jdW1lbnQgZGVjb3JhdGlvbnNdKCN2aWV3LkRlY29yYXRpb24pIHRvIHNob3cgaW4gdGhlXG4vLyAgIHZpZXcuXG4vL1xuLy8gICBlZGl0YWJsZTo6ID8oc3RhdGU6IEVkaXRvclN0YXRlKSDihpIgYm9vbFxuLy8gICBXaGVuIHRoaXMgcmV0dXJucyBmYWxzZSwgdGhlIGNvbnRlbnQgb2YgdGhlIHZpZXcgaXMgbm90IGRpcmVjdGx5XG4vLyAgIGVkaXRhYmxlLlxuLy9cbi8vICAgYXR0cmlidXRlczo6ID91bmlvbjxPYmplY3Q8c3RyaW5nPiwgKEVkaXRvclN0YXRlKSDihpIgP09iamVjdDxzdHJpbmc+PlxuLy8gICBDb250cm9sIHRoZSBET00gYXR0cmlidXRlcyBvZiB0aGUgZWRpdGFibGUgZWxlbWVudC4gTWF5IGJlIGVpdGhlclxuLy8gICBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiBnb2luZyBmcm9tIGFuIGVkaXRvciBzdGF0ZSB0byBhbiBvYmplY3QuXG4vLyAgIEJ5IGRlZmF1bHQsIHRoZSBlbGVtZW50IHdpbGwgZ2V0IGEgY2xhc3MgYFwiUHJvc2VNaXJyb3JcImAsIGFuZFxuLy8gICB3aWxsIGhhdmUgaXRzIGBjb250ZW50RWRpdGFibGVgIGF0dHJpYnV0ZSBkZXRlcm1pbmVkIGJ5IHRoZVxuLy8gICBbYGVkaXRhYmxlYCBwcm9wXSgjdmlldy5FZGl0b3JQcm9wcy5lZGl0YWJsZSkuIEFkZGl0aW9uYWwgY2xhc3Nlc1xuLy8gICBwcm92aWRlZCBoZXJlIHdpbGwgYmUgYWRkZWQgdG8gdGhlIGNsYXNzLiBGb3Igb3RoZXIgYXR0cmlidXRlcyxcbi8vICAgdGhlIHZhbHVlIHByb3ZpZGVkIGZpcnN0IChhcyBpblxuLy8gICBbYHNvbWVQcm9wYF0oI3ZpZXcuRWRpdG9yVmlldy5zb21lUHJvcCkpIHdpbGwgYmUgdXNlZC5cbi8vXG4vLyAgIHNjcm9sbFRocmVzaG9sZDo6ID91bmlvbjxudW1iZXIsIHt0b3A6IG51bWJlciwgcmlnaHQ6IG51bWJlciwgYm90dG9tOiBudW1iZXIsIGxlZnQ6IG51bWJlcn0+XG4vLyAgIERldGVybWluZXMgdGhlIGRpc3RhbmNlIChpbiBwaXhlbHMpIGJldHdlZW4gdGhlIGN1cnNvciBhbmQgdGhlXG4vLyAgIGVuZCBvZiB0aGUgdmlzaWJsZSB2aWV3cG9ydCBhdCB3aGljaCBwb2ludCwgd2hlbiBzY3JvbGxpbmcgdGhlXG4vLyAgIGN1cnNvciBpbnRvIHZpZXcsIHNjcm9sbGluZyB0YWtlcyBwbGFjZS4gRGVmYXVsdHMgdG8gMC5cbi8vXG4vLyAgIHNjcm9sbE1hcmdpbjo6ID91bmlvbjxudW1iZXIsIHt0b3A6IG51bWJlciwgcmlnaHQ6IG51bWJlciwgYm90dG9tOiBudW1iZXIsIGxlZnQ6IG51bWJlcn0+XG4vLyAgIERldGVybWluZXMgdGhlIGV4dHJhIHNwYWNlIChpbiBwaXhlbHMpIHRoYXQgaXMgbGVmdCBhYm92ZSBvclxuLy8gICBiZWxvdyB0aGUgY3Vyc29yIHdoZW4gaXQgaXMgc2Nyb2xsZWQgaW50byB2aWV3LiBEZWZhdWx0cyB0byA1LlxuXG4vLyBEaXJlY3RFZGl0b3JQcm9wczo6IGludGVyZmFjZSBleHRlbmRzIEVkaXRvclByb3BzXG4vL1xuLy8gVGhlIHByb3BzIG9iamVjdCBnaXZlbiBkaXJlY3RseSB0byB0aGUgZWRpdG9yIHZpZXcgc3VwcG9ydHMgdHdvXG4vLyBmaWVsZHMgdGhhdCBjYW4ndCBiZSB1c2VkIGluIHBsdWdpbnM6XG4vL1xuLy8gICBzdGF0ZTo6IEVkaXRvclN0YXRlXG4vLyAgIFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBlZGl0b3IuXG4vL1xuLy8gICBkaXNwYXRjaFRyYW5zYWN0aW9uOjogPyh0cjogVHJhbnNhY3Rpb24pXG4vLyAgIFRoZSBjYWxsYmFjayBvdmVyIHdoaWNoIHRvIHNlbmQgdHJhbnNhY3Rpb25zIChzdGF0ZSB1cGRhdGVzKVxuLy8gICBwcm9kdWNlZCBieSB0aGUgdmlldy4gSWYgeW91IHNwZWNpZnkgdGhpcywgeW91IHByb2JhYmx5IHdhbnQgdG9cbi8vICAgbWFrZSBzdXJlIHRoaXMgZW5kcyB1cCBjYWxsaW5nIHRoZSB2aWV3J3Ncbi8vICAgW2B1cGRhdGVTdGF0ZWBdKCN2aWV3LkVkaXRvclZpZXcudXBkYXRlU3RhdGUpIG1ldGhvZCB3aXRoIGEgbmV3XG4vLyAgIHN0YXRlIHRoYXQgaGFzIHRoZSB0cmFuc2FjdGlvblxuLy8gICBbYXBwbGllZF0oI3N0YXRlLkVkaXRvclN0YXRlLmFwcGx5KS4gVGhlIGNhbGxiYWNrIHdpbGwgYmUgYm91bmQgdG8gaGF2ZVxuLy8gICB0aGUgdmlldyBpbnN0YW5jZSBhcyBpdHMgYHRoaXNgIGJpbmRpbmcuXG4iLCJ2YXIgR09PRF9MRUFGX1NJWkUgPSAyMDA7XG5cbi8vIDo6IGNsYXNzPFQ+IEEgcm9wZSBzZXF1ZW5jZSBpcyBhIHBlcnNpc3RlbnQgc2VxdWVuY2UgZGF0YSBzdHJ1Y3R1cmVcbi8vIHRoYXQgc3VwcG9ydHMgYXBwZW5kaW5nLCBwcmVwZW5kaW5nLCBhbmQgc2xpY2luZyB3aXRob3V0IGRvaW5nIGFcbi8vIGZ1bGwgY29weS4gSXQgaXMgcmVwcmVzZW50ZWQgYXMgYSBtb3N0bHktYmFsYW5jZWQgdHJlZS5cbnZhciBSb3BlU2VxdWVuY2UgPSBmdW5jdGlvbiBSb3BlU2VxdWVuY2UgKCkge307XG5cblJvcGVTZXF1ZW5jZS5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kIChvdGhlcikge1xuICBpZiAoIW90aGVyLmxlbmd0aCkgeyByZXR1cm4gdGhpcyB9XG4gIG90aGVyID0gUm9wZVNlcXVlbmNlLmZyb20ob3RoZXIpO1xuXG4gIHJldHVybiAoIXRoaXMubGVuZ3RoICYmIG90aGVyKSB8fFxuICAgIChvdGhlci5sZW5ndGggPCBHT09EX0xFQUZfU0laRSAmJiB0aGlzLmxlYWZBcHBlbmQob3RoZXIpKSB8fFxuICAgICh0aGlzLmxlbmd0aCA8IEdPT0RfTEVBRl9TSVpFICYmIG90aGVyLmxlYWZQcmVwZW5kKHRoaXMpKSB8fFxuICAgIHRoaXMuYXBwZW5kSW5uZXIob3RoZXIpXG59O1xuXG4vLyA6OiAodW5pb248W1RdLCBSb3BlU2VxdWVuY2U8VD4+KSDihpIgUm9wZVNlcXVlbmNlPFQ+XG4vLyBQcmVwZW5kIGFuIGFycmF5IG9yIG90aGVyIHJvcGUgdG8gdGhpcyBvbmUsIHJldHVybmluZyBhIG5ldyByb3BlLlxuUm9wZVNlcXVlbmNlLnByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24gcHJlcGVuZCAob3RoZXIpIHtcbiAgaWYgKCFvdGhlci5sZW5ndGgpIHsgcmV0dXJuIHRoaXMgfVxuICByZXR1cm4gUm9wZVNlcXVlbmNlLmZyb20ob3RoZXIpLmFwcGVuZCh0aGlzKVxufTtcblxuUm9wZVNlcXVlbmNlLnByb3RvdHlwZS5hcHBlbmRJbm5lciA9IGZ1bmN0aW9uIGFwcGVuZElubmVyIChvdGhlcikge1xuICByZXR1cm4gbmV3IEFwcGVuZCh0aGlzLCBvdGhlcilcbn07XG5cbi8vIDo6ICg/bnVtYmVyLCA/bnVtYmVyKSDihpIgUm9wZVNlcXVlbmNlPFQ+XG4vLyBDcmVhdGUgYSByb3BlIHJlcGVzZW50aW5nIGEgc3ViLXNlcXVlbmNlIG9mIHRoaXMgcm9wZS5cblJvcGVTZXF1ZW5jZS5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoZnJvbSwgdG8pIHtcbiAgICBpZiAoIGZyb20gPT09IHZvaWQgMCApIGZyb20gPSAwO1xuICAgIGlmICggdG8gPT09IHZvaWQgMCApIHRvID0gdGhpcy5sZW5ndGg7XG5cbiAgaWYgKGZyb20gPj0gdG8pIHsgcmV0dXJuIFJvcGVTZXF1ZW5jZS5lbXB0eSB9XG4gIHJldHVybiB0aGlzLnNsaWNlSW5uZXIoTWF0aC5tYXgoMCwgZnJvbSksIE1hdGgubWluKHRoaXMubGVuZ3RoLCB0bykpXG59O1xuXG4vLyA6OiAobnVtYmVyKSDihpIgVFxuLy8gUmV0cmlldmUgdGhlIGVsZW1lbnQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uIGZyb20gdGhpcyByb3BlLlxuUm9wZVNlcXVlbmNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGkpIHtcbiAgaWYgKGkgPCAwIHx8IGkgPj0gdGhpcy5sZW5ndGgpIHsgcmV0dXJuIHVuZGVmaW5lZCB9XG4gIHJldHVybiB0aGlzLmdldElubmVyKGkpXG59O1xuXG4vLyA6OiAoKGVsZW1lbnQ6IFQsIGluZGV4OiBudW1iZXIpIOKGkiA/Ym9vbCwgP251bWJlciwgP251bWJlcilcbi8vIENhbGwgdGhlIGdpdmVuIGZ1bmN0aW9uIGZvciBlYWNoIGVsZW1lbnQgYmV0d2VlbiB0aGUgZ2l2ZW5cbi8vIGluZGljZXMuIFRoaXMgdGVuZHMgdG8gYmUgbW9yZSBlZmZpY2llbnQgdGhhbiBsb29waW5nIG92ZXIgdGhlXG4vLyBpbmRpY2VzIGFuZCBjYWxsaW5nIGBnZXRgLCBiZWNhdXNlIGl0IGRvZXNuJ3QgaGF2ZSB0byBkZXNjZW5kIHRoZVxuLy8gdHJlZSBmb3IgZXZlcnkgZWxlbWVudC5cblJvcGVTZXF1ZW5jZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIGZvckVhY2ggKGYsIGZyb20sIHRvKSB7XG4gICAgaWYgKCBmcm9tID09PSB2b2lkIDAgKSBmcm9tID0gMDtcbiAgICBpZiAoIHRvID09PSB2b2lkIDAgKSB0byA9IHRoaXMubGVuZ3RoO1xuXG4gIGlmIChmcm9tIDw9IHRvKVxuICAgIHsgdGhpcy5mb3JFYWNoSW5uZXIoZiwgZnJvbSwgdG8sIDApOyB9XG4gIGVsc2VcbiAgICB7IHRoaXMuZm9yRWFjaEludmVydGVkSW5uZXIoZiwgZnJvbSwgdG8sIDApOyB9XG59O1xuXG4vLyA6OiAoKGVsZW1lbnQ6IFQsIGluZGV4OiBudW1iZXIpIOKGkiBVLCA/bnVtYmVyLCA/bnVtYmVyKSDihpIgW1VdXG4vLyBNYXAgdGhlIGdpdmVuIGZ1bmN0aW9ucyBvdmVyIHRoZSBlbGVtZW50cyBvZiB0aGUgcm9wZSwgcHJvZHVjaW5nXG4vLyBhIGZsYXQgYXJyYXkuXG5Sb3BlU2VxdWVuY2UucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCAoZiwgZnJvbSwgdG8pIHtcbiAgICBpZiAoIGZyb20gPT09IHZvaWQgMCApIGZyb20gPSAwO1xuICAgIGlmICggdG8gPT09IHZvaWQgMCApIHRvID0gdGhpcy5sZW5ndGg7XG5cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsdCwgaSkgeyByZXR1cm4gcmVzdWx0LnB1c2goZihlbHQsIGkpKTsgfSwgZnJvbSwgdG8pO1xuICByZXR1cm4gcmVzdWx0XG59O1xuXG4vLyA6OiAoP3VuaW9uPFtUXSwgUm9wZVNlcXVlbmNlPFQ+Pikg4oaSIFJvcGVTZXF1ZW5jZTxUPlxuLy8gQ3JlYXRlIGEgcm9wZSByZXByZXNlbnRpbmcgdGhlIGdpdmVuIGFycmF5LCBvciByZXR1cm4gdGhlIHJvcGVcbi8vIGl0c2VsZiBpZiBhIHJvcGUgd2FzIGdpdmVuLlxuUm9wZVNlcXVlbmNlLmZyb20gPSBmdW5jdGlvbiBmcm9tICh2YWx1ZXMpIHtcbiAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFJvcGVTZXF1ZW5jZSkgeyByZXR1cm4gdmFsdWVzIH1cbiAgcmV0dXJuIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoID8gbmV3IExlYWYodmFsdWVzKSA6IFJvcGVTZXF1ZW5jZS5lbXB0eVxufTtcblxudmFyIExlYWYgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChSb3BlU2VxdWVuY2UpIHtcbiAgZnVuY3Rpb24gTGVhZih2YWx1ZXMpIHtcbiAgICBSb3BlU2VxdWVuY2UuY2FsbCh0aGlzKTtcbiAgICB0aGlzLnZhbHVlcyA9IHZhbHVlcztcbiAgfVxuXG4gIGlmICggUm9wZVNlcXVlbmNlICkgTGVhZi5fX3Byb3RvX18gPSBSb3BlU2VxdWVuY2U7XG4gIExlYWYucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUm9wZVNlcXVlbmNlICYmIFJvcGVTZXF1ZW5jZS5wcm90b3R5cGUgKTtcbiAgTGVhZi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMZWFmO1xuXG4gIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGxlbmd0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxkZXB0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gIExlYWYucHJvdG90eXBlLmZsYXR0ZW4gPSBmdW5jdGlvbiBmbGF0dGVuICgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZXNcbiAgfTtcblxuICBMZWFmLnByb3RvdHlwZS5zbGljZUlubmVyID0gZnVuY3Rpb24gc2xpY2VJbm5lciAoZnJvbSwgdG8pIHtcbiAgICBpZiAoZnJvbSA9PSAwICYmIHRvID09IHRoaXMubGVuZ3RoKSB7IHJldHVybiB0aGlzIH1cbiAgICByZXR1cm4gbmV3IExlYWYodGhpcy52YWx1ZXMuc2xpY2UoZnJvbSwgdG8pKVxuICB9O1xuXG4gIExlYWYucHJvdG90eXBlLmdldElubmVyID0gZnVuY3Rpb24gZ2V0SW5uZXIgKGkpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZXNbaV1cbiAgfTtcblxuICBMZWFmLnByb3RvdHlwZS5mb3JFYWNoSW5uZXIgPSBmdW5jdGlvbiBmb3JFYWNoSW5uZXIgKGYsIGZyb20sIHRvLCBzdGFydCkge1xuICAgIGZvciAodmFyIGkgPSBmcm9tOyBpIDwgdG87IGkrKylcbiAgICAgIHsgaWYgKGYodGhpcy52YWx1ZXNbaV0sIHN0YXJ0ICsgaSkgPT09IGZhbHNlKSB7IHJldHVybiBmYWxzZSB9IH1cbiAgfTtcblxuICBMZWFmLnByb3RvdHlwZS5mb3JFYWNoSW52ZXJ0ZWRJbm5lciA9IGZ1bmN0aW9uIGZvckVhY2hJbnZlcnRlZElubmVyIChmLCBmcm9tLCB0bywgc3RhcnQpIHtcbiAgICBmb3IgKHZhciBpID0gZnJvbSAtIDE7IGkgPj0gdG87IGktLSlcbiAgICAgIHsgaWYgKGYodGhpcy52YWx1ZXNbaV0sIHN0YXJ0ICsgaSkgPT09IGZhbHNlKSB7IHJldHVybiBmYWxzZSB9IH1cbiAgfTtcblxuICBMZWFmLnByb3RvdHlwZS5sZWFmQXBwZW5kID0gZnVuY3Rpb24gbGVhZkFwcGVuZCAob3RoZXIpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggKyBvdGhlci5sZW5ndGggPD0gR09PRF9MRUFGX1NJWkUpXG4gICAgICB7IHJldHVybiBuZXcgTGVhZih0aGlzLnZhbHVlcy5jb25jYXQob3RoZXIuZmxhdHRlbigpKSkgfVxuICB9O1xuXG4gIExlYWYucHJvdG90eXBlLmxlYWZQcmVwZW5kID0gZnVuY3Rpb24gbGVhZlByZXBlbmQgKG90aGVyKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoICsgb3RoZXIubGVuZ3RoIDw9IEdPT0RfTEVBRl9TSVpFKVxuICAgICAgeyByZXR1cm4gbmV3IExlYWYob3RoZXIuZmxhdHRlbigpLmNvbmNhdCh0aGlzLnZhbHVlcykpIH1cbiAgfTtcblxuICBwcm90b3R5cGVBY2Nlc3NvcnMubGVuZ3RoLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudmFsdWVzLmxlbmd0aCB9O1xuXG4gIHByb3RvdHlwZUFjY2Vzc29ycy5kZXB0aC5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAwIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIExlYWYucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICByZXR1cm4gTGVhZjtcbn0oUm9wZVNlcXVlbmNlKSk7XG5cbi8vIDo6IFJvcGVTZXF1ZW5jZVxuLy8gVGhlIGVtcHR5IHJvcGUgc2VxdWVuY2UuXG5Sb3BlU2VxdWVuY2UuZW1wdHkgPSBuZXcgTGVhZihbXSk7XG5cbnZhciBBcHBlbmQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChSb3BlU2VxdWVuY2UpIHtcbiAgZnVuY3Rpb24gQXBwZW5kKGxlZnQsIHJpZ2h0KSB7XG4gICAgUm9wZVNlcXVlbmNlLmNhbGwodGhpcyk7XG4gICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgdGhpcy5sZW5ndGggPSBsZWZ0Lmxlbmd0aCArIHJpZ2h0Lmxlbmd0aDtcbiAgICB0aGlzLmRlcHRoID0gTWF0aC5tYXgobGVmdC5kZXB0aCwgcmlnaHQuZGVwdGgpICsgMTtcbiAgfVxuXG4gIGlmICggUm9wZVNlcXVlbmNlICkgQXBwZW5kLl9fcHJvdG9fXyA9IFJvcGVTZXF1ZW5jZTtcbiAgQXBwZW5kLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFJvcGVTZXF1ZW5jZSAmJiBSb3BlU2VxdWVuY2UucHJvdG90eXBlICk7XG4gIEFwcGVuZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBcHBlbmQ7XG5cbiAgQXBwZW5kLnByb3RvdHlwZS5mbGF0dGVuID0gZnVuY3Rpb24gZmxhdHRlbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubGVmdC5mbGF0dGVuKCkuY29uY2F0KHRoaXMucmlnaHQuZmxhdHRlbigpKVxuICB9O1xuXG4gIEFwcGVuZC5wcm90b3R5cGUuZ2V0SW5uZXIgPSBmdW5jdGlvbiBnZXRJbm5lciAoaSkge1xuICAgIHJldHVybiBpIDwgdGhpcy5sZWZ0Lmxlbmd0aCA/IHRoaXMubGVmdC5nZXQoaSkgOiB0aGlzLnJpZ2h0LmdldChpIC0gdGhpcy5sZWZ0Lmxlbmd0aClcbiAgfTtcblxuICBBcHBlbmQucHJvdG90eXBlLmZvckVhY2hJbm5lciA9IGZ1bmN0aW9uIGZvckVhY2hJbm5lciAoZiwgZnJvbSwgdG8sIHN0YXJ0KSB7XG4gICAgdmFyIGxlZnRMZW4gPSB0aGlzLmxlZnQubGVuZ3RoO1xuICAgIGlmIChmcm9tIDwgbGVmdExlbiAmJlxuICAgICAgICB0aGlzLmxlZnQuZm9yRWFjaElubmVyKGYsIGZyb20sIE1hdGgubWluKHRvLCBsZWZ0TGVuKSwgc3RhcnQpID09PSBmYWxzZSlcbiAgICAgIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpZiAodG8gPiBsZWZ0TGVuICYmXG4gICAgICAgIHRoaXMucmlnaHQuZm9yRWFjaElubmVyKGYsIE1hdGgubWF4KGZyb20gLSBsZWZ0TGVuLCAwKSwgTWF0aC5taW4odGhpcy5sZW5ndGgsIHRvKSAtIGxlZnRMZW4sIHN0YXJ0ICsgbGVmdExlbikgPT09IGZhbHNlKVxuICAgICAgeyByZXR1cm4gZmFsc2UgfVxuICB9O1xuXG4gIEFwcGVuZC5wcm90b3R5cGUuZm9yRWFjaEludmVydGVkSW5uZXIgPSBmdW5jdGlvbiBmb3JFYWNoSW52ZXJ0ZWRJbm5lciAoZiwgZnJvbSwgdG8sIHN0YXJ0KSB7XG4gICAgdmFyIGxlZnRMZW4gPSB0aGlzLmxlZnQubGVuZ3RoO1xuICAgIGlmIChmcm9tID4gbGVmdExlbiAmJlxuICAgICAgICB0aGlzLnJpZ2h0LmZvckVhY2hJbnZlcnRlZElubmVyKGYsIGZyb20gLSBsZWZ0TGVuLCBNYXRoLm1heCh0bywgbGVmdExlbikgLSBsZWZ0TGVuLCBzdGFydCArIGxlZnRMZW4pID09PSBmYWxzZSlcbiAgICAgIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpZiAodG8gPCBsZWZ0TGVuICYmXG4gICAgICAgIHRoaXMubGVmdC5mb3JFYWNoSW52ZXJ0ZWRJbm5lcihmLCBNYXRoLm1pbihmcm9tLCBsZWZ0TGVuKSwgdG8sIHN0YXJ0KSA9PT0gZmFsc2UpXG4gICAgICB7IHJldHVybiBmYWxzZSB9XG4gIH07XG5cbiAgQXBwZW5kLnByb3RvdHlwZS5zbGljZUlubmVyID0gZnVuY3Rpb24gc2xpY2VJbm5lciAoZnJvbSwgdG8pIHtcbiAgICBpZiAoZnJvbSA9PSAwICYmIHRvID09IHRoaXMubGVuZ3RoKSB7IHJldHVybiB0aGlzIH1cbiAgICB2YXIgbGVmdExlbiA9IHRoaXMubGVmdC5sZW5ndGg7XG4gICAgaWYgKHRvIDw9IGxlZnRMZW4pIHsgcmV0dXJuIHRoaXMubGVmdC5zbGljZShmcm9tLCB0bykgfVxuICAgIGlmIChmcm9tID49IGxlZnRMZW4pIHsgcmV0dXJuIHRoaXMucmlnaHQuc2xpY2UoZnJvbSAtIGxlZnRMZW4sIHRvIC0gbGVmdExlbikgfVxuICAgIHJldHVybiB0aGlzLmxlZnQuc2xpY2UoZnJvbSwgbGVmdExlbikuYXBwZW5kKHRoaXMucmlnaHQuc2xpY2UoMCwgdG8gLSBsZWZ0TGVuKSlcbiAgfTtcblxuICBBcHBlbmQucHJvdG90eXBlLmxlYWZBcHBlbmQgPSBmdW5jdGlvbiBsZWFmQXBwZW5kIChvdGhlcikge1xuICAgIHZhciBpbm5lciA9IHRoaXMucmlnaHQubGVhZkFwcGVuZChvdGhlcik7XG4gICAgaWYgKGlubmVyKSB7IHJldHVybiBuZXcgQXBwZW5kKHRoaXMubGVmdCwgaW5uZXIpIH1cbiAgfTtcblxuICBBcHBlbmQucHJvdG90eXBlLmxlYWZQcmVwZW5kID0gZnVuY3Rpb24gbGVhZlByZXBlbmQgKG90aGVyKSB7XG4gICAgdmFyIGlubmVyID0gdGhpcy5sZWZ0LmxlYWZQcmVwZW5kKG90aGVyKTtcbiAgICBpZiAoaW5uZXIpIHsgcmV0dXJuIG5ldyBBcHBlbmQoaW5uZXIsIHRoaXMucmlnaHQpIH1cbiAgfTtcblxuICBBcHBlbmQucHJvdG90eXBlLmFwcGVuZElubmVyID0gZnVuY3Rpb24gYXBwZW5kSW5uZXIgKG90aGVyKSB7XG4gICAgaWYgKHRoaXMubGVmdC5kZXB0aCA+PSBNYXRoLm1heCh0aGlzLnJpZ2h0LmRlcHRoLCBvdGhlci5kZXB0aCkgKyAxKVxuICAgICAgeyByZXR1cm4gbmV3IEFwcGVuZCh0aGlzLmxlZnQsIG5ldyBBcHBlbmQodGhpcy5yaWdodCwgb3RoZXIpKSB9XG4gICAgcmV0dXJuIG5ldyBBcHBlbmQodGhpcywgb3RoZXIpXG4gIH07XG5cbiAgcmV0dXJuIEFwcGVuZDtcbn0oUm9wZVNlcXVlbmNlKSk7XG5cbnZhciByb3BlU2VxdWVuY2UgPSBSb3BlU2VxdWVuY2U7XG5cbmV4cG9ydCBkZWZhdWx0IHJvcGVTZXF1ZW5jZTtcbiIsImltcG9ydCBSb3BlU2VxdWVuY2UgZnJvbSBcInJvcGUtc2VxdWVuY2VcIlxuaW1wb3J0IHtNYXBwaW5nfSBmcm9tIFwicHJvc2VtaXJyb3ItdHJhbnNmb3JtXCJcbmltcG9ydCB7UGx1Z2luLCBQbHVnaW5LZXl9IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiXG5cbi8vIFByb3NlTWlycm9yJ3MgaGlzdG9yeSBpc24ndCBzaW1wbHkgYSB3YXkgdG8gcm9sbCBiYWNrIHRvIGEgcHJldmlvdXNcbi8vIHN0YXRlLCBiZWNhdXNlIFByb3NlTWlycm9yIHN1cHBvcnRzIGFwcGx5aW5nIGNoYW5nZXMgd2l0aG91dCBhZGRpbmdcbi8vIHRoZW0gdG8gdGhlIGhpc3RvcnkgKGZvciBleGFtcGxlIGR1cmluZyBjb2xsYWJvcmF0aW9uKS5cbi8vXG4vLyBUbyB0aGlzIGVuZCwgZWFjaCAnQnJhbmNoJyAob25lIGZvciB0aGUgdW5kbyBoaXN0b3J5IGFuZCBvbmUgZm9yXG4vLyB0aGUgcmVkbyBoaXN0b3J5KSBrZWVwcyBhbiBhcnJheSBvZiAnSXRlbXMnLCB3aGljaCBjYW4gb3B0aW9uYWxseVxuLy8gaG9sZCBhIHN0ZXAgKGFuIGFjdHVhbCB1bmRvYWJsZSBjaGFuZ2UpLCBhbmQgYWx3YXlzIGhvbGQgYSBwb3NpdGlvblxuLy8gbWFwICh3aGljaCBpcyBuZWVkZWQgdG8gbW92ZSBjaGFuZ2VzIGJlbG93IHRoZW0gdG8gYXBwbHkgdG8gdGhlXG4vLyBjdXJyZW50IGRvY3VtZW50KS5cbi8vXG4vLyBBbiBpdGVtIHRoYXQgaGFzIGJvdGggYSBzdGVwIGFuZCBhIHNlbGVjdGlvbiBib29rbWFyayBpcyB0aGUgc3RhcnRcbi8vIG9mIGFuICdldmVudCcg4oCUIGEgZ3JvdXAgb2YgY2hhbmdlcyB0aGF0IHdpbGwgYmUgdW5kb25lIG9yIHJlZG9uZSBhdFxuLy8gb25jZS4gKEl0IHN0b3JlcyBvbmx5IHRoZSBib29rbWFyaywgc2luY2UgdGhhdCB3YXkgd2UgZG9uJ3QgaGF2ZSB0b1xuLy8gcHJvdmlkZSBhIGRvY3VtZW50IHVudGlsIHRoZSBzZWxlY3Rpb24gaXMgYWN0dWFsbHkgYXBwbGllZCwgd2hpY2hcbi8vIGlzIHVzZWZ1bCB3aGVuIGNvbXByZXNzaW5nLilcblxuLy8gVXNlZCB0byBzY2hlZHVsZSBoaXN0b3J5IGNvbXByZXNzaW9uXG5jb25zdCBtYXhfZW1wdHlfaXRlbXMgPSA1MDBcblxuY2xhc3MgQnJhbmNoIHtcbiAgY29uc3RydWN0b3IoaXRlbXMsIGV2ZW50Q291bnQpIHtcbiAgICB0aGlzLml0ZW1zID0gaXRlbXNcbiAgICB0aGlzLmV2ZW50Q291bnQgPSBldmVudENvdW50XG4gIH1cblxuICAvLyA6IChFZGl0b3JTdGF0ZSwgYm9vbCkg4oaSID97dHJhbnNmb3JtOiBUcmFuc2Zvcm0sIHNlbGVjdGlvbjogP1NlbGVjdGlvbkJvb2ttYXJrLCByZW1haW5pbmc6IEJyYW5jaH1cbiAgLy8gUG9wIHRoZSBsYXRlc3QgZXZlbnQgb2ZmIHRoZSBicmFuY2gncyBoaXN0b3J5IGFuZCBhcHBseSBpdFxuICAvLyB0byBhIGRvY3VtZW50IHRyYW5zZm9ybS5cbiAgcG9wRXZlbnQoc3RhdGUsIHByZXNlcnZlSXRlbXMpIHtcbiAgICBpZiAodGhpcy5ldmVudENvdW50ID09IDApIHJldHVybiBudWxsXG5cbiAgICBsZXQgZW5kID0gdGhpcy5pdGVtcy5sZW5ndGhcbiAgICBmb3IgKDs7IGVuZC0tKSB7XG4gICAgICBsZXQgbmV4dCA9IHRoaXMuaXRlbXMuZ2V0KGVuZCAtIDEpXG4gICAgICBpZiAobmV4dC5zZWxlY3Rpb24pIHsgLS1lbmQ7IGJyZWFrIH1cbiAgICB9XG5cbiAgICBsZXQgcmVtYXAsIG1hcEZyb21cbiAgICBpZiAocHJlc2VydmVJdGVtcykge1xuICAgICAgcmVtYXAgPSB0aGlzLnJlbWFwcGluZyhlbmQsIHRoaXMuaXRlbXMubGVuZ3RoKVxuICAgICAgbWFwRnJvbSA9IHJlbWFwLm1hcHMubGVuZ3RoXG4gICAgfVxuICAgIGxldCB0cmFuc2Zvcm0gPSBzdGF0ZS50clxuICAgIGxldCBzZWxlY3Rpb24sIHJlbWFpbmluZ1xuICAgIGxldCBhZGRBZnRlciA9IFtdLCBhZGRCZWZvcmUgPSBbXVxuXG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICBpZiAoIWl0ZW0uc3RlcCkge1xuICAgICAgICBpZiAoIXJlbWFwKSB7XG4gICAgICAgICAgcmVtYXAgPSB0aGlzLnJlbWFwcGluZyhlbmQsIGkgKyAxKVxuICAgICAgICAgIG1hcEZyb20gPSByZW1hcC5tYXBzLmxlbmd0aFxuICAgICAgICB9XG4gICAgICAgIG1hcEZyb20tLVxuICAgICAgICBhZGRCZWZvcmUucHVzaChpdGVtKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKHJlbWFwKSB7XG4gICAgICAgIGFkZEJlZm9yZS5wdXNoKG5ldyBJdGVtKGl0ZW0ubWFwKSlcbiAgICAgICAgbGV0IHN0ZXAgPSBpdGVtLnN0ZXAubWFwKHJlbWFwLnNsaWNlKG1hcEZyb20pKSwgbWFwXG5cbiAgICAgICAgaWYgKHN0ZXAgJiYgdHJhbnNmb3JtLm1heWJlU3RlcChzdGVwKS5kb2MpIHtcbiAgICAgICAgICBtYXAgPSB0cmFuc2Zvcm0ubWFwcGluZy5tYXBzW3RyYW5zZm9ybS5tYXBwaW5nLm1hcHMubGVuZ3RoIC0gMV1cbiAgICAgICAgICBhZGRBZnRlci5wdXNoKG5ldyBJdGVtKG1hcCwgbnVsbCwgbnVsbCwgYWRkQWZ0ZXIubGVuZ3RoICsgYWRkQmVmb3JlLmxlbmd0aCkpXG4gICAgICAgIH1cbiAgICAgICAgbWFwRnJvbS0tXG4gICAgICAgIGlmIChtYXApIHJlbWFwLmFwcGVuZE1hcChtYXAsIG1hcEZyb20pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2Zvcm0ubWF5YmVTdGVwKGl0ZW0uc3RlcClcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW0uc2VsZWN0aW9uKSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHJlbWFwID8gaXRlbS5zZWxlY3Rpb24ubWFwKHJlbWFwLnNsaWNlKG1hcEZyb20pKSA6IGl0ZW0uc2VsZWN0aW9uXG4gICAgICAgIHJlbWFpbmluZyA9IG5ldyBCcmFuY2godGhpcy5pdGVtcy5zbGljZSgwLCBlbmQpLmFwcGVuZChhZGRCZWZvcmUucmV2ZXJzZSgpLmNvbmNhdChhZGRBZnRlcikpLCB0aGlzLmV2ZW50Q291bnQgLSAxKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9LCB0aGlzLml0ZW1zLmxlbmd0aCwgMClcblxuICAgIHJldHVybiB7cmVtYWluaW5nLCB0cmFuc2Zvcm0sIHNlbGVjdGlvbn1cbiAgfVxuXG4gIC8vIDogKFRyYW5zZm9ybSwgP1NlbGVjdGlvbkJvb2ttYXJrLCBPYmplY3QpIOKGkiBCcmFuY2hcbiAgLy8gQ3JlYXRlIGEgbmV3IGJyYW5jaCB3aXRoIHRoZSBnaXZlbiB0cmFuc2Zvcm0gYWRkZWQuXG4gIGFkZFRyYW5zZm9ybSh0cmFuc2Zvcm0sIHNlbGVjdGlvbiwgaGlzdE9wdGlvbnMsIHByZXNlcnZlSXRlbXMpIHtcbiAgICBsZXQgbmV3SXRlbXMgPSBbXSwgZXZlbnRDb3VudCA9IHRoaXMuZXZlbnRDb3VudFxuICAgIGxldCBvbGRJdGVtcyA9IHRoaXMuaXRlbXMsIGxhc3RJdGVtID0gIXByZXNlcnZlSXRlbXMgJiYgb2xkSXRlbXMubGVuZ3RoID8gb2xkSXRlbXMuZ2V0KG9sZEl0ZW1zLmxlbmd0aCAtIDEpIDogbnVsbFxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFuc2Zvcm0uc3RlcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBzdGVwID0gdHJhbnNmb3JtLnN0ZXBzW2ldLmludmVydCh0cmFuc2Zvcm0uZG9jc1tpXSlcbiAgICAgIGxldCBpdGVtID0gbmV3IEl0ZW0odHJhbnNmb3JtLm1hcHBpbmcubWFwc1tpXSwgc3RlcCwgc2VsZWN0aW9uKSwgbWVyZ2VkXG4gICAgICBpZiAobWVyZ2VkID0gbGFzdEl0ZW0gJiYgbGFzdEl0ZW0ubWVyZ2UoaXRlbSkpIHtcbiAgICAgICAgaXRlbSA9IG1lcmdlZFxuICAgICAgICBpZiAoaSkgbmV3SXRlbXMucG9wKClcbiAgICAgICAgZWxzZSBvbGRJdGVtcyA9IG9sZEl0ZW1zLnNsaWNlKDAsIG9sZEl0ZW1zLmxlbmd0aCAtIDEpXG4gICAgICB9XG4gICAgICBuZXdJdGVtcy5wdXNoKGl0ZW0pXG4gICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgIGV2ZW50Q291bnQrK1xuICAgICAgICBzZWxlY3Rpb24gPSBudWxsXG4gICAgICB9XG4gICAgICBpZiAoIXByZXNlcnZlSXRlbXMpIGxhc3RJdGVtID0gaXRlbVxuICAgIH1cbiAgICBsZXQgb3ZlcmZsb3cgPSBldmVudENvdW50IC0gaGlzdE9wdGlvbnMuZGVwdGhcbiAgICBpZiAob3ZlcmZsb3cgPiBERVBUSF9PVkVSRkxPVykge1xuICAgICAgb2xkSXRlbXMgPSBjdXRPZmZFdmVudHMob2xkSXRlbXMsIG92ZXJmbG93KVxuICAgICAgZXZlbnRDb3VudCAtPSBvdmVyZmxvd1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEJyYW5jaChvbGRJdGVtcy5hcHBlbmQobmV3SXRlbXMpLCBldmVudENvdW50KVxuICB9XG5cbiAgcmVtYXBwaW5nKGZyb20sIHRvKSB7XG4gICAgbGV0IG1hcHMgPSBuZXcgTWFwcGluZ1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xuICAgICAgbGV0IG1pcnJvclBvcyA9IGl0ZW0ubWlycm9yT2Zmc2V0ICE9IG51bGwgJiYgaSAtIGl0ZW0ubWlycm9yT2Zmc2V0ID49IGZyb21cbiAgICAgICAgICA/IG1hcHMubWFwcy5sZW5ndGggLSBpdGVtLm1pcnJvck9mZnNldCA6IG51bGxcbiAgICAgIG1hcHMuYXBwZW5kTWFwKGl0ZW0ubWFwLCBtaXJyb3JQb3MpXG4gICAgfSwgZnJvbSwgdG8pXG4gICAgcmV0dXJuIG1hcHNcbiAgfVxuXG4gIGFkZE1hcHMoYXJyYXkpIHtcbiAgICBpZiAodGhpcy5ldmVudENvdW50ID09IDApIHJldHVybiB0aGlzXG4gICAgcmV0dXJuIG5ldyBCcmFuY2godGhpcy5pdGVtcy5hcHBlbmQoYXJyYXkubWFwKG1hcCA9PiBuZXcgSXRlbShtYXApKSksIHRoaXMuZXZlbnRDb3VudClcbiAgfVxuXG4gIC8vIDogKFRyYW5zZm9ybSwgbnVtYmVyKVxuICAvLyBXaGVuIHRoZSBjb2xsYWIgbW9kdWxlIHJlY2VpdmVzIHJlbW90ZSBjaGFuZ2VzLCB0aGUgaGlzdG9yeSBoYXNcbiAgLy8gdG8ga25vdyBhYm91dCB0aG9zZSwgc28gdGhhdCBpdCBjYW4gYWRqdXN0IHRoZSBzdGVwcyB0aGF0IHdlcmVcbiAgLy8gcmViYXNlZCBvbiB0b3Agb2YgdGhlIHJlbW90ZSBjaGFuZ2VzLCBhbmQgaW5jbHVkZSB0aGUgcG9zaXRpb25cbiAgLy8gbWFwcyBmb3IgdGhlIHJlbW90ZSBjaGFuZ2VzIGluIGl0cyBhcnJheSBvZiBpdGVtcy5cbiAgcmViYXNlZChyZWJhc2VkVHJhbnNmb3JtLCByZWJhc2VkQ291bnQpIHtcbiAgICBpZiAoIXRoaXMuZXZlbnRDb3VudCkgcmV0dXJuIHRoaXNcblxuICAgIGxldCByZWJhc2VkSXRlbXMgPSBbXSwgc3RhcnQgPSBNYXRoLm1heCgwLCB0aGlzLml0ZW1zLmxlbmd0aCAtIHJlYmFzZWRDb3VudClcblxuICAgIGxldCBtYXBwaW5nID0gcmViYXNlZFRyYW5zZm9ybS5tYXBwaW5nXG4gICAgbGV0IG5ld1VudGlsID0gcmViYXNlZFRyYW5zZm9ybS5zdGVwcy5sZW5ndGhcbiAgICBsZXQgZXZlbnRDb3VudCA9IHRoaXMuZXZlbnRDb3VudFxuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IHsgaWYgKGl0ZW0uc2VsZWN0aW9uKSBldmVudENvdW50LS0gfSwgc3RhcnQpXG5cbiAgICBsZXQgaVJlYmFzZWQgPSByZWJhc2VkQ291bnRcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBsZXQgcG9zID0gbWFwcGluZy5nZXRNaXJyb3IoLS1pUmViYXNlZClcbiAgICAgIGlmIChwb3MgPT0gbnVsbCkgcmV0dXJuXG4gICAgICBuZXdVbnRpbCA9IE1hdGgubWluKG5ld1VudGlsLCBwb3MpXG4gICAgICBsZXQgbWFwID0gbWFwcGluZy5tYXBzW3Bvc11cbiAgICAgIGlmIChpdGVtLnN0ZXApIHtcbiAgICAgICAgbGV0IHN0ZXAgPSByZWJhc2VkVHJhbnNmb3JtLnN0ZXBzW3Bvc10uaW52ZXJ0KHJlYmFzZWRUcmFuc2Zvcm0uZG9jc1twb3NdKVxuICAgICAgICBsZXQgc2VsZWN0aW9uID0gaXRlbS5zZWxlY3Rpb24gJiYgaXRlbS5zZWxlY3Rpb24ubWFwKG1hcHBpbmcuc2xpY2UoaVJlYmFzZWQgKyAxLCBwb3MpKVxuICAgICAgICBpZiAoc2VsZWN0aW9uKSBldmVudENvdW50KytcbiAgICAgICAgcmViYXNlZEl0ZW1zLnB1c2gobmV3IEl0ZW0obWFwLCBzdGVwLCBzZWxlY3Rpb24pKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmViYXNlZEl0ZW1zLnB1c2gobmV3IEl0ZW0obWFwKSlcbiAgICAgIH1cbiAgICB9LCBzdGFydClcblxuICAgIGxldCBuZXdNYXBzID0gW11cbiAgICBmb3IgKGxldCBpID0gcmViYXNlZENvdW50OyBpIDwgbmV3VW50aWw7IGkrKylcbiAgICAgIG5ld01hcHMucHVzaChuZXcgSXRlbShtYXBwaW5nLm1hcHNbaV0pKVxuICAgIGxldCBpdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoMCwgc3RhcnQpLmFwcGVuZChuZXdNYXBzKS5hcHBlbmQocmViYXNlZEl0ZW1zKVxuICAgIGxldCBicmFuY2ggPSBuZXcgQnJhbmNoKGl0ZW1zLCBldmVudENvdW50KVxuXG4gICAgaWYgKGJyYW5jaC5lbXB0eUl0ZW1Db3VudCgpID4gbWF4X2VtcHR5X2l0ZW1zKVxuICAgICAgYnJhbmNoID0gYnJhbmNoLmNvbXByZXNzKHRoaXMuaXRlbXMubGVuZ3RoIC0gcmViYXNlZEl0ZW1zLmxlbmd0aClcbiAgICByZXR1cm4gYnJhbmNoXG4gIH1cblxuICBlbXB0eUl0ZW1Db3VudCgpIHtcbiAgICBsZXQgY291bnQgPSAwXG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4geyBpZiAoIWl0ZW0uc3RlcCkgY291bnQrKyB9KVxuICAgIHJldHVybiBjb3VudFxuICB9XG5cbiAgLy8gQ29tcHJlc3NpbmcgYSBicmFuY2ggbWVhbnMgcmV3cml0aW5nIGl0IHRvIHB1c2ggdGhlIGFpciAobWFwLW9ubHlcbiAgLy8gaXRlbXMpIG91dC4gRHVyaW5nIGNvbGxhYm9yYXRpb24sIHRoZXNlIG5hdHVyYWxseSBhY2N1bXVsYXRlXG4gIC8vIGJlY2F1c2UgZWFjaCByZW1vdGUgY2hhbmdlIGFkZHMgb25lLiBUaGUgYHVwdG9gIGFyZ3VtZW50IGlzIHVzZWRcbiAgLy8gdG8gZW5zdXJlIHRoYXQgb25seSB0aGUgaXRlbXMgYmVsb3cgYSBnaXZlbiBsZXZlbCBhcmUgY29tcHJlc3NlZCxcbiAgLy8gYmVjYXVzZSBgcmViYXNlZGAgcmVsaWVzIG9uIGEgY2xlYW4sIHVudG91Y2hlZCBzZXQgb2YgaXRlbXMgaW5cbiAgLy8gb3JkZXIgdG8gYXNzb2NpYXRlIG9sZCBpdGVtcyB3aXRoIHJlYmFzZWQgc3RlcHMuXG4gIGNvbXByZXNzKHVwdG8gPSB0aGlzLml0ZW1zLmxlbmd0aCkge1xuICAgIGxldCByZW1hcCA9IHRoaXMucmVtYXBwaW5nKDAsIHVwdG8pLCBtYXBGcm9tID0gcmVtYXAubWFwcy5sZW5ndGhcbiAgICBsZXQgaXRlbXMgPSBbXSwgZXZlbnRzID0gMFxuICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xuICAgICAgaWYgKGkgPj0gdXB0bykge1xuICAgICAgICBpdGVtcy5wdXNoKGl0ZW0pXG4gICAgICAgIGlmIChpdGVtLnNlbGVjdGlvbikgZXZlbnRzKytcbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5zdGVwKSB7XG4gICAgICAgIGxldCBzdGVwID0gaXRlbS5zdGVwLm1hcChyZW1hcC5zbGljZShtYXBGcm9tKSksIG1hcCA9IHN0ZXAgJiYgc3RlcC5nZXRNYXAoKVxuICAgICAgICBtYXBGcm9tLS1cbiAgICAgICAgaWYgKG1hcCkgcmVtYXAuYXBwZW5kTWFwKG1hcCwgbWFwRnJvbSlcbiAgICAgICAgaWYgKHN0ZXApIHtcbiAgICAgICAgICBsZXQgc2VsZWN0aW9uID0gaXRlbS5zZWxlY3Rpb24gJiYgaXRlbS5zZWxlY3Rpb24ubWFwKHJlbWFwLnNsaWNlKG1hcEZyb20pKVxuICAgICAgICAgIGlmIChzZWxlY3Rpb24pIGV2ZW50cysrXG4gICAgICAgICAgbGV0IG5ld0l0ZW0gPSBuZXcgSXRlbShtYXAuaW52ZXJ0KCksIHN0ZXAsIHNlbGVjdGlvbiksIG1lcmdlZCwgbGFzdCA9IGl0ZW1zLmxlbmd0aCAtIDFcbiAgICAgICAgICBpZiAobWVyZ2VkID0gaXRlbXMubGVuZ3RoICYmIGl0ZW1zW2xhc3RdLm1lcmdlKG5ld0l0ZW0pKVxuICAgICAgICAgICAgaXRlbXNbbGFzdF0gPSBtZXJnZWRcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBpdGVtcy5wdXNoKG5ld0l0ZW0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXRlbS5tYXApIHtcbiAgICAgICAgbWFwRnJvbS0tXG4gICAgICB9XG4gICAgfSwgdGhpcy5pdGVtcy5sZW5ndGgsIDApXG4gICAgcmV0dXJuIG5ldyBCcmFuY2goUm9wZVNlcXVlbmNlLmZyb20oaXRlbXMucmV2ZXJzZSgpKSwgZXZlbnRzKVxuICB9XG59XG5cbkJyYW5jaC5lbXB0eSA9IG5ldyBCcmFuY2goUm9wZVNlcXVlbmNlLmVtcHR5LCAwKVxuXG5mdW5jdGlvbiBjdXRPZmZFdmVudHMoaXRlbXMsIG4pIHtcbiAgbGV0IGN1dFBvaW50XG4gIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcbiAgICBpZiAoaXRlbS5zZWxlY3Rpb24gJiYgKG4tLSA9PSAwKSkge1xuICAgICAgY3V0UG9pbnQgPSBpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0pXG4gIHJldHVybiBpdGVtcy5zbGljZShjdXRQb2ludClcbn1cblxuY2xhc3MgSXRlbSB7XG4gIGNvbnN0cnVjdG9yKG1hcCwgc3RlcCwgc2VsZWN0aW9uLCBtaXJyb3JPZmZzZXQpIHtcbiAgICAvLyBUaGUgKGZvcndhcmQpIHN0ZXAgbWFwIGZvciB0aGlzIGl0ZW0uXG4gICAgdGhpcy5tYXAgPSBtYXBcbiAgICAvLyBUaGUgaW52ZXJ0ZWQgc3RlcFxuICAgIHRoaXMuc3RlcCA9IHN0ZXBcbiAgICAvLyBJZiB0aGlzIGlzIG5vbi1udWxsLCB0aGlzIGl0ZW0gaXMgdGhlIHN0YXJ0IG9mIGEgZ3JvdXAsIGFuZFxuICAgIC8vIHRoaXMgc2VsZWN0aW9uIGlzIHRoZSBzdGFydGluZyBzZWxlY3Rpb24gZm9yIHRoZSBncm91cCAodGhlIG9uZVxuICAgIC8vIHRoYXQgd2FzIGFjdGl2ZSBiZWZvcmUgdGhlIGZpcnN0IHN0ZXAgd2FzIGFwcGxpZWQpXG4gICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb25cbiAgICAvLyBJZiB0aGlzIGl0ZW0gaXMgdGhlIGludmVyc2Ugb2YgYSBwcmV2aW91cyBtYXBwaW5nIG9uIHRoZSBzdGFjayxcbiAgICAvLyB0aGlzIHBvaW50cyBhdCB0aGUgaW52ZXJzZSdzIG9mZnNldFxuICAgIHRoaXMubWlycm9yT2Zmc2V0ID0gbWlycm9yT2Zmc2V0XG4gIH1cblxuICBtZXJnZShvdGhlcikge1xuICAgIGlmICh0aGlzLnN0ZXAgJiYgb3RoZXIuc3RlcCAmJiAhb3RoZXIuc2VsZWN0aW9uKSB7XG4gICAgICBsZXQgc3RlcCA9IG90aGVyLnN0ZXAubWVyZ2UodGhpcy5zdGVwKVxuICAgICAgaWYgKHN0ZXApIHJldHVybiBuZXcgSXRlbShzdGVwLmdldE1hcCgpLmludmVydCgpLCBzdGVwLCB0aGlzLnNlbGVjdGlvbilcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhlIHZhbHVlIG9mIHRoZSBzdGF0ZSBmaWVsZCB0aGF0IHRyYWNrcyB1bmRvL3JlZG8gaGlzdG9yeSBmb3IgdGhhdFxuLy8gc3RhdGUuIFdpbGwgYmUgc3RvcmVkIGluIHRoZSBwbHVnaW4gc3RhdGUgd2hlbiB0aGUgaGlzdG9yeSBwbHVnaW5cbi8vIGlzIGFjdGl2ZS5cbmV4cG9ydCBjbGFzcyBIaXN0b3J5U3RhdGUge1xuICBjb25zdHJ1Y3Rvcihkb25lLCB1bmRvbmUsIHByZXZSYW5nZXMsIHByZXZUaW1lKSB7XG4gICAgdGhpcy5kb25lID0gZG9uZVxuICAgIHRoaXMudW5kb25lID0gdW5kb25lXG4gICAgdGhpcy5wcmV2UmFuZ2VzID0gcHJldlJhbmdlc1xuICAgIHRoaXMucHJldlRpbWUgPSBwcmV2VGltZVxuICB9XG59XG5cbmNvbnN0IERFUFRIX09WRVJGTE9XID0gMjBcblxuLy8gOiAoSGlzdG9yeVN0YXRlLCBFZGl0b3JTdGF0ZSwgVHJhbnNhY3Rpb24sIE9iamVjdClcbi8vIFJlY29yZCBhIHRyYW5zZm9ybWF0aW9uIGluIHVuZG8gaGlzdG9yeS5cbmZ1bmN0aW9uIGFwcGx5VHJhbnNhY3Rpb24oaGlzdG9yeSwgc3RhdGUsIHRyLCBvcHRpb25zKSB7XG4gIGxldCBoaXN0b3J5VHIgPSB0ci5nZXRNZXRhKGhpc3RvcnlLZXkpLCByZWJhc2VkXG4gIGlmIChoaXN0b3J5VHIpIHJldHVybiBoaXN0b3J5VHIuaGlzdG9yeVN0YXRlXG5cbiAgaWYgKHRyLmdldE1ldGEoY2xvc2VIaXN0b3J5S2V5KSkgaGlzdG9yeSA9IG5ldyBIaXN0b3J5U3RhdGUoaGlzdG9yeS5kb25lLCBoaXN0b3J5LnVuZG9uZSwgbnVsbCwgMClcblxuICBsZXQgYXBwZW5kZWQgPSB0ci5nZXRNZXRhKFwiYXBwZW5kZWRUcmFuc2FjdGlvblwiKVxuXG4gIGlmICh0ci5zdGVwcy5sZW5ndGggPT0gMCkge1xuICAgIHJldHVybiBoaXN0b3J5XG4gIH0gZWxzZSBpZiAoYXBwZW5kZWQgJiYgYXBwZW5kZWQuZ2V0TWV0YShoaXN0b3J5S2V5KSkge1xuICAgIGlmIChhcHBlbmRlZC5nZXRNZXRhKGhpc3RvcnlLZXkpLnJlZG8pXG4gICAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShoaXN0b3J5LmRvbmUuYWRkVHJhbnNmb3JtKHRyLCBudWxsLCBvcHRpb25zLCBtdXN0UHJlc2VydmVJdGVtcyhzdGF0ZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS51bmRvbmUsIHJhbmdlc0Zvcih0ci5tYXBwaW5nLm1hcHNbdHIuc3RlcHMubGVuZ3RoIC0gMV0pLCBoaXN0b3J5LnByZXZUaW1lKVxuICAgIGVsc2VcbiAgICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGhpc3RvcnkuZG9uZSwgaGlzdG9yeS51bmRvbmUuYWRkVHJhbnNmb3JtKHRyLCBudWxsLCBvcHRpb25zLCBtdXN0UHJlc2VydmVJdGVtcyhzdGF0ZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgaGlzdG9yeS5wcmV2VGltZSlcbiAgfSBlbHNlIGlmICh0ci5nZXRNZXRhKFwiYWRkVG9IaXN0b3J5XCIpICE9PSBmYWxzZSAmJiAhKGFwcGVuZGVkICYmIGFwcGVuZGVkLmdldE1ldGEoXCJhZGRUb0hpc3RvcnlcIikgPT09IGZhbHNlKSkge1xuICAgIC8vIEdyb3VwIHRyYW5zZm9ybXMgdGhhdCBvY2N1ciBpbiBxdWljayBzdWNjZXNzaW9uIGludG8gb25lIGV2ZW50LlxuICAgIGxldCBuZXdHcm91cCA9IGhpc3RvcnkucHJldlRpbWUgPT0gMCB8fCAhYXBwZW5kZWQgJiYgKGhpc3RvcnkucHJldlRpbWUgPCAodHIudGltZSB8fCAwKSAtIG9wdGlvbnMubmV3R3JvdXBEZWxheSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpc0FkamFjZW50VG8odHIsIGhpc3RvcnkucHJldlJhbmdlcykpXG4gICAgbGV0IHByZXZSYW5nZXMgPSBhcHBlbmRlZCA/IG1hcFJhbmdlcyhoaXN0b3J5LnByZXZSYW5nZXMsIHRyLm1hcHBpbmcpIDogcmFuZ2VzRm9yKHRyLm1hcHBpbmcubWFwc1t0ci5zdGVwcy5sZW5ndGggLSAxXSlcbiAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShoaXN0b3J5LmRvbmUuYWRkVHJhbnNmb3JtKHRyLCBuZXdHcm91cCA/IHN0YXRlLnNlbGVjdGlvbi5nZXRCb29rbWFyaygpIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMsIG11c3RQcmVzZXJ2ZUl0ZW1zKHN0YXRlKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQnJhbmNoLmVtcHR5LCBwcmV2UmFuZ2VzLCB0ci50aW1lKVxuICB9IGVsc2UgaWYgKHJlYmFzZWQgPSB0ci5nZXRNZXRhKFwicmViYXNlZFwiKSkge1xuICAgIC8vIFVzZWQgYnkgdGhlIGNvbGxhYiBtb2R1bGUgdG8gdGVsbCB0aGUgaGlzdG9yeSB0aGF0IHNvbWUgb2YgaXRzXG4gICAgLy8gY29udGVudCBoYXMgYmVlbiByZWJhc2VkLlxuICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGhpc3RvcnkuZG9uZS5yZWJhc2VkKHRyLCByZWJhc2VkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LnVuZG9uZS5yZWJhc2VkKHRyLCByZWJhc2VkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBSYW5nZXMoaGlzdG9yeS5wcmV2UmFuZ2VzLCB0ci5tYXBwaW5nKSwgaGlzdG9yeS5wcmV2VGltZSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShoaXN0b3J5LmRvbmUuYWRkTWFwcyh0ci5tYXBwaW5nLm1hcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkudW5kb25lLmFkZE1hcHModHIubWFwcGluZy5tYXBzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBSYW5nZXMoaGlzdG9yeS5wcmV2UmFuZ2VzLCB0ci5tYXBwaW5nKSwgaGlzdG9yeS5wcmV2VGltZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0FkamFjZW50VG8odHJhbnNmb3JtLCBwcmV2UmFuZ2VzKSB7XG4gIGlmICghcHJldlJhbmdlcykgcmV0dXJuIGZhbHNlXG4gIGlmICghdHJhbnNmb3JtLmRvY0NoYW5nZWQpIHJldHVybiB0cnVlXG4gIGxldCBhZGphY2VudCA9IGZhbHNlXG4gIHRyYW5zZm9ybS5tYXBwaW5nLm1hcHNbMF0uZm9yRWFjaCgoc3RhcnQsIGVuZCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldlJhbmdlcy5sZW5ndGg7IGkgKz0gMilcbiAgICAgIGlmIChzdGFydCA8PSBwcmV2UmFuZ2VzW2kgKyAxXSAmJiBlbmQgPj0gcHJldlJhbmdlc1tpXSlcbiAgICAgICAgYWRqYWNlbnQgPSB0cnVlXG4gIH0pXG4gIHJldHVybiBhZGphY2VudFxufVxuXG5mdW5jdGlvbiByYW5nZXNGb3IobWFwKSB7XG4gIGxldCByZXN1bHQgPSBbXVxuICBtYXAuZm9yRWFjaCgoX2Zyb20sIF90bywgZnJvbSwgdG8pID0+IHJlc3VsdC5wdXNoKGZyb20sIHRvKSlcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBtYXBSYW5nZXMocmFuZ2VzLCBtYXBwaW5nKSB7XG4gIGlmICghcmFuZ2VzKSByZXR1cm4gbnVsbFxuICBsZXQgcmVzdWx0ID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICBsZXQgZnJvbSA9IG1hcHBpbmcubWFwKHJhbmdlc1tpXSwgMSksIHRvID0gbWFwcGluZy5tYXAocmFuZ2VzW2kgKyAxXSwgLTEpXG4gICAgaWYgKGZyb20gPD0gdG8pIHJlc3VsdC5wdXNoKGZyb20sIHRvKVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuLy8gOiAoSGlzdG9yeVN0YXRlLCBFZGl0b3JTdGF0ZSwgKHRyOiBUcmFuc2FjdGlvbiksIGJvb2wpXG4vLyBBcHBseSB0aGUgbGF0ZXN0IGV2ZW50IGZyb20gb25lIGJyYW5jaCB0byB0aGUgZG9jdW1lbnQgYW5kIHNoaWZ0IHRoZSBldmVudFxuLy8gb250byB0aGUgb3RoZXIgYnJhbmNoLlxuZnVuY3Rpb24gaGlzdFRyYW5zYWN0aW9uKGhpc3RvcnksIHN0YXRlLCBkaXNwYXRjaCwgcmVkbykge1xuICBsZXQgcHJlc2VydmVJdGVtcyA9IG11c3RQcmVzZXJ2ZUl0ZW1zKHN0YXRlKSwgaGlzdE9wdGlvbnMgPSBoaXN0b3J5S2V5LmdldChzdGF0ZSkuc3BlYy5jb25maWdcbiAgbGV0IHBvcCA9IChyZWRvID8gaGlzdG9yeS51bmRvbmUgOiBoaXN0b3J5LmRvbmUpLnBvcEV2ZW50KHN0YXRlLCBwcmVzZXJ2ZUl0ZW1zKVxuICBpZiAoIXBvcCkgcmV0dXJuXG5cbiAgbGV0IHNlbGVjdGlvbiA9IHBvcC5zZWxlY3Rpb24ucmVzb2x2ZShwb3AudHJhbnNmb3JtLmRvYylcbiAgbGV0IGFkZGVkID0gKHJlZG8gPyBoaXN0b3J5LmRvbmUgOiBoaXN0b3J5LnVuZG9uZSkuYWRkVHJhbnNmb3JtKHBvcC50cmFuc2Zvcm0sIHN0YXRlLnNlbGVjdGlvbi5nZXRCb29rbWFyaygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdE9wdGlvbnMsIHByZXNlcnZlSXRlbXMpXG5cbiAgbGV0IG5ld0hpc3QgPSBuZXcgSGlzdG9yeVN0YXRlKHJlZG8gPyBhZGRlZCA6IHBvcC5yZW1haW5pbmcsIHJlZG8gPyBwb3AucmVtYWluaW5nIDogYWRkZWQsIG51bGwsIDApXG4gIGRpc3BhdGNoKHBvcC50cmFuc2Zvcm0uc2V0U2VsZWN0aW9uKHNlbGVjdGlvbikuc2V0TWV0YShoaXN0b3J5S2V5LCB7cmVkbywgaGlzdG9yeVN0YXRlOiBuZXdIaXN0fSkuc2Nyb2xsSW50b1ZpZXcoKSlcbn1cblxubGV0IGNhY2hlZFByZXNlcnZlSXRlbXMgPSBmYWxzZSwgY2FjaGVkUHJlc2VydmVJdGVtc1BsdWdpbnMgPSBudWxsXG4vLyBDaGVjayB3aGV0aGVyIGFueSBwbHVnaW4gaW4gdGhlIGdpdmVuIHN0YXRlIGhhcyBhXG4vLyBgaGlzdG9yeVByZXNlcnZlSXRlbXNgIHByb3BlcnR5IGluIGl0cyBzcGVjLCBpbiB3aGljaCBjYXNlIHdlIG11c3Rcbi8vIHByZXNlcnZlIHN0ZXBzIGV4YWN0bHkgYXMgdGhleSBjYW1lIGluLCBzbyB0aGF0IHRoZXkgY2FuIGJlXG4vLyByZWJhc2VkLlxuZnVuY3Rpb24gbXVzdFByZXNlcnZlSXRlbXMoc3RhdGUpIHtcbiAgbGV0IHBsdWdpbnMgPSBzdGF0ZS5wbHVnaW5zXG4gIGlmIChjYWNoZWRQcmVzZXJ2ZUl0ZW1zUGx1Z2lucyAhPSBwbHVnaW5zKSB7XG4gICAgY2FjaGVkUHJlc2VydmVJdGVtcyA9IGZhbHNlXG4gICAgY2FjaGVkUHJlc2VydmVJdGVtc1BsdWdpbnMgPSBwbHVnaW5zXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbHVnaW5zLmxlbmd0aDsgaSsrKSBpZiAocGx1Z2luc1tpXS5zcGVjLmhpc3RvcnlQcmVzZXJ2ZUl0ZW1zKSB7XG4gICAgICBjYWNoZWRQcmVzZXJ2ZUl0ZW1zID0gdHJ1ZVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNhY2hlZFByZXNlcnZlSXRlbXNcbn1cblxuLy8gOjogKFRyYW5zYWN0aW9uKSDihpIgVHJhbnNhY3Rpb25cbi8vIFNldCBhIGZsYWcgb24gdGhlIGdpdmVuIHRyYW5zYWN0aW9uIHRoYXQgd2lsbCBwcmV2ZW50IGZ1cnRoZXIgc3RlcHNcbi8vIGZyb20gYmVpbmcgYXBwZW5kZWQgdG8gYW4gZXhpc3RpbmcgaGlzdG9yeSBldmVudCAoc28gdGhhdCB0aGV5XG4vLyByZXF1aXJlIGEgc2VwYXJhdGUgdW5kbyBjb21tYW5kIHRvIHVuZG8pLlxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlSGlzdG9yeSh0cikge1xuICByZXR1cm4gdHIuc2V0TWV0YShjbG9zZUhpc3RvcnlLZXksIHRydWUpXG59XG5cbmNvbnN0IGhpc3RvcnlLZXkgPSBuZXcgUGx1Z2luS2V5KFwiaGlzdG9yeVwiKVxuY29uc3QgY2xvc2VIaXN0b3J5S2V5ID0gbmV3IFBsdWdpbktleShcImNsb3NlSGlzdG9yeVwiKVxuXG4vLyA6OiAoP09iamVjdCkg4oaSIFBsdWdpblxuLy8gUmV0dXJucyBhIHBsdWdpbiB0aGF0IGVuYWJsZXMgdGhlIHVuZG8gaGlzdG9yeSBmb3IgYW4gZWRpdG9yLiBUaGVcbi8vIHBsdWdpbiB3aWxsIHRyYWNrIHVuZG8gYW5kIHJlZG8gc3RhY2tzLCB3aGljaCBjYW4gYmUgdXNlZCB3aXRoIHRoZVxuLy8gW2B1bmRvYF0oI2hpc3RvcnkudW5kbykgYW5kIFtgcmVkb2BdKCNoaXN0b3J5LnJlZG8pIGNvbW1hbmRzLlxuLy9cbi8vIFlvdSBjYW4gc2V0IGFuIGBcImFkZFRvSGlzdG9yeVwiYCBbbWV0YWRhdGFcbi8vIHByb3BlcnR5XSgjc3RhdGUuVHJhbnNhY3Rpb24uc2V0TWV0YSkgb2YgYGZhbHNlYCBvbiBhIHRyYW5zYWN0aW9uXG4vLyB0byBwcmV2ZW50IGl0IGZyb20gYmVpbmcgcm9sbGVkIGJhY2sgYnkgdW5kby5cbi8vXG4vLyAgIGNvbmZpZzo6LVxuLy8gICBTdXBwb3J0cyB0aGUgZm9sbG93aW5nIGNvbmZpZ3VyYXRpb24gb3B0aW9uczpcbi8vXG4vLyAgICAgZGVwdGg6OiA/bnVtYmVyXG4vLyAgICAgVGhlIGFtb3VudCBvZiBoaXN0b3J5IGV2ZW50cyB0aGF0IGFyZSBjb2xsZWN0ZWQgYmVmb3JlIHRoZVxuLy8gICAgIG9sZGVzdCBldmVudHMgYXJlIGRpc2NhcmRlZC4gRGVmYXVsdHMgdG8gMTAwLlxuLy9cbi8vICAgICBuZXdHcm91cERlbGF5OjogP251bWJlclxuLy8gICAgIFRoZSBkZWxheSBiZXR3ZWVuIGNoYW5nZXMgYWZ0ZXIgd2hpY2ggYSBuZXcgZ3JvdXAgc2hvdWxkIGJlXG4vLyAgICAgc3RhcnRlZC4gRGVmYXVsdHMgdG8gNTAwIChtaWxsaXNlY29uZHMpLiBOb3RlIHRoYXQgd2hlbiBjaGFuZ2VzXG4vLyAgICAgYXJlbid0IGFkamFjZW50LCBhIG5ldyBncm91cCBpcyBhbHdheXMgc3RhcnRlZC5cbmV4cG9ydCBmdW5jdGlvbiBoaXN0b3J5KGNvbmZpZykge1xuICBjb25maWcgPSB7ZGVwdGg6IGNvbmZpZyAmJiBjb25maWcuZGVwdGggfHwgMTAwLFxuICAgICAgICAgICAgbmV3R3JvdXBEZWxheTogY29uZmlnICYmIGNvbmZpZy5uZXdHcm91cERlbGF5IHx8IDUwMH1cbiAgcmV0dXJuIG5ldyBQbHVnaW4oe1xuICAgIGtleTogaGlzdG9yeUtleSxcblxuICAgIHN0YXRlOiB7XG4gICAgICBpbml0KCkge1xuICAgICAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShCcmFuY2guZW1wdHksIEJyYW5jaC5lbXB0eSwgbnVsbCwgMClcbiAgICAgIH0sXG4gICAgICBhcHBseSh0ciwgaGlzdCwgc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5VHJhbnNhY3Rpb24oaGlzdCwgc3RhdGUsIHRyLCBjb25maWcpXG4gICAgICB9XG4gICAgfSxcblxuICAgIGNvbmZpZ1xuICB9KVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIEEgY29tbWFuZCBmdW5jdGlvbiB0aGF0IHVuZG9lcyB0aGUgbGFzdCBjaGFuZ2UsIGlmIGFueS5cbmV4cG9ydCBmdW5jdGlvbiB1bmRvKHN0YXRlLCBkaXNwYXRjaCkge1xuICBsZXQgaGlzdCA9IGhpc3RvcnlLZXkuZ2V0U3RhdGUoc3RhdGUpXG4gIGlmICghaGlzdCB8fCBoaXN0LmRvbmUuZXZlbnRDb3VudCA9PSAwKSByZXR1cm4gZmFsc2VcbiAgaWYgKGRpc3BhdGNoKSBoaXN0VHJhbnNhY3Rpb24oaGlzdCwgc3RhdGUsIGRpc3BhdGNoLCBmYWxzZSlcbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBBIGNvbW1hbmQgZnVuY3Rpb24gdGhhdCByZWRvZXMgdGhlIGxhc3QgdW5kb25lIGNoYW5nZSwgaWYgYW55LlxuZXhwb3J0IGZ1bmN0aW9uIHJlZG8oc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGxldCBoaXN0ID0gaGlzdG9yeUtleS5nZXRTdGF0ZShzdGF0ZSlcbiAgaWYgKCFoaXN0IHx8IGhpc3QudW5kb25lLmV2ZW50Q291bnQgPT0gMCkgcmV0dXJuIGZhbHNlXG4gIGlmIChkaXNwYXRjaCkgaGlzdFRyYW5zYWN0aW9uKGhpc3QsIHN0YXRlLCBkaXNwYXRjaCwgdHJ1ZSlcbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlKSDihpIgbnVtYmVyXG4vLyBUaGUgYW1vdW50IG9mIHVuZG9hYmxlIGV2ZW50cyBhdmFpbGFibGUgaW4gYSBnaXZlbiBzdGF0ZS5cbmV4cG9ydCBmdW5jdGlvbiB1bmRvRGVwdGgoc3RhdGUpIHtcbiAgbGV0IGhpc3QgPSBoaXN0b3J5S2V5LmdldFN0YXRlKHN0YXRlKVxuICByZXR1cm4gaGlzdCA/IGhpc3QuZG9uZS5ldmVudENvdW50IDogMFxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUpIOKGkiBudW1iZXJcbi8vIFRoZSBhbW91bnQgb2YgcmVkb2FibGUgZXZlbnRzIGF2YWlsYWJsZSBpbiBhIGdpdmVuIGVkaXRvciBzdGF0ZS5cbmV4cG9ydCBmdW5jdGlvbiByZWRvRGVwdGgoc3RhdGUpIHtcbiAgbGV0IGhpc3QgPSBoaXN0b3J5S2V5LmdldFN0YXRlKHN0YXRlKVxuICByZXR1cm4gaGlzdCA/IGhpc3QudW5kb25lLmV2ZW50Q291bnQgOiAwXG59XG4iLCJpbXBvcnQge1BsdWdpbn0gZnJvbSBcInByb3NlbWlycm9yLXN0YXRlXCJcblxuLy8gOjotIElucHV0IHJ1bGVzIGFyZSByZWd1bGFyIGV4cHJlc3Npb25zIGRlc2NyaWJpbmcgYSBwaWVjZSBvZiB0ZXh0XG4vLyB0aGF0LCB3aGVuIHR5cGVkLCBjYXVzZXMgc29tZXRoaW5nIHRvIGhhcHBlbi4gVGhpcyBtaWdodCBiZVxuLy8gY2hhbmdpbmcgdHdvIGRhc2hlcyBpbnRvIGFuIGVtZGFzaCwgd3JhcHBpbmcgYSBwYXJhZ3JhcGggc3RhcnRpbmdcbi8vIHdpdGggYFwiPiBcImAgaW50byBhIGJsb2NrcXVvdGUsIG9yIHNvbWV0aGluZyBlbnRpcmVseSBkaWZmZXJlbnQuXG5leHBvcnQgY2xhc3MgSW5wdXRSdWxlIHtcbiAgLy8gOjogKFJlZ0V4cCwgdW5pb248c3RyaW5nLCAoc3RhdGU6IEVkaXRvclN0YXRlLCBtYXRjaDogW3N0cmluZ10sIHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKSDihpIgP1RyYW5zYWN0aW9uPilcbiAgLy8gQ3JlYXRlIGFuIGlucHV0IHJ1bGUuIFRoZSBydWxlIGFwcGxpZXMgd2hlbiB0aGUgdXNlciB0eXBlZFxuICAvLyBzb21ldGhpbmcgYW5kIHRoZSB0ZXh0IGRpcmVjdGx5IGluIGZyb250IG9mIHRoZSBjdXJzb3IgbWF0Y2hlc1xuICAvLyBgbWF0Y2hgLCB3aGljaCBzaG91bGQgcHJvYmFibHkgZW5kIHdpdGggYCRgLlxuICAvL1xuICAvLyBUaGUgYGhhbmRsZXJgIGNhbiBiZSBhIHN0cmluZywgaW4gd2hpY2ggY2FzZSB0aGUgbWF0Y2hlZCB0ZXh0LCBvclxuICAvLyB0aGUgZmlyc3QgbWF0Y2hlZCBncm91cCBpbiB0aGUgcmVnZXhwLCBpcyByZXBsYWNlZCBieSB0aGF0XG4gIC8vIHN0cmluZy5cbiAgLy9cbiAgLy8gT3IgYSBpdCBjYW4gYmUgYSBmdW5jdGlvbiwgd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgbWF0Y2hcbiAgLy8gYXJyYXkgcHJvZHVjZWQgYnlcbiAgLy8gW2BSZWdFeHAuZXhlY2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1JlZ0V4cC9leGVjKSxcbiAgLy8gYXMgd2VsbCBhcyB0aGUgc3RhcnQgYW5kIGVuZCBvZiB0aGUgbWF0Y2hlZCByYW5nZSwgYW5kIHdoaWNoIGNhblxuICAvLyByZXR1cm4gYSBbdHJhbnNhY3Rpb25dKCNzdGF0ZS5UcmFuc2FjdGlvbikgdGhhdCBkZXNjcmliZXMgdGhlXG4gIC8vIHJ1bGUncyBlZmZlY3QsIG9yIG51bGwgdG8gaW5kaWNhdGUgdGhlIGlucHV0IHdhcyBub3QgaGFuZGxlZC5cbiAgY29uc3RydWN0b3IobWF0Y2gsIGhhbmRsZXIpIHtcbiAgICB0aGlzLm1hdGNoID0gbWF0Y2hcbiAgICB0aGlzLmhhbmRsZXIgPSB0eXBlb2YgaGFuZGxlciA9PSBcInN0cmluZ1wiID8gc3RyaW5nSGFuZGxlcihoYW5kbGVyKSA6IGhhbmRsZXJcbiAgfVxufVxuXG5mdW5jdGlvbiBzdHJpbmdIYW5kbGVyKHN0cmluZykge1xuICByZXR1cm4gZnVuY3Rpb24oc3RhdGUsIG1hdGNoLCBzdGFydCwgZW5kKSB7XG4gICAgbGV0IGluc2VydCA9IHN0cmluZ1xuICAgIGlmIChtYXRjaFsxXSkge1xuICAgICAgbGV0IG9mZnNldCA9IG1hdGNoWzBdLmxhc3RJbmRleE9mKG1hdGNoWzFdKVxuICAgICAgaW5zZXJ0ICs9IG1hdGNoWzBdLnNsaWNlKG9mZnNldCArIG1hdGNoWzFdLmxlbmd0aClcbiAgICAgIHN0YXJ0ICs9IG9mZnNldFxuICAgICAgbGV0IGN1dE9mZiA9IHN0YXJ0IC0gZW5kXG4gICAgICBpZiAoY3V0T2ZmID4gMCkge1xuICAgICAgICBpbnNlcnQgPSBtYXRjaFswXS5zbGljZShvZmZzZXQgLSBjdXRPZmYsIG9mZnNldCkgKyBpbnNlcnRcbiAgICAgICAgc3RhcnQgPSBlbmRcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLnRyLmluc2VydFRleHQoaW5zZXJ0LCBzdGFydCwgZW5kKVxuICB9XG59XG5cbmNvbnN0IE1BWF9NQVRDSCA9IDUwMFxuXG4vLyA6OiAoY29uZmlnOiB7cnVsZXM6IFtJbnB1dFJ1bGVdfSkg4oaSIFBsdWdpblxuLy8gQ3JlYXRlIGFuIGlucHV0IHJ1bGVzIHBsdWdpbi4gV2hlbiBlbmFibGVkLCBpdCB3aWxsIGNhdXNlIHRleHRcbi8vIGlucHV0IHRoYXQgbWF0Y2hlcyBhbnkgb2YgdGhlIGdpdmVuIHJ1bGVzIHRvIHRyaWdnZXIgdGhlIHJ1bGUnc1xuLy8gYWN0aW9uLlxuZXhwb3J0IGZ1bmN0aW9uIGlucHV0UnVsZXMoe3J1bGVzfSkge1xuICBsZXQgcGx1Z2luID0gbmV3IFBsdWdpbih7XG4gICAgc3RhdGU6IHtcbiAgICAgIGluaXQoKSB7IHJldHVybiBudWxsIH0sXG4gICAgICBhcHBseSh0ciwgcHJldikge1xuICAgICAgICBsZXQgc3RvcmVkID0gdHIuZ2V0TWV0YSh0aGlzKVxuICAgICAgICBpZiAoc3RvcmVkKSByZXR1cm4gc3RvcmVkXG4gICAgICAgIHJldHVybiB0ci5zZWxlY3Rpb25TZXQgfHwgdHIuZG9jQ2hhbmdlZCA/IG51bGwgOiBwcmV2XG4gICAgICB9XG4gICAgfSxcblxuICAgIHByb3BzOiB7XG4gICAgICBoYW5kbGVUZXh0SW5wdXQodmlldywgZnJvbSwgdG8sIHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHJ1bih2aWV3LCBmcm9tLCB0bywgdGV4dCwgcnVsZXMsIHBsdWdpbilcbiAgICAgIH0sXG4gICAgICBoYW5kbGVET01FdmVudHM6IHtcbiAgICAgICAgY29tcG9zaXRpb25lbmQ6ICh2aWV3KSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgeyRjdXJzb3J9ID0gdmlldy5zdGF0ZS5zZWxlY3Rpb25cbiAgICAgICAgICAgIGlmICgkY3Vyc29yKSBydW4odmlldywgJGN1cnNvci5wb3MsICRjdXJzb3IucG9zLCBcIlwiLCBydWxlcywgcGx1Z2luKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaXNJbnB1dFJ1bGVzOiB0cnVlXG4gIH0pXG4gIHJldHVybiBwbHVnaW5cbn1cblxuZnVuY3Rpb24gcnVuKHZpZXcsIGZyb20sIHRvLCB0ZXh0LCBydWxlcywgcGx1Z2luKSB7XG4gIGlmICh2aWV3LmNvbXBvc2luZykgcmV0dXJuIGZhbHNlXG4gIGxldCBzdGF0ZSA9IHZpZXcuc3RhdGUsICRmcm9tID0gc3RhdGUuZG9jLnJlc29sdmUoZnJvbSlcbiAgaWYgKCRmcm9tLnBhcmVudC50eXBlLnNwZWMuY29kZSkgcmV0dXJuIGZhbHNlXG4gIGxldCB0ZXh0QmVmb3JlID0gJGZyb20ucGFyZW50LnRleHRCZXR3ZWVuKE1hdGgubWF4KDAsICRmcm9tLnBhcmVudE9mZnNldCAtIE1BWF9NQVRDSCksICRmcm9tLnBhcmVudE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgXCJcXHVmZmZjXCIpICsgdGV4dFxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG1hdGNoID0gcnVsZXNbaV0ubWF0Y2guZXhlYyh0ZXh0QmVmb3JlKVxuICAgIGxldCB0ciA9IG1hdGNoICYmIHJ1bGVzW2ldLmhhbmRsZXIoc3RhdGUsIG1hdGNoLCBmcm9tIC0gKG1hdGNoWzBdLmxlbmd0aCAtIHRleHQubGVuZ3RoKSwgdG8pXG4gICAgaWYgKCF0cikgY29udGludWVcbiAgICB2aWV3LmRpc3BhdGNoKHRyLnNldE1ldGEocGx1Z2luLCB7dHJhbnNmb3JtOiB0ciwgZnJvbSwgdG8sIHRleHR9KSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8oVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gVGhpcyBpcyBhIGNvbW1hbmQgdGhhdCB3aWxsIHVuZG8gYW4gaW5wdXQgcnVsZSwgaWYgYXBwbHlpbmcgc3VjaCBhXG4vLyBydWxlIHdhcyB0aGUgbGFzdCB0aGluZyB0aGF0IHRoZSB1c2VyIGRpZC5cbmV4cG9ydCBmdW5jdGlvbiB1bmRvSW5wdXRSdWxlKHN0YXRlLCBkaXNwYXRjaCkge1xuICBsZXQgcGx1Z2lucyA9IHN0YXRlLnBsdWdpbnNcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbHVnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHBsdWdpbiA9IHBsdWdpbnNbaV0sIHVuZG9hYmxlXG4gICAgaWYgKHBsdWdpbi5zcGVjLmlzSW5wdXRSdWxlcyAmJiAodW5kb2FibGUgPSBwbHVnaW4uZ2V0U3RhdGUoc3RhdGUpKSkge1xuICAgICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICAgIGxldCB0ciA9IHN0YXRlLnRyLCB0b1VuZG8gPSB1bmRvYWJsZS50cmFuc2Zvcm1cbiAgICAgICAgZm9yIChsZXQgaiA9IHRvVW5kby5zdGVwcy5sZW5ndGggLSAxOyBqID49IDA7IGotLSlcbiAgICAgICAgICB0ci5zdGVwKHRvVW5kby5zdGVwc1tqXS5pbnZlcnQodG9VbmRvLmRvY3Nbal0pKVxuICAgICAgICBsZXQgbWFya3MgPSB0ci5kb2MucmVzb2x2ZSh1bmRvYWJsZS5mcm9tKS5tYXJrcygpXG4gICAgICAgIGRpc3BhdGNoKHRyLnJlcGxhY2VXaXRoKHVuZG9hYmxlLmZyb20sIHVuZG9hYmxlLnRvLCBzdGF0ZS5zY2hlbWEudGV4dCh1bmRvYWJsZS50ZXh0LCBtYXJrcykpKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG4iLCJpbXBvcnQge0lucHV0UnVsZX0gZnJvbSBcIi4vaW5wdXRydWxlc1wiXG5cbi8vIDo6IElucHV0UnVsZSBDb252ZXJ0cyBkb3VibGUgZGFzaGVzIHRvIGFuIGVtZGFzaC5cbmV4cG9ydCBjb25zdCBlbURhc2ggPSBuZXcgSW5wdXRSdWxlKC8tLSQvLCBcIuKAlFwiKVxuLy8gOjogSW5wdXRSdWxlIENvbnZlcnRzIHRocmVlIGRvdHMgdG8gYW4gZWxsaXBzaXMgY2hhcmFjdGVyLlxuZXhwb3J0IGNvbnN0IGVsbGlwc2lzID0gbmV3IElucHV0UnVsZSgvXFwuXFwuXFwuJC8sIFwi4oCmXCIpXG4vLyA6OiBJbnB1dFJ1bGUg4oCcU21hcnTigJ0gb3BlbmluZyBkb3VibGUgcXVvdGVzLlxuZXhwb3J0IGNvbnN0IG9wZW5Eb3VibGVRdW90ZSA9IG5ldyBJbnB1dFJ1bGUoLyg/Ol58W1xcc1xce1xcW1xcKFxcPCdcIlxcdTIwMThcXHUyMDFDXSkoXCIpJC8sIFwi4oCcXCIpXG4vLyA6OiBJbnB1dFJ1bGUg4oCcU21hcnTigJ0gY2xvc2luZyBkb3VibGUgcXVvdGVzLlxuZXhwb3J0IGNvbnN0IGNsb3NlRG91YmxlUXVvdGUgPSBuZXcgSW5wdXRSdWxlKC9cIiQvLCBcIuKAnVwiKVxuLy8gOjogSW5wdXRSdWxlIOKAnFNtYXJ04oCdIG9wZW5pbmcgc2luZ2xlIHF1b3Rlcy5cbmV4cG9ydCBjb25zdCBvcGVuU2luZ2xlUXVvdGUgPSBuZXcgSW5wdXRSdWxlKC8oPzpefFtcXHNcXHtcXFtcXChcXDwnXCJcXHUyMDE4XFx1MjAxQ10pKCcpJC8sIFwi4oCYXCIpXG4vLyA6OiBJbnB1dFJ1bGUg4oCcU21hcnTigJ0gY2xvc2luZyBzaW5nbGUgcXVvdGVzLlxuZXhwb3J0IGNvbnN0IGNsb3NlU2luZ2xlUXVvdGUgPSBuZXcgSW5wdXRSdWxlKC8nJC8sIFwi4oCZXCIpXG5cbi8vIDo6IFtJbnB1dFJ1bGVdIFNtYXJ0LXF1b3RlIHJlbGF0ZWQgaW5wdXQgcnVsZXMuXG5leHBvcnQgY29uc3Qgc21hcnRRdW90ZXMgPSBbb3BlbkRvdWJsZVF1b3RlLCBjbG9zZURvdWJsZVF1b3RlLCBvcGVuU2luZ2xlUXVvdGUsIGNsb3NlU2luZ2xlUXVvdGVdXG4iLCJpbXBvcnQge2ZpbmRXcmFwcGluZywgbGlmdFRhcmdldCwgY2FuU3BsaXQsIFJlcGxhY2VBcm91bmRTdGVwfSBmcm9tIFwicHJvc2VtaXJyb3ItdHJhbnNmb3JtXCJcbmltcG9ydCB7U2xpY2UsIEZyYWdtZW50LCBOb2RlUmFuZ2V9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5cbmNvbnN0IG9sRE9NID0gW1wib2xcIiwgMF0sIHVsRE9NID0gW1widWxcIiwgMF0sIGxpRE9NID0gW1wibGlcIiwgMF1cblxuLy8gOjogTm9kZVNwZWNcbi8vIEFuIG9yZGVyZWQgbGlzdCBbbm9kZSBzcGVjXSgjbW9kZWwuTm9kZVNwZWMpLiBIYXMgYSBzaW5nbGVcbi8vIGF0dHJpYnV0ZSwgYG9yZGVyYCwgd2hpY2ggZGV0ZXJtaW5lcyB0aGUgbnVtYmVyIGF0IHdoaWNoIHRoZSBsaXN0XG4vLyBzdGFydHMgY291bnRpbmcsIGFuZCBkZWZhdWx0cyB0byAxLiBSZXByZXNlbnRlZCBhcyBhbiBgPG9sPmBcbi8vIGVsZW1lbnQuXG5leHBvcnQgY29uc3Qgb3JkZXJlZExpc3QgPSB7XG4gIGF0dHJzOiB7b3JkZXI6IHtkZWZhdWx0OiAxfX0sXG4gIHBhcnNlRE9NOiBbe3RhZzogXCJvbFwiLCBnZXRBdHRycyhkb20pIHtcbiAgICByZXR1cm4ge29yZGVyOiBkb20uaGFzQXR0cmlidXRlKFwic3RhcnRcIikgPyArZG9tLmdldEF0dHJpYnV0ZShcInN0YXJ0XCIpIDogMX1cbiAgfX1dLFxuICB0b0RPTShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuYXR0cnMub3JkZXIgPT0gMSA/IG9sRE9NIDogW1wib2xcIiwge3N0YXJ0OiBub2RlLmF0dHJzLm9yZGVyfSwgMF1cbiAgfVxufVxuXG4vLyA6OiBOb2RlU3BlY1xuLy8gQSBidWxsZXQgbGlzdCBub2RlIHNwZWMsIHJlcHJlc2VudGVkIGluIHRoZSBET00gYXMgYDx1bD5gLlxuZXhwb3J0IGNvbnN0IGJ1bGxldExpc3QgPSB7XG4gIHBhcnNlRE9NOiBbe3RhZzogXCJ1bFwifV0sXG4gIHRvRE9NKCkgeyByZXR1cm4gdWxET00gfVxufVxuXG4vLyA6OiBOb2RlU3BlY1xuLy8gQSBsaXN0IGl0ZW0gKGA8bGk+YCkgc3BlYy5cbmV4cG9ydCBjb25zdCBsaXN0SXRlbSA9IHtcbiAgcGFyc2VET006IFt7dGFnOiBcImxpXCJ9XSxcbiAgdG9ET00oKSB7IHJldHVybiBsaURPTSB9LFxuICBkZWZpbmluZzogdHJ1ZVxufVxuXG5mdW5jdGlvbiBhZGQob2JqLCBwcm9wcykge1xuICBsZXQgY29weSA9IHt9XG4gIGZvciAobGV0IHByb3AgaW4gb2JqKSBjb3B5W3Byb3BdID0gb2JqW3Byb3BdXG4gIGZvciAobGV0IHByb3AgaW4gcHJvcHMpIGNvcHlbcHJvcF0gPSBwcm9wc1twcm9wXVxuICByZXR1cm4gY29weVxufVxuXG4vLyA6OiAoT3JkZXJlZE1hcDxOb2RlU3BlYz4sIHN0cmluZywgP3N0cmluZykg4oaSIE9yZGVyZWRNYXA8Tm9kZVNwZWM+XG4vLyBDb252ZW5pZW5jZSBmdW5jdGlvbiBmb3IgYWRkaW5nIGxpc3QtcmVsYXRlZCBub2RlIHR5cGVzIHRvIGEgbWFwXG4vLyBzcGVjaWZ5aW5nIHRoZSBub2RlcyBmb3IgYSBzY2hlbWEuIEFkZHNcbi8vIFtgb3JkZXJlZExpc3RgXSgjc2NoZW1hLWxpc3Qub3JkZXJlZExpc3QpIGFzIGBcIm9yZGVyZWRfbGlzdFwiYCxcbi8vIFtgYnVsbGV0TGlzdGBdKCNzY2hlbWEtbGlzdC5idWxsZXRMaXN0KSBhcyBgXCJidWxsZXRfbGlzdFwiYCwgYW5kXG4vLyBbYGxpc3RJdGVtYF0oI3NjaGVtYS1saXN0Lmxpc3RJdGVtKSBhcyBgXCJsaXN0X2l0ZW1cImAuXG4vL1xuLy8gYGl0ZW1Db250ZW50YCBkZXRlcm1pbmVzIHRoZSBjb250ZW50IGV4cHJlc3Npb24gZm9yIHRoZSBsaXN0IGl0ZW1zLlxuLy8gSWYgeW91IHdhbnQgdGhlIGNvbW1hbmRzIGRlZmluZWQgaW4gdGhpcyBtb2R1bGUgdG8gYXBwbHkgdG8geW91clxuLy8gbGlzdCBzdHJ1Y3R1cmUsIGl0IHNob3VsZCBoYXZlIGEgc2hhcGUgbGlrZSBgXCJwYXJhZ3JhcGggYmxvY2sqXCJgIG9yXG4vLyBgXCJwYXJhZ3JhcGggKG9yZGVyZWRfbGlzdCB8IGJ1bGxldF9saXN0KSpcImAuIGBsaXN0R3JvdXBgIGNhbiBiZVxuLy8gZ2l2ZW4gdG8gYXNzaWduIGEgZ3JvdXAgbmFtZSB0byB0aGUgbGlzdCBub2RlIHR5cGVzLCBmb3IgZXhhbXBsZVxuLy8gYFwiYmxvY2tcImAuXG5leHBvcnQgZnVuY3Rpb24gYWRkTGlzdE5vZGVzKG5vZGVzLCBpdGVtQ29udGVudCwgbGlzdEdyb3VwKSB7XG4gIHJldHVybiBub2Rlcy5hcHBlbmQoe1xuICAgIG9yZGVyZWRfbGlzdDogYWRkKG9yZGVyZWRMaXN0LCB7Y29udGVudDogXCJsaXN0X2l0ZW0rXCIsIGdyb3VwOiBsaXN0R3JvdXB9KSxcbiAgICBidWxsZXRfbGlzdDogYWRkKGJ1bGxldExpc3QsIHtjb250ZW50OiBcImxpc3RfaXRlbStcIiwgZ3JvdXA6IGxpc3RHcm91cH0pLFxuICAgIGxpc3RfaXRlbTogYWRkKGxpc3RJdGVtLCB7Y29udGVudDogaXRlbUNvbnRlbnR9KVxuICB9KVxufVxuXG4vLyA6OiAoTm9kZVR5cGUsID9PYmplY3QpIOKGkiAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaDogPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gUmV0dXJucyBhIGNvbW1hbmQgZnVuY3Rpb24gdGhhdCB3cmFwcyB0aGUgc2VsZWN0aW9uIGluIGEgbGlzdCB3aXRoXG4vLyB0aGUgZ2l2ZW4gdHlwZSBhbiBhdHRyaWJ1dGVzLiBJZiBgZGlzcGF0Y2hgIGlzIG51bGwsIG9ubHkgcmV0dXJuIGFcbi8vIHZhbHVlIHRvIGluZGljYXRlIHdoZXRoZXIgdGhpcyBpcyBwb3NzaWJsZSwgYnV0IGRvbid0IGFjdHVhbGx5XG4vLyBwZXJmb3JtIHRoZSBjaGFuZ2UuXG5leHBvcnQgZnVuY3Rpb24gd3JhcEluTGlzdChsaXN0VHlwZSwgYXR0cnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlLCBkaXNwYXRjaCkge1xuICAgIGxldCB7JGZyb20sICR0b30gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgICBsZXQgcmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0byksIGRvSm9pbiA9IGZhbHNlLCBvdXRlclJhbmdlID0gcmFuZ2VcbiAgICBpZiAoIXJhbmdlKSByZXR1cm4gZmFsc2VcbiAgICAvLyBUaGlzIGlzIGF0IHRoZSB0b3Agb2YgYW4gZXhpc3RpbmcgbGlzdCBpdGVtXG4gICAgaWYgKHJhbmdlLmRlcHRoID49IDIgJiYgJGZyb20ubm9kZShyYW5nZS5kZXB0aCAtIDEpLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQobGlzdFR5cGUpICYmIHJhbmdlLnN0YXJ0SW5kZXggPT0gMCkge1xuICAgICAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgdGhpcyBpcyB0aGUgdG9wIG9mIHRoZSBsaXN0XG4gICAgICBpZiAoJGZyb20uaW5kZXgocmFuZ2UuZGVwdGggLSAxKSA9PSAwKSByZXR1cm4gZmFsc2VcbiAgICAgIGxldCAkaW5zZXJ0ID0gc3RhdGUuZG9jLnJlc29sdmUocmFuZ2Uuc3RhcnQgLSAyKVxuICAgICAgb3V0ZXJSYW5nZSA9IG5ldyBOb2RlUmFuZ2UoJGluc2VydCwgJGluc2VydCwgcmFuZ2UuZGVwdGgpXG4gICAgICBpZiAocmFuZ2UuZW5kSW5kZXggPCByYW5nZS5wYXJlbnQuY2hpbGRDb3VudClcbiAgICAgICAgcmFuZ2UgPSBuZXcgTm9kZVJhbmdlKCRmcm9tLCBzdGF0ZS5kb2MucmVzb2x2ZSgkdG8uZW5kKHJhbmdlLmRlcHRoKSksIHJhbmdlLmRlcHRoKVxuICAgICAgZG9Kb2luID0gdHJ1ZVxuICAgIH1cbiAgICBsZXQgd3JhcCA9IGZpbmRXcmFwcGluZyhvdXRlclJhbmdlLCBsaXN0VHlwZSwgYXR0cnMsIHJhbmdlKVxuICAgIGlmICghd3JhcCkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChkb1dyYXBJbkxpc3Qoc3RhdGUudHIsIHJhbmdlLCB3cmFwLCBkb0pvaW4sIGxpc3RUeXBlKS5zY3JvbGxJbnRvVmlldygpKVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuZnVuY3Rpb24gZG9XcmFwSW5MaXN0KHRyLCByYW5nZSwgd3JhcHBlcnMsIGpvaW5CZWZvcmUsIGxpc3RUeXBlKSB7XG4gIGxldCBjb250ZW50ID0gRnJhZ21lbnQuZW1wdHlcbiAgZm9yIChsZXQgaSA9IHdyYXBwZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgIGNvbnRlbnQgPSBGcmFnbWVudC5mcm9tKHdyYXBwZXJzW2ldLnR5cGUuY3JlYXRlKHdyYXBwZXJzW2ldLmF0dHJzLCBjb250ZW50KSlcblxuICB0ci5zdGVwKG5ldyBSZXBsYWNlQXJvdW5kU3RlcChyYW5nZS5zdGFydCAtIChqb2luQmVmb3JlID8gMiA6IDApLCByYW5nZS5lbmQsIHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTbGljZShjb250ZW50LCAwLCAwKSwgd3JhcHBlcnMubGVuZ3RoLCB0cnVlKSlcblxuICBsZXQgZm91bmQgPSAwXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgd3JhcHBlcnMubGVuZ3RoOyBpKyspIGlmICh3cmFwcGVyc1tpXS50eXBlID09IGxpc3RUeXBlKSBmb3VuZCA9IGkgKyAxXG4gIGxldCBzcGxpdERlcHRoID0gd3JhcHBlcnMubGVuZ3RoIC0gZm91bmRcblxuICBsZXQgc3BsaXRQb3MgPSByYW5nZS5zdGFydCArIHdyYXBwZXJzLmxlbmd0aCAtIChqb2luQmVmb3JlID8gMiA6IDApLCBwYXJlbnQgPSByYW5nZS5wYXJlbnRcbiAgZm9yIChsZXQgaSA9IHJhbmdlLnN0YXJ0SW5kZXgsIGUgPSByYW5nZS5lbmRJbmRleCwgZmlyc3QgPSB0cnVlOyBpIDwgZTsgaSsrLCBmaXJzdCA9IGZhbHNlKSB7XG4gICAgaWYgKCFmaXJzdCAmJiBjYW5TcGxpdCh0ci5kb2MsIHNwbGl0UG9zLCBzcGxpdERlcHRoKSkge1xuICAgICAgdHIuc3BsaXQoc3BsaXRQb3MsIHNwbGl0RGVwdGgpXG4gICAgICBzcGxpdFBvcyArPSAyICogc3BsaXREZXB0aFxuICAgIH1cbiAgICBzcGxpdFBvcyArPSBwYXJlbnQuY2hpbGQoaSkubm9kZVNpemVcbiAgfVxuICByZXR1cm4gdHJcbn1cblxuLy8gOjogKE5vZGVUeXBlKSDihpIgKHN0YXRlOiBFZGl0b3JTdGF0ZSwgZGlzcGF0Y2g6ID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIEJ1aWxkIGEgY29tbWFuZCB0aGF0IHNwbGl0cyBhIG5vbi1lbXB0eSB0ZXh0YmxvY2sgYXQgdGhlIHRvcCBsZXZlbFxuLy8gb2YgYSBsaXN0IGl0ZW0gYnkgYWxzbyBzcGxpdHRpbmcgdGhhdCBsaXN0IGl0ZW0uXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRMaXN0SXRlbShpdGVtVHlwZSkge1xuICByZXR1cm4gZnVuY3Rpb24oc3RhdGUsIGRpc3BhdGNoKSB7XG4gICAgbGV0IHskZnJvbSwgJHRvLCBub2RlfSA9IHN0YXRlLnNlbGVjdGlvblxuICAgIGlmICgobm9kZSAmJiBub2RlLmlzQmxvY2spIHx8ICRmcm9tLmRlcHRoIDwgMiB8fCAhJGZyb20uc2FtZVBhcmVudCgkdG8pKSByZXR1cm4gZmFsc2VcbiAgICBsZXQgZ3JhbmRQYXJlbnQgPSAkZnJvbS5ub2RlKC0xKVxuICAgIGlmIChncmFuZFBhcmVudC50eXBlICE9IGl0ZW1UeXBlKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoJGZyb20ucGFyZW50LmNvbnRlbnQuc2l6ZSA9PSAwKSB7XG4gICAgICAvLyBJbiBhbiBlbXB0eSBibG9jay4gSWYgdGhpcyBpcyBhIG5lc3RlZCBsaXN0LCB0aGUgd3JhcHBpbmdcbiAgICAgIC8vIGxpc3QgaXRlbSBzaG91bGQgYmUgc3BsaXQuIE90aGVyd2lzZSwgYmFpbCBvdXQgYW5kIGxldCBuZXh0XG4gICAgICAvLyBjb21tYW5kIGhhbmRsZSBsaWZ0aW5nLlxuICAgICAgaWYgKCRmcm9tLmRlcHRoID09IDIgfHwgJGZyb20ubm9kZSgtMykudHlwZSAhPSBpdGVtVHlwZSB8fFxuICAgICAgICAgICRmcm9tLmluZGV4KC0yKSAhPSAkZnJvbS5ub2RlKC0yKS5jaGlsZENvdW50IC0gMSkgcmV0dXJuIGZhbHNlXG4gICAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgICAgbGV0IHdyYXAgPSBGcmFnbWVudC5lbXB0eSwga2VlcEl0ZW0gPSAkZnJvbS5pbmRleCgtMSkgPiAwXG4gICAgICAgIC8vIEJ1aWxkIGEgZnJhZ21lbnQgY29udGFpbmluZyBlbXB0eSB2ZXJzaW9ucyBvZiB0aGUgc3RydWN0dXJlXG4gICAgICAgIC8vIGZyb20gdGhlIG91dGVyIGxpc3QgaXRlbSB0byB0aGUgcGFyZW50IG5vZGUgb2YgdGhlIGN1cnNvclxuICAgICAgICBmb3IgKGxldCBkID0gJGZyb20uZGVwdGggLSAoa2VlcEl0ZW0gPyAxIDogMik7IGQgPj0gJGZyb20uZGVwdGggLSAzOyBkLS0pXG4gICAgICAgICAgd3JhcCA9IEZyYWdtZW50LmZyb20oJGZyb20ubm9kZShkKS5jb3B5KHdyYXApKVxuICAgICAgICAvLyBBZGQgYSBzZWNvbmQgbGlzdCBpdGVtIHdpdGggYW4gZW1wdHkgZGVmYXVsdCBzdGFydCBub2RlXG4gICAgICAgIHdyYXAgPSB3cmFwLmFwcGVuZChGcmFnbWVudC5mcm9tKGl0ZW1UeXBlLmNyZWF0ZUFuZEZpbGwoKSkpXG4gICAgICAgIGxldCB0ciA9IHN0YXRlLnRyLnJlcGxhY2UoJGZyb20uYmVmb3JlKGtlZXBJdGVtID8gbnVsbCA6IC0xKSwgJGZyb20uYWZ0ZXIoLTMpLCBuZXcgU2xpY2Uod3JhcCwga2VlcEl0ZW0gPyAzIDogMiwgMikpXG4gICAgICAgIHRyLnNldFNlbGVjdGlvbihzdGF0ZS5zZWxlY3Rpb24uY29uc3RydWN0b3IubmVhcih0ci5kb2MucmVzb2x2ZSgkZnJvbS5wb3MgKyAoa2VlcEl0ZW0gPyAzIDogMikpKSlcbiAgICAgICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIGxldCBuZXh0VHlwZSA9ICR0by5wb3MgPT0gJGZyb20uZW5kKCkgPyBncmFuZFBhcmVudC5jb250ZW50TWF0Y2hBdCgwKS5kZWZhdWx0VHlwZSA6IG51bGxcbiAgICBsZXQgdHIgPSBzdGF0ZS50ci5kZWxldGUoJGZyb20ucG9zLCAkdG8ucG9zKVxuICAgIGxldCB0eXBlcyA9IG5leHRUeXBlICYmIFtudWxsLCB7dHlwZTogbmV4dFR5cGV9XVxuICAgIGlmICghY2FuU3BsaXQodHIuZG9jLCAkZnJvbS5wb3MsIDIsIHR5cGVzKSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaCh0ci5zcGxpdCgkZnJvbS5wb3MsIDIsIHR5cGVzKS5zY3JvbGxJbnRvVmlldygpKVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuLy8gOjogKE5vZGVUeXBlKSDihpIgKHN0YXRlOiBFZGl0b3JTdGF0ZSwgZGlzcGF0Y2g6ID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIENyZWF0ZSBhIGNvbW1hbmQgdG8gbGlmdCB0aGUgbGlzdCBpdGVtIGFyb3VuZCB0aGUgc2VsZWN0aW9uIHVwIGludG9cbi8vIGEgd3JhcHBpbmcgbGlzdC5cbmV4cG9ydCBmdW5jdGlvbiBsaWZ0TGlzdEl0ZW0oaXRlbVR5cGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlLCBkaXNwYXRjaCkge1xuICAgIGxldCB7JGZyb20sICR0b30gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgICBsZXQgcmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0bywgbm9kZSA9PiBub2RlLmNoaWxkQ291bnQgJiYgbm9kZS5maXJzdENoaWxkLnR5cGUgPT0gaXRlbVR5cGUpXG4gICAgaWYgKCFyYW5nZSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKCFkaXNwYXRjaCkgcmV0dXJuIHRydWVcbiAgICBpZiAoJGZyb20ubm9kZShyYW5nZS5kZXB0aCAtIDEpLnR5cGUgPT0gaXRlbVR5cGUpIC8vIEluc2lkZSBhIHBhcmVudCBsaXN0XG4gICAgICByZXR1cm4gbGlmdFRvT3V0ZXJMaXN0KHN0YXRlLCBkaXNwYXRjaCwgaXRlbVR5cGUsIHJhbmdlKVxuICAgIGVsc2UgLy8gT3V0ZXIgbGlzdCBub2RlXG4gICAgICByZXR1cm4gbGlmdE91dE9mTGlzdChzdGF0ZSwgZGlzcGF0Y2gsIHJhbmdlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGxpZnRUb091dGVyTGlzdChzdGF0ZSwgZGlzcGF0Y2gsIGl0ZW1UeXBlLCByYW5nZSkge1xuICBsZXQgdHIgPSBzdGF0ZS50ciwgZW5kID0gcmFuZ2UuZW5kLCBlbmRPZkxpc3QgPSByYW5nZS4kdG8uZW5kKHJhbmdlLmRlcHRoKVxuICBpZiAoZW5kIDwgZW5kT2ZMaXN0KSB7XG4gICAgLy8gVGhlcmUgYXJlIHNpYmxpbmdzIGFmdGVyIHRoZSBsaWZ0ZWQgaXRlbXMsIHdoaWNoIG11c3QgYmVjb21lXG4gICAgLy8gY2hpbGRyZW4gb2YgdGhlIGxhc3QgaXRlbVxuICAgIHRyLnN0ZXAobmV3IFJlcGxhY2VBcm91bmRTdGVwKGVuZCAtIDEsIGVuZE9mTGlzdCwgZW5kLCBlbmRPZkxpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWNlKEZyYWdtZW50LmZyb20oaXRlbVR5cGUuY3JlYXRlKG51bGwsIHJhbmdlLnBhcmVudC5jb3B5KCkpKSwgMSwgMCksIDEsIHRydWUpKVxuICAgIHJhbmdlID0gbmV3IE5vZGVSYW5nZSh0ci5kb2MucmVzb2x2ZShyYW5nZS4kZnJvbS5wb3MpLCB0ci5kb2MucmVzb2x2ZShlbmRPZkxpc3QpLCByYW5nZS5kZXB0aClcbiAgfVxuICBkaXNwYXRjaCh0ci5saWZ0KHJhbmdlLCBsaWZ0VGFyZ2V0KHJhbmdlKSkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gbGlmdE91dE9mTGlzdChzdGF0ZSwgZGlzcGF0Y2gsIHJhbmdlKSB7XG4gIGxldCB0ciA9IHN0YXRlLnRyLCBsaXN0ID0gcmFuZ2UucGFyZW50XG4gIC8vIE1lcmdlIHRoZSBsaXN0IGl0ZW1zIGludG8gYSBzaW5nbGUgYmlnIGl0ZW1cbiAgZm9yIChsZXQgcG9zID0gcmFuZ2UuZW5kLCBpID0gcmFuZ2UuZW5kSW5kZXggLSAxLCBlID0gcmFuZ2Uuc3RhcnRJbmRleDsgaSA+IGU7IGktLSkge1xuICAgIHBvcyAtPSBsaXN0LmNoaWxkKGkpLm5vZGVTaXplXG4gICAgdHIuZGVsZXRlKHBvcyAtIDEsIHBvcyArIDEpXG4gIH1cbiAgbGV0ICRzdGFydCA9IHRyLmRvYy5yZXNvbHZlKHJhbmdlLnN0YXJ0KSwgaXRlbSA9ICRzdGFydC5ub2RlQWZ0ZXJcbiAgbGV0IGF0U3RhcnQgPSByYW5nZS5zdGFydEluZGV4ID09IDAsIGF0RW5kID0gcmFuZ2UuZW5kSW5kZXggPT0gbGlzdC5jaGlsZENvdW50XG4gIGxldCBwYXJlbnQgPSAkc3RhcnQubm9kZSgtMSksIGluZGV4QmVmb3JlID0gJHN0YXJ0LmluZGV4KC0xKVxuICBpZiAoIXBhcmVudC5jYW5SZXBsYWNlKGluZGV4QmVmb3JlICsgKGF0U3RhcnQgPyAwIDogMSksIGluZGV4QmVmb3JlICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNvbnRlbnQuYXBwZW5kKGF0RW5kID8gRnJhZ21lbnQuZW1wdHkgOiBGcmFnbWVudC5mcm9tKGxpc3QpKSkpXG4gICAgcmV0dXJuIGZhbHNlXG4gIGxldCBzdGFydCA9ICRzdGFydC5wb3MsIGVuZCA9IHN0YXJ0ICsgaXRlbS5ub2RlU2l6ZVxuICAvLyBTdHJpcCBvZmYgdGhlIHN1cnJvdW5kaW5nIGxpc3QuIEF0IHRoZSBzaWRlcyB3aGVyZSB3ZSdyZSBub3QgYXRcbiAgLy8gdGhlIGVuZCBvZiB0aGUgbGlzdCwgdGhlIGV4aXN0aW5nIGxpc3QgaXMgY2xvc2VkLiBBdCBzaWRlcyB3aGVyZVxuICAvLyB0aGlzIGlzIHRoZSBlbmQsIGl0IGlzIG92ZXJ3cml0dGVuIHRvIGl0cyBlbmQuXG4gIHRyLnN0ZXAobmV3IFJlcGxhY2VBcm91bmRTdGVwKHN0YXJ0IC0gKGF0U3RhcnQgPyAxIDogMCksIGVuZCArIChhdEVuZCA/IDEgOiAwKSwgc3RhcnQgKyAxLCBlbmQgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2xpY2UoKGF0U3RhcnQgPyBGcmFnbWVudC5lbXB0eSA6IEZyYWdtZW50LmZyb20obGlzdC5jb3B5KEZyYWdtZW50LmVtcHR5KSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKGF0RW5kID8gRnJhZ21lbnQuZW1wdHkgOiBGcmFnbWVudC5mcm9tKGxpc3QuY29weShGcmFnbWVudC5lbXB0eSkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0U3RhcnQgPyAwIDogMSwgYXRFbmQgPyAwIDogMSksIGF0U3RhcnQgPyAwIDogMSkpXG4gIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpXG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChOb2RlVHlwZSkg4oaSIChzdGF0ZTogRWRpdG9yU3RhdGUsIGRpc3BhdGNoOiA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBDcmVhdGUgYSBjb21tYW5kIHRvIHNpbmsgdGhlIGxpc3QgaXRlbSBhcm91bmQgdGhlIHNlbGVjdGlvbiBkb3duXG4vLyBpbnRvIGFuIGlubmVyIGxpc3QuXG5leHBvcnQgZnVuY3Rpb24gc2lua0xpc3RJdGVtKGl0ZW1UeXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICBsZXQgeyRmcm9tLCAkdG99ID0gc3RhdGUuc2VsZWN0aW9uXG4gICAgbGV0IHJhbmdlID0gJGZyb20uYmxvY2tSYW5nZSgkdG8sIG5vZGUgPT4gbm9kZS5jaGlsZENvdW50ICYmIG5vZGUuZmlyc3RDaGlsZC50eXBlID09IGl0ZW1UeXBlKVxuICAgIGlmICghcmFuZ2UpIHJldHVybiBmYWxzZVxuICAgIGxldCBzdGFydEluZGV4ID0gcmFuZ2Uuc3RhcnRJbmRleFxuICAgIGlmIChzdGFydEluZGV4ID09IDApIHJldHVybiBmYWxzZVxuICAgIGxldCBwYXJlbnQgPSByYW5nZS5wYXJlbnQsIG5vZGVCZWZvcmUgPSBwYXJlbnQuY2hpbGQoc3RhcnRJbmRleCAtIDEpXG4gICAgaWYgKG5vZGVCZWZvcmUudHlwZSAhPSBpdGVtVHlwZSkgcmV0dXJuIGZhbHNlXG5cbiAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgIGxldCBuZXN0ZWRCZWZvcmUgPSBub2RlQmVmb3JlLmxhc3RDaGlsZCAmJiBub2RlQmVmb3JlLmxhc3RDaGlsZC50eXBlID09IHBhcmVudC50eXBlXG4gICAgICBsZXQgaW5uZXIgPSBGcmFnbWVudC5mcm9tKG5lc3RlZEJlZm9yZSA/IGl0ZW1UeXBlLmNyZWF0ZSgpIDogbnVsbClcbiAgICAgIGxldCBzbGljZSA9IG5ldyBTbGljZShGcmFnbWVudC5mcm9tKGl0ZW1UeXBlLmNyZWF0ZShudWxsLCBGcmFnbWVudC5mcm9tKHBhcmVudC50eXBlLmNyZWF0ZShudWxsLCBpbm5lcikpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVzdGVkQmVmb3JlID8gMyA6IDEsIDApXG4gICAgICBsZXQgYmVmb3JlID0gcmFuZ2Uuc3RhcnQsIGFmdGVyID0gcmFuZ2UuZW5kXG4gICAgICBkaXNwYXRjaChzdGF0ZS50ci5zdGVwKG5ldyBSZXBsYWNlQXJvdW5kU3RlcChiZWZvcmUgLSAobmVzdGVkQmVmb3JlID8gMyA6IDEpLCBhZnRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZSwgYWZ0ZXIsIHNsaWNlLCAxLCB0cnVlKSlcbiAgICAgICAgICAgICAgIC5zY3JvbGxJbnRvVmlldygpKVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG4iLCJpbXBvcnQge1NjaGVtYX0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcblxuY29uc3QgcERPTSA9IFtcInBcIiwgMF0sIGJsb2NrcXVvdGVET00gPSBbXCJibG9ja3F1b3RlXCIsIDBdLCBockRPTSA9IFtcImhyXCJdLFxuICAgICAgcHJlRE9NID0gW1wicHJlXCIsIFtcImNvZGVcIiwgMF1dLCBickRPTSA9IFtcImJyXCJdXG5cbi8vIDo6IE9iamVjdFxuLy8gW1NwZWNzXSgjbW9kZWwuTm9kZVNwZWMpIGZvciB0aGUgbm9kZXMgZGVmaW5lZCBpbiB0aGlzIHNjaGVtYS5cbmV4cG9ydCBjb25zdCBub2RlcyA9IHtcbiAgLy8gOjogTm9kZVNwZWMgVGhlIHRvcCBsZXZlbCBkb2N1bWVudCBub2RlLlxuICBkb2M6IHtcbiAgICBjb250ZW50OiBcImJsb2NrK1wiXG4gIH0sXG5cbiAgLy8gOjogTm9kZVNwZWMgQSBwbGFpbiBwYXJhZ3JhcGggdGV4dGJsb2NrLiBSZXByZXNlbnRlZCBpbiB0aGUgRE9NXG4gIC8vIGFzIGEgYDxwPmAgZWxlbWVudC5cbiAgcGFyYWdyYXBoOiB7XG4gICAgY29udGVudDogXCJpbmxpbmUqXCIsXG4gICAgZ3JvdXA6IFwiYmxvY2tcIixcbiAgICBwYXJzZURPTTogW3t0YWc6IFwicFwifV0sXG4gICAgdG9ET00oKSB7IHJldHVybiBwRE9NIH1cbiAgfSxcblxuICAvLyA6OiBOb2RlU3BlYyBBIGJsb2NrcXVvdGUgKGA8YmxvY2txdW90ZT5gKSB3cmFwcGluZyBvbmUgb3IgbW9yZSBibG9ja3MuXG4gIGJsb2NrcXVvdGU6IHtcbiAgICBjb250ZW50OiBcImJsb2NrK1wiLFxuICAgIGdyb3VwOiBcImJsb2NrXCIsXG4gICAgZGVmaW5pbmc6IHRydWUsXG4gICAgcGFyc2VET006IFt7dGFnOiBcImJsb2NrcXVvdGVcIn1dLFxuICAgIHRvRE9NKCkgeyByZXR1cm4gYmxvY2txdW90ZURPTSB9XG4gIH0sXG5cbiAgLy8gOjogTm9kZVNwZWMgQSBob3Jpem9udGFsIHJ1bGUgKGA8aHI+YCkuXG4gIGhvcml6b250YWxfcnVsZToge1xuICAgIGdyb3VwOiBcImJsb2NrXCIsXG4gICAgcGFyc2VET006IFt7dGFnOiBcImhyXCJ9XSxcbiAgICB0b0RPTSgpIHsgcmV0dXJuIGhyRE9NIH1cbiAgfSxcblxuICAvLyA6OiBOb2RlU3BlYyBBIGhlYWRpbmcgdGV4dGJsb2NrLCB3aXRoIGEgYGxldmVsYCBhdHRyaWJ1dGUgdGhhdFxuICAvLyBzaG91bGQgaG9sZCB0aGUgbnVtYmVyIDEgdG8gNi4gUGFyc2VkIGFuZCBzZXJpYWxpemVkIGFzIGA8aDE+YCB0b1xuICAvLyBgPGg2PmAgZWxlbWVudHMuXG4gIGhlYWRpbmc6IHtcbiAgICBhdHRyczoge2xldmVsOiB7ZGVmYXVsdDogMX19LFxuICAgIGNvbnRlbnQ6IFwiaW5saW5lKlwiLFxuICAgIGdyb3VwOiBcImJsb2NrXCIsXG4gICAgZGVmaW5pbmc6IHRydWUsXG4gICAgcGFyc2VET006IFt7dGFnOiBcImgxXCIsIGF0dHJzOiB7bGV2ZWw6IDF9fSxcbiAgICAgICAgICAgICAgIHt0YWc6IFwiaDJcIiwgYXR0cnM6IHtsZXZlbDogMn19LFxuICAgICAgICAgICAgICAge3RhZzogXCJoM1wiLCBhdHRyczoge2xldmVsOiAzfX0sXG4gICAgICAgICAgICAgICB7dGFnOiBcImg0XCIsIGF0dHJzOiB7bGV2ZWw6IDR9fSxcbiAgICAgICAgICAgICAgIHt0YWc6IFwiaDVcIiwgYXR0cnM6IHtsZXZlbDogNX19LFxuICAgICAgICAgICAgICAge3RhZzogXCJoNlwiLCBhdHRyczoge2xldmVsOiA2fX1dLFxuICAgIHRvRE9NKG5vZGUpIHsgcmV0dXJuIFtcImhcIiArIG5vZGUuYXR0cnMubGV2ZWwsIDBdIH1cbiAgfSxcblxuICAvLyA6OiBOb2RlU3BlYyBBIGNvZGUgbGlzdGluZy4gRGlzYWxsb3dzIG1hcmtzIG9yIG5vbi10ZXh0IGlubGluZVxuICAvLyBub2RlcyBieSBkZWZhdWx0LiBSZXByZXNlbnRlZCBhcyBhIGA8cHJlPmAgZWxlbWVudCB3aXRoIGFcbiAgLy8gYDxjb2RlPmAgZWxlbWVudCBpbnNpZGUgb2YgaXQuXG4gIGNvZGVfYmxvY2s6IHtcbiAgICBjb250ZW50OiBcInRleHQqXCIsXG4gICAgbWFya3M6IFwiXCIsXG4gICAgZ3JvdXA6IFwiYmxvY2tcIixcbiAgICBjb2RlOiB0cnVlLFxuICAgIGRlZmluaW5nOiB0cnVlLFxuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJwcmVcIiwgcHJlc2VydmVXaGl0ZXNwYWNlOiBcImZ1bGxcIn1dLFxuICAgIHRvRE9NKCkgeyByZXR1cm4gcHJlRE9NIH1cbiAgfSxcblxuICAvLyA6OiBOb2RlU3BlYyBUaGUgdGV4dCBub2RlLlxuICB0ZXh0OiB7XG4gICAgZ3JvdXA6IFwiaW5saW5lXCJcbiAgfSxcblxuICAvLyA6OiBOb2RlU3BlYyBBbiBpbmxpbmUgaW1hZ2UgKGA8aW1nPmApIG5vZGUuIFN1cHBvcnRzIGBzcmNgLFxuICAvLyBgYWx0YCwgYW5kIGBocmVmYCBhdHRyaWJ1dGVzLiBUaGUgbGF0dGVyIHR3byBkZWZhdWx0IHRvIHRoZSBlbXB0eVxuICAvLyBzdHJpbmcuXG4gIGltYWdlOiB7XG4gICAgaW5saW5lOiB0cnVlLFxuICAgIGF0dHJzOiB7XG4gICAgICBzcmM6IHt9LFxuICAgICAgYWx0OiB7ZGVmYXVsdDogbnVsbH0sXG4gICAgICB0aXRsZToge2RlZmF1bHQ6IG51bGx9XG4gICAgfSxcbiAgICBncm91cDogXCJpbmxpbmVcIixcbiAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgcGFyc2VET006IFt7dGFnOiBcImltZ1tzcmNdXCIsIGdldEF0dHJzKGRvbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3JjOiBkb20uZ2V0QXR0cmlidXRlKFwic3JjXCIpLFxuICAgICAgICB0aXRsZTogZG9tLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpLFxuICAgICAgICBhbHQ6IGRvbS5nZXRBdHRyaWJ1dGUoXCJhbHRcIilcbiAgICAgIH1cbiAgICB9fV0sXG4gICAgdG9ET00obm9kZSkgeyBsZXQge3NyYywgYWx0LCB0aXRsZX0gPSBub2RlLmF0dHJzOyByZXR1cm4gW1wiaW1nXCIsIHtzcmMsIGFsdCwgdGl0bGV9XSB9XG4gIH0sXG5cbiAgLy8gOjogTm9kZVNwZWMgQSBoYXJkIGxpbmUgYnJlYWssIHJlcHJlc2VudGVkIGluIHRoZSBET00gYXMgYDxicj5gLlxuICBoYXJkX2JyZWFrOiB7XG4gICAgaW5saW5lOiB0cnVlLFxuICAgIGdyb3VwOiBcImlubGluZVwiLFxuICAgIHNlbGVjdGFibGU6IGZhbHNlLFxuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJiclwifV0sXG4gICAgdG9ET00oKSB7IHJldHVybiBickRPTSB9XG4gIH1cbn1cblxuY29uc3QgZW1ET00gPSBbXCJlbVwiLCAwXSwgc3Ryb25nRE9NID0gW1wic3Ryb25nXCIsIDBdLCBjb2RlRE9NID0gW1wiY29kZVwiLCAwXVxuXG4vLyA6OiBPYmplY3QgW1NwZWNzXSgjbW9kZWwuTWFya1NwZWMpIGZvciB0aGUgbWFya3MgaW4gdGhlIHNjaGVtYS5cbmV4cG9ydCBjb25zdCBtYXJrcyA9IHtcbiAgLy8gOjogTWFya1NwZWMgQSBsaW5rLiBIYXMgYGhyZWZgIGFuZCBgdGl0bGVgIGF0dHJpYnV0ZXMuIGB0aXRsZWBcbiAgLy8gZGVmYXVsdHMgdG8gdGhlIGVtcHR5IHN0cmluZy4gUmVuZGVyZWQgYW5kIHBhcnNlZCBhcyBhbiBgPGE+YFxuICAvLyBlbGVtZW50LlxuICBsaW5rOiB7XG4gICAgYXR0cnM6IHtcbiAgICAgIGhyZWY6IHt9LFxuICAgICAgdGl0bGU6IHtkZWZhdWx0OiBudWxsfVxuICAgIH0sXG4gICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICBwYXJzZURPTTogW3t0YWc6IFwiYVtocmVmXVwiLCBnZXRBdHRycyhkb20pIHtcbiAgICAgIHJldHVybiB7aHJlZjogZG9tLmdldEF0dHJpYnV0ZShcImhyZWZcIiksIHRpdGxlOiBkb20uZ2V0QXR0cmlidXRlKFwidGl0bGVcIil9XG4gICAgfX1dLFxuICAgIHRvRE9NKG5vZGUpIHsgbGV0IHtocmVmLCB0aXRsZX0gPSBub2RlLmF0dHJzOyByZXR1cm4gW1wiYVwiLCB7aHJlZiwgdGl0bGV9LCAwXSB9XG4gIH0sXG5cbiAgLy8gOjogTWFya1NwZWMgQW4gZW1waGFzaXMgbWFyay4gUmVuZGVyZWQgYXMgYW4gYDxlbT5gIGVsZW1lbnQuXG4gIC8vIEhhcyBwYXJzZSBydWxlcyB0aGF0IGFsc28gbWF0Y2ggYDxpPmAgYW5kIGBmb250LXN0eWxlOiBpdGFsaWNgLlxuICBlbToge1xuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJpXCJ9LCB7dGFnOiBcImVtXCJ9LCB7c3R5bGU6IFwiZm9udC1zdHlsZT1pdGFsaWNcIn1dLFxuICAgIHRvRE9NKCkgeyByZXR1cm4gZW1ET00gfVxuICB9LFxuXG4gIC8vIDo6IE1hcmtTcGVjIEEgc3Ryb25nIG1hcmsuIFJlbmRlcmVkIGFzIGA8c3Ryb25nPmAsIHBhcnNlIHJ1bGVzXG4gIC8vIGFsc28gbWF0Y2ggYDxiPmAgYW5kIGBmb250LXdlaWdodDogYm9sZGAuXG4gIHN0cm9uZzoge1xuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJzdHJvbmdcIn0sXG4gICAgICAgICAgICAgICAvLyBUaGlzIHdvcmtzIGFyb3VuZCBhIEdvb2dsZSBEb2NzIG1pc2JlaGF2aW9yIHdoZXJlXG4gICAgICAgICAgICAgICAvLyBwYXN0ZWQgY29udGVudCB3aWxsIGJlIGluZXhwbGljYWJseSB3cmFwcGVkIGluIGA8Yj5gXG4gICAgICAgICAgICAgICAvLyB0YWdzIHdpdGggYSBmb250LXdlaWdodCBub3JtYWwuXG4gICAgICAgICAgICAgICB7dGFnOiBcImJcIiwgZ2V0QXR0cnM6IG5vZGUgPT4gbm9kZS5zdHlsZS5mb250V2VpZ2h0ICE9IFwibm9ybWFsXCIgJiYgbnVsbH0sXG4gICAgICAgICAgICAgICB7c3R5bGU6IFwiZm9udC13ZWlnaHRcIiwgZ2V0QXR0cnM6IHZhbHVlID0+IC9eKGJvbGQoZXIpP3xbNS05XVxcZHsyLH0pJC8udGVzdCh2YWx1ZSkgJiYgbnVsbH1dLFxuICAgIHRvRE9NKCkgeyByZXR1cm4gc3Ryb25nRE9NIH1cbiAgfSxcblxuICAvLyA6OiBNYXJrU3BlYyBDb2RlIGZvbnQgbWFyay4gUmVwcmVzZW50ZWQgYXMgYSBgPGNvZGU+YCBlbGVtZW50LlxuICBjb2RlOiB7XG4gICAgcGFyc2VET006IFt7dGFnOiBcImNvZGVcIn1dLFxuICAgIHRvRE9NKCkgeyByZXR1cm4gY29kZURPTSB9XG4gIH1cbn1cblxuLy8gOjogU2NoZW1hXG4vLyBUaGlzIHNjaGVtYSByb3VnaGx5IGNvcnJlc3BvbmRzIHRvIHRoZSBkb2N1bWVudCBzY2hlbWEgdXNlZCBieVxuLy8gW0NvbW1vbk1hcmtdKGh0dHA6Ly9jb21tb25tYXJrLm9yZy8pLCBtaW51cyB0aGUgbGlzdCBlbGVtZW50cyxcbi8vIHdoaWNoIGFyZSBkZWZpbmVkIGluIHRoZSBbYHByb3NlbWlycm9yLXNjaGVtYS1saXN0YF0oI3NjaGVtYS1saXN0KVxuLy8gbW9kdWxlLlxuLy9cbi8vIFRvIHJldXNlIGVsZW1lbnRzIGZyb20gdGhpcyBzY2hlbWEsIGV4dGVuZCBvciByZWFkIGZyb20gaXRzXG4vLyBgc3BlYy5ub2Rlc2AgYW5kIGBzcGVjLm1hcmtzYCBbcHJvcGVydGllc10oI21vZGVsLlNjaGVtYS5zcGVjKS5cbmV4cG9ydCBjb25zdCBzY2hlbWEgPSBuZXcgU2NoZW1hKHtub2RlcywgbWFya3N9KVxuIiwiaW1wb3J0IHsgYnVsbGV0TGlzdCwgbGlzdEl0ZW0sIG9yZGVyZWRMaXN0IH0gZnJvbSAncHJvc2VtaXJyb3Itc2NoZW1hLWxpc3QnO1xuaW1wb3J0IHsgbWFya3MgfSBmcm9tICdwcm9zZW1pcnJvci1zY2hlbWEtYmFzaWMnO1xuaW1wb3J0IE9yZGVyZWRNYXAgZnJvbSAnb3JkZXJlZG1hcCc7XG5cbmltcG9ydCB7XG4gIERPTU91dHB1dFNwZWNBcnJheSxcbiAgTm9kZVNwZWMsXG4gIFNjaGVtYSxcbn0gZnJvbSAncHJvc2VtaXJyb3ItbW9kZWwnO1xuXG5jb25zdCBFRElUT1JfQ0xTID0gJ3NuLWVkaXRvcic7XG5cbmNvbnN0IGRvY1NwZWM6IE5vZGVTcGVjID0ge1xuICBjb250ZW50OiAnYmxvY2srJyxcbiAgdG9ET00obm9kZSkge1xuICAgIHJldHVybiBbXG4gICAgICAnbWFpbicsXG4gICAgICB7ICdjbGFzcyc6IEVESVRPUl9DTFMgfSxcbiAgICAgIDAsXG4gICAgXTtcbiAgfSxcbiAgcGFyc2VET006IFtcbiAgICB7XG4gICAgICB0YWc6ICdtYWluJyxcbiAgICB9LFxuICBdLFxufTtcblxuY29uc3QgaGVhZGluZzFTcGVjOiBOb2RlU3BlYyA9IHtcbiAgY29udGVudDogJ2lubGluZSonLFxuICBkZWZpbmluZzogdHJ1ZSxcbiAgZ3JvdXA6ICdibG9jaycsXG4gIHRvRE9NKG5vZGUpIHtcbiAgICByZXR1cm4gW1xuICAgICAgJ2gxJyxcbiAgICAgIHsgJ2NsYXNzJzogRURJVE9SX0NMUyB9LFxuICAgICAgMCxcbiAgICBdO1xuICB9LFxuICBwYXJzZURPTTogW1xuICAgIHtcbiAgICAgIHRhZzogJ2gxJyxcbiAgICB9LFxuICBdLFxufTtcblxuY29uc3QgaGVhZGluZzJTcGVjOiBOb2RlU3BlYyA9IHtcbiAgY29udGVudDogJ2lubGluZSonLFxuICBkZWZpbmluZzogdHJ1ZSxcbiAgZ3JvdXA6ICdibG9jaycsXG4gIHRvRE9NKG5vZGUpIHtcbiAgICByZXR1cm4gW1xuICAgICAgJ2gyJyxcbiAgICAgIHsgJ2NsYXNzJzogRURJVE9SX0NMUyB9LFxuICAgICAgMFxuICAgIF07XG4gIH0sXG4gIHBhcnNlRE9NOiBbeyB0YWc6ICdoMicgfV0sXG59O1xuXG5jb25zdCBwYXJhZ3JhcGhTcGVjOiBOb2RlU3BlYyA9IHtcbiAgY29udGVudDogJ2lubGluZSonLFxuICBncm91cDogJ2Jsb2NrJyxcbiAgbWFya3M6ICdfJyxcbiAgdG9ET00obm9kZSkge1xuICAgIHJldHVybiBbXG4gICAgICAncCcsXG4gICAgICB7ICdjbGFzcyc6IEVESVRPUl9DTFMgfSxcbiAgICAgIDAsXG4gICAgXTtcbiAgfSxcbiAgcGFyc2VET006IFt7IHRhZzogJ3AnIH1dLFxufTtcblxuY29uc3QgY2hlY2tsaXN0SXRlbVNwZWM6IE5vZGVTcGVjID0ge1xuICBhdHRyczoge1xuICAgIGNoZWNrZWQ6IHtcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIH0sXG4gIH0sXG4gIGNvbnRlbnQ6ICdpbmxpbmUqJyxcbiAgZGVmaW5pbmc6IHRydWUsXG4gIGdyb3VwOiAnYmxvY2snLFxuICBtYXJrczogJ18nLFxuICB0b0RPTShub2RlKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdkaXYnLFxuICAgICAgeyAnY2xhc3MnOiAnY2hlY2tsaXN0LWl0ZW0nIH0sXG4gICAgICBbXG4gICAgICAgICdpbnB1dCcsXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICAgIC4uLihub2RlLmF0dHJzLmNoZWNrZWQgJiYgeyBjaGVja2VkOiAndHJ1ZScgfSksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAncCcsXG4gICAgICAgIDBcbiAgICAgIF0sXG4gICAgXTtcbiAgfSxcbiAgcGFyc2VET006IFt7XG4gICAgY29udGVudEVsZW1lbnQ6ICdwJyxcbiAgICB0YWc6ICdkaXYuY2hlY2tsaXN0LWl0ZW0nLFxuICAgIGdldEF0dHJzKG5vZGUpIHtcbiAgICAgIC8vIFdpbGwgYmUgdHlwZSBOb2RlIHdoZW4gcGFyc2VET00gc3VwcGxpZXMgYSAndGFnJyBydWxlXG4gICAgICBjb25zdCBpbnB1dCA9IChub2RlIGFzIEhUTUxFbGVtZW50KS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2hlY2tlZDogISEoaW5wdXQgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCxcbiAgICAgIH07XG4gICAgfSxcbiAgfV0sXG59O1xuXG5jb25zdCB0ZXh0U3BlYzogTm9kZVNwZWMgPSB7XG4gIGdyb3VwOiAnaW5saW5lJyxcbn07XG5cbmNvbnN0IHNwZWMgPSB7XG4gIG5vZGVzOiB7XG4gICAgZG9jOiBkb2NTcGVjLFxuICAgIC8vIE9yZGVyIG1hdHRlcnMgaGVyZS4gcG0gYXBwYXJlbnRseSBpbnNlcnRzIHRoZSBmaXJzdCB2YWxpZCBub2RlIG9uIGVudGVyLlxuICAgIHBhcmFncmFwaDogcGFyYWdyYXBoU3BlYyxcbiAgICBjaGVja2xpc3RfaXRlbTogY2hlY2tsaXN0SXRlbVNwZWMsXG4gICAgdW5vcmRlcmVkX2xpc3Q6IHtcbiAgICAgIC4uLmJ1bGxldExpc3QsXG4gICAgICBjb250ZW50OiAnbGlzdF9pdGVtKycsXG4gICAgICBncm91cDogJ2Jsb2NrJyxcbiAgICB9LFxuICAgIG9yZGVyZWRfbGlzdDoge1xuICAgICAgLi4ub3JkZXJlZExpc3QsXG4gICAgICBjb250ZW50OiAnbGlzdF9pdGVtKycsXG4gICAgICBncm91cDogJ2Jsb2NrJyxcbiAgICB9LFxuICAgIGxpc3RfaXRlbToge1xuICAgICAgLi4ubGlzdEl0ZW0sXG4gICAgICBjb250ZW50OiAncGFyYWdyYXBoKycsXG4gICAgfSxcbiAgICBoZWFkaW5nMTogaGVhZGluZzFTcGVjLFxuICAgIGhlYWRpbmcyOiBoZWFkaW5nMlNwZWMsXG4gICAgdGV4dDogdGV4dFNwZWMsXG4gIH0sXG4gIG1hcmtzOiB7XG4gICAgbGluazoge1xuICAgICAgLi4ubWFya3MubGluayxcbiAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgfSxcbiAgICBlbToge1xuICAgICAgLi4ubWFya3MuZW0sXG4gICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgIH0sXG4gICAgc3Ryb25nOiB7XG4gICAgICAuLi5tYXJrcy5zdHJvbmcsXG4gICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgIH0sXG4gICAgY29kZToge1xuICAgICAgLi4ubWFya3MuY29kZSxcbiAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgfSxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBzY2hlbWEgPSBuZXcgU2NoZW1hKHNwZWMpO1xuIiwiaW1wb3J0IHtcbiAgaW5wdXRSdWxlcyxcbiAgc21hcnRRdW90ZXMsXG4gIGVsbGlwc2lzLFxuICB0ZXh0YmxvY2tUeXBlSW5wdXRSdWxlLFxuICBJbnB1dFJ1bGUsXG59IGZyb20gJ3Byb3NlbWlycm9yLWlucHV0cnVsZXMnO1xuaW1wb3J0IHsgUGx1Z2luLCBTZWxlY3Rpb24gfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSc7XG5pbXBvcnQgeyBNYXJrVHlwZSwgTm9kZVR5cGUgfSBmcm9tICdwcm9zZW1pcnJvci1tb2RlbCc7XG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5cbmZ1bmN0aW9uIG1hcmtXcmFwcGluZ1J1bGUoYzogc3RyaW5nLCBtYXJrVHlwZTogTWFya1R5cGUpIHtcbiAgcmV0dXJuIG5ldyBJbnB1dFJ1bGUobmV3IFJlZ0V4cChgJHtjfSguKj8pJHtjfWApLCAoc3RhdGUsIG1hdGNoLCBzdGFydCwgZW5kKSA9PiB7XG4gICAgY29uc3QgW18sIHRleHRdID0gbWF0Y2g7XG4gICAgY29uc3QgeyB0ciB9ID0gc3RhdGU7XG4gICAgaWYgKCF0ZXh0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZXhpc3RpbmdNYXJrcyA9IHN0YXRlLmRvYy5yZXNvbHZlKHN0YXJ0KS5tYXJrc0Fjcm9zcyhzdGF0ZS5kb2MucmVzb2x2ZShlbmQpKTtcbiAgICByZXR1cm4gdHIucmVwbGFjZVJhbmdlV2l0aChzdGFydCwgZW5kLCBzY2hlbWEudGV4dCh0ZXh0LCBbXG4gICAgICAuLi5leGlzdGluZ01hcmtzLFxuICAgICAgbWFya1R5cGUuY3JlYXRlKCksXG4gICAgXSkpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbGlzdFR5cGVSdWxlKHByZWZpeDogc3RyaW5nLCBsaXN0VHlwZTogTm9kZVR5cGUpOiBJbnB1dFJ1bGUge1xuICByZXR1cm4gbmV3IElucHV0UnVsZShuZXcgUmVnRXhwKGBeJHtwcmVmaXh9YCksIChzdGF0ZSwgbWF0Y2gsIHN0YXJ0LCBlbmQpID0+IHtcbiAgICBjb25zdCB7ICRmcm9tIH0gPSBzdGF0ZS5zZWxlY3Rpb247XG4gICAgaWYgKCRmcm9tLmRlcHRoID4gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgdHIgfSA9IHN0YXRlO1xuICAgIHRyLnJlcGxhY2VSYW5nZVdpdGgoc3RhcnQsIGVuZCwgbGlzdFR5cGUuY3JlYXRlQW5kRmlsbCgpKVxuICAgIHRyLnNldFNlbGVjdGlvbihTZWxlY3Rpb24ubmVhcih0ci5kb2MucmVzb2x2ZShzdGFydCkpKTtcbiAgICByZXR1cm4gdHI7XG4gIH0pO1xufVxuXG5leHBvcnQgY29uc3QgaW5wdXRSdWxlc1BsdWdpbiA9IGlucHV0UnVsZXMoe1xuICBydWxlczogW1xuICAgIC4uLnNtYXJ0UXVvdGVzLFxuICAgIGVsbGlwc2lzLFxuICAgIHRleHRibG9ja1R5cGVJbnB1dFJ1bGUoL14jIC8sIHNjaGVtYS5ub2Rlcy5oZWFkaW5nMiksXG4gICAgbWFya1dyYXBwaW5nUnVsZSgnYCcsIHNjaGVtYS5tYXJrcy5jb2RlKSxcbiAgICBtYXJrV3JhcHBpbmdSdWxlKCdcXFxcKlxcXFwqJywgc2NoZW1hLm1hcmtzLnN0cm9uZyksXG4gICAgbWFya1dyYXBwaW5nUnVsZSgnXFxcXConLCBzY2hlbWEubWFya3MuZW0pLFxuICAgIGxpc3RUeXBlUnVsZSgnMS4gJywgc2NoZW1hLm5vZGVzLm9yZGVyZWRfbGlzdCksXG4gICAgbGlzdFR5cGVSdWxlKCctICcsIHNjaGVtYS5ub2Rlcy51bm9yZGVyZWRfbGlzdCksXG4gIF0sXG59KTtcbiIsImltcG9ydCB7SW5wdXRSdWxlfSBmcm9tIFwiLi9pbnB1dHJ1bGVzXCJcbmltcG9ydCB7ZmluZFdyYXBwaW5nLCBjYW5Kb2lufSBmcm9tIFwicHJvc2VtaXJyb3ItdHJhbnNmb3JtXCJcblxuLy8gOjogKFJlZ0V4cCwgTm9kZVR5cGUsID91bmlvbjxPYmplY3QsIChbc3RyaW5nXSkg4oaSID9PYmplY3Q+LCA/KFtzdHJpbmddLCBOb2RlKSDihpIgYm9vbCkg4oaSIElucHV0UnVsZVxuLy8gQnVpbGQgYW4gaW5wdXQgcnVsZSBmb3IgYXV0b21hdGljYWxseSB3cmFwcGluZyBhIHRleHRibG9jayB3aGVuIGFcbi8vIGdpdmVuIHN0cmluZyBpcyB0eXBlZC4gVGhlIGByZWdleHBgIGFyZ3VtZW50IGlzXG4vLyBkaXJlY3RseSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgYElucHV0UnVsZWAgY29uc3RydWN0b3IuIFlvdSdsbFxuLy8gcHJvYmFibHkgd2FudCB0aGUgcmVnZXhwIHRvIHN0YXJ0IHdpdGggYF5gLCBzbyB0aGF0IHRoZSBwYXR0ZXJuIGNhblxuLy8gb25seSBvY2N1ciBhdCB0aGUgc3RhcnQgb2YgYSB0ZXh0YmxvY2suXG4vL1xuLy8gYG5vZGVUeXBlYCBpcyB0aGUgdHlwZSBvZiBub2RlIHRvIHdyYXAgaW4uIElmIGl0IG5lZWRzIGF0dHJpYnV0ZXMsXG4vLyB5b3UgY2FuIGVpdGhlciBwYXNzIHRoZW0gZGlyZWN0bHksIG9yIHBhc3MgYSBmdW5jdGlvbiB0aGF0IHdpbGxcbi8vIGNvbXB1dGUgdGhlbSBmcm9tIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gbWF0Y2guXG4vL1xuLy8gQnkgZGVmYXVsdCwgaWYgdGhlcmUncyBhIG5vZGUgd2l0aCB0aGUgc2FtZSB0eXBlIGFib3ZlIHRoZSBuZXdseVxuLy8gd3JhcHBlZCBub2RlLCB0aGUgcnVsZSB3aWxsIHRyeSB0byBbam9pbl0oI3RyYW5zZm9ybS5UcmFuc2Zvcm0uam9pbikgdGhvc2Vcbi8vIHR3byBub2Rlcy4gWW91IGNhbiBwYXNzIGEgam9pbiBwcmVkaWNhdGUsIHdoaWNoIHRha2VzIGEgcmVndWxhclxuLy8gZXhwcmVzc2lvbiBtYXRjaCBhbmQgdGhlIG5vZGUgYmVmb3JlIHRoZSB3cmFwcGVkIG5vZGUsIGFuZCBjYW5cbi8vIHJldHVybiBhIGJvb2xlYW4gdG8gaW5kaWNhdGUgd2hldGhlciBhIGpvaW4gc2hvdWxkIGhhcHBlbi5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwcGluZ0lucHV0UnVsZShyZWdleHAsIG5vZGVUeXBlLCBnZXRBdHRycywgam9pblByZWRpY2F0ZSkge1xuICByZXR1cm4gbmV3IElucHV0UnVsZShyZWdleHAsIChzdGF0ZSwgbWF0Y2gsIHN0YXJ0LCBlbmQpID0+IHtcbiAgICBsZXQgYXR0cnMgPSBnZXRBdHRycyBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gZ2V0QXR0cnMobWF0Y2gpIDogZ2V0QXR0cnNcbiAgICBsZXQgdHIgPSBzdGF0ZS50ci5kZWxldGUoc3RhcnQsIGVuZClcbiAgICBsZXQgJHN0YXJ0ID0gdHIuZG9jLnJlc29sdmUoc3RhcnQpLCByYW5nZSA9ICRzdGFydC5ibG9ja1JhbmdlKCksIHdyYXBwaW5nID0gcmFuZ2UgJiYgZmluZFdyYXBwaW5nKHJhbmdlLCBub2RlVHlwZSwgYXR0cnMpXG4gICAgaWYgKCF3cmFwcGluZykgcmV0dXJuIG51bGxcbiAgICB0ci53cmFwKHJhbmdlLCB3cmFwcGluZylcbiAgICBsZXQgYmVmb3JlID0gdHIuZG9jLnJlc29sdmUoc3RhcnQgLSAxKS5ub2RlQmVmb3JlXG4gICAgaWYgKGJlZm9yZSAmJiBiZWZvcmUudHlwZSA9PSBub2RlVHlwZSAmJiBjYW5Kb2luKHRyLmRvYywgc3RhcnQgLSAxKSAmJlxuICAgICAgICAoIWpvaW5QcmVkaWNhdGUgfHwgam9pblByZWRpY2F0ZShtYXRjaCwgYmVmb3JlKSkpXG4gICAgICB0ci5qb2luKHN0YXJ0IC0gMSlcbiAgICByZXR1cm4gdHJcbiAgfSlcbn1cblxuLy8gOjogKFJlZ0V4cCwgTm9kZVR5cGUsID91bmlvbjxPYmplY3QsIChbc3RyaW5nXSkg4oaSID9PYmplY3Q+KSDihpIgSW5wdXRSdWxlXG4vLyBCdWlsZCBhbiBpbnB1dCBydWxlIHRoYXQgY2hhbmdlcyB0aGUgdHlwZSBvZiBhIHRleHRibG9jayB3aGVuIHRoZVxuLy8gbWF0Y2hlZCB0ZXh0IGlzIHR5cGVkIGludG8gaXQuIFlvdSdsbCB1c3VhbGx5IHdhbnQgdG8gc3RhcnQgeW91clxuLy8gcmVnZXhwIHdpdGggYF5gIHRvIHRoYXQgaXQgaXMgb25seSBtYXRjaGVkIGF0IHRoZSBzdGFydCBvZiBhXG4vLyB0ZXh0YmxvY2suIFRoZSBvcHRpb25hbCBgZ2V0QXR0cnNgIHBhcmFtZXRlciBjYW4gYmUgdXNlZCB0byBjb21wdXRlXG4vLyB0aGUgbmV3IG5vZGUncyBhdHRyaWJ1dGVzLCBhbmQgd29ya3MgdGhlIHNhbWUgYXMgaW4gdGhlXG4vLyBgd3JhcHBpbmdJbnB1dFJ1bGVgIGZ1bmN0aW9uLlxuZXhwb3J0IGZ1bmN0aW9uIHRleHRibG9ja1R5cGVJbnB1dFJ1bGUocmVnZXhwLCBub2RlVHlwZSwgZ2V0QXR0cnMpIHtcbiAgcmV0dXJuIG5ldyBJbnB1dFJ1bGUocmVnZXhwLCAoc3RhdGUsIG1hdGNoLCBzdGFydCwgZW5kKSA9PiB7XG4gICAgbGV0ICRzdGFydCA9IHN0YXRlLmRvYy5yZXNvbHZlKHN0YXJ0KVxuICAgIGxldCBhdHRycyA9IGdldEF0dHJzIGluc3RhbmNlb2YgRnVuY3Rpb24gPyBnZXRBdHRycyhtYXRjaCkgOiBnZXRBdHRyc1xuICAgIGlmICghJHN0YXJ0Lm5vZGUoLTEpLmNhblJlcGxhY2VXaXRoKCRzdGFydC5pbmRleCgtMSksICRzdGFydC5pbmRleEFmdGVyKC0xKSwgbm9kZVR5cGUpKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiBzdGF0ZS50clxuICAgICAgLmRlbGV0ZShzdGFydCwgZW5kKVxuICAgICAgLnNldEJsb2NrVHlwZShzdGFydCwgc3RhcnQsIG5vZGVUeXBlLCBhdHRycylcbiAgfSlcbn1cbiIsImltcG9ydCB7am9pblBvaW50LCBjYW5Kb2luLCBmaW5kV3JhcHBpbmcsIGxpZnRUYXJnZXQsIGNhblNwbGl0LCBSZXBsYWNlQXJvdW5kU3RlcH0gZnJvbSBcInByb3NlbWlycm9yLXRyYW5zZm9ybVwiXG5pbXBvcnQge1NsaWNlLCBGcmFnbWVudH0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcbmltcG9ydCB7U2VsZWN0aW9uLCBUZXh0U2VsZWN0aW9uLCBOb2RlU2VsZWN0aW9uLCBBbGxTZWxlY3Rpb259IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiXG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gRGVsZXRlIHRoZSBzZWxlY3Rpb24sIGlmIHRoZXJlIGlzIG9uZS5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVTZWxlY3Rpb24oc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGlmIChzdGF0ZS5zZWxlY3Rpb24uZW1wdHkpIHJldHVybiBmYWxzZVxuICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLmRlbGV0ZVNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCkpXG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pLCA/RWRpdG9yVmlldykg4oaSIGJvb2xcbi8vIElmIHRoZSBzZWxlY3Rpb24gaXMgZW1wdHkgYW5kIGF0IHRoZSBzdGFydCBvZiBhIHRleHRibG9jaywgdHJ5IHRvXG4vLyByZWR1Y2UgdGhlIGRpc3RhbmNlIGJldHdlZW4gdGhhdCBibG9jayBhbmQgdGhlIG9uZSBiZWZvcmUgaXTigJRpZlxuLy8gdGhlcmUncyBhIGJsb2NrIGRpcmVjdGx5IGJlZm9yZSBpdCB0aGF0IGNhbiBiZSBqb2luZWQsIGpvaW4gdGhlbS5cbi8vIElmIG5vdCwgdHJ5IHRvIG1vdmUgdGhlIHNlbGVjdGVkIGJsb2NrIGNsb3NlciB0byB0aGUgbmV4dCBvbmUgaW5cbi8vIHRoZSBkb2N1bWVudCBzdHJ1Y3R1cmUgYnkgbGlmdGluZyBpdCBvdXQgb2YgaXRzIHBhcmVudCBvciBtb3ZpbmcgaXRcbi8vIGludG8gYSBwYXJlbnQgb2YgdGhlIHByZXZpb3VzIGJsb2NrLiBXaWxsIHVzZSB0aGUgdmlldyBmb3IgYWNjdXJhdGVcbi8vIChiaWRpLWF3YXJlKSBzdGFydC1vZi10ZXh0YmxvY2sgZGV0ZWN0aW9uIGlmIGdpdmVuLlxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5CYWNrd2FyZChzdGF0ZSwgZGlzcGF0Y2gsIHZpZXcpIHtcbiAgbGV0IHskY3Vyc29yfSA9IHN0YXRlLnNlbGVjdGlvblxuICBpZiAoISRjdXJzb3IgfHwgKHZpZXcgPyAhdmlldy5lbmRPZlRleHRibG9jayhcImJhY2t3YXJkXCIsIHN0YXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAkY3Vyc29yLnBhcmVudE9mZnNldCA+IDApKVxuICAgIHJldHVybiBmYWxzZVxuXG4gIGxldCAkY3V0ID0gZmluZEN1dEJlZm9yZSgkY3Vyc29yKVxuXG4gIC8vIElmIHRoZXJlIGlzIG5vIG5vZGUgYmVmb3JlIHRoaXMsIHRyeSB0byBsaWZ0XG4gIGlmICghJGN1dCkge1xuICAgIGxldCByYW5nZSA9ICRjdXJzb3IuYmxvY2tSYW5nZSgpLCB0YXJnZXQgPSByYW5nZSAmJiBsaWZ0VGFyZ2V0KHJhbmdlKVxuICAgIGlmICh0YXJnZXQgPT0gbnVsbCkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5saWZ0KHJhbmdlLCB0YXJnZXQpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGxldCBiZWZvcmUgPSAkY3V0Lm5vZGVCZWZvcmVcbiAgLy8gQXBwbHkgdGhlIGpvaW5pbmcgYWxnb3JpdGhtXG4gIGlmICghYmVmb3JlLnR5cGUuc3BlYy5pc29sYXRpbmcgJiYgZGVsZXRlQmFycmllcihzdGF0ZSwgJGN1dCwgZGlzcGF0Y2gpKVxuICAgIHJldHVybiB0cnVlXG5cbiAgLy8gSWYgdGhlIG5vZGUgYmVsb3cgaGFzIG5vIGNvbnRlbnQgYW5kIHRoZSBub2RlIGFib3ZlIGlzXG4gIC8vIHNlbGVjdGFibGUsIGRlbGV0ZSB0aGUgbm9kZSBiZWxvdyBhbmQgc2VsZWN0IHRoZSBvbmUgYWJvdmUuXG4gIGlmICgkY3Vyc29yLnBhcmVudC5jb250ZW50LnNpemUgPT0gMCAmJlxuICAgICAgKHRleHRibG9ja0F0KGJlZm9yZSwgXCJlbmRcIikgfHwgTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUoYmVmb3JlKSkpIHtcbiAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgIGxldCB0ciA9IHN0YXRlLnRyLmRlbGV0ZVJhbmdlKCRjdXJzb3IuYmVmb3JlKCksICRjdXJzb3IuYWZ0ZXIoKSlcbiAgICAgIHRyLnNldFNlbGVjdGlvbih0ZXh0YmxvY2tBdChiZWZvcmUsIFwiZW5kXCIpID8gU2VsZWN0aW9uLmZpbmRGcm9tKHRyLmRvYy5yZXNvbHZlKHRyLm1hcHBpbmcubWFwKCRjdXQucG9zLCAtMSkpLCAtMSlcbiAgICAgICAgICAgICAgICAgICAgICA6IE5vZGVTZWxlY3Rpb24uY3JlYXRlKHRyLmRvYywgJGN1dC5wb3MgLSBiZWZvcmUubm9kZVNpemUpKVxuICAgICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIElmIHRoZSBub2RlIGJlZm9yZSBpcyBhbiBhdG9tLCBkZWxldGUgaXRcbiAgaWYgKGJlZm9yZS5pc0F0b20gJiYgJGN1dC5kZXB0aCA9PSAkY3Vyc29yLmRlcHRoIC0gMSkge1xuICAgIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIuZGVsZXRlKCRjdXQucG9zIC0gYmVmb3JlLm5vZGVTaXplLCAkY3V0LnBvcykuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHRleHRibG9ja0F0KG5vZGUsIHNpZGUpIHtcbiAgZm9yICg7IG5vZGU7IG5vZGUgPSAoc2lkZSA9PSBcInN0YXJ0XCIgPyBub2RlLmZpcnN0Q2hpbGQgOiBub2RlLmxhc3RDaGlsZCkpXG4gICAgaWYgKG5vZGUuaXNUZXh0YmxvY2spIHJldHVybiB0cnVlXG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSwgP0VkaXRvclZpZXcpIOKGkiBib29sXG4vLyBXaGVuIHRoZSBzZWxlY3Rpb24gaXMgZW1wdHkgYW5kIGF0IHRoZSBzdGFydCBvZiBhIHRleHRibG9jaywgc2VsZWN0XG4vLyB0aGUgbm9kZSBiZWZvcmUgdGhhdCB0ZXh0YmxvY2ssIGlmIHBvc3NpYmxlLiBUaGlzIGlzIGludGVuZGVkIHRvIGJlXG4vLyBib3VuZCB0byBrZXlzIGxpa2UgYmFja3NwYWNlLCBhZnRlclxuLy8gW2Bqb2luQmFja3dhcmRgXSgjY29tbWFuZHMuam9pbkJhY2t3YXJkKSBvciBvdGhlciBkZWxldGluZ1xuLy8gY29tbWFuZHMsIGFzIGEgZmFsbC1iYWNrIGJlaGF2aW9yIHdoZW4gdGhlIHNjaGVtYSBkb2Vzbid0IGFsbG93XG4vLyBkZWxldGlvbiBhdCB0aGUgc2VsZWN0ZWQgcG9pbnQuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0Tm9kZUJhY2t3YXJkKHN0YXRlLCBkaXNwYXRjaCwgdmlldykge1xuICBsZXQgeyRjdXJzb3J9ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGlmICghJGN1cnNvciB8fCAodmlldyA/ICF2aWV3LmVuZE9mVGV4dGJsb2NrKFwiYmFja3dhcmRcIiwgc3RhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICRjdXJzb3IucGFyZW50T2Zmc2V0ID4gMCkpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgbGV0ICRjdXQgPSBmaW5kQ3V0QmVmb3JlKCRjdXJzb3IpLCBub2RlID0gJGN1dCAmJiAkY3V0Lm5vZGVCZWZvcmVcbiAgaWYgKCFub2RlIHx8ICFOb2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShub2RlKSkgcmV0dXJuIGZhbHNlXG4gIGlmIChkaXNwYXRjaClcbiAgICBkaXNwYXRjaChzdGF0ZS50ci5zZXRTZWxlY3Rpb24oTm9kZVNlbGVjdGlvbi5jcmVhdGUoc3RhdGUuZG9jLCAkY3V0LnBvcyAtIG5vZGUubm9kZVNpemUpKS5zY3JvbGxJbnRvVmlldygpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBmaW5kQ3V0QmVmb3JlKCRwb3MpIHtcbiAgaWYgKCEkcG9zLnBhcmVudC50eXBlLnNwZWMuaXNvbGF0aW5nKSBmb3IgKGxldCBpID0gJHBvcy5kZXB0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKCRwb3MuaW5kZXgoaSkgPiAwKSByZXR1cm4gJHBvcy5kb2MucmVzb2x2ZSgkcG9zLmJlZm9yZShpICsgMSkpXG4gICAgaWYgKCRwb3Mubm9kZShpKS50eXBlLnNwZWMuaXNvbGF0aW5nKSBicmVha1xuICB9XG4gIHJldHVybiBudWxsXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pLCA/RWRpdG9yVmlldykg4oaSIGJvb2xcbi8vIElmIHRoZSBzZWxlY3Rpb24gaXMgZW1wdHkgYW5kIHRoZSBjdXJzb3IgaXMgYXQgdGhlIGVuZCBvZiBhXG4vLyB0ZXh0YmxvY2ssIHRyeSB0byByZWR1Y2Ugb3IgcmVtb3ZlIHRoZSBib3VuZGFyeSBiZXR3ZWVuIHRoYXQgYmxvY2tcbi8vIGFuZCB0aGUgb25lIGFmdGVyIGl0LCBlaXRoZXIgYnkgam9pbmluZyB0aGVtIG9yIGJ5IG1vdmluZyB0aGUgb3RoZXJcbi8vIGJsb2NrIGNsb3NlciB0byB0aGlzIG9uZSBpbiB0aGUgdHJlZSBzdHJ1Y3R1cmUuIFdpbGwgdXNlIHRoZSB2aWV3XG4vLyBmb3IgYWNjdXJhdGUgc3RhcnQtb2YtdGV4dGJsb2NrIGRldGVjdGlvbiBpZiBnaXZlbi5cbmV4cG9ydCBmdW5jdGlvbiBqb2luRm9yd2FyZChzdGF0ZSwgZGlzcGF0Y2gsIHZpZXcpIHtcbiAgbGV0IHskY3Vyc29yfSA9IHN0YXRlLnNlbGVjdGlvblxuICBpZiAoISRjdXJzb3IgfHwgKHZpZXcgPyAhdmlldy5lbmRPZlRleHRibG9jayhcImZvcndhcmRcIiwgc3RhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICRjdXJzb3IucGFyZW50T2Zmc2V0IDwgJGN1cnNvci5wYXJlbnQuY29udGVudC5zaXplKSlcbiAgICByZXR1cm4gZmFsc2VcblxuICBsZXQgJGN1dCA9IGZpbmRDdXRBZnRlcigkY3Vyc29yKVxuXG4gIC8vIElmIHRoZXJlIGlzIG5vIG5vZGUgYWZ0ZXIgdGhpcywgdGhlcmUncyBub3RoaW5nIHRvIGRvXG4gIGlmICghJGN1dCkgcmV0dXJuIGZhbHNlXG5cbiAgbGV0IGFmdGVyID0gJGN1dC5ub2RlQWZ0ZXJcbiAgLy8gVHJ5IHRoZSBqb2luaW5nIGFsZ29yaXRobVxuICBpZiAoZGVsZXRlQmFycmllcihzdGF0ZSwgJGN1dCwgZGlzcGF0Y2gpKSByZXR1cm4gdHJ1ZVxuXG4gIC8vIElmIHRoZSBub2RlIGFib3ZlIGhhcyBubyBjb250ZW50IGFuZCB0aGUgbm9kZSBiZWxvdyBpc1xuICAvLyBzZWxlY3RhYmxlLCBkZWxldGUgdGhlIG5vZGUgYWJvdmUgYW5kIHNlbGVjdCB0aGUgb25lIGJlbG93LlxuICBpZiAoJGN1cnNvci5wYXJlbnQuY29udGVudC5zaXplID09IDAgJiZcbiAgICAgICh0ZXh0YmxvY2tBdChhZnRlciwgXCJzdGFydFwiKSB8fCBOb2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShhZnRlcikpKSB7XG4gICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICBsZXQgdHIgPSBzdGF0ZS50ci5kZWxldGVSYW5nZSgkY3Vyc29yLmJlZm9yZSgpLCAkY3Vyc29yLmFmdGVyKCkpXG4gICAgICB0ci5zZXRTZWxlY3Rpb24odGV4dGJsb2NrQXQoYWZ0ZXIsIFwic3RhcnRcIikgPyBTZWxlY3Rpb24uZmluZEZyb20odHIuZG9jLnJlc29sdmUodHIubWFwcGluZy5tYXAoJGN1dC5wb3MpKSwgMSlcbiAgICAgICAgICAgICAgICAgICAgICA6IE5vZGVTZWxlY3Rpb24uY3JlYXRlKHRyLmRvYywgdHIubWFwcGluZy5tYXAoJGN1dC5wb3MpKSlcbiAgICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyBJZiB0aGUgbmV4dCBub2RlIGlzIGFuIGF0b20sIGRlbGV0ZSBpdFxuICBpZiAoYWZ0ZXIuaXNBdG9tICYmICRjdXQuZGVwdGggPT0gJGN1cnNvci5kZXB0aCAtIDEpIHtcbiAgICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLmRlbGV0ZSgkY3V0LnBvcywgJGN1dC5wb3MgKyBhZnRlci5ub2RlU2l6ZSkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pLCA/RWRpdG9yVmlldykg4oaSIGJvb2xcbi8vIFdoZW4gdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSBhbmQgYXQgdGhlIGVuZCBvZiBhIHRleHRibG9jaywgc2VsZWN0XG4vLyB0aGUgbm9kZSBjb21pbmcgYWZ0ZXIgdGhhdCB0ZXh0YmxvY2ssIGlmIHBvc3NpYmxlLiBUaGlzIGlzIGludGVuZGVkXG4vLyB0byBiZSBib3VuZCB0byBrZXlzIGxpa2UgZGVsZXRlLCBhZnRlclxuLy8gW2Bqb2luRm9yd2FyZGBdKCNjb21tYW5kcy5qb2luRm9yd2FyZCkgYW5kIHNpbWlsYXIgZGVsZXRpbmdcbi8vIGNvbW1hbmRzLCB0byBwcm92aWRlIGEgZmFsbC1iYWNrIGJlaGF2aW9yIHdoZW4gdGhlIHNjaGVtYSBkb2Vzbid0XG4vLyBhbGxvdyBkZWxldGlvbiBhdCB0aGUgc2VsZWN0ZWQgcG9pbnQuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0Tm9kZUZvcndhcmQoc3RhdGUsIGRpc3BhdGNoLCB2aWV3KSB7XG4gIGxldCB7JGN1cnNvcn0gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKCEkY3Vyc29yIHx8ICh2aWV3ID8gIXZpZXcuZW5kT2ZUZXh0YmxvY2soXCJmb3J3YXJkXCIsIHN0YXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAkY3Vyc29yLnBhcmVudE9mZnNldCA8ICRjdXJzb3IucGFyZW50LmNvbnRlbnQuc2l6ZSkpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgbGV0ICRjdXQgPSBmaW5kQ3V0QWZ0ZXIoJGN1cnNvciksIG5vZGUgPSAkY3V0ICYmICRjdXQubm9kZUFmdGVyXG4gIGlmICghbm9kZSB8fCAhTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUobm9kZSkpIHJldHVybiBmYWxzZVxuICBpZiAoZGlzcGF0Y2gpXG4gICAgZGlzcGF0Y2goc3RhdGUudHIuc2V0U2VsZWN0aW9uKE5vZGVTZWxlY3Rpb24uY3JlYXRlKHN0YXRlLmRvYywgJGN1dC5wb3MpKS5zY3JvbGxJbnRvVmlldygpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBmaW5kQ3V0QWZ0ZXIoJHBvcykge1xuICBpZiAoISRwb3MucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpIGZvciAobGV0IGkgPSAkcG9zLmRlcHRoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBsZXQgcGFyZW50ID0gJHBvcy5ub2RlKGkpXG4gICAgaWYgKCRwb3MuaW5kZXgoaSkgKyAxIDwgcGFyZW50LmNoaWxkQ291bnQpIHJldHVybiAkcG9zLmRvYy5yZXNvbHZlKCRwb3MuYWZ0ZXIoaSArIDEpKVxuICAgIGlmIChwYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZykgYnJlYWtcbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIEpvaW4gdGhlIHNlbGVjdGVkIGJsb2NrIG9yLCBpZiB0aGVyZSBpcyBhIHRleHQgc2VsZWN0aW9uLCB0aGVcbi8vIGNsb3Nlc3QgYW5jZXN0b3IgYmxvY2sgb2YgdGhlIHNlbGVjdGlvbiB0aGF0IGNhbiBiZSBqb2luZWQsIHdpdGhcbi8vIHRoZSBzaWJsaW5nIGFib3ZlIGl0LlxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5VcChzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgbGV0IHNlbCA9IHN0YXRlLnNlbGVjdGlvbiwgbm9kZVNlbCA9IHNlbCBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24sIHBvaW50XG4gIGlmIChub2RlU2VsKSB7XG4gICAgaWYgKHNlbC5ub2RlLmlzVGV4dGJsb2NrIHx8ICFjYW5Kb2luKHN0YXRlLmRvYywgc2VsLmZyb20pKSByZXR1cm4gZmFsc2VcbiAgICBwb2ludCA9IHNlbC5mcm9tXG4gIH0gZWxzZSB7XG4gICAgcG9pbnQgPSBqb2luUG9pbnQoc3RhdGUuZG9jLCBzZWwuZnJvbSwgLTEpXG4gICAgaWYgKHBvaW50ID09IG51bGwpIHJldHVybiBmYWxzZVxuICB9XG4gIGlmIChkaXNwYXRjaCkge1xuICAgIGxldCB0ciA9IHN0YXRlLnRyLmpvaW4ocG9pbnQpXG4gICAgaWYgKG5vZGVTZWwpIHRyLnNldFNlbGVjdGlvbihOb2RlU2VsZWN0aW9uLmNyZWF0ZSh0ci5kb2MsIHBvaW50IC0gc3RhdGUuZG9jLnJlc29sdmUocG9pbnQpLm5vZGVCZWZvcmUubm9kZVNpemUpKVxuICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBKb2luIHRoZSBzZWxlY3RlZCBibG9jaywgb3IgdGhlIGNsb3Nlc3QgYW5jZXN0b3Igb2YgdGhlIHNlbGVjdGlvblxuLy8gdGhhdCBjYW4gYmUgam9pbmVkLCB3aXRoIHRoZSBzaWJsaW5nIGFmdGVyIGl0LlxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5Eb3duKHN0YXRlLCBkaXNwYXRjaCkge1xuICBsZXQgc2VsID0gc3RhdGUuc2VsZWN0aW9uLCBwb2ludFxuICBpZiAoc2VsIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbikge1xuICAgIGlmIChzZWwubm9kZS5pc1RleHRibG9jayB8fCAhY2FuSm9pbihzdGF0ZS5kb2MsIHNlbC50bykpIHJldHVybiBmYWxzZVxuICAgIHBvaW50ID0gc2VsLnRvXG4gIH0gZWxzZSB7XG4gICAgcG9pbnQgPSBqb2luUG9pbnQoc3RhdGUuZG9jLCBzZWwudG8sIDEpXG4gICAgaWYgKHBvaW50ID09IG51bGwpIHJldHVybiBmYWxzZVxuICB9XG4gIGlmIChkaXNwYXRjaClcbiAgICBkaXNwYXRjaChzdGF0ZS50ci5qb2luKHBvaW50KS5zY3JvbGxJbnRvVmlldygpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIExpZnQgdGhlIHNlbGVjdGVkIGJsb2NrLCBvciB0aGUgY2xvc2VzdCBhbmNlc3RvciBibG9jayBvZiB0aGVcbi8vIHNlbGVjdGlvbiB0aGF0IGNhbiBiZSBsaWZ0ZWQsIG91dCBvZiBpdHMgcGFyZW50IG5vZGUuXG5leHBvcnQgZnVuY3Rpb24gbGlmdChzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgbGV0IHskZnJvbSwgJHRvfSA9IHN0YXRlLnNlbGVjdGlvblxuICBsZXQgcmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0byksIHRhcmdldCA9IHJhbmdlICYmIGxpZnRUYXJnZXQocmFuZ2UpXG4gIGlmICh0YXJnZXQgPT0gbnVsbCkgcmV0dXJuIGZhbHNlXG4gIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIubGlmdChyYW5nZSwgdGFyZ2V0KS5zY3JvbGxJbnRvVmlldygpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIElmIHRoZSBzZWxlY3Rpb24gaXMgaW4gYSBub2RlIHdob3NlIHR5cGUgaGFzIGEgdHJ1dGh5XG4vLyBbYGNvZGVgXSgjbW9kZWwuTm9kZVNwZWMuY29kZSkgcHJvcGVydHkgaW4gaXRzIHNwZWMsIHJlcGxhY2UgdGhlXG4vLyBzZWxlY3Rpb24gd2l0aCBhIG5ld2xpbmUgY2hhcmFjdGVyLlxuZXhwb3J0IGZ1bmN0aW9uIG5ld2xpbmVJbkNvZGUoc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGxldCB7JGhlYWQsICRhbmNob3J9ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGlmICghJGhlYWQucGFyZW50LnR5cGUuc3BlYy5jb2RlIHx8ICEkaGVhZC5zYW1lUGFyZW50KCRhbmNob3IpKSByZXR1cm4gZmFsc2VcbiAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5pbnNlcnRUZXh0KFwiXFxuXCIpLnNjcm9sbEludG9WaWV3KCkpXG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRCbG9ja0F0KG1hdGNoKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2guZWRnZUNvdW50OyBpKyspIHtcbiAgICBsZXQge3R5cGV9ID0gbWF0Y2guZWRnZShpKVxuICAgIGlmICh0eXBlLmlzVGV4dGJsb2NrICYmICF0eXBlLmhhc1JlcXVpcmVkQXR0cnMoKSkgcmV0dXJuIHR5cGVcbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIFdoZW4gdGhlIHNlbGVjdGlvbiBpcyBpbiBhIG5vZGUgd2l0aCBhIHRydXRoeVxuLy8gW2Bjb2RlYF0oI21vZGVsLk5vZGVTcGVjLmNvZGUpIHByb3BlcnR5IGluIGl0cyBzcGVjLCBjcmVhdGUgYVxuLy8gZGVmYXVsdCBibG9jayBhZnRlciB0aGUgY29kZSBibG9jaywgYW5kIG1vdmUgdGhlIGN1cnNvciB0aGVyZS5cbmV4cG9ydCBmdW5jdGlvbiBleGl0Q29kZShzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgbGV0IHskaGVhZCwgJGFuY2hvcn0gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKCEkaGVhZC5wYXJlbnQudHlwZS5zcGVjLmNvZGUgfHwgISRoZWFkLnNhbWVQYXJlbnQoJGFuY2hvcikpIHJldHVybiBmYWxzZVxuICBsZXQgYWJvdmUgPSAkaGVhZC5ub2RlKC0xKSwgYWZ0ZXIgPSAkaGVhZC5pbmRleEFmdGVyKC0xKSwgdHlwZSA9IGRlZmF1bHRCbG9ja0F0KGFib3ZlLmNvbnRlbnRNYXRjaEF0KGFmdGVyKSlcbiAgaWYgKCFhYm92ZS5jYW5SZXBsYWNlV2l0aChhZnRlciwgYWZ0ZXIsIHR5cGUpKSByZXR1cm4gZmFsc2VcbiAgaWYgKGRpc3BhdGNoKSB7XG4gICAgbGV0IHBvcyA9ICRoZWFkLmFmdGVyKCksIHRyID0gc3RhdGUudHIucmVwbGFjZVdpdGgocG9zLCBwb3MsIHR5cGUuY3JlYXRlQW5kRmlsbCgpKVxuICAgIHRyLnNldFNlbGVjdGlvbihTZWxlY3Rpb24ubmVhcih0ci5kb2MucmVzb2x2ZShwb3MpLCAxKSlcbiAgICBkaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gSWYgYSBibG9jayBub2RlIGlzIHNlbGVjdGVkLCBjcmVhdGUgYW4gZW1wdHkgcGFyYWdyYXBoIGJlZm9yZSAoaWZcbi8vIGl0IGlzIGl0cyBwYXJlbnQncyBmaXJzdCBjaGlsZCkgb3IgYWZ0ZXIgaXQuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFyYWdyYXBoTmVhcihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgbGV0IHskZnJvbSwgJHRvfSA9IHN0YXRlLnNlbGVjdGlvblxuICBpZiAoJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnQgfHwgJHRvLnBhcmVudC5pbmxpbmVDb250ZW50KSByZXR1cm4gZmFsc2VcbiAgbGV0IHR5cGUgPSBkZWZhdWx0QmxvY2tBdCgkZnJvbS5wYXJlbnQuY29udGVudE1hdGNoQXQoJHRvLmluZGV4QWZ0ZXIoKSkpXG4gIGlmICghdHlwZSB8fCAhdHlwZS5pc1RleHRibG9jaykgcmV0dXJuIGZhbHNlXG4gIGlmIChkaXNwYXRjaCkge1xuICAgIGxldCBzaWRlID0gKCEkZnJvbS5wYXJlbnRPZmZzZXQgJiYgJHRvLmluZGV4KCkgPCAkdG8ucGFyZW50LmNoaWxkQ291bnQgPyAkZnJvbSA6ICR0bykucG9zXG4gICAgbGV0IHRyID0gc3RhdGUudHIuaW5zZXJ0KHNpZGUsIHR5cGUuY3JlYXRlQW5kRmlsbCgpKVxuICAgIHRyLnNldFNlbGVjdGlvbihUZXh0U2VsZWN0aW9uLmNyZWF0ZSh0ci5kb2MsIHNpZGUgKyAxKSlcbiAgICBkaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gSWYgdGhlIGN1cnNvciBpcyBpbiBhbiBlbXB0eSB0ZXh0YmxvY2sgdGhhdCBjYW4gYmUgbGlmdGVkLCBsaWZ0IHRoZVxuLy8gYmxvY2suXG5leHBvcnQgZnVuY3Rpb24gbGlmdEVtcHR5QmxvY2soc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGxldCB7JGN1cnNvcn0gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKCEkY3Vyc29yIHx8ICRjdXJzb3IucGFyZW50LmNvbnRlbnQuc2l6ZSkgcmV0dXJuIGZhbHNlXG4gIGlmICgkY3Vyc29yLmRlcHRoID4gMSAmJiAkY3Vyc29yLmFmdGVyKCkgIT0gJGN1cnNvci5lbmQoLTEpKSB7XG4gICAgbGV0IGJlZm9yZSA9ICRjdXJzb3IuYmVmb3JlKClcbiAgICBpZiAoY2FuU3BsaXQoc3RhdGUuZG9jLCBiZWZvcmUpKSB7XG4gICAgICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLnNwbGl0KGJlZm9yZSkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIGxldCByYW5nZSA9ICRjdXJzb3IuYmxvY2tSYW5nZSgpLCB0YXJnZXQgPSByYW5nZSAmJiBsaWZ0VGFyZ2V0KHJhbmdlKVxuICBpZiAodGFyZ2V0ID09IG51bGwpIHJldHVybiBmYWxzZVxuICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLmxpZnQocmFuZ2UsIHRhcmdldCkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBTcGxpdCB0aGUgcGFyZW50IGJsb2NrIG9mIHRoZSBzZWxlY3Rpb24uIElmIHRoZSBzZWxlY3Rpb24gaXMgYSB0ZXh0XG4vLyBzZWxlY3Rpb24sIGFsc28gZGVsZXRlIGl0cyBjb250ZW50LlxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0QmxvY2soc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGxldCB7JGZyb20sICR0b30gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKHN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24gJiYgc3RhdGUuc2VsZWN0aW9uLm5vZGUuaXNCbG9jaykge1xuICAgIGlmICghJGZyb20ucGFyZW50T2Zmc2V0IHx8ICFjYW5TcGxpdChzdGF0ZS5kb2MsICRmcm9tLnBvcykpIHJldHVybiBmYWxzZVxuICAgIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIuc3BsaXQoJGZyb20ucG9zKS5zY3JvbGxJbnRvVmlldygpKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBpZiAoISRmcm9tLnBhcmVudC5pc0Jsb2NrKSByZXR1cm4gZmFsc2VcblxuICBpZiAoZGlzcGF0Y2gpIHtcbiAgICBsZXQgYXRFbmQgPSAkdG8ucGFyZW50T2Zmc2V0ID09ICR0by5wYXJlbnQuY29udGVudC5zaXplXG4gICAgbGV0IHRyID0gc3RhdGUudHJcbiAgICBpZiAoc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbikgdHIuZGVsZXRlU2VsZWN0aW9uKClcbiAgICBsZXQgZGVmbHQgPSAkZnJvbS5kZXB0aCA9PSAwID8gbnVsbCA6IGRlZmF1bHRCbG9ja0F0KCRmcm9tLm5vZGUoLTEpLmNvbnRlbnRNYXRjaEF0KCRmcm9tLmluZGV4QWZ0ZXIoLTEpKSlcbiAgICBsZXQgdHlwZXMgPSBhdEVuZCAmJiBkZWZsdCA/IFt7dHlwZTogZGVmbHR9XSA6IG51bGxcbiAgICBsZXQgY2FuID0gY2FuU3BsaXQodHIuZG9jLCB0ci5tYXBwaW5nLm1hcCgkZnJvbS5wb3MpLCAxLCB0eXBlcylcbiAgICBpZiAoIXR5cGVzICYmICFjYW4gJiYgY2FuU3BsaXQodHIuZG9jLCB0ci5tYXBwaW5nLm1hcCgkZnJvbS5wb3MpLCAxLCBkZWZsdCAmJiBbe3R5cGU6IGRlZmx0fV0pKSB7XG4gICAgICB0eXBlcyA9IFt7dHlwZTogZGVmbHR9XVxuICAgICAgY2FuID0gdHJ1ZVxuICAgIH1cbiAgICBpZiAoY2FuKSB7XG4gICAgICB0ci5zcGxpdCh0ci5tYXBwaW5nLm1hcCgkZnJvbS5wb3MpLCAxLCB0eXBlcylcbiAgICAgIGlmICghYXRFbmQgJiYgISRmcm9tLnBhcmVudE9mZnNldCAmJiAkZnJvbS5wYXJlbnQudHlwZSAhPSBkZWZsdCAmJlxuICAgICAgICAgICRmcm9tLm5vZGUoLTEpLmNhblJlcGxhY2UoJGZyb20uaW5kZXgoLTEpLCAkZnJvbS5pbmRleEFmdGVyKC0xKSwgRnJhZ21lbnQuZnJvbShkZWZsdC5jcmVhdGUoKSwgJGZyb20ucGFyZW50KSkpXG4gICAgICAgIHRyLnNldE5vZGVNYXJrdXAodHIubWFwcGluZy5tYXAoJGZyb20uYmVmb3JlKCkpLCBkZWZsdClcbiAgICB9XG4gICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIEFjdHMgbGlrZSBbYHNwbGl0QmxvY2tgXSgjY29tbWFuZHMuc3BsaXRCbG9jayksIGJ1dCB3aXRob3V0XG4vLyByZXNldHRpbmcgdGhlIHNldCBvZiBhY3RpdmUgbWFya3MgYXQgdGhlIGN1cnNvci5cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdEJsb2NrS2VlcE1hcmtzKHN0YXRlLCBkaXNwYXRjaCkge1xuICByZXR1cm4gc3BsaXRCbG9jayhzdGF0ZSwgZGlzcGF0Y2ggJiYgKHRyID0+IHtcbiAgICBsZXQgbWFya3MgPSBzdGF0ZS5zdG9yZWRNYXJrcyB8fCAoc3RhdGUuc2VsZWN0aW9uLiR0by5wYXJlbnRPZmZzZXQgJiYgc3RhdGUuc2VsZWN0aW9uLiRmcm9tLm1hcmtzKCkpXG4gICAgaWYgKG1hcmtzKSB0ci5lbnN1cmVNYXJrcyhtYXJrcylcbiAgICBkaXNwYXRjaCh0cilcbiAgfSkpXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBub2RlIHdyYXBwaW5nIHRoZSBjdXJyZW50IHNlbGVjdGlvbiwgaWZcbi8vIGFueS4gKFdpbGwgbm90IHNlbGVjdCB0aGUgZG9jdW1lbnQgbm9kZS4pXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0UGFyZW50Tm9kZShzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgbGV0IHskZnJvbSwgdG99ID0gc3RhdGUuc2VsZWN0aW9uLCBwb3NcbiAgbGV0IHNhbWUgPSAkZnJvbS5zaGFyZWREZXB0aCh0bylcbiAgaWYgKHNhbWUgPT0gMCkgcmV0dXJuIGZhbHNlXG4gIHBvcyA9ICRmcm9tLmJlZm9yZShzYW1lKVxuICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLnNldFNlbGVjdGlvbihOb2RlU2VsZWN0aW9uLmNyZWF0ZShzdGF0ZS5kb2MsIHBvcykpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIFNlbGVjdCB0aGUgd2hvbGUgZG9jdW1lbnQuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0QWxsKHN0YXRlLCBkaXNwYXRjaCkge1xuICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLnNldFNlbGVjdGlvbihuZXcgQWxsU2VsZWN0aW9uKHN0YXRlLmRvYykpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBqb2luTWF5YmVDbGVhcihzdGF0ZSwgJHBvcywgZGlzcGF0Y2gpIHtcbiAgbGV0IGJlZm9yZSA9ICRwb3Mubm9kZUJlZm9yZSwgYWZ0ZXIgPSAkcG9zLm5vZGVBZnRlciwgaW5kZXggPSAkcG9zLmluZGV4KClcbiAgaWYgKCFiZWZvcmUgfHwgIWFmdGVyIHx8ICFiZWZvcmUudHlwZS5jb21wYXRpYmxlQ29udGVudChhZnRlci50eXBlKSkgcmV0dXJuIGZhbHNlXG4gIGlmICghYmVmb3JlLmNvbnRlbnQuc2l6ZSAmJiAkcG9zLnBhcmVudC5jYW5SZXBsYWNlKGluZGV4IC0gMSwgaW5kZXgpKSB7XG4gICAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5kZWxldGUoJHBvcy5wb3MgLSBiZWZvcmUubm9kZVNpemUsICRwb3MucG9zKS5zY3JvbGxJbnRvVmlldygpKVxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgaWYgKCEkcG9zLnBhcmVudC5jYW5SZXBsYWNlKGluZGV4LCBpbmRleCArIDEpIHx8ICEoYWZ0ZXIuaXNUZXh0YmxvY2sgfHwgY2FuSm9pbihzdGF0ZS5kb2MsICRwb3MucG9zKSkpXG4gICAgcmV0dXJuIGZhbHNlXG4gIGlmIChkaXNwYXRjaClcbiAgICBkaXNwYXRjaChzdGF0ZS50clxuICAgICAgICAgICAgIC5jbGVhckluY29tcGF0aWJsZSgkcG9zLnBvcywgYmVmb3JlLnR5cGUsIGJlZm9yZS5jb250ZW50TWF0Y2hBdChiZWZvcmUuY2hpbGRDb3VudCkpXG4gICAgICAgICAgICAgLmpvaW4oJHBvcy5wb3MpXG4gICAgICAgICAgICAgLnNjcm9sbEludG9WaWV3KCkpXG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGRlbGV0ZUJhcnJpZXIoc3RhdGUsICRjdXQsIGRpc3BhdGNoKSB7XG4gIGxldCBiZWZvcmUgPSAkY3V0Lm5vZGVCZWZvcmUsIGFmdGVyID0gJGN1dC5ub2RlQWZ0ZXIsIGNvbm4sIG1hdGNoXG4gIGlmIChiZWZvcmUudHlwZS5zcGVjLmlzb2xhdGluZyB8fCBhZnRlci50eXBlLnNwZWMuaXNvbGF0aW5nKSByZXR1cm4gZmFsc2VcbiAgaWYgKGpvaW5NYXliZUNsZWFyKHN0YXRlLCAkY3V0LCBkaXNwYXRjaCkpIHJldHVybiB0cnVlXG5cbiAgaWYgKCRjdXQucGFyZW50LmNhblJlcGxhY2UoJGN1dC5pbmRleCgpLCAkY3V0LmluZGV4KCkgKyAxKSAmJlxuICAgICAgKGNvbm4gPSAobWF0Y2ggPSBiZWZvcmUuY29udGVudE1hdGNoQXQoYmVmb3JlLmNoaWxkQ291bnQpKS5maW5kV3JhcHBpbmcoYWZ0ZXIudHlwZSkpICYmXG4gICAgICBtYXRjaC5tYXRjaFR5cGUoY29ublswXSB8fCBhZnRlci50eXBlKS52YWxpZEVuZCkge1xuICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgbGV0IGVuZCA9ICRjdXQucG9zICsgYWZ0ZXIubm9kZVNpemUsIHdyYXAgPSBGcmFnbWVudC5lbXB0eVxuICAgICAgZm9yIChsZXQgaSA9IGNvbm4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgIHdyYXAgPSBGcmFnbWVudC5mcm9tKGNvbm5baV0uY3JlYXRlKG51bGwsIHdyYXApKVxuICAgICAgd3JhcCA9IEZyYWdtZW50LmZyb20oYmVmb3JlLmNvcHkod3JhcCkpXG4gICAgICBsZXQgdHIgPSBzdGF0ZS50ci5zdGVwKG5ldyBSZXBsYWNlQXJvdW5kU3RlcCgkY3V0LnBvcyAtIDEsIGVuZCwgJGN1dC5wb3MsIGVuZCwgbmV3IFNsaWNlKHdyYXAsIDEsIDApLCBjb25uLmxlbmd0aCwgdHJ1ZSkpXG4gICAgICBsZXQgam9pbkF0ID0gZW5kICsgMiAqIGNvbm4ubGVuZ3RoXG4gICAgICBpZiAoY2FuSm9pbih0ci5kb2MsIGpvaW5BdCkpIHRyLmpvaW4oam9pbkF0KVxuICAgICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGxldCBzZWxBZnRlciA9IFNlbGVjdGlvbi5maW5kRnJvbSgkY3V0LCAxKVxuICBsZXQgcmFuZ2UgPSBzZWxBZnRlciAmJiBzZWxBZnRlci4kZnJvbS5ibG9ja1JhbmdlKHNlbEFmdGVyLiR0byksIHRhcmdldCA9IHJhbmdlICYmIGxpZnRUYXJnZXQocmFuZ2UpXG4gIGlmICh0YXJnZXQgIT0gbnVsbCAmJiB0YXJnZXQgPj0gJGN1dC5kZXB0aCkge1xuICAgIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIubGlmdChyYW5nZSwgdGFyZ2V0KS5zY3JvbGxJbnRvVmlldygpKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn1cblxuLy8gUGFyYW1ldGVyaXplZCBjb21tYW5kc1xuXG4vLyA6OiAoTm9kZVR5cGUsID9PYmplY3QpIOKGkiAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaDogPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gV3JhcCB0aGUgc2VsZWN0aW9uIGluIGEgbm9kZSBvZiB0aGUgZ2l2ZW4gdHlwZSB3aXRoIHRoZSBnaXZlblxuLy8gYXR0cmlidXRlcy5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwSW4obm9kZVR5cGUsIGF0dHJzKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICBsZXQgeyRmcm9tLCAkdG99ID0gc3RhdGUuc2VsZWN0aW9uXG4gICAgbGV0IHJhbmdlID0gJGZyb20uYmxvY2tSYW5nZSgkdG8pLCB3cmFwcGluZyA9IHJhbmdlICYmIGZpbmRXcmFwcGluZyhyYW5nZSwgbm9kZVR5cGUsIGF0dHJzKVxuICAgIGlmICghd3JhcHBpbmcpIHJldHVybiBmYWxzZVxuICAgIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIud3JhcChyYW5nZSwgd3JhcHBpbmcpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG4vLyA6OiAoTm9kZVR5cGUsID9PYmplY3QpIOKGkiAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaDogPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gUmV0dXJucyBhIGNvbW1hbmQgdGhhdCB0cmllcyB0byBzZXQgdGhlIHNlbGVjdGVkIHRleHRibG9ja3MgdG8gdGhlXG4vLyBnaXZlbiBub2RlIHR5cGUgd2l0aCB0aGUgZ2l2ZW4gYXR0cmlidXRlcy5cbmV4cG9ydCBmdW5jdGlvbiBzZXRCbG9ja1R5cGUobm9kZVR5cGUsIGF0dHJzKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICBsZXQge2Zyb20sIHRvfSA9IHN0YXRlLnNlbGVjdGlvblxuICAgIGxldCBhcHBsaWNhYmxlID0gZmFsc2VcbiAgICBzdGF0ZS5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCAobm9kZSwgcG9zKSA9PiB7XG4gICAgICBpZiAoYXBwbGljYWJsZSkgcmV0dXJuIGZhbHNlXG4gICAgICBpZiAoIW5vZGUuaXNUZXh0YmxvY2sgfHwgbm9kZS5oYXNNYXJrdXAobm9kZVR5cGUsIGF0dHJzKSkgcmV0dXJuXG4gICAgICBpZiAobm9kZS50eXBlID09IG5vZGVUeXBlKSB7XG4gICAgICAgIGFwcGxpY2FibGUgPSB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgJHBvcyA9IHN0YXRlLmRvYy5yZXNvbHZlKHBvcyksIGluZGV4ID0gJHBvcy5pbmRleCgpXG4gICAgICAgIGFwcGxpY2FibGUgPSAkcG9zLnBhcmVudC5jYW5SZXBsYWNlV2l0aChpbmRleCwgaW5kZXggKyAxLCBub2RlVHlwZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIGlmICghYXBwbGljYWJsZSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5zZXRCbG9ja1R5cGUoZnJvbSwgdG8sIG5vZGVUeXBlLCBhdHRycykuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIG1hcmtBcHBsaWVzKGRvYywgcmFuZ2VzLCB0eXBlKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHskZnJvbSwgJHRvfSA9IHJhbmdlc1tpXVxuICAgIGxldCBjYW4gPSAkZnJvbS5kZXB0aCA9PSAwID8gZG9jLnR5cGUuYWxsb3dzTWFya1R5cGUodHlwZSkgOiBmYWxzZVxuICAgIGRvYy5ub2Rlc0JldHdlZW4oJGZyb20ucG9zLCAkdG8ucG9zLCBub2RlID0+IHtcbiAgICAgIGlmIChjYW4pIHJldHVybiBmYWxzZVxuICAgICAgY2FuID0gbm9kZS5pbmxpbmVDb250ZW50ICYmIG5vZGUudHlwZS5hbGxvd3NNYXJrVHlwZSh0eXBlKVxuICAgIH0pXG4gICAgaWYgKGNhbikgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuLy8gOjogKE1hcmtUeXBlLCA/T2JqZWN0KSDihpIgKHN0YXRlOiBFZGl0b3JTdGF0ZSwgZGlzcGF0Y2g6ID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIENyZWF0ZSBhIGNvbW1hbmQgZnVuY3Rpb24gdGhhdCB0b2dnbGVzIHRoZSBnaXZlbiBtYXJrIHdpdGggdGhlXG4vLyBnaXZlbiBhdHRyaWJ1dGVzLiBXaWxsIHJldHVybiBgZmFsc2VgIHdoZW4gdGhlIGN1cnJlbnQgc2VsZWN0aW9uXG4vLyBkb2Vzbid0IHN1cHBvcnQgdGhhdCBtYXJrLiBUaGlzIHdpbGwgcmVtb3ZlIHRoZSBtYXJrIGlmIGFueSBtYXJrc1xuLy8gb2YgdGhhdCB0eXBlIGV4aXN0IGluIHRoZSBzZWxlY3Rpb24sIG9yIGFkZCBpdCBvdGhlcndpc2UuIElmIHRoZVxuLy8gc2VsZWN0aW9uIGlzIGVtcHR5LCB0aGlzIGFwcGxpZXMgdG8gdGhlIFtzdG9yZWRcbi8vIG1hcmtzXSgjc3RhdGUuRWRpdG9yU3RhdGUuc3RvcmVkTWFya3MpIGluc3RlYWQgb2YgYSByYW5nZSBvZiB0aGVcbi8vIGRvY3VtZW50LlxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZU1hcmsobWFya1R5cGUsIGF0dHJzKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICBsZXQge2VtcHR5LCAkY3Vyc29yLCByYW5nZXN9ID0gc3RhdGUuc2VsZWN0aW9uXG4gICAgaWYgKChlbXB0eSAmJiAhJGN1cnNvcikgfHwgIW1hcmtBcHBsaWVzKHN0YXRlLmRvYywgcmFuZ2VzLCBtYXJrVHlwZSkpIHJldHVybiBmYWxzZVxuICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgaWYgKCRjdXJzb3IpIHtcbiAgICAgICAgaWYgKG1hcmtUeXBlLmlzSW5TZXQoc3RhdGUuc3RvcmVkTWFya3MgfHwgJGN1cnNvci5tYXJrcygpKSlcbiAgICAgICAgICBkaXNwYXRjaChzdGF0ZS50ci5yZW1vdmVTdG9yZWRNYXJrKG1hcmtUeXBlKSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGRpc3BhdGNoKHN0YXRlLnRyLmFkZFN0b3JlZE1hcmsobWFya1R5cGUuY3JlYXRlKGF0dHJzKSkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgaGFzID0gZmFsc2UsIHRyID0gc3RhdGUudHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7ICFoYXMgJiYgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCB7JGZyb20sICR0b30gPSByYW5nZXNbaV1cbiAgICAgICAgICBoYXMgPSBzdGF0ZS5kb2MucmFuZ2VIYXNNYXJrKCRmcm9tLnBvcywgJHRvLnBvcywgbWFya1R5cGUpXG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQgeyRmcm9tLCAkdG99ID0gcmFuZ2VzW2ldXG4gICAgICAgICAgaWYgKGhhcykgdHIucmVtb3ZlTWFyaygkZnJvbS5wb3MsICR0by5wb3MsIG1hcmtUeXBlKVxuICAgICAgICAgIGVsc2UgdHIuYWRkTWFyaygkZnJvbS5wb3MsICR0by5wb3MsIG1hcmtUeXBlLmNyZWF0ZShhdHRycykpXG4gICAgICAgIH1cbiAgICAgICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5mdW5jdGlvbiB3cmFwRGlzcGF0Y2hGb3JKb2luKGRpc3BhdGNoLCBpc0pvaW5hYmxlKSB7XG4gIHJldHVybiB0ciA9PiB7XG4gICAgaWYgKCF0ci5pc0dlbmVyaWMpIHJldHVybiBkaXNwYXRjaCh0cilcblxuICAgIGxldCByYW5nZXMgPSBbXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHIubWFwcGluZy5tYXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbWFwID0gdHIubWFwcGluZy5tYXBzW2ldXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJhbmdlcy5sZW5ndGg7IGorKylcbiAgICAgICAgcmFuZ2VzW2pdID0gbWFwLm1hcChyYW5nZXNbal0pXG4gICAgICBtYXAuZm9yRWFjaCgoX3MsIF9lLCBmcm9tLCB0bykgPT4gcmFuZ2VzLnB1c2goZnJvbSwgdG8pKVxuICAgIH1cblxuICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggam9pbmFibGUgcG9pbnRzIGV4aXN0IGluc2lkZSB0aG9zZSByYW5nZXMsXG4gICAgLy8gYnkgY2hlY2tpbmcgYWxsIG5vZGUgYm91bmRhcmllcyBpbiB0aGVpciBwYXJlbnQgbm9kZXMuXG4gICAgbGV0IGpvaW5hYmxlID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgbGV0IGZyb20gPSByYW5nZXNbaV0sIHRvID0gcmFuZ2VzW2kgKyAxXVxuICAgICAgbGV0ICRmcm9tID0gdHIuZG9jLnJlc29sdmUoZnJvbSksIGRlcHRoID0gJGZyb20uc2hhcmVkRGVwdGgodG8pLCBwYXJlbnQgPSAkZnJvbS5ub2RlKGRlcHRoKVxuICAgICAgZm9yIChsZXQgaW5kZXggPSAkZnJvbS5pbmRleEFmdGVyKGRlcHRoKSwgcG9zID0gJGZyb20uYWZ0ZXIoZGVwdGggKyAxKTsgcG9zIDw9IHRvOyArK2luZGV4KSB7XG4gICAgICAgIGxldCBhZnRlciA9IHBhcmVudC5tYXliZUNoaWxkKGluZGV4KVxuICAgICAgICBpZiAoIWFmdGVyKSBicmVha1xuICAgICAgICBpZiAoaW5kZXggJiYgam9pbmFibGUuaW5kZXhPZihwb3MpID09IC0xKSB7XG4gICAgICAgICAgbGV0IGJlZm9yZSA9IHBhcmVudC5jaGlsZChpbmRleCAtIDEpXG4gICAgICAgICAgaWYgKGJlZm9yZS50eXBlID09IGFmdGVyLnR5cGUgJiYgaXNKb2luYWJsZShiZWZvcmUsIGFmdGVyKSlcbiAgICAgICAgICAgIGpvaW5hYmxlLnB1c2gocG9zKVxuICAgICAgICB9XG4gICAgICAgIHBvcyArPSBhZnRlci5ub2RlU2l6ZVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBKb2luIHRoZSBqb2luYWJsZSBwb2ludHNcbiAgICBqb2luYWJsZS5zb3J0KChhLCBiKSA9PiBhIC0gYilcbiAgICBmb3IgKGxldCBpID0gam9pbmFibGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGlmIChjYW5Kb2luKHRyLmRvYywgam9pbmFibGVbaV0pKSB0ci5qb2luKGpvaW5hYmxlW2ldKVxuICAgIH1cbiAgICBkaXNwYXRjaCh0cilcbiAgfVxufVxuXG4vLyA6OiAoKHN0YXRlOiBFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbCwgdW5pb248KGJlZm9yZTogTm9kZSwgYWZ0ZXI6IE5vZGUpIOKGkiBib29sLCBbc3RyaW5nXT4pIOKGkiAoc3RhdGU6IEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBXcmFwIGEgY29tbWFuZCBzbyB0aGF0LCB3aGVuIGl0IHByb2R1Y2VzIGEgdHJhbnNmb3JtIHRoYXQgY2F1c2VzXG4vLyB0d28gam9pbmFibGUgbm9kZXMgdG8gZW5kIHVwIG5leHQgdG8gZWFjaCBvdGhlciwgdGhvc2UgYXJlIGpvaW5lZC5cbi8vIE5vZGVzIGFyZSBjb25zaWRlcmVkIGpvaW5hYmxlIHdoZW4gdGhleSBhcmUgb2YgdGhlIHNhbWUgdHlwZSBhbmRcbi8vIHdoZW4gdGhlIGBpc0pvaW5hYmxlYCBwcmVkaWNhdGUgcmV0dXJucyB0cnVlIGZvciB0aGVtIG9yLCBpZiBhblxuLy8gYXJyYXkgb2Ygc3RyaW5ncyB3YXMgcGFzc2VkLCBpZiB0aGVpciBub2RlIHR5cGUgbmFtZSBpcyBpbiB0aGF0XG4vLyBhcnJheS5cbmV4cG9ydCBmdW5jdGlvbiBhdXRvSm9pbihjb21tYW5kLCBpc0pvaW5hYmxlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGlzSm9pbmFibGUpKSB7XG4gICAgbGV0IHR5cGVzID0gaXNKb2luYWJsZVxuICAgIGlzSm9pbmFibGUgPSBub2RlID0+IHR5cGVzLmluZGV4T2Yobm9kZS50eXBlLm5hbWUpID4gLTFcbiAgfVxuICByZXR1cm4gKHN0YXRlLCBkaXNwYXRjaCkgPT4gY29tbWFuZChzdGF0ZSwgZGlzcGF0Y2ggJiYgd3JhcERpc3BhdGNoRm9ySm9pbihkaXNwYXRjaCwgaXNKb2luYWJsZSkpXG59XG5cbi8vIDo6ICguLi5bKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbiksID9FZGl0b3JWaWV3KSDihpIgYm9vbF0pIOKGkiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSwgP0VkaXRvclZpZXcpIOKGkiBib29sXG4vLyBDb21iaW5lIGEgbnVtYmVyIG9mIGNvbW1hbmQgZnVuY3Rpb25zIGludG8gYSBzaW5nbGUgZnVuY3Rpb24gKHdoaWNoXG4vLyBjYWxscyB0aGVtIG9uZSBieSBvbmUgdW50aWwgb25lIHJldHVybnMgdHJ1ZSkuXG5leHBvcnQgZnVuY3Rpb24gY2hhaW5Db21tYW5kcyguLi5jb21tYW5kcykge1xuICByZXR1cm4gZnVuY3Rpb24oc3RhdGUsIGRpc3BhdGNoLCB2aWV3KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21tYW5kcy5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChjb21tYW5kc1tpXShzdGF0ZSwgZGlzcGF0Y2gsIHZpZXcpKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmxldCBiYWNrc3BhY2UgPSBjaGFpbkNvbW1hbmRzKGRlbGV0ZVNlbGVjdGlvbiwgam9pbkJhY2t3YXJkLCBzZWxlY3ROb2RlQmFja3dhcmQpXG5sZXQgZGVsID0gY2hhaW5Db21tYW5kcyhkZWxldGVTZWxlY3Rpb24sIGpvaW5Gb3J3YXJkLCBzZWxlY3ROb2RlRm9yd2FyZClcblxuLy8gOjogT2JqZWN0XG4vLyBBIGJhc2ljIGtleW1hcCBjb250YWluaW5nIGJpbmRpbmdzIG5vdCBzcGVjaWZpYyB0byBhbnkgc2NoZW1hLlxuLy8gQmluZHMgdGhlIGZvbGxvd2luZyBrZXlzICh3aGVuIG11bHRpcGxlIGNvbW1hbmRzIGFyZSBsaXN0ZWQsIHRoZXlcbi8vIGFyZSBjaGFpbmVkIHdpdGggW2BjaGFpbkNvbW1hbmRzYF0oI2NvbW1hbmRzLmNoYWluQ29tbWFuZHMpKTpcbi8vXG4vLyAqICoqRW50ZXIqKiB0byBgbmV3bGluZUluQ29kZWAsIGBjcmVhdGVQYXJhZ3JhcGhOZWFyYCwgYGxpZnRFbXB0eUJsb2NrYCwgYHNwbGl0QmxvY2tgXG4vLyAqICoqTW9kLUVudGVyKiogdG8gYGV4aXRDb2RlYFxuLy8gKiAqKkJhY2tzcGFjZSoqIGFuZCAqKk1vZC1CYWNrc3BhY2UqKiB0byBgZGVsZXRlU2VsZWN0aW9uYCwgYGpvaW5CYWNrd2FyZGAsIGBzZWxlY3ROb2RlQmFja3dhcmRgXG4vLyAqICoqRGVsZXRlKiogYW5kICoqTW9kLURlbGV0ZSoqIHRvIGBkZWxldGVTZWxlY3Rpb25gLCBgam9pbkZvcndhcmRgLCBgc2VsZWN0Tm9kZUZvcndhcmRgXG4vLyAqICoqTW9kLURlbGV0ZSoqIHRvIGBkZWxldGVTZWxlY3Rpb25gLCBgam9pbkZvcndhcmRgLCBgc2VsZWN0Tm9kZUZvcndhcmRgXG4vLyAqICoqTW9kLWEqKiB0byBgc2VsZWN0QWxsYFxuZXhwb3J0IGxldCBwY0Jhc2VLZXltYXAgPSB7XG4gIFwiRW50ZXJcIjogY2hhaW5Db21tYW5kcyhuZXdsaW5lSW5Db2RlLCBjcmVhdGVQYXJhZ3JhcGhOZWFyLCBsaWZ0RW1wdHlCbG9jaywgc3BsaXRCbG9jayksXG4gIFwiTW9kLUVudGVyXCI6IGV4aXRDb2RlLFxuICBcIkJhY2tzcGFjZVwiOiBiYWNrc3BhY2UsXG4gIFwiTW9kLUJhY2tzcGFjZVwiOiBiYWNrc3BhY2UsXG4gIFwiRGVsZXRlXCI6IGRlbCxcbiAgXCJNb2QtRGVsZXRlXCI6IGRlbCxcbiAgXCJNb2QtYVwiOiBzZWxlY3RBbGxcbn1cblxuLy8gOjogT2JqZWN0XG4vLyBBIGNvcHkgb2YgYHBjQmFzZUtleW1hcGAgdGhhdCBhbHNvIGJpbmRzICoqQ3RybC1oKiogbGlrZSBCYWNrc3BhY2UsXG4vLyAqKkN0cmwtZCoqIGxpa2UgRGVsZXRlLCAqKkFsdC1CYWNrc3BhY2UqKiBsaWtlIEN0cmwtQmFja3NwYWNlLCBhbmRcbi8vICoqQ3RybC1BbHQtQmFja3NwYWNlKiosICoqQWx0LURlbGV0ZSoqLCBhbmQgKipBbHQtZCoqIGxpa2Vcbi8vIEN0cmwtRGVsZXRlLlxuZXhwb3J0IGxldCBtYWNCYXNlS2V5bWFwID0ge1xuICBcIkN0cmwtaFwiOiBwY0Jhc2VLZXltYXBbXCJCYWNrc3BhY2VcIl0sXG4gIFwiQWx0LUJhY2tzcGFjZVwiOiBwY0Jhc2VLZXltYXBbXCJNb2QtQmFja3NwYWNlXCJdLFxuICBcIkN0cmwtZFwiOiBwY0Jhc2VLZXltYXBbXCJEZWxldGVcIl0sXG4gIFwiQ3RybC1BbHQtQmFja3NwYWNlXCI6IHBjQmFzZUtleW1hcFtcIk1vZC1EZWxldGVcIl0sXG4gIFwiQWx0LURlbGV0ZVwiOiBwY0Jhc2VLZXltYXBbXCJNb2QtRGVsZXRlXCJdLFxuICBcIkFsdC1kXCI6IHBjQmFzZUtleW1hcFtcIk1vZC1EZWxldGVcIl1cbn1cbmZvciAobGV0IGtleSBpbiBwY0Jhc2VLZXltYXApIG1hY0Jhc2VLZXltYXBba2V5XSA9IHBjQmFzZUtleW1hcFtrZXldXG5cbi8vIGRlY2xhcmUgZ2xvYmFsOiBvcywgbmF2aWdhdG9yXG5jb25zdCBtYWMgPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgPyAvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSlcbiAgICAgICAgICA6IHR5cGVvZiBvcyAhPSBcInVuZGVmaW5lZFwiID8gb3MucGxhdGZvcm0oKSA9PSBcImRhcndpblwiIDogZmFsc2VcblxuLy8gOjogT2JqZWN0XG4vLyBEZXBlbmRpbmcgb24gdGhlIGRldGVjdGVkIHBsYXRmb3JtLCB0aGlzIHdpbGwgaG9sZFxuLy8gW2BwY0Jhc2VrZXltYXBgXSgjY29tbWFuZHMucGNCYXNlS2V5bWFwKSBvclxuLy8gW2BtYWNCYXNlS2V5bWFwYF0oI2NvbW1hbmRzLm1hY0Jhc2VLZXltYXApLlxuZXhwb3J0IGxldCBiYXNlS2V5bWFwID0gbWFjID8gbWFjQmFzZUtleW1hcCA6IHBjQmFzZUtleW1hcFxuIiwiaW1wb3J0IHtcbiAgUGx1Z2luLFxuICBFZGl0b3JTdGF0ZSxcbiAgU2VsZWN0aW9uLFxuICBUZXh0U2VsZWN0aW9uLFxuICBUcmFuc2FjdGlvbixcbn0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnO1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ3Byb3NlbWlycm9yLXZpZXcnO1xuaW1wb3J0IHsgbGlmdExpc3RJdGVtLCB3cmFwSW5MaXN0IH0gZnJvbSAncHJvc2VtaXJyb3Itc2NoZW1hLWxpc3QnO1xuaW1wb3J0IHtcbiAgTWFya1R5cGUsXG4gIE5vZGVSYW5nZSxcbiAgTm9kZVR5cGUsXG4gIFJlc29sdmVkUG9zLFxuICBTY2hlbWEsXG59IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJztcbmltcG9ydCB7IGZpbmRXcmFwcGluZyB9IGZyb20gJ3Byb3NlbWlycm9yLXRyYW5zZm9ybSc7XG5pbXBvcnQgeyB1bmRvLCByZWRvIH0gZnJvbSAncHJvc2VtaXJyb3ItaGlzdG9yeSc7XG5pbXBvcnQgeyB0b2dnbGVNYXJrIH0gZnJvbSAncHJvc2VtaXJyb3ItY29tbWFuZHMnO1xuaW1wb3J0IHsgc2NoZW1hIH0gZnJvbSAnLi9zY2hlbWEnO1xuaW1wb3J0IHtcbiAgY2hhaW5Db21tYW5kcyxcbiAgc2VsZWN0UGFyZW50Tm9kZSxcbiAgc2V0QmxvY2tUeXBlLFxuICB3cmFwSW4sXG59IGZyb20gJ3Byb3NlbWlycm9yLWNvbW1hbmRzJztcblxuY29uc3QgQVBQTFlfRk9STUFUX0FUVFIgPSAnZGF0YS1mb3JtYXQnO1xuXG50eXBlIENvbW1hbmQgPSB0eXBlb2Ygc2VsZWN0UGFyZW50Tm9kZTtcblxuY29uc3QgdG9nZ2xlQ2hlY2tsaXN0SXRlbVN0YXRlOiBDb21tYW5kID0gZnVuY3Rpb24gKFxuICBzdGF0ZTogRWRpdG9yU3RhdGUsXG4gIGRpc3BhdGNoOiBFZGl0b3JWaWV3WydkaXNwYXRjaCddLFxuKSB7XG4gIGNvbnN0IHsgJGZyb20sICR0byB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuXG4gIGNvbnN0IGJsb2NrUmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0byk7XG5cbiAgbGV0IGhhc0NoZWNrZWQgPSBmYWxzZTtcbiAgZm9yIChcbiAgICBsZXQgaW5kZXggPSBibG9ja1JhbmdlLnN0YXJ0SW5kZXgsIGNoaWxkID0gYmxvY2tSYW5nZS5wYXJlbnQuY2hpbGQoaW5kZXgpO1xuICAgIGluZGV4IDwgYmxvY2tSYW5nZS5lbmRJbmRleDtcbiAgICBpbmRleCArPSAxXG4gICkge1xuICAgIGlmIChjaGlsZC50eXBlICE9PSBzY2hlbWEubm9kZXMuY2hlY2tsaXN0X2l0ZW0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGNoaWxkLmF0dHJzLmNoZWNrZWQpIHtcbiAgICAgIGhhc0NoZWNrZWQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFkaXNwYXRjaCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3QgeyB0ciB9ID0gc3RhdGU7XG4gIGZvciAoXG4gICAgbGV0IGluZGV4ID0gYmxvY2tSYW5nZS5zdGFydEluZGV4LFxuICAgICAgY2hpbGQgPSBibG9ja1JhbmdlLnBhcmVudC5jaGlsZChpbmRleCksXG4gICAgICBwb3MgPSBibG9ja1JhbmdlLnN0YXJ0O1xuICAgIGluZGV4IDwgYmxvY2tSYW5nZS5lbmRJbmRleDtcbiAgICBpbmRleCArPSAxXG4gICkge1xuICAgIHRyLnNldE5vZGVNYXJrdXAocG9zLCB1bmRlZmluZWQsIHsgY2hlY2tlZDogaGFzQ2hlY2tlZCA/IGZhbHNlIDogdHJ1ZSB9KTtcbiAgICBwb3MgKz0gY2hpbGQubm9kZVNpemU7XG4gIH1cblxuICBkaXNwYXRjaCh0cik7XG4gIHJldHVybiB0cnVlO1xufTtcblxudHlwZSBtb2RhbENvbmZpcm1IYW5kbGVyID0gKHBhcmFtczogeyB0ZXh0OiBzdHJpbmc7IHVybDogc3RyaW5nIH0pID0+IHZvaWQ7XG5cbmV4cG9ydCBjbGFzcyBUb29sYmFyUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgc3RhdGljIExpbmtNb2RhbCA9IGNsYXNzIHtcbiAgICBwcml2YXRlIGVsOiBFbGVtZW50O1xuICAgIHByaXZhdGUgdGV4dDogc3RyaW5nO1xuICAgIHByaXZhdGUgdXJsOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBvbkNvbmZpcm06IG1vZGFsQ29uZmlybUhhbmRsZXI7XG4gICAgcHJpdmF0ZSBzaG93Q2xzID0gJ2FjdGl2ZSc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgIGVsOiBFbGVtZW50LFxuICAgICAge1xuICAgICAgICBvbkNvbmZpcm0sXG4gICAgICAgIHRleHQsXG4gICAgICAgIHVybCxcbiAgICAgIH06IHtcbiAgICAgICAgb25Db25maXJtOiBtb2RhbENvbmZpcm1IYW5kbGVyO1xuICAgICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgICAgIHVybDogc3RyaW5nO1xuICAgICAgfSxcbiAgICApIHtcbiAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgIHRoaXMudGV4dElucHV0LnZhbHVlID0gdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgIHRoaXMudXJsSW5wdXQudmFsdWUgPSB0aGlzLnVybCA9IHVybDtcbiAgICAgIHRoaXMudXJsT3BlbkxpbmsuaHJlZiA9IHVybDtcbiAgICAgIHRoaXMub25Db25maXJtID0gb25Db25maXJtO1xuXG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQodGhpcy5zaG93Q2xzKTtcbiAgICAgIHRoaXMuY29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ29uZmlybSk7XG4gICAgICB0aGlzLmNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2FuY2VsKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUdsb2JhbEtleWRvd24pO1xuICAgICAgdGhpcy51cmxJbnB1dC5mb2N1cygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlQ29uZmlybSA9ICgpID0+IHtcbiAgICAgIHRoaXMub25Db25maXJtKHtcbiAgICAgICAgdGV4dDogdGhpcy50ZXh0SW5wdXQudmFsdWUsXG4gICAgICAgIHVybDogdGhpcy51cmxJbnB1dC52YWx1ZSxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBoYW5kbGVDYW5jZWwgPSAoKSA9PiB7XG4gICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBoYW5kbGVHbG9iYWxLZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGlzRW50ZXIgPSBlLndoaWNoID09PSAxMztcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLnRleHRJbnB1dCB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLnVybElucHV0ICYmIGlzRW50ZXIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVDb25maXJtKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlzRXNjID0gZS53aGljaCA9PT0gMjc7XG4gICAgICBpZiAoZS53aGljaCA9PT0gMjcpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVDYW5jZWwoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNvbmZpcm1CdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNvbmZpcm0pO1xuICAgICAgdGhpcy5jYW5jZWxCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNhbmNlbCk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVHbG9iYWxLZXlkb3duKTtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnNob3dDbHMpO1xuICAgIH07XG5cbiAgICBnZXQgdGV4dElucHV0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWwucXVlcnlTZWxlY3RvcignaW5wdXQjdGV4dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZ2V0IHVybElucHV0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWwucXVlcnlTZWxlY3RvcignaW5wdXQjdXJsJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICB9XG5cbiAgICBnZXQgdXJsT3BlbkxpbmsoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdsYWJlbFtmb3I9dXJsXSBhJykgYXMgSFRNTEFuY2hvckVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZ2V0IGNvbmZpcm1CdG4oKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdidXR0b24jY29uZmlybScpO1xuICAgIH1cblxuICAgIGdldCBjYW5jZWxCdG4oKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdidXR0b24jY2FuY2VsJyk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgdmlldzogRWRpdG9yVmlldztcbiAgcHJpdmF0ZSBtb2RhbEVsOiBFbGVtZW50O1xuXG4gIHByaXZhdGUgc3dhcFRleHRCbG9jayA9IChub2RlVHlwZTogTm9kZVR5cGUpID0+IHtcbiAgICBsZXQgeyBkaXNwYXRjaCwgc3RhdGUgfSA9IHRoaXMudmlldztcbiAgICBsZXQgeyB0ciB9ID0gc3RhdGU7XG4gICAgY29uc3QgeyAkZnJvbSwgJHRvLCBmcm9tLCB0byB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIGlmIChub2RlVHlwZSAhPT0gc2NoZW1hLm5vZGVzLnVub3JkZXJlZF9saXN0KSB7XG4gICAgICBsaWZ0TGlzdEl0ZW0oc2NoZW1hLm5vZGVzLmxpc3RfaXRlbSkoc3RhdGUsIGRpc3BhdGNoKTtcbiAgICB9XG4gICAgKHsgZGlzcGF0Y2gsIHN0YXRlIH0gPSB0aGlzLnZpZXcpO1xuICAgICh7IHRyIH0gPSBzdGF0ZSk7XG4gICAgdHIuc2V0QmxvY2tUeXBlKGZyb20sIHRvLCBub2RlVHlwZSk7XG4gICAgZGlzcGF0Y2godHIpO1xuICAgIHRoaXMudmlldy5mb2N1cygpO1xuICB9O1xuXG4gIHByaXZhdGUgcHJvbW90ZUhlYWRpbmcgPSAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaCkgPT4ge1xuICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBzdGF0ZTtcbiAgICBpZiAoIXNlbGVjdGlvbi5lbXB0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICAkZnJvbToge1xuICAgICAgICBwYXJlbnQ6IHsgdHlwZSB9LFxuICAgICAgfSxcbiAgICB9ID0gc2VsZWN0aW9uO1xuICAgIGxldCBuZXh0VHlwZTogTm9kZVR5cGU7XG4gICAgaWYgKHR5cGUgPT09IHNjaGVtYS5ub2Rlcy5oZWFkaW5nMikge1xuICAgICAgbmV4dFR5cGUgPSBzY2hlbWEubm9kZXMuaGVhZGluZzE7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBzY2hlbWEubm9kZXMuaGVhZGluZzEpIHtcbiAgICAgIG5leHRUeXBlID0gc2NoZW1hLm5vZGVzLnBhcmFncmFwaDtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dFR5cGUgPSBzY2hlbWEubm9kZXMuaGVhZGluZzI7XG4gICAgfVxuICAgIHRoaXMuc3dhcFRleHRCbG9jayhuZXh0VHlwZSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB0b2dnbGVMaXN0ID0gKGxpc3RUeXBlOiBOb2RlVHlwZSwgaXRlbVR5cGU6IE5vZGVUeXBlKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc3RhdGU6IHtcbiAgICAgICAgc2VsZWN0aW9uOiB7ICRmcm9tLCAkdG8gfSxcbiAgICAgICAgdHIsXG4gICAgICB9LFxuICAgIH0gPSB0aGlzLnZpZXc7XG5cbiAgICBjb25zdCBsaXN0QmxvY2tSYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoXG4gICAgICAkdG8sXG4gICAgICAobm9kZSkgPT4gbm9kZS50eXBlID09PSBsaXN0VHlwZSxcbiAgICApO1xuICAgIGlmIChsaXN0QmxvY2tSYW5nZSkge1xuICAgICAgY29uc3QgeyBkaXNwYXRjaCwgc3RhdGUgfSA9IHRoaXMudmlldztcbiAgICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaXMgZW50aXJlbHkgd2l0aGluIGEgbGlzdCBsaWZ0IHRoZSBzZWxlY3RlZCBpdGVtcyBvdXRcbiAgICAgIGxpZnRMaXN0SXRlbShpdGVtVHlwZSkoc3RhdGUsIGRpc3BhdGNoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYmxvY2tSYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoJHRvKTtcbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBpbmRleCA9IGJsb2NrUmFuZ2Uuc3RhcnRJbmRleDtcbiAgICAgICAgaW5kZXggPCBibG9ja1JhbmdlLmVuZEluZGV4O1xuICAgICAgICBpbmRleCArPSAxXG4gICAgICApIHtcbiAgICAgICAgaWYgKGJsb2NrUmFuZ2UucGFyZW50LmNoaWxkKGluZGV4KS50eXBlID09PSBsaXN0VHlwZSkge1xuICAgICAgICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaXMgcGFydGlhbGx5IGluc2lkZSBhIGxpc3QsIGRvIG5vdGhpbmdcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaXMgZW50aXJlbHkgb3V0c2lkZSBhIGxpc3QsIGNvbnZlcnQgZXZlcnl0aGluZyB0byBhIHBhcmFncmFwaFxuICAgICAgLy8gc28gaXQgY2FuIHN1YnNlcXVlbnRseSBiZWNvbWUgYSBsaXN0XG4gICAgICB0aGlzLnN3YXBUZXh0QmxvY2soc2NoZW1hLm5vZGVzLnBhcmFncmFwaCk7XG4gICAgICBjb25zdCB7IGRpc3BhdGNoLCBzdGF0ZSB9ID0gdGhpcy52aWV3O1xuICAgICAgd3JhcEluTGlzdChsaXN0VHlwZSkoc3RhdGUsIGRpc3BhdGNoKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSB0b2dnbGVDaGVja2xpc3RJdGVtID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZGlzcGF0Y2gsIHN0YXRlIH0gPSB0aGlzLnZpZXc7XG4gICAgY29uc3QgeyBkb2MsIHRyIH0gPSBzdGF0ZTtcbiAgICBjb25zdCB7ICRmcm9tLCAkdG8gfSA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgICBjb25zdCBibG9ja1JhbmdlID0gJGZyb20uYmxvY2tSYW5nZSgkdG8pO1xuXG4gICAgZm9yIChcbiAgICAgIGxldCBpbmRleCA9IGJsb2NrUmFuZ2Uuc3RhcnRJbmRleDtcbiAgICAgIGluZGV4IDwgYmxvY2tSYW5nZS5lbmRJbmRleDtcbiAgICAgIGluZGV4ICs9IDFcbiAgICApIHtcbiAgICAgIGlmIChibG9ja1JhbmdlLnBhcmVudC5jaGlsZChpbmRleCkudHlwZSA9PT0gc2NoZW1hLm5vZGVzLmNoZWNrbGlzdF9pdGVtKSB7XG4gICAgICAgIHRoaXMuc3dhcFRleHRCbG9jayhzY2hlbWEubm9kZXMucGFyYWdyYXBoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnN3YXBUZXh0QmxvY2soc2NoZW1hLm5vZGVzLmNoZWNrbGlzdF9pdGVtKTtcbiAgfTtcblxuICBwcml2YXRlIGFjdGl2YXRlTGlua01vZGFsOiBDb21tYW5kID0gKHN0YXRlLCBkaXNwYXRjaCkgPT4ge1xuICAgIGNvbnN0IHsgZG9jLCBzZWxlY3Rpb24gfSA9IHN0YXRlO1xuICAgIGNvbnN0IHsgJGZyb20sICR0byB9ID0gc2VsZWN0aW9uO1xuICAgIGNvbnN0IGxpbmtNYXJrQXRTdGFydCA9ICRmcm9tXG4gICAgICAubWFya3MoKVxuICAgICAgLmZpbmQoKG1hcmspID0+IG1hcmsudHlwZSA9PT0gc2NoZW1hLm1hcmtzLmxpbmspO1xuICAgIGNvbnN0IGxpbmtNYXJrQXRFbmQgPSAkdG9cbiAgICAgIC5tYXJrcygpXG4gICAgICAuZmluZCgobWFyaykgPT4gbWFyay50eXBlID09PSBzY2hlbWEubWFya3MubGluayk7XG4gICAgY29uc3Qgc2VsZWN0aW9uSXNJbnNpZGVMaW5rID0gbGlua01hcmtBdFN0YXJ0ICYmIGxpbmtNYXJrQXRFbmQ7XG5cbiAgICBpZiAoc2VsZWN0aW9uLmVtcHR5ICYmICFzZWxlY3Rpb25Jc0luc2lkZUxpbmspIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGxpbmtNYXJrQXRTdGFydCAhPT0gbGlua01hcmtBdEVuZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWRpc3BhdGNoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXJrID0gbGlua01hcmtBdFN0YXJ0O1xuICAgIGxldCBlbmQsIHN0YXJ0LCB0ZXh0LCB1cmw7XG4gICAgaWYgKG1hcmspIHtcbiAgICAgIGNvbnN0IHRleHROb2RlID0gJGZyb20ucGFyZW50Lm5vZGVBdCgkZnJvbS5wYXJlbnRPZmZzZXQgLSAkZnJvbS50ZXh0T2Zmc2V0KTtcbiAgICAgIHN0YXJ0ID0gJGZyb20ucG9zIC0gJGZyb20udGV4dE9mZnNldDtcbiAgICAgIGVuZCA9IHN0YXJ0ICsgdGV4dE5vZGUubm9kZVNpemU7XG4gICAgICB0ZXh0ID0gdGV4dE5vZGUudGV4dDtcbiAgICAgIHVybCA9IG1hcmsuYXR0cnMuaHJlZjtcbiAgICAgIGNvbnN0IG5ld1NlbGVjdGlvbiA9IG5ldyBUZXh0U2VsZWN0aW9uKFxuICAgICAgICBkb2MucmVzb2x2ZShzdGFydCksXG4gICAgICAgIGRvYy5yZXNvbHZlKGVuZCksXG4gICAgICApO1xuICAgICAgZGlzcGF0Y2goc3RhdGUudHIuc2V0U2VsZWN0aW9uKG5ld1NlbGVjdGlvbikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmQgPSAkdG8ucG9zO1xuICAgICAgc3RhcnQgPSAkZnJvbS5wb3M7XG4gICAgICB0ZXh0ID0gc3RhdGUuZG9jLnRleHRCZXR3ZWVuKCRmcm9tLnBvcywgJHRvLnBvcyk7XG4gICAgICB1cmwgPSAnJztcbiAgICB9XG5cbiAgICBjb25zdCBtb2RhbCA9IG5ldyBUb29sYmFyUGx1Z2luLkxpbmtNb2RhbCh0aGlzLm1vZGFsRWwsIHtcbiAgICAgIG9uQ29uZmlybTogKHsgdGV4dCwgdXJsIH0pID0+IHtcbiAgICAgICAgY29uc3QgbWFyayA9IHNjaGVtYS5tYXJrcy5saW5rLmNyZWF0ZSh7IGhyZWY6IHVybCB9KTtcbiAgICAgICAgY29uc3QgdGV4dE5vZGUgPSBzY2hlbWEudGV4dCh0ZXh0LCBbbWFya10pO1xuICAgICAgICB0aGlzLnZpZXcuZGlzcGF0Y2godGhpcy52aWV3LnN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb25XaXRoKHRleHROb2RlLCBmYWxzZSkpO1xuICAgICAgfSxcbiAgICAgIHRleHQsXG4gICAgICB1cmwsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBwcml2YXRlIHRvZ2dsZU1hcmsgPSAobWFyazogTWFya1R5cGUpID0+IHtcbiAgICB0b2dnbGVNYXJrKG1hcmspKHRoaXMudmlldy5zdGF0ZSwgdGhpcy52aWV3LmRpc3BhdGNoKTtcbiAgICB0aGlzLnZpZXcuZm9jdXMoKTtcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcih0b29sYmFyRWw6IEVsZW1lbnQsIG1vZGFsRWw6IEVsZW1lbnQpIHtcbiAgICBzdXBlcih7XG4gICAgICB2aWV3OiAodmlld0luc3RhbmNlKSA9PiB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXdJbnN0YW5jZTtcbiAgICAgICAgdGhpcy5tb2RhbEVsID0gbW9kYWxFbDtcblxuICAgICAgICB0b29sYmFyRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVRvb2xiYXJDbGljayk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkZXN0cm95KCkge1xuICAgICAgICAgICAgdG9vbGJhckVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVUb29sYmFyQ2xpY2spO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdXBkYXRlOiAodmlldywgcHJldmlvdXNTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNseVNlbGVjdGVkQXR0cnMgPSB0aGlzLmdldFNlbGVjdGVkRm9ybWF0QXR0cnMoXG4gICAgICAgICAgICAgIHByZXZpb3VzU3RhdGUsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzbHlTZWxlY3RlZEF0dHJzKSB7XG4gICAgICAgICAgICAgIHByZXZpb3VzbHlTZWxlY3RlZEF0dHJzLmZvckVhY2goKGF0dHIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBidG4gPSB0b29sYmFyRWwucXVlcnlTZWxlY3RvcihgW2RhdGEtZm9ybWF0PSR7YXR0cn1dYCk7XG4gICAgICAgICAgICAgICAgaWYgKGJ0bikge1xuICAgICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRBdHRycyA9IHRoaXMuZ2V0U2VsZWN0ZWRGb3JtYXRBdHRycyh2aWV3LnN0YXRlKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEF0dHJzKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkQXR0cnMuZm9yRWFjaCgoYXR0cikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ0biA9IHRvb2xiYXJFbC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1mb3JtYXQ9JHthdHRyfV1gKTtcbiAgICAgICAgICAgICAgICBpZiAoYnRuKSB7XG4gICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgaGFuZGxlS2V5RG93bjogKHZpZXcsIGUpID0+IHtcbiAgICAgICAgICBjb25zdCBpc1QgPSBlLndoaWNoID09PSA4NDtcbiAgICAgICAgICBjb25zdCBoYXNDdHJsID0gZS5jdHJsS2V5O1xuICAgICAgICAgIGlmIChpc1QgJiYgaGFzQ3RybCkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVDaGVja2xpc3RJdGVtKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpczcgPSBlLndoaWNoID09PSA1NTtcbiAgICAgICAgICBjb25zdCBoYXNNb2QgPSBlLm1ldGFLZXk7XG4gICAgICAgICAgaWYgKGlzNyAmJiBoYXNNb2QpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTGlzdChcbiAgICAgICAgICAgICAgc2NoZW1hLm5vZGVzLnVub3JkZXJlZF9saXN0LFxuICAgICAgICAgICAgICBzY2hlbWEubm9kZXMubGlzdF9pdGVtLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzVSA9IGUud2hpY2ggPT09IDg1O1xuICAgICAgICAgIGlmIChpc1UgJiYgaGFzQ3RybCkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVMaXN0KFxuICAgICAgICAgICAgICBzY2hlbWEubm9kZXMudW5vcmRlcmVkX2xpc3QsXG4gICAgICAgICAgICAgIHNjaGVtYS5ub2Rlcy5saXN0X2l0ZW0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNPID0gZS53aGljaCA9PT0gNzk7XG4gICAgICAgICAgaWYgKGlzTyAmJiBoYXNDdHJsKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxpc3Qoc2NoZW1hLm5vZGVzLm9yZGVyZWRfbGlzdCwgc2NoZW1hLm5vZGVzLmxpc3RfaXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpc1BsdXMgPSBlLndoaWNoID09PSAxODc7XG4gICAgICAgICAgaWYgKGlzUGx1cyAmJiBoYXNDdHJsKSB7XG4gICAgICAgICAgICB0aGlzLnByb21vdGVIZWFkaW5nKHRoaXMudmlldy5zdGF0ZSwgdGhpcy52aWV3LmRpc3BhdGNoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzSiA9IGUud2hpY2ggPT09IDc0O1xuICAgICAgICAgIGlmIChpc0ogJiYgaGFzQ3RybCkge1xuICAgICAgICAgICAgdGhpcy5zd2FwVGV4dEJsb2NrKHNjaGVtYS5ub2Rlcy5wYXJhZ3JhcGgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNTcGFjZSA9IGUud2hpY2ggPT09IDMyO1xuICAgICAgICAgIGlmIChoYXNDdHJsICYmIGlzU3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0b2dnbGVDaGVja2xpc3RJdGVtU3RhdGUoXG4gICAgICAgICAgICAgIHRoaXMudmlldy5zdGF0ZSxcbiAgICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpc1ogPSBlLndoaWNoID09PSA5MDtcbiAgICAgICAgICBpZiAoaGFzTW9kICYmIGlzWikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZG8odGhpcy52aWV3LnN0YXRlLCB0aGlzLnZpZXcuZGlzcGF0Y2gpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzWSA9IGUud2hpY2ggPT09IDg5O1xuICAgICAgICAgIGlmIChoYXNNb2QgJiYgaXNZKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVkbyh0aGlzLnZpZXcuc3RhdGUsIHRoaXMudmlldy5kaXNwYXRjaCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNJID0gZS53aGljaCA9PT0gNzM7XG4gICAgICAgICAgaWYgKGhhc01vZCAmJiBpc0kpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTWFyayhzY2hlbWEubWFya3MuZW0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNCID0gZS53aGljaCA9PT0gNjY7XG4gICAgICAgICAgaWYgKGhhc01vZCAmJiBpc0IpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTWFyayhzY2hlbWEubWFya3Muc3Ryb25nKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzUHJpbWUgPSBlLndoaWNoID09PSAyMjI7XG4gICAgICAgICAgaWYgKGhhc01vZCAmJiBpc1ByaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZU1hcmsoc2NoZW1hLm1hcmtzLmNvZGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNLID0gZS53aGljaCA9PT0gNzU7XG4gICAgICAgICAgaWYgKGhhc01vZCAmJiBpc0spIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVMaW5rTW9kYWwodGhpcy52aWV3LnN0YXRlLCB0aGlzLnZpZXcuZGlzcGF0Y2gpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGdldFNlbGVjdGVkRm9ybWF0QW5kTWFya3MgPSAoc3RhdGU6IEVkaXRvclN0YXRlKSA9PiB7XG4gICAgaWYgKCFzdGF0ZS5zZWxlY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGNvbnN0IHsgJGZyb20sICR0bywgY29udGVudCB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIGNvbnN0IGJsb2NrUmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKFxuICAgICAgJHRvLFxuICAgICAgKG5vZGUpID0+IG5vZGUudHlwZSAhPT0gc2NoZW1hLm5vZGVzLmxpc3RfaXRlbSxcbiAgICApO1xuXG4gICAgbGV0IHNlbGVjdGVkID0gbnVsbDtcbiAgICBmb3IgKFxuICAgICAgbGV0IGluZGV4ID0gYmxvY2tSYW5nZS5zdGFydEluZGV4O1xuICAgICAgaW5kZXggPCBibG9ja1JhbmdlLmVuZEluZGV4O1xuICAgICAgaW5kZXggKz0gMVxuICAgICkge1xuICAgICAgY29uc3QgY2hpbGQgPSBibG9ja1JhbmdlLnBhcmVudC5jaGlsZChpbmRleCk7XG4gICAgICBjb25zdCBjdXJyZW50VHlwZSA9XG4gICAgICAgIGNoaWxkLnR5cGUgPT09IHNjaGVtYS5ub2Rlcy5saXN0X2l0ZW1cbiAgICAgICAgICA/IGJsb2NrUmFuZ2UucGFyZW50LnR5cGVcbiAgICAgICAgICA6IGNoaWxkLnR5cGU7XG5cbiAgICAgIGlmIChzZWxlY3RlZCA9PT0gbnVsbCkge1xuICAgICAgICBzZWxlY3RlZCA9IGN1cnJlbnRUeXBlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzZWxlY3RlZCAhPT0gY3VycmVudFR5cGUpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnB1c2goc2VsZWN0ZWQpO1xuXG4gICAgY29uc3QgbWFya3MgPSAkZnJvbS5tYXJrc0Fjcm9zcygkdG8pO1xuICAgIGlmIChtYXJrcykge1xuICAgICAgcmVzdWx0LnB1c2goLi4ubWFya3MubWFwKChtYXJrKSA9PiBtYXJrLnR5cGUpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGdldFNlbGVjdGVkRm9ybWF0QXR0cnMgPSAoc3RhdGU6IEVkaXRvclN0YXRlKSA9PiB7XG4gICAgY29uc3QgW25vZGVUeXBlLCAuLi5tYXJrVHlwZXNdID0gdGhpcy5nZXRTZWxlY3RlZEZvcm1hdEFuZE1hcmtzKHN0YXRlKTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGxldCBhY3RpdmVCdG5BdHRyID0gbnVsbDtcbiAgICBzd2l0Y2ggKG5vZGVUeXBlKSB7XG4gICAgICBjYXNlIHNjaGVtYS5ub2Rlcy5oZWFkaW5nMTpcbiAgICAgIGNhc2Ugc2NoZW1hLm5vZGVzLmhlYWRpbmcyOiB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCdoZWFkaW5nJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBzY2hlbWEubm9kZXMucGFyYWdyYXBoOiB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCdwYXJhZ3JhcGgnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIHNjaGVtYS5ub2Rlcy51bm9yZGVyZWRfbGlzdDoge1xuICAgICAgICByZXN1bHQucHVzaCgndW5vcmRlcmVkX2xpc3QnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIHNjaGVtYS5ub2Rlcy5vcmRlcmVkX2xpc3Q6IHtcbiAgICAgICAgcmVzdWx0LnB1c2goJ29yZGVyZWRfbGlzdCcpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2Ugc2NoZW1hLm5vZGVzLmNoZWNrbGlzdF9pdGVtOiB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCdjaGVja2xpc3RfaXRlbScpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgcmVzdWx0LnB1c2gobnVsbCk7XG4gICAgICB9XG4gICAgfVxuICAgIG1hcmtUeXBlcy5mb3JFYWNoKChtYXJrVHlwZSkgPT4ge1xuICAgICAgc3dpdGNoIChtYXJrVHlwZSkge1xuICAgICAgICBjYXNlIHNjaGVtYS5tYXJrcy5saW5rOiB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goJ2xpbmsnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIHNjaGVtYS5tYXJrcy5lbToge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKCdlbScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2Ugc2NoZW1hLm1hcmtzLnN0cm9uZzoge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKCdzdHJvbmcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIHNjaGVtYS5tYXJrcy5jb2RlOiB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goJ2NvZGUnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBoYW5kbGVUb29sYmFyQ2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IGJ1dHRvbiA9IHRhcmdldC5jbG9zZXN0KGBbJHtBUFBMWV9GT1JNQVRfQVRUUn1dYCk7XG4gICAgaWYgKGJ1dHRvbikge1xuICAgICAgdGhpcy5hcHBseUZvcm1hdChidXR0b24uZ2V0QXR0cmlidXRlKEFQUExZX0ZPUk1BVF9BVFRSKSk7XG4gICAgfVxuICB9O1xuXG4gIGFwcGx5Rm9ybWF0ID0gKGRhdGFGb3JtYXRTdHI6IHN0cmluZykgPT4ge1xuICAgIHN3aXRjaCAoZGF0YUZvcm1hdFN0cikge1xuICAgICAgY2FzZSAncGFyYWdyYXBoJzoge1xuICAgICAgICB0aGlzLnN3YXBUZXh0QmxvY2soc2NoZW1hLm5vZGVzLnBhcmFncmFwaCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnaGVhZGluZyc6IHtcbiAgICAgICAgdGhpcy5wcm9tb3RlSGVhZGluZyh0aGlzLnZpZXcuc3RhdGUsIHRoaXMudmlldy5kaXNwYXRjaCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAndW5vcmRlcmVkX2xpc3QnOiB7XG4gICAgICAgIHRoaXMudG9nZ2xlTGlzdChzY2hlbWEubm9kZXMudW5vcmRlcmVkX2xpc3QsIHNjaGVtYS5ub2Rlcy5saXN0X2l0ZW0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ29yZGVyZWRfbGlzdCc6IHtcbiAgICAgICAgdGhpcy50b2dnbGVMaXN0KHNjaGVtYS5ub2Rlcy5vcmRlcmVkX2xpc3QsIHNjaGVtYS5ub2Rlcy5saXN0X2l0ZW0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NoZWNrbGlzdF9pdGVtJzoge1xuICAgICAgICB0aGlzLnRvZ2dsZUNoZWNrbGlzdEl0ZW0oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdzdHJvbmcnOlxuICAgICAgY2FzZSAnZW0nOlxuICAgICAgY2FzZSAnY29kZSc6IHtcbiAgICAgICAgdGhpcy50b2dnbGVNYXJrKHNjaGVtYS5tYXJrc1tkYXRhRm9ybWF0U3RyXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnbGluayc6IHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZUxpbmtNb2RhbCh0aGlzLnZpZXcuc3RhdGUsIHRoaXMudmlldy5kaXNwYXRjaCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuIiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG4vLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uIEFsc28sXG4vLyBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gKG1zQ3J5cHRvKSBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSB8fCB0eXBlb2YgbXNDcnlwdG8gIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcbnZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDsgLy8gam9pbiB1c2VkIHRvIGZpeCBtZW1vcnkgaXNzdWUgY2F1c2VkIGJ5IGNvbmNhdGVuYXRpb246IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMxNzUjYzRcblxuICByZXR1cm4gW2J0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJywgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLCBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJywgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXV0uam9pbignJyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJ5dGVzVG9VdWlkOyIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IGJ5dGVzVG9VdWlkIGZyb20gJy4vYnl0ZXNUb1V1aWQuanMnO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ3N0cmluZycpIHtcbiAgICBidWYgPSBvcHRpb25zID09PSAnYmluYXJ5JyA/IG5ldyBBcnJheSgxNikgOiBudWxsO1xuICAgIG9wdGlvbnMgPSBudWxsO1xuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7IiwiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBET01QYXJzZXIgfSBmcm9tICdwcm9zZW1pcnJvci1tb2RlbCc7XG5pbXBvcnQgQ29tcG9uZW50TWFuYWdlciBmcm9tICdzbi1jb21wb25lbnRzLWFwaSc7XG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5cbmNvbnN0IFNOX0lURU1fU0FWRV9LRVkgPSAnY29tLmR5bGFub25lbHNvbi5zbi1lZGl0b3InO1xuXG5mdW5jdGlvbiBnZXROYW1lc3BhY2VkQ29udGVudChpdGVtOiBJdGVtKSB7XG4gIGNvbnN0IHJlc3VsdCA9IGl0ZW1cbiAgICAmJiBpdGVtLmNvbnRlbnRcbiAgICAmJiBpdGVtLmNvbnRlbnRbU05fSVRFTV9TQVZFX0tFWV07XG4gIHJldHVybiByZXN1bHQgfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0VXVpZChpdGVtOiBJdGVtKSB7XG4gIGlmIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0udXVpZDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0RG9jKGl0ZW06IEl0ZW0pIHtcbiAgY29uc3QgY29udGVudCA9IGdldE5hbWVzcGFjZWRDb250ZW50KGl0ZW0pO1xuICBpZiAoY29udGVudCAmJiBjb250ZW50LmRvYykge1xuICAgIHJldHVybiBjb250ZW50LmRvYztcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0TGFzdFNhdmVkQnkoaXRlbTogSXRlbSkge1xuICBjb25zdCBjb250ZW50ID0gZ2V0TmFtZXNwYWNlZENvbnRlbnQoaXRlbSk7XG4gIGlmIChjb250ZW50ICYmIGNvbnRlbnQubGFzdFNhdmVkQnkpIHtcbiAgICByZXR1cm4gY29udGVudC5sYXN0U2F2ZWRCeTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuY2xhc3MgQ2xpZW50IHtcbiAgc3RhdGljIFNOX0lURU1fU0FWRV9LRVkgPSAnY29tLmR5bGFub25lbHNvbi5zbi1lZGl0b3InO1xuXG4gIHByaXZhdGUgc3RhdGljIGl0ZW1TZWxlY3RvcnMgPSB7XG4gIH1cblxuICBwcml2YXRlIF9pdGVtOiBJdGVtID0gbnVsbDtcblxuICBwcml2YXRlIF9yZWFkeTogUHJvbWlzZTx2b2lkPjtcblxuICBwcml2YXRlIF9pZDogc3RyaW5nO1xuXG4gIHByaXZhdGUgX2xpc3RlbmVyczogKCh7fSkgPT4gdm9pZClbXTtcblxuICBwcml2YXRlIGNvbXBvbmVudE1hbmFnZXI6IENvbXBvbmVudE1hbmFnZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5faWQgPSB1dWlkdjQoKTtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSBbXTtcblxuICAgIGxldCByZXNvbHZlQ2xpZW50UmVhZHk7XG4gICAgdGhpcy5fcmVhZHkgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsgcmVzb2x2ZUNsaWVudFJlYWR5ID0gcmVzb2x2ZTsgfSk7XG5cbiAgICB0aGlzLmNvbXBvbmVudE1hbmFnZXIgPSBuZXcgQ29tcG9uZW50TWFuYWdlcihcbiAgICAgIFt7IG5hbWU6ICdzdHJlYW0tY29udGV4dC1pdGVtJyB9XSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5jb21wb25lbnRNYW5hZ2VyLnN0cmVhbUNvbnRleHRJdGVtKGl0ZW0gPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ3N0cmVhbUNvbnRleHRJdGVtIHVwZGF0ZTonLCBpdGVtKTtcblxuICAgICAgICAgIGNvbnN0IGNhbGxMaXN0ZW5lcnMgPSB0aGlzLnNob3VsZENhbGxMaXN0ZW5lcnMoaXRlbSwgdGhpcy5faXRlbSk7XG5cbiAgICAgICAgICB0aGlzLl9pdGVtID0gaXRlbTtcblxuICAgICAgICAgIGlmIChjYWxsTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XG4gICAgICAgICAgICAgIGxpc3RlbmVyKGl0ZW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzb2x2ZUNsaWVudFJlYWR5KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBnZXQgbGF0ZXN0RG9jKCkge1xuICAgIHJldHVybiBnZXREb2ModGhpcy5faXRlbSk7XG4gIH1cblxuICBvblVwZGF0ZShjYWxsYmFjazogKHt9KSA9PiB2b2lkKSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnMuZmlsdGVyKGxpc3RlbmVyID0+IGxpc3RlbmVyICE9PSBjYWxsYmFjayk7XG4gICAgfVxuICB9XG5cbiAgcmVhZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuICB9XG5cbiAgc2F2ZU5vdGUoanNvbkRvYykge1xuICAgIGNvbnN0IHRvU2F2ZSA9IHtcbiAgICAgIC4uLnRoaXMuX2l0ZW0sXG4gICAgICBjb250ZW50OiB7XG4gICAgICAgIC4uLnRoaXMuX2l0ZW0uY29udGVudCxcbiAgICAgICAgW1NOX0lURU1fU0FWRV9LRVldOiB7XG4gICAgICAgICAgZG9jOiBqc29uRG9jLFxuICAgICAgICAgIGxhc3RTYXZlZEJ5OiB0aGlzLl9pZCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICB0aGlzLmNvbXBvbmVudE1hbmFnZXIuc2F2ZUl0ZW1XaXRoUHJlc2F2ZSh0b1NhdmUpO1xuICB9XG5cbiAgc2hvdWxkQ2FsbExpc3RlbmVycyA9IChuZXh0SXRlbSwgcHJldmlvdXNJdGVtKSA9PiB7XG4gICAgaWYgKG5leHRJdGVtLmlzTWV0YWRhdGFVcGRhdGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGdldFV1aWQobmV4dEl0ZW0pICE9PSBnZXRVdWlkKHByZXZpb3VzSXRlbSlcbiAgICAgIHx8IGdldExhc3RTYXZlZEJ5KG5leHRJdGVtKSAhPT0gdGhpcy5faWQ7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNsaWVudCA9IG5ldyBDbGllbnQoKTtcbiIsImltcG9ydCB7IHNjaGVtYSB9IGZyb20gJy4vc2NoZW1hJztcbmltcG9ydCB7IEVkaXRvclByb3BzIH0gZnJvbSAncHJvc2VtaXJyb3Itdmlldyc7XG5pbXBvcnQgeyBDaGVja0JveE91dGxpbmUsIENoZWNrQm94IH0gZnJvbSAnLi9hc3NldHMnO1xuXG5jb25zdCBDSEVDS0JPWF9DSEVDS0VEX0NMQVNTTkFNRSA9ICdpcy1jaGVja2VkJztcblxuZXhwb3J0IGNvbnN0IG5vZGVWaWV3czogRWRpdG9yUHJvcHM8dHlwZW9mIHNjaGVtYT5bJ25vZGVWaWV3cyddID0ge1xuICBjaGVja2xpc3RfaXRlbShub2RlLCB2aWV3LCBnZXRQb3MpIHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnY2hlY2tsaXN0LWl0ZW0nKTtcblxuICAgIGNvbnN0IGlucHV0U3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBpbnB1dFNwYW4uY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgICBjb25zb2xlLmxvZyhub2RlLmF0dHJzKTtcbiAgICBpZiAobm9kZS5hdHRycy5jaGVja2VkKSB7XG4gICAgICBpbnB1dFNwYW4uY2xhc3NMaXN0LmFkZChDSEVDS0JPWF9DSEVDS0VEX0NMQVNTTkFNRSk7XG4gICAgICBpbnB1dFNwYW4uaW5uZXJIVE1MID0gQ2hlY2tCb3g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0U3Bhbi5pbm5lckhUTUwgPSBDaGVja0JveE91dGxpbmU7XG4gICAgfVxuICAgIGlucHV0U3Bhbi5jb250ZW50RWRpdGFibGUgPSAnZmFsc2UnO1xuXG4gICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcblxuICAgIGRpdi5hcHBlbmRDaGlsZChpbnB1dFNwYW4pO1xuICAgIGRpdi5hcHBlbmRDaGlsZChwKTtcblxuICAgIGNvbnN0IGZvY3VzSGFuZGxlciA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgY29uc3QgeyByZWxhdGVkVGFyZ2V0LCB0YXJnZXQgfSA9IGV2ZW50O1xuICAgICAgaWYgKHJlbGF0ZWRUYXJnZXQgIT09IGlucHV0U3Bhbikge1xuICAgICAgICAvLyBJbnB1dCBpcyB0YWtpbmcgZm9jdXNcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2aWV3SGFzRm9jdXMgPSB0YXJnZXQgPT09IHZpZXcuZG9tO1xuICAgICAgaWYgKHZpZXdIYXNGb2N1cykge1xuICAgICAgICAvLyBUaGUgdmlldyB3YXMgZm9jdXNlZCBiZWZvcmUgdGhlIGlucHV0XG4gICAgICAgIHZpZXcuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY2xpY2tIYW5kbGVyID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoaW5wdXRTcGFuLmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY2hlY2tlZCA9IGlucHV0U3Bhbi5jbGFzc0xpc3QuY29udGFpbnMoQ0hFQ0tCT1hfQ0hFQ0tFRF9DTEFTU05BTUUpO1xuICAgICAgY29uc3QgeyB0ciB9ID0gdmlldy5zdGF0ZTtcbiAgICAgIGNvbnN0IHBvcyA9IChnZXRQb3MgYXMgKCkgPT4gbnVtYmVyKSgpO1xuICAgICAgdHIuc2V0Tm9kZU1hcmt1cChwb3MsIHVuZGVmaW5lZCwgeyBjaGVja2VkOiAhY2hlY2tlZCB9KVxuICAgICAgdmlldy5kaXNwYXRjaCh0cik7XG4gICAgfTtcblxuICAgIHZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmb2N1c0hhbmRsZXIpO1xuICAgIHZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tIYW5kbGVyKTtcblxuICAgIHJldHVybiB7XG4gICAgICBkb206IGRpdixcbiAgICAgIGNvbnRlbnRET006IHAsXG4gICAgICBkZXN0cm95KCkge1xuICAgICAgICB2aWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgZm9jdXNIYW5kbGVyKTtcbiAgICAgICAgdmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja0hhbmRsZXIpO1xuICAgICAgfSxcbiAgICB9O1xuICB9LFxufTtcbiIsInZhciBiYXNlID0ge1xuICA4OiBcIkJhY2tzcGFjZVwiLFxuICA5OiBcIlRhYlwiLFxuICAxMDogXCJFbnRlclwiLFxuICAxMjogXCJOdW1Mb2NrXCIsXG4gIDEzOiBcIkVudGVyXCIsXG4gIDE2OiBcIlNoaWZ0XCIsXG4gIDE3OiBcIkNvbnRyb2xcIixcbiAgMTg6IFwiQWx0XCIsXG4gIDIwOiBcIkNhcHNMb2NrXCIsXG4gIDI3OiBcIkVzY2FwZVwiLFxuICAzMjogXCIgXCIsXG4gIDMzOiBcIlBhZ2VVcFwiLFxuICAzNDogXCJQYWdlRG93blwiLFxuICAzNTogXCJFbmRcIixcbiAgMzY6IFwiSG9tZVwiLFxuICAzNzogXCJBcnJvd0xlZnRcIixcbiAgMzg6IFwiQXJyb3dVcFwiLFxuICAzOTogXCJBcnJvd1JpZ2h0XCIsXG4gIDQwOiBcIkFycm93RG93blwiLFxuICA0NDogXCJQcmludFNjcmVlblwiLFxuICA0NTogXCJJbnNlcnRcIixcbiAgNDY6IFwiRGVsZXRlXCIsXG4gIDU5OiBcIjtcIixcbiAgNjE6IFwiPVwiLFxuICA5MTogXCJNZXRhXCIsXG4gIDkyOiBcIk1ldGFcIixcbiAgMTA2OiBcIipcIixcbiAgMTA3OiBcIitcIixcbiAgMTA4OiBcIixcIixcbiAgMTA5OiBcIi1cIixcbiAgMTEwOiBcIi5cIixcbiAgMTExOiBcIi9cIixcbiAgMTQ0OiBcIk51bUxvY2tcIixcbiAgMTQ1OiBcIlNjcm9sbExvY2tcIixcbiAgMTYwOiBcIlNoaWZ0XCIsXG4gIDE2MTogXCJTaGlmdFwiLFxuICAxNjI6IFwiQ29udHJvbFwiLFxuICAxNjM6IFwiQ29udHJvbFwiLFxuICAxNjQ6IFwiQWx0XCIsXG4gIDE2NTogXCJBbHRcIixcbiAgMTczOiBcIi1cIixcbiAgMTg2OiBcIjtcIixcbiAgMTg3OiBcIj1cIixcbiAgMTg4OiBcIixcIixcbiAgMTg5OiBcIi1cIixcbiAgMTkwOiBcIi5cIixcbiAgMTkxOiBcIi9cIixcbiAgMTkyOiBcImBcIixcbiAgMjE5OiBcIltcIixcbiAgMjIwOiBcIlxcXFxcIixcbiAgMjIxOiBcIl1cIixcbiAgMjIyOiBcIidcIixcbiAgMjI5OiBcInFcIlxufTtcbnZhciBiYXNlXzEgPSBiYXNlO1xuXG52YXIgc2hpZnQgPSB7XG4gIDQ4OiBcIilcIixcbiAgNDk6IFwiIVwiLFxuICA1MDogXCJAXCIsXG4gIDUxOiBcIiNcIixcbiAgNTI6IFwiJFwiLFxuICA1MzogXCIlXCIsXG4gIDU0OiBcIl5cIixcbiAgNTU6IFwiJlwiLFxuICA1NjogXCIqXCIsXG4gIDU3OiBcIihcIixcbiAgNTk6IFwiO1wiLFxuICA2MTogXCIrXCIsXG4gIDE3MzogXCJfXCIsXG4gIDE4NjogXCI6XCIsXG4gIDE4NzogXCIrXCIsXG4gIDE4ODogXCI8XCIsXG4gIDE4OTogXCJfXCIsXG4gIDE5MDogXCI+XCIsXG4gIDE5MTogXCI/XCIsXG4gIDE5MjogXCJ+XCIsXG4gIDIxOTogXCJ7XCIsXG4gIDIyMDogXCJ8XCIsXG4gIDIyMTogXCJ9XCIsXG4gIDIyMjogXCJcXFwiXCIsXG4gIDIyOTogXCJRXCJcbn07XG52YXIgc2hpZnRfMSA9IHNoaWZ0O1xuXG52YXIgY2hyb21lID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9DaHJvbWVcXC8oXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgc2FmYXJpID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9BcHBsZSBDb21wdXRlci8udGVzdChuYXZpZ2F0b3IudmVuZG9yKTtcbnZhciBnZWNrbyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAvR2Vja29cXC9cXGQrLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xudmFyIG1hYyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7XG52YXIgaWUgPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgJiYgL01TSUUgXFxkfFRyaWRlbnRcXC8oPzpbNy05XXxcXGR7Mix9KVxcLi4qcnY6KFxcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xudmFyIGJyb2tlbk1vZGlmaWVyTmFtZXMgPSBjaHJvbWUgJiYgKG1hYyB8fCArY2hyb21lWzFdIDwgNTcpIHx8IGdlY2tvICYmIG1hYztcblxuLy8gRmlsbCBpbiB0aGUgZGlnaXQga2V5c1xuZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSBiYXNlWzQ4ICsgaV0gPSBiYXNlWzk2ICsgaV0gPSBTdHJpbmcoaSk7XG5cbi8vIFRoZSBmdW5jdGlvbiBrZXlzXG5mb3IgKHZhciBpID0gMTsgaSA8PSAyNDsgaSsrKSBiYXNlW2kgKyAxMTFdID0gXCJGXCIgKyBpO1xuXG4vLyBBbmQgdGhlIGFscGhhYmV0aWMga2V5c1xuZm9yICh2YXIgaSA9IDY1OyBpIDw9IDkwOyBpKyspIHtcbiAgYmFzZVtpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSArIDMyKTtcbiAgc2hpZnRbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpO1xufVxuXG4vLyBGb3IgZWFjaCBjb2RlIHRoYXQgZG9lc24ndCBoYXZlIGEgc2hpZnQtZXF1aXZhbGVudCwgY29weSB0aGUgYmFzZSBuYW1lXG5mb3IgKHZhciBjb2RlIGluIGJhc2UpIGlmICghc2hpZnQuaGFzT3duUHJvcGVydHkoY29kZSkpIHNoaWZ0W2NvZGVdID0gYmFzZVtjb2RlXTtcblxudmFyIGtleU5hbWUgPSBmdW5jdGlvbihldmVudCkge1xuICAvLyBEb24ndCB0cnVzdCBldmVudC5rZXkgaW4gQ2hyb21lIHdoZW4gdGhlcmUgYXJlIG1vZGlmaWVycyB1bnRpbFxuICAvLyB0aGV5IGZpeCBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD02MzM4MzhcbiAgdmFyIGlnbm9yZUtleSA9IGJyb2tlbk1vZGlmaWVyTmFtZXMgJiYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHx8XG4gICAgKHNhZmFyaSB8fCBpZSkgJiYgZXZlbnQuc2hpZnRLZXkgJiYgZXZlbnQua2V5ICYmIGV2ZW50LmtleS5sZW5ndGggPT0gMTtcbiAgdmFyIG5hbWUgPSAoIWlnbm9yZUtleSAmJiBldmVudC5rZXkpIHx8XG4gICAgKGV2ZW50LnNoaWZ0S2V5ID8gc2hpZnQgOiBiYXNlKVtldmVudC5rZXlDb2RlXSB8fFxuICAgIGV2ZW50LmtleSB8fCBcIlVuaWRlbnRpZmllZFwiO1xuICAvLyBFZGdlIHNvbWV0aW1lcyBwcm9kdWNlcyB3cm9uZyBuYW1lcyAoSXNzdWUgIzMpXG4gIGlmIChuYW1lID09IFwiRXNjXCIpIG5hbWUgPSBcIkVzY2FwZVwiO1xuICBpZiAobmFtZSA9PSBcIkRlbFwiKSBuYW1lID0gXCJEZWxldGVcIjtcbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvODg2MDU3MS9cbiAgaWYgKG5hbWUgPT0gXCJMZWZ0XCIpIG5hbWUgPSBcIkFycm93TGVmdFwiO1xuICBpZiAobmFtZSA9PSBcIlVwXCIpIG5hbWUgPSBcIkFycm93VXBcIjtcbiAgaWYgKG5hbWUgPT0gXCJSaWdodFwiKSBuYW1lID0gXCJBcnJvd1JpZ2h0XCI7XG4gIGlmIChuYW1lID09IFwiRG93blwiKSBuYW1lID0gXCJBcnJvd0Rvd25cIjtcbiAgcmV0dXJuIG5hbWVcbn07XG5cbnZhciB3M2NLZXluYW1lID0ge1xuXHRiYXNlOiBiYXNlXzEsXG5cdHNoaWZ0OiBzaGlmdF8xLFxuXHRrZXlOYW1lOiBrZXlOYW1lXG59O1xuXG5leHBvcnQgZGVmYXVsdCB3M2NLZXluYW1lO1xuZXhwb3J0IHsgYmFzZV8xIGFzIGJhc2UsIGtleU5hbWUsIHNoaWZ0XzEgYXMgc2hpZnQgfTtcbiIsImltcG9ydCB7YmFzZSwga2V5TmFtZX0gZnJvbSBcInczYy1rZXluYW1lXCJcbmltcG9ydCB7UGx1Z2lufSBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIlxuXG4vLyBkZWNsYXJlIGdsb2JhbDogbmF2aWdhdG9yXG5cbmNvbnN0IG1hYyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiA/IC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSA6IGZhbHNlXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUtleU5hbWUobmFtZSkge1xuICBsZXQgcGFydHMgPSBuYW1lLnNwbGl0KC8tKD8hJCkvKSwgcmVzdWx0ID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV1cbiAgaWYgKHJlc3VsdCA9PSBcIlNwYWNlXCIpIHJlc3VsdCA9IFwiIFwiXG4gIGxldCBhbHQsIGN0cmwsIHNoaWZ0LCBtZXRhXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgbGV0IG1vZCA9IHBhcnRzW2ldXG4gICAgaWYgKC9eKGNtZHxtZXRhfG0pJC9pLnRlc3QobW9kKSkgbWV0YSA9IHRydWVcbiAgICBlbHNlIGlmICgvXmEobHQpPyQvaS50ZXN0KG1vZCkpIGFsdCA9IHRydWVcbiAgICBlbHNlIGlmICgvXihjfGN0cmx8Y29udHJvbCkkL2kudGVzdChtb2QpKSBjdHJsID0gdHJ1ZVxuICAgIGVsc2UgaWYgKC9ecyhoaWZ0KT8kL2kudGVzdChtb2QpKSBzaGlmdCA9IHRydWVcbiAgICBlbHNlIGlmICgvXm1vZCQvaS50ZXN0KG1vZCkpIHsgaWYgKG1hYykgbWV0YSA9IHRydWU7IGVsc2UgY3RybCA9IHRydWUgfVxuICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIG1vZGlmaWVyIG5hbWU6IFwiICsgbW9kKVxuICB9XG4gIGlmIChhbHQpIHJlc3VsdCA9IFwiQWx0LVwiICsgcmVzdWx0XG4gIGlmIChjdHJsKSByZXN1bHQgPSBcIkN0cmwtXCIgKyByZXN1bHRcbiAgaWYgKG1ldGEpIHJlc3VsdCA9IFwiTWV0YS1cIiArIHJlc3VsdFxuICBpZiAoc2hpZnQpIHJlc3VsdCA9IFwiU2hpZnQtXCIgKyByZXN1bHRcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBub3JtYWxpemUobWFwKSB7XG4gIGxldCBjb3B5ID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICBmb3IgKGxldCBwcm9wIGluIG1hcCkgY29weVtub3JtYWxpemVLZXlOYW1lKHByb3ApXSA9IG1hcFtwcm9wXVxuICByZXR1cm4gY29weVxufVxuXG5mdW5jdGlvbiBtb2RpZmllcnMobmFtZSwgZXZlbnQsIHNoaWZ0KSB7XG4gIGlmIChldmVudC5hbHRLZXkpIG5hbWUgPSBcIkFsdC1cIiArIG5hbWVcbiAgaWYgKGV2ZW50LmN0cmxLZXkpIG5hbWUgPSBcIkN0cmwtXCIgKyBuYW1lXG4gIGlmIChldmVudC5tZXRhS2V5KSBuYW1lID0gXCJNZXRhLVwiICsgbmFtZVxuICBpZiAoc2hpZnQgIT09IGZhbHNlICYmIGV2ZW50LnNoaWZ0S2V5KSBuYW1lID0gXCJTaGlmdC1cIiArIG5hbWVcbiAgcmV0dXJuIG5hbWVcbn1cblxuLy8gOjogKE9iamVjdCkg4oaSIFBsdWdpblxuLy8gQ3JlYXRlIGEga2V5bWFwIHBsdWdpbiBmb3IgdGhlIGdpdmVuIHNldCBvZiBiaW5kaW5ncy5cbi8vXG4vLyBCaW5kaW5ncyBzaG91bGQgbWFwIGtleSBuYW1lcyB0byBbY29tbWFuZF0oI2NvbW1hbmRzKS1zdHlsZVxuLy8gZnVuY3Rpb25zLCB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aXRoIGAoRWRpdG9yU3RhdGUsIGRpc3BhdGNoLFxuLy8gRWRpdG9yVmlldylgIGFyZ3VtZW50cywgYW5kIHNob3VsZCByZXR1cm4gdHJ1ZSB3aGVuIHRoZXkndmUgaGFuZGxlZFxuLy8gdGhlIGtleS4gTm90ZSB0aGF0IHRoZSB2aWV3IGFyZ3VtZW50IGlzbid0IHBhcnQgb2YgdGhlIGNvbW1hbmRcbi8vIHByb3RvY29sLCBidXQgY2FuIGJlIHVzZWQgYXMgYW4gZXNjYXBlIGhhdGNoIGlmIGEgYmluZGluZyBuZWVkcyB0b1xuLy8gZGlyZWN0bHkgaW50ZXJhY3Qgd2l0aCB0aGUgVUkuXG4vL1xuLy8gS2V5IG5hbWVzIG1heSBiZSBzdHJpbmdzIGxpa2UgYFwiU2hpZnQtQ3RybC1FbnRlclwiYOKAlGEga2V5XG4vLyBpZGVudGlmaWVyIHByZWZpeGVkIHdpdGggemVybyBvciBtb3JlIG1vZGlmaWVycy4gS2V5IGlkZW50aWZpZXJzXG4vLyBhcmUgYmFzZWQgb24gdGhlIHN0cmluZ3MgdGhhdCBjYW4gYXBwZWFyIGluXG4vLyBbYEtleUV2ZW50LmtleWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50L2tleSkuXG4vLyBVc2UgbG93ZXJjYXNlIGxldHRlcnMgdG8gcmVmZXIgdG8gbGV0dGVyIGtleXMgKG9yIHVwcGVyY2FzZSBsZXR0ZXJzXG4vLyBpZiB5b3Ugd2FudCBzaGlmdCB0byBiZSBoZWxkKS4gWW91IG1heSB1c2UgYFwiU3BhY2VcImAgYXMgYW4gYWxpYXNcbi8vIGZvciB0aGUgYFwiIFwiYCBuYW1lLlxuLy9cbi8vIE1vZGlmaWVycyBjYW4gYmUgZ2l2ZW4gaW4gYW55IG9yZGVyLiBgU2hpZnQtYCAob3IgYHMtYCksIGBBbHQtYCAob3Jcbi8vIGBhLWApLCBgQ3RybC1gIChvciBgYy1gIG9yIGBDb250cm9sLWApIGFuZCBgQ21kLWAgKG9yIGBtLWAgb3Jcbi8vIGBNZXRhLWApIGFyZSByZWNvZ25pemVkLiBGb3IgY2hhcmFjdGVycyB0aGF0IGFyZSBjcmVhdGVkIGJ5IGhvbGRpbmdcbi8vIHNoaWZ0LCB0aGUgYFNoaWZ0LWAgcHJlZml4IGlzIGltcGxpZWQsIGFuZCBzaG91bGQgbm90IGJlIGFkZGVkXG4vLyBleHBsaWNpdGx5LlxuLy9cbi8vIFlvdSBjYW4gdXNlIGBNb2QtYCBhcyBhIHNob3J0aGFuZCBmb3IgYENtZC1gIG9uIE1hYyBhbmQgYEN0cmwtYCBvblxuLy8gb3RoZXIgcGxhdGZvcm1zLlxuLy9cbi8vIFlvdSBjYW4gYWRkIG11bHRpcGxlIGtleW1hcCBwbHVnaW5zIHRvIGFuIGVkaXRvci4gVGhlIG9yZGVyIGluXG4vLyB3aGljaCB0aGV5IGFwcGVhciBkZXRlcm1pbmVzIHRoZWlyIHByZWNlZGVuY2UgKHRoZSBvbmVzIGVhcmx5IGluXG4vLyB0aGUgYXJyYXkgZ2V0IHRvIGRpc3BhdGNoIGZpcnN0KS5cbmV4cG9ydCBmdW5jdGlvbiBrZXltYXAoYmluZGluZ3MpIHtcbiAgcmV0dXJuIG5ldyBQbHVnaW4oe3Byb3BzOiB7aGFuZGxlS2V5RG93bjoga2V5ZG93bkhhbmRsZXIoYmluZGluZ3MpfX0pXG59XG5cbi8vIDo6IChPYmplY3QpIOKGkiAodmlldzogRWRpdG9yVmlldywgZXZlbnQ6IGRvbS5FdmVudCkg4oaSIGJvb2xcbi8vIEdpdmVuIGEgc2V0IG9mIGJpbmRpbmdzICh1c2luZyB0aGUgc2FtZSBmb3JtYXQgYXNcbi8vIFtga2V5bWFwYF0oI2tleW1hcC5rZXltYXApLCByZXR1cm4gYSBba2V5ZG93blxuLy8gaGFuZGxlcl0oI3ZpZXcuRWRpdG9yUHJvcHMuaGFuZGxlS2V5RG93bikgdGhhdCBoYW5kbGVzIHRoZW0uXG5leHBvcnQgZnVuY3Rpb24ga2V5ZG93bkhhbmRsZXIoYmluZGluZ3MpIHtcbiAgbGV0IG1hcCA9IG5vcm1hbGl6ZShiaW5kaW5ncylcbiAgcmV0dXJuIGZ1bmN0aW9uKHZpZXcsIGV2ZW50KSB7XG4gICAgbGV0IG5hbWUgPSBrZXlOYW1lKGV2ZW50KSwgaXNDaGFyID0gbmFtZS5sZW5ndGggPT0gMSAmJiBuYW1lICE9IFwiIFwiLCBiYXNlTmFtZVxuICAgIGxldCBkaXJlY3QgPSBtYXBbbW9kaWZpZXJzKG5hbWUsIGV2ZW50LCAhaXNDaGFyKV1cbiAgICBpZiAoZGlyZWN0ICYmIGRpcmVjdCh2aWV3LnN0YXRlLCB2aWV3LmRpc3BhdGNoLCB2aWV3KSkgcmV0dXJuIHRydWVcbiAgICBpZiAoaXNDaGFyICYmIChldmVudC5zaGlmdEtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQubWV0YUtleSkgJiZcbiAgICAgICAgKGJhc2VOYW1lID0gYmFzZVtldmVudC5rZXlDb2RlXSkgJiYgYmFzZU5hbWUgIT0gbmFtZSkge1xuICAgICAgbGV0IGZyb21Db2RlID0gbWFwW21vZGlmaWVycyhiYXNlTmFtZSwgZXZlbnQsIHRydWUpXVxuICAgICAgaWYgKGZyb21Db2RlICYmIGZyb21Db2RlKHZpZXcuc3RhdGUsIHZpZXcuZGlzcGF0Y2gsIHZpZXcpKSByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSBpZiAoaXNDaGFyICYmIGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBsZXQgd2l0aFNoaWZ0ID0gbWFwW21vZGlmaWVycyhuYW1lLCBldmVudCwgdHJ1ZSldXG4gICAgICBpZiAod2l0aFNoaWZ0ICYmIHdpdGhTaGlmdCh2aWV3LnN0YXRlLCB2aWV3LmRpc3BhdGNoLCB2aWV3KSkgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cbiIsImltcG9ydCB7IEVkaXRvclN0YXRlLCBQbHVnaW4gfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSc7XG5pbXBvcnQgeyBFZGl0b3JWaWV3IH0gZnJvbSAncHJvc2VtaXJyb3Itdmlldyc7XG5pbXBvcnQgeyBiYXNlS2V5bWFwIH0gZnJvbSAncHJvc2VtaXJyb3ItY29tbWFuZHMnO1xuaW1wb3J0IHsga2V5bWFwIH0gZnJvbSAncHJvc2VtaXJyb3Ita2V5bWFwJztcbmltcG9ydCB7IGxpZnRMaXN0SXRlbSwgc2lua0xpc3RJdGVtLCBzcGxpdExpc3RJdGVtIH0gZnJvbSAncHJvc2VtaXJyb3Itc2NoZW1hLWxpc3QnO1xuaW1wb3J0IHsgc2NoZW1hIH0gZnJvbSAnLi9zY2hlbWEnO1xuXG5leHBvcnQgY29uc3Qga2V5bWFwUGx1Z2luczogUGx1Z2luW10gPSBbXG4gIGtleW1hcCh7XG4gICAgRW50ZXI6IHNwbGl0TGlzdEl0ZW0oc2NoZW1hLm5vZGVzLmxpc3RfaXRlbSksXG4gIH0pLFxuICBrZXltYXAoe1xuICAgIEVudGVyKHN0YXRlLCBkaXNwYXRjaCkge1xuICAgICAgY29uc3QgeyBzZWxlY3Rpb246IHsgJGZyb20sIGZyb20gfSwgdHIgfSA9IHN0YXRlO1xuICAgICAgaWYgKCRmcm9tLnBhcmVudC50eXBlICE9PSBzY2hlbWEubm9kZXMuY2hlY2tsaXN0X2l0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdHIuZGVsZXRlU2VsZWN0aW9uKCk7XG4gICAgICBjb25zdCBuZXh0JEZyb20gPSB0ci5kb2MucmVzb2x2ZShmcm9tKTtcbiAgICAgIGlmIChuZXh0JEZyb20ucGFyZW50Lm5vZGVTaXplID09PSAyKXtcbiAgICAgICAgY29uc3QgbmV4dEZyb20gPSBuZXh0JEZyb20ucG9zO1xuICAgICAgICAvLyBUaGUgbm9kZSBpcyBlbXB0eVxuICAgICAgICB0ci5yZXBsYWNlV2l0aChuZXh0RnJvbSAtIDEsIG5leHRGcm9tICsgMSwgc2NoZW1hLm5vZGVzLnBhcmFncmFwaC5jcmVhdGVBbmRGaWxsKCkpO1xuICAgICAgICBkaXNwYXRjaCh0cik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdHIuc3BsaXQoZnJvbSwgdW5kZWZpbmVkLCBbe1xuICAgICAgICB0eXBlOiBzY2hlbWEubm9kZXMuY2hlY2tsaXN0X2l0ZW0sXG4gICAgICAgIGF0dHJzOiB7IGNoZWNrZWQ6IGZhbHNlIH1cbiAgICAgIH1dKTtcbiAgICAgIGRpc3BhdGNoKHRyKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gIH0pLFxuICBrZXltYXAoYmFzZUtleW1hcCksXG5dO1xuIiwiaW1wb3J0ICdwcm9zZW1pcnJvci12aWV3L3N0eWxlL3Byb3NlbWlycm9yLmNzcyc7XG5pbXBvcnQgJy4vaW5kZXguaHRtbCc7XG5pbXBvcnQgJy4vc3R5bGVzLmNzcyc7XG5pbXBvcnQgJy4vZXh0Lmpzb24nO1xuaW1wb3J0ICcuL2Rldi1leHQuanNvbic7XG5pbXBvcnQgJy4vc3Zncy50cyc7XG5cbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IENvbXBvbmVudE1hbmFnZXIgZnJvbSAnc24tY29tcG9uZW50cy1hcGknO1xuaW1wb3J0IHsgYmFzZUtleW1hcCB9IGZyb20gJ3Byb3NlbWlycm9yLWNvbW1hbmRzJztcbmltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdwcm9zZW1pcnJvci12aWV3JztcbmltcG9ydCB7IEVkaXRvclN0YXRlLCBQbHVnaW4gfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSc7XG5pbXBvcnQgeyBoaXN0b3J5IH0gZnJvbSAncHJvc2VtaXJyb3ItaGlzdG9yeSc7XG5pbXBvcnQgeyBpbnB1dFJ1bGVzUGx1Z2luIH0gZnJvbSAnLi9pbnB1dFJ1bGVzJztcbmltcG9ydCB7IFRvb2xiYXJQbHVnaW4gfSBmcm9tICcuL1Rvb2xiYXJQbHVnaW4nO1xuaW1wb3J0IHsgc2NoZW1hIH0gZnJvbSAnLi9zY2hlbWEnO1xuaW1wb3J0IHsgY2xpZW50IH0gZnJvbSAnLi9jbGllbnQnO1xuaW1wb3J0IHsgbm9kZVZpZXdzIH0gZnJvbSAnLi9ub2RlVmlld3MnO1xuaW1wb3J0IHsga2V5bWFwUGx1Z2lucyB9IGZyb20gJy4va2V5bWFwcyc7XG5cbmludGVyZmFjZSBBcHBXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICB2aWV3OiBFZGl0b3JWaWV3O1xufVxuXG5kZWNsYXJlIGNvbnN0IHdpbmRvdzogQXBwV2luZG93O1xuXG5mdW5jdGlvbiBnZXREb2NGb3JOZXdFZGl0b3JTdGF0ZSgpIHtcbiAgcmV0dXJuIGNsaWVudC5sYXRlc3REb2NcbiAgICA/IHNjaGVtYS5ub2RlRnJvbUpTT04oY2xpZW50LmxhdGVzdERvYylcbiAgICA6IHNjaGVtYS50b3BOb2RlVHlwZS5jcmVhdGVBbmRGaWxsKCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGluaXQoKSB7XG4gIGF3YWl0IGNsaWVudC5yZWFkeSgpO1xuXG4gIGNvbnN0IHZpZXcgPSAod2luZG93LnZpZXcgPSBuZXcgRWRpdG9yVmlldyhcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWRpdG9yJyksXG4gICAge1xuICAgICAgc3RhdGU6IEVkaXRvclN0YXRlLmNyZWF0ZSh7XG4gICAgICAgIGRvYzogZ2V0RG9jRm9yTmV3RWRpdG9yU3RhdGUoKSxcbiAgICAgICAgcGx1Z2luczogW1xuICAgICAgICAgIC4uLmtleW1hcFBsdWdpbnMsXG4gICAgICAgICAgbmV3IFRvb2xiYXJQbHVnaW4oXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9vbGJhcicpLFxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpbmstbW9kYWwnKSxcbiAgICAgICAgICApLFxuICAgICAgICAgIG5ldyBQbHVnaW4oe1xuICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgbm9kZVZpZXdzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBpbnB1dFJ1bGVzUGx1Z2luLFxuICAgICAgICAgIGhpc3RvcnkoKSxcbiAgICAgICAgXSxcbiAgICAgIH0pLFxuICAgICAgZGlzcGF0Y2hUcmFuc2FjdGlvbih0cikge1xuICAgICAgICBjb25zdCBuZXh0ID0gdmlldy5zdGF0ZS5hcHBseSh0cik7XG4gICAgICAgIHZpZXcudXBkYXRlU3RhdGUobmV4dCk7XG4gICAgICAgIGNsaWVudC5zYXZlTm90ZShuZXh0LmRvYy50b0pTT04oKSk7XG4gICAgICB9LFxuICAgIH0sXG4gICkpO1xuXG4gIGNsaWVudC5vblVwZGF0ZSgoZG9jKSA9PiB7XG4gICAgdmlldy5zZXRQcm9wcyh7XG4gICAgICBzdGF0ZTogRWRpdG9yU3RhdGUuY3JlYXRlKHtcbiAgICAgICAgZG9jOiBnZXREb2NGb3JOZXdFZGl0b3JTdGF0ZSgpLFxuICAgICAgICBwbHVnaW5zOiB2aWV3LnN0YXRlLnBsdWdpbnMsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfSk7XG59XG5cbmluaXQoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=