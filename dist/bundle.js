!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"></path><path d="M0 0h24v24H0V0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 18h12v-2H3v2zM3 6v2h18V6H3zm0 7h18v-2H3v2z"></path><path d="M0 0h24v24H0V0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg>'},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sentMessages=[],this.messageQueue=[],this.loggingEnabled=!1,this.acceptsThemes=!0,this.activeThemes=[],this.initialPermissions=e,this.onReadyCallback=n,this.coallesedSaving=!0,this.coallesedSavingDelay=250,this.registerMessageHandler()}var e,n,o;return e=t,(n=[{key:"registerMessageHandler",value:function(){var t=this,e=function(e){if(t.loggingEnabled&&console.log("Components API Message received:",e.data),!document.referrer||new URL(document.referrer).origin===new URL(e.origin).origin){if(t.origin){if(e.origin!==t.origin)return}else t.origin=e.origin;var n=e.data,r="string"==typeof n?JSON.parse(n):n;t.handleMessage(r)}};document.addEventListener("message",(function(t){e(t)}),!1),window.addEventListener("message",(function(t){e(t)}),!1)}},{key:"handleMessage",value:function(t){if("component-registered"===t.action)this.sessionKey=t.sessionKey,this.componentData=t.componentData,this.onReady(t.data),this.loggingEnabled&&console.log("Component successfully registered with payload:",t);else if("themes"===t.action)this.acceptsThemes&&this.activateThemes(t.data.themes);else if(t.original){var e=this.sentMessages.filter((function(e){return e.messageId===t.original.messageId}))[0];e||alert("This extension is attempting to communicate with Standard Notes, but an error is preventing it from doing so. Please restart this extension and try again."),e.callback&&e.callback(t.data)}}},{key:"onReady",value:function(t){this.environment=t.environment,this.platform=t.platform,this.uuid=t.uuid,this.isMobile="mobile"==this.environment,this.initialPermissions&&this.initialPermissions.length>0&&this.requestPermissions(this.initialPermissions);var e=!0,n=!1,r=void 0;try{for(var o,i=this.messageQueue[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var s=o.value;this.postMessage(s.action,s.data,s.callback)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}this.messageQueue=[],this.loggingEnabled&&console.log("onReadyData",t),this.activateThemes(t.activeThemeUrls||[]),this.onReadyCallback&&this.onReadyCallback()}},{key:"getSelfComponentUUID",value:function(){return this.uuid}},{key:"isRunningInDesktopApplication",value:function(){return"desktop"===this.environment}},{key:"setComponentDataValueForKey",value:function(t,e){this.componentData[t]=e,this.postMessage("set-component-data",{componentData:this.componentData},(function(t){}))}},{key:"clearComponentData",value:function(){this.componentData={},this.postMessage("set-component-data",{componentData:this.componentData},(function(t){}))}},{key:"componentDataValueForKey",value:function(t){return this.componentData[t]}},{key:"postMessage",value:function(t,e,n){if(this.sessionKey){var r={action:t,data:e,messageId:this.generateUUID(),sessionKey:this.sessionKey,api:"component"},o=JSON.parse(JSON.stringify(r));o.callback=n,this.sentMessages.push(o),this.isMobile&&(r=JSON.stringify(r)),this.loggingEnabled&&console.log("Posting message:",r),window.parent.postMessage(r,this.origin)}else this.messageQueue.push({action:t,data:e,callback:n})}},{key:"setSize",value:function(t,e,n){this.postMessage("set-size",{type:t,width:e,height:n},(function(t){}))}},{key:"requestPermissions",value:function(t,e){this.postMessage("request-permissions",{permissions:t},function(t){e&&e()}.bind(this))}},{key:"streamItems",value:function(t,e){Array.isArray(t)||(t=[t]),this.postMessage("stream-items",{content_types:t},function(t){e(t.items)}.bind(this))}},{key:"streamContextItem",value:function(t){var e=this;this.postMessage("stream-context-item",null,(function(n){var r=n.item;(!e.lastStreamedItem||e.lastStreamedItem.uuid!==r.uuid)&&e.pendingSaveTimeout&&(clearTimeout(e.pendingSaveTimeout),e._performSavingOfItems(e.pendingSaveParams),e.pendingSaveTimeout=null,e.pendingSaveParams=null),e.lastStreamedItem=r,t(e.lastStreamedItem)}))}},{key:"selectItem",value:function(t){this.postMessage("select-item",{item:this.jsonObjectForItem(t)})}},{key:"createItem",value:function(t,e){this.postMessage("create-item",{item:this.jsonObjectForItem(t)},function(t){var n=t.item;!n&&t.items&&t.items.length>0&&(n=t.items[0]),this.associateItem(n),e&&e(n)}.bind(this))}},{key:"createItems",value:function(t,e){var n=this,r=t.map((function(t){return n.jsonObjectForItem(t)}));this.postMessage("create-items",{items:r},function(t){e&&e(t.items)}.bind(this))}},{key:"associateItem",value:function(t){this.postMessage("associate-item",{item:this.jsonObjectForItem(t)})}},{key:"deassociateItem",value:function(t){this.postMessage("deassociate-item",{item:this.jsonObjectForItem(t)})}},{key:"clearSelection",value:function(){this.postMessage("clear-selection",{content_type:"Tag"})}},{key:"deleteItem",value:function(t,e){this.deleteItems([t],e)}},{key:"deleteItems",value:function(t,e){var n={items:t.map(function(t){return this.jsonObjectForItem(t)}.bind(this))};this.postMessage("delete-items",n,(function(t){e&&e(t)}))}},{key:"sendCustomEvent",value:function(t,e,n){this.postMessage(t,e,function(t){n&&n(t)}.bind(this))}},{key:"saveItem",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.saveItems([t],e,n)}},{key:"saveItemWithPresave",value:function(t,e,n){this.saveItemsWithPresave([t],e,n)}},{key:"saveItemsWithPresave",value:function(t,e,n){this.saveItems(t,n,!1,e)}},{key:"_performSavingOfItems",value:function(t){var e=t.items,n=t.presave,r=t.callback;n&&n();var o=[],i=!0,s=!1,a=void 0;try{for(var c,p=e[Symbol.iterator]();!(i=(c=p.next()).done);i=!0){var h=c.value;o.push(this.jsonObjectForItem(h))}}catch(t){s=!0,a=t}finally{try{i||null==p.return||p.return()}finally{if(s)throw a}}this.postMessage("save-items",{items:o},(function(t){r&&r()}))}},{key:"saveItems",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;if(this.pendingSaveItems||(this.pendingSaveItems=[]),1!=this.coallesedSaving||r)this._performSavingOfItems({items:t,presave:o,callback:e});else{this.pendingSaveTimeout&&clearTimeout(this.pendingSaveTimeout);var i=t.map((function(t){return t.uuid})),s=this.pendingSaveItems.filter((function(t){return!i.includes(t.uuid)}));this.pendingSaveItems=s.concat(t),this.pendingSaveParams={items:this.pendingSaveItems,presave:o,callback:e},this.pendingSaveTimeout=setTimeout((function(){n._performSavingOfItems(n.pendingSaveParams),n.pendingSaveItems=[],n.pendingSaveTimeout=null,n.pendingSaveParams=null}),this.coallesedSavingDelay)}}},{key:"jsonObjectForItem",value:function(t){var e=Object.assign({},t);return e.children=null,e.parent=null,e}},{key:"getItemAppDataValue",value:function(t,e){var n=t.content.appData&&t.content.appData["org.standardnotes.sn"];return n?n[e]:null}},{key:"activateThemes",value:function(t){if(this.loggingEnabled&&console.log("Incoming themes",t),this.activeThemes.sort().toString()!=t.sort().toString()){var e=t||[],n=[],r=!0,o=!1,i=void 0;try{for(var s,a=this.activeThemes[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var c=s.value;t.includes(c)?e=e.filter((function(t){return t!=c})):n.push(c)}}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}this.loggingEnabled&&(console.log("Deactivating themes:",n),console.log("Activating themes:",e));for(var p=0,h=n;p<h.length;p++){var l=h[p];this.deactivateTheme(l)}this.activeThemes=t;var u=!0,f=!1,d=void 0;try{for(var m,v=e[Symbol.iterator]();!(u=(m=v.next()).done);u=!0){var g=m.value;if(g){var y=document.createElement("link");y.id=btoa(g),y.href=g,y.type="text/css",y.rel="stylesheet",y.media="screen,print",y.className="custom-theme",document.getElementsByTagName("head")[0].appendChild(y)}}}catch(t){f=!0,d=t}finally{try{u||null==v.return||v.return()}finally{if(f)throw d}}}}},{key:"themeElementForUrl",value:function(t){return Array.from(document.getElementsByClassName("custom-theme")).slice().find((function(e){return e.id==btoa(t)}))}},{key:"deactivateTheme",value:function(t){var e=this.themeElementForUrl(t);e&&(e.disabled=!0,e.parentNode.removeChild(e))}},{key:"generateUUID",value:function(){var t=window.crypto||window.msCrypto;if(t){var e=new Uint32Array(4);t.getRandomValues(e);var n=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){n++;var r=e[n>>3]>>n%8*4&15;return("x"==t?r:3&r|8).toString(16)}))}var r=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(r+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==t?e:3&e|8).toString(16)}))}}])&&r(e.prototype,n),o&&r(e,o),t}();void 0!==t.exports&&(t.exports=o),window&&(window.ComponentManager=o)},function(t,e,n){"use strict";n.r(e);n.p,n.p,n.p,n.p,n.p;var r=n(0),o=n.n(r),i=n(1),s=n.n(i),a=n(2),c=n.n(a),p=n(3),h=n.n(p),l=n(4),u=n.n(l),f=n(5),d=n.n(f),m=n(6),v=n.n(m),g=n(7),y=n.n(g),w=n(8),b=n.n(w),k=n(9),x=n.n(k),S=n(10),M=n.n(S);function O(t){this.content=t}document.querySelector("button[data-format=paragraph] i").innerHTML=x.a,document.querySelector("button[data-format=checklist_item] i").innerHTML=o.a,document.querySelector("button[data-format=heading] i").innerHTML=y.a,document.querySelector("button[data-format=unordered_list] i").innerHTML=d.a,document.querySelector("button[data-format=strong] i").innerHTML=h.a,document.querySelector("button[data-format=em] i").innerHTML=u.a,document.querySelector("button[data-format=code] i").innerHTML=c.a,document.querySelector("button[data-format=link] i").innerHTML=b.a,document.querySelector("button[data-format=ordered_list] i").innerHTML=v.a,document.querySelector("div#link-modal label a i").innerHTML=M.a,O.prototype={constructor:O,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),i=r.content.slice();return-1==o?i.push(n||t,e):(i[o+1]=e,n&&(i[o]=n)),new O(i)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new O(n)},addToStart:function(t,e){return new O([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new O(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),i=r.find(t);return o.splice(-1==i?o.length:i,0,e,n),new O(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=O.from(t)).size?new O(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=O.from(t)).size?new O(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=O.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},O.from=function(t){if(t instanceof O)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new O(e)};var C=O;var T=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},D={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};T.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,s=0;s<e;i++){var a=this.content[i],c=s+a.nodeSize;if(c>t&&!1!==n(a,r+s,o,i)&&a.content.size){var p=s+1;a.nodesBetween(Math.max(0,t-p),Math.min(a.content.size,e-p),n,r+p)}s=c}},T.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},T.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!n):s.isLeaf&&r?(o+=r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o},T.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new T(r,this.size+t.size)},T.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,i=0;i<e;o++){var s=this.content[o],a=i+s.nodeSize;a>t&&((i<t||a>e)&&(s=s.isText?s.cut(Math.max(0,t-i),Math.min(s.text.length,e-i)):s.cut(Math.max(0,t-i-1),Math.min(s.content.size,e-i-1))),n.push(s),r+=s.nodeSize),i=a}return new T(n,r)},T.prototype.cutByIndex=function(t,e){return t==e?T.empty:0==t&&e==this.content.length?this:new T(this.content.slice(t,e))},T.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new T(r,o)},T.prototype.addToStart=function(t){return new T([t].concat(this.content),this.size+t.nodeSize)},T.prototype.addToEnd=function(t){return new T(this.content.concat(t),this.size+t.nodeSize)},T.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},D.firstChild.get=function(){return this.content.length?this.content[0]:null},D.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},D.childCount.get=function(){return this.content.length},T.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},T.prototype.maybeChild=function(t){return this.content[t]},T.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},T.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),function t(e,n,r){for(var o=0;;o++){if(o==e.childCount||o==n.childCount)return e.childCount==n.childCount?null:r;var i=e.child(o),s=n.child(o);if(i!=s){if(!i.sameMarkup(s))return r;if(i.isText&&i.text!=s.text){for(var a=0;i.text[a]==s.text[a];a++)r++;return r}if(i.content.size||s.content.size){var c=t(i.content,s.content,r+1);if(null!=c)return c}r+=i.nodeSize}else r+=i.nodeSize}}(this,t,e)},T.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),function t(e,n,r,o){for(var i=e.childCount,s=n.childCount;;){if(0==i||0==s)return i==s?null:{a:r,b:o};var a=e.child(--i),c=n.child(--s),p=a.nodeSize;if(a!=c){if(!a.sameMarkup(c))return{a:r,b:o};if(a.isText&&a.text!=c.text){for(var h=0,l=Math.min(a.text.length,c.text.length);h<l&&a.text[a.text.length-h-1]==c.text[c.text.length-h-1];)h++,r--,o--;return{a:r,b:o}}if(a.content.size||c.content.size){var u=t(a.content,c.content,r-1,o-1);if(u)return u}r-=p,o-=p}else r-=p,o-=p}}(this,t,e,n)},T.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return E(0,t);if(t==this.size)return E(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=t)return o==t||e>0?E(n+1,o):E(n,r);r=o}},T.prototype.toString=function(){return"<"+this.toStringInner()+">"},T.prototype.toStringInner=function(){return this.content.join(", ")},T.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},T.fromJSON=function(t,e){if(!e)return T.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new T(e.map(t.nodeFromJSON))},T.fromArray=function(t){if(!t.length)return T.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new T(e||t,n)},T.from=function(t){if(!t)return T.empty;if(t instanceof T)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new T([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(T.prototype,D);var N={index:0,offset:0};function E(t,e){return N.index=t,N.offset=e,N}function A(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!A(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e&&A(t[o],e[o])))return!1;for(var i in e)if(!(i in t))return!1}return!0}T.empty=new T([],0);var I=function(t,e){this.type=t,this.attrs=e};function z(t){var e=Error.call(this,t);return e.__proto__=z.prototype,e}I.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},I.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},I.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},I.prototype.eq=function(t){return this==t||this.type==t.type&&A(this.attrs,t.attrs)},I.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},I.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},I.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},I.setFrom=function(t){if(!t||0==t.length)return I.none;if(t instanceof I)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},I.none=[],z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z.prototype.name="ReplaceError";var R=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},P={size:{configurable:!0}};function _(t,e,n){if(n.openStart>t.depth)throw new z("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new z("Inconsistent open depths");return function t(e,n,r,o){var i=e.index(o),s=e.node(o);if(i==n.index(o)&&o<e.depth-r.openStart){var a=t(e,n,r,o+1);return s.copy(s.content.replaceChild(i,a))}if(r.content.size){if(r.openStart||r.openEnd||e.depth!=o||n.depth!=o){var c=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),o=n-1;o>=0;o--)r=e.node(o).copy(T.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(r,e),p=c.start,h=c.end;return L(s,function t(e,n,r,o,i){var s=e.depth>i&&V(e,n,i+1),a=o.depth>i&&V(r,o,i+1),c=[];F(null,e,i,c),s&&a&&n.index(i)==r.index(i)?(B(s,a),$(L(s,t(e,n,r,o,i+1)),c)):(s&&$(L(s,j(e,n,i+1)),c),F(n,r,i,c),a&&$(L(a,j(r,o,i+1)),c));return F(o,null,i,c),new T(c)}(e,p,h,n,o))}var l=e.parent,u=l.content;return L(l,u.cut(0,e.parentOffset).append(r.content).append(u.cut(n.parentOffset)))}return L(s,j(e,n,o))}(t,e,n,0)}function B(t,e){if(!e.type.compatibleContent(t.type))throw new z("Cannot join "+e.type.name+" onto "+t.type.name)}function V(t,e,n){var r=t.node(n);return B(r,e.node(n)),r}function $(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function F(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&($(t.nodeAfter,r),i++));for(var a=i;a<s;a++)$(o.child(a),r);e&&e.depth==n&&e.textOffset&&$(e.nodeBefore,r)}function L(t,e){if(!t.type.validContent(e))throw new z("Invalid content for node "+t.type.name);return t.copy(e)}function j(t,e,n){var r=[];(F(null,t,n,r),t.depth>n)&&$(L(V(t,e,n+1),j(t,e,n+1)),r);return F(e,null,n,r),new T(r)}P.size.get=function(){return this.content.size-this.openStart-this.openEnd},R.prototype.insertAt=function(t,e){var n=function t(e,n,r,o){var i=e.findIndex(n),s=i.index,a=i.offset,c=e.maybeChild(s);if(a==n||c.isText)return o&&!o.canReplace(s,s,r)?null:e.cut(0,n).append(r).append(e.cut(n));var p=t(c.content,n-a-1,r);return p&&e.replaceChild(s,c.copy(p))}(this.content,t+this.openStart,e,null);return n&&new R(n,this.openStart,this.openEnd)},R.prototype.removeBetween=function(t,e){return new R(function t(e,n,r){var o=e.findIndex(n),i=o.index,s=o.offset,a=e.maybeChild(i),c=e.findIndex(r),p=c.index,h=c.offset;if(s==n||a.isText){if(h!=r&&!e.child(p).isText)throw new RangeError("Removing non-flat range");return e.cut(0,n).append(e.cut(r))}if(i!=p)throw new RangeError("Removing non-flat range");return e.replaceChild(i,a.copy(t(a.content,n-s-1,r-s-1)))}(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},R.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},R.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},R.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},R.fromJSON=function(t,e){if(!e)return R.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new R(T.fromJSON(t,e.content),e.openStart||0,e.openEnd||0)},R.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new R(t,n,r)},Object.defineProperties(R.prototype,P),R.empty=new R(T.empty,0,0);var q=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},J={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};q.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},J.parent.get=function(){return this.node(this.depth)},J.doc.get=function(){return this.node(0)},q.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},q.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},q.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},q.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},q.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},q.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},q.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},J.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},J.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},J.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},q.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return I.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var i=n.marks,s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i},q.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},q.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},q.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new U(this,t,n)},q.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},q.prototype.max=function(t){return t.pos>this.pos?t:this},q.prototype.min=function(t){return t.pos<this.pos?t:this},q.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},q.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,c=s.offset,p=o-c;if(n.push(i,a,r+c),!p)break;if((i=i.child(a)).isText)break;o=p-1,r+=c+1}return new q(e,n,o)},q.resolveCached=function(t,e){for(var n=0;n<H.length;n++){var r=H[n];if(r.pos==e&&r.doc==t)return r}var o=H[W]=q.resolve(t,e);return W=(W+1)%K,o},Object.defineProperties(q.prototype,J);var H=[],W=0,K=12,U=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},G={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};G.start.get=function(){return this.$from.before(this.depth+1)},G.end.get=function(){return this.$to.after(this.depth+1)},G.parent.get=function(){return this.$from.node(this.depth)},G.startIndex.get=function(){return this.$from.index(this.depth)},G.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(U.prototype,G);var Q=Object.create(null),Y=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||T.empty,this.marks=r||I.none},X={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};X.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},X.childCount.get=function(){return this.content.childCount},Y.prototype.child=function(t){return this.content.child(t)},Y.prototype.maybeChild=function(t){return this.content.maybeChild(t)},Y.prototype.forEach=function(t){this.content.forEach(t)},Y.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},Y.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},X.textContent.get=function(){return this.textBetween(0,this.content.size,"")},Y.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},X.firstChild.get=function(){return this.content.firstChild},X.lastChild.get=function(){return this.content.lastChild},Y.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},Y.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},Y.prototype.hasMarkup=function(t,e,n){return this.type==t&&A(this.attrs,e||t.defaultAttrs||Q)&&I.sameSet(this.marks,n||I.none)},Y.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},Y.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},Y.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},Y.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return R.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i).content.cut(r.pos-s,o.pos-s);return new R(a,r.depth-i,o.depth-i)},Y.prototype.replace=function(t,e,n){return _(this.resolve(t),this.resolve(e),n)},Y.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(!(e=e.maybeChild(r)))return null;if(o==t||e.isText)return e;t-=o+1}},Y.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},Y.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},Y.prototype.resolve=function(t){return q.resolveCached(this,t)},Y.prototype.resolveNoCache=function(t){return q.resolve(this,t)},Y.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},X.isBlock.get=function(){return this.type.isBlock},X.isTextblock.get=function(){return this.type.isTextblock},X.inlineContent.get=function(){return this.type.inlineContent},X.isInline.get=function(){return this.type.isInline},X.isText.get=function(){return this.type.isText},X.isLeaf.get=function(){return this.type.isLeaf},X.isAtom.get=function(){return this.type.isAtom},Y.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),tt(this.marks,t)},Y.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},Y.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=T.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var a=r;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},Y.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},Y.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},Y.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(t){return t.check()}))},Y.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},Y.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=T.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(Y.prototype,X);var Z=function(t){function e(e,n,r,o){if(t.call(this,e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):tt(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(Y);function tt(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var et=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},nt={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};et.parse=function(t,e){var n=new rt(t,e);if(null==n.next)return et.empty;var r=it(n);n.next&&n.err("Unexpected trailing text");var o=function(t){var e=Object.create(null);return function n(r){var o=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),s=i>-1&&o[i+1];lt(t,r).forEach((function(t){s||o.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var i=e[r.join(",")]=new et(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(ht);i.next.push(o[s],e[a.join(",")]||n(a))}return i}(lt(t,0))}(function(t){var e=[[]];return o(function t(e,i){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(t(n,i))}),[]);if("seq"==e.type)for(var s=0;;s++){var a=t(e.exprs[s],i);if(s==e.exprs.length-1)return a;o(a,i=n())}else{if("star"==e.type){var c=n();return r(i,c),o(t(e.expr,c),c),[r(c)]}if("plus"==e.type){var p=n();return o(t(e.expr,i),p),o(t(e.expr,p),p),[r(p)]}if("opt"==e.type)return[r(i)].concat(t(e.expr,i));if("range"==e.type){for(var h=i,l=0;l<e.min;l++){var u=n();o(t(e.expr,h),u),h=u}if(-1==e.max)o(t(e.expr,h),h);else for(var f=e.min;f<e.max;f++){var d=n();r(h,d),o(t(e.expr,h),d),h=d}return[r(h)]}if("name"==e.type)return[r(i,null,e.value)]}}(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach((function(t){return t.to=e}))}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var c=o.next[a],p=o.next[a+1];s.push(c.name),!i||c.isText||c.hasRequiredAttrs()||(i=!1),-1==r.indexOf(p)&&r.push(p)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position")}}(o,n),o},et.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},et.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},nt.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},nt.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},et.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},et.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function o(i,s){var a=i.matchFragment(t,n);if(a&&(!e||a.validEnd))return T.from(s.map((function(t){return t.createAndFill()})));for(var c=0;c<i.next.length;c+=2){var p=i.next[c],h=i.next[c+1];if(!p.isText&&!p.hasRequiredAttrs()&&-1==r.indexOf(h)){r.push(h);var l=o(h,s.concat(p));if(l)return l}}}(this,[])},et.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},et.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a+=2){var c=o.next[a];c.isLeaf||c.hasRequiredAttrs()||c.name in e||r.type&&!o.next[a+1].validEnd||(n.push({match:c.contentMatch,type:c,via:r}),e[c.name]=!0)}}},nt.edgeCount.get=function(){return this.next.length>>1},et.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},et.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r})).join("\n")},Object.defineProperties(et.prototype,nt),et.empty=new et(!0);var rt=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},ot={next:{configurable:!0}};function it(t){var e=[];do{e.push(st(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function st(t){var e=[];do{e.push(at(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function at(t){for(var e=function(t){if(t.eat("(")){var e=it(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}0==o.length&&t.err("No node type or group '"+e+"' found");return o}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=pt(t,e)}return e}function ct(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function pt(t,e){var n=ct(t),r=n;return t.eat(",")&&(r="}"!=t.next?ct(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function ht(t,e){return e-t}function lt(t,e){var n=[];return function e(r){var o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var s=o[i],a=s.term,c=s.to;a||-1!=n.indexOf(c)||e(c)}}(e),n.sort(ht)}function ut(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function ft(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function dt(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new gt(t[n]);return e}ot.next.get=function(){return this.tokens[this.pos]},rt.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},rt.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(rt.prototype,ot);var mt=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=dt(n.attrs),this.defaultAttrs=ut(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},vt={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};vt.isInline.get=function(){return!this.isBlock},vt.isTextblock.get=function(){return this.isBlock&&this.inlineContent},vt.isLeaf.get=function(){return this.contentMatch==et.empty},vt.isAtom.get=function(){return this.isLeaf||this.spec.atom},mt.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},mt.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},mt.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:ft(this.attrs,t)},mt.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Y(this,this.computeAttrs(t),T.from(e),I.setFrom(n))},mt.prototype.createChecked=function(t,e,n){if(e=T.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new Y(this,this.computeAttrs(t),e,I.setFrom(n))},mt.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=T.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(T.empty,!0);return o?new Y(this,t,e.append(o),I.setFrom(n)):null},mt.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},mt.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},mt.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},mt.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:I.empty:t},mt.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new mt(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(mt.prototype,vt);var gt=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},yt={isRequired:{configurable:!0}};yt.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(gt.prototype,yt);var wt=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=dt(r.attrs),this.rank=e,this.excluded=null;var o=ut(this.attrs);this.instance=o&&new I(this,o)};wt.prototype.create=function(t){return!t&&this.instance?this.instance:new I(this,ft(this.attrs,t))},wt.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,o){return n[t]=new wt(t,r++,e,o)})),n},wt.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t.slice(0,e).concat(t.slice(e+1));return t},wt.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},wt.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var bt=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=C.from(t.nodes),this.spec.marks=C.from(t.marks),this.nodes=mt.compile(this.spec.nodes,this),this.marks=wt.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],i=o.spec.content||"",s=o.spec.marks;o.contentMatch=n[i]||(n[i]=et.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==s?null:s?kt(this,s.split(" ")):""!=s&&o.inlineContent?null:[]}for(var a in this.marks){var c=this.marks[a],p=c.spec.excludes;c.excluded=null==p?[c]:""==p?[]:kt(this,p.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function kt(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(var a in t.marks){var c=t.marks[a];("_"==o||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}bt.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof mt))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},bt.prototype.text=function(t,e){var n=this.nodes.text;return new Z(n,n.defaultAttrs,t,I.setFrom(e))},bt.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},bt.prototype.nodeFromJSON=function(t){return Y.fromJSON(this,t)},bt.prototype.markFromJSON=function(t){return I.fromJSON(this,t)},bt.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var xt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)}))};xt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new Dt(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},xt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new Dt(this,e,!0);return n.addAll(t,null,e.from,e.to),R.maxOpen(n.finish())},xt.prototype.matchTag=function(t,e){for(var n=0;n<this.tags.length;n++){var r=this.tags[n];if(Et(t,r.tag)&&(void 0===r.namespace||t.namespaceURI==r.namespace)&&(!r.context||e.matchesContext(r.context))){if(r.getAttrs){var o=r.getAttrs(t);if(!1===o)continue;r.attrs=o}return r}}},xt.prototype.matchStyle=function(t,e,n){for(var r=0;r<this.styles.length;r++){var o=this.styles[r];if(!(0!=o.style.indexOf(t)||o.context&&!n.matchesContext(o.context)||o.style.length>t.length&&(61!=o.style.charCodeAt(t.length)||o.style.slice(t.length+1)!=e))){if(o.getAttrs){var i=o.getAttrs(e);if(!1===i)continue;o.attrs=i}return o}}},xt.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var o=e[r];if((null==o.priority?50:o.priority)<n)break}e.splice(r,0,t)}var r=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=At(t)),t.mark=e}))};for(var o in t.marks)r(o);var i;for(var s in t.nodes)i=void 0,(i=t.nodes[s].spec.parseDOM)&&i.forEach((function(t){n(t=At(t)),t.node=s}));return e},xt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new xt(t,xt.schemaRules(t)))};var St={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Mt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ot={ol:!0,ul:!0};function Ct(t){return(t?1:0)|("full"===t?2:0)}var Tt=function(t,e,n,r,o,i,s){this.type=t,this.attrs=e,this.solid=o,this.match=i||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=I.none,this.pendingMarks=r};Tt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(T.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},Tt.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=T.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(T.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},Tt.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):It(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}};var Dt=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=Ct(e.preserveWhitespace)|(n?4:0);r=o?new Tt(o.type,o.attrs,I.none,I.none,!0,e.topMatch||o.type.contentMatch,i):new Tt(n?null:t.schema.topNodeType,null,I.none,I.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},Nt={top:{configurable:!0},currentPos:{configurable:!0}};function Et(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function At(t){var e={};for(var n in t)e[n]=t[n];return e}function It(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],s=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.type,a=r.next;if(o==e)return!0;if(i.indexOf(a)<0&&s(a))return!0}};return s(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}Nt.top.get=function(){return this.nodes[this.open]},Dt.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},Dt.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)2&n.options||(e=e.replace(/\r?\n|\r/g," "));else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},Dt.prototype.addElement=function(t){var e=t.nodeName.toLowerCase();Ot.hasOwnProperty(e)&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&Ot.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var n=this.options.ruleFromNode&&this.options.ruleFromNode(t)||this.parser.matchTag(t,this);if(n?n.ignore:Mt.hasOwnProperty(e))this.findInside(t);else if(!n||n.skip){n&&n.skip.nodeType&&(t=n.skip);var r,o=this.top,i=this.needsBlock;if(St.hasOwnProperty(e))r=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),r&&this.sync(o),this.needsBlock=i}else this.addElementByRule(t,n)},Dt.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},Dt.prototype.readStyles=function(t){for(var e=I.none,n=0;n<t.length;n+=2){var r=this.parser.matchStyle(t[n],t[n+1],this);if(r){if(r.ignore)return null;e=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(e)}}return e},Dt.prototype.addElementByRule=function(t,e){var n,r,o,i=this;e.node?(r=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(r.create(e.attrs))||this.leafFallback(t):n=this.enter(r,e.attrs,e.preserveWhitespace):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));var s=this.top;if(r&&r.isLeaf)this.findInside(t);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return i.insertNode(t)}));else{var a=e.contentElement;"string"==typeof a?a=t.querySelector(a):"function"==typeof a&&(a=a(t)),a||(a=t),this.findAround(t,a,!0),this.addAll(a,n)}n&&(this.sync(s),this.open--),o&&this.removePendingMark(o,s)},Dt.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&St.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},Dt.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},Dt.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},Dt.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},Dt.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?-5&o.options:Ct(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new Tt(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},Dt.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},Dt.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},Dt.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},Nt.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},Dt.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},Dt.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},Dt.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},Dt.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},Dt.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=function(t,a){for(;t>=0;t--){var c=n[t];if(""==c){if(t==n.length-1||0==t)continue;for(;a>=i;a--)if(s(t-1,a))return!0;return!1}var p=a>0||0==a&&o?e.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!p||p.name!=c&&-1==p.groups.indexOf(c))return!1;a--}return!0};return s(n.length-1,this.open)},Dt.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},Dt.prototype.addPendingMark=function(t){this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},Dt.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1?r.pendingMarks=t.removeFromSet(r.pendingMarks):r.activeMarks=t.removeFromSet(r.activeMarks),r==e)break}},Object.defineProperties(Dt.prototype,Nt);var zt=function(t,e){this.nodes=t||{},this.marks=e||{}};function Rt(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Pt(t){return t.document||window.document}zt.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=Pt(e).createDocumentFragment());var o=n,i=null;return t.forEach((function(t){if(i||t.marks.length){i||(i=[]);for(var n=0,s=0;n<i.length&&s<t.marks.length;){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(i[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}for(;n<i.length;)o=i.pop(),i.pop();for(;s<t.marks.length;){var c=t.marks[s++],p=r.serializeMark(c,t.isInline,e);p&&(i.push(c,o),o.appendChild(p.dom),o=p.contentDOM||p.dom)}}o.appendChild(r.serializeNode(t,e))})),n},zt.prototype.serializeNode=function(t,e){void 0===e&&(e={});var n=zt.renderSpec(Pt(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},zt.prototype.serializeNodeAndMarks=function(t,e){void 0===e&&(e={});for(var n=this.serializeNode(t,e),r=t.marks.length-1;r>=0;r--){var o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},zt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&zt.renderSpec(Pt(n),r(t,e))},zt.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};var r=e[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],c=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var p in c=2,a)if(null!=a[p]){var h=p.indexOf(" ");h>0?s.setAttributeNS(p.slice(0,h),p.slice(h+1),a[p]):s.setAttribute(p,a[p])}for(var l=c;l<e.length;l++){var u=e[l];if(0===u){if(l<e.length-1||l>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var f=zt.renderSpec(t,u,n),d=f.dom,m=f.contentDOM;if(s.appendChild(d),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:s,contentDOM:i}},zt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new zt(this.nodesFromSchema(t),this.marksFromSchema(t)))},zt.nodesFromSchema=function(t){var e=Rt(t.nodes);return e.text||(e.text=function(t){return t.text}),e},zt.marksFromSchema=function(t){return Rt(t.marks)};var _t=Math.pow(2,16);function Bt(t){return 65535&t}var Vt=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},$t=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};$t.prototype.recover=function(t){var e=0,n=Bt(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/_t}(t)},$t.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},$t.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},$t.prototype._map=function(t,e,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>t)break;var c=this.ranges[s+o],p=this.ranges[s+i],h=a+c;if(t<=h){var l=a+r+((c?t==a?-1:t==h?1:e:e)<0?0:p);if(n)return l;var u=s/3+(t-a)*_t;return new Vt(l,e<0?t!=a:t!=h,u)}r+=p-c}return n?t+r:new Vt(t+r)},$t.prototype.touches=function(t,e){for(var n=0,r=Bt(e),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var c=this.ranges[s+o];if(t<=a+c&&s==3*r)return!0;n+=this.ranges[s+i]-c}return!1},$t.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),c=this.ranges[r+e],p=this.ranges[r+n];t(s,s+c,a,a+p),o+=p-c}},$t.prototype.invert=function(){return new $t(this.ranges,!this.inverted)},$t.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},$t.offset=function(t){return 0==t?$t.empty:new $t(t<0?[0,-t,0]:[0,0,t])},$t.empty=new $t([]);var Ft=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function Lt(t){var e=Error.call(this,t);return e.__proto__=Lt.prototype,e}Ft.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new Ft(this.maps,this.mirror,t,e)},Ft.prototype.copy=function(){return new Ft(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},Ft.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},Ft.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},Ft.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},Ft.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},Ft.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},Ft.prototype.invert=function(){var t=new Ft;return t.appendMappingInverted(this),t},Ft.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},Ft.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},Ft.prototype._map=function(t,e,n){for(var r=!1,o=null,i=this.from;i<this.to;i++){var s=this.maps[i],a=o&&o[i];if(null!=a&&s.touches(t,a))t=s.recover(a);else{var c=s.mapResult(t,e);if(null!=c.recover){var p=this.getMirror(i);if(null!=p&&p>i&&p<this.to){if(c.deleted){i=p,t=this.maps[p].recover(c.recover);continue}(o||(o=Object.create(null)))[p]=c.recover}}c.deleted&&(r=!0),t=c.pos}}return n?t:new Vt(t,r)},Lt.prototype=Object.create(Error.prototype),Lt.prototype.constructor=Lt,Lt.prototype.name="TransformError";var jt=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Ft},qt={before:{configurable:!0},docChanged:{configurable:!0}};function Jt(){throw new Error("Override me")}qt.before.get=function(){return this.docs.length?this.docs[0]:this.doc},jt.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new Lt(e.failed);return this},jt.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},qt.docChanged.get=function(){return this.steps.length>0},jt.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(jt.prototype,qt);var Ht=Object.create(null),Wt=function(){};Wt.prototype.apply=function(t){return Jt()},Wt.prototype.getMap=function(){return $t.empty},Wt.prototype.invert=function(t){return Jt()},Wt.prototype.map=function(t){return Jt()},Wt.prototype.merge=function(t){return null},Wt.prototype.toJSON=function(){return Jt()},Wt.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Ht[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},Wt.jsonID=function(t,e){if(t in Ht)throw new RangeError("Duplicate use of step JSON ID "+t);return Ht[t]=e,e.prototype.jsonID=t,e};var Kt=function(t,e){this.doc=t,this.failed=e};Kt.ok=function(t){return new Kt(t,null)},Kt.fail=function(t){return new Kt(null,t)},Kt.fromReplace=function(t,e,n,r){try{return Kt.ok(t.replace(e,n,r))}catch(t){if(t instanceof z)return Kt.fail(t.message);throw t}};var Ut=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&Qt(t,this.from,this.to)?Kt.fail("Structure replace would overwrite content"):Kt.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new $t([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?R.empty:new R(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?R.empty:new R(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,R.fromJSON(t,n.slice),!!n.structure)},e}(Wt);Wt.jsonID("replace",Ut);var Gt=function(t){function e(e,n,r,o,i,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(Qt(t,this.from,this.gapFrom)||Qt(t,this.gapTo,this.to)))return Kt.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Kt.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?Kt.fromReplace(t,this.from,this.to,n):Kt.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new $t([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,R.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(Wt);function Qt(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function Yt(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Xt(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var r=t.$from.node(n),o=t.$from.index(n),i=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(o,i,e))return n;if(0==n||r.type.spec.isolating||!Yt(r,o,i))break}}function Zt(t,e,n,r){void 0===r&&(r=t);var o=function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;var s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}(t,e),i=o&&function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:e).contentMatch,c=r;a&&c<o;c++)a=a.matchType(n.child(c).type);if(!a||!a.validEnd)return null;return s}(r,e);return i?o.map(te).concat({type:e,attrs:n}).concat(i.map(te)):null}function te(t){return{type:t,attrs:null}}function ee(t,e,n,r){void 0===n&&(n=1);var o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,c=n-2;a>i;a--,c--){var p=o.node(a),h=o.index(a);if(p.type.spec.isolating)return!1;var l=p.content.cutByIndex(h,p.childCount),u=r&&r[c]||p;if(u!=p&&(l=l.replaceChild(0,u.type.create(u.attrs))),!p.canReplace(h+1,p.childCount)||!u.type.validContent(l))return!1}var f=o.indexAfter(i),d=r&&r[0];return o.node(i).canReplaceWith(f,f,d?d.type:o.node(i+1).type)}function ne(t,e){var n=t.resolve(e),r=n.index();return re(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function re(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function oe(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var i=t.child(o);i.content.size&&(i=i.copy(oe(i.content,e,i))),i.isInline&&(i=e(i,n,o)),r.push(i)}return T.fromArray(r)}Wt.jsonID("replaceAround",Gt),jt.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,i=n.before(o+1),s=r.after(o+1),a=i,c=s,p=T.empty,h=0,l=o,u=!1;l>e;l--)u||n.index(l)>0?(u=!0,p=T.from(n.node(l).copy(p)),h++):a--;for(var f=T.empty,d=0,m=o,v=!1;m>e;m--)v||r.after(m+1)<r.end(m)?(v=!0,f=T.from(r.node(m).copy(f)),d++):c++;return this.step(new Gt(a,c,i,s,new R(p.append(f),h,d),p.size-h,!0))},jt.prototype.wrap=function(t,e){for(var n=T.empty,r=e.length-1;r>=0;r--)n=T.from(e[r].type.create(e[r].attrs,n));var o=t.start,i=t.end;return this.step(new Gt(o,i,o,i,new R(n,0,0),e.length,!0))},jt.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(i).map(e),n)){o.clearIncompatible(o.mapping.slice(i).map(e,1),n);var s=o.mapping.slice(i),a=s.map(e,1),c=s.map(e+t.nodeSize,1);return o.step(new Gt(a,c,a+1,c-1,new R(T.from(n.create(r,null,t.marks)),0,0),1,!0)),!1}})),this},jt.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var i=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,i);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Gt(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new R(T.from(i),0,0),1,!0))},jt.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=T.empty,i=T.empty,s=r.depth,a=r.depth-e,c=e-1;s>a;s--,c--){o=T.from(r.node(s).copy(o));var p=n&&n[c];i=T.from(p?p.type.create(p.attrs,i):r.node(s).copy(i))}return this.step(new Ut(t,t,new R(o.append(i),e,e),!0))},jt.prototype.join=function(t,e){void 0===e&&(e=1);var n=new Ut(t-e,t+e,R.empty,!0);return this.step(n)};var ie=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new R(oe(n.content,(function(t,n){return n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return Kt.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new se(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Wt);Wt.jsonID("addMark",ie);var se=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new R(oe(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return Kt.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new ie(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Wt);function ae(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=R.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);if(he(o,i,r))return new Ut(e,n,r);var s=function(t,e){var n=function t(e,n,r,o){var i=T.empty,s=0,a=r[n];if(e.depth>n){var c=t(e,n+1,r,o||a);s=c.openEnd+1,i=T.from(e.node(n+1).copy(c.content))}a&&(i=i.append(a.content),s=a.openEnd);o&&(i=i.append(e.node(n).contentMatchAt(e.indexAfter(n)).fillBefore(T.empty,!0)),s=0);return{content:i,openEnd:s}}(t,0,e,!1),r=n.content,o=n.openEnd;return new R(r,t.depth,o||0)}(o,function(t,e){for(var n=new le(t),r=1;e.size&&r<=3;r++){var o=n.placeSlice(e.content,e.openStart,e.openEnd,r);3==r&&o!=e&&o.size&&(r=0),e=o}for(;n.open.length;)n.closeNode();return n.placed}(o,r)),a=pe(o,i,s);if(!a)return null;if(s.size!=a.size&&function(t,e,n){if(!e.parent.isTextblock)return!1;var r,o=n.openEnd?function(t,e){for(var n=1;n<e;n++)t=t.lastChild.content;return t.lastChild}(n.content,n.openEnd):t.node(t.depth-(n.openStart-n.openEnd));if(!o.isTextblock)return!1;for(var i=e.index();i<e.parent.childCount;i++)if(!o.type.allowsMarks(e.parent.child(i).marks))return!1;n.openEnd?r=o.contentMatchAt(o.childCount):(r=o.contentMatchAt(o.childCount),n.size&&(r=r.matchFragment(n.content,n.openStart?1:0)));return(r=r.matchFragment(e.parent.content,e.index()))&&r.validEnd}(o,i,s)){for(var c=i.depth,p=i.after(c);c>1&&p==i.end(--c);)++p;var h=pe(o,t.resolve(p),s);if(h)return new Gt(e,p,n,i.end(),h,s.size)}return a.size||e!=n?new Ut(e,n,a):null}function ce(t,e,n,r,o,i,s){var a,c=t.childCount,p=c-(s>0?1:0),h=i<0?e:n.node(o);a=i<0?h.contentMatchAt(p):1==c&&s>0?h.contentMatchAt(i?n.index(o):n.indexAfter(o)):h.contentMatchAt(n.indexAfter(o)).matchFragment(t,c>0&&i?1:0,p);var l=r.node(o);if(s>0&&o<r.depth){var u=l.content.cutByIndex(r.indexAfter(o)).addToStart(t.lastChild),f=a.fillBefore(u,!0);if(f&&f.size&&i>0&&1==c&&(f=null),f){var d=ce(t.lastChild.content,t.lastChild,n,r,o+1,1==c?i-1:-1,s-1);if(d){var m=t.lastChild.copy(d);return f.size?t.cutByIndex(0,c-1).append(f).addToEnd(m):t.replaceChild(c-1,m)}}}s>0&&(a=a.matchType((1==c&&i>0?n.node(o+1):t.lastChild).type));var v=r.index(o);if(v==l.childCount&&!l.type.compatibleContent(e.type))return null;for(var g=a.fillBefore(l.content,!0,v),y=v;g&&y<l.content.childCount;y++)h.type.allowsMarks(l.content.child(y).marks)||(g=null);if(!g)return null;if(s>0){var w=function t(e,n,r,o,i){var s,a=e.content,c=a.childCount;s=i>=0?r.node(o).contentMatchAt(r.indexAfter(o)).matchFragment(a,i>0?1:0,c):e.contentMatchAt(c);if(n>0){var p=t(a.lastChild,n-1,r,o+1,1==c?i-1:-1);a=a.replaceChild(c-1,p)}return e.copy(a.append(s.fillBefore(T.empty,!0)))}(t.lastChild,s-1,n,o+1,1==c?i-1:-1);t=t.replaceChild(c-1,w)}return t=t.append(g),r.depth>o&&(t=t.addToEnd(function t(e,n){var r=e.node(n),o=r.contentMatchAt(0).fillBefore(r.content,!0,e.index(n));e.depth>n&&(o=o.addToEnd(t(e,n+1)));return r.copy(o)}(r,o+1))),t}function pe(t,e,n){var r=ce(n.content,t.node(0),t,e,0,n.openStart,n.openEnd);return r?function(t,e,n){for(;e>0&&n>0&&1==t.childCount;)t=t.firstChild.content,e--,n--;return new R(t,e,n)}(r,n.openStart,e.depth):null}function he(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}Wt.jsonID("removeMark",se),jt.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(r,c,p){if(r.isInline){var h=r.marks;if(!n.isInSet(h)&&p.type.allowsMarkType(n.type)){for(var l=Math.max(c,t),u=Math.min(c+r.nodeSize,e),f=n.addToSet(h),d=0;d<h.length;d++)h[d].isInSet(f)||(s&&s.to==l&&s.mark.eq(h[d])?s.to=u:o.push(s=new se(l,u,h[d])));a&&a.to==l?a.to=u:i.push(a=new ie(l,u,n))}}})),o.forEach((function(t){return r.step(t)})),i.forEach((function(t){return r.step(t)})),this},jt.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,(function(r,s){if(r.isInline){i++;var a=null;if(n instanceof wt){var c=n.isInSet(r.marks);c&&(a=[c])}else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var p=Math.min(s+r.nodeSize,e),h=0;h<a.length;h++){for(var l=a[h],u=void 0,f=0;f<o.length;f++){var d=o[f];d.step==i-1&&l.eq(o[f].style)&&(u=d)}u?(u.to=p,u.step=i):o.push({style:l,from:Math.max(s,t),to:p,step:i})}}})),o.forEach((function(t){return r.step(new se(t.from,t.to,t.style))})),this},jt.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],i=t+1,s=0;s<r.childCount;s++){var a=r.child(s),c=i+a.nodeSize,p=n.matchType(a.type,a.attrs);if(p){n=p;for(var h=0;h<a.marks.length;h++)e.allowsMarkType(a.marks[h].type)||this.step(new se(i,c,a.marks[h]))}else o.push(new Ut(i,c,R.empty));i=c}if(!n.validEnd){var l=n.fillBefore(T.empty,!0);this.replace(i,i,new R(l,0,0))}for(var u=o.length-1;u>=0;u--)this.step(o[u]);return this},jt.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=R.empty);var r=ae(this.doc,t,e,n);return r&&this.step(r),this},jt.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new R(T.from(n),0,0))},jt.prototype.delete=function(t,e){return this.replace(t,e,R.empty)},jt.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var le=function(t){this.open=[];for(var e=0;e<=t.depth;e++){var n=t.node(e),r=n.contentMatchAt(t.indexAfter(e));this.open.push({parent:n,match:r,content:T.empty,wrapper:!1,openEnd:0,depth:e})}this.placed=[]};function ue(t,e,n){var r=t.content;if(e>1){var o=ue(t.firstChild,e-1,1==t.childCount?n-1:0);r=t.content.replaceChild(0,o)}var i=t.type.contentMatch.fillBefore(r,0==n);return t.copy(i.append(r))}function fe(t,e,n,r,o){if(e<n){var i=t.firstChild;t=t.replaceChild(0,i.copy(fe(i.content,e+1,n,r,i)))}if(e>r){var s=o.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(T.empty,!0))}return t}function de(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;o==e.start(r)&&n.push(r)}return n}le.prototype.placeSlice=function(t,e,n,r,o){if(e>0){var i=t.firstChild,s=this.placeSlice(i.content,Math.max(0,e-1),n&&1==t.childCount?n-1:0,r,i);s.content!=i.content&&(s.content.size?(t=t.replaceChild(0,i.copy(s.content)),e=s.openStart+1):(1==t.childCount&&(n=0),t=t.cutByIndex(1),e=0))}var a=this.placeContent(t,e,n,r,o);if(r>2&&a.size&&0==e){var c=a.content.firstChild,p=1==a.content.childCount;this.placeContent(c.content,0,n&&p?n-1:0,r,c),a=p?T.empty:new R(a.content.cutByIndex(1),0,n)}return a},le.prototype.placeContent=function(t,e,n,r,o){for(var i=0;i<t.childCount;i++){for(var s=t.child(i),a=!1,c=i==t.childCount-1,p=this.open.length-1;p>=0;p--){var h=this.open[p],l=void 0;if(r>1&&(l=h.match.findWrapping(s.type))&&(!o||!l.length||l[l.length-1]!=o.type)){for(;this.open.length-1>p;)this.closeNode();for(var u=0;u<l.length;u++)h.match=h.match.matchType(l[u]),p++,h={parent:l[u].create(),match:l[u].contentMatch,content:T.empty,wrapper:!0,openEnd:0,depth:p+u},this.open.push(h)}var f=h.match.matchType(s.type);if(!f){var d=h.match.fillBefore(T.from(s));if(!d){if(o&&h.match.matchType(o.type))break;continue}for(var m=0;m<d.childCount;m++){var v=d.child(m);this.addNode(h,v,0),f=h.match.matchFragment(v)}}for(;this.open.length-1>p;)this.closeNode();s=s.mark(h.parent.type.allowedMarks(s.marks)),e&&(s=ue(s,e,c?n:0),e=0),this.addNode(h,s,c?n:0),h.match=f,c&&(n=0),a=!0;break}if(!a)break}return this.open.length>1&&(i>0&&i==t.childCount||o&&this.open[this.open.length-1].parent.type==o.type)&&this.closeNode(),new R(t.cutByIndex(i),e,n)},le.prototype.addNode=function(t,e,n){var r,o;t.content=(r=t.content,o=t.openEnd,o?r.replaceChild(r.childCount-1,function t(e,n){var r=e.content;if(n>1){var o=t(e.lastChild,n-1);r=e.content.replaceChild(e.childCount-1,o)}var i=e.contentMatchAt(e.childCount).fillBefore(T.empty,!0);return e.copy(r.append(i))}(r.lastChild,o)):r).addToEnd(e),t.openEnd=n},le.prototype.closeNode=function(){var t=this.open.pop();0==t.content.size||(t.wrapper?this.addNode(this.open[this.open.length-1],t.parent.copy(t.content),t.openEnd+1):this.placed[t.depth]={depth:t.depth,content:t.content,openEnd:t.openEnd})},jt.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(he(r,o,n))return this.step(new Ut(t,e,n));var i=de(r,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,c=r.pos-1;a>0;a--,c--){var p=r.node(a).type.spec;if(p.defining||p.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==c&&i.splice(1,0,-a)}for(var h=i.indexOf(s),l=[],u=n.openStart,f=n.content,d=0;;d++){var m=f.firstChild;if(l.push(m),d==n.openStart)break;f=m.content}u>0&&l[u-1].type.spec.defining&&r.node(h).type!=l[u-1].type?u-=1:u>=2&&l[u-1].isTextblock&&l[u-2].type.spec.defining&&r.node(h).type!=l[u-2].type&&(u-=2);for(var v=n.openStart;v>=0;v--){var g=(v+u+1)%(n.openStart+1),y=l[g];if(y)for(var w=0;w<i.length;w++){var b=i[(w+h)%i.length],k=!0;b<0&&(k=!1,b=-b);var x=r.node(b-1),S=r.index(b-1);if(x.canReplaceWith(S,S,y.type,y.marks))return this.replace(r.before(b),k?o.after(b):e,new R(fe(n.content,0,n.openStart,g),g,n.openEnd))}}for(var M=this.steps.length,O=i.length-1;O>=0&&(this.replace(t,e,n),!(this.steps.length>M));O--){var C=i[O];O<0||(t=r.before(C),e=o.after(C))}return this},jt.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=function(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new R(T.from(n),0,0))},jt.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=de(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var c=1;c<=n.depth&&c<=r.depth;c++)if(t-n.start(c)==n.depth-c&&e>n.end(c)&&r.end(c)-e!=r.depth-c)return this.delete(n.before(c),e);return this.delete(t,e)};var me=Object.create(null),ve=function(t,e,n){this.ranges=n||[new ye(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},ge={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};ge.anchor.get=function(){return this.$anchor.pos},ge.head.get=function(){return this.$head.pos},ge.from.get=function(){return this.$from.pos},ge.to.get=function(){return this.$to.pos},ge.$from.get=function(){return this.ranges[0].$from},ge.$to.get=function(){return this.ranges[0].$to},ge.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},ve.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},ve.prototype.replace=function(t,e){void 0===e&&(e=R.empty);for(var n=e.content.lastChild,r=null,o=0;o<e.openEnd;o++)r=n,n=n.lastChild;for(var i=t.steps.length,s=this.ranges,a=0;a<s.length;a++){var c=s[a],p=c.$from,h=c.$to,l=t.mapping.slice(i);t.replaceRange(l.map(p.pos),l.map(h.pos),a?R.empty:e),0==a&&Ce(t,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}},ve.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],s=i.$from,a=i.$to,c=t.mapping.slice(n),p=c.map(s.pos),h=c.map(a.pos);o?t.deleteRange(p,h):(t.replaceRangeWith(p,h,e),Ce(t,n,e.isInline?-1:1))}},ve.findFrom=function(t,e,n){var r=t.parent.inlineContent?new we(t):Oe(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var o=t.depth-1;o>=0;o--){var i=e<0?Oe(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):Oe(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(i)return i}},ve.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new Se(t.node(0))},ve.atStart=function(t){return Oe(t,t,0,0,1)||new Se(t)},ve.atEnd=function(t){return Oe(t,t,t.content.size,t.childCount,-1)||new Se(t)},ve.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=me[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},ve.jsonID=function(t,e){if(t in me)throw new RangeError("Duplicate use of selection JSON ID "+t);return me[t]=e,e.prototype.jsonID=t,e},ve.prototype.getBookmark=function(){return we.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(ve.prototype,ge),ve.prototype.visible=!0;var ye=function(t,e){this.$from=t,this.$to=e},we=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=R.empty),t.prototype.replace.call(this,e,n),n==R.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new be(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!s)return t.near(r,o);r=s.$head}return n.parent.inlineContent||(0==i?n=r:(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0&&(n=r)),new e(n,r)},Object.defineProperties(e.prototype,n),e}(ve);ve.jsonID("text",we);var be=function(t,e){this.anchor=t,this.head=e};be.prototype.map=function(t){return new be(t.map(this.anchor),t.map(this.head))},be.prototype.resolve=function(t){return we.between(t.resolve(this.anchor),t.resolve(this.head))};var ke=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,s=o.pos,a=n.resolve(s);return i?t.near(a):new e(a)},e.prototype.content=function(){return new R(T.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new xe(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(ve);ke.prototype.visible=!1,ve.jsonID("node",ke);var xe=function(t){this.anchor=t};xe.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new be(r,r):new xe(r)},xe.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&ke.isSelectable(n)?new ke(e):ve.near(e)};var Se=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return Me},e}(ve);ve.jsonID("all",Se);var Me={map:function(){return this},resolve:function(t){return new Se(t)}};function Oe(t,e,n,r,o,i){if(e.inlineContent)return we.create(t,n);for(var s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&ke.isSelectable(a))return ke.create(t,n-(o<0?a.nodeSize:0))}else{var c=Oe(t,a,n+o,o<0?a.childCount:0,o,i);if(c)return c}n+=a.nodeSize*o}}function Ce(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o,i=t.steps[r];if(i instanceof Ut||i instanceof Gt)t.mapping.maps[r].forEach((function(t,e,n,r){null==o&&(o=r)})),t.setSelection(ve.near(t.doc.resolve(o),n))}}var Te=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return I.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||I.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(ve.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(jt);function De(t,e){return e&&t?t.bind(e):t}var Ne=function(t,e,n){this.name=t,this.init=De(e.init,n),this.apply=De(e.apply,n)},Ee=[new Ne("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new Ne("selection",{init:function(t,e){return t.selection||ve.atStart(e.doc)},apply:function(t){return t.selection}}),new Ne("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Ne("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],Ae=function(t,e){var n=this;this.schema=t,this.fields=Ee.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new Ne(t.key,t.spec.state,t))}))},Ie=function(t){this.config=t},ze={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};ze.schema.get=function(){return this.config.schema},ze.plugins.get=function(){return this.config.plugins},Ie.prototype.apply=function(t){return this.applyTransaction(t).state},Ie.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},Ie.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var s=this.config.plugins[i];if(s.spec.appendTransaction){var a=r?r[i].n:0,c=r?r[i].state:this,p=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,c,n);if(p&&n.filterTransaction(p,i)){if(p.setMeta("appendedTransaction",t),!r){r=[];for(var h=0;h<this.config.plugins.length;h++)r.push(h<i?{state:n,n:e.length}:{state:this,n:0})}e.push(p),n=n.applyInner(p),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},Ie.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new Ie(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}for(var i=0;i<Re.length;i++)Re[i](this,t,e);return e},ze.tr.get=function(){return new Te(this)},Ie.create=function(t){for(var e=new Ae(t.schema||t.doc.type.schema,t.plugins),n=new Ie(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},Ie.prototype.reconfigure=function(t){for(var e=new Ae(t.schema||this.schema,t.plugins),n=e.fields,r=new Ie(e),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(t,r)}return r},Ie.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e},Ie.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new Ae(t.schema,t.plugins),o=new Ie(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=Y.fromJSON(t.schema,e.doc);else if("selection"==r.name)o.selection=ve.fromJSON(o.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var i in n){var s=n[i],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,i))return void(o[r.name]=a.fromJSON.call(s,t,e[i],o))}o[r.name]=r.init(t,o)}})),o},Ie.addApplyListener=function(t){Re.push(t)},Ie.removeApplyListener=function(t){var e=Re.indexOf(t);e>-1&&Re.splice(e,1)},Object.defineProperties(Ie.prototype,ze);var Re=[];var Pe=function(t){this.props={},t.props&&function t(e,n,r){for(var o in e){var i=e[o];i instanceof Function?i=i.bind(n):"handleDOMEvents"==o&&(i=t(i,n,{})),r[o]=i}return r}(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:Be("plugin")};Pe.prototype.getState=function(t){return t[this.key]};var _e=Object.create(null);function Be(t){return t in _e?t+"$"+ ++_e[t]:(_e[t]=0,t+"$")}var Ve=function(t){void 0===t&&(t="key"),this.key=Be(t)};Ve.prototype.get=function(t){return t.config.pluginsByKey[this.key]},Ve.prototype.getState=function(t){return t[this.key]};var $e={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Fe=/Edge\/(\d+)/.exec(navigator.userAgent),Le=/MSIE \d/.test(navigator.userAgent),je=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);$e.mac=/Mac/.test(navigator.platform);var qe=$e.ie=!!(Le||je||Fe);$e.ie_version=Le?document.documentMode||6:je?+je[1]:Fe?+Fe[1]:null,$e.gecko=!qe&&/gecko\/(\d+)/i.test(navigator.userAgent),$e.gecko_version=$e.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Je=!qe&&/Chrome\/(\d+)/.exec(navigator.userAgent);$e.chrome=!!Je,$e.chrome_version=Je&&+Je[1],$e.ios=!qe&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),$e.android=/Android \d/.test(navigator.userAgent),$e.webkit=!qe&&"WebkitAppearance"in document.documentElement.style,$e.safari=/Apple Computer/.test(navigator.vendor),$e.webkit_version=$e.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var He=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},We=function(t){var e=t.parentNode;return e&&11==e.nodeType?e.host:e},Ke=function(t,e,n){var r=document.createRange();return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},Ue=function(t,e,n,r){return n&&(Qe(t,e,n,r,-1)||Qe(t,e,n,r,1))},Ge=/^(img|br|input|textarea|hr)$/i;function Qe(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:Ye(t))){var i=t.parentNode;if(1!=i.nodeType||Xe(t)||Ge.test(t.nodeName)||"false"==t.contentEditable)return!1;e=He(t)+(o<0?0:1),t=i}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(o<0?-1:0)]).contentEditable)return!1;e=o<0?Ye(t):0}}}function Ye(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Xe(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var Ze=function(t){var e=t.isCollapsed;return e&&$e.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function tn(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function en(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function nn(t,e){return"number"==typeof t?t:t[e]}function rn(t,e,n){for(var r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,s=i.defaultView,a=n||t.dom;a;a=We(a))if(1==a.nodeType){var c=a==i.body||1!=a.nodeType,p=c?en(s):a.getBoundingClientRect(),h=0,l=0;if(e.top<p.top+nn(r,"top")?l=-(p.top-e.top+nn(o,"top")):e.bottom>p.bottom-nn(r,"bottom")&&(l=e.bottom-p.bottom+nn(o,"bottom")),e.left<p.left+nn(r,"left")?h=-(p.left-e.left+nn(o,"left")):e.right>p.right-nn(r,"right")&&(h=e.right-p.right+nn(o,"right")),(h||l)&&(c?s.scrollBy(h,l):(l&&(a.scrollTop+=l),h&&(a.scrollLeft+=h),e={left:e.left-h,top:e.top-l,right:e.right-h,bottom:e.bottom-l})),c)break}}function on(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=We(t));return e}function sn(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r.dom,i=r.top,s=r.left;o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=s&&(o.scrollLeft=s)}}var an=null;function cn(t,e){for(var n,r,o=2e8,i=0,s=e.top,a=e.top,c=t.firstChild,p=0;c;c=c.nextSibling,p++){var h=void 0;if(1==c.nodeType)h=c.getClientRects();else{if(3!=c.nodeType)continue;h=Ke(c).getClientRects()}for(var l=0;l<h.length;l++){var u=h[l];if(u.top<=s&&u.bottom>=a){s=Math.max(u.bottom,s),a=Math.min(u.top,a);var f=u.left>e.left?u.left-e.left:u.right<e.left?e.left-u.right:0;if(f<o){n=c,o=f,r=f&&3==n.nodeType?{left:u.right<e.left?u.right:u.left,top:e.top}:e,1==c.nodeType&&f&&(i=p+(e.left>=(u.left+u.right)/2?1:0));continue}}!n&&(e.left>=u.right&&e.top>=u.top||e.left>=u.left&&e.top>=u.bottom)&&(i=p+1)}}return n&&3==n.nodeType?function(t,e){for(var n=t.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);var i=ln(r,1);if(i.top!=i.bottom&&pn(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:t,offset:i}:cn(n,r)}function pn(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function hn(t,e){var n,r,o,i,s=t.root;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(o=(n=a).offsetNode,i=n.offset)}catch(t){}if(!o&&s.caretRangeFromPoint){var c=s.caretRangeFromPoint(e.left,e.top);c&&(o=(r=c).startContainer,i=r.startOffset)}var p,h=s.elementFromPoint(e.left,e.top+1);if(!h||!t.dom.contains(1!=h.nodeType?h.parentNode:h)){var l=t.dom.getBoundingClientRect();if(!pn(e,l))return null;if(!(h=function t(e,n,r){var o=e.childNodes.length;if(o&&r.top<r.bottom)for(var i=Math.max(0,Math.min(o-1,Math.floor(o*(n.top-r.top)/(r.bottom-r.top))-2)),s=i;;){var a=e.childNodes[s];if(1==a.nodeType)for(var c=a.getClientRects(),p=0;p<c.length;p++){var h=c[p];if(pn(n,h))return t(a,n,h)}if((s=(s+1)%o)==i)break}return e}(t.dom,e,l)))return null}if(h=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(h,e),o){if($e.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var u,f=o.childNodes[i];"IMG"==f.nodeName&&(u=f.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}o==t.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&e.top>o.lastChild.getBoundingClientRect().bottom?p=t.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(p=function(t,e,n,r){for(var o=-1,i=e;i!=t.dom;){var s=t.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)o=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;o=s.posAfter}}i=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}(t,o,i,e))}null==p&&(p=function(t,e,n){var r=cn(e,n),o=r.node,i=r.offset,s=-1;if(1==o.nodeType&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,i,s)}(t,h,e));var d=t.docView.nearestDesc(h,!0);return{pos:p,inside:d?d.posAtStart-d.border:-1}}function ln(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function un(t,e){var n=t.docView.domFromPos(e),r=n.node,o=n.offset;if(3==r.nodeType&&($e.chrome||$e.gecko)){var i=ln(Ke(r,o,o),0);if($e.gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){var s=ln(Ke(r,o-1,o-1),-1);if(Math.abs(s.left-i.left)<1&&s.top==i.top){var a=ln(Ke(r,o,o+1),-1);return fn(a,a.left<s.left)}}return i}if(1==r.nodeType&&!t.state.doc.resolve(e).parent.inlineContent){var c,p=!0;if(o<r.childNodes.length){var h=r.childNodes[o];1==h.nodeType&&(c=h.getBoundingClientRect())}if(!c&&o){var l=r.childNodes[o-1];1==l.nodeType&&(c=l.getBoundingClientRect(),p=!1)}return function(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}(c||r.getBoundingClientRect(),p)}for(var u=-1;u<2;u+=2)if(u<0&&o){var f=void 0,d=3==r.nodeType?Ke(r,o-1,o):3==(f=r.childNodes[o-1]).nodeType?Ke(f):1==f.nodeType&&"BR"!=f.nodeName?f:null;if(d){var m=ln(d,1);if(m.top<m.bottom)return fn(m,!1)}}else if(u>0&&o<Ye(r)){var v=void 0,g=3==r.nodeType?Ke(r,o,o+1):3==(v=r.childNodes[o]).nodeType?Ke(v):1==v.nodeType?v:null;if(g){var y=ln(g,-1);if(y.top<y.bottom)return fn(y,!0)}}return fn(ln(3==r.nodeType?Ke(r):r,0),!1)}function fn(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function dn(t,e,n){var r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o.focus()}}var mn=/[\u0590-\u08ac]/;var vn=null,gn=null,yn=!1;function wn(t,e,n){return vn==e&&gn==n?yn:(vn=e,gn=n,yn="up"==n||"down"==n?function(t,e,n){var r=e.selection,o="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return dn(t,e,(function(){for(var e=t.docView.domFromPos(o.pos).node;;){var r=t.docView.nearestDesc(e,!0);if(!r)break;if(r.node.isBlock){e=r.dom;break}e=r.dom.parentNode}for(var i=un(t,o.pos),s=e.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=Ke(s,0,s.nodeValue.length).getClientRects()}for(var c=0;c<a.length;c++){var p=a[c];if(p.bottom>p.top&&("up"==n?p.bottom<i.top+1:p.top>i.bottom-1))return!1}}return!0}))}(t,e,n):function(t,e,n){var r=e.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=getSelection();return mn.test(r.parent.textContent)&&a.modify?dn(t,e,(function(){var e=a.getRangeAt(0),o=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var c=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||o==a.focusNode&&i==a.focusOffset;return a.removeAllRanges(),a.addRange(e),null!=s&&(a.caretBidiLevel=s),c})):"left"==n||"backward"==n?i:s}(t,e,n))}var bn=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},kn={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};bn.prototype.matchesWidget=function(){return!1},bn.prototype.matchesMark=function(){return!1},bn.prototype.matchesNode=function(){return!1},bn.prototype.matchesHack=function(){return!1},kn.beforePosition.get=function(){return!1},bn.prototype.parseRule=function(){return null},bn.prototype.stopEvent=function(){return!1},kn.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},kn.border.get=function(){return 0},bn.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},bn.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},kn.posBefore.get=function(){return this.parent.posBeforeChild(this)},kn.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},kn.posAfter.get=function(){return this.posBefore+this.size},kn.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},bn.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,o;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,s;if(t==this.contentDOM)i=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&(!(s=i.pmViewDesc)||s.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}var a;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!1;break}if(c.parentNode.firstChild!=c)break}if(null==a&&e==t.childNodes.length)for(var p=t;;p=p.parentNode){if(p==this.dom){a=!0;break}if(p.parentNode.lastChild!=p)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},bn.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(t):o.nodeDOM==t))return o;n=!1}}},bn.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},bn.prototype.posFromDOM=function(t,e,n){for(var r=t;;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}},bn.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<o)return r.descAt(t-n-r.border);n=o}},bn.prototype.domFromPos=function(t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var e=0,n=0;;n++){if(e==t){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:He(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+t);var r=this.children[n],o=e+r.size;if(t<o)return r.domFromPos(t-e-r.border);e=o}},bn.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,s=0;;s++){var a=this.children[s],c=i+a.size;if(-1==r&&t<=c){var p=i+a.border;if(t>=p&&e<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,p);t=i;for(var h=s;h>0;h--){var l=this.children[h-1];if(l.size&&l.dom.parentNode==this.contentDOM&&!l.emptyChildAt(1)){r=He(l.dom)+1;break}t-=l.size}-1==r&&(r=0)}if(r>-1&&e<=c){e=c;for(var u=s+1;u<this.children.length;u++){var f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=He(f.dom);break}e+=f.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}},bn.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},bn.prototype.domAfterPos=function(t){var e=this.domFromPos(t),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},bn.prototype.setSelection=function(t,e,n,r){for(var o=Math.min(t,e),i=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var c=this.children[s],p=a+c.size;if(o>a&&i<p)return c.setSelection(t-a-c.border,e-a-c.border,n,r);a=p}var h=this.domFromPos(t),l=this.domFromPos(e),u=n.getSelection(),f=document.createRange();if(r||!Ue(h.node,h.offset,u.anchorNode,u.anchorOffset)||!Ue(l.node,l.offset,u.focusNode,u.focusOffset)){if(u.extend)f.setEnd(h.node,h.offset),f.collapse(!1);else{if(t>e){var d=h;h=l,l=d}f.setEnd(l.node,l.offset),f.setStart(h.node,h.offset)}u.removeAllRanges(),u.addRange(f),u.extend&&u.extend(l.node,l.offset)}},bn.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},kn.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},bn.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?t<=i&&e>=n:t<i&&e>n){var s=n+o.border,a=i-o.border;if(t>=s&&e<=a)return this.dirty=t==n||e==i?2:1,void(t!=s||e!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(t-s,e-s):o.dirty=3);o.dirty=3}n=i}this.dirty=2},bn.prototype.markParentsDirty=function(){for(var t=this.parent;t;t=t.parent){t.dirty<2&&(t.dirty=2)}},Object.defineProperties(bn.prototype,kn);var xn=[],Sn=function(t){function e(e,n,r,o){var i,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,xn,s,null),this.widget=n,i=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},Object.defineProperties(e.prototype,n),e}(bn),Mn=function(t){function e(e,n,r,o){t.call(this,e,xn,n,null),this.textDOM=r,this.text=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(bn),On=function(t){function e(e,n,r,o){t.call(this,e,[],r,o),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,o){var i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return s&&s.dom||(s=zt.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,n,r){var o=e.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=Ln(i,n,s,r)),t>0&&(i=Ln(i,0,t,r));for(var a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o},e}(bn),Cn=function(t){function e(e,n,r,o,i,s,a,c,p){t.call(this,e,n.isLeaf?xn:[],i,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=o,s&&this.updateChildren(c,p)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0}};return e.create=function(t,n,r,o,i,s){var a,c,p=i.nodeViews[n.type.name],h=p&&p(n,i,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:s}),r),l=h&&h.dom,u=h&&h.contentDOM;if(n.isText)if(l){if(3!=l.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else l=document.createTextNode(n.text);else l||(l=(a=zt.renderSpec(document,n.type.spec.toDOM(n))).dom,u=a.contentDOM);u||n.isText||"BR"==l.nodeName||(l.hasAttribute("contenteditable")||(l.contentEditable=!1),n.type.spec.draggable&&(l.draggable=!0));var f=l;return l=_n(l,r,n),h?c=new En(t,n,r,o,l,u,f,h,i,s+1):n.isText?new Dn(t,n,r,o,l,f,i):new e(t,n,r,o,l,u,f,i,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?T.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&Bn(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,o=e,i=r&&t.composing&&this.localCompositionNode(t,e),s=new $n(this,i&&i.node);!function(t,e,n,r){var o=e.locals(t),i=0;if(0==o.length){for(var s=0;s<t.childCount;s++){var a=t.child(s);r(a,o,e.forChild(i,a),s),i+=a.nodeSize}return}for(var c=0,p=[],h=null,l=0;;){if(c<o.length&&o[c].to==i){for(var u=o[c++],f=void 0;c<o.length&&o[c].to==i;)(f||(f=[u])).push(o[c++]);if(f){f.sort(Fn);for(var d=0;d<f.length;d++)n(f[d],l,!!h)}else n(u,l,!!h)}var m=void 0,v=void 0;if(h)v=-1,m=h,h=null;else{if(!(l<t.childCount))break;v=l,m=t.child(l++)}for(var g=0;g<p.length;g++)p[g].to<=i&&p.splice(g--,1);for(;c<o.length&&o[c].from==i;)p.push(o[c++]);var y=i+m.nodeSize;if(m.isText){var w=y;c<o.length&&o[c].from<w&&(w=o[c].from);for(var b=0;b<p.length;b++)p[b].to<w&&(w=p[b].to);w<y&&(h=m.cut(w-i),m=m.cut(0,w-i),y=w,v=-1)}r(m,p.length?p.slice():xn,e.forChild(i,m),v),i=y}}(this.node,this.innerDeco,(function(e,i,a){e.spec.marks?s.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!a&&s.syncToMarks(i==n.node.childCount?I.none:n.node.child(i).marks,r,t),s.placeWidget(e,t,o)}),(function(e,n,i,a){s.syncToMarks(e.marks,r,t),s.findNodeMatch(e,n,i,a)||s.updateNextNode(e,n,i,t,a)||s.addNode(e,n,i,t,o),o+=e.nodeSize})),s.syncToMarks(xn,r,t),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(i&&this.protectLocalComposition(t,i),this.renderChildren())},e.prototype.renderChildren=function(){!function t(e,n){for(var r=e.firstChild,o=0;o<n.length;o++){var i=n[o],s=i.dom;if(s.parentNode==e){for(;s!=r;)r=Vn(r);r=r.nextSibling}else e.insertBefore(s,r);if(i instanceof On){var a=r?r.previousSibling:e.lastChild;t(i.contentDOM,i.children),r=a?a.nextSibling:e.firstChild}}for(;r;)r=Vn(r)}(this.contentDOM,this.children),$e.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom)},e.prototype.localCompositionNode=function(t,e){var n=t.state.selection,r=n.from,o=n.to;if(!(!(t.state.selection instanceof we)||r<e||o>e+this.node.content.size)){var i=t.root.getSelection(),s=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=Ye(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(i.focusNode,i.focusOffset);if(s&&this.dom.contains(s.parentNode)){var a=s.nodeValue,c=function(t,e,n,r){for(var o=0,i=0;o<t.childCount&&i<=r;){var s=t.child(o++),a=i;if(i+=s.nodeSize,s.isText){for(var c=s.text;o<t.childCount;){var p=t.child(o++);if(i+=p.nodeSize,!p.isText)break;c+=p.text}if(i>=n){var h=c.lastIndexOf(e,r-a);if(h>=0&&h+e.length+a>=n)return a+h}}}return-1}(this.node.content,a,r-e,o-e);return c<0?null:{node:s,pos:c,text:a}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,o=e.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var s=new Mn(this,i,n,o);t.compositionNodes.push(s),this.children=Ln(this.children,r,r+o.length,t,s)}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!Bn(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Rn(this.dom,this.nodeDOM,zn(this.outerDeco,this.node,e),zn(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!1)},Object.defineProperties(e.prototype,n),e}(bn);function Tn(t,e,n,r,o){return _n(r,e,t),new Cn(null,t,e,n,r,r,r,o,0)}var Dn=function(t){function e(e,n,r,o,i,s,a){t.call(this,e,n,r,o,i,null,s,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{skip:this.nodeDOM.parentNode||!0}},e.prototype.update=function(t,e){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text),this.node=t,this.dirty=0,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var o=this.node.cut(t,n),i=document.createTextNode(o.text);return new e(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},e}(Cn),Nn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return 0==this.dirty},e}(bn),En=function(t){function e(e,n,r,o,i,s,a,c,p,h){t.call(this,e,n,r,o,i,s,a,p,h),this.spec=c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(e,n);return i&&this.updateInner(e,n,r,o),i}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,o)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(Cn);function An(t){t&&(this.nodeName=t)}An.prototype=Object.create(null);var In=[new An];function zn(t,e,n){if(0==t.length)return In;for(var r=n?In[0]:new An,o=[r],i=0;i<t.length;i++){var s=t[i].type.attrs,a=r;if(s)for(var c in s.nodeName&&o.push(a=new An(s.nodeName)),s){var p=s[c];null!=p&&(n&&1==o.length&&o.push(a=r=new An(e.isInline?"span":"div")),"class"==c?a.class=(a.class?a.class+" ":"")+p:"style"==c?a.style=(a.style?a.style+";":"")+p:"nodeName"!=c&&(a[c]=p))}}return o}function Rn(t,e,n,r){if(n==In&&r==In)return e;for(var o=e,i=0;i<r.length;i++){var s=r[i],a=n[i];if(i){var c=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(c=o.parentNode)&&c.tagName.toLowerCase()==s.nodeName?o=c:((c=document.createElement(s.nodeName)).appendChild(o),a=In[0],o=c)}Pn(o,a||In[0],s)}return o}function Pn(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var i=e.class?e.class.split(" "):xn,s=n.class?n.class.split(" "):xn,a=0;a<i.length;a++)-1==s.indexOf(i[a])&&t.classList.remove(i[a]);for(var c=0;c<s.length;c++)-1==i.indexOf(s[c])&&t.classList.add(s[c])}if(e.style!=n.style){if(e.style)for(var p,h=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;p=h.exec(e.style);)t.style.removeProperty(p[1]);n.style&&(t.style.cssText+=n.style)}}function _n(t,e,n){return Rn(t,t,In,zn(e,n,1!=t.nodeType))}function Bn(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Vn(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var $n=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1;var n=function(t,e){for(var n=[],r=t.childCount,o=e.length-1;r>0&&o>=0;o--){var i=e[o],s=i.node;if(s){if(s!=t.child(r-1))break;n.push(i),--r}}return{nodes:n.reverse(),offset:r}}(t.node.content,t.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function Fn(t,e){return t.type.side-e.type.side}function Ln(t,e,n,r,o){for(var i=[],s=0,a=0;s<t.length;s++){var c=t[s],p=a,h=a+=c.size;p>=n||h<=e?i.push(c):(p<e&&i.push(c.slice(0,e-p,r)),o&&(i.push(o),o=null),h>n&&i.push(c.slice(n-p,c.size,r)))}return i}function jn(t,e){var n=t.selection,r=n.$anchor,o=n.$head,i=e>0?r.max(o):r.min(o),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&ve.findFrom(s,e)}function qn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Jn(t,e,n){var r=t.state.selection;if(r instanceof we){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var o=jn(t.state,e);return!!(o&&o instanceof ke)&&qn(t,o)}var i,s=r.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText)return!1;var c=e<0?s.pos-a.nodeSize:s.pos;return!!(a.isAtom||(i=t.docView.descAt(c))&&!i.contentDOM)&&(ke.isSelectable(a)?qn(t,new ke(e<0?t.state.doc.resolve(s.pos-a.nodeSize):s)):!!$e.webkit&&qn(t,new we(t.state.doc.resolve(e<0?c:c+a.nodeSize))))}if(r instanceof ke&&r.node.isInline)return qn(t,new we(e>0?r.$to:r.$from));var p=jn(t.state,e);return!!p&&qn(t,p)}function Hn(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Wn(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Kn(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var o,i,s=!1;for($e.gecko&&1==n.nodeType&&r<Hn(n)&&Wn(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var a=n.childNodes[r-1];if(Wn(a))o=n,i=--r;else{if(3!=a.nodeType)break;r=(n=a).nodeValue.length}}else{if(Gn(n))break;for(var c=n.previousSibling;c&&Wn(c);)o=n.parentNode,i=He(c),c=c.previousSibling;if(c)r=Hn(n=c);else{if((n=n.parentNode)==t.dom)break;r=0}}s?Qn(t,e,n,r):o&&Qn(t,e,o,i)}}function Un(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var o,i,s=Hn(n);;)if(r<s){if(1!=n.nodeType)break;if(!Wn(n.childNodes[r]))break;o=n,i=++r}else{if(Gn(n))break;for(var a=n.nextSibling;a&&Wn(a);)o=a.parentNode,i=He(a)+1,a=a.nextSibling;if(a)r=0,s=Hn(n=a);else{if((n=n.parentNode)==t.dom)break;r=s=0}}o&&Qn(t,e,o,i)}}function Gn(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Qn(t,e,n,r){if(Ze(e)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection()}function Yn(t,e,n){var r=t.state.selection;if(r instanceof we&&!r.empty||n.indexOf("s")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=jn(t.state,e);if(s&&s instanceof ke)return qn(t,s)}if(!o.parent.inlineContent){var a=ve.findFrom(e<0?o:i,e);return!a||qn(t,a)}return!1}function Xn(t,e){if(!(t.state.selection instanceof we))return!0;var n=t.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),t.dispatch(a),!0}return!1}function Zn(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function tr(t,e){var n=e.keyCode,r=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||$e.mac&&72==n&&"c"==r?Xn(t,-1)||Kn(t):46==n||$e.mac&&68==n&&"c"==r?Xn(t,1)||Un(t):13==n&&!$e.ios||27==n||(37==n?Jn(t,-1,r)||Kn(t):39==n?Jn(t,1,r)||Un(t):38==n?Yn(t,-1,r)||Kn(t):40==n?function(t){if($e.chrome&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;Zn(t,o,!0),setTimeout((function(){return Zn(t,o,!1)}),20)}}}(t)||Yn(t,1,r)||Un(t):r==($e.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function er(t,e){var n,r,o=t.root.getSelection(),i=t.state.doc,s=t.docView.nearestDesc(o.focusNode),a=s&&0==s.size,c=t.docView.posFromDOM(o.focusNode,o.focusOffset),p=i.resolve(c);if(Ze(o)){for(n=p;s&&!s.node;)s=s.parent;if(s&&s.node.isAtom&&ke.isSelectable(s.node)&&s.parent&&(!s.node.isInline||!function(t,e,n){for(var r=0==e,o=e==Ye(t);r||o;){if(t==n)return!0;var i=He(t);if(!(t=t.parentNode))return!1;r=r&&0==i,o=o&&i==Ye(t)}}(o.focusNode,o.focusOffset,s.dom))){var h=s.posBefore;r=new ke(c==h?p:i.resolve(h))}}else n=i.resolve(t.docView.posFromDOM(o.anchorNode,o.anchorOffset));r||(r=pr(t,n,p,"pointer"==e||t.state.selection.head<p.pos&&!a?1:-1));return r}function nr(t,e){var n=t.state.selection;if(ar(t,n),t.editable?t.hasFocus():hr(t)&&document.activeElement.contains(t.dom)){if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,He(r)+1):n.setEnd(r,0);n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&$e.ie&&$e.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{var r,o,i=n.anchor,s=n.head;!rr||n instanceof we||(n.$from.parent.inlineContent||(r=or(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=or(t,n.to))),t.docView.setSelection(i,s,t.root,e),rr&&(r&&sr(r),o&&sr(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):i!=s&&(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),t.dom.classList.remove("ProseMirror-hideselection"))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}$n.prototype.getPreMatch=function(t){return t>=this.preMatchOffset?this.preMatched[t-this.preMatchOffset]:null},$n.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},$n.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},$n.prototype.syncToMarks=function(t,e,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,t.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[o])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var c=On.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}},$n.prototype.findNodeMatch=function(t,e,n,r){var o=-1,i=r<0?void 0:this.getPreMatch(r),s=this.top.children;if(i&&i.matchesNode(t,e,n))o=s.indexOf(i);else for(var a=this.index,c=Math.min(s.length,a+5);a<c;a++){var p=s[a];if(p.matchesNode(t,e,n)&&this.preMatched.indexOf(p)<0){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},$n.prototype.updateNextNode=function(t,e,n,r,o){if(this.index==this.top.children.length)return!1;var i=this.top.children[this.index];if(i instanceof Cn){var s=this.preMatched.indexOf(i);if(s>-1&&s+this.preMatchOffset!=o)return!1;var a=i.dom;if(!(this.lock&&(a==this.lock||1==a.nodeType&&a.contains(this.lock.parentNode))&&!(t.isText&&i.node&&i.node.isText&&i.nodeDOM.nodeValue==t.text&&3!=i.dirty&&Bn(e,i.outerDeco)))&&i.update(t,e,n,r))return i.dom!=a&&(this.changed=!0),this.index++,!0}return!1},$n.prototype.addNode=function(t,e,n,r,o){this.top.children.splice(this.index++,0,Cn.create(this.top,t,e,n,r,o)),this.changed=!0},$n.prototype.placeWidget=function(t,e,n){if(this.index<this.top.children.length&&this.top.children[this.index].matchesWidget(t))this.index++;else{var r=new Sn(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}},$n.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof On;)t=t.children[t.children.length-1];if(!t||!(t instanceof Dn)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new Nn(this.top,xn,e,null)),this.changed=!0}};var rr=$e.safari||$e.chrome&&$e.chrome_version<63;function or(t,e){var n=t.docView.domFromPos(e),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if($e.safari&&i&&"false"==i.contentEditable)return ir(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return ir(i);if(s)return ir(s)}}function ir(t){return t.contentEditable="true",$e.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function sr(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function ar(t,e){if(e instanceof ke){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(cr(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else cr(t)}function cr(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function pr(t,e,n,r){return t.someProp("createSelectionBetween",(function(r){return r(t,e,n)}))||we.between(e,n,r)}function hr(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function lr(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if($e.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||$e.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function ur(t,e,n,r,o){if(e<0){var i=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,s=er(t,i);if(!t.state.selection.eq(s)){var a=t.state.tr.setSelection(s);"pointer"==i?a.setMeta("pointer",!0):"key"==i&&a.scrollIntoView(),t.dispatch(a)}}else{var c=t.state.doc.resolve(e),p=c.sharedDepth(n);e=c.before(p+1),n=t.state.doc.resolve(n).after(p+1);var h,l,u=t.state.selection,f=function(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,i=r.fromOffset,s=r.toOffset,a=r.from,c=r.to,p=t.root.getSelection(),h=null,l=p.anchorNode;if(l&&t.dom.contains(1==l.nodeType?l:l.parentNode)&&(h=[{node:l,offset:p.anchorOffset}],Ze(p)||h.push({node:p.focusNode,offset:p.focusOffset})),$e.chrome&&8===t.lastKeyCode)for(var u=s;u>i;u--){var f=o.childNodes[u-1],d=f.pmViewDesc;if("BR"==f.nodeType&&!d){s=u;break}if(!d||d.size)break}var m=t.state.doc,v=t.someProp("domParser")||xt.fromSchema(t.state.schema),g=m.resolve(a),y=null,w=v.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:s,preserveWhitespace:!g.parent.type.spec.code||"full",editableContent:!0,findPositions:h,ruleFromNode:lr,context:g});if(h&&null!=h[0].pos){var b=h[0].pos,k=h[1]&&h[1].pos;null==k&&(k=b),y={anchor:b+a,head:k+a}}return{doc:w,sel:y,from:a,to:c}}(t,e,n),d=t.state.doc,m=d.slice(f.from,f.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(h=t.state.selection.to,l="end"):(h=t.state.selection.from,l="start"),t.lastKeyCode=null;var v=function(t,e,n,r,o){var i=t.findDiffStart(e,n);if(null==i)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,c=s.b;if("end"==o){var p=Math.max(0,i-Math.min(a,c));r-=a+p-i}if(a<i&&t.size<e.size){c=(i-=r<=i&&r>=a?i-r:0)+(c-a),a=i}else if(c<i){a=(i-=r<=i&&r>=c?i-r:0)+(a-c),c=i}return{start:i,endA:a,endB:c}}(m.content,f.doc.content,f.from,h,l);if(!v){if(!(r&&u instanceof we&&!u.empty&&u.$head.sameParent(u.$anchor))||t.composing||f.sel&&f.sel.anchor!=f.sel.head){if(f.sel){var g=fr(t,t.state.doc,f.sel);g&&!g.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(g))}return}v={start:u.from,endA:u.to,endB:u.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof we&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),$e.ie&&$e.ie_version<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>f.from&&"  "==f.doc.textBetween(v.start-f.from-1,v.start-f.from+1)&&(v.start--,v.endA--,v.endB--);var y,w=f.doc.resolveNoCache(v.start-f.from),b=f.doc.resolveNoCache(v.endB-f.from);if(($e.ios&&t.lastIOSEnter>Date.now()-100&&(!w.sameParent(b)||o.some((function(t){return"DIV"==t.nodeName})))||!w.sameParent(b)&&w.pos<f.doc.content.size&&(y=ve.findFrom(f.doc.resolve(w.pos+1),1,!0))&&y.head==b.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,tn(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>v.start&&function(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||dr(r,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=t.resolve(dr(i,!0,!0));if(!s.parent.isTextblock||s.pos>n||dr(s,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(d,v.start,v.endA,w,b)&&t.someProp("handleKeyDown",(function(e){return e(t,tn(8,"Backspace"))})))$e.android&&$e.chrome&&t.domObserver.suppressSelectionUpdates();else{var k,x,S,M,O=v.start,C=v.endA;if(w.sameParent(b)&&w.parent.inlineContent)if(w.pos==b.pos)$e.ie&&$e.ie_version<=11&&0==w.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return nr(t)}),20)),k=t.state.tr.delete(O,C),x=d.resolve(v.start).marksAcross(d.resolve(v.endA));else if(v.endA==v.endB&&(M=d.resolve(v.start))&&(S=function(t,e){for(var n,r,o,i=t.firstChild.marks,s=e.firstChild.marks,a=i,c=s,p=0;p<s.length;p++)a=s[p].removeFromSet(a);for(var h=0;h<i.length;h++)c=i[h].removeFromSet(c);if(1==a.length&&0==c.length)r=a[0],n="add",o=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=a.length||1!=c.length)return null;r=c[0],n="remove",o=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var l=[],u=0;u<e.childCount;u++)l.push(o(e.child(u)));if(T.from(l).eq(t))return{mark:r,type:n}}(w.parent.content.cut(w.parentOffset,b.parentOffset),M.parent.content.cut(M.parentOffset,v.endA-M.start()))))k=t.state.tr,"add"==S.type?k.addMark(O,C,S.mark):k.removeMark(O,C,S.mark);else if(w.parent.child(w.index()).isText&&w.index()==b.index()-(b.textOffset?0:1)){var D=w.parent.textBetween(w.parentOffset,b.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,O,C,D)})))return;k=t.state.tr.insertText(D,O,C)}if(k||(k=t.state.tr.replace(O,C,f.doc.slice(v.start-f.from,v.endB-f.from))),f.sel){var N=fr(t,k.doc,f.sel);N&&!($e.chrome&&$e.android&&t.composing&&N.empty&&N.head==O||$e.ie&&N.empty&&N.head==O)&&k.setSelection(N)}x&&k.ensureMarks(x),t.dispatch(k.scrollIntoView())}}}function fr(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:pr(t,e.resolve(n.anchor),e.resolve(n.head))}function dr(t,e,n){for(var r=t.depth,o=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n)for(var i=t.node(r).maybeChild(t.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function mr(t,e){for(var n=[],r=e.content,o=e.openStart,i=e.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var s=r.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),r=s.content}var a=t.someProp("clipboardSerializer")||zt.fromSchema(t.state.schema),c=kr(),p=c.createElement("div");p.appendChild(a.serializeFragment(r,{document:c}));for(var h,l=p.firstChild;l&&1==l.nodeType&&(h=wr[l.nodeName.toLowerCase()]);){for(var u=h.length-1;u>=0;u--){for(var f=c.createElement(h[u]);p.firstChild;)f.appendChild(p.firstChild);p.appendChild(f)}l=p.firstChild}return l&&1==l.nodeType&&l.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n)),{dom:p,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function vr(t,e,n,r,o){var i,s,a=o.parent.type.spec.code;if(!n&&!e)return null;var c=e&&(r||a||!n);if(c){if(t.someProp("transformPastedText",(function(t){e=t(e)})),a)return new R(T.from(t.state.schema.text(e)),0,0);var p=t.someProp("clipboardTextParser",(function(t){return t(e,o)}));p?s=p:(i=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){i.appendChild(document.createElement("p")).textContent=t})))}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),i=function(t){var e=/(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=kr().createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(t),i=0;(n=o&&wr[o[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""),i=n.length);r.innerHTML=t;for(var s=0;s<i;s++)r=r.firstChild;return r}(n);var h=i&&i.querySelector("[data-pm-slice]"),l=h&&/^(\d+) (\d+) (.*)/.exec(h.getAttribute("data-pm-slice"));if(!s){var u=t.someProp("clipboardParser")||t.someProp("domParser")||xt.fromSchema(t.state.schema);s=u.parseSlice(i,{preserveWhitespace:!(!c&&!l),context:o})}return s=l?function(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var o=t.content,i=t.openStart,s=t.openEnd,a=n.length-2;a>=0;a-=2){var c=r.nodes[n[a]];if(!c||c.hasRequiredAttrs())break;o=T.from(c.create(n[a+1],o)),i++,s++}return new R(o,i,s)}(function(t,e,n){e<t.openStart&&(t=new R(yr(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd));n<t.openEnd&&(t=new R(yr(t.content,1,n,t.openEnd,0,0),t.openStart,n));return t}(s,+l[1],+l[2]),l[3]):R.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n).contentMatchAt(e.index(n)),o=void 0,i=[];if(t.forEach((function(t){if(i){var e,n=r.findWrapping(t.type);if(!n)return i=null;if(e=i.length&&o.length&&function t(e,n,r,o,i){if(i<e.length&&i<n.length&&e[i]==n[i]){var s=t(e,n,r,o.lastChild,i+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(i==e.length-1?r.type:e[i+1]))return o.copy(o.content.append(T.from(gr(r,e,i+1))))}}(n,o,t,i[i.length-1],0))i[i.length-1]=e;else{i.length&&(i[i.length-1]=function t(e,n){if(0==n)return e;var r=e.content.replaceChild(e.childCount-1,t(e.lastChild,n-1)),o=e.contentMatchAt(e.childCount).fillBefore(T.empty,!0);return e.copy(r.append(o))}(i[i.length-1],o.length));var s=gr(t,n);i.push(s),r=r.matchType(s.type,s.attrs),o=n}}})),i)return{v:T.from(i)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}(s.content,o),!1),t.someProp("transformPasted",(function(t){s=t(s)})),s}function gr(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,T.from(t));return t}function yr(t,e,n,r,o,i){var s=e<0?t.firstChild:t.lastChild,a=s.content;return o<r-1&&(a=yr(a,e,n,r,o+1,i)),o>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(T.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}var wr={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},br=null;function kr(){return br||(br=document.implementation.createHTMLDocument("title"))}var xr={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Sr=$e.ie&&$e.ie_version<=11,Mr=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Mr.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},Mr.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var Or=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=!1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);$e.ie&&$e.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Mr,Sr&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Or.prototype.flushSoon=function(){var t=this;this.flushingSoon||(this.flushingSoon=!0,window.setTimeout((function(){t.flushingSoon=!1,t.flush()}),20))},Or.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,xr),Sr&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Or.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}Sr&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Or.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Or.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Or.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},Or.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&hr(t)){var t;if(this.suppressingSelectionUpdates)return nr(this.view);if($e.ie&&$e.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&Ue(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},Or.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Or.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},Or.prototype.flush=function(){if(this.view.docView&&!this.flushingSoon){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&hr(this.view)&&!this.ignoreSelectionChange(e),r=-1,o=-1,i=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var c=this.registerMutation(t[a],s);c&&(r=r<0?c.from:Math.min(c.from,r),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&!this.view.composing&&(i=!0))}if($e.gecko&&s.length>1){var p=s.filter((function(t){return"BR"==t.nodeName}));if(2==p.length){var h=p[0],l=p[1];h.parentNode&&h.parentNode.parentNode==l.parentNode?l.remove():h.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(t){if(Cr)return;Cr=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,o,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||nr(this.view))}},Or.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){var r=t.previousSibling,o=t.nextSibling;if($e.ie&&$e.ie_version<=11&&t.addedNodes.length)for(var i=0;i<t.addedNodes.length;i++){var s=t.addedNodes[i],a=s.previousSibling,c=s.nextSibling;(!a||Array.prototype.indexOf.call(t.addedNodes,a)<0)&&(r=a),(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(o=c)}for(var p=r&&r.parentNode==t.target?He(r)+1:0,h=n.localPosFromDOM(t.target,p,-1),l=o&&o.parentNode==t.target?He(o):t.target.childNodes.length,u=0;u<t.addedNodes.length;u++)e.push(t.addedNodes[u]);return{from:h,to:n.localPosFromDOM(t.target,l,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var Cr=!1;var Tr={},Dr={};function Nr(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function Er(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return Ar(t,e)})}))}function Ar(t,e){return t.someProp("handleDOMEvents",(function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function Ir(t){return{left:t.clientX,top:t.clientY}}function zr(t,e,n,r,o){if(-1==r)return!1;for(var i=t.state.doc.resolve(r),s=function(r){if(t.someProp(e,(function(e){return r>i.depth?e(t,n,i.nodeAfter,i.before(r),o,!0):e(t,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},a=i.depth+1;a>0;a--){var c=s(a);if(c)return c.v}return!1}function Rr(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function Pr(t,e,n,r,o){return zr(t,"handleClickOn",e,n,r)||t.someProp("handleClick",(function(n){return n(t,e,r)}))||(o?function(t,e){if(-1==e)return!1;var n,r,o=t.state.selection;o instanceof ke&&(n=o.node);for(var i=t.state.doc.resolve(e),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s);if(ke.isSelectable(a)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break}}return null!=r&&(Rr(t,ke.create(t.state.doc,r),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&ke.isSelectable(r))&&(Rr(t,new ke(n),"pointer"),!0)}(t,n))}function _r(t,e,n,r){return zr(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(function(n){return n(t,e,r)}))}function Br(t,e,n,r){return zr(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",(function(n){return n(t,e,r)}))||function(t,e){var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(Rr(t,we.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(e),o=r.depth+1;o>0;o--){var i=o>r.depth?r.nodeAfter:r.node(o),s=r.before(o);if(i.inlineContent)Rr(t,we.create(n,s+1,s+1+i.content.size),"pointer");else{if(!ke.isSelectable(i))continue;Rr(t,ke.create(n,s),"pointer")}return!0}}(t,n)}function Vr(t){return Jr(t)}Dr.keydown=function(t,e){t.shiftKey=16==e.keyCode||e.shiftKey,Lr(t,e)||(t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!$e.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey?t.someProp("handleKeyDown",(function(n){return n(t,e)}))||tr(t,e)?e.preventDefault():Nr(t,"key"):t.lastIOSEnter=Date.now())},Dr.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},Dr.keypress=function(t,e){if(!(Lr(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||$e.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof we&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,r)}))||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var $r=$e.mac?"metaKey":"ctrlKey";Tr.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=Vr(t),r=Date.now(),o="singleClick";r-t.lastClick.time<500&&function(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(e,t.lastClick)&&!e[$r]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(Ir(e));i&&("singleClick"==o?t.mouseDown=new Fr(t,i,e,n):("doubleClick"==o?_r:Br)(t,i.pos,i.inside,e)?e.preventDefault():Nr(t,"pointer"))};var Fr=function(t,e,n,r){var o,i,s=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=r,this.selectNode=n[$r],this.allowDefault=n.shiftKey,e.inside>-1)o=t.state.doc.nodeAt(e.inside),i=e.inside;else{var a=t.state.doc.resolve(e.pos);o=a.parent,i=a.depth?a.before():0}this.mightDrag=null;var c=r?null:n.target,p=c?t.docView.nearestDesc(c,!0):null;this.target=p?p.dom:null,(o.type.spec.draggable&&!1!==o.type.spec.selectable||t.state.selection instanceof ke&&i==t.state.selection.from)&&(this.mightDrag={node:o,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&$e.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Nr(t,"pointer")};function Lr(t,e){return!!t.composing||!!($e.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}Fr.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!1),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},Fr.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Ir(t))),this.allowDefault||!e?Nr(this.view,"pointer"):Pr(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():!this.flushed&&(!$e.chrome||this.view.state.selection instanceof we||e.pos!=this.view.state.selection.from&&e.pos!=this.view.state.selection.to)?Nr(this.view,"pointer"):(Rr(this.view,ve.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault())}},Fr.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Nr(this.view,"pointer")},Tr.touchdown=function(t){Vr(t),Nr(t,"pointer")},Tr.contextmenu=function(t){return Vr(t)};var jr=$e.android?5e3:-1;function qr(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return Jr(t)}),e))}function Jr(t,e){for(t.composing=!1;t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty();return!(!e&&!t.docView.dirty)&&(t.updateState(t.state),!0)}Dr.compositionstart=Dr.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),Jr(t,!0),t.markCursor=null;else if(Jr(t),$e.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}o=s,i=-1}t.composing=!0}qr(t,jr)},Dr.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,qr(t,20))};var Hr=$e.ie&&$e.ie_version<15||$e.ios&&$e.webkit_version<604;function Wr(t,e,n,r){var o=vr(t,e,n,t.shiftKey,t.state.selection.$from);if(!t.someProp("handlePaste",(function(e){return e(t,r,o||R.empty)}))&&o){var i=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),s=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(o);t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}Tr.copy=Dr.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var o=Hr?null:e.clipboardData,i=mr(t,n.content()),s=i.dom,a=i.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",a)):function(t,e){var n=t.dom.ownerDocument,r=n.body.appendChild(n.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";var o=getSelection(),i=n.createRange();i.selectNodeContents(e),t.dom.blur(),o.removeAllRanges(),o.addRange(i),setTimeout((function(){n.body.removeChild(r),t.focus()}),50)}(t,s),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Dr.paste=function(t,e){var n=Hr?null:e.clipboardData,r=n&&n.getData("text/html"),o=n&&n.getData("text/plain");n&&(r||o||n.files.length)?(Wr(t,o,r,e),e.preventDefault()):function(t,e){var n=t.dom.ownerDocument,r=t.shiftKey||t.state.selection.$from.parent.type.spec.code,o=n.body.appendChild(n.createElement(r?"textarea":"div"));r||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((function(){t.focus(),n.body.removeChild(o),r?Wr(t,o.value,null,e):Wr(t,o.textContent,o.innerHTML,e)}),50)}(t,e)};var Kr=function(t,e){this.slice=t,this.move=e},Ur=$e.mac?"altKey":"ctrlKey";for(var Gr in Tr.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var r=t.state.selection,o=r.empty?null:t.posAtCoords(Ir(e));if(o&&o.pos>=r.from&&o.pos<=(r instanceof ke?r.to-1:r.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(ke.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var i=t.docView.nearestDesc(e.target,!0);if(!i||!i.node.type.spec.draggable||i==t.docView)return;t.dispatch(t.state.tr.setSelection(ke.create(t.state.doc,i.posBefore)))}var s=t.state.selection.content(),a=mr(t,s),c=a.dom,p=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Hr?"Text":"text/html",c.innerHTML),Hr||e.dataTransfer.setData("text/plain",p),t.dragging=new Kr(s,!e[Ur])}},Tr.dragend=function(t){window.setTimeout((function(){return t.dragging=null}),50)},Dr.dragover=Dr.dragenter=function(t,e){return e.preventDefault()},Dr.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var r=t.posAtCoords(Ir(e));if(r){var o=t.state.doc.resolve(r.pos);if(o){var i=n&&n.slice||vr(t,e.dataTransfer.getData(Hr?"Text":"text/plain"),Hr?null:e.dataTransfer.getData("text/html"),!1,o);if(i&&(e.preventDefault(),!t.someProp("handleDrop",(function(r){return r(t,e,i,n&&n.move)})))){var s=i?function(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,p=r.index(a)+(c>0?1:0);if(1==s?r.node(a).canReplace(p,p,o):r.node(a).contentMatchAt(p).findWrapping(o.firstChild.type))return 0==c?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}(t.state.doc,o.pos,i):o.pos;null==s&&(s=o.pos);var a=t.state.tr;n&&n.move&&a.deleteSelection();var c=a.mapping.map(s),p=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,h=a.doc;if(p?a.replaceRangeWith(c,c,i.content.firstChild):a.replaceRange(c,c,i),!a.doc.eq(h)){var l=a.doc.resolve(c);p&&ke.isSelectable(i.content.firstChild)&&l.nodeAfter&&l.nodeAfter.sameMarkup(i.content.firstChild)?a.setSelection(new ke(l)):a.setSelection(pr(t,l,a.doc.resolve(a.mapping.map(s)))),t.focus(),t.dispatch(a.setMeta("uiEvent","drop"))}}}}}},Tr.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&nr(t)}),20))},Tr.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.domObserver.currentSelection.set({}),t.focused=!1)},Tr.beforeinput=function(t,e){if($e.chrome&&$e.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,tn(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},Dr)Tr[Gr]=Dr[Gr];function Qr(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var Yr=function(t,e){this.spec=e||ro,this.side=this.spec.side||0,this.toDOM=t};Yr.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new to(i-n,i-n,this)},Yr.prototype.valid=function(){return!0},Yr.prototype.eq=function(t){return this==t||t instanceof Yr&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Qr(this.spec,t.spec))};var Xr=function(t,e){this.spec=e||ro,this.attrs=t};Xr.prototype.map=function(t,e,n,r){var o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new to(o,i,this)},Xr.prototype.valid=function(t,e){return e.from<e.to},Xr.prototype.eq=function(t){return this==t||t instanceof Xr&&Qr(this.attrs,t.attrs)&&Qr(this.spec,t.spec)},Xr.is=function(t){return t.type instanceof Xr};var Zr=function(t,e){this.spec=e||ro,this.attrs=t};Zr.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,1);if(o.deleted)return null;var i=t.mapResult(e.to+r,-1);return i.deleted||i.pos<=o.pos?null:new to(o.pos-n,i.pos-n,this)},Zr.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),r=n.index,o=n.offset;return o==e.from&&o+t.child(r).nodeSize==e.to},Zr.prototype.eq=function(t){return this==t||t instanceof Zr&&Qr(this.attrs,t.attrs)&&Qr(this.spec,t.spec)};var to=function(t,e,n){this.from=t,this.to=e,this.type=n},eo={spec:{configurable:!0}};to.prototype.copy=function(t,e){return new to(t,e,this.type)},to.prototype.eq=function(t){return this.type.eq(t.type)&&this.from==t.from&&this.to==t.to},to.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},to.widget=function(t,e,n){return new to(t,t,new Yr(e,n))},to.inline=function(t,e,n,r){return new to(t,e,new Xr(n,r))},to.node=function(t,e,n,r){return new to(t,e,new Zr(n,r))},eo.spec.get=function(){return this.type.spec},Object.defineProperties(to.prototype,eo);var no=[],ro={},oo=function(t,e){this.local=t&&t.length?t:no,this.children=e&&e.length?e:no};oo.create=function(t,e){return e.length?ho(e,t,0,ro):io},oo.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},oo.prototype.findInner=function(t,e,n,r,o){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var c=this.children[a]+1;this.children[a+2].findInner(t-c,e-c,n,r+c,o)}},oo.prototype.map=function(t,e,n){return this==io||0==t.maps.length?this:this.mapInner(t,e,0,0,n||ro)},oo.prototype.mapInner=function(t,e,n,r,o){for(var i,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?function(t,e,n,r,o,i,s){for(var a=t.slice(),c=function(t,e,n,r){for(var s=0;s<a.length;s+=3){var c=a[s+1],p=void 0;-1==c||t>c+i||(e>=a[s]+i?a[s+1]=-1:(p=r-n-(e-t)+(i-o))&&(a[s]+=p,a[s+1]+=p))}},p=0;p<n.maps.length;p++)n.maps[p].forEach(c);for(var h=!1,l=0;l<a.length;l+=3)if(-1==a[l+1]){var u=n.map(a[l]+i),f=u-o;if(f<0||f>=r.content.size){h=!0;continue}var d=n.map(t[l+1]+i,-1)-o,m=r.content.findIndex(f),v=m.index,g=m.offset,y=r.maybeChild(v);if(y&&g==f&&g+y.nodeSize==d){var w=a[l+2].mapInner(n,y,u+1,a[l]+i+1,s);w!=io?(a[l]=f,a[l+1]=d,a[l+2]=w):(a[l+1]=-2,h=!0)}else h=!0}if(h){var b=ho(function(t,e,n,r,o,i,s){function a(t,e){for(var i=0;i<t.local.length;i++){var c=t.local[i].map(r,o,e);c?n.push(c):s.onRemove&&s.onRemove(t.local[i].spec)}for(var p=0;p<t.children.length;p+=3)a(t.children[p+2],t.children[p]+e+1)}for(var c=0;c<t.length;c+=3)-1==t[c+1]&&a(t[c+2],e[c]+i+1);return n}(a,t,e||[],n,o,i,s),r,0,s);e=b.local;for(var k=0;k<a.length;k+=3)a[k+1]<0&&(a.splice(k,3),k-=3);for(var x=0,S=0;x<b.children.length;x+=3){for(var M=b.children[x];S<a.length&&a[S]<M;)S+=3;a.splice(S,0,b.children[x],b.children[x+1],b.children[x+2])}}return new oo(e&&e.sort(lo),a)}(this.children,i,t,e,n,r,o):i?new oo(i.sort(lo)):io},oo.prototype.add=function(t,e){return e.length?this==io?oo.create(t,e):this.addInner(t,e,0):this},oo.prototype.addInner=function(t,e,n){var r,o=this,i=0;t.forEach((function(t,s){var a,c=s+n;if(a=co(e,t,c)){for(r||(r=o.children.slice());i<r.length&&r[i]<s;)i+=3;r[i]==s?r[i+2]=r[i+2].addInner(t,a,c+1):r.splice(i,0,s,s+t.nodeSize,ho(a,t,c+1,ro)),i+=3}}));var s=ao(i?po(e):e,-n);return new oo(s.length?this.local.concat(s).sort(lo):this.local,r||this.children)},oo.prototype.remove=function(t){return 0==t.length||this==io?this:this.removeInner(t,0)},oo.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,s=n[o]+e,a=n[o+1]+e,c=0,p=void 0;c<t.length;c++)(p=t[c])&&p.from>s&&p.to<a&&(t[c]=null,(i||(i=[])).push(p));if(i){n==this.children&&(n=this.children.slice());var h=n[o+2].removeInner(i,s+1);h!=io?n[o+2]=h:(n.splice(o,3),o-=3)}}if(r.length)for(var l=0,u=void 0;l<t.length;l++)if(u=t[l])for(var f=0;f<r.length;f++)r[f].type.eq(u.type)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new oo(r,n):io},oo.prototype.forChild=function(t,e){if(this==io)return this;if(e.isLeaf)return oo.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}for(var i=t+1,s=i+e.content.size,a=0;a<this.local.length;a++){var c=this.local[a];if(c.from<s&&c.to>i&&c.type instanceof Xr){var p=Math.max(i,c.from)-i,h=Math.min(s,c.to)-i;p<h&&(r||(r=[])).push(c.copy(p,h))}}if(r){var l=new oo(r.sort(lo));return n?new so([l,n]):l}return n||io},oo.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof oo)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},oo.prototype.locals=function(t){return uo(this.localsInner(t))},oo.prototype.localsInner=function(t){if(this==io)return no;if(t.inlineContent||!this.local.some(Xr.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Xr||e.push(this.local[n]);return e};var io=new oo;oo.empty=io,oo.removeOverlap=uo;var so=function(t){this.members=t};function ao(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(new to(o.from+e,o.to+e,o.type))}return n}function co(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,o=null,i=0,s=void 0;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function po(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function ho(t,e,n,r){var o=[],i=!1;e.forEach((function(e,s){var a=co(t,e,s+n);if(a){i=!0;var c=ho(a,e,n+s+1,r);c!=io&&o.push(s,s+e.nodeSize,c)}}));for(var s=ao(i?po(t):t,-n).sort(lo),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new oo(s,o):io}function lo(t,e){return t.from-e.from||t.to-e.to}function uo(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var o=n+1;o<e.length;o++){var i=e[o];if(i.from!=r.from){i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),fo(e,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),fo(e,o+1,i.copy(r.to,i.to)))}}return e}function fo(t,e,n){for(;e<t.length&&lo(n,t[e])>0;)e++;t.splice(e,0,n)}function mo(t){var e=[];return t.someProp("decorations",(function(n){var r=n(t.state);r&&r!=io&&e.push(r)})),t.cursorWrapper&&e.push(oo.create(t.state.doc,[t.cursorWrapper.deco])),so.from(e)}so.prototype.forChild=function(t,e){if(e.isLeaf)return oo.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(t,e);o!=io&&(o instanceof so?n=n.concat(o.members):n.push(o))}return so.from(n)},so.prototype.eq=function(t){if(!(t instanceof so)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},so.prototype.locals=function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(t);if(o.length)if(e){n&&(e=e.slice(),n=!1);for(var i=0;i<o.length;i++)e.push(o[i])}else e=o}return e?uo(n?e:e.sort(lo)):no},so.from=function(t){switch(t.length){case 0:return io;case 1:return t[0];default:return new so(t)}};var vo=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=bo(this),this.markCursor=null,this.cursorWrapper=null,wo(this),this.nodeViews=ko(this),this.docView=Tn(this.state.doc,yo(this),mo(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new Or(t,(function(e,n,r,o){return ur(t,e,n,r,o)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=Tr[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||Ar(t,e)||!t.editable&&e.type in Dr||n(t,e)})};for(var n in Tr)e(n);$e.safari&&t.dom.addEventListener("input",(function(){return null})),Er(t)}(this),this.pluginViews=[],this.updatePluginViews()},go={props:{configurable:!0},root:{configurable:!0}};function yo(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e.class+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))})),[to.node(0,t.state.doc.content.size,e)]}function wo(t){var e=t.state.selection,n=e.$head,r=e.$anchor,o=e.visible;if(t.markCursor){var i=document.createElement("img");i.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:i,deco:to.widget(n.pos,i,{raw:!0,marks:t.markCursor})}}else if(o||n.pos!=r.pos)t.cursorWrapper=null;else{var s;!t.cursorWrapper||t.cursorWrapper.dom.childNodes.length?((s=document.createElement("div")).style.position="absolute",s.style.left="-100000px"):t.cursorWrapper.deco.pos!=n.pos&&(s=t.cursorWrapper.dom),s&&(t.cursorWrapper={dom:s,deco:to.widget(n.pos,s,{raw:!0})})}}function bo(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function ko(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}go.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},vo.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Er(this),this._props=t,this.updateStateInner(t.state,!0)},vo.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)},vo.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},vo.prototype.updateStateInner=function(t,e){var n=this,r=this.state,o=!1;if(this.state=t,e){var i=ko(this);(function(t,e){var n=0,r=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var i in e)r++;return n!=r})(i,this.nodeViews)&&(this.nodeViews=i,o=!0),Er(this)}this.editable=bo(this),wo(this);var s,a,c,p,h,l,u,f,d,m,v,g=mo(this),y=yo(this),w=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",b=o||!this.docView.matchesNode(t.doc,y,g),k=b||!t.selection.eq(r.selection),x="preserve"==w&&k&&null==this.dom.style.overflowAnchor&&function(t){for(var e,n,r=t.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=t.root.elementFromPoint(i,s);if(a!=t.dom&&t.dom.contains(a)){var c=a.getBoundingClientRect();if(c.top>=o-20){e=a,n=c.top;break}}}return{refDOM:e,refTop:n,stack:on(t.dom)}}(this);if(k){this.domObserver.stop();var S=b&&($e.ie||$e.chrome)&&!r.selection.empty&&!t.selection.empty&&(p=r.selection,h=t.selection,l=Math.min(p.$anchor.sharedDepth(p.head),h.$anchor.sharedDepth(h.head)),p.$anchor.node(l)!=h.$anchor.node(l));b&&(!o&&this.docView.update(t.doc,y,g,this)||(this.docView.destroy(),this.docView=Tn(t.doc,y,g,this.dom,this))),S||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(s=this,a=s.docView.domFromPos(s.state.selection.anchor),c=s.root.getSelection(),Ue(a.node,a.offset,c.anchorNode,c.anchorOffset)))?nr(this,S):(ar(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==w)this.dom.scrollTop=0;else if("to selection"==w){var M=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof ke?rn(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),M):rn(this,this.coordsAtPos(t.selection.head),M))}else x&&(f=(u=x).refDOM,d=u.refTop,m=u.stack,v=f?f.getBoundingClientRect().top:0,sn(m,0==v?0:v-d))},vo.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},vo.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},vo.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var s=o[i].props[t];if(null!=s&&(n=e?e(s):s))return n}},vo.prototype.hasFocus=function(){return this.root.activeElement==this.dom},vo.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(an)return t.focus(an);var e=on(t);t.focus(null==an?{get preventScroll(){return an={preventScroll:!0},!0}}:void 0),an||(an=!1,sn(e,0))}(this.dom),nr(this),this.domObserver.start()},go.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},vo.prototype.posAtCoords=function(t){return hn(this,t)},vo.prototype.coordsAtPos=function(t){return un(this,t)},vo.prototype.domAtPos=function(t){return this.docView.domFromPos(t)},vo.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},vo.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},vo.prototype.endOfTextblock=function(t,e){return wn(this,e||this.state,t)},vo.prototype.destroy=function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],mo(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},vo.prototype.dispatchEvent=function(t){return function(t,e){Ar(t,e)||!Tr[e.type]||!t.editable&&e.type in Dr||Tr[e.type](t,e)}(this,t)},vo.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(vo.prototype,go);var xo=function(){};xo.prototype.append=function(t){return t.length?(t=xo.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},xo.prototype.prepend=function(t){return t.length?xo.from(t).append(this):this},xo.prototype.appendInner=function(t){return new Mo(this,t)},xo.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?xo.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},xo.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},xo.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},xo.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},xo.from=function(t){return t instanceof xo?t:t&&t.length?new So(t):xo.empty};var So=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(!1===t(this.values[o],r+o))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(!1===t(this.values[o],r+o))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=200)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=200)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(xo);xo.empty=new So([]);var Mo=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(xo),Oo=xo,Co=function(t,e){this.items=t,this.eventCount=e};Co.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(r=this.remapping(i,this.items.length),o=r.maps.length);var s,a,c=t.tr,p=[],h=[];return this.items.forEach((function(t,e){if(!t.step)return r||(r=n.remapping(i,e+1),o=r.maps.length),o--,void h.push(t);if(r){h.push(new To(t.map));var l,u=t.step.map(r.slice(o));u&&c.maybeStep(u).doc&&(l=c.mapping.maps[c.mapping.maps.length-1],p.push(new To(l,null,null,p.length+h.length))),o--,l&&r.appendMap(l,o)}else c.maybeStep(t.step);return t.selection?(s=r?t.selection.map(r.slice(o)):t.selection,a=new Co(n.items.slice(0,i).append(h.reverse().concat(p)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:c,selection:s}},Co.prototype.addTransform=function(t,e,n,r){for(var o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,c=0;c<t.steps.length;c++){var p,h=t.steps[c].invert(t.docs[c]),l=new To(t.mapping.maps[c],h,e);(p=a&&a.merge(l))&&(l=p,c?o.pop():s=s.slice(0,s.length-1)),o.push(l),e&&(i++,e=null),r||(a=l)}var u,f,d,m=i-n.depth;return m>No&&(f=m,(u=s).forEach((function(t,e){if(t.selection&&0==f--)return d=e,!1})),s=u.slice(d),i-=m),new Co(s.append(o),i)},Co.prototype.remapping=function(t,e){var n=new Ft;return this.items.forEach((function(e,r){var o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)}),t,e),n},Co.prototype.addMaps=function(t){return 0==this.eventCount?this:new Co(this.items.append(t.map((function(t){return new To(t)}))),this.eventCount)},Co.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach((function(t){t.selection&&s--}),r);var a=e;this.items.forEach((function(e){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var c=o.maps[r];if(e.step){var p=t.steps[r].invert(t.docs[r]),h=e.selection&&e.selection.map(o.slice(a+1,r));h&&s++,n.push(new To(c,p,h))}else n.push(new To(c))}}),r);for(var c=[],p=e;p<i;p++)c.push(new To(o.maps[p]));var h=this.items.slice(0,r).append(c).append(n),l=new Co(h,s);return l.emptyItemCount()>500&&(l=l.compress(this.items.length-n.length)),l},Co.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},Co.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((function(i,s){if(s>=t)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(e.slice(n)),c=a&&a.getMap();if(n--,c&&e.appendMap(c,n),a){var p=i.selection&&i.selection.map(e.slice(n));p&&o++;var h,l=new To(c.invert(),a,p),u=r.length-1;(h=r.length&&r[u].merge(l))?r[u]=h:r.push(l)}}else i.map&&n--}),this.items.length,0),new Co(Oo.from(r.reverse()),o)},Co.empty=new Co(Oo.empty,0);var To=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};To.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new To(e.getMap().invert(),e,this.selection)}};var Do=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},No=20;function Eo(t){var e=[];return t.forEach((function(t,n,r,o){return e.push(r,o)})),e}function Ao(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function Io(t,e,n,r){var o=Po(e),i=_o.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(s){var a=s.selection.resolve(s.transform.doc),c=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),p=new Do(r?c:s.remaining,r?s.remaining:c,null,0);n(s.transform.setSelection(a).setMeta(_o,{redo:r,historyState:p}).scrollIntoView())}}var zo=!1,Ro=null;function Po(t){var e=t.plugins;if(Ro!=e){zo=!1,Ro=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){zo=!0;break}}return zo}var _o=new Ve("history"),Bo=new Ve("closeHistory");function Vo(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new Pe({key:_o,state:{init:function(){return new Do(Co.empty,Co.empty,null,0)},apply:function(e,n,r){return function(t,e,n,r){var o,i=n.getMeta(_o);if(i)return i.historyState;n.getMeta(Bo)&&(t=new Do(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(_o))return s.getMeta(_o).redo?new Do(t.done.addTransform(n,null,r,Po(e)),t.undone,Eo(n.mapping.maps[n.steps.length-1]),t.prevTime):new Do(t.done,t.undone.addTransform(n,null,r,Po(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new Do(t.done.rebased(n,o),t.undone.rebased(n,o),Ao(t.prevRanges,n.mapping),t.prevTime):new Do(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Ao(t.prevRanges,n.mapping),t.prevTime);var a=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)})),n}(n,t.prevRanges)),c=s?Ao(t.prevRanges,n.mapping):Eo(n.mapping.maps[n.steps.length-1]);return new Do(t.done.addTransform(n,a?e.selection.getBookmark():null,r,Po(e)),Co.empty,c,n.time)}(n,r,e,t)}},config:t})}var $o=function(t,e){var n;this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,r,o){var i=n;if(e[1]){var s=e[0].lastIndexOf(e[1]);i+=e[0].slice(s+e[1].length);var a=(r+=s)-o;a>0&&(i=e[0].slice(s-a,s)+i,r=o)}return t.tr.insertText(i,r,o)}):e};function Fo(t,e,n,r,o,i){if(t.composing)return!1;var s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;for(var c=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"￼")+r,p=0;p<o.length;p++){var h=o[p].match.exec(c),l=h&&o[p].handler(s,h,e-(h[0].length-r.length),n);if(l)return t.dispatch(l.setMeta(i,{transform:l,from:e,to:n,text:r})),!0}return!1}new $o(/--$/,"—");var Lo=new $o(/\.\.\.$/,"…"),jo=[new $o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new $o(/"$/,"”"),new $o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new $o(/'$/,"’")];var qo=["ol",0],Jo=["ul",0],Ho=["li",0],Wo={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1==t.attrs.order?qo:["ol",{start:t.attrs.order},0]}},Ko={parseDOM:[{tag:"ul"}],toDOM:function(){return Jo}},Uo={parseDOM:[{tag:"li"}],toDOM:function(){return Ho},defining:!0};function Go(t,e){return function(n,r){var o=n.selection,i=o.$from,s=o.$to,a=i.blockRange(s),c=!1,p=a;if(!a)return!1;if(a.depth>=2&&i.node(a.depth-1).type.compatibleContent(t)&&0==a.startIndex){if(0==i.index(a.depth-1))return!1;var h=n.doc.resolve(a.start-2);p=new U(h,h,a.depth),a.endIndex<a.parent.childCount&&(a=new U(i,n.doc.resolve(s.end(a.depth)),a.depth)),c=!0}var l=Zt(p,t,e,a);return!!l&&(r&&r(function(t,e,n,r,o){for(var i=T.empty,s=n.length-1;s>=0;s--)i=T.from(n[s].type.create(n[s].attrs,i));t.step(new Gt(e.start-(r?2:0),e.end,e.start,e.end,new R(i,0,0),n.length,!0));for(var a=0,c=0;c<n.length;c++)n[c].type==o&&(a=c+1);for(var p=n.length-a,h=e.start+n.length-(r?2:0),l=e.parent,u=e.startIndex,f=e.endIndex,d=!0;u<f;u++,d=!1)!d&&ee(t.doc,h,p)&&(t.split(h,p),h+=2*p),h+=l.child(u).nodeSize;return t}(n.tr,a,l,c,t).scrollIntoView()),!0)}}function Qo(t){return function(e,n){var r=e.selection,o=r.$from,i=r.$to,s=o.blockRange(i,(function(e){return e.childCount&&e.firstChild.type==t}));return!!s&&(!n||(o.node(s.depth-1).type==t?function(t,e,n,r){var o=t.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new Gt(i-1,s,i,s,new R(T.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new U(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));return e(o.lift(r,Xt(r)).scrollIntoView()),!0}(e,n,t,s):function(t,e,n){for(var r=t.tr,o=n.parent,i=n.end,s=n.endIndex-1,a=n.startIndex;s>a;s--)i-=o.child(s).nodeSize,r.delete(i-1,i+1);var c=r.doc.resolve(n.start),p=c.nodeAfter,h=0==n.startIndex,l=n.endIndex==o.childCount,u=c.node(-1),f=c.index(-1);if(!u.canReplace(f+(h?0:1),f+1,p.content.append(l?T.empty:T.from(o))))return!1;var d=c.pos,m=d+p.nodeSize;return r.step(new Gt(d-(h?1:0),m+(l?1:0),d+1,m-1,new R((h?T.empty:T.from(o.copy(T.empty))).append(l?T.empty:T.from(o.copy(T.empty))),h?0:1,l?0:1),h?0:1)),e(r.scrollIntoView()),!0}(e,n,s)))}}var Yo=["p",0],Xo=["blockquote",0],Zo=["hr"],ti=["pre",["code",0]],ei=["br"],ni=["em",0],ri=["strong",0],oi=["code",0],ii={link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM:function(t){var e=t.attrs;return["a",{href:e.href,title:e.title},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return ni}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!=t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}}],toDOM:function(){return ri}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return oi}}};new bt({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return Yo}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return Xo}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return Zo}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return ti}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM:function(t){var e=t.attrs;return["img",{src:e.src,alt:e.alt,title:e.title}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return ei}}},marks:ii});const si={content:"inline*",defining:!0,group:"block",toDOM:t=>["h1",{class:"sn-editor"},0],parseDOM:[{tag:"h1"}]},ai={content:"inline*",defining:!0,group:"block",toDOM:t=>["h2",{class:"sn-editor"},0],parseDOM:[{tag:"h2"}]},ci=new bt({nodes:{doc:{content:"block+",toDOM:t=>["main",{class:"sn-editor"},0],parseDOM:[{tag:"main"}]},paragraph:{content:"inline*",group:"block",marks:"_",toDOM:t=>["p",{class:"sn-editor"},0],parseDOM:[{tag:"p"}]},checklist_item:{attrs:{checked:{default:!1}},content:"inline*",defining:!0,group:"block",marks:"_",toDOM:t=>["div",{class:"checklist-item"},["input",Object.assign({type:"checkbox"},t.attrs.checked&&{checked:"true"})],["p",0]],parseDOM:[{contentElement:"p",tag:"div.checklist-item",getAttrs:t=>({checked:!!t.querySelector("input").checked})}]},unordered_list:Object.assign(Object.assign({},Ko),{content:"list_item+",group:"block"}),ordered_list:Object.assign(Object.assign({},Wo),{content:"list_item+",group:"block"}),list_item:Object.assign(Object.assign({},Uo),{content:"paragraph+"}),heading1:si,heading2:ai,text:{group:"inline"}},marks:{link:Object.assign(Object.assign({},ii.link),{inclusive:!1}),em:Object.assign(Object.assign({},ii.em),{inclusive:!1}),strong:Object.assign(Object.assign({},ii.strong),{inclusive:!1}),code:Object.assign(Object.assign({},ii.code),{inclusive:!1})}});function pi(t,e){return new $o(new RegExp(`${t}(.*?)${t}`),(t,n,r,o)=>{const[i,s]=n,{tr:a}=t;if(!s)return;const c=t.doc.resolve(r).marksAcross(t.doc.resolve(o));return a.replaceRangeWith(r,o,ci.text(s,[...c,e.create()]))})}function hi(t,e){return new $o(new RegExp(`^${t}`),(t,n,r,o)=>{const{$from:i}=t.selection;if(i.depth>1)return;const{tr:s}=t;return s.replaceRangeWith(r,o,e.createAndFill()),s.setSelection(ve.near(s.doc.resolve(r))),s})}const li=(ui={rules:[...jo,Lo,(mi=/^# /,vi=ci.nodes.heading2,new $o(mi,(function(t,e,n,r){var o=t.doc.resolve(n),i=gi instanceof Function?gi(e):gi;return o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),vi)?t.tr.delete(n,r).setBlockType(n,n,vi,i):null}))),pi("`",ci.marks.code),pi("\\*\\*",ci.marks.strong),pi("\\*",ci.marks.em),hi("1. ",ci.nodes.ordered_list),hi("- ",ci.nodes.unordered_list)]},fi=ui.rules,di=new Pe({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,e,n,r){return Fo(t,e,n,r,fi,di)},handleDOMEvents:{compositionend:function(t){setTimeout((function(){var e=t.state.selection.$cursor;e&&Fo(t,e.pos,e.pos,"",fi,di)}))}}},isInputRules:!0}));var ui,fi,di,mi,vi,gi;function yi(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function wi(t,e){for(;t;t="start"==e?t.firstChild:t.lastChild)if(t.isTextblock)return!0;return!1}function bi(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ki(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function xi(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Si(t,e){var n=t.selection,r=n.$from,o=n.$to;if(t.selection instanceof ke&&t.selection.node.isBlock)return!(!r.parentOffset||!ee(t.doc,r.pos))&&(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){var i=o.parentOffset==o.parent.content.size,s=t.tr;t.selection instanceof we&&s.deleteSelection();var a=0==r.depth?null:xi(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=i&&a?[{type:a}]:null,p=ee(s.doc,s.mapping.map(r.pos),1,c);c||p||!ee(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(c=[{type:a}],p=!0),p&&(s.split(s.mapping.map(r.pos),1,c),i||r.parentOffset||r.parent.type==a||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),T.from(a.create(),r.parent))||s.setNodeMarkup(s.mapping.map(r.before()),a)),e(s.scrollIntoView())}return!0}function Mi(t,e,n){var r,o,i=e.nodeBefore,s=e.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(function(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(i,i+1)||!o.isTextblock&&!ne(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0))}(t,e,n))return!0;if(e.parent.canReplace(e.index(),e.index()+1)&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){for(var a=e.pos+s.nodeSize,c=T.empty,p=r.length-1;p>=0;p--)c=T.from(r[p].create(null,c));c=T.from(i.copy(c));var h=t.tr.step(new Gt(e.pos-1,a,e.pos,a,new R(c,1,0),r.length,!0)),l=a+2*r.length;ne(h.doc,l)&&h.join(l),n(h.scrollIntoView())}return!0}var u=ve.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),d=f&&Xt(f);return null!=d&&d>=e.depth&&(n&&n(t.tr.lift(f,d).scrollIntoView()),!0)}function Oi(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}var Ci=Oi(yi,(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;var o=bi(r);if(!o){var i=r.blockRange(),s=i&&Xt(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}var a=o.nodeBefore;if(!a.type.spec.isolating&&Mi(t,o,e))return!0;if(0==r.parent.content.size&&(wi(a,"end")||ke.isSelectable(a))){if(e){var c=t.tr.deleteRange(r.before(),r.after());c.setSelection(wi(a,"end")?ve.findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):ke.create(c.doc,o.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos-a.nodeSize,o.pos).scrollIntoView()),!0)}),(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;var o=bi(r),i=o&&o.nodeBefore;return!(!i||!ke.isSelectable(i))&&(e&&e(t.tr.setSelection(ke.create(t.doc,o.pos-i.nodeSize)).scrollIntoView()),!0)})),Ti=Oi(yi,(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var o=ki(r);if(!o)return!1;var i=o.nodeAfter;if(Mi(t,o,e))return!0;if(0==r.parent.content.size&&(wi(i,"start")||ke.isSelectable(i))){if(e){var s=t.tr.deleteRange(r.before(),r.after());s.setSelection(wi(i,"start")?ve.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):ke.create(s.doc,s.mapping.map(o.pos))),e(s.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}),(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var o=ki(r),i=o&&o.nodeAfter;return!(!i||!ke.isSelectable(i))&&(e&&e(t.tr.setSelection(ke.create(t.doc,o.pos)).scrollIntoView()),!0)})),Di={Enter:Oi((function(t,e){var n=t.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}),(function(t,e){var n=t.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=xi(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(we.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}),(function(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(ee(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&Xt(o);return null!=i&&(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)}),Si),"Mod-Enter":function(t,e){var n=t.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),a=xi(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,a))return!1;if(e){var c=r.after(),p=t.tr.replaceWith(c,c,a.createAndFill());p.setSelection(ve.near(p.doc.resolve(c),1)),e(p.scrollIntoView())}return!0},Backspace:Ci,"Mod-Backspace":Ci,Delete:Ti,"Mod-Delete":Ti,"Mod-a":function(t,e){return e&&e(t.tr.setSelection(new Se(t.doc))),!0}},Ni={"Ctrl-h":Di.Backspace,"Alt-Backspace":Di["Mod-Backspace"],"Ctrl-d":Di.Delete,"Ctrl-Alt-Backspace":Di["Mod-Delete"],"Alt-Delete":Di["Mod-Delete"],"Alt-d":Di["Mod-Delete"]};for(var Ei in Di)Ni[Ei]=Di[Ei];var Ai=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?Ni:Di;class Ii extends Pe{constructor(t,e){super({view:n=>(this.view=n,this.modalEl=e,t.addEventListener("click",this.handleToolbarClick),{destroy(){t.removeEventListener("click",this.handleToolbarClick)},update:(e,n)=>{const r=this.getSelectedFormatAttrs(n);r&&r.forEach(e=>{const n=t.querySelector(`[data-format=${e}]`);n&&n.classList.remove("selected")});const o=this.getSelectedFormatAttrs(e.state);o&&o.forEach(e=>{const n=t.querySelector(`[data-format=${e}]`);n&&n.classList.add("selected")})}}),props:{handleKeyDown:(t,e)=>{const n=84===e.which,r=e.ctrlKey;if(n&&r)return this.toggleChecklistItem(),!0;const o=55===e.which,i=e.metaKey;if(o&&i)return this.toggleList(ci.nodes.unordered_list,ci.nodes.list_item),!0;if(85===e.which&&r)return this.toggleList(ci.nodes.unordered_list,ci.nodes.list_item),!0;if(79===e.which&&r)return this.toggleList(ci.nodes.ordered_list,ci.nodes.list_item),!0;if(187===e.which&&r)return this.promoteHeading(this.view.state,this.view.dispatch),!0;if(74===e.which&&r)return this.swapTextBlock(ci.nodes.paragraph),!0;const s=32===e.which;if(r&&s)return function(t,e){const{$from:n,$to:r}=t.selection,o=n.blockRange(r);let i=!1;for(let t=o.startIndex,e=o.parent.child(t);t<o.endIndex;t+=1){if(e.type!==ci.nodes.checklist_item)return!1;if(e.attrs.checked){i=!0;break}}if(!e)return!0;const{tr:s}=t;for(let t=o.startIndex,e=o.parent.child(t),n=o.start;t<o.endIndex;t+=1)s.setNodeMarkup(n,void 0,{checked:!i}),n+=e.nodeSize;return e(s),!0}(this.view.state,this.view.dispatch);const a=90===e.which;if(i&&a)return c=this.view.state,p=this.view.dispatch,!(!(h=_o.getState(c))||0==h.done.eventCount||(p&&Io(h,c,p,!1),0));var c,p,h;const l=89===e.which;if(i&&l)return function(t,e){var n=_o.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&Io(n,t,e,!0),!0)}(this.view.state,this.view.dispatch);const u=73===e.which;if(i&&u)return this.toggleMark(ci.marks.em),!0;const f=66===e.which;if(i&&f)return this.toggleMark(ci.marks.strong),!0;const d=222===e.which;if(i&&d)return this.toggleMark(ci.marks.code),!0;const m=75===e.which;return!(!i||!m)&&(this.activateLinkModal(this.view.state,this.view.dispatch),!0)}}}),this.swapTextBlock=t=>{let{dispatch:e,state:n}=this.view,{tr:r}=n;const{$from:o,$to:i,from:s,to:a}=n.selection;t!==ci.nodes.unordered_list&&Qo(ci.nodes.list_item)(n,e),({dispatch:e,state:n}=this.view),({tr:r}=n),r.setBlockType(s,a,t),e(r),this.view.focus()},this.promoteHeading=(t,e)=>{const{selection:n}=t;if(!n.empty)return;const{$from:{parent:{type:r}}}=n;let o;o=r===ci.nodes.heading2?ci.nodes.heading1:r===ci.nodes.heading1?ci.nodes.paragraph:ci.nodes.heading2,this.swapTextBlock(o)},this.toggleList=(t,e)=>{const{state:{selection:{$from:n,$to:r},tr:o}}=this.view;if(n.blockRange(r,e=>e.type===t)){const{dispatch:t,state:n}=this.view;Qo(e)(n,t)}else{const e=n.blockRange(r);for(let n=e.startIndex;n<e.endIndex;n+=1)if(e.parent.child(n).type===t)return;this.swapTextBlock(ci.nodes.paragraph);const{dispatch:o,state:i}=this.view;Go(t)(i,o)}},this.toggleChecklistItem=()=>{const{dispatch:t,state:e}=this.view,{doc:n,tr:r}=e,{$from:o,$to:i}=e.selection,s=o.blockRange(i);for(let t=s.startIndex;t<s.endIndex;t+=1)if(s.parent.child(t).type===ci.nodes.checklist_item)return void this.swapTextBlock(ci.nodes.paragraph);this.swapTextBlock(ci.nodes.checklist_item)},this.activateLinkModal=(t,e)=>{const{doc:n,selection:r}=t,{$from:o,$to:i}=r,s=o.marks().find(t=>t.type===ci.marks.link),a=i.marks().find(t=>t.type===ci.marks.link),c=s&&a;if(r.empty&&!c)return!1;if(s!==a)return!1;if(!e)return!0;const p=s;let h,l,u,f;if(p){const r=o.parent.nodeAt(o.parentOffset-o.textOffset);l=o.pos-o.textOffset,h=l+r.nodeSize,u=r.text,f=p.attrs.href;const i=new we(n.resolve(l),n.resolve(h));e(t.tr.setSelection(i))}else h=i.pos,l=o.pos,u=t.doc.textBetween(o.pos,i.pos),f="";new Ii.LinkModal(this.modalEl,{onConfirm:({text:t,url:e})=>{const n=ci.marks.link.create({href:e}),r=ci.text(t,[n]);this.view.dispatch(this.view.state.tr.replaceSelectionWith(r,!1))},text:u,url:f});return!0},this.toggleMark=t=>{var e,n;(e=t,function(t,r){var o=t.selection,i=o.empty,s=o.$cursor,a=o.ranges;if(i&&!s||!function(t,e,n){for(var r=function(r){var o=e[r],i=o.$from,s=o.$to,a=0==i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,s.pos,(function(t){if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)})),a)return{v:!0}},o=0;o<e.length;o++){var i=r(o);if(i)return i.v}return!1}(t.doc,a,e))return!1;if(r)if(s)e.isInSet(t.storedMarks||s.marks())?r(t.tr.removeStoredMark(e)):r(t.tr.addStoredMark(e.create(n)));else{for(var c=!1,p=t.tr,h=0;!c&&h<a.length;h++){var l=a[h],u=l.$from,f=l.$to;c=t.doc.rangeHasMark(u.pos,f.pos,e)}for(var d=0;d<a.length;d++){var m=a[d],v=m.$from,g=m.$to;c?p.removeMark(v.pos,g.pos,e):p.addMark(v.pos,g.pos,e.create(n))}r(p.scrollIntoView())}return!0})(this.view.state,this.view.dispatch),this.view.focus()},this.getSelectedFormatAndMarks=t=>{if(!t.selection)return;const e=[],{$from:n,$to:r,content:o}=t.selection,i=n.blockRange(r,t=>t.type!==ci.nodes.list_item);let s=null;for(let t=i.startIndex;t<i.endIndex;t+=1){const e=i.parent.child(t),n=e.type===ci.nodes.list_item?i.parent.type:e.type;if(null!==s){if(s!==n){s=null;break}}else s=n}e.push(s);const a=n.marksAcross(r);return a&&e.push(...a.map(t=>t.type)),e},this.getSelectedFormatAttrs=t=>{const[e,...n]=this.getSelectedFormatAndMarks(t),r=[];switch(e){case ci.nodes.heading1:case ci.nodes.heading2:r.push("heading");break;case ci.nodes.paragraph:r.push("paragraph");break;case ci.nodes.unordered_list:r.push("unordered_list");break;case ci.nodes.ordered_list:r.push("ordered_list");break;case ci.nodes.checklist_item:r.push("checklist_item");break;default:r.push(null)}return n.forEach(t=>{switch(t){case ci.marks.link:r.push("link");break;case ci.marks.em:r.push("em");break;case ci.marks.strong:r.push("strong");break;case ci.marks.code:r.push("code")}}),r},this.handleToolbarClick=t=>{const e=t.target.closest("[data-format]");e&&this.applyFormat(e.getAttribute("data-format"))},this.applyFormat=t=>{switch(t){case"paragraph":this.swapTextBlock(ci.nodes.paragraph);break;case"heading":this.promoteHeading(this.view.state,this.view.dispatch);break;case"unordered_list":this.toggleList(ci.nodes.unordered_list,ci.nodes.list_item);break;case"ordered_list":this.toggleList(ci.nodes.ordered_list,ci.nodes.list_item);break;case"checklist_item":this.toggleChecklistItem();break;case"strong":case"em":case"code":this.toggleMark(ci.marks[t]);break;case"link":this.activateLinkModal(this.view.state,this.view.dispatch)}}}}Ii.LinkModal=class{constructor(t,{onConfirm:e,text:n,url:r}){this.showCls="active",this.handleConfirm=()=>{this.onConfirm({text:this.textInput.value,url:this.urlInput.value}),this.destroy()},this.handleCancel=()=>{this.destroy()},this.handleGlobalKeydown=t=>{const e=13===t.which;if(document.activeElement===this.textInput||document.activeElement===this.urlInput&&e)return void this.handleConfirm();t.which;27===t.which&&this.handleCancel()},this.destroy=()=>{this.confirmBtn.removeEventListener("click",this.handleConfirm),this.cancelBtn.removeEventListener("click",this.handleCancel),document.removeEventListener("keydown",this.handleGlobalKeydown),this.el.classList.remove(this.showCls)},this.el=t,this.textInput.value=this.text=n,this.urlInput.value=this.url=r,this.urlOpenLink.href=r,this.onConfirm=e,this.el.classList.add(this.showCls),this.confirmBtn.addEventListener("click",this.handleConfirm),this.cancelBtn.addEventListener("click",this.handleCancel),document.addEventListener("keydown",this.handleGlobalKeydown),this.urlInput.focus()}get textInput(){return this.el.querySelector("input#text")}get urlInput(){return this.el.querySelector("input#url")}get urlOpenLink(){return this.el.querySelector("label[for=url] a")}get confirmBtn(){return this.el.querySelector("button#confirm")}get cancelBtn(){return this.el.querySelector("button#cancel")}};var zi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Ri=new Uint8Array(16);function Pi(){if(!zi)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zi(Ri)}for(var _i=[],Bi=0;Bi<256;++Bi)_i[Bi]=(Bi+256).toString(16).substr(1);var Vi=function(t,e){var n=e||0,r=_i;return[r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]]].join("")};var $i=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||Pi)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[r+i]=o[i];return e||Vi(o)},Fi=n(11),Li=n.n(Fi);function ji(t){return t&&t.content&&t.content["com.dylanonelson.sn-editor"]||null}function qi(t){return t?t.uuid:null}class Ji{constructor(){let t;this._item=null,this.shouldCallListeners=(t,e)=>!t.isMetadataUpdate&&(qi(t)!==qi(e)||function(t){const e=ji(t);return e&&e.lastSavedBy?e.lastSavedBy:null}(t)!==this._id),this._id=$i(),this._listeners=[],this._ready=new Promise(e=>{t=e}),this.componentManager=new Li.a([{name:"stream-context-item"}],()=>{this.componentManager.streamContextItem(e=>{console.debug("streamContextItem update:",e);const n=this.shouldCallListeners(e,this._item);this._item=e,n&&this._listeners.forEach(t=>{t(e)}),t()})})}get latestDoc(){return function(t){const e=ji(t);return e&&e.doc?e.doc:null}(this._item)}onUpdate(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>e!==t)}}ready(){return this._ready}saveNote(t){const e=Object.assign(Object.assign({},this._item),{content:Object.assign(Object.assign({},this._item.content),{"com.dylanonelson.sn-editor":{doc:t,lastSavedBy:this._id}})});this.componentManager.saveItemWithPresave(e)}}Ji.SN_ITEM_SAVE_KEY="com.dylanonelson.sn-editor",Ji.itemSelectors={};const Hi=new Ji,Wi={checklist_item(t,e,n){const r=document.createElement("div");r.classList.add("checklist-item");const i=document.createElement("span");i.classList.add("checkbox"),t.attrs.checked?(i.classList.add("is-checked"),i.innerHTML=o.a):i.innerHTML=s.a,i.contentEditable="false";const a=document.createElement("p");r.appendChild(i),r.appendChild(a);const c=t=>{const{relatedTarget:n,target:r}=t;n===i&&r===e.dom&&e.focus()},p=t=>{if(!1===i.contains(t.target))return;const r=i.classList.contains("is-checked"),{tr:o}=e.state,s=n();o.setNodeMarkup(s,void 0,{checked:!r}),e.dispatch(o)};return e.dom.addEventListener("blur",c),e.dom.addEventListener("click",p),{dom:r,contentDOM:a,destroy(){e.dom.removeEventListener("blur",c),e.dom.removeEventListener("click",p)}}}};for(var Ki={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Ui=Ki,Gi={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:";",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Qi="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Yi="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Xi="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),Zi="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ts="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),es=Qi&&(Zi||+Qi[1]<57)||Xi&&Zi,ns=0;ns<10;ns++)Ki[48+ns]=Ki[96+ns]=String(ns);for(ns=1;ns<=24;ns++)Ki[ns+111]="F"+ns;for(ns=65;ns<=90;ns++)Ki[ns]=String.fromCharCode(ns+32),Gi[ns]=String.fromCharCode(ns);for(var rs in Ki)Gi.hasOwnProperty(rs)||(Gi[rs]=Ki[rs]);var is=function(t){var e=!(es&&(t.ctrlKey||t.altKey||t.metaKey)||(Yi||ts)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?Gi:Ki)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e},ss="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function as(t){var e,n,r,o,i=t.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(var a=0;a<i.length-1;a++){var c=i[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))e=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))r=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);ss?o=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function cs(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function ps(t){return new Pe({props:{handleKeyDown:hs(t)}})}function hs(t){var e=function(t){var e=Object.create(null);for(var n in t)e[as(n)]=t[n];return e}(t);return function(t,n){var r,o=is(n),i=1==o.length&&" "!=o,s=e[cs(o,n,!i)];if(s&&s(t.state,t.dispatch,t))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey)&&(r=Ui[n.keyCode])&&r!=o){var a=e[cs(r,n,!0)];if(a&&a(t.state,t.dispatch,t))return!0}else if(i&&n.shiftKey){var c=e[cs(o,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}return!1}}const ls=[ps({Enter:(us=ci.nodes.list_item,function(t,e){var n=t.selection,r=n.$from,o=n.$to,i=n.node;if(i&&i.isBlock||r.depth<2||!r.sameParent(o))return!1;var s=r.node(-1);if(s.type!=us)return!1;if(0==r.parent.content.size){if(2==r.depth||r.node(-3).type!=us||r.index(-2)!=r.node(-2).childCount-1)return!1;if(e){for(var a=T.empty,c=r.index(-1)>0,p=r.depth-(c?1:2);p>=r.depth-3;p--)a=T.from(r.node(p).copy(a));a=a.append(T.from(us.createAndFill()));var h=t.tr.replace(r.before(c?null:-1),r.after(-3),new R(a,c?3:2,2));h.setSelection(t.selection.constructor.near(h.doc.resolve(r.pos+(c?3:2)))),e(h.scrollIntoView())}return!0}var l=o.pos==r.end()?s.contentMatchAt(0).defaultType:null,u=t.tr.delete(r.pos,o.pos),f=l&&[null,{type:l}];return!!ee(u.doc,r.pos,2,f)&&(e&&e(u.split(r.pos,2,f).scrollIntoView()),!0)})}),ps({Enter(t,e){const{selection:{$from:n,from:r},tr:o}=t;if(n.parent.type!==ci.nodes.checklist_item)return!1;o.deleteSelection();const i=o.doc.resolve(r);if(2===i.parent.nodeSize){const t=i.pos;return o.replaceWith(t-1,t+1,ci.nodes.paragraph.createAndFill()),e(o),!0}return o.split(r,void 0,[{type:ci.nodes.checklist_item,attrs:{checked:!1}}]),e(o),!0}}),ps(Ai)];var us,fs=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};function ds(){return Hi.latestDoc?ci.nodeFromJSON(Hi.latestDoc):ci.topNodeType.createAndFill()}!function(){fs(this,void 0,void 0,(function*(){yield Hi.ready();const t=window.view=new vo(document.querySelector("#editor"),{state:Ie.create({doc:ds(),plugins:[...ls,new Ii(document.querySelector("#toolbar"),document.querySelector("#link-modal")),new Pe({props:{nodeViews:Wi}}),li,Vo()]}),dispatchTransaction(e){const n=t.state.apply(e);t.updateState(n),Hi.saveNote(n.doc.toJSON())}});Hi.onUpdate(e=>{t.setProps({state:Ie.create({doc:ds(),plugins:t.state.plugins})})})}))}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jaGVja19ib3gtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jaGVja19ib3hfb3V0bGluZV9ibGFuay0yNHB4LnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2NvZGUtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9mb3JtYXRfYm9sZC0yNHB4LnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2Zvcm1hdF9pdGFsaWMtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9mb3JtYXRfbGlzdF9idWxsZXRlZC0yNHB4LnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2Zvcm1hdF9saXN0X251bWJlcmVkLTI0cHguc3ZnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvZm9ybWF0X3NpemUtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9saW5rLTI0cHguc3ZnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvbm90ZXMtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9vcGVuX2luX25ldy0yNHB4LnN2ZyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbXBvbmVudE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb3NlbWlycm9yLXZpZXcvc3R5bGUvcHJvc2VtaXJyb3IuY3NzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5odG1sIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMuY3NzIiwid2VicGFjazovLy8uL3NyYy9leHQuanNvbiIsIndlYnBhY2s6Ly8vLi9zcmMvZGV2LWV4dC5qc29uIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vcmRlcmVkbWFwL2luZGV4LmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdmdzLnRzIiwid2VicGFjazovLy8uLi9zcmMvZnJhZ21lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kaWZmLmpzIiwid2VicGFjazovLy8uLi9zcmMvY29tcGFyZWRlZXAuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tYXJrLmpzIiwid2VicGFjazovLy8uLi9zcmMvcmVwbGFjZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3Jlc29sdmVkcG9zLmpzIiwid2VicGFjazovLy8uLi9zcmMvbm9kZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zY2hlbWEuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9mcm9tX2RvbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RvX2RvbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL21hcC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3N0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZXBsYWNlX3N0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zdHJ1Y3R1cmUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tYXJrX3N0ZXAuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zZWxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy90cmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3N0YXRlLmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLmpzIiwid2VicGFjazovLy8uLi9zcmMvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RvbWNvb3Jkcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3ZpZXdkZXNjLmpzIiwid2VicGFjazovLy8uLi9zcmMvY2FwdHVyZWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kb21jaGFuZ2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jbGlwYm9hcmQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kb21vYnNlcnZlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2lucHV0LmpzIiwid2VicGFjazovLy8uLi9zcmMvZGVjb3JhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yb3BlLXNlcXVlbmNlL2Rpc3QvaW5kZXguZXMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9oaXN0b3J5LmpzIiwid2VicGFjazovLy8uLi9zcmMvaW5wdXRydWxlcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3J1bGVzLmpzIiwid2VicGFjazovLy8uLi9zcmMvc2NoZW1hLWxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zY2hlbWEtYmFzaWMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjaGVtYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5wdXRSdWxlcy50cyIsIndlYnBhY2s6Ly8vLi4vc3JjL3J1bGVidWlsZGVycy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbW1hbmRzLmpzIiwid2VicGFjazovLy8uL3NyYy9Ub29sYmFyUGx1Z2luLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvYnl0ZXNUb1V1aWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2xpZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9ub2RlVmlld3MudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3czYy1rZXluYW1lL2luZGV4LmVzLmpzIiwid2VicGFjazovLy8uLi9zcmMva2V5bWFwLmpzIiwid2VicGFjazovLy8uL3NyYy9rZXltYXBzLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkNvbXBvbmVudE1hbmFnZXIiLCJwZXJtaXNzaW9ucyIsIm9uUmVhZHkiLCJ0aGlzIiwic2VudE1lc3NhZ2VzIiwibWVzc2FnZVF1ZXVlIiwibG9nZ2luZ0VuYWJsZWQiLCJhY2NlcHRzVGhlbWVzIiwiYWN0aXZlVGhlbWVzIiwiaW5pdGlhbFBlcm1pc3Npb25zIiwib25SZWFkeUNhbGxiYWNrIiwiY29hbGxlc2VkU2F2aW5nIiwiY29hbGxlc2VkU2F2aW5nRGVsYXkiLCJyZWdpc3Rlck1lc3NhZ2VIYW5kbGVyIiwibWVzc2FnZUhhbmRsZXIiLCJldmVudCIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwiZG9jdW1lbnQiLCJyZWZlcnJlciIsIlVSTCIsIm9yaWdpbiIsInBhcnNlZERhdGEiLCJKU09OIiwicGFyc2UiLCJoYW5kbGVNZXNzYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsInBheWxvYWQiLCJhY3Rpb24iLCJzZXNzaW9uS2V5IiwiY29tcG9uZW50RGF0YSIsImFjdGl2YXRlVGhlbWVzIiwidGhlbWVzIiwib3JpZ2luYWwiLCJvcmlnaW5hbE1lc3NhZ2UiLCJmaWx0ZXIiLCJtZXNzYWdlIiwibWVzc2FnZUlkIiwiYWxlcnQiLCJjYWxsYmFjayIsImVudmlyb25tZW50IiwicGxhdGZvcm0iLCJ1dWlkIiwiaXNNb2JpbGUiLCJsZW5ndGgiLCJyZXF1ZXN0UGVybWlzc2lvbnMiLCJwb3N0TWVzc2FnZSIsImFjdGl2ZVRoZW1lVXJscyIsImdlbmVyYXRlVVVJRCIsImFwaSIsInNlbnRNZXNzYWdlIiwic3RyaW5naWZ5IiwicHVzaCIsInBhcmVudCIsInR5cGUiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRlbnRUeXBlcyIsIkFycmF5IiwiaXNBcnJheSIsImNvbnRlbnRfdHlwZXMiLCJpdGVtcyIsIml0ZW0iLCJsYXN0U3RyZWFtZWRJdGVtIiwicGVuZGluZ1NhdmVUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiX3BlcmZvcm1TYXZpbmdPZkl0ZW1zIiwicGVuZGluZ1NhdmVQYXJhbXMiLCJqc29uT2JqZWN0Rm9ySXRlbSIsImFzc29jaWF0ZUl0ZW0iLCJtYXBwZWQiLCJtYXAiLCJjb250ZW50X3R5cGUiLCJkZWxldGVJdGVtcyIsInBhcmFtcyIsInNraXBEZWJvdW5jZXIiLCJzYXZlSXRlbXMiLCJwcmVzYXZlIiwic2F2ZUl0ZW1zV2l0aFByZXNhdmUiLCJtYXBwZWRJdGVtcyIsInBlbmRpbmdTYXZlSXRlbXMiLCJpbmNvbWluZ0lkcyIsInByZWV4aXN0aW5nSXRlbXMiLCJpbmNsdWRlcyIsImNvbmNhdCIsInNldFRpbWVvdXQiLCJjb3B5IiwiYXNzaWduIiwiY2hpbGRyZW4iLCJjb250ZW50IiwiYXBwRGF0YSIsImluY29taW5nVXJscyIsInNvcnQiLCJ0b1N0cmluZyIsInRoZW1lc1RvQWN0aXZhdGUiLCJ0aGVtZXNUb0RlYWN0aXZhdGUiLCJhY3RpdmVVcmwiLCJjYW5kaWRhdGUiLCJ0aGVtZSIsImRlYWN0aXZhdGVUaGVtZSIsInVybCIsImxpbmsiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJidG9hIiwiaHJlZiIsInJlbCIsIm1lZGlhIiwiY2xhc3NOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhcHBlbmRDaGlsZCIsImZyb20iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwic2xpY2UiLCJmaW5kIiwiZWxlbWVudCIsInRoZW1lRWxlbWVudEZvclVybCIsImRpc2FibGVkIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiY3J5cHRvIiwibXNDcnlwdG8iLCJidWYiLCJVaW50MzJBcnJheSIsImdldFJhbmRvbVZhbHVlcyIsImlkeCIsInJlcGxhY2UiLCJEYXRlIiwiZ2V0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsImZsb29yIiwiT3JkZXJlZE1hcCIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lckhUTUwiLCJjb25zdHJ1Y3RvciIsImZvdW5kIiwidW5kZWZpbmVkIiwidXBkYXRlIiwibmV3S2V5Iiwic2VsZiIsInJlbW92ZSIsInNwbGljZSIsImFkZFRvU3RhcnQiLCJhZGRUb0VuZCIsImFkZEJlZm9yZSIsInBsYWNlIiwid2l0aG91dCIsImZvckVhY2giLCJmIiwicHJlcGVuZCIsInNpemUiLCJzdWJ0cmFjdCIsImFwcGVuZCIsInJlc3VsdCIsInByb3AiLCJGcmFnbWVudCIsImxldCIsIm5vZGVTaXplIiwibm9kZXNCZXR3ZWVuIiwidG8iLCJub2RlU3RhcnQiLCJwb3MiLCJjaGlsZCIsImVuZCIsInN0YXJ0IiwibWF4IiwibWluIiwiZGVzY2VuZGFudHMiLCJ0ZXh0QmV0d2VlbiIsImJsb2NrU2VwYXJhdG9yIiwibGVhZlRleHQiLCJ0ZXh0Iiwic2VwYXJhdGVkIiwibm9kZSIsImlzVGV4dCIsImlzTGVhZiIsImlzQmxvY2siLCJvdGhlciIsImxhc3QiLCJsYXN0Q2hpbGQiLCJmaXJzdCIsImZpcnN0Q2hpbGQiLCJzYW1lTWFya3VwIiwid2l0aFRleHQiLCJjdXQiLCJjdXRCeUluZGV4IiwiZW1wdHkiLCJyZXBsYWNlQ2hpbGQiLCJpbmRleCIsImN1cnJlbnQiLCJlcSIsImNoaWxkQ291bnQiLCJSYW5nZUVycm9yIiwibWF5YmVDaGlsZCIsImZpbmREaWZmU3RhcnQiLCJhIiwiYiIsImNoaWxkQSIsImNoaWxkQiIsImoiLCJpbm5lciIsImZpbmREaWZmRW5kIiwib3RoZXJQb3MiLCJwb3NBIiwicG9zQiIsImlBIiwiaUIiLCJzYW1lIiwibWluU2l6ZSIsImZpbmRJbmRleCIsInJvdW5kIiwicmV0SW5kZXgiLCJjdXJQb3MiLCJ0b1N0cmluZ0lubmVyIiwiam9pbiIsInRvSlNPTiIsImZyb21KU09OIiwic2NoZW1hIiwibm9kZUZyb21KU09OIiwiZnJvbUFycmF5IiwiYXJyYXkiLCJqb2luZWQiLCJub2RlcyIsImF0dHJzIiwiY29uc3QiLCJvZmZzZXQiLCJjb21wYXJlRGVlcCIsIiRmcm9tIiwicHJvdG90eXBlQWNjZXNzb3JzIiwiUmVzb2x2ZWRQb3MiLCJwYXRoIiwicGFyZW50T2Zmc2V0IiwiZGVwdGgiLCJyZXNvbHZlRGVwdGgiLCJ2YWwiLCJkb2MiLCJpbmRleEFmdGVyIiwidGV4dE9mZnNldCIsImJlZm9yZSIsImFmdGVyIiwibm9kZUFmdGVyIiwiZE9mZiIsIm5vZGVCZWZvcmUiLCJtYXJrcyIsIk1hcmsiLCJub25lIiwibWFpbiIsInRtcCIsInNwZWMiLCJpbmNsdXNpdmUiLCJpc0luU2V0IiwicmVtb3ZlRnJvbVNldCIsIm1hcmtzQWNyb3NzIiwiJGVuZCIsImlzSW5saW5lIiwibmV4dCIsInNoYXJlZERlcHRoIiwiYmxvY2tSYW5nZSIsInByZWQiLCJpbmxpbmVDb250ZW50IiwiTm9kZVJhbmdlIiwic2FtZVBhcmVudCIsInN0ciIsInJlc29sdmUiLCJyZW0iLCJyZXNvbHZlQ2FjaGVkIiwicmVzb2x2ZUNhY2hlIiwiY2FjaGVkIiwicmVzb2x2ZUNhY2hlUG9zIiwicmVzb2x2ZUNhY2hlU2l6ZSIsIiR0byIsInByb3RvdHlwZUFjY2Vzc29ycyQxIiwic3RhcnRJbmRleCIsImVuZEluZGV4IiwiZW1wdHlBdHRycyIsIk5vZGUiLCJzdGFydFBvcyIsInRleHRDb250ZW50IiwiaGFzTWFya3VwIiwiZGVmYXVsdEF0dHJzIiwic2FtZVNldCIsIm1hcmsiLCJpbmNsdWRlUGFyZW50cyIsIlNsaWNlIiwibm9kZUF0IiwiY2hpbGRBZnRlciIsImNoaWxkQmVmb3JlIiwicmVzb2x2ZU5vQ2FjaGUiLCJyYW5nZUhhc01hcmsiLCJpc1RleHRibG9jayIsImlzQXRvbSIsInRvRGVidWdTdHJpbmciLCJ3cmFwTWFya3MiLCJjb250ZW50TWF0Y2hBdCIsIm1hdGNoIiwiY29udGVudE1hdGNoIiwibWF0Y2hGcmFnbWVudCIsIkVycm9yIiwiY2FuUmVwbGFjZSIsInJlcGxhY2VtZW50Iiwib25lIiwidHdvIiwidmFsaWRFbmQiLCJhbGxvd3NNYXJrcyIsImNhblJlcGxhY2VXaXRoIiwibWF0Y2hUeXBlIiwiY2FuQXBwZW5kIiwiY29tcGF0aWJsZUNvbnRlbnQiLCJjaGVjayIsInZhbGlkQ29udGVudCIsIm9iaiIsIl8iLCJqc29uIiwibWFya0Zyb21KU09OIiwibm9kZVR5cGUiLCJUZXh0Tm9kZSIsInN1cGVyIiwiYmFzZSIsIkNvbnRlbnRNYXRjaCIsIndyYXBDYWNoZSIsInN0cmluZyIsIm5vZGVUeXBlcyIsInN0cmVhbSIsIlRva2VuU3RyZWFtIiwiZXhwciIsInBhcnNlRXhwciIsImVyciIsIm5mYSIsImxhYmVsZWQiLCJleHBsb3JlIiwic3RhdGVzIiwib3V0IiwidGVybSIsImtub3duIiwiaW5kZXhPZiIsInNldCIsIm51bGxGcm9tIiwic3RhdGUiLCJjbXAiLCJkZmEiLCJjb25uZWN0IiwiY29tcGlsZSIsImV4cHJzIiwicmVkdWNlIiwibG9vcCIsImVkZ2UiLCJjdXIiLCJlZGdlcyIsIndvcmsiLCJkZWFkIiwiaGFzUmVxdWlyZWRBdHRycyIsImNoZWNrRm9yRGVhZEVuZHMiLCJmcmFnIiwiZGVmYXVsdFR5cGUiLCJjb21wYXRpYmxlIiwiZmlsbEJlZm9yZSIsInRvRW5kIiwic2VlbiIsInNlYXJjaCIsInR5cGVzIiwiZmluaXNoZWQiLCJ0cCIsImNyZWF0ZUFuZEZpbGwiLCJmaW5kV3JhcHBpbmciLCJ0YXJnZXQiLCJjb21wdXRlZCIsImNvbXB1dGVXcmFwcGluZyIsImFjdGl2ZSIsInZpYSIsInNoaWZ0IiwicmV2ZXJzZSIsImVkZ2VDb3VudCIsInNjYW4iLCJpbmxpbmUiLCJ0b2tlbnMiLCJzcGxpdCIsInBvcCIsInVuc2hpZnQiLCJwYXJzZUV4cHJTZXEiLCJlYXQiLCJwYXJzZUV4cHJTdWJzY3JpcHQiLCJ0ZXN0IiwidHlwZU5hbWUiLCJncm91cHMiLCJyZXNvbHZlTmFtZSIsInBhcnNlRXhwckF0b20iLCJwYXJzZUV4cHJSYW5nZSIsInBhcnNlTnVtIiwiTnVtYmVyIiwiZGVmYXVsdHMiLCJhdHRyTmFtZSIsImF0dHIiLCJoYXNEZWZhdWx0IiwiZGVmYXVsdCIsImNvbXB1dGVBdHRycyIsImJ1aWx0IiwiZ2l2ZW4iLCJpbml0QXR0cnMiLCJBdHRyaWJ1dGUiLCJ0b2siLCJTeW50YXhFcnJvciIsIk5vZGVUeXBlIiwiZ3JvdXAiLCJtYXJrU2V0IiwiYXRvbSIsImlzUmVxdWlyZWQiLCJzZXRGcm9tIiwiY3JlYXRlQ2hlY2tlZCIsImFsbG93c01hcmtUeXBlIiwibWFya1R5cGUiLCJhbGxvd2VkTWFya3MiLCJ0b3BUeXBlIiwidG9wTm9kZSIsIm9wdGlvbnMiLCJNYXJrVHlwZSIsInJhbmsiLCJleGNsdWRlZCIsImluc3RhbmNlIiwiZXhjbHVkZXMiLCJjb250ZW50RXhwckNhY2hlIiwiY29udGVudEV4cHIiLCJtYXJrRXhwciIsImdhdGhlck1hcmtzIiwiZXhjbCIsInRvcE5vZGVUeXBlIiwid3JhcHBpbmdzIiwib2siLCJET01QYXJzZXIiLCJydWxlcyIsInRhZ3MiLCJzdHlsZXMiLCJydWxlIiwidGFnIiwic3R5bGUiLCJkb20iLCJjb250ZXh0IiwiUGFyc2VDb250ZXh0IiwiYWRkQWxsIiwiZmluaXNoIiwicGFyc2VTbGljZSIsIm1heE9wZW4iLCJtYXRjaFRhZyIsIm1hdGNoZXMiLCJuYW1lc3BhY2UiLCJuYW1lc3BhY2VVUkkiLCJtYXRjaGVzQ29udGV4dCIsImdldEF0dHJzIiwibWF0Y2hTdHlsZSIsImNoYXJDb2RlQXQiLCJzY2hlbWFSdWxlcyIsImluc2VydCIsInByaW9yaXR5IiwicGFyc2VET00iLCJmcm9tU2NoZW1hIiwiZG9tUGFyc2VyIiwiYmxvY2tUYWdzIiwiYWRkcmVzcyIsImFydGljbGUiLCJhc2lkZSIsImJsb2NrcXVvdGUiLCJjYW52YXMiLCJkZCIsImRpdiIsImRsIiwiZmllbGRzZXQiLCJmaWdjYXB0aW9uIiwiZmlndXJlIiwiZm9vdGVyIiwiZm9ybSIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsImhlYWRlciIsImhncm91cCIsImhyIiwibGkiLCJub3NjcmlwdCIsIm9sIiwib3V0cHV0IiwicHJlIiwic2VjdGlvbiIsInRhYmxlIiwidGZvb3QiLCJ1bCIsImlnbm9yZVRhZ3MiLCJoZWFkIiwic2NyaXB0IiwidGl0bGUiLCJsaXN0VGFncyIsIndzT3B0aW9uc0ZvciIsInByZXNlcnZlV2hpdGVzcGFjZSIsIk5vZGVDb250ZXh0IiwicGVuZGluZ01hcmtzIiwic29saWQiLCJhY3RpdmVNYXJrcyIsImZpbGwiLCJ3cmFwIiwib3BlbkVuZCIsImV4ZWMiLCJhcHBseVBlbmRpbmciLCJuZXh0VHlwZSIsInBlbmRpbmciLCJtYXJrTWF5QXBwbHkiLCJhZGRUb1NldCIsInBhcnNlciIsIm9wZW4iLCJpc09wZW4iLCJ0b3BDb250ZXh0IiwidG9wT3B0aW9ucyIsInRvcE1hdGNoIiwiZmluZFBvc2l0aW9ucyIsIm5lZWRzQmxvY2siLCJzZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwidG9wIiwiYWRkRE9NIiwiYWRkVGV4dE5vZGUiLCJnZXRBdHRyaWJ1dGUiLCJyZWFkU3R5bGVzIiwicmUiLCJ0cmltIiwicGFyc2VTdHlsZXMiLCJhZGRQZW5kaW5nTWFyayIsImFkZEVsZW1lbnQiLCJyZW1vdmVQZW5kaW5nTWFyayIsIm5vZGVWYWx1ZSIsImRvbU5vZGVCZWZvcmUiLCJwcmV2aW91c1NpYmxpbmciLCJub2RlTmFtZSIsImluc2VydE5vZGUiLCJmaW5kSW5UZXh0IiwiZmluZEluc2lkZSIsInRvTG93ZXJDYXNlIiwicHJldkl0ZW0iLCJuZXh0U2libGluZyIsIm5vcm1hbGl6ZUxpc3QiLCJydWxlRnJvbU5vZGUiLCJpZ25vcmUiLCJza2lwIiwic3luYyIsIm9sZE5lZWRzQmxvY2siLCJsZWFmRmFsbGJhY2siLCJhZGRFbGVtZW50QnlSdWxlIiwib3duZXJEb2N1bWVudCIsImNyZWF0ZVRleHROb2RlIiwiZW50ZXIiLCJzdGFydEluIiwiZ2V0Q29udGVudCIsImNvbnRlbnRET00iLCJjb250ZW50RWxlbWVudCIsImZpbmRBcm91bmQiLCJjaGlsZE5vZGVzIiwiZmluZEF0UG9pbnQiLCJmaW5kUGxhY2UiLCJyb3V0ZSIsImN4IiwiZW50ZXJJbm5lciIsImJsb2NrIiwidGV4dGJsb2NrRnJvbUNvbnRleHQiLCJjbG9zZUV4dHJhIiwicHJlc2VydmVXUyIsInRvcE9wZW4iLCJjdXJyZW50UG9zIiwiY29udGFpbnMiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsInRleHROb2RlIiwic29tZSIsInBhcnRzIiwib3B0aW9uIiwidXNlUm9vdCIsIm1pbkRlcHRoIiwicGFydCIsIiRjb250ZXh0IiwiZGVmbHQiLCJ1cHRvIiwibGV2ZWwiLCJsYXN0SW5kZXhPZiIsIkRPTVNlcmlhbGl6ZXIiLCJnYXRoZXJUb0RPTSIsInRvRE9NIiwic2VyaWFsaXplRnJhZ21lbnQiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJrZWVwIiwicmVuZGVyZWQiLCJzcGFubmluZyIsImFkZCIsIm1hcmtET00iLCJzZXJpYWxpemVNYXJrIiwic2VyaWFsaXplTm9kZSIsInJlbmRlclNwZWMiLCJvbkNvbnRlbnQiLCJzZXJpYWxpemVOb2RlQW5kTWFya3MiLCJzdHJ1Y3R1cmUiLCJ4bWxOUyIsInRhZ05hbWUiLCJzcGFjZSIsImNyZWF0ZUVsZW1lbnROUyIsInNldEF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlIiwiaW5uZXJDb250ZW50IiwiZG9tU2VyaWFsaXplciIsIm5vZGVzRnJvbVNjaGVtYSIsIm1hcmtzRnJvbVNjaGVtYSIsImZhY3RvcjE2IiwicG93IiwicmVjb3ZlckluZGV4IiwiTWFwUmVzdWx0IiwiZGVsZXRlZCIsInJlY292ZXIiLCJTdGVwTWFwIiwicmFuZ2VzIiwiaW52ZXJ0ZWQiLCJkaWZmIiwicmVjb3Zlck9mZnNldCIsIm1hcFJlc3VsdCIsImFzc29jIiwiX21hcCIsInNpbXBsZSIsIm9sZEluZGV4IiwibmV3SW5kZXgiLCJvbGRTaXplIiwibmV3U2l6ZSIsInRvdWNoZXMiLCJvbGRTdGFydCIsIm5ld1N0YXJ0IiwiaW52ZXJ0IiwiTWFwcGluZyIsIm1hcHMiLCJtaXJyb3IiLCJUcmFuc2Zvcm1FcnJvciIsIl9fcHJvdG9fXyIsImFwcGVuZE1hcCIsIm1pcnJvcnMiLCJzZXRNaXJyb3IiLCJhcHBlbmRNYXBwaW5nIiwibWFwcGluZyIsInN0YXJ0U2l6ZSIsIm1pcnIiLCJnZXRNaXJyb3IiLCJhcHBlbmRNYXBwaW5nSW52ZXJ0ZWQiLCJ0b3RhbFNpemUiLCJpbnZlcnNlIiwicmVjb3ZlcmFibGVzIiwicmVjIiwiY29yciIsInN0ZXBzIiwiZG9jcyIsIm11c3RPdmVycmlkZSIsInN0ZXAiLCJtYXliZVN0ZXAiLCJmYWlsZWQiLCJhcHBseSIsImFkZFN0ZXAiLCJkb2NDaGFuZ2VkIiwiZ2V0TWFwIiwic3RlcHNCeUlEIiwiX2RvYyIsIl9tYXBwaW5nIiwibWVyZ2UiLCJfb3RoZXIiLCJzdGVwVHlwZSIsImpzb25JRCIsInN0ZXBDbGFzcyIsIlN0ZXBSZXN1bHQiLCJmYWlsIiwiZnJvbVJlcGxhY2UiLCJlIiwiUmVwbGFjZUVycm9yIiwiY29udGVudEJldHdlZW4iLCJSZXBsYWNlU3RlcCIsIm9wZW5TdGFydCIsImdhcEZyb20iLCJnYXBUbyIsImdhcCIsImluc2VydGVkIiwiaW5zZXJ0QXQiLCJSZXBsYWNlQXJvdW5kU3RlcCIsInJlbW92ZUJldHdlZW4iLCJkaXN0IiwiY2FuQ3V0IiwibGlmdFRhcmdldCIsInJhbmdlIiwiaXNvbGF0aW5nIiwiaW5uZXJSYW5nZSIsImFyb3VuZCIsIm91dGVyIiwiZmluZFdyYXBwaW5nT3V0c2lkZSIsImluc2lkZSIsImlubmVyTWF0Y2giLCJmaW5kV3JhcHBpbmdJbnNpZGUiLCJ3aXRoQXR0cnMiLCJjYW5TcGxpdCIsInR5cGVzQWZ0ZXIiLCIkcG9zIiwiaW5uZXJUeXBlIiwicmVzdCIsImJhc2VUeXBlIiwiY2FuSm9pbiIsIm1hcEZyYWdtZW50IiwibGlmdCIsImdhcFN0YXJ0IiwiZ2FwRW5kIiwic3BsaXR0aW5nIiwid3JhcHBlcnMiLCJzZXRCbG9ja1R5cGUiLCJtYXBGcm9tIiwiY2FuQ2hhbmdlVHlwZSIsImNsZWFySW5jb21wYXRpYmxlIiwic3RhcnRNIiwiZW5kTSIsInNldE5vZGVNYXJrdXAiLCJuZXdOb2RlIiwicmVwbGFjZVdpdGgiLCJ0eXBlQWZ0ZXIiLCJvbGRTbGljZSIsIkFkZE1hcmtTdGVwIiwiUmVtb3ZlTWFya1N0ZXAiLCJyZXBsYWNlU3RlcCIsImZpdHNUcml2aWFsbHkiLCJmaXR0ZWRMZWZ0IiwicGxhY2VkIiwiZml0TGVmdElubmVyIiwicGxhY2VkQmVsb3ciLCJwbGFjZWRIZXJlIiwiZml0TGVmdCIsImZyb250aWVyIiwicGFzcyIsInBsYWNlU2xpY2UiLCJjbG9zZU5vZGUiLCJmaXR0ZWQiLCJmaXRSaWdodCIsIm5vZGVSaWdodCIsImNhbk1vdmVUZXh0IiwiZml0dGVkQWZ0ZXIiLCJmaXRSaWdodEpvaW4iLCJjb3VudCIsIm1hdGNoQ291bnQiLCJ0b05vZGUiLCJqb2luYWJsZSIsInRvSW5kZXgiLCJjbG9zZWQiLCJmaXRSaWdodENsb3NlZCIsImZpdFJpZ2h0U2VwYXJhdGUiLCJub3JtYWxpemVTbGljZSIsImFkZE1hcmsiLCJyZW1vdmVkIiwiYWRkZWQiLCJyZW1vdmluZyIsImFkZGluZyIsIm5ld1NldCIsInJlbW92ZU1hcmsiLCJtYXRjaGVkIiwidG9SZW1vdmUiLCJwYXJlbnRUeXBlIiwiZGVsU3RlcHMiLCJhbGxvd2VkIiwiZGVsZXRlIiwid3JhcHBlciIsImNsb3NlTm9kZVN0YXJ0IiwiY2xvc2VGcmFnbWVudCIsIm9sZE9wZW4iLCJuZXdPcGVuIiwiY292ZXJlZERlcHRocyIsInBsYWNlQ29udGVudCIsInNpbmdsZSIsInciLCJjaCIsImFkZE5vZGUiLCJjbG9zZU5vZGVFbmQiLCJyZXBsYWNlUmFuZ2UiLCJkZWxldGVSYW5nZSIsInRhcmdldERlcHRocyIsInByZWZlcnJlZFRhcmdldCIsImRlZmluaW5nIiwicHJlZmVycmVkVGFyZ2V0SW5kZXgiLCJsZWZ0Tm9kZXMiLCJwcmVmZXJyZWREZXB0aCIsIm9wZW5EZXB0aCIsInRhcmdldERlcHRoIiwiZXhwYW5kIiwic3RhcnRTdGVwcyIsInJlcGxhY2VSYW5nZVdpdGgiLCJwb2ludCIsImluc2VydFBvaW50IiwiY292ZXJlZCIsInRpbWUiLCJjdXJTZWxlY3Rpb24iLCJzZWxlY3Rpb24iLCJjdXJTZWxlY3Rpb25Gb3IiLCJzdG9yZWRNYXJrcyIsInVwZGF0ZWQiLCJtZXRhIiwic2V0U2VsZWN0aW9uIiwic2VsZWN0aW9uU2V0Iiwic2V0U3RvcmVkTWFya3MiLCJlbnN1cmVNYXJrcyIsImFkZFN0b3JlZE1hcmsiLCIkaGVhZCIsInJlbW92ZVN0b3JlZE1hcmsiLCJzdG9yZWRNYXJrc1NldCIsInNldFRpbWUiLCJyZXBsYWNlU2VsZWN0aW9uIiwicmVwbGFjZVNlbGVjdGlvbldpdGgiLCJpbmhlcml0TWFya3MiLCJkZWxldGVTZWxlY3Rpb24iLCJpbnNlcnRUZXh0IiwibmVhciIsInNldE1ldGEiLCJnZXRNZXRhIiwiaXNHZW5lcmljIiwic2Nyb2xsSW50b1ZpZXciLCJzY3JvbGxlZEludG9WaWV3IiwiRmllbGREZXNjIiwiZGVzYyIsImluaXQiLCJiYXNlRmllbGRzIiwiY29uZmlnIiwidHIiLCJhdFN0YXJ0IiwiX21hcmtzIiwiX29sZCIsIiRjdXJzb3IiLCJwcmV2IiwiQ29uZmlndXJhdGlvbiIsInBsdWdpbnMiLCJmaWVsZHMiLCJwbHVnaW5zQnlLZXkiLCJwbHVnaW4iLCJFZGl0b3JTdGF0ZSIsImFwcGx5VHJhbnNhY3Rpb24iLCJmaWx0ZXJUcmFuc2FjdGlvbiIsInJvb3RUciIsInRyYW5zYWN0aW9ucyIsInRycyIsIm5ld1N0YXRlIiwiYXBwbHlJbm5lciIsImhhdmVOZXciLCJhcHBlbmRUcmFuc2FjdGlvbiIsIm9sZFN0YXRlIiwibmV3SW5zdGFuY2UiLCJmaWVsZCIsImFwcGx5TGlzdGVuZXJzIiwiJGNvbmZpZyIsInJlY29uZmlndXJlIiwicGx1Z2luRmllbGRzIiwiYWRkQXBwbHlMaXN0ZW5lciIsInJlbW92ZUFwcGx5TGlzdGVuZXIiLCJQbHVnaW4iLCJwcm9wcyIsImJpbmRQcm9wcyIsIkZ1bmN0aW9uIiwiY3JlYXRlS2V5IiwiZ2V0U3RhdGUiLCJrZXlzIiwiUGx1Z2luS2V5IiwibmF2aWdhdG9yIiwiaWVfZWRnZSIsInVzZXJBZ2VudCIsImllX3VwdG8xMCIsImllXzExdXAiLCJtYWMiLCJpZSIsImllX3ZlcnNpb24iLCJkb2N1bWVudE1vZGUiLCJnZWNrbyIsImdlY2tvX3ZlcnNpb24iLCJjaHJvbWUiLCJjaHJvbWVfdmVyc2lvbiIsImlvcyIsImFuZHJvaWQiLCJ3ZWJraXQiLCJkb2N1bWVudEVsZW1lbnQiLCJzYWZhcmkiLCJ2ZW5kb3IiLCJ3ZWJraXRfdmVyc2lvbiIsImRvbUluZGV4IiwiaG9zdCIsInRleHRSYW5nZSIsImNyZWF0ZVJhbmdlIiwic2V0RW5kIiwic2V0U3RhcnQiLCJpc0VxdWl2YWxlbnRQb3NpdGlvbiIsIm9mZiIsInRhcmdldE5vZGUiLCJ0YXJnZXRPZmYiLCJzY2FuRm9yIiwiYXRvbUVsZW1lbnRzIiwiZGlyIiwiaGFzQmxvY2tEZXNjIiwiY29udGVudEVkaXRhYmxlIiwicG1WaWV3RGVzYyIsInNlbGVjdGlvbkNvbGxhcHNlZCIsImRvbVNlbCIsImNvbGxhcHNlZCIsImlzQ29sbGFwc2VkIiwiYnJvd3NlciIsInJhbmdlQ291bnQiLCJnZXRSYW5nZUF0Iiwia2V5RXZlbnQiLCJrZXlDb2RlIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJjb2RlIiwid2luZG93UmVjdCIsIndpbiIsImxlZnQiLCJyaWdodCIsImlubmVyV2lkdGgiLCJib3R0b20iLCJpbm5lckhlaWdodCIsImdldFNpZGUiLCJzaWRlIiwic2Nyb2xsUmVjdEludG9WaWV3IiwidmlldyIsInJlY3QiLCJzdGFydERPTSIsInNjcm9sbFRocmVzaG9sZCIsInNvbWVQcm9wIiwic2Nyb2xsTWFyZ2luIiwiZGVmYXVsdFZpZXciLCJhdFRvcCIsImJvZHkiLCJib3VuZGluZyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm1vdmVYIiwibW92ZVkiLCJzY3JvbGxCeSIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJzY3JvbGxTdGFjayIsInN0YWNrIiwicmVzdG9yZVNjcm9sbFN0YWNrIiwiZFRvcCIsInByZXZlbnRTY3JvbGxTdXBwb3J0ZWQiLCJmaW5kT2Zmc2V0SW5Ob2RlIiwiY29vcmRzIiwiY2xvc2VzdCIsImNvb3Jkc0Nsb3Nlc3QiLCJkeENsb3Nlc3QiLCJyb3dCb3QiLCJyb3dUb3AiLCJjaGlsZEluZGV4IiwicmVjdHMiLCJnZXRDbGllbnRSZWN0cyIsImR4IiwibGVuIiwic2luZ2xlUmVjdCIsImluUmVjdCIsImZpbmRPZmZzZXRJblRleHQiLCJwb3NBdENvb3JkcyIsInJvb3QiLCJjYXJldFBvc2l0aW9uRnJvbVBvaW50IiwiY2FyZXRSYW5nZUZyb21Qb2ludCIsImVsdCIsImVsZW1lbnRGcm9tUG9pbnQiLCJib3giLCJzdGFydEkiLCJ0YXJnZXRLbHVkZ2UiLCJvdXRzaWRlIiwiZG9jVmlldyIsIm5lYXJlc3REZXNjIiwicG9zQmVmb3JlIiwicG9zQWZ0ZXIiLCJwb3NGcm9tRE9NIiwicG9zRnJvbUNhcmV0IiwiYmlhcyIsInBvc0Zyb21FbGVtZW50IiwicG9zQXRTdGFydCIsImJvcmRlciIsImNvb3Jkc0F0UG9zIiwiZG9tRnJvbVBvcyIsInJlY3RCZWZvcmUiLCJhYnMiLCJyZWN0QWZ0ZXIiLCJmbGF0dGVuViIsInkiLCJmbGF0dGVuSCIsIngiLCJ3aXRoRmx1c2hlZFN0YXRlIiwidmlld1N0YXRlIiwiYWN0aXZlRWxlbWVudCIsInVwZGF0ZVN0YXRlIiwiZm9jdXMiLCJtYXliZVJUTCIsImNhY2hlZFN0YXRlIiwiY2FjaGVkRGlyIiwiY2FjaGVkUmVzdWx0IiwiZW5kT2ZUZXh0YmxvY2siLCJzZWwiLCIkYW5jaG9yIiwibmVhcmVzdCIsImJveGVzIiwiZW5kT2ZUZXh0YmxvY2tWZXJ0aWNhbCIsImF0RW5kIiwiZ2V0U2VsZWN0aW9uIiwibW9kaWZ5Iiwib2xkUmFuZ2UiLCJvbGROb2RlIiwiZm9jdXNOb2RlIiwib2xkT2ZmIiwiZm9jdXNPZmZzZXQiLCJvbGRCaWRpTGV2ZWwiLCJjYXJldEJpZGlMZXZlbCIsImRvbUFmdGVyUG9zIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJlbmRPZlRleHRibG9ja0hvcml6b250YWwiLCJkaXJ0eSIsIm1hdGNoZXNXaWRnZXQiLCJtYXRjaGVzTWFyayIsIm1hdGNoZXNOb2RlIiwibWF0Y2hlc0hhY2siLCJiZWZvcmVQb3NpdGlvbiIsInBhcnNlUnVsZSIsInN0b3BFdmVudCIsImRlc3Ryb3kiLCJwb3NCZWZvcmVDaGlsZCIsInBvc0F0RW5kIiwibG9jYWxQb3NGcm9tRE9NIiwiZG9tQmVmb3JlIiwiZG9tQWZ0ZXIiLCJvbmx5Tm9kZXMiLCJnZXREZXNjIiwibm9kZURPTSIsImRlc2NBdCIsInBhcnNlUmFuZ2UiLCJmcm9tT2Zmc2V0IiwidG9PZmZzZXQiLCJjaGlsZEJhc2UiLCJlbXB0eUNoaWxkQXQiLCJhbmNob3IiLCJmb3JjZSIsImFuY2hvckRPTSIsImhlYWRET00iLCJhbmNob3JOb2RlIiwiYW5jaG9yT2Zmc2V0IiwiZXh0ZW5kIiwiY29sbGFwc2UiLCJpZ25vcmVNdXRhdGlvbiIsIm11dGF0aW9uIiwiY29udGVudExvc3QiLCJtYXJrRGlydHkiLCJzdGFydEluc2lkZSIsImVuZEluc2lkZSIsIm1hcmtQYXJlbnRzRGlydHkiLCJub3RoaW5nIiwiV2lkZ2V0Vmlld0Rlc2MiLCJ3aWRnZXQiLCJyYXciLCJjbGFzc0xpc3QiLCJzdG9wIiwiaWdub3JlU2VsZWN0aW9uIiwiQ29tcG9zaXRpb25WaWV3RGVzYyIsInRleHRET00iLCJtdXQiLCJvbGRWYWx1ZSIsImN1c3RvbSIsIm5vZGVWaWV3cyIsIk1hcmtWaWV3RGVzYyIsInJlcGxhY2VOb2RlcyIsIm91dGVyRGVjbyIsImlubmVyRGVjbyIsInVwZGF0ZUNoaWxkcmVuIiwiZGVzY09iaiIsImhhc0F0dHJpYnV0ZSIsImRyYWdnYWJsZSIsImFwcGx5T3V0ZXJEZWNvIiwiQ3VzdG9tTm9kZVZpZXdEZXNjIiwiVGV4dFZpZXdEZXNjIiwiTm9kZVZpZXdEZXNjIiwicmVwYXJzZUluVmlldyIsInNhbWVPdXRlckRlY28iLCJjb21wb3NpdGlvbiIsImNvbXBvc2luZyIsImxvY2FsQ29tcG9zaXRpb25Ob2RlIiwidXBkYXRlciIsIlZpZXdUcmVlVXBkYXRlciIsImRlY28iLCJvbldpZGdldCIsIm9uTm9kZSIsImxvY2FscyIsImZvckNoaWxkIiwiZGVjb0luZGV4IiwicmVzdE5vZGUiLCJwYXJlbnRJbmRleCIsIndpZGdldHMiLCJjb21wYXJlU2lkZSIsImN1dEF0IiwiaXRlckRlY28iLCJpbnNpZGVOb2RlIiwic3luY1RvTWFya3MiLCJwbGFjZVdpZGdldCIsImZpbmROb2RlTWF0Y2giLCJ1cGRhdGVOZXh0Tm9kZSIsImFkZFRleHRibG9ja0hhY2tzIiwiZGVzdHJveVJlc3QiLCJjaGFuZ2VkIiwicHJvdGVjdExvY2FsQ29tcG9zaXRpb24iLCJyZW5kZXJDaGlsZHJlbiIsInJlbmRlckRlc2NzIiwicGFyZW50RE9NIiwiZGVzY3MiLCJjaGlsZERPTSIsInJtIiwiaW5zZXJ0QmVmb3JlIiwib2xkQ1NTIiwiY3NzVGV4dCIsImdldENvbXB1dGVkU3R5bGUiLCJsaXN0U3R5bGUiLCJpb3NIYWNrcyIsIm5lYXJieVRleHROb2RlIiwidGV4dFBvcyIsImNoaWxkU3RhcnQiLCJmaW5kVGV4dEluRnJhZ21lbnQiLCJjb21wb3NpdGlvbk5vZGVzIiwidXBkYXRlSW5uZXIiLCJ1cGRhdGVPdXRlckRlY28iLCJuZWVkc1dyYXAiLCJvbGRET00iLCJwYXRjaE91dGVyRGVjbyIsImNvbXB1dGVPdXRlckRlY28iLCJzZWxlY3ROb2RlIiwiZGVzZWxlY3ROb2RlIiwiZG9jVmlld0Rlc2MiLCJpblBhcmVudCIsIkJSSGFja1ZpZXdEZXNjIiwiT3V0ZXJEZWNvTGV2ZWwiLCJub0RlY28iLCJjbGFzcyIsIm91dGVyRE9NIiwicHJldkNvbXB1dGVkIiwiY3VyQ29tcHV0ZWQiLCJjdXJET00iLCJwYXRjaEF0dHJpYnV0ZXMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJwcmV2TGlzdCIsImN1ckxpc3QiLCJyZW1vdmVQcm9wZXJ0eSIsImxvY2tlZE5vZGUiLCJsb2NrIiwicHJlTWF0Y2giLCJwcmVNYXRjaGVkIiwicHJlTWF0Y2hPZmZzZXQiLCJtb3ZlU2VsZWN0aW9uQmxvY2siLCIkc2lkZSIsIiRzdGFydCIsImZpbmRGcm9tIiwiZGlzcGF0Y2giLCJzZWxlY3RIb3Jpem9udGFsbHkiLCJtb2RzIiwibm9kZVBvcyIsImlzU2VsZWN0YWJsZSIsIm5vZGVMZW4iLCJpc0lnbm9yYWJsZSIsInNraXBJZ25vcmVkTm9kZXNMZWZ0IiwibW92ZU5vZGUiLCJtb3ZlT2Zmc2V0IiwiaXNCbG9ja05vZGUiLCJzZXRTZWxGb2N1cyIsInNraXBJZ25vcmVkTm9kZXNSaWdodCIsImRvbU9ic2VydmVyIiwic2V0Q3VyU2VsZWN0aW9uIiwic2VsZWN0VmVydGljYWxseSIsImJleW9uZCIsInN0b3BOYXRpdmVIb3Jpem9udGFsRGVsZXRlIiwibmV4dE5vZGUiLCJzd2l0Y2hFZGl0YWJsZSIsImNhcHR1cmVLZXlEb3duIiwiY3RybEtleSIsIm1ldGFLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsImdldE1vZHMiLCJjaHJvbWVEb3duQXJyb3dCdWciLCJzZWxlY3Rpb25Gcm9tRE9NIiwiaW5XaWRnZXQiLCJpc09uRWRnZSIsInNlbGVjdGlvbkJldHdlZW4iLCJzZWxlY3Rpb25Ub0RPTSIsInN5bmNOb2RlU2VsZWN0aW9uIiwiZWRpdGFibGUiLCJoYXNGb2N1cyIsImhhc1NlbGVjdGlvbiIsImRpc2Nvbm5lY3RTZWxlY3Rpb24iLCJjdXJzb3JXcmFwcGVyIiwiaW1nIiwidmlzaWJsZSIsInNlbGVjdEN1cnNvcldyYXBwZXIiLCJyZXNldEVkaXRhYmxlRnJvbSIsInJlc2V0RWRpdGFibGVUbyIsImJyb2tlblNlbGVjdEJldHdlZW5VbmVkaXRhYmxlIiwidGVtcG9yYXJpbHlFZGl0YWJsZU5lYXIiLCJyZXNldEVkaXRhYmxlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhpZGVTZWxlY3Rpb25HdWFyZCIsInJlbW92ZUNsYXNzT25TZWxlY3Rpb25DaGFuZ2UiLCJjb25uZWN0U2VsZWN0aW9uIiwiZ2V0UHJlTWF0Y2giLCJkZXN0cm95QmV0d2VlbiIsIm1heEtlZXAiLCJtYXJrRGVzYyIsIm5leHRET00iLCJzZXRFZGl0YWJsZSIsIndhc0RyYWdnYWJsZSIsImxhc3RTZWxlY3RlZFZpZXdEZXNjIiwiY2xlYXJOb2RlU2VsZWN0aW9uIiwiYmV0d2VlbiIsInJlYWRET01DaGFuZ2UiLCJ0eXBlT3ZlciIsImFkZGVkTm9kZXMiLCJsYXN0U2VsZWN0aW9uVGltZSIsImxhc3RTZWxlY3Rpb25PcmlnaW4iLCJuZXdTZWwiLCIkYmVmb3JlIiwic2hhcmVkIiwicHJlZmVycmVkUG9zIiwicHJlZmVycmVkU2lkZSIsImZyb21fIiwidG9fIiwibGFzdEtleUNvZGUiLCJzdGFydERvYyIsImVkaXRhYmxlQ29udGVudCIsInBhcnNlQmV0d2VlbiIsImNvbXBhcmUiLCJsYXN0S2V5Q29kZVRpbWUiLCJjaGFuZ2UiLCJlbmRBIiwiZW5kQiIsImFkanVzdCIsImZpbmREaWZmIiwicmVzb2x2ZVNlbGVjdGlvbiIsImRvbUNoYW5nZUNvdW50IiwibmV4dFNlbCIsImxhc3RJT1NFbnRlciIsIm9sZCIsIiRuZXdTdGFydCIsIiRuZXdFbmQiLCJza2lwQ2xvc2luZ0FuZE9wZW5pbmciLCIkbmV4dCIsImxvb2tzTGlrZUpvaW4iLCJzdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMiLCJtYXJrQ2hhbmdlIiwiJGZyb20xIiwiY2hGcm9tIiwiY2hUbyIsImN1ck1hcmtzIiwicHJldk1hcmtzIiwiaXNNYXJrQ2hhbmdlIiwicGFyc2VkU2VsIiwiZnJvbUVuZCIsIm1heU9wZW4iLCJzZXJpYWxpemVGb3JDbGlwYm9hcmQiLCJzZXJpYWxpemVyIiwiZGV0YWNoZWREb2MiLCJ3cmFwTWFwIiwicGFyc2VGcm9tQ2xpcGJvYXJkIiwiaHRtbCIsInBsYWluVGV4dCIsImluQ29kZSIsImFzVGV4dCIsInBhcnNlZCIsIm1ldGFzIiwiZmlyc3RUYWciLCJyZWFkSFRNTCIsImNvbnRleHROb2RlIiwic2xpY2VEYXRhIiwiYWRkQ29udGV4dCIsImNsb3NlUmFuZ2UiLCJjbG9zZVNsaWNlIiwibGFzdFdyYXAiLCJpbkxhc3QiLCJhZGRUb1NpYmxpbmciLCJzaWJsaW5nIiwid2l0aFdyYXBwZXJzIiwiY2xvc2VSaWdodCIsIndyYXBwZWQiLCJub3JtYWxpemVTaWJsaW5ncyIsInRoZWFkIiwidGJvZHkiLCJjYXB0aW9uIiwiY29sZ3JvdXAiLCJjb2wiLCJ0ZCIsInRoIiwiX2RldGFjaGVkRG9jIiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJvYnNlcnZlT3B0aW9ucyIsImNoaWxkTGlzdCIsImNoYXJhY3RlckRhdGEiLCJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlT2xkVmFsdWUiLCJzdWJ0cmVlIiwidXNlQ2hhckRhdGEiLCJTZWxlY3Rpb25TdGF0ZSIsIkRPTU9ic2VydmVyIiwiaGFuZGxlRE9NQ2hhbmdlIiwicXVldWUiLCJmbHVzaGluZ1Nvb24iLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJyZW1vdmVkTm9kZXMiLCJmbHVzaFNvb24iLCJmbHVzaCIsImN1cnJlbnRTZWxlY3Rpb24iLCJvbkNoYXJEYXRhIiwicHJldlZhbHVlIiwib25TZWxlY3Rpb25DaGFuZ2UiLCJzdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMiLCJvYnNlcnZlIiwidGFrZSIsInRha2VSZWNvcmRzIiwiZGlzY29ubmVjdCIsImlnbm9yZVNlbGVjdGlvbkNoYW5nZSIsImNvbnRhaW5lciIsImNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIiwicmVnaXN0ZXJNdXRhdGlvbiIsImJycyIsImNzc0NoZWNrZWQiLCJ3aGl0ZVNwYWNlIiwiY2hlY2tDU1MiLCJhdHRyaWJ1dGVOYW1lIiwiaGFuZGxlcnMiLCJlZGl0SGFuZGxlcnMiLCJzZXRTZWxlY3Rpb25PcmlnaW4iLCJlbnN1cmVMaXN0ZW5lcnMiLCJjdXJyZW50SGFuZGxlcnMiLCJldmVudEhhbmRsZXJzIiwicnVuQ3VzdG9tSGFuZGxlciIsImhhbmRsZXIiLCJkZWZhdWx0UHJldmVudGVkIiwiZXZlbnRDb29yZHMiLCJjbGllbnRYIiwiY2xpZW50WSIsInJ1bkhhbmRsZXJPbkNvbnRleHQiLCJwcm9wTmFtZSIsInVwZGF0ZVNlbGVjdGlvbiIsImZvY3VzZWQiLCJoYW5kbGVTaW5nbGVDbGljayIsInNlbGVjdGVkTm9kZSIsInNlbGVjdEF0Iiwic2VsZWN0Q2xpY2tlZE5vZGUiLCJzZWxlY3RDbGlja2VkTGVhZiIsImhhbmRsZURvdWJsZUNsaWNrIiwiaGFuZGxlVHJpcGxlQ2xpY2siLCJkZWZhdWx0VHJpcGxlQ2xpY2siLCJmb3JjZURPTUZsdXNoIiwiZW5kQ29tcG9zaXRpb24iLCJrZXlkb3duIiwiaW5Pck5lYXJDb21wb3NpdGlvbiIsInByZXZlbnREZWZhdWx0Iiwia2V5dXAiLCJrZXlwcmVzcyIsImNoYXJDb2RlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwic2VsZWN0Tm9kZU1vZGlmaWVyIiwibW91c2Vkb3duIiwiZmx1c2hlZCIsImxhc3RDbGljayIsImNsaWNrIiwiZHkiLCJpc05lYXIiLCJtb3VzZURvd24iLCJ0YXJnZXRQb3MiLCJhbGxvd0RlZmF1bHQiLCJtaWdodERyYWciLCJ0YXJnZXREZXNjIiwic2VsZWN0YWJsZSIsInNldFVuZWRpdGFibGUiLCJhZGRBdHRyIiwidXAiLCJtb3ZlIiwidGltZVN0YW1wIiwiY29tcG9zaXRpb25FbmRlZEF0IiwiZG9uZSIsInRvdWNoZG93biIsImNvbnRleHRtZW51IiwidGltZW91dENvbXBvc2l0aW9uIiwic2NoZWR1bGVDb21wb3NlRW5kIiwiZGVsYXkiLCJjb21wb3NpbmdUaW1lb3V0IiwiZm9yY2VVcGRhdGUiLCJjb21wb3NpdGlvbnN0YXJ0IiwiY29tcG9zaXRpb251cGRhdGUiLCJtYXJrQ3Vyc29yIiwiY29tcG9zaXRpb25lbmQiLCJicm9rZW5DbGlwYm9hcmRBUEkiLCJkb1Bhc3RlIiwic2luZ2xlTm9kZSIsInNsaWNlU2luZ2xlTm9kZSIsImNsaXBib2FyZERhdGEiLCJjbGVhckRhdGEiLCJzZXREYXRhIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwiYmx1ciIsImNhcHR1cmVDb3B5IiwicGFzdGUiLCJnZXREYXRhIiwiZmlsZXMiLCJjYXB0dXJlUGFzdGUiLCJEcmFnZ2luZyIsImRyYWdDb3B5TW9kaWZpZXIiLCJkcmFnc3RhcnQiLCJkYXRhVHJhbnNmZXIiLCJkcmFnZ2luZyIsImRyYWdlbmQiLCJkcmFnb3ZlciIsImRyYWdlbnRlciIsImRyb3AiLCJldmVudFBvcyIsIiRtb3VzZSIsImluc2VydFBvcyIsImRyb3BQb2ludCIsImlzTm9kZSIsImJlZm9yZUluc2VydCIsImJlZm9yZWlucHV0IiwiaW5wdXRUeXBlIiwiY29tcGFyZU9ianMiLCJXaWRnZXRUeXBlIiwibm9TcGVjIiwic3BhbiIsIm9sZE9mZnNldCIsIkRlY29yYXRpb24iLCJ2YWxpZCIsIklubGluZVR5cGUiLCJpbmNsdXNpdmVTdGFydCIsImluY2x1c2l2ZUVuZCIsImlzIiwiRGVjb3JhdGlvblNldCIsImxvY2FsIiwiZGVjb3JhdGlvbnMiLCJidWlsZFRyZWUiLCJwcmVkaWNhdGUiLCJmaW5kSW5uZXIiLCJjaGlsZE9mZiIsIm1hcElubmVyIiwibmV3TG9jYWwiLCJvblJlbW92ZSIsIm9sZENoaWxkcmVuIiwib2xkRW5kIiwibmV3RW5kIiwiZFNpemUiLCJtdXN0UmVidWlsZCIsImZyb21Mb2NhbCIsInRvTG9jYWwiLCJjaGlsZE9mZnNldCIsImNoaWxkTm9kZSIsImdhdGhlciIsIm1hcEFuZEdhdGhlclJlbWFpbmluZ0RlY29yYXRpb25zIiwiYnlQb3MiLCJtYXBDaGlsZHJlbiIsImFkZElubmVyIiwiYmFzZU9mZnNldCIsInRha2VTcGFuc0Zvck5vZGUiLCJtb3ZlU3BhbnMiLCJ3aXRob3V0TnVsbHMiLCJyZW1vdmVJbm5lciIsImRlYyIsImxvY2FsU2V0IiwiRGVjb3JhdGlvbkdyb3VwIiwicmVtb3ZlT3ZlcmxhcCIsImxvY2Fsc0lubmVyIiwibWVtYmVycyIsInNwYW5zIiwiaGFzTnVsbHMiLCJsb2NhbFN0YXJ0Iiwid29ya2luZyIsImluc2VydEFoZWFkIiwidmlld0RlY29yYXRpb25zIiwic29ydGVkIiwiRWRpdG9yVmlldyIsIl9wcm9wcyIsIl9yb290IiwibW91bnQiLCJtb3VudGVkIiwiZ2V0RWRpdGFibGUiLCJidWlsZE5vZGVWaWV3cyIsImNvbXB1dGVEb2NEZWNvIiwiYnViYmxlcyIsImV2ZW50QmVsb25nc1RvVmlldyIsInBsdWdpblZpZXdzIiwidXBkYXRlUGx1Z2luVmlld3MiLCJjb250ZW50ZWRpdGFibGUiLCJ1cGRhdGVDdXJzb3JXcmFwcGVyIiwicG9zaXRpb24iLCJoYW5kbGVET01FdmVudHMiLCJ1cGRhdGVTdGF0ZUlubmVyIiwic2V0UHJvcHMiLCJyZWNvbmZpZ3VyZWQiLCJyZWRyYXciLCJuQSIsIm5CIiwiY2hhbmdlZE5vZGVWaWV3cyIsInNlbDEiLCJzZWwyIiwibmV3UmVmVG9wIiwic2Nyb2xsIiwic2Nyb2xsVG9TZWxlY3Rpb24iLCJ1cGRhdGVEb2MiLCJ1cGRhdGVTZWwiLCJvbGRTY3JvbGxQb3MiLCJvdmVyZmxvd0FuY2hvciIsInJlZkRPTSIsInJlZlRvcCIsInN0YXJ0WSIsImxvY2FsUmVjdCIsInN0b3JlU2Nyb2xsUG9zIiwiZm9yY2VTZWxVcGRhdGUiLCJkZXN0cm95UGx1Z2luVmlld3MiLCJwcmV2U3RhdGUiLCJwbHVnaW5WaWV3Iiwic2V0QWN0aXZlIiwic3RvcmVkIiwicHJldmVudFNjcm9sbCIsImZvY3VzUHJldmVudFNjcm9sbCIsImdldFByb3RvdHlwZU9mIiwiZG9tQXRQb3MiLCJwb3NBdERPTSIsImRpc3BhdGNoRXZlbnQiLCJkaXNwYXRjaFRyYW5zYWN0aW9uIiwiUm9wZVNlcXVlbmNlIiwibGVhZkFwcGVuZCIsImxlYWZQcmVwZW5kIiwiYXBwZW5kSW5uZXIiLCJBcHBlbmQiLCJzbGljZUlubmVyIiwiZ2V0SW5uZXIiLCJmb3JFYWNoSW5uZXIiLCJmb3JFYWNoSW52ZXJ0ZWRJbm5lciIsInZhbHVlcyIsIkxlYWYiLCJjb25maWd1cmFibGUiLCJmbGF0dGVuIiwiZGVmaW5lUHJvcGVydGllcyIsImxlZnRMZW4iLCJCcmFuY2giLCJldmVudENvdW50IiwicG9wRXZlbnQiLCJwcmVzZXJ2ZUl0ZW1zIiwicmVtYXAiLCJyZW1hcHBpbmciLCJyZW1haW5pbmciLCJ0cmFuc2Zvcm0iLCJhZGRBZnRlciIsIkl0ZW0iLCJhZGRUcmFuc2Zvcm0iLCJoaXN0T3B0aW9ucyIsIm5ld0l0ZW1zIiwib2xkSXRlbXMiLCJsYXN0SXRlbSIsIm1lcmdlZCIsImN1dFBvaW50Iiwib3ZlcmZsb3ciLCJERVBUSF9PVkVSRkxPVyIsIm1pcnJvclBvcyIsIm1pcnJvck9mZnNldCIsImFkZE1hcHMiLCJyZWJhc2VkIiwicmViYXNlZFRyYW5zZm9ybSIsInJlYmFzZWRDb3VudCIsInJlYmFzZWRJdGVtcyIsIm5ld1VudGlsIiwiaVJlYmFzZWQiLCJuZXdNYXBzIiwiYnJhbmNoIiwiZW1wdHlJdGVtQ291bnQiLCJjb21wcmVzcyIsImV2ZW50cyIsIm5ld0l0ZW0iLCJIaXN0b3J5U3RhdGUiLCJ1bmRvbmUiLCJwcmV2UmFuZ2VzIiwicHJldlRpbWUiLCJyYW5nZXNGb3IiLCJfZnJvbSIsIl90byIsIm1hcFJhbmdlcyIsImhpc3RUcmFuc2FjdGlvbiIsImhpc3RvcnkiLCJyZWRvIiwibXVzdFByZXNlcnZlSXRlbXMiLCJoaXN0b3J5S2V5IiwiZ2V0Qm9va21hcmsiLCJuZXdIaXN0IiwiaGlzdG9yeVN0YXRlIiwiY2FjaGVkUHJlc2VydmVJdGVtcyIsImNhY2hlZFByZXNlcnZlSXRlbXNQbHVnaW5zIiwiaGlzdG9yeVByZXNlcnZlSXRlbXMiLCJjbG9zZUhpc3RvcnlLZXkiLCJuZXdHcm91cERlbGF5IiwiaGlzdCIsImhpc3RvcnlUciIsImFwcGVuZGVkIiwibmV3R3JvdXAiLCJhZGphY2VudCIsImlzQWRqYWNlbnRUbyIsIklucHV0UnVsZSIsImN1dE9mZiIsInJ1biIsInRleHRCZWZvcmUiLCJlbGxpcHNpcyIsInNtYXJ0UXVvdGVzIiwib2xET00iLCJ1bERPTSIsImxpRE9NIiwib3JkZXJlZExpc3QiLCJvcmRlciIsImJ1bGxldExpc3QiLCJsaXN0SXRlbSIsIndyYXBJbkxpc3QiLCJsaXN0VHlwZSIsImRvSm9pbiIsIm91dGVyUmFuZ2UiLCIkaW5zZXJ0Iiwiam9pbkJlZm9yZSIsInNwbGl0RGVwdGgiLCJzcGxpdFBvcyIsImRvV3JhcEluTGlzdCIsImxpZnRMaXN0SXRlbSIsIml0ZW1UeXBlIiwiZW5kT2ZMaXN0IiwibGlmdFRvT3V0ZXJMaXN0IiwibGlzdCIsImluZGV4QmVmb3JlIiwibGlmdE91dE9mTGlzdCIsInBET00iLCJibG9ja3F1b3RlRE9NIiwiaHJET00iLCJwcmVET00iLCJickRPTSIsImVtRE9NIiwic3Ryb25nRE9NIiwiY29kZURPTSIsImVtIiwic3Ryb25nIiwiZm9udFdlaWdodCIsInBhcmFncmFwaCIsImhvcml6b250YWxfcnVsZSIsImhlYWRpbmciLCJjb2RlX2Jsb2NrIiwiaW1hZ2UiLCJzcmMiLCJhbHQiLCJoYXJkX2JyZWFrIiwiaGVhZGluZzFTcGVjIiwiaGVhZGluZzJTcGVjIiwiY2hlY2tsaXN0X2l0ZW0iLCJjaGVja2VkIiwidW5vcmRlcmVkX2xpc3QiLCJvcmRlcmVkX2xpc3QiLCJsaXN0X2l0ZW0iLCJoZWFkaW5nMSIsImhlYWRpbmcyIiwibWFya1dyYXBwaW5nUnVsZSIsIlJlZ0V4cCIsImV4aXN0aW5nTWFya3MiLCJsaXN0VHlwZVJ1bGUiLCJwcmVmaXgiLCJpbnB1dFJ1bGVzUGx1Z2luIiwicmVnZXhwIiwiaGFuZGxlVGV4dElucHV0IiwiaXNJbnB1dFJ1bGVzIiwidGV4dGJsb2NrQXQiLCJmaW5kQ3V0QmVmb3JlIiwiZmluZEN1dEFmdGVyIiwiZGVmYXVsdEJsb2NrQXQiLCJzcGxpdEJsb2NrIiwiY2FuIiwiZGVsZXRlQmFycmllciIsIiRjdXQiLCJjb25uIiwiam9pbk1heWJlQ2xlYXIiLCJqb2luQXQiLCJzZWxBZnRlciIsImNoYWluQ29tbWFuZHMiLCJjb21tYW5kcyIsImJhY2tzcGFjZSIsImRlbCIsInBjQmFzZUtleW1hcCIsImFib3ZlIiwiQWxsU2VsZWN0aW9uIiwibWFjQmFzZUtleW1hcCIsImJhc2VLZXltYXAiLCJvcyIsInRvb2xiYXJFbCIsIm1vZGFsRWwiLCJ2aWV3SW5zdGFuY2UiLCJoYW5kbGVUb29sYmFyQ2xpY2siLCJwcmV2aW91c1N0YXRlIiwicHJldmlvdXNseVNlbGVjdGVkQXR0cnMiLCJnZXRTZWxlY3RlZEZvcm1hdEF0dHJzIiwiYnRuIiwic2VsZWN0ZWRBdHRycyIsImhhbmRsZUtleURvd24iLCJpc1QiLCJ3aGljaCIsImhhc0N0cmwiLCJ0b2dnbGVDaGVja2xpc3RJdGVtIiwiaXM3IiwiaGFzTW9kIiwidG9nZ2xlTGlzdCIsInByb21vdGVIZWFkaW5nIiwic3dhcFRleHRCbG9jayIsImlzU3BhY2UiLCJoYXNDaGVja2VkIiwidG9nZ2xlQ2hlY2tsaXN0SXRlbVN0YXRlIiwiaXNaIiwiaXNZIiwiaXNJIiwidG9nZ2xlTWFyayIsImlzQiIsImlzUHJpbWUiLCJpc0siLCJhY3RpdmF0ZUxpbmtNb2RhbCIsImxpbmtNYXJrQXRTdGFydCIsImxpbmtNYXJrQXRFbmQiLCJzZWxlY3Rpb25Jc0luc2lkZUxpbmsiLCJuZXdTZWxlY3Rpb24iLCJMaW5rTW9kYWwiLCJvbkNvbmZpcm0iLCJtYXJrQXBwbGllcyIsImhhcyIsImdldFNlbGVjdGVkRm9ybWF0QW5kTWFya3MiLCJzZWxlY3RlZCIsImN1cnJlbnRUeXBlIiwibWFya1R5cGVzIiwiYnV0dG9uIiwiYXBwbHlGb3JtYXQiLCJkYXRhRm9ybWF0U3RyIiwiZWwiLCJzaG93Q2xzIiwiaGFuZGxlQ29uZmlybSIsInRleHRJbnB1dCIsInVybElucHV0IiwiaGFuZGxlQ2FuY2VsIiwiaGFuZGxlR2xvYmFsS2V5ZG93biIsImlzRW50ZXIiLCJjb25maXJtQnRuIiwiY2FuY2VsQnRuIiwidXJsT3BlbkxpbmsiLCJybmRzOCIsIlVpbnQ4QXJyYXkiLCJybmciLCJieXRlVG9IZXgiLCJzdWJzdHIiLCJidGgiLCJybmRzIiwiaWkiLCJnZXROYW1lc3BhY2VkQ29udGVudCIsImdldFV1aWQiLCJyZXNvbHZlQ2xpZW50UmVhZHkiLCJfaXRlbSIsInNob3VsZENhbGxMaXN0ZW5lcnMiLCJuZXh0SXRlbSIsInByZXZpb3VzSXRlbSIsImlzTWV0YWRhdGFVcGRhdGUiLCJsYXN0U2F2ZWRCeSIsImdldExhc3RTYXZlZEJ5IiwiX2lkIiwiX2xpc3RlbmVycyIsIl9yZWFkeSIsIlByb21pc2UiLCJjb21wb25lbnRNYW5hZ2VyIiwic3RyZWFtQ29udGV4dEl0ZW0iLCJkZWJ1ZyIsImNhbGxMaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImdldERvYyIsImpzb25Eb2MiLCJ0b1NhdmUiLCJzYXZlSXRlbVdpdGhQcmVzYXZlIiwiU05fSVRFTV9TQVZFX0tFWSIsIml0ZW1TZWxlY3RvcnMiLCJjbGllbnQiLCJnZXRQb3MiLCJpbnB1dFNwYW4iLCJmb2N1c0hhbmRsZXIiLCJyZWxhdGVkVGFyZ2V0IiwiY2xpY2tIYW5kbGVyIiwiOCIsIjkiLCIxMCIsIjEyIiwiMTMiLCIxNiIsIjE3IiwiMTgiLCIyMCIsIjI3IiwiMzIiLCIzMyIsIjM0IiwiMzUiLCIzNiIsIjM3IiwiMzgiLCIzOSIsIjQwIiwiNDQiLCI0NSIsIjQ2IiwiNTkiLCI2MSIsIjkxIiwiOTIiLCIxMDYiLCIxMDciLCIxMDgiLCIxMDkiLCIxMTAiLCIxMTEiLCIxNDQiLCIxNDUiLCIxNjAiLCIxNjEiLCIxNjIiLCIxNjMiLCIxNjQiLCIxNjUiLCIxNzMiLCIxODYiLCIxODciLCIxODgiLCIxODkiLCIxOTAiLCIxOTEiLCIxOTIiLCIyMTkiLCIyMjAiLCIyMjEiLCIyMjIiLCIyMjkiLCJiYXNlXzEiLCI0OCIsIjQ5IiwiNTAiLCI1MSIsIjUyIiwiNTMiLCI1NCIsIjU1IiwiNTYiLCI1NyIsImJyb2tlbk1vZGlmaWVyTmFtZXMiLCJrZXlOYW1lIiwibm9ybWFsaXplS2V5TmFtZSIsImN0cmwiLCJtb2QiLCJtb2RpZmllcnMiLCJrZXltYXAiLCJiaW5kaW5ncyIsImtleWRvd25IYW5kbGVyIiwibm9ybWFsaXplIiwiYmFzZU5hbWUiLCJpc0NoYXIiLCJkaXJlY3QiLCJmcm9tQ29kZSIsIndpdGhTaGlmdCIsImtleW1hcFBsdWdpbnMiLCJFbnRlciIsImdyYW5kUGFyZW50Iiwia2VlcEl0ZW0iLCJuZXh0JEZyb20iLCJuZXh0RnJvbSIsImdldERvY0Zvck5ld0VkaXRvclN0YXRlIiwibGF0ZXN0RG9jIiwicmVhZHkiLCJzYXZlTm90ZSIsIm9uVXBkYXRlIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFP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QUFZajFCLE9BQU8sQ0FDeEIwUCxJQUFLc21ELEtBQ0xuaEMsUUFBUyxJQUNKNmdDLEdBQ0gsSUFBSSxHQUNGN3pELFNBQVNzSCxjQUFjLFlBQ3ZCdEgsU0FBU3NILGNBQWMsZ0JBRXpCLElBQUlpdEIsR0FBTyxDQUNUQyxNQUFPLENBQ0xpTixVQUFBLE1BR0o0bEIsR0FDQSxRQUdKLG9CQUFvQjUwQixHQUNsQixNQUFNeGpCLEVBQU93cEIsRUFBS3RrQixNQUFNZ1UsTUFBTXNLLEdBQzlCZ0csRUFBS29FLFlBQVk1dEIsR0FDakJ1L0MsR0FBTzhGLFNBQVNybEQsRUFBS3BCLElBQUlwQixhQUsvQitoRCxHQUFPK0YsU0FBVTFtRCxJQUNmNHFCLEVBQUtpa0IsU0FBUyxDQUNadm9DLE1BQU9pZixHQUFZajFCLE9BQU8sQ0FDeEIwUCxJQUFLc21ELEtBQ0xuaEMsUUFBU3lGLEVBQUt0a0IsTUFBTTZlLGlCQU01QlYiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEyKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj48cGF0aCBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTE5IDNINWMtMS4xMSAwLTIgLjktMiAydjE0YzAgMS4xLjg5IDIgMiAyaDE0YzEuMTEgMCAyLS45IDItMlY1YzAtMS4xLS44OS0yLTItMnptLTkgMTRsLTUtNSAxLjQxLTEuNDFMMTAgMTQuMTdsNy41OS03LjU5TDE5IDhsLTkgOXpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj48cGF0aCBkPVxcXCJNMTkgNXYxNEg1VjVoMTRtMC0ySDVjLTEuMSAwLTIgLjktMiAydjE0YzAgMS4xLjkgMiAyIDJoMTRjMS4xIDAgMi0uOSAyLTJWNWMwLTEuMS0uOS0yLTItMnpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwVjB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTkuNCAxNi42TDQuOCAxMmw0LjYtNC42TDggNmwtNiA2IDYgNiAxLjQtMS40em01LjIgMGw0LjYtNC42LTQuNi00LjZMMTYgNmw2IDYtNiA2LTEuNC0xLjR6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTE1LjYgMTAuNzljLjk3LS42NyAxLjY1LTEuNzcgMS42NS0yLjc5IDAtMi4yNi0xLjc1LTQtNC00SDd2MTRoNy4wNGMyLjA5IDAgMy43MS0xLjcgMy43MS0zLjc5IDAtMS41Mi0uODYtMi44Mi0yLjE1LTMuNDJ6TTEwIDYuNWgzYy44MyAwIDEuNS42NyAxLjUgMS41cy0uNjcgMS41LTEuNSAxLjVoLTN2LTN6bTMuNSA5SDEwdi0zaDMuNWMuODMgMCAxLjUuNjcgMS41IDEuNXMtLjY3IDEuNS0xLjUgMS41elxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0wIDBoMjR2MjRIMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj48cGF0aCBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTEwIDR2M2gyLjIxbC0zLjQyIDhINnYzaDh2LTNoLTIuMjFsMy40Mi04SDE4VjR6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTQgMTAuNWMtLjgzIDAtMS41LjY3LTEuNSAxLjVzLjY3IDEuNSAxLjUgMS41IDEuNS0uNjcgMS41LTEuNS0uNjctMS41LTEuNS0xLjV6bTAtNmMtLjgzIDAtMS41LjY3LTEuNSAxLjVTMy4xNyA3LjUgNCA3LjUgNS41IDYuODMgNS41IDYgNC44MyA0LjUgNCA0LjV6bTAgMTJjLS44MyAwLTEuNS42OC0xLjUgMS41cy42OCAxLjUgMS41IDEuNSAxLjUtLjY4IDEuNS0xLjUtLjY3LTEuNS0xLjUtMS41ek03IDE5aDE0di0ySDd2MnptMC02aDE0di0ySDd2MnptMC04djJoMTRWNUg3elxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0wIDBoMjR2MjRIMFYwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk0yIDE3aDJ2LjVIM3YxaDF2LjVIMnYxaDN2LTRIMnYxem0xLTloMVY0SDJ2MWgxdjN6bS0xIDNoMS44TDIgMTMuMXYuOWgzdi0xSDMuMkw1IDEwLjlWMTBIMnYxem01LTZ2MmgxNFY1SDd6bTAgMTRoMTR2LTJIN3Yyem0wLTZoMTR2LTJIN3YyelxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0wIDBoMjR2MjRIMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj48cGF0aCBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTkgNHYzaDV2MTJoM1Y3aDVWNEg5em0tNiA4aDN2N2gzdi03aDNWOUgzdjN6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0zLjkgMTJjMC0xLjcxIDEuMzktMy4xIDMuMS0zLjFoNFY3SDdjLTIuNzYgMC01IDIuMjQtNSA1czIuMjQgNSA1IDVoNHYtMS45SDdjLTEuNzEgMC0zLjEtMS4zOS0zLjEtMy4xek04IDEzaDh2LTJIOHYyem05LTZoLTR2MS45aDRjMS43MSAwIDMuMSAxLjM5IDMuMSAzLjFzLTEuMzkgMy4xLTMuMSAzLjFoLTRWMTdoNGMyLjc2IDAgNS0yLjI0IDUtNXMtMi4yNC01LTUtNXpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj48cGF0aCBkPVxcXCJNMyAxOGgxMnYtMkgzdjJ6TTMgNnYyaDE4VjZIM3ptMCA3aDE4di0ySDN2MnpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDI0djI0SDBWMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj48cGF0aCBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTE5IDE5SDVWNWg3VjNINWMtMS4xMSAwLTIgLjktMiAydjE0YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0ydi03aC0ydjd6TTE0IDN2MmgzLjU5bC05LjgzIDkuODMgMS40MSAxLjQxTDE5IDYuNDFWMTBoMlYzaC03elxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwiY2xhc3MgQ29tcG9uZW50TWFuYWdlciB7XG5cbiAgY29uc3RydWN0b3IocGVybWlzc2lvbnMsIG9uUmVhZHkpIHtcbiAgICB0aGlzLnNlbnRNZXNzYWdlcyA9IFtdO1xuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107XG4gICAgdGhpcy5sb2dnaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuYWNjZXB0c1RoZW1lcyA9IHRydWU7XG4gICAgdGhpcy5hY3RpdmVUaGVtZXMgPSBbXTtcblxuICAgIHRoaXMuaW5pdGlhbFBlcm1pc3Npb25zID0gcGVybWlzc2lvbnM7XG4gICAgdGhpcy5vblJlYWR5Q2FsbGJhY2sgPSBvblJlYWR5O1xuXG4gICAgdGhpcy5jb2FsbGVzZWRTYXZpbmcgPSB0cnVlO1xuICAgIHRoaXMuY29hbGxlc2VkU2F2aW5nRGVsYXkgPSAyNTA7XG5cbiAgICB0aGlzLnJlZ2lzdGVyTWVzc2FnZUhhbmRsZXIoKTtcbiAgfVxuXG4gIHJlZ2lzdGVyTWVzc2FnZUhhbmRsZXIoKSB7XG4gICAgbGV0IG1lc3NhZ2VIYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAodGhpcy5sb2dnaW5nRW5hYmxlZCkgeyBjb25zb2xlLmxvZyhcIkNvbXBvbmVudHMgQVBJIE1lc3NhZ2UgcmVjZWl2ZWQ6XCIsIGV2ZW50LmRhdGEpfVxuXG4gICAgICAvLyBXZSBkb24ndCBoYXZlIGFjY2VzcyB0byB3aW5kb3cucGFyZW50Lm9yaWdpbiBkdWUgdG8gY3Jvc3MtZG9tYWluIHJlc3RyaWN0aW9ucy5cbiAgICAgIC8vIENoZWNrIHJlZmVycmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGRlZmVyIHRvIGNoZWNraW5nIGZvciBmaXJzdC1ydW4gdmFsdWUuXG4gICAgICAvLyBDcmFmdCBVUkwgb2JqZWN0cyBzbyB0aGF0IGV4YW1wbGUuY29tID09PSBleGFtcGxlLmNvbS9cbiAgICAgIGlmKGRvY3VtZW50LnJlZmVycmVyKSB7XG4gICAgICAgIGxldCByZWZlcnJlciA9IG5ldyBVUkwoZG9jdW1lbnQucmVmZXJyZXIpLm9yaWdpbjtcbiAgICAgICAgbGV0IGV2ZW50T3JpZ2luID0gbmV3IFVSTChldmVudC5vcmlnaW4pLm9yaWdpbjtcbiAgICAgICAgaWYocmVmZXJyZXIgIT09IGV2ZW50T3JpZ2luKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBmaXJzdCBtZXNzYWdlIHdpbGwgYmUgdGhlIG1vc3QgcmVsaWFibGUgb25lLCBzbyB3ZSB3b24ndCBjaGFuZ2UgaXQgYWZ0ZXIgYW55IHN1YnNlcXVlbnQgZXZlbnRzLFxuICAgICAgLy8gaW4gY2FzZSB5b3UgcmVjZWl2ZSBhbiBldmVudCBmcm9tIGFub3RoZXIgd2luZG93LlxuICAgICAgaWYoIXRoaXMub3JpZ2luKSB7XG4gICAgICAgIHRoaXMub3JpZ2luID0gZXZlbnQub3JpZ2luO1xuICAgICAgfSBlbHNlIGlmKGV2ZW50Lm9yaWdpbiAhPT0gdGhpcy5vcmlnaW4pIHtcbiAgICAgICAgLy8gSWYgZXZlbnQgb3JpZ2luIGRvZXNuJ3QgbWF0Y2ggZmlyc3QtcnVuIHZhbHVlLCByZXR1cm4uXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTW9iaWxlIGVudmlyb25tZW50IHNlbmRzIGRhdGEgYXMgSlNPTiBzdHJpbmdcbiAgICAgIGxldCBkYXRhID0gZXZlbnQuZGF0YTtcbiAgICAgIGxldCBwYXJzZWREYXRhID0gdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgPyBKU09OLnBhcnNlKGRhdGEpIDogZGF0YTtcbiAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZShwYXJzZWREYXRhKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAgTW9iaWxlIChSZWFjdCBOYXRpdmUpIHVzZXMgYGRvY3VtZW50YCwgd2ViL2Rlc2t0b3AgdXNlcyBgd2luZG93YC5hZGRFdmVudExpc3RlbmVyXG4gICAgICBmb3IgcG9zdE1lc3NhZ2UgQVBJIHRvIHdvcmsgcHJvcGVybHkuXG5cbiAgICAgIFVwZGF0ZSBNYXkgMjAxOTpcbiAgICAgIEFzIHBhcnQgb2YgdHJhbnNpdGlvbmluZyBSZWFjdCBOYXRpdmUgd2VidmlldyBpbnRvIHRoZSBjb21tdW5pdHkgcGFja2FnZSxcbiAgICAgIHdlJ2xsIG5vdyBvbmx5IG5lZWQgdG8gdXNlIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyLlxuXG4gICAgICBIb3dldmVyLCB3ZSB3YW50IHRvIG1haW50YWluIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgZm9yIE1vYmlsZSA8IHYzLjAuNSwgc28gd2UnbGwga2VlcCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyXG5cbiAgICAgIEFsc28sIGV2ZW4gd2l0aCB0aGUgbmV3IHZlcnNpb24gb2YgcmVhY3QtbmF0aXZlLXdlYnZpZXcsIEFuZHJvaWQgbWF5IHN0aWxsIHJlcXVpcmUgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAod2hpbGUgaU9TIHN0aWxsIG9ubHkgcmVxdWlyZXMgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpXG4gICAgICBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtbmF0aXZlLWNvbW11bml0eS9yZWFjdC1uYXRpdmUtd2Vidmlldy9pc3N1ZXMvMzIzI2lzc3VlY29tbWVudC00Njc3Njc5MzNcbiAgICAgKi9cblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgbWVzc2FnZUhhbmRsZXIoZXZlbnQpO1xuICAgIH0sIGZhbHNlKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIG1lc3NhZ2VIYW5kbGVyKGV2ZW50KTtcbiAgICB9LCBmYWxzZSk7XG4gIH1cblxuICBoYW5kbGVNZXNzYWdlKHBheWxvYWQpIHtcbiAgICBpZihwYXlsb2FkLmFjdGlvbiA9PT0gXCJjb21wb25lbnQtcmVnaXN0ZXJlZFwiKSB7XG4gICAgICB0aGlzLnNlc3Npb25LZXkgPSBwYXlsb2FkLnNlc3Npb25LZXk7XG4gICAgICB0aGlzLmNvbXBvbmVudERhdGEgPSBwYXlsb2FkLmNvbXBvbmVudERhdGE7XG5cbiAgICAgIHRoaXMub25SZWFkeShwYXlsb2FkLmRhdGEpO1xuXG4gICAgICBpZih0aGlzLmxvZ2dpbmdFbmFibGVkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29tcG9uZW50IHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkIHdpdGggcGF5bG9hZDpcIiwgcGF5bG9hZCk7XG4gICAgICB9XG5cbiAgICB9IGVsc2UgaWYocGF5bG9hZC5hY3Rpb24gPT09IFwidGhlbWVzXCIpIHtcbiAgICAgIGlmKHRoaXMuYWNjZXB0c1RoZW1lcykge1xuICAgICAgICB0aGlzLmFjdGl2YXRlVGhlbWVzKHBheWxvYWQuZGF0YS50aGVtZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGVsc2UgaWYocGF5bG9hZC5vcmlnaW5hbCkge1xuICAgICAgLy8gZ2V0IGNhbGxiYWNrIGZyb20gcXVldWVcbiAgICAgIHZhciBvcmlnaW5hbE1lc3NhZ2UgPSB0aGlzLnNlbnRNZXNzYWdlcy5maWx0ZXIoZnVuY3Rpb24obWVzc2FnZSl7XG4gICAgICAgIHJldHVybiBtZXNzYWdlLm1lc3NhZ2VJZCA9PT0gcGF5bG9hZC5vcmlnaW5hbC5tZXNzYWdlSWQ7XG4gICAgICB9KVswXTtcblxuICAgICAgaWYoIW9yaWdpbmFsTWVzc2FnZSkge1xuICAgICAgICAvLyBDb25uZWN0aW9uIG11c3QgaGF2ZSBiZWVuIHJlc2V0LiBBbGVydCB0aGUgdXNlci5cbiAgICAgICAgYWxlcnQoXCJUaGlzIGV4dGVuc2lvbiBpcyBhdHRlbXB0aW5nIHRvIGNvbW11bmljYXRlIHdpdGggU3RhbmRhcmQgTm90ZXMsIGJ1dCBhbiBlcnJvciBpcyBwcmV2ZW50aW5nIGl0IGZyb20gZG9pbmcgc28uIFBsZWFzZSByZXN0YXJ0IHRoaXMgZXh0ZW5zaW9uIGFuZCB0cnkgYWdhaW4uXCIpXG4gICAgICB9XG5cbiAgICAgIGlmKG9yaWdpbmFsTWVzc2FnZS5jYWxsYmFjaykge1xuICAgICAgICBvcmlnaW5hbE1lc3NhZ2UuY2FsbGJhY2socGF5bG9hZC5kYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvblJlYWR5KGRhdGEpIHtcbiAgICB0aGlzLmVudmlyb25tZW50ID0gZGF0YS5lbnZpcm9ubWVudDtcbiAgICB0aGlzLnBsYXRmb3JtID0gZGF0YS5wbGF0Zm9ybTtcbiAgICB0aGlzLnV1aWQgPSBkYXRhLnV1aWQ7XG4gICAgdGhpcy5pc01vYmlsZSA9IHRoaXMuZW52aXJvbm1lbnQgPT0gXCJtb2JpbGVcIjtcblxuICAgIGlmKHRoaXMuaW5pdGlhbFBlcm1pc3Npb25zICYmIHRoaXMuaW5pdGlhbFBlcm1pc3Npb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMucmVxdWVzdFBlcm1pc3Npb25zKHRoaXMuaW5pdGlhbFBlcm1pc3Npb25zKTtcbiAgICB9XG5cbiAgICBmb3IodmFyIG1lc3NhZ2Ugb2YgdGhpcy5tZXNzYWdlUXVldWUpIHtcbiAgICAgIHRoaXMucG9zdE1lc3NhZ2UobWVzc2FnZS5hY3Rpb24sIG1lc3NhZ2UuZGF0YSwgbWVzc2FnZS5jYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdGhpcy5tZXNzYWdlUXVldWUgPSBbXTtcblxuICAgIGlmKHRoaXMubG9nZ2luZ0VuYWJsZWQpIHsgY29uc29sZS5sb2coXCJvblJlYWR5RGF0YVwiLCBkYXRhKTsgfVxuXG4gICAgdGhpcy5hY3RpdmF0ZVRoZW1lcyhkYXRhLmFjdGl2ZVRoZW1lVXJscyB8fCBbXSk7XG5cbiAgICBpZih0aGlzLm9uUmVhZHlDYWxsYmFjaykge1xuICAgICAgdGhpcy5vblJlYWR5Q2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICBnZXRTZWxmQ29tcG9uZW50VVVJRCgpIHtcbiAgICByZXR1cm4gdGhpcy51dWlkO1xuICB9XG5cbiAgaXNSdW5uaW5nSW5EZXNrdG9wQXBwbGljYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZW52aXJvbm1lbnQgPT09IFwiZGVza3RvcFwiO1xuICB9XG5cbiAgc2V0Q29tcG9uZW50RGF0YVZhbHVlRm9yS2V5KGtleSwgdmFsdWUpIHtcbiAgICB0aGlzLmNvbXBvbmVudERhdGFba2V5XSA9IHZhbHVlO1xuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJzZXQtY29tcG9uZW50LWRhdGFcIiwge2NvbXBvbmVudERhdGE6IHRoaXMuY29tcG9uZW50RGF0YX0sIGZ1bmN0aW9uKGRhdGEpe30pO1xuICB9XG5cbiAgY2xlYXJDb21wb25lbnREYXRhKCkge1xuICAgIHRoaXMuY29tcG9uZW50RGF0YSA9IHt9O1xuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJzZXQtY29tcG9uZW50LWRhdGFcIiwge2NvbXBvbmVudERhdGE6IHRoaXMuY29tcG9uZW50RGF0YX0sIGZ1bmN0aW9uKGRhdGEpe30pO1xuICB9XG5cbiAgY29tcG9uZW50RGF0YVZhbHVlRm9yS2V5KGtleSkge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudERhdGFba2V5XTtcbiAgfVxuXG4gIHBvc3RNZXNzYWdlKGFjdGlvbiwgZGF0YSwgY2FsbGJhY2spIHtcbiAgICBpZighdGhpcy5zZXNzaW9uS2V5KSB7XG4gICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1lc3NhZ2UgPSB7XG4gICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBtZXNzYWdlSWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksXG4gICAgICBzZXNzaW9uS2V5OiB0aGlzLnNlc3Npb25LZXksXG4gICAgICBhcGk6IFwiY29tcG9uZW50XCJcbiAgICB9XG5cbiAgICB2YXIgc2VudE1lc3NhZ2UgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcbiAgICBzZW50TWVzc2FnZS5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuc2VudE1lc3NhZ2VzLnB1c2goc2VudE1lc3NhZ2UpO1xuXG4gICAgLy8gTW9iaWxlIChSZWFjdCBOYXRpdmUpIHJlcXVpcmVzIGEgc3RyaW5nIGZvciB0aGUgcG9zdE1lc3NhZ2UgQVBJLlxuICAgIGlmKHRoaXMuaXNNb2JpbGUpIHtcbiAgICAgIG1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBpZih0aGlzLmxvZ2dpbmdFbmFibGVkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlBvc3RpbmcgbWVzc2FnZTpcIiwgbWVzc2FnZSk7XG4gICAgfVxuXG4gICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShtZXNzYWdlLCB0aGlzLm9yaWdpbik7XG4gIH1cblxuICBzZXRTaXplKHR5cGUsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwic2V0LXNpemVcIiwge3R5cGU6IHR5cGUsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHR9LCBmdW5jdGlvbihkYXRhKXtcblxuICAgIH0pXG4gIH1cblxuICByZXF1ZXN0UGVybWlzc2lvbnMocGVybWlzc2lvbnMsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5wb3N0TWVzc2FnZShcInJlcXVlc3QtcGVybWlzc2lvbnNcIiwge3Blcm1pc3Npb25zOiBwZXJtaXNzaW9uc30sIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9XG5cbiAgc3RyZWFtSXRlbXMoY29udGVudFR5cGVzLCBjYWxsYmFjaykge1xuICAgIGlmKCFBcnJheS5pc0FycmF5KGNvbnRlbnRUeXBlcykpIHtcbiAgICAgIGNvbnRlbnRUeXBlcyA9IFtjb250ZW50VHlwZXNdO1xuICAgIH1cbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwic3RyZWFtLWl0ZW1zXCIsIHtjb250ZW50X3R5cGVzOiBjb250ZW50VHlwZXN9LCBmdW5jdGlvbihkYXRhKXtcbiAgICAgIGNhbGxiYWNrKGRhdGEuaXRlbXMpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH1cblxuICBzdHJlYW1Db250ZXh0SXRlbShjYWxsYmFjaykge1xuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJzdHJlYW0tY29udGV4dC1pdGVtXCIsIG51bGwsIChkYXRhKSA9PiB7XG4gICAgICBsZXQgaXRlbSA9IGRhdGEuaXRlbTtcbiAgICAgIC8qXG4gICAgICAgIElmIHRoaXMgaXMgYSBuZXcgY29udGV4dCBpdGVtIHRoYW4gdGhlIGNvbnRleHQgaXRlbSB0aGUgY29tcG9uZW50IHdhcyBjdXJyZW50bHkgZW50ZXJ0YWluaW5nLFxuICAgICAgICB3ZSB3YW50IHRvIGltbWVkaWF0ZWx5IGNvbW1pdCBhbnkgcGVuZGluZyBzYXZlcywgYmVjYXVzZSBpZiB5b3Ugc2VuZCB0aGUgbmV3IGNvbnRleHQgaXRlbSB0byB0aGVcbiAgICAgICAgY29tcG9uZW50IGJlZm9yZSBpdCBoYXMgY29tbWl0ZWQgaXRzIHByZXNhdmUsIGl0IHdpbGwgZW5kIHVwIGZpcnN0IHJlcGxhY2luZyB0aGUgVUkgd2l0aCBuZXcgY29udGV4dCBpdGVtLFxuICAgICAgICBhbmQgd2hlbiB0aGUgZGVib3VuY2VyIGV4ZWN1dGVzIHRvIHJlYWQgdGhlIGNvbXBvbmVudCBVSSwgaXQgd2lsbCBiZSByZWFkaW5nIHRoZSBuZXcgVUkgZm9yIHRoZSBwcmV2aW91cyBpdGVtLlxuICAgICAgKi9cbiAgICAgIGxldCBpc05ld0l0ZW0gPSAhdGhpcy5sYXN0U3RyZWFtZWRJdGVtIHx8IHRoaXMubGFzdFN0cmVhbWVkSXRlbS51dWlkICE9PSBpdGVtLnV1aWQ7XG4gICAgICBpZihpc05ld0l0ZW0gJiYgdGhpcy5wZW5kaW5nU2F2ZVRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGVuZGluZ1NhdmVUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5fcGVyZm9ybVNhdmluZ09mSXRlbXModGhpcy5wZW5kaW5nU2F2ZVBhcmFtcyk7XG4gICAgICAgIHRoaXMucGVuZGluZ1NhdmVUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nU2F2ZVBhcmFtcyA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3RTdHJlYW1lZEl0ZW0gPSBpdGVtO1xuICAgICAgY2FsbGJhY2sodGhpcy5sYXN0U3RyZWFtZWRJdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNlbGVjdEl0ZW0oaXRlbSkge1xuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJzZWxlY3QtaXRlbVwiLCB7aXRlbTogdGhpcy5qc29uT2JqZWN0Rm9ySXRlbShpdGVtKX0pO1xuICB9XG5cbiAgY3JlYXRlSXRlbShpdGVtLCBjYWxsYmFjaykge1xuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJjcmVhdGUtaXRlbVwiLCB7aXRlbTogdGhpcy5qc29uT2JqZWN0Rm9ySXRlbShpdGVtKX0sIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgdmFyIGl0ZW0gPSBkYXRhLml0ZW07XG5cbiAgICAgIC8vIEEgcHJldmlvdXMgdmVyc2lvbiBvZiB0aGUgU04gYXBwIGhhZCBhbiBpc3N1ZSB3aGVyZSB0aGUgaXRlbSBpbiB0aGUgcmVwbHkgdG8gY3JlYXRlLWl0ZW1cbiAgICAgIC8vIHdvdWxkIGJlIG5lc3RlZCBpbnNpZGUgXCJpdGVtc1wiIGFuZCBub3QgXCJpdGVtXCIuIFNvIGhhbmRsZSBib3RoIGNhc2VzIGhlcmUuXG4gICAgICBpZighaXRlbSAmJiBkYXRhLml0ZW1zICYmIGRhdGEuaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICBpdGVtID0gZGF0YS5pdGVtc1swXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hc3NvY2lhdGVJdGVtKGl0ZW0pO1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soaXRlbSk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGNyZWF0ZUl0ZW1zKGl0ZW1zLCBjYWxsYmFjaykge1xuICAgIGxldCBtYXBwZWQgPSBpdGVtcy5tYXAoKGl0ZW0pID0+IHtyZXR1cm4gdGhpcy5qc29uT2JqZWN0Rm9ySXRlbShpdGVtKX0pO1xuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJjcmVhdGUtaXRlbXNcIiwge2l0ZW1zOiBtYXBwZWR9LCBmdW5jdGlvbihkYXRhKXtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGRhdGEuaXRlbXMpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH1cblxuICBhc3NvY2lhdGVJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwiYXNzb2NpYXRlLWl0ZW1cIiwge2l0ZW06IHRoaXMuanNvbk9iamVjdEZvckl0ZW0oaXRlbSl9KTtcbiAgfVxuXG4gIGRlYXNzb2NpYXRlSXRlbShpdGVtKSB7XG4gICAgdGhpcy5wb3N0TWVzc2FnZShcImRlYXNzb2NpYXRlLWl0ZW1cIiwge2l0ZW06IHRoaXMuanNvbk9iamVjdEZvckl0ZW0oaXRlbSl9KTtcbiAgfVxuXG4gIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJjbGVhci1zZWxlY3Rpb25cIiwge2NvbnRlbnRfdHlwZTogXCJUYWdcIn0pO1xuICB9XG5cbiAgZGVsZXRlSXRlbShpdGVtLCBjYWxsYmFjaykge1xuICAgIHRoaXMuZGVsZXRlSXRlbXMoW2l0ZW1dLCBjYWxsYmFjayk7XG4gIH1cblxuICBkZWxldGVJdGVtcyhpdGVtcywgY2FsbGJhY2spIHtcbiAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgaXRlbXM6IGl0ZW1zLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuanNvbk9iamVjdEZvckl0ZW0oaXRlbSk7XG4gICAgICB9LmJpbmQodGhpcykpXG4gICAgfTtcblxuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJkZWxldGUtaXRlbXNcIiwgcGFyYW1zLCAoZGF0YSkgPT4ge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICBzZW5kQ3VzdG9tRXZlbnQoYWN0aW9uLCBkYXRhLCBjYWxsYmFjaykge1xuICAgIHRoaXMucG9zdE1lc3NhZ2UoYWN0aW9uLCBkYXRhLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGRhdGEpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH1cblxuICBzYXZlSXRlbShpdGVtLCBjYWxsYmFjaywgc2tpcERlYm91bmNlciA9IGZhbHNlKSB7XG4gICAgdGhpcy5zYXZlSXRlbXMoW2l0ZW1dLCBjYWxsYmFjaywgc2tpcERlYm91bmNlcik7XG4gIH1cblxuICAvKiBQcmVzYXZlIGFsbG93cyBjbGllbnRzIHRvIHBlcmZvcm0gYW55IGFjdGlvbnMgbGFzdCBzZWNvbmQgYmVmb3JlIHRoZSBzYXZlIGFjdHVhbGx5IG9jY3VycyAobGlrZSBzZXR0aW5nIHByZXZpZXdzKS5cbiAgICAgU2F2ZXMgZGVib3VuY2UgYnkgZGVmYXVsdCwgc28gaWYgYSBjbGllbnQgbmVlZHMgdG8gY29tcHV0ZSBhIHByb3BlcnR5IG9uIGFuIGl0ZW0gYmVmb3JlIHNhdmluZywgaXQncyBiZXN0IHRvXG4gICAgIGhvb2sgaW50byB0aGUgZGVib3VuY2UgY3ljbGUgc28gdGhhdCBjbGllbnRzIGRvbid0IGhhdmUgdG8gaW1wbGVtZW50IHRoZWlyIG93biBkZWJvdW5jaW5nLlxuICAgKi9cblxuICBzYXZlSXRlbVdpdGhQcmVzYXZlKGl0ZW0sIHByZXNhdmUsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zYXZlSXRlbXNXaXRoUHJlc2F2ZShbaXRlbV0sIHByZXNhdmUsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHNhdmVJdGVtc1dpdGhQcmVzYXZlKGl0ZW1zLCBwcmVzYXZlLCBjYWxsYmFjaykge1xuICAgIHRoaXMuc2F2ZUl0ZW1zKGl0ZW1zLCBjYWxsYmFjaywgZmFsc2UsIHByZXNhdmUpO1xuICB9XG5cbiAgX3BlcmZvcm1TYXZpbmdPZkl0ZW1zKHtpdGVtcywgcHJlc2F2ZSwgY2FsbGJhY2t9KSB7XG4gICAgLy8gcHJlc2F2ZSBibG9jayBhbGxvd3MgY2xpZW50IHRvIGdhaW4gdGhlIGJlbmVmaXQgb2YgcGVyZm9ybWluZyBzb21ldGhpbmcgaW4gdGhlIGRlYm91bmNlIGN5Y2xlLlxuICAgIHByZXNhdmUgJiYgcHJlc2F2ZSgpO1xuXG4gICAgbGV0IG1hcHBlZEl0ZW1zID0gW107XG4gICAgZm9yKGxldCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICBtYXBwZWRJdGVtcy5wdXNoKHRoaXMuanNvbk9iamVjdEZvckl0ZW0oaXRlbSkpO1xuICAgIH1cblxuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJzYXZlLWl0ZW1zXCIsIHtpdGVtczogbWFwcGVkSXRlbXN9LCAoZGF0YSkgPT4ge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qXG4gIHNraXBEZWJvdW5jZXIgYWxsb3dzIHNhdmVzIHRvIGdvIHRocm91Z2ggcmlnaHQgYXdheSByYXRoZXIgdGhhbiB3YWl0aW5nIGZvciB0aW1lb3V0LlxuICBUaGlzIHNob3VsZCBiZSB1c2VkIHdoZW4gc2F2aW5nIGl0ZW1zIHZpYSBvdGhlciBtZWFucyBiZXNpZGVzIGtleXN0cm9rZXMuXG4gICovXG4gIHNhdmVJdGVtcyhpdGVtcywgY2FsbGJhY2ssIHNraXBEZWJvdW5jZXIgPSBmYWxzZSwgcHJlc2F2ZSkge1xuXG4gICAgLy8gV2UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdCB3aGVuIHdlIGNsZWFyIGEgcGVuZGluZyBzYXZlIHRpbWVvdXQsXG4gICAgLy8gd2UgY2Fycnkgb3ZlciB0aG9zZSBwZW5kaW5nIGl0ZW1zIGludG8gdGhlIG5ldyBzYXZlLlxuICAgIGlmKCF0aGlzLnBlbmRpbmdTYXZlSXRlbXMpIHsgdGhpcy5wZW5kaW5nU2F2ZUl0ZW1zID0gW107fVxuXG4gICAgaWYodGhpcy5jb2FsbGVzZWRTYXZpbmcgPT0gdHJ1ZSAmJiAhc2tpcERlYm91bmNlcikge1xuICAgICAgaWYodGhpcy5wZW5kaW5nU2F2ZVRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGVuZGluZ1NhdmVUaW1lb3V0KTtcbiAgICAgIH1cblxuICAgICAgbGV0IGluY29taW5nSWRzID0gaXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLnV1aWQpO1xuXG4gICAgICAvLyBSZXBsYWNlIGFueSBleGlzdGluZyBzYXZlIGl0ZW1zIHdpdGggaW5jb21pbmcgdmFsdWVzXG4gICAgICAvLyBPbmx5IGtlZXAgaXRlbXMgaGVyZSB3aG8gYXJlIG5vdCBpbiBpbmNvbWluZ0lkc1xuICAgICAgbGV0IHByZWV4aXN0aW5nSXRlbXMgPSB0aGlzLnBlbmRpbmdTYXZlSXRlbXMuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiAhaW5jb21pbmdJZHMuaW5jbHVkZXMoaXRlbS51dWlkKTtcbiAgICAgIH0pXG5cbiAgICAgICAgLy8gQWRkIG5ldyBpdGVtcywgbm93IHRoYXQgd2UndmUgbWFkZSBzdXJlIGl0J3MgY2xlYXJlZCBvZiBpbmNvbWluZyBpdGVtcy5cbiAgICAgIHRoaXMucGVuZGluZ1NhdmVJdGVtcyA9IHByZWV4aXN0aW5nSXRlbXMuY29uY2F0KGl0ZW1zKTtcblxuICAgICAgLy8gV2UnbGwgcG90ZW50aWFsbHkgbmVlZCB0byBjb21taXQgZWFybHkgaWYgc3RyZWFtLWNvbnRleHQtaXRlbSBtZXNzYWdlIGNvbWVzIGluXG4gICAgICB0aGlzLnBlbmRpbmdTYXZlUGFyYW1zID0ge1xuICAgICAgICBpdGVtczogdGhpcy5wZW5kaW5nU2F2ZUl0ZW1zLFxuICAgICAgICBwcmVzYXZlOiBwcmVzYXZlLFxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICAgIH1cblxuICAgICAgdGhpcy5wZW5kaW5nU2F2ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5fcGVyZm9ybVNhdmluZ09mSXRlbXModGhpcy5wZW5kaW5nU2F2ZVBhcmFtcyk7XG4gICAgICAgIHRoaXMucGVuZGluZ1NhdmVJdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLnBlbmRpbmdTYXZlVGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ1NhdmVQYXJhbXMgPSBudWxsO1xuICAgICAgfSwgdGhpcy5jb2FsbGVzZWRTYXZpbmdEZWxheSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3BlcmZvcm1TYXZpbmdPZkl0ZW1zKHtpdGVtcywgcHJlc2F2ZSwgY2FsbGJhY2t9KTtcbiAgICB9XG4gIH1cblxuICBqc29uT2JqZWN0Rm9ySXRlbShpdGVtKSB7XG4gICAgdmFyIGNvcHkgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICBjb3B5LmNoaWxkcmVuID0gbnVsbDtcbiAgICBjb3B5LnBhcmVudCA9IG51bGw7XG4gICAgcmV0dXJuIGNvcHk7XG4gIH1cblxuICBnZXRJdGVtQXBwRGF0YVZhbHVlKGl0ZW0sIGtleSkge1xuICAgIGxldCBBcHBEb21haW4gPSBcIm9yZy5zdGFuZGFyZG5vdGVzLnNuXCI7XG4gICAgdmFyIGRhdGEgPSBpdGVtLmNvbnRlbnQuYXBwRGF0YSAmJiBpdGVtLmNvbnRlbnQuYXBwRGF0YVtBcHBEb21haW5dO1xuICAgIGlmKGRhdGEpIHtcbiAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qIFRoZW1lcyAqL1xuXG4gIGFjdGl2YXRlVGhlbWVzKGluY29taW5nVXJscykge1xuICAgIGlmKHRoaXMubG9nZ2luZ0VuYWJsZWQpIHsgY29uc29sZS5sb2coXCJJbmNvbWluZyB0aGVtZXNcIiwgaW5jb21pbmdVcmxzKTsgfVxuICAgIGlmKHRoaXMuYWN0aXZlVGhlbWVzLnNvcnQoKS50b1N0cmluZygpID09IGluY29taW5nVXJscy5zb3J0KCkudG9TdHJpbmcoKSkge1xuICAgICAgLy8gaW5jb21pbmcgYXJlIHNhbWUgYXMgYWN0aXZlLCBkbyBub3RoaW5nXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHRoZW1lc1RvQWN0aXZhdGUgPSBpbmNvbWluZ1VybHMgfHwgW107XG4gICAgbGV0IHRoZW1lc1RvRGVhY3RpdmF0ZSA9IFtdO1xuXG4gICAgZm9yKHZhciBhY3RpdmVVcmwgb2YgdGhpcy5hY3RpdmVUaGVtZXMpIHtcbiAgICAgIGlmKCFpbmNvbWluZ1VybHMuaW5jbHVkZXMoYWN0aXZlVXJsKSkge1xuICAgICAgICAvLyBhY3RpdmUgbm90IHByZXNlbnQgaW4gaW5jb21pbmcsIGRlYWN0aXZhdGUgaXRcbiAgICAgICAgdGhlbWVzVG9EZWFjdGl2YXRlLnB1c2goYWN0aXZlVXJsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGFscmVhZHkgcHJlc2VudCBpbiBhY3RpdmUgdGhlbWVzLCByZW1vdmUgaXQgZnJvbSB0aGVtZXNUb0FjdGl2YXRlXG4gICAgICAgIHRoZW1lc1RvQWN0aXZhdGUgPSB0aGVtZXNUb0FjdGl2YXRlLmZpbHRlcigoY2FuZGlkYXRlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZSAhPSBhY3RpdmVVcmw7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYodGhpcy5sb2dnaW5nRW5hYmxlZCkge1xuICAgICAgY29uc29sZS5sb2coXCJEZWFjdGl2YXRpbmcgdGhlbWVzOlwiLCB0aGVtZXNUb0RlYWN0aXZhdGUpO1xuICAgICAgY29uc29sZS5sb2coXCJBY3RpdmF0aW5nIHRoZW1lczpcIiwgdGhlbWVzVG9BY3RpdmF0ZSk7XG4gICAgfVxuXG4gICAgZm9yKHZhciB0aGVtZSBvZiB0aGVtZXNUb0RlYWN0aXZhdGUpIHtcbiAgICAgIHRoaXMuZGVhY3RpdmF0ZVRoZW1lKHRoZW1lKTtcbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2ZVRoZW1lcyA9IGluY29taW5nVXJscztcblxuICAgIGZvcih2YXIgdXJsIG9mIHRoZW1lc1RvQWN0aXZhdGUpIHtcbiAgICAgIGlmKCF1cmwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgICBsaW5rLmlkID0gYnRvYSh1cmwpO1xuICAgICAgbGluay5ocmVmID0gdXJsO1xuICAgICAgbGluay50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICAgICAgbGluay5yZWwgPSBcInN0eWxlc2hlZXRcIjtcbiAgICAgIGxpbmsubWVkaWEgPSBcInNjcmVlbixwcmludFwiO1xuICAgICAgbGluay5jbGFzc05hbWUgPSBcImN1c3RvbS10aGVtZVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGxpbmspO1xuICAgIH1cbiAgfVxuXG4gIHRoZW1lRWxlbWVudEZvclVybCh1cmwpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjdXN0b20tdGhlbWVcIikpLnNsaWNlKCk7XG4gICAgcmV0dXJuIGVsZW1lbnRzLmZpbmQoKGVsZW1lbnQpID0+IHtcbiAgICAgIC8vIFdlIHVzZWQgdG8gc2VhcmNoIGhlcmUgYnkgYGhyZWZgLCBidXQgb24gZGVza3RvcCwgd2l0aCBsb2NhbCBmaWxlOi8vIHVybHMsIHRoYXQgZGlkbid0IHdvcmsgZm9yIHNvbWUgcmVhc29uLlxuICAgICAgcmV0dXJuIGVsZW1lbnQuaWQgPT0gYnRvYSh1cmwpO1xuICAgIH0pXG4gIH1cblxuICBkZWFjdGl2YXRlVGhlbWUodXJsKSB7XG4gICAgbGV0IGVsZW1lbnQgPSB0aGlzLnRoZW1lRWxlbWVudEZvclVybCh1cmwpO1xuICAgIGlmKGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qIFRoZW1lIGNhY2hpbmcgaXMgY3VycmVudGx5IGRpc2FibGVkLiBNaWdodCBiZSBlbmFibGVkIGluIHRoZSBmdXR1cmUgaWYgbmVjY2Vzc2FyeS4gKi9cbiAgLypcbiAgYWN0aXZhdGVDYWNoZWRUaGVtZXMoKSB7XG4gICAgbGV0IHRoZW1lcyA9IHRoaXMuZ2V0Q2FjaGVkVGhlbWVVcmxzKCk7XG4gICAgbGV0IHdyaXRlVG9DYWNoZSA9IGZhbHNlO1xuICAgIGlmKHRoaXMubG9nZ2luZ0VuYWJsZWQpIHsgY29uc29sZS5sb2coXCJBY3RpdmF0aW5nIGNhY2hlZCB0aGVtZXNcIiwgdGhlbWVzKTsgfVxuICAgIHRoaXMuYWN0aXZhdGVUaGVtZXModGhlbWVzLCB3cml0ZVRvQ2FjaGUpO1xuICB9XG5cbiAgY2FjaGVUaGVtZVVybHModXJscykge1xuICAgIGlmKHRoaXMubG9nZ2luZ0VuYWJsZWQpIHsgY29uc29sZS5sb2coXCJDYWNoaW5nIHRoZW1lIHVybHNcIiwgdXJscyk7IH1cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhY2hlZFRoZW1lVXJsc1wiLCBKU09OLnN0cmluZ2lmeSh1cmxzKSk7XG4gIH1cblxuICBkZWNhY2hlVGhlbWVVcmxzKCkge1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiY2FjaGVkVGhlbWVVcmxzXCIpO1xuICB9XG5cbiAgZ2V0Q2FjaGVkVGhlbWVVcmxzKCkge1xuICAgIGxldCB1cmxzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjYWNoZWRUaGVtZVVybHNcIik7XG4gICAgaWYodXJscykge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UodXJscyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cbiAgKi9cblxuXG4gIC8qIFV0aWxpdGllcyAqL1xuXG5cbiAgZ2VuZXJhdGVVVUlEKCkge1xuICAgIHZhciBjcnlwdG8gPSB3aW5kb3cuY3J5cHRvIHx8IHdpbmRvdy5tc0NyeXB0bztcbiAgICBpZihjcnlwdG8pIHtcbiAgICAgIHZhciBidWYgPSBuZXcgVWludDMyQXJyYXkoNCk7XG4gICAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGJ1Zik7XG4gICAgICB2YXIgaWR4ID0gLTE7XG4gICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgaWR4Kys7XG4gICAgICAgICAgdmFyIHIgPSAoYnVmW2lkeD4+M10gPj4gKChpZHglOCkqNCkpJjE1O1xuICAgICAgICAgIHZhciB2ID0gYyA9PSAneCcgPyByIDogKHImMHgzfDB4OCk7XG4gICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICBpZih3aW5kb3cucGVyZm9ybWFuY2UgJiYgdHlwZW9mIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cgPT09IFwiZnVuY3Rpb25cIil7XG4gICAgICAgIGQgKz0gcGVyZm9ybWFuY2Uubm93KCk7IC8vdXNlIGhpZ2gtcHJlY2lzaW9uIHRpbWVyIGlmIGF2YWlsYWJsZVxuICAgICAgfVxuICAgICAgdmFyIHV1aWQgPSAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgdmFyIHIgPSAoZCArIE1hdGgucmFuZG9tKCkqMTYpJTE2IHwgMDtcbiAgICAgICAgZCA9IE1hdGguZmxvb3IoZC8xNik7XG4gICAgICAgIHJldHVybiAoYz09J3gnID8gciA6IChyJjB4M3wweDgpKS50b1N0cmluZygxNik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB1dWlkO1xuICAgIH1cbiAgfVxufVxuXG5cbmlmKHR5cGVvZiBtb2R1bGUgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT0gXCJ1bmRlZmluZWRcIikge1xuICBtb2R1bGUuZXhwb3J0cyA9IENvbXBvbmVudE1hbmFnZXI7XG59XG5cbmlmKHdpbmRvdykge1xuICB3aW5kb3cuQ29tcG9uZW50TWFuYWdlciA9IENvbXBvbmVudE1hbmFnZXI7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwicHJvc2VtaXJyb3IuY3NzXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImluZGV4Lmh0bWxcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwic3R5bGVzLmNzc1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJleHQuanNvblwiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJkZXYtZXh0Lmpzb25cIjsiLCIvLyA6Oi0gUGVyc2lzdGVudCBkYXRhIHN0cnVjdHVyZSByZXByZXNlbnRpbmcgYW4gb3JkZXJlZCBtYXBwaW5nIGZyb21cbi8vIHN0cmluZ3MgdG8gdmFsdWVzLCB3aXRoIHNvbWUgY29udmVuaWVudCB1cGRhdGUgbWV0aG9kcy5cbmZ1bmN0aW9uIE9yZGVyZWRNYXAoY29udGVudCkge1xuICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xufVxuXG5PcmRlcmVkTWFwLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IE9yZGVyZWRNYXAsXG5cbiAgZmluZDogZnVuY3Rpb24oa2V5KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbnRlbnQubGVuZ3RoOyBpICs9IDIpXG4gICAgICBpZiAodGhpcy5jb250ZW50W2ldID09PSBrZXkpIHJldHVybiBpXG4gICAgcmV0dXJuIC0xXG4gIH0sXG5cbiAgLy8gOjogKHN0cmluZykg4oaSID9hbnlcbiAgLy8gUmV0cmlldmUgdGhlIHZhbHVlIHN0b3JlZCB1bmRlciBga2V5YCwgb3IgcmV0dXJuIHVuZGVmaW5lZCB3aGVuXG4gIC8vIG5vIHN1Y2gga2V5IGV4aXN0cy5cbiAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgZm91bmQgPSB0aGlzLmZpbmQoa2V5KTtcbiAgICByZXR1cm4gZm91bmQgPT0gLTEgPyB1bmRlZmluZWQgOiB0aGlzLmNvbnRlbnRbZm91bmQgKyAxXVxuICB9LFxuXG4gIC8vIDo6IChzdHJpbmcsIGFueSwgP3N0cmluZykg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQ3JlYXRlIGEgbmV3IG1hcCBieSByZXBsYWNpbmcgdGhlIHZhbHVlIG9mIGBrZXlgIHdpdGggYSBuZXdcbiAgLy8gdmFsdWUsIG9yIGFkZGluZyBhIGJpbmRpbmcgdG8gdGhlIGVuZCBvZiB0aGUgbWFwLiBJZiBgbmV3S2V5YCBpc1xuICAvLyBnaXZlbiwgdGhlIGtleSBvZiB0aGUgYmluZGluZyB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhhdCBrZXkuXG4gIHVwZGF0ZTogZnVuY3Rpb24oa2V5LCB2YWx1ZSwgbmV3S2V5KSB7XG4gICAgdmFyIHNlbGYgPSBuZXdLZXkgJiYgbmV3S2V5ICE9IGtleSA/IHRoaXMucmVtb3ZlKG5ld0tleSkgOiB0aGlzO1xuICAgIHZhciBmb3VuZCA9IHNlbGYuZmluZChrZXkpLCBjb250ZW50ID0gc2VsZi5jb250ZW50LnNsaWNlKCk7XG4gICAgaWYgKGZvdW5kID09IC0xKSB7XG4gICAgICBjb250ZW50LnB1c2gobmV3S2V5IHx8IGtleSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50W2ZvdW5kICsgMV0gPSB2YWx1ZTtcbiAgICAgIGlmIChuZXdLZXkpIGNvbnRlbnRbZm91bmRdID0gbmV3S2V5O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAoY29udGVudClcbiAgfSxcblxuICAvLyA6OiAoc3RyaW5nKSDihpIgT3JkZXJlZE1hcFxuICAvLyBSZXR1cm4gYSBtYXAgd2l0aCB0aGUgZ2l2ZW4ga2V5IHJlbW92ZWQsIGlmIGl0IGV4aXN0ZWQuXG4gIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGZvdW5kID0gdGhpcy5maW5kKGtleSk7XG4gICAgaWYgKGZvdW5kID09IC0xKSByZXR1cm4gdGhpc1xuICAgIHZhciBjb250ZW50ID0gdGhpcy5jb250ZW50LnNsaWNlKCk7XG4gICAgY29udGVudC5zcGxpY2UoZm91bmQsIDIpO1xuICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcChjb250ZW50KVxuICB9LFxuXG4gIC8vIDo6IChzdHJpbmcsIGFueSkg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQWRkIGEgbmV3IGtleSB0byB0aGUgc3RhcnQgb2YgdGhlIG1hcC5cbiAgYWRkVG9TdGFydDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcChba2V5LCB2YWx1ZV0uY29uY2F0KHRoaXMucmVtb3ZlKGtleSkuY29udGVudCkpXG4gIH0sXG5cbiAgLy8gOjogKHN0cmluZywgYW55KSDihpIgT3JkZXJlZE1hcFxuICAvLyBBZGQgYSBuZXcga2V5IHRvIHRoZSBlbmQgb2YgdGhlIG1hcC5cbiAgYWRkVG9FbmQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICB2YXIgY29udGVudCA9IHRoaXMucmVtb3ZlKGtleSkuY29udGVudC5zbGljZSgpO1xuICAgIGNvbnRlbnQucHVzaChrZXksIHZhbHVlKTtcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAoY29udGVudClcbiAgfSxcblxuICAvLyA6OiAoc3RyaW5nLCBzdHJpbmcsIGFueSkg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQWRkIGEga2V5IGFmdGVyIHRoZSBnaXZlbiBrZXkuIElmIGBwbGFjZWAgaXMgbm90IGZvdW5kLCB0aGUgbmV3XG4gIC8vIGtleSBpcyBhZGRlZCB0byB0aGUgZW5kLlxuICBhZGRCZWZvcmU6IGZ1bmN0aW9uKHBsYWNlLCBrZXksIHZhbHVlKSB7XG4gICAgdmFyIHdpdGhvdXQgPSB0aGlzLnJlbW92ZShrZXkpLCBjb250ZW50ID0gd2l0aG91dC5jb250ZW50LnNsaWNlKCk7XG4gICAgdmFyIGZvdW5kID0gd2l0aG91dC5maW5kKHBsYWNlKTtcbiAgICBjb250ZW50LnNwbGljZShmb3VuZCA9PSAtMSA/IGNvbnRlbnQubGVuZ3RoIDogZm91bmQsIDAsIGtleSwgdmFsdWUpO1xuICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcChjb250ZW50KVxuICB9LFxuXG4gIC8vIDo6ICgoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpKVxuICAvLyBDYWxsIHRoZSBnaXZlbiBmdW5jdGlvbiBmb3IgZWFjaCBrZXkvdmFsdWUgcGFpciBpbiB0aGUgbWFwLCBpblxuICAvLyBvcmRlci5cbiAgZm9yRWFjaDogZnVuY3Rpb24oZikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb250ZW50Lmxlbmd0aDsgaSArPSAyKVxuICAgICAgZih0aGlzLmNvbnRlbnRbaV0sIHRoaXMuY29udGVudFtpICsgMV0pO1xuICB9LFxuXG4gIC8vIDo6ICh1bmlvbjxPYmplY3QsIE9yZGVyZWRNYXA+KSDihpIgT3JkZXJlZE1hcFxuICAvLyBDcmVhdGUgYSBuZXcgbWFwIGJ5IHByZXBlbmRpbmcgdGhlIGtleXMgaW4gdGhpcyBtYXAgdGhhdCBkb24ndFxuICAvLyBhcHBlYXIgaW4gYG1hcGAgYmVmb3JlIHRoZSBrZXlzIGluIGBtYXBgLlxuICBwcmVwZW5kOiBmdW5jdGlvbihtYXApIHtcbiAgICBtYXAgPSBPcmRlcmVkTWFwLmZyb20obWFwKTtcbiAgICBpZiAoIW1hcC5zaXplKSByZXR1cm4gdGhpc1xuICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcChtYXAuY29udGVudC5jb25jYXQodGhpcy5zdWJ0cmFjdChtYXApLmNvbnRlbnQpKVxuICB9LFxuXG4gIC8vIDo6ICh1bmlvbjxPYmplY3QsIE9yZGVyZWRNYXA+KSDihpIgT3JkZXJlZE1hcFxuICAvLyBDcmVhdGUgYSBuZXcgbWFwIGJ5IGFwcGVuZGluZyB0aGUga2V5cyBpbiB0aGlzIG1hcCB0aGF0IGRvbid0XG4gIC8vIGFwcGVhciBpbiBgbWFwYCBhZnRlciB0aGUga2V5cyBpbiBgbWFwYC5cbiAgYXBwZW5kOiBmdW5jdGlvbihtYXApIHtcbiAgICBtYXAgPSBPcmRlcmVkTWFwLmZyb20obWFwKTtcbiAgICBpZiAoIW1hcC5zaXplKSByZXR1cm4gdGhpc1xuICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcCh0aGlzLnN1YnRyYWN0KG1hcCkuY29udGVudC5jb25jYXQobWFwLmNvbnRlbnQpKVxuICB9LFxuXG4gIC8vIDo6ICh1bmlvbjxPYmplY3QsIE9yZGVyZWRNYXA+KSDihpIgT3JkZXJlZE1hcFxuICAvLyBDcmVhdGUgYSBtYXAgY29udGFpbmluZyBhbGwgdGhlIGtleXMgaW4gdGhpcyBtYXAgdGhhdCBkb24ndFxuICAvLyBhcHBlYXIgaW4gYG1hcGAuXG4gIHN1YnRyYWN0OiBmdW5jdGlvbihtYXApIHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICBtYXAgPSBPcmRlcmVkTWFwLmZyb20obWFwKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcC5jb250ZW50Lmxlbmd0aDsgaSArPSAyKVxuICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlbW92ZShtYXAuY29udGVudFtpXSk7XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9LFxuXG4gIC8vIDo6IG51bWJlclxuICAvLyBUaGUgYW1vdW50IG9mIGtleXMgaW4gdGhpcyBtYXAuXG4gIGdldCBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoID4+IDFcbiAgfVxufTtcblxuLy8gOjogKD91bmlvbjxPYmplY3QsIE9yZGVyZWRNYXA+KSDihpIgT3JkZXJlZE1hcFxuLy8gUmV0dXJuIGEgbWFwIHdpdGggdGhlIGdpdmVuIGNvbnRlbnQuIElmIG51bGwsIGNyZWF0ZSBhbiBlbXB0eVxuLy8gbWFwLiBJZiBnaXZlbiBhbiBvcmRlcmVkIG1hcCwgcmV0dXJuIHRoYXQgbWFwIGl0c2VsZi4gSWYgZ2l2ZW4gYW5cbi8vIG9iamVjdCwgY3JlYXRlIGEgbWFwIGZyb20gdGhlIG9iamVjdCdzIHByb3BlcnRpZXMuXG5PcmRlcmVkTWFwLmZyb20gPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPcmRlcmVkTWFwKSByZXR1cm4gdmFsdWVcbiAgdmFyIGNvbnRlbnQgPSBbXTtcbiAgaWYgKHZhbHVlKSBmb3IgKHZhciBwcm9wIGluIHZhbHVlKSBjb250ZW50LnB1c2gocHJvcCwgdmFsdWVbcHJvcF0pO1xuICByZXR1cm4gbmV3IE9yZGVyZWRNYXAoY29udGVudClcbn07XG5cbnZhciBvcmRlcmVkbWFwID0gT3JkZXJlZE1hcDtcblxuZXhwb3J0IGRlZmF1bHQgb3JkZXJlZG1hcDtcbiIsImltcG9ydCAqIGFzIHN2Z3MgZnJvbSAnLi9hc3NldHMnO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1mb3JtYXQ9cGFyYWdyYXBoXSBpJykuaW5uZXJIVE1MID0gc3Zncy5Ob3RlcztcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWZvcm1hdD1jaGVja2xpc3RfaXRlbV0gaScpLmlubmVySFRNTCA9IHN2Z3MuQ2hlY2tCb3g7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1mb3JtYXQ9aGVhZGluZ10gaScpLmlubmVySFRNTCA9IHN2Z3MuRm9ybWF0U2l6ZTtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWZvcm1hdD11bm9yZGVyZWRfbGlzdF0gaScpLmlubmVySFRNTCA9IHN2Z3MuRm9ybWF0TGlzdEJ1bGxldGVkO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtZm9ybWF0PXN0cm9uZ10gaScpLmlubmVySFRNTCA9IHN2Z3MuRm9ybWF0Qm9sZDtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWZvcm1hdD1lbV0gaScpLmlubmVySFRNTCA9IHN2Z3MuRm9ybWF0SXRhbGljO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtZm9ybWF0PWNvZGVdIGknKS5pbm5lckhUTUwgPSBzdmdzLkNvZGU7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1mb3JtYXQ9bGlua10gaScpLmlubmVySFRNTCA9IHN2Z3MuTGluaztcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltkYXRhLWZvcm1hdD1vcmRlcmVkX2xpc3RdIGknKS5pbm5lckhUTUwgPSBzdmdzLkZvcm1hdExpc3ROdW1iZXJlZDtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdiNsaW5rLW1vZGFsIGxhYmVsIGEgaScpLmlubmVySFRNTCA9IHN2Z3MuT3BlbkluTmV3O1xuIiwiaW1wb3J0IHtmaW5kRGlmZlN0YXJ0LCBmaW5kRGlmZkVuZH0gZnJvbSBcIi4vZGlmZlwiXG5cbi8vIDo6LSBBIGZyYWdtZW50IHJlcHJlc2VudHMgYSBub2RlJ3MgY29sbGVjdGlvbiBvZiBjaGlsZCBub2Rlcy5cbi8vXG4vLyBMaWtlIG5vZGVzLCBmcmFnbWVudHMgYXJlIHBlcnNpc3RlbnQgZGF0YSBzdHJ1Y3R1cmVzLCBhbmQgeW91XG4vLyBzaG91bGQgbm90IG11dGF0ZSB0aGVtIG9yIHRoZWlyIGNvbnRlbnQuIFJhdGhlciwgeW91IGNyZWF0ZSBuZXdcbi8vIGluc3RhbmNlcyB3aGVuZXZlciBuZWVkZWQuIFRoZSBBUEkgdHJpZXMgdG8gbWFrZSB0aGlzIGVhc3kuXG5leHBvcnQgY2xhc3MgRnJhZ21lbnQge1xuICBjb25zdHJ1Y3Rvcihjb250ZW50LCBzaXplKSB7XG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudFxuICAgIC8vIDo6IG51bWJlclxuICAgIC8vIFRoZSBzaXplIG9mIHRoZSBmcmFnbWVudCwgd2hpY2ggaXMgdGhlIHRvdGFsIG9mIHRoZSBzaXplIG9mIGl0c1xuICAgIC8vIGNvbnRlbnQgbm9kZXMuXG4gICAgdGhpcy5zaXplID0gc2l6ZSB8fCAwXG4gICAgaWYgKHNpemUgPT0gbnVsbCkgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZW50Lmxlbmd0aDsgaSsrKVxuICAgICAgdGhpcy5zaXplICs9IGNvbnRlbnRbaV0ubm9kZVNpemVcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgKG5vZGU6IE5vZGUsIHN0YXJ0OiBudW1iZXIsIHBhcmVudDogTm9kZSwgaW5kZXg6IG51bWJlcikg4oaSID9ib29sLCA/bnVtYmVyKVxuICAvLyBJbnZva2UgYSBjYWxsYmFjayBmb3IgYWxsIGRlc2NlbmRhbnQgbm9kZXMgYmV0d2VlbiB0aGUgZ2l2ZW4gdHdvXG4gIC8vIHBvc2l0aW9ucyAocmVsYXRpdmUgdG8gc3RhcnQgb2YgdGhpcyBmcmFnbWVudCkuIERvZXNuJ3QgZGVzY2VuZFxuICAvLyBpbnRvIGEgbm9kZSB3aGVuIHRoZSBjYWxsYmFjayByZXR1cm5zIGBmYWxzZWAuXG4gIG5vZGVzQmV0d2Vlbihmcm9tLCB0bywgZiwgbm9kZVN0YXJ0ID0gMCwgcGFyZW50KSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7IHBvcyA8IHRvOyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IHRoaXMuY29udGVudFtpXSwgZW5kID0gcG9zICsgY2hpbGQubm9kZVNpemVcbiAgICAgIGlmIChlbmQgPiBmcm9tICYmIGYoY2hpbGQsIG5vZGVTdGFydCArIHBvcywgcGFyZW50LCBpKSAhPT0gZmFsc2UgJiYgY2hpbGQuY29udGVudC5zaXplKSB7XG4gICAgICAgIGxldCBzdGFydCA9IHBvcyArIDFcbiAgICAgICAgY2hpbGQubm9kZXNCZXR3ZWVuKE1hdGgubWF4KDAsIGZyb20gLSBzdGFydCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihjaGlsZC5jb250ZW50LnNpemUsIHRvIC0gc3RhcnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZiwgbm9kZVN0YXJ0ICsgc3RhcnQpXG4gICAgICB9XG4gICAgICBwb3MgPSBlbmRcbiAgICB9XG4gIH1cblxuICAvLyA6OiAoKG5vZGU6IE5vZGUsIHBvczogbnVtYmVyLCBwYXJlbnQ6IE5vZGUpIOKGkiA/Ym9vbClcbiAgLy8gQ2FsbCB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGV2ZXJ5IGRlc2NlbmRhbnQgbm9kZS4gVGhlIGNhbGxiYWNrXG4gIC8vIG1heSByZXR1cm4gYGZhbHNlYCB0byBwcmV2ZW50IHRyYXZlcnNhbCBvZiBhIGdpdmVuIG5vZGUncyBjaGlsZHJlbi5cbiAgZGVzY2VuZGFudHMoZikge1xuICAgIHRoaXMubm9kZXNCZXR3ZWVuKDAsIHRoaXMuc2l6ZSwgZilcbiAgfVxuXG4gIC8vIDogKG51bWJlciwgbnVtYmVyLCA/c3RyaW5nLCA/c3RyaW5nKSDihpIgc3RyaW5nXG4gIHRleHRCZXR3ZWVuKGZyb20sIHRvLCBibG9ja1NlcGFyYXRvciwgbGVhZlRleHQpIHtcbiAgICBsZXQgdGV4dCA9IFwiXCIsIHNlcGFyYXRlZCA9IHRydWVcbiAgICB0aGlzLm5vZGVzQmV0d2Vlbihmcm9tLCB0bywgKG5vZGUsIHBvcykgPT4ge1xuICAgICAgaWYgKG5vZGUuaXNUZXh0KSB7XG4gICAgICAgIHRleHQgKz0gbm9kZS50ZXh0LnNsaWNlKE1hdGgubWF4KGZyb20sIHBvcykgLSBwb3MsIHRvIC0gcG9zKVxuICAgICAgICBzZXBhcmF0ZWQgPSAhYmxvY2tTZXBhcmF0b3JcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5pc0xlYWYgJiYgbGVhZlRleHQpIHtcbiAgICAgICAgdGV4dCArPSBsZWFmVGV4dFxuICAgICAgICBzZXBhcmF0ZWQgPSAhYmxvY2tTZXBhcmF0b3JcbiAgICAgIH0gZWxzZSBpZiAoIXNlcGFyYXRlZCAmJiBub2RlLmlzQmxvY2spIHtcbiAgICAgICAgdGV4dCArPSBibG9ja1NlcGFyYXRvclxuICAgICAgICBzZXBhcmF0ZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSwgMClcbiAgICByZXR1cm4gdGV4dFxuICB9XG5cbiAgLy8gOjogKEZyYWdtZW50KSDihpIgRnJhZ21lbnRcbiAgLy8gQ3JlYXRlIGEgbmV3IGZyYWdtZW50IGNvbnRhaW5pbmcgdGhlIGNvbWJpbmVkIGNvbnRlbnQgb2YgdGhpc1xuICAvLyBmcmFnbWVudCBhbmQgdGhlIG90aGVyLlxuICBhcHBlbmQob3RoZXIpIHtcbiAgICBpZiAoIW90aGVyLnNpemUpIHJldHVybiB0aGlzXG4gICAgaWYgKCF0aGlzLnNpemUpIHJldHVybiBvdGhlclxuICAgIGxldCBsYXN0ID0gdGhpcy5sYXN0Q2hpbGQsIGZpcnN0ID0gb3RoZXIuZmlyc3RDaGlsZCwgY29udGVudCA9IHRoaXMuY29udGVudC5zbGljZSgpLCBpID0gMFxuICAgIGlmIChsYXN0LmlzVGV4dCAmJiBsYXN0LnNhbWVNYXJrdXAoZmlyc3QpKSB7XG4gICAgICBjb250ZW50W2NvbnRlbnQubGVuZ3RoIC0gMV0gPSBsYXN0LndpdGhUZXh0KGxhc3QudGV4dCArIGZpcnN0LnRleHQpXG4gICAgICBpID0gMVxuICAgIH1cbiAgICBmb3IgKDsgaSA8IG90aGVyLmNvbnRlbnQubGVuZ3RoOyBpKyspIGNvbnRlbnQucHVzaChvdGhlci5jb250ZW50W2ldKVxuICAgIHJldHVybiBuZXcgRnJhZ21lbnQoY29udGVudCwgdGhpcy5zaXplICsgb3RoZXIuc2l6ZSlcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIsID9udW1iZXIpIOKGkiBGcmFnbWVudFxuICAvLyBDdXQgb3V0IHRoZSBzdWItZnJhZ21lbnQgYmV0d2VlbiB0aGUgdHdvIGdpdmVuIHBvc2l0aW9ucy5cbiAgY3V0KGZyb20sIHRvKSB7XG4gICAgaWYgKHRvID09IG51bGwpIHRvID0gdGhpcy5zaXplXG4gICAgaWYgKGZyb20gPT0gMCAmJiB0byA9PSB0aGlzLnNpemUpIHJldHVybiB0aGlzXG4gICAgbGV0IHJlc3VsdCA9IFtdLCBzaXplID0gMFxuICAgIGlmICh0byA+IGZyb20pIGZvciAobGV0IGkgPSAwLCBwb3MgPSAwOyBwb3MgPCB0bzsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGQgPSB0aGlzLmNvbnRlbnRbaV0sIGVuZCA9IHBvcyArIGNoaWxkLm5vZGVTaXplXG4gICAgICBpZiAoZW5kID4gZnJvbSkge1xuICAgICAgICBpZiAocG9zIDwgZnJvbSB8fCBlbmQgPiB0bykge1xuICAgICAgICAgIGlmIChjaGlsZC5pc1RleHQpXG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkLmN1dChNYXRoLm1heCgwLCBmcm9tIC0gcG9zKSwgTWF0aC5taW4oY2hpbGQudGV4dC5sZW5ndGgsIHRvIC0gcG9zKSlcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkLmN1dChNYXRoLm1heCgwLCBmcm9tIC0gcG9zIC0gMSksIE1hdGgubWluKGNoaWxkLmNvbnRlbnQuc2l6ZSwgdG8gLSBwb3MgLSAxKSlcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQucHVzaChjaGlsZClcbiAgICAgICAgc2l6ZSArPSBjaGlsZC5ub2RlU2l6ZVxuICAgICAgfVxuICAgICAgcG9zID0gZW5kXG4gICAgfVxuICAgIHJldHVybiBuZXcgRnJhZ21lbnQocmVzdWx0LCBzaXplKVxuICB9XG5cbiAgY3V0QnlJbmRleChmcm9tLCB0bykge1xuICAgIGlmIChmcm9tID09IHRvKSByZXR1cm4gRnJhZ21lbnQuZW1wdHlcbiAgICBpZiAoZnJvbSA9PSAwICYmIHRvID09IHRoaXMuY29udGVudC5sZW5ndGgpIHJldHVybiB0aGlzXG4gICAgcmV0dXJuIG5ldyBGcmFnbWVudCh0aGlzLmNvbnRlbnQuc2xpY2UoZnJvbSwgdG8pKVxuICB9XG5cbiAgLy8gOjogKG51bWJlciwgTm9kZSkg4oaSIEZyYWdtZW50XG4gIC8vIENyZWF0ZSBhIG5ldyBmcmFnbWVudCBpbiB3aGljaCB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXggaXNcbiAgLy8gcmVwbGFjZWQgYnkgdGhlIGdpdmVuIG5vZGUuXG4gIHJlcGxhY2VDaGlsZChpbmRleCwgbm9kZSkge1xuICAgIGxldCBjdXJyZW50ID0gdGhpcy5jb250ZW50W2luZGV4XVxuICAgIGlmIChjdXJyZW50ID09IG5vZGUpIHJldHVybiB0aGlzXG4gICAgbGV0IGNvcHkgPSB0aGlzLmNvbnRlbnQuc2xpY2UoKVxuICAgIGxldCBzaXplID0gdGhpcy5zaXplICsgbm9kZS5ub2RlU2l6ZSAtIGN1cnJlbnQubm9kZVNpemVcbiAgICBjb3B5W2luZGV4XSA9IG5vZGVcbiAgICByZXR1cm4gbmV3IEZyYWdtZW50KGNvcHksIHNpemUpXG4gIH1cblxuICAvLyA6IChOb2RlKSDihpIgRnJhZ21lbnRcbiAgLy8gQ3JlYXRlIGEgbmV3IGZyYWdtZW50IGJ5IHByZXBlbmRpbmcgdGhlIGdpdmVuIG5vZGUgdG8gdGhpc1xuICAvLyBmcmFnbWVudC5cbiAgYWRkVG9TdGFydChub2RlKSB7XG4gICAgcmV0dXJuIG5ldyBGcmFnbWVudChbbm9kZV0uY29uY2F0KHRoaXMuY29udGVudCksIHRoaXMuc2l6ZSArIG5vZGUubm9kZVNpemUpXG4gIH1cblxuICAvLyA6IChOb2RlKSDihpIgRnJhZ21lbnRcbiAgLy8gQ3JlYXRlIGEgbmV3IGZyYWdtZW50IGJ5IGFwcGVuZGluZyB0aGUgZ2l2ZW4gbm9kZSB0byB0aGlzXG4gIC8vIGZyYWdtZW50LlxuICBhZGRUb0VuZChub2RlKSB7XG4gICAgcmV0dXJuIG5ldyBGcmFnbWVudCh0aGlzLmNvbnRlbnQuY29uY2F0KG5vZGUpLCB0aGlzLnNpemUgKyBub2RlLm5vZGVTaXplKVxuICB9XG5cbiAgLy8gOjogKEZyYWdtZW50KSDihpIgYm9vbFxuICAvLyBDb21wYXJlIHRoaXMgZnJhZ21lbnQgdG8gYW5vdGhlciBvbmUuXG4gIGVxKG90aGVyKSB7XG4gICAgaWYgKHRoaXMuY29udGVudC5sZW5ndGggIT0gb3RoZXIuY29udGVudC5sZW5ndGgpIHJldHVybiBmYWxzZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250ZW50Lmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKCF0aGlzLmNvbnRlbnRbaV0uZXEob3RoZXIuY29udGVudFtpXSkpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyA6OiA/Tm9kZVxuICAvLyBUaGUgZmlyc3QgY2hpbGQgb2YgdGhlIGZyYWdtZW50LCBvciBgbnVsbGAgaWYgaXQgaXMgZW1wdHkuXG4gIGdldCBmaXJzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aCA/IHRoaXMuY29udGVudFswXSA6IG51bGwgfVxuXG4gIC8vIDo6ID9Ob2RlXG4gIC8vIFRoZSBsYXN0IGNoaWxkIG9mIHRoZSBmcmFnbWVudCwgb3IgYG51bGxgIGlmIGl0IGlzIGVtcHR5LlxuICBnZXQgbGFzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aCA/IHRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMV0gOiBudWxsIH1cblxuICAvLyA6OiBudW1iZXJcbiAgLy8gVGhlIG51bWJlciBvZiBjaGlsZCBub2RlcyBpbiB0aGlzIGZyYWdtZW50LlxuICBnZXQgY2hpbGRDb3VudCgpIHsgcmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGggfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiBOb2RlXG4gIC8vIEdldCB0aGUgY2hpbGQgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguIFJhaXNlIGFuIGVycm9yIHdoZW4gdGhlXG4gIC8vIGluZGV4IGlzIG91dCBvZiByYW5nZS5cbiAgY2hpbGQoaW5kZXgpIHtcbiAgICBsZXQgZm91bmQgPSB0aGlzLmNvbnRlbnRbaW5kZXhdXG4gICAgaWYgKCFmb3VuZCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBcIiArIGluZGV4ICsgXCIgb3V0IG9mIHJhbmdlIGZvciBcIiArIHRoaXMpXG4gICAgcmV0dXJuIGZvdW5kXG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIgP05vZGVcbiAgLy8gR2V0IHRoZSBjaGlsZCBub2RlIGF0IHRoZSBnaXZlbiBpbmRleCwgaWYgaXQgZXhpc3RzLlxuICBtYXliZUNoaWxkKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudFtpbmRleF1cbiAgfVxuXG4gIC8vIDo6ICgobm9kZTogTm9kZSwgb2Zmc2V0OiBudW1iZXIsIGluZGV4OiBudW1iZXIpKVxuICAvLyBDYWxsIGBmYCBmb3IgZXZlcnkgY2hpbGQgbm9kZSwgcGFzc2luZyB0aGUgbm9kZSwgaXRzIG9mZnNldFxuICAvLyBpbnRvIHRoaXMgcGFyZW50IG5vZGUsIGFuZCBpdHMgaW5kZXguXG4gIGZvckVhY2goZikge1xuICAgIGZvciAobGV0IGkgPSAwLCBwID0gMDsgaSA8IHRoaXMuY29udGVudC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gdGhpcy5jb250ZW50W2ldXG4gICAgICBmKGNoaWxkLCBwLCBpKVxuICAgICAgcCArPSBjaGlsZC5ub2RlU2l6ZVxuICAgIH1cbiAgfVxuXG4gIC8vIDo6IChGcmFnbWVudCkg4oaSID9udW1iZXJcbiAgLy8gRmluZCB0aGUgZmlyc3QgcG9zaXRpb24gYXQgd2hpY2ggdGhpcyBmcmFnbWVudCBhbmQgYW5vdGhlclxuICAvLyBmcmFnbWVudCBkaWZmZXIsIG9yIGBudWxsYCBpZiB0aGV5IGFyZSB0aGUgc2FtZS5cbiAgZmluZERpZmZTdGFydChvdGhlciwgcG9zID0gMCkge1xuICAgIHJldHVybiBmaW5kRGlmZlN0YXJ0KHRoaXMsIG90aGVyLCBwb3MpXG4gIH1cblxuICAvLyA6OiAoRnJhZ21lbnQpIOKGkiA/e2E6IG51bWJlciwgYjogbnVtYmVyfVxuICAvLyBGaW5kIHRoZSBmaXJzdCBwb3NpdGlvbiwgc2VhcmNoaW5nIGZyb20gdGhlIGVuZCwgYXQgd2hpY2ggdGhpc1xuICAvLyBmcmFnbWVudCBhbmQgdGhlIGdpdmVuIGZyYWdtZW50IGRpZmZlciwgb3IgYG51bGxgIGlmIHRoZXkgYXJlIHRoZVxuICAvLyBzYW1lLiBTaW5jZSB0aGlzIHBvc2l0aW9uIHdpbGwgbm90IGJlIHRoZSBzYW1lIGluIGJvdGggbm9kZXMsIGFuXG4gIC8vIG9iamVjdCB3aXRoIHR3byBzZXBhcmF0ZSBwb3NpdGlvbnMgaXMgcmV0dXJuZWQuXG4gIGZpbmREaWZmRW5kKG90aGVyLCBwb3MgPSB0aGlzLnNpemUsIG90aGVyUG9zID0gb3RoZXIuc2l6ZSkge1xuICAgIHJldHVybiBmaW5kRGlmZkVuZCh0aGlzLCBvdGhlciwgcG9zLCBvdGhlclBvcylcbiAgfVxuXG4gIC8vIDogKG51bWJlciwgP251bWJlcikg4oaSIHtpbmRleDogbnVtYmVyLCBvZmZzZXQ6IG51bWJlcn1cbiAgLy8gRmluZCB0aGUgaW5kZXggYW5kIGlubmVyIG9mZnNldCBjb3JyZXNwb25kaW5nIHRvIGEgZ2l2ZW4gcmVsYXRpdmVcbiAgLy8gcG9zaXRpb24gaW4gdGhpcyBmcmFnbWVudC4gVGhlIHJlc3VsdCBvYmplY3Qgd2lsbCBiZSByZXVzZWRcbiAgLy8gKG92ZXJ3cml0dGVuKSB0aGUgbmV4dCB0aW1lIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuIChOb3QgcHVibGljLilcbiAgZmluZEluZGV4KHBvcywgcm91bmQgPSAtMSkge1xuICAgIGlmIChwb3MgPT0gMCkgcmV0dXJuIHJldEluZGV4KDAsIHBvcylcbiAgICBpZiAocG9zID09IHRoaXMuc2l6ZSkgcmV0dXJuIHJldEluZGV4KHRoaXMuY29udGVudC5sZW5ndGgsIHBvcylcbiAgICBpZiAocG9zID4gdGhpcy5zaXplIHx8IHBvcyA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKGBQb3NpdGlvbiAke3Bvc30gb3V0c2lkZSBvZiBmcmFnbWVudCAoJHt0aGlzfSlgKVxuICAgIGZvciAobGV0IGkgPSAwLCBjdXJQb3MgPSAwOzsgaSsrKSB7XG4gICAgICBsZXQgY3VyID0gdGhpcy5jaGlsZChpKSwgZW5kID0gY3VyUG9zICsgY3VyLm5vZGVTaXplXG4gICAgICBpZiAoZW5kID49IHBvcykge1xuICAgICAgICBpZiAoZW5kID09IHBvcyB8fCByb3VuZCA+IDApIHJldHVybiByZXRJbmRleChpICsgMSwgZW5kKVxuICAgICAgICByZXR1cm4gcmV0SW5kZXgoaSwgY3VyUG9zKVxuICAgICAgfVxuICAgICAgY3VyUG9zID0gZW5kXG4gICAgfVxuICB9XG5cbiAgLy8gOjogKCkg4oaSIHN0cmluZ1xuICAvLyBSZXR1cm4gYSBkZWJ1Z2dpbmcgc3RyaW5nIHRoYXQgZGVzY3JpYmVzIHRoaXMgZnJhZ21lbnQuXG4gIHRvU3RyaW5nKCkgeyByZXR1cm4gXCI8XCIgKyB0aGlzLnRvU3RyaW5nSW5uZXIoKSArIFwiPlwiIH1cblxuICB0b1N0cmluZ0lubmVyKCkgeyByZXR1cm4gdGhpcy5jb250ZW50LmpvaW4oXCIsIFwiKSB9XG5cbiAgLy8gOjogKCkg4oaSID9PYmplY3RcbiAgLy8gQ3JlYXRlIGEgSlNPTi1zZXJpYWxpemVhYmxlIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgZnJhZ21lbnQuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aCA/IHRoaXMuY29udGVudC5tYXAobiA9PiBuLnRvSlNPTigpKSA6IG51bGxcbiAgfVxuXG4gIC8vIDo6IChTY2hlbWEsID9PYmplY3QpIOKGkiBGcmFnbWVudFxuICAvLyBEZXNlcmlhbGl6ZSBhIGZyYWdtZW50IGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24uXG4gIHN0YXRpYyBmcm9tSlNPTihzY2hlbWEsIHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuIEZyYWdtZW50LmVtcHR5XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBGcmFnbWVudC5mcm9tSlNPTlwiKVxuICAgIHJldHVybiBuZXcgRnJhZ21lbnQodmFsdWUubWFwKHNjaGVtYS5ub2RlRnJvbUpTT04pKVxuICB9XG5cbiAgLy8gOjogKFtOb2RlXSkg4oaSIEZyYWdtZW50XG4gIC8vIEJ1aWxkIGEgZnJhZ21lbnQgZnJvbSBhbiBhcnJheSBvZiBub2Rlcy4gRW5zdXJlcyB0aGF0IGFkamFjZW50XG4gIC8vIHRleHQgbm9kZXMgd2l0aCB0aGUgc2FtZSBtYXJrcyBhcmUgam9pbmVkIHRvZ2V0aGVyLlxuICBzdGF0aWMgZnJvbUFycmF5KGFycmF5KSB7XG4gICAgaWYgKCFhcnJheS5sZW5ndGgpIHJldHVybiBGcmFnbWVudC5lbXB0eVxuICAgIGxldCBqb2luZWQsIHNpemUgPSAwXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG5vZGUgPSBhcnJheVtpXVxuICAgICAgc2l6ZSArPSBub2RlLm5vZGVTaXplXG4gICAgICBpZiAoaSAmJiBub2RlLmlzVGV4dCAmJiBhcnJheVtpIC0gMV0uc2FtZU1hcmt1cChub2RlKSkge1xuICAgICAgICBpZiAoIWpvaW5lZCkgam9pbmVkID0gYXJyYXkuc2xpY2UoMCwgaSlcbiAgICAgICAgam9pbmVkW2pvaW5lZC5sZW5ndGggLSAxXSA9IG5vZGUud2l0aFRleHQoam9pbmVkW2pvaW5lZC5sZW5ndGggLSAxXS50ZXh0ICsgbm9kZS50ZXh0KVxuICAgICAgfSBlbHNlIGlmIChqb2luZWQpIHtcbiAgICAgICAgam9pbmVkLnB1c2gobm9kZSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGcmFnbWVudChqb2luZWQgfHwgYXJyYXksIHNpemUpXG4gIH1cblxuICAvLyA6OiAoP3VuaW9uPEZyYWdtZW50LCBOb2RlLCBbTm9kZV0+KSDihpIgRnJhZ21lbnRcbiAgLy8gQ3JlYXRlIGEgZnJhZ21lbnQgZnJvbSBzb21ldGhpbmcgdGhhdCBjYW4gYmUgaW50ZXJwcmV0ZWQgYXMgYSBzZXRcbiAgLy8gb2Ygbm9kZXMuIEZvciBgbnVsbGAsIGl0IHJldHVybnMgdGhlIGVtcHR5IGZyYWdtZW50LiBGb3IgYVxuICAvLyBmcmFnbWVudCwgdGhlIGZyYWdtZW50IGl0c2VsZi4gRm9yIGEgbm9kZSBvciBhcnJheSBvZiBub2RlcywgYVxuICAvLyBmcmFnbWVudCBjb250YWluaW5nIHRob3NlIG5vZGVzLlxuICBzdGF0aWMgZnJvbShub2Rlcykge1xuICAgIGlmICghbm9kZXMpIHJldHVybiBGcmFnbWVudC5lbXB0eVxuICAgIGlmIChub2RlcyBpbnN0YW5jZW9mIEZyYWdtZW50KSByZXR1cm4gbm9kZXNcbiAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlcykpIHJldHVybiB0aGlzLmZyb21BcnJheShub2RlcylcbiAgICBpZiAobm9kZXMuYXR0cnMpIHJldHVybiBuZXcgRnJhZ21lbnQoW25vZGVzXSwgbm9kZXMubm9kZVNpemUpXG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDYW4gbm90IGNvbnZlcnQgXCIgKyBub2RlcyArIFwiIHRvIGEgRnJhZ21lbnRcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgKG5vZGVzLm5vZGVzQmV0d2VlbiA/IFwiIChsb29rcyBsaWtlIG11bHRpcGxlIHZlcnNpb25zIG9mIHByb3NlbWlycm9yLW1vZGVsIHdlcmUgbG9hZGVkKVwiIDogXCJcIikpXG4gIH1cbn1cblxuY29uc3QgZm91bmQgPSB7aW5kZXg6IDAsIG9mZnNldDogMH1cbmZ1bmN0aW9uIHJldEluZGV4KGluZGV4LCBvZmZzZXQpIHtcbiAgZm91bmQuaW5kZXggPSBpbmRleFxuICBmb3VuZC5vZmZzZXQgPSBvZmZzZXRcbiAgcmV0dXJuIGZvdW5kXG59XG5cbi8vIDo6IEZyYWdtZW50XG4vLyBBbiBlbXB0eSBmcmFnbWVudC4gSW50ZW5kZWQgdG8gYmUgcmV1c2VkIHdoZW5ldmVyIGEgbm9kZSBkb2Vzbid0XG4vLyBjb250YWluIGFueXRoaW5nIChyYXRoZXIgdGhhbiBhbGxvY2F0aW5nIGEgbmV3IGVtcHR5IGZyYWdtZW50IGZvclxuLy8gZWFjaCBsZWFmIG5vZGUpLlxuRnJhZ21lbnQuZW1wdHkgPSBuZXcgRnJhZ21lbnQoW10sIDApXG4iLCJleHBvcnQgZnVuY3Rpb24gZmluZERpZmZTdGFydChhLCBiLCBwb3MpIHtcbiAgZm9yIChsZXQgaSA9IDA7OyBpKyspIHtcbiAgICBpZiAoaSA9PSBhLmNoaWxkQ291bnQgfHwgaSA9PSBiLmNoaWxkQ291bnQpXG4gICAgICByZXR1cm4gYS5jaGlsZENvdW50ID09IGIuY2hpbGRDb3VudCA/IG51bGwgOiBwb3NcblxuICAgIGxldCBjaGlsZEEgPSBhLmNoaWxkKGkpLCBjaGlsZEIgPSBiLmNoaWxkKGkpXG4gICAgaWYgKGNoaWxkQSA9PSBjaGlsZEIpIHsgcG9zICs9IGNoaWxkQS5ub2RlU2l6ZTsgY29udGludWUgfVxuXG4gICAgaWYgKCFjaGlsZEEuc2FtZU1hcmt1cChjaGlsZEIpKSByZXR1cm4gcG9zXG5cbiAgICBpZiAoY2hpbGRBLmlzVGV4dCAmJiBjaGlsZEEudGV4dCAhPSBjaGlsZEIudGV4dCkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGNoaWxkQS50ZXh0W2pdID09IGNoaWxkQi50ZXh0W2pdOyBqKyspXG4gICAgICAgIHBvcysrXG4gICAgICByZXR1cm4gcG9zXG4gICAgfVxuICAgIGlmIChjaGlsZEEuY29udGVudC5zaXplIHx8IGNoaWxkQi5jb250ZW50LnNpemUpIHtcbiAgICAgIGxldCBpbm5lciA9IGZpbmREaWZmU3RhcnQoY2hpbGRBLmNvbnRlbnQsIGNoaWxkQi5jb250ZW50LCBwb3MgKyAxKVxuICAgICAgaWYgKGlubmVyICE9IG51bGwpIHJldHVybiBpbm5lclxuICAgIH1cbiAgICBwb3MgKz0gY2hpbGRBLm5vZGVTaXplXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmREaWZmRW5kKGEsIGIsIHBvc0EsIHBvc0IpIHtcbiAgZm9yIChsZXQgaUEgPSBhLmNoaWxkQ291bnQsIGlCID0gYi5jaGlsZENvdW50OzspIHtcbiAgICBpZiAoaUEgPT0gMCB8fCBpQiA9PSAwKVxuICAgICAgcmV0dXJuIGlBID09IGlCID8gbnVsbCA6IHthOiBwb3NBLCBiOiBwb3NCfVxuXG4gICAgbGV0IGNoaWxkQSA9IGEuY2hpbGQoLS1pQSksIGNoaWxkQiA9IGIuY2hpbGQoLS1pQiksIHNpemUgPSBjaGlsZEEubm9kZVNpemVcbiAgICBpZiAoY2hpbGRBID09IGNoaWxkQikge1xuICAgICAgcG9zQSAtPSBzaXplOyBwb3NCIC09IHNpemVcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgaWYgKCFjaGlsZEEuc2FtZU1hcmt1cChjaGlsZEIpKSByZXR1cm4ge2E6IHBvc0EsIGI6IHBvc0J9XG5cbiAgICBpZiAoY2hpbGRBLmlzVGV4dCAmJiBjaGlsZEEudGV4dCAhPSBjaGlsZEIudGV4dCkge1xuICAgICAgbGV0IHNhbWUgPSAwLCBtaW5TaXplID0gTWF0aC5taW4oY2hpbGRBLnRleHQubGVuZ3RoLCBjaGlsZEIudGV4dC5sZW5ndGgpXG4gICAgICB3aGlsZSAoc2FtZSA8IG1pblNpemUgJiYgY2hpbGRBLnRleHRbY2hpbGRBLnRleHQubGVuZ3RoIC0gc2FtZSAtIDFdID09IGNoaWxkQi50ZXh0W2NoaWxkQi50ZXh0Lmxlbmd0aCAtIHNhbWUgLSAxXSkge1xuICAgICAgICBzYW1lKys7IHBvc0EtLTsgcG9zQi0tXG4gICAgICB9XG4gICAgICByZXR1cm4ge2E6IHBvc0EsIGI6IHBvc0J9XG4gICAgfVxuICAgIGlmIChjaGlsZEEuY29udGVudC5zaXplIHx8IGNoaWxkQi5jb250ZW50LnNpemUpIHtcbiAgICAgIGxldCBpbm5lciA9IGZpbmREaWZmRW5kKGNoaWxkQS5jb250ZW50LCBjaGlsZEIuY29udGVudCwgcG9zQSAtIDEsIHBvc0IgLSAxKVxuICAgICAgaWYgKGlubmVyKSByZXR1cm4gaW5uZXJcbiAgICB9XG4gICAgcG9zQSAtPSBzaXplOyBwb3NCIC09IHNpemVcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVEZWVwKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlXG4gIGlmICghKGEgJiYgdHlwZW9mIGEgPT0gXCJvYmplY3RcIikgfHxcbiAgICAgICEoYiAmJiB0eXBlb2YgYiA9PSBcIm9iamVjdFwiKSkgcmV0dXJuIGZhbHNlXG4gIGxldCBhcnJheSA9IEFycmF5LmlzQXJyYXkoYSlcbiAgaWYgKEFycmF5LmlzQXJyYXkoYikgIT0gYXJyYXkpIHJldHVybiBmYWxzZVxuICBpZiAoYXJyYXkpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgaWYgKCFjb21wYXJlRGVlcChhW2ldLCBiW2ldKSkgcmV0dXJuIGZhbHNlXG4gIH0gZWxzZSB7XG4gICAgZm9yIChsZXQgcCBpbiBhKSBpZiAoIShwIGluIGIpIHx8ICFjb21wYXJlRGVlcChhW3BdLCBiW3BdKSkgcmV0dXJuIGZhbHNlXG4gICAgZm9yIChsZXQgcCBpbiBiKSBpZiAoIShwIGluIGEpKSByZXR1cm4gZmFsc2VcbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuIiwiaW1wb3J0IHtNYXJrVHlwZSwgU2xpY2UsIEZyYWdtZW50fSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuXG5pbXBvcnQge1RyYW5zZm9ybX0gZnJvbSBcIi4vdHJhbnNmb3JtXCJcbmltcG9ydCB7QWRkTWFya1N0ZXAsIFJlbW92ZU1hcmtTdGVwfSBmcm9tIFwiLi9tYXJrX3N0ZXBcIlxuaW1wb3J0IHtSZXBsYWNlU3RlcH0gZnJvbSBcIi4vcmVwbGFjZV9zdGVwXCJcblxuLy8gOjogKG51bWJlciwgbnVtYmVyLCBNYXJrKSDihpIgdGhpc1xuLy8gQWRkIHRoZSBnaXZlbiBtYXJrIHRvIHRoZSBpbmxpbmUgY29udGVudCBiZXR3ZWVuIGBmcm9tYCBhbmQgYHRvYC5cblRyYW5zZm9ybS5wcm90b3R5cGUuYWRkTWFyayA9IGZ1bmN0aW9uKGZyb20sIHRvLCBtYXJrKSB7XG4gIGxldCByZW1vdmVkID0gW10sIGFkZGVkID0gW10sIHJlbW92aW5nID0gbnVsbCwgYWRkaW5nID0gbnVsbFxuICB0aGlzLmRvYy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIChub2RlLCBwb3MsIHBhcmVudCkgPT4ge1xuICAgIGlmICghbm9kZS5pc0lubGluZSkgcmV0dXJuXG4gICAgbGV0IG1hcmtzID0gbm9kZS5tYXJrc1xuICAgIGlmICghbWFyay5pc0luU2V0KG1hcmtzKSAmJiBwYXJlbnQudHlwZS5hbGxvd3NNYXJrVHlwZShtYXJrLnR5cGUpKSB7XG4gICAgICBsZXQgc3RhcnQgPSBNYXRoLm1heChwb3MsIGZyb20pLCBlbmQgPSBNYXRoLm1pbihwb3MgKyBub2RlLm5vZGVTaXplLCB0bylcbiAgICAgIGxldCBuZXdTZXQgPSBtYXJrLmFkZFRvU2V0KG1hcmtzKVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghbWFya3NbaV0uaXNJblNldChuZXdTZXQpKSB7XG4gICAgICAgICAgaWYgKHJlbW92aW5nICYmIHJlbW92aW5nLnRvID09IHN0YXJ0ICYmIHJlbW92aW5nLm1hcmsuZXEobWFya3NbaV0pKVxuICAgICAgICAgICAgcmVtb3ZpbmcudG8gPSBlbmRcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZW1vdmVkLnB1c2gocmVtb3ZpbmcgPSBuZXcgUmVtb3ZlTWFya1N0ZXAoc3RhcnQsIGVuZCwgbWFya3NbaV0pKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhZGRpbmcgJiYgYWRkaW5nLnRvID09IHN0YXJ0KVxuICAgICAgICBhZGRpbmcudG8gPSBlbmRcbiAgICAgIGVsc2VcbiAgICAgICAgYWRkZWQucHVzaChhZGRpbmcgPSBuZXcgQWRkTWFya1N0ZXAoc3RhcnQsIGVuZCwgbWFyaykpXG4gICAgfVxuICB9KVxuXG4gIHJlbW92ZWQuZm9yRWFjaChzID0+IHRoaXMuc3RlcChzKSlcbiAgYWRkZWQuZm9yRWFjaChzID0+IHRoaXMuc3RlcChzKSlcbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gOjogKG51bWJlciwgbnVtYmVyLCA/dW5pb248TWFyaywgTWFya1R5cGU+KSDihpIgdGhpc1xuLy8gUmVtb3ZlIG1hcmtzIGZyb20gaW5saW5lIG5vZGVzIGJldHdlZW4gYGZyb21gIGFuZCBgdG9gLiBXaGVuIGBtYXJrYFxuLy8gaXMgYSBzaW5nbGUgbWFyaywgcmVtb3ZlIHByZWNpc2VseSB0aGF0IG1hcmsuIFdoZW4gaXQgaXMgYSBtYXJrIHR5cGUsXG4vLyByZW1vdmUgYWxsIG1hcmtzIG9mIHRoYXQgdHlwZS4gV2hlbiBpdCBpcyBudWxsLCByZW1vdmUgYWxsIG1hcmtzIG9mXG4vLyBhbnkgdHlwZS5cblRyYW5zZm9ybS5wcm90b3R5cGUucmVtb3ZlTWFyayA9IGZ1bmN0aW9uKGZyb20sIHRvLCBtYXJrID0gbnVsbCkge1xuICBsZXQgbWF0Y2hlZCA9IFtdLCBzdGVwID0gMFxuICB0aGlzLmRvYy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIChub2RlLCBwb3MpID0+IHtcbiAgICBpZiAoIW5vZGUuaXNJbmxpbmUpIHJldHVyblxuICAgIHN0ZXArK1xuICAgIGxldCB0b1JlbW92ZSA9IG51bGxcbiAgICBpZiAobWFyayBpbnN0YW5jZW9mIE1hcmtUeXBlKSB7XG4gICAgICBsZXQgZm91bmQgPSBtYXJrLmlzSW5TZXQobm9kZS5tYXJrcylcbiAgICAgIGlmIChmb3VuZCkgdG9SZW1vdmUgPSBbZm91bmRdXG4gICAgfSBlbHNlIGlmIChtYXJrKSB7XG4gICAgICBpZiAobWFyay5pc0luU2V0KG5vZGUubWFya3MpKSB0b1JlbW92ZSA9IFttYXJrXVxuICAgIH0gZWxzZSB7XG4gICAgICB0b1JlbW92ZSA9IG5vZGUubWFya3NcbiAgICB9XG4gICAgaWYgKHRvUmVtb3ZlICYmIHRvUmVtb3ZlLmxlbmd0aCkge1xuICAgICAgbGV0IGVuZCA9IE1hdGgubWluKHBvcyArIG5vZGUubm9kZVNpemUsIHRvKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b1JlbW92ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgc3R5bGUgPSB0b1JlbW92ZVtpXSwgZm91bmRcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXRjaGVkLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgbGV0IG0gPSBtYXRjaGVkW2pdXG4gICAgICAgICAgaWYgKG0uc3RlcCA9PSBzdGVwIC0gMSAmJiBzdHlsZS5lcShtYXRjaGVkW2pdLnN0eWxlKSkgZm91bmQgPSBtXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgZm91bmQudG8gPSBlbmRcbiAgICAgICAgICBmb3VuZC5zdGVwID0gc3RlcFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hdGNoZWQucHVzaCh7c3R5bGUsIGZyb206IE1hdGgubWF4KHBvcywgZnJvbSksIHRvOiBlbmQsIHN0ZXB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KVxuICBtYXRjaGVkLmZvckVhY2gobSA9PiB0aGlzLnN0ZXAobmV3IFJlbW92ZU1hcmtTdGVwKG0uZnJvbSwgbS50bywgbS5zdHlsZSkpKVxuICByZXR1cm4gdGhpc1xufVxuXG4vLyA6OiAobnVtYmVyLCBOb2RlVHlwZSwgP0NvbnRlbnRNYXRjaCkg4oaSIHRoaXNcbi8vIFJlbW92ZXMgYWxsIG1hcmtzIGFuZCBub2RlcyBmcm9tIHRoZSBjb250ZW50IG9mIHRoZSBub2RlIGF0IGBwb3NgXG4vLyB0aGF0IGRvbid0IG1hdGNoIHRoZSBnaXZlbiBuZXcgcGFyZW50IG5vZGUgdHlwZS4gQWNjZXB0cyBhblxuLy8gb3B0aW9uYWwgc3RhcnRpbmcgW2NvbnRlbnQgbWF0Y2hdKCNtb2RlbC5Db250ZW50TWF0Y2gpIGFzIHRoaXJkXG4vLyBhcmd1bWVudC5cblRyYW5zZm9ybS5wcm90b3R5cGUuY2xlYXJJbmNvbXBhdGlibGUgPSBmdW5jdGlvbihwb3MsIHBhcmVudFR5cGUsIG1hdGNoID0gcGFyZW50VHlwZS5jb250ZW50TWF0Y2gpIHtcbiAgbGV0IG5vZGUgPSB0aGlzLmRvYy5ub2RlQXQocG9zKVxuICBsZXQgZGVsU3RlcHMgPSBbXSwgY3VyID0gcG9zICsgMVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuY2hpbGRDb3VudDsgaSsrKSB7XG4gICAgbGV0IGNoaWxkID0gbm9kZS5jaGlsZChpKSwgZW5kID0gY3VyICsgY2hpbGQubm9kZVNpemVcbiAgICBsZXQgYWxsb3dlZCA9IG1hdGNoLm1hdGNoVHlwZShjaGlsZC50eXBlLCBjaGlsZC5hdHRycylcbiAgICBpZiAoIWFsbG93ZWQpIHtcbiAgICAgIGRlbFN0ZXBzLnB1c2gobmV3IFJlcGxhY2VTdGVwKGN1ciwgZW5kLCBTbGljZS5lbXB0eSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIG1hdGNoID0gYWxsb3dlZFxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjaGlsZC5tYXJrcy5sZW5ndGg7IGorKykgaWYgKCFwYXJlbnRUeXBlLmFsbG93c01hcmtUeXBlKGNoaWxkLm1hcmtzW2pdLnR5cGUpKVxuICAgICAgICB0aGlzLnN0ZXAobmV3IFJlbW92ZU1hcmtTdGVwKGN1ciwgZW5kLCBjaGlsZC5tYXJrc1tqXSkpXG4gICAgfVxuICAgIGN1ciA9IGVuZFxuICB9XG4gIGlmICghbWF0Y2gudmFsaWRFbmQpIHtcbiAgICBsZXQgZmlsbCA9IG1hdGNoLmZpbGxCZWZvcmUoRnJhZ21lbnQuZW1wdHksIHRydWUpXG4gICAgdGhpcy5yZXBsYWNlKGN1ciwgY3VyLCBuZXcgU2xpY2UoZmlsbCwgMCwgMCkpXG4gIH1cbiAgZm9yIChsZXQgaSA9IGRlbFN0ZXBzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB0aGlzLnN0ZXAoZGVsU3RlcHNbaV0pXG4gIHJldHVybiB0aGlzXG59XG4iLCJpbXBvcnQge0ZyYWdtZW50LCBTbGljZX0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcblxuaW1wb3J0IHtSZXBsYWNlU3RlcCwgUmVwbGFjZUFyb3VuZFN0ZXB9IGZyb20gXCIuL3JlcGxhY2Vfc3RlcFwiXG5pbXBvcnQge1RyYW5zZm9ybX0gZnJvbSBcIi4vdHJhbnNmb3JtXCJcbmltcG9ydCB7aW5zZXJ0UG9pbnR9IGZyb20gXCIuL3N0cnVjdHVyZVwiXG5cbi8vIDo6IChOb2RlLCBudW1iZXIsID9udW1iZXIsID9TbGljZSkg4oaSID9TdGVwXG4vLyDigJhGaXTigJkgYSBzbGljZSBpbnRvIGEgZ2l2ZW4gcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50LCBwcm9kdWNpbmcgYVxuLy8gW3N0ZXBdKCN0cmFuc2Zvcm0uU3RlcCkgdGhhdCBpbnNlcnRzIGl0LiBXaWxsIHJldHVybiBudWxsIGlmXG4vLyB0aGVyZSdzIG5vIG1lYW5pbmdmdWwgd2F5IHRvIGluc2VydCB0aGUgc2xpY2UgaGVyZSwgb3IgaW5zZXJ0aW5nIGl0XG4vLyB3b3VsZCBiZSBhIG5vLW9wIChhbiBlbXB0eSBzbGljZSBvdmVyIGFuIGVtcHR5IHJhbmdlKS5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlU3RlcChkb2MsIGZyb20sIHRvID0gZnJvbSwgc2xpY2UgPSBTbGljZS5lbXB0eSkge1xuICBpZiAoZnJvbSA9PSB0byAmJiAhc2xpY2Uuc2l6ZSkgcmV0dXJuIG51bGxcblxuICBsZXQgJGZyb20gPSBkb2MucmVzb2x2ZShmcm9tKSwgJHRvID0gZG9jLnJlc29sdmUodG8pXG4gIC8vIE9wdGltaXphdGlvbiAtLSBhdm9pZCB3b3JrIGlmIGl0J3Mgb2J2aW91cyB0aGF0IGl0J3Mgbm90IG5lZWRlZC5cbiAgaWYgKGZpdHNUcml2aWFsbHkoJGZyb20sICR0bywgc2xpY2UpKSByZXR1cm4gbmV3IFJlcGxhY2VTdGVwKGZyb20sIHRvLCBzbGljZSlcbiAgbGV0IHBsYWNlZCA9IHBsYWNlU2xpY2UoJGZyb20sIHNsaWNlKVxuXG4gIGxldCBmaXR0ZWRMZWZ0ID0gZml0TGVmdCgkZnJvbSwgcGxhY2VkKVxuICBsZXQgZml0dGVkID0gZml0UmlnaHQoJGZyb20sICR0bywgZml0dGVkTGVmdClcbiAgaWYgKCFmaXR0ZWQpIHJldHVybiBudWxsXG4gIGlmIChmaXR0ZWRMZWZ0LnNpemUgIT0gZml0dGVkLnNpemUgJiYgY2FuTW92ZVRleHQoJGZyb20sICR0bywgZml0dGVkTGVmdCkpIHtcbiAgICBsZXQgZCA9ICR0by5kZXB0aCwgYWZ0ZXIgPSAkdG8uYWZ0ZXIoZClcbiAgICB3aGlsZSAoZCA+IDEgJiYgYWZ0ZXIgPT0gJHRvLmVuZCgtLWQpKSArK2FmdGVyXG4gICAgbGV0IGZpdHRlZEFmdGVyID0gZml0UmlnaHQoJGZyb20sIGRvYy5yZXNvbHZlKGFmdGVyKSwgZml0dGVkTGVmdClcbiAgICBpZiAoZml0dGVkQWZ0ZXIpXG4gICAgICByZXR1cm4gbmV3IFJlcGxhY2VBcm91bmRTdGVwKGZyb20sIGFmdGVyLCB0bywgJHRvLmVuZCgpLCBmaXR0ZWRBZnRlciwgZml0dGVkTGVmdC5zaXplKVxuICB9XG4gIHJldHVybiBmaXR0ZWQuc2l6ZSB8fCBmcm9tICE9IHRvID8gbmV3IFJlcGxhY2VTdGVwKGZyb20sIHRvLCBmaXR0ZWQpIDogbnVsbFxufVxuXG4vLyA6OiAobnVtYmVyLCA/bnVtYmVyLCA/U2xpY2UpIOKGkiB0aGlzXG4vLyBSZXBsYWNlIHRoZSBwYXJ0IG9mIHRoZSBkb2N1bWVudCBiZXR3ZWVuIGBmcm9tYCBhbmQgYHRvYCB3aXRoIHRoZVxuLy8gZ2l2ZW4gYHNsaWNlYC5cblRyYW5zZm9ybS5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uKGZyb20sIHRvID0gZnJvbSwgc2xpY2UgPSBTbGljZS5lbXB0eSkge1xuICBsZXQgc3RlcCA9IHJlcGxhY2VTdGVwKHRoaXMuZG9jLCBmcm9tLCB0bywgc2xpY2UpXG4gIGlmIChzdGVwKSB0aGlzLnN0ZXAoc3RlcClcbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gOjogKG51bWJlciwgbnVtYmVyLCB1bmlvbjxGcmFnbWVudCwgTm9kZSwgW05vZGVdPikg4oaSIHRoaXNcbi8vIFJlcGxhY2UgdGhlIGdpdmVuIHJhbmdlIHdpdGggdGhlIGdpdmVuIGNvbnRlbnQsIHdoaWNoIG1heSBiZSBhXG4vLyBmcmFnbWVudCwgbm9kZSwgb3IgYXJyYXkgb2Ygbm9kZXMuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnJlcGxhY2VXaXRoID0gZnVuY3Rpb24oZnJvbSwgdG8sIGNvbnRlbnQpIHtcbiAgcmV0dXJuIHRoaXMucmVwbGFjZShmcm9tLCB0bywgbmV3IFNsaWNlKEZyYWdtZW50LmZyb20oY29udGVudCksIDAsIDApKVxufVxuXG4vLyA6OiAobnVtYmVyLCBudW1iZXIpIOKGkiB0aGlzXG4vLyBEZWxldGUgdGhlIGNvbnRlbnQgYmV0d2VlbiB0aGUgZ2l2ZW4gcG9zaXRpb25zLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICByZXR1cm4gdGhpcy5yZXBsYWNlKGZyb20sIHRvLCBTbGljZS5lbXB0eSlcbn1cblxuLy8gOjogKG51bWJlciwgdW5pb248RnJhZ21lbnQsIE5vZGUsIFtOb2RlXT4pIOKGkiB0aGlzXG4vLyBJbnNlcnQgdGhlIGdpdmVuIGNvbnRlbnQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbihwb3MsIGNvbnRlbnQpIHtcbiAgcmV0dXJuIHRoaXMucmVwbGFjZVdpdGgocG9zLCBwb3MsIGNvbnRlbnQpXG59XG5cblxuXG5mdW5jdGlvbiBmaXRMZWZ0SW5uZXIoJGZyb20sIGRlcHRoLCBwbGFjZWQsIHBsYWNlZEJlbG93KSB7XG4gIGxldCBjb250ZW50ID0gRnJhZ21lbnQuZW1wdHksIG9wZW5FbmQgPSAwLCBwbGFjZWRIZXJlID0gcGxhY2VkW2RlcHRoXVxuICBpZiAoJGZyb20uZGVwdGggPiBkZXB0aCkge1xuICAgIGxldCBpbm5lciA9IGZpdExlZnRJbm5lcigkZnJvbSwgZGVwdGggKyAxLCBwbGFjZWQsIHBsYWNlZEJlbG93IHx8IHBsYWNlZEhlcmUpXG4gICAgb3BlbkVuZCA9IGlubmVyLm9wZW5FbmQgKyAxXG4gICAgY29udGVudCA9IEZyYWdtZW50LmZyb20oJGZyb20ubm9kZShkZXB0aCArIDEpLmNvcHkoaW5uZXIuY29udGVudCkpXG4gIH1cblxuICBpZiAocGxhY2VkSGVyZSkge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LmFwcGVuZChwbGFjZWRIZXJlLmNvbnRlbnQpXG4gICAgb3BlbkVuZCA9IHBsYWNlZEhlcmUub3BlbkVuZFxuICB9XG4gIGlmIChwbGFjZWRCZWxvdykge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LmFwcGVuZCgkZnJvbS5ub2RlKGRlcHRoKS5jb250ZW50TWF0Y2hBdCgkZnJvbS5pbmRleEFmdGVyKGRlcHRoKSkuZmlsbEJlZm9yZShGcmFnbWVudC5lbXB0eSwgdHJ1ZSkpXG4gICAgb3BlbkVuZCA9IDBcbiAgfVxuXG4gIHJldHVybiB7Y29udGVudCwgb3BlbkVuZH1cbn1cblxuZnVuY3Rpb24gZml0TGVmdCgkZnJvbSwgcGxhY2VkKSB7XG4gIGxldCB7Y29udGVudCwgb3BlbkVuZH0gPSBmaXRMZWZ0SW5uZXIoJGZyb20sIDAsIHBsYWNlZCwgZmFsc2UpXG4gIHJldHVybiBuZXcgU2xpY2UoY29udGVudCwgJGZyb20uZGVwdGgsIG9wZW5FbmQgfHwgMClcbn1cblxuZnVuY3Rpb24gZml0UmlnaHRKb2luKGNvbnRlbnQsIHBhcmVudCwgJGZyb20sICR0bywgZGVwdGgsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICBsZXQgbWF0Y2gsIGNvdW50ID0gY29udGVudC5jaGlsZENvdW50LCBtYXRjaENvdW50ID0gY291bnQgLSAob3BlbkVuZCA+IDAgPyAxIDogMClcbiAgbGV0IHBhcmVudE5vZGUgPSBvcGVuU3RhcnQgPCAwID8gcGFyZW50IDogJGZyb20ubm9kZShkZXB0aClcbiAgaWYgKG9wZW5TdGFydCA8IDApXG4gICAgbWF0Y2ggPSBwYXJlbnROb2RlLmNvbnRlbnRNYXRjaEF0KG1hdGNoQ291bnQpXG4gIGVsc2UgaWYgKGNvdW50ID09IDEgJiYgb3BlbkVuZCA+IDApXG4gICAgbWF0Y2ggPSBwYXJlbnROb2RlLmNvbnRlbnRNYXRjaEF0KG9wZW5TdGFydCA/ICRmcm9tLmluZGV4KGRlcHRoKSA6ICRmcm9tLmluZGV4QWZ0ZXIoZGVwdGgpKVxuICBlbHNlXG4gICAgbWF0Y2ggPSBwYXJlbnROb2RlLmNvbnRlbnRNYXRjaEF0KCRmcm9tLmluZGV4QWZ0ZXIoZGVwdGgpKVxuICAgICAgLm1hdGNoRnJhZ21lbnQoY29udGVudCwgY291bnQgPiAwICYmIG9wZW5TdGFydCA/IDEgOiAwLCBtYXRjaENvdW50KVxuXG4gIGxldCB0b05vZGUgPSAkdG8ubm9kZShkZXB0aClcbiAgaWYgKG9wZW5FbmQgPiAwICYmIGRlcHRoIDwgJHRvLmRlcHRoKSB7XG4gICAgbGV0IGFmdGVyID0gdG9Ob2RlLmNvbnRlbnQuY3V0QnlJbmRleCgkdG8uaW5kZXhBZnRlcihkZXB0aCkpLmFkZFRvU3RhcnQoY29udGVudC5sYXN0Q2hpbGQpXG4gICAgbGV0IGpvaW5hYmxlID0gbWF0Y2guZmlsbEJlZm9yZShhZnRlciwgdHJ1ZSlcbiAgICAvLyBDYW4ndCBpbnNlcnQgY29udGVudCBpZiB0aGVyZSdzIGEgc2luZ2xlIG5vZGUgc3RyZXRjaGVkIGFjcm9zcyB0aGlzIGdhcFxuICAgIGlmIChqb2luYWJsZSAmJiBqb2luYWJsZS5zaXplICYmIG9wZW5TdGFydCA+IDAgJiYgY291bnQgPT0gMSkgam9pbmFibGUgPSBudWxsXG5cbiAgICBpZiAoam9pbmFibGUpIHtcbiAgICAgIGxldCBpbm5lciA9IGZpdFJpZ2h0Sm9pbihjb250ZW50Lmxhc3RDaGlsZC5jb250ZW50LCBjb250ZW50Lmxhc3RDaGlsZCwgJGZyb20sICR0byxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0aCArIDEsIGNvdW50ID09IDEgPyBvcGVuU3RhcnQgLSAxIDogLTEsIG9wZW5FbmQgLSAxKVxuICAgICAgaWYgKGlubmVyKSB7XG4gICAgICAgIGxldCBsYXN0ID0gY29udGVudC5sYXN0Q2hpbGQuY29weShpbm5lcilcbiAgICAgICAgaWYgKGpvaW5hYmxlLnNpemUpXG4gICAgICAgICAgcmV0dXJuIGNvbnRlbnQuY3V0QnlJbmRleCgwLCBjb3VudCAtIDEpLmFwcGVuZChqb2luYWJsZSkuYWRkVG9FbmQobGFzdClcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiBjb250ZW50LnJlcGxhY2VDaGlsZChjb3VudCAtIDEsIGxhc3QpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChvcGVuRW5kID4gMClcbiAgICBtYXRjaCA9IG1hdGNoLm1hdGNoVHlwZSgoY291bnQgPT0gMSAmJiBvcGVuU3RhcnQgPiAwID8gJGZyb20ubm9kZShkZXB0aCArIDEpIDogY29udGVudC5sYXN0Q2hpbGQpLnR5cGUpXG5cbiAgLy8gSWYgd2UncmUgaGVyZSwgdGhlIG5leHQgbGV2ZWwgY2FuJ3QgYmUgam9pbmVkLCBzbyB3ZSBzZWUgd2hhdFxuICAvLyBoYXBwZW5zIGlmIHdlIGxlYXZlIGl0IG9wZW4uXG4gIGxldCB0b0luZGV4ID0gJHRvLmluZGV4KGRlcHRoKVxuICBpZiAodG9JbmRleCA9PSB0b05vZGUuY2hpbGRDb3VudCAmJiAhdG9Ob2RlLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQocGFyZW50LnR5cGUpKSByZXR1cm4gbnVsbFxuICBsZXQgam9pbmFibGUgPSBtYXRjaC5maWxsQmVmb3JlKHRvTm9kZS5jb250ZW50LCB0cnVlLCB0b0luZGV4KVxuICBmb3IgKGxldCBpID0gdG9JbmRleDsgam9pbmFibGUgJiYgaSA8IHRvTm9kZS5jb250ZW50LmNoaWxkQ291bnQ7IGkrKylcbiAgICBpZiAoIXBhcmVudE5vZGUudHlwZS5hbGxvd3NNYXJrcyh0b05vZGUuY29udGVudC5jaGlsZChpKS5tYXJrcykpIGpvaW5hYmxlID0gbnVsbFxuICBpZiAoIWpvaW5hYmxlKSByZXR1cm4gbnVsbFxuXG4gIGlmIChvcGVuRW5kID4gMCkge1xuICAgIGxldCBjbG9zZWQgPSBmaXRSaWdodENsb3NlZChjb250ZW50Lmxhc3RDaGlsZCwgb3BlbkVuZCAtIDEsICRmcm9tLCBkZXB0aCArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ID09IDEgPyBvcGVuU3RhcnQgLSAxIDogLTEpXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUNoaWxkKGNvdW50IC0gMSwgY2xvc2VkKVxuICB9XG4gIGNvbnRlbnQgPSBjb250ZW50LmFwcGVuZChqb2luYWJsZSlcbiAgaWYgKCR0by5kZXB0aCA+IGRlcHRoKVxuICAgIGNvbnRlbnQgPSBjb250ZW50LmFkZFRvRW5kKGZpdFJpZ2h0U2VwYXJhdGUoJHRvLCBkZXB0aCArIDEpKVxuICByZXR1cm4gY29udGVudFxufVxuXG5mdW5jdGlvbiBmaXRSaWdodENsb3NlZChub2RlLCBvcGVuRW5kLCAkZnJvbSwgZGVwdGgsIG9wZW5TdGFydCkge1xuICBsZXQgbWF0Y2gsIGNvbnRlbnQgPSBub2RlLmNvbnRlbnQsIGNvdW50ID0gY29udGVudC5jaGlsZENvdW50XG4gIGlmIChvcGVuU3RhcnQgPj0gMClcbiAgICBtYXRjaCA9ICRmcm9tLm5vZGUoZGVwdGgpLmNvbnRlbnRNYXRjaEF0KCRmcm9tLmluZGV4QWZ0ZXIoZGVwdGgpKVxuICAgICAgLm1hdGNoRnJhZ21lbnQoY29udGVudCwgb3BlblN0YXJ0ID4gMCA/IDEgOiAwLCBjb3VudClcbiAgZWxzZVxuICAgIG1hdGNoID0gbm9kZS5jb250ZW50TWF0Y2hBdChjb3VudClcblxuICBpZiAob3BlbkVuZCA+IDApIHtcbiAgICBsZXQgY2xvc2VkID0gZml0UmlnaHRDbG9zZWQoY29udGVudC5sYXN0Q2hpbGQsIG9wZW5FbmQgLSAxLCAkZnJvbSwgZGVwdGggKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9PSAxID8gb3BlblN0YXJ0IC0gMSA6IC0xKVxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VDaGlsZChjb3VudCAtIDEsIGNsb3NlZClcbiAgfVxuXG4gIHJldHVybiBub2RlLmNvcHkoY29udGVudC5hcHBlbmQobWF0Y2guZmlsbEJlZm9yZShGcmFnbWVudC5lbXB0eSwgdHJ1ZSkpKVxufVxuXG5mdW5jdGlvbiBmaXRSaWdodFNlcGFyYXRlKCR0bywgZGVwdGgpIHtcbiAgbGV0IG5vZGUgPSAkdG8ubm9kZShkZXB0aClcbiAgbGV0IGZpbGwgPSBub2RlLmNvbnRlbnRNYXRjaEF0KDApLmZpbGxCZWZvcmUobm9kZS5jb250ZW50LCB0cnVlLCAkdG8uaW5kZXgoZGVwdGgpKVxuICBpZiAoJHRvLmRlcHRoID4gZGVwdGgpIGZpbGwgPSBmaWxsLmFkZFRvRW5kKGZpdFJpZ2h0U2VwYXJhdGUoJHRvLCBkZXB0aCArIDEpKVxuICByZXR1cm4gbm9kZS5jb3B5KGZpbGwpXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNsaWNlKGNvbnRlbnQsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICB3aGlsZSAob3BlblN0YXJ0ID4gMCAmJiBvcGVuRW5kID4gMCAmJiBjb250ZW50LmNoaWxkQ291bnQgPT0gMSkge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LmZpcnN0Q2hpbGQuY29udGVudFxuICAgIG9wZW5TdGFydC0tXG4gICAgb3BlbkVuZC0tXG4gIH1cbiAgcmV0dXJuIG5ldyBTbGljZShjb250ZW50LCBvcGVuU3RhcnQsIG9wZW5FbmQpXG59XG5cbi8vIDogKFJlc29sdmVkUG9zLCBSZXNvbHZlZFBvcywgbnVtYmVyLCBTbGljZSkg4oaSIFNsaWNlXG5mdW5jdGlvbiBmaXRSaWdodCgkZnJvbSwgJHRvLCBzbGljZSkge1xuICBsZXQgZml0dGVkID0gZml0UmlnaHRKb2luKHNsaWNlLmNvbnRlbnQsICRmcm9tLm5vZGUoMCksICRmcm9tLCAkdG8sIDAsIHNsaWNlLm9wZW5TdGFydCwgc2xpY2Uub3BlbkVuZClcbiAgaWYgKCFmaXR0ZWQpIHJldHVybiBudWxsXG4gIHJldHVybiBub3JtYWxpemVTbGljZShmaXR0ZWQsIHNsaWNlLm9wZW5TdGFydCwgJHRvLmRlcHRoKVxufVxuXG5mdW5jdGlvbiBmaXRzVHJpdmlhbGx5KCRmcm9tLCAkdG8sIHNsaWNlKSB7XG4gIHJldHVybiAhc2xpY2Uub3BlblN0YXJ0ICYmICFzbGljZS5vcGVuRW5kICYmICRmcm9tLnN0YXJ0KCkgPT0gJHRvLnN0YXJ0KCkgJiZcbiAgICAkZnJvbS5wYXJlbnQuY2FuUmVwbGFjZSgkZnJvbS5pbmRleCgpLCAkdG8uaW5kZXgoKSwgc2xpY2UuY29udGVudClcbn1cblxuZnVuY3Rpb24gY2FuTW92ZVRleHQoJGZyb20sICR0bywgc2xpY2UpIHtcbiAgaWYgKCEkdG8ucGFyZW50LmlzVGV4dGJsb2NrKSByZXR1cm4gZmFsc2VcblxuICBsZXQgcGFyZW50ID0gc2xpY2Uub3BlbkVuZCA/IG5vZGVSaWdodChzbGljZS5jb250ZW50LCBzbGljZS5vcGVuRW5kKVxuICAgICAgOiAkZnJvbS5ub2RlKCRmcm9tLmRlcHRoIC0gKHNsaWNlLm9wZW5TdGFydCAtIHNsaWNlLm9wZW5FbmQpKVxuICBpZiAoIXBhcmVudC5pc1RleHRibG9jaykgcmV0dXJuIGZhbHNlXG4gIGZvciAobGV0IGkgPSAkdG8uaW5kZXgoKTsgaSA8ICR0by5wYXJlbnQuY2hpbGRDb3VudDsgaSsrKVxuICAgIGlmICghcGFyZW50LnR5cGUuYWxsb3dzTWFya3MoJHRvLnBhcmVudC5jaGlsZChpKS5tYXJrcykpIHJldHVybiBmYWxzZVxuICBsZXQgbWF0Y2hcbiAgaWYgKHNsaWNlLm9wZW5FbmQpIHtcbiAgICBtYXRjaCA9IHBhcmVudC5jb250ZW50TWF0Y2hBdChwYXJlbnQuY2hpbGRDb3VudClcbiAgfSBlbHNlIHtcbiAgICBtYXRjaCA9IHBhcmVudC5jb250ZW50TWF0Y2hBdChwYXJlbnQuY2hpbGRDb3VudClcbiAgICBpZiAoc2xpY2Uuc2l6ZSkgbWF0Y2ggPSBtYXRjaC5tYXRjaEZyYWdtZW50KHNsaWNlLmNvbnRlbnQsIHNsaWNlLm9wZW5TdGFydCA/IDEgOiAwKVxuICB9XG4gIG1hdGNoID0gbWF0Y2gubWF0Y2hGcmFnbWVudCgkdG8ucGFyZW50LmNvbnRlbnQsICR0by5pbmRleCgpKVxuICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2gudmFsaWRFbmRcbn1cblxuZnVuY3Rpb24gbm9kZVJpZ2h0KGNvbnRlbnQsIGRlcHRoKSB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgZGVwdGg7IGkrKykgY29udGVudCA9IGNvbnRlbnQubGFzdENoaWxkLmNvbnRlbnRcbiAgcmV0dXJuIGNvbnRlbnQubGFzdENoaWxkXG59XG5cbi8vIEFsZ29yaXRobSBmb3IgJ3BsYWNpbmcnIHRoZSBlbGVtZW50cyBvZiBhIHNsaWNlIGludG8gYSBnYXA6XG4vL1xuLy8gV2UgY29uc2lkZXIgdGhlIGNvbnRlbnQgb2YgZWFjaCBub2RlIHRoYXQgaXMgb3BlbiB0byB0aGUgbGVmdCB0byBiZVxuLy8gaW5kZXBlbmRlbnRseSBwbGFjZWFibGUuIEkuZS4gaW4gPHAoXCJmb29cIiksIHAoXCJiYXJcIik+LCB3aGVuIHRoZVxuLy8gcGFyYWdyYXBoIG9uIHRoZSBsZWZ0IGlzIG9wZW4sIFwiZm9vXCIgY2FuIGJlIHBsYWNlZCAoc29tZXdoZXJlIG9uXG4vLyB0aGUgbGVmdCBzaWRlIG9mIHRoZSByZXBsYWNlbWVudCBnYXApIGluZGVwZW5kZW50bHkgZnJvbSBwKFwiYmFyXCIpLlxuLy9cbi8vIFNvIHBsYWNlU2xpY2Ugc3BsaXRzIHVwIGEgc2xpY2UgaW50byBhIG51bWJlciBvZiBzdWItc2xpY2VzLFxuLy8gYWxvbmcgd2l0aCBpbmZvcm1hdGlvbiBvbiB3aGVyZSB0aGV5IGNhbiBiZSBwbGFjZWQgb24gdGhlIGdpdmVuXG4vLyBsZWZ0LXNpZGUgZWRnZS4gSXQgd29ya3MgYnkgd2Fsa2luZyB0aGUgb3BlbiBzaWRlIG9mIHRoZSBzbGljZSxcbi8vIGZyb20gdGhlIGluc2lkZSBvdXQsIGFuZCB0cnlpbmcgdG8gZmluZCBhIGxhbmRpbmcgc3BvdCBmb3IgZWFjaFxuLy8gZWxlbWVudCwgYnkgc2ltdWx0YW5lb3VzbHkgc2Nhbm5pbmcgb3ZlciB0aGUgZ2FwIHNpZGUuIFdoZW4gbm9cbi8vIHBsYWNlIGlzIGZvdW5kIGZvciBhbiBvcGVuIG5vZGUncyBjb250ZW50LCBpdCBpcyBsZWZ0IGluIHRoYXQgbm9kZS5cblxuLy8gOiAoUmVzb2x2ZWRQb3MsIFNsaWNlKSDihpIgW3tjb250ZW50OiBGcmFnbWVudCwgb3BlbkVuZDogbnVtYmVyLCBkZXB0aDogbnVtYmVyfV1cbmZ1bmN0aW9uIHBsYWNlU2xpY2UoJGZyb20sIHNsaWNlKSB7XG4gIGxldCBmcm9udGllciA9IG5ldyBGcm9udGllcigkZnJvbSlcbiAgZm9yIChsZXQgcGFzcyA9IDE7IHNsaWNlLnNpemUgJiYgcGFzcyA8PSAzOyBwYXNzKyspIHtcbiAgICBsZXQgdmFsdWUgPSBmcm9udGllci5wbGFjZVNsaWNlKHNsaWNlLmNvbnRlbnQsIHNsaWNlLm9wZW5TdGFydCwgc2xpY2Uub3BlbkVuZCwgcGFzcylcbiAgICBpZiAocGFzcyA9PSAzICYmIHZhbHVlICE9IHNsaWNlICYmIHZhbHVlLnNpemUpIHBhc3MgPSAwIC8vIFJlc3RhcnQgaWYgdGhlIDNyZCBwYXNzIG1hZGUgcHJvZ3Jlc3MgYnV0IGxlZnQgY29udGVudFxuICAgIHNsaWNlID0gdmFsdWVcbiAgfVxuICB3aGlsZSAoZnJvbnRpZXIub3Blbi5sZW5ndGgpIGZyb250aWVyLmNsb3NlTm9kZSgpXG4gIHJldHVybiBmcm9udGllci5wbGFjZWRcbn1cblxuLy8gSGVscGVyIGNsYXNzIHRoYXQgbW9kZWxzIHRoZSBvcGVuIHNpZGUgb2YgdGhlIGluc2VydCBwb3NpdGlvbixcbi8vIGtlZXBpbmcgdHJhY2sgb2YgdGhlIGNvbnRlbnQgbWF0Y2ggYW5kIGFscmVhZHkgaW5zZXJ0ZWQgY29udGVudFxuLy8gYXQgZWFjaCBkZXB0aC5cbmNsYXNzIEZyb250aWVyIHtcbiAgY29uc3RydWN0b3IoJHBvcykge1xuICAgIC8vIDogW3twYXJlbnQ6IE5vZGUsIG1hdGNoOiBDb250ZW50TWF0Y2gsIGNvbnRlbnQ6IEZyYWdtZW50LCB3cmFwcGVyOiBib29sLCBvcGVuRW5kOiBudW1iZXIsIGRlcHRoOiBudW1iZXJ9XVxuICAgIHRoaXMub3BlbiA9IFtdXG4gICAgZm9yIChsZXQgZCA9IDA7IGQgPD0gJHBvcy5kZXB0aDsgZCsrKSB7XG4gICAgICBsZXQgcGFyZW50ID0gJHBvcy5ub2RlKGQpLCBtYXRjaCA9IHBhcmVudC5jb250ZW50TWF0Y2hBdCgkcG9zLmluZGV4QWZ0ZXIoZCkpXG4gICAgICB0aGlzLm9wZW4ucHVzaCh7cGFyZW50LCBtYXRjaCwgY29udGVudDogRnJhZ21lbnQuZW1wdHksIHdyYXBwZXI6IGZhbHNlLCBvcGVuRW5kOiAwLCBkZXB0aDogZH0pXG4gICAgfVxuICAgIHRoaXMucGxhY2VkID0gW11cbiAgfVxuXG4gIC8vIDogKEZyYWdtZW50LCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCA/Tm9kZSkg4oaSIFNsaWNlXG4gIC8vIFRyaWVzIHRvIHBsYWNlIHRoZSBjb250ZW50IG9mIHRoZSBnaXZlbiBzbGljZSwgYW5kIHJldHVybnMgYVxuICAvLyBzbGljZSBjb250YWluaW5nIHVucGxhY2VkIGNvbnRlbnQuXG4gIC8vXG4gIC8vIHBhc3MgMTogdHJ5IHRvIGZpdCBkaXJlY3RseVxuICAvLyBwYXNzIDI6IGFsbG93IHdyYXBwZXIgbm9kZXMgdG8gYmUgaW50cm9kdWNlZFxuICAvLyBwYXNzIDM6IGFsbG93IHVud3JhcHBpbmcgb2Ygbm9kZXMgdGhhdCBhcmVuJ3Qgb3BlblxuICBwbGFjZVNsaWNlKGZyYWdtZW50LCBvcGVuU3RhcnQsIG9wZW5FbmQsIHBhc3MsIHBhcmVudCkge1xuICAgIGlmIChvcGVuU3RhcnQgPiAwKSB7XG4gICAgICBsZXQgZmlyc3QgPSBmcmFnbWVudC5maXJzdENoaWxkXG4gICAgICBsZXQgaW5uZXIgPSB0aGlzLnBsYWNlU2xpY2UoZmlyc3QuY29udGVudCwgTWF0aC5tYXgoMCwgb3BlblN0YXJ0IC0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkVuZCAmJiBmcmFnbWVudC5jaGlsZENvdW50ID09IDEgPyBvcGVuRW5kIC0gMSA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzcywgZmlyc3QpXG4gICAgICBpZiAoaW5uZXIuY29udGVudCAhPSBmaXJzdC5jb250ZW50KSB7XG4gICAgICAgIGlmIChpbm5lci5jb250ZW50LnNpemUpIHtcbiAgICAgICAgICBmcmFnbWVudCA9IGZyYWdtZW50LnJlcGxhY2VDaGlsZCgwLCBmaXJzdC5jb3B5KGlubmVyLmNvbnRlbnQpKVxuICAgICAgICAgIG9wZW5TdGFydCA9IGlubmVyLm9wZW5TdGFydCArIDFcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoZnJhZ21lbnQuY2hpbGRDb3VudCA9PSAxKSBvcGVuRW5kID0gMFxuICAgICAgICAgIGZyYWdtZW50ID0gZnJhZ21lbnQuY3V0QnlJbmRleCgxKVxuICAgICAgICAgIG9wZW5TdGFydCA9IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gdGhpcy5wbGFjZUNvbnRlbnQoZnJhZ21lbnQsIG9wZW5TdGFydCwgb3BlbkVuZCwgcGFzcywgcGFyZW50KVxuICAgIGlmIChwYXNzID4gMiAmJiByZXN1bHQuc2l6ZSAmJiBvcGVuU3RhcnQgPT0gMCkge1xuICAgICAgbGV0IGNoaWxkID0gcmVzdWx0LmNvbnRlbnQuZmlyc3RDaGlsZCwgc2luZ2xlID0gcmVzdWx0LmNvbnRlbnQuY2hpbGRDb3VudCA9PSAxXG4gICAgICB0aGlzLnBsYWNlQ29udGVudChjaGlsZC5jb250ZW50LCAwLCBvcGVuRW5kICYmIHNpbmdsZSA/IG9wZW5FbmQgLSAxIDogMCwgcGFzcywgY2hpbGQpXG4gICAgICByZXN1bHQgPSBzaW5nbGUgPyBGcmFnbWVudC5lbXB0eSA6IG5ldyBTbGljZShyZXN1bHQuY29udGVudC5jdXRCeUluZGV4KDEpLCAwLCBvcGVuRW5kKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBwbGFjZUNvbnRlbnQoZnJhZ21lbnQsIG9wZW5TdGFydCwgb3BlbkVuZCwgcGFzcywgcGFyZW50KSB7XG4gICAgbGV0IGkgPSAwXG4gICAgLy8gR28gb3ZlciB0aGUgZnJhZ21lbnQncyBjaGlsZHJlblxuICAgIGZvciAoOyBpIDwgZnJhZ21lbnQuY2hpbGRDb3VudDsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGQgPSBmcmFnbWVudC5jaGlsZChpKSwgcGxhY2VkID0gZmFsc2UsIGxhc3QgPSBpID09IGZyYWdtZW50LmNoaWxkQ291bnQgLSAxXG4gICAgICAvLyBUcnkgZWFjaCBvcGVuIG5vZGUgaW4gdHVybiwgc3RhcnRpbmcgZnJvbSB0aGUgaW5uZXJtb3N0XG4gICAgICBmb3IgKGxldCBkID0gdGhpcy5vcGVuLmxlbmd0aCAtIDE7IGQgPj0gMDsgZC0tKSB7XG4gICAgICAgIGxldCBvcGVuID0gdGhpcy5vcGVuW2RdLCB3cmFwXG5cbiAgICAgICAgLy8gSWYgcGFzcyA+IDEsIGl0IGlzIGFsbG93ZWQgdG8gd3JhcCB0aGUgbm9kZSB0byBoZWxwIGZpbmQgYVxuICAgICAgICAvLyBmaXQsIHNvIGlmIGZpbmRXcmFwcGluZyByZXR1cm5zIHNvbWV0aGluZywgd2UgYWRkIG9wZW5cbiAgICAgICAgLy8gbm9kZXMgdG8gdGhlIGZyb250aWVyIGZvciB0aGF0IHdyYXBwaW5nLlxuICAgICAgICBpZiAocGFzcyA+IDEgJiYgKHdyYXAgPSBvcGVuLm1hdGNoLmZpbmRXcmFwcGluZyhjaGlsZC50eXBlKSkgJiZcbiAgICAgICAgICAgICEocGFyZW50ICYmIHdyYXAubGVuZ3RoICYmIHdyYXBbd3JhcC5sZW5ndGggLSAxXSA9PSBwYXJlbnQudHlwZSkpIHtcbiAgICAgICAgICB3aGlsZSAodGhpcy5vcGVuLmxlbmd0aCAtIDEgPiBkKSB0aGlzLmNsb3NlTm9kZSgpXG4gICAgICAgICAgZm9yIChsZXQgdyA9IDA7IHcgPCB3cmFwLmxlbmd0aDsgdysrKSB7XG4gICAgICAgICAgICBvcGVuLm1hdGNoID0gb3Blbi5tYXRjaC5tYXRjaFR5cGUod3JhcFt3XSlcbiAgICAgICAgICAgIGQrK1xuICAgICAgICAgICAgb3BlbiA9IHtwYXJlbnQ6IHdyYXBbd10uY3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoOiB3cmFwW3ddLmNvbnRlbnRNYXRjaCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogRnJhZ21lbnQuZW1wdHksIHdyYXBwZXI6IHRydWUsIG9wZW5FbmQ6IDAsIGRlcHRoOiBkICsgd31cbiAgICAgICAgICAgIHRoaXMub3Blbi5wdXNoKG9wZW4pXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VlIGlmIHRoZSBjaGlsZCBmaXRzIGhlcmVcbiAgICAgICAgbGV0IG1hdGNoID0gb3Blbi5tYXRjaC5tYXRjaFR5cGUoY2hpbGQudHlwZSlcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgIGxldCBmaWxsID0gb3Blbi5tYXRjaC5maWxsQmVmb3JlKEZyYWdtZW50LmZyb20oY2hpbGQpKVxuICAgICAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZpbGwuY2hpbGRDb3VudDsgaisrKSB7XG4gICAgICAgICAgICAgIGxldCBjaCA9IGZpbGwuY2hpbGQoailcbiAgICAgICAgICAgICAgdGhpcy5hZGROb2RlKG9wZW4sIGNoLCAwKVxuICAgICAgICAgICAgICBtYXRjaCA9IG9wZW4ubWF0Y2gubWF0Y2hGcmFnbWVudChjaClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcmVudCAmJiBvcGVuLm1hdGNoLm1hdGNoVHlwZShwYXJlbnQudHlwZSkpIHtcbiAgICAgICAgICAgIC8vIERvbid0IGNvbnRpbnVlIGxvb2tpbmcgZnVydGhlciB1cCBpZiB0aGUgcGFyZW50IG5vZGVcbiAgICAgICAgICAgIC8vIHdvdWxkIGZpdCBoZXJlLlxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbG9zZSBvcGVuIG5vZGVzIGFib3ZlIHRoaXMgb25lLCBzaW5jZSB3ZSdyZSBzdGFydGluZyB0b1xuICAgICAgICAvLyBhZGQgdG8gdGhpcy5cbiAgICAgICAgd2hpbGUgKHRoaXMub3Blbi5sZW5ndGggLSAxID4gZCkgdGhpcy5jbG9zZU5vZGUoKVxuICAgICAgICAvLyBTdHJpcCBtYXJrcyBmcm9tIHRoZSBjaGlsZCBvciBjbG9zZSBpdHMgc3RhcnQgd2hlbiBuZWNlc3NhcnlcbiAgICAgICAgY2hpbGQgPSBjaGlsZC5tYXJrKG9wZW4ucGFyZW50LnR5cGUuYWxsb3dlZE1hcmtzKGNoaWxkLm1hcmtzKSlcbiAgICAgICAgaWYgKG9wZW5TdGFydCkge1xuICAgICAgICAgIGNoaWxkID0gY2xvc2VOb2RlU3RhcnQoY2hpbGQsIG9wZW5TdGFydCwgbGFzdCA/IG9wZW5FbmQgOiAwKVxuICAgICAgICAgIG9wZW5TdGFydCA9IDBcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdGhlIGNoaWxkIHRvIHRoaXMgb3BlbiBub2RlIGFuZCBhZGp1c3QgaXRzIG1ldGFkYXRhXG4gICAgICAgIHRoaXMuYWRkTm9kZShvcGVuLCBjaGlsZCwgbGFzdCA/IG9wZW5FbmQgOiAwKVxuICAgICAgICBvcGVuLm1hdGNoID0gbWF0Y2hcbiAgICAgICAgaWYgKGxhc3QpIG9wZW5FbmQgPSAwXG4gICAgICAgIHBsYWNlZCA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIC8vIEFzIHNvb24gYXMgd2UndmUgZmFpbGVkIHRvIHBsYWNlIGEgbm9kZSB3ZSBzdG9wIGxvb2tpbmcgYXRcbiAgICAgIC8vIGxhdGVyIG5vZGVzXG4gICAgICBpZiAoIXBsYWNlZCkgYnJlYWtcbiAgICB9XG4gICAgLy8gQ2xvc2UgdGhlIGN1cnJlbnQgb3BlbiBub2RlIGlmIGl0J3Mgbm90IHRoZSB0aGUgcm9vdCBhbmQgd2VcbiAgICAvLyBlaXRoZXIgcGxhY2VkIHVwIHRvIHRoZSBlbmQgb2YgdGhlIG5vZGUgb3IgdGhlIHRoZSBjdXJyZW50XG4gICAgLy8gc2xpY2UgZGVwdGgncyBub2RlIHR5cGUgbWF0Y2hlcyB0aGUgb3BlbiBub2RlJ3MgdHlwZVxuICAgIGlmICh0aGlzLm9wZW4ubGVuZ3RoID4gMSAmJlxuICAgICAgICAoaSA+IDAgJiYgaSA9PSBmcmFnbWVudC5jaGlsZENvdW50IHx8XG4gICAgICAgICBwYXJlbnQgJiYgdGhpcy5vcGVuW3RoaXMub3Blbi5sZW5ndGggLSAxXS5wYXJlbnQudHlwZSA9PSBwYXJlbnQudHlwZSkpXG4gICAgICB0aGlzLmNsb3NlTm9kZSgpXG5cbiAgICByZXR1cm4gbmV3IFNsaWNlKGZyYWdtZW50LmN1dEJ5SW5kZXgoaSksIG9wZW5TdGFydCwgb3BlbkVuZClcbiAgfVxuXG4gIGFkZE5vZGUob3Blbiwgbm9kZSwgb3BlbkVuZCkge1xuICAgIG9wZW4uY29udGVudCA9IGNsb3NlRnJhZ21lbnRFbmQob3Blbi5jb250ZW50LCBvcGVuLm9wZW5FbmQpLmFkZFRvRW5kKG5vZGUpXG4gICAgb3Blbi5vcGVuRW5kID0gb3BlbkVuZFxuICB9XG5cbiAgY2xvc2VOb2RlKCkge1xuICAgIGxldCBvcGVuID0gdGhpcy5vcGVuLnBvcCgpXG4gICAgaWYgKG9wZW4uY29udGVudC5zaXplID09IDApIHtcbiAgICAgIC8vIE5vdGhpbmcgaGVyZVxuICAgIH0gZWxzZSBpZiAob3Blbi53cmFwcGVyKSB7XG4gICAgICB0aGlzLmFkZE5vZGUodGhpcy5vcGVuW3RoaXMub3Blbi5sZW5ndGggLSAxXSwgb3Blbi5wYXJlbnQuY29weShvcGVuLmNvbnRlbnQpLCBvcGVuLm9wZW5FbmQgKyAxKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBsYWNlZFtvcGVuLmRlcHRoXSA9IHtkZXB0aDogb3Blbi5kZXB0aCwgY29udGVudDogb3Blbi5jb250ZW50LCBvcGVuRW5kOiBvcGVuLm9wZW5FbmR9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNsb3NlTm9kZVN0YXJ0KG5vZGUsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICBsZXQgY29udGVudCA9IG5vZGUuY29udGVudFxuICBpZiAob3BlblN0YXJ0ID4gMSkge1xuICAgIGxldCBmaXJzdCA9IGNsb3NlTm9kZVN0YXJ0KG5vZGUuZmlyc3RDaGlsZCwgb3BlblN0YXJ0IC0gMSwgbm9kZS5jaGlsZENvdW50ID09IDEgPyBvcGVuRW5kIC0gMSA6IDApXG4gICAgY29udGVudCA9IG5vZGUuY29udGVudC5yZXBsYWNlQ2hpbGQoMCwgZmlyc3QpXG4gIH1cbiAgbGV0IGZpbGwgPSBub2RlLnR5cGUuY29udGVudE1hdGNoLmZpbGxCZWZvcmUoY29udGVudCwgb3BlbkVuZCA9PSAwKVxuICByZXR1cm4gbm9kZS5jb3B5KGZpbGwuYXBwZW5kKGNvbnRlbnQpKVxufVxuXG5mdW5jdGlvbiBjbG9zZU5vZGVFbmQobm9kZSwgZGVwdGgpIHtcbiAgbGV0IGNvbnRlbnQgPSBub2RlLmNvbnRlbnRcbiAgaWYgKGRlcHRoID4gMSkge1xuICAgIGxldCBsYXN0ID0gY2xvc2VOb2RlRW5kKG5vZGUubGFzdENoaWxkLCBkZXB0aCAtIDEpXG4gICAgY29udGVudCA9IG5vZGUuY29udGVudC5yZXBsYWNlQ2hpbGQobm9kZS5jaGlsZENvdW50IC0gMSwgbGFzdClcbiAgfVxuICBsZXQgZmlsbCA9IG5vZGUuY29udGVudE1hdGNoQXQobm9kZS5jaGlsZENvdW50KS5maWxsQmVmb3JlKEZyYWdtZW50LmVtcHR5LCB0cnVlKVxuICByZXR1cm4gbm9kZS5jb3B5KGNvbnRlbnQuYXBwZW5kKGZpbGwpKVxufVxuXG5mdW5jdGlvbiBjbG9zZUZyYWdtZW50RW5kKGZyYWdtZW50LCBkZXB0aCkge1xuICByZXR1cm4gZGVwdGggPyBmcmFnbWVudC5yZXBsYWNlQ2hpbGQoZnJhZ21lbnQuY2hpbGRDb3VudCAtIDEsIGNsb3NlTm9kZUVuZChmcmFnbWVudC5sYXN0Q2hpbGQsIGRlcHRoKSkgOiBmcmFnbWVudFxufVxuXG4vLyA6OiAobnVtYmVyLCBudW1iZXIsIFNsaWNlKSDihpIgdGhpc1xuLy8gUmVwbGFjZSBhIHJhbmdlIG9mIHRoZSBkb2N1bWVudCB3aXRoIGEgZ2l2ZW4gc2xpY2UsIHVzaW5nIGBmcm9tYCxcbi8vIGB0b2AsIGFuZCB0aGUgc2xpY2UncyBbYG9wZW5TdGFydGBdKCNtb2RlbC5TbGljZS5vcGVuU3RhcnQpIHByb3BlcnR5XG4vLyBhcyBoaW50cywgcmF0aGVyIHRoYW4gZml4ZWQgc3RhcnQgYW5kIGVuZCBwb2ludHMuIFRoaXMgbWV0aG9kIG1heVxuLy8gZ3JvdyB0aGUgcmVwbGFjZWQgYXJlYSBvciBjbG9zZSBvcGVuIG5vZGVzIGluIHRoZSBzbGljZSBpbiBvcmRlciB0b1xuLy8gZ2V0IGEgZml0IHRoYXQgaXMgbW9yZSBpbiBsaW5lIHdpdGggV1lTSVdZRyBleHBlY3RhdGlvbnMsIGJ5XG4vLyBkcm9wcGluZyBmdWxseSBjb3ZlcmVkIHBhcmVudCBub2RlcyBvZiB0aGUgcmVwbGFjZWQgcmVnaW9uIHdoZW5cbi8vIHRoZXkgYXJlIG1hcmtlZCBbbm9uLWRlZmluaW5nXSgjbW9kZWwuTm9kZVNwZWMuZGVmaW5pbmcpLCBvclxuLy8gaW5jbHVkaW5nIGFuIG9wZW4gcGFyZW50IG5vZGUgZnJvbSB0aGUgc2xpY2UgdGhhdCBfaXNfIG1hcmtlZCBhc1xuLy8gW2RlZmluaW5nXSgjbW9kZWwuTm9kZVNwZWMuZGVmaW5pbmcpLlxuLy9cbi8vIFRoaXMgaXMgdGhlIG1ldGhvZCwgZm9yIGV4YW1wbGUsIHRvIGhhbmRsZSBwYXN0ZS4gVGhlIHNpbWlsYXJcbi8vIFtgcmVwbGFjZWBdKCN0cmFuc2Zvcm0uVHJhbnNmb3JtLnJlcGxhY2UpIG1ldGhvZCBpcyBhIG1vcmVcbi8vIHByaW1pdGl2ZSB0b29sIHdoaWNoIHdpbGwgX25vdF8gbW92ZSB0aGUgc3RhcnQgYW5kIGVuZCBvZiBpdHMgZ2l2ZW5cbi8vIHJhbmdlLCBhbmQgaXMgdXNlZnVsIGluIHNpdHVhdGlvbnMgd2hlcmUgeW91IG5lZWQgbW9yZSBwcmVjaXNlXG4vLyBjb250cm9sIG92ZXIgd2hhdCBoYXBwZW5zLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5yZXBsYWNlUmFuZ2UgPSBmdW5jdGlvbihmcm9tLCB0bywgc2xpY2UpIHtcbiAgaWYgKCFzbGljZS5zaXplKSByZXR1cm4gdGhpcy5kZWxldGVSYW5nZShmcm9tLCB0bylcblxuICBsZXQgJGZyb20gPSB0aGlzLmRvYy5yZXNvbHZlKGZyb20pLCAkdG8gPSB0aGlzLmRvYy5yZXNvbHZlKHRvKVxuICBpZiAoZml0c1RyaXZpYWxseSgkZnJvbSwgJHRvLCBzbGljZSkpXG4gICAgcmV0dXJuIHRoaXMuc3RlcChuZXcgUmVwbGFjZVN0ZXAoZnJvbSwgdG8sIHNsaWNlKSlcblxuICBsZXQgdGFyZ2V0RGVwdGhzID0gY292ZXJlZERlcHRocygkZnJvbSwgdGhpcy5kb2MucmVzb2x2ZSh0bykpXG4gIC8vIENhbid0IHJlcGxhY2UgdGhlIHdob2xlIGRvY3VtZW50LCBzbyByZW1vdmUgMCBpZiBpdCdzIHByZXNlbnRcbiAgaWYgKHRhcmdldERlcHRoc1t0YXJnZXREZXB0aHMubGVuZ3RoIC0gMV0gPT0gMCkgdGFyZ2V0RGVwdGhzLnBvcCgpXG4gIC8vIE5lZ2F0aXZlIG51bWJlcnMgcmVwcmVzZW50IG5vdCBleHBhbnNpb24gb3ZlciB0aGUgd2hvbGUgbm9kZSBhdFxuICAvLyB0aGF0IGRlcHRoLCBidXQgcmVwbGFjaW5nIGZyb20gJGZyb20uYmVmb3JlKC1EKSB0byAkdG8ucG9zLlxuICBsZXQgcHJlZmVycmVkVGFyZ2V0ID0gLSgkZnJvbS5kZXB0aCArIDEpXG4gIHRhcmdldERlcHRocy51bnNoaWZ0KHByZWZlcnJlZFRhcmdldClcbiAgLy8gVGhpcyBsb29wIHBpY2tzIGEgcHJlZmVycmVkIHRhcmdldCBkZXB0aCwgaWYgb25lIG9mIHRoZSBjb3ZlcmluZ1xuICAvLyBkZXB0aHMgaXMgbm90IG91dHNpZGUgb2YgYSBkZWZpbmluZyBub2RlLCBhbmQgYWRkcyBuZWdhdGl2ZVxuICAvLyBkZXB0aHMgZm9yIGFueSBkZXB0aCB0aGF0IGhhcyAkZnJvbSBhdCBpdHMgc3RhcnQgYW5kIGRvZXMgbm90XG4gIC8vIGNyb3NzIGEgZGVmaW5pbmcgbm9kZS5cbiAgZm9yIChsZXQgZCA9ICRmcm9tLmRlcHRoLCBwb3MgPSAkZnJvbS5wb3MgLSAxOyBkID4gMDsgZC0tLCBwb3MtLSkge1xuICAgIGxldCBzcGVjID0gJGZyb20ubm9kZShkKS50eXBlLnNwZWNcbiAgICBpZiAoc3BlYy5kZWZpbmluZyB8fCBzcGVjLmlzb2xhdGluZykgYnJlYWtcbiAgICBpZiAodGFyZ2V0RGVwdGhzLmluZGV4T2YoZCkgPiAtMSkgcHJlZmVycmVkVGFyZ2V0ID0gZFxuICAgIGVsc2UgaWYgKCRmcm9tLmJlZm9yZShkKSA9PSBwb3MpIHRhcmdldERlcHRocy5zcGxpY2UoMSwgMCwgLWQpXG4gIH1cbiAgLy8gVHJ5IHRvIGZpdCBlYWNoIHBvc3NpYmxlIGRlcHRoIG9mIHRoZSBzbGljZSBpbnRvIGVhY2ggcG9zc2libGVcbiAgLy8gdGFyZ2V0IGRlcHRoLCBzdGFydGluZyB3aXRoIHRoZSBwcmVmZXJyZWQgZGVwdGhzLlxuICBsZXQgcHJlZmVycmVkVGFyZ2V0SW5kZXggPSB0YXJnZXREZXB0aHMuaW5kZXhPZihwcmVmZXJyZWRUYXJnZXQpXG5cbiAgbGV0IGxlZnROb2RlcyA9IFtdLCBwcmVmZXJyZWREZXB0aCA9IHNsaWNlLm9wZW5TdGFydFxuICBmb3IgKGxldCBjb250ZW50ID0gc2xpY2UuY29udGVudCwgaSA9IDA7OyBpKyspIHtcbiAgICBsZXQgbm9kZSA9IGNvbnRlbnQuZmlyc3RDaGlsZFxuICAgIGxlZnROb2Rlcy5wdXNoKG5vZGUpXG4gICAgaWYgKGkgPT0gc2xpY2Uub3BlblN0YXJ0KSBicmVha1xuICAgIGNvbnRlbnQgPSBub2RlLmNvbnRlbnRcbiAgfVxuICAvLyBCYWNrIHVwIGlmIHRoZSBub2RlIGRpcmVjdGx5IGFib3ZlIG9wZW5TdGFydCwgb3IgdGhlIG5vZGUgYWJvdmVcbiAgLy8gdGhhdCBzZXBhcmF0ZWQgb25seSBieSBhIG5vbi1kZWZpbmluZyB0ZXh0YmxvY2sgbm9kZSwgaXMgZGVmaW5pbmcuXG4gIGlmIChwcmVmZXJyZWREZXB0aCA+IDAgJiYgbGVmdE5vZGVzW3ByZWZlcnJlZERlcHRoIC0gMV0udHlwZS5zcGVjLmRlZmluaW5nICYmXG4gICAgICAkZnJvbS5ub2RlKHByZWZlcnJlZFRhcmdldEluZGV4KS50eXBlICE9IGxlZnROb2Rlc1twcmVmZXJyZWREZXB0aCAtIDFdLnR5cGUpXG4gICAgcHJlZmVycmVkRGVwdGggLT0gMVxuICBlbHNlIGlmIChwcmVmZXJyZWREZXB0aCA+PSAyICYmIGxlZnROb2Rlc1twcmVmZXJyZWREZXB0aCAtIDFdLmlzVGV4dGJsb2NrICYmIGxlZnROb2Rlc1twcmVmZXJyZWREZXB0aCAtIDJdLnR5cGUuc3BlYy5kZWZpbmluZyAmJlxuICAgICAgICAgICAkZnJvbS5ub2RlKHByZWZlcnJlZFRhcmdldEluZGV4KS50eXBlICE9IGxlZnROb2Rlc1twcmVmZXJyZWREZXB0aCAtIDJdLnR5cGUpXG4gICAgcHJlZmVycmVkRGVwdGggLT0gMlxuXG4gIGZvciAobGV0IGogPSBzbGljZS5vcGVuU3RhcnQ7IGogPj0gMDsgai0tKSB7XG4gICAgbGV0IG9wZW5EZXB0aCA9IChqICsgcHJlZmVycmVkRGVwdGggKyAxKSAlIChzbGljZS5vcGVuU3RhcnQgKyAxKVxuICAgIGxldCBpbnNlcnQgPSBsZWZ0Tm9kZXNbb3BlbkRlcHRoXVxuICAgIGlmICghaW5zZXJ0KSBjb250aW51ZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0RGVwdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBMb29wIG92ZXIgcG9zc2libGUgZXhwYW5zaW9uIGxldmVscywgc3RhcnRpbmcgd2l0aCB0aGVcbiAgICAgIC8vIHByZWZlcnJlZCBvbmVcbiAgICAgIGxldCB0YXJnZXREZXB0aCA9IHRhcmdldERlcHRoc1soaSArIHByZWZlcnJlZFRhcmdldEluZGV4KSAlIHRhcmdldERlcHRocy5sZW5ndGhdLCBleHBhbmQgPSB0cnVlXG4gICAgICBpZiAodGFyZ2V0RGVwdGggPCAwKSB7IGV4cGFuZCA9IGZhbHNlOyB0YXJnZXREZXB0aCA9IC10YXJnZXREZXB0aCB9XG4gICAgICBsZXQgcGFyZW50ID0gJGZyb20ubm9kZSh0YXJnZXREZXB0aCAtIDEpLCBpbmRleCA9ICRmcm9tLmluZGV4KHRhcmdldERlcHRoIC0gMSlcbiAgICAgIGlmIChwYXJlbnQuY2FuUmVwbGFjZVdpdGgoaW5kZXgsIGluZGV4LCBpbnNlcnQudHlwZSwgaW5zZXJ0Lm1hcmtzKSlcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSgkZnJvbS5iZWZvcmUodGFyZ2V0RGVwdGgpLCBleHBhbmQgPyAkdG8uYWZ0ZXIodGFyZ2V0RGVwdGgpIDogdG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWNlKGNsb3NlRnJhZ21lbnQoc2xpY2UuY29udGVudCwgMCwgc2xpY2Uub3BlblN0YXJ0LCBvcGVuRGVwdGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuRGVwdGgsIHNsaWNlLm9wZW5FbmQpKVxuICAgIH1cbiAgfVxuXG4gIGxldCBzdGFydFN0ZXBzID0gdGhpcy5zdGVwcy5sZW5ndGhcbiAgZm9yIChsZXQgaSA9IHRhcmdldERlcHRocy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHRoaXMucmVwbGFjZShmcm9tLCB0bywgc2xpY2UpXG4gICAgaWYgKHRoaXMuc3RlcHMubGVuZ3RoID4gc3RhcnRTdGVwcykgYnJlYWtcbiAgICBsZXQgZGVwdGggPSB0YXJnZXREZXB0aHNbaV1cbiAgICBpZiAoaSA8IDApIGNvbnRpbnVlXG4gICAgZnJvbSA9ICRmcm9tLmJlZm9yZShkZXB0aCk7IHRvID0gJHRvLmFmdGVyKGRlcHRoKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbmZ1bmN0aW9uIGNsb3NlRnJhZ21lbnQoZnJhZ21lbnQsIGRlcHRoLCBvbGRPcGVuLCBuZXdPcGVuLCBwYXJlbnQpIHtcbiAgaWYgKGRlcHRoIDwgb2xkT3Blbikge1xuICAgIGxldCBmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGRcbiAgICBmcmFnbWVudCA9IGZyYWdtZW50LnJlcGxhY2VDaGlsZCgwLCBmaXJzdC5jb3B5KGNsb3NlRnJhZ21lbnQoZmlyc3QuY29udGVudCwgZGVwdGggKyAxLCBvbGRPcGVuLCBuZXdPcGVuLCBmaXJzdCkpKVxuICB9XG4gIGlmIChkZXB0aCA+IG5ld09wZW4pIHtcbiAgICBsZXQgbWF0Y2ggPSBwYXJlbnQuY29udGVudE1hdGNoQXQoMClcbiAgICBsZXQgc3RhcnQgPSBtYXRjaC5maWxsQmVmb3JlKGZyYWdtZW50KS5hcHBlbmQoZnJhZ21lbnQpXG4gICAgZnJhZ21lbnQgPSBzdGFydC5hcHBlbmQobWF0Y2gubWF0Y2hGcmFnbWVudChzdGFydCkuZmlsbEJlZm9yZShGcmFnbWVudC5lbXB0eSwgdHJ1ZSkpXG4gIH1cbiAgcmV0dXJuIGZyYWdtZW50XG59XG5cbi8vIDo6IChudW1iZXIsIG51bWJlciwgTm9kZSkg4oaSIHRoaXNcbi8vIFJlcGxhY2UgdGhlIGdpdmVuIHJhbmdlIHdpdGggYSBub2RlLCBidXQgdXNlIGBmcm9tYCBhbmQgYHRvYCBhc1xuLy8gaGludHMsIHJhdGhlciB0aGFuIHByZWNpc2UgcG9zaXRpb25zLiBXaGVuIGZyb20gYW5kIHRvIGFyZSB0aGUgc2FtZVxuLy8gYW5kIGFyZSBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGEgcGFyZW50IG5vZGUgaW4gd2hpY2ggdGhlIGdpdmVuXG4vLyBub2RlIGRvZXNuJ3QgZml0LCB0aGlzIG1ldGhvZCBtYXkgX21vdmVfIHRoZW0gb3V0IHRvd2FyZHMgYSBwYXJlbnRcbi8vIHRoYXQgZG9lcyBhbGxvdyB0aGUgZ2l2ZW4gbm9kZSB0byBiZSBwbGFjZWQuIFdoZW4gdGhlIGdpdmVuIHJhbmdlXG4vLyBjb21wbGV0ZWx5IGNvdmVycyBhIHBhcmVudCBub2RlLCB0aGlzIG1ldGhvZCBtYXkgY29tcGxldGVseSByZXBsYWNlXG4vLyB0aGF0IHBhcmVudCBub2RlLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5yZXBsYWNlUmFuZ2VXaXRoID0gZnVuY3Rpb24oZnJvbSwgdG8sIG5vZGUpIHtcbiAgaWYgKCFub2RlLmlzSW5saW5lICYmIGZyb20gPT0gdG8gJiYgdGhpcy5kb2MucmVzb2x2ZShmcm9tKS5wYXJlbnQuY29udGVudC5zaXplKSB7XG4gICAgbGV0IHBvaW50ID0gaW5zZXJ0UG9pbnQodGhpcy5kb2MsIGZyb20sIG5vZGUudHlwZSlcbiAgICBpZiAocG9pbnQgIT0gbnVsbCkgZnJvbSA9IHRvID0gcG9pbnRcbiAgfVxuICByZXR1cm4gdGhpcy5yZXBsYWNlUmFuZ2UoZnJvbSwgdG8sIG5ldyBTbGljZShGcmFnbWVudC5mcm9tKG5vZGUpLCAwLCAwKSlcbn1cblxuLy8gOjogKG51bWJlciwgbnVtYmVyKSDihpIgdGhpc1xuLy8gRGVsZXRlIHRoZSBnaXZlbiByYW5nZSwgZXhwYW5kaW5nIGl0IHRvIGNvdmVyIGZ1bGx5IGNvdmVyZWRcbi8vIHBhcmVudCBub2RlcyB1bnRpbCBhIHZhbGlkIHJlcGxhY2UgaXMgZm91bmQuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLmRlbGV0ZVJhbmdlID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgbGV0ICRmcm9tID0gdGhpcy5kb2MucmVzb2x2ZShmcm9tKSwgJHRvID0gdGhpcy5kb2MucmVzb2x2ZSh0bylcbiAgbGV0IGNvdmVyZWQgPSBjb3ZlcmVkRGVwdGhzKCRmcm9tLCAkdG8pXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY292ZXJlZC5sZW5ndGg7IGkrKykge1xuICAgIGxldCBkZXB0aCA9IGNvdmVyZWRbaV0sIGxhc3QgPSBpID09IGNvdmVyZWQubGVuZ3RoIC0gMVxuICAgIGlmICgobGFzdCAmJiBkZXB0aCA9PSAwKSB8fCAkZnJvbS5ub2RlKGRlcHRoKS50eXBlLmNvbnRlbnRNYXRjaC52YWxpZEVuZClcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZSgkZnJvbS5zdGFydChkZXB0aCksICR0by5lbmQoZGVwdGgpKVxuICAgIGlmIChkZXB0aCA+IDAgJiYgKGxhc3QgfHwgJGZyb20ubm9kZShkZXB0aCAtIDEpLmNhblJlcGxhY2UoJGZyb20uaW5kZXgoZGVwdGggLSAxKSwgJHRvLmluZGV4QWZ0ZXIoZGVwdGggLSAxKSkpKVxuICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKCRmcm9tLmJlZm9yZShkZXB0aCksICR0by5hZnRlcihkZXB0aCkpXG4gIH1cbiAgZm9yIChsZXQgZCA9IDE7IGQgPD0gJGZyb20uZGVwdGggJiYgZCA8PSAkdG8uZGVwdGg7IGQrKykge1xuICAgIGlmIChmcm9tIC0gJGZyb20uc3RhcnQoZCkgPT0gJGZyb20uZGVwdGggLSBkICYmIHRvID4gJGZyb20uZW5kKGQpICYmICR0by5lbmQoZCkgLSB0byAhPSAkdG8uZGVwdGggLSBkKVxuICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKCRmcm9tLmJlZm9yZShkKSwgdG8pXG4gIH1cbiAgcmV0dXJuIHRoaXMuZGVsZXRlKGZyb20sIHRvKVxufVxuXG4vLyA6IChSZXNvbHZlZFBvcywgUmVzb2x2ZWRQb3MpIOKGkiBbbnVtYmVyXVxuLy8gUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgZGVwdGhzIGZvciB3aGljaCAkZnJvbSAtICR0byBzcGFucyB0aGVcbi8vIHdob2xlIGNvbnRlbnQgb2YgdGhlIG5vZGVzIGF0IHRoYXQgZGVwdGguXG5mdW5jdGlvbiBjb3ZlcmVkRGVwdGhzKCRmcm9tLCAkdG8pIHtcbiAgbGV0IHJlc3VsdCA9IFtdLCBtaW5EZXB0aCA9IE1hdGgubWluKCRmcm9tLmRlcHRoLCAkdG8uZGVwdGgpXG4gIGZvciAobGV0IGQgPSBtaW5EZXB0aDsgZCA+PSAwOyBkLS0pIHtcbiAgICBsZXQgc3RhcnQgPSAkZnJvbS5zdGFydChkKVxuICAgIGlmIChzdGFydCA8ICRmcm9tLnBvcyAtICgkZnJvbS5kZXB0aCAtIGQpIHx8XG4gICAgICAgICR0by5lbmQoZCkgPiAkdG8ucG9zICsgKCR0by5kZXB0aCAtIGQpIHx8XG4gICAgICAgICRmcm9tLm5vZGUoZCkudHlwZS5zcGVjLmlzb2xhdGluZyB8fFxuICAgICAgICAkdG8ubm9kZShkKS50eXBlLnNwZWMuaXNvbGF0aW5nKSBicmVha1xuICAgIGlmIChzdGFydCA9PSAkdG8uc3RhcnQoZCkpIHJlc3VsdC5wdXNoKGQpXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuIiwiaW1wb3J0IHtNYXJrfSBmcm9tIFwiLi9tYXJrXCJcblxuLy8gOjotIFlvdSBjYW4gW19yZXNvbHZlX10oI21vZGVsLk5vZGUucmVzb2x2ZSkgYSBwb3NpdGlvbiB0byBnZXQgbW9yZVxuLy8gaW5mb3JtYXRpb24gYWJvdXQgaXQuIE9iamVjdHMgb2YgdGhpcyBjbGFzcyByZXByZXNlbnQgc3VjaCBhXG4vLyByZXNvbHZlZCBwb3NpdGlvbiwgcHJvdmlkaW5nIHZhcmlvdXMgcGllY2VzIG9mIGNvbnRleHQgaW5mb3JtYXRpb24sXG4vLyBhbmQgc29tZSBoZWxwZXIgbWV0aG9kcy5cbi8vXG4vLyBUaHJvdWdob3V0IHRoaXMgaW50ZXJmYWNlLCBtZXRob2RzIHRoYXQgdGFrZSBhbiBvcHRpb25hbCBgZGVwdGhgXG4vLyBwYXJhbWV0ZXIgd2lsbCBpbnRlcnByZXQgdW5kZWZpbmVkIGFzIGB0aGlzLmRlcHRoYCBhbmQgbmVnYXRpdmVcbi8vIG51bWJlcnMgYXMgYHRoaXMuZGVwdGggKyB2YWx1ZWAuXG5leHBvcnQgY2xhc3MgUmVzb2x2ZWRQb3Mge1xuICBjb25zdHJ1Y3Rvcihwb3MsIHBhdGgsIHBhcmVudE9mZnNldCkge1xuICAgIC8vIDo6IG51bWJlciBUaGUgcG9zaXRpb24gdGhhdCB3YXMgcmVzb2x2ZWQuXG4gICAgdGhpcy5wb3MgPSBwb3NcbiAgICB0aGlzLnBhdGggPSBwYXRoXG4gICAgLy8gOjogbnVtYmVyXG4gICAgLy8gVGhlIG51bWJlciBvZiBsZXZlbHMgdGhlIHBhcmVudCBub2RlIGlzIGZyb20gdGhlIHJvb3QuIElmIHRoaXNcbiAgICAvLyBwb3NpdGlvbiBwb2ludHMgZGlyZWN0bHkgaW50byB0aGUgcm9vdCBub2RlLCBpdCBpcyAwLiBJZiBpdFxuICAgIC8vIHBvaW50cyBpbnRvIGEgdG9wLWxldmVsIHBhcmFncmFwaCwgMSwgYW5kIHNvIG9uLlxuICAgIHRoaXMuZGVwdGggPSBwYXRoLmxlbmd0aCAvIDMgLSAxXG4gICAgLy8gOjogbnVtYmVyIFRoZSBvZmZzZXQgdGhpcyBwb3NpdGlvbiBoYXMgaW50byBpdHMgcGFyZW50IG5vZGUuXG4gICAgdGhpcy5wYXJlbnRPZmZzZXQgPSBwYXJlbnRPZmZzZXRcbiAgfVxuXG4gIHJlc29sdmVEZXB0aCh2YWwpIHtcbiAgICBpZiAodmFsID09IG51bGwpIHJldHVybiB0aGlzLmRlcHRoXG4gICAgaWYgKHZhbCA8IDApIHJldHVybiB0aGlzLmRlcHRoICsgdmFsXG4gICAgcmV0dXJuIHZhbFxuICB9XG5cbiAgLy8gOjogTm9kZVxuICAvLyBUaGUgcGFyZW50IG5vZGUgdGhhdCB0aGUgcG9zaXRpb24gcG9pbnRzIGludG8uIE5vdGUgdGhhdCBldmVuIGlmXG4gIC8vIGEgcG9zaXRpb24gcG9pbnRzIGludG8gYSB0ZXh0IG5vZGUsIHRoYXQgbm9kZSBpcyBub3QgY29uc2lkZXJlZFxuICAvLyB0aGUgcGFyZW504oCUdGV4dCBub2RlcyBhcmUg4oCYZmxhdOKAmSBpbiB0aGlzIG1vZGVsLCBhbmQgaGF2ZSBubyBjb250ZW50LlxuICBnZXQgcGFyZW50KCkgeyByZXR1cm4gdGhpcy5ub2RlKHRoaXMuZGVwdGgpIH1cblxuICAvLyA6OiBOb2RlXG4gIC8vIFRoZSByb290IG5vZGUgaW4gd2hpY2ggdGhlIHBvc2l0aW9uIHdhcyByZXNvbHZlZC5cbiAgZ2V0IGRvYygpIHsgcmV0dXJuIHRoaXMubm9kZSgwKSB9XG5cbiAgLy8gOjogKD9udW1iZXIpIOKGkiBOb2RlXG4gIC8vIFRoZSBhbmNlc3RvciBub2RlIGF0IHRoZSBnaXZlbiBsZXZlbC4gYHAubm9kZShwLmRlcHRoKWAgaXMgdGhlXG4gIC8vIHNhbWUgYXMgYHAucGFyZW50YC5cbiAgbm9kZShkZXB0aCkgeyByZXR1cm4gdGhpcy5wYXRoW3RoaXMucmVzb2x2ZURlcHRoKGRlcHRoKSAqIDNdIH1cblxuICAvLyA6OiAoP251bWJlcikg4oaSIG51bWJlclxuICAvLyBUaGUgaW5kZXggaW50byB0aGUgYW5jZXN0b3IgYXQgdGhlIGdpdmVuIGxldmVsLiBJZiB0aGlzIHBvaW50cyBhdFxuICAvLyB0aGUgM3JkIG5vZGUgaW4gdGhlIDJuZCBwYXJhZ3JhcGggb24gdGhlIHRvcCBsZXZlbCwgZm9yIGV4YW1wbGUsXG4gIC8vIGBwLmluZGV4KDApYCBpcyAxIGFuZCBgcC5pbmRleCgxKWAgaXMgMi5cbiAgaW5kZXgoZGVwdGgpIHsgcmV0dXJuIHRoaXMucGF0aFt0aGlzLnJlc29sdmVEZXB0aChkZXB0aCkgKiAzICsgMV0gfVxuXG4gIC8vIDo6ICg/bnVtYmVyKSDihpIgbnVtYmVyXG4gIC8vIFRoZSBpbmRleCBwb2ludGluZyBhZnRlciB0aGlzIHBvc2l0aW9uIGludG8gdGhlIGFuY2VzdG9yIGF0IHRoZVxuICAvLyBnaXZlbiBsZXZlbC5cbiAgaW5kZXhBZnRlcihkZXB0aCkge1xuICAgIGRlcHRoID0gdGhpcy5yZXNvbHZlRGVwdGgoZGVwdGgpXG4gICAgcmV0dXJuIHRoaXMuaW5kZXgoZGVwdGgpICsgKGRlcHRoID09IHRoaXMuZGVwdGggJiYgIXRoaXMudGV4dE9mZnNldCA/IDAgOiAxKVxuICB9XG5cbiAgLy8gOjogKD9udW1iZXIpIOKGkiBudW1iZXJcbiAgLy8gVGhlIChhYnNvbHV0ZSkgcG9zaXRpb24gYXQgdGhlIHN0YXJ0IG9mIHRoZSBub2RlIGF0IHRoZSBnaXZlblxuICAvLyBsZXZlbC5cbiAgc3RhcnQoZGVwdGgpIHtcbiAgICBkZXB0aCA9IHRoaXMucmVzb2x2ZURlcHRoKGRlcHRoKVxuICAgIHJldHVybiBkZXB0aCA9PSAwID8gMCA6IHRoaXMucGF0aFtkZXB0aCAqIDMgLSAxXSArIDFcbiAgfVxuXG4gIC8vIDo6ICg/bnVtYmVyKSDihpIgbnVtYmVyXG4gIC8vIFRoZSAoYWJzb2x1dGUpIHBvc2l0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIG5vZGUgYXQgdGhlIGdpdmVuXG4gIC8vIGxldmVsLlxuICBlbmQoZGVwdGgpIHtcbiAgICBkZXB0aCA9IHRoaXMucmVzb2x2ZURlcHRoKGRlcHRoKVxuICAgIHJldHVybiB0aGlzLnN0YXJ0KGRlcHRoKSArIHRoaXMubm9kZShkZXB0aCkuY29udGVudC5zaXplXG4gIH1cblxuICAvLyA6OiAoP251bWJlcikg4oaSIG51bWJlclxuICAvLyBUaGUgKGFic29sdXRlKSBwb3NpdGlvbiBkaXJlY3RseSBiZWZvcmUgdGhlIHdyYXBwaW5nIG5vZGUgYXQgdGhlXG4gIC8vIGdpdmVuIGxldmVsLCBvciwgd2hlbiBgZGVwdGhgIGlzIGB0aGlzLmRlcHRoICsgMWAsIHRoZSBvcmlnaW5hbFxuICAvLyBwb3NpdGlvbi5cbiAgYmVmb3JlKGRlcHRoKSB7XG4gICAgZGVwdGggPSB0aGlzLnJlc29sdmVEZXB0aChkZXB0aClcbiAgICBpZiAoIWRlcHRoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRoZXJlIGlzIG5vIHBvc2l0aW9uIGJlZm9yZSB0aGUgdG9wLWxldmVsIG5vZGVcIilcbiAgICByZXR1cm4gZGVwdGggPT0gdGhpcy5kZXB0aCArIDEgPyB0aGlzLnBvcyA6IHRoaXMucGF0aFtkZXB0aCAqIDMgLSAxXVxuICB9XG5cbiAgLy8gOjogKD9udW1iZXIpIOKGkiBudW1iZXJcbiAgLy8gVGhlIChhYnNvbHV0ZSkgcG9zaXRpb24gZGlyZWN0bHkgYWZ0ZXIgdGhlIHdyYXBwaW5nIG5vZGUgYXQgdGhlXG4gIC8vIGdpdmVuIGxldmVsLCBvciB0aGUgb3JpZ2luYWwgcG9zaXRpb24gd2hlbiBgZGVwdGhgIGlzIGB0aGlzLmRlcHRoICsgMWAuXG4gIGFmdGVyKGRlcHRoKSB7XG4gICAgZGVwdGggPSB0aGlzLnJlc29sdmVEZXB0aChkZXB0aClcbiAgICBpZiAoIWRlcHRoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRoZXJlIGlzIG5vIHBvc2l0aW9uIGFmdGVyIHRoZSB0b3AtbGV2ZWwgbm9kZVwiKVxuICAgIHJldHVybiBkZXB0aCA9PSB0aGlzLmRlcHRoICsgMSA/IHRoaXMucG9zIDogdGhpcy5wYXRoW2RlcHRoICogMyAtIDFdICsgdGhpcy5wYXRoW2RlcHRoICogM10ubm9kZVNpemVcbiAgfVxuXG4gIC8vIDo6IG51bWJlclxuICAvLyBXaGVuIHRoaXMgcG9zaXRpb24gcG9pbnRzIGludG8gYSB0ZXh0IG5vZGUsIHRoaXMgcmV0dXJucyB0aGVcbiAgLy8gZGlzdGFuY2UgYmV0d2VlbiB0aGUgcG9zaXRpb24gYW5kIHRoZSBzdGFydCBvZiB0aGUgdGV4dCBub2RlLlxuICAvLyBXaWxsIGJlIHplcm8gZm9yIHBvc2l0aW9ucyB0aGF0IHBvaW50IGJldHdlZW4gbm9kZXMuXG4gIGdldCB0ZXh0T2Zmc2V0KCkgeyByZXR1cm4gdGhpcy5wb3MgLSB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdIH1cblxuICAvLyA6OiA/Tm9kZVxuICAvLyBHZXQgdGhlIG5vZGUgZGlyZWN0bHkgYWZ0ZXIgdGhlIHBvc2l0aW9uLCBpZiBhbnkuIElmIHRoZSBwb3NpdGlvblxuICAvLyBwb2ludHMgaW50byBhIHRleHQgbm9kZSwgb25seSB0aGUgcGFydCBvZiB0aGF0IG5vZGUgYWZ0ZXIgdGhlXG4gIC8vIHBvc2l0aW9uIGlzIHJldHVybmVkLlxuICBnZXQgbm9kZUFmdGVyKCkge1xuICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudCwgaW5kZXggPSB0aGlzLmluZGV4KHRoaXMuZGVwdGgpXG4gICAgaWYgKGluZGV4ID09IHBhcmVudC5jaGlsZENvdW50KSByZXR1cm4gbnVsbFxuICAgIGxldCBkT2ZmID0gdGhpcy5wb3MgLSB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdLCBjaGlsZCA9IHBhcmVudC5jaGlsZChpbmRleClcbiAgICByZXR1cm4gZE9mZiA/IHBhcmVudC5jaGlsZChpbmRleCkuY3V0KGRPZmYpIDogY2hpbGRcbiAgfVxuXG4gIC8vIDo6ID9Ob2RlXG4gIC8vIEdldCB0aGUgbm9kZSBkaXJlY3RseSBiZWZvcmUgdGhlIHBvc2l0aW9uLCBpZiBhbnkuIElmIHRoZVxuICAvLyBwb3NpdGlvbiBwb2ludHMgaW50byBhIHRleHQgbm9kZSwgb25seSB0aGUgcGFydCBvZiB0aGF0IG5vZGVcbiAgLy8gYmVmb3JlIHRoZSBwb3NpdGlvbiBpcyByZXR1cm5lZC5cbiAgZ2V0IG5vZGVCZWZvcmUoKSB7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5pbmRleCh0aGlzLmRlcHRoKVxuICAgIGxldCBkT2ZmID0gdGhpcy5wb3MgLSB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdXG4gICAgaWYgKGRPZmYpIHJldHVybiB0aGlzLnBhcmVudC5jaGlsZChpbmRleCkuY3V0KDAsIGRPZmYpXG4gICAgcmV0dXJuIGluZGV4ID09IDAgPyBudWxsIDogdGhpcy5wYXJlbnQuY2hpbGQoaW5kZXggLSAxKVxuICB9XG5cbiAgLy8gOjogKCkg4oaSIFtNYXJrXVxuICAvLyBHZXQgdGhlIG1hcmtzIGF0IHRoaXMgcG9zaXRpb24sIGZhY3RvcmluZyBpbiB0aGUgc3Vycm91bmRpbmdcbiAgLy8gbWFya3MnIFtgaW5jbHVzaXZlYF0oI21vZGVsLk1hcmtTcGVjLmluY2x1c2l2ZSkgcHJvcGVydHkuIElmIHRoZVxuICAvLyBwb3NpdGlvbiBpcyBhdCB0aGUgc3RhcnQgb2YgYSBub24tZW1wdHkgbm9kZSwgdGhlIG1hcmtzIG9mIHRoZVxuICAvLyBub2RlIGFmdGVyIGl0IChpZiBhbnkpIGFyZSByZXR1cm5lZC5cbiAgbWFya3MoKSB7XG4gICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50LCBpbmRleCA9IHRoaXMuaW5kZXgoKVxuXG4gICAgLy8gSW4gYW4gZW1wdHkgcGFyZW50LCByZXR1cm4gdGhlIGVtcHR5IGFycmF5XG4gICAgaWYgKHBhcmVudC5jb250ZW50LnNpemUgPT0gMCkgcmV0dXJuIE1hcmsubm9uZVxuXG4gICAgLy8gV2hlbiBpbnNpZGUgYSB0ZXh0IG5vZGUsIGp1c3QgcmV0dXJuIHRoZSB0ZXh0IG5vZGUncyBtYXJrc1xuICAgIGlmICh0aGlzLnRleHRPZmZzZXQpIHJldHVybiBwYXJlbnQuY2hpbGQoaW5kZXgpLm1hcmtzXG5cbiAgICBsZXQgbWFpbiA9IHBhcmVudC5tYXliZUNoaWxkKGluZGV4IC0gMSksIG90aGVyID0gcGFyZW50Lm1heWJlQ2hpbGQoaW5kZXgpXG4gICAgLy8gSWYgdGhlIGBhZnRlcmAgZmxhZyBpcyB0cnVlIG9mIHRoZXJlIGlzIG5vIG5vZGUgYmVmb3JlLCBtYWtlXG4gICAgLy8gdGhlIG5vZGUgYWZ0ZXIgdGhpcyBwb3NpdGlvbiB0aGUgbWFpbiByZWZlcmVuY2UuXG4gICAgaWYgKCFtYWluKSB7IGxldCB0bXAgPSBtYWluOyBtYWluID0gb3RoZXI7IG90aGVyID0gdG1wIH1cblxuICAgIC8vIFVzZSBhbGwgbWFya3MgaW4gdGhlIG1haW4gbm9kZSwgZXhjZXB0IHRob3NlIHRoYXQgaGF2ZVxuICAgIC8vIGBpbmNsdXNpdmVgIHNldCB0byBmYWxzZSBhbmQgYXJlIG5vdCBwcmVzZW50IGluIHRoZSBvdGhlciBub2RlLlxuICAgIGxldCBtYXJrcyA9IG1haW4ubWFya3NcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtzLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKG1hcmtzW2ldLnR5cGUuc3BlYy5pbmNsdXNpdmUgPT09IGZhbHNlICYmICghb3RoZXIgfHwgIW1hcmtzW2ldLmlzSW5TZXQob3RoZXIubWFya3MpKSlcbiAgICAgICAgbWFya3MgPSBtYXJrc1tpLS1dLnJlbW92ZUZyb21TZXQobWFya3MpXG5cbiAgICByZXR1cm4gbWFya3NcbiAgfVxuXG4gIC8vIDo6IChSZXNvbHZlZFBvcykg4oaSID9bTWFya11cbiAgLy8gR2V0IHRoZSBtYXJrcyBhZnRlciB0aGUgY3VycmVudCBwb3NpdGlvbiwgaWYgYW55LCBleGNlcHQgdGhvc2VcbiAgLy8gdGhhdCBhcmUgbm9uLWluY2x1c2l2ZSBhbmQgbm90IHByZXNlbnQgYXQgcG9zaXRpb24gYCRlbmRgLiBUaGlzXG4gIC8vIGlzIG1vc3RseSB1c2VmdWwgZm9yIGdldHRpbmcgdGhlIHNldCBvZiBtYXJrcyB0byBwcmVzZXJ2ZSBhZnRlciBhXG4gIC8vIGRlbGV0aW9uLiBXaWxsIHJldHVybiBgbnVsbGAgaWYgdGhpcyBwb3NpdGlvbiBpcyBhdCB0aGUgZW5kIG9mXG4gIC8vIGl0cyBwYXJlbnQgbm9kZSBvciBpdHMgcGFyZW50IG5vZGUgaXNuJ3QgYSB0ZXh0YmxvY2sgKGluIHdoaWNoXG4gIC8vIGNhc2Ugbm8gbWFya3Mgc2hvdWxkIGJlIHByZXNlcnZlZCkuXG4gIG1hcmtzQWNyb3NzKCRlbmQpIHtcbiAgICBsZXQgYWZ0ZXIgPSB0aGlzLnBhcmVudC5tYXliZUNoaWxkKHRoaXMuaW5kZXgoKSlcbiAgICBpZiAoIWFmdGVyIHx8ICFhZnRlci5pc0lubGluZSkgcmV0dXJuIG51bGxcblxuICAgIGxldCBtYXJrcyA9IGFmdGVyLm1hcmtzLCBuZXh0ID0gJGVuZC5wYXJlbnQubWF5YmVDaGlsZCgkZW5kLmluZGV4KCkpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChtYXJrc1tpXS50eXBlLnNwZWMuaW5jbHVzaXZlID09PSBmYWxzZSAmJiAoIW5leHQgfHwgIW1hcmtzW2ldLmlzSW5TZXQobmV4dC5tYXJrcykpKVxuICAgICAgICBtYXJrcyA9IG1hcmtzW2ktLV0ucmVtb3ZlRnJvbVNldChtYXJrcylcbiAgICByZXR1cm4gbWFya3NcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiBudW1iZXJcbiAgLy8gVGhlIGRlcHRoIHVwIHRvIHdoaWNoIHRoaXMgcG9zaXRpb24gYW5kIHRoZSBnaXZlbiAobm9uLXJlc29sdmVkKVxuICAvLyBwb3NpdGlvbiBzaGFyZSB0aGUgc2FtZSBwYXJlbnQgbm9kZXMuXG4gIHNoYXJlZERlcHRoKHBvcykge1xuICAgIGZvciAobGV0IGRlcHRoID0gdGhpcy5kZXB0aDsgZGVwdGggPiAwOyBkZXB0aC0tKVxuICAgICAgaWYgKHRoaXMuc3RhcnQoZGVwdGgpIDw9IHBvcyAmJiB0aGlzLmVuZChkZXB0aCkgPj0gcG9zKSByZXR1cm4gZGVwdGhcbiAgICByZXR1cm4gMFxuICB9XG5cbiAgLy8gOjogKD9SZXNvbHZlZFBvcywgPyhOb2RlKSDihpIgYm9vbCkg4oaSID9Ob2RlUmFuZ2VcbiAgLy8gUmV0dXJucyBhIHJhbmdlIGJhc2VkIG9uIHRoZSBwbGFjZSB3aGVyZSB0aGlzIHBvc2l0aW9uIGFuZCB0aGVcbiAgLy8gZ2l2ZW4gcG9zaXRpb24gZGl2ZXJnZSBhcm91bmQgYmxvY2sgY29udGVudC4gSWYgYm90aCBwb2ludCBpbnRvXG4gIC8vIHRoZSBzYW1lIHRleHRibG9jaywgZm9yIGV4YW1wbGUsIGEgcmFuZ2UgYXJvdW5kIHRoYXQgdGV4dGJsb2NrXG4gIC8vIHdpbGwgYmUgcmV0dXJuZWQuIElmIHRoZXkgcG9pbnQgaW50byBkaWZmZXJlbnQgYmxvY2tzLCB0aGUgcmFuZ2VcbiAgLy8gYXJvdW5kIHRob3NlIGJsb2NrcyBpbiB0aGVpciBzaGFyZWQgYW5jZXN0b3IgaXMgcmV0dXJuZWQuIFlvdSBjYW5cbiAgLy8gcGFzcyBpbiBhbiBvcHRpb25hbCBwcmVkaWNhdGUgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgcGFyZW50XG4gIC8vIG5vZGUgdG8gc2VlIGlmIGEgcmFuZ2UgaW50byB0aGF0IHBhcmVudCBpcyBhY2NlcHRhYmxlLlxuICBibG9ja1JhbmdlKG90aGVyID0gdGhpcywgcHJlZCkge1xuICAgIGlmIChvdGhlci5wb3MgPCB0aGlzLnBvcykgcmV0dXJuIG90aGVyLmJsb2NrUmFuZ2UodGhpcylcbiAgICBmb3IgKGxldCBkID0gdGhpcy5kZXB0aCAtICh0aGlzLnBhcmVudC5pbmxpbmVDb250ZW50IHx8IHRoaXMucG9zID09IG90aGVyLnBvcyA/IDEgOiAwKTsgZCA+PSAwOyBkLS0pXG4gICAgICBpZiAob3RoZXIucG9zIDw9IHRoaXMuZW5kKGQpICYmICghcHJlZCB8fCBwcmVkKHRoaXMubm9kZShkKSkpKVxuICAgICAgICByZXR1cm4gbmV3IE5vZGVSYW5nZSh0aGlzLCBvdGhlciwgZClcbiAgfVxuXG4gIC8vIDo6IChSZXNvbHZlZFBvcykg4oaSIGJvb2xcbiAgLy8gUXVlcnkgd2hldGhlciB0aGUgZ2l2ZW4gcG9zaXRpb24gc2hhcmVzIHRoZSBzYW1lIHBhcmVudCBub2RlLlxuICBzYW1lUGFyZW50KG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zIC0gdGhpcy5wYXJlbnRPZmZzZXQgPT0gb3RoZXIucG9zIC0gb3RoZXIucGFyZW50T2Zmc2V0XG4gIH1cblxuICAvLyA6OiAoUmVzb2x2ZWRQb3MpIOKGkiBSZXNvbHZlZFBvc1xuICAvLyBSZXR1cm4gdGhlIGdyZWF0ZXIgb2YgdGhpcyBhbmQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICBtYXgob3RoZXIpIHtcbiAgICByZXR1cm4gb3RoZXIucG9zID4gdGhpcy5wb3MgPyBvdGhlciA6IHRoaXNcbiAgfVxuXG4gIC8vIDo6IChSZXNvbHZlZFBvcykg4oaSIFJlc29sdmVkUG9zXG4gIC8vIFJldHVybiB0aGUgc21hbGxlciBvZiB0aGlzIGFuZCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gIG1pbihvdGhlcikge1xuICAgIHJldHVybiBvdGhlci5wb3MgPCB0aGlzLnBvcyA/IG90aGVyIDogdGhpc1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgbGV0IHN0ciA9IFwiXCJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0aGlzLmRlcHRoOyBpKyspXG4gICAgICBzdHIgKz0gKHN0ciA/IFwiL1wiIDogXCJcIikgKyB0aGlzLm5vZGUoaSkudHlwZS5uYW1lICsgXCJfXCIgKyB0aGlzLmluZGV4KGkgLSAxKVxuICAgIHJldHVybiBzdHIgKyBcIjpcIiArIHRoaXMucGFyZW50T2Zmc2V0XG4gIH1cblxuICBzdGF0aWMgcmVzb2x2ZShkb2MsIHBvcykge1xuICAgIGlmICghKHBvcyA+PSAwICYmIHBvcyA8PSBkb2MuY29udGVudC5zaXplKSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJQb3NpdGlvbiBcIiArIHBvcyArIFwiIG91dCBvZiByYW5nZVwiKVxuICAgIGxldCBwYXRoID0gW11cbiAgICBsZXQgc3RhcnQgPSAwLCBwYXJlbnRPZmZzZXQgPSBwb3NcbiAgICBmb3IgKGxldCBub2RlID0gZG9jOzspIHtcbiAgICAgIGxldCB7aW5kZXgsIG9mZnNldH0gPSBub2RlLmNvbnRlbnQuZmluZEluZGV4KHBhcmVudE9mZnNldClcbiAgICAgIGxldCByZW0gPSBwYXJlbnRPZmZzZXQgLSBvZmZzZXRcbiAgICAgIHBhdGgucHVzaChub2RlLCBpbmRleCwgc3RhcnQgKyBvZmZzZXQpXG4gICAgICBpZiAoIXJlbSkgYnJlYWtcbiAgICAgIG5vZGUgPSBub2RlLmNoaWxkKGluZGV4KVxuICAgICAgaWYgKG5vZGUuaXNUZXh0KSBicmVha1xuICAgICAgcGFyZW50T2Zmc2V0ID0gcmVtIC0gMVxuICAgICAgc3RhcnQgKz0gb2Zmc2V0ICsgMVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlc29sdmVkUG9zKHBvcywgcGF0aCwgcGFyZW50T2Zmc2V0KVxuICB9XG5cbiAgc3RhdGljIHJlc29sdmVDYWNoZWQoZG9jLCBwb3MpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc29sdmVDYWNoZS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNhY2hlZCA9IHJlc29sdmVDYWNoZVtpXVxuICAgICAgaWYgKGNhY2hlZC5wb3MgPT0gcG9zICYmIGNhY2hlZC5kb2MgPT0gZG9jKSByZXR1cm4gY2FjaGVkXG4gICAgfVxuICAgIGxldCByZXN1bHQgPSByZXNvbHZlQ2FjaGVbcmVzb2x2ZUNhY2hlUG9zXSA9IFJlc29sdmVkUG9zLnJlc29sdmUoZG9jLCBwb3MpXG4gICAgcmVzb2x2ZUNhY2hlUG9zID0gKHJlc29sdmVDYWNoZVBvcyArIDEpICUgcmVzb2x2ZUNhY2hlU2l6ZVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuXG5sZXQgcmVzb2x2ZUNhY2hlID0gW10sIHJlc29sdmVDYWNoZVBvcyA9IDAsIHJlc29sdmVDYWNoZVNpemUgPSAxMlxuXG4vLyA6Oi0gUmVwcmVzZW50cyBhIGZsYXQgcmFuZ2Ugb2YgY29udGVudCwgaS5lLiBvbmUgdGhhdCBzdGFydHMgYW5kXG4vLyBlbmRzIGluIHRoZSBzYW1lIG5vZGUuXG5leHBvcnQgY2xhc3MgTm9kZVJhbmdlIHtcbiAgLy8gOjogKFJlc29sdmVkUG9zLCBSZXNvbHZlZFBvcywgbnVtYmVyKVxuICAvLyBDb25zdHJ1Y3QgYSBub2RlIHJhbmdlLiBgJGZyb21gIGFuZCBgJHRvYCBzaG91bGQgcG9pbnQgaW50byB0aGVcbiAgLy8gc2FtZSBub2RlIHVudGlsIGF0IGxlYXN0IHRoZSBnaXZlbiBgZGVwdGhgLCBzaW5jZSBhIG5vZGUgcmFuZ2VcbiAgLy8gZGVub3RlcyBhbiBhZGphY2VudCBzZXQgb2Ygbm9kZXMgaW4gYSBzaW5nbGUgcGFyZW50IG5vZGUuXG4gIGNvbnN0cnVjdG9yKCRmcm9tLCAkdG8sIGRlcHRoKSB7XG4gICAgLy8gOjogUmVzb2x2ZWRQb3MgQSByZXNvbHZlZCBwb3NpdGlvbiBhbG9uZyB0aGUgc3RhcnQgb2YgdGhlXG4gICAgLy8gY29udGVudC4gTWF5IGhhdmUgYSBgZGVwdGhgIGdyZWF0ZXIgdGhhbiB0aGlzIG9iamVjdCdzIGBkZXB0aGBcbiAgICAvLyBwcm9wZXJ0eSwgc2luY2UgdGhlc2UgYXJlIHRoZSBwb3NpdGlvbnMgdGhhdCB3ZXJlIHVzZWQgdG9cbiAgICAvLyBjb21wdXRlIHRoZSByYW5nZSwgbm90IHJlLXJlc29sdmVkIHBvc2l0aW9ucyBkaXJlY3RseSBhdCBpdHNcbiAgICAvLyBib3VuZGFyaWVzLlxuICAgIHRoaXMuJGZyb20gPSAkZnJvbVxuICAgIC8vIDo6IFJlc29sdmVkUG9zIEEgcG9zaXRpb24gYWxvbmcgdGhlIGVuZCBvZiB0aGUgY29udGVudC4gU2VlXG4gICAgLy8gY2F2ZWF0IGZvciBbYCRmcm9tYF0oI21vZGVsLk5vZGVSYW5nZS4kZnJvbSkuXG4gICAgdGhpcy4kdG8gPSAkdG9cbiAgICAvLyA6OiBudW1iZXIgVGhlIGRlcHRoIG9mIHRoZSBub2RlIHRoYXQgdGhpcyByYW5nZSBwb2ludHMgaW50by5cbiAgICB0aGlzLmRlcHRoID0gZGVwdGhcbiAgfVxuXG4gIC8vIDo6IG51bWJlciBUaGUgcG9zaXRpb24gYXQgdGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgZ2V0IHN0YXJ0KCkgeyByZXR1cm4gdGhpcy4kZnJvbS5iZWZvcmUodGhpcy5kZXB0aCArIDEpIH1cbiAgLy8gOjogbnVtYmVyIFRoZSBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgZ2V0IGVuZCgpIHsgcmV0dXJuIHRoaXMuJHRvLmFmdGVyKHRoaXMuZGVwdGggKyAxKSB9XG5cbiAgLy8gOjogTm9kZSBUaGUgcGFyZW50IG5vZGUgdGhhdCB0aGUgcmFuZ2UgcG9pbnRzIGludG8uXG4gIGdldCBwYXJlbnQoKSB7IHJldHVybiB0aGlzLiRmcm9tLm5vZGUodGhpcy5kZXB0aCkgfVxuICAvLyA6OiBudW1iZXIgVGhlIHN0YXJ0IGluZGV4IG9mIHRoZSByYW5nZSBpbiB0aGUgcGFyZW50IG5vZGUuXG4gIGdldCBzdGFydEluZGV4KCkgeyByZXR1cm4gdGhpcy4kZnJvbS5pbmRleCh0aGlzLmRlcHRoKSB9XG4gIC8vIDo6IG51bWJlciBUaGUgZW5kIGluZGV4IG9mIHRoZSByYW5nZSBpbiB0aGUgcGFyZW50IG5vZGUuXG4gIGdldCBlbmRJbmRleCgpIHsgcmV0dXJuIHRoaXMuJHRvLmluZGV4QWZ0ZXIodGhpcy5kZXB0aCkgfVxufVxuIiwiaW1wb3J0IHtGcmFnbWVudH0gZnJvbSBcIi4vZnJhZ21lbnRcIlxuaW1wb3J0IHtNYXJrfSBmcm9tIFwiLi9tYXJrXCJcbmltcG9ydCB7U2xpY2UsIHJlcGxhY2V9IGZyb20gXCIuL3JlcGxhY2VcIlxuaW1wb3J0IHtSZXNvbHZlZFBvc30gZnJvbSBcIi4vcmVzb2x2ZWRwb3NcIlxuaW1wb3J0IHtjb21wYXJlRGVlcH0gZnJvbSBcIi4vY29tcGFyZWRlZXBcIlxuXG5jb25zdCBlbXB0eUF0dHJzID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG4vLyA6Oi0gVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgbm9kZSBpbiB0aGUgdHJlZSB0aGF0IG1ha2VzIHVwIGFcbi8vIFByb3NlTWlycm9yIGRvY3VtZW50LiBTbyBhIGRvY3VtZW50IGlzIGFuIGluc3RhbmNlIG9mIGBOb2RlYCwgd2l0aFxuLy8gY2hpbGRyZW4gdGhhdCBhcmUgYWxzbyBpbnN0YW5jZXMgb2YgYE5vZGVgLlxuLy9cbi8vIE5vZGVzIGFyZSBwZXJzaXN0ZW50IGRhdGEgc3RydWN0dXJlcy4gSW5zdGVhZCBvZiBjaGFuZ2luZyB0aGVtLCB5b3Vcbi8vIGNyZWF0ZSBuZXcgb25lcyB3aXRoIHRoZSBjb250ZW50IHlvdSB3YW50LiBPbGQgb25lcyBrZWVwIHBvaW50aW5nXG4vLyBhdCB0aGUgb2xkIGRvY3VtZW50IHNoYXBlLiBUaGlzIGlzIG1hZGUgY2hlYXBlciBieSBzaGFyaW5nXG4vLyBzdHJ1Y3R1cmUgYmV0d2VlbiB0aGUgb2xkIGFuZCBuZXcgZGF0YSBhcyBtdWNoIGFzIHBvc3NpYmxlLCB3aGljaCBhXG4vLyB0cmVlIHNoYXBlIGxpa2UgdGhpcyAod2l0aG91dCBiYWNrIHBvaW50ZXJzKSBtYWtlcyBlYXN5LlxuLy9cbi8vICoqRG8gbm90KiogZGlyZWN0bHkgbXV0YXRlIHRoZSBwcm9wZXJ0aWVzIG9mIGEgYE5vZGVgIG9iamVjdC4gU2VlXG4vLyBbdGhlIGd1aWRlXSgvZG9jcy9ndWlkZS8jZG9jKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbmV4cG9ydCBjbGFzcyBOb2RlIHtcbiAgY29uc3RydWN0b3IodHlwZSwgYXR0cnMsIGNvbnRlbnQsIG1hcmtzKSB7XG4gICAgLy8gOjogTm9kZVR5cGVcbiAgICAvLyBUaGUgdHlwZSBvZiBub2RlIHRoYXQgdGhpcyBpcy5cbiAgICB0aGlzLnR5cGUgPSB0eXBlXG5cbiAgICAvLyA6OiBPYmplY3RcbiAgICAvLyBBbiBvYmplY3QgbWFwcGluZyBhdHRyaWJ1dGUgbmFtZXMgdG8gdmFsdWVzLiBUaGUga2luZCBvZlxuICAgIC8vIGF0dHJpYnV0ZXMgYWxsb3dlZCBhbmQgcmVxdWlyZWQgYXJlXG4gICAgLy8gW2RldGVybWluZWRdKCNtb2RlbC5Ob2RlU3BlYy5hdHRycykgYnkgdGhlIG5vZGUgdHlwZS5cbiAgICB0aGlzLmF0dHJzID0gYXR0cnNcblxuICAgIC8vIDo6IEZyYWdtZW50XG4gICAgLy8gQSBjb250YWluZXIgaG9sZGluZyB0aGUgbm9kZSdzIGNoaWxkcmVuLlxuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQgfHwgRnJhZ21lbnQuZW1wdHlcblxuICAgIC8vIDo6IFtNYXJrXVxuICAgIC8vIFRoZSBtYXJrcyAodGhpbmdzIGxpa2Ugd2hldGhlciBpdCBpcyBlbXBoYXNpemVkIG9yIHBhcnQgb2YgYVxuICAgIC8vIGxpbmspIGFwcGxpZWQgdG8gdGhpcyBub2RlLlxuICAgIHRoaXMubWFya3MgPSBtYXJrcyB8fCBNYXJrLm5vbmVcbiAgfVxuXG4gIC8vIHRleHQ6OiA/c3RyaW5nXG4gIC8vIEZvciB0ZXh0IG5vZGVzLCB0aGlzIGNvbnRhaW5zIHRoZSBub2RlJ3MgdGV4dCBjb250ZW50LlxuXG4gIC8vIDo6IG51bWJlclxuICAvLyBUaGUgc2l6ZSBvZiB0aGlzIG5vZGUsIGFzIGRlZmluZWQgYnkgdGhlIGludGVnZXItYmFzZWQgW2luZGV4aW5nXG4gIC8vIHNjaGVtZV0oL2RvY3MvZ3VpZGUvI2RvYy5pbmRleGluZykuIEZvciB0ZXh0IG5vZGVzLCB0aGlzIGlzIHRoZVxuICAvLyBhbW91bnQgb2YgY2hhcmFjdGVycy4gRm9yIG90aGVyIGxlYWYgbm9kZXMsIGl0IGlzIG9uZS4gRm9yXG4gIC8vIG5vbi1sZWFmIG5vZGVzLCBpdCBpcyB0aGUgc2l6ZSBvZiB0aGUgY29udGVudCBwbHVzIHR3byAodGhlIHN0YXJ0XG4gIC8vIGFuZCBlbmQgdG9rZW4pLlxuICBnZXQgbm9kZVNpemUoKSB7IHJldHVybiB0aGlzLmlzTGVhZiA/IDEgOiAyICsgdGhpcy5jb250ZW50LnNpemUgfVxuXG4gIC8vIDo6IG51bWJlclxuICAvLyBUaGUgbnVtYmVyIG9mIGNoaWxkcmVuIHRoYXQgdGhlIG5vZGUgaGFzLlxuICBnZXQgY2hpbGRDb3VudCgpIHsgcmV0dXJuIHRoaXMuY29udGVudC5jaGlsZENvdW50IH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIgTm9kZVxuICAvLyBHZXQgdGhlIGNoaWxkIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LiBSYWlzZXMgYW4gZXJyb3Igd2hlbiB0aGVcbiAgLy8gaW5kZXggaXMgb3V0IG9mIHJhbmdlLlxuICBjaGlsZChpbmRleCkgeyByZXR1cm4gdGhpcy5jb250ZW50LmNoaWxkKGluZGV4KSB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSID9Ob2RlXG4gIC8vIEdldCB0aGUgY2hpbGQgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGl0IGV4aXN0cy5cbiAgbWF5YmVDaGlsZChpbmRleCkgeyByZXR1cm4gdGhpcy5jb250ZW50Lm1heWJlQ2hpbGQoaW5kZXgpIH1cblxuICAvLyA6OiAoKG5vZGU6IE5vZGUsIG9mZnNldDogbnVtYmVyLCBpbmRleDogbnVtYmVyKSlcbiAgLy8gQ2FsbCBgZmAgZm9yIGV2ZXJ5IGNoaWxkIG5vZGUsIHBhc3NpbmcgdGhlIG5vZGUsIGl0cyBvZmZzZXRcbiAgLy8gaW50byB0aGlzIHBhcmVudCBub2RlLCBhbmQgaXRzIGluZGV4LlxuICBmb3JFYWNoKGYpIHsgdGhpcy5jb250ZW50LmZvckVhY2goZikgfVxuXG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgKG5vZGU6IE5vZGUsIHBvczogbnVtYmVyLCBwYXJlbnQ6IE5vZGUsIGluZGV4OiBudW1iZXIpIOKGkiA/Ym9vbCwgP251bWJlcilcbiAgLy8gSW52b2tlIGEgY2FsbGJhY2sgZm9yIGFsbCBkZXNjZW5kYW50IG5vZGVzIHJlY3Vyc2l2ZWx5IGJldHdlZW5cbiAgLy8gdGhlIGdpdmVuIHR3byBwb3NpdGlvbnMgdGhhdCBhcmUgcmVsYXRpdmUgdG8gc3RhcnQgb2YgdGhpcyBub2RlJ3NcbiAgLy8gY29udGVudC4gVGhlIGNhbGxiYWNrIGlzIGludm9rZWQgd2l0aCB0aGUgbm9kZSwgaXRzXG4gIC8vIHBhcmVudC1yZWxhdGl2ZSBwb3NpdGlvbiwgaXRzIHBhcmVudCBub2RlLCBhbmQgaXRzIGNoaWxkIGluZGV4LlxuICAvLyBXaGVuIHRoZSBjYWxsYmFjayByZXR1cm5zIGZhbHNlIGZvciBhIGdpdmVuIG5vZGUsIHRoYXQgbm9kZSdzXG4gIC8vIGNoaWxkcmVuIHdpbGwgbm90IGJlIHJlY3Vyc2VkIG92ZXIuIFRoZSBsYXN0IHBhcmFtZXRlciBjYW4gYmVcbiAgLy8gdXNlZCB0byBzcGVjaWZ5IGEgc3RhcnRpbmcgcG9zaXRpb24gdG8gY291bnQgZnJvbS5cbiAgbm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmLCBzdGFydFBvcyA9IDApIHtcbiAgICB0aGlzLmNvbnRlbnQubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmLCBzdGFydFBvcywgdGhpcylcbiAgfVxuXG4gIC8vIDo6ICgobm9kZTogTm9kZSwgcG9zOiBudW1iZXIsIHBhcmVudDogTm9kZSkg4oaSID9ib29sKVxuICAvLyBDYWxsIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgZXZlcnkgZGVzY2VuZGFudCBub2RlLiBEb2Vzbid0XG4gIC8vIGRlc2NlbmQgaW50byBhIG5vZGUgd2hlbiB0aGUgY2FsbGJhY2sgcmV0dXJucyBgZmFsc2VgLlxuICBkZXNjZW5kYW50cyhmKSB7XG4gICAgdGhpcy5ub2Rlc0JldHdlZW4oMCwgdGhpcy5jb250ZW50LnNpemUsIGYpXG4gIH1cblxuICAvLyA6OiBzdHJpbmdcbiAgLy8gQ29uY2F0ZW5hdGVzIGFsbCB0aGUgdGV4dCBub2RlcyBmb3VuZCBpbiB0aGlzIGZyYWdtZW50IGFuZCBpdHNcbiAgLy8gY2hpbGRyZW4uXG4gIGdldCB0ZXh0Q29udGVudCgpIHsgcmV0dXJuIHRoaXMudGV4dEJldHdlZW4oMCwgdGhpcy5jb250ZW50LnNpemUsIFwiXCIpIH1cblxuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsID9zdHJpbmcsID9zdHJpbmcpIOKGkiBzdHJpbmdcbiAgLy8gR2V0IGFsbCB0ZXh0IGJldHdlZW4gcG9zaXRpb25zIGBmcm9tYCBhbmQgYHRvYC4gV2hlblxuICAvLyBgYmxvY2tTZXBhcmF0b3JgIGlzIGdpdmVuLCBpdCB3aWxsIGJlIGluc2VydGVkIHdoZW5ldmVyIGEgbmV3XG4gIC8vIGJsb2NrIG5vZGUgaXMgc3RhcnRlZC4gV2hlbiBgbGVhZlRleHRgIGlzIGdpdmVuLCBpdCdsbCBiZVxuICAvLyBpbnNlcnRlZCBmb3IgZXZlcnkgbm9uLXRleHQgbGVhZiBub2RlIGVuY291bnRlcmVkLlxuICB0ZXh0QmV0d2Vlbihmcm9tLCB0bywgYmxvY2tTZXBhcmF0b3IsIGxlYWZUZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC50ZXh0QmV0d2Vlbihmcm9tLCB0bywgYmxvY2tTZXBhcmF0b3IsIGxlYWZUZXh0KVxuICB9XG5cbiAgLy8gOjogP05vZGVcbiAgLy8gUmV0dXJucyB0aGlzIG5vZGUncyBmaXJzdCBjaGlsZCwgb3IgYG51bGxgIGlmIHRoZXJlIGFyZSBub1xuICAvLyBjaGlsZHJlbi5cbiAgZ2V0IGZpcnN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmNvbnRlbnQuZmlyc3RDaGlsZCB9XG5cbiAgLy8gOjogP05vZGVcbiAgLy8gUmV0dXJucyB0aGlzIG5vZGUncyBsYXN0IGNoaWxkLCBvciBgbnVsbGAgaWYgdGhlcmUgYXJlIG5vXG4gIC8vIGNoaWxkcmVuLlxuICBnZXQgbGFzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5jb250ZW50Lmxhc3RDaGlsZCB9XG5cbiAgLy8gOjogKE5vZGUpIOKGkiBib29sXG4gIC8vIFRlc3Qgd2hldGhlciB0d28gbm9kZXMgcmVwcmVzZW50IHRoZSBzYW1lIHBpZWNlIG9mIGRvY3VtZW50LlxuICBlcShvdGhlcikge1xuICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8ICh0aGlzLnNhbWVNYXJrdXAob3RoZXIpICYmIHRoaXMuY29udGVudC5lcShvdGhlci5jb250ZW50KSlcbiAgfVxuXG4gIC8vIDo6IChOb2RlKSDihpIgYm9vbFxuICAvLyBDb21wYXJlIHRoZSBtYXJrdXAgKHR5cGUsIGF0dHJpYnV0ZXMsIGFuZCBtYXJrcykgb2YgdGhpcyBub2RlIHRvXG4gIC8vIHRob3NlIG9mIGFub3RoZXIuIFJldHVybnMgYHRydWVgIGlmIGJvdGggaGF2ZSB0aGUgc2FtZSBtYXJrdXAuXG4gIHNhbWVNYXJrdXAob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNNYXJrdXAob3RoZXIudHlwZSwgb3RoZXIuYXR0cnMsIG90aGVyLm1hcmtzKVxuICB9XG5cbiAgLy8gOjogKE5vZGVUeXBlLCA/T2JqZWN0LCA/W01hcmtdKSDihpIgYm9vbFxuICAvLyBDaGVjayB3aGV0aGVyIHRoaXMgbm9kZSdzIG1hcmt1cCBjb3JyZXNwb25kIHRvIHRoZSBnaXZlbiB0eXBlLFxuICAvLyBhdHRyaWJ1dGVzLCBhbmQgbWFya3MuXG4gIGhhc01hcmt1cCh0eXBlLCBhdHRycywgbWFya3MpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09IHR5cGUgJiZcbiAgICAgIGNvbXBhcmVEZWVwKHRoaXMuYXR0cnMsIGF0dHJzIHx8IHR5cGUuZGVmYXVsdEF0dHJzIHx8IGVtcHR5QXR0cnMpICYmXG4gICAgICBNYXJrLnNhbWVTZXQodGhpcy5tYXJrcywgbWFya3MgfHwgTWFyay5ub25lKVxuICB9XG5cbiAgLy8gOjogKD9GcmFnbWVudCkg4oaSIE5vZGVcbiAgLy8gQ3JlYXRlIGEgbmV3IG5vZGUgd2l0aCB0aGUgc2FtZSBtYXJrdXAgYXMgdGhpcyBub2RlLCBjb250YWluaW5nXG4gIC8vIHRoZSBnaXZlbiBjb250ZW50IChvciBlbXB0eSwgaWYgbm8gY29udGVudCBpcyBnaXZlbikuXG4gIGNvcHkoY29udGVudCA9IG51bGwpIHtcbiAgICBpZiAoY29udGVudCA9PSB0aGlzLmNvbnRlbnQpIHJldHVybiB0aGlzXG4gICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMudHlwZSwgdGhpcy5hdHRycywgY29udGVudCwgdGhpcy5tYXJrcylcbiAgfVxuXG4gIC8vIDo6IChbTWFya10pIOKGkiBOb2RlXG4gIC8vIENyZWF0ZSBhIGNvcHkgb2YgdGhpcyBub2RlLCB3aXRoIHRoZSBnaXZlbiBzZXQgb2YgbWFya3MgaW5zdGVhZFxuICAvLyBvZiB0aGUgbm9kZSdzIG93biBtYXJrcy5cbiAgbWFyayhtYXJrcykge1xuICAgIHJldHVybiBtYXJrcyA9PSB0aGlzLm1hcmtzID8gdGhpcyA6IG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMudHlwZSwgdGhpcy5hdHRycywgdGhpcy5jb250ZW50LCBtYXJrcylcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIsID9udW1iZXIpIOKGkiBOb2RlXG4gIC8vIENyZWF0ZSBhIGNvcHkgb2YgdGhpcyBub2RlIHdpdGggb25seSB0aGUgY29udGVudCBiZXR3ZWVuIHRoZVxuICAvLyBnaXZlbiBwb3NpdGlvbnMuIElmIGB0b2AgaXMgbm90IGdpdmVuLCBpdCBkZWZhdWx0cyB0byB0aGUgZW5kIG9mXG4gIC8vIHRoZSBub2RlLlxuICBjdXQoZnJvbSwgdG8pIHtcbiAgICBpZiAoZnJvbSA9PSAwICYmIHRvID09IHRoaXMuY29udGVudC5zaXplKSByZXR1cm4gdGhpc1xuICAgIHJldHVybiB0aGlzLmNvcHkodGhpcy5jb250ZW50LmN1dChmcm9tLCB0bykpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyLCA/bnVtYmVyKSDihpIgU2xpY2VcbiAgLy8gQ3V0IG91dCB0aGUgcGFydCBvZiB0aGUgZG9jdW1lbnQgYmV0d2VlbiB0aGUgZ2l2ZW4gcG9zaXRpb25zLCBhbmRcbiAgLy8gcmV0dXJuIGl0IGFzIGEgYFNsaWNlYCBvYmplY3QuXG4gIHNsaWNlKGZyb20sIHRvID0gdGhpcy5jb250ZW50LnNpemUsIGluY2x1ZGVQYXJlbnRzID0gZmFsc2UpIHtcbiAgICBpZiAoZnJvbSA9PSB0bykgcmV0dXJuIFNsaWNlLmVtcHR5XG5cbiAgICBsZXQgJGZyb20gPSB0aGlzLnJlc29sdmUoZnJvbSksICR0byA9IHRoaXMucmVzb2x2ZSh0bylcbiAgICBsZXQgZGVwdGggPSBpbmNsdWRlUGFyZW50cyA/IDAgOiAkZnJvbS5zaGFyZWREZXB0aCh0bylcbiAgICBsZXQgc3RhcnQgPSAkZnJvbS5zdGFydChkZXB0aCksIG5vZGUgPSAkZnJvbS5ub2RlKGRlcHRoKVxuICAgIGxldCBjb250ZW50ID0gbm9kZS5jb250ZW50LmN1dCgkZnJvbS5wb3MgLSBzdGFydCwgJHRvLnBvcyAtIHN0YXJ0KVxuICAgIHJldHVybiBuZXcgU2xpY2UoY29udGVudCwgJGZyb20uZGVwdGggLSBkZXB0aCwgJHRvLmRlcHRoIC0gZGVwdGgpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsIFNsaWNlKSDihpIgTm9kZVxuICAvLyBSZXBsYWNlIHRoZSBwYXJ0IG9mIHRoZSBkb2N1bWVudCBiZXR3ZWVuIHRoZSBnaXZlbiBwb3NpdGlvbnMgd2l0aFxuICAvLyB0aGUgZ2l2ZW4gc2xpY2UuIFRoZSBzbGljZSBtdXN0ICdmaXQnLCBtZWFuaW5nIGl0cyBvcGVuIHNpZGVzXG4gIC8vIG11c3QgYmUgYWJsZSB0byBjb25uZWN0IHRvIHRoZSBzdXJyb3VuZGluZyBjb250ZW50LCBhbmQgaXRzXG4gIC8vIGNvbnRlbnQgbm9kZXMgbXVzdCBiZSB2YWxpZCBjaGlsZHJlbiBmb3IgdGhlIG5vZGUgdGhleSBhcmUgcGxhY2VkXG4gIC8vIGludG8uIElmIGFueSBvZiB0aGlzIGlzIHZpb2xhdGVkLCBhbiBlcnJvciBvZiB0eXBlXG4gIC8vIFtgUmVwbGFjZUVycm9yYF0oI21vZGVsLlJlcGxhY2VFcnJvcikgaXMgdGhyb3duLlxuICByZXBsYWNlKGZyb20sIHRvLCBzbGljZSkge1xuICAgIHJldHVybiByZXBsYWNlKHRoaXMucmVzb2x2ZShmcm9tKSwgdGhpcy5yZXNvbHZlKHRvKSwgc2xpY2UpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIgP05vZGVcbiAgLy8gRmluZCB0aGUgbm9kZSBkaXJlY3RseSBhZnRlciB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gIG5vZGVBdChwb3MpIHtcbiAgICBmb3IgKGxldCBub2RlID0gdGhpczs7KSB7XG4gICAgICBsZXQge2luZGV4LCBvZmZzZXR9ID0gbm9kZS5jb250ZW50LmZpbmRJbmRleChwb3MpXG4gICAgICBub2RlID0gbm9kZS5tYXliZUNoaWxkKGluZGV4KVxuICAgICAgaWYgKCFub2RlKSByZXR1cm4gbnVsbFxuICAgICAgaWYgKG9mZnNldCA9PSBwb3MgfHwgbm9kZS5pc1RleHQpIHJldHVybiBub2RlXG4gICAgICBwb3MgLT0gb2Zmc2V0ICsgMVxuICAgIH1cbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiB7bm9kZTogP05vZGUsIGluZGV4OiBudW1iZXIsIG9mZnNldDogbnVtYmVyfVxuICAvLyBGaW5kIHRoZSAoZGlyZWN0KSBjaGlsZCBub2RlIGFmdGVyIHRoZSBnaXZlbiBvZmZzZXQsIGlmIGFueSxcbiAgLy8gYW5kIHJldHVybiBpdCBhbG9uZyB3aXRoIGl0cyBpbmRleCBhbmQgb2Zmc2V0IHJlbGF0aXZlIHRvIHRoaXNcbiAgLy8gbm9kZS5cbiAgY2hpbGRBZnRlcihwb3MpIHtcbiAgICBsZXQge2luZGV4LCBvZmZzZXR9ID0gdGhpcy5jb250ZW50LmZpbmRJbmRleChwb3MpXG4gICAgcmV0dXJuIHtub2RlOiB0aGlzLmNvbnRlbnQubWF5YmVDaGlsZChpbmRleCksIGluZGV4LCBvZmZzZXR9XG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIge25vZGU6ID9Ob2RlLCBpbmRleDogbnVtYmVyLCBvZmZzZXQ6IG51bWJlcn1cbiAgLy8gRmluZCB0aGUgKGRpcmVjdCkgY2hpbGQgbm9kZSBiZWZvcmUgdGhlIGdpdmVuIG9mZnNldCwgaWYgYW55LFxuICAvLyBhbmQgcmV0dXJuIGl0IGFsb25nIHdpdGggaXRzIGluZGV4IGFuZCBvZmZzZXQgcmVsYXRpdmUgdG8gdGhpc1xuICAvLyBub2RlLlxuICBjaGlsZEJlZm9yZShwb3MpIHtcbiAgICBpZiAocG9zID09IDApIHJldHVybiB7bm9kZTogbnVsbCwgaW5kZXg6IDAsIG9mZnNldDogMH1cbiAgICBsZXQge2luZGV4LCBvZmZzZXR9ID0gdGhpcy5jb250ZW50LmZpbmRJbmRleChwb3MpXG4gICAgaWYgKG9mZnNldCA8IHBvcykgcmV0dXJuIHtub2RlOiB0aGlzLmNvbnRlbnQuY2hpbGQoaW5kZXgpLCBpbmRleCwgb2Zmc2V0fVxuICAgIGxldCBub2RlID0gdGhpcy5jb250ZW50LmNoaWxkKGluZGV4IC0gMSlcbiAgICByZXR1cm4ge25vZGUsIGluZGV4OiBpbmRleCAtIDEsIG9mZnNldDogb2Zmc2V0IC0gbm9kZS5ub2RlU2l6ZX1cbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiBSZXNvbHZlZFBvc1xuICAvLyBSZXNvbHZlIHRoZSBnaXZlbiBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQsIHJldHVybmluZyBhblxuICAvLyBbb2JqZWN0XSgjbW9kZWwuUmVzb2x2ZWRQb3MpIHdpdGggaW5mb3JtYXRpb24gYWJvdXQgaXRzIGNvbnRleHQuXG4gIHJlc29sdmUocG9zKSB7IHJldHVybiBSZXNvbHZlZFBvcy5yZXNvbHZlQ2FjaGVkKHRoaXMsIHBvcykgfVxuXG4gIHJlc29sdmVOb0NhY2hlKHBvcykgeyByZXR1cm4gUmVzb2x2ZWRQb3MucmVzb2x2ZSh0aGlzLCBwb3MpIH1cblxuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsIE1hcmtUeXBlKSDihpIgYm9vbFxuICAvLyBUZXN0IHdoZXRoZXIgYSBtYXJrIG9mIHRoZSBnaXZlbiB0eXBlIG9jY3VycyBpbiB0aGlzIGRvY3VtZW50XG4gIC8vIGJldHdlZW4gdGhlIHR3byBnaXZlbiBwb3NpdGlvbnMuXG4gIHJhbmdlSGFzTWFyayhmcm9tLCB0bywgdHlwZSkge1xuICAgIGxldCBmb3VuZCA9IGZhbHNlXG4gICAgaWYgKHRvID4gZnJvbSkgdGhpcy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIG5vZGUgPT4ge1xuICAgICAgaWYgKHR5cGUuaXNJblNldChub2RlLm1hcmtzKSkgZm91bmQgPSB0cnVlXG4gICAgICByZXR1cm4gIWZvdW5kXG4gICAgfSlcbiAgICByZXR1cm4gZm91bmRcbiAgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSB3aGVuIHRoaXMgaXMgYSBibG9jayAobm9uLWlubGluZSBub2RlKVxuICBnZXQgaXNCbG9jaygpIHsgcmV0dXJuIHRoaXMudHlwZS5pc0Jsb2NrIH1cblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgd2hlbiB0aGlzIGlzIGEgdGV4dGJsb2NrIG5vZGUsIGEgYmxvY2sgbm9kZSB3aXRoIGlubGluZVxuICAvLyBjb250ZW50LlxuICBnZXQgaXNUZXh0YmxvY2soKSB7IHJldHVybiB0aGlzLnR5cGUuaXNUZXh0YmxvY2sgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSB3aGVuIHRoaXMgbm9kZSBhbGxvd3MgaW5saW5lIGNvbnRlbnQuXG4gIGdldCBpbmxpbmVDb250ZW50KCkgeyByZXR1cm4gdGhpcy50eXBlLmlubGluZUNvbnRlbnQgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSB3aGVuIHRoaXMgaXMgYW4gaW5saW5lIG5vZGUgKGEgdGV4dCBub2RlIG9yIGEgbm9kZSB0aGF0IGNhblxuICAvLyBhcHBlYXIgYW1vbmcgdGV4dCkuXG4gIGdldCBpc0lubGluZSgpIHsgcmV0dXJuIHRoaXMudHlwZS5pc0lubGluZSB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBUcnVlIHdoZW4gdGhpcyBpcyBhIHRleHQgbm9kZS5cbiAgZ2V0IGlzVGV4dCgpIHsgcmV0dXJuIHRoaXMudHlwZS5pc1RleHQgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSB3aGVuIHRoaXMgaXMgYSBsZWFmIG5vZGUuXG4gIGdldCBpc0xlYWYoKSB7IHJldHVybiB0aGlzLnR5cGUuaXNMZWFmIH1cblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgd2hlbiB0aGlzIGlzIGFuIGF0b20sIGkuZS4gd2hlbiBpdCBkb2VzIG5vdCBoYXZlIGRpcmVjdGx5XG4gIC8vIGVkaXRhYmxlIGNvbnRlbnQuIFRoaXMgaXMgdXN1YWxseSB0aGUgc2FtZSBhcyBgaXNMZWFmYCwgYnV0IGNhblxuICAvLyBiZSBjb25maWd1cmVkIHdpdGggdGhlIFtgYXRvbWAgcHJvcGVydHldKCNtb2RlbC5Ob2RlU3BlYy5hdG9tKSBvblxuICAvLyBhIG5vZGUncyBzcGVjICh0eXBpY2FsbHkgdXNlZCB3aGVuIHRoZSBub2RlIGlzIGRpc3BsYXllZCBhcyBhblxuICAvLyB1bmVkaXRhYmxlIFtub2RlIHZpZXddKCN2aWV3Lk5vZGVWaWV3KSkuXG4gIGdldCBpc0F0b20oKSB7IHJldHVybiB0aGlzLnR5cGUuaXNBdG9tIH1cblxuICAvLyA6OiAoKSDihpIgc3RyaW5nXG4gIC8vIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUgZm9yIGRlYnVnZ2luZ1xuICAvLyBwdXJwb3Nlcy5cbiAgdG9TdHJpbmcoKSB7XG4gICAgaWYgKHRoaXMudHlwZS5zcGVjLnRvRGVidWdTdHJpbmcpIHJldHVybiB0aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKHRoaXMpXG4gICAgbGV0IG5hbWUgPSB0aGlzLnR5cGUubmFtZVxuICAgIGlmICh0aGlzLmNvbnRlbnQuc2l6ZSlcbiAgICAgIG5hbWUgKz0gXCIoXCIgKyB0aGlzLmNvbnRlbnQudG9TdHJpbmdJbm5lcigpICsgXCIpXCJcbiAgICByZXR1cm4gd3JhcE1hcmtzKHRoaXMubWFya3MsIG5hbWUpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIgQ29udGVudE1hdGNoXG4gIC8vIEdldCB0aGUgY29udGVudCBtYXRjaCBpbiB0aGlzIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LlxuICBjb250ZW50TWF0Y2hBdChpbmRleCkge1xuICAgIGxldCBtYXRjaCA9IHRoaXMudHlwZS5jb250ZW50TWF0Y2gubWF0Y2hGcmFnbWVudCh0aGlzLmNvbnRlbnQsIDAsIGluZGV4KVxuICAgIGlmICghbWF0Y2gpIHRocm93IG5ldyBFcnJvcihcIkNhbGxlZCBjb250ZW50TWF0Y2hBdCBvbiBhIG5vZGUgd2l0aCBpbnZhbGlkIGNvbnRlbnRcIilcbiAgICByZXR1cm4gbWF0Y2hcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgP0ZyYWdtZW50LCA/bnVtYmVyLCA/bnVtYmVyKSDihpIgYm9vbFxuICAvLyBUZXN0IHdoZXRoZXIgcmVwbGFjaW5nIHRoZSByYW5nZSBiZXR3ZWVuIGBmcm9tYCBhbmQgYHRvYCAoYnlcbiAgLy8gY2hpbGQgaW5kZXgpIHdpdGggdGhlIGdpdmVuIHJlcGxhY2VtZW50IGZyYWdtZW50ICh3aGljaCBkZWZhdWx0c1xuICAvLyB0byB0aGUgZW1wdHkgZnJhZ21lbnQpIHdvdWxkIGxlYXZlIHRoZSBub2RlJ3MgY29udGVudCB2YWxpZC4gWW91XG4gIC8vIGNhbiBvcHRpb25hbGx5IHBhc3MgYHN0YXJ0YCBhbmQgYGVuZGAgaW5kaWNlcyBpbnRvIHRoZVxuICAvLyByZXBsYWNlbWVudCBmcmFnbWVudC5cbiAgY2FuUmVwbGFjZShmcm9tLCB0bywgcmVwbGFjZW1lbnQgPSBGcmFnbWVudC5lbXB0eSwgc3RhcnQgPSAwLCBlbmQgPSByZXBsYWNlbWVudC5jaGlsZENvdW50KSB7XG4gICAgbGV0IG9uZSA9IHRoaXMuY29udGVudE1hdGNoQXQoZnJvbSkubWF0Y2hGcmFnbWVudChyZXBsYWNlbWVudCwgc3RhcnQsIGVuZClcbiAgICBsZXQgdHdvID0gb25lICYmIG9uZS5tYXRjaEZyYWdtZW50KHRoaXMuY29udGVudCwgdG8pXG4gICAgaWYgKCF0d28gfHwgIXR3by52YWxpZEVuZCkgcmV0dXJuIGZhbHNlXG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIGlmICghdGhpcy50eXBlLmFsbG93c01hcmtzKHJlcGxhY2VtZW50LmNoaWxkKGkpLm1hcmtzKSkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgTm9kZVR5cGUsID9bTWFya10pIOKGkiBib29sXG4gIC8vIFRlc3Qgd2hldGhlciByZXBsYWNpbmcgdGhlIHJhbmdlIGBmcm9tYCB0byBgdG9gIChieSBpbmRleCkgd2l0aCBhXG4gIC8vIG5vZGUgb2YgdGhlIGdpdmVuIHR5cGUgd291bGQgbGVhdmUgdGhlIG5vZGUncyBjb250ZW50IHZhbGlkLlxuICBjYW5SZXBsYWNlV2l0aChmcm9tLCB0bywgdHlwZSwgbWFya3MpIHtcbiAgICBpZiAobWFya3MgJiYgIXRoaXMudHlwZS5hbGxvd3NNYXJrcyhtYXJrcykpIHJldHVybiBmYWxzZVxuICAgIGxldCBzdGFydCA9IHRoaXMuY29udGVudE1hdGNoQXQoZnJvbSkubWF0Y2hUeXBlKHR5cGUpXG4gICAgbGV0IGVuZCA9IHN0YXJ0ICYmIHN0YXJ0Lm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LCB0bylcbiAgICByZXR1cm4gZW5kID8gZW5kLnZhbGlkRW5kIDogZmFsc2VcbiAgfVxuXG4gIC8vIDo6IChOb2RlKSDihpIgYm9vbFxuICAvLyBUZXN0IHdoZXRoZXIgdGhlIGdpdmVuIG5vZGUncyBjb250ZW50IGNvdWxkIGJlIGFwcGVuZGVkIHRvIHRoaXNcbiAgLy8gbm9kZS4gSWYgdGhhdCBub2RlIGlzIGVtcHR5LCB0aGlzIHdpbGwgb25seSByZXR1cm4gdHJ1ZSBpZiB0aGVyZVxuICAvLyBpcyBhdCBsZWFzdCBvbmUgbm9kZSB0eXBlIHRoYXQgY2FuIGFwcGVhciBpbiBib3RoIG5vZGVzICh0byBhdm9pZFxuICAvLyBtZXJnaW5nIGNvbXBsZXRlbHkgaW5jb21wYXRpYmxlIG5vZGVzKS5cbiAgY2FuQXBwZW5kKG90aGVyKSB7XG4gICAgaWYgKG90aGVyLmNvbnRlbnQuc2l6ZSkgcmV0dXJuIHRoaXMuY2FuUmVwbGFjZSh0aGlzLmNoaWxkQ291bnQsIHRoaXMuY2hpbGRDb3VudCwgb3RoZXIuY29udGVudClcbiAgICBlbHNlIHJldHVybiB0aGlzLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQob3RoZXIudHlwZSlcbiAgfVxuXG4gIC8vIDo6ICgpXG4gIC8vIENoZWNrIHdoZXRoZXIgdGhpcyBub2RlIGFuZCBpdHMgZGVzY2VuZGFudHMgY29uZm9ybSB0byB0aGVcbiAgLy8gc2NoZW1hLCBhbmQgcmFpc2UgZXJyb3Igd2hlbiB0aGV5IGRvIG5vdC5cbiAgY2hlY2soKSB7XG4gICAgaWYgKCF0aGlzLnR5cGUudmFsaWRDb250ZW50KHRoaXMuY29udGVudCkpXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgSW52YWxpZCBjb250ZW50IGZvciBub2RlICR7dGhpcy50eXBlLm5hbWV9OiAke3RoaXMuY29udGVudC50b1N0cmluZygpLnNsaWNlKDAsIDUwKX1gKVxuICAgIHRoaXMuY29udGVudC5mb3JFYWNoKG5vZGUgPT4gbm9kZS5jaGVjaygpKVxuICB9XG5cbiAgLy8gOjogKCkg4oaSIE9iamVjdFxuICAvLyBSZXR1cm4gYSBKU09OLXNlcmlhbGl6ZWFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICB0b0pTT04oKSB7XG4gICAgbGV0IG9iaiA9IHt0eXBlOiB0aGlzLnR5cGUubmFtZX1cbiAgICBmb3IgKGxldCBfIGluIHRoaXMuYXR0cnMpIHtcbiAgICAgIG9iai5hdHRycyA9IHRoaXMuYXR0cnNcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGlmICh0aGlzLmNvbnRlbnQuc2l6ZSlcbiAgICAgIG9iai5jb250ZW50ID0gdGhpcy5jb250ZW50LnRvSlNPTigpXG4gICAgaWYgKHRoaXMubWFya3MubGVuZ3RoKVxuICAgICAgb2JqLm1hcmtzID0gdGhpcy5tYXJrcy5tYXAobiA9PiBuLnRvSlNPTigpKVxuICAgIHJldHVybiBvYmpcbiAgfVxuXG4gIC8vIDo6IChTY2hlbWEsIE9iamVjdCkg4oaSIE5vZGVcbiAgLy8gRGVzZXJpYWxpemUgYSBub2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24uXG4gIHN0YXRpYyBmcm9tSlNPTihzY2hlbWEsIGpzb24pIHtcbiAgICBpZiAoIWpzb24pIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgTm9kZS5mcm9tSlNPTlwiKVxuICAgIGxldCBtYXJrcyA9IG51bGxcbiAgICBpZiAoanNvbi5tYXJrcykge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGpzb24ubWFya3MpKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgbWFyayBkYXRhIGZvciBOb2RlLmZyb21KU09OXCIpXG4gICAgICBtYXJrcyA9IGpzb24ubWFya3MubWFwKHNjaGVtYS5tYXJrRnJvbUpTT04pXG4gICAgfVxuICAgIGlmIChqc29uLnR5cGUgPT0gXCJ0ZXh0XCIpIHtcbiAgICAgIGlmICh0eXBlb2YganNvbi50ZXh0ICE9IFwic3RyaW5nXCIpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCB0ZXh0IG5vZGUgaW4gSlNPTlwiKVxuICAgICAgcmV0dXJuIHNjaGVtYS50ZXh0KGpzb24udGV4dCwgbWFya3MpXG4gICAgfVxuICAgIGxldCBjb250ZW50ID0gRnJhZ21lbnQuZnJvbUpTT04oc2NoZW1hLCBqc29uLmNvbnRlbnQpXG4gICAgcmV0dXJuIHNjaGVtYS5ub2RlVHlwZShqc29uLnR5cGUpLmNyZWF0ZShqc29uLmF0dHJzLCBjb250ZW50LCBtYXJrcylcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGV4dE5vZGUgZXh0ZW5kcyBOb2RlIHtcbiAgY29uc3RydWN0b3IodHlwZSwgYXR0cnMsIGNvbnRlbnQsIG1hcmtzKSB7XG4gICAgc3VwZXIodHlwZSwgYXR0cnMsIG51bGwsIG1hcmtzKVxuXG4gICAgaWYgKCFjb250ZW50KSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkVtcHR5IHRleHQgbm9kZXMgYXJlIG5vdCBhbGxvd2VkXCIpXG5cbiAgICB0aGlzLnRleHQgPSBjb250ZW50XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICBpZiAodGhpcy50eXBlLnNwZWMudG9EZWJ1Z1N0cmluZykgcmV0dXJuIHRoaXMudHlwZS5zcGVjLnRvRGVidWdTdHJpbmcodGhpcylcbiAgICByZXR1cm4gd3JhcE1hcmtzKHRoaXMubWFya3MsIEpTT04uc3RyaW5naWZ5KHRoaXMudGV4dCkpXG4gIH1cblxuICBnZXQgdGV4dENvbnRlbnQoKSB7IHJldHVybiB0aGlzLnRleHQgfVxuXG4gIHRleHRCZXR3ZWVuKGZyb20sIHRvKSB7IHJldHVybiB0aGlzLnRleHQuc2xpY2UoZnJvbSwgdG8pIH1cblxuICBnZXQgbm9kZVNpemUoKSB7IHJldHVybiB0aGlzLnRleHQubGVuZ3RoIH1cblxuICBtYXJrKG1hcmtzKSB7XG4gICAgcmV0dXJuIG1hcmtzID09IHRoaXMubWFya3MgPyB0aGlzIDogbmV3IFRleHROb2RlKHRoaXMudHlwZSwgdGhpcy5hdHRycywgdGhpcy50ZXh0LCBtYXJrcylcbiAgfVxuXG4gIHdpdGhUZXh0KHRleHQpIHtcbiAgICBpZiAodGV4dCA9PSB0aGlzLnRleHQpIHJldHVybiB0aGlzXG4gICAgcmV0dXJuIG5ldyBUZXh0Tm9kZSh0aGlzLnR5cGUsIHRoaXMuYXR0cnMsIHRleHQsIHRoaXMubWFya3MpXG4gIH1cblxuICBjdXQoZnJvbSA9IDAsIHRvID0gdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgIGlmIChmcm9tID09IDAgJiYgdG8gPT0gdGhpcy50ZXh0Lmxlbmd0aCkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gdGhpcy53aXRoVGV4dCh0aGlzLnRleHQuc2xpY2UoZnJvbSwgdG8pKVxuICB9XG5cbiAgZXEob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5zYW1lTWFya3VwKG90aGVyKSAmJiB0aGlzLnRleHQgPT0gb3RoZXIudGV4dFxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIGxldCBiYXNlID0gc3VwZXIudG9KU09OKClcbiAgICBiYXNlLnRleHQgPSB0aGlzLnRleHRcbiAgICByZXR1cm4gYmFzZVxuICB9XG59XG5cbmZ1bmN0aW9uIHdyYXBNYXJrcyhtYXJrcywgc3RyKSB7XG4gIGZvciAobGV0IGkgPSBtYXJrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICBzdHIgPSBtYXJrc1tpXS50eXBlLm5hbWUgKyBcIihcIiArIHN0ciArIFwiKVwiXG4gIHJldHVybiBzdHJcbn1cbiIsImltcG9ydCB7RnJhZ21lbnR9IGZyb20gXCIuL2ZyYWdtZW50XCJcblxuLy8gOjotIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIHJlcHJlc2VudCBhIG1hdGNoIHN0YXRlIG9mIGEgbm9kZVxuLy8gdHlwZSdzIFtjb250ZW50IGV4cHJlc3Npb25dKCNtb2RlbC5Ob2RlU3BlYy5jb250ZW50KSwgYW5kIGNhbiBiZVxuLy8gdXNlZCB0byBmaW5kIG91dCB3aGV0aGVyIGZ1cnRoZXIgY29udGVudCBtYXRjaGVzIGhlcmUsIGFuZCB3aGV0aGVyXG4vLyBhIGdpdmVuIHBvc2l0aW9uIGlzIGEgdmFsaWQgZW5kIG9mIHRoZSBub2RlLlxuZXhwb3J0IGNsYXNzIENvbnRlbnRNYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHZhbGlkRW5kKSB7XG4gICAgLy8gOjogYm9vbFxuICAgIC8vIFRydWUgd2hlbiB0aGlzIG1hdGNoIHN0YXRlIHJlcHJlc2VudHMgYSB2YWxpZCBlbmQgb2YgdGhlIG5vZGUuXG4gICAgdGhpcy52YWxpZEVuZCA9IHZhbGlkRW5kXG4gICAgdGhpcy5uZXh0ID0gW11cbiAgICB0aGlzLndyYXBDYWNoZSA9IFtdXG4gIH1cblxuICBzdGF0aWMgcGFyc2Uoc3RyaW5nLCBub2RlVHlwZXMpIHtcbiAgICBsZXQgc3RyZWFtID0gbmV3IFRva2VuU3RyZWFtKHN0cmluZywgbm9kZVR5cGVzKVxuICAgIGlmIChzdHJlYW0ubmV4dCA9PSBudWxsKSByZXR1cm4gQ29udGVudE1hdGNoLmVtcHR5XG4gICAgbGV0IGV4cHIgPSBwYXJzZUV4cHIoc3RyZWFtKVxuICAgIGlmIChzdHJlYW0ubmV4dCkgc3RyZWFtLmVycihcIlVuZXhwZWN0ZWQgdHJhaWxpbmcgdGV4dFwiKVxuICAgIGxldCBtYXRjaCA9IGRmYShuZmEoZXhwcikpXG4gICAgY2hlY2tGb3JEZWFkRW5kcyhtYXRjaCwgc3RyZWFtKVxuICAgIHJldHVybiBtYXRjaFxuICB9XG5cbiAgLy8gOjogKE5vZGVUeXBlKSDihpIgP0NvbnRlbnRNYXRjaFxuICAvLyBNYXRjaCBhIG5vZGUgdHlwZSwgcmV0dXJuaW5nIGEgbWF0Y2ggYWZ0ZXIgdGhhdCBub2RlIGlmXG4gIC8vIHN1Y2Nlc3NmdWwuXG4gIG1hdGNoVHlwZSh0eXBlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5leHQubGVuZ3RoOyBpICs9IDIpXG4gICAgICBpZiAodGhpcy5uZXh0W2ldID09IHR5cGUpIHJldHVybiB0aGlzLm5leHRbaSArIDFdXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8vIDo6IChGcmFnbWVudCwgP251bWJlciwgP251bWJlcikg4oaSID9Db250ZW50TWF0Y2hcbiAgLy8gVHJ5IHRvIG1hdGNoIGEgZnJhZ21lbnQuIFJldHVybnMgdGhlIHJlc3VsdGluZyBtYXRjaCB3aGVuXG4gIC8vIHN1Y2Nlc3NmdWwuXG4gIG1hdGNoRnJhZ21lbnQoZnJhZywgc3RhcnQgPSAwLCBlbmQgPSBmcmFnLmNoaWxkQ291bnQpIHtcbiAgICBsZXQgY3VyID0gdGhpc1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgY3VyICYmIGkgPCBlbmQ7IGkrKylcbiAgICAgIGN1ciA9IGN1ci5tYXRjaFR5cGUoZnJhZy5jaGlsZChpKS50eXBlKVxuICAgIHJldHVybiBjdXJcbiAgfVxuXG4gIGdldCBpbmxpbmVDb250ZW50KCkge1xuICAgIGxldCBmaXJzdCA9IHRoaXMubmV4dFswXVxuICAgIHJldHVybiBmaXJzdCA/IGZpcnN0LmlzSW5saW5lIDogZmFsc2VcbiAgfVxuXG4gIC8vIDo6ID9Ob2RlVHlwZVxuICAvLyBHZXQgdGhlIGZpcnN0IG1hdGNoaW5nIG5vZGUgdHlwZSBhdCB0aGlzIG1hdGNoIHBvc2l0aW9uIHRoYXQgY2FuXG4gIC8vIGJlIGdlbmVyYXRlZC5cbiAgZ2V0IGRlZmF1bHRUeXBlKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uZXh0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBsZXQgdHlwZSA9IHRoaXMubmV4dFtpXVxuICAgICAgaWYgKCEodHlwZS5pc1RleHQgfHwgdHlwZS5oYXNSZXF1aXJlZEF0dHJzKCkpKSByZXR1cm4gdHlwZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBhdGlibGUob3RoZXIpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubmV4dC5sZW5ndGg7IGkgKz0gMilcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3RoZXIubmV4dC5sZW5ndGg7IGogKz0gMilcbiAgICAgICAgaWYgKHRoaXMubmV4dFtpXSA9PSBvdGhlci5uZXh0W2pdKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gOjogKEZyYWdtZW50LCBib29sLCA/bnVtYmVyKSDihpIgP0ZyYWdtZW50XG4gIC8vIFRyeSB0byBtYXRjaCB0aGUgZ2l2ZW4gZnJhZ21lbnQsIGFuZCBpZiB0aGF0IGZhaWxzLCBzZWUgaWYgaXQgY2FuXG4gIC8vIGJlIG1hZGUgdG8gbWF0Y2ggYnkgaW5zZXJ0aW5nIG5vZGVzIGluIGZyb250IG9mIGl0LiBXaGVuXG4gIC8vIHN1Y2Nlc3NmdWwsIHJldHVybiBhIGZyYWdtZW50IG9mIGluc2VydGVkIG5vZGVzICh3aGljaCBtYXkgYmVcbiAgLy8gZW1wdHkgaWYgbm90aGluZyBoYWQgdG8gYmUgaW5zZXJ0ZWQpLiBXaGVuIGB0b0VuZGAgaXMgdHJ1ZSwgb25seVxuICAvLyByZXR1cm4gYSBmcmFnbWVudCBpZiB0aGUgcmVzdWx0aW5nIG1hdGNoIGdvZXMgdG8gdGhlIGVuZCBvZiB0aGVcbiAgLy8gY29udGVudCBleHByZXNzaW9uLlxuICBmaWxsQmVmb3JlKGFmdGVyLCB0b0VuZCA9IGZhbHNlLCBzdGFydEluZGV4ID0gMCkge1xuICAgIGxldCBzZWVuID0gW3RoaXNdXG4gICAgZnVuY3Rpb24gc2VhcmNoKG1hdGNoLCB0eXBlcykge1xuICAgICAgbGV0IGZpbmlzaGVkID0gbWF0Y2gubWF0Y2hGcmFnbWVudChhZnRlciwgc3RhcnRJbmRleClcbiAgICAgIGlmIChmaW5pc2hlZCAmJiAoIXRvRW5kIHx8IGZpbmlzaGVkLnZhbGlkRW5kKSlcbiAgICAgICAgcmV0dXJuIEZyYWdtZW50LmZyb20odHlwZXMubWFwKHRwID0+IHRwLmNyZWF0ZUFuZEZpbGwoKSkpXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2gubmV4dC5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBsZXQgdHlwZSA9IG1hdGNoLm5leHRbaV0sIG5leHQgPSBtYXRjaC5uZXh0W2kgKyAxXVxuICAgICAgICBpZiAoISh0eXBlLmlzVGV4dCB8fCB0eXBlLmhhc1JlcXVpcmVkQXR0cnMoKSkgJiYgc2Vlbi5pbmRleE9mKG5leHQpID09IC0xKSB7XG4gICAgICAgICAgc2Vlbi5wdXNoKG5leHQpXG4gICAgICAgICAgbGV0IGZvdW5kID0gc2VhcmNoKG5leHQsIHR5cGVzLmNvbmNhdCh0eXBlKSlcbiAgICAgICAgICBpZiAoZm91bmQpIHJldHVybiBmb3VuZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlYXJjaCh0aGlzLCBbXSlcbiAgfVxuXG4gIC8vIDo6IChOb2RlVHlwZSkg4oaSID9bTm9kZVR5cGVdXG4gIC8vIEZpbmQgYSBzZXQgb2Ygd3JhcHBpbmcgbm9kZSB0eXBlcyB0aGF0IHdvdWxkIGFsbG93IGEgbm9kZSBvZiB0aGVcbiAgLy8gZ2l2ZW4gdHlwZSB0byBhcHBlYXIgYXQgdGhpcyBwb3NpdGlvbi4gVGhlIHJlc3VsdCBtYXkgYmUgZW1wdHlcbiAgLy8gKHdoZW4gaXQgZml0cyBkaXJlY3RseSkgYW5kIHdpbGwgYmUgbnVsbCB3aGVuIG5vIHN1Y2ggd3JhcHBpbmdcbiAgLy8gZXhpc3RzLlxuICBmaW5kV3JhcHBpbmcodGFyZ2V0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLndyYXBDYWNoZS5sZW5ndGg7IGkgKz0gMilcbiAgICAgIGlmICh0aGlzLndyYXBDYWNoZVtpXSA9PSB0YXJnZXQpIHJldHVybiB0aGlzLndyYXBDYWNoZVtpICsgMV1cbiAgICBsZXQgY29tcHV0ZWQgPSB0aGlzLmNvbXB1dGVXcmFwcGluZyh0YXJnZXQpXG4gICAgdGhpcy53cmFwQ2FjaGUucHVzaCh0YXJnZXQsIGNvbXB1dGVkKVxuICAgIHJldHVybiBjb21wdXRlZFxuICB9XG5cbiAgY29tcHV0ZVdyYXBwaW5nKHRhcmdldCkge1xuICAgIGxldCBzZWVuID0gT2JqZWN0LmNyZWF0ZShudWxsKSwgYWN0aXZlID0gW3ttYXRjaDogdGhpcywgdHlwZTogbnVsbCwgdmlhOiBudWxsfV1cbiAgICB3aGlsZSAoYWN0aXZlLmxlbmd0aCkge1xuICAgICAgbGV0IGN1cnJlbnQgPSBhY3RpdmUuc2hpZnQoKSwgbWF0Y2ggPSBjdXJyZW50Lm1hdGNoXG4gICAgICBpZiAobWF0Y2gubWF0Y2hUeXBlKHRhcmdldCkpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdXG4gICAgICAgIGZvciAobGV0IG9iaiA9IGN1cnJlbnQ7IG9iai50eXBlOyBvYmogPSBvYmoudmlhKVxuICAgICAgICAgIHJlc3VsdC5wdXNoKG9iai50eXBlKVxuICAgICAgICByZXR1cm4gcmVzdWx0LnJldmVyc2UoKVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRjaC5uZXh0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGxldCB0eXBlID0gbWF0Y2gubmV4dFtpXVxuICAgICAgICBpZiAoIXR5cGUuaXNMZWFmICYmICF0eXBlLmhhc1JlcXVpcmVkQXR0cnMoKSAmJiAhKHR5cGUubmFtZSBpbiBzZWVuKSAmJiAoIWN1cnJlbnQudHlwZSB8fCBtYXRjaC5uZXh0W2kgKyAxXS52YWxpZEVuZCkpIHtcbiAgICAgICAgICBhY3RpdmUucHVzaCh7bWF0Y2g6IHR5cGUuY29udGVudE1hdGNoLCB0eXBlLCB2aWE6IGN1cnJlbnR9KVxuICAgICAgICAgIHNlZW5bdHlwZS5uYW1lXSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIDo6IG51bWJlclxuICAvLyBUaGUgbnVtYmVyIG9mIG91dGdvaW5nIGVkZ2VzIHRoaXMgbm9kZSBoYXMgaW4gdGhlIGZpbml0ZVxuICAvLyBhdXRvbWF0b24gdGhhdCBkZXNjcmliZXMgdGhlIGNvbnRlbnQgZXhwcmVzc2lvbi5cbiAgZ2V0IGVkZ2VDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5uZXh0Lmxlbmd0aCA+PiAxXG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIge3R5cGU6IE5vZGVUeXBlLCBuZXh0OiBDb250ZW50TWF0Y2h9XG4gIC8vIEdldCB0aGUgX25f4oCLdGggb3V0Z29pbmcgZWRnZSBmcm9tIHRoaXMgbm9kZSBpbiB0aGUgZmluaXRlXG4gIC8vIGF1dG9tYXRvbiB0aGF0IGRlc2NyaWJlcyB0aGUgY29udGVudCBleHByZXNzaW9uLlxuICBlZGdlKG4pIHtcbiAgICBsZXQgaSA9IG4gPDwgMVxuICAgIGlmIChpID49IHRoaXMubmV4dC5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKGBUaGVyZSdzIG5vICR7bn10aCBlZGdlIGluIHRoaXMgY29udGVudCBtYXRjaGApXG4gICAgcmV0dXJuIHt0eXBlOiB0aGlzLm5leHRbaV0sIG5leHQ6IHRoaXMubmV4dFtpICsgMV19XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICBsZXQgc2VlbiA9IFtdXG4gICAgZnVuY3Rpb24gc2NhbihtKSB7XG4gICAgICBzZWVuLnB1c2gobSlcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbS5uZXh0Lmxlbmd0aDsgaSArPSAyKVxuICAgICAgICBpZiAoc2Vlbi5pbmRleE9mKG0ubmV4dFtpXSkgPT0gLTEpIHNjYW4obS5uZXh0W2ldKVxuICAgIH1cbiAgICBzY2FuKHRoaXMpXG4gICAgcmV0dXJuIHNlZW4ubWFwKChtLCBpKSA9PiB7XG4gICAgICBsZXQgb3V0ID0gaSArIChtLnZhbGlkRW5kID8gXCIqXCIgOiBcIiBcIikgKyBcIiBcIlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtLm5leHQubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgIG91dCArPSAoaSA/IFwiLCBcIiA6IFwiXCIpICsgbS5uZXh0W2ldLm5hbWUgKyBcIi0+XCIgKyBzZWVuLmluZGV4T2YobS5uZXh0W2kgKyAxXSlcbiAgICAgIHJldHVybiBvdXRcbiAgICB9KS5qb2luKFwiXFxuXCIpXG4gIH1cbn1cblxuQ29udGVudE1hdGNoLmVtcHR5ID0gbmV3IENvbnRlbnRNYXRjaCh0cnVlKVxuXG5jbGFzcyBUb2tlblN0cmVhbSB7XG4gIGNvbnN0cnVjdG9yKHN0cmluZywgbm9kZVR5cGVzKSB7XG4gICAgdGhpcy5zdHJpbmcgPSBzdHJpbmdcbiAgICB0aGlzLm5vZGVUeXBlcyA9IG5vZGVUeXBlc1xuICAgIHRoaXMuaW5saW5lID0gbnVsbFxuICAgIHRoaXMucG9zID0gMFxuICAgIHRoaXMudG9rZW5zID0gc3RyaW5nLnNwbGl0KC9cXHMqKD89XFxifFxcV3wkKS8pXG4gICAgaWYgKHRoaXMudG9rZW5zW3RoaXMudG9rZW5zLmxlbmd0aCAtIDFdID09IFwiXCIpIHRoaXMudG9rZW5zLnBvcCgpXG4gICAgaWYgKHRoaXMudG9rZW5zWzBdID09IFwiXCIpIHRoaXMudG9rZW5zLnVuc2hpZnQoKVxuICB9XG5cbiAgZ2V0IG5leHQoKSB7IHJldHVybiB0aGlzLnRva2Vuc1t0aGlzLnBvc10gfVxuXG4gIGVhdCh0b2spIHsgcmV0dXJuIHRoaXMubmV4dCA9PSB0b2sgJiYgKHRoaXMucG9zKysgfHwgdHJ1ZSkgfVxuXG4gIGVycihzdHIpIHsgdGhyb3cgbmV3IFN5bnRheEVycm9yKHN0ciArIFwiIChpbiBjb250ZW50IGV4cHJlc3Npb24gJ1wiICsgdGhpcy5zdHJpbmcgKyBcIicpXCIpIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VFeHByKHN0cmVhbSkge1xuICBsZXQgZXhwcnMgPSBbXVxuICBkbyB7IGV4cHJzLnB1c2gocGFyc2VFeHByU2VxKHN0cmVhbSkpIH1cbiAgd2hpbGUgKHN0cmVhbS5lYXQoXCJ8XCIpKVxuICByZXR1cm4gZXhwcnMubGVuZ3RoID09IDEgPyBleHByc1swXSA6IHt0eXBlOiBcImNob2ljZVwiLCBleHByc31cbn1cblxuZnVuY3Rpb24gcGFyc2VFeHByU2VxKHN0cmVhbSkge1xuICBsZXQgZXhwcnMgPSBbXVxuICBkbyB7IGV4cHJzLnB1c2gocGFyc2VFeHByU3Vic2NyaXB0KHN0cmVhbSkpIH1cbiAgd2hpbGUgKHN0cmVhbS5uZXh0ICYmIHN0cmVhbS5uZXh0ICE9IFwiKVwiICYmIHN0cmVhbS5uZXh0ICE9IFwifFwiKVxuICByZXR1cm4gZXhwcnMubGVuZ3RoID09IDEgPyBleHByc1swXSA6IHt0eXBlOiBcInNlcVwiLCBleHByc31cbn1cblxuZnVuY3Rpb24gcGFyc2VFeHByU3Vic2NyaXB0KHN0cmVhbSkge1xuICBsZXQgZXhwciA9IHBhcnNlRXhwckF0b20oc3RyZWFtKVxuICBmb3IgKDs7KSB7XG4gICAgaWYgKHN0cmVhbS5lYXQoXCIrXCIpKVxuICAgICAgZXhwciA9IHt0eXBlOiBcInBsdXNcIiwgZXhwcn1cbiAgICBlbHNlIGlmIChzdHJlYW0uZWF0KFwiKlwiKSlcbiAgICAgIGV4cHIgPSB7dHlwZTogXCJzdGFyXCIsIGV4cHJ9XG4gICAgZWxzZSBpZiAoc3RyZWFtLmVhdChcIj9cIikpXG4gICAgICBleHByID0ge3R5cGU6IFwib3B0XCIsIGV4cHJ9XG4gICAgZWxzZSBpZiAoc3RyZWFtLmVhdChcIntcIikpXG4gICAgICBleHByID0gcGFyc2VFeHByUmFuZ2Uoc3RyZWFtLCBleHByKVxuICAgIGVsc2UgYnJlYWtcbiAgfVxuICByZXR1cm4gZXhwclxufVxuXG5mdW5jdGlvbiBwYXJzZU51bShzdHJlYW0pIHtcbiAgaWYgKC9cXEQvLnRlc3Qoc3RyZWFtLm5leHQpKSBzdHJlYW0uZXJyKFwiRXhwZWN0ZWQgbnVtYmVyLCBnb3QgJ1wiICsgc3RyZWFtLm5leHQgKyBcIidcIilcbiAgbGV0IHJlc3VsdCA9IE51bWJlcihzdHJlYW0ubmV4dClcbiAgc3RyZWFtLnBvcysrXG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gcGFyc2VFeHByUmFuZ2Uoc3RyZWFtLCBleHByKSB7XG4gIGxldCBtaW4gPSBwYXJzZU51bShzdHJlYW0pLCBtYXggPSBtaW5cbiAgaWYgKHN0cmVhbS5lYXQoXCIsXCIpKSB7XG4gICAgaWYgKHN0cmVhbS5uZXh0ICE9IFwifVwiKSBtYXggPSBwYXJzZU51bShzdHJlYW0pXG4gICAgZWxzZSBtYXggPSAtMVxuICB9XG4gIGlmICghc3RyZWFtLmVhdChcIn1cIikpIHN0cmVhbS5lcnIoXCJVbmNsb3NlZCBicmFjZWQgcmFuZ2VcIilcbiAgcmV0dXJuIHt0eXBlOiBcInJhbmdlXCIsIG1pbiwgbWF4LCBleHByfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlTmFtZShzdHJlYW0sIG5hbWUpIHtcbiAgbGV0IHR5cGVzID0gc3RyZWFtLm5vZGVUeXBlcywgdHlwZSA9IHR5cGVzW25hbWVdXG4gIGlmICh0eXBlKSByZXR1cm4gW3R5cGVdXG4gIGxldCByZXN1bHQgPSBbXVxuICBmb3IgKGxldCB0eXBlTmFtZSBpbiB0eXBlcykge1xuICAgIGxldCB0eXBlID0gdHlwZXNbdHlwZU5hbWVdXG4gICAgaWYgKHR5cGUuZ3JvdXBzLmluZGV4T2YobmFtZSkgPiAtMSkgcmVzdWx0LnB1c2godHlwZSlcbiAgfVxuICBpZiAocmVzdWx0Lmxlbmd0aCA9PSAwKSBzdHJlYW0uZXJyKFwiTm8gbm9kZSB0eXBlIG9yIGdyb3VwICdcIiArIG5hbWUgKyBcIicgZm91bmRcIilcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBwYXJzZUV4cHJBdG9tKHN0cmVhbSkge1xuICBpZiAoc3RyZWFtLmVhdChcIihcIikpIHtcbiAgICBsZXQgZXhwciA9IHBhcnNlRXhwcihzdHJlYW0pXG4gICAgaWYgKCFzdHJlYW0uZWF0KFwiKVwiKSkgc3RyZWFtLmVycihcIk1pc3NpbmcgY2xvc2luZyBwYXJlblwiKVxuICAgIHJldHVybiBleHByXG4gIH0gZWxzZSBpZiAoIS9cXFcvLnRlc3Qoc3RyZWFtLm5leHQpKSB7XG4gICAgbGV0IGV4cHJzID0gcmVzb2x2ZU5hbWUoc3RyZWFtLCBzdHJlYW0ubmV4dCkubWFwKHR5cGUgPT4ge1xuICAgICAgaWYgKHN0cmVhbS5pbmxpbmUgPT0gbnVsbCkgc3RyZWFtLmlubGluZSA9IHR5cGUuaXNJbmxpbmVcbiAgICAgIGVsc2UgaWYgKHN0cmVhbS5pbmxpbmUgIT0gdHlwZS5pc0lubGluZSkgc3RyZWFtLmVycihcIk1peGluZyBpbmxpbmUgYW5kIGJsb2NrIGNvbnRlbnRcIilcbiAgICAgIHJldHVybiB7dHlwZTogXCJuYW1lXCIsIHZhbHVlOiB0eXBlfVxuICAgIH0pXG4gICAgc3RyZWFtLnBvcysrXG4gICAgcmV0dXJuIGV4cHJzLmxlbmd0aCA9PSAxID8gZXhwcnNbMF0gOiB7dHlwZTogXCJjaG9pY2VcIiwgZXhwcnN9XG4gIH0gZWxzZSB7XG4gICAgc3RyZWFtLmVycihcIlVuZXhwZWN0ZWQgdG9rZW4gJ1wiICsgc3RyZWFtLm5leHQgKyBcIidcIilcbiAgfVxufVxuXG4vLyBUaGUgY29kZSBiZWxvdyBoZWxwcyBjb21waWxlIGEgcmVndWxhci1leHByZXNzaW9uLWxpa2UgbGFuZ3VhZ2Vcbi8vIGludG8gYSBkZXRlcm1pbmlzdGljIGZpbml0ZSBhdXRvbWF0b24uIEZvciBhIGdvb2QgaW50cm9kdWN0aW9uIHRvXG4vLyB0aGVzZSBjb25jZXB0cywgc2VlIGh0dHBzOi8vc3d0Y2guY29tL35yc2MvcmVnZXhwL3JlZ2V4cDEuaHRtbFxuXG4vLyA6IChPYmplY3QpIOKGkiBbW3t0ZXJtOiA/YW55LCB0bzogbnVtYmVyfV1dXG4vLyBDb25zdHJ1Y3QgYW4gTkZBIGZyb20gYW4gZXhwcmVzc2lvbiBhcyByZXR1cm5lZCBieSB0aGUgcGFyc2VyLiBUaGVcbi8vIE5GQSBpcyByZXByZXNlbnRlZCBhcyBhbiBhcnJheSBvZiBzdGF0ZXMsIHdoaWNoIGFyZSB0aGVtc2VsdmVzXG4vLyBhcnJheXMgb2YgZWRnZXMsIHdoaWNoIGFyZSBge3Rlcm0sIHRvfWAgb2JqZWN0cy4gVGhlIGZpcnN0IHN0YXRlIGlzXG4vLyB0aGUgZW50cnkgc3RhdGUgYW5kIHRoZSBsYXN0IG5vZGUgaXMgdGhlIHN1Y2Nlc3Mgc3RhdGUuXG4vL1xuLy8gTm90ZSB0aGF0IHVubGlrZSB0eXBpY2FsIE5GQXMsIHRoZSBlZGdlIG9yZGVyaW5nIGluIHRoaXMgb25lIGlzXG4vLyBzaWduaWZpY2FudCwgaW4gdGhhdCBpdCBpcyB1c2VkIHRvIGNvbnRydWN0IGZpbGxlciBjb250ZW50IHdoZW5cbi8vIG5lY2Vzc2FyeS5cbmZ1bmN0aW9uIG5mYShleHByKSB7XG4gIGxldCBuZmEgPSBbW11dXG4gIGNvbm5lY3QoY29tcGlsZShleHByLCAwKSwgbm9kZSgpKVxuICByZXR1cm4gbmZhXG5cbiAgZnVuY3Rpb24gbm9kZSgpIHsgcmV0dXJuIG5mYS5wdXNoKFtdKSAtIDEgfVxuICBmdW5jdGlvbiBlZGdlKGZyb20sIHRvLCB0ZXJtKSB7XG4gICAgbGV0IGVkZ2UgPSB7dGVybSwgdG99XG4gICAgbmZhW2Zyb21dLnB1c2goZWRnZSlcbiAgICByZXR1cm4gZWRnZVxuICB9XG4gIGZ1bmN0aW9uIGNvbm5lY3QoZWRnZXMsIHRvKSB7IGVkZ2VzLmZvckVhY2goZWRnZSA9PiBlZGdlLnRvID0gdG8pIH1cblxuICBmdW5jdGlvbiBjb21waWxlKGV4cHIsIGZyb20pIHtcbiAgICBpZiAoZXhwci50eXBlID09IFwiY2hvaWNlXCIpIHtcbiAgICAgIHJldHVybiBleHByLmV4cHJzLnJlZHVjZSgob3V0LCBleHByKSA9PiBvdXQuY29uY2F0KGNvbXBpbGUoZXhwciwgZnJvbSkpLCBbXSlcbiAgICB9IGVsc2UgaWYgKGV4cHIudHlwZSA9PSBcInNlcVwiKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDs7IGkrKykge1xuICAgICAgICBsZXQgbmV4dCA9IGNvbXBpbGUoZXhwci5leHByc1tpXSwgZnJvbSlcbiAgICAgICAgaWYgKGkgPT0gZXhwci5leHBycy5sZW5ndGggLSAxKSByZXR1cm4gbmV4dFxuICAgICAgICBjb25uZWN0KG5leHQsIGZyb20gPSBub2RlKCkpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChleHByLnR5cGUgPT0gXCJzdGFyXCIpIHtcbiAgICAgIGxldCBsb29wID0gbm9kZSgpXG4gICAgICBlZGdlKGZyb20sIGxvb3ApXG4gICAgICBjb25uZWN0KGNvbXBpbGUoZXhwci5leHByLCBsb29wKSwgbG9vcClcbiAgICAgIHJldHVybiBbZWRnZShsb29wKV1cbiAgICB9IGVsc2UgaWYgKGV4cHIudHlwZSA9PSBcInBsdXNcIikge1xuICAgICAgbGV0IGxvb3AgPSBub2RlKClcbiAgICAgIGNvbm5lY3QoY29tcGlsZShleHByLmV4cHIsIGZyb20pLCBsb29wKVxuICAgICAgY29ubmVjdChjb21waWxlKGV4cHIuZXhwciwgbG9vcCksIGxvb3ApXG4gICAgICByZXR1cm4gW2VkZ2UobG9vcCldXG4gICAgfSBlbHNlIGlmIChleHByLnR5cGUgPT0gXCJvcHRcIikge1xuICAgICAgcmV0dXJuIFtlZGdlKGZyb20pXS5jb25jYXQoY29tcGlsZShleHByLmV4cHIsIGZyb20pKVxuICAgIH0gZWxzZSBpZiAoZXhwci50eXBlID09IFwicmFuZ2VcIikge1xuICAgICAgbGV0IGN1ciA9IGZyb21cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwci5taW47IGkrKykge1xuICAgICAgICBsZXQgbmV4dCA9IG5vZGUoKVxuICAgICAgICBjb25uZWN0KGNvbXBpbGUoZXhwci5leHByLCBjdXIpLCBuZXh0KVxuICAgICAgICBjdXIgPSBuZXh0XG4gICAgICB9XG4gICAgICBpZiAoZXhwci5tYXggPT0gLTEpIHtcbiAgICAgICAgY29ubmVjdChjb21waWxlKGV4cHIuZXhwciwgY3VyKSwgY3VyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGV4cHIubWluOyBpIDwgZXhwci5tYXg7IGkrKykge1xuICAgICAgICAgIGxldCBuZXh0ID0gbm9kZSgpXG4gICAgICAgICAgZWRnZShjdXIsIG5leHQpXG4gICAgICAgICAgY29ubmVjdChjb21waWxlKGV4cHIuZXhwciwgY3VyKSwgbmV4dClcbiAgICAgICAgICBjdXIgPSBuZXh0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBbZWRnZShjdXIpXVxuICAgIH0gZWxzZSBpZiAoZXhwci50eXBlID09IFwibmFtZVwiKSB7XG4gICAgICByZXR1cm4gW2VkZ2UoZnJvbSwgbnVsbCwgZXhwci52YWx1ZSldXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNtcChhLCBiKSB7IHJldHVybiBiIC0gYSB9XG5cbi8vIEdldCB0aGUgc2V0IG9mIG5vZGVzIHJlYWNoYWJsZSBieSBudWxsIGVkZ2VzIGZyb20gYG5vZGVgLiBPbWl0XG4vLyBub2RlcyB3aXRoIG9ubHkgYSBzaW5nbGUgbnVsbC1vdXQtZWRnZSwgc2luY2UgdGhleSBtYXkgbGVhZCB0b1xuLy8gbmVlZGxlc3MgZHVwbGljYXRlZCBub2Rlcy5cbmZ1bmN0aW9uIG51bGxGcm9tKG5mYSwgbm9kZSkge1xuICBsZXQgcmVzdWx0ID0gW11cbiAgc2Nhbihub2RlKVxuICByZXR1cm4gcmVzdWx0LnNvcnQoY21wKVxuXG4gIGZ1bmN0aW9uIHNjYW4obm9kZSkge1xuICAgIGxldCBlZGdlcyA9IG5mYVtub2RlXVxuICAgIGlmIChlZGdlcy5sZW5ndGggPT0gMSAmJiAhZWRnZXNbMF0udGVybSkgcmV0dXJuIHNjYW4oZWRnZXNbMF0udG8pXG4gICAgcmVzdWx0LnB1c2gobm9kZSlcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVkZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQge3Rlcm0sIHRvfSA9IGVkZ2VzW2ldXG4gICAgICBpZiAoIXRlcm0gJiYgcmVzdWx0LmluZGV4T2YodG8pID09IC0xKSBzY2FuKHRvKVxuICAgIH1cbiAgfVxufVxuXG4vLyA6IChbW3t0ZXJtOiA/YW55LCB0bzogbnVtYmVyfV1dKSDihpIgQ29udGVudE1hdGNoXG4vLyBDb21waWxlcyBhbiBORkEgYXMgcHJvZHVjZWQgYnkgYG5mYWAgaW50byBhIERGQSwgbW9kZWxlZCBhcyBhIHNldFxuLy8gb2Ygc3RhdGUgb2JqZWN0cyAoYENvbnRlbnRNYXRjaGAgaW5zdGFuY2VzKSB3aXRoIHRyYW5zaXRpb25zXG4vLyBiZXR3ZWVuIHRoZW0uXG5mdW5jdGlvbiBkZmEobmZhKSB7XG4gIGxldCBsYWJlbGVkID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICByZXR1cm4gZXhwbG9yZShudWxsRnJvbShuZmEsIDApKVxuXG4gIGZ1bmN0aW9uIGV4cGxvcmUoc3RhdGVzKSB7XG4gICAgbGV0IG91dCA9IFtdXG4gICAgc3RhdGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICBuZmFbbm9kZV0uZm9yRWFjaCgoe3Rlcm0sIHRvfSkgPT4ge1xuICAgICAgICBpZiAoIXRlcm0pIHJldHVyblxuICAgICAgICBsZXQga25vd24gPSBvdXQuaW5kZXhPZih0ZXJtKSwgc2V0ID0ga25vd24gPiAtMSAmJiBvdXRba25vd24gKyAxXVxuICAgICAgICBudWxsRnJvbShuZmEsIHRvKS5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgIGlmICghc2V0KSBvdXQucHVzaCh0ZXJtLCBzZXQgPSBbXSlcbiAgICAgICAgICBpZiAoc2V0LmluZGV4T2Yobm9kZSkgPT0gLTEpIHNldC5wdXNoKG5vZGUpXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gICAgbGV0IHN0YXRlID0gbGFiZWxlZFtzdGF0ZXMuam9pbihcIixcIildID0gbmV3IENvbnRlbnRNYXRjaChzdGF0ZXMuaW5kZXhPZihuZmEubGVuZ3RoIC0gMSkgPiAtMSlcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dC5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgbGV0IHN0YXRlcyA9IG91dFtpICsgMV0uc29ydChjbXApXG4gICAgICBzdGF0ZS5uZXh0LnB1c2gob3V0W2ldLCBsYWJlbGVkW3N0YXRlcy5qb2luKFwiLFwiKV0gfHwgZXhwbG9yZShzdGF0ZXMpKVxuICAgIH1cbiAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0ZvckRlYWRFbmRzKG1hdGNoLCBzdHJlYW0pIHtcbiAgZm9yIChsZXQgaSA9IDAsIHdvcmsgPSBbbWF0Y2hdOyBpIDwgd29yay5sZW5ndGg7IGkrKykge1xuICAgIGxldCBzdGF0ZSA9IHdvcmtbaV0sIGRlYWQgPSAhc3RhdGUudmFsaWRFbmQsIG5vZGVzID0gW11cbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHN0YXRlLm5leHQubGVuZ3RoOyBqICs9IDIpIHtcbiAgICAgIGxldCBub2RlID0gc3RhdGUubmV4dFtqXSwgbmV4dCA9IHN0YXRlLm5leHRbaiArIDFdXG4gICAgICBub2Rlcy5wdXNoKG5vZGUubmFtZSlcbiAgICAgIGlmIChkZWFkICYmICEobm9kZS5pc1RleHQgfHwgbm9kZS5oYXNSZXF1aXJlZEF0dHJzKCkpKSBkZWFkID0gZmFsc2VcbiAgICAgIGlmICh3b3JrLmluZGV4T2YobmV4dCkgPT0gLTEpIHdvcmsucHVzaChuZXh0KVxuICAgIH1cbiAgICBpZiAoZGVhZCkgc3RyZWFtLmVycihcIk9ubHkgbm9uLWdlbmVyYXRhYmxlIG5vZGVzIChcIiArIG5vZGVzLmpvaW4oXCIsIFwiKSArIFwiKSBpbiBhIHJlcXVpcmVkIHBvc2l0aW9uXCIpXG4gIH1cbn1cbiIsImltcG9ydCBPcmRlcmVkTWFwIGZyb20gXCJvcmRlcmVkbWFwXCJcblxuaW1wb3J0IHtOb2RlLCBUZXh0Tm9kZX0gZnJvbSBcIi4vbm9kZVwiXG5pbXBvcnQge0ZyYWdtZW50fSBmcm9tIFwiLi9mcmFnbWVudFwiXG5pbXBvcnQge01hcmt9IGZyb20gXCIuL21hcmtcIlxuaW1wb3J0IHtDb250ZW50TWF0Y2h9IGZyb20gXCIuL2NvbnRlbnRcIlxuXG4vLyBGb3Igbm9kZSB0eXBlcyB3aGVyZSBhbGwgYXR0cnMgaGF2ZSBhIGRlZmF1bHQgdmFsdWUgKG9yIHdoaWNoIGRvbid0XG4vLyBoYXZlIGFueSBhdHRyaWJ1dGVzKSwgYnVpbGQgdXAgYSBzaW5nbGUgcmV1c2FibGUgZGVmYXVsdCBhdHRyaWJ1dGVcbi8vIG9iamVjdCwgYW5kIHVzZSBpdCBmb3IgYWxsIG5vZGVzIHRoYXQgZG9uJ3Qgc3BlY2lmeSBzcGVjaWZpY1xuLy8gYXR0cmlidXRlcy5cbmZ1bmN0aW9uIGRlZmF1bHRBdHRycyhhdHRycykge1xuICBsZXQgZGVmYXVsdHMgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gIGZvciAobGV0IGF0dHJOYW1lIGluIGF0dHJzKSB7XG4gICAgbGV0IGF0dHIgPSBhdHRyc1thdHRyTmFtZV1cbiAgICBpZiAoIWF0dHIuaGFzRGVmYXVsdCkgcmV0dXJuIG51bGxcbiAgICBkZWZhdWx0c1thdHRyTmFtZV0gPSBhdHRyLmRlZmF1bHRcbiAgfVxuICByZXR1cm4gZGVmYXVsdHNcbn1cblxuZnVuY3Rpb24gY29tcHV0ZUF0dHJzKGF0dHJzLCB2YWx1ZSkge1xuICBsZXQgYnVpbHQgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gIGZvciAobGV0IG5hbWUgaW4gYXR0cnMpIHtcbiAgICBsZXQgZ2l2ZW4gPSB2YWx1ZSAmJiB2YWx1ZVtuYW1lXVxuICAgIGlmIChnaXZlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgYXR0ciA9IGF0dHJzW25hbWVdXG4gICAgICBpZiAoYXR0ci5oYXNEZWZhdWx0KSBnaXZlbiA9IGF0dHIuZGVmYXVsdFxuICAgICAgZWxzZSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk5vIHZhbHVlIHN1cHBsaWVkIGZvciBhdHRyaWJ1dGUgXCIgKyBuYW1lKVxuICAgIH1cbiAgICBidWlsdFtuYW1lXSA9IGdpdmVuXG4gIH1cbiAgcmV0dXJuIGJ1aWx0XG59XG5cbmZ1bmN0aW9uIGluaXRBdHRycyhhdHRycykge1xuICBsZXQgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICBpZiAoYXR0cnMpIGZvciAobGV0IG5hbWUgaW4gYXR0cnMpIHJlc3VsdFtuYW1lXSA9IG5ldyBBdHRyaWJ1dGUoYXR0cnNbbmFtZV0pXG4gIHJldHVybiByZXN1bHRcbn1cblxuLy8gOjotIE5vZGUgdHlwZXMgYXJlIG9iamVjdHMgYWxsb2NhdGVkIG9uY2UgcGVyIGBTY2hlbWFgIGFuZCB1c2VkIHRvXG4vLyBbdGFnXSgjbW9kZWwuTm9kZS50eXBlKSBgTm9kZWAgaW5zdGFuY2VzLiBUaGV5IGNvbnRhaW4gaW5mb3JtYXRpb25cbi8vIGFib3V0IHRoZSBub2RlIHR5cGUsIHN1Y2ggYXMgaXRzIG5hbWUgYW5kIHdoYXQga2luZCBvZiBub2RlIGl0XG4vLyByZXByZXNlbnRzLlxuZXhwb3J0IGNsYXNzIE5vZGVUeXBlIHtcbiAgY29uc3RydWN0b3IobmFtZSwgc2NoZW1hLCBzcGVjKSB7XG4gICAgLy8gOjogc3RyaW5nXG4gICAgLy8gVGhlIG5hbWUgdGhlIG5vZGUgdHlwZSBoYXMgaW4gdGhpcyBzY2hlbWEuXG4gICAgdGhpcy5uYW1lID0gbmFtZVxuXG4gICAgLy8gOjogU2NoZW1hXG4gICAgLy8gQSBsaW5rIGJhY2sgdG8gdGhlIGBTY2hlbWFgIHRoZSBub2RlIHR5cGUgYmVsb25ncyB0by5cbiAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYVxuXG4gICAgLy8gOjogTm9kZVNwZWNcbiAgICAvLyBUaGUgc3BlYyB0aGF0IHRoaXMgdHlwZSBpcyBiYXNlZCBvblxuICAgIHRoaXMuc3BlYyA9IHNwZWNcblxuICAgIHRoaXMuZ3JvdXBzID0gc3BlYy5ncm91cCA/IHNwZWMuZ3JvdXAuc3BsaXQoXCIgXCIpIDogW11cbiAgICB0aGlzLmF0dHJzID0gaW5pdEF0dHJzKHNwZWMuYXR0cnMpXG5cbiAgICB0aGlzLmRlZmF1bHRBdHRycyA9IGRlZmF1bHRBdHRycyh0aGlzLmF0dHJzKVxuXG4gICAgLy8gOjogQ29udGVudE1hdGNoXG4gICAgLy8gVGhlIHN0YXJ0aW5nIG1hdGNoIG9mIHRoZSBub2RlIHR5cGUncyBjb250ZW50IGV4cHJlc3Npb24uXG4gICAgdGhpcy5jb250ZW50TWF0Y2ggPSBudWxsXG5cbiAgICAvLyA6ID9bTWFya1R5cGVdXG4gICAgLy8gVGhlIHNldCBvZiBtYXJrcyBhbGxvd2VkIGluIHRoaXMgbm9kZS4gYG51bGxgIG1lYW5zIGFsbCBtYXJrc1xuICAgIC8vIGFyZSBhbGxvd2VkLlxuICAgIHRoaXMubWFya1NldCA9IG51bGxcblxuICAgIC8vIDo6IGJvb2xcbiAgICAvLyBUcnVlIGlmIHRoaXMgbm9kZSB0eXBlIGhhcyBpbmxpbmUgY29udGVudC5cbiAgICB0aGlzLmlubGluZUNvbnRlbnQgPSBudWxsXG5cbiAgICAvLyA6OiBib29sXG4gICAgLy8gVHJ1ZSBpZiB0aGlzIGlzIGEgYmxvY2sgdHlwZVxuICAgIHRoaXMuaXNCbG9jayA9ICEoc3BlYy5pbmxpbmUgfHwgbmFtZSA9PSBcInRleHRcIilcblxuICAgIC8vIDo6IGJvb2xcbiAgICAvLyBUcnVlIGlmIHRoaXMgaXMgdGhlIHRleHQgbm9kZSB0eXBlLlxuICAgIHRoaXMuaXNUZXh0ID0gbmFtZSA9PSBcInRleHRcIlxuICB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBUcnVlIGlmIHRoaXMgaXMgYW4gaW5saW5lIHR5cGUuXG4gIGdldCBpc0lubGluZSgpIHsgcmV0dXJuICF0aGlzLmlzQmxvY2sgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSBpZiB0aGlzIGlzIGEgdGV4dGJsb2NrIHR5cGUsIGEgYmxvY2sgdGhhdCBjb250YWlucyBpbmxpbmVcbiAgLy8gY29udGVudC5cbiAgZ2V0IGlzVGV4dGJsb2NrKCkgeyByZXR1cm4gdGhpcy5pc0Jsb2NrICYmIHRoaXMuaW5saW5lQ29udGVudCB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBUcnVlIGZvciBub2RlIHR5cGVzIHRoYXQgYWxsb3cgbm8gY29udGVudC5cbiAgZ2V0IGlzTGVhZigpIHsgcmV0dXJuIHRoaXMuY29udGVudE1hdGNoID09IENvbnRlbnRNYXRjaC5lbXB0eSB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBUcnVlIHdoZW4gdGhpcyBub2RlIGlzIGFuIGF0b20sIGkuZS4gd2hlbiBpdCBkb2VzIG5vdCBoYXZlXG4gIC8vIGRpcmVjdGx5IGVkaXRhYmxlIGNvbnRlbnQuXG4gIGdldCBpc0F0b20oKSB7IHJldHVybiB0aGlzLmlzTGVhZiB8fCB0aGlzLnNwZWMuYXRvbSB9XG5cbiAgLy8gOjogKCkg4oaSIGJvb2xcbiAgLy8gVGVsbHMgeW91IHdoZXRoZXIgdGhpcyBub2RlIHR5cGUgaGFzIGFueSByZXF1aXJlZCBhdHRyaWJ1dGVzLlxuICBoYXNSZXF1aXJlZEF0dHJzKCkge1xuICAgIGZvciAobGV0IG4gaW4gdGhpcy5hdHRycykgaWYgKHRoaXMuYXR0cnNbbl0uaXNSZXF1aXJlZCkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbXBhdGlibGVDb250ZW50KG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHwgdGhpcy5jb250ZW50TWF0Y2guY29tcGF0aWJsZShvdGhlci5jb250ZW50TWF0Y2gpXG4gIH1cblxuICBjb21wdXRlQXR0cnMoYXR0cnMpIHtcbiAgICBpZiAoIWF0dHJzICYmIHRoaXMuZGVmYXVsdEF0dHJzKSByZXR1cm4gdGhpcy5kZWZhdWx0QXR0cnNcbiAgICBlbHNlIHJldHVybiBjb21wdXRlQXR0cnModGhpcy5hdHRycywgYXR0cnMpXG4gIH1cblxuICAvLyA6OiAoP09iamVjdCwgP3VuaW9uPEZyYWdtZW50LCBOb2RlLCBbTm9kZV0+LCA/W01hcmtdKSDihpIgTm9kZVxuICAvLyBDcmVhdGUgYSBgTm9kZWAgb2YgdGhpcyB0eXBlLiBUaGUgZ2l2ZW4gYXR0cmlidXRlcyBhcmVcbiAgLy8gY2hlY2tlZCBhbmQgZGVmYXVsdGVkICh5b3UgY2FuIHBhc3MgYG51bGxgIHRvIHVzZSB0aGUgdHlwZSdzXG4gIC8vIGRlZmF1bHRzIGVudGlyZWx5LCBpZiBubyByZXF1aXJlZCBhdHRyaWJ1dGVzIGV4aXN0KS4gYGNvbnRlbnRgXG4gIC8vIG1heSBiZSBhIGBGcmFnbWVudGAsIGEgbm9kZSwgYW4gYXJyYXkgb2Ygbm9kZXMsIG9yXG4gIC8vIGBudWxsYC4gU2ltaWxhcmx5IGBtYXJrc2AgbWF5IGJlIGBudWxsYCB0byBkZWZhdWx0IHRvIHRoZSBlbXB0eVxuICAvLyBzZXQgb2YgbWFya3MuXG4gIGNyZWF0ZShhdHRycywgY29udGVudCwgbWFya3MpIHtcbiAgICBpZiAodGhpcy5pc1RleHQpIHRocm93IG5ldyBFcnJvcihcIk5vZGVUeXBlLmNyZWF0ZSBjYW4ndCBjb25zdHJ1Y3QgdGV4dCBub2Rlc1wiKVxuICAgIHJldHVybiBuZXcgTm9kZSh0aGlzLCB0aGlzLmNvbXB1dGVBdHRycyhhdHRycyksIEZyYWdtZW50LmZyb20oY29udGVudCksIE1hcmsuc2V0RnJvbShtYXJrcykpXG4gIH1cblxuICAvLyA6OiAoP09iamVjdCwgP3VuaW9uPEZyYWdtZW50LCBOb2RlLCBbTm9kZV0+LCA/W01hcmtdKSDihpIgTm9kZVxuICAvLyBMaWtlIFtgY3JlYXRlYF0oI21vZGVsLk5vZGVUeXBlLmNyZWF0ZSksIGJ1dCBjaGVjayB0aGUgZ2l2ZW4gY29udGVudFxuICAvLyBhZ2FpbnN0IHRoZSBub2RlIHR5cGUncyBjb250ZW50IHJlc3RyaWN0aW9ucywgYW5kIHRocm93IGFuIGVycm9yXG4gIC8vIGlmIGl0IGRvZXNuJ3QgbWF0Y2guXG4gIGNyZWF0ZUNoZWNrZWQoYXR0cnMsIGNvbnRlbnQsIG1hcmtzKSB7XG4gICAgY29udGVudCA9IEZyYWdtZW50LmZyb20oY29udGVudClcbiAgICBpZiAoIXRoaXMudmFsaWRDb250ZW50KGNvbnRlbnQpKVxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgXCIgKyB0aGlzLm5hbWUpXG4gICAgcmV0dXJuIG5ldyBOb2RlKHRoaXMsIHRoaXMuY29tcHV0ZUF0dHJzKGF0dHJzKSwgY29udGVudCwgTWFyay5zZXRGcm9tKG1hcmtzKSlcbiAgfVxuXG4gIC8vIDo6ICg/T2JqZWN0LCA/dW5pb248RnJhZ21lbnQsIE5vZGUsIFtOb2RlXT4sID9bTWFya10pIOKGkiA/Tm9kZVxuICAvLyBMaWtlIFtgY3JlYXRlYF0oI21vZGVsLk5vZGVUeXBlLmNyZWF0ZSksIGJ1dCBzZWUgaWYgaXQgaXMgbmVjZXNzYXJ5IHRvXG4gIC8vIGFkZCBub2RlcyB0byB0aGUgc3RhcnQgb3IgZW5kIG9mIHRoZSBnaXZlbiBmcmFnbWVudCB0byBtYWtlIGl0XG4gIC8vIGZpdCB0aGUgbm9kZS4gSWYgbm8gZml0dGluZyB3cmFwcGluZyBjYW4gYmUgZm91bmQsIHJldHVybiBudWxsLlxuICAvLyBOb3RlIHRoYXQsIGR1ZSB0byB0aGUgZmFjdCB0aGF0IHJlcXVpcmVkIG5vZGVzIGNhbiBhbHdheXMgYmVcbiAgLy8gY3JlYXRlZCwgdGhpcyB3aWxsIGFsd2F5cyBzdWNjZWVkIGlmIHlvdSBwYXNzIG51bGwgb3JcbiAgLy8gYEZyYWdtZW50LmVtcHR5YCBhcyBjb250ZW50LlxuICBjcmVhdGVBbmRGaWxsKGF0dHJzLCBjb250ZW50LCBtYXJrcykge1xuICAgIGF0dHJzID0gdGhpcy5jb21wdXRlQXR0cnMoYXR0cnMpXG4gICAgY29udGVudCA9IEZyYWdtZW50LmZyb20oY29udGVudClcbiAgICBpZiAoY29udGVudC5zaXplKSB7XG4gICAgICBsZXQgYmVmb3JlID0gdGhpcy5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShjb250ZW50KVxuICAgICAgaWYgKCFiZWZvcmUpIHJldHVybiBudWxsXG4gICAgICBjb250ZW50ID0gYmVmb3JlLmFwcGVuZChjb250ZW50KVxuICAgIH1cbiAgICBsZXQgYWZ0ZXIgPSB0aGlzLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KGNvbnRlbnQpLmZpbGxCZWZvcmUoRnJhZ21lbnQuZW1wdHksIHRydWUpXG4gICAgaWYgKCFhZnRlcikgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gbmV3IE5vZGUodGhpcywgYXR0cnMsIGNvbnRlbnQuYXBwZW5kKGFmdGVyKSwgTWFyay5zZXRGcm9tKG1hcmtzKSlcbiAgfVxuXG4gIC8vIDo6IChGcmFnbWVudCkg4oaSIGJvb2xcbiAgLy8gUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBmcmFnbWVudCBpcyB2YWxpZCBjb250ZW50IGZvciB0aGlzIG5vZGVcbiAgLy8gdHlwZSB3aXRoIHRoZSBnaXZlbiBhdHRyaWJ1dGVzLlxuICB2YWxpZENvbnRlbnQoY29udGVudCkge1xuICAgIGxldCByZXN1bHQgPSB0aGlzLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KGNvbnRlbnQpXG4gICAgaWYgKCFyZXN1bHQgfHwgIXJlc3VsdC52YWxpZEVuZCkgcmV0dXJuIGZhbHNlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZW50LmNoaWxkQ291bnQ7IGkrKylcbiAgICAgIGlmICghdGhpcy5hbGxvd3NNYXJrcyhjb250ZW50LmNoaWxkKGkpLm1hcmtzKSkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIDo6IChNYXJrVHlwZSkg4oaSIGJvb2xcbiAgLy8gQ2hlY2sgd2hldGhlciB0aGUgZ2l2ZW4gbWFyayB0eXBlIGlzIGFsbG93ZWQgaW4gdGhpcyBub2RlLlxuICBhbGxvd3NNYXJrVHlwZShtYXJrVHlwZSkge1xuICAgIHJldHVybiB0aGlzLm1hcmtTZXQgPT0gbnVsbCB8fCB0aGlzLm1hcmtTZXQuaW5kZXhPZihtYXJrVHlwZSkgPiAtMVxuICB9XG5cbiAgLy8gOjogKFtNYXJrXSkg4oaSIGJvb2xcbiAgLy8gVGVzdCB3aGV0aGVyIHRoZSBnaXZlbiBzZXQgb2YgbWFya3MgYXJlIGFsbG93ZWQgaW4gdGhpcyBub2RlLlxuICBhbGxvd3NNYXJrcyhtYXJrcykge1xuICAgIGlmICh0aGlzLm1hcmtTZXQgPT0gbnVsbCkgcmV0dXJuIHRydWVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcmtzLmxlbmd0aDsgaSsrKSBpZiAoIXRoaXMuYWxsb3dzTWFya1R5cGUobWFya3NbaV0udHlwZSkpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyA6OiAoW01hcmtdKSDihpIgW01hcmtdXG4gIC8vIFJlbW92ZXMgdGhlIG1hcmtzIHRoYXQgYXJlIG5vdCBhbGxvd2VkIGluIHRoaXMgbm9kZSBmcm9tIHRoZSBnaXZlbiBzZXQuXG4gIGFsbG93ZWRNYXJrcyhtYXJrcykge1xuICAgIGlmICh0aGlzLm1hcmtTZXQgPT0gbnVsbCkgcmV0dXJuIG1hcmtzXG4gICAgbGV0IGNvcHlcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXRoaXMuYWxsb3dzTWFya1R5cGUobWFya3NbaV0udHlwZSkpIHtcbiAgICAgICAgaWYgKCFjb3B5KSBjb3B5ID0gbWFya3Muc2xpY2UoMCwgaSlcbiAgICAgIH0gZWxzZSBpZiAoY29weSkge1xuICAgICAgICBjb3B5LnB1c2gobWFya3NbaV0pXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAhY29weSA/IG1hcmtzIDogY29weS5sZW5ndGggPyBjb3B5IDogTWFyay5lbXB0eVxuICB9XG5cbiAgc3RhdGljIGNvbXBpbGUobm9kZXMsIHNjaGVtYSkge1xuICAgIGxldCByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gICAgbm9kZXMuZm9yRWFjaCgobmFtZSwgc3BlYykgPT4gcmVzdWx0W25hbWVdID0gbmV3IE5vZGVUeXBlKG5hbWUsIHNjaGVtYSwgc3BlYykpXG5cbiAgICBsZXQgdG9wVHlwZSA9IHNjaGVtYS5zcGVjLnRvcE5vZGUgfHwgXCJkb2NcIlxuICAgIGlmICghcmVzdWx0W3RvcFR5cGVdKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlNjaGVtYSBpcyBtaXNzaW5nIGl0cyB0b3Agbm9kZSB0eXBlICgnXCIgKyB0b3BUeXBlICsgXCInKVwiKVxuICAgIGlmICghcmVzdWx0LnRleHQpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiRXZlcnkgc2NoZW1hIG5lZWRzIGEgJ3RleHQnIHR5cGVcIilcbiAgICBmb3IgKGxldCBfIGluIHJlc3VsdC50ZXh0LmF0dHJzKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRoZSB0ZXh0IG5vZGUgdHlwZSBzaG91bGQgbm90IGhhdmUgYXR0cmlidXRlc1wiKVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG59XG5cbi8vIEF0dHJpYnV0ZSBkZXNjcmlwdG9yc1xuXG5jbGFzcyBBdHRyaWJ1dGUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5oYXNEZWZhdWx0ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsIFwiZGVmYXVsdFwiKVxuICAgIHRoaXMuZGVmYXVsdCA9IG9wdGlvbnMuZGVmYXVsdFxuICB9XG5cbiAgZ2V0IGlzUmVxdWlyZWQoKSB7XG4gICAgcmV0dXJuICF0aGlzLmhhc0RlZmF1bHRcbiAgfVxufVxuXG4vLyBNYXJrc1xuXG4vLyA6Oi0gTGlrZSBub2RlcywgbWFya3MgKHdoaWNoIGFyZSBhc3NvY2lhdGVkIHdpdGggbm9kZXMgdG8gc2lnbmlmeVxuLy8gdGhpbmdzIGxpa2UgZW1waGFzaXMgb3IgYmVpbmcgcGFydCBvZiBhIGxpbmspIGFyZVxuLy8gW3RhZ2dlZF0oI21vZGVsLk1hcmsudHlwZSkgd2l0aCB0eXBlIG9iamVjdHMsIHdoaWNoIGFyZVxuLy8gaW5zdGFudGlhdGVkIG9uY2UgcGVyIGBTY2hlbWFgLlxuZXhwb3J0IGNsYXNzIE1hcmtUeXBlIHtcbiAgY29uc3RydWN0b3IobmFtZSwgcmFuaywgc2NoZW1hLCBzcGVjKSB7XG4gICAgLy8gOjogc3RyaW5nXG4gICAgLy8gVGhlIG5hbWUgb2YgdGhlIG1hcmsgdHlwZS5cbiAgICB0aGlzLm5hbWUgPSBuYW1lXG5cbiAgICAvLyA6OiBTY2hlbWFcbiAgICAvLyBUaGUgc2NoZW1hIHRoYXQgdGhpcyBtYXJrIHR5cGUgaW5zdGFuY2UgaXMgcGFydCBvZi5cbiAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYVxuXG4gICAgLy8gOjogTWFya1NwZWNcbiAgICAvLyBUaGUgc3BlYyBvbiB3aGljaCB0aGUgdHlwZSBpcyBiYXNlZC5cbiAgICB0aGlzLnNwZWMgPSBzcGVjXG5cbiAgICB0aGlzLmF0dHJzID0gaW5pdEF0dHJzKHNwZWMuYXR0cnMpXG5cbiAgICB0aGlzLnJhbmsgPSByYW5rXG4gICAgdGhpcy5leGNsdWRlZCA9IG51bGxcbiAgICBsZXQgZGVmYXVsdHMgPSBkZWZhdWx0QXR0cnModGhpcy5hdHRycylcbiAgICB0aGlzLmluc3RhbmNlID0gZGVmYXVsdHMgJiYgbmV3IE1hcmsodGhpcywgZGVmYXVsdHMpXG4gIH1cblxuICAvLyA6OiAoP09iamVjdCkg4oaSIE1hcmtcbiAgLy8gQ3JlYXRlIGEgbWFyayBvZiB0aGlzIHR5cGUuIGBhdHRyc2AgbWF5IGJlIGBudWxsYCBvciBhbiBvYmplY3RcbiAgLy8gY29udGFpbmluZyBvbmx5IHNvbWUgb2YgdGhlIG1hcmsncyBhdHRyaWJ1dGVzLiBUaGUgb3RoZXJzLCBpZlxuICAvLyB0aGV5IGhhdmUgZGVmYXVsdHMsIHdpbGwgYmUgYWRkZWQuXG4gIGNyZWF0ZShhdHRycykge1xuICAgIGlmICghYXR0cnMgJiYgdGhpcy5pbnN0YW5jZSkgcmV0dXJuIHRoaXMuaW5zdGFuY2VcbiAgICByZXR1cm4gbmV3IE1hcmsodGhpcywgY29tcHV0ZUF0dHJzKHRoaXMuYXR0cnMsIGF0dHJzKSlcbiAgfVxuXG4gIHN0YXRpYyBjb21waWxlKG1hcmtzLCBzY2hlbWEpIHtcbiAgICBsZXQgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKSwgcmFuayA9IDBcbiAgICBtYXJrcy5mb3JFYWNoKChuYW1lLCBzcGVjKSA9PiByZXN1bHRbbmFtZV0gPSBuZXcgTWFya1R5cGUobmFtZSwgcmFuaysrLCBzY2hlbWEsIHNwZWMpKVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8vIDo6IChbTWFya10pIOKGkiBbTWFya11cbiAgLy8gV2hlbiB0aGVyZSBpcyBhIG1hcmsgb2YgdGhpcyB0eXBlIGluIHRoZSBnaXZlbiBzZXQsIGEgbmV3IHNldFxuICAvLyB3aXRob3V0IGl0IGlzIHJldHVybmVkLiBPdGhlcndpc2UsIHRoZSBpbnB1dCBzZXQgaXMgcmV0dXJuZWQuXG4gIHJlbW92ZUZyb21TZXQoc2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoc2V0W2ldLnR5cGUgPT0gdGhpcylcbiAgICAgICAgcmV0dXJuIHNldC5zbGljZSgwLCBpKS5jb25jYXQoc2V0LnNsaWNlKGkgKyAxKSlcbiAgICByZXR1cm4gc2V0XG4gIH1cblxuICAvLyA6OiAoW01hcmtdKSDihpIgP01hcmtcbiAgLy8gVGVzdHMgd2hldGhlciB0aGVyZSBpcyBhIG1hcmsgb2YgdGhpcyB0eXBlIGluIHRoZSBnaXZlbiBzZXQuXG4gIGlzSW5TZXQoc2V0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoc2V0W2ldLnR5cGUgPT0gdGhpcykgcmV0dXJuIHNldFtpXVxuICB9XG5cbiAgLy8gOjogKE1hcmtUeXBlKSDihpIgYm9vbFxuICAvLyBRdWVyaWVzIHdoZXRoZXIgYSBnaXZlbiBtYXJrIHR5cGUgaXNcbiAgLy8gW2V4Y2x1ZGVkXSgjbW9kZWwuTWFya1NwZWMuZXhjbHVkZXMpIGJ5IHRoaXMgb25lLlxuICBleGNsdWRlcyhvdGhlcikge1xuICAgIHJldHVybiB0aGlzLmV4Y2x1ZGVkLmluZGV4T2Yob3RoZXIpID4gLTFcbiAgfVxufVxuXG4vLyBTY2hlbWFTcGVjOjogaW50ZXJmYWNlXG4vLyBBbiBvYmplY3QgZGVzY3JpYmluZyBhIHNjaGVtYSwgYXMgcGFzc2VkIHRvIHRoZSBbYFNjaGVtYWBdKCNtb2RlbC5TY2hlbWEpXG4vLyBjb25zdHJ1Y3Rvci5cbi8vXG4vLyAgIG5vZGVzOjogdW5pb248T2JqZWN0PE5vZGVTcGVjPiwgT3JkZXJlZE1hcDxOb2RlU3BlYz4+XG4vLyAgIFRoZSBub2RlIHR5cGVzIGluIHRoaXMgc2NoZW1hLiBNYXBzIG5hbWVzIHRvXG4vLyAgIFtgTm9kZVNwZWNgXSgjbW9kZWwuTm9kZVNwZWMpIG9iamVjdHMgdGhhdCBkZXNjcmliZSB0aGUgbm9kZSB0eXBlXG4vLyAgIGFzc29jaWF0ZWQgd2l0aCB0aGF0IG5hbWUuIFRoZWlyIG9yZGVyIGlzIHNpZ25pZmljYW504oCUaXRcbi8vICAgZGV0ZXJtaW5lcyB3aGljaCBbcGFyc2UgcnVsZXNdKCNtb2RlbC5Ob2RlU3BlYy5wYXJzZURPTSkgdGFrZVxuLy8gICBwcmVjZWRlbmNlIGJ5IGRlZmF1bHQsIGFuZCB3aGljaCBub2RlcyBjb21lIGZpcnN0IGluIGEgZ2l2ZW5cbi8vICAgW2dyb3VwXSgjbW9kZWwuTm9kZVNwZWMuZ3JvdXApLlxuLy9cbi8vICAgbWFya3M6OiA/dW5pb248T2JqZWN0PE1hcmtTcGVjPiwgT3JkZXJlZE1hcDxNYXJrU3BlYz4+XG4vLyAgIFRoZSBtYXJrIHR5cGVzIHRoYXQgZXhpc3QgaW4gdGhpcyBzY2hlbWEuIFRoZSBvcmRlciBpbiB3aGljaCB0aGV5XG4vLyAgIGFyZSBwcm92aWRlZCBkZXRlcm1pbmVzIHRoZSBvcmRlciBpbiB3aGljaCBbbWFya1xuLy8gICBzZXRzXSgjbW9kZWwuTWFyay5hZGRUb1NldCkgYXJlIHNvcnRlZCBhbmQgaW4gd2hpY2ggW3BhcnNlXG4vLyAgIHJ1bGVzXSgjbW9kZWwuTWFya1NwZWMucGFyc2VET00pIGFyZSB0cmllZC5cbi8vXG4vLyAgIHRvcE5vZGU6OiA/c3RyaW5nXG4vLyAgIFRoZSBuYW1lIG9mIHRoZSBkZWZhdWx0IHRvcC1sZXZlbCBub2RlIGZvciB0aGUgc2NoZW1hLiBEZWZhdWx0c1xuLy8gICB0byBgXCJkb2NcImAuXG5cbi8vIE5vZGVTcGVjOjogaW50ZXJmYWNlXG4vL1xuLy8gICBjb250ZW50OjogP3N0cmluZ1xuLy8gICBUaGUgY29udGVudCBleHByZXNzaW9uIGZvciB0aGlzIG5vZGUsIGFzIGRlc2NyaWJlZCBpbiB0aGUgW3NjaGVtYVxuLy8gICBndWlkZV0oL2RvY3MvZ3VpZGUvI3NjaGVtYS5jb250ZW50X2V4cHJlc3Npb25zKS4gV2hlbiBub3QgZ2l2ZW4sXG4vLyAgIHRoZSBub2RlIGRvZXMgbm90IGFsbG93IGFueSBjb250ZW50LlxuLy9cbi8vICAgbWFya3M6OiA/c3RyaW5nXG4vLyAgIFRoZSBtYXJrcyB0aGF0IGFyZSBhbGxvd2VkIGluc2lkZSBvZiB0aGlzIG5vZGUuIE1heSBiZSBhXG4vLyAgIHNwYWNlLXNlcGFyYXRlZCBzdHJpbmcgcmVmZXJyaW5nIHRvIG1hcmsgbmFtZXMgb3IgZ3JvdXBzLCBgXCJfXCJgXG4vLyAgIHRvIGV4cGxpY2l0bHkgYWxsb3cgYWxsIG1hcmtzLCBvciBgXCJcImAgdG8gZGlzYWxsb3cgbWFya3MuIFdoZW5cbi8vICAgbm90IGdpdmVuLCBub2RlcyB3aXRoIGlubGluZSBjb250ZW50IGRlZmF1bHQgdG8gYWxsb3dpbmcgYWxsXG4vLyAgIG1hcmtzLCBvdGhlciBub2RlcyBkZWZhdWx0IHRvIG5vdCBhbGxvd2luZyBtYXJrcy5cbi8vXG4vLyAgIGdyb3VwOjogP3N0cmluZ1xuLy8gICBUaGUgZ3JvdXAgb3Igc3BhY2Utc2VwYXJhdGVkIGdyb3VwcyB0byB3aGljaCB0aGlzIG5vZGUgYmVsb25ncyxcbi8vICAgd2hpY2ggY2FuIGJlIHJlZmVycmVkIHRvIGluIHRoZSBjb250ZW50IGV4cHJlc3Npb25zIGZvciB0aGVcbi8vICAgc2NoZW1hLlxuLy9cbi8vICAgaW5saW5lOjogP2Jvb2xcbi8vICAgU2hvdWxkIGJlIHNldCB0byB0cnVlIGZvciBpbmxpbmUgbm9kZXMuIChJbXBsaWVkIGZvciB0ZXh0IG5vZGVzLilcbi8vXG4vLyAgIGF0b206OiA/Ym9vbFxuLy8gICBDYW4gYmUgc2V0IHRvIHRydWUgdG8gaW5kaWNhdGUgdGhhdCwgdGhvdWdoIHRoaXMgaXNuJ3QgYSBbbGVhZlxuLy8gICBub2RlXSgjbW9kZWwuTm9kZVR5cGUuaXNMZWFmKSwgaXQgZG9lc24ndCBoYXZlIGRpcmVjdGx5IGVkaXRhYmxlXG4vLyAgIGNvbnRlbnQgYW5kIHNob3VsZCBiZSB0cmVhdGVkIGFzIGEgc2luZ2xlIHVuaXQgaW4gdGhlIHZpZXcuXG4vL1xuLy8gICBhdHRyczo6ID9PYmplY3Q8QXR0cmlidXRlU3BlYz5cbi8vICAgVGhlIGF0dHJpYnV0ZXMgdGhhdCBub2RlcyBvZiB0aGlzIHR5cGUgZ2V0LlxuLy9cbi8vICAgc2VsZWN0YWJsZTo6ID9ib29sXG4vLyAgIENvbnRyb2xzIHdoZXRoZXIgbm9kZXMgb2YgdGhpcyB0eXBlIGNhbiBiZSBzZWxlY3RlZCBhcyBhIFtub2RlXG4vLyAgIHNlbGVjdGlvbl0oI3N0YXRlLk5vZGVTZWxlY3Rpb24pLiBEZWZhdWx0cyB0byB0cnVlIGZvciBub24tdGV4dFxuLy8gICBub2Rlcy5cbi8vXG4vLyAgIGRyYWdnYWJsZTo6ID9ib29sXG4vLyAgIERldGVybWluZXMgd2hldGhlciBub2RlcyBvZiB0aGlzIHR5cGUgY2FuIGJlIGRyYWdnZWQgd2l0aG91dFxuLy8gICBiZWluZyBzZWxlY3RlZC4gRGVmYXVsdHMgdG8gZmFsc2UuXG4vL1xuLy8gICBjb2RlOjogP2Jvb2xcbi8vICAgQ2FuIGJlIHVzZWQgdG8gaW5kaWNhdGUgdGhhdCB0aGlzIG5vZGUgY29udGFpbnMgY29kZSwgd2hpY2hcbi8vICAgY2F1c2VzIHNvbWUgY29tbWFuZHMgdG8gYmVoYXZlIGRpZmZlcmVudGx5LlxuLy9cbi8vICAgZGVmaW5pbmc6OiA/Ym9vbFxuLy8gICBEZXRlcm1pbmVzIHdoZXRoZXIgdGhpcyBub2RlIGlzIGNvbnNpZGVyZWQgYW4gaW1wb3J0YW50IHBhcmVudFxuLy8gICBub2RlIGR1cmluZyByZXBsYWNlIG9wZXJhdGlvbnMgKHN1Y2ggYXMgcGFzdGUpLiBOb24tZGVmaW5pbmcgKHRoZVxuLy8gICBkZWZhdWx0KSBub2RlcyBnZXQgZHJvcHBlZCB3aGVuIHRoZWlyIGVudGlyZSBjb250ZW50IGlzIHJlcGxhY2VkLFxuLy8gICB3aGVyZWFzIGRlZmluaW5nIG5vZGVzIHBlcnNpc3QgYW5kIHdyYXAgdGhlIGluc2VydGVkIGNvbnRlbnQuXG4vLyAgIExpa2V3aXNlLCBpbiBfaW5zZXJ0ZWRfIGNvbnRlbnQgdGhlIGRlZmluaW5nIHBhcmVudHMgb2YgdGhlXG4vLyAgIGNvbnRlbnQgYXJlIHByZXNlcnZlZCB3aGVuIHBvc3NpYmxlLiBUeXBpY2FsbHksXG4vLyAgIG5vbi1kZWZhdWx0LXBhcmFncmFwaCB0ZXh0YmxvY2sgdHlwZXMsIGFuZCBwb3NzaWJseSBsaXN0IGl0ZW1zLFxuLy8gICBhcmUgbWFya2VkIGFzIGRlZmluaW5nLlxuLy9cbi8vICAgaXNvbGF0aW5nOjogP2Jvb2xcbi8vICAgV2hlbiBlbmFibGVkIChkZWZhdWx0IGlzIGZhbHNlKSwgdGhlIHNpZGVzIG9mIG5vZGVzIG9mIHRoaXMgdHlwZVxuLy8gICBjb3VudCBhcyBib3VuZGFyaWVzIHRoYXQgcmVndWxhciBlZGl0aW5nIG9wZXJhdGlvbnMsIGxpa2Vcbi8vICAgYmFja3NwYWNpbmcgb3IgbGlmdGluZywgd29uJ3QgY3Jvc3MuIEFuIGV4YW1wbGUgb2YgYSBub2RlIHRoYXRcbi8vICAgc2hvdWxkIHByb2JhYmx5IGhhdmUgdGhpcyBlbmFibGVkIGlzIGEgdGFibGUgY2VsbC5cbi8vXG4vLyAgIHRvRE9NOjogPyhub2RlOiBOb2RlKSDihpIgRE9NT3V0cHV0U3BlY1xuLy8gICBEZWZpbmVzIHRoZSBkZWZhdWx0IHdheSBhIG5vZGUgb2YgdGhpcyB0eXBlIHNob3VsZCBiZSBzZXJpYWxpemVkXG4vLyAgIHRvIERPTS9IVE1MIChhcyB1c2VkIGJ5XG4vLyAgIFtgRE9NU2VyaWFsaXplci5mcm9tU2NoZW1hYF0oI21vZGVsLkRPTVNlcmlhbGl6ZXJeZnJvbVNjaGVtYSkpLlxuLy8gICBTaG91bGQgcmV0dXJuIGEgRE9NIG5vZGUgb3IgYW4gW2FycmF5XG4vLyAgIHN0cnVjdHVyZV0oI21vZGVsLkRPTU91dHB1dFNwZWMpIHRoYXQgZGVzY3JpYmVzIG9uZSwgd2l0aCBhblxuLy8gICBvcHRpb25hbCBudW1iZXIgemVybyAo4oCcaG9sZeKAnSkgaW4gaXQgdG8gaW5kaWNhdGUgd2hlcmUgdGhlIG5vZGUnc1xuLy8gICBjb250ZW50IHNob3VsZCBiZSBpbnNlcnRlZC5cbi8vXG4vLyAgIEZvciB0ZXh0IG5vZGVzLCB0aGUgZGVmYXVsdCBpcyB0byBjcmVhdGUgYSB0ZXh0IERPTSBub2RlLiBUaG91Z2hcbi8vICAgaXQgaXMgcG9zc2libGUgdG8gY3JlYXRlIGEgc2VyaWFsaXplciB3aGVyZSB0ZXh0IGlzIHJlbmRlcmVkXG4vLyAgIGRpZmZlcmVudGx5LCB0aGlzIGlzIG5vdCBzdXBwb3J0ZWQgaW5zaWRlIHRoZSBlZGl0b3IsIHNvIHlvdVxuLy8gICBzaG91bGRuJ3Qgb3ZlcnJpZGUgdGhhdCBpbiB5b3VyIHRleHQgbm9kZSBzcGVjLlxuLy9cbi8vICAgcGFyc2VET006OiA/W1BhcnNlUnVsZV1cbi8vICAgQXNzb2NpYXRlcyBET00gcGFyc2VyIGluZm9ybWF0aW9uIHdpdGggdGhpcyBub2RlLCB3aGljaCBjYW4gYmVcbi8vICAgdXNlZCBieSBbYERPTVBhcnNlci5mcm9tU2NoZW1hYF0oI21vZGVsLkRPTVBhcnNlcl5mcm9tU2NoZW1hKSB0b1xuLy8gICBhdXRvbWF0aWNhbGx5IGRlcml2ZSBhIHBhcnNlci4gVGhlIGBub2RlYCBmaWVsZCBpbiB0aGUgcnVsZXMgaXNcbi8vICAgaW1wbGllZCAodGhlIG5hbWUgb2YgdGhpcyBub2RlIHdpbGwgYmUgZmlsbGVkIGluIGF1dG9tYXRpY2FsbHkpLlxuLy8gICBJZiB5b3Ugc3VwcGx5IHlvdXIgb3duIHBhcnNlciwgeW91IGRvIG5vdCBuZWVkIHRvIGFsc28gc3BlY2lmeVxuLy8gICBwYXJzaW5nIHJ1bGVzIGluIHlvdXIgc2NoZW1hLlxuLy9cbi8vICAgdG9EZWJ1Z1N0cmluZzo6ID8obm9kZTogTm9kZSkgLT4gc3RyaW5nXG4vLyAgIERlZmluZXMgdGhlIGRlZmF1bHQgd2F5IGEgbm9kZSBvZiB0aGlzIHR5cGUgc2hvdWxkIGJlIHNlcmlhbGl6ZWRcbi8vICAgdG8gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gZm9yIGRlYnVnZ2luZyAoZS5nLiBpbiBlcnJvciBtZXNzYWdlcykuXG5cbi8vIE1hcmtTcGVjOjogaW50ZXJmYWNlXG4vL1xuLy8gICBhdHRyczo6ID9PYmplY3Q8QXR0cmlidXRlU3BlYz5cbi8vICAgVGhlIGF0dHJpYnV0ZXMgdGhhdCBtYXJrcyBvZiB0aGlzIHR5cGUgZ2V0LlxuLy9cbi8vICAgaW5jbHVzaXZlOjogP2Jvb2xcbi8vICAgV2hldGhlciB0aGlzIG1hcmsgc2hvdWxkIGJlIGFjdGl2ZSB3aGVuIHRoZSBjdXJzb3IgaXMgcG9zaXRpb25lZFxuLy8gICBhdCBpdHMgZW5kIChvciBhdCBpdHMgc3RhcnQgd2hlbiB0aGF0IGlzIGFsc28gdGhlIHN0YXJ0IG9mIHRoZVxuLy8gICBwYXJlbnQgbm9kZSkuIERlZmF1bHRzIHRvIHRydWUuXG4vL1xuLy8gICBleGNsdWRlczo6ID9zdHJpbmdcbi8vICAgRGV0ZXJtaW5lcyB3aGljaCBvdGhlciBtYXJrcyB0aGlzIG1hcmsgY2FuIGNvZXhpc3Qgd2l0aC4gU2hvdWxkXG4vLyAgIGJlIGEgc3BhY2Utc2VwYXJhdGVkIHN0cmluZ3MgbmFtaW5nIG90aGVyIG1hcmtzIG9yIGdyb3VwcyBvZiBtYXJrcy5cbi8vICAgV2hlbiBhIG1hcmsgaXMgW2FkZGVkXSgjbW9kZWwuTWFyay5hZGRUb1NldCkgdG8gYSBzZXQsIGFsbCBtYXJrc1xuLy8gICB0aGF0IGl0IGV4Y2x1ZGVzIGFyZSByZW1vdmVkIGluIHRoZSBwcm9jZXNzLiBJZiB0aGUgc2V0IGNvbnRhaW5zXG4vLyAgIGFueSBtYXJrIHRoYXQgZXhjbHVkZXMgdGhlIG5ldyBtYXJrIGJ1dCBpcyBub3QsIGl0c2VsZiwgZXhjbHVkZWRcbi8vICAgYnkgdGhlIG5ldyBtYXJrLCB0aGUgbWFyayBjYW4gbm90IGJlIGFkZGVkIGFuIHRoZSBzZXQuIFlvdSBjYW5cbi8vICAgdXNlIHRoZSB2YWx1ZSBgXCJfXCJgIHRvIGluZGljYXRlIHRoYXQgdGhlIG1hcmsgZXhjbHVkZXMgYWxsXG4vLyAgIG1hcmtzIGluIHRoZSBzY2hlbWEuXG4vL1xuLy8gICBEZWZhdWx0cyB0byBvbmx5IGJlaW5nIGV4Y2x1c2l2ZSB3aXRoIG1hcmtzIG9mIHRoZSBzYW1lIHR5cGUuIFlvdVxuLy8gICBjYW4gc2V0IGl0IHRvIGFuIGVtcHR5IHN0cmluZyAob3IgYW55IHN0cmluZyBub3QgY29udGFpbmluZyB0aGVcbi8vICAgbWFyaydzIG93biBuYW1lKSB0byBhbGxvdyBtdWx0aXBsZSBtYXJrcyBvZiBhIGdpdmVuIHR5cGUgdG9cbi8vICAgY29leGlzdCAoYXMgbG9uZyBhcyB0aGV5IGhhdmUgZGlmZmVyZW50IGF0dHJpYnV0ZXMpLlxuLy9cbi8vICAgZ3JvdXA6OiA/c3RyaW5nXG4vLyAgIFRoZSBncm91cCBvciBzcGFjZS1zZXBhcmF0ZWQgZ3JvdXBzIHRvIHdoaWNoIHRoaXMgbWFyayBiZWxvbmdzLlxuLy9cbi8vICAgc3Bhbm5pbmc6OiA/Ym9vbFxuLy8gICBEZXRlcm1pbmVzIHdoZXRoZXIgbWFya3Mgb2YgdGhpcyB0eXBlIGNhbiBzcGFuIG11bHRpcGxlIGFkamFjZW50XG4vLyAgIG5vZGVzIHdoZW4gc2VyaWFsaXplZCB0byBET00vSFRNTC4gRGVmYXVsdHMgdG8gdHJ1ZS5cbi8vXG4vLyAgIHRvRE9NOjogPyhtYXJrOiBNYXJrLCBpbmxpbmU6IGJvb2wpIOKGkiBET01PdXRwdXRTcGVjXG4vLyAgIERlZmluZXMgdGhlIGRlZmF1bHQgd2F5IG1hcmtzIG9mIHRoaXMgdHlwZSBzaG91bGQgYmUgc2VyaWFsaXplZFxuLy8gICB0byBET00vSFRNTC4gV2hlbiB0aGUgcmVzdWx0aW5nIHNwZWMgY29udGFpbnMgYSBob2xlLCB0aGF0IGlzXG4vLyAgIHdoZXJlIHRoZSBtYXJrZWQgY29udGVudCBpcyBwbGFjZWQuIE90aGVyd2lzZSwgaXQgaXMgYXBwZW5kZWQgdG9cbi8vICAgdGhlIHRvcCBub2RlLlxuLy9cbi8vICAgcGFyc2VET006OiA/W1BhcnNlUnVsZV1cbi8vICAgQXNzb2NpYXRlcyBET00gcGFyc2VyIGluZm9ybWF0aW9uIHdpdGggdGhpcyBtYXJrIChzZWUgdGhlXG4vLyAgIGNvcnJlc3BvbmRpbmcgW25vZGUgc3BlYyBmaWVsZF0oI21vZGVsLk5vZGVTcGVjLnBhcnNlRE9NKSkuIFRoZVxuLy8gICBgbWFya2AgZmllbGQgaW4gdGhlIHJ1bGVzIGlzIGltcGxpZWQuXG5cbi8vIEF0dHJpYnV0ZVNwZWM6OiBpbnRlcmZhY2Vcbi8vXG4vLyBVc2VkIHRvIFtkZWZpbmVdKCNtb2RlbC5Ob2RlU3BlYy5hdHRycykgYXR0cmlidXRlcyBvbiBub2RlcyBvclxuLy8gbWFya3MuXG4vL1xuLy8gICBkZWZhdWx0OjogP2FueVxuLy8gICBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhpcyBhdHRyaWJ1dGUsIHRvIHVzZSB3aGVuIG5vIGV4cGxpY2l0XG4vLyAgIHZhbHVlIGlzIHByb3ZpZGVkLiBBdHRyaWJ1dGVzIHRoYXQgaGF2ZSBubyBkZWZhdWx0IG11c3QgYmVcbi8vICAgcHJvdmlkZWQgd2hlbmV2ZXIgYSBub2RlIG9yIG1hcmsgb2YgYSB0eXBlIHRoYXQgaGFzIHRoZW0gaXNcbi8vICAgY3JlYXRlZC5cblxuLy8gOjotIEEgZG9jdW1lbnQgc2NoZW1hLiBIb2xkcyBbbm9kZV0oI21vZGVsLk5vZGVUeXBlKSBhbmQgW21hcmtcbi8vIHR5cGVdKCNtb2RlbC5NYXJrVHlwZSkgb2JqZWN0cyBmb3IgdGhlIG5vZGVzIGFuZCBtYXJrcyB0aGF0IG1heVxuLy8gb2NjdXIgaW4gY29uZm9ybWluZyBkb2N1bWVudHMsIGFuZCBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvclxuLy8gY3JlYXRpbmcgYW5kIGRlc2VyaWFsaXppbmcgc3VjaCBkb2N1bWVudHMuXG5leHBvcnQgY2xhc3MgU2NoZW1hIHtcbiAgLy8gOjogKFNjaGVtYVNwZWMpXG4gIC8vIENvbnN0cnVjdCBhIHNjaGVtYSBmcm9tIGEgc2NoZW1hIFtzcGVjaWZpY2F0aW9uXSgjbW9kZWwuU2NoZW1hU3BlYykuXG4gIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAvLyA6OiBTY2hlbWFTcGVjXG4gICAgLy8gVGhlIFtzcGVjXSgjbW9kZWwuU2NoZW1hU3BlYykgb24gd2hpY2ggdGhlIHNjaGVtYSBpcyBiYXNlZCxcbiAgICAvLyB3aXRoIHRoZSBhZGRlZCBndWFyYW50ZWUgdGhhdCBpdHMgYG5vZGVzYCBhbmQgYG1hcmtzYFxuICAgIC8vIHByb3BlcnRpZXMgYXJlXG4gICAgLy8gW2BPcmRlcmVkTWFwYF0oaHR0cHM6Ly9naXRodWIuY29tL21hcmlqbmgvb3JkZXJlZG1hcCkgaW5zdGFuY2VzXG4gICAgLy8gKG5vdCByYXcgb2JqZWN0cykuXG4gICAgdGhpcy5zcGVjID0ge31cbiAgICBmb3IgKGxldCBwcm9wIGluIHNwZWMpIHRoaXMuc3BlY1twcm9wXSA9IHNwZWNbcHJvcF1cbiAgICB0aGlzLnNwZWMubm9kZXMgPSBPcmRlcmVkTWFwLmZyb20oc3BlYy5ub2RlcylcbiAgICB0aGlzLnNwZWMubWFya3MgPSBPcmRlcmVkTWFwLmZyb20oc3BlYy5tYXJrcylcblxuICAgIC8vIDo6IE9iamVjdDxOb2RlVHlwZT5cbiAgICAvLyBBbiBvYmplY3QgbWFwcGluZyB0aGUgc2NoZW1hJ3Mgbm9kZSBuYW1lcyB0byBub2RlIHR5cGUgb2JqZWN0cy5cbiAgICB0aGlzLm5vZGVzID0gTm9kZVR5cGUuY29tcGlsZSh0aGlzLnNwZWMubm9kZXMsIHRoaXMpXG5cbiAgICAvLyA6OiBPYmplY3Q8TWFya1R5cGU+XG4gICAgLy8gQSBtYXAgZnJvbSBtYXJrIG5hbWVzIHRvIG1hcmsgdHlwZSBvYmplY3RzLlxuICAgIHRoaXMubWFya3MgPSBNYXJrVHlwZS5jb21waWxlKHRoaXMuc3BlYy5tYXJrcywgdGhpcylcblxuICAgIGxldCBjb250ZW50RXhwckNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICAgIGZvciAobGV0IHByb3AgaW4gdGhpcy5ub2Rlcykge1xuICAgICAgaWYgKHByb3AgaW4gdGhpcy5tYXJrcylcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IocHJvcCArIFwiIGNhbiBub3QgYmUgYm90aCBhIG5vZGUgYW5kIGEgbWFya1wiKVxuICAgICAgbGV0IHR5cGUgPSB0aGlzLm5vZGVzW3Byb3BdLCBjb250ZW50RXhwciA9IHR5cGUuc3BlYy5jb250ZW50IHx8IFwiXCIsIG1hcmtFeHByID0gdHlwZS5zcGVjLm1hcmtzXG4gICAgICB0eXBlLmNvbnRlbnRNYXRjaCA9IGNvbnRlbnRFeHByQ2FjaGVbY29udGVudEV4cHJdIHx8XG4gICAgICAgIChjb250ZW50RXhwckNhY2hlW2NvbnRlbnRFeHByXSA9IENvbnRlbnRNYXRjaC5wYXJzZShjb250ZW50RXhwciwgdGhpcy5ub2RlcykpXG4gICAgICB0eXBlLmlubGluZUNvbnRlbnQgPSB0eXBlLmNvbnRlbnRNYXRjaC5pbmxpbmVDb250ZW50XG4gICAgICB0eXBlLm1hcmtTZXQgPSBtYXJrRXhwciA9PSBcIl9cIiA/IG51bGwgOlxuICAgICAgICBtYXJrRXhwciA/IGdhdGhlck1hcmtzKHRoaXMsIG1hcmtFeHByLnNwbGl0KFwiIFwiKSkgOlxuICAgICAgICBtYXJrRXhwciA9PSBcIlwiIHx8ICF0eXBlLmlubGluZUNvbnRlbnQgPyBbXSA6IG51bGxcbiAgICB9XG4gICAgZm9yIChsZXQgcHJvcCBpbiB0aGlzLm1hcmtzKSB7XG4gICAgICBsZXQgdHlwZSA9IHRoaXMubWFya3NbcHJvcF0sIGV4Y2wgPSB0eXBlLnNwZWMuZXhjbHVkZXNcbiAgICAgIHR5cGUuZXhjbHVkZWQgPSBleGNsID09IG51bGwgPyBbdHlwZV0gOiBleGNsID09IFwiXCIgPyBbXSA6IGdhdGhlck1hcmtzKHRoaXMsIGV4Y2wuc3BsaXQoXCIgXCIpKVxuICAgIH1cblxuICAgIHRoaXMubm9kZUZyb21KU09OID0gdGhpcy5ub2RlRnJvbUpTT04uYmluZCh0aGlzKVxuICAgIHRoaXMubWFya0Zyb21KU09OID0gdGhpcy5tYXJrRnJvbUpTT04uYmluZCh0aGlzKVxuXG4gICAgLy8gOjogTm9kZVR5cGVcbiAgICAvLyBUaGUgdHlwZSBvZiB0aGUgW2RlZmF1bHQgdG9wIG5vZGVdKCNtb2RlbC5TY2hlbWFTcGVjLnRvcE5vZGUpXG4gICAgLy8gZm9yIHRoaXMgc2NoZW1hLlxuICAgIHRoaXMudG9wTm9kZVR5cGUgPSB0aGlzLm5vZGVzW3RoaXMuc3BlYy50b3BOb2RlIHx8IFwiZG9jXCJdXG5cbiAgICAvLyA6OiBPYmplY3RcbiAgICAvLyBBbiBvYmplY3QgZm9yIHN0b3Jpbmcgd2hhdGV2ZXIgdmFsdWVzIG1vZHVsZXMgbWF5IHdhbnQgdG9cbiAgICAvLyBjb21wdXRlIGFuZCBjYWNoZSBwZXIgc2NoZW1hLiAoSWYgeW91IHdhbnQgdG8gc3RvcmUgc29tZXRoaW5nXG4gICAgLy8gaW4gaXQsIHRyeSB0byB1c2UgcHJvcGVydHkgbmFtZXMgdW5saWtlbHkgdG8gY2xhc2guKVxuICAgIHRoaXMuY2FjaGVkID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICAgIHRoaXMuY2FjaGVkLndyYXBwaW5ncyA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgfVxuXG4gIC8vIDo6ICh1bmlvbjxzdHJpbmcsIE5vZGVUeXBlPiwgP09iamVjdCwgP3VuaW9uPEZyYWdtZW50LCBOb2RlLCBbTm9kZV0+LCA/W01hcmtdKSDihpIgTm9kZVxuICAvLyBDcmVhdGUgYSBub2RlIGluIHRoaXMgc2NoZW1hLiBUaGUgYHR5cGVgIG1heSBiZSBhIHN0cmluZyBvciBhXG4gIC8vIGBOb2RlVHlwZWAgaW5zdGFuY2UuIEF0dHJpYnV0ZXMgd2lsbCBiZSBleHRlbmRlZFxuICAvLyB3aXRoIGRlZmF1bHRzLCBgY29udGVudGAgbWF5IGJlIGEgYEZyYWdtZW50YCxcbiAgLy8gYG51bGxgLCBhIGBOb2RlYCwgb3IgYW4gYXJyYXkgb2Ygbm9kZXMuXG4gIG5vZGUodHlwZSwgYXR0cnMsIGNvbnRlbnQsIG1hcmtzKSB7XG4gICAgaWYgKHR5cGVvZiB0eXBlID09IFwic3RyaW5nXCIpXG4gICAgICB0eXBlID0gdGhpcy5ub2RlVHlwZSh0eXBlKVxuICAgIGVsc2UgaWYgKCEodHlwZSBpbnN0YW5jZW9mIE5vZGVUeXBlKSlcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBub2RlIHR5cGU6IFwiICsgdHlwZSlcbiAgICBlbHNlIGlmICh0eXBlLnNjaGVtYSAhPSB0aGlzKVxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJOb2RlIHR5cGUgZnJvbSBkaWZmZXJlbnQgc2NoZW1hIHVzZWQgKFwiICsgdHlwZS5uYW1lICsgXCIpXCIpXG5cbiAgICByZXR1cm4gdHlwZS5jcmVhdGVDaGVja2VkKGF0dHJzLCBjb250ZW50LCBtYXJrcylcbiAgfVxuXG4gIC8vIDo6IChzdHJpbmcsID9bTWFya10pIOKGkiBOb2RlXG4gIC8vIENyZWF0ZSBhIHRleHQgbm9kZSBpbiB0aGUgc2NoZW1hLiBFbXB0eSB0ZXh0IG5vZGVzIGFyZSBub3RcbiAgLy8gYWxsb3dlZC5cbiAgdGV4dCh0ZXh0LCBtYXJrcykge1xuICAgIGxldCB0eXBlID0gdGhpcy5ub2Rlcy50ZXh0XG4gICAgcmV0dXJuIG5ldyBUZXh0Tm9kZSh0eXBlLCB0eXBlLmRlZmF1bHRBdHRycywgdGV4dCwgTWFyay5zZXRGcm9tKG1hcmtzKSlcbiAgfVxuXG4gIC8vIDo6ICh1bmlvbjxzdHJpbmcsIE1hcmtUeXBlPiwgP09iamVjdCkg4oaSIE1hcmtcbiAgLy8gQ3JlYXRlIGEgbWFyayB3aXRoIHRoZSBnaXZlbiB0eXBlIGFuZCBhdHRyaWJ1dGVzLlxuICBtYXJrKHR5cGUsIGF0dHJzKSB7XG4gICAgaWYgKHR5cGVvZiB0eXBlID09IFwic3RyaW5nXCIpIHR5cGUgPSB0aGlzLm1hcmtzW3R5cGVdXG4gICAgcmV0dXJuIHR5cGUuY3JlYXRlKGF0dHJzKVxuICB9XG5cbiAgLy8gOjogKE9iamVjdCkg4oaSIE5vZGVcbiAgLy8gRGVzZXJpYWxpemUgYSBub2RlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24uIFRoaXMgbWV0aG9kIGlzXG4gIC8vIGJvdW5kLlxuICBub2RlRnJvbUpTT04oanNvbikge1xuICAgIHJldHVybiBOb2RlLmZyb21KU09OKHRoaXMsIGpzb24pXG4gIH1cblxuICAvLyA6OiAoT2JqZWN0KSDihpIgTWFya1xuICAvLyBEZXNlcmlhbGl6ZSBhIG1hcmsgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi4gVGhpcyBtZXRob2QgaXNcbiAgLy8gYm91bmQuXG4gIG1hcmtGcm9tSlNPTihqc29uKSB7XG4gICAgcmV0dXJuIE1hcmsuZnJvbUpTT04odGhpcywganNvbilcbiAgfVxuXG4gIG5vZGVUeXBlKG5hbWUpIHtcbiAgICBsZXQgZm91bmQgPSB0aGlzLm5vZGVzW25hbWVdXG4gICAgaWYgKCFmb3VuZCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJVbmtub3duIG5vZGUgdHlwZTogXCIgKyBuYW1lKVxuICAgIHJldHVybiBmb3VuZFxuICB9XG59XG5cbmZ1bmN0aW9uIGdhdGhlck1hcmtzKHNjaGVtYSwgbWFya3MpIHtcbiAgbGV0IGZvdW5kID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBuYW1lID0gbWFya3NbaV0sIG1hcmsgPSBzY2hlbWEubWFya3NbbmFtZV0sIG9rID0gbWFya1xuICAgIGlmIChtYXJrKSB7XG4gICAgICBmb3VuZC5wdXNoKG1hcmspXG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IHByb3AgaW4gc2NoZW1hLm1hcmtzKSB7XG4gICAgICAgIGxldCBtYXJrID0gc2NoZW1hLm1hcmtzW3Byb3BdXG4gICAgICAgIGlmIChuYW1lID09IFwiX1wiIHx8IChtYXJrLnNwZWMuZ3JvdXAgJiYgbWFyay5zcGVjLmdyb3VwLnNwbGl0KFwiIFwiKS5pbmRleE9mKG5hbWUpID4gLTEpKVxuICAgICAgICAgIGZvdW5kLnB1c2gob2sgPSBtYXJrKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW9rKSB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJVbmtub3duIG1hcmsgdHlwZTogJ1wiICsgbWFya3NbaV0gKyBcIidcIilcbiAgfVxuICByZXR1cm4gZm91bmRcbn1cbiIsImltcG9ydCB7RnJhZ21lbnR9IGZyb20gXCIuL2ZyYWdtZW50XCJcbmltcG9ydCB7U2xpY2V9IGZyb20gXCIuL3JlcGxhY2VcIlxuaW1wb3J0IHtNYXJrfSBmcm9tIFwiLi9tYXJrXCJcblxuLy8gUGFyc2VPcHRpb25zOjogaW50ZXJmYWNlXG4vLyBUaGVzZSBhcmUgdGhlIG9wdGlvbnMgcmVjb2duaXplZCBieSB0aGVcbi8vIFtgcGFyc2VgXSgjbW9kZWwuRE9NUGFyc2VyLnBhcnNlKSBhbmRcbi8vIFtgcGFyc2VTbGljZWBdKCNtb2RlbC5ET01QYXJzZXIucGFyc2VTbGljZSkgbWV0aG9kcy5cbi8vXG4vLyAgIHByZXNlcnZlV2hpdGVzcGFjZTo6ID91bmlvbjxib29sLCBcImZ1bGxcIj5cbi8vICAgQnkgZGVmYXVsdCwgd2hpdGVzcGFjZSBpcyBjb2xsYXBzZWQgYXMgcGVyIEhUTUwncyBydWxlcy4gUGFzc1xuLy8gICBgdHJ1ZWAgdG8gcHJlc2VydmUgd2hpdGVzcGFjZSwgYnV0IG5vcm1hbGl6ZSBuZXdsaW5lcyB0b1xuLy8gICBzcGFjZXMsIGFuZCBgXCJmdWxsXCJgIHRvIHByZXNlcnZlIHdoaXRlc3BhY2UgZW50aXJlbHkuXG4vL1xuLy8gICBmaW5kUG9zaXRpb25zOjogP1t7bm9kZTogZG9tLk5vZGUsIG9mZnNldDogbnVtYmVyfV1cbi8vICAgV2hlbiBnaXZlbiwgdGhlIHBhcnNlciB3aWxsLCBiZXNpZGUgcGFyc2luZyB0aGUgY29udGVudCxcbi8vICAgcmVjb3JkIHRoZSBkb2N1bWVudCBwb3NpdGlvbnMgb2YgdGhlIGdpdmVuIERPTSBwb3NpdGlvbnMuIEl0XG4vLyAgIHdpbGwgZG8gc28gYnkgd3JpdGluZyB0byB0aGUgb2JqZWN0cywgYWRkaW5nIGEgYHBvc2AgcHJvcGVydHlcbi8vICAgdGhhdCBob2xkcyB0aGUgZG9jdW1lbnQgcG9zaXRpb24uIERPTSBwb3NpdGlvbnMgdGhhdCBhcmUgbm90XG4vLyAgIGluIHRoZSBwYXJzZWQgY29udGVudCB3aWxsIG5vdCBiZSB3cml0dGVuIHRvLlxuLy9cbi8vICAgZnJvbTo6ID9udW1iZXJcbi8vICAgVGhlIGNoaWxkIG5vZGUgaW5kZXggdG8gc3RhcnQgcGFyc2luZyBmcm9tLlxuLy9cbi8vICAgdG86OiA/bnVtYmVyXG4vLyAgIFRoZSBjaGlsZCBub2RlIGluZGV4IHRvIHN0b3AgcGFyc2luZyBhdC5cbi8vXG4vLyAgIHRvcE5vZGU6OiA/Tm9kZVxuLy8gICBCeSBkZWZhdWx0LCB0aGUgY29udGVudCBpcyBwYXJzZWQgaW50byB0aGUgc2NoZW1hJ3MgZGVmYXVsdFxuLy8gICBbdG9wIG5vZGUgdHlwZV0oI21vZGVsLlNjaGVtYS50b3BOb2RlVHlwZSkuIFlvdSBjYW4gcGFzcyB0aGlzXG4vLyAgIG9wdGlvbiB0byB1c2UgdGhlIHR5cGUgYW5kIGF0dHJpYnV0ZXMgZnJvbSBhIGRpZmZlcmVudCBub2RlXG4vLyAgIGFzIHRoZSB0b3AgY29udGFpbmVyLlxuLy9cbi8vICAgdG9wTWF0Y2g6OiA/Q29udGVudE1hdGNoXG4vLyAgIFByb3ZpZGUgdGhlIHN0YXJ0aW5nIGNvbnRlbnQgbWF0Y2ggdGhhdCBjb250ZW50IHBhcnNlZCBpbnRvIHRoZVxuLy8gICB0b3Agbm9kZSBpcyBtYXRjaGVkIGFnYWluc3QuXG4vL1xuLy8gICBjb250ZXh0OjogP1Jlc29sdmVkUG9zXG4vLyAgIEEgc2V0IG9mIGFkZGl0aW9uYWwgbm9kZXMgdG8gY291bnQgYXNcbi8vICAgW2NvbnRleHRdKCNtb2RlbC5QYXJzZVJ1bGUuY29udGV4dCkgd2hlbiBwYXJzaW5nLCBhYm92ZSB0aGVcbi8vICAgZ2l2ZW4gW3RvcCBub2RlXSgjbW9kZWwuUGFyc2VPcHRpb25zLnRvcE5vZGUpLlxuXG4vLyBQYXJzZVJ1bGU6OiBpbnRlcmZhY2Vcbi8vIEEgdmFsdWUgdGhhdCBkZXNjcmliZXMgaG93IHRvIHBhcnNlIGEgZ2l2ZW4gRE9NIG5vZGUgb3IgaW5saW5lXG4vLyBzdHlsZSBhcyBhIFByb3NlTWlycm9yIG5vZGUgb3IgbWFyay5cbi8vXG4vLyAgIHRhZzo6ID9zdHJpbmdcbi8vICAgQSBDU1Mgc2VsZWN0b3IgZGVzY3JpYmluZyB0aGUga2luZCBvZiBET00gZWxlbWVudHMgdG8gbWF0Y2guIEFcbi8vICAgc2luZ2xlIHJ1bGUgc2hvdWxkIGhhdmUgX2VpdGhlcl8gYSBgdGFnYCBvciBhIGBzdHlsZWAgcHJvcGVydHkuXG4vL1xuLy8gICBuYW1lc3BhY2U6OiA/c3RyaW5nXG4vLyAgIFRoZSBuYW1lc3BhY2UgdG8gbWF0Y2guIFRoaXMgc2hvdWxkIGJlIHVzZWQgd2l0aCBgdGFnYC5cbi8vICAgTm9kZXMgYXJlIG9ubHkgbWF0Y2hlZCB3aGVuIHRoZSBuYW1lc3BhY2UgbWF0Y2hlcyBvciB0aGlzIHByb3BlcnR5XG4vLyAgIGlzIG51bGwuXG4vL1xuLy8gICBzdHlsZTo6ID9zdHJpbmdcbi8vICAgQSBDU1MgcHJvcGVydHkgbmFtZSB0byBtYXRjaC4gV2hlbiBnaXZlbiwgdGhpcyBydWxlIG1hdGNoZXNcbi8vICAgaW5saW5lIHN0eWxlcyB0aGF0IGxpc3QgdGhhdCBwcm9wZXJ0eS4gTWF5IGFsc28gaGF2ZSB0aGUgZm9ybVxuLy8gICBgXCJwcm9wZXJ0eT12YWx1ZVwiYCwgaW4gd2hpY2ggY2FzZSB0aGUgcnVsZSBvbmx5IG1hdGNoZXMgaWYgdGhlXG4vLyAgIHByb3BlcnkncyB2YWx1ZSBleGFjdGx5IG1hdGNoZXMgdGhlIGdpdmVuIHZhbHVlLiAoRm9yIG1vcmVcbi8vICAgY29tcGxpY2F0ZWQgZmlsdGVycywgdXNlIFtgZ2V0QXR0cnNgXSgjbW9kZWwuUGFyc2VSdWxlLmdldEF0dHJzKVxuLy8gICBhbmQgcmV0dXJuIGZhbHNlIHRvIGluZGljYXRlIHRoYXQgdGhlIG1hdGNoIGZhaWxlZC4pXG4vL1xuLy8gICBwcmlvcml0eTo6ID9udW1iZXJcbi8vICAgQ2FuIGJlIHVzZWQgdG8gY2hhbmdlIHRoZSBvcmRlciBpbiB3aGljaCB0aGUgcGFyc2UgcnVsZXMgaW4gYVxuLy8gICBzY2hlbWEgYXJlIHRyaWVkLiBUaG9zZSB3aXRoIGhpZ2hlciBwcmlvcml0eSBjb21lIGZpcnN0LiBSdWxlc1xuLy8gICB3aXRob3V0IGEgcHJpb3JpdHkgYXJlIGNvdW50ZWQgYXMgaGF2aW5nIHByaW9yaXR5IDUwLiBUaGlzXG4vLyAgIHByb3BlcnR5IGlzIG9ubHkgbWVhbmluZ2Z1bCBpbiBhIHNjaGVtYeKAlHdoZW4gZGlyZWN0bHlcbi8vICAgY29uc3RydWN0aW5nIGEgcGFyc2VyLCB0aGUgb3JkZXIgb2YgdGhlIHJ1bGUgYXJyYXkgaXMgdXNlZC5cbi8vXG4vLyAgIGNvbnRleHQ6OiA/c3RyaW5nXG4vLyAgIFdoZW4gZ2l2ZW4sIHJlc3RyaWN0cyB0aGlzIHJ1bGUgdG8gb25seSBtYXRjaCB3aGVuIHRoZSBjdXJyZW50XG4vLyAgIGNvbnRleHTigJR0aGUgcGFyZW50IG5vZGVzIGludG8gd2hpY2ggdGhlIGNvbnRlbnQgaXMgYmVpbmdcbi8vICAgcGFyc2Vk4oCUbWF0Y2hlcyB0aGlzIGV4cHJlc3Npb24uIFNob3VsZCBjb250YWluIG9uZSBvciBtb3JlIG5vZGVcbi8vICAgbmFtZXMgb3Igbm9kZSBncm91cCBuYW1lcyBmb2xsb3dlZCBieSBzaW5nbGUgb3IgZG91YmxlIHNsYXNoZXMuXG4vLyAgIEZvciBleGFtcGxlIGBcInBhcmFncmFwaC9cImAgbWVhbnMgdGhlIHJ1bGUgb25seSBtYXRjaGVzIHdoZW4gdGhlXG4vLyAgIHBhcmVudCBub2RlIGlzIGEgcGFyYWdyYXBoLCBgXCJibG9ja3F1b3RlL3BhcmFncmFwaC9cImAgcmVzdHJpY3RzXG4vLyAgIGl0IHRvIGJlIGluIGEgcGFyYWdyYXBoIHRoYXQgaXMgaW5zaWRlIGEgYmxvY2txdW90ZSwgYW5kXG4vLyAgIGBcInNlY3Rpb24vL1wiYCBtYXRjaGVzIGFueSBwb3NpdGlvbiBpbnNpZGUgYSBzZWN0aW9u4oCUYSBkb3VibGVcbi8vICAgc2xhc2ggbWF0Y2hlcyBhbnkgc2VxdWVuY2Ugb2YgYW5jZXN0b3Igbm9kZXMuIFRvIGFsbG93IG11bHRpcGxlXG4vLyAgIGRpZmZlcmVudCBjb250ZXh0cywgdGhleSBjYW4gYmUgc2VwYXJhdGVkIGJ5IGEgcGlwZSAoYHxgKVxuLy8gICBjaGFyYWN0ZXIsIGFzIGluIGBcImJsb2NrcXVvdGUvfGxpc3RfaXRlbS9cImAuXG4vL1xuLy8gICBub2RlOjogP3N0cmluZ1xuLy8gICBUaGUgbmFtZSBvZiB0aGUgbm9kZSB0eXBlIHRvIGNyZWF0ZSB3aGVuIHRoaXMgcnVsZSBtYXRjaGVzLiBPbmx5XG4vLyAgIHZhbGlkIGZvciBydWxlcyB3aXRoIGEgYHRhZ2AgcHJvcGVydHksIG5vdCBmb3Igc3R5bGUgcnVsZXMuIEVhY2hcbi8vICAgcnVsZSBzaG91bGQgaGF2ZSBvbmUgb2YgYSBgbm9kZWAsIGBtYXJrYCwgb3IgYGlnbm9yZWAgcHJvcGVydHlcbi8vICAgKGV4Y2VwdCB3aGVuIGl0IGFwcGVhcnMgaW4gYSBbbm9kZV0oI21vZGVsLk5vZGVTcGVjLnBhcnNlRE9NKSBvclxuLy8gICBbbWFyayBzcGVjXSgjbW9kZWwuTWFya1NwZWMucGFyc2VET00pLCBpbiB3aGljaCBjYXNlIHRoZSBgbm9kZWBcbi8vICAgb3IgYG1hcmtgIHByb3BlcnR5IHdpbGwgYmUgZGVyaXZlZCBmcm9tIGl0cyBwb3NpdGlvbikuXG4vL1xuLy8gICBtYXJrOjogP3N0cmluZ1xuLy8gICBUaGUgbmFtZSBvZiB0aGUgbWFyayB0eXBlIHRvIHdyYXAgdGhlIG1hdGNoZWQgY29udGVudCBpbi5cbi8vXG4vLyAgIGlnbm9yZTo6ID9ib29sXG4vLyAgIFdoZW4gdHJ1ZSwgaWdub3JlIGNvbnRlbnQgdGhhdCBtYXRjaGVzIHRoaXMgcnVsZS5cbi8vXG4vLyAgIHNraXA6OiA/Ym9vbFxuLy8gICBXaGVuIHRydWUsIGlnbm9yZSB0aGUgbm9kZSB0aGF0IG1hdGNoZXMgdGhpcyBydWxlLCBidXQgZG8gcGFyc2Vcbi8vICAgaXRzIGNvbnRlbnQuXG4vL1xuLy8gICBhdHRyczo6ID9PYmplY3Rcbi8vICAgQXR0cmlidXRlcyBmb3IgdGhlIG5vZGUgb3IgbWFyayBjcmVhdGVkIGJ5IHRoaXMgcnVsZS4gV2hlblxuLy8gICBgZ2V0QXR0cnNgIGlzIHByb3ZpZGVkLCBpdCB0YWtlcyBwcmVjZWRlbmNlLlxuLy9cbi8vICAgZ2V0QXR0cnM6OiA/KHVuaW9uPGRvbS5Ob2RlLCBzdHJpbmc+KSDihpIgP3VuaW9uPE9iamVjdCwgZmFsc2U+XG4vLyAgIEEgZnVuY3Rpb24gdXNlZCB0byBjb21wdXRlIHRoZSBhdHRyaWJ1dGVzIGZvciB0aGUgbm9kZSBvciBtYXJrXG4vLyAgIGNyZWF0ZWQgYnkgdGhpcyBydWxlLiBDYW4gYWxzbyBiZSB1c2VkIHRvIGRlc2NyaWJlIGZ1cnRoZXJcbi8vICAgY29uZGl0aW9ucyB0aGUgRE9NIGVsZW1lbnQgb3Igc3R5bGUgbXVzdCBtYXRjaC4gV2hlbiBpdCByZXR1cm5zXG4vLyAgIGBmYWxzZWAsIHRoZSBydWxlIHdvbid0IG1hdGNoLiBXaGVuIGl0IHJldHVybnMgbnVsbCBvciB1bmRlZmluZWQsXG4vLyAgIHRoYXQgaXMgaW50ZXJwcmV0ZWQgYXMgYW4gZW1wdHkvZGVmYXVsdCBzZXQgb2YgYXR0cmlidXRlcy5cbi8vXG4vLyAgIENhbGxlZCB3aXRoIGEgRE9NIEVsZW1lbnQgZm9yIGB0YWdgIHJ1bGVzLCBhbmQgd2l0aCBhIHN0cmluZyAodGhlXG4vLyAgIHN0eWxlJ3MgdmFsdWUpIGZvciBgc3R5bGVgIHJ1bGVzLlxuLy9cbi8vICAgY29udGVudEVsZW1lbnQ6OiA/dW5pb248c3RyaW5nLCAoZG9tLk5vZGUpIOKGkiBkb20uTm9kZT5cbi8vICAgRm9yIGB0YWdgIHJ1bGVzIHRoYXQgcHJvZHVjZSBub24tbGVhZiBub2RlcyBvciBtYXJrcywgYnkgZGVmYXVsdFxuLy8gICB0aGUgY29udGVudCBvZiB0aGUgRE9NIGVsZW1lbnQgaXMgcGFyc2VkIGFzIGNvbnRlbnQgb2YgdGhlIG1hcmtcbi8vICAgb3Igbm9kZS4gSWYgdGhlIGNoaWxkIG5vZGVzIGFyZSBpbiBhIGRlc2NlbmRlbnQgbm9kZSwgdGhpcyBtYXkgYmVcbi8vICAgYSBDU1Mgc2VsZWN0b3Igc3RyaW5nIHRoYXQgdGhlIHBhcnNlciBtdXN0IHVzZSB0byBmaW5kIHRoZSBhY3R1YWxcbi8vICAgY29udGVudCBlbGVtZW50LCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgYWN0dWFsIGNvbnRlbnRcbi8vICAgZWxlbWVudCB0byB0aGUgcGFyc2VyLlxuLy9cbi8vICAgZ2V0Q29udGVudDo6ID8oZG9tLk5vZGUsIHNjaGVtYTogU2NoZW1hKSDihpIgRnJhZ21lbnRcbi8vICAgQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlIGNvbnRlbnQgb2YgYSBtYXRjaGVkIG5vZGUuIFdoZW5cbi8vICAgcHJlc2VudCwgaW5zdGVhZCBvZiBwYXJzaW5nIHRoZSBub2RlJ3MgY2hpbGQgbm9kZXMsIHRoZSByZXN1bHQgb2Zcbi8vICAgdGhpcyBmdW5jdGlvbiBpcyB1c2VkLlxuLy9cbi8vICAgcHJlc2VydmVXaGl0ZXNwYWNlOjogP3VuaW9uPGJvb2wsIFwiZnVsbFwiPlxuLy8gICBDb250cm9scyB3aGV0aGVyIHdoaXRlc3BhY2Ugc2hvdWxkIGJlIHByZXNlcnZlZCB3aGVuIHBhcnNpbmcgdGhlXG4vLyAgIGNvbnRlbnQgaW5zaWRlIHRoZSBtYXRjaGVkIGVsZW1lbnQuIGBmYWxzZWAgbWVhbnMgd2hpdGVzcGFjZSBtYXlcbi8vICAgYmUgY29sbGFwc2VkLCBgdHJ1ZWAgbWVhbnMgdGhhdCB3aGl0ZXNwYWNlIHNob3VsZCBiZSBwcmVzZXJ2ZWRcbi8vICAgYnV0IG5ld2xpbmVzIG5vcm1hbGl6ZWQgdG8gc3BhY2VzLCBhbmQgYFwiZnVsbFwiYCBtZWFucyB0aGF0XG4vLyAgIG5ld2xpbmVzIHNob3VsZCBhbHNvIGJlIHByZXNlcnZlZC5cblxuLy8gOjotIEEgRE9NIHBhcnNlciByZXByZXNlbnRzIGEgc3RyYXRlZ3kgZm9yIHBhcnNpbmcgRE9NIGNvbnRlbnQgaW50b1xuLy8gYSBQcm9zZU1pcnJvciBkb2N1bWVudCBjb25mb3JtaW5nIHRvIGEgZ2l2ZW4gc2NoZW1hLiBJdHMgYmVoYXZpb3Jcbi8vIGlzIGRlZmluZWQgYnkgYW4gYXJyYXkgb2YgW3J1bGVzXSgjbW9kZWwuUGFyc2VSdWxlKS5cbmV4cG9ydCBjbGFzcyBET01QYXJzZXIge1xuICAvLyA6OiAoU2NoZW1hLCBbUGFyc2VSdWxlXSlcbiAgLy8gQ3JlYXRlIGEgcGFyc2VyIHRoYXQgdGFyZ2V0cyB0aGUgZ2l2ZW4gc2NoZW1hLCB1c2luZyB0aGUgZ2l2ZW5cbiAgLy8gcGFyc2luZyBydWxlcy5cbiAgY29uc3RydWN0b3Ioc2NoZW1hLCBydWxlcykge1xuICAgIC8vIDo6IFNjaGVtYVxuICAgIC8vIFRoZSBzY2hlbWEgaW50byB3aGljaCB0aGUgcGFyc2VyIHBhcnNlcy5cbiAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYVxuICAgIC8vIDo6IFtQYXJzZVJ1bGVdXG4gICAgLy8gVGhlIHNldCBvZiBbcGFyc2UgcnVsZXNdKCNtb2RlbC5QYXJzZVJ1bGUpIHRoYXQgdGhlIHBhcnNlclxuICAgIC8vIHVzZXMsIGluIG9yZGVyIG9mIHByZWNlZGVuY2UuXG4gICAgdGhpcy5ydWxlcyA9IHJ1bGVzXG4gICAgdGhpcy50YWdzID0gW11cbiAgICB0aGlzLnN0eWxlcyA9IFtdXG5cbiAgICBydWxlcy5mb3JFYWNoKHJ1bGUgPT4ge1xuICAgICAgaWYgKHJ1bGUudGFnKSB0aGlzLnRhZ3MucHVzaChydWxlKVxuICAgICAgZWxzZSBpZiAocnVsZS5zdHlsZSkgdGhpcy5zdHlsZXMucHVzaChydWxlKVxuICAgIH0pXG4gIH1cblxuICAvLyA6OiAoZG9tLk5vZGUsID9QYXJzZU9wdGlvbnMpIOKGkiBOb2RlXG4gIC8vIFBhcnNlIGEgZG9jdW1lbnQgZnJvbSB0aGUgY29udGVudCBvZiBhIERPTSBub2RlLlxuICBwYXJzZShkb20sIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBjb250ZXh0ID0gbmV3IFBhcnNlQ29udGV4dCh0aGlzLCBvcHRpb25zLCBmYWxzZSlcbiAgICBjb250ZXh0LmFkZEFsbChkb20sIG51bGwsIG9wdGlvbnMuZnJvbSwgb3B0aW9ucy50bylcbiAgICByZXR1cm4gY29udGV4dC5maW5pc2goKVxuICB9XG5cbiAgLy8gOjogKGRvbS5Ob2RlLCA/UGFyc2VPcHRpb25zKSDihpIgU2xpY2VcbiAgLy8gUGFyc2VzIHRoZSBjb250ZW50IG9mIHRoZSBnaXZlbiBET00gbm9kZSwgbGlrZVxuICAvLyBbYHBhcnNlYF0oI21vZGVsLkRPTVBhcnNlci5wYXJzZSksIGFuZCB0YWtlcyB0aGUgc2FtZSBzZXQgb2ZcbiAgLy8gb3B0aW9ucy4gQnV0IHVubGlrZSB0aGF0IG1ldGhvZCwgd2hpY2ggcHJvZHVjZXMgYSB3aG9sZSBub2RlLFxuICAvLyB0aGlzIG9uZSByZXR1cm5zIGEgc2xpY2UgdGhhdCBpcyBvcGVuIGF0IHRoZSBzaWRlcywgbWVhbmluZyB0aGF0XG4gIC8vIHRoZSBzY2hlbWEgY29uc3RyYWludHMgYXJlbid0IGFwcGxpZWQgdG8gdGhlIHN0YXJ0IG9mIG5vZGVzIHRvXG4gIC8vIHRoZSBsZWZ0IG9mIHRoZSBpbnB1dCBhbmQgdGhlIGVuZCBvZiBub2RlcyBhdCB0aGUgZW5kLlxuICBwYXJzZVNsaWNlKGRvbSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGNvbnRleHQgPSBuZXcgUGFyc2VDb250ZXh0KHRoaXMsIG9wdGlvbnMsIHRydWUpXG4gICAgY29udGV4dC5hZGRBbGwoZG9tLCBudWxsLCBvcHRpb25zLmZyb20sIG9wdGlvbnMudG8pXG4gICAgcmV0dXJuIFNsaWNlLm1heE9wZW4oY29udGV4dC5maW5pc2goKSlcbiAgfVxuXG4gIG1hdGNoVGFnKGRvbSwgY29udGV4dCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50YWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcnVsZSA9IHRoaXMudGFnc1tpXVxuICAgICAgaWYgKG1hdGNoZXMoZG9tLCBydWxlLnRhZykgJiZcbiAgICAgICAgICAocnVsZS5uYW1lc3BhY2UgPT09IHVuZGVmaW5lZCB8fCBkb20ubmFtZXNwYWNlVVJJID09IHJ1bGUubmFtZXNwYWNlKSAmJlxuICAgICAgICAgICghcnVsZS5jb250ZXh0IHx8IGNvbnRleHQubWF0Y2hlc0NvbnRleHQocnVsZS5jb250ZXh0KSkpIHtcbiAgICAgICAgaWYgKHJ1bGUuZ2V0QXR0cnMpIHtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gcnVsZS5nZXRBdHRycyhkb20pXG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIGNvbnRpbnVlXG4gICAgICAgICAgcnVsZS5hdHRycyA9IHJlc3VsdFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydWxlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbWF0Y2hTdHlsZShwcm9wLCB2YWx1ZSwgY29udGV4dCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBydWxlID0gdGhpcy5zdHlsZXNbaV1cbiAgICAgIGlmIChydWxlLnN0eWxlLmluZGV4T2YocHJvcCkgIT0gMCB8fFxuICAgICAgICAgIHJ1bGUuY29udGV4dCAmJiAhY29udGV4dC5tYXRjaGVzQ29udGV4dChydWxlLmNvbnRleHQpIHx8XG4gICAgICAgICAgLy8gVGVzdCB0aGF0IHRoZSBzdHlsZSBzdHJpbmcgZWl0aGVyIHByZWNpc2VseSBtYXRjaGVzIHRoZSBwcm9wLFxuICAgICAgICAgIC8vIG9yIGhhcyBhbiAnPScgc2lnbiBhZnRlciB0aGUgcHJvcCwgZm9sbG93ZWQgYnkgdGhlIGdpdmVuXG4gICAgICAgICAgLy8gdmFsdWUuXG4gICAgICAgICAgcnVsZS5zdHlsZS5sZW5ndGggPiBwcm9wLmxlbmd0aCAmJlxuICAgICAgICAgIChydWxlLnN0eWxlLmNoYXJDb2RlQXQocHJvcC5sZW5ndGgpICE9IDYxIHx8IHJ1bGUuc3R5bGUuc2xpY2UocHJvcC5sZW5ndGggKyAxKSAhPSB2YWx1ZSkpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICBpZiAocnVsZS5nZXRBdHRycykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcnVsZS5nZXRBdHRycyh2YWx1ZSlcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIGNvbnRpbnVlXG4gICAgICAgIHJ1bGUuYXR0cnMgPSByZXN1bHRcbiAgICAgIH1cbiAgICAgIHJldHVybiBydWxlXG4gICAgfVxuICB9XG5cbiAgLy8gOiAoU2NoZW1hKSDihpIgW1BhcnNlUnVsZV1cbiAgc3RhdGljIHNjaGVtYVJ1bGVzKHNjaGVtYSkge1xuICAgIGxldCByZXN1bHQgPSBbXVxuICAgIGZ1bmN0aW9uIGluc2VydChydWxlKSB7XG4gICAgICBsZXQgcHJpb3JpdHkgPSBydWxlLnByaW9yaXR5ID09IG51bGwgPyA1MCA6IHJ1bGUucHJpb3JpdHksIGkgPSAwXG4gICAgICBmb3IgKDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbmV4dCA9IHJlc3VsdFtpXSwgbmV4dFByaW9yaXR5ID0gbmV4dC5wcmlvcml0eSA9PSBudWxsID8gNTAgOiBuZXh0LnByaW9yaXR5XG4gICAgICAgIGlmIChuZXh0UHJpb3JpdHkgPCBwcmlvcml0eSkgYnJlYWtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5zcGxpY2UoaSwgMCwgcnVsZSlcbiAgICB9XG5cbiAgICBmb3IgKGxldCBuYW1lIGluIHNjaGVtYS5tYXJrcykge1xuICAgICAgbGV0IHJ1bGVzID0gc2NoZW1hLm1hcmtzW25hbWVdLnNwZWMucGFyc2VET01cbiAgICAgIGlmIChydWxlcykgcnVsZXMuZm9yRWFjaChydWxlID0+IHtcbiAgICAgICAgaW5zZXJ0KHJ1bGUgPSBjb3B5KHJ1bGUpKVxuICAgICAgICBydWxlLm1hcmsgPSBuYW1lXG4gICAgICB9KVxuICAgIH1cbiAgICBmb3IgKGxldCBuYW1lIGluIHNjaGVtYS5ub2Rlcykge1xuICAgICAgbGV0IHJ1bGVzID0gc2NoZW1hLm5vZGVzW25hbWVdLnNwZWMucGFyc2VET01cbiAgICAgIGlmIChydWxlcykgcnVsZXMuZm9yRWFjaChydWxlID0+IHtcbiAgICAgICAgaW5zZXJ0KHJ1bGUgPSBjb3B5KHJ1bGUpKVxuICAgICAgICBydWxlLm5vZGUgPSBuYW1lXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyA6OiAoU2NoZW1hKSDihpIgRE9NUGFyc2VyXG4gIC8vIENvbnN0cnVjdCBhIERPTSBwYXJzZXIgdXNpbmcgdGhlIHBhcnNpbmcgcnVsZXMgbGlzdGVkIGluIGFcbiAgLy8gc2NoZW1hJ3MgW25vZGUgc3BlY3NdKCNtb2RlbC5Ob2RlU3BlYy5wYXJzZURPTSksIHJlb3JkZXJlZCBieVxuICAvLyBbcHJpb3JpdHldKCNtb2RlbC5QYXJzZVJ1bGUucHJpb3JpdHkpLlxuICBzdGF0aWMgZnJvbVNjaGVtYShzY2hlbWEpIHtcbiAgICByZXR1cm4gc2NoZW1hLmNhY2hlZC5kb21QYXJzZXIgfHxcbiAgICAgIChzY2hlbWEuY2FjaGVkLmRvbVBhcnNlciA9IG5ldyBET01QYXJzZXIoc2NoZW1hLCBET01QYXJzZXIuc2NoZW1hUnVsZXMoc2NoZW1hKSkpXG4gIH1cbn1cblxuLy8gOiBPYmplY3Q8Ym9vbD4gVGhlIGJsb2NrLWxldmVsIHRhZ3MgaW4gSFRNTDVcbmNvbnN0IGJsb2NrVGFncyA9IHtcbiAgYWRkcmVzczogdHJ1ZSwgYXJ0aWNsZTogdHJ1ZSwgYXNpZGU6IHRydWUsIGJsb2NrcXVvdGU6IHRydWUsIGNhbnZhczogdHJ1ZSxcbiAgZGQ6IHRydWUsIGRpdjogdHJ1ZSwgZGw6IHRydWUsIGZpZWxkc2V0OiB0cnVlLCBmaWdjYXB0aW9uOiB0cnVlLCBmaWd1cmU6IHRydWUsXG4gIGZvb3RlcjogdHJ1ZSwgZm9ybTogdHJ1ZSwgaDE6IHRydWUsIGgyOiB0cnVlLCBoMzogdHJ1ZSwgaDQ6IHRydWUsIGg1OiB0cnVlLFxuICBoNjogdHJ1ZSwgaGVhZGVyOiB0cnVlLCBoZ3JvdXA6IHRydWUsIGhyOiB0cnVlLCBsaTogdHJ1ZSwgbm9zY3JpcHQ6IHRydWUsIG9sOiB0cnVlLFxuICBvdXRwdXQ6IHRydWUsIHA6IHRydWUsIHByZTogdHJ1ZSwgc2VjdGlvbjogdHJ1ZSwgdGFibGU6IHRydWUsIHRmb290OiB0cnVlLCB1bDogdHJ1ZVxufVxuXG4vLyA6IE9iamVjdDxib29sPiBUaGUgdGFncyB0aGF0IHdlIG5vcm1hbGx5IGlnbm9yZS5cbmNvbnN0IGlnbm9yZVRhZ3MgPSB7XG4gIGhlYWQ6IHRydWUsIG5vc2NyaXB0OiB0cnVlLCBvYmplY3Q6IHRydWUsIHNjcmlwdDogdHJ1ZSwgc3R5bGU6IHRydWUsIHRpdGxlOiB0cnVlXG59XG5cbi8vIDogT2JqZWN0PGJvb2w+IExpc3QgdGFncy5cbmNvbnN0IGxpc3RUYWdzID0ge29sOiB0cnVlLCB1bDogdHJ1ZX1cblxuLy8gVXNpbmcgYSBiaXRmaWVsZCBmb3Igbm9kZSBjb250ZXh0IG9wdGlvbnNcbmNvbnN0IE9QVF9QUkVTRVJWRV9XUyA9IDEsIE9QVF9QUkVTRVJWRV9XU19GVUxMID0gMiwgT1BUX09QRU5fTEVGVCA9IDRcblxuZnVuY3Rpb24gd3NPcHRpb25zRm9yKHByZXNlcnZlV2hpdGVzcGFjZSkge1xuICByZXR1cm4gKHByZXNlcnZlV2hpdGVzcGFjZSA/IE9QVF9QUkVTRVJWRV9XUyA6IDApIHwgKHByZXNlcnZlV2hpdGVzcGFjZSA9PT0gXCJmdWxsXCIgPyBPUFRfUFJFU0VSVkVfV1NfRlVMTCA6IDApXG59XG5cbmNsYXNzIE5vZGVDb250ZXh0IHtcbiAgY29uc3RydWN0b3IodHlwZSwgYXR0cnMsIG1hcmtzLCBwZW5kaW5nTWFya3MsIHNvbGlkLCBtYXRjaCwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9IHR5cGVcbiAgICB0aGlzLmF0dHJzID0gYXR0cnNcbiAgICB0aGlzLnNvbGlkID0gc29saWRcbiAgICB0aGlzLm1hdGNoID0gbWF0Y2ggfHwgKG9wdGlvbnMgJiBPUFRfT1BFTl9MRUZUID8gbnVsbCA6IHR5cGUuY29udGVudE1hdGNoKVxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLmNvbnRlbnQgPSBbXVxuICAgIC8vIE1hcmtzIGFwcGxpZWQgdG8gdGhpcyBub2RlIGl0c2VsZlxuICAgIHRoaXMubWFya3MgPSBtYXJrc1xuICAgIC8vIE1hcmtzIGFwcGxpZWQgdG8gaXRzIGNoaWxkcmVuXG4gICAgdGhpcy5hY3RpdmVNYXJrcyA9IE1hcmsubm9uZVxuICAgIC8vIE1hcmtzIHRoYXQgY2FuJ3QgYXBwbHkgaGVyZSwgYnV0IHdpbGwgYmUgdXNlZCBpbiBjaGlsZHJlbiBpZiBwb3NzaWJsZVxuICAgIHRoaXMucGVuZGluZ01hcmtzID0gcGVuZGluZ01hcmtzXG4gIH1cblxuICBmaW5kV3JhcHBpbmcobm9kZSkge1xuICAgIGlmICghdGhpcy5tYXRjaCkge1xuICAgICAgaWYgKCF0aGlzLnR5cGUpIHJldHVybiBbXVxuICAgICAgbGV0IGZpbGwgPSB0aGlzLnR5cGUuY29udGVudE1hdGNoLmZpbGxCZWZvcmUoRnJhZ21lbnQuZnJvbShub2RlKSlcbiAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgIHRoaXMubWF0Y2ggPSB0aGlzLnR5cGUuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQoZmlsbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMudHlwZS5jb250ZW50TWF0Y2gsIHdyYXBcbiAgICAgICAgaWYgKHdyYXAgPSBzdGFydC5maW5kV3JhcHBpbmcobm9kZS50eXBlKSkge1xuICAgICAgICAgIHRoaXMubWF0Y2ggPSBzdGFydFxuICAgICAgICAgIHJldHVybiB3cmFwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tYXRjaC5maW5kV3JhcHBpbmcobm9kZS50eXBlKVxuICB9XG5cbiAgZmluaXNoKG9wZW5FbmQpIHtcbiAgICBpZiAoISh0aGlzLm9wdGlvbnMgJiBPUFRfUFJFU0VSVkVfV1MpKSB7IC8vIFN0cmlwIHRyYWlsaW5nIHdoaXRlc3BhY2VcbiAgICAgIGxldCBsYXN0ID0gdGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGggLSAxXSwgbVxuICAgICAgaWYgKGxhc3QgJiYgbGFzdC5pc1RleHQgJiYgKG0gPSAvWyBcXHRcXHJcXG5cXHUwMDBjXSskLy5leGVjKGxhc3QudGV4dCkpKSB7XG4gICAgICAgIGlmIChsYXN0LnRleHQubGVuZ3RoID09IG1bMF0ubGVuZ3RoKSB0aGlzLmNvbnRlbnQucG9wKClcbiAgICAgICAgZWxzZSB0aGlzLmNvbnRlbnRbdGhpcy5jb250ZW50Lmxlbmd0aCAtIDFdID0gbGFzdC53aXRoVGV4dChsYXN0LnRleHQuc2xpY2UoMCwgbGFzdC50ZXh0Lmxlbmd0aCAtIG1bMF0ubGVuZ3RoKSlcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNvbnRlbnQgPSBGcmFnbWVudC5mcm9tKHRoaXMuY29udGVudClcbiAgICBpZiAoIW9wZW5FbmQgJiYgdGhpcy5tYXRjaClcbiAgICAgIGNvbnRlbnQgPSBjb250ZW50LmFwcGVuZCh0aGlzLm1hdGNoLmZpbGxCZWZvcmUoRnJhZ21lbnQuZW1wdHksIHRydWUpKVxuICAgIHJldHVybiB0aGlzLnR5cGUgPyB0aGlzLnR5cGUuY3JlYXRlKHRoaXMuYXR0cnMsIGNvbnRlbnQsIHRoaXMubWFya3MpIDogY29udGVudFxuICB9XG5cbiAgYXBwbHlQZW5kaW5nKG5leHRUeXBlKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIHBlbmRpbmcgPSB0aGlzLnBlbmRpbmdNYXJrczsgaSA8IHBlbmRpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBtYXJrID0gcGVuZGluZ1tpXVxuICAgICAgaWYgKCh0aGlzLnR5cGUgPyB0aGlzLnR5cGUuYWxsb3dzTWFya1R5cGUobWFyay50eXBlKSA6IG1hcmtNYXlBcHBseShtYXJrLnR5cGUsIG5leHRUeXBlKSkgJiZcbiAgICAgICAgICAhbWFyay5pc0luU2V0KHRoaXMuYWN0aXZlTWFya3MpKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlTWFya3MgPSBtYXJrLmFkZFRvU2V0KHRoaXMuYWN0aXZlTWFya3MpXG4gICAgICAgIHRoaXMucGVuZGluZ01hcmtzID0gbWFyay5yZW1vdmVGcm9tU2V0KHRoaXMucGVuZGluZ01hcmtzKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBQYXJzZUNvbnRleHQge1xuICAvLyA6IChET01QYXJzZXIsIE9iamVjdClcbiAgY29uc3RydWN0b3IocGFyc2VyLCBvcHRpb25zLCBvcGVuKSB7XG4gICAgLy8gOiBET01QYXJzZXIgVGhlIHBhcnNlciB3ZSBhcmUgdXNpbmcuXG4gICAgdGhpcy5wYXJzZXIgPSBwYXJzZXJcbiAgICAvLyA6IE9iamVjdCBUaGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhpcyBwYXJzZS5cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gICAgdGhpcy5pc09wZW4gPSBvcGVuXG4gICAgbGV0IHRvcE5vZGUgPSBvcHRpb25zLnRvcE5vZGUsIHRvcENvbnRleHRcbiAgICBsZXQgdG9wT3B0aW9ucyA9IHdzT3B0aW9uc0ZvcihvcHRpb25zLnByZXNlcnZlV2hpdGVzcGFjZSkgfCAob3BlbiA/IE9QVF9PUEVOX0xFRlQgOiAwKVxuICAgIGlmICh0b3BOb2RlKVxuICAgICAgdG9wQ29udGV4dCA9IG5ldyBOb2RlQ29udGV4dCh0b3BOb2RlLnR5cGUsIHRvcE5vZGUuYXR0cnMsIE1hcmsubm9uZSwgTWFyay5ub25lLCB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnRvcE1hdGNoIHx8IHRvcE5vZGUudHlwZS5jb250ZW50TWF0Y2gsIHRvcE9wdGlvbnMpXG4gICAgZWxzZSBpZiAob3BlbilcbiAgICAgIHRvcENvbnRleHQgPSBuZXcgTm9kZUNvbnRleHQobnVsbCwgbnVsbCwgTWFyay5ub25lLCBNYXJrLm5vbmUsIHRydWUsIG51bGwsIHRvcE9wdGlvbnMpXG4gICAgZWxzZVxuICAgICAgdG9wQ29udGV4dCA9IG5ldyBOb2RlQ29udGV4dChwYXJzZXIuc2NoZW1hLnRvcE5vZGVUeXBlLCBudWxsLCBNYXJrLm5vbmUsIE1hcmsubm9uZSwgdHJ1ZSwgbnVsbCwgdG9wT3B0aW9ucylcbiAgICB0aGlzLm5vZGVzID0gW3RvcENvbnRleHRdXG4gICAgLy8gOiBbTWFya10gVGhlIGN1cnJlbnQgc2V0IG9mIG1hcmtzXG4gICAgdGhpcy5vcGVuID0gMFxuICAgIHRoaXMuZmluZCA9IG9wdGlvbnMuZmluZFBvc2l0aW9uc1xuICAgIHRoaXMubmVlZHNCbG9jayA9IGZhbHNlXG4gIH1cblxuICBnZXQgdG9wKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzW3RoaXMub3Blbl1cbiAgfVxuXG4gIC8vIDogKGRvbS5Ob2RlKVxuICAvLyBBZGQgYSBET00gbm9kZSB0byB0aGUgY29udGVudC4gVGV4dCBpcyBpbnNlcnRlZCBhcyB0ZXh0IG5vZGUsXG4gIC8vIG90aGVyd2lzZSwgdGhlIG5vZGUgaXMgcGFzc2VkIHRvIGBhZGRFbGVtZW50YCBvciwgaWYgaXQgaGFzIGFcbiAgLy8gYHN0eWxlYCBhdHRyaWJ1dGUsIGBhZGRFbGVtZW50V2l0aFN0eWxlc2AuXG4gIGFkZERPTShkb20pIHtcbiAgICBpZiAoZG9tLm5vZGVUeXBlID09IDMpIHtcbiAgICAgIHRoaXMuYWRkVGV4dE5vZGUoZG9tKVxuICAgIH0gZWxzZSBpZiAoZG9tLm5vZGVUeXBlID09IDEpIHtcbiAgICAgIGxldCBzdHlsZSA9IGRvbS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKVxuICAgICAgbGV0IG1hcmtzID0gc3R5bGUgPyB0aGlzLnJlYWRTdHlsZXMocGFyc2VTdHlsZXMoc3R5bGUpKSA6IG51bGwsIHRvcCA9IHRoaXMudG9wXG4gICAgICBpZiAobWFya3MgIT0gbnVsbCkgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7IGkrKykgdGhpcy5hZGRQZW5kaW5nTWFyayhtYXJrc1tpXSlcbiAgICAgIHRoaXMuYWRkRWxlbWVudChkb20pXG4gICAgICBpZiAobWFya3MgIT0gbnVsbCkgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7IGkrKykgdGhpcy5yZW1vdmVQZW5kaW5nTWFyayhtYXJrc1tpXSwgdG9wKVxuICAgIH1cbiAgfVxuXG4gIGFkZFRleHROb2RlKGRvbSkge1xuICAgIGxldCB2YWx1ZSA9IGRvbS5ub2RlVmFsdWVcbiAgICBsZXQgdG9wID0gdGhpcy50b3BcbiAgICBpZiAoKHRvcC50eXBlID8gdG9wLnR5cGUuaW5saW5lQ29udGVudCA6IHRvcC5jb250ZW50Lmxlbmd0aCAmJiB0b3AuY29udGVudFswXS5pc0lubGluZSkgfHwgL1teIFxcdFxcclxcblxcdTAwMGNdLy50ZXN0KHZhbHVlKSkge1xuICAgICAgaWYgKCEodG9wLm9wdGlvbnMgJiBPUFRfUFJFU0VSVkVfV1MpKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvWyBcXHRcXHJcXG5cXHUwMDBjXSsvZywgXCIgXCIpXG4gICAgICAgIC8vIElmIHRoaXMgc3RhcnRzIHdpdGggd2hpdGVzcGFjZSwgYW5kIHRoZXJlIGlzIG5vIG5vZGUgYmVmb3JlIGl0LCBvclxuICAgICAgICAvLyBhIGhhcmQgYnJlYWssIG9yIGEgdGV4dCBub2RlIHRoYXQgZW5kcyB3aXRoIHdoaXRlc3BhY2UsIHN0cmlwIHRoZVxuICAgICAgICAvLyBsZWFkaW5nIHNwYWNlLlxuICAgICAgICBpZiAoL15bIFxcdFxcclxcblxcdTAwMGNdLy50ZXN0KHZhbHVlKSAmJiB0aGlzLm9wZW4gPT0gdGhpcy5ub2Rlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgbGV0IG5vZGVCZWZvcmUgPSB0b3AuY29udGVudFt0b3AuY29udGVudC5sZW5ndGggLSAxXVxuICAgICAgICAgIGxldCBkb21Ob2RlQmVmb3JlID0gZG9tLnByZXZpb3VzU2libGluZ1xuICAgICAgICAgIGlmICghbm9kZUJlZm9yZSB8fFxuICAgICAgICAgICAgICAoZG9tTm9kZUJlZm9yZSAmJiBkb21Ob2RlQmVmb3JlLm5vZGVOYW1lID09ICdCUicpIHx8XG4gICAgICAgICAgICAgIChub2RlQmVmb3JlLmlzVGV4dCAmJiAvWyBcXHRcXHJcXG5cXHUwMDBjXSQvLnRlc3Qobm9kZUJlZm9yZS50ZXh0KSkpXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoISh0b3Aub3B0aW9ucyAmIE9QVF9QUkVTRVJWRV9XU19GVUxMKSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xccj9cXG58XFxyL2csIFwiIFwiKVxuICAgICAgfVxuICAgICAgaWYgKHZhbHVlKSB0aGlzLmluc2VydE5vZGUodGhpcy5wYXJzZXIuc2NoZW1hLnRleHQodmFsdWUpKVxuICAgICAgdGhpcy5maW5kSW5UZXh0KGRvbSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5maW5kSW5zaWRlKGRvbSlcbiAgICB9XG4gIH1cblxuICAvLyA6IChkb20uRWxlbWVudClcbiAgLy8gVHJ5IHRvIGZpbmQgYSBoYW5kbGVyIGZvciB0aGUgZ2l2ZW4gdGFnIGFuZCB1c2UgdGhhdCB0byBwYXJzZS4gSWZcbiAgLy8gbm9uZSBpcyBmb3VuZCwgdGhlIGVsZW1lbnQncyBjb250ZW50IG5vZGVzIGFyZSBhZGRlZCBkaXJlY3RseS5cbiAgYWRkRWxlbWVudChkb20pIHtcbiAgICBsZXQgbmFtZSA9IGRvbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGxpc3RUYWdzLmhhc093blByb3BlcnR5KG5hbWUpKSBub3JtYWxpemVMaXN0KGRvbSlcbiAgICBsZXQgcnVsZSA9ICh0aGlzLm9wdGlvbnMucnVsZUZyb21Ob2RlICYmIHRoaXMub3B0aW9ucy5ydWxlRnJvbU5vZGUoZG9tKSkgfHwgdGhpcy5wYXJzZXIubWF0Y2hUYWcoZG9tLCB0aGlzKVxuICAgIGlmIChydWxlID8gcnVsZS5pZ25vcmUgOiBpZ25vcmVUYWdzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICB0aGlzLmZpbmRJbnNpZGUoZG9tKVxuICAgIH0gZWxzZSBpZiAoIXJ1bGUgfHwgcnVsZS5za2lwKSB7XG4gICAgICBpZiAocnVsZSAmJiBydWxlLnNraXAubm9kZVR5cGUpIGRvbSA9IHJ1bGUuc2tpcFxuICAgICAgbGV0IHN5bmMsIHRvcCA9IHRoaXMudG9wLCBvbGROZWVkc0Jsb2NrID0gdGhpcy5uZWVkc0Jsb2NrXG4gICAgICBpZiAoYmxvY2tUYWdzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIHN5bmMgPSB0cnVlXG4gICAgICAgIGlmICghdG9wLnR5cGUpIHRoaXMubmVlZHNCbG9jayA9IHRydWVcbiAgICAgIH0gZWxzZSBpZiAoIWRvbS5maXJzdENoaWxkKSB7XG4gICAgICAgIHRoaXMubGVhZkZhbGxiYWNrKGRvbSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB0aGlzLmFkZEFsbChkb20pXG4gICAgICBpZiAoc3luYykgdGhpcy5zeW5jKHRvcClcbiAgICAgIHRoaXMubmVlZHNCbG9jayA9IG9sZE5lZWRzQmxvY2tcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGRFbGVtZW50QnlSdWxlKGRvbSwgcnVsZSlcbiAgICB9XG4gIH1cblxuICAvLyBDYWxsZWQgZm9yIGxlYWYgRE9NIG5vZGVzIHRoYXQgd291bGQgb3RoZXJ3aXNlIGJlIGlnbm9yZWRcbiAgbGVhZkZhbGxiYWNrKGRvbSkge1xuICAgIGlmIChkb20ubm9kZU5hbWUgPT0gXCJCUlwiICYmIHRoaXMudG9wLnR5cGUgJiYgdGhpcy50b3AudHlwZS5pbmxpbmVDb250ZW50KVxuICAgICAgdGhpcy5hZGRUZXh0Tm9kZShkb20ub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlxcblwiKSlcbiAgfVxuXG4gIC8vIFJ1biBhbnkgc3R5bGUgcGFyc2VyIGFzc29jaWF0ZWQgd2l0aCB0aGUgbm9kZSdzIHN0eWxlcy4gRWl0aGVyXG4gIC8vIHJldHVybiBhbiBhcnJheSBvZiBtYXJrcywgb3IgbnVsbCB0byBpbmRpY2F0ZSBzb21lIG9mIHRoZSBzdHlsZXNcbiAgLy8gaGFkIGEgcnVsZSB3aXRoIGBpZ25vcmVgIHNldC5cbiAgcmVhZFN0eWxlcyhzdHlsZXMpIHtcbiAgICBsZXQgbWFya3MgPSBNYXJrLm5vbmVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgbGV0IHJ1bGUgPSB0aGlzLnBhcnNlci5tYXRjaFN0eWxlKHN0eWxlc1tpXSwgc3R5bGVzW2kgKyAxXSwgdGhpcylcbiAgICAgIGlmICghcnVsZSkgY29udGludWVcbiAgICAgIGlmIChydWxlLmlnbm9yZSkgcmV0dXJuIG51bGxcbiAgICAgIG1hcmtzID0gdGhpcy5wYXJzZXIuc2NoZW1hLm1hcmtzW3J1bGUubWFya10uY3JlYXRlKHJ1bGUuYXR0cnMpLmFkZFRvU2V0KG1hcmtzKVxuICAgIH1cbiAgICByZXR1cm4gbWFya3NcbiAgfVxuXG4gIC8vIDogKGRvbS5FbGVtZW50LCBQYXJzZVJ1bGUpIOKGkiBib29sXG4gIC8vIExvb2sgdXAgYSBoYW5kbGVyIGZvciB0aGUgZ2l2ZW4gbm9kZS4gSWYgbm9uZSBhcmUgZm91bmQsIHJldHVyblxuICAvLyBmYWxzZS4gT3RoZXJ3aXNlLCBhcHBseSBpdCwgdXNlIGl0cyByZXR1cm4gdmFsdWUgdG8gZHJpdmUgdGhlIHdheVxuICAvLyB0aGUgbm9kZSdzIGNvbnRlbnQgaXMgd3JhcHBlZCwgYW5kIHJldHVybiB0cnVlLlxuICBhZGRFbGVtZW50QnlSdWxlKGRvbSwgcnVsZSkge1xuICAgIGxldCBzeW5jLCBub2RlVHlwZSwgbWFya1R5cGUsIG1hcmtcbiAgICBpZiAocnVsZS5ub2RlKSB7XG4gICAgICBub2RlVHlwZSA9IHRoaXMucGFyc2VyLnNjaGVtYS5ub2Rlc1tydWxlLm5vZGVdXG4gICAgICBpZiAoIW5vZGVUeXBlLmlzTGVhZikge1xuICAgICAgICBzeW5jID0gdGhpcy5lbnRlcihub2RlVHlwZSwgcnVsZS5hdHRycywgcnVsZS5wcmVzZXJ2ZVdoaXRlc3BhY2UpXG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLmluc2VydE5vZGUobm9kZVR5cGUuY3JlYXRlKHJ1bGUuYXR0cnMpKSkge1xuICAgICAgICB0aGlzLmxlYWZGYWxsYmFjayhkb20pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcmtUeXBlID0gdGhpcy5wYXJzZXIuc2NoZW1hLm1hcmtzW3J1bGUubWFya11cbiAgICAgIG1hcmsgPSBtYXJrVHlwZS5jcmVhdGUocnVsZS5hdHRycylcbiAgICAgIHRoaXMuYWRkUGVuZGluZ01hcmsobWFyaylcbiAgICB9XG4gICAgbGV0IHN0YXJ0SW4gPSB0aGlzLnRvcFxuXG4gICAgaWYgKG5vZGVUeXBlICYmIG5vZGVUeXBlLmlzTGVhZikge1xuICAgICAgdGhpcy5maW5kSW5zaWRlKGRvbSlcbiAgICB9IGVsc2UgaWYgKHJ1bGUuZ2V0Q29udGVudCkge1xuICAgICAgdGhpcy5maW5kSW5zaWRlKGRvbSlcbiAgICAgIHJ1bGUuZ2V0Q29udGVudChkb20sIHRoaXMucGFyc2VyLnNjaGVtYSkuZm9yRWFjaChub2RlID0+IHRoaXMuaW5zZXJ0Tm9kZShub2RlKSlcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGNvbnRlbnRET00gPSBydWxlLmNvbnRlbnRFbGVtZW50XG4gICAgICBpZiAodHlwZW9mIGNvbnRlbnRET00gPT0gXCJzdHJpbmdcIikgY29udGVudERPTSA9IGRvbS5xdWVyeVNlbGVjdG9yKGNvbnRlbnRET00pXG4gICAgICBlbHNlIGlmICh0eXBlb2YgY29udGVudERPTSA9PSBcImZ1bmN0aW9uXCIpIGNvbnRlbnRET00gPSBjb250ZW50RE9NKGRvbSlcbiAgICAgIGlmICghY29udGVudERPTSkgY29udGVudERPTSA9IGRvbVxuICAgICAgdGhpcy5maW5kQXJvdW5kKGRvbSwgY29udGVudERPTSwgdHJ1ZSlcbiAgICAgIHRoaXMuYWRkQWxsKGNvbnRlbnRET00sIHN5bmMpXG4gICAgfVxuICAgIGlmIChzeW5jKSB7IHRoaXMuc3luYyhzdGFydEluKTsgdGhpcy5vcGVuLS0gfVxuICAgIGlmIChtYXJrKSB0aGlzLnJlbW92ZVBlbmRpbmdNYXJrKG1hcmssIHN0YXJ0SW4pXG4gIH1cblxuICAvLyA6IChkb20uTm9kZSwgP05vZGVCdWlsZGVyLCA/bnVtYmVyLCA/bnVtYmVyKVxuICAvLyBBZGQgYWxsIGNoaWxkIG5vZGVzIGJldHdlZW4gYHN0YXJ0SW5kZXhgIGFuZCBgZW5kSW5kZXhgIChvciB0aGVcbiAgLy8gd2hvbGUgbm9kZSwgaWYgbm90IGdpdmVuKS4gSWYgYHN5bmNgIGlzIHBhc3NlZCwgdXNlIGl0IHRvXG4gIC8vIHN5bmNocm9uaXplIGFmdGVyIGV2ZXJ5IGJsb2NrIGVsZW1lbnQuXG4gIGFkZEFsbChwYXJlbnQsIHN5bmMsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgbGV0IGluZGV4ID0gc3RhcnRJbmRleCB8fCAwXG4gICAgZm9yIChsZXQgZG9tID0gc3RhcnRJbmRleCA/IHBhcmVudC5jaGlsZE5vZGVzW3N0YXJ0SW5kZXhdIDogcGFyZW50LmZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgZW5kID0gZW5kSW5kZXggPT0gbnVsbCA/IG51bGwgOiBwYXJlbnQuY2hpbGROb2Rlc1tlbmRJbmRleF07XG4gICAgICAgICBkb20gIT0gZW5kOyBkb20gPSBkb20ubmV4dFNpYmxpbmcsICsraW5kZXgpIHtcbiAgICAgIHRoaXMuZmluZEF0UG9pbnQocGFyZW50LCBpbmRleClcbiAgICAgIHRoaXMuYWRkRE9NKGRvbSlcbiAgICAgIGlmIChzeW5jICYmIGJsb2NrVGFncy5oYXNPd25Qcm9wZXJ0eShkb20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkpXG4gICAgICAgIHRoaXMuc3luYyhzeW5jKVxuICAgIH1cbiAgICB0aGlzLmZpbmRBdFBvaW50KHBhcmVudCwgaW5kZXgpXG4gIH1cblxuICAvLyBUcnkgdG8gZmluZCBhIHdheSB0byBmaXQgdGhlIGdpdmVuIG5vZGUgdHlwZSBpbnRvIHRoZSBjdXJyZW50XG4gIC8vIGNvbnRleHQuIE1heSBhZGQgaW50ZXJtZWRpYXRlIHdyYXBwZXJzIGFuZC9vciBsZWF2ZSBub24tc29saWRcbiAgLy8gbm9kZXMgdGhhdCB3ZSdyZSBpbi5cbiAgZmluZFBsYWNlKG5vZGUpIHtcbiAgICBsZXQgcm91dGUsIHN5bmNcbiAgICBmb3IgKGxldCBkZXB0aCA9IHRoaXMub3BlbjsgZGVwdGggPj0gMDsgZGVwdGgtLSkge1xuICAgICAgbGV0IGN4ID0gdGhpcy5ub2Rlc1tkZXB0aF1cbiAgICAgIGxldCBmb3VuZCA9IGN4LmZpbmRXcmFwcGluZyhub2RlKVxuICAgICAgaWYgKGZvdW5kICYmICghcm91dGUgfHwgcm91dGUubGVuZ3RoID4gZm91bmQubGVuZ3RoKSkge1xuICAgICAgICByb3V0ZSA9IGZvdW5kXG4gICAgICAgIHN5bmMgPSBjeFxuICAgICAgICBpZiAoIWZvdW5kLmxlbmd0aCkgYnJlYWtcbiAgICAgIH1cbiAgICAgIGlmIChjeC5zb2xpZCkgYnJlYWtcbiAgICB9XG4gICAgaWYgKCFyb3V0ZSkgcmV0dXJuIGZhbHNlXG4gICAgdGhpcy5zeW5jKHN5bmMpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3V0ZS5sZW5ndGg7IGkrKylcbiAgICAgIHRoaXMuZW50ZXJJbm5lcihyb3V0ZVtpXSwgbnVsbCwgZmFsc2UpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIDogKE5vZGUpIOKGkiA/Tm9kZVxuICAvLyBUcnkgdG8gaW5zZXJ0IHRoZSBnaXZlbiBub2RlLCBhZGp1c3RpbmcgdGhlIGNvbnRleHQgd2hlbiBuZWVkZWQuXG4gIGluc2VydE5vZGUobm9kZSkge1xuICAgIGlmIChub2RlLmlzSW5saW5lICYmIHRoaXMubmVlZHNCbG9jayAmJiAhdGhpcy50b3AudHlwZSkge1xuICAgICAgbGV0IGJsb2NrID0gdGhpcy50ZXh0YmxvY2tGcm9tQ29udGV4dCgpXG4gICAgICBpZiAoYmxvY2spIHRoaXMuZW50ZXJJbm5lcihibG9jaylcbiAgICB9XG4gICAgaWYgKHRoaXMuZmluZFBsYWNlKG5vZGUpKSB7XG4gICAgICB0aGlzLmNsb3NlRXh0cmEoKVxuICAgICAgbGV0IHRvcCA9IHRoaXMudG9wXG4gICAgICB0b3AuYXBwbHlQZW5kaW5nKG5vZGUudHlwZSlcbiAgICAgIGlmICh0b3AubWF0Y2gpIHRvcC5tYXRjaCA9IHRvcC5tYXRjaC5tYXRjaFR5cGUobm9kZS50eXBlKVxuICAgICAgbGV0IG1hcmtzID0gdG9wLmFjdGl2ZU1hcmtzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUubWFya3MubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghdG9wLnR5cGUgfHwgdG9wLnR5cGUuYWxsb3dzTWFya1R5cGUobm9kZS5tYXJrc1tpXS50eXBlKSlcbiAgICAgICAgICBtYXJrcyA9IG5vZGUubWFya3NbaV0uYWRkVG9TZXQobWFya3MpXG4gICAgICB0b3AuY29udGVudC5wdXNoKG5vZGUubWFyayhtYXJrcykpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIDogKE5vZGVUeXBlLCA/T2JqZWN0KSDihpIgYm9vbFxuICAvLyBUcnkgdG8gc3RhcnQgYSBub2RlIG9mIHRoZSBnaXZlbiB0eXBlLCBhZGp1c3RpbmcgdGhlIGNvbnRleHQgd2hlblxuICAvLyBuZWNlc3NhcnkuXG4gIGVudGVyKHR5cGUsIGF0dHJzLCBwcmVzZXJ2ZVdTKSB7XG4gICAgbGV0IG9rID0gdGhpcy5maW5kUGxhY2UodHlwZS5jcmVhdGUoYXR0cnMpKVxuICAgIGlmIChvaykgdGhpcy5lbnRlcklubmVyKHR5cGUsIGF0dHJzLCB0cnVlLCBwcmVzZXJ2ZVdTKVxuICAgIHJldHVybiBva1xuICB9XG5cbiAgLy8gT3BlbiBhIG5vZGUgb2YgdGhlIGdpdmVuIHR5cGVcbiAgZW50ZXJJbm5lcih0eXBlLCBhdHRycywgc29saWQsIHByZXNlcnZlV1MpIHtcbiAgICB0aGlzLmNsb3NlRXh0cmEoKVxuICAgIGxldCB0b3AgPSB0aGlzLnRvcFxuICAgIHRvcC5hcHBseVBlbmRpbmcodHlwZSlcbiAgICB0b3AubWF0Y2ggPSB0b3AubWF0Y2ggJiYgdG9wLm1hdGNoLm1hdGNoVHlwZSh0eXBlLCBhdHRycylcbiAgICBsZXQgb3B0aW9ucyA9IHByZXNlcnZlV1MgPT0gbnVsbCA/IHRvcC5vcHRpb25zICYgfk9QVF9PUEVOX0xFRlQgOiB3c09wdGlvbnNGb3IocHJlc2VydmVXUylcbiAgICBpZiAoKHRvcC5vcHRpb25zICYgT1BUX09QRU5fTEVGVCkgJiYgdG9wLmNvbnRlbnQubGVuZ3RoID09IDApIG9wdGlvbnMgfD0gT1BUX09QRU5fTEVGVFxuICAgIHRoaXMubm9kZXMucHVzaChuZXcgTm9kZUNvbnRleHQodHlwZSwgYXR0cnMsIHRvcC5hY3RpdmVNYXJrcywgdG9wLnBlbmRpbmdNYXJrcywgc29saWQsIG51bGwsIG9wdGlvbnMpKVxuICAgIHRoaXMub3BlbisrXG4gIH1cblxuICAvLyBNYWtlIHN1cmUgYWxsIG5vZGVzIGFib3ZlIHRoaXMub3BlbiBhcmUgZmluaXNoZWQgYW5kIGFkZGVkIHRvXG4gIC8vIHRoZWlyIHBhcmVudHNcbiAgY2xvc2VFeHRyYShvcGVuRW5kKSB7XG4gICAgbGV0IGkgPSB0aGlzLm5vZGVzLmxlbmd0aCAtIDFcbiAgICBpZiAoaSA+IHRoaXMub3Blbikge1xuICAgICAgZm9yICg7IGkgPiB0aGlzLm9wZW47IGktLSkgdGhpcy5ub2Rlc1tpIC0gMV0uY29udGVudC5wdXNoKHRoaXMubm9kZXNbaV0uZmluaXNoKG9wZW5FbmQpKVxuICAgICAgdGhpcy5ub2Rlcy5sZW5ndGggPSB0aGlzLm9wZW4gKyAxXG4gICAgfVxuICB9XG5cbiAgZmluaXNoKCkge1xuICAgIHRoaXMub3BlbiA9IDBcbiAgICB0aGlzLmNsb3NlRXh0cmEodGhpcy5pc09wZW4pXG4gICAgcmV0dXJuIHRoaXMubm9kZXNbMF0uZmluaXNoKHRoaXMuaXNPcGVuIHx8IHRoaXMub3B0aW9ucy50b3BPcGVuKVxuICB9XG5cbiAgc3luYyh0bykge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLm9wZW47IGkgPj0gMDsgaS0tKSBpZiAodGhpcy5ub2Rlc1tpXSA9PSB0bykge1xuICAgICAgdGhpcy5vcGVuID0gaVxuICAgICAgcmV0dXJuXG4gICAgfVxuICB9XG5cbiAgZ2V0IGN1cnJlbnRQb3MoKSB7XG4gICAgdGhpcy5jbG9zZUV4dHJhKClcbiAgICBsZXQgcG9zID0gMFxuICAgIGZvciAobGV0IGkgPSB0aGlzLm9wZW47IGkgPj0gMDsgaS0tKSB7XG4gICAgICBsZXQgY29udGVudCA9IHRoaXMubm9kZXNbaV0uY29udGVudFxuICAgICAgZm9yIChsZXQgaiA9IGNvbnRlbnQubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pXG4gICAgICAgIHBvcyArPSBjb250ZW50W2pdLm5vZGVTaXplXG4gICAgICBpZiAoaSkgcG9zKytcbiAgICB9XG4gICAgcmV0dXJuIHBvc1xuICB9XG5cbiAgZmluZEF0UG9pbnQocGFyZW50LCBvZmZzZXQpIHtcbiAgICBpZiAodGhpcy5maW5kKSBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmluZC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuZmluZFtpXS5ub2RlID09IHBhcmVudCAmJiB0aGlzLmZpbmRbaV0ub2Zmc2V0ID09IG9mZnNldClcbiAgICAgICAgdGhpcy5maW5kW2ldLnBvcyA9IHRoaXMuY3VycmVudFBvc1xuICAgIH1cbiAgfVxuXG4gIGZpbmRJbnNpZGUocGFyZW50KSB7XG4gICAgaWYgKHRoaXMuZmluZCkgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbmQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmZpbmRbaV0ucG9zID09IG51bGwgJiYgcGFyZW50Lm5vZGVUeXBlID09IDEgJiYgcGFyZW50LmNvbnRhaW5zKHRoaXMuZmluZFtpXS5ub2RlKSlcbiAgICAgICAgdGhpcy5maW5kW2ldLnBvcyA9IHRoaXMuY3VycmVudFBvc1xuICAgIH1cbiAgfVxuXG4gIGZpbmRBcm91bmQocGFyZW50LCBjb250ZW50LCBiZWZvcmUpIHtcbiAgICBpZiAocGFyZW50ICE9IGNvbnRlbnQgJiYgdGhpcy5maW5kKSBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmluZC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuZmluZFtpXS5wb3MgPT0gbnVsbCAmJiBwYXJlbnQubm9kZVR5cGUgPT0gMSAmJiBwYXJlbnQuY29udGFpbnModGhpcy5maW5kW2ldLm5vZGUpKSB7XG4gICAgICAgIGxldCBwb3MgPSBjb250ZW50LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHRoaXMuZmluZFtpXS5ub2RlKVxuICAgICAgICBpZiAocG9zICYgKGJlZm9yZSA/IDIgOiA0KSlcbiAgICAgICAgICB0aGlzLmZpbmRbaV0ucG9zID0gdGhpcy5jdXJyZW50UG9zXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmluZEluVGV4dCh0ZXh0Tm9kZSkge1xuICAgIGlmICh0aGlzLmZpbmQpIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maW5kLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5maW5kW2ldLm5vZGUgPT0gdGV4dE5vZGUpXG4gICAgICAgIHRoaXMuZmluZFtpXS5wb3MgPSB0aGlzLmN1cnJlbnRQb3MgLSAodGV4dE5vZGUubm9kZVZhbHVlLmxlbmd0aCAtIHRoaXMuZmluZFtpXS5vZmZzZXQpXG4gICAgfVxuICB9XG5cbiAgLy8gOiAoc3RyaW5nKSDihpIgYm9vbFxuICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIFtjb250ZXh0XG4gIC8vIHN0cmluZ10oI1BhcnNlUnVsZS5jb250ZXh0KSBtYXRjaGVzIHRoaXMgY29udGV4dC5cbiAgbWF0Y2hlc0NvbnRleHQoY29udGV4dCkge1xuICAgIGlmIChjb250ZXh0LmluZGV4T2YoXCJ8XCIpID4gLTEpXG4gICAgICByZXR1cm4gY29udGV4dC5zcGxpdCgvXFxzKlxcfFxccyovKS5zb21lKHRoaXMubWF0Y2hlc0NvbnRleHQsIHRoaXMpXG5cbiAgICBsZXQgcGFydHMgPSBjb250ZXh0LnNwbGl0KFwiL1wiKVxuICAgIGxldCBvcHRpb24gPSB0aGlzLm9wdGlvbnMuY29udGV4dFxuICAgIGxldCB1c2VSb290ID0gIXRoaXMuaXNPcGVuICYmICghb3B0aW9uIHx8IG9wdGlvbi5wYXJlbnQudHlwZSA9PSB0aGlzLm5vZGVzWzBdLnR5cGUpXG4gICAgbGV0IG1pbkRlcHRoID0gLShvcHRpb24gPyBvcHRpb24uZGVwdGggKyAxIDogMCkgKyAodXNlUm9vdCA/IDAgOiAxKVxuICAgIGxldCBtYXRjaCA9IChpLCBkZXB0aCkgPT4ge1xuICAgICAgZm9yICg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBwYXJ0ID0gcGFydHNbaV1cbiAgICAgICAgaWYgKHBhcnQgPT0gXCJcIikge1xuICAgICAgICAgIGlmIChpID09IHBhcnRzLmxlbmd0aCAtIDEgfHwgaSA9PSAwKSBjb250aW51ZVxuICAgICAgICAgIGZvciAoOyBkZXB0aCA+PSBtaW5EZXB0aDsgZGVwdGgtLSlcbiAgICAgICAgICAgIGlmIChtYXRjaChpIC0gMSwgZGVwdGgpKSByZXR1cm4gdHJ1ZVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBuZXh0ID0gZGVwdGggPiAwIHx8IChkZXB0aCA9PSAwICYmIHVzZVJvb3QpID8gdGhpcy5ub2Rlc1tkZXB0aF0udHlwZVxuICAgICAgICAgICAgICA6IG9wdGlvbiAmJiBkZXB0aCA+PSBtaW5EZXB0aCA/IG9wdGlvbi5ub2RlKGRlcHRoIC0gbWluRGVwdGgpLnR5cGVcbiAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgaWYgKCFuZXh0IHx8IChuZXh0Lm5hbWUgIT0gcGFydCAmJiBuZXh0Lmdyb3Vwcy5pbmRleE9mKHBhcnQpID09IC0xKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIGRlcHRoLS1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoKHBhcnRzLmxlbmd0aCAtIDEsIHRoaXMub3BlbilcbiAgfVxuXG4gIHRleHRibG9ja0Zyb21Db250ZXh0KCkge1xuICAgIGxldCAkY29udGV4dCA9IHRoaXMub3B0aW9ucy5jb250ZXh0XG4gICAgaWYgKCRjb250ZXh0KSBmb3IgKGxldCBkID0gJGNvbnRleHQuZGVwdGg7IGQgPj0gMDsgZC0tKSB7XG4gICAgICBsZXQgZGVmbHQgPSAkY29udGV4dC5ub2RlKGQpLmNvbnRlbnRNYXRjaEF0KCRjb250ZXh0LmluZGV4QWZ0ZXIoZCkpLmRlZmF1bHRUeXBlXG4gICAgICBpZiAoZGVmbHQgJiYgZGVmbHQuaXNUZXh0YmxvY2sgJiYgZGVmbHQuZGVmYXVsdEF0dHJzKSByZXR1cm4gZGVmbHRcbiAgICB9XG4gICAgZm9yIChsZXQgbmFtZSBpbiB0aGlzLnBhcnNlci5zY2hlbWEubm9kZXMpIHtcbiAgICAgIGxldCB0eXBlID0gdGhpcy5wYXJzZXIuc2NoZW1hLm5vZGVzW25hbWVdXG4gICAgICBpZiAodHlwZS5pc1RleHRibG9jayAmJiB0eXBlLmRlZmF1bHRBdHRycykgcmV0dXJuIHR5cGVcbiAgICB9XG4gIH1cblxuICBhZGRQZW5kaW5nTWFyayhtYXJrKSB7XG4gICAgdGhpcy50b3AucGVuZGluZ01hcmtzID0gbWFyay5hZGRUb1NldCh0aGlzLnRvcC5wZW5kaW5nTWFya3MpXG4gIH1cblxuICByZW1vdmVQZW5kaW5nTWFyayhtYXJrLCB1cHRvKSB7XG4gICAgZm9yIChsZXQgZGVwdGggPSB0aGlzLm9wZW47IGRlcHRoID49IDA7IGRlcHRoLS0pIHtcbiAgICAgIGxldCBsZXZlbCA9IHRoaXMubm9kZXNbZGVwdGhdXG4gICAgICBsZXQgZm91bmQgPSBsZXZlbC5wZW5kaW5nTWFya3MubGFzdEluZGV4T2YobWFyaylcbiAgICAgIGlmIChmb3VuZCA+IC0xKSBsZXZlbC5wZW5kaW5nTWFya3MgPSBtYXJrLnJlbW92ZUZyb21TZXQobGV2ZWwucGVuZGluZ01hcmtzKVxuICAgICAgZWxzZSBsZXZlbC5hY3RpdmVNYXJrcyA9IG1hcmsucmVtb3ZlRnJvbVNldChsZXZlbC5hY3RpdmVNYXJrcylcbiAgICAgIGlmIChsZXZlbCA9PSB1cHRvKSBicmVha1xuICAgIH1cbiAgfVxufVxuXG4vLyBLbHVkZ2UgdG8gd29yayBhcm91bmQgZGlyZWN0bHkgbmVzdGVkIGxpc3Qgbm9kZXMgcHJvZHVjZWQgYnkgc29tZVxuLy8gdG9vbHMgYW5kIGFsbG93ZWQgYnkgYnJvd3NlcnMgdG8gbWVhbiB0aGF0IHRoZSBuZXN0ZWQgbGlzdCBpc1xuLy8gYWN0dWFsbHkgcGFydCBvZiB0aGUgbGlzdCBpdGVtIGFib3ZlIGl0LlxuZnVuY3Rpb24gbm9ybWFsaXplTGlzdChkb20pIHtcbiAgZm9yIChsZXQgY2hpbGQgPSBkb20uZmlyc3RDaGlsZCwgcHJldkl0ZW0gPSBudWxsOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgIGxldCBuYW1lID0gY2hpbGQubm9kZVR5cGUgPT0gMSA/IGNoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgOiBudWxsXG4gICAgaWYgKG5hbWUgJiYgbGlzdFRhZ3MuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgcHJldkl0ZW0pIHtcbiAgICAgIHByZXZJdGVtLmFwcGVuZENoaWxkKGNoaWxkKVxuICAgICAgY2hpbGQgPSBwcmV2SXRlbVxuICAgIH0gZWxzZSBpZiAobmFtZSA9PSBcImxpXCIpIHtcbiAgICAgIHByZXZJdGVtID0gY2hpbGRcbiAgICB9IGVsc2UgaWYgKG5hbWUpIHtcbiAgICAgIHByZXZJdGVtID0gbnVsbFxuICAgIH1cbiAgfVxufVxuXG4vLyBBcHBseSBhIENTUyBzZWxlY3Rvci5cbmZ1bmN0aW9uIG1hdGNoZXMoZG9tLCBzZWxlY3Rvcikge1xuICByZXR1cm4gKGRvbS5tYXRjaGVzIHx8IGRvbS5tc01hdGNoZXNTZWxlY3RvciB8fCBkb20ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGRvbS5tb3pNYXRjaGVzU2VsZWN0b3IpLmNhbGwoZG9tLCBzZWxlY3Rvcilcbn1cblxuLy8gOiAoc3RyaW5nKSDihpIgW3N0cmluZ11cbi8vIFRva2VuaXplIGEgc3R5bGUgYXR0cmlidXRlIGludG8gcHJvcGVydHkvdmFsdWUgcGFpcnMuXG5mdW5jdGlvbiBwYXJzZVN0eWxlcyhzdHlsZSkge1xuICBsZXQgcmUgPSAvXFxzKihbXFx3LV0rKVxccyo6XFxzKihbXjtdKykvZywgbSwgcmVzdWx0ID0gW11cbiAgd2hpbGUgKG0gPSByZS5leGVjKHN0eWxlKSkgcmVzdWx0LnB1c2gobVsxXSwgbVsyXS50cmltKCkpXG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gY29weShvYmopIHtcbiAgbGV0IGNvcHkgPSB7fVxuICBmb3IgKGxldCBwcm9wIGluIG9iaikgY29weVtwcm9wXSA9IG9ialtwcm9wXVxuICByZXR1cm4gY29weVxufVxuXG4vLyBVc2VkIHdoZW4gZmluZGluZyBhIG1hcmsgYXQgdGhlIHRvcCBsZXZlbCBvZiBhIGZyYWdtZW50IHBhcnNlLlxuLy8gQ2hlY2tzIHdoZXRoZXIgaXQgd291bGQgYmUgcmVhc29uYWJsZSB0byBhcHBseSBhIGdpdmVuIG1hcmsgdHlwZSB0b1xuLy8gYSBnaXZlbiBub2RlLCBieSBsb29raW5nIGF0IHRoZSB3YXkgdGhlIG1hcmsgb2NjdXJzIGluIHRoZSBzY2hlbWEuXG5mdW5jdGlvbiBtYXJrTWF5QXBwbHkobWFya1R5cGUsIG5vZGVUeXBlKSB7XG4gIGxldCBub2RlcyA9IG5vZGVUeXBlLnNjaGVtYS5ub2Rlc1xuICBmb3IgKGxldCBuYW1lIGluIG5vZGVzKSB7XG4gICAgbGV0IHBhcmVudCA9IG5vZGVzW25hbWVdXG4gICAgaWYgKCFwYXJlbnQuYWxsb3dzTWFya1R5cGUobWFya1R5cGUpKSBjb250aW51ZVxuICAgIGxldCBzZWVuID0gW10sIHNjYW4gPSBtYXRjaCA9PiB7XG4gICAgICBzZWVuLnB1c2gobWF0Y2gpXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGNoLmVkZ2VDb3VudDsgaSsrKSB7XG4gICAgICAgIGxldCB7dHlwZSwgbmV4dH0gPSBtYXRjaC5lZGdlKGkpXG4gICAgICAgIGlmICh0eXBlID09IG5vZGVUeXBlKSByZXR1cm4gdHJ1ZVxuICAgICAgICBpZiAoc2Vlbi5pbmRleE9mKG5leHQpIDwgMCAmJiBzY2FuKG5leHQpKSByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2NhbihwYXJlbnQuY29udGVudE1hdGNoKSkgcmV0dXJuIHRydWVcbiAgfVxufVxuIiwiLy8gRE9NT3V0cHV0U3BlYzo6IGludGVyZmFjZVxuLy8gQSBkZXNjcmlwdGlvbiBvZiBhIERPTSBzdHJ1Y3R1cmUuIENhbiBiZSBlaXRoZXIgYSBzdHJpbmcsIHdoaWNoIGlzXG4vLyBpbnRlcnByZXRlZCBhcyBhIHRleHQgbm9kZSwgYSBET00gbm9kZSwgd2hpY2ggaXMgaW50ZXJwcmV0ZWQgYXNcbi8vIGl0c2VsZiwgb3IgYW4gYXJyYXkuXG4vL1xuLy8gQW4gYXJyYXkgZGVzY3JpYmVzIGEgRE9NIGVsZW1lbnQuIFRoZSBmaXJzdCB2YWx1ZSBpbiB0aGUgYXJyYXlcbi8vIHNob3VsZCBiZSBhIHN0cmluZ+KAlHRoZSBuYW1lIG9mIHRoZSBET00gZWxlbWVudCwgb3B0aW9uYWxseSBwcmVmaXhlZFxuLy8gYnkgYSBuYW1lc3BhY2UgVVJMIGFuZCBhIHNwYWNlLiBJZiB0aGUgc2Vjb25kIGVsZW1lbnQgaXMgcGxhaW5cbi8vIG9iamVjdCwgaXQgaXMgaW50ZXJwcmV0ZWQgYXMgYSBzZXQgb2YgYXR0cmlidXRlcyBmb3IgdGhlIGVsZW1lbnQuXG4vLyBBbnkgZWxlbWVudHMgYWZ0ZXIgdGhhdCAoaW5jbHVkaW5nIHRoZSAybmQgaWYgaXQncyBub3QgYW4gYXR0cmlidXRlXG4vLyBvYmplY3QpIGFyZSBpbnRlcnByZXRlZCBhcyBjaGlsZHJlbiBvZiB0aGUgRE9NIGVsZW1lbnRzLCBhbmQgbXVzdFxuLy8gZWl0aGVyIGJlIHZhbGlkIGBET01PdXRwdXRTcGVjYCB2YWx1ZXMsIG9yIHRoZSBudW1iZXIgemVyby5cbi8vXG4vLyBUaGUgbnVtYmVyIHplcm8gKHByb25vdW5jZWQg4oCcaG9sZeKAnSkgaXMgdXNlZCB0byBpbmRpY2F0ZSB0aGUgcGxhY2Vcbi8vIHdoZXJlIGEgbm9kZSdzIGNoaWxkIG5vZGVzIHNob3VsZCBiZSBpbnNlcnRlZC4gSWYgaXQgb2NjdXJzIGluIGFuXG4vLyBvdXRwdXQgc3BlYywgaXQgc2hvdWxkIGJlIHRoZSBvbmx5IGNoaWxkIGVsZW1lbnQgaW4gaXRzIHBhcmVudFxuLy8gbm9kZS5cblxuLy8gOjotIEEgRE9NIHNlcmlhbGl6ZXIga25vd3MgaG93IHRvIGNvbnZlcnQgUHJvc2VNaXJyb3Igbm9kZXMgYW5kXG4vLyBtYXJrcyBvZiB2YXJpb3VzIHR5cGVzIHRvIERPTSBub2Rlcy5cbmV4cG9ydCBjbGFzcyBET01TZXJpYWxpemVyIHtcbiAgLy8gOjogKE9iamVjdDwobm9kZTogTm9kZSkg4oaSIERPTU91dHB1dFNwZWM+LCBPYmplY3Q8PyhtYXJrOiBNYXJrLCBpbmxpbmU6IGJvb2wpIOKGkiBET01PdXRwdXRTcGVjPilcbiAgLy8gQ3JlYXRlIGEgc2VyaWFsaXplci4gYG5vZGVzYCBzaG91bGQgbWFwIG5vZGUgbmFtZXMgdG8gZnVuY3Rpb25zXG4gIC8vIHRoYXQgdGFrZSBhIG5vZGUgYW5kIHJldHVybiBhIGRlc2NyaXB0aW9uIG9mIHRoZSBjb3JyZXNwb25kaW5nXG4gIC8vIERPTS4gYG1hcmtzYCBkb2VzIHRoZSBzYW1lIGZvciBtYXJrIG5hbWVzLCBidXQgYWxzbyBnZXRzIGFuXG4gIC8vIGFyZ3VtZW50IHRoYXQgdGVsbHMgaXQgd2hldGhlciB0aGUgbWFyaydzIGNvbnRlbnQgaXMgYmxvY2sgb3JcbiAgLy8gaW5saW5lIGNvbnRlbnQgKGZvciB0eXBpY2FsIHVzZSwgaXQnbGwgYWx3YXlzIGJlIGlubGluZSkuIEEgbWFya1xuICAvLyBzZXJpYWxpemVyIG1heSBiZSBgbnVsbGAgdG8gaW5kaWNhdGUgdGhhdCBtYXJrcyBvZiB0aGF0IHR5cGVcbiAgLy8gc2hvdWxkIG5vdCBiZSBzZXJpYWxpemVkLlxuICBjb25zdHJ1Y3Rvcihub2RlcywgbWFya3MpIHtcbiAgICAvLyA6OiBPYmplY3Q8KG5vZGU6IE5vZGUpIOKGkiBET01PdXRwdXRTcGVjPlxuICAgIC8vIFRoZSBub2RlIHNlcmlhbGl6YXRpb24gZnVuY3Rpb25zLlxuICAgIHRoaXMubm9kZXMgPSBub2RlcyB8fCB7fVxuICAgIC8vIDo6IE9iamVjdDw/KG1hcms6IE1hcmssIGlubGluZTogYm9vbCkg4oaSIERPTU91dHB1dFNwZWM+XG4gICAgLy8gVGhlIG1hcmsgc2VyaWFsaXphdGlvbiBmdW5jdGlvbnMuXG4gICAgdGhpcy5tYXJrcyA9IG1hcmtzIHx8IHt9XG4gIH1cblxuICAvLyA6OiAoRnJhZ21lbnQsID9PYmplY3QpIOKGkiBkb20uRG9jdW1lbnRGcmFnbWVudFxuICAvLyBTZXJpYWxpemUgdGhlIGNvbnRlbnQgb2YgdGhpcyBmcmFnbWVudCB0byBhIERPTSBmcmFnbWVudC4gV2hlblxuICAvLyBub3QgaW4gdGhlIGJyb3dzZXIsIHRoZSBgZG9jdW1lbnRgIG9wdGlvbiwgY29udGFpbmluZyBhIERPTVxuICAvLyBkb2N1bWVudCwgc2hvdWxkIGJlIHBhc3NlZCBzbyB0aGF0IHRoZSBzZXJpYWxpemVyIGNhbiBjcmVhdGVcbiAgLy8gbm9kZXMuXG4gIHNlcmlhbGl6ZUZyYWdtZW50KGZyYWdtZW50LCBvcHRpb25zID0ge30sIHRhcmdldCkge1xuICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSBkb2Mob3B0aW9ucykuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXG5cbiAgICBsZXQgdG9wID0gdGFyZ2V0LCBhY3RpdmUgPSBudWxsXG4gICAgZnJhZ21lbnQuZm9yRWFjaChub2RlID0+IHtcbiAgICAgIGlmIChhY3RpdmUgfHwgbm9kZS5tYXJrcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFhY3RpdmUpIGFjdGl2ZSA9IFtdXG4gICAgICAgIGxldCBrZWVwID0gMCwgcmVuZGVyZWQgPSAwXG4gICAgICAgIHdoaWxlIChrZWVwIDwgYWN0aXZlLmxlbmd0aCAmJiByZW5kZXJlZCA8IG5vZGUubWFya3MubGVuZ3RoKSB7XG4gICAgICAgICAgbGV0IG5leHQgPSBub2RlLm1hcmtzW3JlbmRlcmVkXVxuICAgICAgICAgIGlmICghdGhpcy5tYXJrc1tuZXh0LnR5cGUubmFtZV0pIHsgcmVuZGVyZWQrKzsgY29udGludWUgfVxuICAgICAgICAgIGlmICghbmV4dC5lcShhY3RpdmVba2VlcF0pIHx8IG5leHQudHlwZS5zcGVjLnNwYW5uaW5nID09PSBmYWxzZSkgYnJlYWtcbiAgICAgICAgICBrZWVwICs9IDI7IHJlbmRlcmVkKytcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoa2VlcCA8IGFjdGl2ZS5sZW5ndGgpIHtcbiAgICAgICAgICB0b3AgPSBhY3RpdmUucG9wKClcbiAgICAgICAgICBhY3RpdmUucG9wKClcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAocmVuZGVyZWQgPCBub2RlLm1hcmtzLmxlbmd0aCkge1xuICAgICAgICAgIGxldCBhZGQgPSBub2RlLm1hcmtzW3JlbmRlcmVkKytdXG4gICAgICAgICAgbGV0IG1hcmtET00gPSB0aGlzLnNlcmlhbGl6ZU1hcmsoYWRkLCBub2RlLmlzSW5saW5lLCBvcHRpb25zKVxuICAgICAgICAgIGlmIChtYXJrRE9NKSB7XG4gICAgICAgICAgICBhY3RpdmUucHVzaChhZGQsIHRvcClcbiAgICAgICAgICAgIHRvcC5hcHBlbmRDaGlsZChtYXJrRE9NLmRvbSlcbiAgICAgICAgICAgIHRvcCA9IG1hcmtET00uY29udGVudERPTSB8fCBtYXJrRE9NLmRvbVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdG9wLmFwcGVuZENoaWxkKHRoaXMuc2VyaWFsaXplTm9kZShub2RlLCBvcHRpb25zKSlcbiAgICB9KVxuXG4gICAgcmV0dXJuIHRhcmdldFxuICB9XG5cbiAgLy8gOjogKE5vZGUsID9PYmplY3QpIOKGkiBkb20uTm9kZVxuICAvLyBTZXJpYWxpemUgdGhpcyBub2RlIHRvIGEgRE9NIG5vZGUuIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIHlvdVxuICAvLyBuZWVkIHRvIHNlcmlhbGl6ZSBhIHBhcnQgb2YgYSBkb2N1bWVudCwgYXMgb3Bwb3NlZCB0byB0aGUgd2hvbGVcbiAgLy8gZG9jdW1lbnQuIFRvIHNlcmlhbGl6ZSBhIHdob2xlIGRvY3VtZW50LCB1c2VcbiAgLy8gW2BzZXJpYWxpemVGcmFnbWVudGBdKCNtb2RlbC5ET01TZXJpYWxpemVyLnNlcmlhbGl6ZUZyYWdtZW50KSBvblxuICAvLyBpdHMgW2NvbnRlbnRdKCNtb2RlbC5Ob2RlLmNvbnRlbnQpLlxuICBzZXJpYWxpemVOb2RlKG5vZGUsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCB7ZG9tLCBjb250ZW50RE9NfSA9XG4gICAgICAgIERPTVNlcmlhbGl6ZXIucmVuZGVyU3BlYyhkb2Mob3B0aW9ucyksIHRoaXMubm9kZXNbbm9kZS50eXBlLm5hbWVdKG5vZGUpKVxuICAgIGlmIChjb250ZW50RE9NKSB7XG4gICAgICBpZiAobm9kZS5pc0xlYWYpXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQ29udGVudCBob2xlIG5vdCBhbGxvd2VkIGluIGEgbGVhZiBub2RlIHNwZWNcIilcbiAgICAgIGlmIChvcHRpb25zLm9uQ29udGVudClcbiAgICAgICAgb3B0aW9ucy5vbkNvbnRlbnQobm9kZSwgY29udGVudERPTSwgb3B0aW9ucylcbiAgICAgIGVsc2VcbiAgICAgICAgdGhpcy5zZXJpYWxpemVGcmFnbWVudChub2RlLmNvbnRlbnQsIG9wdGlvbnMsIGNvbnRlbnRET00pXG4gICAgfVxuICAgIHJldHVybiBkb21cbiAgfVxuXG4gIHNlcmlhbGl6ZU5vZGVBbmRNYXJrcyhub2RlLCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgZG9tID0gdGhpcy5zZXJpYWxpemVOb2RlKG5vZGUsIG9wdGlvbnMpXG4gICAgZm9yIChsZXQgaSA9IG5vZGUubWFya3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGxldCB3cmFwID0gdGhpcy5zZXJpYWxpemVNYXJrKG5vZGUubWFya3NbaV0sIG5vZGUuaXNJbmxpbmUsIG9wdGlvbnMpXG4gICAgICBpZiAod3JhcCkge1xuICAgICAgICA7KHdyYXAuY29udGVudERPTSB8fCB3cmFwLmRvbSkuYXBwZW5kQ2hpbGQoZG9tKVxuICAgICAgICBkb20gPSB3cmFwLmRvbVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZG9tXG4gIH1cblxuICBzZXJpYWxpemVNYXJrKG1hcmssIGlubGluZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IHRvRE9NID0gdGhpcy5tYXJrc1ttYXJrLnR5cGUubmFtZV1cbiAgICByZXR1cm4gdG9ET00gJiYgRE9NU2VyaWFsaXplci5yZW5kZXJTcGVjKGRvYyhvcHRpb25zKSwgdG9ET00obWFyaywgaW5saW5lKSlcbiAgfVxuXG4gIC8vIDo6IChkb20uRG9jdW1lbnQsIERPTU91dHB1dFNwZWMpIOKGkiB7ZG9tOiBkb20uTm9kZSwgY29udGVudERPTTogP2RvbS5Ob2RlfVxuICAvLyBSZW5kZXIgYW4gW291dHB1dCBzcGVjXSgjbW9kZWwuRE9NT3V0cHV0U3BlYykgdG8gYSBET00gbm9kZS4gSWZcbiAgLy8gdGhlIHNwZWMgaGFzIGEgaG9sZSAoemVybykgaW4gaXQsIGBjb250ZW50RE9NYCB3aWxsIHBvaW50IGF0IHRoZVxuICAvLyBub2RlIHdpdGggdGhlIGhvbGUuXG4gIHN0YXRpYyByZW5kZXJTcGVjKGRvYywgc3RydWN0dXJlLCB4bWxOUyA9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIHN0cnVjdHVyZSA9PSBcInN0cmluZ1wiKVxuICAgICAgcmV0dXJuIHtkb206IGRvYy5jcmVhdGVUZXh0Tm9kZShzdHJ1Y3R1cmUpfVxuICAgIGlmIChzdHJ1Y3R1cmUubm9kZVR5cGUgIT0gbnVsbClcbiAgICAgIHJldHVybiB7ZG9tOiBzdHJ1Y3R1cmV9XG4gICAgbGV0IHRhZ05hbWUgPSBzdHJ1Y3R1cmVbMF0sIHNwYWNlID0gdGFnTmFtZS5pbmRleE9mKFwiIFwiKVxuICAgIGlmIChzcGFjZSA+IDApIHtcbiAgICAgIHhtbE5TID0gdGFnTmFtZS5zbGljZSgwLCBzcGFjZSlcbiAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnNsaWNlKHNwYWNlICsgMSlcbiAgICB9XG4gICAgbGV0IGNvbnRlbnRET00gPSBudWxsLCBkb20gPSB4bWxOUyA/IGRvYy5jcmVhdGVFbGVtZW50TlMoeG1sTlMsIHRhZ05hbWUpIDogZG9jLmNyZWF0ZUVsZW1lbnQodGFnTmFtZSlcbiAgICBsZXQgYXR0cnMgPSBzdHJ1Y3R1cmVbMV0sIHN0YXJ0ID0gMVxuICAgIGlmIChhdHRycyAmJiB0eXBlb2YgYXR0cnMgPT0gXCJvYmplY3RcIiAmJiBhdHRycy5ub2RlVHlwZSA9PSBudWxsICYmICFBcnJheS5pc0FycmF5KGF0dHJzKSkge1xuICAgICAgc3RhcnQgPSAyXG4gICAgICBmb3IgKGxldCBuYW1lIGluIGF0dHJzKSBpZiAoYXR0cnNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICBsZXQgc3BhY2UgPSBuYW1lLmluZGV4T2YoXCIgXCIpXG4gICAgICAgIGlmIChzcGFjZSA+IDApIGRvbS5zZXRBdHRyaWJ1dGVOUyhuYW1lLnNsaWNlKDAsIHNwYWNlKSwgbmFtZS5zbGljZShzcGFjZSArIDEpLCBhdHRyc1tuYW1lXSlcbiAgICAgICAgZWxzZSBkb20uc2V0QXR0cmlidXRlKG5hbWUsIGF0dHJzW25hbWVdKVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBzdHJ1Y3R1cmUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IHN0cnVjdHVyZVtpXVxuICAgICAgaWYgKGNoaWxkID09PSAwKSB7XG4gICAgICAgIGlmIChpIDwgc3RydWN0dXJlLmxlbmd0aCAtIDEgfHwgaSA+IHN0YXJ0KVxuICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQ29udGVudCBob2xlIG11c3QgYmUgdGhlIG9ubHkgY2hpbGQgb2YgaXRzIHBhcmVudCBub2RlXCIpXG4gICAgICAgIHJldHVybiB7ZG9tLCBjb250ZW50RE9NOiBkb219XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQge2RvbTogaW5uZXIsIGNvbnRlbnRET006IGlubmVyQ29udGVudH0gPSBET01TZXJpYWxpemVyLnJlbmRlclNwZWMoZG9jLCBjaGlsZCwgeG1sTlMpXG4gICAgICAgIGRvbS5hcHBlbmRDaGlsZChpbm5lcilcbiAgICAgICAgaWYgKGlubmVyQ29udGVudCkge1xuICAgICAgICAgIGlmIChjb250ZW50RE9NKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk11bHRpcGxlIGNvbnRlbnQgaG9sZXNcIilcbiAgICAgICAgICBjb250ZW50RE9NID0gaW5uZXJDb250ZW50XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtkb20sIGNvbnRlbnRET019XG4gIH1cblxuICAvLyA6OiAoU2NoZW1hKSDihpIgRE9NU2VyaWFsaXplclxuICAvLyBCdWlsZCBhIHNlcmlhbGl6ZXIgdXNpbmcgdGhlIFtgdG9ET01gXSgjbW9kZWwuTm9kZVNwZWMudG9ET00pXG4gIC8vIHByb3BlcnRpZXMgaW4gYSBzY2hlbWEncyBub2RlIGFuZCBtYXJrIHNwZWNzLlxuICBzdGF0aWMgZnJvbVNjaGVtYShzY2hlbWEpIHtcbiAgICByZXR1cm4gc2NoZW1hLmNhY2hlZC5kb21TZXJpYWxpemVyIHx8XG4gICAgICAoc2NoZW1hLmNhY2hlZC5kb21TZXJpYWxpemVyID0gbmV3IERPTVNlcmlhbGl6ZXIodGhpcy5ub2Rlc0Zyb21TY2hlbWEoc2NoZW1hKSwgdGhpcy5tYXJrc0Zyb21TY2hlbWEoc2NoZW1hKSkpXG4gIH1cblxuICAvLyA6IChTY2hlbWEpIOKGkiBPYmplY3Q8KG5vZGU6IE5vZGUpIOKGkiBET01PdXRwdXRTcGVjPlxuICAvLyBHYXRoZXIgdGhlIHNlcmlhbGl6ZXJzIGluIGEgc2NoZW1hJ3Mgbm9kZSBzcGVjcyBpbnRvIGFuIG9iamVjdC5cbiAgLy8gVGhpcyBjYW4gYmUgdXNlZnVsIGFzIGEgYmFzZSB0byBidWlsZCBhIGN1c3RvbSBzZXJpYWxpemVyIGZyb20uXG4gIHN0YXRpYyBub2Rlc0Zyb21TY2hlbWEoc2NoZW1hKSB7XG4gICAgbGV0IHJlc3VsdCA9IGdhdGhlclRvRE9NKHNjaGVtYS5ub2RlcylcbiAgICBpZiAoIXJlc3VsdC50ZXh0KSByZXN1bHQudGV4dCA9IG5vZGUgPT4gbm9kZS50ZXh0XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLy8gOiAoU2NoZW1hKSDihpIgT2JqZWN0PChtYXJrOiBNYXJrKSDihpIgRE9NT3V0cHV0U3BlYz5cbiAgLy8gR2F0aGVyIHRoZSBzZXJpYWxpemVycyBpbiBhIHNjaGVtYSdzIG1hcmsgc3BlY3MgaW50byBhbiBvYmplY3QuXG4gIHN0YXRpYyBtYXJrc0Zyb21TY2hlbWEoc2NoZW1hKSB7XG4gICAgcmV0dXJuIGdhdGhlclRvRE9NKHNjaGVtYS5tYXJrcylcbiAgfVxufVxuXG5mdW5jdGlvbiBnYXRoZXJUb0RPTShvYmopIHtcbiAgbGV0IHJlc3VsdCA9IHt9XG4gIGZvciAobGV0IG5hbWUgaW4gb2JqKSB7XG4gICAgbGV0IHRvRE9NID0gb2JqW25hbWVdLnNwZWMudG9ET01cbiAgICBpZiAodG9ET00pIHJlc3VsdFtuYW1lXSA9IHRvRE9NXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBkb2Mob3B0aW9ucykge1xuICAvLyBkZWNsYXJlIGdsb2JhbDogd2luZG93XG4gIHJldHVybiBvcHRpb25zLmRvY3VtZW50IHx8IHdpbmRvdy5kb2N1bWVudFxufVxuIiwiLy8gTWFwcGFibGU6OiBpbnRlcmZhY2Vcbi8vIFRoZXJlIGFyZSBzZXZlcmFsIHRoaW5ncyB0aGF0IHBvc2l0aW9ucyBjYW4gYmUgbWFwcGVkIHRocm91Z2guXG4vLyBTdWNoIG9iamVjdHMgY29uZm9ybSB0byB0aGlzIGludGVyZmFjZS5cbi8vXG4vLyAgIG1hcDo6IChwb3M6IG51bWJlciwgYXNzb2M6ID9udW1iZXIpIOKGkiBudW1iZXJcbi8vICAgTWFwIGEgcG9zaXRpb24gdGhyb3VnaCB0aGlzIG9iamVjdC4gV2hlbiBnaXZlbiwgYGFzc29jYCAoc2hvdWxkXG4vLyAgIGJlIC0xIG9yIDEsIGRlZmF1bHRzIHRvIDEpIGRldGVybWluZXMgd2l0aCB3aGljaCBzaWRlIHRoZVxuLy8gICBwb3NpdGlvbiBpcyBhc3NvY2lhdGVkLCB3aGljaCBkZXRlcm1pbmVzIGluIHdoaWNoIGRpcmVjdGlvbiB0b1xuLy8gICBtb3ZlIHdoZW4gYSBjaHVuayBvZiBjb250ZW50IGlzIGluc2VydGVkIGF0IHRoZSBtYXBwZWQgcG9zaXRpb24uXG4vL1xuLy8gICBtYXBSZXN1bHQ6OiAocG9zOiBudW1iZXIsIGFzc29jOiA/bnVtYmVyKSDihpIgTWFwUmVzdWx0XG4vLyAgIE1hcCBhIHBvc2l0aW9uLCBhbmQgcmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIGFkZGl0aW9uYWxcbi8vICAgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG1hcHBpbmcuIFRoZSByZXN1bHQncyBgZGVsZXRlZGAgZmllbGQgdGVsbHNcbi8vICAgeW91IHdoZXRoZXIgdGhlIHBvc2l0aW9uIHdhcyBkZWxldGVkIChjb21wbGV0ZWx5IGVuY2xvc2VkIGluIGFcbi8vICAgcmVwbGFjZWQgcmFuZ2UpIGR1cmluZyB0aGUgbWFwcGluZy4gV2hlbiBjb250ZW50IG9uIG9ubHkgb25lIHNpZGVcbi8vICAgaXMgZGVsZXRlZCwgdGhlIHBvc2l0aW9uIGl0c2VsZiBpcyBvbmx5IGNvbnNpZGVyZWQgZGVsZXRlZCB3aGVuXG4vLyAgIGBhc3NvY2AgcG9pbnRzIGluIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGRlbGV0ZWQgY29udGVudC5cblxuLy8gUmVjb3ZlcnkgdmFsdWVzIGVuY29kZSBhIHJhbmdlIGluZGV4IGFuZCBhbiBvZmZzZXQuIFRoZXkgYXJlXG4vLyByZXByZXNlbnRlZCBhcyBudW1iZXJzLCBiZWNhdXNlIHRvbnMgb2YgdGhlbSB3aWxsIGJlIGNyZWF0ZWQgd2hlblxuLy8gbWFwcGluZywgZm9yIGV4YW1wbGUsIGEgbGFyZ2UgbnVtYmVyIG9mIGRlY29yYXRpb25zLiBUaGUgbnVtYmVyJ3Ncbi8vIGxvd2VyIDE2IGJpdHMgcHJvdmlkZSB0aGUgaW5kZXgsIHRoZSByZW1haW5pbmcgYml0cyB0aGUgb2Zmc2V0LlxuLy9cbi8vIE5vdGU6IFdlIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGJpdCBzaGlmdCBvcGVyYXRvcnMgdG8gZW4tIGFuZFxuLy8gZGVjb2RlIHRoZXNlLCBzaW5jZSB0aG9zZSBjbGlwIHRvIDMyIGJpdHMsIHdoaWNoIHdlIG1pZ2h0IGluIHJhcmVcbi8vIGNhc2VzIHdhbnQgdG8gb3ZlcmZsb3cuIEEgNjQtYml0IGZsb2F0IGNhbiByZXByZXNlbnQgNDgtYml0XG4vLyBpbnRlZ2VycyBwcmVjaXNlbHkuXG5cbmNvbnN0IGxvd2VyMTYgPSAweGZmZmZcbmNvbnN0IGZhY3RvcjE2ID0gTWF0aC5wb3coMiwgMTYpXG5cbmZ1bmN0aW9uIG1ha2VSZWNvdmVyKGluZGV4LCBvZmZzZXQpIHsgcmV0dXJuIGluZGV4ICsgb2Zmc2V0ICogZmFjdG9yMTYgfVxuZnVuY3Rpb24gcmVjb3ZlckluZGV4KHZhbHVlKSB7IHJldHVybiB2YWx1ZSAmIGxvd2VyMTYgfVxuZnVuY3Rpb24gcmVjb3Zlck9mZnNldCh2YWx1ZSkgeyByZXR1cm4gKHZhbHVlIC0gKHZhbHVlICYgbG93ZXIxNikpIC8gZmFjdG9yMTYgfVxuXG4vLyA6Oi0gQW4gb2JqZWN0IHJlcHJlc2VudGluZyBhIG1hcHBlZCBwb3NpdGlvbiB3aXRoIGV4dHJhXG4vLyBpbmZvcm1hdGlvbi5cbmV4cG9ydCBjbGFzcyBNYXBSZXN1bHQge1xuICBjb25zdHJ1Y3Rvcihwb3MsIGRlbGV0ZWQgPSBmYWxzZSwgcmVjb3ZlciA9IG51bGwpIHtcbiAgICAvLyA6OiBudW1iZXIgVGhlIG1hcHBlZCB2ZXJzaW9uIG9mIHRoZSBwb3NpdGlvbi5cbiAgICB0aGlzLnBvcyA9IHBvc1xuICAgIC8vIDo6IGJvb2wgVGVsbHMgeW91IHdoZXRoZXIgdGhlIHBvc2l0aW9uIHdhcyBkZWxldGVkLCB0aGF0IGlzLFxuICAgIC8vIHdoZXRoZXIgdGhlIHN0ZXAgcmVtb3ZlZCBpdHMgc3Vycm91bmRpbmdzIGZyb20gdGhlIGRvY3VtZW50LlxuICAgIHRoaXMuZGVsZXRlZCA9IGRlbGV0ZWRcbiAgICB0aGlzLnJlY292ZXIgPSByZWNvdmVyXG4gIH1cbn1cblxuLy8gOjogY2xhc3MgZXh0ZW5kcyBNYXBwYWJsZVxuLy8gQSBtYXAgZGVzY3JpYmluZyB0aGUgZGVsZXRpb25zIGFuZCBpbnNlcnRpb25zIG1hZGUgYnkgYSBzdGVwLCB3aGljaFxuLy8gY2FuIGJlIHVzZWQgdG8gZmluZCB0aGUgY29ycmVzcG9uZGVuY2UgYmV0d2VlbiBwb3NpdGlvbnMgaW4gdGhlXG4vLyBwcmUtc3RlcCB2ZXJzaW9uIG9mIGEgZG9jdW1lbnQgYW5kIHRoZSBzYW1lIHBvc2l0aW9uIGluIHRoZVxuLy8gcG9zdC1zdGVwIHZlcnNpb24uXG5leHBvcnQgY2xhc3MgU3RlcE1hcCB7XG4gIC8vIDo6IChbbnVtYmVyXSlcbiAgLy8gQ3JlYXRlIGEgcG9zaXRpb24gbWFwLiBUaGUgbW9kaWZpY2F0aW9ucyB0byB0aGUgZG9jdW1lbnQgYXJlXG4gIC8vIHJlcHJlc2VudGVkIGFzIGFuIGFycmF5IG9mIG51bWJlcnMsIGluIHdoaWNoIGVhY2ggZ3JvdXAgb2YgdGhyZWVcbiAgLy8gcmVwcmVzZW50cyBhIG1vZGlmaWVkIGNodW5rIGFzIGBbc3RhcnQsIG9sZFNpemUsIG5ld1NpemVdYC5cbiAgY29uc3RydWN0b3IocmFuZ2VzLCBpbnZlcnRlZCA9IGZhbHNlKSB7XG4gICAgdGhpcy5yYW5nZXMgPSByYW5nZXNcbiAgICB0aGlzLmludmVydGVkID0gaW52ZXJ0ZWRcbiAgfVxuXG4gIHJlY292ZXIodmFsdWUpIHtcbiAgICBsZXQgZGlmZiA9IDAsIGluZGV4ID0gcmVjb3ZlckluZGV4KHZhbHVlKVxuICAgIGlmICghdGhpcy5pbnZlcnRlZCkgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleDsgaSsrKVxuICAgICAgZGlmZiArPSB0aGlzLnJhbmdlc1tpICogMyArIDJdIC0gdGhpcy5yYW5nZXNbaSAqIDMgKyAxXVxuICAgIHJldHVybiB0aGlzLnJhbmdlc1tpbmRleCAqIDNdICsgZGlmZiArIHJlY292ZXJPZmZzZXQodmFsdWUpXG4gIH1cblxuICAvLyA6IChudW1iZXIsID9udW1iZXIpIOKGkiBNYXBSZXN1bHRcbiAgbWFwUmVzdWx0KHBvcywgYXNzb2MgPSAxKSB7IHJldHVybiB0aGlzLl9tYXAocG9zLCBhc3NvYywgZmFsc2UpIH1cblxuICAvLyA6IChudW1iZXIsID9udW1iZXIpIOKGkiBudW1iZXJcbiAgbWFwKHBvcywgYXNzb2MgPSAxKSB7IHJldHVybiB0aGlzLl9tYXAocG9zLCBhc3NvYywgdHJ1ZSkgfVxuXG4gIF9tYXAocG9zLCBhc3NvYywgc2ltcGxlKSB7XG4gICAgbGV0IGRpZmYgPSAwLCBvbGRJbmRleCA9IHRoaXMuaW52ZXJ0ZWQgPyAyIDogMSwgbmV3SW5kZXggPSB0aGlzLmludmVydGVkID8gMSA6IDJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICBsZXQgc3RhcnQgPSB0aGlzLnJhbmdlc1tpXSAtICh0aGlzLmludmVydGVkID8gZGlmZiA6IDApXG4gICAgICBpZiAoc3RhcnQgPiBwb3MpIGJyZWFrXG4gICAgICBsZXQgb2xkU2l6ZSA9IHRoaXMucmFuZ2VzW2kgKyBvbGRJbmRleF0sIG5ld1NpemUgPSB0aGlzLnJhbmdlc1tpICsgbmV3SW5kZXhdLCBlbmQgPSBzdGFydCArIG9sZFNpemVcbiAgICAgIGlmIChwb3MgPD0gZW5kKSB7XG4gICAgICAgIGxldCBzaWRlID0gIW9sZFNpemUgPyBhc3NvYyA6IHBvcyA9PSBzdGFydCA/IC0xIDogcG9zID09IGVuZCA/IDEgOiBhc3NvY1xuICAgICAgICBsZXQgcmVzdWx0ID0gc3RhcnQgKyBkaWZmICsgKHNpZGUgPCAwID8gMCA6IG5ld1NpemUpXG4gICAgICAgIGlmIChzaW1wbGUpIHJldHVybiByZXN1bHRcbiAgICAgICAgbGV0IHJlY292ZXIgPSBtYWtlUmVjb3ZlcihpIC8gMywgcG9zIC0gc3RhcnQpXG4gICAgICAgIHJldHVybiBuZXcgTWFwUmVzdWx0KHJlc3VsdCwgYXNzb2MgPCAwID8gcG9zICE9IHN0YXJ0IDogcG9zICE9IGVuZCwgcmVjb3ZlcilcbiAgICAgIH1cbiAgICAgIGRpZmYgKz0gbmV3U2l6ZSAtIG9sZFNpemVcbiAgICB9XG4gICAgcmV0dXJuIHNpbXBsZSA/IHBvcyArIGRpZmYgOiBuZXcgTWFwUmVzdWx0KHBvcyArIGRpZmYpXG4gIH1cblxuICB0b3VjaGVzKHBvcywgcmVjb3Zlcikge1xuICAgIGxldCBkaWZmID0gMCwgaW5kZXggPSByZWNvdmVySW5kZXgocmVjb3ZlcilcbiAgICBsZXQgb2xkSW5kZXggPSB0aGlzLmludmVydGVkID8gMiA6IDEsIG5ld0luZGV4ID0gdGhpcy5pbnZlcnRlZCA/IDEgOiAyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5yYW5nZXNbaV0gLSAodGhpcy5pbnZlcnRlZCA/IGRpZmYgOiAwKVxuICAgICAgaWYgKHN0YXJ0ID4gcG9zKSBicmVha1xuICAgICAgbGV0IG9sZFNpemUgPSB0aGlzLnJhbmdlc1tpICsgb2xkSW5kZXhdLCBlbmQgPSBzdGFydCArIG9sZFNpemVcbiAgICAgIGlmIChwb3MgPD0gZW5kICYmIGkgPT0gaW5kZXggKiAzKSByZXR1cm4gdHJ1ZVxuICAgICAgZGlmZiArPSB0aGlzLnJhbmdlc1tpICsgbmV3SW5kZXhdIC0gb2xkU2l6ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIDo6ICgob2xkU3RhcnQ6IG51bWJlciwgb2xkRW5kOiBudW1iZXIsIG5ld1N0YXJ0OiBudW1iZXIsIG5ld0VuZDogbnVtYmVyKSlcbiAgLy8gQ2FsbHMgdGhlIGdpdmVuIGZ1bmN0aW9uIG9uIGVhY2ggb2YgdGhlIGNoYW5nZWQgcmFuZ2VzIGluY2x1ZGVkIGluXG4gIC8vIHRoaXMgbWFwLlxuICBmb3JFYWNoKGYpIHtcbiAgICBsZXQgb2xkSW5kZXggPSB0aGlzLmludmVydGVkID8gMiA6IDEsIG5ld0luZGV4ID0gdGhpcy5pbnZlcnRlZCA/IDEgOiAyXG4gICAgZm9yIChsZXQgaSA9IDAsIGRpZmYgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgIGxldCBzdGFydCA9IHRoaXMucmFuZ2VzW2ldLCBvbGRTdGFydCA9IHN0YXJ0IC0gKHRoaXMuaW52ZXJ0ZWQgPyBkaWZmIDogMCksIG5ld1N0YXJ0ID0gc3RhcnQgKyAodGhpcy5pbnZlcnRlZCA/IDAgOiBkaWZmKVxuICAgICAgbGV0IG9sZFNpemUgPSB0aGlzLnJhbmdlc1tpICsgb2xkSW5kZXhdLCBuZXdTaXplID0gdGhpcy5yYW5nZXNbaSArIG5ld0luZGV4XVxuICAgICAgZihvbGRTdGFydCwgb2xkU3RhcnQgKyBvbGRTaXplLCBuZXdTdGFydCwgbmV3U3RhcnQgKyBuZXdTaXplKVxuICAgICAgZGlmZiArPSBuZXdTaXplIC0gb2xkU2l6ZVxuICAgIH1cbiAgfVxuXG4gIC8vIDo6ICgpIOKGkiBTdGVwTWFwXG4gIC8vIENyZWF0ZSBhbiBpbnZlcnRlZCB2ZXJzaW9uIG9mIHRoaXMgbWFwLiBUaGUgcmVzdWx0IGNhbiBiZSB1c2VkIHRvXG4gIC8vIG1hcCBwb3NpdGlvbnMgaW4gdGhlIHBvc3Qtc3RlcCBkb2N1bWVudCB0byB0aGUgcHJlLXN0ZXAgZG9jdW1lbnQuXG4gIGludmVydCgpIHtcbiAgICByZXR1cm4gbmV3IFN0ZXBNYXAodGhpcy5yYW5nZXMsICF0aGlzLmludmVydGVkKVxuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICh0aGlzLmludmVydGVkID8gXCItXCIgOiBcIlwiKSArIEpTT04uc3RyaW5naWZ5KHRoaXMucmFuZ2VzKVxuICB9XG5cbiAgLy8gOjogKG46IG51bWJlcikg4oaSIFN0ZXBNYXBcbiAgLy8gQ3JlYXRlIGEgbWFwIHRoYXQgbW92ZXMgYWxsIHBvc2l0aW9ucyBieSBvZmZzZXQgYG5gICh3aGljaCBtYXkgYmVcbiAgLy8gbmVnYXRpdmUpLiBUaGlzIGNhbiBiZSB1c2VmdWwgd2hlbiBhcHBseWluZyBzdGVwcyBtZWFudCBmb3IgYVxuICAvLyBzdWItZG9jdW1lbnQgdG8gYSBsYXJnZXIgZG9jdW1lbnQsIG9yIHZpY2UtdmVyc2EuXG4gIHN0YXRpYyBvZmZzZXQobikge1xuICAgIHJldHVybiBuID09IDAgPyBTdGVwTWFwLmVtcHR5IDogbmV3IFN0ZXBNYXAobiA8IDAgPyBbMCwgLW4sIDBdIDogWzAsIDAsIG5dKVxuICB9XG59XG5cblN0ZXBNYXAuZW1wdHkgPSBuZXcgU3RlcE1hcChbXSlcblxuLy8gOjogY2xhc3MgZXh0ZW5kcyBNYXBwYWJsZVxuLy8gQSBtYXBwaW5nIHJlcHJlc2VudHMgYSBwaXBlbGluZSBvZiB6ZXJvIG9yIG1vcmUgW3N0ZXBcbi8vIG1hcHNdKCN0cmFuc2Zvcm0uU3RlcE1hcCkuIEl0IGhhcyBzcGVjaWFsIHByb3Zpc2lvbnMgZm9yIGxvc3NsZXNzbHlcbi8vIGhhbmRsaW5nIG1hcHBpbmcgcG9zaXRpb25zIHRocm91Z2ggYSBzZXJpZXMgb2Ygc3RlcHMgaW4gd2hpY2ggc29tZVxuLy8gc3RlcHMgYXJlIGludmVydGVkIHZlcnNpb25zIG9mIGVhcmxpZXIgc3RlcHMuIChUaGlzIGNvbWVzIHVwIHdoZW5cbi8vIOKAmFtyZWJhc2luZ10oL2RvY3MvZ3VpZGUvI3RyYW5zZm9ybS5yZWJhc2luZynigJkgc3RlcHMgZm9yXG4vLyBjb2xsYWJvcmF0aW9uIG9yIGhpc3RvcnkgbWFuYWdlbWVudC4pXG5leHBvcnQgY2xhc3MgTWFwcGluZyB7XG4gIC8vIDo6ICg/W1N0ZXBNYXBdKVxuICAvLyBDcmVhdGUgYSBuZXcgbWFwcGluZyB3aXRoIHRoZSBnaXZlbiBwb3NpdGlvbiBtYXBzLlxuICBjb25zdHJ1Y3RvcihtYXBzLCBtaXJyb3IsIGZyb20sIHRvKSB7XG4gICAgLy8gOjogW1N0ZXBNYXBdXG4gICAgLy8gVGhlIHN0ZXAgbWFwcyBpbiB0aGlzIG1hcHBpbmcuXG4gICAgdGhpcy5tYXBzID0gbWFwcyB8fCBbXVxuICAgIC8vIDo6IG51bWJlclxuICAgIC8vIFRoZSBzdGFydGluZyBwb3NpdGlvbiBpbiB0aGUgYG1hcHNgIGFycmF5LCB1c2VkIHdoZW4gYG1hcGAgb3JcbiAgICAvLyBgbWFwUmVzdWx0YCBpcyBjYWxsZWQuXG4gICAgdGhpcy5mcm9tID0gZnJvbSB8fCAwXG4gICAgLy8gOjogbnVtYmVyXG4gICAgLy8gVGhlIGVuZCBwb3NpdGlvbiBpbiB0aGUgYG1hcHNgIGFycmF5LlxuICAgIHRoaXMudG8gPSB0byA9PSBudWxsID8gdGhpcy5tYXBzLmxlbmd0aCA6IHRvXG4gICAgdGhpcy5taXJyb3IgPSBtaXJyb3JcbiAgfVxuXG4gIC8vIDo6ICg/bnVtYmVyLCA/bnVtYmVyKSDihpIgTWFwcGluZ1xuICAvLyBDcmVhdGUgYSBtYXBwaW5nIHRoYXQgbWFwcyBvbmx5IHRocm91Z2ggYSBwYXJ0IG9mIHRoaXMgb25lLlxuICBzbGljZShmcm9tID0gMCwgdG8gPSB0aGlzLm1hcHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG5ldyBNYXBwaW5nKHRoaXMubWFwcywgdGhpcy5taXJyb3IsIGZyb20sIHRvKVxuICB9XG5cbiAgY29weSgpIHtcbiAgICByZXR1cm4gbmV3IE1hcHBpbmcodGhpcy5tYXBzLnNsaWNlKCksIHRoaXMubWlycm9yICYmIHRoaXMubWlycm9yLnNsaWNlKCksIHRoaXMuZnJvbSwgdGhpcy50bylcbiAgfVxuXG4gIC8vIDo6IChTdGVwTWFwLCA/bnVtYmVyKVxuICAvLyBBZGQgYSBzdGVwIG1hcCB0byB0aGUgZW5kIG9mIHRoaXMgbWFwcGluZy4gSWYgYG1pcnJvcnNgIGlzXG4gIC8vIGdpdmVuLCBpdCBzaG91bGQgYmUgdGhlIGluZGV4IG9mIHRoZSBzdGVwIG1hcCB0aGF0IGlzIHRoZSBtaXJyb3JcbiAgLy8gaW1hZ2Ugb2YgdGhpcyBvbmUuXG4gIGFwcGVuZE1hcChtYXAsIG1pcnJvcnMpIHtcbiAgICB0aGlzLnRvID0gdGhpcy5tYXBzLnB1c2gobWFwKVxuICAgIGlmIChtaXJyb3JzICE9IG51bGwpIHRoaXMuc2V0TWlycm9yKHRoaXMubWFwcy5sZW5ndGggLSAxLCBtaXJyb3JzKVxuICB9XG5cbiAgLy8gOjogKE1hcHBpbmcpXG4gIC8vIEFkZCBhbGwgdGhlIHN0ZXAgbWFwcyBpbiBhIGdpdmVuIG1hcHBpbmcgdG8gdGhpcyBvbmUgKHByZXNlcnZpbmdcbiAgLy8gbWlycm9yaW5nIGluZm9ybWF0aW9uKS5cbiAgYXBwZW5kTWFwcGluZyhtYXBwaW5nKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIHN0YXJ0U2l6ZSA9IHRoaXMubWFwcy5sZW5ndGg7IGkgPCBtYXBwaW5nLm1hcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBtaXJyID0gbWFwcGluZy5nZXRNaXJyb3IoaSlcbiAgICAgIHRoaXMuYXBwZW5kTWFwKG1hcHBpbmcubWFwc1tpXSwgbWlyciAhPSBudWxsICYmIG1pcnIgPCBpID8gc3RhcnRTaXplICsgbWlyciA6IG51bGwpXG4gICAgfVxuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSID9udW1iZXJcbiAgLy8gRmluZHMgdGhlIG9mZnNldCBvZiB0aGUgc3RlcCBtYXAgdGhhdCBtaXJyb3JzIHRoZSBtYXAgYXQgdGhlXG4gIC8vIGdpdmVuIG9mZnNldCwgaW4gdGhpcyBtYXBwaW5nIChhcyBwZXIgdGhlIHNlY29uZCBhcmd1bWVudCB0b1xuICAvLyBgYXBwZW5kTWFwYCkuXG4gIGdldE1pcnJvcihuKSB7XG4gICAgaWYgKHRoaXMubWlycm9yKSBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWlycm9yLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKHRoaXMubWlycm9yW2ldID09IG4pIHJldHVybiB0aGlzLm1pcnJvcltpICsgKGkgJSAyID8gLTEgOiAxKV1cbiAgfVxuXG4gIHNldE1pcnJvcihuLCBtKSB7XG4gICAgaWYgKCF0aGlzLm1pcnJvcikgdGhpcy5taXJyb3IgPSBbXVxuICAgIHRoaXMubWlycm9yLnB1c2gobiwgbSlcbiAgfVxuXG4gIC8vIDo6IChNYXBwaW5nKVxuICAvLyBBcHBlbmQgdGhlIGludmVyc2Ugb2YgdGhlIGdpdmVuIG1hcHBpbmcgdG8gdGhpcyBvbmUuXG4gIGFwcGVuZE1hcHBpbmdJbnZlcnRlZChtYXBwaW5nKSB7XG4gICAgZm9yIChsZXQgaSA9IG1hcHBpbmcubWFwcy5sZW5ndGggLSAxLCB0b3RhbFNpemUgPSB0aGlzLm1hcHMubGVuZ3RoICsgbWFwcGluZy5tYXBzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGxldCBtaXJyID0gbWFwcGluZy5nZXRNaXJyb3IoaSlcbiAgICAgIHRoaXMuYXBwZW5kTWFwKG1hcHBpbmcubWFwc1tpXS5pbnZlcnQoKSwgbWlyciAhPSBudWxsICYmIG1pcnIgPiBpID8gdG90YWxTaXplIC0gbWlyciAtIDEgOiBudWxsKVxuICAgIH1cbiAgfVxuXG4gIC8vIDo6ICgpIOKGkiBNYXBwaW5nXG4gIC8vIENyZWF0ZSBhbiBpbnZlcnRlZCB2ZXJzaW9uIG9mIHRoaXMgbWFwcGluZy5cbiAgaW52ZXJ0KCkge1xuICAgIGxldCBpbnZlcnNlID0gbmV3IE1hcHBpbmdcbiAgICBpbnZlcnNlLmFwcGVuZE1hcHBpbmdJbnZlcnRlZCh0aGlzKVxuICAgIHJldHVybiBpbnZlcnNlXG4gIH1cblxuICAvLyA6IChudW1iZXIsID9udW1iZXIpIOKGkiBudW1iZXJcbiAgLy8gTWFwIGEgcG9zaXRpb24gdGhyb3VnaCB0aGlzIG1hcHBpbmcuXG4gIG1hcChwb3MsIGFzc29jID0gMSkge1xuICAgIGlmICh0aGlzLm1pcnJvcikgcmV0dXJuIHRoaXMuX21hcChwb3MsIGFzc29jLCB0cnVlKVxuICAgIGZvciAobGV0IGkgPSB0aGlzLmZyb207IGkgPCB0aGlzLnRvOyBpKyspXG4gICAgICBwb3MgPSB0aGlzLm1hcHNbaV0ubWFwKHBvcywgYXNzb2MpXG4gICAgcmV0dXJuIHBvc1xuICB9XG5cbiAgLy8gOiAobnVtYmVyLCA/bnVtYmVyKSDihpIgTWFwUmVzdWx0XG4gIC8vIE1hcCBhIHBvc2l0aW9uIHRocm91Z2ggdGhpcyBtYXBwaW5nLCByZXR1cm5pbmcgYSBtYXBwaW5nXG4gIC8vIHJlc3VsdC5cbiAgbWFwUmVzdWx0KHBvcywgYXNzb2MgPSAxKSB7IHJldHVybiB0aGlzLl9tYXAocG9zLCBhc3NvYywgZmFsc2UpIH1cblxuICBfbWFwKHBvcywgYXNzb2MsIHNpbXBsZSkge1xuICAgIGxldCBkZWxldGVkID0gZmFsc2UsIHJlY292ZXJhYmxlcyA9IG51bGxcblxuICAgIGZvciAobGV0IGkgPSB0aGlzLmZyb207IGkgPCB0aGlzLnRvOyBpKyspIHtcbiAgICAgIGxldCBtYXAgPSB0aGlzLm1hcHNbaV0sIHJlYyA9IHJlY292ZXJhYmxlcyAmJiByZWNvdmVyYWJsZXNbaV1cbiAgICAgIGlmIChyZWMgIT0gbnVsbCAmJiBtYXAudG91Y2hlcyhwb3MsIHJlYykpIHtcbiAgICAgICAgcG9zID0gbWFwLnJlY292ZXIocmVjKVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBsZXQgcmVzdWx0ID0gbWFwLm1hcFJlc3VsdChwb3MsIGFzc29jKVxuICAgICAgaWYgKHJlc3VsdC5yZWNvdmVyICE9IG51bGwpIHtcbiAgICAgICAgbGV0IGNvcnIgPSB0aGlzLmdldE1pcnJvcihpKVxuICAgICAgICBpZiAoY29yciAhPSBudWxsICYmIGNvcnIgPiBpICYmIGNvcnIgPCB0aGlzLnRvKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdC5kZWxldGVkKSB7XG4gICAgICAgICAgICBpID0gY29yclxuICAgICAgICAgICAgcG9zID0gdGhpcy5tYXBzW2NvcnJdLnJlY292ZXIocmVzdWx0LnJlY292ZXIpXG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICA7KHJlY292ZXJhYmxlcyB8fCAocmVjb3ZlcmFibGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKSkpW2NvcnJdID0gcmVzdWx0LnJlY292ZXJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3VsdC5kZWxldGVkKSBkZWxldGVkID0gdHJ1ZVxuICAgICAgcG9zID0gcmVzdWx0LnBvc1xuICAgIH1cblxuICAgIHJldHVybiBzaW1wbGUgPyBwb3MgOiBuZXcgTWFwUmVzdWx0KHBvcywgZGVsZXRlZClcbiAgfVxufVxuIiwiaW1wb3J0IHtNYXBwaW5nfSBmcm9tIFwiLi9tYXBcIlxuXG5leHBvcnQgZnVuY3Rpb24gVHJhbnNmb3JtRXJyb3IobWVzc2FnZSkge1xuICBsZXQgZXJyID0gRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlKVxuICBlcnIuX19wcm90b19fID0gVHJhbnNmb3JtRXJyb3IucHJvdG90eXBlXG4gIHJldHVybiBlcnJcbn1cblxuVHJhbnNmb3JtRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpXG5UcmFuc2Zvcm1FcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUcmFuc2Zvcm1FcnJvclxuVHJhbnNmb3JtRXJyb3IucHJvdG90eXBlLm5hbWUgPSBcIlRyYW5zZm9ybUVycm9yXCJcblxuLy8gOjotIEFic3RyYWN0aW9uIHRvIGJ1aWxkIHVwIGFuZCB0cmFjayBhbiBhcnJheSBvZlxuLy8gW3N0ZXBzXSgjdHJhbnNmb3JtLlN0ZXApIHJlcHJlc2VudGluZyBhIGRvY3VtZW50IHRyYW5zZm9ybWF0aW9uLlxuLy9cbi8vIE1vc3QgdHJhbnNmb3JtaW5nIG1ldGhvZHMgcmV0dXJuIHRoZSBgVHJhbnNmb3JtYCBvYmplY3QgaXRzZWxmLCBzb1xuLy8gdGhhdCB0aGV5IGNhbiBiZSBjaGFpbmVkLlxuZXhwb3J0IGNsYXNzIFRyYW5zZm9ybSB7XG4gIC8vIDo6IChOb2RlKVxuICAvLyBDcmVhdGUgYSB0cmFuc2Zvcm0gdGhhdCBzdGFydHMgd2l0aCB0aGUgZ2l2ZW4gZG9jdW1lbnQuXG4gIGNvbnN0cnVjdG9yKGRvYykge1xuICAgIC8vIDo6IE5vZGVcbiAgICAvLyBUaGUgY3VycmVudCBkb2N1bWVudCAodGhlIHJlc3VsdCBvZiBhcHBseWluZyB0aGUgc3RlcHMgaW4gdGhlXG4gICAgLy8gdHJhbnNmb3JtKS5cbiAgICB0aGlzLmRvYyA9IGRvY1xuICAgIC8vIDo6IFtTdGVwXVxuICAgIC8vIFRoZSBzdGVwcyBpbiB0aGlzIHRyYW5zZm9ybS5cbiAgICB0aGlzLnN0ZXBzID0gW11cbiAgICAvLyA6OiBbTm9kZV1cbiAgICAvLyBUaGUgZG9jdW1lbnRzIGJlZm9yZSBlYWNoIG9mIHRoZSBzdGVwcy5cbiAgICB0aGlzLmRvY3MgPSBbXVxuICAgIC8vIDo6IE1hcHBpbmdcbiAgICAvLyBBIG1hcHBpbmcgd2l0aCB0aGUgbWFwcyBmb3IgZWFjaCBvZiB0aGUgc3RlcHMgaW4gdGhpcyB0cmFuc2Zvcm0uXG4gICAgdGhpcy5tYXBwaW5nID0gbmV3IE1hcHBpbmdcbiAgfVxuXG4gIC8vIDo6IE5vZGUgVGhlIHN0YXJ0aW5nIGRvY3VtZW50LlxuICBnZXQgYmVmb3JlKCkgeyByZXR1cm4gdGhpcy5kb2NzLmxlbmd0aCA/IHRoaXMuZG9jc1swXSA6IHRoaXMuZG9jIH1cblxuICAvLyA6OiAoc3RlcDogU3RlcCkg4oaSIHRoaXNcbiAgLy8gQXBwbHkgYSBuZXcgc3RlcCBpbiB0aGlzIHRyYW5zZm9ybSwgc2F2aW5nIHRoZSByZXN1bHQuIFRocm93cyBhblxuICAvLyBlcnJvciB3aGVuIHRoZSBzdGVwIGZhaWxzLlxuICBzdGVwKG9iamVjdCkge1xuICAgIGxldCByZXN1bHQgPSB0aGlzLm1heWJlU3RlcChvYmplY3QpXG4gICAgaWYgKHJlc3VsdC5mYWlsZWQpIHRocm93IG5ldyBUcmFuc2Zvcm1FcnJvcihyZXN1bHQuZmFpbGVkKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyA6OiAoU3RlcCkg4oaSIFN0ZXBSZXN1bHRcbiAgLy8gVHJ5IHRvIGFwcGx5IGEgc3RlcCBpbiB0aGlzIHRyYW5zZm9ybWF0aW9uLCBpZ25vcmluZyBpdCBpZiBpdFxuICAvLyBmYWlscy4gUmV0dXJucyB0aGUgc3RlcCByZXN1bHQuXG4gIG1heWJlU3RlcChzdGVwKSB7XG4gICAgbGV0IHJlc3VsdCA9IHN0ZXAuYXBwbHkodGhpcy5kb2MpXG4gICAgaWYgKCFyZXN1bHQuZmFpbGVkKSB0aGlzLmFkZFN0ZXAoc3RlcCwgcmVzdWx0LmRvYylcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgd2hlbiB0aGUgZG9jdW1lbnQgaGFzIGJlZW4gY2hhbmdlZCAod2hlbiB0aGVyZSBhcmUgYW55XG4gIC8vIHN0ZXBzKS5cbiAgZ2V0IGRvY0NoYW5nZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcHMubGVuZ3RoID4gMFxuICB9XG5cbiAgYWRkU3RlcChzdGVwLCBkb2MpIHtcbiAgICB0aGlzLmRvY3MucHVzaCh0aGlzLmRvYylcbiAgICB0aGlzLnN0ZXBzLnB1c2goc3RlcClcbiAgICB0aGlzLm1hcHBpbmcuYXBwZW5kTWFwKHN0ZXAuZ2V0TWFwKCkpXG4gICAgdGhpcy5kb2MgPSBkb2NcbiAgfVxufVxuIiwiaW1wb3J0IHtSZXBsYWNlRXJyb3J9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5cbmltcG9ydCB7U3RlcE1hcH0gZnJvbSBcIi4vbWFwXCJcblxuZnVuY3Rpb24gbXVzdE92ZXJyaWRlKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJPdmVycmlkZSBtZVwiKSB9XG5cbmNvbnN0IHN0ZXBzQnlJRCA9IE9iamVjdC5jcmVhdGUobnVsbClcblxuLy8gOjotIEEgc3RlcCBvYmplY3QgcmVwcmVzZW50cyBhbiBhdG9taWMgY2hhbmdlLiBJdCBnZW5lcmFsbHkgYXBwbGllc1xuLy8gb25seSB0byB0aGUgZG9jdW1lbnQgaXQgd2FzIGNyZWF0ZWQgZm9yLCBzaW5jZSB0aGUgcG9zaXRpb25zXG4vLyBzdG9yZWQgaW4gaXQgd2lsbCBvbmx5IG1ha2Ugc2Vuc2UgZm9yIHRoYXQgZG9jdW1lbnQuXG4vL1xuLy8gTmV3IHN0ZXBzIGFyZSBkZWZpbmVkIGJ5IGNyZWF0aW5nIGNsYXNzZXMgdGhhdCBleHRlbmQgYFN0ZXBgLFxuLy8gb3ZlcnJpZGluZyB0aGUgYGFwcGx5YCwgYGludmVydGAsIGBtYXBgLCBgZ2V0TWFwYCBhbmQgYGZyb21KU09OYFxuLy8gbWV0aG9kcywgYW5kIHJlZ2lzdGVyaW5nIHlvdXIgY2xhc3Mgd2l0aCBhIHVuaXF1ZVxuLy8gSlNPTi1zZXJpYWxpemF0aW9uIGlkZW50aWZpZXIgdXNpbmdcbi8vIFtgU3RlcC5qc29uSURgXSgjdHJhbnNmb3JtLlN0ZXBeanNvbklEKS5cbmV4cG9ydCBjbGFzcyBTdGVwIHtcbiAgLy8gOjogKGRvYzogTm9kZSkg4oaSIFN0ZXBSZXN1bHRcbiAgLy8gQXBwbGllcyB0aGlzIHN0ZXAgdG8gdGhlIGdpdmVuIGRvY3VtZW50LCByZXR1cm5pbmcgYSByZXN1bHRcbiAgLy8gb2JqZWN0IHRoYXQgZWl0aGVyIGluZGljYXRlcyBmYWlsdXJlLCBpZiB0aGUgc3RlcCBjYW4gbm90IGJlXG4gIC8vIGFwcGxpZWQgdG8gdGhpcyBkb2N1bWVudCwgb3IgaW5kaWNhdGVzIHN1Y2Nlc3MgYnkgY29udGFpbmluZyBhXG4gIC8vIHRyYW5zZm9ybWVkIGRvY3VtZW50LlxuICBhcHBseShfZG9jKSB7IHJldHVybiBtdXN0T3ZlcnJpZGUoKSB9XG5cbiAgLy8gOjogKCkg4oaSIFN0ZXBNYXBcbiAgLy8gR2V0IHRoZSBzdGVwIG1hcCB0aGF0IHJlcHJlc2VudHMgdGhlIGNoYW5nZXMgbWFkZSBieSB0aGlzIHN0ZXAsXG4gIC8vIGFuZCB3aGljaCBjYW4gYmUgdXNlZCB0byB0cmFuc2Zvcm0gYmV0d2VlbiBwb3NpdGlvbnMgaW4gdGhlIG9sZFxuICAvLyBhbmQgdGhlIG5ldyBkb2N1bWVudC5cbiAgZ2V0TWFwKCkgeyByZXR1cm4gU3RlcE1hcC5lbXB0eSB9XG5cbiAgLy8gOjogKGRvYzogTm9kZSkg4oaSIFN0ZXBcbiAgLy8gQ3JlYXRlIGFuIGludmVydGVkIHZlcnNpb24gb2YgdGhpcyBzdGVwLiBOZWVkcyB0aGUgZG9jdW1lbnQgYXMgaXRcbiAgLy8gd2FzIGJlZm9yZSB0aGUgc3RlcCBhcyBhcmd1bWVudC5cbiAgaW52ZXJ0KF9kb2MpIHsgcmV0dXJuIG11c3RPdmVycmlkZSgpIH1cblxuICAvLyA6OiAobWFwcGluZzogTWFwcGFibGUpIOKGkiA/U3RlcFxuICAvLyBNYXAgdGhpcyBzdGVwIHRocm91Z2ggYSBtYXBwYWJsZSB0aGluZywgcmV0dXJuaW5nIGVpdGhlciBhXG4gIC8vIHZlcnNpb24gb2YgdGhhdCBzdGVwIHdpdGggaXRzIHBvc2l0aW9ucyBhZGp1c3RlZCwgb3IgYG51bGxgIGlmXG4gIC8vIHRoZSBzdGVwIHdhcyBlbnRpcmVseSBkZWxldGVkIGJ5IHRoZSBtYXBwaW5nLlxuICBtYXAoX21hcHBpbmcpIHsgcmV0dXJuIG11c3RPdmVycmlkZSgpIH1cblxuICAvLyA6OiAob3RoZXI6IFN0ZXApIOKGkiA/U3RlcFxuICAvLyBUcnkgdG8gbWVyZ2UgdGhpcyBzdGVwIHdpdGggYW5vdGhlciBvbmUsIHRvIGJlIGFwcGxpZWQgZGlyZWN0bHlcbiAgLy8gYWZ0ZXIgaXQuIFJldHVybnMgdGhlIG1lcmdlZCBzdGVwIHdoZW4gcG9zc2libGUsIG51bGwgaWYgdGhlXG4gIC8vIHN0ZXBzIGNhbid0IGJlIG1lcmdlZC5cbiAgbWVyZ2UoX290aGVyKSB7IHJldHVybiBudWxsIH1cblxuICAvLyA6OiAoKSDihpIgT2JqZWN0XG4gIC8vIENyZWF0ZSBhIEpTT04tc2VyaWFsaXplYWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHN0ZXAuIFdoZW5cbiAgLy8gZGVmaW5pbmcgdGhpcyBmb3IgYSBjdXN0b20gc3ViY2xhc3MsIG1ha2Ugc3VyZSB0aGUgcmVzdWx0IG9iamVjdFxuICAvLyBpbmNsdWRlcyB0aGUgc3RlcCB0eXBlJ3MgW0pTT04gaWRdKCN0cmFuc2Zvcm0uU3RlcF5qc29uSUQpIHVuZGVyXG4gIC8vIHRoZSBgc3RlcFR5cGVgIHByb3BlcnR5LlxuICB0b0pTT04oKSB7IHJldHVybiBtdXN0T3ZlcnJpZGUoKSB9XG5cbiAgLy8gOjogKFNjaGVtYSwgT2JqZWN0KSDihpIgU3RlcFxuICAvLyBEZXNlcmlhbGl6ZSBhIHN0ZXAgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi4gV2lsbCBjYWxsXG4gIC8vIHRocm91Z2ggdG8gdGhlIHN0ZXAgY2xhc3MnIG93biBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIG1ldGhvZC5cbiAgc3RhdGljIGZyb21KU09OKHNjaGVtYSwganNvbikge1xuICAgIGlmICghanNvbiB8fCAhanNvbi5zdGVwVHlwZSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBTdGVwLmZyb21KU09OXCIpXG4gICAgbGV0IHR5cGUgPSBzdGVwc0J5SURbanNvbi5zdGVwVHlwZV1cbiAgICBpZiAoIXR5cGUpIHRocm93IG5ldyBSYW5nZUVycm9yKGBObyBzdGVwIHR5cGUgJHtqc29uLnN0ZXBUeXBlfSBkZWZpbmVkYClcbiAgICByZXR1cm4gdHlwZS5mcm9tSlNPTihzY2hlbWEsIGpzb24pXG4gIH1cblxuICAvLyA6OiAoc3RyaW5nLCBjb25zdHJ1Y3RvcjxTdGVwPilcbiAgLy8gVG8gYmUgYWJsZSB0byBzZXJpYWxpemUgc3RlcHMgdG8gSlNPTiwgZWFjaCBzdGVwIG5lZWRzIGEgc3RyaW5nXG4gIC8vIElEIHRvIGF0dGFjaCB0byBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi4gVXNlIHRoaXMgbWV0aG9kIHRvXG4gIC8vIHJlZ2lzdGVyIGFuIElEIGZvciB5b3VyIHN0ZXAgY2xhc3Nlcy4gVHJ5IHRvIHBpY2sgc29tZXRoaW5nXG4gIC8vIHRoYXQncyB1bmxpa2VseSB0byBjbGFzaCB3aXRoIHN0ZXBzIGZyb20gb3RoZXIgbW9kdWxlcy5cbiAgc3RhdGljIGpzb25JRChpZCwgc3RlcENsYXNzKSB7XG4gICAgaWYgKGlkIGluIHN0ZXBzQnlJRCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJEdXBsaWNhdGUgdXNlIG9mIHN0ZXAgSlNPTiBJRCBcIiArIGlkKVxuICAgIHN0ZXBzQnlJRFtpZF0gPSBzdGVwQ2xhc3NcbiAgICBzdGVwQ2xhc3MucHJvdG90eXBlLmpzb25JRCA9IGlkXG4gICAgcmV0dXJuIHN0ZXBDbGFzc1xuICB9XG59XG5cbi8vIDo6LSBUaGUgcmVzdWx0IG9mIFthcHBseWluZ10oI3RyYW5zZm9ybS5TdGVwLmFwcGx5KSBhIHN0ZXAuIENvbnRhaW5zIGVpdGhlciBhXG4vLyBuZXcgZG9jdW1lbnQgb3IgYSBmYWlsdXJlIHZhbHVlLlxuZXhwb3J0IGNsYXNzIFN0ZXBSZXN1bHQge1xuICAvLyA6ICg/Tm9kZSwgP3N0cmluZylcbiAgY29uc3RydWN0b3IoZG9jLCBmYWlsZWQpIHtcbiAgICAvLyA6OiA/Tm9kZSBUaGUgdHJhbnNmb3JtZWQgZG9jdW1lbnQuXG4gICAgdGhpcy5kb2MgPSBkb2NcbiAgICAvLyA6OiA/c3RyaW5nIFRleHQgcHJvdmlkaW5nIGluZm9ybWF0aW9uIGFib3V0IGEgZmFpbGVkIHN0ZXAuXG4gICAgdGhpcy5mYWlsZWQgPSBmYWlsZWRcbiAgfVxuXG4gIC8vIDo6IChOb2RlKSDihpIgU3RlcFJlc3VsdFxuICAvLyBDcmVhdGUgYSBzdWNjZXNzZnVsIHN0ZXAgcmVzdWx0LlxuICBzdGF0aWMgb2soZG9jKSB7IHJldHVybiBuZXcgU3RlcFJlc3VsdChkb2MsIG51bGwpIH1cblxuICAvLyA6OiAoc3RyaW5nKSDihpIgU3RlcFJlc3VsdFxuICAvLyBDcmVhdGUgYSBmYWlsZWQgc3RlcCByZXN1bHQuXG4gIHN0YXRpYyBmYWlsKG1lc3NhZ2UpIHsgcmV0dXJuIG5ldyBTdGVwUmVzdWx0KG51bGwsIG1lc3NhZ2UpIH1cblxuICAvLyA6OiAoTm9kZSwgbnVtYmVyLCBudW1iZXIsIFNsaWNlKSDihpIgU3RlcFJlc3VsdFxuICAvLyBDYWxsIFtgTm9kZS5yZXBsYWNlYF0oI21vZGVsLk5vZGUucmVwbGFjZSkgd2l0aCB0aGUgZ2l2ZW5cbiAgLy8gYXJndW1lbnRzLiBDcmVhdGUgYSBzdWNjZXNzZnVsIHJlc3VsdCBpZiBpdCBzdWNjZWVkcywgYW5kIGFcbiAgLy8gZmFpbGVkIG9uZSBpZiBpdCB0aHJvd3MgYSBgUmVwbGFjZUVycm9yYC5cbiAgc3RhdGljIGZyb21SZXBsYWNlKGRvYywgZnJvbSwgdG8sIHNsaWNlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBTdGVwUmVzdWx0Lm9rKGRvYy5yZXBsYWNlKGZyb20sIHRvLCBzbGljZSkpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKGUgaW5zdGFuY2VvZiBSZXBsYWNlRXJyb3IpIHJldHVybiBTdGVwUmVzdWx0LmZhaWwoZS5tZXNzYWdlKVxuICAgICAgdGhyb3cgZVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtTbGljZX0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcblxuaW1wb3J0IHtTdGVwLCBTdGVwUmVzdWx0fSBmcm9tIFwiLi9zdGVwXCJcbmltcG9ydCB7U3RlcE1hcH0gZnJvbSBcIi4vbWFwXCJcblxuLy8gOjotIFJlcGxhY2UgYSBwYXJ0IG9mIHRoZSBkb2N1bWVudCB3aXRoIGEgc2xpY2Ugb2YgbmV3IGNvbnRlbnQuXG5leHBvcnQgY2xhc3MgUmVwbGFjZVN0ZXAgZXh0ZW5kcyBTdGVwIHtcbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCBTbGljZSwgP2Jvb2wpXG4gIC8vIFRoZSBnaXZlbiBgc2xpY2VgIHNob3VsZCBmaXQgdGhlICdnYXAnIGJldHdlZW4gYGZyb21gIGFuZFxuICAvLyBgdG9g4oCUdGhlIGRlcHRocyBtdXN0IGxpbmUgdXAsIGFuZCB0aGUgc3Vycm91bmRpbmcgbm9kZXMgbXVzdCBiZVxuICAvLyBhYmxlIHRvIGJlIGpvaW5lZCB3aXRoIHRoZSBvcGVuIHNpZGVzIG9mIHRoZSBzbGljZS4gV2hlblxuICAvLyBgc3RydWN0dXJlYCBpcyB0cnVlLCB0aGUgc3RlcCB3aWxsIGZhaWwgaWYgdGhlIGNvbnRlbnQgYmV0d2VlblxuICAvLyBmcm9tIGFuZCB0byBpcyBub3QganVzdCBhIHNlcXVlbmNlIG9mIGNsb3NpbmcgYW5kIHRoZW4gb3BlbmluZ1xuICAvLyB0b2tlbnMgKHRoaXMgaXMgdG8gZ3VhcmQgYWdhaW5zdCByZWJhc2VkIHJlcGxhY2Ugc3RlcHNcbiAgLy8gb3ZlcndyaXRpbmcgc29tZXRoaW5nIHRoZXkgd2VyZW4ndCBzdXBwb3NlZCB0bykuXG4gIGNvbnN0cnVjdG9yKGZyb20sIHRvLCBzbGljZSwgc3RydWN0dXJlKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuZnJvbSA9IGZyb21cbiAgICB0aGlzLnRvID0gdG9cbiAgICB0aGlzLnNsaWNlID0gc2xpY2VcbiAgICB0aGlzLnN0cnVjdHVyZSA9ICEhc3RydWN0dXJlXG4gIH1cblxuICBhcHBseShkb2MpIHtcbiAgICBpZiAodGhpcy5zdHJ1Y3R1cmUgJiYgY29udGVudEJldHdlZW4oZG9jLCB0aGlzLmZyb20sIHRoaXMudG8pKVxuICAgICAgcmV0dXJuIFN0ZXBSZXN1bHQuZmFpbChcIlN0cnVjdHVyZSByZXBsYWNlIHdvdWxkIG92ZXJ3cml0ZSBjb250ZW50XCIpXG4gICAgcmV0dXJuIFN0ZXBSZXN1bHQuZnJvbVJlcGxhY2UoZG9jLCB0aGlzLmZyb20sIHRoaXMudG8sIHRoaXMuc2xpY2UpXG4gIH1cblxuICBnZXRNYXAoKSB7XG4gICAgcmV0dXJuIG5ldyBTdGVwTWFwKFt0aGlzLmZyb20sIHRoaXMudG8gLSB0aGlzLmZyb20sIHRoaXMuc2xpY2Uuc2l6ZV0pXG4gIH1cblxuICBpbnZlcnQoZG9jKSB7XG4gICAgcmV0dXJuIG5ldyBSZXBsYWNlU3RlcCh0aGlzLmZyb20sIHRoaXMuZnJvbSArIHRoaXMuc2xpY2Uuc2l6ZSwgZG9jLnNsaWNlKHRoaXMuZnJvbSwgdGhpcy50bykpXG4gIH1cblxuICBtYXAobWFwcGluZykge1xuICAgIGxldCBmcm9tID0gbWFwcGluZy5tYXBSZXN1bHQodGhpcy5mcm9tLCAxKSwgdG8gPSBtYXBwaW5nLm1hcFJlc3VsdCh0aGlzLnRvLCAtMSlcbiAgICBpZiAoZnJvbS5kZWxldGVkICYmIHRvLmRlbGV0ZWQpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIG5ldyBSZXBsYWNlU3RlcChmcm9tLnBvcywgTWF0aC5tYXgoZnJvbS5wb3MsIHRvLnBvcyksIHRoaXMuc2xpY2UpXG4gIH1cblxuICBtZXJnZShvdGhlcikge1xuICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgUmVwbGFjZVN0ZXApIHx8IG90aGVyLnN0cnVjdHVyZSAhPSB0aGlzLnN0cnVjdHVyZSkgcmV0dXJuIG51bGxcblxuICAgIGlmICh0aGlzLmZyb20gKyB0aGlzLnNsaWNlLnNpemUgPT0gb3RoZXIuZnJvbSAmJiAhdGhpcy5zbGljZS5vcGVuRW5kICYmICFvdGhlci5zbGljZS5vcGVuU3RhcnQpIHtcbiAgICAgIGxldCBzbGljZSA9IHRoaXMuc2xpY2Uuc2l6ZSArIG90aGVyLnNsaWNlLnNpemUgPT0gMCA/IFNsaWNlLmVtcHR5XG4gICAgICAgICAgOiBuZXcgU2xpY2UodGhpcy5zbGljZS5jb250ZW50LmFwcGVuZChvdGhlci5zbGljZS5jb250ZW50KSwgdGhpcy5zbGljZS5vcGVuU3RhcnQsIG90aGVyLnNsaWNlLm9wZW5FbmQpXG4gICAgICByZXR1cm4gbmV3IFJlcGxhY2VTdGVwKHRoaXMuZnJvbSwgdGhpcy50byArIChvdGhlci50byAtIG90aGVyLmZyb20pLCBzbGljZSwgdGhpcy5zdHJ1Y3R1cmUpXG4gICAgfSBlbHNlIGlmIChvdGhlci50byA9PSB0aGlzLmZyb20gJiYgIXRoaXMuc2xpY2Uub3BlblN0YXJ0ICYmICFvdGhlci5zbGljZS5vcGVuRW5kKSB7XG4gICAgICBsZXQgc2xpY2UgPSB0aGlzLnNsaWNlLnNpemUgKyBvdGhlci5zbGljZS5zaXplID09IDAgPyBTbGljZS5lbXB0eVxuICAgICAgICAgIDogbmV3IFNsaWNlKG90aGVyLnNsaWNlLmNvbnRlbnQuYXBwZW5kKHRoaXMuc2xpY2UuY29udGVudCksIG90aGVyLnNsaWNlLm9wZW5TdGFydCwgdGhpcy5zbGljZS5vcGVuRW5kKVxuICAgICAgcmV0dXJuIG5ldyBSZXBsYWNlU3RlcChvdGhlci5mcm9tLCB0aGlzLnRvLCBzbGljZSwgdGhpcy5zdHJ1Y3R1cmUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIGxldCBqc29uID0ge3N0ZXBUeXBlOiBcInJlcGxhY2VcIiwgZnJvbTogdGhpcy5mcm9tLCB0bzogdGhpcy50b31cbiAgICBpZiAodGhpcy5zbGljZS5zaXplKSBqc29uLnNsaWNlID0gdGhpcy5zbGljZS50b0pTT04oKVxuICAgIGlmICh0aGlzLnN0cnVjdHVyZSkganNvbi5zdHJ1Y3R1cmUgPSB0cnVlXG4gICAgcmV0dXJuIGpzb25cbiAgfVxuXG4gIHN0YXRpYyBmcm9tSlNPTihzY2hlbWEsIGpzb24pIHtcbiAgICBpZiAodHlwZW9mIGpzb24uZnJvbSAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiBqc29uLnRvICE9IFwibnVtYmVyXCIpXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VTdGVwLmZyb21KU09OXCIpXG4gICAgcmV0dXJuIG5ldyBSZXBsYWNlU3RlcChqc29uLmZyb20sIGpzb24udG8sIFNsaWNlLmZyb21KU09OKHNjaGVtYSwganNvbi5zbGljZSksICEhanNvbi5zdHJ1Y3R1cmUpXG4gIH1cbn1cblxuU3RlcC5qc29uSUQoXCJyZXBsYWNlXCIsIFJlcGxhY2VTdGVwKVxuXG4vLyA6Oi0gUmVwbGFjZSBhIHBhcnQgb2YgdGhlIGRvY3VtZW50IHdpdGggYSBzbGljZSBvZiBjb250ZW50LCBidXRcbi8vIHByZXNlcnZlIGEgcmFuZ2Ugb2YgdGhlIHJlcGxhY2VkIGNvbnRlbnQgYnkgbW92aW5nIGl0IGludG8gdGhlXG4vLyBzbGljZS5cbmV4cG9ydCBjbGFzcyBSZXBsYWNlQXJvdW5kU3RlcCBleHRlbmRzIFN0ZXAge1xuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBTbGljZSwgbnVtYmVyLCA/Ym9vbClcbiAgLy8gQ3JlYXRlIGEgcmVwbGFjZS1hcm91bmQgc3RlcCB3aXRoIHRoZSBnaXZlbiByYW5nZSBhbmQgZ2FwLlxuICAvLyBgaW5zZXJ0YCBzaG91bGQgYmUgdGhlIHBvaW50IGluIHRoZSBzbGljZSBpbnRvIHdoaWNoIHRoZSBjb250ZW50XG4gIC8vIG9mIHRoZSBnYXAgc2hvdWxkIGJlIG1vdmVkLiBgc3RydWN0dXJlYCBoYXMgdGhlIHNhbWUgbWVhbmluZyBhc1xuICAvLyBpdCBoYXMgaW4gdGhlIFtgUmVwbGFjZVN0ZXBgXSgjdHJhbnNmb3JtLlJlcGxhY2VTdGVwKSBjbGFzcy5cbiAgY29uc3RydWN0b3IoZnJvbSwgdG8sIGdhcEZyb20sIGdhcFRvLCBzbGljZSwgaW5zZXJ0LCBzdHJ1Y3R1cmUpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5mcm9tID0gZnJvbVxuICAgIHRoaXMudG8gPSB0b1xuICAgIHRoaXMuZ2FwRnJvbSA9IGdhcEZyb21cbiAgICB0aGlzLmdhcFRvID0gZ2FwVG9cbiAgICB0aGlzLnNsaWNlID0gc2xpY2VcbiAgICB0aGlzLmluc2VydCA9IGluc2VydFxuICAgIHRoaXMuc3RydWN0dXJlID0gISFzdHJ1Y3R1cmVcbiAgfVxuXG4gIGFwcGx5KGRvYykge1xuICAgIGlmICh0aGlzLnN0cnVjdHVyZSAmJiAoY29udGVudEJldHdlZW4oZG9jLCB0aGlzLmZyb20sIHRoaXMuZ2FwRnJvbSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRCZXR3ZWVuKGRvYywgdGhpcy5nYXBUbywgdGhpcy50bykpKVxuICAgICAgcmV0dXJuIFN0ZXBSZXN1bHQuZmFpbChcIlN0cnVjdHVyZSBnYXAtcmVwbGFjZSB3b3VsZCBvdmVyd3JpdGUgY29udGVudFwiKVxuXG4gICAgbGV0IGdhcCA9IGRvYy5zbGljZSh0aGlzLmdhcEZyb20sIHRoaXMuZ2FwVG8pXG4gICAgaWYgKGdhcC5vcGVuU3RhcnQgfHwgZ2FwLm9wZW5FbmQpXG4gICAgICByZXR1cm4gU3RlcFJlc3VsdC5mYWlsKFwiR2FwIGlzIG5vdCBhIGZsYXQgcmFuZ2VcIilcbiAgICBsZXQgaW5zZXJ0ZWQgPSB0aGlzLnNsaWNlLmluc2VydEF0KHRoaXMuaW5zZXJ0LCBnYXAuY29udGVudClcbiAgICBpZiAoIWluc2VydGVkKSByZXR1cm4gU3RlcFJlc3VsdC5mYWlsKFwiQ29udGVudCBkb2VzIG5vdCBmaXQgaW4gZ2FwXCIpXG4gICAgcmV0dXJuIFN0ZXBSZXN1bHQuZnJvbVJlcGxhY2UoZG9jLCB0aGlzLmZyb20sIHRoaXMudG8sIGluc2VydGVkKVxuICB9XG5cbiAgZ2V0TWFwKCkge1xuICAgIHJldHVybiBuZXcgU3RlcE1hcChbdGhpcy5mcm9tLCB0aGlzLmdhcEZyb20gLSB0aGlzLmZyb20sIHRoaXMuaW5zZXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYXBUbywgdGhpcy50byAtIHRoaXMuZ2FwVG8sIHRoaXMuc2xpY2Uuc2l6ZSAtIHRoaXMuaW5zZXJ0XSlcbiAgfVxuXG4gIGludmVydChkb2MpIHtcbiAgICBsZXQgZ2FwID0gdGhpcy5nYXBUbyAtIHRoaXMuZ2FwRnJvbVxuICAgIHJldHVybiBuZXcgUmVwbGFjZUFyb3VuZFN0ZXAodGhpcy5mcm9tLCB0aGlzLmZyb20gKyB0aGlzLnNsaWNlLnNpemUgKyBnYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyb20gKyB0aGlzLmluc2VydCwgdGhpcy5mcm9tICsgdGhpcy5pbnNlcnQgKyBnYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2Muc2xpY2UodGhpcy5mcm9tLCB0aGlzLnRvKS5yZW1vdmVCZXR3ZWVuKHRoaXMuZ2FwRnJvbSAtIHRoaXMuZnJvbSwgdGhpcy5nYXBUbyAtIHRoaXMuZnJvbSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhcEZyb20gLSB0aGlzLmZyb20sIHRoaXMuc3RydWN0dXJlKVxuICB9XG5cbiAgbWFwKG1hcHBpbmcpIHtcbiAgICBsZXQgZnJvbSA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMuZnJvbSwgMSksIHRvID0gbWFwcGluZy5tYXBSZXN1bHQodGhpcy50bywgLTEpXG4gICAgbGV0IGdhcEZyb20gPSBtYXBwaW5nLm1hcCh0aGlzLmdhcEZyb20sIC0xKSwgZ2FwVG8gPSBtYXBwaW5nLm1hcCh0aGlzLmdhcFRvLCAxKVxuICAgIGlmICgoZnJvbS5kZWxldGVkICYmIHRvLmRlbGV0ZWQpIHx8IGdhcEZyb20gPCBmcm9tLnBvcyB8fCBnYXBUbyA+IHRvLnBvcykgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gbmV3IFJlcGxhY2VBcm91bmRTdGVwKGZyb20ucG9zLCB0by5wb3MsIGdhcEZyb20sIGdhcFRvLCB0aGlzLnNsaWNlLCB0aGlzLmluc2VydCwgdGhpcy5zdHJ1Y3R1cmUpXG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgbGV0IGpzb24gPSB7c3RlcFR5cGU6IFwicmVwbGFjZUFyb3VuZFwiLCBmcm9tOiB0aGlzLmZyb20sIHRvOiB0aGlzLnRvLFxuICAgICAgICAgICAgICAgIGdhcEZyb206IHRoaXMuZ2FwRnJvbSwgZ2FwVG86IHRoaXMuZ2FwVG8sIGluc2VydDogdGhpcy5pbnNlcnR9XG4gICAgaWYgKHRoaXMuc2xpY2Uuc2l6ZSkganNvbi5zbGljZSA9IHRoaXMuc2xpY2UudG9KU09OKClcbiAgICBpZiAodGhpcy5zdHJ1Y3R1cmUpIGpzb24uc3RydWN0dXJlID0gdHJ1ZVxuICAgIHJldHVybiBqc29uXG4gIH1cblxuICBzdGF0aWMgZnJvbUpTT04oc2NoZW1hLCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uLmZyb20gIT0gXCJudW1iZXJcIiB8fCB0eXBlb2YganNvbi50byAhPSBcIm51bWJlclwiIHx8XG4gICAgICAgIHR5cGVvZiBqc29uLmdhcEZyb20gIT0gXCJudW1iZXJcIiB8fCB0eXBlb2YganNvbi5nYXBUbyAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiBqc29uLmluc2VydCAhPSBcIm51bWJlclwiKVxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBSZXBsYWNlQXJvdW5kU3RlcC5mcm9tSlNPTlwiKVxuICAgIHJldHVybiBuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoanNvbi5mcm9tLCBqc29uLnRvLCBqc29uLmdhcEZyb20sIGpzb24uZ2FwVG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTbGljZS5mcm9tSlNPTihzY2hlbWEsIGpzb24uc2xpY2UpLCBqc29uLmluc2VydCwgISFqc29uLnN0cnVjdHVyZSlcbiAgfVxufVxuXG5TdGVwLmpzb25JRChcInJlcGxhY2VBcm91bmRcIiwgUmVwbGFjZUFyb3VuZFN0ZXApXG5cbmZ1bmN0aW9uIGNvbnRlbnRCZXR3ZWVuKGRvYywgZnJvbSwgdG8pIHtcbiAgbGV0ICRmcm9tID0gZG9jLnJlc29sdmUoZnJvbSksIGRpc3QgPSB0byAtIGZyb20sIGRlcHRoID0gJGZyb20uZGVwdGhcbiAgd2hpbGUgKGRpc3QgPiAwICYmIGRlcHRoID4gMCAmJiAkZnJvbS5pbmRleEFmdGVyKGRlcHRoKSA9PSAkZnJvbS5ub2RlKGRlcHRoKS5jaGlsZENvdW50KSB7XG4gICAgZGVwdGgtLVxuICAgIGRpc3QtLVxuICB9XG4gIGlmIChkaXN0ID4gMCkge1xuICAgIGxldCBuZXh0ID0gJGZyb20ubm9kZShkZXB0aCkubWF5YmVDaGlsZCgkZnJvbS5pbmRleEFmdGVyKGRlcHRoKSlcbiAgICB3aGlsZSAoZGlzdCA+IDApIHtcbiAgICAgIGlmICghbmV4dCB8fCBuZXh0LmlzTGVhZikgcmV0dXJuIHRydWVcbiAgICAgIG5leHQgPSBuZXh0LmZpcnN0Q2hpbGRcbiAgICAgIGRpc3QtLVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cbiIsImltcG9ydCB7U2xpY2UsIEZyYWdtZW50fSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuXG5pbXBvcnQge1RyYW5zZm9ybX0gZnJvbSBcIi4vdHJhbnNmb3JtXCJcbmltcG9ydCB7UmVwbGFjZVN0ZXAsIFJlcGxhY2VBcm91bmRTdGVwfSBmcm9tIFwiLi9yZXBsYWNlX3N0ZXBcIlxuXG5mdW5jdGlvbiBjYW5DdXQobm9kZSwgc3RhcnQsIGVuZCkge1xuICByZXR1cm4gKHN0YXJ0ID09IDAgfHwgbm9kZS5jYW5SZXBsYWNlKHN0YXJ0LCBub2RlLmNoaWxkQ291bnQpKSAmJlxuICAgIChlbmQgPT0gbm9kZS5jaGlsZENvdW50IHx8IG5vZGUuY2FuUmVwbGFjZSgwLCBlbmQpKVxufVxuXG4vLyA6OiAoTm9kZVJhbmdlKSDihpIgP251bWJlclxuLy8gVHJ5IHRvIGZpbmQgYSB0YXJnZXQgZGVwdGggdG8gd2hpY2ggdGhlIGNvbnRlbnQgaW4gdGhlIGdpdmVuIHJhbmdlXG4vLyBjYW4gYmUgbGlmdGVkLiBXaWxsIG5vdCBnbyBhY3Jvc3Ncbi8vIFtpc29sYXRpbmddKCNtb2RlbC5Ob2RlU3BlYy5pc29sYXRpbmcpIHBhcmVudCBub2Rlcy5cbmV4cG9ydCBmdW5jdGlvbiBsaWZ0VGFyZ2V0KHJhbmdlKSB7XG4gIGxldCBwYXJlbnQgPSByYW5nZS5wYXJlbnRcbiAgbGV0IGNvbnRlbnQgPSBwYXJlbnQuY29udGVudC5jdXRCeUluZGV4KHJhbmdlLnN0YXJ0SW5kZXgsIHJhbmdlLmVuZEluZGV4KVxuICBmb3IgKGxldCBkZXB0aCA9IHJhbmdlLmRlcHRoOzsgLS1kZXB0aCkge1xuICAgIGxldCBub2RlID0gcmFuZ2UuJGZyb20ubm9kZShkZXB0aClcbiAgICBsZXQgaW5kZXggPSByYW5nZS4kZnJvbS5pbmRleChkZXB0aCksIGVuZEluZGV4ID0gcmFuZ2UuJHRvLmluZGV4QWZ0ZXIoZGVwdGgpXG4gICAgaWYgKGRlcHRoIDwgcmFuZ2UuZGVwdGggJiYgbm9kZS5jYW5SZXBsYWNlKGluZGV4LCBlbmRJbmRleCwgY29udGVudCkpXG4gICAgICByZXR1cm4gZGVwdGhcbiAgICBpZiAoZGVwdGggPT0gMCB8fCBub2RlLnR5cGUuc3BlYy5pc29sYXRpbmcgfHwgIWNhbkN1dChub2RlLCBpbmRleCwgZW5kSW5kZXgpKSBicmVha1xuICB9XG59XG5cbi8vIDo6IChOb2RlUmFuZ2UsIG51bWJlcikg4oaSIHRoaXNcbi8vIFNwbGl0IHRoZSBjb250ZW50IGluIHRoZSBnaXZlbiByYW5nZSBvZmYgZnJvbSBpdHMgcGFyZW50LCBpZiB0aGVyZVxuLy8gaXMgc2libGluZyBjb250ZW50IGJlZm9yZSBvciBhZnRlciBpdCwgYW5kIG1vdmUgaXQgdXAgdGhlIHRyZWUgdG9cbi8vIHRoZSBkZXB0aCBzcGVjaWZpZWQgYnkgYHRhcmdldGAuIFlvdSdsbCBwcm9iYWJseSB3YW50IHRvIHVzZVxuLy8gW2BsaWZ0VGFyZ2V0YF0oI3RyYW5zZm9ybS5saWZ0VGFyZ2V0KSB0byBjb21wdXRlIGB0YXJnZXRgLCB0byBtYWtlXG4vLyBzdXJlIHRoZSBsaWZ0IGlzIHZhbGlkLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24ocmFuZ2UsIHRhcmdldCkge1xuICBsZXQgeyRmcm9tLCAkdG8sIGRlcHRofSA9IHJhbmdlXG5cbiAgbGV0IGdhcFN0YXJ0ID0gJGZyb20uYmVmb3JlKGRlcHRoICsgMSksIGdhcEVuZCA9ICR0by5hZnRlcihkZXB0aCArIDEpXG4gIGxldCBzdGFydCA9IGdhcFN0YXJ0LCBlbmQgPSBnYXBFbmRcblxuICBsZXQgYmVmb3JlID0gRnJhZ21lbnQuZW1wdHksIG9wZW5TdGFydCA9IDBcbiAgZm9yIChsZXQgZCA9IGRlcHRoLCBzcGxpdHRpbmcgPSBmYWxzZTsgZCA+IHRhcmdldDsgZC0tKVxuICAgIGlmIChzcGxpdHRpbmcgfHwgJGZyb20uaW5kZXgoZCkgPiAwKSB7XG4gICAgICBzcGxpdHRpbmcgPSB0cnVlXG4gICAgICBiZWZvcmUgPSBGcmFnbWVudC5mcm9tKCRmcm9tLm5vZGUoZCkuY29weShiZWZvcmUpKVxuICAgICAgb3BlblN0YXJ0KytcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnQtLVxuICAgIH1cbiAgbGV0IGFmdGVyID0gRnJhZ21lbnQuZW1wdHksIG9wZW5FbmQgPSAwXG4gIGZvciAobGV0IGQgPSBkZXB0aCwgc3BsaXR0aW5nID0gZmFsc2U7IGQgPiB0YXJnZXQ7IGQtLSlcbiAgICBpZiAoc3BsaXR0aW5nIHx8ICR0by5hZnRlcihkICsgMSkgPCAkdG8uZW5kKGQpKSB7XG4gICAgICBzcGxpdHRpbmcgPSB0cnVlXG4gICAgICBhZnRlciA9IEZyYWdtZW50LmZyb20oJHRvLm5vZGUoZCkuY29weShhZnRlcikpXG4gICAgICBvcGVuRW5kKytcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kKytcbiAgICB9XG5cbiAgcmV0dXJuIHRoaXMuc3RlcChuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoc3RhcnQsIGVuZCwgZ2FwU3RhcnQsIGdhcEVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWNlKGJlZm9yZS5hcHBlbmQoYWZ0ZXIpLCBvcGVuU3RhcnQsIG9wZW5FbmQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmUuc2l6ZSAtIG9wZW5TdGFydCwgdHJ1ZSkpXG59XG5cbi8vIDo6IChOb2RlUmFuZ2UsIE5vZGVUeXBlLCA/T2JqZWN0LCA/Tm9kZVJhbmdlKSDihpIgP1t7dHlwZTogTm9kZVR5cGUsIGF0dHJzOiA/T2JqZWN0fV1cbi8vIFRyeSB0byBmaW5kIGEgdmFsaWQgd2F5IHRvIHdyYXAgdGhlIGNvbnRlbnQgaW4gdGhlIGdpdmVuIHJhbmdlIGluIGFcbi8vIG5vZGUgb2YgdGhlIGdpdmVuIHR5cGUuIE1heSBpbnRyb2R1Y2UgZXh0cmEgbm9kZXMgYXJvdW5kIGFuZCBpbnNpZGVcbi8vIHRoZSB3cmFwcGVyIG5vZGUsIGlmIG5lY2Vzc2FyeS4gUmV0dXJucyBudWxsIGlmIG5vIHZhbGlkIHdyYXBwaW5nXG4vLyBjb3VsZCBiZSBmb3VuZC4gV2hlbiBgaW5uZXJSYW5nZWAgaXMgZ2l2ZW4sIHRoYXQgcmFuZ2UncyBjb250ZW50IGlzXG4vLyB1c2VkIGFzIHRoZSBjb250ZW50IHRvIGZpdCBpbnRvIHRoZSB3cmFwcGluZywgaW5zdGVhZCBvZiB0aGVcbi8vIGNvbnRlbnQgb2YgYHJhbmdlYC5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kV3JhcHBpbmcocmFuZ2UsIG5vZGVUeXBlLCBhdHRycywgaW5uZXJSYW5nZSA9IHJhbmdlKSB7XG4gIGxldCBhcm91bmQgPSBmaW5kV3JhcHBpbmdPdXRzaWRlKHJhbmdlLCBub2RlVHlwZSlcbiAgbGV0IGlubmVyID0gYXJvdW5kICYmIGZpbmRXcmFwcGluZ0luc2lkZShpbm5lclJhbmdlLCBub2RlVHlwZSlcbiAgaWYgKCFpbm5lcikgcmV0dXJuIG51bGxcbiAgcmV0dXJuIGFyb3VuZC5tYXAod2l0aEF0dHJzKS5jb25jYXQoe3R5cGU6IG5vZGVUeXBlLCBhdHRyc30pLmNvbmNhdChpbm5lci5tYXAod2l0aEF0dHJzKSlcbn1cblxuZnVuY3Rpb24gd2l0aEF0dHJzKHR5cGUpIHsgcmV0dXJuIHt0eXBlLCBhdHRyczogbnVsbH0gfVxuXG5mdW5jdGlvbiBmaW5kV3JhcHBpbmdPdXRzaWRlKHJhbmdlLCB0eXBlKSB7XG4gIGxldCB7cGFyZW50LCBzdGFydEluZGV4LCBlbmRJbmRleH0gPSByYW5nZVxuICBsZXQgYXJvdW5kID0gcGFyZW50LmNvbnRlbnRNYXRjaEF0KHN0YXJ0SW5kZXgpLmZpbmRXcmFwcGluZyh0eXBlKVxuICBpZiAoIWFyb3VuZCkgcmV0dXJuIG51bGxcbiAgbGV0IG91dGVyID0gYXJvdW5kLmxlbmd0aCA/IGFyb3VuZFswXSA6IHR5cGVcbiAgcmV0dXJuIHBhcmVudC5jYW5SZXBsYWNlV2l0aChzdGFydEluZGV4LCBlbmRJbmRleCwgb3V0ZXIpID8gYXJvdW5kIDogbnVsbFxufVxuXG5mdW5jdGlvbiBmaW5kV3JhcHBpbmdJbnNpZGUocmFuZ2UsIHR5cGUpIHtcbiAgbGV0IHtwYXJlbnQsIHN0YXJ0SW5kZXgsIGVuZEluZGV4fSA9IHJhbmdlXG4gIGxldCBpbm5lciA9IHBhcmVudC5jaGlsZChzdGFydEluZGV4KVxuICBsZXQgaW5zaWRlID0gdHlwZS5jb250ZW50TWF0Y2guZmluZFdyYXBwaW5nKGlubmVyLnR5cGUpXG4gIGlmICghaW5zaWRlKSByZXR1cm4gbnVsbFxuICBsZXQgbGFzdFR5cGUgPSBpbnNpZGUubGVuZ3RoID8gaW5zaWRlW2luc2lkZS5sZW5ndGggLSAxXSA6IHR5cGVcbiAgbGV0IGlubmVyTWF0Y2ggPSBsYXN0VHlwZS5jb250ZW50TWF0Y2hcbiAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGlubmVyTWF0Y2ggJiYgaSA8IGVuZEluZGV4OyBpKyspXG4gICAgaW5uZXJNYXRjaCA9IGlubmVyTWF0Y2gubWF0Y2hUeXBlKHBhcmVudC5jaGlsZChpKS50eXBlKVxuICBpZiAoIWlubmVyTWF0Y2ggfHwgIWlubmVyTWF0Y2gudmFsaWRFbmQpIHJldHVybiBudWxsXG4gIHJldHVybiBpbnNpZGVcbn1cblxuLy8gOjogKE5vZGVSYW5nZSwgW3t0eXBlOiBOb2RlVHlwZSwgYXR0cnM6ID9PYmplY3R9XSkg4oaSIHRoaXNcbi8vIFdyYXAgdGhlIGdpdmVuIFtyYW5nZV0oI21vZGVsLk5vZGVSYW5nZSkgaW4gdGhlIGdpdmVuIHNldCBvZiB3cmFwcGVycy5cbi8vIFRoZSB3cmFwcGVycyBhcmUgYXNzdW1lZCB0byBiZSB2YWxpZCBpbiB0aGlzIHBvc2l0aW9uLCBhbmQgc2hvdWxkXG4vLyBwcm9iYWJseSBiZSBjb21wdXRlZCB3aXRoIFtgZmluZFdyYXBwaW5nYF0oI3RyYW5zZm9ybS5maW5kV3JhcHBpbmcpLlxuVHJhbnNmb3JtLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24ocmFuZ2UsIHdyYXBwZXJzKSB7XG4gIGxldCBjb250ZW50ID0gRnJhZ21lbnQuZW1wdHlcbiAgZm9yIChsZXQgaSA9IHdyYXBwZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgIGNvbnRlbnQgPSBGcmFnbWVudC5mcm9tKHdyYXBwZXJzW2ldLnR5cGUuY3JlYXRlKHdyYXBwZXJzW2ldLmF0dHJzLCBjb250ZW50KSlcblxuICBsZXQgc3RhcnQgPSByYW5nZS5zdGFydCwgZW5kID0gcmFuZ2UuZW5kXG4gIHJldHVybiB0aGlzLnN0ZXAobmV3IFJlcGxhY2VBcm91bmRTdGVwKHN0YXJ0LCBlbmQsIHN0YXJ0LCBlbmQsIG5ldyBTbGljZShjb250ZW50LCAwLCAwKSwgd3JhcHBlcnMubGVuZ3RoLCB0cnVlKSlcbn1cblxuLy8gOjogKG51bWJlciwgP251bWJlciwgTm9kZVR5cGUsID9PYmplY3QpIOKGkiB0aGlzXG4vLyBTZXQgdGhlIHR5cGUgb2YgYWxsIHRleHRibG9ja3MgKHBhcnRseSkgYmV0d2VlbiBgZnJvbWAgYW5kIGB0b2AgdG9cbi8vIHRoZSBnaXZlbiBub2RlIHR5cGUgd2l0aCB0aGUgZ2l2ZW4gYXR0cmlidXRlcy5cblRyYW5zZm9ybS5wcm90b3R5cGUuc2V0QmxvY2tUeXBlID0gZnVuY3Rpb24oZnJvbSwgdG8gPSBmcm9tLCB0eXBlLCBhdHRycykge1xuICBpZiAoIXR5cGUuaXNUZXh0YmxvY2spIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVHlwZSBnaXZlbiB0byBzZXRCbG9ja1R5cGUgc2hvdWxkIGJlIGEgdGV4dGJsb2NrXCIpXG4gIGxldCBtYXBGcm9tID0gdGhpcy5zdGVwcy5sZW5ndGhcbiAgdGhpcy5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCAobm9kZSwgcG9zKSA9PiB7XG4gICAgaWYgKG5vZGUuaXNUZXh0YmxvY2sgJiYgIW5vZGUuaGFzTWFya3VwKHR5cGUsIGF0dHJzKSAmJiBjYW5DaGFuZ2VUeXBlKHRoaXMuZG9jLCB0aGlzLm1hcHBpbmcuc2xpY2UobWFwRnJvbSkubWFwKHBvcyksIHR5cGUpKSB7XG4gICAgICAvLyBFbnN1cmUgYWxsIG1hcmt1cCB0aGF0IGlzbid0IGFsbG93ZWQgaW4gdGhlIG5ldyBub2RlIHR5cGUgaXMgY2xlYXJlZFxuICAgICAgdGhpcy5jbGVhckluY29tcGF0aWJsZSh0aGlzLm1hcHBpbmcuc2xpY2UobWFwRnJvbSkubWFwKHBvcywgMSksIHR5cGUpXG4gICAgICBsZXQgbWFwcGluZyA9IHRoaXMubWFwcGluZy5zbGljZShtYXBGcm9tKVxuICAgICAgbGV0IHN0YXJ0TSA9IG1hcHBpbmcubWFwKHBvcywgMSksIGVuZE0gPSBtYXBwaW5nLm1hcChwb3MgKyBub2RlLm5vZGVTaXplLCAxKVxuICAgICAgdGhpcy5zdGVwKG5ldyBSZXBsYWNlQXJvdW5kU3RlcChzdGFydE0sIGVuZE0sIHN0YXJ0TSArIDEsIGVuZE0gLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2xpY2UoRnJhZ21lbnQuZnJvbSh0eXBlLmNyZWF0ZShhdHRycywgbnVsbCwgbm9kZS5tYXJrcykpLCAwLCAwKSwgMSwgdHJ1ZSkpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0pXG4gIHJldHVybiB0aGlzXG59XG5cbmZ1bmN0aW9uIGNhbkNoYW5nZVR5cGUoZG9jLCBwb3MsIHR5cGUpIHtcbiAgbGV0ICRwb3MgPSBkb2MucmVzb2x2ZShwb3MpLCBpbmRleCA9ICRwb3MuaW5kZXgoKVxuICByZXR1cm4gJHBvcy5wYXJlbnQuY2FuUmVwbGFjZVdpdGgoaW5kZXgsIGluZGV4ICsgMSwgdHlwZSlcbn1cblxuLy8gOjogKG51bWJlciwgP05vZGVUeXBlLCA/T2JqZWN0LCA/W01hcmtdKSDihpIgdGhpc1xuLy8gQ2hhbmdlIHRoZSB0eXBlLCBhdHRyaWJ1dGVzLCBhbmQvb3IgbWFya3Mgb2YgdGhlIG5vZGUgYXQgYHBvc2AuXG4vLyBXaGVuIGB0eXBlYCBpc24ndCBnaXZlbiwgdGhlIGV4aXN0aW5nIG5vZGUgdHlwZSBpcyBwcmVzZXJ2ZWQsXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnNldE5vZGVNYXJrdXAgPSBmdW5jdGlvbihwb3MsIHR5cGUsIGF0dHJzLCBtYXJrcykge1xuICBsZXQgbm9kZSA9IHRoaXMuZG9jLm5vZGVBdChwb3MpXG4gIGlmICghbm9kZSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJObyBub2RlIGF0IGdpdmVuIHBvc2l0aW9uXCIpXG4gIGlmICghdHlwZSkgdHlwZSA9IG5vZGUudHlwZVxuICBsZXQgbmV3Tm9kZSA9IHR5cGUuY3JlYXRlKGF0dHJzLCBudWxsLCBtYXJrcyB8fCBub2RlLm1hcmtzKVxuICBpZiAobm9kZS5pc0xlYWYpXG4gICAgcmV0dXJuIHRoaXMucmVwbGFjZVdpdGgocG9zLCBwb3MgKyBub2RlLm5vZGVTaXplLCBuZXdOb2RlKVxuXG4gIGlmICghdHlwZS52YWxpZENvbnRlbnQobm9kZS5jb250ZW50KSlcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgY29udGVudCBmb3Igbm9kZSB0eXBlIFwiICsgdHlwZS5uYW1lKVxuXG4gIHJldHVybiB0aGlzLnN0ZXAobmV3IFJlcGxhY2VBcm91bmRTdGVwKHBvcywgcG9zICsgbm9kZS5ub2RlU2l6ZSwgcG9zICsgMSwgcG9zICsgbm9kZS5ub2RlU2l6ZSAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTbGljZShGcmFnbWVudC5mcm9tKG5ld05vZGUpLCAwLCAwKSwgMSwgdHJ1ZSkpXG59XG5cbi8vIDo6IChOb2RlLCBudW1iZXIsIG51bWJlciwgP1s/e3R5cGU6IE5vZGVUeXBlLCBhdHRyczogP09iamVjdH1dKSDihpIgYm9vbFxuLy8gQ2hlY2sgd2hldGhlciBzcGxpdHRpbmcgYXQgdGhlIGdpdmVuIHBvc2l0aW9uIGlzIGFsbG93ZWQuXG5leHBvcnQgZnVuY3Rpb24gY2FuU3BsaXQoZG9jLCBwb3MsIGRlcHRoID0gMSwgdHlwZXNBZnRlcikge1xuICBsZXQgJHBvcyA9IGRvYy5yZXNvbHZlKHBvcyksIGJhc2UgPSAkcG9zLmRlcHRoIC0gZGVwdGhcbiAgbGV0IGlubmVyVHlwZSA9ICh0eXBlc0FmdGVyICYmIHR5cGVzQWZ0ZXJbdHlwZXNBZnRlci5sZW5ndGggLSAxXSkgfHwgJHBvcy5wYXJlbnRcbiAgaWYgKGJhc2UgPCAwIHx8ICRwb3MucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcgfHxcbiAgICAgICEkcG9zLnBhcmVudC5jYW5SZXBsYWNlKCRwb3MuaW5kZXgoKSwgJHBvcy5wYXJlbnQuY2hpbGRDb3VudCkgfHxcbiAgICAgICFpbm5lclR5cGUudHlwZS52YWxpZENvbnRlbnQoJHBvcy5wYXJlbnQuY29udGVudC5jdXRCeUluZGV4KCRwb3MuaW5kZXgoKSwgJHBvcy5wYXJlbnQuY2hpbGRDb3VudCkpKVxuICAgIHJldHVybiBmYWxzZVxuICBmb3IgKGxldCBkID0gJHBvcy5kZXB0aCAtIDEsIGkgPSBkZXB0aCAtIDI7IGQgPiBiYXNlOyBkLS0sIGktLSkge1xuICAgIGxldCBub2RlID0gJHBvcy5ub2RlKGQpLCBpbmRleCA9ICRwb3MuaW5kZXgoZClcbiAgICBpZiAobm9kZS50eXBlLnNwZWMuaXNvbGF0aW5nKSByZXR1cm4gZmFsc2VcbiAgICBsZXQgcmVzdCA9IG5vZGUuY29udGVudC5jdXRCeUluZGV4KGluZGV4LCBub2RlLmNoaWxkQ291bnQpXG4gICAgbGV0IGFmdGVyID0gKHR5cGVzQWZ0ZXIgJiYgdHlwZXNBZnRlcltpXSkgfHwgbm9kZVxuICAgIGlmIChhZnRlciAhPSBub2RlKSByZXN0ID0gcmVzdC5yZXBsYWNlQ2hpbGQoMCwgYWZ0ZXIudHlwZS5jcmVhdGUoYWZ0ZXIuYXR0cnMpKVxuICAgIGlmICghbm9kZS5jYW5SZXBsYWNlKGluZGV4ICsgMSwgbm9kZS5jaGlsZENvdW50KSB8fCAhYWZ0ZXIudHlwZS52YWxpZENvbnRlbnQocmVzdCkpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBsZXQgaW5kZXggPSAkcG9zLmluZGV4QWZ0ZXIoYmFzZSlcbiAgbGV0IGJhc2VUeXBlID0gdHlwZXNBZnRlciAmJiB0eXBlc0FmdGVyWzBdXG4gIHJldHVybiAkcG9zLm5vZGUoYmFzZSkuY2FuUmVwbGFjZVdpdGgoaW5kZXgsIGluZGV4LCBiYXNlVHlwZSA/IGJhc2VUeXBlLnR5cGUgOiAkcG9zLm5vZGUoYmFzZSArIDEpLnR5cGUpXG59XG5cbi8vIDo6IChudW1iZXIsID9udW1iZXIsID9bP3t0eXBlOiBOb2RlVHlwZSwgYXR0cnM6ID9PYmplY3R9XSkg4oaSIHRoaXNcbi8vIFNwbGl0IHRoZSBub2RlIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiwgYW5kIG9wdGlvbmFsbHksIGlmIGBkZXB0aGAgaXNcbi8vIGdyZWF0ZXIgdGhhbiBvbmUsIGFueSBudW1iZXIgb2Ygbm9kZXMgYWJvdmUgdGhhdC4gQnkgZGVmYXVsdCwgdGhlXG4vLyBwYXJ0cyBzcGxpdCBvZmYgd2lsbCBpbmhlcml0IHRoZSBub2RlIHR5cGUgb2YgdGhlIG9yaWdpbmFsIG5vZGUuXG4vLyBUaGlzIGNhbiBiZSBjaGFuZ2VkIGJ5IHBhc3NpbmcgYW4gYXJyYXkgb2YgdHlwZXMgYW5kIGF0dHJpYnV0ZXMgdG9cbi8vIHVzZSBhZnRlciB0aGUgc3BsaXQuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnNwbGl0ID0gZnVuY3Rpb24ocG9zLCBkZXB0aCA9IDEsIHR5cGVzQWZ0ZXIpIHtcbiAgbGV0ICRwb3MgPSB0aGlzLmRvYy5yZXNvbHZlKHBvcyksIGJlZm9yZSA9IEZyYWdtZW50LmVtcHR5LCBhZnRlciA9IEZyYWdtZW50LmVtcHR5XG4gIGZvciAobGV0IGQgPSAkcG9zLmRlcHRoLCBlID0gJHBvcy5kZXB0aCAtIGRlcHRoLCBpID0gZGVwdGggLSAxOyBkID4gZTsgZC0tLCBpLS0pIHtcbiAgICBiZWZvcmUgPSBGcmFnbWVudC5mcm9tKCRwb3Mubm9kZShkKS5jb3B5KGJlZm9yZSkpXG4gICAgbGV0IHR5cGVBZnRlciA9IHR5cGVzQWZ0ZXIgJiYgdHlwZXNBZnRlcltpXVxuICAgIGFmdGVyID0gRnJhZ21lbnQuZnJvbSh0eXBlQWZ0ZXIgPyB0eXBlQWZ0ZXIudHlwZS5jcmVhdGUodHlwZUFmdGVyLmF0dHJzLCBhZnRlcikgOiAkcG9zLm5vZGUoZCkuY29weShhZnRlcikpXG4gIH1cbiAgcmV0dXJuIHRoaXMuc3RlcChuZXcgUmVwbGFjZVN0ZXAocG9zLCBwb3MsIG5ldyBTbGljZShiZWZvcmUuYXBwZW5kKGFmdGVyKSwgZGVwdGgsIGRlcHRoKSwgdHJ1ZSkpXG59XG5cbi8vIDo6IChOb2RlLCBudW1iZXIpIOKGkiBib29sXG4vLyBUZXN0IHdoZXRoZXIgdGhlIGJsb2NrcyBiZWZvcmUgYW5kIGFmdGVyIGEgZ2l2ZW4gcG9zaXRpb24gY2FuIGJlXG4vLyBqb2luZWQuXG5leHBvcnQgZnVuY3Rpb24gY2FuSm9pbihkb2MsIHBvcykge1xuICBsZXQgJHBvcyA9IGRvYy5yZXNvbHZlKHBvcyksIGluZGV4ID0gJHBvcy5pbmRleCgpXG4gIHJldHVybiBqb2luYWJsZSgkcG9zLm5vZGVCZWZvcmUsICRwb3Mubm9kZUFmdGVyKSAmJlxuICAgICRwb3MucGFyZW50LmNhblJlcGxhY2UoaW5kZXgsIGluZGV4ICsgMSlcbn1cblxuZnVuY3Rpb24gam9pbmFibGUoYSwgYikge1xuICByZXR1cm4gYSAmJiBiICYmICFhLmlzTGVhZiAmJiBhLmNhbkFwcGVuZChiKVxufVxuXG4vLyA6OiAoTm9kZSwgbnVtYmVyLCA/bnVtYmVyKSDihpIgP251bWJlclxuLy8gRmluZCBhbiBhbmNlc3RvciBvZiB0aGUgZ2l2ZW4gcG9zaXRpb24gdGhhdCBjYW4gYmUgam9pbmVkIHRvIHRoZVxuLy8gYmxvY2sgYmVmb3JlIChvciBhZnRlciBpZiBgZGlyYCBpcyBwb3NpdGl2ZSkuIFJldHVybnMgdGhlIGpvaW5hYmxlXG4vLyBwb2ludCwgaWYgYW55LlxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5Qb2ludChkb2MsIHBvcywgZGlyID0gLTEpIHtcbiAgbGV0ICRwb3MgPSBkb2MucmVzb2x2ZShwb3MpXG4gIGZvciAobGV0IGQgPSAkcG9zLmRlcHRoOzsgZC0tKSB7XG4gICAgbGV0IGJlZm9yZSwgYWZ0ZXJcbiAgICBpZiAoZCA9PSAkcG9zLmRlcHRoKSB7XG4gICAgICBiZWZvcmUgPSAkcG9zLm5vZGVCZWZvcmVcbiAgICAgIGFmdGVyID0gJHBvcy5ub2RlQWZ0ZXJcbiAgICB9IGVsc2UgaWYgKGRpciA+IDApIHtcbiAgICAgIGJlZm9yZSA9ICRwb3Mubm9kZShkICsgMSlcbiAgICAgIGFmdGVyID0gJHBvcy5ub2RlKGQpLm1heWJlQ2hpbGQoJHBvcy5pbmRleChkKSArIDEpXG4gICAgfSBlbHNlIHtcbiAgICAgIGJlZm9yZSA9ICRwb3Mubm9kZShkKS5tYXliZUNoaWxkKCRwb3MuaW5kZXgoZCkgLSAxKVxuICAgICAgYWZ0ZXIgPSAkcG9zLm5vZGUoZCArIDEpXG4gICAgfVxuICAgIGlmIChiZWZvcmUgJiYgIWJlZm9yZS5pc1RleHRibG9jayAmJiBqb2luYWJsZShiZWZvcmUsIGFmdGVyKSkgcmV0dXJuIHBvc1xuICAgIGlmIChkID09IDApIGJyZWFrXG4gICAgcG9zID0gZGlyIDwgMCA/ICRwb3MuYmVmb3JlKGQpIDogJHBvcy5hZnRlcihkKVxuICB9XG59XG5cbi8vIDo6IChudW1iZXIsID9udW1iZXIpIOKGkiB0aGlzXG4vLyBKb2luIHRoZSBibG9ja3MgYXJvdW5kIHRoZSBnaXZlbiBwb3NpdGlvbi4gSWYgZGVwdGggaXMgMiwgdGhlaXJcbi8vIGxhc3QgYW5kIGZpcnN0IHNpYmxpbmdzIGFyZSBhbHNvIGpvaW5lZCwgYW5kIHNvIG9uLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5qb2luID0gZnVuY3Rpb24ocG9zLCBkZXB0aCA9IDEpIHtcbiAgbGV0IHN0ZXAgPSBuZXcgUmVwbGFjZVN0ZXAocG9zIC0gZGVwdGgsIHBvcyArIGRlcHRoLCBTbGljZS5lbXB0eSwgdHJ1ZSlcbiAgcmV0dXJuIHRoaXMuc3RlcChzdGVwKVxufVxuXG4vLyA6OiAoTm9kZSwgbnVtYmVyLCBOb2RlVHlwZSkg4oaSID9udW1iZXJcbi8vIFRyeSB0byBmaW5kIGEgcG9pbnQgd2hlcmUgYSBub2RlIG9mIHRoZSBnaXZlbiB0eXBlIGNhbiBiZSBpbnNlcnRlZFxuLy8gbmVhciBgcG9zYCwgYnkgc2VhcmNoaW5nIHVwIHRoZSBub2RlIGhpZXJhcmNoeSB3aGVuIGBwb3NgIGl0c2VsZlxuLy8gaXNuJ3QgYSB2YWxpZCBwbGFjZSBidXQgaXMgYXQgdGhlIHN0YXJ0IG9yIGVuZCBvZiBhIG5vZGUuIFJldHVyblxuLy8gbnVsbCBpZiBubyBwb3NpdGlvbiB3YXMgZm91bmQuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0UG9pbnQoZG9jLCBwb3MsIG5vZGVUeXBlKSB7XG4gIGxldCAkcG9zID0gZG9jLnJlc29sdmUocG9zKVxuICBpZiAoJHBvcy5wYXJlbnQuY2FuUmVwbGFjZVdpdGgoJHBvcy5pbmRleCgpLCAkcG9zLmluZGV4KCksIG5vZGVUeXBlKSkgcmV0dXJuIHBvc1xuXG4gIGlmICgkcG9zLnBhcmVudE9mZnNldCA9PSAwKVxuICAgIGZvciAobGV0IGQgPSAkcG9zLmRlcHRoIC0gMTsgZCA+PSAwOyBkLS0pIHtcbiAgICAgIGxldCBpbmRleCA9ICRwb3MuaW5kZXgoZClcbiAgICAgIGlmICgkcG9zLm5vZGUoZCkuY2FuUmVwbGFjZVdpdGgoaW5kZXgsIGluZGV4LCBub2RlVHlwZSkpIHJldHVybiAkcG9zLmJlZm9yZShkICsgMSlcbiAgICAgIGlmIChpbmRleCA+IDApIHJldHVybiBudWxsXG4gICAgfVxuICBpZiAoJHBvcy5wYXJlbnRPZmZzZXQgPT0gJHBvcy5wYXJlbnQuY29udGVudC5zaXplKVxuICAgIGZvciAobGV0IGQgPSAkcG9zLmRlcHRoIC0gMTsgZCA+PSAwOyBkLS0pIHtcbiAgICAgIGxldCBpbmRleCA9ICRwb3MuaW5kZXhBZnRlcihkKVxuICAgICAgaWYgKCRwb3Mubm9kZShkKS5jYW5SZXBsYWNlV2l0aChpbmRleCwgaW5kZXgsIG5vZGVUeXBlKSkgcmV0dXJuICRwb3MuYWZ0ZXIoZCArIDEpXG4gICAgICBpZiAoaW5kZXggPCAkcG9zLm5vZGUoZCkuY2hpbGRDb3VudCkgcmV0dXJuIG51bGxcbiAgICB9XG59XG5cbi8vIDo6IChOb2RlLCBudW1iZXIsIFNsaWNlKSDihpIgP251bWJlclxuLy8gRmluZHMgYSBwb3NpdGlvbiBhdCBvciBhcm91bmQgdGhlIGdpdmVuIHBvc2l0aW9uIHdoZXJlIHRoZSBnaXZlblxuLy8gc2xpY2UgY2FuIGJlIGluc2VydGVkLiBXaWxsIGxvb2sgYXQgcGFyZW50IG5vZGVzJyBuZWFyZXN0IGJvdW5kYXJ5XG4vLyBhbmQgdHJ5IHRoZXJlLCBldmVuIGlmIHRoZSBvcmlnaW5hbCBwb3NpdGlvbiB3YXNuJ3QgZGlyZWN0bHkgYXQgdGhlXG4vLyBzdGFydCBvciBlbmQgb2YgdGhhdCBub2RlLiBSZXR1cm5zIG51bGwgd2hlbiBubyBwb3NpdGlvbiB3YXMgZm91bmQuXG5leHBvcnQgZnVuY3Rpb24gZHJvcFBvaW50KGRvYywgcG9zLCBzbGljZSkge1xuICBsZXQgJHBvcyA9IGRvYy5yZXNvbHZlKHBvcylcbiAgaWYgKCFzbGljZS5jb250ZW50LnNpemUpIHJldHVybiBwb3NcbiAgbGV0IGNvbnRlbnQgPSBzbGljZS5jb250ZW50XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpY2Uub3BlblN0YXJ0OyBpKyspIGNvbnRlbnQgPSBjb250ZW50LmZpcnN0Q2hpbGQuY29udGVudFxuICBmb3IgKGxldCBwYXNzID0gMTsgcGFzcyA8PSAoc2xpY2Uub3BlblN0YXJ0ID09IDAgJiYgc2xpY2Uuc2l6ZSA/IDIgOiAxKTsgcGFzcysrKSB7XG4gICAgZm9yIChsZXQgZCA9ICRwb3MuZGVwdGg7IGQgPj0gMDsgZC0tKSB7XG4gICAgICBsZXQgYmlhcyA9IGQgPT0gJHBvcy5kZXB0aCA/IDAgOiAkcG9zLnBvcyA8PSAoJHBvcy5zdGFydChkICsgMSkgKyAkcG9zLmVuZChkICsgMSkpIC8gMiA/IC0xIDogMVxuICAgICAgbGV0IGluc2VydFBvcyA9ICRwb3MuaW5kZXgoZCkgKyAoYmlhcyA+IDAgPyAxIDogMClcbiAgICAgIGlmIChwYXNzID09IDFcbiAgICAgICAgICA/ICRwb3Mubm9kZShkKS5jYW5SZXBsYWNlKGluc2VydFBvcywgaW5zZXJ0UG9zLCBjb250ZW50KVxuICAgICAgICAgIDogJHBvcy5ub2RlKGQpLmNvbnRlbnRNYXRjaEF0KGluc2VydFBvcykuZmluZFdyYXBwaW5nKGNvbnRlbnQuZmlyc3RDaGlsZC50eXBlKSlcbiAgICAgICAgcmV0dXJuIGJpYXMgPT0gMCA/ICRwb3MucG9zIDogYmlhcyA8IDAgPyAkcG9zLmJlZm9yZShkICsgMSkgOiAkcG9zLmFmdGVyKGQgKyAxKVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuIiwiaW1wb3J0IHtGcmFnbWVudCwgU2xpY2V9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5pbXBvcnQge1N0ZXAsIFN0ZXBSZXN1bHR9IGZyb20gXCIuL3N0ZXBcIlxuXG5mdW5jdGlvbiBtYXBGcmFnbWVudChmcmFnbWVudCwgZiwgcGFyZW50KSB7XG4gIGxldCBtYXBwZWQgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYWdtZW50LmNoaWxkQ291bnQ7IGkrKykge1xuICAgIGxldCBjaGlsZCA9IGZyYWdtZW50LmNoaWxkKGkpXG4gICAgaWYgKGNoaWxkLmNvbnRlbnQuc2l6ZSkgY2hpbGQgPSBjaGlsZC5jb3B5KG1hcEZyYWdtZW50KGNoaWxkLmNvbnRlbnQsIGYsIGNoaWxkKSlcbiAgICBpZiAoY2hpbGQuaXNJbmxpbmUpIGNoaWxkID0gZihjaGlsZCwgcGFyZW50LCBpKVxuICAgIG1hcHBlZC5wdXNoKGNoaWxkKVxuICB9XG4gIHJldHVybiBGcmFnbWVudC5mcm9tQXJyYXkobWFwcGVkKVxufVxuXG4vLyA6Oi0gQWRkIGEgbWFyayB0byBhbGwgaW5saW5lIGNvbnRlbnQgYmV0d2VlbiB0d28gcG9zaXRpb25zLlxuZXhwb3J0IGNsYXNzIEFkZE1hcmtTdGVwIGV4dGVuZHMgU3RlcCB7XG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgTWFyaylcbiAgY29uc3RydWN0b3IoZnJvbSwgdG8sIG1hcmspIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5mcm9tID0gZnJvbVxuICAgIHRoaXMudG8gPSB0b1xuICAgIHRoaXMubWFyayA9IG1hcmtcbiAgfVxuXG4gIGFwcGx5KGRvYykge1xuICAgIGxldCBvbGRTbGljZSA9IGRvYy5zbGljZSh0aGlzLmZyb20sIHRoaXMudG8pLCAkZnJvbSA9IGRvYy5yZXNvbHZlKHRoaXMuZnJvbSlcbiAgICBsZXQgcGFyZW50ID0gJGZyb20ubm9kZSgkZnJvbS5zaGFyZWREZXB0aCh0aGlzLnRvKSlcbiAgICBsZXQgc2xpY2UgPSBuZXcgU2xpY2UobWFwRnJhZ21lbnQob2xkU2xpY2UuY29udGVudCwgKG5vZGUsIHBhcmVudCkgPT4ge1xuICAgICAgaWYgKCFwYXJlbnQudHlwZS5hbGxvd3NNYXJrVHlwZSh0aGlzLm1hcmsudHlwZSkpIHJldHVybiBub2RlXG4gICAgICByZXR1cm4gbm9kZS5tYXJrKHRoaXMubWFyay5hZGRUb1NldChub2RlLm1hcmtzKSlcbiAgICB9LCBwYXJlbnQpLCBvbGRTbGljZS5vcGVuU3RhcnQsIG9sZFNsaWNlLm9wZW5FbmQpXG4gICAgcmV0dXJuIFN0ZXBSZXN1bHQuZnJvbVJlcGxhY2UoZG9jLCB0aGlzLmZyb20sIHRoaXMudG8sIHNsaWNlKVxuICB9XG5cbiAgaW52ZXJ0KCkge1xuICAgIHJldHVybiBuZXcgUmVtb3ZlTWFya1N0ZXAodGhpcy5mcm9tLCB0aGlzLnRvLCB0aGlzLm1hcmspXG4gIH1cblxuICBtYXAobWFwcGluZykge1xuICAgIGxldCBmcm9tID0gbWFwcGluZy5tYXBSZXN1bHQodGhpcy5mcm9tLCAxKSwgdG8gPSBtYXBwaW5nLm1hcFJlc3VsdCh0aGlzLnRvLCAtMSlcbiAgICBpZiAoZnJvbS5kZWxldGVkICYmIHRvLmRlbGV0ZWQgfHwgZnJvbS5wb3MgPj0gdG8ucG9zKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiBuZXcgQWRkTWFya1N0ZXAoZnJvbS5wb3MsIHRvLnBvcywgdGhpcy5tYXJrKVxuICB9XG5cbiAgbWVyZ2Uob3RoZXIpIHtcbiAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBBZGRNYXJrU3RlcCAmJlxuICAgICAgICBvdGhlci5tYXJrLmVxKHRoaXMubWFyaykgJiZcbiAgICAgICAgdGhpcy5mcm9tIDw9IG90aGVyLnRvICYmIHRoaXMudG8gPj0gb3RoZXIuZnJvbSlcbiAgICAgIHJldHVybiBuZXcgQWRkTWFya1N0ZXAoTWF0aC5taW4odGhpcy5mcm9tLCBvdGhlci5mcm9tKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgodGhpcy50bywgb3RoZXIudG8pLCB0aGlzLm1hcmspXG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtzdGVwVHlwZTogXCJhZGRNYXJrXCIsIG1hcms6IHRoaXMubWFyay50b0pTT04oKSxcbiAgICAgICAgICAgIGZyb206IHRoaXMuZnJvbSwgdG86IHRoaXMudG99XG4gIH1cblxuICBzdGF0aWMgZnJvbUpTT04oc2NoZW1hLCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uLmZyb20gIT0gXCJudW1iZXJcIiB8fCB0eXBlb2YganNvbi50byAhPSBcIm51bWJlclwiKVxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBBZGRNYXJrU3RlcC5mcm9tSlNPTlwiKVxuICAgIHJldHVybiBuZXcgQWRkTWFya1N0ZXAoanNvbi5mcm9tLCBqc29uLnRvLCBzY2hlbWEubWFya0Zyb21KU09OKGpzb24ubWFyaykpXG4gIH1cbn1cblxuU3RlcC5qc29uSUQoXCJhZGRNYXJrXCIsIEFkZE1hcmtTdGVwKVxuXG4vLyA6Oi0gUmVtb3ZlIGEgbWFyayBmcm9tIGFsbCBpbmxpbmUgY29udGVudCBiZXR3ZWVuIHR3byBwb3NpdGlvbnMuXG5leHBvcnQgY2xhc3MgUmVtb3ZlTWFya1N0ZXAgZXh0ZW5kcyBTdGVwIHtcbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCBNYXJrKVxuICBjb25zdHJ1Y3Rvcihmcm9tLCB0bywgbWFyaykge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLmZyb20gPSBmcm9tXG4gICAgdGhpcy50byA9IHRvXG4gICAgdGhpcy5tYXJrID0gbWFya1xuICB9XG5cbiAgYXBwbHkoZG9jKSB7XG4gICAgbGV0IG9sZFNsaWNlID0gZG9jLnNsaWNlKHRoaXMuZnJvbSwgdGhpcy50bylcbiAgICBsZXQgc2xpY2UgPSBuZXcgU2xpY2UobWFwRnJhZ21lbnQob2xkU2xpY2UuY29udGVudCwgbm9kZSA9PiB7XG4gICAgICByZXR1cm4gbm9kZS5tYXJrKHRoaXMubWFyay5yZW1vdmVGcm9tU2V0KG5vZGUubWFya3MpKVxuICAgIH0pLCBvbGRTbGljZS5vcGVuU3RhcnQsIG9sZFNsaWNlLm9wZW5FbmQpXG4gICAgcmV0dXJuIFN0ZXBSZXN1bHQuZnJvbVJlcGxhY2UoZG9jLCB0aGlzLmZyb20sIHRoaXMudG8sIHNsaWNlKVxuICB9XG5cbiAgaW52ZXJ0KCkge1xuICAgIHJldHVybiBuZXcgQWRkTWFya1N0ZXAodGhpcy5mcm9tLCB0aGlzLnRvLCB0aGlzLm1hcmspXG4gIH1cblxuICBtYXAobWFwcGluZykge1xuICAgIGxldCBmcm9tID0gbWFwcGluZy5tYXBSZXN1bHQodGhpcy5mcm9tLCAxKSwgdG8gPSBtYXBwaW5nLm1hcFJlc3VsdCh0aGlzLnRvLCAtMSlcbiAgICBpZiAoZnJvbS5kZWxldGVkICYmIHRvLmRlbGV0ZWQgfHwgZnJvbS5wb3MgPj0gdG8ucG9zKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiBuZXcgUmVtb3ZlTWFya1N0ZXAoZnJvbS5wb3MsIHRvLnBvcywgdGhpcy5tYXJrKVxuICB9XG5cbiAgbWVyZ2Uob3RoZXIpIHtcbiAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBSZW1vdmVNYXJrU3RlcCAmJlxuICAgICAgICBvdGhlci5tYXJrLmVxKHRoaXMubWFyaykgJiZcbiAgICAgICAgdGhpcy5mcm9tIDw9IG90aGVyLnRvICYmIHRoaXMudG8gPj0gb3RoZXIuZnJvbSlcbiAgICAgIHJldHVybiBuZXcgUmVtb3ZlTWFya1N0ZXAoTWF0aC5taW4odGhpcy5mcm9tLCBvdGhlci5mcm9tKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgodGhpcy50bywgb3RoZXIudG8pLCB0aGlzLm1hcmspXG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtzdGVwVHlwZTogXCJyZW1vdmVNYXJrXCIsIG1hcms6IHRoaXMubWFyay50b0pTT04oKSxcbiAgICAgICAgICAgIGZyb206IHRoaXMuZnJvbSwgdG86IHRoaXMudG99XG4gIH1cblxuICBzdGF0aWMgZnJvbUpTT04oc2NoZW1hLCBqc29uKSB7XG4gICAgaWYgKHR5cGVvZiBqc29uLmZyb20gIT0gXCJudW1iZXJcIiB8fCB0eXBlb2YganNvbi50byAhPSBcIm51bWJlclwiKVxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBSZW1vdmVNYXJrU3RlcC5mcm9tSlNPTlwiKVxuICAgIHJldHVybiBuZXcgUmVtb3ZlTWFya1N0ZXAoanNvbi5mcm9tLCBqc29uLnRvLCBzY2hlbWEubWFya0Zyb21KU09OKGpzb24ubWFyaykpXG4gIH1cbn1cblxuU3RlcC5qc29uSUQoXCJyZW1vdmVNYXJrXCIsIFJlbW92ZU1hcmtTdGVwKVxuIiwiaW1wb3J0IHtUZXh0U2VsZWN0aW9uLCBOb2RlU2VsZWN0aW9ufSBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIlxuXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwiLi9icm93c2VyXCJcbmltcG9ydCB7c2VsZWN0aW9uQ29sbGFwc2VkLCBpc0VxdWl2YWxlbnRQb3NpdGlvbiwgZG9tSW5kZXgsIGlzT25FZGdlfSBmcm9tIFwiLi9kb21cIlxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0aW9uRnJvbURPTSh2aWV3LCBvcmlnaW4pIHtcbiAgbGV0IGRvbVNlbCA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSwgZG9jID0gdmlldy5zdGF0ZS5kb2NcbiAgbGV0IG5lYXJlc3REZXNjID0gdmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGRvbVNlbC5mb2N1c05vZGUpLCBpbldpZGdldCA9IG5lYXJlc3REZXNjICYmIG5lYXJlc3REZXNjLnNpemUgPT0gMFxuICBsZXQgaGVhZCA9IHZpZXcuZG9jVmlldy5wb3NGcm9tRE9NKGRvbVNlbC5mb2N1c05vZGUsIGRvbVNlbC5mb2N1c09mZnNldClcbiAgbGV0ICRoZWFkID0gZG9jLnJlc29sdmUoaGVhZCksICRhbmNob3IsIHNlbGVjdGlvblxuICBpZiAoc2VsZWN0aW9uQ29sbGFwc2VkKGRvbVNlbCkpIHtcbiAgICAkYW5jaG9yID0gJGhlYWRcbiAgICB3aGlsZSAobmVhcmVzdERlc2MgJiYgIW5lYXJlc3REZXNjLm5vZGUpIG5lYXJlc3REZXNjID0gbmVhcmVzdERlc2MucGFyZW50XG4gICAgaWYgKG5lYXJlc3REZXNjICYmIG5lYXJlc3REZXNjLm5vZGUuaXNBdG9tICYmIE5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5lYXJlc3REZXNjLm5vZGUpICYmIG5lYXJlc3REZXNjLnBhcmVudFxuICAgICAgICAmJiAhKG5lYXJlc3REZXNjLm5vZGUuaXNJbmxpbmUgJiYgaXNPbkVkZ2UoZG9tU2VsLmZvY3VzTm9kZSwgZG9tU2VsLmZvY3VzT2Zmc2V0LCBuZWFyZXN0RGVzYy5kb20pKSkge1xuICAgICAgbGV0IHBvcyA9IG5lYXJlc3REZXNjLnBvc0JlZm9yZVxuICAgICAgc2VsZWN0aW9uID0gbmV3IE5vZGVTZWxlY3Rpb24oaGVhZCA9PSBwb3MgPyAkaGVhZCA6IGRvYy5yZXNvbHZlKHBvcykpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgICRhbmNob3IgPSBkb2MucmVzb2x2ZSh2aWV3LmRvY1ZpZXcucG9zRnJvbURPTShkb21TZWwuYW5jaG9yTm9kZSwgZG9tU2VsLmFuY2hvck9mZnNldCkpXG4gIH1cblxuICBpZiAoIXNlbGVjdGlvbikge1xuICAgIGxldCBiaWFzID0gb3JpZ2luID09IFwicG9pbnRlclwiIHx8ICh2aWV3LnN0YXRlLnNlbGVjdGlvbi5oZWFkIDwgJGhlYWQucG9zICYmICFpbldpZGdldCkgPyAxIDogLTFcbiAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb25CZXR3ZWVuKHZpZXcsICRhbmNob3IsICRoZWFkLCBiaWFzKVxuICB9XG4gIHJldHVybiBzZWxlY3Rpb25cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdGlvblRvRE9NKHZpZXcsIGZvcmNlKSB7XG4gIGxldCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvblxuICBzeW5jTm9kZVNlbGVjdGlvbih2aWV3LCBzZWwpXG5cbiAgaWYgKHZpZXcuZWRpdGFibGUgPyAhdmlldy5oYXNGb2N1cygpIDogIShoYXNTZWxlY3Rpb24odmlldykgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jb250YWlucyh2aWV3LmRvbSkpKSByZXR1cm5cblxuICB2aWV3LmRvbU9ic2VydmVyLmRpc2Nvbm5lY3RTZWxlY3Rpb24oKVxuXG4gIGlmICh2aWV3LmN1cnNvcldyYXBwZXIpIHtcbiAgICBzZWxlY3RDdXJzb3JXcmFwcGVyKHZpZXcpXG4gIH0gZWxzZSB7XG4gICAgbGV0IHthbmNob3IsIGhlYWR9ID0gc2VsLCByZXNldEVkaXRhYmxlRnJvbSwgcmVzZXRFZGl0YWJsZVRvXG4gICAgaWYgKGJyb2tlblNlbGVjdEJldHdlZW5VbmVkaXRhYmxlICYmICEoc2VsIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbikpIHtcbiAgICAgIGlmICghc2VsLiRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50KVxuICAgICAgICByZXNldEVkaXRhYmxlRnJvbSA9IHRlbXBvcmFyaWx5RWRpdGFibGVOZWFyKHZpZXcsIHNlbC5mcm9tKVxuICAgICAgaWYgKCFzZWwuZW1wdHkgJiYgIXNlbC4kZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudClcbiAgICAgICAgcmVzZXRFZGl0YWJsZVRvID0gdGVtcG9yYXJpbHlFZGl0YWJsZU5lYXIodmlldywgc2VsLnRvKVxuICAgIH1cbiAgICB2aWV3LmRvY1ZpZXcuc2V0U2VsZWN0aW9uKGFuY2hvciwgaGVhZCwgdmlldy5yb290LCBmb3JjZSlcbiAgICBpZiAoYnJva2VuU2VsZWN0QmV0d2VlblVuZWRpdGFibGUpIHtcbiAgICAgIGlmIChyZXNldEVkaXRhYmxlRnJvbSkgcmVzZXRFZGl0YWJsZShyZXNldEVkaXRhYmxlRnJvbSlcbiAgICAgIGlmIChyZXNldEVkaXRhYmxlVG8pIHJlc2V0RWRpdGFibGUocmVzZXRFZGl0YWJsZVRvKVxuICAgIH1cbiAgICBpZiAoc2VsLnZpc2libGUpIHtcbiAgICAgIHZpZXcuZG9tLmNsYXNzTGlzdC5yZW1vdmUoXCJQcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uXCIpXG4gICAgfSBlbHNlIGlmIChhbmNob3IgIT0gaGVhZCkge1xuICAgICAgdmlldy5kb20uY2xhc3NMaXN0LmFkZChcIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb25cIilcbiAgICAgIGlmIChcIm9uc2VsZWN0aW9uY2hhbmdlXCIgaW4gZG9jdW1lbnQpIHJlbW92ZUNsYXNzT25TZWxlY3Rpb25DaGFuZ2UodmlldylcbiAgICB9XG4gIH1cblxuICB2aWV3LmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpXG4gIHZpZXcuZG9tT2JzZXJ2ZXIuY29ubmVjdFNlbGVjdGlvbigpXG59XG5cbi8vIEtsdWRnZSB0byB3b3JrIGFyb3VuZCBXZWJraXQgbm90IGFsbG93aW5nIGEgc2VsZWN0aW9uIHRvIHN0YXJ0L2VuZFxuLy8gYmV0d2VlbiBub24tZWRpdGFibGUgYmxvY2sgbm9kZXMuIFdlIGJyaWVmbHkgbWFrZSBzb21ldGhpbmdcbi8vIGVkaXRhYmxlLCBzZXQgdGhlIHNlbGVjdGlvbiwgdGhlbiBzZXQgaXQgdW5lZGl0YWJsZSBhZ2Fpbi5cblxuY29uc3QgYnJva2VuU2VsZWN0QmV0d2VlblVuZWRpdGFibGUgPSBicm93c2VyLnNhZmFyaSB8fCBicm93c2VyLmNocm9tZSAmJiBicm93c2VyLmNocm9tZV92ZXJzaW9uIDwgNjNcblxuZnVuY3Rpb24gdGVtcG9yYXJpbHlFZGl0YWJsZU5lYXIodmlldywgcG9zKSB7XG4gIGxldCB7bm9kZSwgb2Zmc2V0fSA9IHZpZXcuZG9jVmlldy5kb21Gcm9tUG9zKHBvcylcbiAgbGV0IGFmdGVyID0gb2Zmc2V0IDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCA/IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdIDogbnVsbFxuICBsZXQgYmVmb3JlID0gb2Zmc2V0ID8gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdIDogbnVsbFxuICBpZiAoYnJvd3Nlci5zYWZhcmkgJiYgYWZ0ZXIgJiYgYWZ0ZXIuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIikgcmV0dXJuIHNldEVkaXRhYmxlKGFmdGVyKVxuICBpZiAoKCFhZnRlciB8fCBhZnRlci5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKSAmJiAoIWJlZm9yZSB8fCBiZWZvcmUuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIikpIHtcbiAgICBpZiAoYWZ0ZXIpIHJldHVybiBzZXRFZGl0YWJsZShhZnRlcilcbiAgICBlbHNlIGlmIChiZWZvcmUpIHJldHVybiBzZXRFZGl0YWJsZShiZWZvcmUpXG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0RWRpdGFibGUoZWxlbWVudCkge1xuICBlbGVtZW50LmNvbnRlbnRFZGl0YWJsZSA9IFwidHJ1ZVwiXG4gIGlmIChicm93c2VyLnNhZmFyaSAmJiBlbGVtZW50LmRyYWdnYWJsZSkgeyBlbGVtZW50LmRyYWdnYWJsZSA9IGZhbHNlOyBlbGVtZW50Lndhc0RyYWdnYWJsZSA9IHRydWUgfVxuICByZXR1cm4gZWxlbWVudFxufVxuXG5mdW5jdGlvbiByZXNldEVkaXRhYmxlKGVsZW1lbnQpIHtcbiAgZWxlbWVudC5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCJcbiAgaWYgKGVsZW1lbnQud2FzRHJhZ2dhYmxlKSB7IGVsZW1lbnQuZHJhZ2dhYmxlID0gdHJ1ZTsgZWxlbWVudC53YXNEcmFnZ2FibGUgPSBudWxsIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3NPblNlbGVjdGlvbkNoYW5nZSh2aWV3KSB7XG4gIGxldCBkb2MgPSB2aWV3LmRvbS5vd25lckRvY3VtZW50XG4gIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHZpZXcuaGlkZVNlbGVjdGlvbkd1YXJkKVxuICBsZXQgZG9tU2VsID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpXG4gIGxldCBub2RlID0gZG9tU2VsLmFuY2hvck5vZGUsIG9mZnNldCA9IGRvbVNlbC5hbmNob3JPZmZzZXRcbiAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgdmlldy5oaWRlU2VsZWN0aW9uR3VhcmQgPSAoKSA9PiB7XG4gICAgaWYgKGRvbVNlbC5hbmNob3JOb2RlICE9IG5vZGUgfHwgZG9tU2VsLmFuY2hvck9mZnNldCAhPSBvZmZzZXQpIHtcbiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHZpZXcuaGlkZVNlbGVjdGlvbkd1YXJkKVxuICAgICAgdmlldy5kb20uY2xhc3NMaXN0LnJlbW92ZShcIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb25cIilcbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIHNlbGVjdEN1cnNvcldyYXBwZXIodmlldykge1xuICBsZXQgZG9tU2VsID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpLCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKClcbiAgbGV0IG5vZGUgPSB2aWV3LmN1cnNvcldyYXBwZXIuZG9tLCBpbWcgPSBub2RlLm5vZGVOYW1lID09IFwiSU1HXCJcbiAgaWYgKGltZykgcmFuZ2Uuc2V0RW5kKG5vZGUucGFyZW50Tm9kZSwgZG9tSW5kZXgobm9kZSkgKyAxKVxuICBlbHNlIHJhbmdlLnNldEVuZChub2RlLCAwKVxuICByYW5nZS5jb2xsYXBzZShmYWxzZSlcbiAgZG9tU2VsLnJlbW92ZUFsbFJhbmdlcygpXG4gIGRvbVNlbC5hZGRSYW5nZShyYW5nZSlcbiAgLy8gS2x1ZGdlIHRvIGtpbGwgJ2NvbnRyb2wgc2VsZWN0aW9uJyBpbiBJRTExIHdoZW4gc2VsZWN0aW5nIGFuXG4gIC8vIGludmlzaWJsZSBjdXJzb3Igd3JhcHBlciwgc2luY2UgdGhhdCB3b3VsZCByZXN1bHQgaW4gdGhvc2Ugd2VpcmRcbiAgLy8gcmVzaXplIGhhbmRsZXMgYW5kIGEgc2VsZWN0aW9uIHRoYXQgY29uc2lkZXJzIHRoZSBhYnNvbHV0ZWx5XG4gIC8vIHBvc2l0aW9uZWQgd3JhcHBlciwgcmF0aGVyIHRoYW4gdGhlIHJvb3QgZWRpdGFibGUgbm9kZSwgdGhlXG4gIC8vIGZvY3VzZWQgZWxlbWVudC5cbiAgaWYgKCFpbWcgJiYgIXZpZXcuc3RhdGUuc2VsZWN0aW9uLnZpc2libGUgJiYgYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTEpIHtcbiAgICBub2RlLmRpc2FibGVkID0gdHJ1ZVxuICAgIG5vZGUuZGlzYWJsZWQgPSBmYWxzZVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzeW5jTm9kZVNlbGVjdGlvbih2aWV3LCBzZWwpIHtcbiAgaWYgKHNlbCBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24pIHtcbiAgICBsZXQgZGVzYyA9IHZpZXcuZG9jVmlldy5kZXNjQXQoc2VsLmZyb20pXG4gICAgaWYgKGRlc2MgIT0gdmlldy5sYXN0U2VsZWN0ZWRWaWV3RGVzYykge1xuICAgICAgY2xlYXJOb2RlU2VsZWN0aW9uKHZpZXcpXG4gICAgICBpZiAoZGVzYykgZGVzYy5zZWxlY3ROb2RlKClcbiAgICAgIHZpZXcubGFzdFNlbGVjdGVkVmlld0Rlc2MgPSBkZXNjXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNsZWFyTm9kZVNlbGVjdGlvbih2aWV3KVxuICB9XG59XG5cbi8vIENsZWFyIGFsbCBET00gc3RhdGVmdWxuZXNzIG9mIHRoZSBsYXN0IG5vZGUgc2VsZWN0aW9uLlxuZnVuY3Rpb24gY2xlYXJOb2RlU2VsZWN0aW9uKHZpZXcpIHtcbiAgaWYgKHZpZXcubGFzdFNlbGVjdGVkVmlld0Rlc2MpIHtcbiAgICBpZiAodmlldy5sYXN0U2VsZWN0ZWRWaWV3RGVzYy5wYXJlbnQpXG4gICAgICB2aWV3Lmxhc3RTZWxlY3RlZFZpZXdEZXNjLmRlc2VsZWN0Tm9kZSgpXG4gICAgdmlldy5sYXN0U2VsZWN0ZWRWaWV3RGVzYyA9IG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0aW9uQmV0d2Vlbih2aWV3LCAkYW5jaG9yLCAkaGVhZCwgYmlhcykge1xuICByZXR1cm4gdmlldy5zb21lUHJvcChcImNyZWF0ZVNlbGVjdGlvbkJldHdlZW5cIiwgZiA9PiBmKHZpZXcsICRhbmNob3IsICRoZWFkKSlcbiAgICB8fCBUZXh0U2VsZWN0aW9uLmJldHdlZW4oJGFuY2hvciwgJGhlYWQsIGJpYXMpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNGb2N1c0FuZFNlbGVjdGlvbih2aWV3KSB7XG4gIGlmICh2aWV3LmVkaXRhYmxlICYmIHZpZXcucm9vdC5hY3RpdmVFbGVtZW50ICE9IHZpZXcuZG9tKSByZXR1cm4gZmFsc2VcbiAgcmV0dXJuIGhhc1NlbGVjdGlvbih2aWV3KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzU2VsZWN0aW9uKHZpZXcpIHtcbiAgbGV0IHNlbCA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKVxuICBpZiAoIXNlbC5hbmNob3JOb2RlKSByZXR1cm4gZmFsc2VcbiAgdHJ5IHtcbiAgICAvLyBGaXJlZm94IHdpbGwgcmFpc2UgJ3Blcm1pc3Npb24gZGVuaWVkJyBlcnJvcnMgd2hlbiBhY2Nlc3NpbmdcbiAgICAvLyBwcm9wZXJ0aWVzIG9mIGBzZWwuYW5jaG9yTm9kZWAgd2hlbiBpdCdzIGluIGEgZ2VuZXJhdGVkIENTU1xuICAgIC8vIGVsZW1lbnQuXG4gICAgcmV0dXJuIHZpZXcuZG9tLmNvbnRhaW5zKHNlbC5hbmNob3JOb2RlLm5vZGVUeXBlID09IDMgPyBzZWwuYW5jaG9yTm9kZS5wYXJlbnROb2RlIDogc2VsLmFuY2hvck5vZGUpICYmXG4gICAgICAodmlldy5lZGl0YWJsZSB8fCB2aWV3LmRvbS5jb250YWlucyhzZWwuZm9jdXNOb2RlLm5vZGVUeXBlID09IDMgPyBzZWwuZm9jdXNOb2RlLnBhcmVudE5vZGUgOiBzZWwuZm9jdXNOb2RlKSlcbiAgfSBjYXRjaChfKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFuY2hvckluUmlnaHRQbGFjZSh2aWV3KSB7XG4gIGxldCBhbmNob3JET00gPSB2aWV3LmRvY1ZpZXcuZG9tRnJvbVBvcyh2aWV3LnN0YXRlLnNlbGVjdGlvbi5hbmNob3IpXG4gIGxldCBkb21TZWwgPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKClcbiAgcmV0dXJuIGlzRXF1aXZhbGVudFBvc2l0aW9uKGFuY2hvckRPTS5ub2RlLCBhbmNob3JET00ub2Zmc2V0LCBkb21TZWwuYW5jaG9yTm9kZSwgZG9tU2VsLmFuY2hvck9mZnNldClcbn1cbiIsImltcG9ydCB7VHJhbnNmb3JtfSBmcm9tIFwicHJvc2VtaXJyb3ItdHJhbnNmb3JtXCJcbmltcG9ydCB7TWFya30gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcbmltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9zZWxlY3Rpb25cIlxuXG5jb25zdCBVUERBVEVEX1NFTCA9IDEsIFVQREFURURfTUFSS1MgPSAyLCBVUERBVEVEX1NDUk9MTCA9IDRcblxuLy8gOjotIEFuIGVkaXRvciBzdGF0ZSB0cmFuc2FjdGlvbiwgd2hpY2ggY2FuIGJlIGFwcGxpZWQgdG8gYSBzdGF0ZSB0b1xuLy8gY3JlYXRlIGFuIHVwZGF0ZWQgc3RhdGUuIFVzZVxuLy8gW2BFZGl0b3JTdGF0ZS50cmBdKCNzdGF0ZS5FZGl0b3JTdGF0ZS50cikgdG8gY3JlYXRlIGFuIGluc3RhbmNlLlxuLy9cbi8vIFRyYW5zYWN0aW9ucyB0cmFjayBjaGFuZ2VzIHRvIHRoZSBkb2N1bWVudCAodGhleSBhcmUgYSBzdWJjbGFzcyBvZlxuLy8gW2BUcmFuc2Zvcm1gXSgjdHJhbnNmb3JtLlRyYW5zZm9ybSkpLCBidXQgYWxzbyBvdGhlciBzdGF0ZSBjaGFuZ2VzLFxuLy8gbGlrZSBzZWxlY3Rpb24gdXBkYXRlcyBhbmQgYWRqdXN0bWVudHMgb2YgdGhlIHNldCBvZiBbc3RvcmVkXG4vLyBtYXJrc10oI3N0YXRlLkVkaXRvclN0YXRlLnN0b3JlZE1hcmtzKS4gSW4gYWRkaXRpb24sIHlvdSBjYW4gc3RvcmVcbi8vIG1ldGFkYXRhIHByb3BlcnRpZXMgaW4gYSB0cmFuc2FjdGlvbiwgd2hpY2ggYXJlIGV4dHJhIHBpZWNlcyBvZlxuLy8gaW5mb3JtYXRpb24gdGhhdCBjbGllbnQgY29kZSBvciBwbHVnaW5zIGNhbiB1c2UgdG8gZGVzY3JpYmUgd2hhdCBhXG4vLyB0cmFuc2FjaW9uIHJlcHJlc2VudHMsIHNvIHRoYXQgdGhleSBjYW4gdXBkYXRlIHRoZWlyIFtvd25cbi8vIHN0YXRlXSgjc3RhdGUuU3RhdGVGaWVsZCkgYWNjb3JkaW5nbHkuXG4vL1xuLy8gVGhlIFtlZGl0b3Igdmlld10oI3ZpZXcuRWRpdG9yVmlldykgdXNlcyBhIGZldyBtZXRhZGF0YSBwcm9wZXJ0aWVzOlxuLy8gaXQgd2lsbCBhdHRhY2ggYSBwcm9wZXJ0eSBgXCJwb2ludGVyXCJgIHdpdGggdGhlIHZhbHVlIGB0cnVlYCB0b1xuLy8gc2VsZWN0aW9uIHRyYW5zYWN0aW9ucyBkaXJlY3RseSBjYXVzZWQgYnkgbW91c2Ugb3IgdG91Y2ggaW5wdXQsIGFuZFxuLy8gYSBgXCJ1aUV2ZW50XCJgIHByb3BlcnR5IG9mIHRoYXQgbWF5IGJlIGBcInBhc3RlXCJgLCBgXCJjdXRcImAsIG9yIGBcImRyb3BcImAuXG5leHBvcnQgY2xhc3MgVHJhbnNhY3Rpb24gZXh0ZW5kcyBUcmFuc2Zvcm0ge1xuICBjb25zdHJ1Y3RvcihzdGF0ZSkge1xuICAgIHN1cGVyKHN0YXRlLmRvYylcbiAgICAvLyA6OiBudW1iZXJcbiAgICAvLyBUaGUgdGltZXN0YW1wIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHRyYW5zYWN0aW9uLCBpbiB0aGUgc2FtZVxuICAgIC8vIGZvcm1hdCBhcyBgRGF0ZS5ub3coKWAuXG4gICAgdGhpcy50aW1lID0gRGF0ZS5ub3coKVxuICAgIHRoaXMuY3VyU2VsZWN0aW9uID0gc3RhdGUuc2VsZWN0aW9uXG4gICAgLy8gVGhlIHN0ZXAgY291bnQgZm9yIHdoaWNoIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpcyB2YWxpZC5cbiAgICB0aGlzLmN1clNlbGVjdGlvbkZvciA9IDBcbiAgICAvLyA6OiA/W01hcmtdXG4gICAgLy8gVGhlIHN0b3JlZCBtYXJrcyBzZXQgYnkgdGhpcyB0cmFuc2FjdGlvbiwgaWYgYW55LlxuICAgIHRoaXMuc3RvcmVkTWFya3MgPSBzdGF0ZS5zdG9yZWRNYXJrc1xuICAgIC8vIEJpdGZpZWxkIHRvIHRyYWNrIHdoaWNoIGFzcGVjdHMgb2YgdGhlIHN0YXRlIHdlcmUgdXBkYXRlZCBieVxuICAgIC8vIHRoaXMgdHJhbnNhY3Rpb24uXG4gICAgdGhpcy51cGRhdGVkID0gMFxuICAgIC8vIE9iamVjdCB1c2VkIHRvIHN0b3JlIG1ldGFkYXRhIHByb3BlcnRpZXMgZm9yIHRoZSB0cmFuc2FjdGlvbi5cbiAgICB0aGlzLm1ldGEgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gIH1cblxuICAvLyA6OiBTZWxlY3Rpb25cbiAgLy8gVGhlIHRyYW5zYWN0aW9uJ3MgY3VycmVudCBzZWxlY3Rpb24uIFRoaXMgZGVmYXVsdHMgdG8gdGhlIGVkaXRvclxuICAvLyBzZWxlY3Rpb24gW21hcHBlZF0oI3N0YXRlLlNlbGVjdGlvbi5tYXApIHRocm91Z2ggdGhlIHN0ZXBzIGluIHRoZVxuICAvLyB0cmFuc2FjdGlvbiwgYnV0IGNhbiBiZSBvdmVyd3JpdHRlbiB3aXRoXG4gIC8vIFtgc2V0U2VsZWN0aW9uYF0oI3N0YXRlLlRyYW5zYWN0aW9uLnNldFNlbGVjdGlvbikuXG4gIGdldCBzZWxlY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuY3VyU2VsZWN0aW9uRm9yIDwgdGhpcy5zdGVwcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY3VyU2VsZWN0aW9uID0gdGhpcy5jdXJTZWxlY3Rpb24ubWFwKHRoaXMuZG9jLCB0aGlzLm1hcHBpbmcuc2xpY2UodGhpcy5jdXJTZWxlY3Rpb25Gb3IpKVxuICAgICAgdGhpcy5jdXJTZWxlY3Rpb25Gb3IgPSB0aGlzLnN0ZXBzLmxlbmd0aFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jdXJTZWxlY3Rpb25cbiAgfVxuXG4gIC8vIDo6IChTZWxlY3Rpb24pIOKGkiBUcmFuc2FjdGlvblxuICAvLyBVcGRhdGUgdGhlIHRyYW5zYWN0aW9uJ3MgY3VycmVudCBzZWxlY3Rpb24uIFdpbGwgZGV0ZXJtaW5lIHRoZVxuICAvLyBzZWxlY3Rpb24gdGhhdCB0aGUgZWRpdG9yIGdldHMgd2hlbiB0aGUgdHJhbnNhY3Rpb24gaXMgYXBwbGllZC5cbiAgc2V0U2VsZWN0aW9uKHNlbGVjdGlvbikge1xuICAgIGlmIChzZWxlY3Rpb24uJGZyb20uZG9jICE9IHRoaXMuZG9jKVxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJTZWxlY3Rpb24gcGFzc2VkIHRvIHNldFNlbGVjdGlvbiBtdXN0IHBvaW50IGF0IHRoZSBjdXJyZW50IGRvY3VtZW50XCIpXG4gICAgdGhpcy5jdXJTZWxlY3Rpb24gPSBzZWxlY3Rpb25cbiAgICB0aGlzLmN1clNlbGVjdGlvbkZvciA9IHRoaXMuc3RlcHMubGVuZ3RoXG4gICAgdGhpcy51cGRhdGVkID0gKHRoaXMudXBkYXRlZCB8IFVQREFURURfU0VMKSAmIH5VUERBVEVEX01BUktTXG4gICAgdGhpcy5zdG9yZWRNYXJrcyA9IG51bGxcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBXaGV0aGVyIHRoZSBzZWxlY3Rpb24gd2FzIGV4cGxpY2l0bHkgdXBkYXRlZCBieSB0aGlzIHRyYW5zYWN0aW9uLlxuICBnZXQgc2VsZWN0aW9uU2V0KCkge1xuICAgIHJldHVybiAodGhpcy51cGRhdGVkICYgVVBEQVRFRF9TRUwpID4gMFxuICB9XG5cbiAgLy8gOjogKD9bTWFya10pIOKGkiBUcmFuc2FjdGlvblxuICAvLyBTZXQgdGhlIGN1cnJlbnQgc3RvcmVkIG1hcmtzLlxuICBzZXRTdG9yZWRNYXJrcyhtYXJrcykge1xuICAgIHRoaXMuc3RvcmVkTWFya3MgPSBtYXJrc1xuICAgIHRoaXMudXBkYXRlZCB8PSBVUERBVEVEX01BUktTXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIDo6IChbTWFya10pIOKGkiBUcmFuc2FjdGlvblxuICAvLyBNYWtlIHN1cmUgdGhlIGN1cnJlbnQgc3RvcmVkIG1hcmtzIG9yLCBpZiB0aGF0IGlzIG51bGwsIHRoZSBtYXJrc1xuICAvLyBhdCB0aGUgc2VsZWN0aW9uLCBtYXRjaCB0aGUgZ2l2ZW4gc2V0IG9mIG1hcmtzLiBEb2VzIG5vdGhpbmcgaWZcbiAgLy8gdGhpcyBpcyBhbHJlYWR5IHRoZSBjYXNlLlxuICBlbnN1cmVNYXJrcyhtYXJrcykge1xuICAgIGlmICghTWFyay5zYW1lU2V0KHRoaXMuc3RvcmVkTWFya3MgfHwgdGhpcy5zZWxlY3Rpb24uJGZyb20ubWFya3MoKSwgbWFya3MpKVxuICAgICAgdGhpcy5zZXRTdG9yZWRNYXJrcyhtYXJrcylcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gOjogKE1hcmspIOKGkiBUcmFuc2FjdGlvblxuICAvLyBBZGQgYSBtYXJrIHRvIHRoZSBzZXQgb2Ygc3RvcmVkIG1hcmtzLlxuICBhZGRTdG9yZWRNYXJrKG1hcmspIHtcbiAgICByZXR1cm4gdGhpcy5lbnN1cmVNYXJrcyhtYXJrLmFkZFRvU2V0KHRoaXMuc3RvcmVkTWFya3MgfHwgdGhpcy5zZWxlY3Rpb24uJGhlYWQubWFya3MoKSkpXG4gIH1cblxuICAvLyA6OiAodW5pb248TWFyaywgTWFya1R5cGU+KSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gUmVtb3ZlIGEgbWFyayBvciBtYXJrIHR5cGUgZnJvbSB0aGUgc2V0IG9mIHN0b3JlZCBtYXJrcy5cbiAgcmVtb3ZlU3RvcmVkTWFyayhtYXJrKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5zdXJlTWFya3MobWFyay5yZW1vdmVGcm9tU2V0KHRoaXMuc3RvcmVkTWFya3MgfHwgdGhpcy5zZWxlY3Rpb24uJGhlYWQubWFya3MoKSkpXG4gIH1cblxuICAvLyA6OiBib29sXG4gIC8vIFdoZXRoZXIgdGhlIHN0b3JlZCBtYXJrcyB3ZXJlIGV4cGxpY2l0bHkgc2V0IGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICBnZXQgc3RvcmVkTWFya3NTZXQoKSB7XG4gICAgcmV0dXJuICh0aGlzLnVwZGF0ZWQgJiBVUERBVEVEX01BUktTKSA+IDBcbiAgfVxuXG4gIGFkZFN0ZXAoc3RlcCwgZG9jKSB7XG4gICAgc3VwZXIuYWRkU3RlcChzdGVwLCBkb2MpXG4gICAgdGhpcy51cGRhdGVkID0gdGhpcy51cGRhdGVkICYgflVQREFURURfTUFSS1NcbiAgICB0aGlzLnN0b3JlZE1hcmtzID0gbnVsbFxuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIFVwZGF0ZSB0aGUgdGltZXN0YW1wIGZvciB0aGUgdHJhbnNhY3Rpb24uXG4gIHNldFRpbWUodGltZSkge1xuICAgIHRoaXMudGltZSA9IHRpbWVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gOjogKFNsaWNlKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gUmVwbGFjZSB0aGUgY3VycmVudCBzZWxlY3Rpb24gd2l0aCB0aGUgZ2l2ZW4gc2xpY2UuXG4gIHJlcGxhY2VTZWxlY3Rpb24oc2xpY2UpIHtcbiAgICB0aGlzLnNlbGVjdGlvbi5yZXBsYWNlKHRoaXMsIHNsaWNlKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyA6OiAoTm9kZSwgP2Jvb2wpIOKGkiBUcmFuc2FjdGlvblxuICAvLyBSZXBsYWNlIHRoZSBzZWxlY3Rpb24gd2l0aCB0aGUgZ2l2ZW4gbm9kZS4gV2hlbiBgaW5oZXJpdE1hcmtzYCBpc1xuICAvLyB0cnVlIGFuZCB0aGUgY29udGVudCBpcyBpbmxpbmUsIGl0IGluaGVyaXRzIHRoZSBtYXJrcyBmcm9tIHRoZVxuICAvLyBwbGFjZSB3aGVyZSBpdCBpcyBpbnNlcnRlZC5cbiAgcmVwbGFjZVNlbGVjdGlvbldpdGgobm9kZSwgaW5oZXJpdE1hcmtzKSB7XG4gICAgbGV0IHNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uXG4gICAgaWYgKGluaGVyaXRNYXJrcyAhPT0gZmFsc2UpXG4gICAgICBub2RlID0gbm9kZS5tYXJrKHRoaXMuc3RvcmVkTWFya3MgfHwgKHNlbGVjdGlvbi5lbXB0eSA/IHNlbGVjdGlvbi4kZnJvbS5tYXJrcygpIDogKHNlbGVjdGlvbi4kZnJvbS5tYXJrc0Fjcm9zcyhzZWxlY3Rpb24uJHRvKSB8fCBNYXJrLm5vbmUpKSlcbiAgICBzZWxlY3Rpb24ucmVwbGFjZVdpdGgodGhpcywgbm9kZSlcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gOjogKCkg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIERlbGV0ZSB0aGUgc2VsZWN0aW9uLlxuICBkZWxldGVTZWxlY3Rpb24oKSB7XG4gICAgdGhpcy5zZWxlY3Rpb24ucmVwbGFjZSh0aGlzKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyA6OiAoc3RyaW5nLCBmcm9tOiA/bnVtYmVyLCB0bzogP251bWJlcikg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIFJlcGxhY2UgdGhlIGdpdmVuIHJhbmdlLCBvciB0aGUgc2VsZWN0aW9uIGlmIG5vIHJhbmdlIGlzIGdpdmVuLFxuICAvLyB3aXRoIGEgdGV4dCBub2RlIGNvbnRhaW5pbmcgdGhlIGdpdmVuIHN0cmluZy5cbiAgaW5zZXJ0VGV4dCh0ZXh0LCBmcm9tLCB0byA9IGZyb20pIHtcbiAgICBsZXQgc2NoZW1hID0gdGhpcy5kb2MudHlwZS5zY2hlbWFcbiAgICBpZiAoZnJvbSA9PSBudWxsKSB7XG4gICAgICBpZiAoIXRleHQpIHJldHVybiB0aGlzLmRlbGV0ZVNlbGVjdGlvbigpXG4gICAgICByZXR1cm4gdGhpcy5yZXBsYWNlU2VsZWN0aW9uV2l0aChzY2hlbWEudGV4dCh0ZXh0KSwgdHJ1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF0ZXh0KSByZXR1cm4gdGhpcy5kZWxldGVSYW5nZShmcm9tLCB0bylcbiAgICAgIGxldCBtYXJrcyA9IHRoaXMuc3RvcmVkTWFya3NcbiAgICAgIGlmICghbWFya3MpIHtcbiAgICAgICAgbGV0ICRmcm9tID0gdGhpcy5kb2MucmVzb2x2ZShmcm9tKVxuICAgICAgICBtYXJrcyA9IHRvID09IGZyb20gPyAkZnJvbS5tYXJrcygpIDogJGZyb20ubWFya3NBY3Jvc3ModGhpcy5kb2MucmVzb2x2ZSh0bykpXG4gICAgICB9XG4gICAgICB0aGlzLnJlcGxhY2VSYW5nZVdpdGgoZnJvbSwgdG8sIHNjaGVtYS50ZXh0KHRleHQsIG1hcmtzKSlcbiAgICAgIGlmICghdGhpcy5zZWxlY3Rpb24uZW1wdHkpIHRoaXMuc2V0U2VsZWN0aW9uKFNlbGVjdGlvbi5uZWFyKHRoaXMuc2VsZWN0aW9uLiR0bykpXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgfVxuXG4gIC8vIDo6ICh1bmlvbjxzdHJpbmcsIFBsdWdpbiwgUGx1Z2luS2V5PiwgYW55KSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gU3RvcmUgYSBtZXRhZGF0YSBwcm9wZXJ0eSBpbiB0aGlzIHRyYW5zYWN0aW9uLCBrZXllZCBlaXRoZXIgYnlcbiAgLy8gbmFtZSBvciBieSBwbHVnaW4uXG4gIHNldE1ldGEoa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMubWV0YVt0eXBlb2Yga2V5ID09IFwic3RyaW5nXCIgPyBrZXkgOiBrZXkua2V5XSA9IHZhbHVlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIDo6ICh1bmlvbjxzdHJpbmcsIFBsdWdpbiwgUGx1Z2luS2V5Pikg4oaSIGFueVxuICAvLyBSZXRyaWV2ZSBhIG1ldGFkYXRhIHByb3BlcnR5IGZvciBhIGdpdmVuIG5hbWUgb3IgcGx1Z2luLlxuICBnZXRNZXRhKGtleSkge1xuICAgIHJldHVybiB0aGlzLm1ldGFbdHlwZW9mIGtleSA9PSBcInN0cmluZ1wiID8ga2V5IDoga2V5LmtleV1cbiAgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gUmV0dXJucyB0cnVlIGlmIHRoaXMgdHJhbnNhY3Rpb24gZG9lc24ndCBjb250YWluIGFueSBtZXRhZGF0YSxcbiAgLy8gYW5kIGNhbiB0aHVzIHNhZmVseSBiZSBleHRlbmRlZC5cbiAgZ2V0IGlzR2VuZXJpYygpIHtcbiAgICBmb3IgKGxldCBfIGluIHRoaXMubWV0YSkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIDo6ICgpIOKGkiBUcmFuc2FjdGlvblxuICAvLyBJbmRpY2F0ZSB0aGF0IHRoZSBlZGl0b3Igc2hvdWxkIHNjcm9sbCB0aGUgc2VsZWN0aW9uIGludG8gdmlld1xuICAvLyB3aGVuIHVwZGF0ZWQgdG8gdGhlIHN0YXRlIHByb2R1Y2VkIGJ5IHRoaXMgdHJhbnNhY3Rpb24uXG4gIHNjcm9sbEludG9WaWV3KCkge1xuICAgIHRoaXMudXBkYXRlZCB8PSBVUERBVEVEX1NDUk9MTFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBnZXQgc2Nyb2xsZWRJbnRvVmlldygpIHtcbiAgICByZXR1cm4gKHRoaXMudXBkYXRlZCAmIFVQREFURURfU0NST0xMKSA+IDBcbiAgfVxufVxuIiwiaW1wb3J0IHtOb2RlfSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuXG5pbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vc2VsZWN0aW9uXCJcbmltcG9ydCB7VHJhbnNhY3Rpb259IGZyb20gXCIuL3RyYW5zYWN0aW9uXCJcblxuZnVuY3Rpb24gYmluZChmLCBzZWxmKSB7XG4gIHJldHVybiAhc2VsZiB8fCAhZiA/IGYgOiBmLmJpbmQoc2VsZilcbn1cblxuY2xhc3MgRmllbGREZXNjIHtcbiAgY29uc3RydWN0b3IobmFtZSwgZGVzYywgc2VsZikge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB0aGlzLmluaXQgPSBiaW5kKGRlc2MuaW5pdCwgc2VsZilcbiAgICB0aGlzLmFwcGx5ID0gYmluZChkZXNjLmFwcGx5LCBzZWxmKVxuICB9XG59XG5cbmNvbnN0IGJhc2VGaWVsZHMgPSBbXG4gIG5ldyBGaWVsZERlc2MoXCJkb2NcIiwge1xuICAgIGluaXQoY29uZmlnKSB7IHJldHVybiBjb25maWcuZG9jIHx8IGNvbmZpZy5zY2hlbWEudG9wTm9kZVR5cGUuY3JlYXRlQW5kRmlsbCgpIH0sXG4gICAgYXBwbHkodHIpIHsgcmV0dXJuIHRyLmRvYyB9XG4gIH0pLFxuXG4gIG5ldyBGaWVsZERlc2MoXCJzZWxlY3Rpb25cIiwge1xuICAgIGluaXQoY29uZmlnLCBpbnN0YW5jZSkgeyByZXR1cm4gY29uZmlnLnNlbGVjdGlvbiB8fCBTZWxlY3Rpb24uYXRTdGFydChpbnN0YW5jZS5kb2MpIH0sXG4gICAgYXBwbHkodHIpIHsgcmV0dXJuIHRyLnNlbGVjdGlvbiB9XG4gIH0pLFxuXG4gIG5ldyBGaWVsZERlc2MoXCJzdG9yZWRNYXJrc1wiLCB7XG4gICAgaW5pdChjb25maWcpIHsgcmV0dXJuIGNvbmZpZy5zdG9yZWRNYXJrcyB8fCBudWxsIH0sXG4gICAgYXBwbHkodHIsIF9tYXJrcywgX29sZCwgc3RhdGUpIHsgcmV0dXJuIHN0YXRlLnNlbGVjdGlvbi4kY3Vyc29yID8gdHIuc3RvcmVkTWFya3MgOiBudWxsIH1cbiAgfSksXG5cbiAgbmV3IEZpZWxkRGVzYyhcInNjcm9sbFRvU2VsZWN0aW9uXCIsIHtcbiAgICBpbml0KCkgeyByZXR1cm4gMCB9LFxuICAgIGFwcGx5KHRyLCBwcmV2KSB7IHJldHVybiB0ci5zY3JvbGxlZEludG9WaWV3ID8gcHJldiArIDEgOiBwcmV2IH1cbiAgfSlcbl1cblxuLy8gT2JqZWN0IHdyYXBwaW5nIHRoZSBwYXJ0IG9mIGEgc3RhdGUgb2JqZWN0IHRoYXQgc3RheXMgdGhlIHNhbWVcbi8vIGFjcm9zcyB0cmFuc2FjdGlvbnMuIFN0b3JlZCBpbiB0aGUgc3RhdGUncyBgY29uZmlnYCBwcm9wZXJ0eS5cbmNsYXNzIENvbmZpZ3VyYXRpb24ge1xuICBjb25zdHJ1Y3RvcihzY2hlbWEsIHBsdWdpbnMpIHtcbiAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYVxuICAgIHRoaXMuZmllbGRzID0gYmFzZUZpZWxkcy5jb25jYXQoKVxuICAgIHRoaXMucGx1Z2lucyA9IFtdXG4gICAgdGhpcy5wbHVnaW5zQnlLZXkgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gICAgaWYgKHBsdWdpbnMpIHBsdWdpbnMuZm9yRWFjaChwbHVnaW4gPT4ge1xuICAgICAgaWYgKHRoaXMucGx1Z2luc0J5S2V5W3BsdWdpbi5rZXldKVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkFkZGluZyBkaWZmZXJlbnQgaW5zdGFuY2VzIG9mIGEga2V5ZWQgcGx1Z2luIChcIiArIHBsdWdpbi5rZXkgKyBcIilcIilcbiAgICAgIHRoaXMucGx1Z2lucy5wdXNoKHBsdWdpbilcbiAgICAgIHRoaXMucGx1Z2luc0J5S2V5W3BsdWdpbi5rZXldID0gcGx1Z2luXG4gICAgICBpZiAocGx1Z2luLnNwZWMuc3RhdGUpXG4gICAgICAgIHRoaXMuZmllbGRzLnB1c2gobmV3IEZpZWxkRGVzYyhwbHVnaW4ua2V5LCBwbHVnaW4uc3BlYy5zdGF0ZSwgcGx1Z2luKSlcbiAgICB9KVxuICB9XG59XG5cbi8vIDo6LSBUaGUgc3RhdGUgb2YgYSBQcm9zZU1pcnJvciBlZGl0b3IgaXMgcmVwcmVzZW50ZWQgYnkgYW4gb2JqZWN0XG4vLyBvZiB0aGlzIHR5cGUuIEEgc3RhdGUgaXMgYSBwZXJzaXN0ZW50IGRhdGEgc3RydWN0dXJl4oCUaXQgaXNuJ3Rcbi8vIHVwZGF0ZWQsIGJ1dCByYXRoZXIgYSBuZXcgc3RhdGUgdmFsdWUgaXMgY29tcHV0ZWQgZnJvbSBhbiBvbGQgb25lXG4vLyB1c2luZyB0aGUgW2BhcHBseWBdKCNzdGF0ZS5FZGl0b3JTdGF0ZS5hcHBseSkgbWV0aG9kLlxuLy9cbi8vIEEgc3RhdGUgaG9sZHMgYSBudW1iZXIgb2YgYnVpbHQtaW4gZmllbGRzLCBhbmQgcGx1Z2lucyBjYW5cbi8vIFtkZWZpbmVdKCNzdGF0ZS5QbHVnaW5TcGVjLnN0YXRlKSBhZGRpdGlvbmFsIGZpZWxkcy5cbmV4cG9ydCBjbGFzcyBFZGl0b3JTdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnXG4gIH1cblxuICAvLyBkb2M6OiBOb2RlXG4gIC8vIFRoZSBjdXJyZW50IGRvY3VtZW50LlxuXG4gIC8vIHNlbGVjdGlvbjo6IFNlbGVjdGlvblxuICAvLyBUaGUgc2VsZWN0aW9uLlxuXG4gIC8vIHN0b3JlZE1hcmtzOjogP1tNYXJrXVxuICAvLyBBIHNldCBvZiBtYXJrcyB0byBhcHBseSB0byB0aGUgbmV4dCBpbnB1dC4gV2lsbCBiZSBudWxsIHdoZW5cbiAgLy8gbm8gZXhwbGljaXQgbWFya3MgaGF2ZSBiZWVuIHNldC5cblxuICAvLyA6OiBTY2hlbWFcbiAgLy8gVGhlIHNjaGVtYSBvZiB0aGUgc3RhdGUncyBkb2N1bWVudC5cbiAgZ2V0IHNjaGVtYSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuc2NoZW1hXG4gIH1cblxuICAvLyA6OiBbUGx1Z2luXVxuICAvLyBUaGUgcGx1Z2lucyB0aGF0IGFyZSBhY3RpdmUgaW4gdGhpcyBzdGF0ZS5cbiAgZ2V0IHBsdWdpbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnBsdWdpbnNcbiAgfVxuXG4gIC8vIDo6IChUcmFuc2FjdGlvbikg4oaSIEVkaXRvclN0YXRlXG4gIC8vIEFwcGx5IHRoZSBnaXZlbiB0cmFuc2FjdGlvbiB0byBwcm9kdWNlIGEgbmV3IHN0YXRlLlxuICBhcHBseSh0cikge1xuICAgIHJldHVybiB0aGlzLmFwcGx5VHJhbnNhY3Rpb24odHIpLnN0YXRlXG4gIH1cblxuICAvLyA6IChUcmFuc2FjdGlvbikg4oaSIGJvb2xcbiAgZmlsdGVyVHJhbnNhY3Rpb24odHIsIGlnbm9yZSA9IC0xKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbmZpZy5wbHVnaW5zLmxlbmd0aDsgaSsrKSBpZiAoaSAhPSBpZ25vcmUpIHtcbiAgICAgIGxldCBwbHVnaW4gPSB0aGlzLmNvbmZpZy5wbHVnaW5zW2ldXG4gICAgICBpZiAocGx1Z2luLnNwZWMuZmlsdGVyVHJhbnNhY3Rpb24gJiYgIXBsdWdpbi5zcGVjLmZpbHRlclRyYW5zYWN0aW9uLmNhbGwocGx1Z2luLCB0ciwgdGhpcykpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gOjogKFRyYW5zYWN0aW9uKSDihpIge3N0YXRlOiBFZGl0b3JTdGF0ZSwgdHJhbnNhY3Rpb25zOiBbVHJhbnNhY3Rpb25dfVxuICAvLyBWZXJib3NlIHZhcmlhbnQgb2YgW2BhcHBseWBdKCNzdGF0ZS5FZGl0b3JTdGF0ZS5hcHBseSkgdGhhdFxuICAvLyByZXR1cm5zIHRoZSBwcmVjaXNlIHRyYW5zYWN0aW9ucyB0aGF0IHdlcmUgYXBwbGllZCAod2hpY2ggbWlnaHRcbiAgLy8gYmUgaW5mbHVlbmNlZCBieSB0aGUgW3RyYW5zYWN0aW9uXG4gIC8vIGhvb2tzXSgjc3RhdGUuUGx1Z2luU3BlYy5maWx0ZXJUcmFuc2FjdGlvbikgb2ZcbiAgLy8gcGx1Z2lucykgYWxvbmcgd2l0aCB0aGUgbmV3IHN0YXRlLlxuICBhcHBseVRyYW5zYWN0aW9uKHJvb3RUcikge1xuICAgIGlmICghdGhpcy5maWx0ZXJUcmFuc2FjdGlvbihyb290VHIpKSByZXR1cm4ge3N0YXRlOiB0aGlzLCB0cmFuc2FjdGlvbnM6IFtdfVxuXG4gICAgbGV0IHRycyA9IFtyb290VHJdLCBuZXdTdGF0ZSA9IHRoaXMuYXBwbHlJbm5lcihyb290VHIpLCBzZWVuID0gbnVsbFxuICAgIC8vIFRoaXMgbG9vcCByZXBlYXRlZGx5IGdpdmVzIHBsdWdpbnMgYSBjaGFuY2UgdG8gcmVzcG9uZCB0b1xuICAgIC8vIHRyYW5zYWN0aW9ucyBhcyBuZXcgdHJhbnNhY3Rpb25zIGFyZSBhZGRlZCwgbWFraW5nIHN1cmUgdG8gb25seVxuICAgIC8vIHBhc3MgdGhlIHRyYW5zYWN0aW9ucyB0aGUgcGx1Z2luIGRpZCBub3Qgc2VlIGJlZm9yZS5cbiAgICBvdXRlcjogZm9yICg7Oykge1xuICAgICAgbGV0IGhhdmVOZXcgPSBmYWxzZVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbmZpZy5wbHVnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBwbHVnaW4gPSB0aGlzLmNvbmZpZy5wbHVnaW5zW2ldXG4gICAgICAgIGlmIChwbHVnaW4uc3BlYy5hcHBlbmRUcmFuc2FjdGlvbikge1xuICAgICAgICAgIGxldCBuID0gc2VlbiA/IHNlZW5baV0ubiA6IDAsIG9sZFN0YXRlID0gc2VlbiA/IHNlZW5baV0uc3RhdGUgOiB0aGlzXG4gICAgICAgICAgbGV0IHRyID0gbiA8IHRycy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgcGx1Z2luLnNwZWMuYXBwZW5kVHJhbnNhY3Rpb24uY2FsbChwbHVnaW4sIG4gPyB0cnMuc2xpY2UobikgOiB0cnMsIG9sZFN0YXRlLCBuZXdTdGF0ZSlcbiAgICAgICAgICBpZiAodHIgJiYgbmV3U3RhdGUuZmlsdGVyVHJhbnNhY3Rpb24odHIsIGkpKSB7XG4gICAgICAgICAgICB0ci5zZXRNZXRhKFwiYXBwZW5kZWRUcmFuc2FjdGlvblwiLCByb290VHIpXG4gICAgICAgICAgICBpZiAoIXNlZW4pIHtcbiAgICAgICAgICAgICAgc2VlbiA9IFtdXG4gICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5jb25maWcucGx1Z2lucy5sZW5ndGg7IGorKylcbiAgICAgICAgICAgICAgICBzZWVuLnB1c2goaiA8IGkgPyB7c3RhdGU6IG5ld1N0YXRlLCBuOiB0cnMubGVuZ3RofSA6IHtzdGF0ZTogdGhpcywgbjogMH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnMucHVzaCh0cilcbiAgICAgICAgICAgIG5ld1N0YXRlID0gbmV3U3RhdGUuYXBwbHlJbm5lcih0cilcbiAgICAgICAgICAgIGhhdmVOZXcgPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSBzZWVuW2ldID0ge3N0YXRlOiBuZXdTdGF0ZSwgbjogdHJzLmxlbmd0aH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFoYXZlTmV3KSByZXR1cm4ge3N0YXRlOiBuZXdTdGF0ZSwgdHJhbnNhY3Rpb25zOiB0cnN9XG4gICAgfVxuICB9XG5cbiAgLy8gOiAoVHJhbnNhY3Rpb24pIOKGkiBFZGl0b3JTdGF0ZVxuICBhcHBseUlubmVyKHRyKSB7XG4gICAgaWYgKCF0ci5iZWZvcmUuZXEodGhpcy5kb2MpKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkFwcGx5aW5nIGEgbWlzbWF0Y2hlZCB0cmFuc2FjdGlvblwiKVxuICAgIGxldCBuZXdJbnN0YW5jZSA9IG5ldyBFZGl0b3JTdGF0ZSh0aGlzLmNvbmZpZyksIGZpZWxkcyA9IHRoaXMuY29uZmlnLmZpZWxkc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZmllbGQgPSBmaWVsZHNbaV1cbiAgICAgIG5ld0luc3RhbmNlW2ZpZWxkLm5hbWVdID0gZmllbGQuYXBwbHkodHIsIHRoaXNbZmllbGQubmFtZV0sIHRoaXMsIG5ld0luc3RhbmNlKVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFwcGx5TGlzdGVuZXJzLmxlbmd0aDsgaSsrKSBhcHBseUxpc3RlbmVyc1tpXSh0aGlzLCB0ciwgbmV3SW5zdGFuY2UpXG4gICAgcmV0dXJuIG5ld0luc3RhbmNlXG4gIH1cblxuICAvLyA6OiBUcmFuc2FjdGlvblxuICAvLyBTdGFydCBhIFt0cmFuc2FjdGlvbl0oI3N0YXRlLlRyYW5zYWN0aW9uKSBmcm9tIHRoaXMgc3RhdGUuXG4gIGdldCB0cigpIHsgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbih0aGlzKSB9XG5cbiAgLy8gOjogKE9iamVjdCkg4oaSIEVkaXRvclN0YXRlXG4gIC8vIENyZWF0ZSBhIG5ldyBzdGF0ZS5cbiAgLy9cbiAgLy8gICBjb25maWc6Oi0gQ29uZmlndXJhdGlvbiBvcHRpb25zLiBNdXN0IGNvbnRhaW4gYHNjaGVtYWAgb3IgYGRvY2AgKG9yIGJvdGgpLlxuICAvL1xuICAvLyAgICAgIHNjaGVtYTo6ID9TY2hlbWFcbiAgLy8gICAgICBUaGUgc2NoZW1hIHRvIHVzZS5cbiAgLy9cbiAgLy8gICAgICBkb2M6OiA/Tm9kZVxuICAvLyAgICAgIFRoZSBzdGFydGluZyBkb2N1bWVudC5cbiAgLy9cbiAgLy8gICAgICBzZWxlY3Rpb246OiA/U2VsZWN0aW9uXG4gIC8vICAgICAgQSB2YWxpZCBzZWxlY3Rpb24gaW4gdGhlIGRvY3VtZW50LlxuICAvL1xuICAvLyAgICAgIHN0b3JlZE1hcmtzOjogP1tNYXJrXVxuICAvLyAgICAgIFRoZSBpbml0aWFsIHNldCBvZiBbc3RvcmVkIG1hcmtzXSgjc3RhdGUuRWRpdG9yU3RhdGUuc3RvcmVkTWFya3MpLlxuICAvL1xuICAvLyAgICAgIHBsdWdpbnM6OiA/W1BsdWdpbl1cbiAgLy8gICAgICBUaGUgcGx1Z2lucyB0aGF0IHNob3VsZCBiZSBhY3RpdmUgaW4gdGhpcyBzdGF0ZS5cbiAgc3RhdGljIGNyZWF0ZShjb25maWcpIHtcbiAgICBsZXQgJGNvbmZpZyA9IG5ldyBDb25maWd1cmF0aW9uKGNvbmZpZy5zY2hlbWEgfHwgY29uZmlnLmRvYy50eXBlLnNjaGVtYSwgY29uZmlnLnBsdWdpbnMpXG4gICAgbGV0IGluc3RhbmNlID0gbmV3IEVkaXRvclN0YXRlKCRjb25maWcpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAkY29uZmlnLmZpZWxkcy5sZW5ndGg7IGkrKylcbiAgICAgIGluc3RhbmNlWyRjb25maWcuZmllbGRzW2ldLm5hbWVdID0gJGNvbmZpZy5maWVsZHNbaV0uaW5pdChjb25maWcsIGluc3RhbmNlKVxuICAgIHJldHVybiBpbnN0YW5jZVxuICB9XG5cbiAgLy8gOjogKE9iamVjdCkg4oaSIEVkaXRvclN0YXRlXG4gIC8vIENyZWF0ZSBhIG5ldyBzdGF0ZSBiYXNlZCBvbiB0aGlzIG9uZSwgYnV0IHdpdGggYW4gYWRqdXN0ZWQgc2V0IG9mXG4gIC8vIGFjdGl2ZSBwbHVnaW5zLiBTdGF0ZSBmaWVsZHMgdGhhdCBleGlzdCBpbiBib3RoIHNldHMgb2YgcGx1Z2luc1xuICAvLyBhcmUga2VwdCB1bmNoYW5nZWQuIFRob3NlIHRoYXQgbm8gbG9uZ2VyIGV4aXN0IGFyZSBkcm9wcGVkLCBhbmRcbiAgLy8gdGhvc2UgdGhhdCBhcmUgbmV3IGFyZSBpbml0aWFsaXplZCB1c2luZyB0aGVpclxuICAvLyBbYGluaXRgXSgjc3RhdGUuU3RhdGVGaWVsZC5pbml0KSBtZXRob2QsIHBhc3NpbmcgaW4gdGhlIG5ld1xuICAvLyBjb25maWd1cmF0aW9uIG9iamVjdC4uXG4gIC8vXG4gIC8vICAgY29uZmlnOjotIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAvL1xuICAvLyAgICAgc2NoZW1hOjogP1NjaGVtYVxuICAvLyAgICAgTmV3IHNjaGVtYSB0byB1c2UuXG4gIC8vXG4gIC8vICAgICBwbHVnaW5zOjogP1tQbHVnaW5dXG4gIC8vICAgICBOZXcgc2V0IG9mIGFjdGl2ZSBwbHVnaW5zLlxuICByZWNvbmZpZ3VyZShjb25maWcpIHtcbiAgICBsZXQgJGNvbmZpZyA9IG5ldyBDb25maWd1cmF0aW9uKGNvbmZpZy5zY2hlbWEgfHwgdGhpcy5zY2hlbWEsIGNvbmZpZy5wbHVnaW5zKVxuICAgIGxldCBmaWVsZHMgPSAkY29uZmlnLmZpZWxkcywgaW5zdGFuY2UgPSBuZXcgRWRpdG9yU3RhdGUoJGNvbmZpZylcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG5hbWUgPSBmaWVsZHNbaV0ubmFtZVxuICAgICAgaW5zdGFuY2VbbmFtZV0gPSB0aGlzLmhhc093blByb3BlcnR5KG5hbWUpID8gdGhpc1tuYW1lXSA6IGZpZWxkc1tpXS5pbml0KGNvbmZpZywgaW5zdGFuY2UpXG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZVxuICB9XG5cbiAgLy8gOjogKD91bmlvbjxPYmplY3Q8UGx1Z2luPiwgc3RyaW5nLCBudW1iZXI+KSDihpIgT2JqZWN0XG4gIC8vIFNlcmlhbGl6ZSB0aGlzIHN0YXRlIHRvIEpTT04uIElmIHlvdSB3YW50IHRvIHNlcmlhbGl6ZSB0aGUgc3RhdGVcbiAgLy8gb2YgcGx1Z2lucywgcGFzcyBhbiBvYmplY3QgbWFwcGluZyBwcm9wZXJ0eSBuYW1lcyB0byB1c2UgaW4gdGhlXG4gIC8vIHJlc3VsdGluZyBKU09OIG9iamVjdCB0byBwbHVnaW4gb2JqZWN0cy4gVGhlIGFyZ3VtZW50IG1heSBhbHNvIGJlXG4gIC8vIGEgc3RyaW5nIG9yIG51bWJlciwgaW4gd2hpY2ggY2FzZSBpdCBpcyBpZ25vcmVkLCB0byBzdXBwb3J0IHRoZVxuICAvLyB3YXkgYEpTT04uc3RyaW5naWZ5YCBjYWxscyBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHRvSlNPTihwbHVnaW5GaWVsZHMpIHtcbiAgICBsZXQgcmVzdWx0ID0ge2RvYzogdGhpcy5kb2MudG9KU09OKCksIHNlbGVjdGlvbjogdGhpcy5zZWxlY3Rpb24udG9KU09OKCl9XG4gICAgaWYgKHRoaXMuc3RvcmVkTWFya3MpIHJlc3VsdC5zdG9yZWRNYXJrcyA9IHRoaXMuc3RvcmVkTWFya3MubWFwKG0gPT4gbS50b0pTT04oKSlcbiAgICBpZiAocGx1Z2luRmllbGRzICYmIHR5cGVvZiBwbHVnaW5GaWVsZHMgPT0gJ29iamVjdCcpIGZvciAobGV0IHByb3AgaW4gcGx1Z2luRmllbGRzKSB7XG4gICAgICBpZiAocHJvcCA9PSBcImRvY1wiIHx8IHByb3AgPT0gXCJzZWxlY3Rpb25cIilcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGUgSlNPTiBmaWVsZHMgYGRvY2AgYW5kIGBzZWxlY3Rpb25gIGFyZSByZXNlcnZlZFwiKVxuICAgICAgbGV0IHBsdWdpbiA9IHBsdWdpbkZpZWxkc1twcm9wXSwgc3RhdGUgPSBwbHVnaW4uc3BlYy5zdGF0ZVxuICAgICAgaWYgKHN0YXRlICYmIHN0YXRlLnRvSlNPTikgcmVzdWx0W3Byb3BdID0gc3RhdGUudG9KU09OLmNhbGwocGx1Z2luLCB0aGlzW3BsdWdpbi5rZXldKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyA6OiAoT2JqZWN0LCBPYmplY3QsID9PYmplY3Q8UGx1Z2luPikg4oaSIEVkaXRvclN0YXRlXG4gIC8vIERlc2VyaWFsaXplIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhIHN0YXRlLiBgY29uZmlnYCBzaG91bGRcbiAgLy8gaGF2ZSBhdCBsZWFzdCBhIGBzY2hlbWFgIGZpZWxkLCBhbmQgc2hvdWxkIGNvbnRhaW4gYXJyYXkgb2ZcbiAgLy8gcGx1Z2lucyB0byBpbml0aWFsaXplIHRoZSBzdGF0ZSB3aXRoLiBgcGx1Z2luRmllbGRzYCBjYW4gYmUgdXNlZFxuICAvLyB0byBkZXNlcmlhbGl6ZSB0aGUgc3RhdGUgb2YgcGx1Z2lucywgYnkgYXNzb2NpYXRpbmcgcGx1Z2luXG4gIC8vIGluc3RhbmNlcyB3aXRoIHRoZSBwcm9wZXJ0eSBuYW1lcyB0aGV5IHVzZSBpbiB0aGUgSlNPTiBvYmplY3QuXG4gIC8vXG4gIC8vICAgY29uZmlnOjotIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAvL1xuICAvLyAgICAgc2NoZW1hOjogU2NoZW1hXG4gIC8vICAgICBUaGUgc2NoZW1hIHRvIHVzZS5cbiAgLy9cbiAgLy8gICAgIHBsdWdpbnM6OiA/W1BsdWdpbl1cbiAgLy8gICAgIFRoZSBzZXQgb2YgYWN0aXZlIHBsdWdpbnMuXG4gIHN0YXRpYyBmcm9tSlNPTihjb25maWcsIGpzb24sIHBsdWdpbkZpZWxkcykge1xuICAgIGlmICghanNvbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBFZGl0b3JTdGF0ZS5mcm9tSlNPTlwiKVxuICAgIGlmICghY29uZmlnLnNjaGVtYSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJSZXF1aXJlZCBjb25maWcgZmllbGQgJ3NjaGVtYScgbWlzc2luZ1wiKVxuICAgIGxldCAkY29uZmlnID0gbmV3IENvbmZpZ3VyYXRpb24oY29uZmlnLnNjaGVtYSwgY29uZmlnLnBsdWdpbnMpXG4gICAgbGV0IGluc3RhbmNlID0gbmV3IEVkaXRvclN0YXRlKCRjb25maWcpXG4gICAgJGNvbmZpZy5maWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICBpZiAoZmllbGQubmFtZSA9PSBcImRvY1wiKSB7XG4gICAgICAgIGluc3RhbmNlLmRvYyA9IE5vZGUuZnJvbUpTT04oY29uZmlnLnNjaGVtYSwganNvbi5kb2MpXG4gICAgICB9IGVsc2UgaWYgKGZpZWxkLm5hbWUgPT0gXCJzZWxlY3Rpb25cIikge1xuICAgICAgICBpbnN0YW5jZS5zZWxlY3Rpb24gPSBTZWxlY3Rpb24uZnJvbUpTT04oaW5zdGFuY2UuZG9jLCBqc29uLnNlbGVjdGlvbilcbiAgICAgIH0gZWxzZSBpZiAoZmllbGQubmFtZSA9PSBcInN0b3JlZE1hcmtzXCIpIHtcbiAgICAgICAgaWYgKGpzb24uc3RvcmVkTWFya3MpIGluc3RhbmNlLnN0b3JlZE1hcmtzID0ganNvbi5zdG9yZWRNYXJrcy5tYXAoY29uZmlnLnNjaGVtYS5tYXJrRnJvbUpTT04pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGx1Z2luRmllbGRzKSBmb3IgKGxldCBwcm9wIGluIHBsdWdpbkZpZWxkcykge1xuICAgICAgICAgIGxldCBwbHVnaW4gPSBwbHVnaW5GaWVsZHNbcHJvcF0sIHN0YXRlID0gcGx1Z2luLnNwZWMuc3RhdGVcbiAgICAgICAgICBpZiAocGx1Z2luLmtleSA9PSBmaWVsZC5uYW1lICYmIHN0YXRlICYmIHN0YXRlLmZyb21KU09OICYmXG4gICAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChqc29uLCBwcm9wKSkge1xuICAgICAgICAgICAgLy8gVGhpcyBmaWVsZCBiZWxvbmdzIHRvIGEgcGx1Z2luIG1hcHBlZCB0byBhIEpTT04gZmllbGQsIHJlYWQgaXQgZnJvbSB0aGVyZS5cbiAgICAgICAgICAgIGluc3RhbmNlW2ZpZWxkLm5hbWVdID0gc3RhdGUuZnJvbUpTT04uY2FsbChwbHVnaW4sIGNvbmZpZywganNvbltwcm9wXSwgaW5zdGFuY2UpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2VbZmllbGQubmFtZV0gPSBmaWVsZC5pbml0KGNvbmZpZywgaW5zdGFuY2UpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gaW5zdGFuY2VcbiAgfVxuXG4gIC8vIEtsdWRnZSB0byBhbGxvdyB0aGUgdmlldyB0byB0cmFjayBtYXBwaW5ncyBiZXR3ZWVuIGRpZmZlcmVudFxuICAvLyBpbnN0YW5jZXMgb2YgYSBzdGF0ZS5cbiAgLy9cbiAgLy8gRklYTUUgdGhpcyBpcyBubyBsb25nZXIgbmVlZGVkIGFzIG9mIHByb3NlbWlycm9yLXZpZXcgMS45LjAsXG4gIC8vIHRob3VnaCBkdWUgdG8gYmFja3dhcmRzLWNvbXBhdCB3ZSBzaG91bGQgcHJvYmFibHkga2VlcCBpdCBhcm91bmRcbiAgLy8gZm9yIGEgd2hpbGUgKGlmIG9ubHkgYXMgYSBuby1vcClcbiAgc3RhdGljIGFkZEFwcGx5TGlzdGVuZXIoZikge1xuICAgIGFwcGx5TGlzdGVuZXJzLnB1c2goZilcbiAgfVxuICBzdGF0aWMgcmVtb3ZlQXBwbHlMaXN0ZW5lcihmKSB7XG4gICAgbGV0IGZvdW5kID0gYXBwbHlMaXN0ZW5lcnMuaW5kZXhPZihmKVxuICAgIGlmIChmb3VuZCA+IC0xKSBhcHBseUxpc3RlbmVycy5zcGxpY2UoZm91bmQsIDEpXG4gIH1cbn1cblxuY29uc3QgYXBwbHlMaXN0ZW5lcnMgPSBbXVxuIiwiLy8gUGx1Z2luU3BlYzo6IGludGVyZmFjZVxuLy9cbi8vIFRoaXMgaXMgdGhlIHR5cGUgcGFzc2VkIHRvIHRoZSBbYFBsdWdpbmBdKCNzdGF0ZS5QbHVnaW4pXG4vLyBjb25zdHJ1Y3Rvci4gSXQgcHJvdmlkZXMgYSBkZWZpbml0aW9uIGZvciBhIHBsdWdpbi5cbi8vXG4vLyAgIHByb3BzOjogP0VkaXRvclByb3BzXG4vLyAgIFRoZSBbdmlldyBwcm9wc10oI3ZpZXcuRWRpdG9yUHJvcHMpIGFkZGVkIGJ5IHRoaXMgcGx1Z2luLiBQcm9wc1xuLy8gICB0aGF0IGFyZSBmdW5jdGlvbnMgd2lsbCBiZSBib3VuZCB0byBoYXZlIHRoZSBwbHVnaW4gaW5zdGFuY2UgYXNcbi8vICAgdGhlaXIgYHRoaXNgIGJpbmRpbmcuXG4vL1xuLy8gICBzdGF0ZTo6ID9TdGF0ZUZpZWxkPGFueT5cbi8vICAgQWxsb3dzIGEgcGx1Z2luIHRvIGRlZmluZSBhIFtzdGF0ZSBmaWVsZF0oI3N0YXRlLlN0YXRlRmllbGQpLCBhblxuLy8gICBleHRyYSBzbG90IGluIHRoZSBzdGF0ZSBvYmplY3QgaW4gd2hpY2ggaXQgY2FuIGtlZXAgaXRzIG93biBkYXRhLlxuLy9cbi8vICAga2V5OjogP1BsdWdpbktleVxuLy8gICBDYW4gYmUgdXNlZCB0byBtYWtlIHRoaXMgYSBrZXllZCBwbHVnaW4uIFlvdSBjYW4gaGF2ZSBvbmx5IG9uZVxuLy8gICBwbHVnaW4gd2l0aCBhIGdpdmVuIGtleSBpbiBhIGdpdmVuIHN0YXRlLCBidXQgaXQgaXMgcG9zc2libGUgdG9cbi8vICAgYWNjZXNzIHRoZSBwbHVnaW4ncyBjb25maWd1cmF0aW9uIGFuZCBzdGF0ZSB0aHJvdWdoIHRoZSBrZXksXG4vLyAgIHdpdGhvdXQgaGF2aW5nIGFjY2VzcyB0byB0aGUgcGx1Z2luIGluc3RhbmNlIG9iamVjdC5cbi8vXG4vLyAgIHZpZXc6OiA/KEVkaXRvclZpZXcpIOKGkiBPYmplY3Rcbi8vICAgV2hlbiB0aGUgcGx1Z2luIG5lZWRzIHRvIGludGVyYWN0IHdpdGggdGhlIGVkaXRvciB2aWV3LCBvclxuLy8gICBzZXQgc29tZXRoaW5nIHVwIGluIHRoZSBET00sIHVzZSB0aGlzIGZpZWxkLiBUaGUgZnVuY3Rpb25cbi8vICAgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgcGx1Z2luJ3Mgc3RhdGUgaXMgYXNzb2NpYXRlZCB3aXRoIGFuXG4vLyAgIGVkaXRvciB2aWV3LlxuLy9cbi8vICAgICByZXR1cm46Oi1cbi8vICAgICBTaG91bGQgcmV0dXJuIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgb3B0aW9uYWxcbi8vICAgICBwcm9wZXJ0aWVzOlxuLy9cbi8vICAgICAgIHVwZGF0ZTo6ID8odmlldzogRWRpdG9yVmlldywgcHJldlN0YXRlOiBFZGl0b3JTdGF0ZSlcbi8vICAgICAgIENhbGxlZCB3aGVuZXZlciB0aGUgdmlldydzIHN0YXRlIGlzIHVwZGF0ZWQuXG4vL1xuLy8gICAgICAgZGVzdHJveTo6ID8oKVxuLy8gICAgICAgQ2FsbGVkIHdoZW4gdGhlIHZpZXcgaXMgZGVzdHJveWVkIG9yIHJlY2VpdmVzIGEgc3RhdGVcbi8vICAgICAgIHdpdGggZGlmZmVyZW50IHBsdWdpbnMuXG4vL1xuLy8gICBmaWx0ZXJUcmFuc2FjdGlvbjo6ID8oVHJhbnNhY3Rpb24sIEVkaXRvclN0YXRlKSDihpIgYm9vbFxuLy8gICBXaGVuIHByZXNlbnQsIHRoaXMgd2lsbCBiZSBjYWxsZWQgYmVmb3JlIGEgdHJhbnNhY3Rpb24gaXNcbi8vICAgYXBwbGllZCBieSB0aGUgc3RhdGUsIGFsbG93aW5nIHRoZSBwbHVnaW4gdG8gY2FuY2VsIGl0IChieVxuLy8gICByZXR1cm5pbmcgZmFsc2UpLlxuLy9cbi8vICAgYXBwZW5kVHJhbnNhY3Rpb246OiA/KHRyYW5zYWN0aW9uczogW1RyYW5zYWN0aW9uXSwgb2xkU3RhdGU6IEVkaXRvclN0YXRlLCBuZXdTdGF0ZTogRWRpdG9yU3RhdGUpIOKGkiA/VHJhbnNhY3Rpb25cbi8vICAgQWxsb3dzIHRoZSBwbHVnaW4gdG8gYXBwZW5kIGFub3RoZXIgdHJhbnNhY3Rpb24gdG8gYmUgYXBwbGllZFxuLy8gICBhZnRlciB0aGUgZ2l2ZW4gYXJyYXkgb2YgdHJhbnNhY3Rpb25zLiBXaGVuIGFub3RoZXIgcGx1Z2luXG4vLyAgIGFwcGVuZHMgYSB0cmFuc2FjdGlvbiBhZnRlciB0aGlzIHdhcyBjYWxsZWQsIGl0IGlzIGNhbGxlZCBhZ2FpblxuLy8gICB3aXRoIHRoZSBuZXcgc3RhdGUgYW5kIG5ldyB0cmFuc2FjdGlvbnPigJRidXQgb25seSB0aGUgbmV3XG4vLyAgIHRyYW5zYWN0aW9ucywgaS5lLiBpdCB3b24ndCBiZSBwYXNzZWQgdHJhbnNhY3Rpb25zIHRoYXQgaXRcbi8vICAgYWxyZWFkeSBzYXcuXG5cbmZ1bmN0aW9uIGJpbmRQcm9wcyhvYmosIHNlbGYsIHRhcmdldCkge1xuICBmb3IgKGxldCBwcm9wIGluIG9iaikge1xuICAgIGxldCB2YWwgPSBvYmpbcHJvcF1cbiAgICBpZiAodmFsIGluc3RhbmNlb2YgRnVuY3Rpb24pIHZhbCA9IHZhbC5iaW5kKHNlbGYpXG4gICAgZWxzZSBpZiAocHJvcCA9PSBcImhhbmRsZURPTUV2ZW50c1wiKSB2YWwgPSBiaW5kUHJvcHModmFsLCBzZWxmLCB7fSlcbiAgICB0YXJnZXRbcHJvcF0gPSB2YWxcbiAgfVxuICByZXR1cm4gdGFyZ2V0XG59XG5cbi8vIDo6LSBQbHVnaW5zIGJ1bmRsZSBmdW5jdGlvbmFsaXR5IHRoYXQgY2FuIGJlIGFkZGVkIHRvIGFuIGVkaXRvci5cbi8vIFRoZXkgYXJlIHBhcnQgb2YgdGhlIFtlZGl0b3Igc3RhdGVdKCNzdGF0ZS5FZGl0b3JTdGF0ZSkgYW5kXG4vLyBtYXkgaW5mbHVlbmNlIHRoYXQgc3RhdGUgYW5kIHRoZSB2aWV3IHRoYXQgY29udGFpbnMgaXQuXG5leHBvcnQgY2xhc3MgUGx1Z2luIHtcbiAgLy8gOjogKFBsdWdpblNwZWMpXG4gIC8vIENyZWF0ZSBhIHBsdWdpbi5cbiAgY29uc3RydWN0b3Ioc3BlYykge1xuICAgIC8vIDo6IEVkaXRvclByb3BzXG4gICAgLy8gVGhlIFtwcm9wc10oI3ZpZXcuRWRpdG9yUHJvcHMpIGV4cG9ydGVkIGJ5IHRoaXMgcGx1Z2luLlxuICAgIHRoaXMucHJvcHMgPSB7fVxuICAgIGlmIChzcGVjLnByb3BzKSBiaW5kUHJvcHMoc3BlYy5wcm9wcywgdGhpcywgdGhpcy5wcm9wcylcbiAgICAvLyA6OiBPYmplY3RcbiAgICAvLyBUaGUgcGx1Z2luJ3MgW3NwZWMgb2JqZWN0XSgjc3RhdGUuUGx1Z2luU3BlYykuXG4gICAgdGhpcy5zcGVjID0gc3BlY1xuICAgIHRoaXMua2V5ID0gc3BlYy5rZXkgPyBzcGVjLmtleS5rZXkgOiBjcmVhdGVLZXkoXCJwbHVnaW5cIilcbiAgfVxuXG4gIC8vIDo6IChFZGl0b3JTdGF0ZSkg4oaSIGFueVxuICAvLyBFeHRyYWN0IHRoZSBwbHVnaW4ncyBzdGF0ZSBmaWVsZCBmcm9tIGFuIGVkaXRvciBzdGF0ZS5cbiAgZ2V0U3RhdGUoc3RhdGUpIHsgcmV0dXJuIHN0YXRlW3RoaXMua2V5XSB9XG59XG5cbi8vIFN0YXRlRmllbGQ6OiBpbnRlcmZhY2U8VD5cbi8vIEEgcGx1Z2luIHNwZWMgbWF5IHByb3ZpZGUgYSBzdGF0ZSBmaWVsZCAodW5kZXIgaXRzXG4vLyBbYHN0YXRlYF0oI3N0YXRlLlBsdWdpblNwZWMuc3RhdGUpIHByb3BlcnR5KSBvZiB0aGlzIHR5cGUsIHdoaWNoXG4vLyBkZXNjcmliZXMgdGhlIHN0YXRlIGl0IHdhbnRzIHRvIGtlZXAuIEZ1bmN0aW9ucyBwcm92aWRlZCBoZXJlIGFyZVxuLy8gYWx3YXlzIGNhbGxlZCB3aXRoIHRoZSBwbHVnaW4gaW5zdGFuY2UgYXMgdGhlaXIgYHRoaXNgIGJpbmRpbmcuXG4vL1xuLy8gICBpbml0OjogKGNvbmZpZzogT2JqZWN0LCBpbnN0YW5jZTogRWRpdG9yU3RhdGUpIOKGkiBUXG4vLyAgIEluaXRpYWxpemUgdGhlIHZhbHVlIG9mIHRoZSBmaWVsZC4gYGNvbmZpZ2Agd2lsbCBiZSB0aGUgb2JqZWN0XG4vLyAgIHBhc3NlZCB0byBbYEVkaXRvclN0YXRlLmNyZWF0ZWBdKCNzdGF0ZS5FZGl0b3JTdGF0ZV5jcmVhdGUpLiBOb3RlXG4vLyAgIHRoYXQgYGluc3RhbmNlYCBpcyBhIGhhbGYtaW5pdGlhbGl6ZWQgc3RhdGUgaW5zdGFuY2UsIGFuZCB3aWxsXG4vLyAgIG5vdCBoYXZlIHZhbHVlcyBmb3IgcGx1Z2luIGZpZWxkcyBpbml0aWFsaXplZCBhZnRlciB0aGlzIG9uZS5cbi8vXG4vLyAgIGFwcGx5OjogKHRyOiBUcmFuc2FjdGlvbiwgdmFsdWU6IFQsIG9sZFN0YXRlOiBFZGl0b3JTdGF0ZSwgbmV3U3RhdGU6IEVkaXRvclN0YXRlKSDihpIgVFxuLy8gICBBcHBseSB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb24gdG8gdGhpcyBzdGF0ZSBmaWVsZCwgcHJvZHVjaW5nIGEgbmV3XG4vLyAgIGZpZWxkIHZhbHVlLiBOb3RlIHRoYXQgdGhlIGBuZXdTdGF0ZWAgYXJndW1lbnQgaXMgYWdhaW4gYSBwYXJ0aWFsbHlcbi8vICAgY29uc3RydWN0ZWQgc3RhdGUgZG9lcyBub3QgeWV0IGNvbnRhaW4gdGhlIHN0YXRlIGZyb20gcGx1Z2luc1xuLy8gICBjb21pbmcgYWZ0ZXIgdGhpcyBvbmUuXG4vL1xuLy8gICB0b0pTT046OiA/KHZhbHVlOiBUKSDihpIgKlxuLy8gICBDb252ZXJ0IHRoaXMgZmllbGQgdG8gSlNPTi4gT3B0aW9uYWwsIGNhbiBiZSBsZWZ0IG9mZiB0byBkaXNhYmxlXG4vLyAgIEpTT04gc2VyaWFsaXphdGlvbiBmb3IgdGhlIGZpZWxkLlxuLy9cbi8vICAgZnJvbUpTT046OiA/KGNvbmZpZzogT2JqZWN0LCB2YWx1ZTogKiwgc3RhdGU6IEVkaXRvclN0YXRlKSDihpIgVFxuLy8gICBEZXNlcmlhbGl6ZSB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGZpZWxkLiBOb3RlIHRoYXQgdGhlXG4vLyAgIGBzdGF0ZWAgYXJndW1lbnQgaXMgYWdhaW4gYSBoYWxmLWluaXRpYWxpemVkIHN0YXRlLlxuXG5jb25zdCBrZXlzID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG5mdW5jdGlvbiBjcmVhdGVLZXkobmFtZSkge1xuICBpZiAobmFtZSBpbiBrZXlzKSByZXR1cm4gbmFtZSArIFwiJFwiICsgKytrZXlzW25hbWVdXG4gIGtleXNbbmFtZV0gPSAwXG4gIHJldHVybiBuYW1lICsgXCIkXCJcbn1cblxuLy8gOjotIEEga2V5IGlzIHVzZWQgdG8gW3RhZ10oI3N0YXRlLlBsdWdpblNwZWMua2V5KVxuLy8gcGx1Z2lucyBpbiBhIHdheSB0aGF0IG1ha2VzIGl0IHBvc3NpYmxlIHRvIGZpbmQgdGhlbSwgZ2l2ZW4gYW5cbi8vIGVkaXRvciBzdGF0ZS4gQXNzaWduaW5nIGEga2V5IGRvZXMgbWVhbiBvbmx5IG9uZSBwbHVnaW4gb2YgdGhhdFxuLy8gdHlwZSBjYW4gYmUgYWN0aXZlIGluIGEgc3RhdGUuXG5leHBvcnQgY2xhc3MgUGx1Z2luS2V5IHtcbiAgLy8gOjogKD9zdHJpbmcpXG4gIC8vIENyZWF0ZSBhIHBsdWdpbiBrZXkuXG4gIGNvbnN0cnVjdG9yKG5hbWUgPSBcImtleVwiKSB7IHRoaXMua2V5ID0gY3JlYXRlS2V5KG5hbWUpIH1cblxuICAvLyA6OiAoRWRpdG9yU3RhdGUpIOKGkiA/UGx1Z2luXG4gIC8vIEdldCB0aGUgYWN0aXZlIHBsdWdpbiB3aXRoIHRoaXMga2V5LCBpZiBhbnksIGZyb20gYW4gZWRpdG9yXG4gIC8vIHN0YXRlLlxuICBnZXQoc3RhdGUpIHsgcmV0dXJuIHN0YXRlLmNvbmZpZy5wbHVnaW5zQnlLZXlbdGhpcy5rZXldIH1cblxuICAvLyA6OiAoRWRpdG9yU3RhdGUpIOKGkiA/YW55XG4gIC8vIEdldCB0aGUgcGx1Z2luJ3Mgc3RhdGUgZnJvbSBhbiBlZGl0b3Igc3RhdGUuXG4gIGdldFN0YXRlKHN0YXRlKSB7IHJldHVybiBzdGF0ZVt0aGlzLmtleV0gfVxufVxuIiwiY29uc3QgcmVzdWx0ID0ge31cbmV4cG9ydCBkZWZhdWx0IHJlc3VsdFxuXG5pZiAodHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBkb2N1bWVudCAhPSBcInVuZGVmaW5lZFwiKSB7XG4gIGNvbnN0IGllX2VkZ2UgPSAvRWRnZVxcLyhcXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KVxuICBjb25zdCBpZV91cHRvMTAgPSAvTVNJRSBcXGQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgY29uc3QgaWVfMTF1cCA9IC9UcmlkZW50XFwvKD86WzctOV18XFxkezIsfSlcXC4uKnJ2OihcXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KVxuXG4gIHJlc3VsdC5tYWMgPSAvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSlcbiAgbGV0IGllID0gcmVzdWx0LmllID0gISEoaWVfdXB0bzEwIHx8IGllXzExdXAgfHwgaWVfZWRnZSlcbiAgcmVzdWx0LmllX3ZlcnNpb24gPSBpZV91cHRvMTAgPyBkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgNiA6IGllXzExdXAgPyAraWVfMTF1cFsxXSA6IGllX2VkZ2UgPyAraWVfZWRnZVsxXSA6IG51bGxcbiAgcmVzdWx0LmdlY2tvID0gIWllICYmIC9nZWNrb1xcLyhcXGQrKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgcmVzdWx0LmdlY2tvX3ZlcnNpb24gPSByZXN1bHQuZ2Vja28gJiYgKygvRmlyZWZveFxcLyhcXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSB8fCBbMCwgMF0pWzFdXG4gIGxldCBjaHJvbWUgPSAhaWUgJiYgL0Nocm9tZVxcLyhcXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KVxuICByZXN1bHQuY2hyb21lID0gISFjaHJvbWVcbiAgcmVzdWx0LmNocm9tZV92ZXJzaW9uID0gY2hyb21lICYmICtjaHJvbWVbMV1cbiAgcmVzdWx0LmlvcyA9ICFpZSAmJiAvQXBwbGVXZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgL01vYmlsZVxcL1xcdysvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgcmVzdWx0LmFuZHJvaWQgPSAvQW5kcm9pZCBcXGQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgcmVzdWx0LndlYmtpdCA9ICFpZSAmJiAnV2Via2l0QXBwZWFyYW5jZScgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlXG4gIHJlc3VsdC5zYWZhcmkgPSAvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvcilcbiAgcmVzdWx0LndlYmtpdF92ZXJzaW9uID0gcmVzdWx0LndlYmtpdCAmJiArKC9cXGJBcHBsZVdlYktpdFxcLyhcXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSB8fCBbMCwgMF0pWzFdXG59XG4iLCJpbXBvcnQgYnJvd3NlciBmcm9tIFwiLi9icm93c2VyXCJcblxuZXhwb3J0IGNvbnN0IGRvbUluZGV4ID0gZnVuY3Rpb24obm9kZSkge1xuICBmb3IgKHZhciBpbmRleCA9IDA7OyBpbmRleCsrKSB7XG4gICAgbm9kZSA9IG5vZGUucHJldmlvdXNTaWJsaW5nXG4gICAgaWYgKCFub2RlKSByZXR1cm4gaW5kZXhcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcGFyZW50Tm9kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZVxuICByZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSA9PSAxMSA/IHBhcmVudC5ob3N0IDogcGFyZW50XG59XG5cbmV4cG9ydCBjb25zdCB0ZXh0UmFuZ2UgPSBmdW5jdGlvbihub2RlLCBmcm9tLCB0bykge1xuICBsZXQgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpXG4gIHJhbmdlLnNldEVuZChub2RlLCB0byA9PSBudWxsID8gbm9kZS5ub2RlVmFsdWUubGVuZ3RoIDogdG8pXG4gIHJhbmdlLnNldFN0YXJ0KG5vZGUsIGZyb20gfHwgMClcbiAgcmV0dXJuIHJhbmdlXG59XG5cbi8vIFNjYW5zIGZvcndhcmQgYW5kIGJhY2t3YXJkIHRocm91Z2ggRE9NIHBvc2l0aW9ucyBlcXVpdmFsZW50IHRvIHRoZVxuLy8gZ2l2ZW4gb25lIHRvIHNlZSBpZiB0aGUgdHdvIGFyZSBpbiB0aGUgc2FtZSBwbGFjZSAoaS5lLiBhZnRlciBhXG4vLyB0ZXh0IG5vZGUgdnMgYXQgdGhlIGVuZCBvZiB0aGF0IHRleHQgbm9kZSlcbmV4cG9ydCBjb25zdCBpc0VxdWl2YWxlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uKG5vZGUsIG9mZiwgdGFyZ2V0Tm9kZSwgdGFyZ2V0T2ZmKSB7XG4gIHJldHVybiB0YXJnZXROb2RlICYmIChzY2FuRm9yKG5vZGUsIG9mZiwgdGFyZ2V0Tm9kZSwgdGFyZ2V0T2ZmLCAtMSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYW5Gb3Iobm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYsIDEpKVxufVxuXG5jb25zdCBhdG9tRWxlbWVudHMgPSAvXihpbWd8YnJ8aW5wdXR8dGV4dGFyZWF8aHIpJC9pXG5cbmZ1bmN0aW9uIHNjYW5Gb3Iobm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYsIGRpcikge1xuICBmb3IgKDs7KSB7XG4gICAgaWYgKG5vZGUgPT0gdGFyZ2V0Tm9kZSAmJiBvZmYgPT0gdGFyZ2V0T2ZmKSByZXR1cm4gdHJ1ZVxuICAgIGlmIChvZmYgPT0gKGRpciA8IDAgPyAwIDogbm9kZVNpemUobm9kZSkpKSB7XG4gICAgICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlXG4gICAgICBpZiAocGFyZW50Lm5vZGVUeXBlICE9IDEgfHwgaGFzQmxvY2tEZXNjKG5vZGUpIHx8IGF0b21FbGVtZW50cy50ZXN0KG5vZGUubm9kZU5hbWUpIHx8IG5vZGUuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIilcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICBvZmYgPSBkb21JbmRleChub2RlKSArIChkaXIgPCAwID8gMCA6IDEpXG4gICAgICBub2RlID0gcGFyZW50XG4gICAgfSBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICAgIG5vZGUgPSBub2RlLmNoaWxkTm9kZXNbb2ZmICsgKGRpciA8IDAgPyAtMSA6IDApXVxuICAgICAgaWYgKG5vZGUuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIikgcmV0dXJuIGZhbHNlXG4gICAgICBvZmYgPSBkaXIgPCAwID8gbm9kZVNpemUobm9kZSkgOiAwXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9kZVNpemUobm9kZSkge1xuICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSAzID8gbm9kZS5ub2RlVmFsdWUubGVuZ3RoIDogbm9kZS5jaGlsZE5vZGVzLmxlbmd0aFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNPbkVkZ2Uobm9kZSwgb2Zmc2V0LCBwYXJlbnQpIHtcbiAgZm9yIChsZXQgYXRTdGFydCA9IG9mZnNldCA9PSAwLCBhdEVuZCA9IG9mZnNldCA9PSBub2RlU2l6ZShub2RlKTsgYXRTdGFydCB8fCBhdEVuZDspIHtcbiAgICBpZiAobm9kZSA9PSBwYXJlbnQpIHJldHVybiB0cnVlXG4gICAgbGV0IGluZGV4ID0gZG9tSW5kZXgobm9kZSlcbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlXG4gICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2VcbiAgICBhdFN0YXJ0ID0gYXRTdGFydCAmJiBpbmRleCA9PSAwXG4gICAgYXRFbmQgPSBhdEVuZCAmJiBpbmRleCA9PSBub2RlU2l6ZShub2RlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhc0Jsb2NrRGVzYyhkb20pIHtcbiAgbGV0IGRlc2NcbiAgZm9yIChsZXQgY3VyID0gZG9tOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlKSBpZiAoZGVzYyA9IGN1ci5wbVZpZXdEZXNjKSBicmVha1xuICByZXR1cm4gZGVzYyAmJiBkZXNjLm5vZGUgJiYgZGVzYy5ub2RlLmlzQmxvY2sgJiYgKGRlc2MuZG9tID09IGRvbSB8fCBkZXNjLmNvbnRlbnRET00gPT0gZG9tKVxufVxuXG4vLyBXb3JrIGFyb3VuZCBDaHJvbWUgaXNzdWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3NTIzXG4vLyAoaXNDb2xsYXBzZWQgaW5hcHByb3ByaWF0ZWx5IHJldHVybnMgdHJ1ZSBpbiBzaGFkb3cgZG9tKVxuZXhwb3J0IGNvbnN0IHNlbGVjdGlvbkNvbGxhcHNlZCA9IGZ1bmN0aW9uKGRvbVNlbCkge1xuICBsZXQgY29sbGFwc2VkID0gZG9tU2VsLmlzQ29sbGFwc2VkXG4gIGlmIChjb2xsYXBzZWQgJiYgYnJvd3Nlci5jaHJvbWUgJiYgZG9tU2VsLnJhbmdlQ291bnQgJiYgIWRvbVNlbC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZClcbiAgICBjb2xsYXBzZWQgPSBmYWxzZVxuICByZXR1cm4gY29sbGFwc2VkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBrZXlFdmVudChrZXlDb2RlLCBrZXkpIHtcbiAgbGV0IGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKVxuICBldmVudC5pbml0RXZlbnQoXCJrZXlkb3duXCIsIHRydWUsIHRydWUpXG4gIGV2ZW50LmtleUNvZGUgPSBrZXlDb2RlXG4gIGV2ZW50LmtleSA9IGV2ZW50LmNvZGUgPSBrZXlcbiAgcmV0dXJuIGV2ZW50XG59XG4iLCJpbXBvcnQge25vZGVTaXplLCB0ZXh0UmFuZ2UsIHBhcmVudE5vZGV9IGZyb20gXCIuL2RvbVwiXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwiLi9icm93c2VyXCJcblxuZnVuY3Rpb24gd2luZG93UmVjdCh3aW4pIHtcbiAgcmV0dXJuIHtsZWZ0OiAwLCByaWdodDogd2luLmlubmVyV2lkdGgsXG4gICAgICAgICAgdG9wOiAwLCBib3R0b206IHdpbi5pbm5lckhlaWdodH1cbn1cblxuZnVuY3Rpb24gZ2V0U2lkZSh2YWx1ZSwgc2lkZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIgPyB2YWx1ZSA6IHZhbHVlW3NpZGVdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY3JvbGxSZWN0SW50b1ZpZXcodmlldywgcmVjdCwgc3RhcnRET00pIHtcbiAgbGV0IHNjcm9sbFRocmVzaG9sZCA9IHZpZXcuc29tZVByb3AoXCJzY3JvbGxUaHJlc2hvbGRcIikgfHwgMCwgc2Nyb2xsTWFyZ2luID0gdmlldy5zb21lUHJvcChcInNjcm9sbE1hcmdpblwiKSB8fCA1XG4gIGxldCBkb2MgPSB2aWV3LmRvbS5vd25lckRvY3VtZW50LCB3aW4gPSBkb2MuZGVmYXVsdFZpZXdcbiAgZm9yIChsZXQgcGFyZW50ID0gc3RhcnRET00gfHwgdmlldy5kb207OyBwYXJlbnQgPSBwYXJlbnROb2RlKHBhcmVudCkpIHtcbiAgICBpZiAoIXBhcmVudCkgYnJlYWtcbiAgICBpZiAocGFyZW50Lm5vZGVUeXBlICE9IDEpIGNvbnRpbnVlXG4gICAgbGV0IGF0VG9wID0gcGFyZW50ID09IGRvYy5ib2R5IHx8IHBhcmVudC5ub2RlVHlwZSAhPSAxXG4gICAgbGV0IGJvdW5kaW5nID0gYXRUb3AgPyB3aW5kb3dSZWN0KHdpbikgOiBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBsZXQgbW92ZVggPSAwLCBtb3ZlWSA9IDBcbiAgICBpZiAocmVjdC50b3AgPCBib3VuZGluZy50b3AgKyBnZXRTaWRlKHNjcm9sbFRocmVzaG9sZCwgXCJ0b3BcIikpXG4gICAgICBtb3ZlWSA9IC0oYm91bmRpbmcudG9wIC0gcmVjdC50b3AgKyBnZXRTaWRlKHNjcm9sbE1hcmdpbiwgXCJ0b3BcIikpXG4gICAgZWxzZSBpZiAocmVjdC5ib3R0b20gPiBib3VuZGluZy5ib3R0b20gLSBnZXRTaWRlKHNjcm9sbFRocmVzaG9sZCwgXCJib3R0b21cIikpXG4gICAgICBtb3ZlWSA9IHJlY3QuYm90dG9tIC0gYm91bmRpbmcuYm90dG9tICsgZ2V0U2lkZShzY3JvbGxNYXJnaW4sIFwiYm90dG9tXCIpXG4gICAgaWYgKHJlY3QubGVmdCA8IGJvdW5kaW5nLmxlZnQgKyBnZXRTaWRlKHNjcm9sbFRocmVzaG9sZCwgXCJsZWZ0XCIpKVxuICAgICAgbW92ZVggPSAtKGJvdW5kaW5nLmxlZnQgLSByZWN0LmxlZnQgKyBnZXRTaWRlKHNjcm9sbE1hcmdpbiwgXCJsZWZ0XCIpKVxuICAgIGVsc2UgaWYgKHJlY3QucmlnaHQgPiBib3VuZGluZy5yaWdodCAtIGdldFNpZGUoc2Nyb2xsVGhyZXNob2xkLCBcInJpZ2h0XCIpKVxuICAgICAgbW92ZVggPSByZWN0LnJpZ2h0IC0gYm91bmRpbmcucmlnaHQgKyBnZXRTaWRlKHNjcm9sbE1hcmdpbiwgXCJyaWdodFwiKVxuICAgIGlmIChtb3ZlWCB8fCBtb3ZlWSkge1xuICAgICAgaWYgKGF0VG9wKSB7XG4gICAgICAgIHdpbi5zY3JvbGxCeShtb3ZlWCwgbW92ZVkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobW92ZVkpIHBhcmVudC5zY3JvbGxUb3AgKz0gbW92ZVlcbiAgICAgICAgaWYgKG1vdmVYKSBwYXJlbnQuc2Nyb2xsTGVmdCArPSBtb3ZlWFxuICAgICAgICByZWN0ID0ge2xlZnQ6IHJlY3QubGVmdCAtIG1vdmVYLCB0b3A6IHJlY3QudG9wIC0gbW92ZVksIHJpZ2h0OiByZWN0LnJpZ2h0IC0gbW92ZVgsIGJvdHRvbTogcmVjdC5ib3R0b20gLSBtb3ZlWX1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGF0VG9wKSBicmVha1xuICB9XG59XG5cbi8vIFN0b3JlIHRoZSBzY3JvbGwgcG9zaXRpb24gb2YgdGhlIGVkaXRvcidzIHBhcmVudCBub2RlcywgYWxvbmcgd2l0aFxuLy8gdGhlIHRvcCBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IG5lYXIgdGhlIHRvcCBvZiB0aGUgZWRpdG9yLCB3aGljaFxuLy8gd2lsbCBiZSB1c2VkIHRvIG1ha2Ugc3VyZSB0aGUgdmlzaWJsZSB2aWV3cG9ydCByZW1haW5zIHN0YWJsZSBldmVuXG4vLyB3aGVuIHRoZSBzaXplIG9mIHRoZSBjb250ZW50IGFib3ZlIGNoYW5nZXMuXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVTY3JvbGxQb3Modmlldykge1xuICBsZXQgcmVjdCA9IHZpZXcuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBzdGFydFkgPSBNYXRoLm1heCgwLCByZWN0LnRvcClcbiAgbGV0IHJlZkRPTSwgcmVmVG9wXG4gIGZvciAobGV0IHggPSAocmVjdC5sZWZ0ICsgcmVjdC5yaWdodCkgLyAyLCB5ID0gc3RhcnRZICsgMTtcbiAgICAgICB5IDwgTWF0aC5taW4oaW5uZXJIZWlnaHQsIHJlY3QuYm90dG9tKTsgeSArPSA1KSB7XG4gICAgbGV0IGRvbSA9IHZpZXcucm9vdC5lbGVtZW50RnJvbVBvaW50KHgsIHkpXG4gICAgaWYgKGRvbSA9PSB2aWV3LmRvbSB8fCAhdmlldy5kb20uY29udGFpbnMoZG9tKSkgY29udGludWVcbiAgICBsZXQgbG9jYWxSZWN0ID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgaWYgKGxvY2FsUmVjdC50b3AgPj0gc3RhcnRZIC0gMjApIHtcbiAgICAgIHJlZkRPTSA9IGRvbVxuICAgICAgcmVmVG9wID0gbG9jYWxSZWN0LnRvcFxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtyZWZET00sIHJlZlRvcCwgc3RhY2s6IHNjcm9sbFN0YWNrKHZpZXcuZG9tKX1cbn1cblxuZnVuY3Rpb24gc2Nyb2xsU3RhY2soZG9tKSB7XG4gIGxldCBzdGFjayA9IFtdLCBkb2MgPSBkb20ub3duZXJEb2N1bWVudFxuICBmb3IgKDsgZG9tOyBkb20gPSBwYXJlbnROb2RlKGRvbSkpIHtcbiAgICBzdGFjay5wdXNoKHtkb20sIHRvcDogZG9tLnNjcm9sbFRvcCwgbGVmdDogZG9tLnNjcm9sbExlZnR9KVxuICAgIGlmIChkb20gPT0gZG9jKSBicmVha1xuICB9XG4gIHJldHVybiBzdGFja1xufVxuXG4vLyBSZXNldCB0aGUgc2Nyb2xsIHBvc2l0aW9uIG9mIHRoZSBlZGl0b3IncyBwYXJlbnQgbm9kZXMgdG8gdGhhdCB3aGF0XG4vLyBpdCB3YXMgYmVmb3JlLCB3aGVuIHN0b3JlU2Nyb2xsUG9zIHdhcyBjYWxsZWQuXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRTY3JvbGxQb3Moe3JlZkRPTSwgcmVmVG9wLCBzdGFja30pIHtcbiAgbGV0IG5ld1JlZlRvcCA9IHJlZkRPTSA/IHJlZkRPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgOiAwXG4gIHJlc3RvcmVTY3JvbGxTdGFjayhzdGFjaywgbmV3UmVmVG9wID09IDAgPyAwIDogbmV3UmVmVG9wIC0gcmVmVG9wKVxufVxuXG5mdW5jdGlvbiByZXN0b3JlU2Nyb2xsU3RhY2soc3RhY2ssIGRUb3ApIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgIGxldCB7ZG9tLCB0b3AsIGxlZnR9ID0gc3RhY2tbaV1cbiAgICBpZiAoZG9tLnNjcm9sbFRvcCAhPSB0b3AgKyBkVG9wKSBkb20uc2Nyb2xsVG9wID0gdG9wICsgZFRvcFxuICAgIGlmIChkb20uc2Nyb2xsTGVmdCAhPSBsZWZ0KSBkb20uc2Nyb2xsTGVmdCA9IGxlZnRcbiAgfVxufVxuXG5sZXQgcHJldmVudFNjcm9sbFN1cHBvcnRlZCA9IG51bGxcbi8vIEZlYXR1cmUtZGV0ZWN0cyBzdXBwb3J0IGZvciAuZm9jdXMoe3ByZXZlbnRTY3JvbGw6IHRydWV9KSwgYW5kIHVzZXNcbi8vIGEgZmFsbGJhY2sga2x1ZGdlIHdoZW4gbm90IHN1cHBvcnRlZC5cbmV4cG9ydCBmdW5jdGlvbiBmb2N1c1ByZXZlbnRTY3JvbGwoZG9tKSB7XG4gIGlmIChkb20uc2V0QWN0aXZlKSByZXR1cm4gZG9tLnNldEFjdGl2ZSgpIC8vIGluIElFXG4gIGlmIChwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkKSByZXR1cm4gZG9tLmZvY3VzKHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQpXG5cbiAgbGV0IHN0b3JlZCA9IHNjcm9sbFN0YWNrKGRvbSlcbiAgZG9tLmZvY3VzKHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPT0gbnVsbCA/IHtcbiAgICBnZXQgcHJldmVudFNjcm9sbCgpIHtcbiAgICAgIHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPSB7cHJldmVudFNjcm9sbDogdHJ1ZX1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9IDogdW5kZWZpbmVkKVxuICBpZiAoIXByZXZlbnRTY3JvbGxTdXBwb3J0ZWQpIHtcbiAgICBwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkID0gZmFsc2VcbiAgICByZXN0b3JlU2Nyb2xsU3RhY2soc3RvcmVkLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRPZmZzZXRJbk5vZGUobm9kZSwgY29vcmRzKSB7XG4gIGxldCBjbG9zZXN0LCBkeENsb3Nlc3QgPSAyZTgsIGNvb3Jkc0Nsb3Nlc3QsIG9mZnNldCA9IDBcbiAgbGV0IHJvd0JvdCA9IGNvb3Jkcy50b3AsIHJvd1RvcCA9IGNvb3Jkcy50b3BcbiAgZm9yIChsZXQgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQsIGNoaWxkSW5kZXggPSAwOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZywgY2hpbGRJbmRleCsrKSB7XG4gICAgbGV0IHJlY3RzXG4gICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDEpIHJlY3RzID0gY2hpbGQuZ2V0Q2xpZW50UmVjdHMoKVxuICAgIGVsc2UgaWYgKGNoaWxkLm5vZGVUeXBlID09IDMpIHJlY3RzID0gdGV4dFJhbmdlKGNoaWxkKS5nZXRDbGllbnRSZWN0cygpXG4gICAgZWxzZSBjb250aW51ZVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHJlY3QgPSByZWN0c1tpXVxuICAgICAgaWYgKHJlY3QudG9wIDw9IHJvd0JvdCAmJiByZWN0LmJvdHRvbSA+PSByb3dUb3ApIHtcbiAgICAgICAgcm93Qm90ID0gTWF0aC5tYXgocmVjdC5ib3R0b20sIHJvd0JvdClcbiAgICAgICAgcm93VG9wID0gTWF0aC5taW4ocmVjdC50b3AsIHJvd1RvcClcbiAgICAgICAgbGV0IGR4ID0gcmVjdC5sZWZ0ID4gY29vcmRzLmxlZnQgPyByZWN0LmxlZnQgLSBjb29yZHMubGVmdFxuICAgICAgICAgICAgOiByZWN0LnJpZ2h0IDwgY29vcmRzLmxlZnQgPyBjb29yZHMubGVmdCAtIHJlY3QucmlnaHQgOiAwXG4gICAgICAgIGlmIChkeCA8IGR4Q2xvc2VzdCkge1xuICAgICAgICAgIGNsb3Nlc3QgPSBjaGlsZFxuICAgICAgICAgIGR4Q2xvc2VzdCA9IGR4XG4gICAgICAgICAgY29vcmRzQ2xvc2VzdCA9IGR4ICYmIGNsb3Nlc3Qubm9kZVR5cGUgPT0gMyA/IHtsZWZ0OiByZWN0LnJpZ2h0IDwgY29vcmRzLmxlZnQgPyByZWN0LnJpZ2h0IDogcmVjdC5sZWZ0LCB0b3A6IGNvb3Jkcy50b3B9IDogY29vcmRzXG4gICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDEgJiYgZHgpXG4gICAgICAgICAgICBvZmZzZXQgPSBjaGlsZEluZGV4ICsgKGNvb3Jkcy5sZWZ0ID49IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIgPyAxIDogMClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWNsb3Nlc3QgJiYgKGNvb3Jkcy5sZWZ0ID49IHJlY3QucmlnaHQgJiYgY29vcmRzLnRvcCA+PSByZWN0LnRvcCB8fFxuICAgICAgICAgICAgICAgICAgICAgICBjb29yZHMubGVmdCA+PSByZWN0LmxlZnQgJiYgY29vcmRzLnRvcCA+PSByZWN0LmJvdHRvbSkpXG4gICAgICAgIG9mZnNldCA9IGNoaWxkSW5kZXggKyAxXG4gICAgfVxuICB9XG4gIGlmIChjbG9zZXN0ICYmIGNsb3Nlc3Qubm9kZVR5cGUgPT0gMykgcmV0dXJuIGZpbmRPZmZzZXRJblRleHQoY2xvc2VzdCwgY29vcmRzQ2xvc2VzdClcbiAgaWYgKCFjbG9zZXN0IHx8IChkeENsb3Nlc3QgJiYgY2xvc2VzdC5ub2RlVHlwZSA9PSAxKSkgcmV0dXJuIHtub2RlLCBvZmZzZXR9XG4gIHJldHVybiBmaW5kT2Zmc2V0SW5Ob2RlKGNsb3Nlc3QsIGNvb3Jkc0Nsb3Nlc3QpXG59XG5cbmZ1bmN0aW9uIGZpbmRPZmZzZXRJblRleHQobm9kZSwgY29vcmRzKSB7XG4gIGxldCBsZW4gPSBub2RlLm5vZGVWYWx1ZS5sZW5ndGhcbiAgbGV0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIGkgKyAxKVxuICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIGkpXG4gICAgbGV0IHJlY3QgPSBzaW5nbGVSZWN0KHJhbmdlLCAxKVxuICAgIGlmIChyZWN0LnRvcCA9PSByZWN0LmJvdHRvbSkgY29udGludWVcbiAgICBpZiAoaW5SZWN0KGNvb3JkcywgcmVjdCkpXG4gICAgICByZXR1cm4ge25vZGUsIG9mZnNldDogaSArIChjb29yZHMubGVmdCA+PSAocmVjdC5sZWZ0ICsgcmVjdC5yaWdodCkgLyAyID8gMSA6IDApfVxuICB9XG4gIHJldHVybiB7bm9kZSwgb2Zmc2V0OiAwfVxufVxuXG5mdW5jdGlvbiBpblJlY3QoY29vcmRzLCByZWN0KSB7XG4gIHJldHVybiBjb29yZHMubGVmdCA+PSByZWN0LmxlZnQgLSAxICYmIGNvb3Jkcy5sZWZ0IDw9IHJlY3QucmlnaHQgKyAxJiZcbiAgICBjb29yZHMudG9wID49IHJlY3QudG9wIC0gMSAmJiBjb29yZHMudG9wIDw9IHJlY3QuYm90dG9tICsgMVxufVxuXG5mdW5jdGlvbiB0YXJnZXRLbHVkZ2UoZG9tLCBjb29yZHMpIHtcbiAgbGV0IHBhcmVudCA9IGRvbS5wYXJlbnROb2RlXG4gIGlmIChwYXJlbnQgJiYgL15saSQvaS50ZXN0KHBhcmVudC5ub2RlTmFtZSkgJiYgY29vcmRzLmxlZnQgPCBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdClcbiAgICByZXR1cm4gcGFyZW50XG4gIHJldHVybiBkb21cbn1cblxuZnVuY3Rpb24gcG9zRnJvbUVsZW1lbnQodmlldywgZWx0LCBjb29yZHMpIHtcbiAgbGV0IHtub2RlLCBvZmZzZXR9ID0gZmluZE9mZnNldEluTm9kZShlbHQsIGNvb3JkcyksIGJpYXMgPSAtMVxuICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmICFub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICBsZXQgcmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBiaWFzID0gcmVjdC5sZWZ0ICE9IHJlY3QucmlnaHQgJiYgY29vcmRzLmxlZnQgPiAocmVjdC5sZWZ0ICsgcmVjdC5yaWdodCkgLyAyID8gMSA6IC0xXG4gIH1cbiAgcmV0dXJuIHZpZXcuZG9jVmlldy5wb3NGcm9tRE9NKG5vZGUsIG9mZnNldCwgYmlhcylcbn1cblxuZnVuY3Rpb24gcG9zRnJvbUNhcmV0KHZpZXcsIG5vZGUsIG9mZnNldCwgY29vcmRzKSB7XG4gIC8vIEJyb3dzZXIgKGluIGNhcmV0UG9zaXRpb24vUmFuZ2VGcm9tUG9pbnQpIHdpbGwgYWdyZXNzaXZlbHlcbiAgLy8gbm9ybWFsaXplIHRvd2FyZHMgbmVhcmJ5IGlubGluZSBub2Rlcy4gU2luY2Ugd2UgYXJlIGludGVyZXN0ZWQgaW5cbiAgLy8gcG9zaXRpb25zIGJldHdlZW4gYmxvY2sgbm9kZXMgdG9vLCB3ZSBmaXJzdCB3YWxrIHVwIHRoZSBoaWVyYXJjaHlcbiAgLy8gb2Ygbm9kZXMgdG8gc2VlIGlmIHRoZXJlIGFyZSBibG9jayBub2RlcyB0aGF0IHRoZSBjb29yZGluYXRlc1xuICAvLyBmYWxsIG91dHNpZGUgb2YuIElmIHNvLCB3ZSB0YWtlIHRoZSBwb3NpdGlvbiBiZWZvcmUvYWZ0ZXIgdGhhdFxuICAvLyBibG9jay4gSWYgbm90LCB3ZSBjYWxsIGBwb3NGcm9tRE9NYCBvbiB0aGUgcmF3IG5vZGUvb2Zmc2V0LlxuICBsZXQgb3V0c2lkZSA9IC0xXG4gIGZvciAobGV0IGN1ciA9IG5vZGU7Oykge1xuICAgIGlmIChjdXIgPT0gdmlldy5kb20pIGJyZWFrXG4gICAgbGV0IGRlc2MgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MoY3VyLCB0cnVlKVxuICAgIGlmICghZGVzYykgcmV0dXJuIG51bGxcbiAgICBpZiAoZGVzYy5ub2RlLmlzQmxvY2sgJiYgZGVzYy5wYXJlbnQpIHtcbiAgICAgIGxldCByZWN0ID0gZGVzYy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIGlmIChyZWN0LmxlZnQgPiBjb29yZHMubGVmdCB8fCByZWN0LnRvcCA+IGNvb3Jkcy50b3ApIG91dHNpZGUgPSBkZXNjLnBvc0JlZm9yZVxuICAgICAgZWxzZSBpZiAocmVjdC5yaWdodCA8IGNvb3Jkcy5sZWZ0IHx8IHJlY3QuYm90dG9tIDwgY29vcmRzLnRvcCkgb3V0c2lkZSA9IGRlc2MucG9zQWZ0ZXJcbiAgICAgIGVsc2UgYnJlYWtcbiAgICB9XG4gICAgY3VyID0gZGVzYy5kb20ucGFyZW50Tm9kZVxuICB9XG4gIHJldHVybiBvdXRzaWRlID4gLTEgPyBvdXRzaWRlIDogdmlldy5kb2NWaWV3LnBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KVxufVxuXG5mdW5jdGlvbiBlbGVtZW50RnJvbVBvaW50KGVsZW1lbnQsIGNvb3JkcywgYm94KSB7XG4gIGxldCBsZW4gPSBlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoXG4gIGlmIChsZW4gJiYgYm94LnRvcCA8IGJveC5ib3R0b20pIHtcbiAgICBmb3IgKGxldCBzdGFydEkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihsZW4gLSAxLCBNYXRoLmZsb29yKGxlbiAqIChjb29yZHMudG9wIC0gYm94LnRvcCkgLyAoYm94LmJvdHRvbSAtIGJveC50b3ApKSAtIDIpKSwgaSA9IHN0YXJ0STs7KSB7XG4gICAgICBsZXQgY2hpbGQgPSBlbGVtZW50LmNoaWxkTm9kZXNbaV1cbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgIGxldCByZWN0cyA9IGNoaWxkLmdldENsaWVudFJlY3RzKClcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByZWN0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGxldCByZWN0ID0gcmVjdHNbal1cbiAgICAgICAgICBpZiAoaW5SZWN0KGNvb3JkcywgcmVjdCkpIHJldHVybiBlbGVtZW50RnJvbVBvaW50KGNoaWxkLCBjb29yZHMsIHJlY3QpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgoaSA9IChpICsgMSkgJSBsZW4pID09IHN0YXJ0SSkgYnJlYWtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnRcbn1cblxuLy8gR2l2ZW4gYW4geCx5IHBvc2l0aW9uIG9uIHRoZSBlZGl0b3IsIGdldCB0aGUgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50LlxuZXhwb3J0IGZ1bmN0aW9uIHBvc0F0Q29vcmRzKHZpZXcsIGNvb3Jkcykge1xuICBsZXQgcm9vdCA9IHZpZXcucm9vdCwgbm9kZSwgb2Zmc2V0XG4gIGlmIChyb290LmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQpIHtcbiAgICB0cnkgeyAvLyBGaXJlZm94IHRocm93cyBmb3IgdGhpcyBjYWxsIGluIGhhcmQtdG8tcHJlZGljdCBjaXJjdW1zdGFuY2VzICgjOTk0KVxuICAgICAgbGV0IHBvcyA9IHJvb3QuY2FyZXRQb3NpdGlvbkZyb21Qb2ludChjb29yZHMubGVmdCwgY29vcmRzLnRvcClcbiAgICAgIGlmIChwb3MpICh7b2Zmc2V0Tm9kZTogbm9kZSwgb2Zmc2V0fSA9IHBvcylcbiAgICB9IGNhdGNoIChfKSB7fVxuICB9XG4gIGlmICghbm9kZSAmJiByb290LmNhcmV0UmFuZ2VGcm9tUG9pbnQpIHtcbiAgICBsZXQgcmFuZ2UgPSByb290LmNhcmV0UmFuZ2VGcm9tUG9pbnQoY29vcmRzLmxlZnQsIGNvb3Jkcy50b3ApXG4gICAgaWYgKHJhbmdlKSAoe3N0YXJ0Q29udGFpbmVyOiBub2RlLCBzdGFydE9mZnNldDogb2Zmc2V0fSA9IHJhbmdlKVxuICB9XG5cbiAgbGV0IGVsdCA9IHJvb3QuZWxlbWVudEZyb21Qb2ludChjb29yZHMubGVmdCwgY29vcmRzLnRvcCArIDEpLCBwb3NcbiAgaWYgKCFlbHQgfHwgIXZpZXcuZG9tLmNvbnRhaW5zKGVsdC5ub2RlVHlwZSAhPSAxID8gZWx0LnBhcmVudE5vZGUgOiBlbHQpKSB7XG4gICAgbGV0IGJveCA9IHZpZXcuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgaWYgKCFpblJlY3QoY29vcmRzLCBib3gpKSByZXR1cm4gbnVsbFxuICAgIGVsdCA9IGVsZW1lbnRGcm9tUG9pbnQodmlldy5kb20sIGNvb3JkcywgYm94KVxuICAgIGlmICghZWx0KSByZXR1cm4gbnVsbFxuICB9XG4gIGVsdCA9IHRhcmdldEtsdWRnZShlbHQsIGNvb3JkcylcbiAgaWYgKG5vZGUpIHtcbiAgICBpZiAoYnJvd3Nlci5nZWNrbyAmJiBub2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICAgIC8vIEZpcmVmb3ggd2lsbCBzb21ldGltZXMgcmV0dXJuIG9mZnNldHMgaW50byA8aW5wdXQ+IG5vZGVzLCB3aGljaFxuICAgICAgLy8gaGF2ZSBubyBhY3R1YWwgY2hpbGRyZW4sIGZyb20gY2FyZXRQb3NpdGlvbkZyb21Qb2ludCAoIzk1MylcbiAgICAgIG9mZnNldCA9IE1hdGgubWluKG9mZnNldCwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aClcbiAgICAgIC8vIEl0J2xsIGFsc28gbW92ZSB0aGUgcmV0dXJuZWQgcG9zaXRpb24gYmVmb3JlIGltYWdlIG5vZGVzLFxuICAgICAgLy8gZXZlbiBpZiB0aG9zZSBhcmUgYmVoaW5kIGl0LlxuICAgICAgaWYgKG9mZnNldCA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgbGV0IG5leHQgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XSwgYm94XG4gICAgICAgIGlmIChuZXh0Lm5vZGVOYW1lID09IFwiSU1HXCIgJiYgKGJveCA9IG5leHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLnJpZ2h0IDw9IGNvb3Jkcy5sZWZ0ICYmXG4gICAgICAgICAgICBib3guYm90dG9tID4gY29vcmRzLnRvcClcbiAgICAgICAgICBvZmZzZXQrK1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBTdXNwaWNpb3VzbHkgc3BlY2lmaWMga2x1ZGdlIHRvIHdvcmsgYXJvdW5kIGNhcmV0KkZyb21Qb2ludFxuICAgIC8vIG5ldmVyIHJldHVybmluZyBhIHBvc2l0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50XG4gICAgaWYgKG5vZGUgPT0gdmlldy5kb20gJiYgb2Zmc2V0ID09IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggLSAxICYmIG5vZGUubGFzdENoaWxkLm5vZGVUeXBlID09IDEgJiZcbiAgICAgICAgY29vcmRzLnRvcCA+IG5vZGUubGFzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSlcbiAgICAgIHBvcyA9IHZpZXcuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZVxuICAgIC8vIElnbm9yZSBwb3NpdGlvbnMgZGlyZWN0bHkgYWZ0ZXIgYSBCUiwgc2luY2UgY2FyZXQqRnJvbVBvaW50XG4gICAgLy8gJ3JvdW5kIHVwJyBwb3NpdGlvbnMgdGhhdCB3b3VsZCBiZSBtb3JlIGFjY3VyYXRlbHkgcGxhY2VkXG4gICAgLy8gYmVmb3JlIHRoZSBCUiBub2RlLlxuICAgIGVsc2UgaWYgKG9mZnNldCA9PSAwIHx8IG5vZGUubm9kZVR5cGUgIT0gMSB8fCBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV0ubm9kZU5hbWUgIT0gXCJCUlwiKVxuICAgICAgcG9zID0gcG9zRnJvbUNhcmV0KHZpZXcsIG5vZGUsIG9mZnNldCwgY29vcmRzKVxuICB9XG4gIGlmIChwb3MgPT0gbnVsbCkgcG9zID0gcG9zRnJvbUVsZW1lbnQodmlldywgZWx0LCBjb29yZHMpXG5cbiAgbGV0IGRlc2MgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MoZWx0LCB0cnVlKVxuICByZXR1cm4ge3BvcywgaW5zaWRlOiBkZXNjID8gZGVzYy5wb3NBdFN0YXJ0IC0gZGVzYy5ib3JkZXIgOiAtMX1cbn1cblxuZnVuY3Rpb24gc2luZ2xlUmVjdChvYmplY3QsIGJpYXMpIHtcbiAgbGV0IHJlY3RzID0gb2JqZWN0LmdldENsaWVudFJlY3RzKClcbiAgcmV0dXJuICFyZWN0cy5sZW5ndGggPyBvYmplY3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiByZWN0c1tiaWFzIDwgMCA/IDAgOiByZWN0cy5sZW5ndGggLSAxXVxufVxuXG4vLyA6IChFZGl0b3JWaWV3LCBudW1iZXIpIOKGkiB7bGVmdDogbnVtYmVyLCB0b3A6IG51bWJlciwgcmlnaHQ6IG51bWJlciwgYm90dG9tOiBudW1iZXJ9XG4vLyBHaXZlbiBhIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudCBtb2RlbCwgZ2V0IGEgYm91bmRpbmcgYm94IG9mIHRoZVxuLy8gY2hhcmFjdGVyIGF0IHRoYXQgcG9zaXRpb24sIHJlbGF0aXZlIHRvIHRoZSB3aW5kb3cuXG5leHBvcnQgZnVuY3Rpb24gY29vcmRzQXRQb3ModmlldywgcG9zKSB7XG4gIGxldCB7bm9kZSwgb2Zmc2V0fSA9IHZpZXcuZG9jVmlldy5kb21Gcm9tUG9zKHBvcylcblxuICAvLyBUaGVzZSBicm93c2VycyBzdXBwb3J0IHF1ZXJ5aW5nIGVtcHR5IHRleHQgcmFuZ2VzXG4gIGlmIChub2RlLm5vZGVUeXBlID09IDMgJiYgKGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIuZ2Vja28pKSB7XG4gICAgbGV0IHJlY3QgPSBzaW5nbGVSZWN0KHRleHRSYW5nZShub2RlLCBvZmZzZXQsIG9mZnNldCksIDApXG4gICAgLy8gRmlyZWZveCByZXR1cm5zIGJhZCByZXN1bHRzICh0aGUgcG9zaXRpb24gYmVmb3JlIHRoZSBzcGFjZSlcbiAgICAvLyB3aGVuIHF1ZXJ5aW5nIGEgcG9zaXRpb24gZGlyZWN0bHkgYWZ0ZXIgbGluZS1icm9rZW5cbiAgICAvLyB3aGl0ZXNwYWNlLiBEZXRlY3QgdGhpcyBzaXR1YXRpb24gYW5kIGFuZCBrbHVkZ2UgYXJvdW5kIGl0XG4gICAgaWYgKGJyb3dzZXIuZ2Vja28gJiYgb2Zmc2V0ICYmIC9cXHMvLnRlc3Qobm9kZS5ub2RlVmFsdWVbb2Zmc2V0IC0gMV0pICYmIG9mZnNldCA8IG5vZGUubm9kZVZhbHVlLmxlbmd0aCkge1xuICAgICAgbGV0IHJlY3RCZWZvcmUgPSBzaW5nbGVSZWN0KHRleHRSYW5nZShub2RlLCBvZmZzZXQgLSAxLCBvZmZzZXQgLSAxKSwgLTEpXG4gICAgICBpZiAoTWF0aC5hYnMocmVjdEJlZm9yZS5sZWZ0IC0gcmVjdC5sZWZ0KSA8IDEgJiYgcmVjdEJlZm9yZS50b3AgPT0gcmVjdC50b3ApIHtcbiAgICAgICAgbGV0IHJlY3RBZnRlciA9IHNpbmdsZVJlY3QodGV4dFJhbmdlKG5vZGUsIG9mZnNldCwgb2Zmc2V0ICsgMSksIC0xKVxuICAgICAgICByZXR1cm4gZmxhdHRlblYocmVjdEFmdGVyLCByZWN0QWZ0ZXIubGVmdCA8IHJlY3RCZWZvcmUubGVmdClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlY3RcbiAgfVxuXG4gIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgIXZpZXcuc3RhdGUuZG9jLnJlc29sdmUocG9zKS5wYXJlbnQuaW5saW5lQ29udGVudCkge1xuICAgIC8vIFJldHVybiBhIGhvcml6b250YWwgbGluZSBpbiBibG9jayBjb250ZXh0XG4gICAgbGV0IHRvcCA9IHRydWUsIHJlY3RcbiAgICBpZiAob2Zmc2V0IDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgbGV0IGFmdGVyID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldF1cbiAgICAgIGlmIChhZnRlci5ub2RlVHlwZSA9PSAxKSByZWN0ID0gYWZ0ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICB9XG4gICAgaWYgKCFyZWN0ICYmIG9mZnNldCkge1xuICAgICAgbGV0IGJlZm9yZSA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXVxuICAgICAgaWYgKGJlZm9yZS5ub2RlVHlwZSA9PSAxKSB7IHJlY3QgPSBiZWZvcmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IHRvcCA9IGZhbHNlIH1cbiAgICB9XG4gICAgcmV0dXJuIGZsYXR0ZW5IKHJlY3QgfHwgbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdG9wKVxuICB9XG5cbiAgLy8gTm90IEZpcmVmb3gvQ2hyb21lLCBvciBub3QgaW4gYSB0ZXh0IG5vZGUsIHNvIHdlIGhhdmUgdG8gdXNlXG4gIC8vIGFjdHVhbCBlbGVtZW50L2NoYXJhY3RlciByZWN0YW5nbGVzIHRvIGdldCBhIHNvbHV0aW9uICh0aGlzIHBhcnRcbiAgLy8gaXMgbm90IHZlcnkgYmlkaS1zYWZlKVxuICAvL1xuICAvLyBUcnkgdGhlIGxlZnQgc2lkZSBmaXJzdCwgZmFsbCBiYWNrIHRvIHRoZSByaWdodCBvbmUgaWYgdGhhdFxuICAvLyBkb2Vzbid0IHdvcmsuXG4gIGZvciAobGV0IGRpciA9IC0xOyBkaXIgPCAyOyBkaXIgKz0gMikge1xuICAgIGlmIChkaXIgPCAwICYmIG9mZnNldCkge1xuICAgICAgbGV0IHByZXYsIHRhcmdldCA9IG5vZGUubm9kZVR5cGUgPT0gMyA/IHRleHRSYW5nZShub2RlLCBvZmZzZXQgLSAxLCBvZmZzZXQpXG4gICAgICAgICAgOiAocHJldiA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXSkubm9kZVR5cGUgPT0gMyA/IHRleHRSYW5nZShwcmV2KVxuICAgICAgICAgIDogcHJldi5ub2RlVHlwZSA9PSAxICYmIHByZXYubm9kZU5hbWUgIT0gXCJCUlwiID8gcHJldiA6IG51bGwgLy8gQlIgbm9kZXMgdGVuZCB0byBvbmx5IHJldHVybiB0aGUgcmVjdGFuZ2xlIGJlZm9yZSB0aGVtXG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGxldCByZWN0ID0gc2luZ2xlUmVjdCh0YXJnZXQsIDEpXG4gICAgICAgIGlmIChyZWN0LnRvcCA8IHJlY3QuYm90dG9tKSByZXR1cm4gZmxhdHRlblYocmVjdCwgZmFsc2UpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaXIgPiAwICYmIG9mZnNldCA8IG5vZGVTaXplKG5vZGUpKSB7XG4gICAgICBsZXQgbmV4dCwgdGFyZ2V0ID0gbm9kZS5ub2RlVHlwZSA9PSAzID8gdGV4dFJhbmdlKG5vZGUsIG9mZnNldCwgb2Zmc2V0ICsgMSlcbiAgICAgICAgICA6IChuZXh0ID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldF0pLm5vZGVUeXBlID09IDMgPyB0ZXh0UmFuZ2UobmV4dClcbiAgICAgICAgICA6IG5leHQubm9kZVR5cGUgPT0gMSA/IG5leHQgOiBudWxsXG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGxldCByZWN0ID0gc2luZ2xlUmVjdCh0YXJnZXQsIC0xKVxuICAgICAgICBpZiAocmVjdC50b3AgPCByZWN0LmJvdHRvbSkgcmV0dXJuIGZsYXR0ZW5WKHJlY3QsIHRydWUpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIEFsbCBlbHNlIGZhaWxlZCwganVzdCB0cnkgdG8gZ2V0IGEgcmVjdGFuZ2xlIGZvciB0aGUgdGFyZ2V0IG5vZGVcbiAgcmV0dXJuIGZsYXR0ZW5WKHNpbmdsZVJlY3Qobm9kZS5ub2RlVHlwZSA9PSAzID8gdGV4dFJhbmdlKG5vZGUpIDogbm9kZSwgMCksIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBmbGF0dGVuVihyZWN0LCBsZWZ0KSB7XG4gIGlmIChyZWN0LndpZHRoID09IDApIHJldHVybiByZWN0XG4gIGxldCB4ID0gbGVmdCA/IHJlY3QubGVmdCA6IHJlY3QucmlnaHRcbiAgcmV0dXJuIHt0b3A6IHJlY3QudG9wLCBib3R0b206IHJlY3QuYm90dG9tLCBsZWZ0OiB4LCByaWdodDogeH1cbn1cblxuZnVuY3Rpb24gZmxhdHRlbkgocmVjdCwgdG9wKSB7XG4gIGlmIChyZWN0LmhlaWdodCA9PSAwKSByZXR1cm4gcmVjdFxuICBsZXQgeSA9IHRvcCA/IHJlY3QudG9wIDogcmVjdC5ib3R0b21cbiAgcmV0dXJuIHt0b3A6IHksIGJvdHRvbTogeSwgbGVmdDogcmVjdC5sZWZ0LCByaWdodDogcmVjdC5yaWdodH1cbn1cblxuZnVuY3Rpb24gd2l0aEZsdXNoZWRTdGF0ZSh2aWV3LCBzdGF0ZSwgZikge1xuICBsZXQgdmlld1N0YXRlID0gdmlldy5zdGF0ZSwgYWN0aXZlID0gdmlldy5yb290LmFjdGl2ZUVsZW1lbnRcbiAgaWYgKHZpZXdTdGF0ZSAhPSBzdGF0ZSkgdmlldy51cGRhdGVTdGF0ZShzdGF0ZSlcbiAgaWYgKGFjdGl2ZSAhPSB2aWV3LmRvbSkgdmlldy5mb2N1cygpXG4gIHRyeSB7XG4gICAgcmV0dXJuIGYoKVxuICB9IGZpbmFsbHkge1xuICAgIGlmICh2aWV3U3RhdGUgIT0gc3RhdGUpIHZpZXcudXBkYXRlU3RhdGUodmlld1N0YXRlKVxuICAgIGlmIChhY3RpdmUgIT0gdmlldy5kb20pIGFjdGl2ZS5mb2N1cygpXG4gIH1cbn1cblxuLy8gOiAoRWRpdG9yVmlldywgbnVtYmVyLCBudW1iZXIpXG4vLyBXaGV0aGVyIHZlcnRpY2FsIHBvc2l0aW9uIG1vdGlvbiBpbiBhIGdpdmVuIGRpcmVjdGlvblxuLy8gZnJvbSBhIHBvc2l0aW9uIHdvdWxkIGxlYXZlIGEgdGV4dCBibG9jay5cbmZ1bmN0aW9uIGVuZE9mVGV4dGJsb2NrVmVydGljYWwodmlldywgc3RhdGUsIGRpcikge1xuICBsZXQgc2VsID0gc3RhdGUuc2VsZWN0aW9uXG4gIGxldCAkcG9zID0gZGlyID09IFwidXBcIiA/IHNlbC4kYW5jaG9yLm1pbihzZWwuJGhlYWQpIDogc2VsLiRhbmNob3IubWF4KHNlbC4kaGVhZClcbiAgcmV0dXJuIHdpdGhGbHVzaGVkU3RhdGUodmlldywgc3RhdGUsICgpID0+IHtcbiAgICBsZXQge25vZGU6IGRvbX0gPSB2aWV3LmRvY1ZpZXcuZG9tRnJvbVBvcygkcG9zLnBvcylcbiAgICBmb3IgKDs7KSB7XG4gICAgICBsZXQgbmVhcmVzdCA9IHZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhkb20sIHRydWUpXG4gICAgICBpZiAoIW5lYXJlc3QpIGJyZWFrXG4gICAgICBpZiAobmVhcmVzdC5ub2RlLmlzQmxvY2spIHsgZG9tID0gbmVhcmVzdC5kb207IGJyZWFrIH1cbiAgICAgIGRvbSA9IG5lYXJlc3QuZG9tLnBhcmVudE5vZGVcbiAgICB9XG4gICAgbGV0IGNvb3JkcyA9IGNvb3Jkc0F0UG9zKHZpZXcsICRwb3MucG9zKVxuICAgIGZvciAobGV0IGNoaWxkID0gZG9tLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XG4gICAgICBsZXQgYm94ZXNcbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAxKSBib3hlcyA9IGNoaWxkLmdldENsaWVudFJlY3RzKClcbiAgICAgIGVsc2UgaWYgKGNoaWxkLm5vZGVUeXBlID09IDMpIGJveGVzID0gdGV4dFJhbmdlKGNoaWxkLCAwLCBjaGlsZC5ub2RlVmFsdWUubGVuZ3RoKS5nZXRDbGllbnRSZWN0cygpXG4gICAgICBlbHNlIGNvbnRpbnVlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJveGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBib3ggPSBib3hlc1tpXVxuICAgICAgICBpZiAoYm94LmJvdHRvbSA+IGJveC50b3AgJiYgKGRpciA9PSBcInVwXCIgPyBib3guYm90dG9tIDwgY29vcmRzLnRvcCArIDEgOiBib3gudG9wID4gY29vcmRzLmJvdHRvbSAtIDEpKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9KVxufVxuXG5jb25zdCBtYXliZVJUTCA9IC9bXFx1MDU5MC1cXHUwOGFjXS9cblxuZnVuY3Rpb24gZW5kT2ZUZXh0YmxvY2tIb3Jpem9udGFsKHZpZXcsIHN0YXRlLCBkaXIpIHtcbiAgbGV0IHskaGVhZH0gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKCEkaGVhZC5wYXJlbnQuaXNUZXh0YmxvY2spIHJldHVybiBmYWxzZVxuICBsZXQgb2Zmc2V0ID0gJGhlYWQucGFyZW50T2Zmc2V0LCBhdFN0YXJ0ID0gIW9mZnNldCwgYXRFbmQgPSBvZmZzZXQgPT0gJGhlYWQucGFyZW50LmNvbnRlbnQuc2l6ZVxuICBsZXQgc2VsID0gZ2V0U2VsZWN0aW9uKClcbiAgLy8gSWYgdGhlIHRleHRibG9jayBpcyBhbGwgTFRSLCBvciB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnRcbiAgLy8gU2VsZWN0aW9uLm1vZGlmeSAoRWRnZSksIGZhbGwgYmFjayB0byBhIHByaW1pdGl2ZSBhcHByb2FjaFxuICBpZiAoIW1heWJlUlRMLnRlc3QoJGhlYWQucGFyZW50LnRleHRDb250ZW50KSB8fCAhc2VsLm1vZGlmeSlcbiAgICByZXR1cm4gZGlyID09IFwibGVmdFwiIHx8IGRpciA9PSBcImJhY2t3YXJkXCIgPyBhdFN0YXJ0IDogYXRFbmRcblxuICByZXR1cm4gd2l0aEZsdXNoZWRTdGF0ZSh2aWV3LCBzdGF0ZSwgKCkgPT4ge1xuICAgIC8vIFRoaXMgaXMgYSBodWdlIGhhY2ssIGJ1dCBhcHBlYXJzIHRvIGJlIHRoZSBiZXN0IHdlIGNhblxuICAgIC8vIGN1cnJlbnRseSBkbzogdXNlIGBTZWxlY3Rpb24ubW9kaWZ5YCB0byBtb3ZlIHRoZSBzZWxlY3Rpb24gYnlcbiAgICAvLyBvbmUgY2hhcmFjdGVyLCBhbmQgc2VlIGlmIHRoYXQgbW92ZXMgdGhlIGN1cnNvciBvdXQgb2YgdGhlXG4gICAgLy8gdGV4dGJsb2NrIChvciBkb2Vzbid0IG1vdmUgaXQgYXQgYWxsLCB3aGVuIGF0IHRoZSBzdGFydC9lbmQgb2ZcbiAgICAvLyB0aGUgZG9jdW1lbnQpLlxuICAgIGxldCBvbGRSYW5nZSA9IHNlbC5nZXRSYW5nZUF0KDApLCBvbGROb2RlID0gc2VsLmZvY3VzTm9kZSwgb2xkT2ZmID0gc2VsLmZvY3VzT2Zmc2V0XG4gICAgbGV0IG9sZEJpZGlMZXZlbCA9IHNlbC5jYXJldEJpZGlMZXZlbCAvLyBPbmx5IGZvciBGaXJlZm94XG4gICAgc2VsLm1vZGlmeShcIm1vdmVcIiwgZGlyLCBcImNoYXJhY3RlclwiKVxuICAgIGxldCBwYXJlbnRET00gPSAkaGVhZC5kZXB0aCA/IHZpZXcuZG9jVmlldy5kb21BZnRlclBvcygkaGVhZC5iZWZvcmUoKSkgOiB2aWV3LmRvbVxuICAgIGxldCByZXN1bHQgPSAhcGFyZW50RE9NLmNvbnRhaW5zKHNlbC5mb2N1c05vZGUubm9kZVR5cGUgPT0gMSA/IHNlbC5mb2N1c05vZGUgOiBzZWwuZm9jdXNOb2RlLnBhcmVudE5vZGUpIHx8XG4gICAgICAgIChvbGROb2RlID09IHNlbC5mb2N1c05vZGUgJiYgb2xkT2ZmID09IHNlbC5mb2N1c09mZnNldClcbiAgICAvLyBSZXN0b3JlIHRoZSBwcmV2aW91cyBzZWxlY3Rpb25cbiAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKClcbiAgICBzZWwuYWRkUmFuZ2Uob2xkUmFuZ2UpXG4gICAgaWYgKG9sZEJpZGlMZXZlbCAhPSBudWxsKSBzZWwuY2FyZXRCaWRpTGV2ZWwgPSBvbGRCaWRpTGV2ZWxcbiAgICByZXR1cm4gcmVzdWx0XG4gIH0pXG59XG5cbmxldCBjYWNoZWRTdGF0ZSA9IG51bGwsIGNhY2hlZERpciA9IG51bGwsIGNhY2hlZFJlc3VsdCA9IGZhbHNlXG5leHBvcnQgZnVuY3Rpb24gZW5kT2ZUZXh0YmxvY2sodmlldywgc3RhdGUsIGRpcikge1xuICBpZiAoY2FjaGVkU3RhdGUgPT0gc3RhdGUgJiYgY2FjaGVkRGlyID09IGRpcikgcmV0dXJuIGNhY2hlZFJlc3VsdFxuICBjYWNoZWRTdGF0ZSA9IHN0YXRlOyBjYWNoZWREaXIgPSBkaXJcbiAgcmV0dXJuIGNhY2hlZFJlc3VsdCA9IGRpciA9PSBcInVwXCIgfHwgZGlyID09IFwiZG93blwiXG4gICAgPyBlbmRPZlRleHRibG9ja1ZlcnRpY2FsKHZpZXcsIHN0YXRlLCBkaXIpXG4gICAgOiBlbmRPZlRleHRibG9ja0hvcml6b250YWwodmlldywgc3RhdGUsIGRpcilcbn1cbiIsImltcG9ydCB7RE9NU2VyaWFsaXplciwgRnJhZ21lbnQsIE1hcmt9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5pbXBvcnQge1RleHRTZWxlY3Rpb259IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiXG5cbmltcG9ydCB7ZG9tSW5kZXgsIGlzRXF1aXZhbGVudFBvc2l0aW9uLCBub2RlU2l6ZX0gZnJvbSBcIi4vZG9tXCJcbmltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXJcIlxuXG4vLyBOb2RlVmlldzo6IGludGVyZmFjZVxuLy9cbi8vIEJ5IGRlZmF1bHQsIGRvY3VtZW50IG5vZGVzIGFyZSByZW5kZXJlZCB1c2luZyB0aGUgcmVzdWx0IG9mIHRoZVxuLy8gW2B0b0RPTWBdKCNtb2RlbC5Ob2RlU3BlYy50b0RPTSkgbWV0aG9kIG9mIHRoZWlyIHNwZWMsIGFuZCBtYW5hZ2VkXG4vLyBlbnRpcmVseSBieSB0aGUgZWRpdG9yLiBGb3Igc29tZSB1c2UgY2FzZXMsIHN1Y2ggYXMgZW1iZWRkZWRcbi8vIG5vZGUtc3BlY2lmaWMgZWRpdGluZyBpbnRlcmZhY2VzLCB5b3Ugd2FudCBtb3JlIGNvbnRyb2wgb3ZlclxuLy8gdGhlIGJlaGF2aW9yIG9mIGEgbm9kZSdzIGluLWVkaXRvciByZXByZXNlbnRhdGlvbiwgYW5kIG5lZWQgdG9cbi8vIFtkZWZpbmVdKCN2aWV3LkVkaXRvclByb3BzLm5vZGVWaWV3cykgYSBjdXN0b20gbm9kZSB2aWV3LlxuLy9cbi8vIE9iamVjdHMgcmV0dXJuZWQgYXMgbm9kZSB2aWV3cyBtdXN0IGNvbmZvcm0gdG8gdGhpcyBpbnRlcmZhY2UuXG4vL1xuLy8gICBkb206OiA/ZG9tLk5vZGVcbi8vICAgVGhlIG91dGVyIERPTSBub2RlIHRoYXQgcmVwcmVzZW50cyB0aGUgZG9jdW1lbnQgbm9kZS4gV2hlbiBub3Rcbi8vICAgZ2l2ZW4sIHRoZSBkZWZhdWx0IHN0cmF0ZWd5IGlzIHVzZWQgdG8gY3JlYXRlIGEgRE9NIG5vZGUuXG4vL1xuLy8gICBjb250ZW50RE9NOjogP2RvbS5Ob2RlXG4vLyAgIFRoZSBET00gbm9kZSB0aGF0IHNob3VsZCBob2xkIHRoZSBub2RlJ3MgY29udGVudC4gT25seSBtZWFuaW5nZnVsXG4vLyAgIGlmIHRoZSBub2RlIHZpZXcgYWxzbyBkZWZpbmVzIGEgYGRvbWAgcHJvcGVydHkgYW5kIGlmIGl0cyBub2RlXG4vLyAgIHR5cGUgaXMgbm90IGEgbGVhZiBub2RlIHR5cGUuIFdoZW4gdGhpcyBpcyBwcmVzZW50LCBQcm9zZU1pcnJvclxuLy8gICB3aWxsIHRha2UgY2FyZSBvZiByZW5kZXJpbmcgdGhlIG5vZGUncyBjaGlsZHJlbiBpbnRvIGl0LiBXaGVuIGl0XG4vLyAgIGlzIG5vdCBwcmVzZW50LCB0aGUgbm9kZSB2aWV3IGl0c2VsZiBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nXG4vLyAgIChvciBkZWNpZGluZyBub3QgdG8gcmVuZGVyKSBpdHMgY2hpbGQgbm9kZXMuXG4vL1xuLy8gICB1cGRhdGU6OiA/KG5vZGU6IE5vZGUsIGRlY29yYXRpb25zOiBbRGVjb3JhdGlvbl0pIOKGkiBib29sXG4vLyAgIFdoZW4gZ2l2ZW4sIHRoaXMgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgdmlldyBpcyB1cGRhdGluZyBpdHNlbGYuXG4vLyAgIEl0IHdpbGwgYmUgZ2l2ZW4gYSBub2RlIChwb3NzaWJseSBvZiBhIGRpZmZlcmVudCB0eXBlKSwgYW5kIGFuXG4vLyAgIGFycmF5IG9mIGFjdGl2ZSBkZWNvcmF0aW9ucyAod2hpY2ggYXJlIGF1dG9tYXRpY2FsbHkgZHJhd24sIGFuZFxuLy8gICB0aGUgbm9kZSB2aWV3IG1heSBpZ25vcmUgaWYgaXQgaXNuJ3QgaW50ZXJlc3RlZCBpbiB0aGVtKSwgYW5kXG4vLyAgIHNob3VsZCByZXR1cm4gdHJ1ZSBpZiBpdCB3YXMgYWJsZSB0byB1cGRhdGUgdG8gdGhhdCBub2RlLCBhbmRcbi8vICAgZmFsc2Ugb3RoZXJ3aXNlLiBJZiB0aGUgbm9kZSB2aWV3IGhhcyBhIGBjb250ZW50RE9NYCBwcm9wZXJ0eSAob3Jcbi8vICAgbm8gYGRvbWAgcHJvcGVydHkpLCB1cGRhdGluZyBpdHMgY2hpbGQgbm9kZXMgd2lsbCBiZSBoYW5kbGVkIGJ5XG4vLyAgIFByb3NlTWlycm9yLlxuLy9cbi8vICAgc2VsZWN0Tm9kZTo6ID8oKVxuLy8gICBDYW4gYmUgdXNlZCB0byBvdmVycmlkZSB0aGUgd2F5IHRoZSBub2RlJ3Mgc2VsZWN0ZWQgc3RhdHVzIChhcyBhXG4vLyAgIG5vZGUgc2VsZWN0aW9uKSBpcyBkaXNwbGF5ZWQuXG4vL1xuLy8gICBkZXNlbGVjdE5vZGU6OiA/KClcbi8vICAgV2hlbiBkZWZpbmluZyBhIGBzZWxlY3ROb2RlYCBtZXRob2QsIHlvdSBzaG91bGQgYWxzbyBwcm92aWRlIGFcbi8vICAgYGRlc2VsZWN0Tm9kZWAgbWV0aG9kIHRvIHJlbW92ZSB0aGUgZWZmZWN0IGFnYWluLlxuLy9cbi8vICAgc2V0U2VsZWN0aW9uOjogPyhhbmNob3I6IG51bWJlciwgaGVhZDogbnVtYmVyLCByb290OiBkb20uRG9jdW1lbnQpXG4vLyAgIFRoaXMgd2lsbCBiZSBjYWxsZWQgdG8gaGFuZGxlIHNldHRpbmcgdGhlIHNlbGVjdGlvbiBpbnNpZGUgdGhlXG4vLyAgIG5vZGUuIFRoZSBgYW5jaG9yYCBhbmQgYGhlYWRgIHBvc2l0aW9ucyBhcmUgcmVsYXRpdmUgdG8gdGhlIHN0YXJ0XG4vLyAgIG9mIHRoZSBub2RlLiBCeSBkZWZhdWx0LCBhIERPTSBzZWxlY3Rpb24gd2lsbCBiZSBjcmVhdGVkIGJldHdlZW5cbi8vICAgdGhlIERPTSBwb3NpdGlvbnMgY29ycmVzcG9uZGluZyB0byB0aG9zZSBwb3NpdGlvbnMsIGJ1dCBpZiB5b3Vcbi8vICAgb3ZlcnJpZGUgaXQgeW91IGNhbiBkbyBzb21ldGhpbmcgZWxzZS5cbi8vXG4vLyAgIHN0b3BFdmVudDo6ID8oZXZlbnQ6IGRvbS5FdmVudCkg4oaSIGJvb2xcbi8vICAgQ2FuIGJlIHVzZWQgdG8gcHJldmVudCB0aGUgZWRpdG9yIHZpZXcgZnJvbSB0cnlpbmcgdG8gaGFuZGxlIHNvbWVcbi8vICAgb3IgYWxsIERPTSBldmVudHMgdGhhdCBidWJibGUgdXAgZnJvbSB0aGUgbm9kZSB2aWV3LiBFdmVudHMgZm9yXG4vLyAgIHdoaWNoIHRoaXMgcmV0dXJucyB0cnVlIGFyZSBub3QgaGFuZGxlZCBieSB0aGUgZWRpdG9yLlxuLy9cbi8vICAgaWdub3JlTXV0YXRpb246OiA/KGRvbS5NdXRhdGlvblJlY29yZCkg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIHdoZW4gYSBET01cbi8vICAgW211dGF0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTXV0YXRpb25PYnNlcnZlcilcbi8vICAgb3IgYSBzZWxlY3Rpb24gY2hhbmdlIGhhcHBlbnMgd2l0aGluIHRoZSB2aWV3LiBXaGVuIHRoZSBjaGFuZ2UgaXNcbi8vICAgYSBzZWxlY3Rpb24gY2hhbmdlLCB0aGUgcmVjb3JkIHdpbGwgaGF2ZSBhIGB0eXBlYCBwcm9wZXJ0eSBvZlxuLy8gICBgXCJzZWxlY3Rpb25cImAgKHdoaWNoIGRvZXNuJ3Qgb2NjdXIgZm9yIG5hdGl2ZSBtdXRhdGlvbiByZWNvcmRzKS5cbi8vICAgUmV0dXJuIGZhbHNlIGlmIHRoZSBlZGl0b3Igc2hvdWxkIHJlLXJlYWQgdGhlIHNlbGVjdGlvbiBvclxuLy8gICByZS1wYXJzZSB0aGUgcmFuZ2UgYXJvdW5kIHRoZSBtdXRhdGlvbiwgdHJ1ZSBpZiBpdCBjYW4gc2FmZWx5IGJlXG4vLyAgIGlnbm9yZWQuXG4vL1xuLy8gICBkZXN0cm95OjogPygpXG4vLyAgIENhbGxlZCB3aGVuIHRoZSBub2RlIHZpZXcgaXMgcmVtb3ZlZCBmcm9tIHRoZSBlZGl0b3Igb3IgdGhlIHdob2xlXG4vLyAgIGVkaXRvciBpcyBkZXN0cm95ZWQuXG5cbi8vIFZpZXcgZGVzY3JpcHRpb25zIGFyZSBkYXRhIHN0cnVjdHVyZXMgdGhhdCBkZXNjcmliZSB0aGUgRE9NIHRoYXQgaXNcbi8vIHVzZWQgdG8gcmVwcmVzZW50IHRoZSBlZGl0b3IncyBjb250ZW50LiBUaGV5IGFyZSB1c2VkIGZvcjpcbi8vXG4vLyAtIEluY3JlbWVudGFsIHJlZHJhd2luZyB3aGVuIHRoZSBkb2N1bWVudCBjaGFuZ2VzXG4vL1xuLy8gLSBGaWd1cmluZyBvdXQgd2hhdCBwYXJ0IG9mIHRoZSBkb2N1bWVudCBhIGdpdmVuIERPTSBwb3NpdGlvblxuLy8gICBjb3JyZXNwb25kcyB0b1xuLy9cbi8vIC0gV2lyaW5nIGluIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIGVkaXRpbmcgaW50ZXJmYWNlIGZvciBhXG4vLyAgIGdpdmVuIG5vZGVcbi8vXG4vLyBUaGV5IGZvcm0gYSBkb3VibHktbGlua2VkIG11dGFibGUgdHJlZSwgc3RhcnRpbmcgYXQgYHZpZXcuZG9jVmlld2AuXG5cbmNvbnN0IE5PVF9ESVJUWSA9IDAsIENISUxEX0RJUlRZID0gMSwgQ09OVEVOVF9ESVJUWSA9IDIsIE5PREVfRElSVFkgPSAzXG5cbi8vIFN1cGVyY2xhc3MgZm9yIHRoZSB2YXJpb3VzIGtpbmRzIG9mIGRlc2NyaXB0aW9ucy4gRGVmaW5lcyB0aGVpclxuLy8gYmFzaWMgc3RydWN0dXJlIGFuZCBzaGFyZWQgbWV0aG9kcy5cbmNsYXNzIFZpZXdEZXNjIHtcbiAgLy8gOiAoP1ZpZXdEZXNjLCBbVmlld0Rlc2NdLCBkb20uTm9kZSwgP2RvbS5Ob2RlKVxuICBjb25zdHJ1Y3RvcihwYXJlbnQsIGNoaWxkcmVuLCBkb20sIGNvbnRlbnRET00pIHtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudFxuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlblxuICAgIHRoaXMuZG9tID0gZG9tXG4gICAgLy8gQW4gZXhwYW5kbyBwcm9wZXJ0eSBvbiB0aGUgRE9NIG5vZGUgcHJvdmlkZXMgYSBsaW5rIGJhY2sgdG8gaXRzXG4gICAgLy8gZGVzY3JpcHRpb24uXG4gICAgZG9tLnBtVmlld0Rlc2MgPSB0aGlzXG4gICAgLy8gVGhpcyBpcyB0aGUgbm9kZSB0aGF0IGhvbGRzIHRoZSBjaGlsZCB2aWV3cy4gSXQgbWF5IGJlIG51bGwgZm9yXG4gICAgLy8gZGVzY3MgdGhhdCBkb24ndCBoYXZlIGNoaWxkcmVuLlxuICAgIHRoaXMuY29udGVudERPTSA9IGNvbnRlbnRET01cbiAgICB0aGlzLmRpcnR5ID0gTk9UX0RJUlRZXG4gIH1cblxuICAvLyBVc2VkIHRvIGNoZWNrIHdoZXRoZXIgYSBnaXZlbiBkZXNjcmlwdGlvbiBjb3JyZXNwb25kcyB0byBhXG4gIC8vIHdpZGdldC9tYXJrL25vZGUuXG4gIG1hdGNoZXNXaWRnZXQoKSB7IHJldHVybiBmYWxzZSB9XG4gIG1hdGNoZXNNYXJrKCkgeyByZXR1cm4gZmFsc2UgfVxuICBtYXRjaGVzTm9kZSgpIHsgcmV0dXJuIGZhbHNlIH1cbiAgbWF0Y2hlc0hhY2soKSB7IHJldHVybiBmYWxzZSB9XG5cbiAgZ2V0IGJlZm9yZVBvc2l0aW9uKCkgeyByZXR1cm4gZmFsc2UgfVxuXG4gIC8vIDogKCkg4oaSID9QYXJzZVJ1bGVcbiAgLy8gV2hlbiBwYXJzaW5nIGluLWVkaXRvciBjb250ZW50IChpbiBkb21jaGFuZ2UuanMpLCB3ZSBhbGxvd1xuICAvLyBkZXNjcmlwdGlvbnMgdG8gZGV0ZXJtaW5lIHRoZSBwYXJzZSBydWxlcyB0aGF0IHNob3VsZCBiZSB1c2VkIHRvXG4gIC8vIHBhcnNlIHRoZW0uXG4gIHBhcnNlUnVsZSgpIHsgcmV0dXJuIG51bGwgfVxuXG4gIC8vIDogKGRvbS5FdmVudCkg4oaSIGJvb2xcbiAgLy8gVXNlZCBieSB0aGUgZWRpdG9yJ3MgZXZlbnQgaGFuZGxlciB0byBpZ25vcmUgZXZlbnRzIHRoYXQgY29tZVxuICAvLyBmcm9tIGNlcnRhaW4gZGVzY3MuXG4gIHN0b3BFdmVudCgpIHsgcmV0dXJuIGZhbHNlIH1cblxuICAvLyBUaGUgc2l6ZSBvZiB0aGUgY29udGVudCByZXByZXNlbnRlZCBieSB0aGlzIGRlc2MuXG4gIGdldCBzaXplKCkge1xuICAgIGxldCBzaXplID0gMFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykgc2l6ZSArPSB0aGlzLmNoaWxkcmVuW2ldLnNpemVcbiAgICByZXR1cm4gc2l6ZVxuICB9XG5cbiAgLy8gRm9yIGJsb2NrIG5vZGVzLCB0aGlzIHJlcHJlc2VudHMgdGhlIHNwYWNlIHRha2VuIHVwIGJ5IHRoZWlyXG4gIC8vIHN0YXJ0L2VuZCB0b2tlbnMuXG4gIGdldCBib3JkZXIoKSB7IHJldHVybiAwIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucGFyZW50ID0gbnVsbFxuICAgIGlmICh0aGlzLmRvbS5wbVZpZXdEZXNjID09IHRoaXMpIHRoaXMuZG9tLnBtVmlld0Rlc2MgPSBudWxsXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgdGhpcy5jaGlsZHJlbltpXS5kZXN0cm95KClcbiAgfVxuXG4gIHBvc0JlZm9yZUNoaWxkKGNoaWxkKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IHRoaXMucG9zQXRTdGFydDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjdXIgPSB0aGlzLmNoaWxkcmVuW2ldXG4gICAgICBpZiAoY3VyID09IGNoaWxkKSByZXR1cm4gcG9zXG4gICAgICBwb3MgKz0gY3VyLnNpemVcbiAgICB9XG4gIH1cblxuICBnZXQgcG9zQmVmb3JlKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmVudC5wb3NCZWZvcmVDaGlsZCh0aGlzKVxuICB9XG5cbiAgZ2V0IHBvc0F0U3RhcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQodGhpcykgKyB0aGlzLmJvcmRlciA6IDBcbiAgfVxuXG4gIGdldCBwb3NBZnRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NCZWZvcmUgKyB0aGlzLnNpemVcbiAgfVxuXG4gIGdldCBwb3NBdEVuZCgpIHtcbiAgICByZXR1cm4gdGhpcy5wb3NBdFN0YXJ0ICsgdGhpcy5zaXplIC0gMiAqIHRoaXMuYm9yZGVyXG4gIH1cblxuICAvLyA6IChkb20uTm9kZSwgbnVtYmVyLCA/bnVtYmVyKSDihpIgbnVtYmVyXG4gIGxvY2FsUG9zRnJvbURPTShkb20sIG9mZnNldCwgYmlhcykge1xuICAgIC8vIElmIHRoZSBET00gcG9zaXRpb24gaXMgaW4gdGhlIGNvbnRlbnQsIHVzZSB0aGUgY2hpbGQgZGVzYyBhZnRlclxuICAgIC8vIGl0IHRvIGZpZ3VyZSBvdXQgYSBwb3NpdGlvbi5cbiAgICBpZiAodGhpcy5jb250ZW50RE9NICYmIHRoaXMuY29udGVudERPTS5jb250YWlucyhkb20ubm9kZVR5cGUgPT0gMSA/IGRvbSA6IGRvbS5wYXJlbnROb2RlKSkge1xuICAgICAgaWYgKGJpYXMgPCAwKSB7XG4gICAgICAgIGxldCBkb21CZWZvcmUsIGRlc2NcbiAgICAgICAgaWYgKGRvbSA9PSB0aGlzLmNvbnRlbnRET00pIHtcbiAgICAgICAgICBkb21CZWZvcmUgPSBkb20uY2hpbGROb2Rlc1tvZmZzZXQgLSAxXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdoaWxlIChkb20ucGFyZW50Tm9kZSAhPSB0aGlzLmNvbnRlbnRET00pIGRvbSA9IGRvbS5wYXJlbnROb2RlXG4gICAgICAgICAgZG9tQmVmb3JlID0gZG9tLnByZXZpb3VzU2libGluZ1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChkb21CZWZvcmUgJiYgISgoZGVzYyA9IGRvbUJlZm9yZS5wbVZpZXdEZXNjKSAmJiBkZXNjLnBhcmVudCA9PSB0aGlzKSkgZG9tQmVmb3JlID0gZG9tQmVmb3JlLnByZXZpb3VzU2libGluZ1xuICAgICAgICByZXR1cm4gZG9tQmVmb3JlID8gdGhpcy5wb3NCZWZvcmVDaGlsZChkZXNjKSArIGRlc2Muc2l6ZSA6IHRoaXMucG9zQXRTdGFydFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGRvbUFmdGVyLCBkZXNjXG4gICAgICAgIGlmIChkb20gPT0gdGhpcy5jb250ZW50RE9NKSB7XG4gICAgICAgICAgZG9tQWZ0ZXIgPSBkb20uY2hpbGROb2Rlc1tvZmZzZXRdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKGRvbS5wYXJlbnROb2RlICE9IHRoaXMuY29udGVudERPTSkgZG9tID0gZG9tLnBhcmVudE5vZGVcbiAgICAgICAgICBkb21BZnRlciA9IGRvbS5uZXh0U2libGluZ1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChkb21BZnRlciAmJiAhKChkZXNjID0gZG9tQWZ0ZXIucG1WaWV3RGVzYykgJiYgZGVzYy5wYXJlbnQgPT0gdGhpcykpIGRvbUFmdGVyID0gZG9tQWZ0ZXIubmV4dFNpYmxpbmdcbiAgICAgICAgcmV0dXJuIGRvbUFmdGVyID8gdGhpcy5wb3NCZWZvcmVDaGlsZChkZXNjKSA6IHRoaXMucG9zQXRFbmRcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gT3RoZXJ3aXNlLCB1c2UgdmFyaW91cyBoZXVyaXN0aWNzLCBmYWxsaW5nIGJhY2sgb24gdGhlIGJpYXNcbiAgICAvLyBwYXJhbWV0ZXIsIHRvIGRldGVybWluZSB3aGV0aGVyIHRvIHJldHVybiB0aGUgcG9zaXRpb24gYXQgdGhlXG4gICAgLy8gc3RhcnQgb3IgYXQgdGhlIGVuZCBvZiB0aGlzIHZpZXcgZGVzYy5cbiAgICBsZXQgYXRFbmRcbiAgICBpZiAodGhpcy5jb250ZW50RE9NICYmIHRoaXMuY29udGVudERPTSAhPSB0aGlzLmRvbSAmJiB0aGlzLmRvbS5jb250YWlucyh0aGlzLmNvbnRlbnRET00pKSB7XG4gICAgICBhdEVuZCA9IGRvbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0aGlzLmNvbnRlbnRET00pICYgMlxuICAgIH0gZWxzZSBpZiAodGhpcy5kb20uZmlyc3RDaGlsZCkge1xuICAgICAgaWYgKG9mZnNldCA9PSAwKSBmb3IgKGxldCBzZWFyY2ggPSBkb207OyBzZWFyY2ggPSBzZWFyY2gucGFyZW50Tm9kZSkge1xuICAgICAgICBpZiAoc2VhcmNoID09IHRoaXMuZG9tKSB7IGF0RW5kID0gZmFsc2U7IGJyZWFrIH1cbiAgICAgICAgaWYgKHNlYXJjaC5wYXJlbnROb2RlLmZpcnN0Q2hpbGQgIT0gc2VhcmNoKSBicmVha1xuICAgICAgfVxuICAgICAgaWYgKGF0RW5kID09IG51bGwgJiYgb2Zmc2V0ID09IGRvbS5jaGlsZE5vZGVzLmxlbmd0aCkgZm9yIChsZXQgc2VhcmNoID0gZG9tOzsgc2VhcmNoID0gc2VhcmNoLnBhcmVudE5vZGUpIHtcbiAgICAgICAgaWYgKHNlYXJjaCA9PSB0aGlzLmRvbSkgeyBhdEVuZCA9IHRydWU7IGJyZWFrIH1cbiAgICAgICAgaWYgKHNlYXJjaC5wYXJlbnROb2RlLmxhc3RDaGlsZCAhPSBzZWFyY2gpIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoYXRFbmQgPT0gbnVsbCA/IGJpYXMgPiAwIDogYXRFbmQpID8gdGhpcy5wb3NBdEVuZCA6IHRoaXMucG9zQXRTdGFydFxuICB9XG5cbiAgLy8gU2NhbiB1cCB0aGUgZG9tIGZpbmRpbmcgdGhlIGZpcnN0IGRlc2MgdGhhdCBpcyBhIGRlc2NlbmRhbnQgb2ZcbiAgLy8gdGhpcyBvbmUuXG4gIG5lYXJlc3REZXNjKGRvbSwgb25seU5vZGVzKSB7XG4gICAgZm9yIChsZXQgZmlyc3QgPSB0cnVlLCBjdXIgPSBkb207IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUpIHtcbiAgICAgIGxldCBkZXNjID0gdGhpcy5nZXREZXNjKGN1cilcbiAgICAgIGlmIChkZXNjICYmICghb25seU5vZGVzIHx8IGRlc2Mubm9kZSkpIHtcbiAgICAgICAgLy8gSWYgZG9tIGlzIG91dHNpZGUgb2YgdGhpcyBkZXNjJ3Mgbm9kZURPTSwgZG9uJ3QgY291bnQgaXQuXG4gICAgICAgIGlmIChmaXJzdCAmJiBkZXNjLm5vZGVET00gJiYgIShkZXNjLm5vZGVET00ubm9kZVR5cGUgPT0gMSA/IGRlc2Mubm9kZURPTS5jb250YWlucyhkb20pIDogZGVzYy5ub2RlRE9NID09IGRvbSkpIGZpcnN0ID0gZmFsc2VcbiAgICAgICAgZWxzZSByZXR1cm4gZGVzY1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldERlc2MoZG9tKSB7XG4gICAgbGV0IGRlc2MgPSBkb20ucG1WaWV3RGVzY1xuICAgIGZvciAobGV0IGN1ciA9IGRlc2M7IGN1cjsgY3VyID0gY3VyLnBhcmVudCkgaWYgKGN1ciA9PSB0aGlzKSByZXR1cm4gZGVzY1xuICB9XG5cbiAgcG9zRnJvbURPTShkb20sIG9mZnNldCwgYmlhcykge1xuICAgIGZvciAobGV0IHNjYW4gPSBkb207OyBzY2FuID0gc2Nhbi5wYXJlbnROb2RlKSB7XG4gICAgICBsZXQgZGVzYyA9IHRoaXMuZ2V0RGVzYyhzY2FuKVxuICAgICAgaWYgKGRlc2MpIHJldHVybiBkZXNjLmxvY2FsUG9zRnJvbURPTShkb20sIG9mZnNldCwgYmlhcylcbiAgICB9XG4gIH1cblxuICAvLyA6IChudW1iZXIpIOKGkiA/Tm9kZVZpZXdEZXNjXG4gIC8vIEZpbmQgdGhlIGRlc2MgZm9yIHRoZSBub2RlIGFmdGVyIHRoZSBnaXZlbiBwb3MsIGlmIGFueS4gKFdoZW4gYVxuICAvLyBwYXJlbnQgbm9kZSBvdmVycm9kZSByZW5kZXJpbmcsIHRoZXJlIG1pZ2h0IG5vdCBiZSBvbmUuKVxuICBkZXNjQXQocG9zKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIG9mZnNldCA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5zaXplXG4gICAgICBpZiAob2Zmc2V0ID09IHBvcyAmJiBlbmQgIT0gb2Zmc2V0KSB7XG4gICAgICAgIHdoaWxlICghY2hpbGQuYm9yZGVyICYmIGNoaWxkLmNoaWxkcmVuLmxlbmd0aCkgY2hpbGQgPSBjaGlsZC5jaGlsZHJlblswXVxuICAgICAgICByZXR1cm4gY2hpbGRcbiAgICAgIH1cbiAgICAgIGlmIChwb3MgPCBlbmQpIHJldHVybiBjaGlsZC5kZXNjQXQocG9zIC0gb2Zmc2V0IC0gY2hpbGQuYm9yZGVyKVxuICAgICAgb2Zmc2V0ID0gZW5kXG4gICAgfVxuICB9XG5cbiAgLy8gOiAobnVtYmVyKSDihpIge25vZGU6IGRvbS5Ob2RlLCBvZmZzZXQ6IG51bWJlcn1cbiAgZG9tRnJvbVBvcyhwb3MpIHtcbiAgICBpZiAoIXRoaXMuY29udGVudERPTSkgcmV0dXJuIHtub2RlOiB0aGlzLmRvbSwgb2Zmc2V0OiAwfVxuICAgIGZvciAobGV0IG9mZnNldCA9IDAsIGkgPSAwOzsgaSsrKSB7XG4gICAgICBpZiAob2Zmc2V0ID09IHBvcykge1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoICYmICh0aGlzLmNoaWxkcmVuW2ldLmJlZm9yZVBvc2l0aW9uIHx8IHRoaXMuY2hpbGRyZW5baV0uZG9tLnBhcmVudE5vZGUgIT0gdGhpcy5jb250ZW50RE9NKSkgaSsrXG4gICAgICAgIHJldHVybiB7bm9kZTogdGhpcy5jb250ZW50RE9NLFxuICAgICAgICAgICAgICAgIG9mZnNldDogaSA9PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCA/IHRoaXMuY29udGVudERPTS5jaGlsZE5vZGVzLmxlbmd0aCA6IGRvbUluZGV4KHRoaXMuY2hpbGRyZW5baV0uZG9tKX1cbiAgICAgIH1cbiAgICAgIGlmIChpID09IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBvc2l0aW9uIFwiICsgcG9zKVxuICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gb2Zmc2V0ICsgY2hpbGQuc2l6ZVxuICAgICAgaWYgKHBvcyA8IGVuZCkgcmV0dXJuIGNoaWxkLmRvbUZyb21Qb3MocG9zIC0gb2Zmc2V0IC0gY2hpbGQuYm9yZGVyKVxuICAgICAgb2Zmc2V0ID0gZW5kXG4gICAgfVxuICB9XG5cbiAgLy8gVXNlZCB0byBmaW5kIGEgRE9NIHJhbmdlIGluIGEgc2luZ2xlIHBhcmVudCBmb3IgYSBnaXZlbiBjaGFuZ2VkXG4gIC8vIHJhbmdlLlxuICBwYXJzZVJhbmdlKGZyb20sIHRvLCBiYXNlID0gMCkge1xuICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PSAwKVxuICAgICAgcmV0dXJuIHtub2RlOiB0aGlzLmNvbnRlbnRET00sIGZyb20sIHRvLCBmcm9tT2Zmc2V0OiAwLCB0b09mZnNldDogdGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RofVxuXG4gICAgbGV0IGZyb21PZmZzZXQgPSAtMSwgdG9PZmZzZXQgPSAtMVxuICAgIGZvciAobGV0IG9mZnNldCA9IGJhc2UsIGkgPSAwOzsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5zaXplXG4gICAgICBpZiAoZnJvbU9mZnNldCA9PSAtMSAmJiBmcm9tIDw9IGVuZCkge1xuICAgICAgICBsZXQgY2hpbGRCYXNlID0gb2Zmc2V0ICsgY2hpbGQuYm9yZGVyXG4gICAgICAgIC8vIEZJWE1FIG1heWJlIGRlc2NlbmQgbWFyayB2aWV3cyB0byBwYXJzZSBhIG5hcnJvd2VyIHJhbmdlP1xuICAgICAgICBpZiAoZnJvbSA+PSBjaGlsZEJhc2UgJiYgdG8gPD0gZW5kIC0gY2hpbGQuYm9yZGVyICYmIGNoaWxkLm5vZGUgJiZcbiAgICAgICAgICAgIGNoaWxkLmNvbnRlbnRET00gJiYgdGhpcy5jb250ZW50RE9NLmNvbnRhaW5zKGNoaWxkLmNvbnRlbnRET00pKVxuICAgICAgICAgIHJldHVybiBjaGlsZC5wYXJzZVJhbmdlKGZyb20sIHRvLCBjaGlsZEJhc2UpXG5cbiAgICAgICAgZnJvbSA9IG9mZnNldFxuICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA+IDA7IGotLSkge1xuICAgICAgICAgIGxldCBwcmV2ID0gdGhpcy5jaGlsZHJlbltqIC0gMV1cbiAgICAgICAgICBpZiAocHJldi5zaXplICYmIHByZXYuZG9tLnBhcmVudE5vZGUgPT0gdGhpcy5jb250ZW50RE9NICYmICFwcmV2LmVtcHR5Q2hpbGRBdCgxKSkge1xuICAgICAgICAgICAgZnJvbU9mZnNldCA9IGRvbUluZGV4KHByZXYuZG9tKSArIDFcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGZyb20gLT0gcHJldi5zaXplXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyb21PZmZzZXQgPT0gLTEpIGZyb21PZmZzZXQgPSAwXG4gICAgICB9XG4gICAgICBpZiAoZnJvbU9mZnNldCA+IC0xICYmIHRvIDw9IGVuZCkge1xuICAgICAgICB0byA9IGVuZFxuICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgbGV0IG5leHQgPSB0aGlzLmNoaWxkcmVuW2pdXG4gICAgICAgICAgaWYgKG5leHQuc2l6ZSAmJiBuZXh0LmRvbS5wYXJlbnROb2RlID09IHRoaXMuY29udGVudERPTSAmJiAhbmV4dC5lbXB0eUNoaWxkQXQoLTEpKSB7XG4gICAgICAgICAgICB0b09mZnNldCA9IGRvbUluZGV4KG5leHQuZG9tKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG8gKz0gbmV4dC5zaXplXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvT2Zmc2V0ID09IC0xKSB0b09mZnNldCA9IHRoaXMuY29udGVudERPTS5jaGlsZE5vZGVzLmxlbmd0aFxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgb2Zmc2V0ID0gZW5kXG4gICAgfVxuICAgIHJldHVybiB7bm9kZTogdGhpcy5jb250ZW50RE9NLCBmcm9tLCB0bywgZnJvbU9mZnNldCwgdG9PZmZzZXR9XG4gIH1cblxuICBlbXB0eUNoaWxkQXQoc2lkZSkge1xuICAgIGlmICh0aGlzLmJvcmRlciB8fCAhdGhpcy5jb250ZW50RE9NIHx8ICF0aGlzLmNoaWxkcmVuLmxlbmd0aCkgcmV0dXJuIGZhbHNlXG4gICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltzaWRlIDwgMCA/IDAgOiB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDFdXG4gICAgcmV0dXJuIGNoaWxkLnNpemUgPT0gMCB8fCBjaGlsZC5lbXB0eUNoaWxkQXQoc2lkZSlcbiAgfVxuXG4gIC8vIDogKG51bWJlcikg4oaSIGRvbS5Ob2RlXG4gIGRvbUFmdGVyUG9zKHBvcykge1xuICAgIGxldCB7bm9kZSwgb2Zmc2V0fSA9IHRoaXMuZG9tRnJvbVBvcyhwb3MpXG4gICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMSB8fCBvZmZzZXQgPT0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aClcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiTm8gbm9kZSBhZnRlciBwb3MgXCIgKyBwb3MpXG4gICAgcmV0dXJuIG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdXG4gIH1cblxuICAvLyA6IChudW1iZXIsIG51bWJlciwgZG9tLkRvY3VtZW50KVxuICAvLyBWaWV3IGRlc2NzIGFyZSByZXNwb25zaWJsZSBmb3Igc2V0dGluZyBhbnkgc2VsZWN0aW9uIHRoYXQgZmFsbHNcbiAgLy8gZW50aXJlbHkgaW5zaWRlIG9mIHRoZW0sIHNvIHRoYXQgY3VzdG9tIGltcGxlbWVudGF0aW9ucyBjYW4gZG9cbiAgLy8gY3VzdG9tIHRoaW5ncyB3aXRoIHRoZSBzZWxlY3Rpb24uIE5vdGUgdGhhdCB0aGlzIGZhbGxzIGFwYXJ0IHdoZW5cbiAgLy8gYSBzZWxlY3Rpb24gc3RhcnRzIGluIHN1Y2ggYSBub2RlIGFuZCBlbmRzIGluIGFub3RoZXIsIGluIHdoaWNoXG4gIC8vIGNhc2Ugd2UganVzdCB1c2Ugd2hhdGV2ZXIgZG9tRnJvbVBvcyBwcm9kdWNlcyBhcyBhIGJlc3QgZWZmb3J0LlxuICBzZXRTZWxlY3Rpb24oYW5jaG9yLCBoZWFkLCByb290LCBmb3JjZSkge1xuICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gZmFsbHMgZW50aXJlbHkgaW4gYSBjaGlsZCwgZ2l2ZSBpdCB0byB0aGF0IGNoaWxkXG4gICAgbGV0IGZyb20gPSBNYXRoLm1pbihhbmNob3IsIGhlYWQpLCB0byA9IE1hdGgubWF4KGFuY2hvciwgaGVhZClcbiAgICBmb3IgKGxldCBpID0gMCwgb2Zmc2V0ID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIGVuZCA9IG9mZnNldCArIGNoaWxkLnNpemVcbiAgICAgIGlmIChmcm9tID4gb2Zmc2V0ICYmIHRvIDwgZW5kKVxuICAgICAgICByZXR1cm4gY2hpbGQuc2V0U2VsZWN0aW9uKGFuY2hvciAtIG9mZnNldCAtIGNoaWxkLmJvcmRlciwgaGVhZCAtIG9mZnNldCAtIGNoaWxkLmJvcmRlciwgcm9vdCwgZm9yY2UpXG4gICAgICBvZmZzZXQgPSBlbmRcbiAgICB9XG5cbiAgICBsZXQgYW5jaG9yRE9NID0gdGhpcy5kb21Gcm9tUG9zKGFuY2hvciksIGhlYWRET00gPSB0aGlzLmRvbUZyb21Qb3MoaGVhZClcbiAgICBsZXQgZG9tU2VsID0gcm9vdC5nZXRTZWxlY3Rpb24oKSwgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpXG4gICAgaWYgKCFmb3JjZSAmJlxuICAgICAgICBpc0VxdWl2YWxlbnRQb3NpdGlvbihhbmNob3JET00ubm9kZSwgYW5jaG9yRE9NLm9mZnNldCwgZG9tU2VsLmFuY2hvck5vZGUsIGRvbVNlbC5hbmNob3JPZmZzZXQpICYmXG4gICAgICAgIGlzRXF1aXZhbGVudFBvc2l0aW9uKGhlYWRET00ubm9kZSwgaGVhZERPTS5vZmZzZXQsIGRvbVNlbC5mb2N1c05vZGUsIGRvbVNlbC5mb2N1c09mZnNldCkpXG4gICAgICByZXR1cm5cblxuICAgIC8vIFNlbGVjdGlvbi5leHRlbmQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuICdpbnZlcnRlZCcgc2VsZWN0aW9uXG4gICAgLy8gKG9uZSB3aGVyZSB0aGUgZm9jdXMgaXMgYmVmb3JlIHRoZSBhbmNob3IpLCBidXQgbm90IGFsbFxuICAgIC8vIGJyb3dzZXJzIHN1cHBvcnQgaXQgeWV0LlxuICAgIGlmIChkb21TZWwuZXh0ZW5kKSB7XG4gICAgICByYW5nZS5zZXRFbmQoYW5jaG9yRE9NLm5vZGUsIGFuY2hvckRPTS5vZmZzZXQpXG4gICAgICByYW5nZS5jb2xsYXBzZShmYWxzZSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGFuY2hvciA+IGhlYWQpIHsgbGV0IHRtcCA9IGFuY2hvckRPTTsgYW5jaG9yRE9NID0gaGVhZERPTTsgaGVhZERPTSA9IHRtcCB9XG4gICAgICByYW5nZS5zZXRFbmQoaGVhZERPTS5ub2RlLCBoZWFkRE9NLm9mZnNldClcbiAgICAgIHJhbmdlLnNldFN0YXJ0KGFuY2hvckRPTS5ub2RlLCBhbmNob3JET00ub2Zmc2V0KVxuICAgIH1cbiAgICBkb21TZWwucmVtb3ZlQWxsUmFuZ2VzKClcbiAgICBkb21TZWwuYWRkUmFuZ2UocmFuZ2UpXG4gICAgaWYgKGRvbVNlbC5leHRlbmQpXG4gICAgICBkb21TZWwuZXh0ZW5kKGhlYWRET00ubm9kZSwgaGVhZERPTS5vZmZzZXQpXG4gIH1cblxuICAvLyA6IChkb20uTXV0YXRpb25SZWNvcmQpIOKGkiBib29sXG4gIGlnbm9yZU11dGF0aW9uKG11dGF0aW9uKSB7XG4gICAgcmV0dXJuICF0aGlzLmNvbnRlbnRET00gJiYgbXV0YXRpb24udHlwZSAhPSBcInNlbGVjdGlvblwiXG4gIH1cblxuICBnZXQgY29udGVudExvc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudERPTSAmJiB0aGlzLmNvbnRlbnRET00gIT0gdGhpcy5kb20gJiYgIXRoaXMuZG9tLmNvbnRhaW5zKHRoaXMuY29udGVudERPTSlcbiAgfVxuXG4gIC8vIFJlbW92ZSBhIHN1YnRyZWUgb2YgdGhlIGVsZW1lbnQgdHJlZSB0aGF0IGhhcyBiZWVuIHRvdWNoZWRcbiAgLy8gYnkgYSBET00gY2hhbmdlLCBzbyB0aGF0IHRoZSBuZXh0IHVwZGF0ZSB3aWxsIHJlZHJhdyBpdC5cbiAgbWFya0RpcnR5KGZyb20sIHRvKSB7XG4gICAgZm9yIChsZXQgb2Zmc2V0ID0gMCwgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5zaXplXG4gICAgICBpZiAob2Zmc2V0ID09IGVuZCA/IGZyb20gPD0gZW5kICYmIHRvID49IG9mZnNldCA6IGZyb20gPCBlbmQgJiYgdG8gPiBvZmZzZXQpIHtcbiAgICAgICAgbGV0IHN0YXJ0SW5zaWRlID0gb2Zmc2V0ICsgY2hpbGQuYm9yZGVyLCBlbmRJbnNpZGUgPSBlbmQgLSBjaGlsZC5ib3JkZXJcbiAgICAgICAgaWYgKGZyb20gPj0gc3RhcnRJbnNpZGUgJiYgdG8gPD0gZW5kSW5zaWRlKSB7XG4gICAgICAgICAgdGhpcy5kaXJ0eSA9IGZyb20gPT0gb2Zmc2V0IHx8IHRvID09IGVuZCA/IENPTlRFTlRfRElSVFkgOiBDSElMRF9ESVJUWVxuICAgICAgICAgIGlmIChmcm9tID09IHN0YXJ0SW5zaWRlICYmIHRvID09IGVuZEluc2lkZSAmJlxuICAgICAgICAgICAgICAoY2hpbGQuY29udGVudExvc3QgfHwgY2hpbGQuZG9tLnBhcmVudE5vZGUgIT0gdGhpcy5jb250ZW50RE9NKSkgY2hpbGQuZGlydHkgPSBOT0RFX0RJUlRZXG4gICAgICAgICAgZWxzZSBjaGlsZC5tYXJrRGlydHkoZnJvbSAtIHN0YXJ0SW5zaWRlLCB0byAtIHN0YXJ0SW5zaWRlKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoaWxkLmRpcnR5ID0gTk9ERV9ESVJUWVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvZmZzZXQgPSBlbmRcbiAgICB9XG4gICAgdGhpcy5kaXJ0eSA9IENPTlRFTlRfRElSVFlcbiAgfVxuXG4gIG1hcmtQYXJlbnRzRGlydHkoKSB7XG4gICAgbGV0IGxldmVsID0gMVxuICAgIGZvciAobGV0IG5vZGUgPSB0aGlzLnBhcmVudDsgbm9kZTsgbm9kZSA9IG5vZGUucGFyZW50KSB7XG4gICAgICBsZXQgZGlydHkgPSBsZXZlbCA9PSAxID8gQ09OVEVOVF9ESVJUWSA6IENISUxEX0RJUlRZXG4gICAgICBpZiAobm9kZS5kaXJ0eSA8IGRpcnR5KSBub2RlLmRpcnR5ID0gZGlydHlcbiAgICB9XG4gIH1cbn1cblxuLy8gUmV1c2VkIGFycmF5IHRvIGF2b2lkIGFsbG9jYXRpbmcgZnJlc2ggYXJyYXlzIGZvciB0aGluZ3MgdGhhdCB3aWxsXG4vLyBzdGF5IGVtcHR5IGFueXdheS5cbmNvbnN0IG5vdGhpbmcgPSBbXVxuXG4vLyBBIHdpZGdldCBkZXNjIHJlcHJlc2VudHMgYSB3aWRnZXQgZGVjb3JhdGlvbiwgd2hpY2ggaXMgYSBET00gbm9kZVxuLy8gZHJhd24gYmV0d2VlbiB0aGUgZG9jdW1lbnQgbm9kZXMuXG5jbGFzcyBXaWRnZXRWaWV3RGVzYyBleHRlbmRzIFZpZXdEZXNjIHtcbiAgLy8gOiAoVmlld0Rlc2MsIERlY29yYXRpb24pXG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgd2lkZ2V0LCB2aWV3LCBwb3MpIHtcbiAgICBsZXQgc2VsZiwgZG9tID0gd2lkZ2V0LnR5cGUudG9ET01cbiAgICBpZiAodHlwZW9mIGRvbSA9PSBcImZ1bmN0aW9uXCIpIGRvbSA9IGRvbSh2aWV3LCAoKSA9PiB7XG4gICAgICBpZiAoIXNlbGYpIHJldHVybiBwb3NcbiAgICAgIGlmIChzZWxmLnBhcmVudCkgcmV0dXJuIHNlbGYucGFyZW50LnBvc0JlZm9yZUNoaWxkKHNlbGYpXG4gICAgfSlcbiAgICBpZiAoIXdpZGdldC50eXBlLnNwZWMucmF3KSB7XG4gICAgICBpZiAoZG9tLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgbGV0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKVxuICAgICAgICB3cmFwLmFwcGVuZENoaWxkKGRvbSlcbiAgICAgICAgZG9tID0gd3JhcFxuICAgICAgfVxuICAgICAgZG9tLmNvbnRlbnRFZGl0YWJsZSA9IGZhbHNlXG4gICAgICBkb20uY2xhc3NMaXN0LmFkZChcIlByb3NlTWlycm9yLXdpZGdldFwiKVxuICAgIH1cbiAgICBzdXBlcihwYXJlbnQsIG5vdGhpbmcsIGRvbSwgbnVsbClcbiAgICB0aGlzLndpZGdldCA9IHdpZGdldFxuICAgIHNlbGYgPSB0aGlzXG4gIH1cblxuICBnZXQgYmVmb3JlUG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMud2lkZ2V0LnR5cGUuc2lkZSA8IDBcbiAgfVxuXG4gIG1hdGNoZXNXaWRnZXQod2lkZ2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuZGlydHkgPT0gTk9UX0RJUlRZICYmIHdpZGdldC50eXBlLmVxKHRoaXMud2lkZ2V0LnR5cGUpXG4gIH1cblxuICBwYXJzZVJ1bGUoKSB7IHJldHVybiB7aWdub3JlOiB0cnVlfSB9XG5cbiAgc3RvcEV2ZW50KGV2ZW50KSB7XG4gICAgbGV0IHN0b3AgPSB0aGlzLndpZGdldC5zcGVjLnN0b3BFdmVudFxuICAgIHJldHVybiBzdG9wID8gc3RvcChldmVudCkgOiBmYWxzZVxuICB9XG5cbiAgaWdub3JlTXV0YXRpb24obXV0YXRpb24pIHtcbiAgICByZXR1cm4gbXV0YXRpb24udHlwZSAhPSBcInNlbGVjdGlvblwiIHx8IHRoaXMud2lkZ2V0LnNwZWMuaWdub3JlU2VsZWN0aW9uXG4gIH1cbn1cblxuY2xhc3MgQ29tcG9zaXRpb25WaWV3RGVzYyBleHRlbmRzIFZpZXdEZXNjIHtcbiAgY29uc3RydWN0b3IocGFyZW50LCBkb20sIHRleHRET00sIHRleHQpIHtcbiAgICBzdXBlcihwYXJlbnQsIG5vdGhpbmcsIGRvbSwgbnVsbClcbiAgICB0aGlzLnRleHRET00gPSB0ZXh0RE9NXG4gICAgdGhpcy50ZXh0ID0gdGV4dFxuICB9XG5cbiAgZ2V0IHNpemUoKSB7IHJldHVybiB0aGlzLnRleHQubGVuZ3RoIH1cblxuICBsb2NhbFBvc0Zyb21ET00oZG9tLCBvZmZzZXQpIHtcbiAgICBpZiAoZG9tICE9IHRoaXMudGV4dERPTSkgcmV0dXJuIHRoaXMucG9zQXRTdGFydCArIChvZmZzZXQgPyB0aGlzLnNpemUgOiAwKVxuICAgIHJldHVybiB0aGlzLnBvc0F0U3RhcnQgKyBvZmZzZXRcbiAgfVxuXG4gIGRvbUZyb21Qb3MocG9zKSB7XG4gICAgcmV0dXJuIHtub2RlOiB0aGlzLnRleHRET00sIG9mZnNldDogcG9zfVxuICB9XG5cbiAgaWdub3JlTXV0YXRpb24obXV0KSB7XG4gICAgcmV0dXJuIG11dC50eXBlID09PSAnY2hhcmFjdGVyRGF0YScgJiYgbXV0LnRhcmdldC5ub2RlVmFsdWUgPT0gbXV0Lm9sZFZhbHVlXG4gICB9XG59XG5cbi8vIEEgbWFyayBkZXNjIHJlcHJlc2VudHMgYSBtYXJrLiBNYXkgaGF2ZSBtdWx0aXBsZSBjaGlsZHJlbixcbi8vIGRlcGVuZGluZyBvbiBob3cgdGhlIG1hcmsgaXMgc3BsaXQuIE5vdGUgdGhhdCBtYXJrcyBhcmUgZHJhd24gdXNpbmdcbi8vIGEgZml4ZWQgbmVzdGluZyBvcmRlciwgZm9yIHNpbXBsaWNpdHkgYW5kIHByZWRpY3RhYmlsaXR5LCBzbyBpblxuLy8gc29tZSBjYXNlcyB0aGV5IHdpbGwgYmUgc3BsaXQgbW9yZSBvZnRlbiB0aGFuIHdvdWxkIGFwcGVhclxuLy8gbmVjZXNzYXJ5LlxuY2xhc3MgTWFya1ZpZXdEZXNjIGV4dGVuZHMgVmlld0Rlc2Mge1xuICAvLyA6IChWaWV3RGVzYywgTWFyaywgZG9tLk5vZGUpXG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgbWFyaywgZG9tLCBjb250ZW50RE9NKSB7XG4gICAgc3VwZXIocGFyZW50LCBbXSwgZG9tLCBjb250ZW50RE9NKVxuICAgIHRoaXMubWFyayA9IG1hcmtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGUocGFyZW50LCBtYXJrLCBpbmxpbmUsIHZpZXcpIHtcbiAgICBsZXQgY3VzdG9tID0gdmlldy5ub2RlVmlld3NbbWFyay50eXBlLm5hbWVdXG4gICAgbGV0IHNwZWMgPSBjdXN0b20gJiYgY3VzdG9tKG1hcmssIHZpZXcsIGlubGluZSlcbiAgICBpZiAoIXNwZWMgfHwgIXNwZWMuZG9tKVxuICAgICAgc3BlYyA9IERPTVNlcmlhbGl6ZXIucmVuZGVyU3BlYyhkb2N1bWVudCwgbWFyay50eXBlLnNwZWMudG9ET00obWFyaywgaW5saW5lKSlcbiAgICByZXR1cm4gbmV3IE1hcmtWaWV3RGVzYyhwYXJlbnQsIG1hcmssIHNwZWMuZG9tLCBzcGVjLmNvbnRlbnRET00gfHwgc3BlYy5kb20pXG4gIH1cblxuICBwYXJzZVJ1bGUoKSB7IHJldHVybiB7bWFyazogdGhpcy5tYXJrLnR5cGUubmFtZSwgYXR0cnM6IHRoaXMubWFyay5hdHRycywgY29udGVudEVsZW1lbnQ6IHRoaXMuY29udGVudERPTX0gfVxuXG4gIG1hdGNoZXNNYXJrKG1hcmspIHsgcmV0dXJuIHRoaXMuZGlydHkgIT0gTk9ERV9ESVJUWSAmJiB0aGlzLm1hcmsuZXEobWFyaykgfVxuXG4gIG1hcmtEaXJ0eShmcm9tLCB0bykge1xuICAgIHN1cGVyLm1hcmtEaXJ0eShmcm9tLCB0bylcbiAgICAvLyBNb3ZlIGRpcnR5IGluZm8gdG8gbmVhcmVzdCBub2RlIHZpZXdcbiAgICBpZiAodGhpcy5kaXJ0eSAhPSBOT1RfRElSVFkpIHtcbiAgICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudFxuICAgICAgd2hpbGUgKCFwYXJlbnQubm9kZSkgcGFyZW50ID0gcGFyZW50LnBhcmVudFxuICAgICAgaWYgKHBhcmVudC5kaXJ0eSA8IHRoaXMuZGlydHkpIHBhcmVudC5kaXJ0eSA9IHRoaXMuZGlydHlcbiAgICAgIHRoaXMuZGlydHkgPSBOT1RfRElSVFlcbiAgICB9XG4gIH1cblxuICBzbGljZShmcm9tLCB0bywgdmlldykge1xuICAgIGxldCBjb3B5ID0gTWFya1ZpZXdEZXNjLmNyZWF0ZSh0aGlzLnBhcmVudCwgdGhpcy5tYXJrLCB0cnVlLCB2aWV3KVxuICAgIGxldCBub2RlcyA9IHRoaXMuY2hpbGRyZW4sIHNpemUgPSB0aGlzLnNpemVcbiAgICBpZiAodG8gPCBzaXplKSBub2RlcyA9IHJlcGxhY2VOb2Rlcyhub2RlcywgdG8sIHNpemUsIHZpZXcpXG4gICAgaWYgKGZyb20gPiAwKSBub2RlcyA9IHJlcGxhY2VOb2Rlcyhub2RlcywgMCwgZnJvbSwgdmlldylcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSBub2Rlc1tpXS5wYXJlbnQgPSBjb3B5XG4gICAgY29weS5jaGlsZHJlbiA9IG5vZGVzXG4gICAgcmV0dXJuIGNvcHlcbiAgfVxufVxuXG4vLyBOb2RlIHZpZXcgZGVzY3MgYXJlIHRoZSBtYWluLCBtb3N0IGNvbW1vbiB0eXBlIG9mIHZpZXcgZGVzYywgYW5kXG4vLyBjb3JyZXNwb25kIHRvIGFuIGFjdHVhbCBub2RlIGluIHRoZSBkb2N1bWVudC4gVW5saWtlIG1hcmsgZGVzY3MsXG4vLyB0aGV5IHBvcHVsYXRlIHRoZWlyIGNoaWxkIGFycmF5IHRoZW1zZWx2ZXMuXG5jbGFzcyBOb2RlVmlld0Rlc2MgZXh0ZW5kcyBWaWV3RGVzYyB7XG4gIC8vIDogKD9WaWV3RGVzYywgTm9kZSwgW0RlY29yYXRpb25dLCBEZWNvcmF0aW9uU2V0LCBkb20uTm9kZSwgP2RvbS5Ob2RlLCBFZGl0b3JWaWV3KVxuICBjb25zdHJ1Y3RvcihwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIGNvbnRlbnRET00sIG5vZGVET00sIHZpZXcsIHBvcykge1xuICAgIHN1cGVyKHBhcmVudCwgbm9kZS5pc0xlYWYgPyBub3RoaW5nIDogW10sIGRvbSwgY29udGVudERPTSlcbiAgICB0aGlzLm5vZGVET00gPSBub2RlRE9NXG4gICAgdGhpcy5ub2RlID0gbm9kZVxuICAgIHRoaXMub3V0ZXJEZWNvID0gb3V0ZXJEZWNvXG4gICAgdGhpcy5pbm5lckRlY28gPSBpbm5lckRlY29cbiAgICBpZiAoY29udGVudERPTSkgdGhpcy51cGRhdGVDaGlsZHJlbih2aWV3LCBwb3MpXG4gIH1cblxuICAvLyBCeSBkZWZhdWx0LCBhIG5vZGUgaXMgcmVuZGVyZWQgdXNpbmcgdGhlIGB0b0RPTWAgbWV0aG9kIGZyb20gdGhlXG4gIC8vIG5vZGUgdHlwZSBzcGVjLiBCdXQgY2xpZW50IGNvZGUgY2FuIHVzZSB0aGUgYG5vZGVWaWV3c2Agc3BlYyB0b1xuICAvLyBzdXBwbHkgYSBjdXN0b20gbm9kZSB2aWV3LCB3aGljaCBjYW4gaW5mbHVlbmNlIHZhcmlvdXMgYXNwZWN0cyBvZlxuICAvLyB0aGUgd2F5IHRoZSBub2RlIHdvcmtzLlxuICAvL1xuICAvLyAoVXNpbmcgc3ViY2xhc3NpbmcgZm9yIHRoaXMgd2FzIGludGVudGlvbmFsbHkgZGVjaWRlZCBhZ2FpbnN0LFxuICAvLyBzaW5jZSBpdCdkIHJlcXVpcmUgZXhwb3NpbmcgYSB3aG9sZSBzbGV3IG9mIGZpbm5pY2t5XG4gIC8vIGltcGxlbWVudGF0aW9uIGRldGFpbHMgdG8gdGhlIHVzZXIgY29kZSB0aGF0IHRoZXkgcHJvYmFibHkgd2lsbFxuICAvLyBuZXZlciBuZWVkLilcbiAgc3RhdGljIGNyZWF0ZShwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBwb3MpIHtcbiAgICBsZXQgY3VzdG9tID0gdmlldy5ub2RlVmlld3Nbbm9kZS50eXBlLm5hbWVdLCBkZXNjT2JqXG4gICAgbGV0IHNwZWMgPSBjdXN0b20gJiYgY3VzdG9tKG5vZGUsIHZpZXcsICgpID0+IHtcbiAgICAgIC8vIChUaGlzIGlzIGEgZnVuY3Rpb24gdGhhdCBhbGxvd3MgdGhlIGN1c3RvbSB2aWV3IHRvIGZpbmQgaXRzXG4gICAgICAvLyBvd24gcG9zaXRpb24pXG4gICAgICBpZiAoIWRlc2NPYmopIHJldHVybiBwb3NcbiAgICAgIGlmIChkZXNjT2JqLnBhcmVudCkgcmV0dXJuIGRlc2NPYmoucGFyZW50LnBvc0JlZm9yZUNoaWxkKGRlc2NPYmopXG4gICAgfSwgb3V0ZXJEZWNvKVxuXG4gICAgbGV0IGRvbSA9IHNwZWMgJiYgc3BlYy5kb20sIGNvbnRlbnRET00gPSBzcGVjICYmIHNwZWMuY29udGVudERPTVxuICAgIGlmIChub2RlLmlzVGV4dCkge1xuICAgICAgaWYgKCFkb20pIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUudGV4dClcbiAgICAgIGVsc2UgaWYgKGRvbS5ub2RlVHlwZSAhPSAzKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRleHQgbXVzdCBiZSByZW5kZXJlZCBhcyBhIERPTSB0ZXh0IG5vZGVcIilcbiAgICB9IGVsc2UgaWYgKCFkb20pIHtcbiAgICAgIDsoe2RvbSwgY29udGVudERPTX0gPSBET01TZXJpYWxpemVyLnJlbmRlclNwZWMoZG9jdW1lbnQsIG5vZGUudHlwZS5zcGVjLnRvRE9NKG5vZGUpKSlcbiAgICB9XG4gICAgaWYgKCFjb250ZW50RE9NICYmICFub2RlLmlzVGV4dCAmJiBkb20ubm9kZU5hbWUgIT0gXCJCUlwiKSB7IC8vIENocm9tZSBnZXRzIGNvbmZ1c2VkIGJ5IDxiciBjb250ZW50ZWRpdGFibGU9ZmFsc2U+XG4gICAgICBpZiAoIWRvbS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpIGRvbS5jb250ZW50RWRpdGFibGUgPSBmYWxzZVxuICAgICAgaWYgKG5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZSkgZG9tLmRyYWdnYWJsZSA9IHRydWVcbiAgICB9XG5cbiAgICBsZXQgbm9kZURPTSA9IGRvbVxuICAgIGRvbSA9IGFwcGx5T3V0ZXJEZWNvKGRvbSwgb3V0ZXJEZWNvLCBub2RlKVxuXG4gICAgaWYgKHNwZWMpXG4gICAgICByZXR1cm4gZGVzY09iaiA9IG5ldyBDdXN0b21Ob2RlVmlld0Rlc2MocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBjb250ZW50RE9NLCBub2RlRE9NLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWMsIHZpZXcsIHBvcyArIDEpXG4gICAgZWxzZSBpZiAobm9kZS5pc1RleHQpXG4gICAgICByZXR1cm4gbmV3IFRleHRWaWV3RGVzYyhwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIG5vZGVET00sIHZpZXcpXG4gICAgZWxzZVxuICAgICAgcmV0dXJuIG5ldyBOb2RlVmlld0Rlc2MocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBjb250ZW50RE9NLCBub2RlRE9NLCB2aWV3LCBwb3MgKyAxKVxuICB9XG5cbiAgcGFyc2VSdWxlKCkge1xuICAgIC8vIEV4cGVyaW1lbnRhbCBrbHVkZ2UgdG8gYWxsb3cgb3B0LWluIHJlLXBhcnNpbmcgb2Ygbm9kZXNcbiAgICBpZiAodGhpcy5ub2RlLnR5cGUuc3BlYy5yZXBhcnNlSW5WaWV3KSByZXR1cm4gbnVsbFxuICAgIC8vIEZJWE1FIHRoZSBhc3N1bXB0aW9uIHRoYXQgdGhpcyBjYW4gYWx3YXlzIHJldHVybiB0aGUgY3VycmVudFxuICAgIC8vIGF0dHJzIG1lYW5zIHRoYXQgaWYgdGhlIHVzZXIgc29tZWhvdyBtYW5hZ2VzIHRvIGNoYW5nZSB0aGVcbiAgICAvLyBhdHRycyBpbiB0aGUgZG9tLCB0aGF0IHdvbid0IGJlIHBpY2tlZCB1cC4gTm90IGVudGlyZWx5IHN1cmVcbiAgICAvLyB3aGV0aGVyIHRoaXMgaXMgYSBwcm9ibGVtXG4gICAgbGV0IHJ1bGUgPSB7bm9kZTogdGhpcy5ub2RlLnR5cGUubmFtZSwgYXR0cnM6IHRoaXMubm9kZS5hdHRyc31cbiAgICBpZiAodGhpcy5ub2RlLnR5cGUuc3BlYy5jb2RlKSBydWxlLnByZXNlcnZlV2hpdGVzcGFjZSA9IFwiZnVsbFwiXG4gICAgaWYgKHRoaXMuY29udGVudERPTSAmJiAhdGhpcy5jb250ZW50TG9zdCkgcnVsZS5jb250ZW50RWxlbWVudCA9IHRoaXMuY29udGVudERPTVxuICAgIGVsc2UgcnVsZS5nZXRDb250ZW50ID0gKCkgPT4gdGhpcy5jb250ZW50RE9NID8gRnJhZ21lbnQuZW1wdHkgOiB0aGlzLm5vZGUuY29udGVudFxuICAgIHJldHVybiBydWxlXG4gIH1cblxuICBtYXRjaGVzTm9kZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbykge1xuICAgIHJldHVybiB0aGlzLmRpcnR5ID09IE5PVF9ESVJUWSAmJiBub2RlLmVxKHRoaXMubm9kZSkgJiZcbiAgICAgIHNhbWVPdXRlckRlY28ob3V0ZXJEZWNvLCB0aGlzLm91dGVyRGVjbykgJiYgaW5uZXJEZWNvLmVxKHRoaXMuaW5uZXJEZWNvKVxuICB9XG5cbiAgZ2V0IHNpemUoKSB7IHJldHVybiB0aGlzLm5vZGUubm9kZVNpemUgfVxuXG4gIGdldCBib3JkZXIoKSB7IHJldHVybiB0aGlzLm5vZGUuaXNMZWFmID8gMCA6IDEgfVxuXG4gIC8vIFN5bmNzIGB0aGlzLmNoaWxkcmVuYCB0byBtYXRjaCBgdGhpcy5ub2RlLmNvbnRlbnRgIGFuZCB0aGUgbG9jYWxcbiAgLy8gZGVjb3JhdGlvbnMsIHBvc3NpYmx5IGludHJvZHVjaW5nIG5lc3RpbmcgZm9yIG1hcmtzLiBUaGVuLCBpbiBhXG4gIC8vIHNlcGFyYXRlIHN0ZXAsIHN5bmNzIHRoZSBET00gaW5zaWRlIGB0aGlzLmNvbnRlbnRET01gIHRvXG4gIC8vIGB0aGlzLmNoaWxkcmVuYC5cbiAgdXBkYXRlQ2hpbGRyZW4odmlldywgcG9zKSB7XG4gICAgbGV0IGlubGluZSA9IHRoaXMubm9kZS5pbmxpbmVDb250ZW50LCBvZmYgPSBwb3NcbiAgICBsZXQgY29tcG9zaXRpb24gPSBpbmxpbmUgJiYgdmlldy5jb21wb3NpbmcgJiYgdGhpcy5sb2NhbENvbXBvc2l0aW9uTm9kZSh2aWV3LCBwb3MpXG4gICAgbGV0IHVwZGF0ZXIgPSBuZXcgVmlld1RyZWVVcGRhdGVyKHRoaXMsIGNvbXBvc2l0aW9uICYmIGNvbXBvc2l0aW9uLm5vZGUpXG4gICAgaXRlckRlY28odGhpcy5ub2RlLCB0aGlzLmlubmVyRGVjbywgKHdpZGdldCwgaSwgaW5zaWRlTm9kZSkgPT4ge1xuICAgICAgaWYgKHdpZGdldC5zcGVjLm1hcmtzKVxuICAgICAgICB1cGRhdGVyLnN5bmNUb01hcmtzKHdpZGdldC5zcGVjLm1hcmtzLCBpbmxpbmUsIHZpZXcpXG4gICAgICBlbHNlIGlmICh3aWRnZXQudHlwZS5zaWRlID49IDAgJiYgIWluc2lkZU5vZGUpXG4gICAgICAgIHVwZGF0ZXIuc3luY1RvTWFya3MoaSA9PSB0aGlzLm5vZGUuY2hpbGRDb3VudCA/IE1hcmsubm9uZSA6IHRoaXMubm9kZS5jaGlsZChpKS5tYXJrcywgaW5saW5lLCB2aWV3KVxuICAgICAgLy8gSWYgdGhlIG5leHQgbm9kZSBpcyBhIGRlc2MgbWF0Y2hpbmcgdGhpcyB3aWRnZXQsIHJldXNlIGl0LFxuICAgICAgLy8gb3RoZXJ3aXNlIGluc2VydCB0aGUgd2lkZ2V0IGFzIGEgbmV3IHZpZXcgZGVzYy5cbiAgICAgIHVwZGF0ZXIucGxhY2VXaWRnZXQod2lkZ2V0LCB2aWV3LCBvZmYpXG4gICAgfSwgKGNoaWxkLCBvdXRlckRlY28sIGlubmVyRGVjbywgaSkgPT4ge1xuICAgICAgLy8gTWFrZSBzdXJlIHRoZSB3cmFwcGluZyBtYXJrIGRlc2NzIG1hdGNoIHRoZSBub2RlJ3MgbWFya3MuXG4gICAgICB1cGRhdGVyLnN5bmNUb01hcmtzKGNoaWxkLm1hcmtzLCBpbmxpbmUsIHZpZXcpXG4gICAgICAvLyBFaXRoZXIgZmluZCBhbiBleGlzdGluZyBkZXNjIHRoYXQgZXhhY3RseSBtYXRjaGVzIHRoaXMgbm9kZSxcbiAgICAgIC8vIGFuZCBkcm9wIHRoZSBkZXNjcyBiZWZvcmUgaXQuXG4gICAgICB1cGRhdGVyLmZpbmROb2RlTWF0Y2goY2hpbGQsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBpKSB8fFxuICAgICAgICAvLyBPciB0cnkgdXBkYXRpbmcgdGhlIG5leHQgZGVzYyB0byByZWZsZWN0IHRoaXMgbm9kZS5cbiAgICAgICAgdXBkYXRlci51cGRhdGVOZXh0Tm9kZShjaGlsZCwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcsIGkpIHx8XG4gICAgICAgIC8vIE9yIGp1c3QgYWRkIGl0IGFzIGEgbmV3IGRlc2MuXG4gICAgICAgIHVwZGF0ZXIuYWRkTm9kZShjaGlsZCwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcsIG9mZilcbiAgICAgIG9mZiArPSBjaGlsZC5ub2RlU2l6ZVxuICAgIH0pXG4gICAgLy8gRHJvcCBhbGwgcmVtYWluaW5nIGRlc2NzIGFmdGVyIHRoZSBjdXJyZW50IHBvc2l0aW9uLlxuICAgIHVwZGF0ZXIuc3luY1RvTWFya3Mobm90aGluZywgaW5saW5lLCB2aWV3KVxuICAgIGlmICh0aGlzLm5vZGUuaXNUZXh0YmxvY2spIHVwZGF0ZXIuYWRkVGV4dGJsb2NrSGFja3MoKVxuICAgIHVwZGF0ZXIuZGVzdHJveVJlc3QoKVxuXG4gICAgLy8gU3luYyB0aGUgRE9NIGlmIGFueXRoaW5nIGNoYW5nZWRcbiAgICBpZiAodXBkYXRlci5jaGFuZ2VkIHx8IHRoaXMuZGlydHkgPT0gQ09OVEVOVF9ESVJUWSkge1xuICAgICAgLy8gTWF5IGhhdmUgdG8gcHJvdGVjdCBmb2N1c2VkIERPTSBmcm9tIGJlaW5nIGNoYW5nZWQgaWYgYSBjb21wb3NpdGlvbiBpcyBhY3RpdmVcbiAgICAgIGlmIChjb21wb3NpdGlvbikgdGhpcy5wcm90ZWN0TG9jYWxDb21wb3NpdGlvbih2aWV3LCBjb21wb3NpdGlvbilcbiAgICAgIHRoaXMucmVuZGVyQ2hpbGRyZW4oKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNoaWxkcmVuKCkge1xuICAgIHJlbmRlckRlc2NzKHRoaXMuY29udGVudERPTSwgdGhpcy5jaGlsZHJlbiwgTm9kZVZpZXdEZXNjLmlzKVxuICAgIGlmIChicm93c2VyLmlvcykgaW9zSGFja3ModGhpcy5kb20pXG4gIH1cblxuICBsb2NhbENvbXBvc2l0aW9uTm9kZSh2aWV3LCBwb3MpIHtcbiAgICAvLyBPbmx5IGRvIHNvbWV0aGluZyBpZiBib3RoIHRoZSBzZWxlY3Rpb24gYW5kIGEgZm9jdXNlZCB0ZXh0IG5vZGVcbiAgICAvLyBhcmUgaW5zaWRlIG9mIHRoaXMgbm9kZSwgYW5kIHRoZSBub2RlIGlzbid0IGFscmVhZHkgcGFydCBvZiBhXG4gICAgLy8gdmlldyB0aGF0J3MgYSBjaGlsZCBvZiB0aGlzIHZpZXdcbiAgICBsZXQge2Zyb20sIHRvfSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uXG4gICAgaWYgKCEodmlldy5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uKSB8fCBmcm9tIDwgcG9zIHx8IHRvID4gcG9zICsgdGhpcy5ub2RlLmNvbnRlbnQuc2l6ZSkgcmV0dXJuXG4gICAgbGV0IHNlbCA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKVxuICAgIGxldCB0ZXh0Tm9kZSA9IG5lYXJieVRleHROb2RlKHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldClcbiAgICBpZiAoIXRleHROb2RlIHx8ICF0aGlzLmRvbS5jb250YWlucyh0ZXh0Tm9kZS5wYXJlbnROb2RlKSkgcmV0dXJuXG5cbiAgICAvLyBGaW5kIHRoZSB0ZXh0IGluIHRoZSBmb2N1c2VkIG5vZGUgaW4gdGhlIG5vZGUsIHN0b3AgaWYgaXQncyBub3RcbiAgICAvLyB0aGVyZSAobWF5IGhhdmUgYmVlbiBtb2RpZmllZCB0aHJvdWdoIG90aGVyIG1lYW5zLCBpbiB3aGljaFxuICAgIC8vIGNhc2UgaXQgc2hvdWxkIG92ZXJ3cml0dGVuKVxuICAgIGxldCB0ZXh0ID0gdGV4dE5vZGUubm9kZVZhbHVlXG4gICAgbGV0IHRleHRQb3MgPSBmaW5kVGV4dEluRnJhZ21lbnQodGhpcy5ub2RlLmNvbnRlbnQsIHRleHQsIGZyb20gLSBwb3MsIHRvIC0gcG9zKVxuXG4gICAgcmV0dXJuIHRleHRQb3MgPCAwID8gbnVsbCA6IHtub2RlOiB0ZXh0Tm9kZSwgcG9zOiB0ZXh0UG9zLCB0ZXh0fVxuICB9XG5cbiAgcHJvdGVjdExvY2FsQ29tcG9zaXRpb24odmlldywge25vZGUsIHBvcywgdGV4dH0pIHtcbiAgICAvLyBUaGUgbm9kZSBpcyBhbHJlYWR5IHBhcnQgb2YgYSBsb2NhbCB2aWV3IGRlc2MsIGxlYXZlIGl0IHRoZXJlXG4gICAgaWYgKHRoaXMuZ2V0RGVzYyhub2RlKSkgcmV0dXJuXG5cbiAgICAvLyBDcmVhdGUgYSBjb21wb3NpdGlvbiB2aWV3IGZvciB0aGUgb3JwaGFuZWQgbm9kZXNcbiAgICBsZXQgdG9wTm9kZSA9IG5vZGVcbiAgICBmb3IgKDs7IHRvcE5vZGUgPSB0b3BOb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIGlmICh0b3BOb2RlLnBhcmVudE5vZGUgPT0gdGhpcy5jb250ZW50RE9NKSBicmVha1xuICAgICAgd2hpbGUgKHRvcE5vZGUucHJldmlvdXNTaWJsaW5nKSB0b3BOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodG9wTm9kZS5wcmV2aW91c1NpYmxpbmcpXG4gICAgICB3aGlsZSAodG9wTm9kZS5uZXh0U2libGluZykgdG9wTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRvcE5vZGUubmV4dFNpYmxpbmcpXG4gICAgICBpZiAodG9wTm9kZS5wbVZpZXdEZXNjKSB0b3BOb2RlLnBtVmlld0Rlc2MgPSBudWxsXG4gICAgfVxuICAgIGxldCBkZXNjID0gbmV3IENvbXBvc2l0aW9uVmlld0Rlc2ModGhpcywgdG9wTm9kZSwgbm9kZSwgdGV4dClcbiAgICB2aWV3LmNvbXBvc2l0aW9uTm9kZXMucHVzaChkZXNjKVxuXG4gICAgLy8gUGF0Y2ggdXAgdGhpcy5jaGlsZHJlbiB0byBjb250YWluIHRoZSBjb21wb3NpdGlvbiB2aWV3XG4gICAgdGhpcy5jaGlsZHJlbiA9IHJlcGxhY2VOb2Rlcyh0aGlzLmNoaWxkcmVuLCBwb3MsIHBvcyArIHRleHQubGVuZ3RoLCB2aWV3LCBkZXNjKVxuICB9XG5cbiAgLy8gOiAoTm9kZSwgW0RlY29yYXRpb25dLCBEZWNvcmF0aW9uU2V0LCBFZGl0b3JWaWV3KSDihpIgYm9vbFxuICAvLyBJZiB0aGlzIGRlc2MgYmUgdXBkYXRlZCB0byBtYXRjaCB0aGUgZ2l2ZW4gbm9kZSBkZWNvcmF0aW9uLFxuICAvLyBkbyBzbyBhbmQgcmV0dXJuIHRydWUuXG4gIHVwZGF0ZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldykge1xuICAgIGlmICh0aGlzLmRpcnR5ID09IE5PREVfRElSVFkgfHxcbiAgICAgICAgIW5vZGUuc2FtZU1hcmt1cCh0aGlzLm5vZGUpKSByZXR1cm4gZmFsc2VcbiAgICB0aGlzLnVwZGF0ZUlubmVyKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICB1cGRhdGVJbm5lcihub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldykge1xuICAgIHRoaXMudXBkYXRlT3V0ZXJEZWNvKG91dGVyRGVjbylcbiAgICB0aGlzLm5vZGUgPSBub2RlXG4gICAgdGhpcy5pbm5lckRlY28gPSBpbm5lckRlY29cbiAgICBpZiAodGhpcy5jb250ZW50RE9NKSB0aGlzLnVwZGF0ZUNoaWxkcmVuKHZpZXcsIHRoaXMucG9zQXRTdGFydClcbiAgICB0aGlzLmRpcnR5ID0gTk9UX0RJUlRZXG4gIH1cblxuICB1cGRhdGVPdXRlckRlY28ob3V0ZXJEZWNvKSB7XG4gICAgaWYgKHNhbWVPdXRlckRlY28ob3V0ZXJEZWNvLCB0aGlzLm91dGVyRGVjbykpIHJldHVyblxuICAgIGxldCBuZWVkc1dyYXAgPSB0aGlzLm5vZGVET00ubm9kZVR5cGUgIT0gMVxuICAgIGxldCBvbGRET00gPSB0aGlzLmRvbVxuICAgIHRoaXMuZG9tID0gcGF0Y2hPdXRlckRlY28odGhpcy5kb20sIHRoaXMubm9kZURPTSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVPdXRlckRlY28odGhpcy5vdXRlckRlY28sIHRoaXMubm9kZSwgbmVlZHNXcmFwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVPdXRlckRlY28ob3V0ZXJEZWNvLCB0aGlzLm5vZGUsIG5lZWRzV3JhcCkpXG4gICAgaWYgKHRoaXMuZG9tICE9IG9sZERPTSkge1xuICAgICAgb2xkRE9NLnBtVmlld0Rlc2MgPSBudWxsXG4gICAgICB0aGlzLmRvbS5wbVZpZXdEZXNjID0gdGhpc1xuICAgIH1cbiAgICB0aGlzLm91dGVyRGVjbyA9IG91dGVyRGVjb1xuICB9XG5cbiAgLy8gTWFyayB0aGlzIG5vZGUgYXMgYmVpbmcgdGhlIHNlbGVjdGVkIG5vZGUuXG4gIHNlbGVjdE5vZGUoKSB7XG4gICAgdGhpcy5ub2RlRE9NLmNsYXNzTGlzdC5hZGQoXCJQcm9zZU1pcnJvci1zZWxlY3RlZG5vZGVcIilcbiAgICBpZiAodGhpcy5jb250ZW50RE9NIHx8ICF0aGlzLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZSkgdGhpcy5kb20uZHJhZ2dhYmxlID0gdHJ1ZVxuICB9XG5cbiAgLy8gUmVtb3ZlIHNlbGVjdGVkIG5vZGUgbWFya2luZyBmcm9tIHRoaXMgbm9kZS5cbiAgZGVzZWxlY3ROb2RlKCkge1xuICAgIHRoaXMubm9kZURPTS5jbGFzc0xpc3QucmVtb3ZlKFwiUHJvc2VNaXJyb3Itc2VsZWN0ZWRub2RlXCIpXG4gICAgaWYgKHRoaXMuY29udGVudERPTSB8fCAhdGhpcy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGUpIHRoaXMuZG9tLmRyYWdnYWJsZSA9IGZhbHNlXG4gIH1cbn1cblxuLy8gQ3JlYXRlIGEgdmlldyBkZXNjIGZvciB0aGUgdG9wLWxldmVsIGRvY3VtZW50IG5vZGUsIHRvIGJlIGV4cG9ydGVkXG4vLyBhbmQgdXNlZCBieSB0aGUgdmlldyBjbGFzcy5cbmV4cG9ydCBmdW5jdGlvbiBkb2NWaWV3RGVzYyhkb2MsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIHZpZXcpIHtcbiAgYXBwbHlPdXRlckRlY28oZG9tLCBvdXRlckRlY28sIGRvYylcbiAgcmV0dXJuIG5ldyBOb2RlVmlld0Rlc2MobnVsbCwgZG9jLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBkb20sIGRvbSwgdmlldywgMClcbn1cblxuY2xhc3MgVGV4dFZpZXdEZXNjIGV4dGVuZHMgTm9kZVZpZXdEZXNjIHtcbiAgY29uc3RydWN0b3IocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBub2RlRE9NLCB2aWV3KSB7XG4gICAgc3VwZXIocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBudWxsLCBub2RlRE9NLCB2aWV3KVxuICB9XG5cbiAgcGFyc2VSdWxlKCkge1xuICAgIHJldHVybiB7c2tpcDogdGhpcy5ub2RlRE9NLnBhcmVudE5vZGUgfHwgdHJ1ZX1cbiAgfVxuXG4gIHVwZGF0ZShub2RlLCBvdXRlckRlY28pIHtcbiAgICBpZiAodGhpcy5kaXJ0eSA9PSBOT0RFX0RJUlRZIHx8ICh0aGlzLmRpcnR5ICE9IE5PVF9ESVJUWSAmJiAhdGhpcy5pblBhcmVudCgpKSB8fFxuICAgICAgICAhbm9kZS5zYW1lTWFya3VwKHRoaXMubm9kZSkpIHJldHVybiBmYWxzZVxuICAgIHRoaXMudXBkYXRlT3V0ZXJEZWNvKG91dGVyRGVjbylcbiAgICBpZiAoKHRoaXMuZGlydHkgIT0gTk9UX0RJUlRZIHx8IG5vZGUudGV4dCAhPSB0aGlzLm5vZGUudGV4dCkgJiYgbm9kZS50ZXh0ICE9IHRoaXMubm9kZURPTS5ub2RlVmFsdWUpXG4gICAgICB0aGlzLm5vZGVET00ubm9kZVZhbHVlID0gbm9kZS50ZXh0XG4gICAgdGhpcy5ub2RlID0gbm9kZVxuICAgIHRoaXMuZGlydHkgPSBOT1RfRElSVFlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgaW5QYXJlbnQoKSB7XG4gICAgbGV0IHBhcmVudERPTSA9IHRoaXMucGFyZW50LmNvbnRlbnRET01cbiAgICBmb3IgKGxldCBuID0gdGhpcy5ub2RlRE9NOyBuOyBuID0gbi5wYXJlbnROb2RlKSBpZiAobiA9PSBwYXJlbnRET00pIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBkb21Gcm9tUG9zKHBvcykge1xuICAgIHJldHVybiB7bm9kZTogdGhpcy5ub2RlRE9NLCBvZmZzZXQ6IHBvc31cbiAgfVxuXG4gIGxvY2FsUG9zRnJvbURPTShkb20sIG9mZnNldCwgYmlhcykge1xuICAgIGlmIChkb20gPT0gdGhpcy5ub2RlRE9NKSByZXR1cm4gdGhpcy5wb3NBdFN0YXJ0ICsgTWF0aC5taW4ob2Zmc2V0LCB0aGlzLm5vZGUudGV4dC5sZW5ndGgpXG4gICAgcmV0dXJuIHN1cGVyLmxvY2FsUG9zRnJvbURPTShkb20sIG9mZnNldCwgYmlhcylcbiAgfVxuXG4gIGlnbm9yZU11dGF0aW9uKG11dGF0aW9uKSB7XG4gICAgcmV0dXJuIG11dGF0aW9uLnR5cGUgIT0gXCJjaGFyYWN0ZXJEYXRhXCIgJiYgbXV0YXRpb24udHlwZSAhPSBcInNlbGVjdGlvblwiXG4gIH1cblxuICBzbGljZShmcm9tLCB0bywgdmlldykge1xuICAgIGxldCBub2RlID0gdGhpcy5ub2RlLmN1dChmcm9tLCB0byksIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUudGV4dClcbiAgICByZXR1cm4gbmV3IFRleHRWaWV3RGVzYyh0aGlzLnBhcmVudCwgbm9kZSwgdGhpcy5vdXRlckRlY28sIHRoaXMuaW5uZXJEZWNvLCBkb20sIGRvbSwgdmlldylcbiAgfVxufVxuXG4vLyBBIGR1bW15IGRlc2MgdXNlZCB0byB0YWcgdHJhaWxpbmcgQlIgb3Igc3BhbiBub2RlcyBjcmVhdGVkIHRvIHdvcmtcbi8vIGFyb3VuZCBjb250ZW50RWRpdGFibGUgdGVycmlibGVuZXNzLlxuY2xhc3MgQlJIYWNrVmlld0Rlc2MgZXh0ZW5kcyBWaWV3RGVzYyB7XG4gIHBhcnNlUnVsZSgpIHsgcmV0dXJuIHtpZ25vcmU6IHRydWV9IH1cbiAgbWF0Y2hlc0hhY2soKSB7IHJldHVybiB0aGlzLmRpcnR5ID09IE5PVF9ESVJUWSB9XG59XG5cbi8vIEEgc2VwYXJhdGUgc3ViY2xhc3MgaXMgdXNlZCBmb3IgY3VzdG9taXplZCBub2RlIHZpZXdzLCBzbyB0aGF0IHRoZVxuLy8gZXh0cmEgY2hlY2tzIG9ubHkgaGF2ZSB0byBiZSBtYWRlIGZvciBub2RlcyB0aGF0IGFyZSBhY3R1YWxseVxuLy8gY3VzdG9taXplZC5cbmNsYXNzIEN1c3RvbU5vZGVWaWV3RGVzYyBleHRlbmRzIE5vZGVWaWV3RGVzYyB7XG4gIC8vIDogKD9WaWV3RGVzYywgTm9kZSwgW0RlY29yYXRpb25dLCBEZWNvcmF0aW9uU2V0LCBkb20uTm9kZSwgP2RvbS5Ob2RlLCBOb2RlVmlldywgRWRpdG9yVmlldylcbiAgY29uc3RydWN0b3IocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBjb250ZW50RE9NLCBub2RlRE9NLCBzcGVjLCB2aWV3LCBwb3MpIHtcbiAgICBzdXBlcihwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIGNvbnRlbnRET00sIG5vZGVET00sIHZpZXcsIHBvcylcbiAgICB0aGlzLnNwZWMgPSBzcGVjXG4gIH1cblxuICAvLyBBIGN1c3RvbSBgdXBkYXRlYCBtZXRob2QgZ2V0cyB0byBkZWNpZGUgd2hldGhlciB0aGUgdXBkYXRlIGdvZXNcbiAgLy8gdGhyb3VnaC4gSWYgaXQgZG9lcywgYW5kIHRoZXJlJ3MgYSBgY29udGVudERPTWAgbm9kZSwgb3VyIGxvZ2ljXG4gIC8vIHVwZGF0ZXMgdGhlIGNoaWxkcmVuLlxuICB1cGRhdGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcpIHtcbiAgICBpZiAodGhpcy5kaXJ0eSA9PSBOT0RFX0RJUlRZKSByZXR1cm4gZmFsc2VcbiAgICBpZiAodGhpcy5zcGVjLnVwZGF0ZSkge1xuICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuc3BlYy51cGRhdGUobm9kZSwgb3V0ZXJEZWNvKVxuICAgICAgaWYgKHJlc3VsdCkgdGhpcy51cGRhdGVJbm5lcihub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldylcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmNvbnRlbnRET00gJiYgIW5vZGUuaXNMZWFmKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN1cGVyLnVwZGF0ZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldylcbiAgICB9XG4gIH1cblxuICBzZWxlY3ROb2RlKCkge1xuICAgIHRoaXMuc3BlYy5zZWxlY3ROb2RlID8gdGhpcy5zcGVjLnNlbGVjdE5vZGUoKSA6IHN1cGVyLnNlbGVjdE5vZGUoKVxuICB9XG5cbiAgZGVzZWxlY3ROb2RlKCkge1xuICAgIHRoaXMuc3BlYy5kZXNlbGVjdE5vZGUgPyB0aGlzLnNwZWMuZGVzZWxlY3ROb2RlKCkgOiBzdXBlci5kZXNlbGVjdE5vZGUoKVxuICB9XG5cbiAgc2V0U2VsZWN0aW9uKGFuY2hvciwgaGVhZCwgcm9vdCwgZm9yY2UpIHtcbiAgICB0aGlzLnNwZWMuc2V0U2VsZWN0aW9uID8gdGhpcy5zcGVjLnNldFNlbGVjdGlvbihhbmNob3IsIGhlYWQsIHJvb3QpXG4gICAgICA6IHN1cGVyLnNldFNlbGVjdGlvbihhbmNob3IsIGhlYWQsIHJvb3QsIGZvcmNlKVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5zcGVjLmRlc3Ryb3kpIHRoaXMuc3BlYy5kZXN0cm95KClcbiAgICBzdXBlci5kZXN0cm95KClcbiAgfVxuXG4gIHN0b3BFdmVudChldmVudCkge1xuICAgIHJldHVybiB0aGlzLnNwZWMuc3RvcEV2ZW50ID8gdGhpcy5zcGVjLnN0b3BFdmVudChldmVudCkgOiBmYWxzZVxuICB9XG5cbiAgaWdub3JlTXV0YXRpb24obXV0YXRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5zcGVjLmlnbm9yZU11dGF0aW9uID8gdGhpcy5zcGVjLmlnbm9yZU11dGF0aW9uKG11dGF0aW9uKSA6IHN1cGVyLmlnbm9yZU11dGF0aW9uKG11dGF0aW9uKVxuICB9XG59XG5cbi8vIDogKGRvbS5Ob2RlLCBbVmlld0Rlc2NdKVxuLy8gU3luYyB0aGUgY29udGVudCBvZiB0aGUgZ2l2ZW4gRE9NIG5vZGUgd2l0aCB0aGUgbm9kZXMgYXNzb2NpYXRlZFxuLy8gd2l0aCB0aGUgZ2l2ZW4gYXJyYXkgb2YgdmlldyBkZXNjcywgcmVjdXJzaW5nIGludG8gbWFyayBkZXNjc1xuLy8gYmVjYXVzZSB0aGlzIHNob3VsZCBzeW5jIHRoZSBzdWJ0cmVlIGZvciBhIHdob2xlIG5vZGUgYXQgYSB0aW1lLlxuZnVuY3Rpb24gcmVuZGVyRGVzY3MocGFyZW50RE9NLCBkZXNjcykge1xuICBsZXQgZG9tID0gcGFyZW50RE9NLmZpcnN0Q2hpbGRcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXNjcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBkZXNjID0gZGVzY3NbaV0sIGNoaWxkRE9NID0gZGVzYy5kb21cbiAgICBpZiAoY2hpbGRET00ucGFyZW50Tm9kZSA9PSBwYXJlbnRET00pIHtcbiAgICAgIHdoaWxlIChjaGlsZERPTSAhPSBkb20pIGRvbSA9IHJtKGRvbSlcbiAgICAgIGRvbSA9IGRvbS5uZXh0U2libGluZ1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnRET00uaW5zZXJ0QmVmb3JlKGNoaWxkRE9NLCBkb20pXG4gICAgfVxuICAgIGlmIChkZXNjIGluc3RhbmNlb2YgTWFya1ZpZXdEZXNjKSB7XG4gICAgICBsZXQgcG9zID0gZG9tID8gZG9tLnByZXZpb3VzU2libGluZyA6IHBhcmVudERPTS5sYXN0Q2hpbGRcbiAgICAgIHJlbmRlckRlc2NzKGRlc2MuY29udGVudERPTSwgZGVzYy5jaGlsZHJlbilcbiAgICAgIGRvbSA9IHBvcyA/IHBvcy5uZXh0U2libGluZyA6IHBhcmVudERPTS5maXJzdENoaWxkXG4gICAgfVxuICB9XG4gIHdoaWxlIChkb20pIGRvbSA9IHJtKGRvbSlcbn1cblxuZnVuY3Rpb24gT3V0ZXJEZWNvTGV2ZWwobm9kZU5hbWUpIHtcbiAgaWYgKG5vZGVOYW1lKSB0aGlzLm5vZGVOYW1lID0gbm9kZU5hbWVcbn1cbk91dGVyRGVjb0xldmVsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbClcblxuY29uc3Qgbm9EZWNvID0gW25ldyBPdXRlckRlY29MZXZlbF1cblxuZnVuY3Rpb24gY29tcHV0ZU91dGVyRGVjbyhvdXRlckRlY28sIG5vZGUsIG5lZWRzV3JhcCkge1xuICBpZiAob3V0ZXJEZWNvLmxlbmd0aCA9PSAwKSByZXR1cm4gbm9EZWNvXG5cbiAgbGV0IHRvcCA9IG5lZWRzV3JhcCA/IG5vRGVjb1swXSA6IG5ldyBPdXRlckRlY29MZXZlbCwgcmVzdWx0ID0gW3RvcF1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IG91dGVyRGVjby5sZW5ndGg7IGkrKykge1xuICAgIGxldCBhdHRycyA9IG91dGVyRGVjb1tpXS50eXBlLmF0dHJzLCBjdXIgPSB0b3BcbiAgICBpZiAoIWF0dHJzKSBjb250aW51ZVxuICAgIGlmIChhdHRycy5ub2RlTmFtZSlcbiAgICAgIHJlc3VsdC5wdXNoKGN1ciA9IG5ldyBPdXRlckRlY29MZXZlbChhdHRycy5ub2RlTmFtZSkpXG5cbiAgICBmb3IgKGxldCBuYW1lIGluIGF0dHJzKSB7XG4gICAgICBsZXQgdmFsID0gYXR0cnNbbmFtZV1cbiAgICAgIGlmICh2YWwgPT0gbnVsbCkgY29udGludWVcbiAgICAgIGlmIChuZWVkc1dyYXAgJiYgcmVzdWx0Lmxlbmd0aCA9PSAxKVxuICAgICAgICByZXN1bHQucHVzaChjdXIgPSB0b3AgPSBuZXcgT3V0ZXJEZWNvTGV2ZWwobm9kZS5pc0lubGluZSA/IFwic3BhblwiIDogXCJkaXZcIikpXG4gICAgICBpZiAobmFtZSA9PSBcImNsYXNzXCIpIGN1ci5jbGFzcyA9IChjdXIuY2xhc3MgPyBjdXIuY2xhc3MgKyBcIiBcIiA6IFwiXCIpICsgdmFsXG4gICAgICBlbHNlIGlmIChuYW1lID09IFwic3R5bGVcIikgY3VyLnN0eWxlID0gKGN1ci5zdHlsZSA/IGN1ci5zdHlsZSArIFwiO1wiIDogXCJcIikgKyB2YWxcbiAgICAgIGVsc2UgaWYgKG5hbWUgIT0gXCJub2RlTmFtZVwiKSBjdXJbbmFtZV0gPSB2YWxcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIHBhdGNoT3V0ZXJEZWNvKG91dGVyRE9NLCBub2RlRE9NLCBwcmV2Q29tcHV0ZWQsIGN1ckNvbXB1dGVkKSB7XG4gIC8vIFNob3J0Y3V0IGZvciB0cml2aWFsIGNhc2VcbiAgaWYgKHByZXZDb21wdXRlZCA9PSBub0RlY28gJiYgY3VyQ29tcHV0ZWQgPT0gbm9EZWNvKSByZXR1cm4gbm9kZURPTVxuXG4gIGxldCBjdXJET00gPSBub2RlRE9NXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY3VyQ29tcHV0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgZGVjbyA9IGN1ckNvbXB1dGVkW2ldLCBwcmV2ID0gcHJldkNvbXB1dGVkW2ldXG4gICAgaWYgKGkpIHtcbiAgICAgIGxldCBwYXJlbnRcbiAgICAgIGlmIChwcmV2ICYmIHByZXYubm9kZU5hbWUgPT0gZGVjby5ub2RlTmFtZSAmJiBjdXJET00gIT0gb3V0ZXJET00gJiZcbiAgICAgICAgICAocGFyZW50ID0gY3VyRE9NLnBhcmVudE5vZGUpICYmIHBhcmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gZGVjby5ub2RlTmFtZSkge1xuICAgICAgICBjdXJET00gPSBwYXJlbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZGVjby5ub2RlTmFtZSlcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGN1ckRPTSlcbiAgICAgICAgcHJldiA9IG5vRGVjb1swXVxuICAgICAgICBjdXJET00gPSBwYXJlbnRcbiAgICAgIH1cbiAgICB9XG4gICAgcGF0Y2hBdHRyaWJ1dGVzKGN1ckRPTSwgcHJldiB8fCBub0RlY29bMF0sIGRlY28pXG4gIH1cbiAgcmV0dXJuIGN1ckRPTVxufVxuXG5mdW5jdGlvbiBwYXRjaEF0dHJpYnV0ZXMoZG9tLCBwcmV2LCBjdXIpIHtcbiAgZm9yIChsZXQgbmFtZSBpbiBwcmV2KVxuICAgIGlmIChuYW1lICE9IFwiY2xhc3NcIiAmJiBuYW1lICE9IFwic3R5bGVcIiAmJiBuYW1lICE9IFwibm9kZU5hbWVcIiAmJiAhKG5hbWUgaW4gY3VyKSlcbiAgICAgIGRvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSlcbiAgZm9yIChsZXQgbmFtZSBpbiBjdXIpXG4gICAgaWYgKG5hbWUgIT0gXCJjbGFzc1wiICYmIG5hbWUgIT0gXCJzdHlsZVwiICYmIG5hbWUgIT0gXCJub2RlTmFtZVwiICYmIGN1cltuYW1lXSAhPSBwcmV2W25hbWVdKVxuICAgICAgZG9tLnNldEF0dHJpYnV0ZShuYW1lLCBjdXJbbmFtZV0pXG4gIGlmIChwcmV2LmNsYXNzICE9IGN1ci5jbGFzcykge1xuICAgIGxldCBwcmV2TGlzdCA9IHByZXYuY2xhc3MgPyBwcmV2LmNsYXNzLnNwbGl0KFwiIFwiKSA6IG5vdGhpbmdcbiAgICBsZXQgY3VyTGlzdCA9IGN1ci5jbGFzcyA/IGN1ci5jbGFzcy5zcGxpdChcIiBcIikgOiBub3RoaW5nXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2TGlzdC5sZW5ndGg7IGkrKykgaWYgKGN1ckxpc3QuaW5kZXhPZihwcmV2TGlzdFtpXSkgPT0gLTEpXG4gICAgICBkb20uY2xhc3NMaXN0LnJlbW92ZShwcmV2TGlzdFtpXSlcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1ckxpc3QubGVuZ3RoOyBpKyspIGlmIChwcmV2TGlzdC5pbmRleE9mKGN1ckxpc3RbaV0pID09IC0xKVxuICAgICAgZG9tLmNsYXNzTGlzdC5hZGQoY3VyTGlzdFtpXSlcbiAgfVxuICBpZiAocHJldi5zdHlsZSAhPSBjdXIuc3R5bGUpIHtcbiAgICBpZiAocHJldi5zdHlsZSkge1xuICAgICAgbGV0IHByb3AgPSAvXFxzKihbXFx3XFwtXFx4YTEtXFx1ZmZmZl0rKVxccyo6KD86XCIoPzpcXFxcLnxbXlwiXSkqXCJ8Jyg/OlxcXFwufFteJ10pKid8XFwoLio/XFwpfFteO10pKi9nLCBtXG4gICAgICB3aGlsZSAobSA9IHByb3AuZXhlYyhwcmV2LnN0eWxlKSlcbiAgICAgICAgZG9tLnN0eWxlLnJlbW92ZVByb3BlcnR5KG1bMV0pXG4gICAgfVxuICAgIGlmIChjdXIuc3R5bGUpXG4gICAgICBkb20uc3R5bGUuY3NzVGV4dCArPSBjdXIuc3R5bGVcbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseU91dGVyRGVjbyhkb20sIGRlY28sIG5vZGUpIHtcbiAgcmV0dXJuIHBhdGNoT3V0ZXJEZWNvKGRvbSwgZG9tLCBub0RlY28sIGNvbXB1dGVPdXRlckRlY28oZGVjbywgbm9kZSwgZG9tLm5vZGVUeXBlICE9IDEpKVxufVxuXG4vLyA6IChbRGVjb3JhdGlvbl0sIFtEZWNvcmF0aW9uXSkg4oaSIGJvb2xcbmZ1bmN0aW9uIHNhbWVPdXRlckRlY28oYSwgYikge1xuICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIGlmICghYVtpXS50eXBlLmVxKGJbaV0udHlwZSkpIHJldHVybiBmYWxzZVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyBSZW1vdmUgYSBET00gbm9kZSBhbmQgcmV0dXJuIGl0cyBuZXh0IHNpYmxpbmcuXG5mdW5jdGlvbiBybShkb20pIHtcbiAgbGV0IG5leHQgPSBkb20ubmV4dFNpYmxpbmdcbiAgZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZG9tKVxuICByZXR1cm4gbmV4dFxufVxuXG4vLyBIZWxwZXIgY2xhc3MgZm9yIGluY3JlbWVudGFsbHkgdXBkYXRpbmcgYSB0cmVlIG9mIG1hcmsgZGVzY3MgYW5kXG4vLyB0aGUgd2lkZ2V0IGFuZCBub2RlIGRlc2NzIGluc2lkZSBvZiB0aGVtLlxuY2xhc3MgVmlld1RyZWVVcGRhdGVyIHtcbiAgLy8gOiAoTm9kZVZpZXdEZXNjKVxuICBjb25zdHJ1Y3Rvcih0b3AsIGxvY2tlZE5vZGUpIHtcbiAgICB0aGlzLnRvcCA9IHRvcFxuICAgIHRoaXMubG9jayA9IGxvY2tlZE5vZGVcbiAgICAvLyBJbmRleCBpbnRvIGB0aGlzLnRvcGAncyBjaGlsZCBhcnJheSwgcmVwcmVzZW50cyB0aGUgY3VycmVudFxuICAgIC8vIHVwZGF0ZSBwb3NpdGlvbi5cbiAgICB0aGlzLmluZGV4ID0gMFxuICAgIC8vIFdoZW4gZW50ZXJpbmcgYSBtYXJrLCB0aGUgY3VycmVudCB0b3AgYW5kIGluZGV4IGFyZSBwdXNoZWRcbiAgICAvLyBvbnRvIHRoaXMuXG4gICAgdGhpcy5zdGFjayA9IFtdXG4gICAgLy8gVHJhY2tzIHdoZXRoZXIgYW55dGhpbmcgd2FzIGNoYW5nZWRcbiAgICB0aGlzLmNoYW5nZWQgPSBmYWxzZVxuXG4gICAgbGV0IHByZSA9IHByZU1hdGNoKHRvcC5ub2RlLmNvbnRlbnQsIHRvcC5jaGlsZHJlbilcbiAgICB0aGlzLnByZU1hdGNoZWQgPSBwcmUubm9kZXNcbiAgICB0aGlzLnByZU1hdGNoT2Zmc2V0ID0gcHJlLm9mZnNldFxuICB9XG5cbiAgZ2V0UHJlTWF0Y2goaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggPj0gdGhpcy5wcmVNYXRjaE9mZnNldCA/IHRoaXMucHJlTWF0Y2hlZFtpbmRleCAtIHRoaXMucHJlTWF0Y2hPZmZzZXRdIDogbnVsbFxuICB9XG5cbiAgLy8gRGVzdHJveSBhbmQgcmVtb3ZlIHRoZSBjaGlsZHJlbiBiZXR3ZWVuIHRoZSBnaXZlbiBpbmRpY2VzIGluXG4gIC8vIGB0aGlzLnRvcGAuXG4gIGRlc3Ryb3lCZXR3ZWVuKHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoc3RhcnQgPT0gZW5kKSByZXR1cm5cbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykgdGhpcy50b3AuY2hpbGRyZW5baV0uZGVzdHJveSgpXG4gICAgdGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydClcbiAgICB0aGlzLmNoYW5nZWQgPSB0cnVlXG4gIH1cblxuICAvLyBEZXN0cm95IGFsbCByZW1haW5pbmcgY2hpbGRyZW4gaW4gYHRoaXMudG9wYC5cbiAgZGVzdHJveVJlc3QoKSB7XG4gICAgdGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LCB0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgpXG4gIH1cblxuICAvLyA6IChbTWFya10sIEVkaXRvclZpZXcpXG4gIC8vIFN5bmMgdGhlIGN1cnJlbnQgc3RhY2sgb2YgbWFyayBkZXNjcyB3aXRoIHRoZSBnaXZlbiBhcnJheSBvZlxuICAvLyBtYXJrcywgcmV1c2luZyBleGlzdGluZyBtYXJrIGRlc2NzIHdoZW4gcG9zc2libGUuXG4gIHN5bmNUb01hcmtzKG1hcmtzLCBpbmxpbmUsIHZpZXcpIHtcbiAgICBsZXQga2VlcCA9IDAsIGRlcHRoID0gdGhpcy5zdGFjay5sZW5ndGggPj4gMVxuICAgIGxldCBtYXhLZWVwID0gTWF0aC5taW4oZGVwdGgsIG1hcmtzLmxlbmd0aClcbiAgICB3aGlsZSAoa2VlcCA8IG1heEtlZXAgJiZcbiAgICAgICAgICAgKGtlZXAgPT0gZGVwdGggLSAxID8gdGhpcy50b3AgOiB0aGlzLnN0YWNrWyhrZWVwICsgMSkgPDwgMV0pLm1hdGNoZXNNYXJrKG1hcmtzW2tlZXBdKSAmJiBtYXJrc1trZWVwXS50eXBlLnNwZWMuc3Bhbm5pbmcgIT09IGZhbHNlKVxuICAgICAga2VlcCsrXG5cbiAgICB3aGlsZSAoa2VlcCA8IGRlcHRoKSB7XG4gICAgICB0aGlzLmRlc3Ryb3lSZXN0KClcbiAgICAgIHRoaXMudG9wLmRpcnR5ID0gTk9UX0RJUlRZXG4gICAgICB0aGlzLmluZGV4ID0gdGhpcy5zdGFjay5wb3AoKVxuICAgICAgdGhpcy50b3AgPSB0aGlzLnN0YWNrLnBvcCgpXG4gICAgICBkZXB0aC0tXG4gICAgfVxuICAgIHdoaWxlIChkZXB0aCA8IG1hcmtzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zdGFjay5wdXNoKHRoaXMudG9wLCB0aGlzLmluZGV4ICsgMSlcbiAgICAgIGxldCBmb3VuZCA9IC0xXG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5pbmRleDsgaSA8IE1hdGgubWluKHRoaXMuaW5kZXggKyAzLCB0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGgpOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMudG9wLmNoaWxkcmVuW2ldLm1hdGNoZXNNYXJrKG1hcmtzW2RlcHRoXSkpIHsgZm91bmQgPSBpOyBicmVhayB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQgPiAtMSkge1xuICAgICAgICBpZiAoZm91bmQgPiB0aGlzLmluZGV4KSB7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VkID0gdHJ1ZVxuICAgICAgICAgIHRoaXMuZGVzdHJveUJldHdlZW4odGhpcy5pbmRleCwgZm91bmQpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3AgPSB0aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4XVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG1hcmtEZXNjID0gTWFya1ZpZXdEZXNjLmNyZWF0ZSh0aGlzLnRvcCwgbWFya3NbZGVwdGhdLCBpbmxpbmUsIHZpZXcpXG4gICAgICAgIHRoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4LCAwLCBtYXJrRGVzYylcbiAgICAgICAgdGhpcy50b3AgPSBtYXJrRGVzY1xuICAgICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlXG4gICAgICB9XG4gICAgICB0aGlzLmluZGV4ID0gMFxuICAgICAgZGVwdGgrK1xuICAgIH1cbiAgfVxuXG4gIC8vIDogKE5vZGUsIFtEZWNvcmF0aW9uXSwgRGVjb3JhdGlvblNldCkg4oaSIGJvb2xcbiAgLy8gVHJ5IHRvIGZpbmQgYSBub2RlIGRlc2MgbWF0Y2hpbmcgdGhlIGdpdmVuIGRhdGEuIFNraXAgb3ZlciBpdCBhbmRcbiAgLy8gcmV0dXJuIHRydWUgd2hlbiBzdWNjZXNzZnVsLlxuICBmaW5kTm9kZU1hdGNoKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBpbmRleCkge1xuICAgIGxldCBmb3VuZCA9IC0xLCBwcmVNYXRjaCA9IGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IHRoaXMuZ2V0UHJlTWF0Y2goaW5kZXgpLCBjaGlsZHJlbiA9IHRoaXMudG9wLmNoaWxkcmVuXG4gICAgaWYgKHByZU1hdGNoICYmIHByZU1hdGNoLm1hdGNoZXNOb2RlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvKSkge1xuICAgICAgZm91bmQgPSBjaGlsZHJlbi5pbmRleE9mKHByZU1hdGNoKVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5pbmRleCwgZSA9IE1hdGgubWluKGNoaWxkcmVuLmxlbmd0aCwgaSArIDUpOyBpIDwgZTsgaSsrKSB7XG4gICAgICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2ldXG4gICAgICAgIGlmIChjaGlsZC5tYXRjaGVzTm9kZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbykgJiYgdGhpcy5wcmVNYXRjaGVkLmluZGV4T2YoY2hpbGQpIDwgMCkge1xuICAgICAgICAgIGZvdW5kID0gaVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZvdW5kIDwgMCkgcmV0dXJuIGZhbHNlXG4gICAgdGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LCBmb3VuZClcbiAgICB0aGlzLmluZGV4KytcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gOiAoTm9kZSwgW0RlY29yYXRpb25dLCBEZWNvcmF0aW9uU2V0LCBFZGl0b3JWaWV3LCBGcmFnbWVudCwgbnVtYmVyKSDihpIgYm9vbFxuICAvLyBUcnkgdG8gdXBkYXRlIHRoZSBuZXh0IG5vZGUsIGlmIGFueSwgdG8gdGhlIGdpdmVuIGRhdGEuIENoZWNrc1xuICAvLyBwcmUtbWF0Y2hlcyB0byBhdm9pZCBvdmVyd3JpdGluZyBub2RlcyB0aGF0IGNvdWxkIHN0aWxsIGJlIHVzZWQuXG4gIHVwZGF0ZU5leHROb2RlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBpbmRleCkge1xuICAgIGlmICh0aGlzLmluZGV4ID09IHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCkgcmV0dXJuIGZhbHNlXG4gICAgbGV0IG5leHQgPSB0aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4XVxuICAgIGlmIChuZXh0IGluc3RhbmNlb2YgTm9kZVZpZXdEZXNjKSB7XG4gICAgICBsZXQgcHJlTWF0Y2ggPSB0aGlzLnByZU1hdGNoZWQuaW5kZXhPZihuZXh0KVxuICAgICAgaWYgKHByZU1hdGNoID4gLTEgJiYgcHJlTWF0Y2ggKyB0aGlzLnByZU1hdGNoT2Zmc2V0ICE9IGluZGV4KSByZXR1cm4gZmFsc2VcbiAgICAgIGxldCBuZXh0RE9NID0gbmV4dC5kb21cblxuICAgICAgLy8gQ2FuJ3QgdXBkYXRlIGlmIG5leHRET00gaXMgb3IgY29udGFpbnMgdGhpcy5sb2NrLCBleGNlcHQgaWZcbiAgICAgIC8vIGl0J3MgYSB0ZXh0IG5vZGUgd2hvc2UgY29udGVudCBhbHJlYWR5IG1hdGNoZXMgdGhlIG5ldyB0ZXh0XG4gICAgICAvLyBhbmQgd2hvc2UgZGVjb3JhdGlvbnMgbWF0Y2ggdGhlIG5ldyBvbmVzLlxuICAgICAgbGV0IGxvY2tlZCA9IHRoaXMubG9jayAmJiAobmV4dERPTSA9PSB0aGlzLmxvY2sgfHwgbmV4dERPTS5ub2RlVHlwZSA9PSAxICYmIG5leHRET00uY29udGFpbnModGhpcy5sb2NrLnBhcmVudE5vZGUpKSAmJlxuICAgICAgICAgICEobm9kZS5pc1RleHQgJiYgbmV4dC5ub2RlICYmIG5leHQubm9kZS5pc1RleHQgJiYgbmV4dC5ub2RlRE9NLm5vZGVWYWx1ZSA9PSBub2RlLnRleHQgJiZcbiAgICAgICAgICAgIG5leHQuZGlydHkgIT0gTk9ERV9ESVJUWSAmJiBzYW1lT3V0ZXJEZWNvKG91dGVyRGVjbywgbmV4dC5vdXRlckRlY28pKVxuICAgICAgaWYgKCFsb2NrZWQgJiYgbmV4dC51cGRhdGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcpKSB7XG4gICAgICAgIGlmIChuZXh0LmRvbSAhPSBuZXh0RE9NKSB0aGlzLmNoYW5nZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuaW5kZXgrK1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIDogKE5vZGUsIFtEZWNvcmF0aW9uXSwgRGVjb3JhdGlvblNldCwgRWRpdG9yVmlldylcbiAgLy8gSW5zZXJ0IHRoZSBub2RlIGFzIGEgbmV3bHkgY3JlYXRlZCBub2RlIGRlc2MuXG4gIGFkZE5vZGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcsIHBvcykge1xuICAgIHRoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssIDAsIE5vZGVWaWV3RGVzYy5jcmVhdGUodGhpcy50b3AsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBwb3MpKVxuICAgIHRoaXMuY2hhbmdlZCA9IHRydWVcbiAgfVxuXG4gIHBsYWNlV2lkZ2V0KHdpZGdldCwgdmlldywgcG9zKSB7XG4gICAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGggJiYgdGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF0ubWF0Y2hlc1dpZGdldCh3aWRnZXQpKSB7XG4gICAgICB0aGlzLmluZGV4KytcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGRlc2MgPSBuZXcgV2lkZ2V0Vmlld0Rlc2ModGhpcy50b3AsIHdpZGdldCwgdmlldywgcG9zKVxuICAgICAgdGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywgMCwgZGVzYylcbiAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWVcbiAgICB9XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgYSB0ZXh0YmxvY2sgbG9va3MgYW5kIGJlaGF2ZXMgY29ycmVjdGx5IGluXG4gIC8vIGNvbnRlbnRFZGl0YWJsZS5cbiAgYWRkVGV4dGJsb2NrSGFja3MoKSB7XG4gICAgbGV0IGxhc3RDaGlsZCA9IHRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXggLSAxXVxuICAgIHdoaWxlIChsYXN0Q2hpbGQgaW5zdGFuY2VvZiBNYXJrVmlld0Rlc2MpIGxhc3RDaGlsZCA9IGxhc3RDaGlsZC5jaGlsZHJlbltsYXN0Q2hpbGQuY2hpbGRyZW4ubGVuZ3RoIC0gMV1cblxuICAgIGlmICghbGFzdENoaWxkIHx8IC8vIEVtcHR5IHRleHRibG9ja1xuICAgICAgICAhKGxhc3RDaGlsZCBpbnN0YW5jZW9mIFRleHRWaWV3RGVzYykgfHxcbiAgICAgICAgL1xcbiQvLnRlc3QobGFzdENoaWxkLm5vZGUudGV4dCkpIHtcbiAgICAgIGlmICh0aGlzLmluZGV4IDwgdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoICYmIHRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdLm1hdGNoZXNIYWNrKCkpIHtcbiAgICAgICAgdGhpcy5pbmRleCsrXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpXG4gICAgICAgIHRoaXMudG9wLmNoaWxkcmVuLnNwbGljZSh0aGlzLmluZGV4KyssIDAsIG5ldyBCUkhhY2tWaWV3RGVzYyh0aGlzLnRvcCwgbm90aGluZywgZG9tLCBudWxsKSlcbiAgICAgICAgdGhpcy5jaGFuZ2VkID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyA6IChGcmFnbWVudCwgW1ZpZXdEZXNjXSkg4oaSIFtWaWV3RGVzY11cbi8vIEl0ZXJhdGUgZnJvbSB0aGUgZW5kIG9mIHRoZSBmcmFnbWVudCBhbmQgYXJyYXkgb2YgZGVzY3MgdG8gZmluZFxuLy8gZGlyZWN0bHkgbWF0Y2hpbmcgb25lcywgaW4gb3JkZXIgdG8gYXZvaWQgb3ZlcmVhZ2VybHkgcmV1c2luZ1xuLy8gdGhvc2UgZm9yIG90aGVyIG5vZGVzLiBSZXR1cm5zIGFuIGFycmF5IHdob3NlIHBvc2l0aW9ucyBjb3JyZXNwb25kXG4vLyB0byBub2RlIHBvc2l0aW9ucyBpbiB0aGUgZnJhZ21lbnQsIGFuZCB3aG9zZSBlbGVtZW50cyBhcmUgZWl0aGVyXG4vLyBkZXNjcyBtYXRjaGVkIHRvIHRoZSBjaGlsZCBhdCB0aGF0IGluZGV4LCBvciBlbXB0eS5cbmZ1bmN0aW9uIHByZU1hdGNoKGZyYWcsIGRlc2NzKSB7XG4gIGxldCByZXN1bHQgPSBbXSwgZW5kID0gZnJhZy5jaGlsZENvdW50XG4gIGZvciAobGV0IGkgPSBkZXNjcy5sZW5ndGggLSAxOyBlbmQgPiAwICYmIGkgPj0gMDsgaS0tKSB7XG4gICAgbGV0IGRlc2MgPSBkZXNjc1tpXSwgbm9kZSA9IGRlc2Mubm9kZVxuICAgIGlmICghbm9kZSkgY29udGludWVcbiAgICBpZiAobm9kZSAhPSBmcmFnLmNoaWxkKGVuZCAtIDEpKSBicmVha1xuICAgIHJlc3VsdC5wdXNoKGRlc2MpXG4gICAgLS1lbmRcbiAgfVxuICByZXR1cm4ge25vZGVzOiByZXN1bHQucmV2ZXJzZSgpLCBvZmZzZXQ6IGVuZH1cbn1cblxuZnVuY3Rpb24gY29tcGFyZVNpZGUoYSwgYikgeyByZXR1cm4gYS50eXBlLnNpZGUgLSBiLnR5cGUuc2lkZSB9XG5cbi8vIDogKFZpZXdEZXNjLCBEZWNvcmF0aW9uU2V0LCAoRGVjb3JhdGlvbiwgbnVtYmVyKSwgKE5vZGUsIFtEZWNvcmF0aW9uXSwgRGVjb3JhdGlvblNldCwgbnVtYmVyKSlcbi8vIFRoaXMgZnVuY3Rpb24gYWJzdHJhY3RzIGl0ZXJhdGluZyBvdmVyIHRoZSBub2RlcyBhbmQgZGVjb3JhdGlvbnMgaW5cbi8vIGEgZnJhZ21lbnQuIENhbGxzIGBvbk5vZGVgIGZvciBlYWNoIG5vZGUsIHdpdGggaXRzIGxvY2FsIGFuZCBjaGlsZFxuLy8gZGVjb3JhdGlvbnMuIFNwbGl0cyB0ZXh0IG5vZGVzIHdoZW4gdGhlcmUgaXMgYSBkZWNvcmF0aW9uIHN0YXJ0aW5nXG4vLyBvciBlbmRpbmcgaW5zaWRlIG9mIHRoZW0uIENhbGxzIGBvbldpZGdldGAgZm9yIGVhY2ggd2lkZ2V0LlxuZnVuY3Rpb24gaXRlckRlY28ocGFyZW50LCBkZWNvLCBvbldpZGdldCwgb25Ob2RlKSB7XG4gIGxldCBsb2NhbHMgPSBkZWNvLmxvY2FscyhwYXJlbnQpLCBvZmZzZXQgPSAwXG4gIC8vIFNpbXBsZSwgY2hlYXAgdmFyaWFudCBmb3Igd2hlbiB0aGVyZSBhcmUgbm8gbG9jYWwgZGVjb3JhdGlvbnNcbiAgaWYgKGxvY2Fscy5sZW5ndGggPT0gMCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyZW50LmNoaWxkQ291bnQ7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gcGFyZW50LmNoaWxkKGkpXG4gICAgICBvbk5vZGUoY2hpbGQsIGxvY2FscywgZGVjby5mb3JDaGlsZChvZmZzZXQsIGNoaWxkKSwgaSlcbiAgICAgIG9mZnNldCArPSBjaGlsZC5ub2RlU2l6ZVxuICAgIH1cbiAgICByZXR1cm5cbiAgfVxuXG4gIGxldCBkZWNvSW5kZXggPSAwLCBhY3RpdmUgPSBbXSwgcmVzdE5vZGUgPSBudWxsXG4gIGZvciAobGV0IHBhcmVudEluZGV4ID0gMDs7KSB7XG4gICAgaWYgKGRlY29JbmRleCA8IGxvY2Fscy5sZW5ndGggJiYgbG9jYWxzW2RlY29JbmRleF0udG8gPT0gb2Zmc2V0KSB7XG4gICAgICBsZXQgd2lkZ2V0ID0gbG9jYWxzW2RlY29JbmRleCsrXSwgd2lkZ2V0c1xuICAgICAgd2hpbGUgKGRlY29JbmRleCA8IGxvY2Fscy5sZW5ndGggJiYgbG9jYWxzW2RlY29JbmRleF0udG8gPT0gb2Zmc2V0KVxuICAgICAgICAod2lkZ2V0cyB8fCAod2lkZ2V0cyA9IFt3aWRnZXRdKSkucHVzaChsb2NhbHNbZGVjb0luZGV4KytdKVxuICAgICAgaWYgKHdpZGdldHMpIHtcbiAgICAgICAgd2lkZ2V0cy5zb3J0KGNvbXBhcmVTaWRlKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpZGdldHMubGVuZ3RoOyBpKyspIG9uV2lkZ2V0KHdpZGdldHNbaV0sIHBhcmVudEluZGV4LCAhIXJlc3ROb2RlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25XaWRnZXQod2lkZ2V0LCBwYXJlbnRJbmRleCwgISFyZXN0Tm9kZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgY2hpbGQsIGluZGV4XG4gICAgaWYgKHJlc3ROb2RlKSB7XG4gICAgICBpbmRleCA9IC0xXG4gICAgICBjaGlsZCA9IHJlc3ROb2RlXG4gICAgICByZXN0Tm9kZSA9IG51bGxcbiAgICB9IGVsc2UgaWYgKHBhcmVudEluZGV4IDwgcGFyZW50LmNoaWxkQ291bnQpIHtcbiAgICAgIGluZGV4ID0gcGFyZW50SW5kZXhcbiAgICAgIGNoaWxkID0gcGFyZW50LmNoaWxkKHBhcmVudEluZGV4KyspXG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmUubGVuZ3RoOyBpKyspIGlmIChhY3RpdmVbaV0udG8gPD0gb2Zmc2V0KSBhY3RpdmUuc3BsaWNlKGktLSwgMSlcbiAgICB3aGlsZSAoZGVjb0luZGV4IDwgbG9jYWxzLmxlbmd0aCAmJiBsb2NhbHNbZGVjb0luZGV4XS5mcm9tID09IG9mZnNldCkgYWN0aXZlLnB1c2gobG9jYWxzW2RlY29JbmRleCsrXSlcblxuICAgIGxldCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5ub2RlU2l6ZVxuICAgIGlmIChjaGlsZC5pc1RleHQpIHtcbiAgICAgIGxldCBjdXRBdCA9IGVuZFxuICAgICAgaWYgKGRlY29JbmRleCA8IGxvY2Fscy5sZW5ndGggJiYgbG9jYWxzW2RlY29JbmRleF0uZnJvbSA8IGN1dEF0KSBjdXRBdCA9IGxvY2Fsc1tkZWNvSW5kZXhdLmZyb21cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlLmxlbmd0aDsgaSsrKSBpZiAoYWN0aXZlW2ldLnRvIDwgY3V0QXQpIGN1dEF0ID0gYWN0aXZlW2ldLnRvXG4gICAgICBpZiAoY3V0QXQgPCBlbmQpIHtcbiAgICAgICAgcmVzdE5vZGUgPSBjaGlsZC5jdXQoY3V0QXQgLSBvZmZzZXQpXG4gICAgICAgIGNoaWxkID0gY2hpbGQuY3V0KDAsIGN1dEF0IC0gb2Zmc2V0KVxuICAgICAgICBlbmQgPSBjdXRBdFxuICAgICAgICBpbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuXG4gICAgb25Ob2RlKGNoaWxkLCBhY3RpdmUubGVuZ3RoID8gYWN0aXZlLnNsaWNlKCkgOiBub3RoaW5nLCBkZWNvLmZvckNoaWxkKG9mZnNldCwgY2hpbGQpLCBpbmRleClcbiAgICBvZmZzZXQgPSBlbmRcbiAgfVxufVxuXG4vLyBMaXN0IG1hcmtlcnMgaW4gTW9iaWxlIFNhZmFyaSB3aWxsIG15c3RlcmlvdXNseSBkaXNhcHBlYXJcbi8vIHNvbWV0aW1lcy4gVGhpcyB3b3JrcyBhcm91bmQgdGhhdC5cbmZ1bmN0aW9uIGlvc0hhY2tzKGRvbSkge1xuICBpZiAoZG9tLm5vZGVOYW1lID09IFwiVUxcIiB8fCBkb20ubm9kZU5hbWUgPT0gXCJPTFwiKSB7XG4gICAgbGV0IG9sZENTUyA9IGRvbS5zdHlsZS5jc3NUZXh0XG4gICAgZG9tLnN0eWxlLmNzc1RleHQgPSBvbGRDU1MgKyBcIjsgbGlzdC1zdHlsZTogc3F1YXJlICFpbXBvcnRhbnRcIlxuICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvbSkubGlzdFN0eWxlXG4gICAgZG9tLnN0eWxlLmNzc1RleHQgPSBvbGRDU1NcbiAgfVxufVxuXG5mdW5jdGlvbiBuZWFyYnlUZXh0Tm9kZShub2RlLCBvZmZzZXQpIHtcbiAgZm9yICg7Oykge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09IDMpIHJldHVybiBub2RlXG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiBvZmZzZXQgPiAwKSB7XG4gICAgICBpZiAobm9kZS5jaGlsZE5vZGVzLmxlbmd0aCA+IG9mZnNldCAmJiBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XS5ub2RlVHlwZSA9PSAzKVxuICAgICAgICByZXR1cm4gbm9kZS5jaGlsZE5vZGVzW29mZnNldF1cbiAgICAgIG5vZGUgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV1cbiAgICAgIG9mZnNldCA9IG5vZGVTaXplKG5vZGUpXG4gICAgfSBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgb2Zmc2V0IDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdXG4gICAgICBvZmZzZXQgPSAwXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG59XG5cbi8vIEZpbmQgYSBwaWVjZSBvZiB0ZXh0IGluIGFuIGlubGluZSBmcmFnbWVudCwgb3ZlcmxhcHBpbmcgZnJvbS10b1xuZnVuY3Rpb24gZmluZFRleHRJbkZyYWdtZW50KGZyYWcsIHRleHQsIGZyb20sIHRvKSB7XG4gIGZvciAobGV0IGkgPSAwLCBwb3MgPSAwOyBpIDwgZnJhZy5jaGlsZENvdW50ICYmIHBvcyA8PSB0bzspIHtcbiAgICBsZXQgY2hpbGQgPSBmcmFnLmNoaWxkKGkrKyksIGNoaWxkU3RhcnQgPSBwb3NcbiAgICBwb3MgKz0gY2hpbGQubm9kZVNpemVcbiAgICBpZiAoIWNoaWxkLmlzVGV4dCkgY29udGludWVcbiAgICBsZXQgc3RyID0gY2hpbGQudGV4dFxuICAgIHdoaWxlIChpIDwgZnJhZy5jaGlsZENvdW50KSB7XG4gICAgICBsZXQgbmV4dCA9IGZyYWcuY2hpbGQoaSsrKVxuICAgICAgcG9zICs9IG5leHQubm9kZVNpemVcbiAgICAgIGlmICghbmV4dC5pc1RleHQpIGJyZWFrXG4gICAgICBzdHIgKz0gbmV4dC50ZXh0XG4gICAgfVxuICAgIGlmIChwb3MgPj0gZnJvbSkge1xuICAgICAgbGV0IGZvdW5kID0gc3RyLmxhc3RJbmRleE9mKHRleHQsIHRvIC0gY2hpbGRTdGFydClcbiAgICAgIGlmIChmb3VuZCA+PSAwICYmIGZvdW5kICsgdGV4dC5sZW5ndGggKyBjaGlsZFN0YXJ0ID49IGZyb20pXG4gICAgICAgIHJldHVybiBjaGlsZFN0YXJ0ICsgZm91bmRcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xXG59XG5cbi8vIFJlcGxhY2UgcmFuZ2UgZnJvbS10byBpbiBhbiBhcnJheSBvZiB2aWV3IGRlc2NzIHdpdGggcmVwbGFjZW1lbnRcbi8vIChtYXkgYmUgbnVsbCB0byBqdXN0IGRlbGV0ZSkuIFRoaXMgZ29lcyB2ZXJ5IG11Y2ggYWdhaW5zdCB0aGUgZ3JhaW5cbi8vIG9mIHRoZSByZXN0IG9mIHRoaXMgY29kZSwgd2hpY2ggdGVuZHMgdG8gY3JlYXRlIG5vZGVzIHdpdGggdGhlXG4vLyByaWdodCBzaGFwZSBpbiBvbmUgZ28sIHJhdGhlciB0aGFuIG1lc3Npbmcgd2l0aCB0aGVtIGFmdGVyXG4vLyBjcmVhdGlvbiwgYnV0IGlzIG5lY2Vzc2FyeSBpbiB0aGUgY29tcG9zaXRpb24gaGFjay5cbmZ1bmN0aW9uIHJlcGxhY2VOb2Rlcyhub2RlcywgZnJvbSwgdG8sIHZpZXcsIHJlcGxhY2VtZW50KSB7XG4gIGxldCByZXN1bHQgPSBbXVxuICBmb3IgKGxldCBpID0gMCwgb2ZmID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGNoaWxkID0gbm9kZXNbaV0sIHN0YXJ0ID0gb2ZmLCBlbmQgPSBvZmYgKz0gY2hpbGQuc2l6ZVxuICAgIGlmIChzdGFydCA+PSB0byB8fCBlbmQgPD0gZnJvbSkge1xuICAgICAgcmVzdWx0LnB1c2goY2hpbGQpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGFydCA8IGZyb20pIHJlc3VsdC5wdXNoKGNoaWxkLnNsaWNlKDAsIGZyb20gLSBzdGFydCwgdmlldykpXG4gICAgICBpZiAocmVwbGFjZW1lbnQpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocmVwbGFjZW1lbnQpXG4gICAgICAgIHJlcGxhY2VtZW50ID0gbnVsbFxuICAgICAgfVxuICAgICAgaWYgKGVuZCA+IHRvKSByZXN1bHQucHVzaChjaGlsZC5zbGljZSh0byAtIHN0YXJ0LCBjaGlsZC5zaXplLCB2aWV3KSlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb24sIE5vZGVTZWxlY3Rpb24sIFRleHRTZWxlY3Rpb259IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwiLi9icm93c2VyXCJcbmltcG9ydCB7ZG9tSW5kZXgsIHNlbGVjdGlvbkNvbGxhcHNlZH0gZnJvbSBcIi4vZG9tXCJcblxuZnVuY3Rpb24gbW92ZVNlbGVjdGlvbkJsb2NrKHN0YXRlLCBkaXIpIHtcbiAgbGV0IHskYW5jaG9yLCAkaGVhZH0gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgbGV0ICRzaWRlID0gZGlyID4gMCA/ICRhbmNob3IubWF4KCRoZWFkKSA6ICRhbmNob3IubWluKCRoZWFkKVxuICBsZXQgJHN0YXJ0ID0gISRzaWRlLnBhcmVudC5pbmxpbmVDb250ZW50ID8gJHNpZGUgOiAkc2lkZS5kZXB0aCA/IHN0YXRlLmRvYy5yZXNvbHZlKGRpciA+IDAgPyAkc2lkZS5hZnRlcigpIDogJHNpZGUuYmVmb3JlKCkpIDogbnVsbFxuICByZXR1cm4gJHN0YXJ0ICYmIFNlbGVjdGlvbi5maW5kRnJvbSgkc3RhcnQsIGRpcilcbn1cblxuZnVuY3Rpb24gYXBwbHkodmlldywgc2VsKSB7XG4gIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oc2VsKS5zY3JvbGxJbnRvVmlldygpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBzZWxlY3RIb3Jpem9udGFsbHkodmlldywgZGlyLCBtb2RzKSB7XG4gIGxldCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvblxuICBpZiAoc2VsIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbikge1xuICAgIGlmICghc2VsLmVtcHR5IHx8IG1vZHMuaW5kZXhPZihcInNcIikgPiAtMSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIGlmICh2aWV3LmVuZE9mVGV4dGJsb2NrKGRpciA+IDAgPyBcInJpZ2h0XCIgOiBcImxlZnRcIikpIHtcbiAgICAgIGxldCBuZXh0ID0gbW92ZVNlbGVjdGlvbkJsb2NrKHZpZXcuc3RhdGUsIGRpcilcbiAgICAgIGlmIChuZXh0ICYmIChuZXh0IGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbikpIHJldHVybiBhcHBseSh2aWV3LCBuZXh0KVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCAkaGVhZCA9IHNlbC4kaGVhZCwgbm9kZSA9ICRoZWFkLnRleHRPZmZzZXQgPyBudWxsIDogZGlyIDwgMCA/ICRoZWFkLm5vZGVCZWZvcmUgOiAkaGVhZC5ub2RlQWZ0ZXIsIGRlc2NcbiAgICAgIGlmICghbm9kZSB8fCBub2RlLmlzVGV4dCkgcmV0dXJuIGZhbHNlXG4gICAgICBsZXQgbm9kZVBvcyA9IGRpciA8IDAgPyAkaGVhZC5wb3MgLSBub2RlLm5vZGVTaXplIDogJGhlYWQucG9zXG4gICAgICBpZiAoIShub2RlLmlzQXRvbSB8fCAoZGVzYyA9IHZpZXcuZG9jVmlldy5kZXNjQXQobm9kZVBvcykpICYmICFkZXNjLmNvbnRlbnRET00pKSByZXR1cm4gZmFsc2VcbiAgICAgIGlmIChOb2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShub2RlKSkge1xuICAgICAgICByZXR1cm4gYXBwbHkodmlldywgbmV3IE5vZGVTZWxlY3Rpb24oZGlyIDwgMCA/IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoJGhlYWQucG9zIC0gbm9kZS5ub2RlU2l6ZSkgOiAkaGVhZCkpXG4gICAgICB9IGVsc2UgaWYgKGJyb3dzZXIud2Via2l0KSB7XG4gICAgICAgIC8vIENocm9tZSBhbmQgU2FmYXJpIHdpbGwgaW50cm9kdWNlIGV4dHJhIHBvaW50bGVzcyBjdXJzb3JcbiAgICAgICAgLy8gcG9zaXRpb25zIGFyb3VuZCBpbmxpbmUgdW5lZGl0YWJsZSBub2Rlcywgc28gd2UgaGF2ZSB0b1xuICAgICAgICAvLyB0YWtlIG92ZXIgYW5kIG1vdmUgdGhlIGN1cnNvciBwYXN0IHRoZW0gKCM5MzcpXG4gICAgICAgIHJldHVybiBhcHBseSh2aWV3LCBuZXcgVGV4dFNlbGVjdGlvbih2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKGRpciA8IDAgPyBub2RlUG9zIDogbm9kZVBvcyArIG5vZGUubm9kZVNpemUpKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChzZWwgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uICYmIHNlbC5ub2RlLmlzSW5saW5lKSB7XG4gICAgcmV0dXJuIGFwcGx5KHZpZXcsIG5ldyBUZXh0U2VsZWN0aW9uKGRpciA+IDAgPyBzZWwuJHRvIDogc2VsLiRmcm9tKSlcbiAgfSBlbHNlIHtcbiAgICBsZXQgbmV4dCA9IG1vdmVTZWxlY3Rpb25CbG9jayh2aWV3LnN0YXRlLCBkaXIpXG4gICAgaWYgKG5leHQpIHJldHVybiBhcHBseSh2aWV3LCBuZXh0KVxuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIG5vZGVMZW4obm9kZSkge1xuICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSAzID8gbm9kZS5ub2RlVmFsdWUubGVuZ3RoIDogbm9kZS5jaGlsZE5vZGVzLmxlbmd0aFxufVxuXG5mdW5jdGlvbiBpc0lnbm9yYWJsZShkb20pIHtcbiAgbGV0IGRlc2MgPSBkb20ucG1WaWV3RGVzY1xuICByZXR1cm4gZGVzYyAmJiBkZXNjLnNpemUgPT0gMCAmJiAoZG9tLm5leHRTaWJsaW5nIHx8IGRvbS5ub2RlTmFtZSAhPSBcIkJSXCIpXG59XG5cbi8vIE1ha2Ugc3VyZSB0aGUgY3Vyc29yIGlzbid0IGRpcmVjdGx5IGFmdGVyIG9uZSBvciBtb3JlIGlnbm9yZWRcbi8vIG5vZGVzLCB3aGljaCB3aWxsIGNvbmZ1c2UgdGhlIGJyb3dzZXIncyBjdXJzb3IgbW90aW9uIGxvZ2ljLlxuZnVuY3Rpb24gc2tpcElnbm9yZWROb2Rlc0xlZnQodmlldykge1xuICBsZXQgc2VsID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpXG4gIGxldCBub2RlID0gc2VsLmZvY3VzTm9kZSwgb2Zmc2V0ID0gc2VsLmZvY3VzT2Zmc2V0XG4gIGlmICghbm9kZSkgcmV0dXJuXG4gIGxldCBtb3ZlTm9kZSwgbW92ZU9mZnNldCwgZm9yY2UgPSBmYWxzZVxuICAvLyBHZWNrbyB3aWxsIGRvIG9kZCB0aGluZ3Mgd2hlbiB0aGUgc2VsZWN0aW9uIGlzIGRpcmVjdGx5IGluIGZyb250XG4gIC8vIG9mIGEgbm9uLWVkaXRhYmxlIG5vZGUsIHNvIGluIHRoYXQgY2FzZSwgbW92ZSBpdCBpbnRvIHRoZSBuZXh0XG4gIC8vIG5vZGUgaWYgcG9zc2libGUuIElzc3VlIHByb3NlbWlycm9yL3Byb3NlbWlycm9yIzgzMi5cbiAgaWYgKGJyb3dzZXIuZ2Vja28gJiYgbm9kZS5ub2RlVHlwZSA9PSAxICYmIG9mZnNldCA8IG5vZGVMZW4obm9kZSkgJiYgaXNJZ25vcmFibGUobm9kZS5jaGlsZE5vZGVzW29mZnNldF0pKSBmb3JjZSA9IHRydWVcbiAgZm9yICg7Oykge1xuICAgIGlmIChvZmZzZXQgPiAwKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgYmVmb3JlID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdXG4gICAgICAgIGlmIChpc0lnbm9yYWJsZShiZWZvcmUpKSB7XG4gICAgICAgICAgbW92ZU5vZGUgPSBub2RlXG4gICAgICAgICAgbW92ZU9mZnNldCA9IC0tb2Zmc2V0XG4gICAgICAgIH0gZWxzZSBpZiAoYmVmb3JlLm5vZGVUeXBlID09IDMpIHtcbiAgICAgICAgICBub2RlID0gYmVmb3JlXG4gICAgICAgICAgb2Zmc2V0ID0gbm9kZS5ub2RlVmFsdWUubGVuZ3RoXG4gICAgICAgIH0gZWxzZSBicmVha1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNCbG9ja05vZGUobm9kZSkpIHtcbiAgICAgIGJyZWFrXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwcmV2ID0gbm9kZS5wcmV2aW91c1NpYmxpbmdcbiAgICAgIHdoaWxlIChwcmV2ICYmIGlzSWdub3JhYmxlKHByZXYpKSB7XG4gICAgICAgIG1vdmVOb2RlID0gbm9kZS5wYXJlbnROb2RlXG4gICAgICAgIG1vdmVPZmZzZXQgPSBkb21JbmRleChwcmV2KVxuICAgICAgICBwcmV2ID0gcHJldi5wcmV2aW91c1NpYmxpbmdcbiAgICAgIH1cbiAgICAgIGlmICghcHJldikge1xuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlXG4gICAgICAgIGlmIChub2RlID09IHZpZXcuZG9tKSBicmVha1xuICAgICAgICBvZmZzZXQgPSAwXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlID0gcHJldlxuICAgICAgICBvZmZzZXQgPSBub2RlTGVuKG5vZGUpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChmb3JjZSkgc2V0U2VsRm9jdXModmlldywgc2VsLCBub2RlLCBvZmZzZXQpXG4gIGVsc2UgaWYgKG1vdmVOb2RlKSBzZXRTZWxGb2N1cyh2aWV3LCBzZWwsIG1vdmVOb2RlLCBtb3ZlT2Zmc2V0KVxufVxuXG4vLyBNYWtlIHN1cmUgdGhlIGN1cnNvciBpc24ndCBkaXJlY3RseSBiZWZvcmUgb25lIG9yIG1vcmUgaWdub3JlZFxuLy8gbm9kZXMuXG5mdW5jdGlvbiBza2lwSWdub3JlZE5vZGVzUmlnaHQodmlldykge1xuICBsZXQgc2VsID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpXG4gIGxldCBub2RlID0gc2VsLmZvY3VzTm9kZSwgb2Zmc2V0ID0gc2VsLmZvY3VzT2Zmc2V0XG4gIGlmICghbm9kZSkgcmV0dXJuXG4gIGxldCBsZW4gPSBub2RlTGVuKG5vZGUpXG4gIGxldCBtb3ZlTm9kZSwgbW92ZU9mZnNldFxuICBmb3IgKDs7KSB7XG4gICAgaWYgKG9mZnNldCA8IGxlbikge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMSkgYnJlYWtcbiAgICAgIGxldCBhZnRlciA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdXG4gICAgICBpZiAoaXNJZ25vcmFibGUoYWZ0ZXIpKSB7XG4gICAgICAgIG1vdmVOb2RlID0gbm9kZVxuICAgICAgICBtb3ZlT2Zmc2V0ID0gKytvZmZzZXRcbiAgICAgIH1cbiAgICAgIGVsc2UgYnJlYWtcbiAgICB9IGVsc2UgaWYgKGlzQmxvY2tOb2RlKG5vZGUpKSB7XG4gICAgICBicmVha1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmdcbiAgICAgIHdoaWxlIChuZXh0ICYmIGlzSWdub3JhYmxlKG5leHQpKSB7XG4gICAgICAgIG1vdmVOb2RlID0gbmV4dC5wYXJlbnROb2RlXG4gICAgICAgIG1vdmVPZmZzZXQgPSBkb21JbmRleChuZXh0KSArIDFcbiAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmdcbiAgICAgIH1cbiAgICAgIGlmICghbmV4dCkge1xuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlXG4gICAgICAgIGlmIChub2RlID09IHZpZXcuZG9tKSBicmVha1xuICAgICAgICBvZmZzZXQgPSBsZW4gPSAwXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlID0gbmV4dFxuICAgICAgICBvZmZzZXQgPSAwXG4gICAgICAgIGxlbiA9IG5vZGVMZW4obm9kZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKG1vdmVOb2RlKSBzZXRTZWxGb2N1cyh2aWV3LCBzZWwsIG1vdmVOb2RlLCBtb3ZlT2Zmc2V0KVxufVxuXG5mdW5jdGlvbiBpc0Jsb2NrTm9kZShkb20pIHtcbiAgbGV0IGRlc2MgPSBkb20ucG1WaWV3RGVzY1xuICByZXR1cm4gZGVzYyAmJiBkZXNjLm5vZGUgJiYgZGVzYy5ub2RlLmlzQmxvY2tcbn1cblxuZnVuY3Rpb24gc2V0U2VsRm9jdXModmlldywgc2VsLCBub2RlLCBvZmZzZXQpIHtcbiAgaWYgKHNlbGVjdGlvbkNvbGxhcHNlZChzZWwpKSB7XG4gICAgbGV0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKVxuICAgIHJhbmdlLnNldEVuZChub2RlLCBvZmZzZXQpXG4gICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgb2Zmc2V0KVxuICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKVxuICAgIHNlbC5hZGRSYW5nZShyYW5nZSlcbiAgfSBlbHNlIGlmIChzZWwuZXh0ZW5kKSB7XG4gICAgc2VsLmV4dGVuZChub2RlLCBvZmZzZXQpXG4gIH1cbiAgdmlldy5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKVxufVxuXG4vLyA6IChFZGl0b3JTdGF0ZSwgbnVtYmVyKVxuLy8gQ2hlY2sgd2hldGhlciB2ZXJ0aWNhbCBzZWxlY3Rpb24gbW90aW9uIHdvdWxkIGludm9sdmUgbm9kZVxuLy8gc2VsZWN0aW9ucy4gSWYgc28sIGFwcGx5IGl0IChpZiBub3QsIHRoZSByZXN1bHQgaXMgbGVmdCB0byB0aGVcbi8vIGJyb3dzZXIpXG5mdW5jdGlvbiBzZWxlY3RWZXJ0aWNhbGx5KHZpZXcsIGRpciwgbW9kcykge1xuICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKHNlbCBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24gJiYgIXNlbC5lbXB0eSB8fCBtb2RzLmluZGV4T2YoXCJzXCIpID4gLTEpIHJldHVybiBmYWxzZVxuICBsZXQgeyRmcm9tLCAkdG99ID0gc2VsXG5cbiAgaWYgKCEkZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudCB8fCB2aWV3LmVuZE9mVGV4dGJsb2NrKGRpciA8IDAgPyBcInVwXCIgOiBcImRvd25cIikpIHtcbiAgICBsZXQgbmV4dCA9IG1vdmVTZWxlY3Rpb25CbG9jayh2aWV3LnN0YXRlLCBkaXIpXG4gICAgaWYgKG5leHQgJiYgKG5leHQgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uKSlcbiAgICAgIHJldHVybiBhcHBseSh2aWV3LCBuZXh0KVxuICB9XG4gIGlmICghJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnQpIHtcbiAgICBsZXQgYmV5b25kID0gU2VsZWN0aW9uLmZpbmRGcm9tKGRpciA8IDAgPyAkZnJvbSA6ICR0bywgZGlyKVxuICAgIHJldHVybiBiZXlvbmQgPyBhcHBseSh2aWV3LCBiZXlvbmQpIDogdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBzdG9wTmF0aXZlSG9yaXpvbnRhbERlbGV0ZSh2aWV3LCBkaXIpIHtcbiAgaWYgKCEodmlldy5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uKSkgcmV0dXJuIHRydWVcbiAgbGV0IHskaGVhZCwgJGFuY2hvciwgZW1wdHl9ID0gdmlldy5zdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKCEkaGVhZC5zYW1lUGFyZW50KCRhbmNob3IpKSByZXR1cm4gdHJ1ZVxuICBpZiAoIWVtcHR5KSByZXR1cm4gZmFsc2VcbiAgaWYgKHZpZXcuZW5kT2ZUZXh0YmxvY2soZGlyID4gMCA/IFwiZm9yd2FyZFwiIDogXCJiYWNrd2FyZFwiKSkgcmV0dXJuIHRydWVcbiAgbGV0IG5leHROb2RlID0gISRoZWFkLnRleHRPZmZzZXQgJiYgKGRpciA8IDAgPyAkaGVhZC5ub2RlQmVmb3JlIDogJGhlYWQubm9kZUFmdGVyKVxuICBpZiAobmV4dE5vZGUgJiYgIW5leHROb2RlLmlzVGV4dCkge1xuICAgIGxldCB0ciA9IHZpZXcuc3RhdGUudHJcbiAgICBpZiAoZGlyIDwgMCkgdHIuZGVsZXRlKCRoZWFkLnBvcyAtIG5leHROb2RlLm5vZGVTaXplLCAkaGVhZC5wb3MpXG4gICAgZWxzZSB0ci5kZWxldGUoJGhlYWQucG9zLCAkaGVhZC5wb3MgKyBuZXh0Tm9kZS5ub2RlU2l6ZSlcbiAgICB2aWV3LmRpc3BhdGNoKHRyKVxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHN3aXRjaEVkaXRhYmxlKHZpZXcsIG5vZGUsIHN0YXRlKSB7XG4gIHZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpXG4gIG5vZGUuY29udGVudEVkaXRhYmxlID0gc3RhdGVcbiAgdmlldy5kb21PYnNlcnZlci5zdGFydCgpXG59XG5cbi8vIElzc3VlICM4NjcgLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05MDM4MjFcbi8vIEluIHdoaWNoIENocm9tZSBkb2VzIHJlYWxseSB3cm9uZyB0aGluZ3Mgd2hlbiB0aGUgZG93biBhcnJvdyBpc1xuLy8gcHJlc3NlZCB3aGVuIHRoZSBjdXJzb3IgaXMgZGlyZWN0bHkgYXQgdGhlIHN0YXJ0IG9mIGEgdGV4dGJsb2NrIGFuZFxuLy8gaGFzIGFuIHVuZWRpdGFibGUgbm9kZSBhZnRlciBpdFxuZnVuY3Rpb24gY2hyb21lRG93bkFycm93QnVnKHZpZXcpIHtcbiAgaWYgKCFicm93c2VyLmNocm9tZSB8fCB2aWV3LnN0YXRlLnNlbGVjdGlvbi4kaGVhZC5wYXJlbnRPZmZzZXQgPiAwKSByZXR1cm5cbiAgbGV0IHtmb2N1c05vZGUsIGZvY3VzT2Zmc2V0fSA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKVxuICBpZiAoZm9jdXNOb2RlICYmIGZvY3VzTm9kZS5ub2RlVHlwZSA9PSAxICYmIGZvY3VzT2Zmc2V0ID09IDAgJiZcbiAgICAgIGZvY3VzTm9kZS5maXJzdENoaWxkICYmIGZvY3VzTm9kZS5maXJzdENoaWxkLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpIHtcbiAgICBsZXQgY2hpbGQgPSBmb2N1c05vZGUuZmlyc3RDaGlsZFxuICAgIHN3aXRjaEVkaXRhYmxlKHZpZXcsIGNoaWxkLCB0cnVlKVxuICAgIHNldFRpbWVvdXQoKCkgPT4gc3dpdGNoRWRpdGFibGUodmlldywgY2hpbGQsIGZhbHNlKSwgMjApXG4gIH1cbn1cblxuLy8gQSBiYWNrZHJvcCBrZXkgbWFwcGluZyB1c2VkIHRvIG1ha2Ugc3VyZSB3ZSBhbHdheXMgc3VwcHJlc3Mga2V5c1xuLy8gdGhhdCBoYXZlIGEgZGFuZ2Vyb3VzIGRlZmF1bHQgZWZmZWN0LCBldmVuIGlmIHRoZSBjb21tYW5kcyB0aGV5IGFyZVxuLy8gYm91bmQgdG8gcmV0dXJuIGZhbHNlLCBhbmQgdG8gbWFrZSBzdXJlIHRoYXQgY3Vyc29yLW1vdGlvbiBrZXlzXG4vLyBmaW5kIGEgY3Vyc29yIChhcyBvcHBvc2VkIHRvIGEgbm9kZSBzZWxlY3Rpb24pIHdoZW4gcHJlc3NlZC4gRm9yXG4vLyBjdXJzb3ItbW90aW9uIGtleXMsIHRoZSBjb2RlIGluIHRoZSBoYW5kbGVycyBhbHNvIHRha2VzIGNhcmUgb2Zcbi8vIGJsb2NrIHNlbGVjdGlvbnMuXG5cbmZ1bmN0aW9uIGdldE1vZHMoZXZlbnQpIHtcbiAgbGV0IHJlc3VsdCA9IFwiXCJcbiAgaWYgKGV2ZW50LmN0cmxLZXkpIHJlc3VsdCArPSBcImNcIlxuICBpZiAoZXZlbnQubWV0YUtleSkgcmVzdWx0ICs9IFwibVwiXG4gIGlmIChldmVudC5hbHRLZXkpIHJlc3VsdCArPSBcImFcIlxuICBpZiAoZXZlbnQuc2hpZnRLZXkpIHJlc3VsdCArPSBcInNcIlxuICByZXR1cm4gcmVzdWx0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYXB0dXJlS2V5RG93bih2aWV3LCBldmVudCkge1xuICBsZXQgY29kZSA9IGV2ZW50LmtleUNvZGUsIG1vZHMgPSBnZXRNb2RzKGV2ZW50KVxuICBpZiAoY29kZSA9PSA4IHx8IChicm93c2VyLm1hYyAmJiBjb2RlID09IDcyICYmIG1vZHMgPT0gXCJjXCIpKSB7IC8vIEJhY2tzcGFjZSwgQ3RybC1oIG9uIE1hY1xuICAgIHJldHVybiBzdG9wTmF0aXZlSG9yaXpvbnRhbERlbGV0ZSh2aWV3LCAtMSkgfHwgc2tpcElnbm9yZWROb2Rlc0xlZnQodmlldylcbiAgfSBlbHNlIGlmIChjb2RlID09IDQ2IHx8IChicm93c2VyLm1hYyAmJiBjb2RlID09IDY4ICYmIG1vZHMgPT0gXCJjXCIpKSB7IC8vIERlbGV0ZSwgQ3RybC1kIG9uIE1hY1xuICAgIHJldHVybiBzdG9wTmF0aXZlSG9yaXpvbnRhbERlbGV0ZSh2aWV3LCAxKSB8fCBza2lwSWdub3JlZE5vZGVzUmlnaHQodmlldylcbiAgfSBlbHNlIGlmICgoY29kZSA9PSAxMyAmJiAhYnJvd3Nlci5pb3MpIHx8IGNvZGUgPT0gMjcpIHsgLy8gRW50ZXIgKGxldCB0aHJvdWdoIG9uIGlPUywgdG8gYXZvaWQga2V5Ym9hcmQgc3luYyBpc3N1ZXMpLCBFc2NcbiAgICByZXR1cm4gdHJ1ZVxuICB9IGVsc2UgaWYgKGNvZGUgPT0gMzcpIHsgLy8gTGVmdCBhcnJvd1xuICAgIHJldHVybiBzZWxlY3RIb3Jpem9udGFsbHkodmlldywgLTEsIG1vZHMpIHx8IHNraXBJZ25vcmVkTm9kZXNMZWZ0KHZpZXcpXG4gIH0gZWxzZSBpZiAoY29kZSA9PSAzOSkgeyAvLyBSaWdodCBhcnJvd1xuICAgIHJldHVybiBzZWxlY3RIb3Jpem9udGFsbHkodmlldywgMSwgbW9kcykgfHwgc2tpcElnbm9yZWROb2Rlc1JpZ2h0KHZpZXcpXG4gIH0gZWxzZSBpZiAoY29kZSA9PSAzOCkgeyAvLyBVcCBhcnJvd1xuICAgIHJldHVybiBzZWxlY3RWZXJ0aWNhbGx5KHZpZXcsIC0xLCBtb2RzKSB8fCBza2lwSWdub3JlZE5vZGVzTGVmdCh2aWV3KVxuICB9IGVsc2UgaWYgKGNvZGUgPT0gNDApIHsgLy8gRG93biBhcnJvd1xuICAgIHJldHVybiBjaHJvbWVEb3duQXJyb3dCdWcodmlldykgfHwgc2VsZWN0VmVydGljYWxseSh2aWV3LCAxLCBtb2RzKSB8fCBza2lwSWdub3JlZE5vZGVzUmlnaHQodmlldylcbiAgfSBlbHNlIGlmIChtb2RzID09IChicm93c2VyLm1hYyA/IFwibVwiIDogXCJjXCIpICYmXG4gICAgICAgICAgICAgKGNvZGUgPT0gNjYgfHwgY29kZSA9PSA3MyB8fCBjb2RlID09IDg5IHx8IGNvZGUgPT0gOTApKSB7IC8vIE1vZC1bYml5el1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuIiwiaW1wb3J0IHtGcmFnbWVudCwgRE9NUGFyc2VyfSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuaW1wb3J0IHtTZWxlY3Rpb24sIFRleHRTZWxlY3Rpb259IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiXG5cbmltcG9ydCB7c2VsZWN0aW9uQmV0d2Vlbiwgc2VsZWN0aW9uRnJvbURPTSwgc2VsZWN0aW9uVG9ET019IGZyb20gXCIuL3NlbGVjdGlvblwiXG5pbXBvcnQge3NlbGVjdGlvbkNvbGxhcHNlZCwga2V5RXZlbnR9IGZyb20gXCIuL2RvbVwiXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwiLi9icm93c2VyXCJcblxuLy8gTm90ZSB0aGF0IGFsbCByZWZlcmVuY2luZyBhbmQgcGFyc2luZyBpcyBkb25lIHdpdGggdGhlXG4vLyBzdGFydC1vZi1vcGVyYXRpb24gc2VsZWN0aW9uIGFuZCBkb2N1bWVudCwgc2luY2UgdGhhdCdzIHRoZSBvbmVcbi8vIHRoYXQgdGhlIERPTSByZXByZXNlbnRzLiBJZiBhbnkgY2hhbmdlcyBjYW1lIGluIGluIHRoZSBtZWFudGltZSxcbi8vIHRoZSBtb2RpZmljYXRpb24gaXMgbWFwcGVkIG92ZXIgdGhvc2UgYmVmb3JlIGl0IGlzIGFwcGxpZWQsIGluXG4vLyByZWFkRE9NQ2hhbmdlLlxuXG5mdW5jdGlvbiBwYXJzZUJldHdlZW4odmlldywgZnJvbV8sIHRvXykge1xuICBsZXQge25vZGU6IHBhcmVudCwgZnJvbU9mZnNldCwgdG9PZmZzZXQsIGZyb20sIHRvfSA9IHZpZXcuZG9jVmlldy5wYXJzZVJhbmdlKGZyb21fLCB0b18pXG5cbiAgbGV0IGRvbVNlbCA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSwgZmluZCA9IG51bGwsIGFuY2hvciA9IGRvbVNlbC5hbmNob3JOb2RlXG4gIGlmIChhbmNob3IgJiYgdmlldy5kb20uY29udGFpbnMoYW5jaG9yLm5vZGVUeXBlID09IDEgPyBhbmNob3IgOiBhbmNob3IucGFyZW50Tm9kZSkpIHtcbiAgICBmaW5kID0gW3tub2RlOiBhbmNob3IsIG9mZnNldDogZG9tU2VsLmFuY2hvck9mZnNldH1dXG4gICAgaWYgKCFzZWxlY3Rpb25Db2xsYXBzZWQoZG9tU2VsKSlcbiAgICAgIGZpbmQucHVzaCh7bm9kZTogZG9tU2VsLmZvY3VzTm9kZSwgb2Zmc2V0OiBkb21TZWwuZm9jdXNPZmZzZXR9KVxuICB9XG4gIC8vIFdvcmsgYXJvdW5kIGlzc3VlIGluIENocm9tZSB3aGVyZSBiYWNrc3BhY2luZyBzb21ldGltZXMgcmVwbGFjZXNcbiAgLy8gdGhlIGRlbGV0ZWQgY29udGVudCB3aXRoIGEgcmFuZG9tIEJSIG5vZGUgKGlzc3VlcyAjNzk5LCAjODMxKVxuICBpZiAoYnJvd3Nlci5jaHJvbWUgJiYgdmlldy5sYXN0S2V5Q29kZSA9PT0gOCkge1xuICAgIGZvciAobGV0IG9mZiA9IHRvT2Zmc2V0OyBvZmYgPiBmcm9tT2Zmc2V0OyBvZmYtLSkge1xuICAgICAgbGV0IG5vZGUgPSBwYXJlbnQuY2hpbGROb2Rlc1tvZmYgLSAxXSwgZGVzYyA9IG5vZGUucG1WaWV3RGVzY1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gXCJCUlwiICYmICFkZXNjKSB7IHRvT2Zmc2V0ID0gb2ZmOyBicmVhayB9XG4gICAgICBpZiAoIWRlc2MgfHwgZGVzYy5zaXplKSBicmVha1xuICAgIH1cbiAgfVxuICBsZXQgc3RhcnREb2MgPSB2aWV3LnN0YXRlLmRvY1xuICBsZXQgcGFyc2VyID0gdmlldy5zb21lUHJvcChcImRvbVBhcnNlclwiKSB8fCBET01QYXJzZXIuZnJvbVNjaGVtYSh2aWV3LnN0YXRlLnNjaGVtYSlcbiAgbGV0ICRmcm9tID0gc3RhcnREb2MucmVzb2x2ZShmcm9tKVxuXG4gIGxldCBzZWwgPSBudWxsLCBkb2MgPSBwYXJzZXIucGFyc2UocGFyZW50LCB7XG4gICAgdG9wTm9kZTogJGZyb20ucGFyZW50LFxuICAgIHRvcE1hdGNoOiAkZnJvbS5wYXJlbnQuY29udGVudE1hdGNoQXQoJGZyb20uaW5kZXgoKSksXG4gICAgdG9wT3BlbjogdHJ1ZSxcbiAgICBmcm9tOiBmcm9tT2Zmc2V0LFxuICAgIHRvOiB0b09mZnNldCxcbiAgICBwcmVzZXJ2ZVdoaXRlc3BhY2U6ICRmcm9tLnBhcmVudC50eXBlLnNwZWMuY29kZSA/IFwiZnVsbFwiIDogdHJ1ZSxcbiAgICBlZGl0YWJsZUNvbnRlbnQ6IHRydWUsXG4gICAgZmluZFBvc2l0aW9uczogZmluZCxcbiAgICBydWxlRnJvbU5vZGUsXG4gICAgY29udGV4dDogJGZyb21cbiAgfSlcbiAgaWYgKGZpbmQgJiYgZmluZFswXS5wb3MgIT0gbnVsbCkge1xuICAgIGxldCBhbmNob3IgPSBmaW5kWzBdLnBvcywgaGVhZCA9IGZpbmRbMV0gJiYgZmluZFsxXS5wb3NcbiAgICBpZiAoaGVhZCA9PSBudWxsKSBoZWFkID0gYW5jaG9yXG4gICAgc2VsID0ge2FuY2hvcjogYW5jaG9yICsgZnJvbSwgaGVhZDogaGVhZCArIGZyb219XG4gIH1cbiAgcmV0dXJuIHtkb2MsIHNlbCwgZnJvbSwgdG99XG59XG5cbmZ1bmN0aW9uIHJ1bGVGcm9tTm9kZShkb20pIHtcbiAgbGV0IGRlc2MgPSBkb20ucG1WaWV3RGVzY1xuICBpZiAoZGVzYykge1xuICAgIHJldHVybiBkZXNjLnBhcnNlUnVsZSgpXG4gIH0gZWxzZSBpZiAoZG9tLm5vZGVOYW1lID09IFwiQlJcIiAmJiBkb20ucGFyZW50Tm9kZSkge1xuICAgIC8vIFNhZmFyaSByZXBsYWNlcyB0aGUgbGlzdCBpdGVtIG9yIHRhYmxlIGNlbGwgd2l0aCBhIEJSXG4gICAgLy8gZGlyZWN0bHkgaW4gdGhlIGxpc3Qgbm9kZSAoPyEpIGlmIHlvdSBkZWxldGUgdGhlIGxhc3RcbiAgICAvLyBjaGFyYWN0ZXIgaW4gYSBsaXN0IGl0ZW0gb3IgdGFibGUgY2VsbCAoIzcwOCwgIzg2MilcbiAgICBpZiAoYnJvd3Nlci5zYWZhcmkgJiYgL14odWx8b2wpJC9pLnRlc3QoZG9tLnBhcmVudE5vZGUubm9kZU5hbWUpKSB7XG4gICAgICBsZXQgc2tpcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgIHNraXAuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpKVxuICAgICAgcmV0dXJuIHtza2lwfVxuICAgIH0gZWxzZSBpZiAoZG9tLnBhcmVudE5vZGUubGFzdENoaWxkID09IGRvbSB8fCBicm93c2VyLnNhZmFyaSAmJiAvXih0cnx0YWJsZSkkL2kudGVzdChkb20ucGFyZW50Tm9kZS5ub2RlTmFtZSkpIHtcbiAgICAgIHJldHVybiB7aWdub3JlOiB0cnVlfVxuICAgIH1cbiAgfSBlbHNlIGlmIChkb20ubm9kZU5hbWUgPT0gXCJJTUdcIiAmJiBkb20uZ2V0QXR0cmlidXRlKFwibWFyay1wbGFjZWhvbGRlclwiKSkge1xuICAgIHJldHVybiB7aWdub3JlOiB0cnVlfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkRE9NQ2hhbmdlKHZpZXcsIGZyb20sIHRvLCB0eXBlT3ZlciwgYWRkZWROb2Rlcykge1xuICBpZiAoZnJvbSA8IDApIHtcbiAgICBsZXQgb3JpZ2luID0gdmlldy5sYXN0U2VsZWN0aW9uVGltZSA+IERhdGUubm93KCkgLSA1MCA/IHZpZXcubGFzdFNlbGVjdGlvbk9yaWdpbiA6IG51bGxcbiAgICBsZXQgbmV3U2VsID0gc2VsZWN0aW9uRnJvbURPTSh2aWV3LCBvcmlnaW4pXG4gICAgaWYgKCF2aWV3LnN0YXRlLnNlbGVjdGlvbi5lcShuZXdTZWwpKSB7XG4gICAgICBsZXQgdHIgPSB2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihuZXdTZWwpXG4gICAgICBpZiAob3JpZ2luID09IFwicG9pbnRlclwiKSB0ci5zZXRNZXRhKFwicG9pbnRlclwiLCB0cnVlKVxuICAgICAgZWxzZSBpZiAob3JpZ2luID09IFwia2V5XCIpIHRyLnNjcm9sbEludG9WaWV3KClcbiAgICAgIHZpZXcuZGlzcGF0Y2godHIpXG4gICAgfVxuICAgIHJldHVyblxuICB9XG5cbiAgbGV0ICRiZWZvcmUgPSB2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKGZyb20pXG4gIGxldCBzaGFyZWQgPSAkYmVmb3JlLnNoYXJlZERlcHRoKHRvKVxuICBmcm9tID0gJGJlZm9yZS5iZWZvcmUoc2hhcmVkICsgMSlcbiAgdG8gPSB2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKHRvKS5hZnRlcihzaGFyZWQgKyAxKVxuXG4gIGxldCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvblxuICBsZXQgcGFyc2UgPSBwYXJzZUJldHdlZW4odmlldywgZnJvbSwgdG8pXG5cbiAgbGV0IGRvYyA9IHZpZXcuc3RhdGUuZG9jLCBjb21wYXJlID0gZG9jLnNsaWNlKHBhcnNlLmZyb20sIHBhcnNlLnRvKVxuICBsZXQgcHJlZmVycmVkUG9zLCBwcmVmZXJyZWRTaWRlXG4gIC8vIFByZWZlciBhbmNob3JpbmcgdG8gZW5kIHdoZW4gQmFja3NwYWNlIGlzIHByZXNzZWRcbiAgaWYgKHZpZXcubGFzdEtleUNvZGUgPT09IDggJiYgRGF0ZS5ub3coKSAtIDEwMCA8IHZpZXcubGFzdEtleUNvZGVUaW1lKSB7XG4gICAgcHJlZmVycmVkUG9zID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24udG9cbiAgICBwcmVmZXJyZWRTaWRlID0gXCJlbmRcIlxuICB9IGVsc2Uge1xuICAgIHByZWZlcnJlZFBvcyA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb21cbiAgICBwcmVmZXJyZWRTaWRlID0gXCJzdGFydFwiXG4gIH1cbiAgdmlldy5sYXN0S2V5Q29kZSA9IG51bGxcblxuICBsZXQgY2hhbmdlID0gZmluZERpZmYoY29tcGFyZS5jb250ZW50LCBwYXJzZS5kb2MuY29udGVudCwgcGFyc2UuZnJvbSwgcHJlZmVycmVkUG9zLCBwcmVmZXJyZWRTaWRlKVxuICBpZiAoIWNoYW5nZSkge1xuICAgIGlmICh0eXBlT3ZlciAmJiBzZWwgaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uICYmICFzZWwuZW1wdHkgJiYgc2VsLiRoZWFkLnNhbWVQYXJlbnQoc2VsLiRhbmNob3IpICYmXG4gICAgICAgICF2aWV3LmNvbXBvc2luZyAmJiAhKHBhcnNlLnNlbCAmJiBwYXJzZS5zZWwuYW5jaG9yICE9IHBhcnNlLnNlbC5oZWFkKSkge1xuICAgICAgY2hhbmdlID0ge3N0YXJ0OiBzZWwuZnJvbSwgZW5kQTogc2VsLnRvLCBlbmRCOiBzZWwudG99XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwYXJzZS5zZWwpIHtcbiAgICAgICAgbGV0IHNlbCA9IHJlc29sdmVTZWxlY3Rpb24odmlldywgdmlldy5zdGF0ZS5kb2MsIHBhcnNlLnNlbClcbiAgICAgICAgaWYgKHNlbCAmJiAhc2VsLmVxKHZpZXcuc3RhdGUuc2VsZWN0aW9uKSkgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihzZWwpKVxuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuICB9XG4gIHZpZXcuZG9tQ2hhbmdlQ291bnQrK1xuICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgb3ZlcndyaXRpbmcgYSBzZWxlY3Rpb24gYnkgdHlwaW5nIG1hdGNoZXNcbiAgLy8gdGhlIHN0YXJ0IG9yIGVuZCBvZiB0aGUgc2VsZWN0ZWQgY29udGVudCwgY3JlYXRpbmcgYSBjaGFuZ2VcbiAgLy8gdGhhdCdzIHNtYWxsZXIgdGhhbiB3aGF0IHdhcyBhY3R1YWxseSBvdmVyd3JpdHRlbi5cbiAgaWYgKHZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb20gPCB2aWV3LnN0YXRlLnNlbGVjdGlvbi50byAmJlxuICAgICAgY2hhbmdlLnN0YXJ0ID09IGNoYW5nZS5lbmRCICYmXG4gICAgICB2aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24pIHtcbiAgICBpZiAoY2hhbmdlLnN0YXJ0ID4gdmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbSAmJiBjaGFuZ2Uuc3RhcnQgPD0gdmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbSArIDIpIHtcbiAgICAgIGNoYW5nZS5zdGFydCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb21cbiAgICB9IGVsc2UgaWYgKGNoYW5nZS5lbmRBIDwgdmlldy5zdGF0ZS5zZWxlY3Rpb24udG8gJiYgY2hhbmdlLmVuZEEgPj0gdmlldy5zdGF0ZS5zZWxlY3Rpb24udG8gLSAyKSB7XG4gICAgICBjaGFuZ2UuZW5kQiArPSAodmlldy5zdGF0ZS5zZWxlY3Rpb24udG8gLSBjaGFuZ2UuZW5kQSlcbiAgICAgIGNoYW5nZS5lbmRBID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24udG9cbiAgICB9XG4gIH1cblxuICAvLyBJRTExIHdpbGwgaW5zZXJ0IGEgbm9uLWJyZWFraW5nIHNwYWNlIF9haGVhZF8gb2YgdGhlIHNwYWNlIGFmdGVyXG4gIC8vIHRoZSBjdXJzb3Igc3BhY2Ugd2hlbiBhZGRpbmcgYSBzcGFjZSBiZWZvcmUgYW5vdGhlciBzcGFjZS4gV2hlblxuICAvLyB0aGF0IGhhcHBlbmVkLCBhZGp1c3QgdGhlIGNoYW5nZSB0byBjb3ZlciB0aGUgc3BhY2UgaW5zdGVhZC5cbiAgaWYgKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDw9IDExICYmIGNoYW5nZS5lbmRCID09IGNoYW5nZS5zdGFydCArIDEgJiZcbiAgICAgIGNoYW5nZS5lbmRBID09IGNoYW5nZS5zdGFydCAmJiBjaGFuZ2Uuc3RhcnQgPiBwYXJzZS5mcm9tICYmXG4gICAgICBwYXJzZS5kb2MudGV4dEJldHdlZW4oY2hhbmdlLnN0YXJ0IC0gcGFyc2UuZnJvbSAtIDEsIGNoYW5nZS5zdGFydCAtIHBhcnNlLmZyb20gKyAxKSA9PSBcIiBcXHUwMGEwXCIpIHtcbiAgICBjaGFuZ2Uuc3RhcnQtLVxuICAgIGNoYW5nZS5lbmRBLS1cbiAgICBjaGFuZ2UuZW5kQi0tXG4gIH1cblxuICBsZXQgJGZyb20gPSBwYXJzZS5kb2MucmVzb2x2ZU5vQ2FjaGUoY2hhbmdlLnN0YXJ0IC0gcGFyc2UuZnJvbSlcbiAgbGV0ICR0byA9IHBhcnNlLmRvYy5yZXNvbHZlTm9DYWNoZShjaGFuZ2UuZW5kQiAtIHBhcnNlLmZyb20pXG4gIGxldCBuZXh0U2VsXG4gIC8vIElmIHRoaXMgbG9va3MgbGlrZSB0aGUgZWZmZWN0IG9mIHByZXNzaW5nIEVudGVyIChvciB3YXMgcmVjb3JkZWRcbiAgLy8gYXMgYmVpbmcgYW4gaU9TIGVudGVyIHByZXNzKSwganVzdCBkaXNwYXRjaCBhbiBFbnRlciBrZXkgaW5zdGVhZC5cbiAgaWYgKCgoYnJvd3Nlci5pb3MgJiYgdmlldy5sYXN0SU9TRW50ZXIgPiBEYXRlLm5vdygpIC0gMTAwICYmXG4gICAgICAgICghJGZyb20uc2FtZVBhcmVudCgkdG8pIHx8IGFkZGVkTm9kZXMuc29tZShuID0+IG4ubm9kZU5hbWUgPT0gXCJESVZcIikpKSB8fFxuICAgICAgICghJGZyb20uc2FtZVBhcmVudCgkdG8pICYmICRmcm9tLnBvcyA8IHBhcnNlLmRvYy5jb250ZW50LnNpemUgJiZcbiAgICAgICAgKG5leHRTZWwgPSBTZWxlY3Rpb24uZmluZEZyb20ocGFyc2UuZG9jLnJlc29sdmUoJGZyb20ucG9zICsgMSksIDEsIHRydWUpKSAmJlxuICAgICAgICBuZXh0U2VsLmhlYWQgPT0gJHRvLnBvcykpICYmXG4gICAgICB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlS2V5RG93blwiLCBmID0+IGYodmlldywga2V5RXZlbnQoMTMsIFwiRW50ZXJcIikpKSkge1xuICAgIHZpZXcubGFzdElPU0VudGVyID0gMFxuICAgIHJldHVyblxuICB9XG4gIC8vIFNhbWUgZm9yIGJhY2tzcGFjZVxuICBpZiAodmlldy5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yID4gY2hhbmdlLnN0YXJ0ICYmXG4gICAgICBsb29rc0xpa2VKb2luKGRvYywgY2hhbmdlLnN0YXJ0LCBjaGFuZ2UuZW5kQSwgJGZyb20sICR0bykgJiZcbiAgICAgIHZpZXcuc29tZVByb3AoXCJoYW5kbGVLZXlEb3duXCIsIGYgPT4gZih2aWV3LCBrZXlFdmVudCg4LCBcIkJhY2tzcGFjZVwiKSkpKSB7XG4gICAgaWYgKGJyb3dzZXIuYW5kcm9pZCAmJiBicm93c2VyLmNocm9tZSkgdmlldy5kb21PYnNlcnZlci5zdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMoKSAvLyAjODIwXG4gICAgcmV0dXJuXG4gIH1cblxuICBsZXQgY2hGcm9tID0gY2hhbmdlLnN0YXJ0LCBjaFRvID0gY2hhbmdlLmVuZEFcblxuICBsZXQgdHIsIHN0b3JlZE1hcmtzLCBtYXJrQ2hhbmdlLCAkZnJvbTFcbiAgaWYgKCRmcm9tLnNhbWVQYXJlbnQoJHRvKSAmJiAkZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudCkge1xuICAgIGlmICgkZnJvbS5wb3MgPT0gJHRvLnBvcykgeyAvLyBEZWxldGlvblxuICAgICAgLy8gSUUxMSBzb21ldGltZXMgd2VpcmRseSBtb3ZlcyB0aGUgRE9NIHNlbGVjdGlvbiBhcm91bmQgYWZ0ZXJcbiAgICAgIC8vIGJhY2tzcGFjaW5nIG91dCB0aGUgZmlyc3QgZWxlbWVudCBpbiBhIHRleHRibG9ja1xuICAgICAgaWYgKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDw9IDExICYmICRmcm9tLnBhcmVudE9mZnNldCA9PSAwKSB7XG4gICAgICAgIHZpZXcuZG9tT2JzZXJ2ZXIuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKClcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZWxlY3Rpb25Ub0RPTSh2aWV3KSwgMjApXG4gICAgICB9XG4gICAgICB0ciA9IHZpZXcuc3RhdGUudHIuZGVsZXRlKGNoRnJvbSwgY2hUbylcbiAgICAgIHN0b3JlZE1hcmtzID0gZG9jLnJlc29sdmUoY2hhbmdlLnN0YXJ0KS5tYXJrc0Fjcm9zcyhkb2MucmVzb2x2ZShjaGFuZ2UuZW5kQSkpXG4gICAgfSBlbHNlIGlmICggLy8gQWRkaW5nIG9yIHJlbW92aW5nIGEgbWFya1xuICAgICAgY2hhbmdlLmVuZEEgPT0gY2hhbmdlLmVuZEIgJiYgKCRmcm9tMSA9IGRvYy5yZXNvbHZlKGNoYW5nZS5zdGFydCkpICYmXG4gICAgICAobWFya0NoYW5nZSA9IGlzTWFya0NoYW5nZSgkZnJvbS5wYXJlbnQuY29udGVudC5jdXQoJGZyb20ucGFyZW50T2Zmc2V0LCAkdG8ucGFyZW50T2Zmc2V0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmcm9tMS5wYXJlbnQuY29udGVudC5jdXQoJGZyb20xLnBhcmVudE9mZnNldCwgY2hhbmdlLmVuZEEgLSAkZnJvbTEuc3RhcnQoKSkpKVxuICAgICkge1xuICAgICAgdHIgPSB2aWV3LnN0YXRlLnRyXG4gICAgICBpZiAobWFya0NoYW5nZS50eXBlID09IFwiYWRkXCIpIHRyLmFkZE1hcmsoY2hGcm9tLCBjaFRvLCBtYXJrQ2hhbmdlLm1hcmspXG4gICAgICBlbHNlIHRyLnJlbW92ZU1hcmsoY2hGcm9tLCBjaFRvLCBtYXJrQ2hhbmdlLm1hcmspXG4gICAgfSBlbHNlIGlmICgkZnJvbS5wYXJlbnQuY2hpbGQoJGZyb20uaW5kZXgoKSkuaXNUZXh0ICYmICRmcm9tLmluZGV4KCkgPT0gJHRvLmluZGV4KCkgLSAoJHRvLnRleHRPZmZzZXQgPyAwIDogMSkpIHtcbiAgICAgIC8vIEJvdGggcG9zaXRpb25zIGluIHRoZSBzYW1lIHRleHQgbm9kZSAtLSBzaW1wbHkgaW5zZXJ0IHRleHRcbiAgICAgIGxldCB0ZXh0ID0gJGZyb20ucGFyZW50LnRleHRCZXR3ZWVuKCRmcm9tLnBhcmVudE9mZnNldCwgJHRvLnBhcmVudE9mZnNldClcbiAgICAgIGlmICh2aWV3LnNvbWVQcm9wKFwiaGFuZGxlVGV4dElucHV0XCIsIGYgPT4gZih2aWV3LCBjaEZyb20sIGNoVG8sIHRleHQpKSkgcmV0dXJuXG4gICAgICB0ciA9IHZpZXcuc3RhdGUudHIuaW5zZXJ0VGV4dCh0ZXh0LCBjaEZyb20sIGNoVG8pXG4gICAgfVxuICB9XG5cbiAgaWYgKCF0cilcbiAgICB0ciA9IHZpZXcuc3RhdGUudHIucmVwbGFjZShjaEZyb20sIGNoVG8sIHBhcnNlLmRvYy5zbGljZShjaGFuZ2Uuc3RhcnQgLSBwYXJzZS5mcm9tLCBjaGFuZ2UuZW5kQiAtIHBhcnNlLmZyb20pKVxuICBpZiAocGFyc2Uuc2VsKSB7XG4gICAgbGV0IHNlbCA9IHJlc29sdmVTZWxlY3Rpb24odmlldywgdHIuZG9jLCBwYXJzZS5zZWwpXG4gICAgLy8gQ2hyb21lIEFuZHJvaWQgd2lsbCBzb21ldGltZXMsIGR1cmluZyBjb21wb3NpdGlvbiwgcmVwb3J0IHRoZVxuICAgIC8vIHNlbGVjdGlvbiBpbiB0aGUgd3JvbmcgcGxhY2UuIElmIGl0IGxvb2tzIGxpa2UgdGhhdCBpc1xuICAgIC8vIGhhcHBlbmluZywgZG9uJ3QgdXBkYXRlIHRoZSBzZWxlY3Rpb24uXG4gICAgLy8gRWRnZSBqdXN0IGRvZXNuJ3QgbW92ZSB0aGUgY3Vyc29yIGZvcndhcmQgd2hlbiB5b3Ugc3RhcnQgdHlwaW5nXG4gICAgLy8gaW4gYW4gZW1wdHkgYmxvY2sgb3IgYmV0d2VlbiBiciBub2Rlcy5cbiAgICBpZiAoc2VsICYmICEoYnJvd3Nlci5jaHJvbWUgJiYgYnJvd3Nlci5hbmRyb2lkICYmIHZpZXcuY29tcG9zaW5nICYmIHNlbC5lbXB0eSAmJiBzZWwuaGVhZCA9PSBjaEZyb20gfHxcbiAgICAgICAgICAgICAgICAgYnJvd3Nlci5pZSAmJiBzZWwuZW1wdHkgJiYgc2VsLmhlYWQgPT0gY2hGcm9tKSlcbiAgICAgIHRyLnNldFNlbGVjdGlvbihzZWwpXG4gIH1cbiAgaWYgKHN0b3JlZE1hcmtzKSB0ci5lbnN1cmVNYXJrcyhzdG9yZWRNYXJrcylcbiAgdmlldy5kaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKVxufVxuXG5mdW5jdGlvbiByZXNvbHZlU2VsZWN0aW9uKHZpZXcsIGRvYywgcGFyc2VkU2VsKSB7XG4gIGlmIChNYXRoLm1heChwYXJzZWRTZWwuYW5jaG9yLCBwYXJzZWRTZWwuaGVhZCkgPiBkb2MuY29udGVudC5zaXplKSByZXR1cm4gbnVsbFxuICByZXR1cm4gc2VsZWN0aW9uQmV0d2Vlbih2aWV3LCBkb2MucmVzb2x2ZShwYXJzZWRTZWwuYW5jaG9yKSwgZG9jLnJlc29sdmUocGFyc2VkU2VsLmhlYWQpKVxufVxuXG4vLyA6IChGcmFnbWVudCwgRnJhZ21lbnQpIOKGkiA/e21hcms6IE1hcmssIHR5cGU6IHN0cmluZ31cbi8vIEdpdmVuIHR3byBzYW1lLWxlbmd0aCwgbm9uLWVtcHR5IGZyYWdtZW50cyBvZiBpbmxpbmUgY29udGVudCxcbi8vIGRldGVybWluZSB3aGV0aGVyIHRoZSBmaXJzdCBjb3VsZCBiZSBjcmVhdGVkIGZyb20gdGhlIHNlY29uZCBieVxuLy8gcmVtb3Zpbmcgb3IgYWRkaW5nIGEgc2luZ2xlIG1hcmsgdHlwZS5cbmZ1bmN0aW9uIGlzTWFya0NoYW5nZShjdXIsIHByZXYpIHtcbiAgbGV0IGN1ck1hcmtzID0gY3VyLmZpcnN0Q2hpbGQubWFya3MsIHByZXZNYXJrcyA9IHByZXYuZmlyc3RDaGlsZC5tYXJrc1xuICBsZXQgYWRkZWQgPSBjdXJNYXJrcywgcmVtb3ZlZCA9IHByZXZNYXJrcywgdHlwZSwgbWFyaywgdXBkYXRlXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldk1hcmtzLmxlbmd0aDsgaSsrKSBhZGRlZCA9IHByZXZNYXJrc1tpXS5yZW1vdmVGcm9tU2V0KGFkZGVkKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGN1ck1hcmtzLmxlbmd0aDsgaSsrKSByZW1vdmVkID0gY3VyTWFya3NbaV0ucmVtb3ZlRnJvbVNldChyZW1vdmVkKVxuICBpZiAoYWRkZWQubGVuZ3RoID09IDEgJiYgcmVtb3ZlZC5sZW5ndGggPT0gMCkge1xuICAgIG1hcmsgPSBhZGRlZFswXVxuICAgIHR5cGUgPSBcImFkZFwiXG4gICAgdXBkYXRlID0gbm9kZSA9PiBub2RlLm1hcmsobWFyay5hZGRUb1NldChub2RlLm1hcmtzKSlcbiAgfSBlbHNlIGlmIChhZGRlZC5sZW5ndGggPT0gMCAmJiByZW1vdmVkLmxlbmd0aCA9PSAxKSB7XG4gICAgbWFyayA9IHJlbW92ZWRbMF1cbiAgICB0eXBlID0gXCJyZW1vdmVcIlxuICAgIHVwZGF0ZSA9IG5vZGUgPT4gbm9kZS5tYXJrKG1hcmsucmVtb3ZlRnJvbVNldChub2RlLm1hcmtzKSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIGxldCB1cGRhdGVkID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2LmNoaWxkQ291bnQ7IGkrKykgdXBkYXRlZC5wdXNoKHVwZGF0ZShwcmV2LmNoaWxkKGkpKSlcbiAgaWYgKEZyYWdtZW50LmZyb20odXBkYXRlZCkuZXEoY3VyKSkgcmV0dXJuIHttYXJrLCB0eXBlfVxufVxuXG5mdW5jdGlvbiBsb29rc0xpa2VKb2luKG9sZCwgc3RhcnQsIGVuZCwgJG5ld1N0YXJ0LCAkbmV3RW5kKSB7XG4gIGlmICghJG5ld1N0YXJ0LnBhcmVudC5pc1RleHRibG9jayB8fFxuICAgICAgLy8gVGhlIGNvbnRlbnQgbXVzdCBoYXZlIHNocnVua1xuICAgICAgZW5kIC0gc3RhcnQgPD0gJG5ld0VuZC5wb3MgLSAkbmV3U3RhcnQucG9zIHx8XG4gICAgICAvLyBuZXdFbmQgbXVzdCBwb2ludCBkaXJlY3RseSBhdCBvciBhZnRlciB0aGUgZW5kIG9mIHRoZSBibG9jayB0aGF0IG5ld1N0YXJ0IHBvaW50cyBpbnRvXG4gICAgICBza2lwQ2xvc2luZ0FuZE9wZW5pbmcoJG5ld1N0YXJ0LCB0cnVlLCBmYWxzZSkgPCAkbmV3RW5kLnBvcylcbiAgICByZXR1cm4gZmFsc2VcblxuICBsZXQgJHN0YXJ0ID0gb2xkLnJlc29sdmUoc3RhcnQpXG4gIC8vIFN0YXJ0IG11c3QgYmUgYXQgdGhlIGVuZCBvZiBhIGJsb2NrXG4gIGlmICgkc3RhcnQucGFyZW50T2Zmc2V0IDwgJHN0YXJ0LnBhcmVudC5jb250ZW50LnNpemUgfHwgISRzdGFydC5wYXJlbnQuaXNUZXh0YmxvY2spXG4gICAgcmV0dXJuIGZhbHNlXG4gIGxldCAkbmV4dCA9IG9sZC5yZXNvbHZlKHNraXBDbG9zaW5nQW5kT3BlbmluZygkc3RhcnQsIHRydWUsIHRydWUpKVxuICAvLyBUaGUgbmV4dCB0ZXh0YmxvY2sgbXVzdCBzdGFydCBiZWZvcmUgZW5kIGFuZCBlbmQgbmVhciBpdFxuICBpZiAoISRuZXh0LnBhcmVudC5pc1RleHRibG9jayB8fCAkbmV4dC5wb3MgPiBlbmQgfHxcbiAgICAgIHNraXBDbG9zaW5nQW5kT3BlbmluZygkbmV4dCwgdHJ1ZSwgZmFsc2UpIDwgZW5kKVxuICAgIHJldHVybiBmYWxzZVxuXG4gIC8vIFRoZSBmcmFnbWVudHMgYWZ0ZXIgdGhlIGpvaW4gcG9pbnQgbXVzdCBtYXRjaFxuICByZXR1cm4gJG5ld1N0YXJ0LnBhcmVudC5jb250ZW50LmN1dCgkbmV3U3RhcnQucGFyZW50T2Zmc2V0KS5lcSgkbmV4dC5wYXJlbnQuY29udGVudClcbn1cblxuZnVuY3Rpb24gc2tpcENsb3NpbmdBbmRPcGVuaW5nKCRwb3MsIGZyb21FbmQsIG1heU9wZW4pIHtcbiAgbGV0IGRlcHRoID0gJHBvcy5kZXB0aCwgZW5kID0gZnJvbUVuZCA/ICRwb3MuZW5kKCkgOiAkcG9zLnBvc1xuICB3aGlsZSAoZGVwdGggPiAwICYmIChmcm9tRW5kIHx8ICRwb3MuaW5kZXhBZnRlcihkZXB0aCkgPT0gJHBvcy5ub2RlKGRlcHRoKS5jaGlsZENvdW50KSkge1xuICAgIGRlcHRoLS1cbiAgICBlbmQrK1xuICAgIGZyb21FbmQgPSBmYWxzZVxuICB9XG4gIGlmIChtYXlPcGVuKSB7XG4gICAgbGV0IG5leHQgPSAkcG9zLm5vZGUoZGVwdGgpLm1heWJlQ2hpbGQoJHBvcy5pbmRleEFmdGVyKGRlcHRoKSlcbiAgICB3aGlsZSAobmV4dCAmJiAhbmV4dC5pc0xlYWYpIHtcbiAgICAgIG5leHQgPSBuZXh0LmZpcnN0Q2hpbGRcbiAgICAgIGVuZCsrXG4gICAgfVxuICB9XG4gIHJldHVybiBlbmRcbn1cblxuZnVuY3Rpb24gZmluZERpZmYoYSwgYiwgcG9zLCBwcmVmZXJyZWRQb3MsIHByZWZlcnJlZFNpZGUpIHtcbiAgbGV0IHN0YXJ0ID0gYS5maW5kRGlmZlN0YXJ0KGIsIHBvcylcbiAgaWYgKHN0YXJ0ID09IG51bGwpIHJldHVybiBudWxsXG4gIGxldCB7YTogZW5kQSwgYjogZW5kQn0gPSBhLmZpbmREaWZmRW5kKGIsIHBvcyArIGEuc2l6ZSwgcG9zICsgYi5zaXplKVxuICBpZiAocHJlZmVycmVkU2lkZSA9PSBcImVuZFwiKSB7XG4gICAgbGV0IGFkanVzdCA9IE1hdGgubWF4KDAsIHN0YXJ0IC0gTWF0aC5taW4oZW5kQSwgZW5kQikpXG4gICAgcHJlZmVycmVkUG9zIC09IGVuZEEgKyBhZGp1c3QgLSBzdGFydFxuICB9XG4gIGlmIChlbmRBIDwgc3RhcnQgJiYgYS5zaXplIDwgYi5zaXplKSB7XG4gICAgbGV0IG1vdmUgPSBwcmVmZXJyZWRQb3MgPD0gc3RhcnQgJiYgcHJlZmVycmVkUG9zID49IGVuZEEgPyBzdGFydCAtIHByZWZlcnJlZFBvcyA6IDBcbiAgICBzdGFydCAtPSBtb3ZlXG4gICAgZW5kQiA9IHN0YXJ0ICsgKGVuZEIgLSBlbmRBKVxuICAgIGVuZEEgPSBzdGFydFxuICB9IGVsc2UgaWYgKGVuZEIgPCBzdGFydCkge1xuICAgIGxldCBtb3ZlID0gcHJlZmVycmVkUG9zIDw9IHN0YXJ0ICYmIHByZWZlcnJlZFBvcyA+PSBlbmRCID8gc3RhcnQgLSBwcmVmZXJyZWRQb3MgOiAwXG4gICAgc3RhcnQgLT0gbW92ZVxuICAgIGVuZEEgPSBzdGFydCArIChlbmRBIC0gZW5kQilcbiAgICBlbmRCID0gc3RhcnRcbiAgfVxuICByZXR1cm4ge3N0YXJ0LCBlbmRBLCBlbmRCfVxufVxuIiwiaW1wb3J0IHtTbGljZSwgRnJhZ21lbnQsIERPTVBhcnNlciwgRE9NU2VyaWFsaXplcn0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUZvckNsaXBib2FyZCh2aWV3LCBzbGljZSkge1xuICBsZXQgY29udGV4dCA9IFtdLCB7Y29udGVudCwgb3BlblN0YXJ0LCBvcGVuRW5kfSA9IHNsaWNlXG4gIHdoaWxlIChvcGVuU3RhcnQgPiAxICYmIG9wZW5FbmQgPiAxICYmIGNvbnRlbnQuY2hpbGRDb3VudCA9PSAxICYmIGNvbnRlbnQuZmlyc3RDaGlsZC5jaGlsZENvdW50ID09IDEpIHtcbiAgICBvcGVuU3RhcnQtLVxuICAgIG9wZW5FbmQtLVxuICAgIGxldCBub2RlID0gY29udGVudC5maXJzdENoaWxkXG4gICAgY29udGV4dC5wdXNoKG5vZGUudHlwZS5uYW1lLCBub2RlLnR5cGUuaGFzUmVxdWlyZWRBdHRycygpID8gbm9kZS5hdHRycyA6IG51bGwpXG4gICAgY29udGVudCA9IG5vZGUuY29udGVudFxuICB9XG5cbiAgbGV0IHNlcmlhbGl6ZXIgPSB2aWV3LnNvbWVQcm9wKFwiY2xpcGJvYXJkU2VyaWFsaXplclwiKSB8fCBET01TZXJpYWxpemVyLmZyb21TY2hlbWEodmlldy5zdGF0ZS5zY2hlbWEpXG4gIGxldCBkb2MgPSBkZXRhY2hlZERvYygpLCB3cmFwID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgd3JhcC5hcHBlbmRDaGlsZChzZXJpYWxpemVyLnNlcmlhbGl6ZUZyYWdtZW50KGNvbnRlbnQsIHtkb2N1bWVudDogZG9jfSkpXG5cbiAgbGV0IGZpcnN0Q2hpbGQgPSB3cmFwLmZpcnN0Q2hpbGQsIG5lZWRzV3JhcFxuICB3aGlsZSAoZmlyc3RDaGlsZCAmJiBmaXJzdENoaWxkLm5vZGVUeXBlID09IDEgJiYgKG5lZWRzV3JhcCA9IHdyYXBNYXBbZmlyc3RDaGlsZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkpIHtcbiAgICBmb3IgKGxldCBpID0gbmVlZHNXcmFwLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBsZXQgd3JhcHBlciA9IGRvYy5jcmVhdGVFbGVtZW50KG5lZWRzV3JhcFtpXSlcbiAgICAgIHdoaWxlICh3cmFwLmZpcnN0Q2hpbGQpIHdyYXBwZXIuYXBwZW5kQ2hpbGQod3JhcC5maXJzdENoaWxkKVxuICAgICAgd3JhcC5hcHBlbmRDaGlsZCh3cmFwcGVyKVxuICAgIH1cbiAgICBmaXJzdENoaWxkID0gd3JhcC5maXJzdENoaWxkXG4gIH1cblxuICBpZiAoZmlyc3RDaGlsZCAmJiBmaXJzdENoaWxkLm5vZGVUeXBlID09IDEpXG4gICAgZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXBtLXNsaWNlXCIsIGAke29wZW5TdGFydH0gJHtvcGVuRW5kfSAke0pTT04uc3RyaW5naWZ5KGNvbnRleHQpfWApXG5cbiAgbGV0IHRleHQgPSB2aWV3LnNvbWVQcm9wKFwiY2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXJcIiwgZiA9PiBmKHNsaWNlKSkgfHxcbiAgICAgIHNsaWNlLmNvbnRlbnQudGV4dEJldHdlZW4oMCwgc2xpY2UuY29udGVudC5zaXplLCBcIlxcblxcblwiKVxuXG4gIHJldHVybiB7ZG9tOiB3cmFwLCB0ZXh0fVxufVxuXG4vLyA6IChFZGl0b3JWaWV3LCBzdHJpbmcsIHN0cmluZywgP2Jvb2wsIFJlc29sdmVkUG9zKSDihpIgP1NsaWNlXG4vLyBSZWFkIGEgc2xpY2Ugb2YgY29udGVudCBmcm9tIHRoZSBjbGlwYm9hcmQgKG9yIGRyb3AgZGF0YSkuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VGcm9tQ2xpcGJvYXJkKHZpZXcsIHRleHQsIGh0bWwsIHBsYWluVGV4dCwgJGNvbnRleHQpIHtcbiAgbGV0IGRvbSwgaW5Db2RlID0gJGNvbnRleHQucGFyZW50LnR5cGUuc3BlYy5jb2RlLCBzbGljZVxuICBpZiAoIWh0bWwgJiYgIXRleHQpIHJldHVybiBudWxsXG4gIGxldCBhc1RleHQgPSB0ZXh0ICYmIChwbGFpblRleHQgfHwgaW5Db2RlIHx8ICFodG1sKVxuICBpZiAoYXNUZXh0KSB7XG4gICAgdmlldy5zb21lUHJvcChcInRyYW5zZm9ybVBhc3RlZFRleHRcIiwgZiA9PiB7IHRleHQgPSBmKHRleHQpIH0pXG4gICAgaWYgKGluQ29kZSkgcmV0dXJuIG5ldyBTbGljZShGcmFnbWVudC5mcm9tKHZpZXcuc3RhdGUuc2NoZW1hLnRleHQodGV4dCkpLCAwLCAwKVxuICAgIGxldCBwYXJzZWQgPSB2aWV3LnNvbWVQcm9wKFwiY2xpcGJvYXJkVGV4dFBhcnNlclwiLCBmID0+IGYodGV4dCwgJGNvbnRleHQpKVxuICAgIGlmIChwYXJzZWQpIHtcbiAgICAgIHNsaWNlID0gcGFyc2VkXG4gICAgfSBlbHNlIHtcbiAgICAgIGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgIHRleHQudHJpbSgpLnNwbGl0KC8oPzpcXHJcXG4/fFxcbikrLykuZm9yRWFjaChibG9jayA9PiB7XG4gICAgICAgIGRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKSkudGV4dENvbnRlbnQgPSBibG9ja1xuICAgICAgfSlcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmlldy5zb21lUHJvcChcInRyYW5zZm9ybVBhc3RlZEhUTUxcIiwgZiA9PiB7IGh0bWwgPSBmKGh0bWwpIH0pXG4gICAgZG9tID0gcmVhZEhUTUwoaHRtbClcbiAgfVxuXG4gIGxldCBjb250ZXh0Tm9kZSA9IGRvbSAmJiBkb20ucXVlcnlTZWxlY3RvcihcIltkYXRhLXBtLXNsaWNlXVwiKVxuICBsZXQgc2xpY2VEYXRhID0gY29udGV4dE5vZGUgJiYgL14oXFxkKykgKFxcZCspICguKikvLmV4ZWMoY29udGV4dE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1wbS1zbGljZVwiKSlcbiAgaWYgKCFzbGljZSkge1xuICAgIGxldCBwYXJzZXIgPSB2aWV3LnNvbWVQcm9wKFwiY2xpcGJvYXJkUGFyc2VyXCIpIHx8IHZpZXcuc29tZVByb3AoXCJkb21QYXJzZXJcIikgfHwgRE9NUGFyc2VyLmZyb21TY2hlbWEodmlldy5zdGF0ZS5zY2hlbWEpXG4gICAgc2xpY2UgPSBwYXJzZXIucGFyc2VTbGljZShkb20sIHtwcmVzZXJ2ZVdoaXRlc3BhY2U6ICEhKGFzVGV4dCB8fCBzbGljZURhdGEpLCBjb250ZXh0OiAkY29udGV4dH0pXG4gIH1cbiAgaWYgKHNsaWNlRGF0YSlcbiAgICBzbGljZSA9IGFkZENvbnRleHQoY2xvc2VTbGljZShzbGljZSwgK3NsaWNlRGF0YVsxXSwgK3NsaWNlRGF0YVsyXSksIHNsaWNlRGF0YVszXSlcbiAgZWxzZSAvLyBIVE1MIHdhc24ndCBjcmVhdGVkIGJ5IFByb3NlTWlycm9yLiBNYWtlIHN1cmUgdG9wLWxldmVsIHNpYmxpbmdzIGFyZSBjb2hlcmVudFxuICAgIHNsaWNlID0gU2xpY2UubWF4T3Blbihub3JtYWxpemVTaWJsaW5ncyhzbGljZS5jb250ZW50LCAkY29udGV4dCksIGZhbHNlKVxuXG4gIHZpZXcuc29tZVByb3AoXCJ0cmFuc2Zvcm1QYXN0ZWRcIiwgZiA9PiB7IHNsaWNlID0gZihzbGljZSkgfSlcbiAgcmV0dXJuIHNsaWNlXG59XG5cbi8vIFRha2VzIGEgc2xpY2UgcGFyc2VkIHdpdGggcGFyc2VTbGljZSwgd2hpY2ggbWVhbnMgdGhlcmUgaGFzbid0IGJlZW5cbi8vIGFueSBjb250ZW50LWV4cHJlc3Npb24gY2hlY2tpbmcgZG9uZSBvbiB0aGUgdG9wIG5vZGVzLCB0cmllcyB0b1xuLy8gZmluZCBhIHBhcmVudCBub2RlIGluIHRoZSBjdXJyZW50IGNvbnRleHQgdGhhdCBtaWdodCBmaXQgdGhlIG5vZGVzLFxuLy8gYW5kIGlmIHN1Y2Nlc3NmdWwsIHJlYnVpbGRzIHRoZSBzbGljZSBzbyB0aGF0IGl0IGZpdHMgaW50byB0aGF0IHBhcmVudC5cbi8vXG4vLyBUaGlzIGFkZHJlc3NlcyB0aGUgcHJvYmxlbSB0aGF0IFRyYW5zZm9ybS5yZXBsYWNlIGV4cGVjdHMgYVxuLy8gY29oZXJlbnQgc2xpY2UsIGFuZCB3aWxsIGZhaWwgdG8gcGxhY2UgYSBzZXQgb2Ygc2libGluZ3MgdGhhdCBkb24ndFxuLy8gZml0IGFueXdoZXJlIGluIHRoZSBzY2hlbWEuXG5mdW5jdGlvbiBub3JtYWxpemVTaWJsaW5ncyhmcmFnbWVudCwgJGNvbnRleHQpIHtcbiAgaWYgKGZyYWdtZW50LmNoaWxkQ291bnQgPCAyKSByZXR1cm4gZnJhZ21lbnRcbiAgZm9yIChsZXQgZCA9ICRjb250ZXh0LmRlcHRoOyBkID49IDA7IGQtLSkge1xuICAgIGxldCBwYXJlbnQgPSAkY29udGV4dC5ub2RlKGQpXG4gICAgbGV0IG1hdGNoID0gcGFyZW50LmNvbnRlbnRNYXRjaEF0KCRjb250ZXh0LmluZGV4KGQpKVxuICAgIGxldCBsYXN0V3JhcCwgcmVzdWx0ID0gW11cbiAgICBmcmFnbWVudC5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgaWYgKCFyZXN1bHQpIHJldHVyblxuICAgICAgbGV0IHdyYXAgPSBtYXRjaC5maW5kV3JhcHBpbmcobm9kZS50eXBlKSwgaW5MYXN0XG4gICAgICBpZiAoIXdyYXApIHJldHVybiByZXN1bHQgPSBudWxsXG4gICAgICBpZiAoaW5MYXN0ID0gcmVzdWx0Lmxlbmd0aCAmJiBsYXN0V3JhcC5sZW5ndGggJiYgYWRkVG9TaWJsaW5nKHdyYXAsIGxhc3RXcmFwLCBub2RlLCByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLCAwKSkge1xuICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gaW5MYXN0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCkgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IGNsb3NlUmlnaHQocmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSwgbGFzdFdyYXAubGVuZ3RoKVxuICAgICAgICBsZXQgd3JhcHBlZCA9IHdpdGhXcmFwcGVycyhub2RlLCB3cmFwKVxuICAgICAgICByZXN1bHQucHVzaCh3cmFwcGVkKVxuICAgICAgICBtYXRjaCA9IG1hdGNoLm1hdGNoVHlwZSh3cmFwcGVkLnR5cGUsIHdyYXBwZWQuYXR0cnMpXG4gICAgICAgIGxhc3RXcmFwID0gd3JhcFxuICAgICAgfVxuICAgIH0pXG4gICAgaWYgKHJlc3VsdCkgcmV0dXJuIEZyYWdtZW50LmZyb20ocmVzdWx0KVxuICB9XG4gIHJldHVybiBmcmFnbWVudFxufVxuXG5mdW5jdGlvbiB3aXRoV3JhcHBlcnMobm9kZSwgd3JhcCwgZnJvbSA9IDApIHtcbiAgZm9yIChsZXQgaSA9IHdyYXAubGVuZ3RoIC0gMTsgaSA+PSBmcm9tOyBpLS0pXG4gICAgbm9kZSA9IHdyYXBbaV0uY3JlYXRlKG51bGwsIEZyYWdtZW50LmZyb20obm9kZSkpXG4gIHJldHVybiBub2RlXG59XG5cbi8vIFVzZWQgdG8gZ3JvdXAgYWRqYWNlbnQgbm9kZXMgd3JhcHBlZCBpbiBzaW1pbGFyIHBhcmVudHMgYnlcbi8vIG5vcm1hbGl6ZVNpYmxpbmdzIGludG8gdGhlIHNhbWUgcGFyZW50IG5vZGVcbmZ1bmN0aW9uIGFkZFRvU2libGluZyh3cmFwLCBsYXN0V3JhcCwgbm9kZSwgc2libGluZywgZGVwdGgpIHtcbiAgaWYgKGRlcHRoIDwgd3JhcC5sZW5ndGggJiYgZGVwdGggPCBsYXN0V3JhcC5sZW5ndGggJiYgd3JhcFtkZXB0aF0gPT0gbGFzdFdyYXBbZGVwdGhdKSB7XG4gICAgbGV0IGlubmVyID0gYWRkVG9TaWJsaW5nKHdyYXAsIGxhc3RXcmFwLCBub2RlLCBzaWJsaW5nLmxhc3RDaGlsZCwgZGVwdGggKyAxKVxuICAgIGlmIChpbm5lcikgcmV0dXJuIHNpYmxpbmcuY29weShzaWJsaW5nLmNvbnRlbnQucmVwbGFjZUNoaWxkKHNpYmxpbmcuY2hpbGRDb3VudCAtIDEsIGlubmVyKSlcbiAgICBsZXQgbWF0Y2ggPSBzaWJsaW5nLmNvbnRlbnRNYXRjaEF0KHNpYmxpbmcuY2hpbGRDb3VudClcbiAgICBpZiAobWF0Y2gubWF0Y2hUeXBlKGRlcHRoID09IHdyYXAubGVuZ3RoIC0gMSA/IG5vZGUudHlwZSA6IHdyYXBbZGVwdGggKyAxXSkpXG4gICAgICByZXR1cm4gc2libGluZy5jb3B5KHNpYmxpbmcuY29udGVudC5hcHBlbmQoRnJhZ21lbnQuZnJvbSh3aXRoV3JhcHBlcnMobm9kZSwgd3JhcCwgZGVwdGggKyAxKSkpKVxuICB9XG59XG5cbmZ1bmN0aW9uIGNsb3NlUmlnaHQobm9kZSwgZGVwdGgpIHtcbiAgaWYgKGRlcHRoID09IDApIHJldHVybiBub2RlXG4gIGxldCBmcmFnbWVudCA9IG5vZGUuY29udGVudC5yZXBsYWNlQ2hpbGQobm9kZS5jaGlsZENvdW50IC0gMSwgY2xvc2VSaWdodChub2RlLmxhc3RDaGlsZCwgZGVwdGggLSAxKSlcbiAgbGV0IGZpbGwgPSBub2RlLmNvbnRlbnRNYXRjaEF0KG5vZGUuY2hpbGRDb3VudCkuZmlsbEJlZm9yZShGcmFnbWVudC5lbXB0eSwgdHJ1ZSlcbiAgcmV0dXJuIG5vZGUuY29weShmcmFnbWVudC5hcHBlbmQoZmlsbCkpXG59XG5cbmZ1bmN0aW9uIGNsb3NlUmFuZ2UoZnJhZ21lbnQsIHNpZGUsIGZyb20sIHRvLCBkZXB0aCwgb3BlbkVuZCkge1xuICBsZXQgbm9kZSA9IHNpZGUgPCAwID8gZnJhZ21lbnQuZmlyc3RDaGlsZCA6IGZyYWdtZW50Lmxhc3RDaGlsZCwgaW5uZXIgPSBub2RlLmNvbnRlbnRcbiAgaWYgKGRlcHRoIDwgdG8gLSAxKSBpbm5lciA9IGNsb3NlUmFuZ2UoaW5uZXIsIHNpZGUsIGZyb20sIHRvLCBkZXB0aCArIDEsIG9wZW5FbmQpXG4gIGlmIChkZXB0aCA+PSBmcm9tKVxuICAgIGlubmVyID0gc2lkZSA8IDAgPyBub2RlLmNvbnRlbnRNYXRjaEF0KDApLmZpbGxCZWZvcmUoaW5uZXIsIGZyYWdtZW50LmNoaWxkQ291bnQgPiAxIHx8IG9wZW5FbmQgPD0gZGVwdGgpLmFwcGVuZChpbm5lcilcbiAgICAgIDogaW5uZXIuYXBwZW5kKG5vZGUuY29udGVudE1hdGNoQXQobm9kZS5jaGlsZENvdW50KS5maWxsQmVmb3JlKEZyYWdtZW50LmVtcHR5LCB0cnVlKSlcbiAgcmV0dXJuIGZyYWdtZW50LnJlcGxhY2VDaGlsZChzaWRlIDwgMCA/IDAgOiBmcmFnbWVudC5jaGlsZENvdW50IC0gMSwgbm9kZS5jb3B5KGlubmVyKSlcbn1cblxuZnVuY3Rpb24gY2xvc2VTbGljZShzbGljZSwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gIGlmIChvcGVuU3RhcnQgPCBzbGljZS5vcGVuU3RhcnQpXG4gICAgc2xpY2UgPSBuZXcgU2xpY2UoY2xvc2VSYW5nZShzbGljZS5jb250ZW50LCAtMSwgb3BlblN0YXJ0LCBzbGljZS5vcGVuU3RhcnQsIDAsIHNsaWNlLm9wZW5FbmQpLCBvcGVuU3RhcnQsIHNsaWNlLm9wZW5FbmQpXG4gIGlmIChvcGVuRW5kIDwgc2xpY2Uub3BlbkVuZClcbiAgICBzbGljZSA9IG5ldyBTbGljZShjbG9zZVJhbmdlKHNsaWNlLmNvbnRlbnQsIDEsIG9wZW5FbmQsIHNsaWNlLm9wZW5FbmQsIDAsIDApLCBzbGljZS5vcGVuU3RhcnQsIG9wZW5FbmQpXG4gIHJldHVybiBzbGljZVxufVxuXG4vLyBUcmljayBmcm9tIGpRdWVyeSAtLSBzb21lIGVsZW1lbnRzIG11c3QgYmUgd3JhcHBlZCBpbiBvdGhlclxuLy8gZWxlbWVudHMgZm9yIGlubmVySFRNTCB0byB3b3JrLiBJLmUuIGlmIHlvdSBkbyBgZGl2LmlubmVySFRNTCA9XG4vLyBcIjx0ZD4uLjwvdGQ+XCJgIHRoZSB0YWJsZSBjZWxscyBhcmUgaWdub3JlZC5cbmNvbnN0IHdyYXBNYXAgPSB7XG4gIHRoZWFkOiBbXCJ0YWJsZVwiXSxcbiAgdGJvZHk6IFtcInRhYmxlXCJdLFxuICB0Zm9vdDogW1widGFibGVcIl0sXG4gIGNhcHRpb246IFtcInRhYmxlXCJdLFxuICBjb2xncm91cDogW1widGFibGVcIl0sXG4gIGNvbDogW1widGFibGVcIiwgXCJjb2xncm91cFwiXSxcbiAgdHI6IFtcInRhYmxlXCIsIFwidGJvZHlcIl0sXG4gIHRkOiBbXCJ0YWJsZVwiLCBcInRib2R5XCIsIFwidHJcIl0sXG4gIHRoOiBbXCJ0YWJsZVwiLCBcInRib2R5XCIsIFwidHJcIl1cbn1cblxubGV0IF9kZXRhY2hlZERvYyA9IG51bGxcbmZ1bmN0aW9uIGRldGFjaGVkRG9jKCkge1xuICByZXR1cm4gX2RldGFjaGVkRG9jIHx8IChfZGV0YWNoZWREb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJ0aXRsZVwiKSlcbn1cblxuZnVuY3Rpb24gcmVhZEhUTUwoaHRtbCkge1xuICBsZXQgbWV0YXMgPSAvKFxccyo8bWV0YSBbXj5dKj4pKi8uZXhlYyhodG1sKVxuICBpZiAobWV0YXMpIGh0bWwgPSBodG1sLnNsaWNlKG1ldGFzWzBdLmxlbmd0aClcbiAgbGV0IGVsdCA9IGRldGFjaGVkRG9jKCkuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICBsZXQgZmlyc3RUYWcgPSAvKD86PG1ldGEgW14+XSo+KSo8KFthLXpdW14+XFxzXSspL2kuZXhlYyhodG1sKSwgd3JhcCwgZGVwdGggPSAwXG4gIGlmICh3cmFwID0gZmlyc3RUYWcgJiYgd3JhcE1hcFtmaXJzdFRhZ1sxXS50b0xvd2VyQ2FzZSgpXSkge1xuICAgIGh0bWwgPSB3cmFwLm1hcChuID0+IFwiPFwiICsgbiArIFwiPlwiKS5qb2luKFwiXCIpICsgaHRtbCArIHdyYXAubWFwKG4gPT4gXCI8L1wiICsgbiArIFwiPlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKVxuICAgIGRlcHRoID0gd3JhcC5sZW5ndGhcbiAgfVxuICBlbHQuaW5uZXJIVE1MID0gaHRtbFxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRlcHRoOyBpKyspIGVsdCA9IGVsdC5maXJzdENoaWxkXG4gIHJldHVybiBlbHRcbn1cblxuZnVuY3Rpb24gYWRkQ29udGV4dChzbGljZSwgY29udGV4dCkge1xuICBpZiAoIXNsaWNlLnNpemUpIHJldHVybiBzbGljZVxuICBsZXQgc2NoZW1hID0gc2xpY2UuY29udGVudC5maXJzdENoaWxkLnR5cGUuc2NoZW1hLCBhcnJheVxuICB0cnkgeyBhcnJheSA9IEpTT04ucGFyc2UoY29udGV4dCkgfVxuICBjYXRjaChlKSB7IHJldHVybiBzbGljZSB9XG4gIGxldCB7Y29udGVudCwgb3BlblN0YXJ0LCBvcGVuRW5kfSA9IHNsaWNlXG4gIGZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAyOyBpID49IDA7IGkgLT0gMikge1xuICAgIGxldCB0eXBlID0gc2NoZW1hLm5vZGVzW2FycmF5W2ldXVxuICAgIGlmICghdHlwZSB8fCB0eXBlLmhhc1JlcXVpcmVkQXR0cnMoKSkgYnJlYWtcbiAgICBjb250ZW50ID0gRnJhZ21lbnQuZnJvbSh0eXBlLmNyZWF0ZShhcnJheVtpICsgMV0sIGNvbnRlbnQpKVxuICAgIG9wZW5TdGFydCsrOyBvcGVuRW5kKytcbiAgfVxuICByZXR1cm4gbmV3IFNsaWNlKGNvbnRlbnQsIG9wZW5TdGFydCwgb3BlbkVuZClcbn1cbiIsImltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXJcIlxuaW1wb3J0IHtkb21JbmRleCwgaXNFcXVpdmFsZW50UG9zaXRpb259IGZyb20gXCIuL2RvbVwiXG5pbXBvcnQge2hhc0ZvY3VzQW5kU2VsZWN0aW9uLCBoYXNTZWxlY3Rpb24sIHNlbGVjdGlvblRvRE9NfSBmcm9tIFwiLi9zZWxlY3Rpb25cIlxuXG5jb25zdCBvYnNlcnZlT3B0aW9ucyA9IHtcbiAgY2hpbGRMaXN0OiB0cnVlLFxuICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IHRydWUsXG4gIGF0dHJpYnV0ZXM6IHRydWUsXG4gIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuICBzdWJ0cmVlOiB0cnVlXG59XG4vLyBJRTExIGhhcyB2ZXJ5IGJyb2tlbiBtdXRhdGlvbiBvYnNlcnZlcnMsIHNvIHdlIGFsc28gbGlzdGVuIHRvIERPTUNoYXJhY3RlckRhdGFNb2RpZmllZFxuY29uc3QgdXNlQ2hhckRhdGEgPSBicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMVxuXG5jbGFzcyBTZWxlY3Rpb25TdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYW5jaG9yTm9kZSA9IHRoaXMuYW5jaG9yT2Zmc2V0ID0gdGhpcy5mb2N1c05vZGUgPSB0aGlzLmZvY3VzT2Zmc2V0ID0gbnVsbFxuICB9XG5cbiAgc2V0KHNlbCkge1xuICAgIHRoaXMuYW5jaG9yTm9kZSA9IHNlbC5hbmNob3JOb2RlOyB0aGlzLmFuY2hvck9mZnNldCA9IHNlbC5hbmNob3JPZmZzZXRcbiAgICB0aGlzLmZvY3VzTm9kZSA9IHNlbC5mb2N1c05vZGU7IHRoaXMuZm9jdXNPZmZzZXQgPSBzZWwuZm9jdXNPZmZzZXRcbiAgfVxuXG4gIGVxKHNlbCkge1xuICAgIHJldHVybiBzZWwuYW5jaG9yTm9kZSA9PSB0aGlzLmFuY2hvck5vZGUgJiYgc2VsLmFuY2hvck9mZnNldCA9PSB0aGlzLmFuY2hvck9mZnNldCAmJlxuICAgICAgc2VsLmZvY3VzTm9kZSA9PSB0aGlzLmZvY3VzTm9kZSAmJiBzZWwuZm9jdXNPZmZzZXQgPT0gdGhpcy5mb2N1c09mZnNldFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBET01PYnNlcnZlciB7XG4gIGNvbnN0cnVjdG9yKHZpZXcsIGhhbmRsZURPTUNoYW5nZSkge1xuICAgIHRoaXMudmlldyA9IHZpZXdcbiAgICB0aGlzLmhhbmRsZURPTUNoYW5nZSA9IGhhbmRsZURPTUNoYW5nZVxuICAgIHRoaXMucXVldWUgPSBbXVxuICAgIHRoaXMuZmx1c2hpbmdTb29uID0gZmFsc2VcbiAgICB0aGlzLm9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgJiZcbiAgICAgIG5ldyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnMgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11dGF0aW9ucy5sZW5ndGg7IGkrKykgdGhpcy5xdWV1ZS5wdXNoKG11dGF0aW9uc1tpXSlcbiAgICAgICAgLy8gSUUxMSB3aWxsIHNvbWV0aW1lcyAob24gYmFja3NwYWNpbmcgb3V0IGEgc2luZ2xlIGNoYXJhY3RlclxuICAgICAgICAvLyB0ZXh0IG5vZGUgYWZ0ZXIgYSBCUiBub2RlKSBjYWxsIHRoZSBvYnNlcnZlciBjYWxsYmFja1xuICAgICAgICAvLyBiZWZvcmUgYWN0dWFsbHkgdXBkYXRpbmcgdGhlIERPTSwgd2hpY2ggd2lsbCBjYXVzZVxuICAgICAgICAvLyBQcm9zZU1pcnJvciB0byBtaXNzIHRoZSBjaGFuZ2UgKHNlZSAjOTMwKVxuICAgICAgICBpZiAoYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTEgJiYgbXV0YXRpb25zLnNvbWUoXG4gICAgICAgICAgbSA9PiBtLnR5cGUgPT0gXCJjaGlsZExpc3RcIiAmJiBtLnJlbW92ZWROb2Rlcy5sZW5ndGggfHxcbiAgICAgICAgICAgICAgIG0udHlwZSA9PSBcImNoYXJhY3RlckRhdGFcIiAmJiBtLm9sZFZhbHVlLmxlbmd0aCA+IG0udGFyZ2V0Lm5vZGVWYWx1ZS5sZW5ndGgpKVxuICAgICAgICAgIHRoaXMuZmx1c2hTb29uKClcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRoaXMuZmx1c2goKVxuICAgICAgfSlcbiAgICB0aGlzLmN1cnJlbnRTZWxlY3Rpb24gPSBuZXcgU2VsZWN0aW9uU3RhdGVcbiAgICBpZiAodXNlQ2hhckRhdGEpIHtcbiAgICAgIHRoaXMub25DaGFyRGF0YSA9IGUgPT4ge1xuICAgICAgICB0aGlzLnF1ZXVlLnB1c2goe3RhcmdldDogZS50YXJnZXQsIHR5cGU6IFwiY2hhcmFjdGVyRGF0YVwiLCBvbGRWYWx1ZTogZS5wcmV2VmFsdWV9KVxuICAgICAgICB0aGlzLmZsdXNoU29vbigpXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UgPSB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcylcbiAgICB0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcyA9IGZhbHNlXG4gIH1cblxuICBmbHVzaFNvb24oKSB7XG4gICAgaWYgKCF0aGlzLmZsdXNoaW5nU29vbikge1xuICAgICAgdGhpcy5mbHVzaGluZ1Nvb24gPSB0cnVlXG4gICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuZmx1c2hpbmdTb29uID0gZmFsc2U7IHRoaXMuZmx1c2goKSB9LCAyMClcbiAgICB9XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBpZiAodGhpcy5vYnNlcnZlcilcbiAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnZpZXcuZG9tLCBvYnNlcnZlT3B0aW9ucylcbiAgICBpZiAodXNlQ2hhckRhdGEpXG4gICAgICB0aGlzLnZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcIiwgdGhpcy5vbkNoYXJEYXRhKVxuICAgIHRoaXMuY29ubmVjdFNlbGVjdGlvbigpXG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLm9ic2VydmVyKSB7XG4gICAgICBsZXQgdGFrZSA9IHRoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKVxuICAgICAgaWYgKHRha2UubGVuZ3RoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFrZS5sZW5ndGg7IGkrKykgdGhpcy5xdWV1ZS5wdXNoKHRha2VbaV0pXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHRoaXMuZmx1c2goKSwgMjApXG4gICAgICB9XG4gICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgIH1cbiAgICBpZiAodXNlQ2hhckRhdGEpIHRoaXMudmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLCB0aGlzLm9uQ2hhckRhdGEpXG4gICAgdGhpcy5kaXNjb25uZWN0U2VsZWN0aW9uKClcbiAgfVxuXG4gIGNvbm5lY3RTZWxlY3Rpb24oKSB7XG4gICAgdGhpcy52aWV3LmRvbS5vd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgdGhpcy5vblNlbGVjdGlvbkNoYW5nZSlcbiAgfVxuXG4gIGRpc2Nvbm5lY3RTZWxlY3Rpb24oKSB7XG4gICAgdGhpcy52aWV3LmRvbS5vd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgdGhpcy5vblNlbGVjdGlvbkNoYW5nZSlcbiAgfVxuXG4gIHN1cHByZXNzU2VsZWN0aW9uVXBkYXRlcygpIHtcbiAgICB0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcyA9IHRydWVcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzID0gZmFsc2UsIDUwKVxuICB9XG5cbiAgb25TZWxlY3Rpb25DaGFuZ2UoKSB7XG4gICAgaWYgKCFoYXNGb2N1c0FuZFNlbGVjdGlvbih0aGlzLnZpZXcpKSByZXR1cm5cbiAgICBpZiAodGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMpIHJldHVybiBzZWxlY3Rpb25Ub0RPTSh0aGlzLnZpZXcpXG4gICAgLy8gRGVsZXRpb25zIG9uIElFMTEgZmlyZSB0aGVpciBldmVudHMgaW4gdGhlIHdyb25nIG9yZGVyLCBnaXZpbmdcbiAgICAvLyB1cyBhIHNlbGVjdGlvbiBjaGFuZ2UgZXZlbnQgYmVmb3JlIHRoZSBET00gY2hhbmdlcyBhcmVcbiAgICAvLyByZXBvcnRlZC5cbiAgICBpZiAoYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTEgJiYgIXRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24uZW1wdHkpIHtcbiAgICAgIGxldCBzZWwgPSB0aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKVxuICAgICAgLy8gU2VsZWN0aW9uLmlzQ29sbGFwc2VkIGlzbid0IHJlbGlhYmxlIG9uIElFXG4gICAgICBpZiAoc2VsLmZvY3VzTm9kZSAmJiBpc0VxdWl2YWxlbnRQb3NpdGlvbihzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQsIHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KSlcbiAgICAgICAgcmV0dXJuIHRoaXMuZmx1c2hTb29uKClcbiAgICB9XG4gICAgdGhpcy5mbHVzaCgpXG4gIH1cblxuICBzZXRDdXJTZWxlY3Rpb24oKSB7XG4gICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uLnNldCh0aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSlcbiAgfVxuXG4gIGlnbm9yZVNlbGVjdGlvbkNoYW5nZShzZWwpIHtcbiAgICBpZiAoc2VsLnJhbmdlQ291bnQgPT0gMCkgcmV0dXJuIHRydWVcbiAgICBsZXQgY29udGFpbmVyID0gc2VsLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXJcbiAgICBsZXQgZGVzYyA9IHRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGNvbnRhaW5lcilcbiAgICBpZiAoZGVzYyAmJiBkZXNjLmlnbm9yZU11dGF0aW9uKHt0eXBlOiBcInNlbGVjdGlvblwiLCB0YXJnZXQ6IGNvbnRhaW5lci5ub2RlVHlwZSA9PSAzID8gY29udGFpbmVyLnBhcmVudE5vZGUgOiBjb250YWluZXJ9KSkge1xuICAgICAgdGhpcy5zZXRDdXJTZWxlY3Rpb24oKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICBmbHVzaCgpIHtcbiAgICBpZiAoIXRoaXMudmlldy5kb2NWaWV3IHx8IHRoaXMuZmx1c2hpbmdTb29uKSByZXR1cm5cbiAgICBsZXQgbXV0YXRpb25zID0gdGhpcy5vYnNlcnZlciA/IHRoaXMub2JzZXJ2ZXIudGFrZVJlY29yZHMoKSA6IFtdXG4gICAgaWYgKHRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICBtdXRhdGlvbnMgPSB0aGlzLnF1ZXVlLmNvbmNhdChtdXRhdGlvbnMpXG4gICAgICB0aGlzLnF1ZXVlLmxlbmd0aCA9IDBcbiAgICB9XG5cbiAgICBsZXQgc2VsID0gdGhpcy52aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKClcbiAgICBsZXQgbmV3U2VsID0gIXRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzICYmICF0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoc2VsKSAmJiBoYXNTZWxlY3Rpb24odGhpcy52aWV3KSAmJiAhdGhpcy5pZ25vcmVTZWxlY3Rpb25DaGFuZ2Uoc2VsKVxuXG4gICAgbGV0IGZyb20gPSAtMSwgdG8gPSAtMSwgdHlwZU92ZXIgPSBmYWxzZSwgYWRkZWQgPSBbXVxuICAgIGlmICh0aGlzLnZpZXcuZWRpdGFibGUpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXV0YXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnJlZ2lzdGVyTXV0YXRpb24obXV0YXRpb25zW2ldLCBhZGRlZClcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGZyb20gPSBmcm9tIDwgMCA/IHJlc3VsdC5mcm9tIDogTWF0aC5taW4ocmVzdWx0LmZyb20sIGZyb20pXG4gICAgICAgICAgdG8gPSB0byA8IDAgPyByZXN1bHQudG8gOiBNYXRoLm1heChyZXN1bHQudG8sIHRvKVxuICAgICAgICAgIGlmIChyZXN1bHQudHlwZU92ZXIgJiYgIXRoaXMudmlldy5jb21wb3NpbmcpIHR5cGVPdmVyID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGJyb3dzZXIuZ2Vja28gJiYgYWRkZWQubGVuZ3RoID4gMSkge1xuICAgICAgbGV0IGJycyA9IGFkZGVkLmZpbHRlcihuID0+IG4ubm9kZU5hbWUgPT0gXCJCUlwiKVxuICAgICAgaWYgKGJycy5sZW5ndGggPT0gMikge1xuICAgICAgICBsZXQgW2EsIGJdID0gYnJzXG4gICAgICAgIGlmIChhLnBhcmVudE5vZGUgJiYgYS5wYXJlbnROb2RlLnBhcmVudE5vZGUgPT0gYi5wYXJlbnROb2RlKSBiLnJlbW92ZSgpXG4gICAgICAgIGVsc2UgYS5yZW1vdmUoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcm9tID4gLTEgfHwgbmV3U2VsKSB7XG4gICAgICBpZiAoZnJvbSA+IC0xKSB7XG4gICAgICAgIHRoaXMudmlldy5kb2NWaWV3Lm1hcmtEaXJ0eShmcm9tLCB0bylcbiAgICAgICAgY2hlY2tDU1ModGhpcy52aWV3KVxuICAgICAgfVxuICAgICAgdGhpcy5oYW5kbGVET01DaGFuZ2UoZnJvbSwgdG8sIHR5cGVPdmVyLCBhZGRlZClcbiAgICAgIGlmICh0aGlzLnZpZXcuZG9jVmlldy5kaXJ0eSkgdGhpcy52aWV3LnVwZGF0ZVN0YXRlKHRoaXMudmlldy5zdGF0ZSlcbiAgICAgIGVsc2UgaWYgKCF0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoc2VsKSkgc2VsZWN0aW9uVG9ET00odGhpcy52aWV3KVxuICAgIH1cbiAgfVxuXG4gIHJlZ2lzdGVyTXV0YXRpb24obXV0LCBhZGRlZCkge1xuICAgIC8vIElnbm9yZSBtdXRhdGlvbnMgaW5zaWRlIG5vZGVzIHRoYXQgd2VyZSBhbHJlYWR5IG5vdGVkIGFzIGluc2VydGVkXG4gICAgaWYgKGFkZGVkLmluZGV4T2YobXV0LnRhcmdldCkgPiAtMSkgcmV0dXJuIG51bGxcbiAgICBsZXQgZGVzYyA9IHRoaXMudmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKG11dC50YXJnZXQpXG4gICAgaWYgKG11dC50eXBlID09IFwiYXR0cmlidXRlc1wiICYmXG4gICAgICAgIChkZXNjID09IHRoaXMudmlldy5kb2NWaWV3IHx8IG11dC5hdHRyaWJ1dGVOYW1lID09IFwiY29udGVudGVkaXRhYmxlXCIgfHxcbiAgICAgICAgIC8vIEZpcmVmb3ggc29tZXRpbWVzIGZpcmVzIHNwdXJpb3VzIGV2ZW50cyBmb3IgbnVsbC9lbXB0eSBzdHlsZXNcbiAgICAgICAgIChtdXQuYXR0cmlidXRlTmFtZSA9PSBcInN0eWxlXCIgJiYgIW11dC5vbGRWYWx1ZSAmJiAhbXV0LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSkpKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICBpZiAoIWRlc2MgfHwgZGVzYy5pZ25vcmVNdXRhdGlvbihtdXQpKSByZXR1cm4gbnVsbFxuXG4gICAgaWYgKG11dC50eXBlID09IFwiY2hpbGRMaXN0XCIpIHtcbiAgICAgIGxldCBwcmV2ID0gbXV0LnByZXZpb3VzU2libGluZywgbmV4dCA9IG11dC5uZXh0U2libGluZ1xuICAgICAgaWYgKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDw9IDExICYmIG11dC5hZGRlZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICAvLyBJRTExIGdpdmVzIHVzIGluY29ycmVjdCBuZXh0L3ByZXYgc2libGluZ3MgZm9yIHNvbWVcbiAgICAgICAgLy8gaW5zZXJ0aW9ucywgc28gaWYgdGhlcmUgYXJlIGFkZGVkIG5vZGVzLCByZWNvbXB1dGUgdGhvc2VcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXQuYWRkZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCB7cHJldmlvdXNTaWJsaW5nLCBuZXh0U2libGluZ30gPSBtdXQuYWRkZWROb2Rlc1tpXVxuICAgICAgICAgIGlmICghcHJldmlvdXNTaWJsaW5nIHx8IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwobXV0LmFkZGVkTm9kZXMsIHByZXZpb3VzU2libGluZykgPCAwKSBwcmV2ID0gcHJldmlvdXNTaWJsaW5nXG4gICAgICAgICAgaWYgKCFuZXh0U2libGluZyB8fCBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKG11dC5hZGRlZE5vZGVzLCBuZXh0U2libGluZykgPCAwKSBuZXh0ID0gbmV4dFNpYmxpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGZyb21PZmZzZXQgPSBwcmV2ICYmIHByZXYucGFyZW50Tm9kZSA9PSBtdXQudGFyZ2V0XG4gICAgICAgICAgPyBkb21JbmRleChwcmV2KSArIDEgOiAwXG4gICAgICBsZXQgZnJvbSA9IGRlc2MubG9jYWxQb3NGcm9tRE9NKG11dC50YXJnZXQsIGZyb21PZmZzZXQsIC0xKVxuICAgICAgbGV0IHRvT2Zmc2V0ID0gbmV4dCAmJiBuZXh0LnBhcmVudE5vZGUgPT0gbXV0LnRhcmdldFxuICAgICAgICAgID8gZG9tSW5kZXgobmV4dCkgOiBtdXQudGFyZ2V0LmNoaWxkTm9kZXMubGVuZ3RoXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11dC5hZGRlZE5vZGVzLmxlbmd0aDsgaSsrKSBhZGRlZC5wdXNoKG11dC5hZGRlZE5vZGVzW2ldKVxuICAgICAgbGV0IHRvID0gZGVzYy5sb2NhbFBvc0Zyb21ET00obXV0LnRhcmdldCwgdG9PZmZzZXQsIDEpXG4gICAgICByZXR1cm4ge2Zyb20sIHRvfVxuICAgIH0gZWxzZSBpZiAobXV0LnR5cGUgPT0gXCJhdHRyaWJ1dGVzXCIpIHtcbiAgICAgIHJldHVybiB7ZnJvbTogZGVzYy5wb3NBdFN0YXJ0IC0gZGVzYy5ib3JkZXIsIHRvOiBkZXNjLnBvc0F0RW5kICsgZGVzYy5ib3JkZXJ9XG4gICAgfSBlbHNlIHsgLy8gXCJjaGFyYWN0ZXJEYXRhXCJcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGZyb206IGRlc2MucG9zQXRTdGFydCxcbiAgICAgICAgdG86IGRlc2MucG9zQXRFbmQsXG4gICAgICAgIC8vIEFuIGV2ZW50IHdhcyBnZW5lcmF0ZWQgZm9yIGEgdGV4dCBjaGFuZ2UgdGhhdCBkaWRuJ3QgY2hhbmdlXG4gICAgICAgIC8vIGFueSB0ZXh0LiBNYXJrIHRoZSBkb20gY2hhbmdlIHRvIGZhbGwgYmFjayB0byBhc3N1bWluZyB0aGVcbiAgICAgICAgLy8gc2VsZWN0aW9uIHdhcyB0eXBlZCBvdmVyIHdpdGggYW4gaWRlbnRpY2FsIHZhbHVlIGlmIGl0IGNhbid0XG4gICAgICAgIC8vIGZpbmQgYW5vdGhlciBjaGFuZ2UuXG4gICAgICAgIHR5cGVPdmVyOiBtdXQudGFyZ2V0Lm5vZGVWYWx1ZSA9PSBtdXQub2xkVmFsdWVcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubGV0IGNzc0NoZWNrZWQgPSBmYWxzZVxuXG5mdW5jdGlvbiBjaGVja0NTUyh2aWV3KSB7XG4gIGlmIChjc3NDaGVja2VkKSByZXR1cm5cbiAgY3NzQ2hlY2tlZCA9IHRydWVcbiAgaWYgKGdldENvbXB1dGVkU3R5bGUodmlldy5kb20pLndoaXRlU3BhY2UgPT0gXCJub3JtYWxcIilcbiAgICBjb25zb2xlW1wid2FyblwiXShcIlByb3NlTWlycm9yIGV4cGVjdHMgdGhlIENTUyB3aGl0ZS1zcGFjZSBwcm9wZXJ0eSB0byBiZSBzZXQsIHByZWZlcmFibHkgdG8gJ3ByZS13cmFwJy4gSXQgaXMgcmVjb21tZW5kZWQgdG8gbG9hZCBzdHlsZS9wcm9zZW1pcnJvci5jc3MgZnJvbSB0aGUgcHJvc2VtaXJyb3ItdmlldyBwYWNrYWdlLlwiKVxufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb24sIE5vZGVTZWxlY3Rpb24sIFRleHRTZWxlY3Rpb259IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiXG5pbXBvcnQge2Ryb3BQb2ludH0gZnJvbSBcInByb3NlbWlycm9yLXRyYW5zZm9ybVwiXG5pbXBvcnQge1NsaWNlfSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwiLi9icm93c2VyXCJcbmltcG9ydCB7Y2FwdHVyZUtleURvd259IGZyb20gXCIuL2NhcHR1cmVrZXlzXCJcbmltcG9ydCB7cmVhZERPTUNoYW5nZX0gZnJvbSBcIi4vZG9tY2hhbmdlXCJcbmltcG9ydCB7cGFyc2VGcm9tQ2xpcGJvYXJkLCBzZXJpYWxpemVGb3JDbGlwYm9hcmR9IGZyb20gXCIuL2NsaXBib2FyZFwiXG5pbXBvcnQge0RPTU9ic2VydmVyfSBmcm9tIFwiLi9kb21vYnNlcnZlclwiXG5pbXBvcnQge3NlbGVjdGlvbkJldHdlZW4sIHNlbGVjdGlvblRvRE9NfSBmcm9tIFwiLi9zZWxlY3Rpb25cIlxuaW1wb3J0IHtrZXlFdmVudH0gZnJvbSBcIi4vZG9tXCJcblxuLy8gQSBjb2xsZWN0aW9uIG9mIERPTSBldmVudHMgdGhhdCBvY2N1ciB3aXRoaW4gdGhlIGVkaXRvciwgYW5kIGNhbGxiYWNrIGZ1bmN0aW9uc1xuLy8gdG8gaW52b2tlIHdoZW4gdGhlIGV2ZW50IGZpcmVzLlxuY29uc3QgaGFuZGxlcnMgPSB7fSwgZWRpdEhhbmRsZXJzID0ge31cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRJbnB1dCh2aWV3KSB7XG4gIHZpZXcuc2hpZnRLZXkgPSBmYWxzZVxuICB2aWV3Lm1vdXNlRG93biA9IG51bGxcbiAgdmlldy5sYXN0S2V5Q29kZSA9IG51bGxcbiAgdmlldy5sYXN0S2V5Q29kZVRpbWUgPSAwXG4gIHZpZXcubGFzdENsaWNrID0ge3RpbWU6IDAsIHg6IDAsIHk6IDAsIHR5cGU6IFwiXCJ9XG4gIHZpZXcubGFzdFNlbGVjdGlvbk9yaWdpbiA9IG51bGxcbiAgdmlldy5sYXN0U2VsZWN0aW9uVGltZSA9IDBcblxuICB2aWV3Lmxhc3RJT1NFbnRlciA9IDBcblxuICB2aWV3LmNvbXBvc2luZyA9IGZhbHNlXG4gIHZpZXcuY29tcG9zaW5nVGltZW91dCA9IG51bGxcbiAgdmlldy5jb21wb3NpdGlvbk5vZGVzID0gW11cbiAgdmlldy5jb21wb3NpdGlvbkVuZGVkQXQgPSAtMmU4XG5cbiAgdmlldy5kb21PYnNlcnZlciA9IG5ldyBET01PYnNlcnZlcih2aWV3LCAoZnJvbSwgdG8sIHR5cGVPdmVyLCBhZGRlZCkgPT4gcmVhZERPTUNoYW5nZSh2aWV3LCBmcm9tLCB0bywgdHlwZU92ZXIsIGFkZGVkKSlcbiAgdmlldy5kb21PYnNlcnZlci5zdGFydCgpXG4gIC8vIFVzZWQgYnkgaGFja3MgbGlrZSB0aGUgYmVmb3JlaW5wdXQgaGFuZGxlciB0byBjaGVjayB3aGV0aGVyIGFueXRoaW5nIGhhcHBlbmVkIGluIHRoZSBET01cbiAgdmlldy5kb21DaGFuZ2VDb3VudCA9IDBcblxuICB2aWV3LmV2ZW50SGFuZGxlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gIGZvciAobGV0IGV2ZW50IGluIGhhbmRsZXJzKSB7XG4gICAgbGV0IGhhbmRsZXIgPSBoYW5kbGVyc1tldmVudF1cbiAgICB2aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB2aWV3LmV2ZW50SGFuZGxlcnNbZXZlbnRdID0gZXZlbnQgPT4ge1xuICAgICAgaWYgKGV2ZW50QmVsb25nc1RvVmlldyh2aWV3LCBldmVudCkgJiYgIXJ1bkN1c3RvbUhhbmRsZXIodmlldywgZXZlbnQpICYmXG4gICAgICAgICAgKHZpZXcuZWRpdGFibGUgfHwgIShldmVudC50eXBlIGluIGVkaXRIYW5kbGVycykpKVxuICAgICAgICBoYW5kbGVyKHZpZXcsIGV2ZW50KVxuICAgIH0pXG4gIH1cbiAgLy8gT24gU2FmYXJpLCBmb3IgcmVhc29ucyBiZXlvbmQgbXkgdW5kZXJzdGFuZGluZywgYWRkaW5nIGFuIGlucHV0XG4gIC8vIGV2ZW50IGhhbmRsZXIgbWFrZXMgYW4gaXNzdWUgd2hlcmUgdGhlIGNvbXBvc2l0aW9uIHZhbmlzaGVzIHdoZW5cbiAgLy8geW91IHByZXNzIGVudGVyIGdvIGF3YXkuXG4gIGlmIChicm93c2VyLnNhZmFyaSkgdmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IG51bGwpXG5cbiAgZW5zdXJlTGlzdGVuZXJzKHZpZXcpXG59XG5cbmZ1bmN0aW9uIHNldFNlbGVjdGlvbk9yaWdpbih2aWV3LCBvcmlnaW4pIHtcbiAgdmlldy5sYXN0U2VsZWN0aW9uT3JpZ2luID0gb3JpZ2luXG4gIHZpZXcubGFzdFNlbGVjdGlvblRpbWUgPSBEYXRlLm5vdygpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95SW5wdXQodmlldykge1xuICB2aWV3LmRvbU9ic2VydmVyLnN0b3AoKVxuICBmb3IgKGxldCB0eXBlIGluIHZpZXcuZXZlbnRIYW5kbGVycylcbiAgICB2aWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHZpZXcuZXZlbnRIYW5kbGVyc1t0eXBlXSlcbiAgY2xlYXJUaW1lb3V0KHZpZXcuY29tcG9zaW5nVGltZW91dClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUxpc3RlbmVycyh2aWV3KSB7XG4gIHZpZXcuc29tZVByb3AoXCJoYW5kbGVET01FdmVudHNcIiwgY3VycmVudEhhbmRsZXJzID0+IHtcbiAgICBmb3IgKGxldCB0eXBlIGluIGN1cnJlbnRIYW5kbGVycykgaWYgKCF2aWV3LmV2ZW50SGFuZGxlcnNbdHlwZV0pXG4gICAgICB2aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHZpZXcuZXZlbnRIYW5kbGVyc1t0eXBlXSA9IGV2ZW50ID0+IHJ1bkN1c3RvbUhhbmRsZXIodmlldywgZXZlbnQpKVxuICB9KVxufVxuXG5mdW5jdGlvbiBydW5DdXN0b21IYW5kbGVyKHZpZXcsIGV2ZW50KSB7XG4gIHJldHVybiB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlRE9NRXZlbnRzXCIsIGhhbmRsZXJzID0+IHtcbiAgICBsZXQgaGFuZGxlciA9IGhhbmRsZXJzW2V2ZW50LnR5cGVdXG4gICAgcmV0dXJuIGhhbmRsZXIgPyBoYW5kbGVyKHZpZXcsIGV2ZW50KSB8fCBldmVudC5kZWZhdWx0UHJldmVudGVkIDogZmFsc2VcbiAgfSlcbn1cblxuZnVuY3Rpb24gZXZlbnRCZWxvbmdzVG9WaWV3KHZpZXcsIGV2ZW50KSB7XG4gIGlmICghZXZlbnQuYnViYmxlcykgcmV0dXJuIHRydWVcbiAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybiBmYWxzZVxuICBmb3IgKGxldCBub2RlID0gZXZlbnQudGFyZ2V0OyBub2RlICE9IHZpZXcuZG9tOyBub2RlID0gbm9kZS5wYXJlbnROb2RlKVxuICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlID09IDExIHx8XG4gICAgICAgIChub2RlLnBtVmlld0Rlc2MgJiYgbm9kZS5wbVZpZXdEZXNjLnN0b3BFdmVudChldmVudCkpKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KHZpZXcsIGV2ZW50KSB7XG4gIGlmICghcnVuQ3VzdG9tSGFuZGxlcih2aWV3LCBldmVudCkgJiYgaGFuZGxlcnNbZXZlbnQudHlwZV0gJiZcbiAgICAgICh2aWV3LmVkaXRhYmxlIHx8ICEoZXZlbnQudHlwZSBpbiBlZGl0SGFuZGxlcnMpKSlcbiAgICBoYW5kbGVyc1tldmVudC50eXBlXSh2aWV3LCBldmVudClcbn1cblxuZWRpdEhhbmRsZXJzLmtleWRvd24gPSAodmlldywgZXZlbnQpID0+IHtcbiAgdmlldy5zaGlmdEtleSA9IGV2ZW50LmtleUNvZGUgPT0gMTYgfHwgZXZlbnQuc2hpZnRLZXlcbiAgaWYgKGluT3JOZWFyQ29tcG9zaXRpb24odmlldywgZXZlbnQpKSByZXR1cm5cbiAgdmlldy5sYXN0S2V5Q29kZSA9IGV2ZW50LmtleUNvZGVcbiAgdmlldy5sYXN0S2V5Q29kZVRpbWUgPSBEYXRlLm5vdygpXG4gIC8vIE9uIGlPUywgaWYgd2UgcHJldmVudERlZmF1bHQgZW50ZXIga2V5IHByZXNzZXMsIHRoZSB2aXJ0dWFsXG4gIC8vIGtleWJvYXJkIGdldHMgY29uZnVzZWQuIFNvIHRoZSBoYWNrIGhlcmUgaXMgdG8gc2V0IGEgZmxhZyB0aGF0XG4gIC8vIG1ha2VzIHRoZSBET00gY2hhbmdlIGNvZGUgcmVjb2duaXplIHRoYXQgd2hhdCBqdXN0IGhhcHBlbnMgc2hvdWxkXG4gIC8vIGJlIHJlcGxhY2VkIGJ5IHdoYXRldmVyIHRoZSBFbnRlciBrZXkgaGFuZGxlcnMgZG8uXG4gIGlmIChicm93c2VyLmlvcyAmJiBldmVudC5rZXlDb2RlID09IDEzICYmICFldmVudC5jdHJsS2V5ICYmICFldmVudC5hbHRLZXkgJiYgIWV2ZW50Lm1ldGFLZXkpXG4gICAgdmlldy5sYXN0SU9TRW50ZXIgPSBEYXRlLm5vdygpXG4gIGVsc2UgaWYgKHZpZXcuc29tZVByb3AoXCJoYW5kbGVLZXlEb3duXCIsIGYgPT4gZih2aWV3LCBldmVudCkpIHx8IGNhcHR1cmVLZXlEb3duKHZpZXcsIGV2ZW50KSlcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIGVsc2VcbiAgICBzZXRTZWxlY3Rpb25PcmlnaW4odmlldywgXCJrZXlcIilcbn1cblxuZWRpdEhhbmRsZXJzLmtleXVwID0gKHZpZXcsIGUpID0+IHtcbiAgaWYgKGUua2V5Q29kZSA9PSAxNikgdmlldy5zaGlmdEtleSA9IGZhbHNlXG59XG5cbmVkaXRIYW5kbGVycy5rZXlwcmVzcyA9ICh2aWV3LCBldmVudCkgPT4ge1xuICBpZiAoaW5Pck5lYXJDb21wb3NpdGlvbih2aWV3LCBldmVudCkgfHwgIWV2ZW50LmNoYXJDb2RlIHx8XG4gICAgICBldmVudC5jdHJsS2V5ICYmICFldmVudC5hbHRLZXkgfHwgYnJvd3Nlci5tYWMgJiYgZXZlbnQubWV0YUtleSkgcmV0dXJuXG5cbiAgaWYgKHZpZXcuc29tZVByb3AoXCJoYW5kbGVLZXlQcmVzc1wiLCBmID0+IGYodmlldywgZXZlbnQpKSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICByZXR1cm5cbiAgfVxuXG4gIGxldCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvblxuICBpZiAoIShzZWwgaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uKSB8fCAhc2VsLiRmcm9tLnNhbWVQYXJlbnQoc2VsLiR0bykpIHtcbiAgICBsZXQgdGV4dCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZXZlbnQuY2hhckNvZGUpXG4gICAgaWYgKCF2aWV3LnNvbWVQcm9wKFwiaGFuZGxlVGV4dElucHV0XCIsIGYgPT4gZih2aWV3LCBzZWwuJGZyb20ucG9zLCBzZWwuJHRvLnBvcywgdGV4dCkpKVxuICAgICAgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLmluc2VydFRleHQodGV4dCkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRDb29yZHMoZXZlbnQpIHsgcmV0dXJuIHtsZWZ0OiBldmVudC5jbGllbnRYLCB0b3A6IGV2ZW50LmNsaWVudFl9IH1cblxuZnVuY3Rpb24gaXNOZWFyKGV2ZW50LCBjbGljaykge1xuICBsZXQgZHggPSBjbGljay54IC0gZXZlbnQuY2xpZW50WCwgZHkgPSBjbGljay55IC0gZXZlbnQuY2xpZW50WVxuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPCAxMDBcbn1cblxuZnVuY3Rpb24gcnVuSGFuZGxlck9uQ29udGV4dCh2aWV3LCBwcm9wTmFtZSwgcG9zLCBpbnNpZGUsIGV2ZW50KSB7XG4gIGlmIChpbnNpZGUgPT0gLTEpIHJldHVybiBmYWxzZVxuICBsZXQgJHBvcyA9IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoaW5zaWRlKVxuICBmb3IgKGxldCBpID0gJHBvcy5kZXB0aCArIDE7IGkgPiAwOyBpLS0pIHtcbiAgICBpZiAodmlldy5zb21lUHJvcChwcm9wTmFtZSwgZiA9PiBpID4gJHBvcy5kZXB0aCA/IGYodmlldywgcG9zLCAkcG9zLm5vZGVBZnRlciwgJHBvcy5iZWZvcmUoaSksIGV2ZW50LCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZih2aWV3LCBwb3MsICRwb3Mubm9kZShpKSwgJHBvcy5iZWZvcmUoaSksIGV2ZW50LCBmYWxzZSkpKVxuICAgICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gdXBkYXRlU2VsZWN0aW9uKHZpZXcsIHNlbGVjdGlvbiwgb3JpZ2luKSB7XG4gIGlmICghdmlldy5mb2N1c2VkKSB2aWV3LmZvY3VzKClcbiAgbGV0IHRyID0gdmlldy5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oc2VsZWN0aW9uKVxuICBpZiAob3JpZ2luID09IFwicG9pbnRlclwiKSB0ci5zZXRNZXRhKFwicG9pbnRlclwiLCB0cnVlKVxuICB2aWV3LmRpc3BhdGNoKHRyKVxufVxuXG5mdW5jdGlvbiBzZWxlY3RDbGlja2VkTGVhZih2aWV3LCBpbnNpZGUpIHtcbiAgaWYgKGluc2lkZSA9PSAtMSkgcmV0dXJuIGZhbHNlXG4gIGxldCAkcG9zID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShpbnNpZGUpLCBub2RlID0gJHBvcy5ub2RlQWZ0ZXJcbiAgaWYgKG5vZGUgJiYgbm9kZS5pc0F0b20gJiYgTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUobm9kZSkpIHtcbiAgICB1cGRhdGVTZWxlY3Rpb24odmlldywgbmV3IE5vZGVTZWxlY3Rpb24oJHBvcyksIFwicG9pbnRlclwiKVxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHNlbGVjdENsaWNrZWROb2RlKHZpZXcsIGluc2lkZSkge1xuICBpZiAoaW5zaWRlID09IC0xKSByZXR1cm4gZmFsc2VcbiAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLCBzZWxlY3RlZE5vZGUsIHNlbGVjdEF0XG4gIGlmIChzZWwgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uKSBzZWxlY3RlZE5vZGUgPSBzZWwubm9kZVxuXG4gIGxldCAkcG9zID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShpbnNpZGUpXG4gIGZvciAobGV0IGkgPSAkcG9zLmRlcHRoICsgMTsgaSA+IDA7IGktLSkge1xuICAgIGxldCBub2RlID0gaSA+ICRwb3MuZGVwdGggPyAkcG9zLm5vZGVBZnRlciA6ICRwb3Mubm9kZShpKVxuICAgIGlmIChOb2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShub2RlKSkge1xuICAgICAgaWYgKHNlbGVjdGVkTm9kZSAmJiBzZWwuJGZyb20uZGVwdGggPiAwICYmXG4gICAgICAgICAgaSA+PSBzZWwuJGZyb20uZGVwdGggJiYgJHBvcy5iZWZvcmUoc2VsLiRmcm9tLmRlcHRoICsgMSkgPT0gc2VsLiRmcm9tLnBvcylcbiAgICAgICAgc2VsZWN0QXQgPSAkcG9zLmJlZm9yZShzZWwuJGZyb20uZGVwdGgpXG4gICAgICBlbHNlXG4gICAgICAgIHNlbGVjdEF0ID0gJHBvcy5iZWZvcmUoaSlcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHNlbGVjdEF0ICE9IG51bGwpIHtcbiAgICB1cGRhdGVTZWxlY3Rpb24odmlldywgTm9kZVNlbGVjdGlvbi5jcmVhdGUodmlldy5zdGF0ZS5kb2MsIHNlbGVjdEF0KSwgXCJwb2ludGVyXCIpXG4gICAgcmV0dXJuIHRydWVcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVTaW5nbGVDbGljayh2aWV3LCBwb3MsIGluc2lkZSwgZXZlbnQsIHNlbGVjdE5vZGUpIHtcbiAgcmV0dXJuIHJ1bkhhbmRsZXJPbkNvbnRleHQodmlldywgXCJoYW5kbGVDbGlja09uXCIsIHBvcywgaW5zaWRlLCBldmVudCkgfHxcbiAgICB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlQ2xpY2tcIiwgZiA9PiBmKHZpZXcsIHBvcywgZXZlbnQpKSB8fFxuICAgIChzZWxlY3ROb2RlID8gc2VsZWN0Q2xpY2tlZE5vZGUodmlldywgaW5zaWRlKSA6IHNlbGVjdENsaWNrZWRMZWFmKHZpZXcsIGluc2lkZSkpXG59XG5cbmZ1bmN0aW9uIGhhbmRsZURvdWJsZUNsaWNrKHZpZXcsIHBvcywgaW5zaWRlLCBldmVudCkge1xuICByZXR1cm4gcnVuSGFuZGxlck9uQ29udGV4dCh2aWV3LCBcImhhbmRsZURvdWJsZUNsaWNrT25cIiwgcG9zLCBpbnNpZGUsIGV2ZW50KSB8fFxuICAgIHZpZXcuc29tZVByb3AoXCJoYW5kbGVEb3VibGVDbGlja1wiLCBmID0+IGYodmlldywgcG9zLCBldmVudCkpXG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRyaXBsZUNsaWNrKHZpZXcsIHBvcywgaW5zaWRlLCBldmVudCkge1xuICByZXR1cm4gcnVuSGFuZGxlck9uQ29udGV4dCh2aWV3LCBcImhhbmRsZVRyaXBsZUNsaWNrT25cIiwgcG9zLCBpbnNpZGUsIGV2ZW50KSB8fFxuICAgIHZpZXcuc29tZVByb3AoXCJoYW5kbGVUcmlwbGVDbGlja1wiLCBmID0+IGYodmlldywgcG9zLCBldmVudCkpIHx8XG4gICAgZGVmYXVsdFRyaXBsZUNsaWNrKHZpZXcsIGluc2lkZSlcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFRyaXBsZUNsaWNrKHZpZXcsIGluc2lkZSkge1xuICBsZXQgZG9jID0gdmlldy5zdGF0ZS5kb2NcbiAgaWYgKGluc2lkZSA9PSAtMSkge1xuICAgIGlmIChkb2MuaW5saW5lQ29udGVudCkge1xuICAgICAgdXBkYXRlU2VsZWN0aW9uKHZpZXcsIFRleHRTZWxlY3Rpb24uY3JlYXRlKGRvYywgMCwgZG9jLmNvbnRlbnQuc2l6ZSksIFwicG9pbnRlclwiKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBsZXQgJHBvcyA9IGRvYy5yZXNvbHZlKGluc2lkZSlcbiAgZm9yIChsZXQgaSA9ICRwb3MuZGVwdGggKyAxOyBpID4gMDsgaS0tKSB7XG4gICAgbGV0IG5vZGUgPSBpID4gJHBvcy5kZXB0aCA/ICRwb3Mubm9kZUFmdGVyIDogJHBvcy5ub2RlKGkpXG4gICAgbGV0IG5vZGVQb3MgPSAkcG9zLmJlZm9yZShpKVxuICAgIGlmIChub2RlLmlubGluZUNvbnRlbnQpXG4gICAgICB1cGRhdGVTZWxlY3Rpb24odmlldywgVGV4dFNlbGVjdGlvbi5jcmVhdGUoZG9jLCBub2RlUG9zICsgMSwgbm9kZVBvcyArIDEgKyBub2RlLmNvbnRlbnQuc2l6ZSksIFwicG9pbnRlclwiKVxuICAgIGVsc2UgaWYgKE5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5vZGUpKVxuICAgICAgdXBkYXRlU2VsZWN0aW9uKHZpZXcsIE5vZGVTZWxlY3Rpb24uY3JlYXRlKGRvYywgbm9kZVBvcyksIFwicG9pbnRlclwiKVxuICAgIGVsc2VcbiAgICAgIGNvbnRpbnVlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JjZURPTUZsdXNoKHZpZXcpIHtcbiAgcmV0dXJuIGVuZENvbXBvc2l0aW9uKHZpZXcpXG59XG5cbmNvbnN0IHNlbGVjdE5vZGVNb2RpZmllciA9IGJyb3dzZXIubWFjID8gXCJtZXRhS2V5XCIgOiBcImN0cmxLZXlcIlxuXG5oYW5kbGVycy5tb3VzZWRvd24gPSAodmlldywgZXZlbnQpID0+IHtcbiAgdmlldy5zaGlmdEtleSA9IGV2ZW50LnNoaWZ0S2V5XG4gIGxldCBmbHVzaGVkID0gZm9yY2VET01GbHVzaCh2aWV3KVxuICBsZXQgbm93ID0gRGF0ZS5ub3coKSwgdHlwZSA9IFwic2luZ2xlQ2xpY2tcIlxuICBpZiAobm93IC0gdmlldy5sYXN0Q2xpY2sudGltZSA8IDUwMCAmJiBpc05lYXIoZXZlbnQsIHZpZXcubGFzdENsaWNrKSAmJiAhZXZlbnRbc2VsZWN0Tm9kZU1vZGlmaWVyXSkge1xuICAgIGlmICh2aWV3Lmxhc3RDbGljay50eXBlID09IFwic2luZ2xlQ2xpY2tcIikgdHlwZSA9IFwiZG91YmxlQ2xpY2tcIlxuICAgIGVsc2UgaWYgKHZpZXcubGFzdENsaWNrLnR5cGUgPT0gXCJkb3VibGVDbGlja1wiKSB0eXBlID0gXCJ0cmlwbGVDbGlja1wiXG4gIH1cbiAgdmlldy5sYXN0Q2xpY2sgPSB7dGltZTogbm93LCB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZLCB0eXBlfVxuXG4gIGxldCBwb3MgPSB2aWV3LnBvc0F0Q29vcmRzKGV2ZW50Q29vcmRzKGV2ZW50KSlcbiAgaWYgKCFwb3MpIHJldHVyblxuXG4gIGlmICh0eXBlID09IFwic2luZ2xlQ2xpY2tcIilcbiAgICB2aWV3Lm1vdXNlRG93biA9IG5ldyBNb3VzZURvd24odmlldywgcG9zLCBldmVudCwgZmx1c2hlZClcbiAgZWxzZSBpZiAoKHR5cGUgPT0gXCJkb3VibGVDbGlja1wiID8gaGFuZGxlRG91YmxlQ2xpY2sgOiBoYW5kbGVUcmlwbGVDbGljaykodmlldywgcG9zLnBvcywgcG9zLmluc2lkZSwgZXZlbnQpKVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgZWxzZVxuICAgIHNldFNlbGVjdGlvbk9yaWdpbih2aWV3LCBcInBvaW50ZXJcIilcbn1cblxuY2xhc3MgTW91c2VEb3duIHtcbiAgY29uc3RydWN0b3IodmlldywgcG9zLCBldmVudCwgZmx1c2hlZCkge1xuICAgIHRoaXMudmlldyA9IHZpZXdcbiAgICB0aGlzLnN0YXJ0RG9jID0gdmlldy5zdGF0ZS5kb2NcbiAgICB0aGlzLnBvcyA9IHBvc1xuICAgIHRoaXMuZXZlbnQgPSBldmVudFxuICAgIHRoaXMuZmx1c2hlZCA9IGZsdXNoZWRcbiAgICB0aGlzLnNlbGVjdE5vZGUgPSBldmVudFtzZWxlY3ROb2RlTW9kaWZpZXJdXG4gICAgdGhpcy5hbGxvd0RlZmF1bHQgPSBldmVudC5zaGlmdEtleVxuXG4gICAgbGV0IHRhcmdldE5vZGUsIHRhcmdldFBvc1xuICAgIGlmIChwb3MuaW5zaWRlID4gLTEpIHtcbiAgICAgIHRhcmdldE5vZGUgPSB2aWV3LnN0YXRlLmRvYy5ub2RlQXQocG9zLmluc2lkZSlcbiAgICAgIHRhcmdldFBvcyA9IHBvcy5pbnNpZGVcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0ICRwb3MgPSB2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKHBvcy5wb3MpXG4gICAgICB0YXJnZXROb2RlID0gJHBvcy5wYXJlbnRcbiAgICAgIHRhcmdldFBvcyA9ICRwb3MuZGVwdGggPyAkcG9zLmJlZm9yZSgpIDogMFxuICAgIH1cblxuICAgIHRoaXMubWlnaHREcmFnID0gbnVsbFxuXG4gICAgY29uc3QgdGFyZ2V0ID0gZmx1c2hlZCA/IG51bGwgOiBldmVudC50YXJnZXRcbiAgICBjb25zdCB0YXJnZXREZXNjID0gdGFyZ2V0ID8gdmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKHRhcmdldCwgdHJ1ZSkgOiBudWxsXG4gICAgdGhpcy50YXJnZXQgPSB0YXJnZXREZXNjID8gdGFyZ2V0RGVzYy5kb20gOiBudWxsXG5cbiAgICBpZiAodGFyZ2V0Tm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlICYmIHRhcmdldE5vZGUudHlwZS5zcGVjLnNlbGVjdGFibGUgIT09IGZhbHNlIHx8XG4gICAgICAgIHZpZXcuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbiAmJiB0YXJnZXRQb3MgPT0gdmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbSlcbiAgICAgIHRoaXMubWlnaHREcmFnID0ge25vZGU6IHRhcmdldE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHRhcmdldFBvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEF0dHI6IHRoaXMudGFyZ2V0ICYmICF0aGlzLnRhcmdldC5kcmFnZ2FibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRVbmVkaXRhYmxlOiB0aGlzLnRhcmdldCAmJiBicm93c2VyLmdlY2tvICYmICF0aGlzLnRhcmdldC5oYXNBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIil9XG5cbiAgICBpZiAodGhpcy50YXJnZXQgJiYgdGhpcy5taWdodERyYWcgJiYgKHRoaXMubWlnaHREcmFnLmFkZEF0dHIgfHwgdGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSkpIHtcbiAgICAgIHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKClcbiAgICAgIGlmICh0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyKSB0aGlzLnRhcmdldC5kcmFnZ2FibGUgPSB0cnVlXG4gICAgICBpZiAodGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSlcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiwgXCJmYWxzZVwiKSwgMjApXG4gICAgICB0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKVxuICAgIH1cblxuICAgIHZpZXcucm9vdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLnVwID0gdGhpcy51cC5iaW5kKHRoaXMpKVxuICAgIHZpZXcucm9vdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW92ZSA9IHRoaXMubW92ZS5iaW5kKHRoaXMpKVxuICAgIHNldFNlbGVjdGlvbk9yaWdpbih2aWV3LCBcInBvaW50ZXJcIilcbiAgfVxuXG4gIGRvbmUoKSB7XG4gICAgdGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy51cClcbiAgICB0aGlzLnZpZXcucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW92ZSlcbiAgICBpZiAodGhpcy5taWdodERyYWcgJiYgdGhpcy50YXJnZXQpIHtcbiAgICAgIHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKClcbiAgICAgIGlmICh0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyKSB0aGlzLnRhcmdldC5kcmFnZ2FibGUgPSBmYWxzZVxuICAgICAgaWYgKHRoaXMubWlnaHREcmFnLnNldFVuZWRpdGFibGUpIHRoaXMudGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKVxuICAgICAgdGhpcy52aWV3LmRvbU9ic2VydmVyLnN0YXJ0KClcbiAgICB9XG4gICAgdGhpcy52aWV3Lm1vdXNlRG93biA9IG51bGxcbiAgfVxuXG4gIHVwKGV2ZW50KSB7XG4gICAgdGhpcy5kb25lKClcblxuICAgIGlmICghdGhpcy52aWV3LmRvbS5jb250YWlucyhldmVudC50YXJnZXQubm9kZVR5cGUgPT0gMyA/IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlIDogZXZlbnQudGFyZ2V0KSlcbiAgICAgIHJldHVyblxuXG4gICAgbGV0IHBvcyA9IHRoaXMucG9zXG4gICAgaWYgKHRoaXMudmlldy5zdGF0ZS5kb2MgIT0gdGhpcy5zdGFydERvYykgcG9zID0gdGhpcy52aWV3LnBvc0F0Q29vcmRzKGV2ZW50Q29vcmRzKGV2ZW50KSlcblxuICAgIGlmICh0aGlzLmFsbG93RGVmYXVsdCB8fCAhcG9zKSB7XG4gICAgICBzZXRTZWxlY3Rpb25PcmlnaW4odGhpcy52aWV3LCBcInBvaW50ZXJcIilcbiAgICB9IGVsc2UgaWYgKGhhbmRsZVNpbmdsZUNsaWNrKHRoaXMudmlldywgcG9zLnBvcywgcG9zLmluc2lkZSwgZXZlbnQsIHRoaXMuc2VsZWN0Tm9kZSkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9IGVsc2UgaWYgKHRoaXMuZmx1c2hlZCB8fFxuICAgICAgICAgICAgICAgLy8gQ2hyb21lIHdpbGwgc29tZXRpbWVzIHRyZWF0IGEgbm9kZSBzZWxlY3Rpb24gYXMgYVxuICAgICAgICAgICAgICAgLy8gY3Vyc29yLCBidXQgc3RpbGwgcmVwb3J0IHRoYXQgdGhlIG5vZGUgaXMgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgIC8vIHdoZW4gYXNrZWQgdGhyb3VnaCBnZXRTZWxlY3Rpb24uIFlvdSdsbCB0aGVuIGdldCBhXG4gICAgICAgICAgICAgICAvLyBzaXR1YXRpb24gd2hlcmUgY2xpY2tpbmcgYXQgdGhlIHBvaW50IHdoZXJlIHRoYXRcbiAgICAgICAgICAgICAgIC8vIChoaWRkZW4pIGN1cnNvciBpcyBkb2Vzbid0IGNoYW5nZSB0aGUgc2VsZWN0aW9uLCBhbmRcbiAgICAgICAgICAgICAgIC8vIHRodXMgZG9lc24ndCBnZXQgYSByZWFjdGlvbiBmcm9tIFByb3NlTWlycm9yLiBUaGlzXG4gICAgICAgICAgICAgICAvLyB3b3JrcyBhcm91bmQgdGhhdC5cbiAgICAgICAgICAgICAgIChicm93c2VyLmNocm9tZSAmJiAhKHRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uKSAmJlxuICAgICAgICAgICAgICAgIChwb3MucG9zID09IHRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbSB8fCBwb3MucG9zID09IHRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24udG8pKSkge1xuICAgICAgdXBkYXRlU2VsZWN0aW9uKHRoaXMudmlldywgU2VsZWN0aW9uLm5lYXIodGhpcy52aWV3LnN0YXRlLmRvYy5yZXNvbHZlKHBvcy5wb3MpKSwgXCJwb2ludGVyXCIpXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNlbGVjdGlvbk9yaWdpbih0aGlzLnZpZXcsIFwicG9pbnRlclwiKVxuICAgIH1cbiAgfVxuXG4gIG1vdmUoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuYWxsb3dEZWZhdWx0ICYmIChNYXRoLmFicyh0aGlzLmV2ZW50LnggLSBldmVudC5jbGllbnRYKSA+IDQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyh0aGlzLmV2ZW50LnkgLSBldmVudC5jbGllbnRZKSA+IDQpKVxuICAgICAgdGhpcy5hbGxvd0RlZmF1bHQgPSB0cnVlXG4gICAgc2V0U2VsZWN0aW9uT3JpZ2luKHRoaXMudmlldywgXCJwb2ludGVyXCIpXG4gIH1cbn1cblxuaGFuZGxlcnMudG91Y2hkb3duID0gdmlldyA9PiB7XG4gIGZvcmNlRE9NRmx1c2godmlldylcbiAgc2V0U2VsZWN0aW9uT3JpZ2luKHZpZXcsIFwicG9pbnRlclwiKVxufVxuXG5oYW5kbGVycy5jb250ZXh0bWVudSA9IHZpZXcgPT4gZm9yY2VET01GbHVzaCh2aWV3KVxuXG5mdW5jdGlvbiBpbk9yTmVhckNvbXBvc2l0aW9uKHZpZXcsIGV2ZW50KSB7XG4gIGlmICh2aWV3LmNvbXBvc2luZykgcmV0dXJuIHRydWVcbiAgLy8gU2VlIGh0dHBzOi8vd3d3LnN0dW0uZGUvMjAxNi8wNi8yNC9oYW5kbGluZy1pbWUtZXZlbnRzLWluLWphdmFzY3JpcHQvLlxuICAvLyBPbiBKYXBhbmVzZSBpbnB1dCBtZXRob2QgZWRpdG9ycyAoSU1FcyksIHRoZSBFbnRlciBrZXkgaXMgdXNlZCB0byBjb25maXJtIGNoYXJhY3RlclxuICAvLyBzZWxlY3Rpb24uIE9uIFNhZmFyaSwgd2hlbiBFbnRlciBpcyBwcmVzc2VkLCBjb21wb3NpdGlvbmVuZCBhbmQga2V5ZG93biBldmVudHMgYXJlXG4gIC8vIGVtaXR0ZWQuIFRoZSBrZXlkb3duIGV2ZW50IHRyaWdnZXJzIG5ld2xpbmUgaW5zZXJ0aW9uLCB3aGljaCB3ZSBkb24ndCB3YW50LlxuICAvLyBUaGlzIG1ldGhvZCByZXR1cm5zIHRydWUgaWYgdGhlIGtleWRvd24gZXZlbnQgc2hvdWxkIGJlIGlnbm9yZWQuXG4gIC8vIFdlIG9ubHkgaWdub3JlIGl0IG9uY2UsIGFzIHByZXNzaW5nIEVudGVyIGEgc2Vjb25kIHRpbWUgKnNob3VsZCogaW5zZXJ0IGEgbmV3bGluZS5cbiAgLy8gRnVydGhlcm1vcmUsIHRoZSBrZXlkb3duIGV2ZW50IHRpbWVzdGFtcCBtdXN0IGJlIGNsb3NlIHRvIHRoZSBjb21wb3NpdGlvbkVuZGVkQXQgdGltZXN0YW1wLlxuICAvLyBUaGlzIGd1YXJkcyBhZ2FpbnN0IHRoZSBjYXNlIHdoZXJlIGNvbXBvc2l0aW9uZW5kIGlzIHRyaWdnZXJlZCB3aXRob3V0IHRoZSBrZXlib2FyZFxuICAvLyAoZS5nLiBjaGFyYWN0ZXIgY29uZmlybWF0aW9uIG1heSBiZSBkb25lIHdpdGggdGhlIG1vdXNlKSwgYW5kIGtleWRvd24gaXMgdHJpZ2dlcmVkXG4gIC8vIGFmdGVyd2FyZHMtIHdlIHdvdWxkbid0IHdhbnQgdG8gaWdub3JlIHRoZSBrZXlkb3duIGV2ZW50IGluIHRoaXMgY2FzZS5cbiAgaWYgKGJyb3dzZXIuc2FmYXJpICYmIE1hdGguYWJzKGV2ZW50LnRpbWVTdGFtcCAtIHZpZXcuY29tcG9zaXRpb25FbmRlZEF0KSA8IDUwMCkge1xuICAgIHZpZXcuY29tcG9zaXRpb25FbmRlZEF0ID0gLTJlOFxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIERyb3AgYWN0aXZlIGNvbXBvc2l0aW9uIGFmdGVyIDUgc2Vjb25kcyBvZiBpbmFjdGl2aXR5IG9uIEFuZHJvaWRcbmNvbnN0IHRpbWVvdXRDb21wb3NpdGlvbiA9IGJyb3dzZXIuYW5kcm9pZCA/IDUwMDAgOiAtMVxuXG5lZGl0SGFuZGxlcnMuY29tcG9zaXRpb25zdGFydCA9IGVkaXRIYW5kbGVycy5jb21wb3NpdGlvbnVwZGF0ZSA9IHZpZXcgPT4ge1xuICBpZiAoIXZpZXcuY29tcG9zaW5nKSB7XG4gICAgdmlldy5kb21PYnNlcnZlci5mbHVzaCgpXG4gICAgbGV0IHtzdGF0ZX0gPSB2aWV3LCAkcG9zID0gc3RhdGUuc2VsZWN0aW9uLiRmcm9tXG4gICAgaWYgKHN0YXRlLnNlbGVjdGlvbi5lbXB0eSAmJlxuICAgICAgICAoc3RhdGUuc3RvcmVkTWFya3MgfHwgKCEkcG9zLnRleHRPZmZzZXQgJiYgJHBvcy5wYXJlbnRPZmZzZXQgJiYgJHBvcy5ub2RlQmVmb3JlLm1hcmtzLnNvbWUobSA9PiBtLnR5cGUuc3BlYy5pbmNsdXNpdmUgPT09IGZhbHNlKSkpKSB7XG4gICAgICAvLyBOZWVkIHRvIHdyYXAgdGhlIGN1cnNvciBpbiBtYXJrIG5vZGVzIGRpZmZlcmVudCBmcm9tIHRoZSBvbmVzIGluIHRoZSBET00gY29udGV4dFxuICAgICAgdmlldy5tYXJrQ3Vyc29yID0gdmlldy5zdGF0ZS5zdG9yZWRNYXJrcyB8fCAkcG9zLm1hcmtzKClcbiAgICAgIGVuZENvbXBvc2l0aW9uKHZpZXcsIHRydWUpXG4gICAgICB2aWV3Lm1hcmtDdXJzb3IgPSBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuZENvbXBvc2l0aW9uKHZpZXcpXG4gICAgICAvLyBJbiBmaXJlZm94LCBpZiB0aGUgY3Vyc29yIGlzIGFmdGVyIGJ1dCBvdXRzaWRlIGEgbWFya2VkIG5vZGUsXG4gICAgICAvLyB0aGUgaW5zZXJ0ZWQgdGV4dCB3b24ndCBpbmhlcml0IHRoZSBtYXJrcy4gU28gdGhpcyBtb3ZlcyBpdFxuICAgICAgLy8gaW5zaWRlIGlmIG5lY2Vzc2FyeS5cbiAgICAgIGlmIChicm93c2VyLmdlY2tvICYmIHN0YXRlLnNlbGVjdGlvbi5lbXB0eSAmJiAkcG9zLnBhcmVudE9mZnNldCAmJiAhJHBvcy50ZXh0T2Zmc2V0ICYmICRwb3Mubm9kZUJlZm9yZS5tYXJrcy5sZW5ndGgpIHtcbiAgICAgICAgbGV0IHNlbCA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKVxuICAgICAgICBmb3IgKGxldCBub2RlID0gc2VsLmZvY3VzTm9kZSwgb2Zmc2V0ID0gc2VsLmZvY3VzT2Zmc2V0OyBub2RlICYmIG5vZGUubm9kZVR5cGUgPT0gMSAmJiBvZmZzZXQgIT0gMDspIHtcbiAgICAgICAgICBsZXQgYmVmb3JlID0gb2Zmc2V0IDwgMCA/IG5vZGUubGFzdENoaWxkIDogbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdXG4gICAgICAgICAgaWYgKCFiZWZvcmUpIGJyZWFrXG4gICAgICAgICAgaWYgKGJlZm9yZS5ub2RlVHlwZSA9PSAzKSB7XG4gICAgICAgICAgICBzZWwuY29sbGFwc2UoYmVmb3JlLCBiZWZvcmUubm9kZVZhbHVlLmxlbmd0aClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGUgPSBiZWZvcmVcbiAgICAgICAgICAgIG9mZnNldCA9IC0xXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZpZXcuY29tcG9zaW5nID0gdHJ1ZVxuICB9XG4gIHNjaGVkdWxlQ29tcG9zZUVuZCh2aWV3LCB0aW1lb3V0Q29tcG9zaXRpb24pXG59XG5cbmVkaXRIYW5kbGVycy5jb21wb3NpdGlvbmVuZCA9ICh2aWV3LCBldmVudCkgPT4ge1xuICBpZiAodmlldy5jb21wb3NpbmcpIHtcbiAgICB2aWV3LmNvbXBvc2luZyA9IGZhbHNlXG4gICAgdmlldy5jb21wb3NpdGlvbkVuZGVkQXQgPSBldmVudC50aW1lU3RhbXBcbiAgICBzY2hlZHVsZUNvbXBvc2VFbmQodmlldywgMjApXG4gIH1cbn1cblxuZnVuY3Rpb24gc2NoZWR1bGVDb21wb3NlRW5kKHZpZXcsIGRlbGF5KSB7XG4gIGNsZWFyVGltZW91dCh2aWV3LmNvbXBvc2luZ1RpbWVvdXQpXG4gIGlmIChkZWxheSA+IC0xKSB2aWV3LmNvbXBvc2luZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGVuZENvbXBvc2l0aW9uKHZpZXcpLCBkZWxheSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuZENvbXBvc2l0aW9uKHZpZXcsIGZvcmNlVXBkYXRlKSB7XG4gIHZpZXcuY29tcG9zaW5nID0gZmFsc2VcbiAgd2hpbGUgKHZpZXcuY29tcG9zaXRpb25Ob2Rlcy5sZW5ndGggPiAwKSB2aWV3LmNvbXBvc2l0aW9uTm9kZXMucG9wKCkubWFya1BhcmVudHNEaXJ0eSgpXG4gIGlmIChmb3JjZVVwZGF0ZSB8fCB2aWV3LmRvY1ZpZXcuZGlydHkpIHtcbiAgICB2aWV3LnVwZGF0ZVN0YXRlKHZpZXcuc3RhdGUpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gY2FwdHVyZUNvcHkodmlldywgZG9tKSB7XG4gIC8vIFRoZSBleHRyYSB3cmFwcGVyIGlzIHNvbWVob3cgbmVjZXNzYXJ5IG9uIElFL0VkZ2UgdG8gcHJldmVudCB0aGVcbiAgLy8gY29udGVudCBmcm9tIGJlaW5nIG1hbmdsZWQgd2hlbiBpdCBpcyBwdXQgb250byB0aGUgY2xpcGJvYXJkXG4gIGxldCBkb2MgPSB2aWV3LmRvbS5vd25lckRvY3VtZW50XG4gIGxldCB3cmFwID0gZG9jLmJvZHkuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpXG4gIHdyYXAuYXBwZW5kQ2hpbGQoZG9tKVxuICB3cmFwLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweFwiXG4gIGxldCBzZWwgPSBnZXRTZWxlY3Rpb24oKSwgcmFuZ2UgPSBkb2MuY3JlYXRlUmFuZ2UoKVxuICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZG9tKVxuICAvLyBEb25lIGJlY2F1c2UgSUUgd2lsbCBmaXJlIGEgc2VsZWN0aW9uY2hhbmdlIG1vdmluZyB0aGUgc2VsZWN0aW9uXG4gIC8vIHRvIGl0cyBzdGFydCB3aGVuIHJlbW92ZUFsbFJhbmdlcyBpcyBjYWxsZWQgYW5kIHRoZSBlZGl0b3Igc3RpbGxcbiAgLy8gaGFzIGZvY3VzICh3aGljaCB3aWxsIG1lc3MgdXAgdGhlIGVkaXRvcidzIHNlbGVjdGlvbiBzdGF0ZSkuXG4gIHZpZXcuZG9tLmJsdXIoKVxuICBzZWwucmVtb3ZlQWxsUmFuZ2VzKClcbiAgc2VsLmFkZFJhbmdlKHJhbmdlKVxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBkb2MuYm9keS5yZW1vdmVDaGlsZCh3cmFwKVxuICAgIHZpZXcuZm9jdXMoKVxuICB9LCA1MClcbn1cblxuLy8gVGhpcyBpcyB2ZXJ5IGNydWRlLCBidXQgdW5mb3J0dW5hdGVseSBib3RoIHRoZXNlIGJyb3dzZXJzIF9wcmV0ZW5kX1xuLy8gdGhhdCB0aGV5IGhhdmUgYSBjbGlwYm9hcmQgQVBJ4oCUYWxsIHRoZSBvYmplY3RzIGFuZCBtZXRob2RzIGFyZVxuLy8gdGhlcmUsIHRoZXkganVzdCBkb24ndCB3b3JrLCBhbmQgdGhleSBhcmUgaGFyZCB0byB0ZXN0LlxuY29uc3QgYnJva2VuQ2xpcGJvYXJkQVBJID0gKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDwgMTUpIHx8XG4gICAgICAoYnJvd3Nlci5pb3MgJiYgYnJvd3Nlci53ZWJraXRfdmVyc2lvbiA8IDYwNClcblxuaGFuZGxlcnMuY29weSA9IGVkaXRIYW5kbGVycy5jdXQgPSAodmlldywgZSkgPT4ge1xuICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24sIGN1dCA9IGUudHlwZSA9PSBcImN1dFwiXG4gIGlmIChzZWwuZW1wdHkpIHJldHVyblxuXG4gIC8vIElFIGFuZCBFZGdlJ3MgY2xpcGJvYXJkIGludGVyZmFjZSBpcyBjb21wbGV0ZWx5IGJyb2tlblxuICBsZXQgZGF0YSA9IGJyb2tlbkNsaXBib2FyZEFQSSA/IG51bGwgOiBlLmNsaXBib2FyZERhdGFcbiAgbGV0IHNsaWNlID0gc2VsLmNvbnRlbnQoKSwge2RvbSwgdGV4dH0gPSBzZXJpYWxpemVGb3JDbGlwYm9hcmQodmlldywgc2xpY2UpXG4gIGlmIChkYXRhKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZGF0YS5jbGVhckRhdGEoKVxuICAgIGRhdGEuc2V0RGF0YShcInRleHQvaHRtbFwiLCBkb20uaW5uZXJIVE1MKVxuICAgIGRhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgdGV4dClcbiAgfSBlbHNlIHtcbiAgICBjYXB0dXJlQ29weSh2aWV3LCBkb20pXG4gIH1cbiAgaWYgKGN1dCkgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLmRlbGV0ZVNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCkuc2V0TWV0YShcInVpRXZlbnRcIiwgXCJjdXRcIikpXG59XG5cbmZ1bmN0aW9uIHNsaWNlU2luZ2xlTm9kZShzbGljZSkge1xuICByZXR1cm4gc2xpY2Uub3BlblN0YXJ0ID09IDAgJiYgc2xpY2Uub3BlbkVuZCA9PSAwICYmIHNsaWNlLmNvbnRlbnQuY2hpbGRDb3VudCA9PSAxID8gc2xpY2UuY29udGVudC5maXJzdENoaWxkIDogbnVsbFxufVxuXG5mdW5jdGlvbiBjYXB0dXJlUGFzdGUodmlldywgZSkge1xuICBsZXQgZG9jID0gdmlldy5kb20ub3duZXJEb2N1bWVudFxuICBsZXQgcGxhaW5UZXh0ID0gdmlldy5zaGlmdEtleSB8fCB2aWV3LnN0YXRlLnNlbGVjdGlvbi4kZnJvbS5wYXJlbnQudHlwZS5zcGVjLmNvZGVcbiAgbGV0IHRhcmdldCA9IGRvYy5ib2R5LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVFbGVtZW50KHBsYWluVGV4dCA/IFwidGV4dGFyZWFcIiA6IFwiZGl2XCIpKVxuICBpZiAoIXBsYWluVGV4dCkgdGFyZ2V0LmNvbnRlbnRFZGl0YWJsZSA9IFwidHJ1ZVwiXG4gIHRhcmdldC5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IC0xMDAwMHB4OyB0b3A6IDEwcHhcIlxuICB0YXJnZXQuZm9jdXMoKVxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICB2aWV3LmZvY3VzKClcbiAgICBkb2MuYm9keS5yZW1vdmVDaGlsZCh0YXJnZXQpXG4gICAgaWYgKHBsYWluVGV4dCkgZG9QYXN0ZSh2aWV3LCB0YXJnZXQudmFsdWUsIG51bGwsIGUpXG4gICAgZWxzZSBkb1Bhc3RlKHZpZXcsIHRhcmdldC50ZXh0Q29udGVudCwgdGFyZ2V0LmlubmVySFRNTCwgZSlcbiAgfSwgNTApXG59XG5cbmZ1bmN0aW9uIGRvUGFzdGUodmlldywgdGV4dCwgaHRtbCwgZSkge1xuICBsZXQgc2xpY2UgPSBwYXJzZUZyb21DbGlwYm9hcmQodmlldywgdGV4dCwgaHRtbCwgdmlldy5zaGlmdEtleSwgdmlldy5zdGF0ZS5zZWxlY3Rpb24uJGZyb20pXG4gIGlmICh2aWV3LnNvbWVQcm9wKFwiaGFuZGxlUGFzdGVcIiwgZiA9PiBmKHZpZXcsIGUsIHNsaWNlIHx8IFNsaWNlLmVtcHR5KSkgfHwgIXNsaWNlKSByZXR1cm5cblxuICBsZXQgc2luZ2xlTm9kZSA9IHNsaWNlU2luZ2xlTm9kZShzbGljZSlcbiAgbGV0IHRyID0gc2luZ2xlTm9kZSA/IHZpZXcuc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbldpdGgoc2luZ2xlTm9kZSwgdmlldy5zaGlmdEtleSkgOiB2aWV3LnN0YXRlLnRyLnJlcGxhY2VTZWxlY3Rpb24oc2xpY2UpXG4gIHZpZXcuZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKS5zZXRNZXRhKFwicGFzdGVcIiwgdHJ1ZSkuc2V0TWV0YShcInVpRXZlbnRcIiwgXCJwYXN0ZVwiKSlcbn1cblxuZWRpdEhhbmRsZXJzLnBhc3RlID0gKHZpZXcsIGUpID0+IHtcbiAgbGV0IGRhdGEgPSBicm9rZW5DbGlwYm9hcmRBUEkgPyBudWxsIDogZS5jbGlwYm9hcmREYXRhXG4gIGxldCBodG1sID0gZGF0YSAmJiBkYXRhLmdldERhdGEoXCJ0ZXh0L2h0bWxcIiksIHRleHQgPSBkYXRhICYmIGRhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIilcbiAgaWYgKGRhdGEgJiYgKGh0bWwgfHwgdGV4dCB8fCBkYXRhLmZpbGVzLmxlbmd0aCkpIHtcbiAgICBkb1Bhc3RlKHZpZXcsIHRleHQsIGh0bWwsIGUpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH0gZWxzZSB7XG4gICAgY2FwdHVyZVBhc3RlKHZpZXcsIGUpXG4gIH1cbn1cblxuY2xhc3MgRHJhZ2dpbmcge1xuICBjb25zdHJ1Y3RvcihzbGljZSwgbW92ZSkge1xuICAgIHRoaXMuc2xpY2UgPSBzbGljZVxuICAgIHRoaXMubW92ZSA9IG1vdmVcbiAgfVxufVxuXG5jb25zdCBkcmFnQ29weU1vZGlmaWVyID0gYnJvd3Nlci5tYWMgPyBcImFsdEtleVwiIDogXCJjdHJsS2V5XCJcblxuaGFuZGxlcnMuZHJhZ3N0YXJ0ID0gKHZpZXcsIGUpID0+IHtcbiAgbGV0IG1vdXNlRG93biA9IHZpZXcubW91c2VEb3duXG4gIGlmIChtb3VzZURvd24pIG1vdXNlRG93bi5kb25lKClcbiAgaWYgKCFlLmRhdGFUcmFuc2ZlcikgcmV0dXJuXG5cbiAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uXG4gIGxldCBwb3MgPSBzZWwuZW1wdHkgPyBudWxsIDogdmlldy5wb3NBdENvb3JkcyhldmVudENvb3JkcyhlKSlcbiAgaWYgKHBvcyAmJiBwb3MucG9zID49IHNlbC5mcm9tICYmIHBvcy5wb3MgPD0gKHNlbCBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24gPyBzZWwudG8gLSAxOiBzZWwudG8pKSB7XG4gICAgLy8gSW4gc2VsZWN0aW9uXG4gIH0gZWxzZSBpZiAobW91c2VEb3duICYmIG1vdXNlRG93bi5taWdodERyYWcpIHtcbiAgICB2aWV3LmRpc3BhdGNoKHZpZXcuc3RhdGUudHIuc2V0U2VsZWN0aW9uKE5vZGVTZWxlY3Rpb24uY3JlYXRlKHZpZXcuc3RhdGUuZG9jLCBtb3VzZURvd24ubWlnaHREcmFnLnBvcykpKVxuICB9IGVsc2UgaWYgKGUudGFyZ2V0ICYmIGUudGFyZ2V0Lm5vZGVUeXBlID09IDEpIHtcbiAgICBsZXQgZGVzYyA9IHZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhlLnRhcmdldCwgdHJ1ZSlcbiAgICBpZiAoIWRlc2MgfHwgIWRlc2Mubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlIHx8IGRlc2MgPT0gdmlldy5kb2NWaWV3KSByZXR1cm5cbiAgICB2aWV3LmRpc3BhdGNoKHZpZXcuc3RhdGUudHIuc2V0U2VsZWN0aW9uKE5vZGVTZWxlY3Rpb24uY3JlYXRlKHZpZXcuc3RhdGUuZG9jLCBkZXNjLnBvc0JlZm9yZSkpKVxuICB9XG4gIGxldCBzbGljZSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLmNvbnRlbnQoKSwge2RvbSwgdGV4dH0gPSBzZXJpYWxpemVGb3JDbGlwYm9hcmQodmlldywgc2xpY2UpXG4gIGUuZGF0YVRyYW5zZmVyLmNsZWFyRGF0YSgpXG4gIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoYnJva2VuQ2xpcGJvYXJkQVBJID8gXCJUZXh0XCIgOiBcInRleHQvaHRtbFwiLCBkb20uaW5uZXJIVE1MKVxuICBpZiAoIWJyb2tlbkNsaXBib2FyZEFQSSkgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgdGV4dClcbiAgdmlldy5kcmFnZ2luZyA9IG5ldyBEcmFnZ2luZyhzbGljZSwgIWVbZHJhZ0NvcHlNb2RpZmllcl0pXG59XG5cbmhhbmRsZXJzLmRyYWdlbmQgPSB2aWV3ID0+IHtcbiAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdmlldy5kcmFnZ2luZyA9IG51bGwsIDUwKVxufVxuXG5lZGl0SGFuZGxlcnMuZHJhZ292ZXIgPSBlZGl0SGFuZGxlcnMuZHJhZ2VudGVyID0gKF8sIGUpID0+IGUucHJldmVudERlZmF1bHQoKVxuXG5lZGl0SGFuZGxlcnMuZHJvcCA9ICh2aWV3LCBlKSA9PiB7XG4gIGxldCBkcmFnZ2luZyA9IHZpZXcuZHJhZ2dpbmdcbiAgdmlldy5kcmFnZ2luZyA9IG51bGxcblxuICBpZiAoIWUuZGF0YVRyYW5zZmVyKSByZXR1cm5cblxuICBsZXQgZXZlbnRQb3MgPSB2aWV3LnBvc0F0Q29vcmRzKGV2ZW50Q29vcmRzKGUpKVxuICBpZiAoIWV2ZW50UG9zKSByZXR1cm5cbiAgbGV0ICRtb3VzZSA9IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoZXZlbnRQb3MucG9zKVxuICBpZiAoISRtb3VzZSkgcmV0dXJuXG4gIGxldCBzbGljZSA9IGRyYWdnaW5nICYmIGRyYWdnaW5nLnNsaWNlIHx8XG4gICAgICBwYXJzZUZyb21DbGlwYm9hcmQodmlldywgZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShicm9rZW5DbGlwYm9hcmRBUEkgPyBcIlRleHRcIiA6IFwidGV4dC9wbGFpblwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBicm9rZW5DbGlwYm9hcmRBUEkgPyBudWxsIDogZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHQvaHRtbFwiKSwgZmFsc2UsICRtb3VzZSlcbiAgaWYgKCFzbGljZSkgcmV0dXJuXG5cbiAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIGlmICh2aWV3LnNvbWVQcm9wKFwiaGFuZGxlRHJvcFwiLCBmID0+IGYodmlldywgZSwgc2xpY2UsIGRyYWdnaW5nICYmIGRyYWdnaW5nLm1vdmUpKSkgcmV0dXJuXG4gIGxldCBpbnNlcnRQb3MgPSBzbGljZSA/IGRyb3BQb2ludCh2aWV3LnN0YXRlLmRvYywgJG1vdXNlLnBvcywgc2xpY2UpIDogJG1vdXNlLnBvc1xuICBpZiAoaW5zZXJ0UG9zID09IG51bGwpIGluc2VydFBvcyA9ICRtb3VzZS5wb3NcblxuICBsZXQgdHIgPSB2aWV3LnN0YXRlLnRyXG4gIGlmIChkcmFnZ2luZyAmJiBkcmFnZ2luZy5tb3ZlKSB0ci5kZWxldGVTZWxlY3Rpb24oKVxuXG4gIGxldCBwb3MgPSB0ci5tYXBwaW5nLm1hcChpbnNlcnRQb3MpXG4gIGxldCBpc05vZGUgPSBzbGljZS5vcGVuU3RhcnQgPT0gMCAmJiBzbGljZS5vcGVuRW5kID09IDAgJiYgc2xpY2UuY29udGVudC5jaGlsZENvdW50ID09IDFcbiAgbGV0IGJlZm9yZUluc2VydCA9IHRyLmRvY1xuICBpZiAoaXNOb2RlKVxuICAgIHRyLnJlcGxhY2VSYW5nZVdpdGgocG9zLCBwb3MsIHNsaWNlLmNvbnRlbnQuZmlyc3RDaGlsZClcbiAgZWxzZVxuICAgIHRyLnJlcGxhY2VSYW5nZShwb3MsIHBvcywgc2xpY2UpXG4gIGlmICh0ci5kb2MuZXEoYmVmb3JlSW5zZXJ0KSkgcmV0dXJuXG5cbiAgbGV0ICRwb3MgPSB0ci5kb2MucmVzb2x2ZShwb3MpXG4gIGlmIChpc05vZGUgJiYgTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUoc2xpY2UuY29udGVudC5maXJzdENoaWxkKSAmJlxuICAgICAgJHBvcy5ub2RlQWZ0ZXIgJiYgJHBvcy5ub2RlQWZ0ZXIuc2FtZU1hcmt1cChzbGljZS5jb250ZW50LmZpcnN0Q2hpbGQpKVxuICAgIHRyLnNldFNlbGVjdGlvbihuZXcgTm9kZVNlbGVjdGlvbigkcG9zKSlcbiAgZWxzZVxuICAgIHRyLnNldFNlbGVjdGlvbihzZWxlY3Rpb25CZXR3ZWVuKHZpZXcsICRwb3MsIHRyLmRvYy5yZXNvbHZlKHRyLm1hcHBpbmcubWFwKGluc2VydFBvcykpKSlcbiAgdmlldy5mb2N1cygpXG4gIHZpZXcuZGlzcGF0Y2godHIuc2V0TWV0YShcInVpRXZlbnRcIiwgXCJkcm9wXCIpKVxufVxuXG5oYW5kbGVycy5mb2N1cyA9IHZpZXcgPT4ge1xuICBpZiAoIXZpZXcuZm9jdXNlZCkge1xuICAgIHZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpXG4gICAgdmlldy5kb20uY2xhc3NMaXN0LmFkZChcIlByb3NlTWlycm9yLWZvY3VzZWRcIilcbiAgICB2aWV3LmRvbU9ic2VydmVyLnN0YXJ0KClcbiAgICB2aWV3LmZvY3VzZWQgPSB0cnVlXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodmlldy5kb2NWaWV3ICYmIHZpZXcuaGFzRm9jdXMoKSAmJiAhdmlldy5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLmVxKHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKSkpXG4gICAgICAgIHNlbGVjdGlvblRvRE9NKHZpZXcpXG4gICAgfSwgMjApXG4gIH1cbn1cblxuaGFuZGxlcnMuYmx1ciA9IHZpZXcgPT4ge1xuICBpZiAodmlldy5mb2N1c2VkKSB7XG4gICAgdmlldy5kb21PYnNlcnZlci5zdG9wKClcbiAgICB2aWV3LmRvbS5jbGFzc0xpc3QucmVtb3ZlKFwiUHJvc2VNaXJyb3ItZm9jdXNlZFwiKVxuICAgIHZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKVxuICAgIHZpZXcuZG9tT2JzZXJ2ZXIuY3VycmVudFNlbGVjdGlvbi5zZXQoe30pXG4gICAgdmlldy5mb2N1c2VkID0gZmFsc2VcbiAgfVxufVxuXG5oYW5kbGVycy5iZWZvcmVpbnB1dCA9ICh2aWV3LCBldmVudCkgPT4ge1xuICAvLyBXZSBzaG91bGQgcHJvYmFibHkgZG8gbW9yZSB3aXRoIGJlZm9yZWlucHV0IGV2ZW50cywgYnV0IHN1cHBvcnRcbiAgLy8gaXMgc28gc3BvdHR5IHRoYXQgSSdtIHN0aWxsIHdhaXRpbmcgdG8gc2VlIHdoZXJlIHRoZXkgYXJlIGdvaW5nLlxuXG4gIC8vIFZlcnkgc3BlY2lmaWMgaGFjayB0byBkZWFsIHdpdGggYmFja3NwYWNlIHNvbWV0aW1lcyBmYWlsaW5nIG9uXG4gIC8vIENocm9tZSBBbmRyb2lkIHdoZW4gYWZ0ZXIgYW4gdW5lZGl0YWJsZSBub2RlLlxuICBpZiAoYnJvd3Nlci5jaHJvbWUgJiYgYnJvd3Nlci5hbmRyb2lkICYmIGV2ZW50LmlucHV0VHlwZSA9PSBcImRlbGV0ZUNvbnRlbnRCYWNrd2FyZFwiKSB7XG4gICAgbGV0IHtkb21DaGFuZ2VDb3VudH0gPSB2aWV3XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodmlldy5kb21DaGFuZ2VDb3VudCAhPSBkb21DaGFuZ2VDb3VudCkgcmV0dXJuIC8vIEV2ZW50IGFscmVhZHkgaGFkIHNvbWUgZWZmZWN0XG4gICAgICAvLyBUaGlzIGJ1ZyB0ZW5kcyB0byBjbG9zZSB0aGUgdmlydHVhbCBrZXlib2FyZCwgc28gd2UgcmVmb2N1c1xuICAgICAgdmlldy5kb20uYmx1cigpXG4gICAgICB2aWV3LmZvY3VzKClcbiAgICAgIGlmICh2aWV3LnNvbWVQcm9wKFwiaGFuZGxlS2V5RG93blwiLCBmID0+IGYodmlldywga2V5RXZlbnQoOCwgXCJCYWNrc3BhY2VcIikpKSkgcmV0dXJuXG4gICAgICBsZXQgeyRjdXJzb3J9ID0gdmlldy5zdGF0ZS5zZWxlY3Rpb25cbiAgICAgIC8vIENydWRlIGFwcHJveGltYXRpb24gb2YgYmFja3NwYWNlIGJlaGF2aW9yIHdoZW4gbm8gY29tbWFuZCBoYW5kbGVkIGl0XG4gICAgICBpZiAoJGN1cnNvciAmJiAkY3Vyc29yLnBvcyA+IDApIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5kZWxldGUoJGN1cnNvci5wb3MgLSAxLCAkY3Vyc29yLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICB9LCA1MClcbiAgfVxufVxuXG4vLyBNYWtlIHN1cmUgYWxsIGhhbmRsZXJzIGdldCByZWdpc3RlcmVkXG5mb3IgKGxldCBwcm9wIGluIGVkaXRIYW5kbGVycykgaGFuZGxlcnNbcHJvcF0gPSBlZGl0SGFuZGxlcnNbcHJvcF1cbiIsImZ1bmN0aW9uIGNvbXBhcmVPYmpzKGEsIGIpIHtcbiAgaWYgKGEgPT0gYikgcmV0dXJuIHRydWVcbiAgZm9yIChsZXQgcCBpbiBhKSBpZiAoYVtwXSAhPT0gYltwXSkgcmV0dXJuIGZhbHNlXG4gIGZvciAobGV0IHAgaW4gYikgaWYgKCEocCBpbiBhKSkgcmV0dXJuIGZhbHNlXG4gIHJldHVybiB0cnVlXG59XG5cbmNsYXNzIFdpZGdldFR5cGUge1xuICBjb25zdHJ1Y3Rvcih0b0RPTSwgc3BlYykge1xuICAgIHRoaXMuc3BlYyA9IHNwZWMgfHwgbm9TcGVjXG4gICAgdGhpcy5zaWRlID0gdGhpcy5zcGVjLnNpZGUgfHwgMFxuICAgIHRoaXMudG9ET00gPSB0b0RPTVxuICB9XG5cbiAgbWFwKG1hcHBpbmcsIHNwYW4sIG9mZnNldCwgb2xkT2Zmc2V0KSB7XG4gICAgbGV0IHtwb3MsIGRlbGV0ZWR9ID0gbWFwcGluZy5tYXBSZXN1bHQoc3Bhbi5mcm9tICsgb2xkT2Zmc2V0LCB0aGlzLnNpZGUgPCAwID8gLTEgOiAxKVxuICAgIHJldHVybiBkZWxldGVkID8gbnVsbCA6IG5ldyBEZWNvcmF0aW9uKHBvcyAtIG9mZnNldCwgcG9zIC0gb2Zmc2V0LCB0aGlzKVxuICB9XG5cbiAgdmFsaWQoKSB7IHJldHVybiB0cnVlIH1cblxuICBlcShvdGhlcikge1xuICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8XG4gICAgICAob3RoZXIgaW5zdGFuY2VvZiBXaWRnZXRUeXBlICYmXG4gICAgICAgKHRoaXMuc3BlYy5rZXkgJiYgdGhpcy5zcGVjLmtleSA9PSBvdGhlci5zcGVjLmtleSB8fFxuICAgICAgICB0aGlzLnRvRE9NID09IG90aGVyLnRvRE9NICYmIGNvbXBhcmVPYmpzKHRoaXMuc3BlYywgb3RoZXIuc3BlYykpKVxuICB9XG59XG5cbmNsYXNzIElubGluZVR5cGUge1xuICBjb25zdHJ1Y3RvcihhdHRycywgc3BlYykge1xuICAgIHRoaXMuc3BlYyA9IHNwZWMgfHwgbm9TcGVjXG4gICAgdGhpcy5hdHRycyA9IGF0dHJzXG4gIH1cblxuICBtYXAobWFwcGluZywgc3Bhbiwgb2Zmc2V0LCBvbGRPZmZzZXQpIHtcbiAgICBsZXQgZnJvbSA9IG1hcHBpbmcubWFwKHNwYW4uZnJvbSArIG9sZE9mZnNldCwgdGhpcy5zcGVjLmluY2x1c2l2ZVN0YXJ0ID8gLTEgOiAxKSAtIG9mZnNldFxuICAgIGxldCB0byA9IG1hcHBpbmcubWFwKHNwYW4udG8gKyBvbGRPZmZzZXQsIHRoaXMuc3BlYy5pbmNsdXNpdmVFbmQgPyAxIDogLTEpIC0gb2Zmc2V0XG4gICAgcmV0dXJuIGZyb20gPj0gdG8gPyBudWxsIDogbmV3IERlY29yYXRpb24oZnJvbSwgdG8sIHRoaXMpXG4gIH1cblxuICB2YWxpZChfLCBzcGFuKSB7IHJldHVybiBzcGFuLmZyb20gPCBzcGFuLnRvIH1cblxuICBlcShvdGhlcikge1xuICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8XG4gICAgICAob3RoZXIgaW5zdGFuY2VvZiBJbmxpbmVUeXBlICYmIGNvbXBhcmVPYmpzKHRoaXMuYXR0cnMsIG90aGVyLmF0dHJzKSAmJlxuICAgICAgIGNvbXBhcmVPYmpzKHRoaXMuc3BlYywgb3RoZXIuc3BlYykpXG4gIH1cblxuICBzdGF0aWMgaXMoc3BhbikgeyByZXR1cm4gc3Bhbi50eXBlIGluc3RhbmNlb2YgSW5saW5lVHlwZSB9XG59XG5cbmNsYXNzIE5vZGVUeXBlIHtcbiAgY29uc3RydWN0b3IoYXR0cnMsIHNwZWMpIHtcbiAgICB0aGlzLnNwZWMgPSBzcGVjIHx8IG5vU3BlY1xuICAgIHRoaXMuYXR0cnMgPSBhdHRyc1xuICB9XG5cbiAgbWFwKG1hcHBpbmcsIHNwYW4sIG9mZnNldCwgb2xkT2Zmc2V0KSB7XG4gICAgbGV0IGZyb20gPSBtYXBwaW5nLm1hcFJlc3VsdChzcGFuLmZyb20gKyBvbGRPZmZzZXQsIDEpXG4gICAgaWYgKGZyb20uZGVsZXRlZCkgcmV0dXJuIG51bGxcbiAgICBsZXQgdG8gPSBtYXBwaW5nLm1hcFJlc3VsdChzcGFuLnRvICsgb2xkT2Zmc2V0LCAtMSlcbiAgICBpZiAodG8uZGVsZXRlZCB8fCB0by5wb3MgPD0gZnJvbS5wb3MpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uKGZyb20ucG9zIC0gb2Zmc2V0LCB0by5wb3MgLSBvZmZzZXQsIHRoaXMpXG4gIH1cblxuICB2YWxpZChub2RlLCBzcGFuKSB7XG4gICAgbGV0IHtpbmRleCwgb2Zmc2V0fSA9IG5vZGUuY29udGVudC5maW5kSW5kZXgoc3Bhbi5mcm9tKVxuICAgIHJldHVybiBvZmZzZXQgPT0gc3Bhbi5mcm9tICYmIG9mZnNldCArIG5vZGUuY2hpbGQoaW5kZXgpLm5vZGVTaXplID09IHNwYW4udG9cbiAgfVxuXG4gIGVxKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHxcbiAgICAgIChvdGhlciBpbnN0YW5jZW9mIE5vZGVUeXBlICYmIGNvbXBhcmVPYmpzKHRoaXMuYXR0cnMsIG90aGVyLmF0dHJzKSAmJlxuICAgICAgIGNvbXBhcmVPYmpzKHRoaXMuc3BlYywgb3RoZXIuc3BlYykpXG4gIH1cbn1cblxuLy8gOjotIERlY29yYXRpb24gb2JqZWN0cyBjYW4gYmUgcHJvdmlkZWQgdG8gdGhlIHZpZXcgdGhyb3VnaCB0aGVcbi8vIFtgZGVjb3JhdGlvbnNgIHByb3BdKCN2aWV3LkVkaXRvclByb3BzLmRlY29yYXRpb25zKS4gVGhleSBjb21lIGluXG4vLyBzZXZlcmFsIHZhcmlhbnRz4oCUc2VlIHRoZSBzdGF0aWMgbWVtYmVycyBvZiB0aGlzIGNsYXNzIGZvciBkZXRhaWxzLlxuZXhwb3J0IGNsYXNzIERlY29yYXRpb24ge1xuICBjb25zdHJ1Y3Rvcihmcm9tLCB0bywgdHlwZSkge1xuICAgIC8vIDo6IG51bWJlclxuICAgIC8vIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgZGVjb3JhdGlvbi5cbiAgICB0aGlzLmZyb20gPSBmcm9tXG4gICAgLy8gOjogbnVtYmVyXG4gICAgLy8gVGhlIGVuZCBwb3NpdGlvbi4gV2lsbCBiZSB0aGUgc2FtZSBhcyBgZnJvbWAgZm9yIFt3aWRnZXRcbiAgICAvLyBkZWNvcmF0aW9uc10oI3ZpZXcuRGVjb3JhdGlvbl53aWRnZXQpLlxuICAgIHRoaXMudG8gPSB0b1xuICAgIHRoaXMudHlwZSA9IHR5cGVcbiAgfVxuXG4gIGNvcHkoZnJvbSwgdG8pIHtcbiAgICByZXR1cm4gbmV3IERlY29yYXRpb24oZnJvbSwgdG8sIHRoaXMudHlwZSlcbiAgfVxuXG4gIGVxKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZS5lcShvdGhlci50eXBlKSAmJiB0aGlzLmZyb20gPT0gb3RoZXIuZnJvbSAmJiB0aGlzLnRvID09IG90aGVyLnRvXG4gIH1cblxuICBtYXAobWFwcGluZywgb2Zmc2V0LCBvbGRPZmZzZXQpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlLm1hcChtYXBwaW5nLCB0aGlzLCBvZmZzZXQsIG9sZE9mZnNldClcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIsIHVuaW9uPCh2aWV3OiBFZGl0b3JWaWV3LCBnZXRQb3M6ICgpIOKGkiBudW1iZXIpIOKGkiBkb20uTm9kZSwgZG9tLk5vZGU+LCA/T2JqZWN0KSDihpIgRGVjb3JhdGlvblxuICAvLyBDcmVhdGVzIGEgd2lkZ2V0IGRlY29yYXRpb24sIHdoaWNoIGlzIGEgRE9NIG5vZGUgdGhhdCdzIHNob3duIGluXG4gIC8vIHRoZSBkb2N1bWVudCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgeW91XG4gIC8vIGRlbGF5IHJlbmRlcmluZyB0aGUgd2lkZ2V0IGJ5IHBhc3NpbmcgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmVcbiAgLy8gY2FsbGVkIHdoZW4gdGhlIHdpZGdldCBpcyBhY3R1YWxseSBkcmF3biBpbiBhIHZpZXcsIGJ1dCB5b3UgY2FuXG4gIC8vIGFsc28gZGlyZWN0bHkgcGFzcyBhIERPTSBub2RlLiBgZ2V0UG9zYCBjYW4gYmUgdXNlZCB0byBmaW5kIHRoZVxuICAvLyB3aWRnZXQncyBjdXJyZW50IGRvY3VtZW50IHBvc2l0aW9uLlxuICAvL1xuICAvLyAgIHNwZWM6Oi0gVGhlc2Ugb3B0aW9ucyBhcmUgc3VwcG9ydGVkOlxuICAvL1xuICAvLyAgICAgc2lkZTo6ID9udW1iZXJcbiAgLy8gICAgIENvbnRyb2xzIHdoaWNoIHNpZGUgb2YgdGhlIGRvY3VtZW50IHBvc2l0aW9uIHRoaXMgd2lkZ2V0IGlzXG4gIC8vICAgICBhc3NvY2lhdGVkIHdpdGguIFdoZW4gbmVnYXRpdmUsIGl0IGlzIGRyYXduIGJlZm9yZSBhIGN1cnNvclxuICAvLyAgICAgYXQgaXRzIHBvc2l0aW9uLCBhbmQgY29udGVudCBpbnNlcnRlZCBhdCB0aGF0IHBvc2l0aW9uIGVuZHNcbiAgLy8gICAgIHVwIGFmdGVyIHRoZSB3aWRnZXQuIFdoZW4gemVybyAodGhlIGRlZmF1bHQpIG9yIHBvc2l0aXZlLCB0aGVcbiAgLy8gICAgIHdpZGdldCBpcyBkcmF3biBhZnRlciB0aGUgY3Vyc29yIGFuZCBjb250ZW50IGluc2VydGVkIHRoZXJlXG4gIC8vICAgICBlbmRzIHVwIGJlZm9yZSB0aGUgd2lkZ2V0LlxuICAvL1xuICAvLyAgICAgV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgd2lkZ2V0cyBhdCBhIGdpdmVuIHBvc2l0aW9uLCB0aGVpclxuICAvLyAgICAgYHNpZGVgIHZhbHVlcyBkZXRlcm1pbmUgdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgYXBwZWFyLiBUaG9zZVxuICAvLyAgICAgd2l0aCBsb3dlciB2YWx1ZXMgYXBwZWFyIGZpcnN0LiBUaGUgb3JkZXJpbmcgb2Ygd2lkZ2V0cyB3aXRoXG4gIC8vICAgICB0aGUgc2FtZSBgc2lkZWAgdmFsdWUgaXMgdW5zcGVjaWZpZWQuXG4gIC8vXG4gIC8vICAgICBXaGVuIGBtYXJrc2AgaXMgbnVsbCwgYHNpZGVgIGFsc28gZGV0ZXJtaW5lcyB0aGUgbWFya3MgdGhhdFxuICAvLyAgICAgdGhlIHdpZGdldCBpcyB3cmFwcGVkIGlu4oCUdGhvc2Ugb2YgdGhlIG5vZGUgYmVmb3JlIHdoZW5cbiAgLy8gICAgIG5lZ2F0aXZlLCB0aG9zZSBvZiB0aGUgbm9kZSBhZnRlciB3aGVuIHBvc2l0aXZlLlxuICAvL1xuICAvLyAgICAgbWFya3M6OiA/W01hcmtdXG4gIC8vICAgICBUaGUgcHJlY2lzZSBzZXQgb2YgbWFya3MgdG8gZHJhdyBhcm91bmQgdGhlIHdpZGdldC5cbiAgLy9cbiAgLy8gICAgIHN0b3BFdmVudDo6ID8oZXZlbnQ6IGRvbS5FdmVudCkg4oaSIGJvb2xcbiAgLy8gICAgIENhbiBiZSB1c2VkIHRvIGNvbnRyb2wgd2hpY2ggRE9NIGV2ZW50cywgd2hlbiB0aGV5IGJ1YmJsZSBvdXRcbiAgLy8gICAgIG9mIHRoaXMgd2lkZ2V0LCB0aGUgZWRpdG9yIHZpZXcgc2hvdWxkIGlnbm9yZS5cbiAgLy9cbiAgLy8gICAgIGlnbm9yZVNlbGVjdGlvbjo6ID9ib29sXG4gIC8vICAgICBXaGVuIHNldCAoZGVmYXVsdHMgdG8gZmFsc2UpLCBzZWxlY3Rpb24gY2hhbmdlcyBpbnNpZGUgdGhlXG4gIC8vICAgICB3aWRnZXQgYXJlIGlnbm9yZWQsIGFuZCBkb24ndCBjYXVzZSBQcm9zZU1pcnJvciB0byB0cnkgYW5kXG4gIC8vICAgICByZS1zeW5jIHRoZSBzZWxlY3Rpb24gd2l0aCBpdHMgc2VsZWN0aW9uIHN0YXRlLlxuICAvL1xuICAvLyAgICAga2V5OjogP3N0cmluZ1xuICAvLyAgICAgV2hlbiBjb21wYXJpbmcgZGVjb3JhdGlvbnMgb2YgdGhpcyB0eXBlIChpbiBvcmRlciB0byBkZWNpZGVcbiAgLy8gICAgIHdoZXRoZXIgaXQgbmVlZHMgdG8gYmUgcmVkcmF3biksIFByb3NlTWlycm9yIHdpbGwgYnkgZGVmYXVsdFxuICAvLyAgICAgY29tcGFyZSB0aGUgd2lkZ2V0IERPTSBub2RlIGJ5IGlkZW50aXR5LiBJZiB5b3UgcGFzcyBhIGtleSxcbiAgLy8gICAgIHRoYXQga2V5IHdpbGwgYmUgY29tcGFyZWQgaW5zdGVhZCwgd2hpY2ggY2FuIGJlIHVzZWZ1bCB3aGVuXG4gIC8vICAgICB5b3UgZ2VuZXJhdGUgZGVjb3JhdGlvbnMgb24gdGhlIGZseSBhbmQgZG9uJ3Qgd2FudCB0byBzdG9yZVxuICAvLyAgICAgYW5kIHJldXNlIERPTSBub2Rlcy4gTWFrZSBzdXJlIHRoYXQgYW55IHdpZGdldHMgd2l0aCB0aGUgc2FtZVxuICAvLyAgICAga2V5IGFyZSBpbnRlcmNoYW5nZWFibGXigJRpZiB3aWRnZXRzIGRpZmZlciBpbiwgZm9yIGV4YW1wbGUsXG4gIC8vICAgICB0aGUgYmVoYXZpb3Igb2Ygc29tZSBldmVudCBoYW5kbGVyLCB0aGV5IHNob3VsZCBnZXRcbiAgLy8gICAgIGRpZmZlcmVudCBrZXlzLlxuICBzdGF0aWMgd2lkZ2V0KHBvcywgdG9ET00sIHNwZWMpIHtcbiAgICByZXR1cm4gbmV3IERlY29yYXRpb24ocG9zLCBwb3MsIG5ldyBXaWRnZXRUeXBlKHRvRE9NLCBzcGVjKSlcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgRGVjb3JhdGlvbkF0dHJzLCA/T2JqZWN0KSDihpIgRGVjb3JhdGlvblxuICAvLyBDcmVhdGVzIGFuIGlubGluZSBkZWNvcmF0aW9uLCB3aGljaCBhZGRzIHRoZSBnaXZlbiBhdHRyaWJ1dGVzIHRvXG4gIC8vIGVhY2ggaW5saW5lIG5vZGUgYmV0d2VlbiBgZnJvbWAgYW5kIGB0b2AuXG4gIC8vXG4gIC8vICAgc3BlYzo6LSBUaGVzZSBvcHRpb25zIGFyZSByZWNvZ25pemVkOlxuICAvL1xuICAvLyAgICAgaW5jbHVzaXZlU3RhcnQ6OiA/Ym9vbFxuICAvLyAgICAgRGV0ZXJtaW5lcyBob3cgdGhlIGxlZnQgc2lkZSBvZiB0aGUgZGVjb3JhdGlvbiBpc1xuICAvLyAgICAgW21hcHBlZF0oI3RyYW5zZm9ybS5Qb3NpdGlvbl9NYXBwaW5nKSB3aGVuIGNvbnRlbnQgaXNcbiAgLy8gICAgIGluc2VydGVkIGRpcmVjdGx5IGF0IHRoYXQgcG9zaXRpb24uIEJ5IGRlZmF1bHQsIHRoZSBkZWNvcmF0aW9uXG4gIC8vICAgICB3b24ndCBpbmNsdWRlIHRoZSBuZXcgY29udGVudCwgYnV0IHlvdSBjYW4gc2V0IHRoaXMgdG8gYHRydWVgXG4gIC8vICAgICB0byBtYWtlIGl0IGluY2x1c2l2ZS5cbiAgLy9cbiAgLy8gICAgIGluY2x1c2l2ZUVuZDo6ID9ib29sXG4gIC8vICAgICBEZXRlcm1pbmVzIGhvdyB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgZGVjb3JhdGlvbiBpcyBtYXBwZWQuXG4gIC8vICAgICBTZWVcbiAgLy8gICAgIFtgaW5jbHVzaXZlU3RhcnRgXSgjdmlldy5EZWNvcmF0aW9uXmlubGluZV5zcGVjLmluY2x1c2l2ZVN0YXJ0KS5cbiAgc3RhdGljIGlubGluZShmcm9tLCB0bywgYXR0cnMsIHNwZWMpIHtcbiAgICByZXR1cm4gbmV3IERlY29yYXRpb24oZnJvbSwgdG8sIG5ldyBJbmxpbmVUeXBlKGF0dHJzLCBzcGVjKSlcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgRGVjb3JhdGlvbkF0dHJzLCA/T2JqZWN0KSDihpIgRGVjb3JhdGlvblxuICAvLyBDcmVhdGVzIGEgbm9kZSBkZWNvcmF0aW9uLiBgZnJvbWAgYW5kIGB0b2Agc2hvdWxkIHBvaW50IHByZWNpc2VseVxuICAvLyBiZWZvcmUgYW5kIGFmdGVyIGEgbm9kZSBpbiB0aGUgZG9jdW1lbnQuIFRoYXQgbm9kZSwgYW5kIG9ubHkgdGhhdFxuICAvLyBub2RlLCB3aWxsIHJlY2VpdmUgdGhlIGdpdmVuIGF0dHJpYnV0ZXMuXG4gIC8vXG4gIC8vICAgc3BlYzo6LVxuICAvL1xuICAvLyAgIE9wdGlvbmFsIGluZm9ybWF0aW9uIHRvIHN0b3JlIHdpdGggdGhlIGRlY29yYXRpb24uIEl0XG4gIC8vICAgaXMgYWxzbyB1c2VkIHdoZW4gY29tcGFyaW5nIGRlY29yYXRvcnMgZm9yIGVxdWFsaXR5LlxuICBzdGF0aWMgbm9kZShmcm9tLCB0bywgYXR0cnMsIHNwZWMpIHtcbiAgICByZXR1cm4gbmV3IERlY29yYXRpb24oZnJvbSwgdG8sIG5ldyBOb2RlVHlwZShhdHRycywgc3BlYykpXG4gIH1cblxuICAvLyA6OiBPYmplY3RcbiAgLy8gVGhlIHNwZWMgcHJvdmlkZWQgd2hlbiBjcmVhdGluZyB0aGlzIGRlY29yYXRpb24uIENhbiBiZSB1c2VmdWxcbiAgLy8gaWYgeW91J3ZlIHN0b3JlZCBleHRyYSBpbmZvcm1hdGlvbiBpbiB0aGF0IG9iamVjdC5cbiAgZ2V0IHNwZWMoKSB7IHJldHVybiB0aGlzLnR5cGUuc3BlYyB9XG59XG5cbi8vIERlY29yYXRpb25BdHRyczo6IGludGVyZmFjZVxuLy8gQSBzZXQgb2YgYXR0cmlidXRlcyB0byBhZGQgdG8gYSBkZWNvcmF0ZWQgbm9kZS4gTW9zdCBwcm9wZXJ0aWVzXG4vLyBzaW1wbHkgZGlyZWN0bHkgY29ycmVzcG9uZCB0byBET00gYXR0cmlidXRlcyBvZiB0aGUgc2FtZSBuYW1lLFxuLy8gd2hpY2ggd2lsbCBiZSBzZXQgdG8gdGhlIHByb3BlcnR5J3MgdmFsdWUuIFRoZXNlIGFyZSBleGNlcHRpb25zOlxuLy9cbi8vICAgY2xhc3M6OiA/c3RyaW5nXG4vLyAgIEEgQ1NTIGNsYXNzIG5hbWUgb3IgYSBzcGFjZS1zZXBhcmF0ZWQgc2V0IG9mIGNsYXNzIG5hbWVzIHRvIGJlXG4vLyAgIF9hZGRlZF8gdG8gdGhlIGNsYXNzZXMgdGhhdCB0aGUgbm9kZSBhbHJlYWR5IGhhZC5cbi8vXG4vLyAgIHN0eWxlOjogP3N0cmluZ1xuLy8gICBBIHN0cmluZyBvZiBDU1MgdG8gYmUgX2FkZGVkXyB0byB0aGUgbm9kZSdzIGV4aXN0aW5nIGBzdHlsZWAgcHJvcGVydHkuXG4vL1xuLy8gICBub2RlTmFtZTo6ID9zdHJpbmdcbi8vICAgV2hlbiBub24tbnVsbCwgdGhlIHRhcmdldCBub2RlIGlzIHdyYXBwZWQgaW4gYSBET00gZWxlbWVudCBvZlxuLy8gICB0aGlzIHR5cGUgKGFuZCB0aGUgb3RoZXIgYXR0cmlidXRlcyBhcmUgYXBwbGllZCB0byB0aGlzIGVsZW1lbnQpLlxuXG5jb25zdCBub25lID0gW10sIG5vU3BlYyA9IHt9XG5cbi8vIDo6LSBBIGNvbGxlY3Rpb24gb2YgW2RlY29yYXRpb25zXSgjdmlldy5EZWNvcmF0aW9uKSwgb3JnYW5pemVkIGluXG4vLyBzdWNoIGEgd2F5IHRoYXQgdGhlIGRyYXdpbmcgYWxnb3JpdGhtIGNhbiBlZmZpY2llbnRseSB1c2UgYW5kXG4vLyBjb21wYXJlIHRoZW0uIFRoaXMgaXMgYSBwZXJzaXN0ZW50IGRhdGEgc3RydWN0dXJl4oCUaXQgaXMgbm90XG4vLyBtb2RpZmllZCwgdXBkYXRlcyBjcmVhdGUgYSBuZXcgdmFsdWUuXG5leHBvcnQgY2xhc3MgRGVjb3JhdGlvblNldCB7XG4gIGNvbnN0cnVjdG9yKGxvY2FsLCBjaGlsZHJlbikge1xuICAgIHRoaXMubG9jYWwgPSBsb2NhbCAmJiBsb2NhbC5sZW5ndGggPyBsb2NhbCA6IG5vbmVcbiAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoID8gY2hpbGRyZW4gOiBub25lXG4gIH1cblxuICAvLyA6OiAoTm9kZSwgW0RlY29yYXRpb25dKSDihpIgRGVjb3JhdGlvblNldFxuICAvLyBDcmVhdGUgYSBzZXQgb2YgZGVjb3JhdGlvbnMsIHVzaW5nIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIGdpdmVuXG4gIC8vIGRvY3VtZW50LlxuICBzdGF0aWMgY3JlYXRlKGRvYywgZGVjb3JhdGlvbnMpIHtcbiAgICByZXR1cm4gZGVjb3JhdGlvbnMubGVuZ3RoID8gYnVpbGRUcmVlKGRlY29yYXRpb25zLCBkb2MsIDAsIG5vU3BlYykgOiBlbXB0eVxuICB9XG5cbiAgLy8gOjogKD9udW1iZXIsID9udW1iZXIsID8oc3BlYzogT2JqZWN0KSDihpIgYm9vbCkg4oaSIFtEZWNvcmF0aW9uXVxuICAvLyBGaW5kIGFsbCBkZWNvcmF0aW9ucyBpbiB0aGlzIHNldCB3aGljaCB0b3VjaCB0aGUgZ2l2ZW4gcmFuZ2VcbiAgLy8gKGluY2x1ZGluZyBkZWNvcmF0aW9ucyB0aGF0IHN0YXJ0IG9yIGVuZCBkaXJlY3RseSBhdCB0aGVcbiAgLy8gYm91bmRhcmllcykgYW5kIG1hdGNoIHRoZSBnaXZlbiBwcmVkaWNhdGUgb24gdGhlaXIgc3BlYy4gV2hlblxuICAvLyBgc3RhcnRgIGFuZCBgZW5kYCBhcmUgb21pdHRlZCwgYWxsIGRlY29yYXRpb25zIGluIHRoZSBzZXQgYXJlXG4gIC8vIGNvbnNpZGVyZWQuIFdoZW4gYHByZWRpY2F0ZWAgaXNuJ3QgZ2l2ZW4sIGFsbCBkZWNvcmF0aW9ucyBhcmVcbiAgLy8gYXNzdW1lZCB0byBtYXRjaC5cbiAgZmluZChzdGFydCwgZW5kLCBwcmVkaWNhdGUpIHtcbiAgICBsZXQgcmVzdWx0ID0gW11cbiAgICB0aGlzLmZpbmRJbm5lcihzdGFydCA9PSBudWxsID8gMCA6IHN0YXJ0LCBlbmQgPT0gbnVsbCA/IDFlOSA6IGVuZCwgcmVzdWx0LCAwLCBwcmVkaWNhdGUpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZmluZElubmVyKHN0YXJ0LCBlbmQsIHJlc3VsdCwgb2Zmc2V0LCBwcmVkaWNhdGUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubG9jYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBzcGFuID0gdGhpcy5sb2NhbFtpXVxuICAgICAgaWYgKHNwYW4uZnJvbSA8PSBlbmQgJiYgc3Bhbi50byA+PSBzdGFydCAmJiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUoc3Bhbi5zcGVjKSkpXG4gICAgICAgIHJlc3VsdC5wdXNoKHNwYW4uY29weShzcGFuLmZyb20gKyBvZmZzZXQsIHNwYW4udG8gKyBvZmZzZXQpKVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldIDwgZW5kICYmIHRoaXMuY2hpbGRyZW5baSArIDFdID4gc3RhcnQpIHtcbiAgICAgICAgbGV0IGNoaWxkT2ZmID0gdGhpcy5jaGlsZHJlbltpXSArIDFcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpICsgMl0uZmluZElubmVyKHN0YXJ0IC0gY2hpbGRPZmYsIGVuZCAtIGNoaWxkT2ZmLCByZXN1bHQsIG9mZnNldCArIGNoaWxkT2ZmLCBwcmVkaWNhdGUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gOjogKE1hcHBpbmcsIE5vZGUsID9PYmplY3QpIOKGkiBEZWNvcmF0aW9uU2V0XG4gIC8vIE1hcCB0aGUgc2V0IG9mIGRlY29yYXRpb25zIGluIHJlc3BvbnNlIHRvIGEgY2hhbmdlIGluIHRoZVxuICAvLyBkb2N1bWVudC5cbiAgLy9cbiAgLy8gICBvcHRpb25zOjotIEFuIG9wdGlvbmFsIHNldCBvZiBvcHRpb25zLlxuICAvL1xuICAvLyAgICAgb25SZW1vdmU6OiA/KGRlY29yYXRpb25TcGVjOiBPYmplY3QpXG4gIC8vICAgICBXaGVuIGdpdmVuLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoIGRlY29yYXRpb25cbiAgLy8gICAgIHRoYXQgZ2V0cyBkcm9wcGVkIGFzIGEgcmVzdWx0IG9mIHRoZSBtYXBwaW5nLCBwYXNzaW5nIHRoZVxuICAvLyAgICAgc3BlYyBvZiB0aGF0IGRlY29yYXRpb24uXG4gIG1hcChtYXBwaW5nLCBkb2MsIG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcyA9PSBlbXB0eSB8fCBtYXBwaW5nLm1hcHMubGVuZ3RoID09IDApIHJldHVybiB0aGlzXG4gICAgcmV0dXJuIHRoaXMubWFwSW5uZXIobWFwcGluZywgZG9jLCAwLCAwLCBvcHRpb25zIHx8IG5vU3BlYylcbiAgfVxuXG4gIG1hcElubmVyKG1hcHBpbmcsIG5vZGUsIG9mZnNldCwgb2xkT2Zmc2V0LCBvcHRpb25zKSB7XG4gICAgbGV0IG5ld0xvY2FsXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxvY2FsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbWFwcGVkID0gdGhpcy5sb2NhbFtpXS5tYXAobWFwcGluZywgb2Zmc2V0LCBvbGRPZmZzZXQpXG4gICAgICBpZiAobWFwcGVkICYmIG1hcHBlZC50eXBlLnZhbGlkKG5vZGUsIG1hcHBlZCkpIChuZXdMb2NhbCB8fCAobmV3TG9jYWwgPSBbXSkpLnB1c2gobWFwcGVkKVxuICAgICAgZWxzZSBpZiAob3B0aW9ucy5vblJlbW92ZSkgb3B0aW9ucy5vblJlbW92ZSh0aGlzLmxvY2FsW2ldLnNwZWMpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgcmV0dXJuIG1hcENoaWxkcmVuKHRoaXMuY2hpbGRyZW4sIG5ld0xvY2FsLCBtYXBwaW5nLCBub2RlLCBvZmZzZXQsIG9sZE9mZnNldCwgb3B0aW9ucylcbiAgICBlbHNlXG4gICAgICByZXR1cm4gbmV3TG9jYWwgPyBuZXcgRGVjb3JhdGlvblNldChuZXdMb2NhbC5zb3J0KGJ5UG9zKSkgOiBlbXB0eVxuICB9XG5cbiAgLy8gOjogKE5vZGUsIFtEZWNvcmF0aW9uXSkg4oaSIERlY29yYXRpb25TZXRcbiAgLy8gQWRkIHRoZSBnaXZlbiBhcnJheSBvZiBkZWNvcmF0aW9ucyB0byB0aGUgb25lcyBpbiB0aGUgc2V0LFxuICAvLyBwcm9kdWNpbmcgYSBuZXcgc2V0LiBOZWVkcyBhY2Nlc3MgdG8gdGhlIGN1cnJlbnQgZG9jdW1lbnQgdG9cbiAgLy8gY3JlYXRlIHRoZSBhcHByb3ByaWF0ZSB0cmVlIHN0cnVjdHVyZS5cbiAgYWRkKGRvYywgZGVjb3JhdGlvbnMpIHtcbiAgICBpZiAoIWRlY29yYXRpb25zLmxlbmd0aCkgcmV0dXJuIHRoaXNcbiAgICBpZiAodGhpcyA9PSBlbXB0eSkgcmV0dXJuIERlY29yYXRpb25TZXQuY3JlYXRlKGRvYywgZGVjb3JhdGlvbnMpXG4gICAgcmV0dXJuIHRoaXMuYWRkSW5uZXIoZG9jLCBkZWNvcmF0aW9ucywgMClcbiAgfVxuXG4gIGFkZElubmVyKGRvYywgZGVjb3JhdGlvbnMsIG9mZnNldCkge1xuICAgIGxldCBjaGlsZHJlbiwgY2hpbGRJbmRleCA9IDBcbiAgICBkb2MuZm9yRWFjaCgoY2hpbGROb2RlLCBjaGlsZE9mZnNldCkgPT4ge1xuICAgICAgbGV0IGJhc2VPZmZzZXQgPSBjaGlsZE9mZnNldCArIG9mZnNldCwgZm91bmRcbiAgICAgIGlmICghKGZvdW5kID0gdGFrZVNwYW5zRm9yTm9kZShkZWNvcmF0aW9ucywgY2hpbGROb2RlLCBiYXNlT2Zmc2V0KSkpIHJldHVyblxuXG4gICAgICBpZiAoIWNoaWxkcmVuKSBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4uc2xpY2UoKVxuICAgICAgd2hpbGUgKGNoaWxkSW5kZXggPCBjaGlsZHJlbi5sZW5ndGggJiYgY2hpbGRyZW5bY2hpbGRJbmRleF0gPCBjaGlsZE9mZnNldCkgY2hpbGRJbmRleCArPSAzXG4gICAgICBpZiAoY2hpbGRyZW5bY2hpbGRJbmRleF0gPT0gY2hpbGRPZmZzZXQpXG4gICAgICAgIGNoaWxkcmVuW2NoaWxkSW5kZXggKyAyXSA9IGNoaWxkcmVuW2NoaWxkSW5kZXggKyAyXS5hZGRJbm5lcihjaGlsZE5vZGUsIGZvdW5kLCBiYXNlT2Zmc2V0ICsgMSlcbiAgICAgIGVsc2VcbiAgICAgICAgY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDAsIGNoaWxkT2Zmc2V0LCBjaGlsZE9mZnNldCArIGNoaWxkTm9kZS5ub2RlU2l6ZSwgYnVpbGRUcmVlKGZvdW5kLCBjaGlsZE5vZGUsIGJhc2VPZmZzZXQgKyAxLCBub1NwZWMpKVxuICAgICAgY2hpbGRJbmRleCArPSAzXG4gICAgfSlcblxuICAgIGxldCBsb2NhbCA9IG1vdmVTcGFucyhjaGlsZEluZGV4ID8gd2l0aG91dE51bGxzKGRlY29yYXRpb25zKSA6IGRlY29yYXRpb25zLCAtb2Zmc2V0KVxuICAgIHJldHVybiBuZXcgRGVjb3JhdGlvblNldChsb2NhbC5sZW5ndGggPyB0aGlzLmxvY2FsLmNvbmNhdChsb2NhbCkuc29ydChieVBvcykgOiB0aGlzLmxvY2FsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiB8fCB0aGlzLmNoaWxkcmVuKVxuICB9XG5cbiAgLy8gOjogKFtEZWNvcmF0aW9uXSkg4oaSIERlY29yYXRpb25TZXRcbiAgLy8gQ3JlYXRlIGEgbmV3IHNldCB0aGF0IGNvbnRhaW5zIHRoZSBkZWNvcmF0aW9ucyBpbiB0aGlzIHNldCwgbWludXNcbiAgLy8gdGhlIG9uZXMgaW4gdGhlIGdpdmVuIGFycmF5LlxuICByZW1vdmUoZGVjb3JhdGlvbnMpIHtcbiAgICBpZiAoZGVjb3JhdGlvbnMubGVuZ3RoID09IDAgfHwgdGhpcyA9PSBlbXB0eSkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVJbm5lcihkZWNvcmF0aW9ucywgMClcbiAgfVxuXG4gIHJlbW92ZUlubmVyKGRlY29yYXRpb25zLCBvZmZzZXQpIHtcbiAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuLCBsb2NhbCA9IHRoaXMubG9jYWxcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICBsZXQgZm91bmQsIGZyb20gPSBjaGlsZHJlbltpXSArIG9mZnNldCwgdG8gPSBjaGlsZHJlbltpICsgMV0gKyBvZmZzZXRcbiAgICAgIGZvciAobGV0IGogPSAwLCBzcGFuOyBqIDwgZGVjb3JhdGlvbnMubGVuZ3RoOyBqKyspIGlmIChzcGFuID0gZGVjb3JhdGlvbnNbal0pIHtcbiAgICAgICAgaWYgKHNwYW4uZnJvbSA+IGZyb20gJiYgc3Bhbi50byA8IHRvKSB7XG4gICAgICAgICAgZGVjb3JhdGlvbnNbal0gPSBudWxsXG4gICAgICAgICAgOyhmb3VuZCB8fCAoZm91bmQgPSBbXSkpLnB1c2goc3BhbilcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFmb3VuZCkgY29udGludWVcbiAgICAgIGlmIChjaGlsZHJlbiA9PSB0aGlzLmNoaWxkcmVuKSBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4uc2xpY2UoKVxuICAgICAgbGV0IHJlbW92ZWQgPSBjaGlsZHJlbltpICsgMl0ucmVtb3ZlSW5uZXIoZm91bmQsIGZyb20gKyAxKVxuICAgICAgaWYgKHJlbW92ZWQgIT0gZW1wdHkpIHtcbiAgICAgICAgY2hpbGRyZW5baSArIDJdID0gcmVtb3ZlZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4uc3BsaWNlKGksIDMpXG4gICAgICAgIGkgLT0gM1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobG9jYWwubGVuZ3RoKSBmb3IgKGxldCBpID0gMCwgc3BhbjsgaSA8IGRlY29yYXRpb25zLmxlbmd0aDsgaSsrKSBpZiAoc3BhbiA9IGRlY29yYXRpb25zW2ldKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxvY2FsLmxlbmd0aDsgaisrKSBpZiAobG9jYWxbal0udHlwZS5lcShzcGFuLnR5cGUpKSB7XG4gICAgICAgIGlmIChsb2NhbCA9PSB0aGlzLmxvY2FsKSBsb2NhbCA9IHRoaXMubG9jYWwuc2xpY2UoKVxuICAgICAgICBsb2NhbC5zcGxpY2Uoai0tLCAxKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2hpbGRyZW4gPT0gdGhpcy5jaGlsZHJlbiAmJiBsb2NhbCA9PSB0aGlzLmxvY2FsKSByZXR1cm4gdGhpc1xuICAgIHJldHVybiBsb2NhbC5sZW5ndGggfHwgY2hpbGRyZW4ubGVuZ3RoID8gbmV3IERlY29yYXRpb25TZXQobG9jYWwsIGNoaWxkcmVuKSA6IGVtcHR5XG4gIH1cblxuICBmb3JDaGlsZChvZmZzZXQsIG5vZGUpIHtcbiAgICBpZiAodGhpcyA9PSBlbXB0eSkgcmV0dXJuIHRoaXNcbiAgICBpZiAobm9kZS5pc0xlYWYpIHJldHVybiBEZWNvcmF0aW9uU2V0LmVtcHR5XG5cbiAgICBsZXQgY2hpbGQsIGxvY2FsXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKSBpZiAodGhpcy5jaGlsZHJlbltpXSA+PSBvZmZzZXQpIHtcbiAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldID09IG9mZnNldCkgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2kgKyAyXVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgbGV0IHN0YXJ0ID0gb2Zmc2V0ICsgMSwgZW5kID0gc3RhcnQgKyBub2RlLmNvbnRlbnQuc2l6ZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sb2NhbC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGRlYyA9IHRoaXMubG9jYWxbaV1cbiAgICAgIGlmIChkZWMuZnJvbSA8IGVuZCAmJiBkZWMudG8gPiBzdGFydCAmJiAoZGVjLnR5cGUgaW5zdGFuY2VvZiBJbmxpbmVUeXBlKSkge1xuICAgICAgICBsZXQgZnJvbSA9IE1hdGgubWF4KHN0YXJ0LCBkZWMuZnJvbSkgLSBzdGFydCwgdG8gPSBNYXRoLm1pbihlbmQsIGRlYy50bykgLSBzdGFydFxuICAgICAgICBpZiAoZnJvbSA8IHRvKSAobG9jYWwgfHwgKGxvY2FsID0gW10pKS5wdXNoKGRlYy5jb3B5KGZyb20sIHRvKSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxvY2FsKSB7XG4gICAgICBsZXQgbG9jYWxTZXQgPSBuZXcgRGVjb3JhdGlvblNldChsb2NhbC5zb3J0KGJ5UG9zKSlcbiAgICAgIHJldHVybiBjaGlsZCA/IG5ldyBEZWNvcmF0aW9uR3JvdXAoW2xvY2FsU2V0LCBjaGlsZF0pIDogbG9jYWxTZXRcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkIHx8IGVtcHR5XG4gIH1cblxuICBlcShvdGhlcikge1xuICAgIGlmICh0aGlzID09IG90aGVyKSByZXR1cm4gdHJ1ZVxuICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgRGVjb3JhdGlvblNldCkgfHxcbiAgICAgICAgdGhpcy5sb2NhbC5sZW5ndGggIT0gb3RoZXIubG9jYWwubGVuZ3RoIHx8XG4gICAgICAgIHRoaXMuY2hpbGRyZW4ubGVuZ3RoICE9IG90aGVyLmNoaWxkcmVuLmxlbmd0aCkgcmV0dXJuIGZhbHNlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxvY2FsLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKCF0aGlzLmxvY2FsW2ldLmVxKG90aGVyLmxvY2FsW2ldKSkgcmV0dXJuIGZhbHNlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKVxuICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0gIT0gb3RoZXIuY2hpbGRyZW5baV0gfHxcbiAgICAgICAgICB0aGlzLmNoaWxkcmVuW2kgKyAxXSAhPSBvdGhlci5jaGlsZHJlbltpICsgMV0gfHxcbiAgICAgICAgICAhdGhpcy5jaGlsZHJlbltpICsgMl0uZXEob3RoZXIuY2hpbGRyZW5baSArIDJdKSkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGxvY2Fscyhub2RlKSB7XG4gICAgcmV0dXJuIHJlbW92ZU92ZXJsYXAodGhpcy5sb2NhbHNJbm5lcihub2RlKSlcbiAgfVxuXG4gIGxvY2Fsc0lubmVyKG5vZGUpIHtcbiAgICBpZiAodGhpcyA9PSBlbXB0eSkgcmV0dXJuIG5vbmVcbiAgICBpZiAobm9kZS5pbmxpbmVDb250ZW50IHx8ICF0aGlzLmxvY2FsLnNvbWUoSW5saW5lVHlwZS5pcykpIHJldHVybiB0aGlzLmxvY2FsXG4gICAgbGV0IHJlc3VsdCA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxvY2FsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoISh0aGlzLmxvY2FsW2ldLnR5cGUgaW5zdGFuY2VvZiBJbmxpbmVUeXBlKSlcbiAgICAgICAgcmVzdWx0LnB1c2godGhpcy5sb2NhbFtpXSlcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG59XG5cbmNvbnN0IGVtcHR5ID0gbmV3IERlY29yYXRpb25TZXQoKVxuXG4vLyA6OiBEZWNvcmF0aW9uU2V0XG4vLyBUaGUgZW1wdHkgc2V0IG9mIGRlY29yYXRpb25zLlxuRGVjb3JhdGlvblNldC5lbXB0eSA9IGVtcHR5XG5cbkRlY29yYXRpb25TZXQucmVtb3ZlT3ZlcmxhcCA9IHJlbW92ZU92ZXJsYXBcblxuLy8gOi0gQW4gYWJzdHJhY3Rpb24gdGhhdCBhbGxvd3MgdGhlIGNvZGUgZGVhbGluZyB3aXRoIGRlY29yYXRpb25zIHRvXG4vLyB0cmVhdCBtdWx0aXBsZSBEZWNvcmF0aW9uU2V0IG9iamVjdHMgYXMgaWYgaXQgd2VyZSBhIHNpbmdsZSBvYmplY3Rcbi8vIHdpdGggKGEgc3Vic2V0IG9mKSB0aGUgc2FtZSBpbnRlcmZhY2UuXG5jbGFzcyBEZWNvcmF0aW9uR3JvdXAge1xuICBjb25zdHJ1Y3RvcihtZW1iZXJzKSB7XG4gICAgdGhpcy5tZW1iZXJzID0gbWVtYmVyc1xuICB9XG5cbiAgZm9yQ2hpbGQob2Zmc2V0LCBjaGlsZCkge1xuICAgIGlmIChjaGlsZC5pc0xlYWYpIHJldHVybiBEZWNvcmF0aW9uU2V0LmVtcHR5XG4gICAgbGV0IGZvdW5kID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVtYmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHJlc3VsdCA9IHRoaXMubWVtYmVyc1tpXS5mb3JDaGlsZChvZmZzZXQsIGNoaWxkKVxuICAgICAgaWYgKHJlc3VsdCA9PSBlbXB0eSkgY29udGludWVcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBEZWNvcmF0aW9uR3JvdXApIGZvdW5kID0gZm91bmQuY29uY2F0KHJlc3VsdC5tZW1iZXJzKVxuICAgICAgZWxzZSBmb3VuZC5wdXNoKHJlc3VsdClcbiAgICB9XG4gICAgcmV0dXJuIERlY29yYXRpb25Hcm91cC5mcm9tKGZvdW5kKVxuICB9XG5cbiAgZXEob3RoZXIpIHtcbiAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIERlY29yYXRpb25Hcm91cCkgfHxcbiAgICAgICAgb3RoZXIubWVtYmVycy5sZW5ndGggIT0gdGhpcy5tZW1iZXJzLmxlbmd0aCkgcmV0dXJuIGZhbHNlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbWJlcnMubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoIXRoaXMubWVtYmVyc1tpXS5lcShvdGhlci5tZW1iZXJzW2ldKSkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGxvY2Fscyhub2RlKSB7XG4gICAgbGV0IHJlc3VsdCwgc29ydGVkID0gdHJ1ZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbG9jYWxzID0gdGhpcy5tZW1iZXJzW2ldLmxvY2Fsc0lubmVyKG5vZGUpXG4gICAgICBpZiAoIWxvY2Fscy5sZW5ndGgpIGNvbnRpbnVlXG4gICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICByZXN1bHQgPSBsb2NhbHNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzb3J0ZWQpIHtcbiAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoKVxuICAgICAgICAgIHNvcnRlZCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsb2NhbHMubGVuZ3RoOyBqKyspIHJlc3VsdC5wdXNoKGxvY2Fsc1tqXSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdCA/IHJlbW92ZU92ZXJsYXAoc29ydGVkID8gcmVzdWx0IDogcmVzdWx0LnNvcnQoYnlQb3MpKSA6IG5vbmVcbiAgfVxuXG4gIC8vIDogKFtEZWNvcmF0aW9uU2V0XSkg4oaSIHVuaW9uPERlY29yYXRpb25TZXQsIERlY29yYXRpb25Hcm91cD5cbiAgLy8gQ3JlYXRlIGEgZ3JvdXAgZm9yIHRoZSBnaXZlbiBhcnJheSBvZiBkZWNvcmF0aW9uIHNldHMsIG9yIHJldHVyblxuICAvLyBhIHNpbmdsZSBzZXQgd2hlbiBwb3NzaWJsZS5cbiAgc3RhdGljIGZyb20obWVtYmVycykge1xuICAgIHN3aXRjaCAobWVtYmVycy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogcmV0dXJuIGVtcHR5XG4gICAgICBjYXNlIDE6IHJldHVybiBtZW1iZXJzWzBdXG4gICAgICBkZWZhdWx0OiByZXR1cm4gbmV3IERlY29yYXRpb25Hcm91cChtZW1iZXJzKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtYXBDaGlsZHJlbihvbGRDaGlsZHJlbiwgbmV3TG9jYWwsIG1hcHBpbmcsIG5vZGUsIG9mZnNldCwgb2xkT2Zmc2V0LCBvcHRpb25zKSB7XG4gIGxldCBjaGlsZHJlbiA9IG9sZENoaWxkcmVuLnNsaWNlKClcblxuICAvLyBNYXJrIHRoZSBjaGlsZHJlbiB0aGF0IGFyZSBkaXJlY3RseSB0b3VjaGVkIGJ5IGNoYW5nZXMsIGFuZFxuICAvLyBtb3ZlIHRob3NlIHRoYXQgYXJlIGFmdGVyIHRoZSBjaGFuZ2VzLlxuICBsZXQgc2hpZnQgPSAob2xkU3RhcnQsIG9sZEVuZCwgbmV3U3RhcnQsIG5ld0VuZCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgIGxldCBlbmQgPSBjaGlsZHJlbltpICsgMV0sIGRTaXplXG4gICAgICBpZiAoZW5kID09IC0xIHx8IG9sZFN0YXJ0ID4gZW5kICsgb2xkT2Zmc2V0KSBjb250aW51ZVxuICAgICAgaWYgKG9sZEVuZCA+PSBjaGlsZHJlbltpXSArIG9sZE9mZnNldCkge1xuICAgICAgICBjaGlsZHJlbltpICsgMV0gPSAtMVxuICAgICAgfSBlbHNlIGlmIChkU2l6ZSA9IChuZXdFbmQgLSBuZXdTdGFydCkgLSAob2xkRW5kIC0gb2xkU3RhcnQpICsgKG9sZE9mZnNldCAtIG9mZnNldCkpIHtcbiAgICAgICAgY2hpbGRyZW5baV0gKz0gZFNpemVcbiAgICAgICAgY2hpbGRyZW5baSArIDFdICs9IGRTaXplXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWFwcGluZy5tYXBzLmxlbmd0aDsgaSsrKSBtYXBwaW5nLm1hcHNbaV0uZm9yRWFjaChzaGlmdClcblxuICAvLyBGaW5kIHRoZSBjaGlsZCBub2RlcyB0aGF0IHN0aWxsIGNvcnJlc3BvbmQgdG8gYSBzaW5nbGUgbm9kZSxcbiAgLy8gcmVjdXJzaXZlbHkgY2FsbCBtYXBJbm5lciBvbiB0aGVtIGFuZCB1cGRhdGUgdGhlaXIgcG9zaXRpb25zLlxuICBsZXQgbXVzdFJlYnVpbGQgPSBmYWxzZVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKSBpZiAoY2hpbGRyZW5baSArIDFdID09IC0xKSB7IC8vIFRvdWNoZWQgbm9kZXNcbiAgICBsZXQgZnJvbSA9IG1hcHBpbmcubWFwKGNoaWxkcmVuW2ldICsgb2xkT2Zmc2V0KSwgZnJvbUxvY2FsID0gZnJvbSAtIG9mZnNldFxuICAgIGlmIChmcm9tTG9jYWwgPCAwIHx8IGZyb21Mb2NhbCA+PSBub2RlLmNvbnRlbnQuc2l6ZSkge1xuICAgICAgbXVzdFJlYnVpbGQgPSB0cnVlXG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvLyBNdXN0IHJlYWQgb2xkQ2hpbGRyZW4gYmVjYXVzZSBjaGlsZHJlbiB3YXMgdGFnZ2VkIHdpdGggLTFcbiAgICBsZXQgdG8gPSBtYXBwaW5nLm1hcChvbGRDaGlsZHJlbltpICsgMV0gKyBvbGRPZmZzZXQsIC0xKSwgdG9Mb2NhbCA9IHRvIC0gb2Zmc2V0XG4gICAgbGV0IHtpbmRleCwgb2Zmc2V0OiBjaGlsZE9mZnNldH0gPSBub2RlLmNvbnRlbnQuZmluZEluZGV4KGZyb21Mb2NhbClcbiAgICBsZXQgY2hpbGROb2RlID0gbm9kZS5tYXliZUNoaWxkKGluZGV4KVxuICAgIGlmIChjaGlsZE5vZGUgJiYgY2hpbGRPZmZzZXQgPT0gZnJvbUxvY2FsICYmIGNoaWxkT2Zmc2V0ICsgY2hpbGROb2RlLm5vZGVTaXplID09IHRvTG9jYWwpIHtcbiAgICAgIGxldCBtYXBwZWQgPSBjaGlsZHJlbltpICsgMl0ubWFwSW5uZXIobWFwcGluZywgY2hpbGROb2RlLCBmcm9tICsgMSwgY2hpbGRyZW5baV0gKyBvbGRPZmZzZXQgKyAxLCBvcHRpb25zKVxuICAgICAgaWYgKG1hcHBlZCAhPSBlbXB0eSkge1xuICAgICAgICBjaGlsZHJlbltpXSA9IGZyb21Mb2NhbFxuICAgICAgICBjaGlsZHJlbltpICsgMV0gPSB0b0xvY2FsXG4gICAgICAgIGNoaWxkcmVuW2kgKyAyXSA9IG1hcHBlZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW5baSArIDFdID0gLTJcbiAgICAgICAgbXVzdFJlYnVpbGQgPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG11c3RSZWJ1aWxkID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIC8vIFJlbWFpbmluZyBjaGlsZHJlbiBtdXN0IGJlIGNvbGxlY3RlZCBhbmQgcmVidWlsdCBpbnRvIHRoZSBhcHByb3ByaWF0ZSBzdHJ1Y3R1cmVcbiAgaWYgKG11c3RSZWJ1aWxkKSB7XG4gICAgbGV0IGRlY29yYXRpb25zID0gbWFwQW5kR2F0aGVyUmVtYWluaW5nRGVjb3JhdGlvbnMoY2hpbGRyZW4sIG9sZENoaWxkcmVuLCBuZXdMb2NhbCB8fCBbXSwgbWFwcGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQsIG9sZE9mZnNldCwgb3B0aW9ucylcbiAgICBsZXQgYnVpbHQgPSBidWlsZFRyZWUoZGVjb3JhdGlvbnMsIG5vZGUsIDAsIG9wdGlvbnMpXG4gICAgbmV3TG9jYWwgPSBidWlsdC5sb2NhbFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpIGlmIChjaGlsZHJlbltpICsgMV0gPCAwKSB7XG4gICAgICBjaGlsZHJlbi5zcGxpY2UoaSwgMylcbiAgICAgIGkgLT0gM1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCBidWlsdC5jaGlsZHJlbi5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgbGV0IGZyb20gPSBidWlsdC5jaGlsZHJlbltpXVxuICAgICAgd2hpbGUgKGogPCBjaGlsZHJlbi5sZW5ndGggJiYgY2hpbGRyZW5bal0gPCBmcm9tKSBqICs9IDNcbiAgICAgIGNoaWxkcmVuLnNwbGljZShqLCAwLCBidWlsdC5jaGlsZHJlbltpXSwgYnVpbHQuY2hpbGRyZW5baSArIDFdLCBidWlsdC5jaGlsZHJlbltpICsgMl0pXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uU2V0KG5ld0xvY2FsICYmIG5ld0xvY2FsLnNvcnQoYnlQb3MpLCBjaGlsZHJlbilcbn1cblxuZnVuY3Rpb24gbW92ZVNwYW5zKHNwYW5zLCBvZmZzZXQpIHtcbiAgaWYgKCFvZmZzZXQgfHwgIXNwYW5zLmxlbmd0aCkgcmV0dXJuIHNwYW5zXG4gIGxldCByZXN1bHQgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHNwYW4gPSBzcGFuc1tpXVxuICAgIHJlc3VsdC5wdXNoKG5ldyBEZWNvcmF0aW9uKHNwYW4uZnJvbSArIG9mZnNldCwgc3Bhbi50byArIG9mZnNldCwgc3Bhbi50eXBlKSlcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIG1hcEFuZEdhdGhlclJlbWFpbmluZ0RlY29yYXRpb25zKGNoaWxkcmVuLCBvbGRDaGlsZHJlbiwgZGVjb3JhdGlvbnMsIG1hcHBpbmcsIG9mZnNldCwgb2xkT2Zmc2V0LCBvcHRpb25zKSB7XG4gIC8vIEdhdGhlciBhbGwgZGVjb3JhdGlvbnMgZnJvbSB0aGUgcmVtYWluaW5nIG1hcmtlZCBjaGlsZHJlblxuICBmdW5jdGlvbiBnYXRoZXIoc2V0LCBvbGRPZmZzZXQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldC5sb2NhbC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG1hcHBlZCA9IHNldC5sb2NhbFtpXS5tYXAobWFwcGluZywgb2Zmc2V0LCBvbGRPZmZzZXQpXG4gICAgICBpZiAobWFwcGVkKSBkZWNvcmF0aW9ucy5wdXNoKG1hcHBlZClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMub25SZW1vdmUpIG9wdGlvbnMub25SZW1vdmUoc2V0LmxvY2FsW2ldLnNwZWMpXG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2V0LmNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKVxuICAgICAgZ2F0aGVyKHNldC5jaGlsZHJlbltpICsgMl0sIHNldC5jaGlsZHJlbltpXSArIG9sZE9mZnNldCArIDEpXG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkgKz0gMykgaWYgKGNoaWxkcmVuW2kgKyAxXSA9PSAtMSlcbiAgICBnYXRoZXIoY2hpbGRyZW5baSArIDJdLCBvbGRDaGlsZHJlbltpXSArIG9sZE9mZnNldCArIDEpXG5cbiAgcmV0dXJuIGRlY29yYXRpb25zXG59XG5cbmZ1bmN0aW9uIHRha2VTcGFuc0Zvck5vZGUoc3BhbnMsIG5vZGUsIG9mZnNldCkge1xuICBpZiAobm9kZS5pc0xlYWYpIHJldHVybiBudWxsXG4gIGxldCBlbmQgPSBvZmZzZXQgKyBub2RlLm5vZGVTaXplLCBmb3VuZCA9IG51bGxcbiAgZm9yIChsZXQgaSA9IDAsIHNwYW47IGkgPCBzcGFucy5sZW5ndGg7IGkrKykge1xuICAgIGlmICgoc3BhbiA9IHNwYW5zW2ldKSAmJiBzcGFuLmZyb20gPiBvZmZzZXQgJiYgc3Bhbi50byA8IGVuZCkge1xuICAgICAgOyhmb3VuZCB8fCAoZm91bmQgPSBbXSkpLnB1c2goc3BhbilcbiAgICAgIHNwYW5zW2ldID0gbnVsbFxuICAgIH1cbiAgfVxuICByZXR1cm4gZm91bmRcbn1cblxuZnVuY3Rpb24gd2l0aG91dE51bGxzKGFycmF5KSB7XG4gIGxldCByZXN1bHQgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKVxuICAgIGlmIChhcnJheVtpXSAhPSBudWxsKSByZXN1bHQucHVzaChhcnJheVtpXSlcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLyA6IChbRGVjb3JhdGlvbl0sIE5vZGUsIG51bWJlcikg4oaSIERlY29yYXRpb25TZXRcbi8vIEJ1aWxkIHVwIGEgdHJlZSB0aGF0IGNvcnJlc3BvbmRzIHRvIGEgc2V0IG9mIGRlY29yYXRpb25zLiBgb2Zmc2V0YFxuLy8gaXMgYSBiYXNlIG9mZnNldCB0aGF0IHNob3VsZCBiZSBzdWJ0cmFjdGV0IGZyb20gdGhlIGBmcm9tYCBhbmQgYHRvYFxuLy8gcG9zaXRpb25zIGluIHRoZSBzcGFucyAoc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIGFsbG9jYXRlIG5ldyBzcGFuc1xuLy8gZm9yIHJlY3Vyc2l2ZSBjYWxscykuXG5mdW5jdGlvbiBidWlsZFRyZWUoc3BhbnMsIG5vZGUsIG9mZnNldCwgb3B0aW9ucykge1xuICBsZXQgY2hpbGRyZW4gPSBbXSwgaGFzTnVsbHMgPSBmYWxzZVxuICBub2RlLmZvckVhY2goKGNoaWxkTm9kZSwgbG9jYWxTdGFydCkgPT4ge1xuICAgIGxldCBmb3VuZCA9IHRha2VTcGFuc0Zvck5vZGUoc3BhbnMsIGNoaWxkTm9kZSwgbG9jYWxTdGFydCArIG9mZnNldClcbiAgICBpZiAoZm91bmQpIHtcbiAgICAgIGhhc051bGxzID0gdHJ1ZVxuICAgICAgbGV0IHN1YnRyZWUgPSBidWlsZFRyZWUoZm91bmQsIGNoaWxkTm9kZSwgb2Zmc2V0ICsgbG9jYWxTdGFydCArIDEsIG9wdGlvbnMpXG4gICAgICBpZiAoc3VidHJlZSAhPSBlbXB0eSlcbiAgICAgICAgY2hpbGRyZW4ucHVzaChsb2NhbFN0YXJ0LCBsb2NhbFN0YXJ0ICsgY2hpbGROb2RlLm5vZGVTaXplLCBzdWJ0cmVlKVxuICAgIH1cbiAgfSlcbiAgbGV0IGxvY2FscyA9IG1vdmVTcGFucyhoYXNOdWxscyA/IHdpdGhvdXROdWxscyhzcGFucykgOiBzcGFucywgLW9mZnNldCkuc29ydChieVBvcylcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbHMubGVuZ3RoOyBpKyspIGlmICghbG9jYWxzW2ldLnR5cGUudmFsaWQobm9kZSwgbG9jYWxzW2ldKSkge1xuICAgIGlmIChvcHRpb25zLm9uUmVtb3ZlKSBvcHRpb25zLm9uUmVtb3ZlKGxvY2Fsc1tpXS5zcGVjKVxuICAgIGxvY2Fscy5zcGxpY2UoaS0tLCAxKVxuICB9XG4gIHJldHVybiBsb2NhbHMubGVuZ3RoIHx8IGNoaWxkcmVuLmxlbmd0aCA/IG5ldyBEZWNvcmF0aW9uU2V0KGxvY2FscywgY2hpbGRyZW4pIDogZW1wdHlcbn1cblxuLy8gOiAoRGVjb3JhdGlvbiwgRGVjb3JhdGlvbikg4oaSIG51bWJlclxuLy8gVXNlZCB0byBzb3J0IGRlY29yYXRpb25zIHNvIHRoYXQgb25lcyB3aXRoIGEgbG93IHN0YXJ0IHBvc2l0aW9uXG4vLyBjb21lIGZpcnN0LCBhbmQgd2l0aGluIGEgc2V0IHdpdGggdGhlIHNhbWUgc3RhcnQgcG9zaXRpb24sIHRob3NlXG4vLyB3aXRoIGFuIHNtYWxsZXIgZW5kIHBvc2l0aW9uIGNvbWUgZmlyc3QuXG5mdW5jdGlvbiBieVBvcyhhLCBiKSB7XG4gIHJldHVybiBhLmZyb20gLSBiLmZyb20gfHwgYS50byAtIGIudG9cbn1cblxuLy8gOiAoW0RlY29yYXRpb25dKSDihpIgW0RlY29yYXRpb25dXG4vLyBTY2FuIGEgc29ydGVkIGFycmF5IG9mIGRlY29yYXRpb25zIGZvciBwYXJ0aWFsbHkgb3ZlcmxhcHBpbmcgc3BhbnMsXG4vLyBhbmQgc3BsaXQgdGhvc2Ugc28gdGhhdCBvbmx5IGZ1bGx5IG92ZXJsYXBwaW5nIHNwYW5zIGFyZSBsZWZ0ICh0b1xuLy8gbWFrZSBzdWJzZXF1ZW50IHJlbmRlcmluZyBlYXNpZXIpLiBXaWxsIHJldHVybiB0aGUgaW5wdXQgYXJyYXkgaWZcbi8vIG5vIHBhcnRpYWxseSBvdmVybGFwcGluZyBzcGFucyBhcmUgZm91bmQgKHRoZSBjb21tb24gY2FzZSkuXG5mdW5jdGlvbiByZW1vdmVPdmVybGFwKHNwYW5zKSB7XG4gIGxldCB3b3JraW5nID0gc3BhbnNcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JraW5nLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGxldCBzcGFuID0gd29ya2luZ1tpXVxuICAgIGlmIChzcGFuLmZyb20gIT0gc3Bhbi50bykgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgd29ya2luZy5sZW5ndGg7IGorKykge1xuICAgICAgbGV0IG5leHQgPSB3b3JraW5nW2pdXG4gICAgICBpZiAobmV4dC5mcm9tID09IHNwYW4uZnJvbSkge1xuICAgICAgICBpZiAobmV4dC50byAhPSBzcGFuLnRvKSB7XG4gICAgICAgICAgaWYgKHdvcmtpbmcgPT0gc3BhbnMpIHdvcmtpbmcgPSBzcGFucy5zbGljZSgpXG4gICAgICAgICAgLy8gRm9sbG93ZWQgYnkgYSBwYXJ0aWFsbHkgb3ZlcmxhcHBpbmcgbGFyZ2VyIHNwYW4uIFNwbGl0IHRoYXRcbiAgICAgICAgICAvLyBzcGFuLlxuICAgICAgICAgIHdvcmtpbmdbal0gPSBuZXh0LmNvcHkobmV4dC5mcm9tLCBzcGFuLnRvKVxuICAgICAgICAgIGluc2VydEFoZWFkKHdvcmtpbmcsIGogKyAxLCBuZXh0LmNvcHkoc3Bhbi50bywgbmV4dC50bykpXG4gICAgICAgIH1cbiAgICAgICAgY29udGludWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChuZXh0LmZyb20gPCBzcGFuLnRvKSB7XG4gICAgICAgICAgaWYgKHdvcmtpbmcgPT0gc3BhbnMpIHdvcmtpbmcgPSBzcGFucy5zbGljZSgpXG4gICAgICAgICAgLy8gVGhlIGVuZCBvZiB0aGlzIG9uZSBvdmVybGFwcyB3aXRoIGEgc3Vic2VxdWVudCBzcGFuLiBTcGxpdFxuICAgICAgICAgIC8vIHRoaXMgb25lLlxuICAgICAgICAgIHdvcmtpbmdbaV0gPSBzcGFuLmNvcHkoc3Bhbi5mcm9tLCBuZXh0LmZyb20pXG4gICAgICAgICAgaW5zZXJ0QWhlYWQod29ya2luZywgaiwgc3Bhbi5jb3B5KG5leHQuZnJvbSwgc3Bhbi50bykpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHdvcmtpbmdcbn1cblxuZnVuY3Rpb24gaW5zZXJ0QWhlYWQoYXJyYXksIGksIGRlY28pIHtcbiAgd2hpbGUgKGkgPCBhcnJheS5sZW5ndGggJiYgYnlQb3MoZGVjbywgYXJyYXlbaV0pID4gMCkgaSsrXG4gIGFycmF5LnNwbGljZShpLCAwLCBkZWNvKVxufVxuXG4vLyA6IChFZGl0b3JWaWV3KSDihpIgdW5pb248RGVjb3JhdGlvblNldCwgRGVjb3JhdGlvbkdyb3VwPlxuLy8gR2V0IHRoZSBkZWNvcmF0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgcHJvcHMgb2YgYSB2aWV3LlxuZXhwb3J0IGZ1bmN0aW9uIHZpZXdEZWNvcmF0aW9ucyh2aWV3KSB7XG4gIGxldCBmb3VuZCA9IFtdXG4gIHZpZXcuc29tZVByb3AoXCJkZWNvcmF0aW9uc1wiLCBmID0+IHtcbiAgICBsZXQgcmVzdWx0ID0gZih2aWV3LnN0YXRlKVxuICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0ICE9IGVtcHR5KSBmb3VuZC5wdXNoKHJlc3VsdClcbiAgfSlcbiAgaWYgKHZpZXcuY3Vyc29yV3JhcHBlcilcbiAgICBmb3VuZC5wdXNoKERlY29yYXRpb25TZXQuY3JlYXRlKHZpZXcuc3RhdGUuZG9jLCBbdmlldy5jdXJzb3JXcmFwcGVyLmRlY29dKSlcbiAgcmV0dXJuIERlY29yYXRpb25Hcm91cC5mcm9tKGZvdW5kKVxufVxuIiwiaW1wb3J0IHtOb2RlU2VsZWN0aW9ufSBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIlxuXG5pbXBvcnQge3Njcm9sbFJlY3RJbnRvVmlldywgcG9zQXRDb29yZHMsIGNvb3Jkc0F0UG9zLCBlbmRPZlRleHRibG9jaywgc3RvcmVTY3JvbGxQb3MsXG4gICAgICAgIHJlc2V0U2Nyb2xsUG9zLCBmb2N1c1ByZXZlbnRTY3JvbGx9IGZyb20gXCIuL2RvbWNvb3Jkc1wiXG5pbXBvcnQge2RvY1ZpZXdEZXNjfSBmcm9tIFwiLi92aWV3ZGVzY1wiXG5pbXBvcnQge2luaXRJbnB1dCwgZGVzdHJveUlucHV0LCBkaXNwYXRjaEV2ZW50LCBlbnN1cmVMaXN0ZW5lcnN9IGZyb20gXCIuL2lucHV0XCJcbmltcG9ydCB7c2VsZWN0aW9uVG9ET00sIGFuY2hvckluUmlnaHRQbGFjZSwgc3luY05vZGVTZWxlY3Rpb259IGZyb20gXCIuL3NlbGVjdGlvblwiXG5pbXBvcnQge0RlY29yYXRpb24sIHZpZXdEZWNvcmF0aW9uc30gZnJvbSBcIi4vZGVjb3JhdGlvblwiXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwiLi9icm93c2VyXCJcblxuZXhwb3J0IHtEZWNvcmF0aW9uLCBEZWNvcmF0aW9uU2V0fSBmcm9tIFwiLi9kZWNvcmF0aW9uXCJcblxuLy8gRXhwb3J0ZWQgZm9yIHRlc3RpbmdcbmV4cG9ydCB7c2VyaWFsaXplRm9yQ2xpcGJvYXJkIGFzIF9fc2VyaWFsaXplRm9yQ2xpcGJvYXJkLCBwYXJzZUZyb21DbGlwYm9hcmQgYXMgX19wYXJzZUZyb21DbGlwYm9hcmR9IGZyb20gXCIuL2NsaXBib2FyZFwiXG5leHBvcnQge2VuZENvbXBvc2l0aW9uIGFzIF9fZW5kQ29tcG9zaXRpb259IGZyb20gXCIuL2lucHV0XCJcblxuLy8gOjotIEFuIGVkaXRvciB2aWV3IG1hbmFnZXMgdGhlIERPTSBzdHJ1Y3R1cmUgdGhhdCByZXByZXNlbnRzIGFuXG4vLyBlZGl0YWJsZSBkb2N1bWVudC4gSXRzIHN0YXRlIGFuZCBiZWhhdmlvciBhcmUgZGV0ZXJtaW5lZCBieSBpdHNcbi8vIFtwcm9wc10oI3ZpZXcuRGlyZWN0RWRpdG9yUHJvcHMpLlxuZXhwb3J0IGNsYXNzIEVkaXRvclZpZXcge1xuICAvLyA6OiAoP3VuaW9uPGRvbS5Ob2RlLCAoZG9tLk5vZGUpLCB7bW91bnQ6IGRvbS5Ob2RlfT4sIERpcmVjdEVkaXRvclByb3BzKVxuICAvLyBDcmVhdGUgYSB2aWV3LiBgcGxhY2VgIG1heSBiZSBhIERPTSBub2RlIHRoYXQgdGhlIGVkaXRvciBzaG91bGRcbiAgLy8gYmUgYXBwZW5kZWQgdG8sIGEgZnVuY3Rpb24gdGhhdCB3aWxsIHBsYWNlIGl0IGludG8gdGhlIGRvY3VtZW50LFxuICAvLyBvciBhbiBvYmplY3Qgd2hvc2UgYG1vdW50YCBwcm9wZXJ0eSBob2xkcyB0aGUgbm9kZSB0byB1c2UgYXMgdGhlXG4gIC8vIGRvY3VtZW50IGNvbnRhaW5lci4gSWYgaXQgaXMgYG51bGxgLCB0aGUgZWRpdG9yIHdpbGwgbm90IGJlIGFkZGVkXG4gIC8vIHRvIHRoZSBkb2N1bWVudC5cbiAgY29uc3RydWN0b3IocGxhY2UsIHByb3BzKSB7XG4gICAgdGhpcy5fcHJvcHMgPSBwcm9wc1xuICAgIC8vIDo6IEVkaXRvclN0YXRlXG4gICAgLy8gVGhlIHZpZXcncyBjdXJyZW50IFtzdGF0ZV0oI3N0YXRlLkVkaXRvclN0YXRlKS5cbiAgICB0aGlzLnN0YXRlID0gcHJvcHMuc3RhdGVcblxuICAgIHRoaXMuZGlzcGF0Y2ggPSB0aGlzLmRpc3BhdGNoLmJpbmQodGhpcylcblxuICAgIHRoaXMuX3Jvb3QgPSBudWxsXG4gICAgdGhpcy5mb2N1c2VkID0gZmFsc2VcblxuICAgIC8vIDo6IGRvbS5FbGVtZW50XG4gICAgLy8gQW4gZWRpdGFibGUgRE9NIG5vZGUgY29udGFpbmluZyB0aGUgZG9jdW1lbnQuIChZb3UgcHJvYmFibHlcbiAgICAvLyBzaG91bGQgbm90IGRpcmVjdGx5IGludGVyZmVyZSB3aXRoIGl0cyBjb250ZW50LilcbiAgICB0aGlzLmRvbSA9IChwbGFjZSAmJiBwbGFjZS5tb3VudCkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgIGlmIChwbGFjZSkge1xuICAgICAgaWYgKHBsYWNlLmFwcGVuZENoaWxkKSBwbGFjZS5hcHBlbmRDaGlsZCh0aGlzLmRvbSlcbiAgICAgIGVsc2UgaWYgKHBsYWNlLmFwcGx5KSBwbGFjZSh0aGlzLmRvbSlcbiAgICAgIGVsc2UgaWYgKHBsYWNlLm1vdW50KSB0aGlzLm1vdW50ZWQgPSB0cnVlXG4gICAgfVxuXG4gICAgLy8gOjogYm9vbFxuICAgIC8vIEluZGljYXRlcyB3aGV0aGVyIHRoZSBlZGl0b3IgaXMgY3VycmVudGx5IFtlZGl0YWJsZV0oI3ZpZXcuRWRpdG9yUHJvcHMuZWRpdGFibGUpLlxuICAgIHRoaXMuZWRpdGFibGUgPSBnZXRFZGl0YWJsZSh0aGlzKVxuICAgIHRoaXMubWFya0N1cnNvciA9IG51bGxcbiAgICB0aGlzLmN1cnNvcldyYXBwZXIgPSBudWxsXG4gICAgdXBkYXRlQ3Vyc29yV3JhcHBlcih0aGlzKVxuICAgIHRoaXMubm9kZVZpZXdzID0gYnVpbGROb2RlVmlld3ModGhpcylcbiAgICB0aGlzLmRvY1ZpZXcgPSBkb2NWaWV3RGVzYyh0aGlzLnN0YXRlLmRvYywgY29tcHV0ZURvY0RlY28odGhpcyksIHZpZXdEZWNvcmF0aW9ucyh0aGlzKSwgdGhpcy5kb20sIHRoaXMpXG5cbiAgICB0aGlzLmxhc3RTZWxlY3RlZFZpZXdEZXNjID0gbnVsbFxuICAgIC8vIDo6ID97c2xpY2U6IFNsaWNlLCBtb3ZlOiBib29sfVxuICAgIC8vIFdoZW4gZWRpdG9yIGNvbnRlbnQgaXMgYmVpbmcgZHJhZ2dlZCwgdGhpcyBvYmplY3QgY29udGFpbnNcbiAgICAvLyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZHJhZ2dlZCBzbGljZSBhbmQgd2hldGhlciBpdCBpcyBiZWluZ1xuICAgIC8vIGNvcGllZCBvciBtb3ZlZC4gQXQgYW55IG90aGVyIHRpbWUsIGl0IGlzIG51bGwuXG4gICAgdGhpcy5kcmFnZ2luZyA9IG51bGxcblxuICAgIGluaXRJbnB1dCh0aGlzKVxuXG4gICAgdGhpcy5wbHVnaW5WaWV3cyA9IFtdXG4gICAgdGhpcy51cGRhdGVQbHVnaW5WaWV3cygpXG4gIH1cblxuICAvLyBjb21wb3Npbmc6OiBib29sZWFuXG4gIC8vIEhvbGRzIGB0cnVlYCB3aGVuIGFcbiAgLy8gW2NvbXBvc2l0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL01vemlsbGEvSU1FX2hhbmRsaW5nX2d1aWRlKVxuICAvLyBpcyBhY3RpdmUuXG5cbiAgLy8gOjogRGlyZWN0RWRpdG9yUHJvcHNcbiAgLy8gVGhlIHZpZXcncyBjdXJyZW50IFtwcm9wc10oI3ZpZXcuRWRpdG9yUHJvcHMpLlxuICBnZXQgcHJvcHMoKSB7XG4gICAgaWYgKHRoaXMuX3Byb3BzLnN0YXRlICE9IHRoaXMuc3RhdGUpIHtcbiAgICAgIGxldCBwcmV2ID0gdGhpcy5fcHJvcHNcbiAgICAgIHRoaXMuX3Byb3BzID0ge31cbiAgICAgIGZvciAobGV0IG5hbWUgaW4gcHJldikgdGhpcy5fcHJvcHNbbmFtZV0gPSBwcmV2W25hbWVdXG4gICAgICB0aGlzLl9wcm9wcy5zdGF0ZSA9IHRoaXMuc3RhdGVcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3Byb3BzXG4gIH1cblxuICAvLyA6OiAoRGlyZWN0RWRpdG9yUHJvcHMpXG4gIC8vIFVwZGF0ZSB0aGUgdmlldydzIHByb3BzLiBXaWxsIGltbWVkaWF0ZWx5IGNhdXNlIGFuIHVwZGF0ZSB0b1xuICAvLyB0aGUgRE9NLlxuICB1cGRhdGUocHJvcHMpIHtcbiAgICBpZiAocHJvcHMuaGFuZGxlRE9NRXZlbnRzICE9IHRoaXMuX3Byb3BzLmhhbmRsZURPTUV2ZW50cykgZW5zdXJlTGlzdGVuZXJzKHRoaXMpXG4gICAgdGhpcy5fcHJvcHMgPSBwcm9wc1xuICAgIHRoaXMudXBkYXRlU3RhdGVJbm5lcihwcm9wcy5zdGF0ZSwgdHJ1ZSlcbiAgfVxuXG4gIC8vIDo6IChEaXJlY3RFZGl0b3JQcm9wcylcbiAgLy8gVXBkYXRlIHRoZSB2aWV3IGJ5IHVwZGF0aW5nIGV4aXN0aW5nIHByb3BzIG9iamVjdCB3aXRoIHRoZSBvYmplY3RcbiAgLy8gZ2l2ZW4gYXMgYXJndW1lbnQuIEVxdWl2YWxlbnQgdG8gYHZpZXcudXBkYXRlKE9iamVjdC5hc3NpZ24oe30sXG4gIC8vIHZpZXcucHJvcHMsIHByb3BzKSlgLlxuICBzZXRQcm9wcyhwcm9wcykge1xuICAgIGxldCB1cGRhdGVkID0ge31cbiAgICBmb3IgKGxldCBuYW1lIGluIHRoaXMuX3Byb3BzKSB1cGRhdGVkW25hbWVdID0gdGhpcy5fcHJvcHNbbmFtZV1cbiAgICB1cGRhdGVkLnN0YXRlID0gdGhpcy5zdGF0ZVxuICAgIGZvciAobGV0IG5hbWUgaW4gcHJvcHMpIHVwZGF0ZWRbbmFtZV0gPSBwcm9wc1tuYW1lXVxuICAgIHRoaXMudXBkYXRlKHVwZGF0ZWQpXG4gIH1cblxuICAvLyA6OiAoRWRpdG9yU3RhdGUpXG4gIC8vIFVwZGF0ZSB0aGUgZWRpdG9yJ3MgYHN0YXRlYCBwcm9wLCB3aXRob3V0IHRvdWNoaW5nIGFueSBvZiB0aGVcbiAgLy8gb3RoZXIgcHJvcHMuXG4gIHVwZGF0ZVN0YXRlKHN0YXRlKSB7XG4gICAgdGhpcy51cGRhdGVTdGF0ZUlubmVyKHN0YXRlLCB0aGlzLnN0YXRlLnBsdWdpbnMgIT0gc3RhdGUucGx1Z2lucylcbiAgfVxuXG4gIHVwZGF0ZVN0YXRlSW5uZXIoc3RhdGUsIHJlY29uZmlndXJlZCkge1xuICAgIGxldCBwcmV2ID0gdGhpcy5zdGF0ZSwgcmVkcmF3ID0gZmFsc2VcbiAgICB0aGlzLnN0YXRlID0gc3RhdGVcbiAgICBpZiAocmVjb25maWd1cmVkKSB7XG4gICAgICBsZXQgbm9kZVZpZXdzID0gYnVpbGROb2RlVmlld3ModGhpcylcbiAgICAgIGlmIChjaGFuZ2VkTm9kZVZpZXdzKG5vZGVWaWV3cywgdGhpcy5ub2RlVmlld3MpKSB7XG4gICAgICAgIHRoaXMubm9kZVZpZXdzID0gbm9kZVZpZXdzXG4gICAgICAgIHJlZHJhdyA9IHRydWVcbiAgICAgIH1cbiAgICAgIGVuc3VyZUxpc3RlbmVycyh0aGlzKVxuICAgIH1cblxuICAgIHRoaXMuZWRpdGFibGUgPSBnZXRFZGl0YWJsZSh0aGlzKVxuICAgIHVwZGF0ZUN1cnNvcldyYXBwZXIodGhpcylcbiAgICBsZXQgaW5uZXJEZWNvID0gdmlld0RlY29yYXRpb25zKHRoaXMpLCBvdXRlckRlY28gPSBjb21wdXRlRG9jRGVjbyh0aGlzKVxuXG4gICAgbGV0IHNjcm9sbCA9IHJlY29uZmlndXJlZCA/IFwicmVzZXRcIlxuICAgICAgICA6IHN0YXRlLnNjcm9sbFRvU2VsZWN0aW9uID4gcHJldi5zY3JvbGxUb1NlbGVjdGlvbiA/IFwidG8gc2VsZWN0aW9uXCIgOiBcInByZXNlcnZlXCJcbiAgICBsZXQgdXBkYXRlRG9jID0gcmVkcmF3IHx8ICF0aGlzLmRvY1ZpZXcubWF0Y2hlc05vZGUoc3RhdGUuZG9jLCBvdXRlckRlY28sIGlubmVyRGVjbylcbiAgICBsZXQgdXBkYXRlU2VsID0gdXBkYXRlRG9jIHx8ICFzdGF0ZS5zZWxlY3Rpb24uZXEocHJldi5zZWxlY3Rpb24pXG4gICAgbGV0IG9sZFNjcm9sbFBvcyA9IHNjcm9sbCA9PSBcInByZXNlcnZlXCIgJiYgdXBkYXRlU2VsICYmIHRoaXMuZG9tLnN0eWxlLm92ZXJmbG93QW5jaG9yID09IG51bGwgJiYgc3RvcmVTY3JvbGxQb3ModGhpcylcblxuICAgIGlmICh1cGRhdGVTZWwpIHtcbiAgICAgIHRoaXMuZG9tT2JzZXJ2ZXIuc3RvcCgpXG4gICAgICAvLyBXb3JrIGFyb3VuZCBhbiBpc3N1ZSBpbiBDaHJvbWUsIElFLCBhbmQgRWRnZSB3aGVyZSBjaGFuZ2luZ1xuICAgICAgLy8gdGhlIERPTSBhcm91bmQgYW4gYWN0aXZlIHNlbGVjdGlvbiBwdXRzIGl0IGludG8gYSBicm9rZW5cbiAgICAgIC8vIHN0YXRlIHdoZXJlIHRoZSB0aGluZyB0aGUgdXNlciBzZWVzIGRpZmZlcnMgZnJvbSB0aGVcbiAgICAgIC8vIHNlbGVjdGlvbiByZXBvcnRlZCBieSB0aGUgU2VsZWN0aW9uIG9iamVjdCAoIzcxMCwgIzk3MyxcbiAgICAgIC8vICMxMDExLCAjMTAxMykuXG4gICAgICBsZXQgZm9yY2VTZWxVcGRhdGUgPSB1cGRhdGVEb2MgJiYgKGJyb3dzZXIuaWUgfHwgYnJvd3Nlci5jaHJvbWUpICYmXG4gICAgICAgICAgIXByZXYuc2VsZWN0aW9uLmVtcHR5ICYmICFzdGF0ZS5zZWxlY3Rpb24uZW1wdHkgJiYgc2VsZWN0aW9uQ29udGV4dENoYW5nZWQocHJldi5zZWxlY3Rpb24sIHN0YXRlLnNlbGVjdGlvbilcbiAgICAgIGlmICh1cGRhdGVEb2MpIHtcbiAgICAgICAgaWYgKHJlZHJhdyB8fCAhdGhpcy5kb2NWaWV3LnVwZGF0ZShzdGF0ZS5kb2MsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB0aGlzKSkge1xuICAgICAgICAgIHRoaXMuZG9jVmlldy5kZXN0cm95KClcbiAgICAgICAgICB0aGlzLmRvY1ZpZXcgPSBkb2NWaWV3RGVzYyhzdGF0ZS5kb2MsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB0aGlzLmRvbSwgdGhpcylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gV29yayBhcm91bmQgZm9yIGFuIGlzc3VlIHdoZXJlIGFuIHVwZGF0ZSBhcnJpdmluZyByaWdodCBiZXR3ZWVuXG4gICAgICAvLyBhIERPTSBzZWxlY3Rpb24gY2hhbmdlIGFuZCB0aGUgXCJzZWxlY3Rpb25jaGFuZ2VcIiBldmVudCBmb3IgaXRcbiAgICAgIC8vIGNhbiBjYXVzZSBhIHNwdXJpb3VzIERPTSBzZWxlY3Rpb24gdXBkYXRlLCBkaXNydXB0aW5nIG1vdXNlXG4gICAgICAvLyBkcmFnIHNlbGVjdGlvbi5cbiAgICAgIGlmIChmb3JjZVNlbFVwZGF0ZSB8fFxuICAgICAgICAgICEodGhpcy5tb3VzZURvd24gJiYgdGhpcy5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLmVxKHRoaXMucm9vdC5nZXRTZWxlY3Rpb24oKSkgJiYgYW5jaG9ySW5SaWdodFBsYWNlKHRoaXMpKSkge1xuICAgICAgICBzZWxlY3Rpb25Ub0RPTSh0aGlzLCBmb3JjZVNlbFVwZGF0ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN5bmNOb2RlU2VsZWN0aW9uKHRoaXMsIHN0YXRlLnNlbGVjdGlvbilcbiAgICAgICAgdGhpcy5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKVxuICAgICAgfVxuICAgICAgdGhpcy5kb21PYnNlcnZlci5zdGFydCgpXG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVQbHVnaW5WaWV3cyhwcmV2KVxuXG4gICAgaWYgKHNjcm9sbCA9PSBcInJlc2V0XCIpIHtcbiAgICAgIHRoaXMuZG9tLnNjcm9sbFRvcCA9IDBcbiAgICB9IGVsc2UgaWYgKHNjcm9sbCA9PSBcInRvIHNlbGVjdGlvblwiKSB7XG4gICAgICBsZXQgc3RhcnRET00gPSB0aGlzLnJvb3QuZ2V0U2VsZWN0aW9uKCkuZm9jdXNOb2RlXG4gICAgICBpZiAodGhpcy5zb21lUHJvcChcImhhbmRsZVNjcm9sbFRvU2VsZWN0aW9uXCIsIGYgPT4gZih0aGlzKSkpXG4gICAgICAgIHt9IC8vIEhhbmRsZWRcbiAgICAgIGVsc2UgaWYgKHN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24pXG4gICAgICAgIHNjcm9sbFJlY3RJbnRvVmlldyh0aGlzLCB0aGlzLmRvY1ZpZXcuZG9tQWZ0ZXJQb3Moc3RhdGUuc2VsZWN0aW9uLmZyb20pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBzdGFydERPTSlcbiAgICAgIGVsc2VcbiAgICAgICAgc2Nyb2xsUmVjdEludG9WaWV3KHRoaXMsIHRoaXMuY29vcmRzQXRQb3Moc3RhdGUuc2VsZWN0aW9uLmhlYWQpLCBzdGFydERPTSlcbiAgICB9IGVsc2UgaWYgKG9sZFNjcm9sbFBvcykge1xuICAgICAgcmVzZXRTY3JvbGxQb3Mob2xkU2Nyb2xsUG9zKVxuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3lQbHVnaW5WaWV3cygpIHtcbiAgICBsZXQgdmlld1xuICAgIHdoaWxlICh2aWV3ID0gdGhpcy5wbHVnaW5WaWV3cy5wb3AoKSkgaWYgKHZpZXcuZGVzdHJveSkgdmlldy5kZXN0cm95KClcbiAgfVxuXG4gIHVwZGF0ZVBsdWdpblZpZXdzKHByZXZTdGF0ZSkge1xuICAgIGlmICghcHJldlN0YXRlIHx8IHByZXZTdGF0ZS5wbHVnaW5zICE9IHRoaXMuc3RhdGUucGx1Z2lucykge1xuICAgICAgdGhpcy5kZXN0cm95UGx1Z2luVmlld3MoKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLnBsdWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHBsdWdpbiA9IHRoaXMuc3RhdGUucGx1Z2luc1tpXVxuICAgICAgICBpZiAocGx1Z2luLnNwZWMudmlldykgdGhpcy5wbHVnaW5WaWV3cy5wdXNoKHBsdWdpbi5zcGVjLnZpZXcodGhpcykpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wbHVnaW5WaWV3cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcGx1Z2luVmlldyA9IHRoaXMucGx1Z2luVmlld3NbaV1cbiAgICAgICAgaWYgKHBsdWdpblZpZXcudXBkYXRlKSBwbHVnaW5WaWV3LnVwZGF0ZSh0aGlzLCBwcmV2U3RhdGUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gOjogKHN0cmluZywgPyhwcm9wOiAqKSDihpIgKikg4oaSICpcbiAgLy8gR29lcyBvdmVyIHRoZSB2YWx1ZXMgb2YgYSBwcm9wLCBmaXJzdCB0aG9zZSBwcm92aWRlZCBkaXJlY3RseSxcbiAgLy8gdGhlbiB0aG9zZSBmcm9tIHBsdWdpbnMgKGluIG9yZGVyKSwgYW5kIGNhbGxzIGBmYCBldmVyeSB0aW1lIGFcbiAgLy8gbm9uLXVuZGVmaW5lZCB2YWx1ZSBpcyBmb3VuZC4gV2hlbiBgZmAgcmV0dXJucyBhIHRydXRoeSB2YWx1ZSxcbiAgLy8gdGhhdCBpcyBpbW1lZGlhdGVseSByZXR1cm5lZC4gV2hlbiBgZmAgaXNuJ3QgcHJvdmlkZWQsIGl0IGlzXG4gIC8vIHRyZWF0ZWQgYXMgdGhlIGlkZW50aXR5IGZ1bmN0aW9uICh0aGUgcHJvcCB2YWx1ZSBpcyByZXR1cm5lZFxuICAvLyBkaXJlY3RseSkuXG4gIHNvbWVQcm9wKHByb3BOYW1lLCBmKSB7XG4gICAgbGV0IHByb3AgPSB0aGlzLl9wcm9wcyAmJiB0aGlzLl9wcm9wc1twcm9wTmFtZV0sIHZhbHVlXG4gICAgaWYgKHByb3AgIT0gbnVsbCAmJiAodmFsdWUgPSBmID8gZihwcm9wKSA6IHByb3ApKSByZXR1cm4gdmFsdWVcbiAgICBsZXQgcGx1Z2lucyA9IHRoaXMuc3RhdGUucGx1Z2luc1xuICAgIGlmIChwbHVnaW5zKSBmb3IgKGxldCBpID0gMDsgaSA8IHBsdWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBwcm9wID0gcGx1Z2luc1tpXS5wcm9wc1twcm9wTmFtZV1cbiAgICAgIGlmIChwcm9wICE9IG51bGwgJiYgKHZhbHVlID0gZiA/IGYocHJvcCkgOiBwcm9wKSkgcmV0dXJuIHZhbHVlXG4gICAgfVxuICB9XG5cbiAgLy8gOjogKCkg4oaSIGJvb2xcbiAgLy8gUXVlcnkgd2hldGhlciB0aGUgdmlldyBoYXMgZm9jdXMuXG4gIGhhc0ZvY3VzKCkge1xuICAgIHJldHVybiB0aGlzLnJvb3QuYWN0aXZlRWxlbWVudCA9PSB0aGlzLmRvbVxuICB9XG5cbiAgLy8gOjogKClcbiAgLy8gRm9jdXMgdGhlIGVkaXRvci5cbiAgZm9jdXMoKSB7XG4gICAgdGhpcy5kb21PYnNlcnZlci5zdG9wKClcbiAgICBpZiAodGhpcy5lZGl0YWJsZSkgZm9jdXNQcmV2ZW50U2Nyb2xsKHRoaXMuZG9tKVxuICAgIHNlbGVjdGlvblRvRE9NKHRoaXMpXG4gICAgdGhpcy5kb21PYnNlcnZlci5zdGFydCgpXG4gIH1cblxuICAvLyA6OiB1bmlvbjxkb20uRG9jdW1lbnQsIGRvbS5Eb2N1bWVudEZyYWdtZW50PlxuICAvLyBHZXQgdGhlIGRvY3VtZW50IHJvb3QgaW4gd2hpY2ggdGhlIGVkaXRvciBleGlzdHMuIFRoaXMgd2lsbFxuICAvLyB1c3VhbGx5IGJlIHRoZSB0b3AtbGV2ZWwgYGRvY3VtZW50YCwgYnV0IG1pZ2h0IGJlIGEgW3NoYWRvd1xuICAvLyBET01dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1dlYl9Db21wb25lbnRzL1NoYWRvd19ET00pXG4gIC8vIHJvb3QgaWYgdGhlIGVkaXRvciBpcyBpbnNpZGUgb25lLlxuICBnZXQgcm9vdCgpIHtcbiAgICBsZXQgY2FjaGVkID0gdGhpcy5fcm9vdFxuICAgIGlmIChjYWNoZWQgPT0gbnVsbCkgZm9yIChsZXQgc2VhcmNoID0gdGhpcy5kb20ucGFyZW50Tm9kZTsgc2VhcmNoOyBzZWFyY2ggPSBzZWFyY2gucGFyZW50Tm9kZSkge1xuICAgICAgaWYgKHNlYXJjaC5ub2RlVHlwZSA9PSA5IHx8IChzZWFyY2gubm9kZVR5cGUgPT0gMTEgJiYgc2VhcmNoLmhvc3QpKSB7XG4gICAgICAgIGlmICghc2VhcmNoLmdldFNlbGVjdGlvbikgT2JqZWN0LmdldFByb3RvdHlwZU9mKHNlYXJjaCkuZ2V0U2VsZWN0aW9uID0gKCkgPT4gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKClcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QgPSBzZWFyY2hcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZCB8fCBkb2N1bWVudFxuICB9XG5cbiAgLy8gOjogKHtsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyfSkg4oaSID97cG9zOiBudW1iZXIsIGluc2lkZTogbnVtYmVyfVxuICAvLyBHaXZlbiBhIHBhaXIgb2Ygdmlld3BvcnQgY29vcmRpbmF0ZXMsIHJldHVybiB0aGUgZG9jdW1lbnRcbiAgLy8gcG9zaXRpb24gdGhhdCBjb3JyZXNwb25kcyB0byB0aGVtLiBNYXkgcmV0dXJuIG51bGwgaWYgdGhlIGdpdmVuXG4gIC8vIGNvb3JkaW5hdGVzIGFyZW4ndCBpbnNpZGUgb2YgdGhlIGVkaXRvci4gV2hlbiBhbiBvYmplY3QgaXNcbiAgLy8gcmV0dXJuZWQsIGl0cyBgcG9zYCBwcm9wZXJ0eSBpcyB0aGUgcG9zaXRpb24gbmVhcmVzdCB0byB0aGVcbiAgLy8gY29vcmRpbmF0ZXMsIGFuZCBpdHMgYGluc2lkZWAgcHJvcGVydHkgaG9sZHMgdGhlIHBvc2l0aW9uIG9mIHRoZVxuICAvLyBpbm5lciBub2RlIHRoYXQgdGhlIHBvc2l0aW9uIGZhbGxzIGluc2lkZSBvZiwgb3IgLTEgaWYgaXQgaXMgYXRcbiAgLy8gdGhlIHRvcCBsZXZlbCwgbm90IGluIGFueSBub2RlLlxuICBwb3NBdENvb3Jkcyhjb29yZHMpIHtcbiAgICByZXR1cm4gcG9zQXRDb29yZHModGhpcywgY29vcmRzKVxuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSIHtsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIHRvcDogbnVtYmVyLCBib3R0b206IG51bWJlcn1cbiAgLy8gUmV0dXJucyB0aGUgdmlld3BvcnQgcmVjdGFuZ2xlIGF0IGEgZ2l2ZW4gZG9jdW1lbnQgcG9zaXRpb24uIGBsZWZ0YFxuICAvLyBhbmQgYHJpZ2h0YCB3aWxsIGJlIHRoZSBzYW1lIG51bWJlciwgYXMgdGhpcyByZXR1cm5zIGEgZmxhdFxuICAvLyBjdXJzb3ItaXNoIHJlY3RhbmdsZS5cbiAgY29vcmRzQXRQb3MocG9zKSB7XG4gICAgcmV0dXJuIGNvb3Jkc0F0UG9zKHRoaXMsIHBvcylcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiB7bm9kZTogZG9tLk5vZGUsIG9mZnNldDogbnVtYmVyfVxuICAvLyBGaW5kIHRoZSBET00gcG9zaXRpb24gdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgZ2l2ZW4gZG9jdW1lbnRcbiAgLy8gcG9zaXRpb24uIE5vdGUgdGhhdCB5b3Ugc2hvdWxkICoqbm90KiogbXV0YXRlIHRoZSBlZGl0b3Inc1xuICAvLyBpbnRlcm5hbCBET00sIG9ubHkgaW5zcGVjdCBpdCAoYW5kIGV2ZW4gdGhhdCBpcyB1c3VhbGx5IG5vdFxuICAvLyBuZWNlc3NhcnkpLlxuICBkb21BdFBvcyhwb3MpIHtcbiAgICByZXR1cm4gdGhpcy5kb2NWaWV3LmRvbUZyb21Qb3MocG9zKVxuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSID9kb20uTm9kZVxuICAvLyBGaW5kIHRoZSBET00gbm9kZSB0aGF0IHJlcHJlc2VudHMgdGhlIGRvY3VtZW50IG5vZGUgYWZ0ZXIgdGhlXG4gIC8vIGdpdmVuIHBvc2l0aW9uLiBNYXkgcmV0dXJuIGBudWxsYCB3aGVuIHRoZSBwb3NpdGlvbiBkb2Vzbid0IHBvaW50XG4gIC8vIGluIGZyb250IG9mIGEgbm9kZSBvciBpZiB0aGUgbm9kZSBpcyBpbnNpZGUgYW4gb3BhcXVlIG5vZGUgdmlldy5cbiAgLy9cbiAgLy8gVGhpcyBpcyBpbnRlbmRlZCB0byBiZSBhYmxlIHRvIGNhbGwgdGhpbmdzIGxpa2VcbiAgLy8gYGdldEJvdW5kaW5nQ2xpZW50UmVjdGAgb24gdGhhdCBET00gbm9kZS4gRG8gKipub3QqKiBtdXRhdGUgdGhlXG4gIC8vIGVkaXRvciBET00gZGlyZWN0bHksIG9yIGFkZCBzdHlsaW5nIHRoaXMgd2F5LCBzaW5jZSB0aGF0IHdpbGwgYmVcbiAgLy8gaW1tZWRpYXRlbHkgb3ZlcnJpZGVuIGJ5IHRoZSBlZGl0b3IgYXMgaXQgcmVkcmF3cyB0aGUgbm9kZS5cbiAgbm9kZURPTShwb3MpIHtcbiAgICBsZXQgZGVzYyA9IHRoaXMuZG9jVmlldy5kZXNjQXQocG9zKVxuICAgIHJldHVybiBkZXNjID8gZGVzYy5ub2RlRE9NIDogbnVsbFxuICB9XG5cbiAgLy8gOjogKGRvbS5Ob2RlLCBudW1iZXIsID9udW1iZXIpIOKGkiBudW1iZXJcbiAgLy8gRmluZCB0aGUgZG9jdW1lbnQgcG9zaXRpb24gdGhhdCBjb3JyZXNwb25kcyB0byBhIGdpdmVuIERPTVxuICAvLyBwb3NpdGlvbi4gKFdoZW5ldmVyIHBvc3NpYmxlLCBpdCBpcyBwcmVmZXJhYmxlIHRvIGluc3BlY3QgdGhlXG4gIC8vIGRvY3VtZW50IHN0cnVjdHVyZSBkaXJlY3RseSwgcmF0aGVyIHRoYW4gcG9raW5nIGFyb3VuZCBpbiB0aGVcbiAgLy8gRE9NLCBidXQgc29tZXRpbWVz4oCUZm9yIGV4YW1wbGUgd2hlbiBpbnRlcnByZXRpbmcgYW4gZXZlbnRcbiAgLy8gdGFyZ2V04oCUeW91IGRvbid0IGhhdmUgYSBjaG9pY2UuKVxuICAvL1xuICAvLyBUaGUgYGJpYXNgIHBhcmFtZXRlciBjYW4gYmUgdXNlZCB0byBpbmZsdWVuY2Ugd2hpY2ggc2lkZSBvZiBhIERPTVxuICAvLyBub2RlIHRvIHVzZSB3aGVuIHRoZSBwb3NpdGlvbiBpcyBpbnNpZGUgYSBsZWFmIG5vZGUuXG4gIHBvc0F0RE9NKG5vZGUsIG9mZnNldCwgYmlhcyA9IC0xKSB7XG4gICAgbGV0IHBvcyA9IHRoaXMuZG9jVmlldy5wb3NGcm9tRE9NKG5vZGUsIG9mZnNldCwgYmlhcylcbiAgICBpZiAocG9zID09IG51bGwpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiRE9NIHBvc2l0aW9uIG5vdCBpbnNpZGUgdGhlIGVkaXRvclwiKVxuICAgIHJldHVybiBwb3NcbiAgfVxuXG4gIC8vIDo6ICh1bmlvbjxcInVwXCIsIFwiZG93blwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcImZvcndhcmRcIiwgXCJiYWNrd2FyZFwiPiwgP0VkaXRvclN0YXRlKSDihpIgYm9vbFxuICAvLyBGaW5kIG91dCB3aGV0aGVyIHRoZSBzZWxlY3Rpb24gaXMgYXQgdGhlIGVuZCBvZiBhIHRleHRibG9jayB3aGVuXG4gIC8vIG1vdmluZyBpbiBhIGdpdmVuIGRpcmVjdGlvbi4gV2hlbiwgZm9yIGV4YW1wbGUsIGdpdmVuIGBcImxlZnRcImAsXG4gIC8vIGl0IHdpbGwgcmV0dXJuIHRydWUgaWYgbW92aW5nIGxlZnQgZnJvbSB0aGUgY3VycmVudCBjdXJzb3JcbiAgLy8gcG9zaXRpb24gd291bGQgbGVhdmUgdGhhdCBwb3NpdGlvbidzIHBhcmVudCB0ZXh0YmxvY2suIFdpbGwgYXBwbHlcbiAgLy8gdG8gdGhlIHZpZXcncyBjdXJyZW50IHN0YXRlIGJ5IGRlZmF1bHQsIGJ1dCBpdCBpcyBwb3NzaWJsZSB0b1xuICAvLyBwYXNzIGEgZGlmZmVyZW50IHN0YXRlLlxuICBlbmRPZlRleHRibG9jayhkaXIsIHN0YXRlKSB7XG4gICAgcmV0dXJuIGVuZE9mVGV4dGJsb2NrKHRoaXMsIHN0YXRlIHx8IHRoaXMuc3RhdGUsIGRpcilcbiAgfVxuXG4gIC8vIDo6ICgpXG4gIC8vIFJlbW92ZXMgdGhlIGVkaXRvciBmcm9tIHRoZSBET00gYW5kIGRlc3Ryb3lzIGFsbCBbbm9kZVxuICAvLyB2aWV3c10oI3ZpZXcuTm9kZVZpZXcpLlxuICBkZXN0cm95KCkge1xuICAgIGlmICghdGhpcy5kb2NWaWV3KSByZXR1cm5cbiAgICBkZXN0cm95SW5wdXQodGhpcylcbiAgICB0aGlzLmRlc3Ryb3lQbHVnaW5WaWV3cygpXG4gICAgaWYgKHRoaXMubW91bnRlZCkge1xuICAgICAgdGhpcy5kb2NWaWV3LnVwZGF0ZSh0aGlzLnN0YXRlLmRvYywgW10sIHZpZXdEZWNvcmF0aW9ucyh0aGlzKSwgdGhpcylcbiAgICAgIHRoaXMuZG9tLnRleHRDb250ZW50ID0gXCJcIlxuICAgIH0gZWxzZSBpZiAodGhpcy5kb20ucGFyZW50Tm9kZSkge1xuICAgICAgdGhpcy5kb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbSlcbiAgICB9XG4gICAgdGhpcy5kb2NWaWV3LmRlc3Ryb3koKVxuICAgIHRoaXMuZG9jVmlldyA9IG51bGxcbiAgfVxuXG4gIC8vIFVzZWQgZm9yIHRlc3RpbmcuXG4gIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2hFdmVudCh0aGlzLCBldmVudClcbiAgfVxuXG4gIC8vIDo6IChUcmFuc2FjdGlvbilcbiAgLy8gRGlzcGF0Y2ggYSB0cmFuc2FjdGlvbi4gV2lsbCBjYWxsXG4gIC8vIFtgZGlzcGF0Y2hUcmFuc2FjdGlvbmBdKCN2aWV3LkRpcmVjdEVkaXRvclByb3BzLmRpc3BhdGNoVHJhbnNhY3Rpb24pXG4gIC8vIHdoZW4gZ2l2ZW4sIGFuZCBvdGhlcndpc2UgZGVmYXVsdHMgdG8gYXBwbHlpbmcgdGhlIHRyYW5zYWN0aW9uIHRvXG4gIC8vIHRoZSBjdXJyZW50IHN0YXRlIGFuZCBjYWxsaW5nXG4gIC8vIFtgdXBkYXRlU3RhdGVgXSgjdmlldy5FZGl0b3JWaWV3LnVwZGF0ZVN0YXRlKSB3aXRoIHRoZSByZXN1bHQuXG4gIC8vIFRoaXMgbWV0aG9kIGlzIGJvdW5kIHRvIHRoZSB2aWV3IGluc3RhbmNlLCBzbyB0aGF0IGl0IGNhbiBiZVxuICAvLyBlYXNpbHkgcGFzc2VkIGFyb3VuZC5cbiAgZGlzcGF0Y2godHIpIHtcbiAgICBsZXQgZGlzcGF0Y2hUcmFuc2FjdGlvbiA9IHRoaXMuX3Byb3BzLmRpc3BhdGNoVHJhbnNhY3Rpb25cbiAgICBpZiAoZGlzcGF0Y2hUcmFuc2FjdGlvbikgZGlzcGF0Y2hUcmFuc2FjdGlvbi5jYWxsKHRoaXMsIHRyKVxuICAgIGVsc2UgdGhpcy51cGRhdGVTdGF0ZSh0aGlzLnN0YXRlLmFwcGx5KHRyKSlcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlRG9jRGVjbyh2aWV3KSB7XG4gIGxldCBhdHRycyA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgYXR0cnMuY2xhc3MgPSBcIlByb3NlTWlycm9yXCJcbiAgYXR0cnMuY29udGVudGVkaXRhYmxlID0gU3RyaW5nKHZpZXcuZWRpdGFibGUpXG5cbiAgdmlldy5zb21lUHJvcChcImF0dHJpYnV0ZXNcIiwgdmFsdWUgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJmdW5jdGlvblwiKSB2YWx1ZSA9IHZhbHVlKHZpZXcuc3RhdGUpXG4gICAgaWYgKHZhbHVlKSBmb3IgKGxldCBhdHRyIGluIHZhbHVlKSB7XG4gICAgICBpZiAoYXR0ciA9PSBcImNsYXNzXCIpXG4gICAgICAgIGF0dHJzLmNsYXNzICs9IFwiIFwiICsgdmFsdWVbYXR0cl1cbiAgICAgIGVsc2UgaWYgKCFhdHRyc1thdHRyXSAmJiBhdHRyICE9IFwiY29udGVudGVkaXRhYmxlXCIgJiYgYXR0ciAhPSBcIm5vZGVOYW1lXCIpXG4gICAgICAgIGF0dHJzW2F0dHJdID0gU3RyaW5nKHZhbHVlW2F0dHJdKVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gW0RlY29yYXRpb24ubm9kZSgwLCB2aWV3LnN0YXRlLmRvYy5jb250ZW50LnNpemUsIGF0dHJzKV1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQ3Vyc29yV3JhcHBlcih2aWV3KSB7XG4gIGxldCB7JGhlYWQsICRhbmNob3IsIHZpc2libGV9ID0gdmlldy5zdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKHZpZXcubWFya0N1cnNvcikge1xuICAgIGxldCBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpXG4gICAgZG9tLnNldEF0dHJpYnV0ZShcIm1hcmstcGxhY2Vob2xkZXJcIiwgXCJ0cnVlXCIpXG4gICAgdmlldy5jdXJzb3JXcmFwcGVyID0ge2RvbSwgZGVjbzogRGVjb3JhdGlvbi53aWRnZXQoJGhlYWQucG9zLCBkb20sIHtyYXc6IHRydWUsIG1hcmtzOiB2aWV3Lm1hcmtDdXJzb3J9KX1cbiAgfSBlbHNlIGlmICh2aXNpYmxlIHx8ICRoZWFkLnBvcyAhPSAkYW5jaG9yLnBvcykge1xuICAgIHZpZXcuY3Vyc29yV3JhcHBlciA9IG51bGxcbiAgfSBlbHNlIHtcbiAgICBsZXQgZG9tXG4gICAgaWYgKCF2aWV3LmN1cnNvcldyYXBwZXIgfHwgdmlldy5jdXJzb3JXcmFwcGVyLmRvbS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgZG9tLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXG4gICAgICBkb20uc3R5bGUubGVmdCA9IFwiLTEwMDAwMHB4XCJcbiAgICB9IGVsc2UgaWYgKHZpZXcuY3Vyc29yV3JhcHBlci5kZWNvLnBvcyAhPSAkaGVhZC5wb3MpIHtcbiAgICAgIGRvbSA9IHZpZXcuY3Vyc29yV3JhcHBlci5kb21cbiAgICB9XG4gICAgaWYgKGRvbSlcbiAgICAgIHZpZXcuY3Vyc29yV3JhcHBlciA9IHtkb20sIGRlY286IERlY29yYXRpb24ud2lkZ2V0KCRoZWFkLnBvcywgZG9tLCB7cmF3OiB0cnVlfSl9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RWRpdGFibGUodmlldykge1xuICByZXR1cm4gIXZpZXcuc29tZVByb3AoXCJlZGl0YWJsZVwiLCB2YWx1ZSA9PiB2YWx1ZSh2aWV3LnN0YXRlKSA9PT0gZmFsc2UpXG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbkNvbnRleHRDaGFuZ2VkKHNlbDEsIHNlbDIpIHtcbiAgbGV0IGRlcHRoID0gTWF0aC5taW4oc2VsMS4kYW5jaG9yLnNoYXJlZERlcHRoKHNlbDEuaGVhZCksIHNlbDIuJGFuY2hvci5zaGFyZWREZXB0aChzZWwyLmhlYWQpKVxuICByZXR1cm4gc2VsMS4kYW5jaG9yLm5vZGUoZGVwdGgpICE9IHNlbDIuJGFuY2hvci5ub2RlKGRlcHRoKVxufVxuXG5mdW5jdGlvbiBidWlsZE5vZGVWaWV3cyh2aWV3KSB7XG4gIGxldCByZXN1bHQgPSB7fVxuICB2aWV3LnNvbWVQcm9wKFwibm9kZVZpZXdzXCIsIG9iaiA9PiB7XG4gICAgZm9yIChsZXQgcHJvcCBpbiBvYmopIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwgcHJvcCkpXG4gICAgICByZXN1bHRbcHJvcF0gPSBvYmpbcHJvcF1cbiAgfSlcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBjaGFuZ2VkTm9kZVZpZXdzKGEsIGIpIHtcbiAgbGV0IG5BID0gMCwgbkIgPSAwXG4gIGZvciAobGV0IHByb3AgaW4gYSkge1xuICAgIGlmIChhW3Byb3BdICE9IGJbcHJvcF0pIHJldHVybiB0cnVlXG4gICAgbkErK1xuICB9XG4gIGZvciAobGV0IF8gaW4gYikgbkIrK1xuICByZXR1cm4gbkEgIT0gbkJcbn1cblxuLy8gRWRpdG9yUHJvcHM6OiBpbnRlcmZhY2Vcbi8vXG4vLyBQcm9wcyBhcmUgY29uZmlndXJhdGlvbiB2YWx1ZXMgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIGFuIGVkaXRvciB2aWV3XG4vLyBvciBpbmNsdWRlZCBpbiBhIHBsdWdpbi4gVGhpcyBpbnRlcmZhY2UgbGlzdHMgdGhlIHN1cHBvcnRlZCBwcm9wcy5cbi8vXG4vLyBUaGUgdmFyaW91cyBldmVudC1oYW5kbGluZyBmdW5jdGlvbnMgbWF5IGFsbCByZXR1cm4gYHRydWVgIHRvXG4vLyBpbmRpY2F0ZSB0aGF0IHRoZXkgaGFuZGxlZCB0aGUgZ2l2ZW4gZXZlbnQuIFRoZSB2aWV3IHdpbGwgdGhlbiB0YWtlXG4vLyBjYXJlIHRvIGNhbGwgYHByZXZlbnREZWZhdWx0YCBvbiB0aGUgZXZlbnQsIGV4Y2VwdCB3aXRoXG4vLyBgaGFuZGxlRE9NRXZlbnRzYCwgd2hlcmUgdGhlIGhhbmRsZXIgaXRzZWxmIGlzIHJlc3BvbnNpYmxlIGZvciB0aGF0LlxuLy9cbi8vIEhvdyBhIHByb3AgaXMgcmVzb2x2ZWQgZGVwZW5kcyBvbiB0aGUgcHJvcC4gSGFuZGxlciBmdW5jdGlvbnMgYXJlXG4vLyBjYWxsZWQgb25lIGF0IGEgdGltZSwgc3RhcnRpbmcgd2l0aCB0aGUgYmFzZSBwcm9wcyBhbmQgdGhlblxuLy8gc2VhcmNoaW5nIHRocm91Z2ggdGhlIHBsdWdpbnMgKGluIG9yZGVyIG9mIGFwcGVhcmFuY2UpIHVudGlsIG9uZSBvZlxuLy8gdGhlbSByZXR1cm5zIHRydWUuIEZvciBzb21lIHByb3BzLCB0aGUgZmlyc3QgcGx1Z2luIHRoYXQgeWllbGRzIGFcbi8vIHZhbHVlIGdldHMgcHJlY2VkZW5jZS5cbi8vXG4vLyAgIGhhbmRsZURPTUV2ZW50czo6ID9PYmplY3Q8KHZpZXc6IEVkaXRvclZpZXcsIGV2ZW50OiBkb20uRXZlbnQpIOKGkiBib29sPlxuLy8gICBDYW4gYmUgYW4gb2JqZWN0IG1hcHBpbmcgRE9NIGV2ZW50IHR5cGUgbmFtZXMgdG8gZnVuY3Rpb25zIHRoYXRcbi8vICAgaGFuZGxlIHRoZW0uIFN1Y2ggZnVuY3Rpb25zIHdpbGwgYmUgY2FsbGVkIGJlZm9yZSBhbnkgaGFuZGxpbmdcbi8vICAgUHJvc2VNaXJyb3IgZG9lcyBvZiBldmVudHMgZmlyZWQgb24gdGhlIGVkaXRhYmxlIERPTSBlbGVtZW50LlxuLy8gICBDb250cmFyeSB0byB0aGUgb3RoZXIgZXZlbnQgaGFuZGxpbmcgcHJvcHMsIHdoZW4gcmV0dXJuaW5nIHRydWVcbi8vICAgZnJvbSBzdWNoIGEgZnVuY3Rpb24sIHlvdSBhcmUgcmVzcG9uc2libGUgZm9yIGNhbGxpbmdcbi8vICAgYHByZXZlbnREZWZhdWx0YCB5b3Vyc2VsZiAob3Igbm90LCBpZiB5b3Ugd2FudCB0byBhbGxvdyB0aGVcbi8vICAgZGVmYXVsdCBiZWhhdmlvcikuXG4vL1xuLy8gICBoYW5kbGVLZXlEb3duOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBldmVudDogZG9tLktleWJvYXJkRXZlbnQpIOKGkiBib29sXG4vLyAgIENhbGxlZCB3aGVuIHRoZSBlZGl0b3IgcmVjZWl2ZXMgYSBga2V5ZG93bmAgZXZlbnQuXG4vL1xuLy8gICBoYW5kbGVLZXlQcmVzczo6ID8odmlldzogRWRpdG9yVmlldywgZXZlbnQ6IGRvbS5LZXlib2FyZEV2ZW50KSDihpIgYm9vbFxuLy8gICBIYW5kbGVyIGZvciBga2V5cHJlc3NgIGV2ZW50cy5cbi8vXG4vLyAgIGhhbmRsZVRleHRJbnB1dDo6ID8odmlldzogRWRpdG9yVmlldywgZnJvbTogbnVtYmVyLCB0bzogbnVtYmVyLCB0ZXh0OiBzdHJpbmcpIOKGkiBib29sXG4vLyAgIFdoZW5ldmVyIHRoZSB1c2VyIGRpcmVjdGx5IGlucHV0IHRleHQsIHRoaXMgaGFuZGxlciBpcyBjYWxsZWRcbi8vICAgYmVmb3JlIHRoZSBpbnB1dCBpcyBhcHBsaWVkLiBJZiBpdCByZXR1cm5zIGB0cnVlYCwgdGhlIGRlZmF1bHRcbi8vICAgYmVoYXZpb3Igb2YgYWN0dWFsbHkgaW5zZXJ0aW5nIHRoZSB0ZXh0IGlzIHN1cHByZXNzZWQuXG4vL1xuLy8gICBoYW5kbGVDbGlja09uOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBwb3M6IG51bWJlciwgbm9kZTogTm9kZSwgbm9kZVBvczogbnVtYmVyLCBldmVudDogZG9tLk1vdXNlRXZlbnQsIGRpcmVjdDogYm9vbCkg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIGZvciBlYWNoIG5vZGUgYXJvdW5kIGEgY2xpY2ssIGZyb20gdGhlIGluc2lkZSBvdXQuIFRoZVxuLy8gICBgZGlyZWN0YCBmbGFnIHdpbGwgYmUgdHJ1ZSBmb3IgdGhlIGlubmVyIG5vZGUuXG4vL1xuLy8gICBoYW5kbGVDbGljazo6ID8odmlldzogRWRpdG9yVmlldywgcG9zOiBudW1iZXIsIGV2ZW50OiBkb20uTW91c2VFdmVudCkg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIHdoZW4gdGhlIGVkaXRvciBpcyBjbGlja2VkLCBhZnRlciBgaGFuZGxlQ2xpY2tPbmAgaGFuZGxlcnNcbi8vICAgaGF2ZSBiZWVuIGNhbGxlZC5cbi8vXG4vLyAgIGhhbmRsZURvdWJsZUNsaWNrT246OiA/KHZpZXc6IEVkaXRvclZpZXcsIHBvczogbnVtYmVyLCBub2RlOiBOb2RlLCBub2RlUG9zOiBudW1iZXIsIGV2ZW50OiBkb20uTW91c2VFdmVudCwgZGlyZWN0OiBib29sKSDihpIgYm9vbFxuLy8gICBDYWxsZWQgZm9yIGVhY2ggbm9kZSBhcm91bmQgYSBkb3VibGUgY2xpY2suXG4vL1xuLy8gICBoYW5kbGVEb3VibGVDbGljazo6ID8odmlldzogRWRpdG9yVmlldywgcG9zOiBudW1iZXIsIGV2ZW50OiBkb20uTW91c2VFdmVudCkg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIHdoZW4gdGhlIGVkaXRvciBpcyBkb3VibGUtY2xpY2tlZCwgYWZ0ZXIgYGhhbmRsZURvdWJsZUNsaWNrT25gLlxuLy9cbi8vICAgaGFuZGxlVHJpcGxlQ2xpY2tPbjo6ID8odmlldzogRWRpdG9yVmlldywgcG9zOiBudW1iZXIsIG5vZGU6IE5vZGUsIG5vZGVQb3M6IG51bWJlciwgZXZlbnQ6IGRvbS5Nb3VzZUV2ZW50LCBkaXJlY3Q6IGJvb2wpIOKGkiBib29sXG4vLyAgIENhbGxlZCBmb3IgZWFjaCBub2RlIGFyb3VuZCBhIHRyaXBsZSBjbGljay5cbi8vXG4vLyAgIGhhbmRsZVRyaXBsZUNsaWNrOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBwb3M6IG51bWJlciwgZXZlbnQ6IGRvbS5Nb3VzZUV2ZW50KSDihpIgYm9vbFxuLy8gICBDYWxsZWQgd2hlbiB0aGUgZWRpdG9yIGlzIHRyaXBsZS1jbGlja2VkLCBhZnRlciBgaGFuZGxlVHJpcGxlQ2xpY2tPbmAuXG4vL1xuLy8gICBoYW5kbGVQYXN0ZTo6ID8odmlldzogRWRpdG9yVmlldywgZXZlbnQ6IGRvbS5FdmVudCwgc2xpY2U6IFNsaWNlKSDihpIgYm9vbFxuLy8gICBDYW4gYmUgdXNlZCB0byBvdmVycmlkZSB0aGUgYmVoYXZpb3Igb2YgcGFzdGluZy4gYHNsaWNlYCBpcyB0aGVcbi8vICAgcGFzdGVkIGNvbnRlbnQgcGFyc2VkIGJ5IHRoZSBlZGl0b3IsIGJ1dCB5b3UgY2FuIGRpcmVjdGx5IGFjY2Vzc1xuLy8gICB0aGUgZXZlbnQgdG8gZ2V0IGF0IHRoZSByYXcgY29udGVudC5cbi8vXG4vLyAgIGhhbmRsZURyb3A6OiA/KHZpZXc6IEVkaXRvclZpZXcsIGV2ZW50OiBkb20uRXZlbnQsIHNsaWNlOiBTbGljZSwgbW92ZWQ6IGJvb2wpIOKGkiBib29sXG4vLyAgIENhbGxlZCB3aGVuIHNvbWV0aGluZyBpcyBkcm9wcGVkIG9uIHRoZSBlZGl0b3IuIGBtb3ZlZGAgd2lsbCBiZVxuLy8gICB0cnVlIGlmIHRoaXMgZHJvcCBtb3ZlcyBmcm9tIHRoZSBjdXJyZW50IHNlbGVjdGlvbiAod2hpY2ggc2hvdWxkXG4vLyAgIHRodXMgYmUgZGVsZXRlZCkuXG4vL1xuLy8gICBoYW5kbGVTY3JvbGxUb1NlbGVjdGlvbjo6ID8odmlldzogRWRpdG9yVmlldykg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIHdoZW4gdGhlIHZpZXcsIGFmdGVyIHVwZGF0aW5nIGl0cyBzdGF0ZSwgdHJpZXMgdG8gc2Nyb2xsXG4vLyAgIHRoZSBzZWxlY3Rpb24gaW50byB2aWV3LiBBIGhhbmRsZXIgZnVuY3Rpb24gbWF5IHJldHVybiBmYWxzZSB0b1xuLy8gICBpbmRpY2F0ZSB0aGF0IGl0IGRpZCBub3QgaGFuZGxlIHRoZSBzY3JvbGxpbmcgYW5kIGZ1cnRoZXJcbi8vICAgaGFuZGxlcnMgb3IgdGhlIGRlZmF1bHQgYmVoYXZpb3Igc2hvdWxkIGJlIHRyaWVkLlxuLy9cbi8vICAgY3JlYXRlU2VsZWN0aW9uQmV0d2Vlbjo6ID8odmlldzogRWRpdG9yVmlldywgYW5jaG9yOiBSZXNvbHZlZFBvcywgaGVhZDogUmVzb2x2ZWRQb3MpIOKGkiA/U2VsZWN0aW9uXG4vLyAgIENhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIHRoZSB3YXkgYSBzZWxlY3Rpb24gaXMgY3JlYXRlZCB3aGVuXG4vLyAgIHJlYWRpbmcgYSBET00gc2VsZWN0aW9uIGJldHdlZW4gdGhlIGdpdmVuIGFuY2hvciBhbmQgaGVhZC5cbi8vXG4vLyAgIGRvbVBhcnNlcjo6ID9ET01QYXJzZXJcbi8vICAgVGhlIFtwYXJzZXJdKCNtb2RlbC5ET01QYXJzZXIpIHRvIHVzZSB3aGVuIHJlYWRpbmcgZWRpdG9yIGNoYW5nZXNcbi8vICAgZnJvbSB0aGUgRE9NLiBEZWZhdWx0cyB0byBjYWxsaW5nXG4vLyAgIFtgRE9NUGFyc2VyLmZyb21TY2hlbWFgXSgjbW9kZWwuRE9NUGFyc2VyXmZyb21TY2hlbWEpIG9uIHRoZVxuLy8gICBlZGl0b3IncyBzY2hlbWEuXG4vL1xuLy8gICB0cmFuc2Zvcm1QYXN0ZWRIVE1MOjogPyhodG1sOiBzdHJpbmcpIOKGkiBzdHJpbmdcbi8vICAgQ2FuIGJlIHVzZWQgdG8gdHJhbnNmb3JtIHBhc3RlZCBIVE1MIHRleHQsIF9iZWZvcmVfIGl0IGlzIHBhcnNlZCxcbi8vICAgZm9yIGV4YW1wbGUgdG8gY2xlYW4gaXQgdXAuXG4vL1xuLy8gICBjbGlwYm9hcmRQYXJzZXI6OiA/RE9NUGFyc2VyXG4vLyAgIFRoZSBbcGFyc2VyXSgjbW9kZWwuRE9NUGFyc2VyKSB0byB1c2Ugd2hlbiByZWFkaW5nIGNvbnRlbnQgZnJvbVxuLy8gICB0aGUgY2xpcGJvYXJkLiBXaGVuIG5vdCBnaXZlbiwgdGhlIHZhbHVlIG9mIHRoZVxuLy8gICBbYGRvbVBhcnNlcmBdKCN2aWV3LkVkaXRvclByb3BzLmRvbVBhcnNlcikgcHJvcCBpcyB1c2VkLlxuLy9cbi8vICAgdHJhbnNmb3JtUGFzdGVkVGV4dDo6ID8odGV4dDogc3RyaW5nKSDihpIgc3RyaW5nXG4vLyAgIFRyYW5zZm9ybSBwYXN0ZWQgcGxhaW4gdGV4dC5cbi8vXG4vLyAgIGNsaXBib2FyZFRleHRQYXJzZXI6OiA/KHRleHQ6IHN0cmluZywgJGNvbnRleHQ6IFJlc29sdmVkUG9zKSDihpIgU2xpY2Vcbi8vICAgQSBmdW5jdGlvbiB0byBwYXJzZSB0ZXh0IGZyb20gdGhlIGNsaXBib2FyZCBpbnRvIGEgZG9jdW1lbnRcbi8vICAgc2xpY2UuIENhbGxlZCBhZnRlclxuLy8gICBbYHRyYW5zZm9ybVBhc3RlZFRleHRgXSgjdmlldy5FZGl0b3JQcm9wcy50cmFuc2Zvcm1QYXN0ZWRUZXh0KS5cbi8vICAgVGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgdG8gc3BsaXQgdGhlIHRleHQgaW50byBsaW5lcywgd3JhcCB0aGVtXG4vLyAgIGluIGA8cD5gIHRhZ3MsIGFuZCBjYWxsXG4vLyAgIFtgY2xpcGJvYXJkUGFyc2VyYF0oI3ZpZXcuRWRpdG9yUHJvcHMuY2xpcGJvYXJkUGFyc2VyKSBvbiBpdC5cbi8vXG4vLyAgIHRyYW5zZm9ybVBhc3RlZDo6ID8oU2xpY2UpIOKGkiBTbGljZVxuLy8gICBDYW4gYmUgdXNlZCB0byB0cmFuc2Zvcm0gcGFzdGVkIGNvbnRlbnQgYmVmb3JlIGl0IGlzIGFwcGxpZWQgdG9cbi8vICAgdGhlIGRvY3VtZW50LlxuLy9cbi8vICAgbm9kZVZpZXdzOjogP09iamVjdDwobm9kZTogTm9kZSwgdmlldzogRWRpdG9yVmlldywgZ2V0UG9zOiAoKSDihpIgbnVtYmVyLCBkZWNvcmF0aW9uczogW0RlY29yYXRpb25dKSDihpIgTm9kZVZpZXc+XG4vLyAgIEFsbG93cyB5b3UgdG8gcGFzcyBjdXN0b20gcmVuZGVyaW5nIGFuZCBiZWhhdmlvciBsb2dpYyBmb3Igbm9kZXNcbi8vICAgYW5kIG1hcmtzLiBTaG91bGQgbWFwIG5vZGUgYW5kIG1hcmsgbmFtZXMgdG8gY29uc3RydWN0b3Jcbi8vICAgZnVuY3Rpb25zIHRoYXQgcHJvZHVjZSBhIFtgTm9kZVZpZXdgXSgjdmlldy5Ob2RlVmlldykgb2JqZWN0XG4vLyAgIGltcGxlbWVudGluZyB0aGUgbm9kZSdzIGRpc3BsYXkgYmVoYXZpb3IuIEZvciBub2RlcywgdGhlIHRoaXJkXG4vLyAgIGFyZ3VtZW50IGBnZXRQb3NgIGlzIGEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgY2FsbGVkIHRvIGdldCB0aGVcbi8vICAgbm9kZSdzIGN1cnJlbnQgcG9zaXRpb24sIHdoaWNoIGNhbiBiZSB1c2VmdWwgd2hlbiBjcmVhdGluZ1xuLy8gICB0cmFuc2FjdGlvbnMgdG8gdXBkYXRlIGl0LiBGb3IgbWFya3MsIHRoZSB0aGlyZCBhcmd1bWVudCBpcyBhXG4vLyAgIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB0aGUgbWFyaydzIGNvbnRlbnQgaXMgaW5saW5lLlxuLy9cbi8vICAgYGRlY29yYXRpb25zYCBpcyBhbiBhcnJheSBvZiBub2RlIG9yIGlubGluZSBkZWNvcmF0aW9ucyB0aGF0IGFyZVxuLy8gICBhY3RpdmUgYXJvdW5kIHRoZSBub2RlLiBUaGV5IGFyZSBhdXRvbWF0aWNhbGx5IGRyYXduIGluIHRoZVxuLy8gICBub3JtYWwgd2F5LCBhbmQgeW91IHdpbGwgdXN1YWxseSBqdXN0IHdhbnQgdG8gaWdub3JlIHRoaXMsIGJ1dFxuLy8gICB0aGV5IGNhbiBhbHNvIGJlIHVzZWQgYXMgYSB3YXkgdG8gcHJvdmlkZSBjb250ZXh0IGluZm9ybWF0aW9uIHRvXG4vLyAgIHRoZSBub2RlIHZpZXcgd2l0aG91dCBhZGRpbmcgaXQgdG8gdGhlIGRvY3VtZW50IGl0c2VsZi5cbi8vXG4vLyAgIGNsaXBib2FyZFNlcmlhbGl6ZXI6OiA/RE9NU2VyaWFsaXplclxuLy8gICBUaGUgRE9NIHNlcmlhbGl6ZXIgdG8gdXNlIHdoZW4gcHV0dGluZyBjb250ZW50IG9udG8gdGhlXG4vLyAgIGNsaXBib2FyZC4gSWYgbm90IGdpdmVuLCB0aGUgcmVzdWx0IG9mXG4vLyAgIFtgRE9NU2VyaWFsaXplci5mcm9tU2NoZW1hYF0oI21vZGVsLkRPTVNlcmlhbGl6ZXJeZnJvbVNjaGVtYSlcbi8vICAgd2lsbCBiZSB1c2VkLlxuLy9cbi8vICAgY2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXI6OiA/KFNsaWNlKSDihpIgc3RyaW5nXG4vLyAgIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB0byBnZXQgdGhlIHRleHQgZm9yIHRoZSBjdXJyZW50XG4vLyAgIHNlbGVjdGlvbiB3aGVuIGNvcHlpbmcgdGV4dCB0byB0aGUgY2xpcGJvYXJkLiBCeSBkZWZhdWx0LCB0aGVcbi8vICAgZWRpdG9yIHdpbGwgdXNlIFtgdGV4dEJldHdlZW5gXSgjbW9kZWwuTm9kZS50ZXh0QmV0d2Vlbikgb24gdGhlXG4vLyAgIHNlbGVjdGVkIHJhbmdlLlxuLy9cbi8vICAgZGVjb3JhdGlvbnM6OiA/KHN0YXRlOiBFZGl0b3JTdGF0ZSkg4oaSID9EZWNvcmF0aW9uU2V0XG4vLyAgIEEgc2V0IG9mIFtkb2N1bWVudCBkZWNvcmF0aW9uc10oI3ZpZXcuRGVjb3JhdGlvbikgdG8gc2hvdyBpbiB0aGVcbi8vICAgdmlldy5cbi8vXG4vLyAgIGVkaXRhYmxlOjogPyhzdGF0ZTogRWRpdG9yU3RhdGUpIOKGkiBib29sXG4vLyAgIFdoZW4gdGhpcyByZXR1cm5zIGZhbHNlLCB0aGUgY29udGVudCBvZiB0aGUgdmlldyBpcyBub3QgZGlyZWN0bHlcbi8vICAgZWRpdGFibGUuXG4vL1xuLy8gICBhdHRyaWJ1dGVzOjogP3VuaW9uPE9iamVjdDxzdHJpbmc+LCAoRWRpdG9yU3RhdGUpIOKGkiA/T2JqZWN0PHN0cmluZz4+XG4vLyAgIENvbnRyb2wgdGhlIERPTSBhdHRyaWJ1dGVzIG9mIHRoZSBlZGl0YWJsZSBlbGVtZW50LiBNYXkgYmUgZWl0aGVyXG4vLyAgIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uIGdvaW5nIGZyb20gYW4gZWRpdG9yIHN0YXRlIHRvIGFuIG9iamVjdC5cbi8vICAgQnkgZGVmYXVsdCwgdGhlIGVsZW1lbnQgd2lsbCBnZXQgYSBjbGFzcyBgXCJQcm9zZU1pcnJvclwiYCwgYW5kXG4vLyAgIHdpbGwgaGF2ZSBpdHMgYGNvbnRlbnRFZGl0YWJsZWAgYXR0cmlidXRlIGRldGVybWluZWQgYnkgdGhlXG4vLyAgIFtgZWRpdGFibGVgIHByb3BdKCN2aWV3LkVkaXRvclByb3BzLmVkaXRhYmxlKS4gQWRkaXRpb25hbCBjbGFzc2VzXG4vLyAgIHByb3ZpZGVkIGhlcmUgd2lsbCBiZSBhZGRlZCB0byB0aGUgY2xhc3MuIEZvciBvdGhlciBhdHRyaWJ1dGVzLFxuLy8gICB0aGUgdmFsdWUgcHJvdmlkZWQgZmlyc3QgKGFzIGluXG4vLyAgIFtgc29tZVByb3BgXSgjdmlldy5FZGl0b3JWaWV3LnNvbWVQcm9wKSkgd2lsbCBiZSB1c2VkLlxuLy9cbi8vICAgc2Nyb2xsVGhyZXNob2xkOjogP3VuaW9uPG51bWJlciwge3RvcDogbnVtYmVyLCByaWdodDogbnVtYmVyLCBib3R0b206IG51bWJlciwgbGVmdDogbnVtYmVyfT5cbi8vICAgRGV0ZXJtaW5lcyB0aGUgZGlzdGFuY2UgKGluIHBpeGVscykgYmV0d2VlbiB0aGUgY3Vyc29yIGFuZCB0aGVcbi8vICAgZW5kIG9mIHRoZSB2aXNpYmxlIHZpZXdwb3J0IGF0IHdoaWNoIHBvaW50LCB3aGVuIHNjcm9sbGluZyB0aGVcbi8vICAgY3Vyc29yIGludG8gdmlldywgc2Nyb2xsaW5nIHRha2VzIHBsYWNlLiBEZWZhdWx0cyB0byAwLlxuLy9cbi8vICAgc2Nyb2xsTWFyZ2luOjogP3VuaW9uPG51bWJlciwge3RvcDogbnVtYmVyLCByaWdodDogbnVtYmVyLCBib3R0b206IG51bWJlciwgbGVmdDogbnVtYmVyfT5cbi8vICAgRGV0ZXJtaW5lcyB0aGUgZXh0cmEgc3BhY2UgKGluIHBpeGVscykgdGhhdCBpcyBsZWZ0IGFib3ZlIG9yXG4vLyAgIGJlbG93IHRoZSBjdXJzb3Igd2hlbiBpdCBpcyBzY3JvbGxlZCBpbnRvIHZpZXcuIERlZmF1bHRzIHRvIDUuXG5cbi8vIERpcmVjdEVkaXRvclByb3BzOjogaW50ZXJmYWNlIGV4dGVuZHMgRWRpdG9yUHJvcHNcbi8vXG4vLyBUaGUgcHJvcHMgb2JqZWN0IGdpdmVuIGRpcmVjdGx5IHRvIHRoZSBlZGl0b3IgdmlldyBzdXBwb3J0cyB0d29cbi8vIGZpZWxkcyB0aGF0IGNhbid0IGJlIHVzZWQgaW4gcGx1Z2luczpcbi8vXG4vLyAgIHN0YXRlOjogRWRpdG9yU3RhdGVcbi8vICAgVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGVkaXRvci5cbi8vXG4vLyAgIGRpc3BhdGNoVHJhbnNhY3Rpb246OiA/KHRyOiBUcmFuc2FjdGlvbilcbi8vICAgVGhlIGNhbGxiYWNrIG92ZXIgd2hpY2ggdG8gc2VuZCB0cmFuc2FjdGlvbnMgKHN0YXRlIHVwZGF0ZXMpXG4vLyAgIHByb2R1Y2VkIGJ5IHRoZSB2aWV3LiBJZiB5b3Ugc3BlY2lmeSB0aGlzLCB5b3UgcHJvYmFibHkgd2FudCB0b1xuLy8gICBtYWtlIHN1cmUgdGhpcyBlbmRzIHVwIGNhbGxpbmcgdGhlIHZpZXcnc1xuLy8gICBbYHVwZGF0ZVN0YXRlYF0oI3ZpZXcuRWRpdG9yVmlldy51cGRhdGVTdGF0ZSkgbWV0aG9kIHdpdGggYSBuZXdcbi8vICAgc3RhdGUgdGhhdCBoYXMgdGhlIHRyYW5zYWN0aW9uXG4vLyAgIFthcHBsaWVkXSgjc3RhdGUuRWRpdG9yU3RhdGUuYXBwbHkpLiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBib3VuZCB0byBoYXZlXG4vLyAgIHRoZSB2aWV3IGluc3RhbmNlIGFzIGl0cyBgdGhpc2AgYmluZGluZy5cbiIsInZhciBHT09EX0xFQUZfU0laRSA9IDIwMDtcblxuLy8gOjogY2xhc3M8VD4gQSByb3BlIHNlcXVlbmNlIGlzIGEgcGVyc2lzdGVudCBzZXF1ZW5jZSBkYXRhIHN0cnVjdHVyZVxuLy8gdGhhdCBzdXBwb3J0cyBhcHBlbmRpbmcsIHByZXBlbmRpbmcsIGFuZCBzbGljaW5nIHdpdGhvdXQgZG9pbmcgYVxuLy8gZnVsbCBjb3B5LiBJdCBpcyByZXByZXNlbnRlZCBhcyBhIG1vc3RseS1iYWxhbmNlZCB0cmVlLlxudmFyIFJvcGVTZXF1ZW5jZSA9IGZ1bmN0aW9uIFJvcGVTZXF1ZW5jZSAoKSB7fTtcblxuUm9wZVNlcXVlbmNlLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQgKG90aGVyKSB7XG4gIGlmICghb3RoZXIubGVuZ3RoKSB7IHJldHVybiB0aGlzIH1cbiAgb3RoZXIgPSBSb3BlU2VxdWVuY2UuZnJvbShvdGhlcik7XG5cbiAgcmV0dXJuICghdGhpcy5sZW5ndGggJiYgb3RoZXIpIHx8XG4gICAgKG90aGVyLmxlbmd0aCA8IEdPT0RfTEVBRl9TSVpFICYmIHRoaXMubGVhZkFwcGVuZChvdGhlcikpIHx8XG4gICAgKHRoaXMubGVuZ3RoIDwgR09PRF9MRUFGX1NJWkUgJiYgb3RoZXIubGVhZlByZXBlbmQodGhpcykpIHx8XG4gICAgdGhpcy5hcHBlbmRJbm5lcihvdGhlcilcbn07XG5cbi8vIDo6ICh1bmlvbjxbVF0sIFJvcGVTZXF1ZW5jZTxUPj4pIOKGkiBSb3BlU2VxdWVuY2U8VD5cbi8vIFByZXBlbmQgYW4gYXJyYXkgb3Igb3RoZXIgcm9wZSB0byB0aGlzIG9uZSwgcmV0dXJuaW5nIGEgbmV3IHJvcGUuXG5Sb3BlU2VxdWVuY2UucHJvdG90eXBlLnByZXBlbmQgPSBmdW5jdGlvbiBwcmVwZW5kIChvdGhlcikge1xuICBpZiAoIW90aGVyLmxlbmd0aCkgeyByZXR1cm4gdGhpcyB9XG4gIHJldHVybiBSb3BlU2VxdWVuY2UuZnJvbShvdGhlcikuYXBwZW5kKHRoaXMpXG59O1xuXG5Sb3BlU2VxdWVuY2UucHJvdG90eXBlLmFwcGVuZElubmVyID0gZnVuY3Rpb24gYXBwZW5kSW5uZXIgKG90aGVyKSB7XG4gIHJldHVybiBuZXcgQXBwZW5kKHRoaXMsIG90aGVyKVxufTtcblxuLy8gOjogKD9udW1iZXIsID9udW1iZXIpIOKGkiBSb3BlU2VxdWVuY2U8VD5cbi8vIENyZWF0ZSBhIHJvcGUgcmVwZXNlbnRpbmcgYSBzdWItc2VxdWVuY2Ugb2YgdGhpcyByb3BlLlxuUm9wZVNlcXVlbmNlLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChmcm9tLCB0bykge1xuICAgIGlmICggZnJvbSA9PT0gdm9pZCAwICkgZnJvbSA9IDA7XG4gICAgaWYgKCB0byA9PT0gdm9pZCAwICkgdG8gPSB0aGlzLmxlbmd0aDtcblxuICBpZiAoZnJvbSA+PSB0bykgeyByZXR1cm4gUm9wZVNlcXVlbmNlLmVtcHR5IH1cbiAgcmV0dXJuIHRoaXMuc2xpY2VJbm5lcihNYXRoLm1heCgwLCBmcm9tKSwgTWF0aC5taW4odGhpcy5sZW5ndGgsIHRvKSlcbn07XG5cbi8vIDo6IChudW1iZXIpIOKGkiBUXG4vLyBSZXRyaWV2ZSB0aGUgZWxlbWVudCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gZnJvbSB0aGlzIHJvcGUuXG5Sb3BlU2VxdWVuY2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaSkge1xuICBpZiAoaSA8IDAgfHwgaSA+PSB0aGlzLmxlbmd0aCkgeyByZXR1cm4gdW5kZWZpbmVkIH1cbiAgcmV0dXJuIHRoaXMuZ2V0SW5uZXIoaSlcbn07XG5cbi8vIDo6ICgoZWxlbWVudDogVCwgaW5kZXg6IG51bWJlcikg4oaSID9ib29sLCA/bnVtYmVyLCA/bnVtYmVyKVxuLy8gQ2FsbCB0aGUgZ2l2ZW4gZnVuY3Rpb24gZm9yIGVhY2ggZWxlbWVudCBiZXR3ZWVuIHRoZSBnaXZlblxuLy8gaW5kaWNlcy4gVGhpcyB0ZW5kcyB0byBiZSBtb3JlIGVmZmljaWVudCB0aGFuIGxvb3Bpbmcgb3ZlciB0aGVcbi8vIGluZGljZXMgYW5kIGNhbGxpbmcgYGdldGAsIGJlY2F1c2UgaXQgZG9lc24ndCBoYXZlIHRvIGRlc2NlbmQgdGhlXG4vLyB0cmVlIGZvciBldmVyeSBlbGVtZW50LlxuUm9wZVNlcXVlbmNlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaCAoZiwgZnJvbSwgdG8pIHtcbiAgICBpZiAoIGZyb20gPT09IHZvaWQgMCApIGZyb20gPSAwO1xuICAgIGlmICggdG8gPT09IHZvaWQgMCApIHRvID0gdGhpcy5sZW5ndGg7XG5cbiAgaWYgKGZyb20gPD0gdG8pXG4gICAgeyB0aGlzLmZvckVhY2hJbm5lcihmLCBmcm9tLCB0bywgMCk7IH1cbiAgZWxzZVxuICAgIHsgdGhpcy5mb3JFYWNoSW52ZXJ0ZWRJbm5lcihmLCBmcm9tLCB0bywgMCk7IH1cbn07XG5cbi8vIDo6ICgoZWxlbWVudDogVCwgaW5kZXg6IG51bWJlcikg4oaSIFUsID9udW1iZXIsID9udW1iZXIpIOKGkiBbVV1cbi8vIE1hcCB0aGUgZ2l2ZW4gZnVuY3Rpb25zIG92ZXIgdGhlIGVsZW1lbnRzIG9mIHRoZSByb3BlLCBwcm9kdWNpbmdcbi8vIGEgZmxhdCBhcnJheS5cblJvcGVTZXF1ZW5jZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwIChmLCBmcm9tLCB0bykge1xuICAgIGlmICggZnJvbSA9PT0gdm9pZCAwICkgZnJvbSA9IDA7XG4gICAgaWYgKCB0byA9PT0gdm9pZCAwICkgdG8gPSB0aGlzLmxlbmd0aDtcblxuICB2YXIgcmVzdWx0ID0gW107XG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWx0LCBpKSB7IHJldHVybiByZXN1bHQucHVzaChmKGVsdCwgaSkpOyB9LCBmcm9tLCB0byk7XG4gIHJldHVybiByZXN1bHRcbn07XG5cbi8vIDo6ICg/dW5pb248W1RdLCBSb3BlU2VxdWVuY2U8VD4+KSDihpIgUm9wZVNlcXVlbmNlPFQ+XG4vLyBDcmVhdGUgYSByb3BlIHJlcHJlc2VudGluZyB0aGUgZ2l2ZW4gYXJyYXksIG9yIHJldHVybiB0aGUgcm9wZVxuLy8gaXRzZWxmIGlmIGEgcm9wZSB3YXMgZ2l2ZW4uXG5Sb3BlU2VxdWVuY2UuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHZhbHVlcykge1xuICBpZiAodmFsdWVzIGluc3RhbmNlb2YgUm9wZVNlcXVlbmNlKSB7IHJldHVybiB2YWx1ZXMgfVxuICByZXR1cm4gdmFsdWVzICYmIHZhbHVlcy5sZW5ndGggPyBuZXcgTGVhZih2YWx1ZXMpIDogUm9wZVNlcXVlbmNlLmVtcHR5XG59O1xuXG52YXIgTGVhZiA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFJvcGVTZXF1ZW5jZSkge1xuICBmdW5jdGlvbiBMZWFmKHZhbHVlcykge1xuICAgIFJvcGVTZXF1ZW5jZS5jYWxsKHRoaXMpO1xuICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xuICB9XG5cbiAgaWYgKCBSb3BlU2VxdWVuY2UgKSBMZWFmLl9fcHJvdG9fXyA9IFJvcGVTZXF1ZW5jZTtcbiAgTGVhZi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBSb3BlU2VxdWVuY2UgJiYgUm9wZVNlcXVlbmNlLnByb3RvdHlwZSApO1xuICBMZWFmLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExlYWY7XG5cbiAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgbGVuZ3RoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRlcHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgTGVhZi5wcm90b3R5cGUuZmxhdHRlbiA9IGZ1bmN0aW9uIGZsYXR0ZW4gKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlc1xuICB9O1xuXG4gIExlYWYucHJvdG90eXBlLnNsaWNlSW5uZXIgPSBmdW5jdGlvbiBzbGljZUlubmVyIChmcm9tLCB0bykge1xuICAgIGlmIChmcm9tID09IDAgJiYgdG8gPT0gdGhpcy5sZW5ndGgpIHsgcmV0dXJuIHRoaXMgfVxuICAgIHJldHVybiBuZXcgTGVhZih0aGlzLnZhbHVlcy5zbGljZShmcm9tLCB0bykpXG4gIH07XG5cbiAgTGVhZi5wcm90b3R5cGUuZ2V0SW5uZXIgPSBmdW5jdGlvbiBnZXRJbm5lciAoaSkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlc1tpXVxuICB9O1xuXG4gIExlYWYucHJvdG90eXBlLmZvckVhY2hJbm5lciA9IGZ1bmN0aW9uIGZvckVhY2hJbm5lciAoZiwgZnJvbSwgdG8sIHN0YXJ0KSB7XG4gICAgZm9yICh2YXIgaSA9IGZyb207IGkgPCB0bzsgaSsrKVxuICAgICAgeyBpZiAoZih0aGlzLnZhbHVlc1tpXSwgc3RhcnQgKyBpKSA9PT0gZmFsc2UpIHsgcmV0dXJuIGZhbHNlIH0gfVxuICB9O1xuXG4gIExlYWYucHJvdG90eXBlLmZvckVhY2hJbnZlcnRlZElubmVyID0gZnVuY3Rpb24gZm9yRWFjaEludmVydGVkSW5uZXIgKGYsIGZyb20sIHRvLCBzdGFydCkge1xuICAgIGZvciAodmFyIGkgPSBmcm9tIC0gMTsgaSA+PSB0bzsgaS0tKVxuICAgICAgeyBpZiAoZih0aGlzLnZhbHVlc1tpXSwgc3RhcnQgKyBpKSA9PT0gZmFsc2UpIHsgcmV0dXJuIGZhbHNlIH0gfVxuICB9O1xuXG4gIExlYWYucHJvdG90eXBlLmxlYWZBcHBlbmQgPSBmdW5jdGlvbiBsZWFmQXBwZW5kIChvdGhlcikge1xuICAgIGlmICh0aGlzLmxlbmd0aCArIG90aGVyLmxlbmd0aCA8PSBHT09EX0xFQUZfU0laRSlcbiAgICAgIHsgcmV0dXJuIG5ldyBMZWFmKHRoaXMudmFsdWVzLmNvbmNhdChvdGhlci5mbGF0dGVuKCkpKSB9XG4gIH07XG5cbiAgTGVhZi5wcm90b3R5cGUubGVhZlByZXBlbmQgPSBmdW5jdGlvbiBsZWFmUHJlcGVuZCAob3RoZXIpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggKyBvdGhlci5sZW5ndGggPD0gR09PRF9MRUFGX1NJWkUpXG4gICAgICB7IHJldHVybiBuZXcgTGVhZihvdGhlci5mbGF0dGVuKCkuY29uY2F0KHRoaXMudmFsdWVzKSkgfVxuICB9O1xuXG4gIHByb3RvdHlwZUFjY2Vzc29ycy5sZW5ndGguZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy52YWx1ZXMubGVuZ3RoIH07XG5cbiAgcHJvdG90eXBlQWNjZXNzb3JzLmRlcHRoLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggTGVhZi5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gIHJldHVybiBMZWFmO1xufShSb3BlU2VxdWVuY2UpKTtcblxuLy8gOjogUm9wZVNlcXVlbmNlXG4vLyBUaGUgZW1wdHkgcm9wZSBzZXF1ZW5jZS5cblJvcGVTZXF1ZW5jZS5lbXB0eSA9IG5ldyBMZWFmKFtdKTtcblxudmFyIEFwcGVuZCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFJvcGVTZXF1ZW5jZSkge1xuICBmdW5jdGlvbiBBcHBlbmQobGVmdCwgcmlnaHQpIHtcbiAgICBSb3BlU2VxdWVuY2UuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgIHRoaXMucmlnaHQgPSByaWdodDtcbiAgICB0aGlzLmxlbmd0aCA9IGxlZnQubGVuZ3RoICsgcmlnaHQubGVuZ3RoO1xuICAgIHRoaXMuZGVwdGggPSBNYXRoLm1heChsZWZ0LmRlcHRoLCByaWdodC5kZXB0aCkgKyAxO1xuICB9XG5cbiAgaWYgKCBSb3BlU2VxdWVuY2UgKSBBcHBlbmQuX19wcm90b19fID0gUm9wZVNlcXVlbmNlO1xuICBBcHBlbmQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUm9wZVNlcXVlbmNlICYmIFJvcGVTZXF1ZW5jZS5wcm90b3R5cGUgKTtcbiAgQXBwZW5kLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFwcGVuZDtcblxuICBBcHBlbmQucHJvdG90eXBlLmZsYXR0ZW4gPSBmdW5jdGlvbiBmbGF0dGVuICgpIHtcbiAgICByZXR1cm4gdGhpcy5sZWZ0LmZsYXR0ZW4oKS5jb25jYXQodGhpcy5yaWdodC5mbGF0dGVuKCkpXG4gIH07XG5cbiAgQXBwZW5kLnByb3RvdHlwZS5nZXRJbm5lciA9IGZ1bmN0aW9uIGdldElubmVyIChpKSB7XG4gICAgcmV0dXJuIGkgPCB0aGlzLmxlZnQubGVuZ3RoID8gdGhpcy5sZWZ0LmdldChpKSA6IHRoaXMucmlnaHQuZ2V0KGkgLSB0aGlzLmxlZnQubGVuZ3RoKVxuICB9O1xuXG4gIEFwcGVuZC5wcm90b3R5cGUuZm9yRWFjaElubmVyID0gZnVuY3Rpb24gZm9yRWFjaElubmVyIChmLCBmcm9tLCB0bywgc3RhcnQpIHtcbiAgICB2YXIgbGVmdExlbiA9IHRoaXMubGVmdC5sZW5ndGg7XG4gICAgaWYgKGZyb20gPCBsZWZ0TGVuICYmXG4gICAgICAgIHRoaXMubGVmdC5mb3JFYWNoSW5uZXIoZiwgZnJvbSwgTWF0aC5taW4odG8sIGxlZnRMZW4pLCBzdGFydCkgPT09IGZhbHNlKVxuICAgICAgeyByZXR1cm4gZmFsc2UgfVxuICAgIGlmICh0byA+IGxlZnRMZW4gJiZcbiAgICAgICAgdGhpcy5yaWdodC5mb3JFYWNoSW5uZXIoZiwgTWF0aC5tYXgoZnJvbSAtIGxlZnRMZW4sIDApLCBNYXRoLm1pbih0aGlzLmxlbmd0aCwgdG8pIC0gbGVmdExlbiwgc3RhcnQgKyBsZWZ0TGVuKSA9PT0gZmFsc2UpXG4gICAgICB7IHJldHVybiBmYWxzZSB9XG4gIH07XG5cbiAgQXBwZW5kLnByb3RvdHlwZS5mb3JFYWNoSW52ZXJ0ZWRJbm5lciA9IGZ1bmN0aW9uIGZvckVhY2hJbnZlcnRlZElubmVyIChmLCBmcm9tLCB0bywgc3RhcnQpIHtcbiAgICB2YXIgbGVmdExlbiA9IHRoaXMubGVmdC5sZW5ndGg7XG4gICAgaWYgKGZyb20gPiBsZWZ0TGVuICYmXG4gICAgICAgIHRoaXMucmlnaHQuZm9yRWFjaEludmVydGVkSW5uZXIoZiwgZnJvbSAtIGxlZnRMZW4sIE1hdGgubWF4KHRvLCBsZWZ0TGVuKSAtIGxlZnRMZW4sIHN0YXJ0ICsgbGVmdExlbikgPT09IGZhbHNlKVxuICAgICAgeyByZXR1cm4gZmFsc2UgfVxuICAgIGlmICh0byA8IGxlZnRMZW4gJiZcbiAgICAgICAgdGhpcy5sZWZ0LmZvckVhY2hJbnZlcnRlZElubmVyKGYsIE1hdGgubWluKGZyb20sIGxlZnRMZW4pLCB0bywgc3RhcnQpID09PSBmYWxzZSlcbiAgICAgIHsgcmV0dXJuIGZhbHNlIH1cbiAgfTtcblxuICBBcHBlbmQucHJvdG90eXBlLnNsaWNlSW5uZXIgPSBmdW5jdGlvbiBzbGljZUlubmVyIChmcm9tLCB0bykge1xuICAgIGlmIChmcm9tID09IDAgJiYgdG8gPT0gdGhpcy5sZW5ndGgpIHsgcmV0dXJuIHRoaXMgfVxuICAgIHZhciBsZWZ0TGVuID0gdGhpcy5sZWZ0Lmxlbmd0aDtcbiAgICBpZiAodG8gPD0gbGVmdExlbikgeyByZXR1cm4gdGhpcy5sZWZ0LnNsaWNlKGZyb20sIHRvKSB9XG4gICAgaWYgKGZyb20gPj0gbGVmdExlbikgeyByZXR1cm4gdGhpcy5yaWdodC5zbGljZShmcm9tIC0gbGVmdExlbiwgdG8gLSBsZWZ0TGVuKSB9XG4gICAgcmV0dXJuIHRoaXMubGVmdC5zbGljZShmcm9tLCBsZWZ0TGVuKS5hcHBlbmQodGhpcy5yaWdodC5zbGljZSgwLCB0byAtIGxlZnRMZW4pKVxuICB9O1xuXG4gIEFwcGVuZC5wcm90b3R5cGUubGVhZkFwcGVuZCA9IGZ1bmN0aW9uIGxlYWZBcHBlbmQgKG90aGVyKSB7XG4gICAgdmFyIGlubmVyID0gdGhpcy5yaWdodC5sZWFmQXBwZW5kKG90aGVyKTtcbiAgICBpZiAoaW5uZXIpIHsgcmV0dXJuIG5ldyBBcHBlbmQodGhpcy5sZWZ0LCBpbm5lcikgfVxuICB9O1xuXG4gIEFwcGVuZC5wcm90b3R5cGUubGVhZlByZXBlbmQgPSBmdW5jdGlvbiBsZWFmUHJlcGVuZCAob3RoZXIpIHtcbiAgICB2YXIgaW5uZXIgPSB0aGlzLmxlZnQubGVhZlByZXBlbmQob3RoZXIpO1xuICAgIGlmIChpbm5lcikgeyByZXR1cm4gbmV3IEFwcGVuZChpbm5lciwgdGhpcy5yaWdodCkgfVxuICB9O1xuXG4gIEFwcGVuZC5wcm90b3R5cGUuYXBwZW5kSW5uZXIgPSBmdW5jdGlvbiBhcHBlbmRJbm5lciAob3RoZXIpIHtcbiAgICBpZiAodGhpcy5sZWZ0LmRlcHRoID49IE1hdGgubWF4KHRoaXMucmlnaHQuZGVwdGgsIG90aGVyLmRlcHRoKSArIDEpXG4gICAgICB7IHJldHVybiBuZXcgQXBwZW5kKHRoaXMubGVmdCwgbmV3IEFwcGVuZCh0aGlzLnJpZ2h0LCBvdGhlcikpIH1cbiAgICByZXR1cm4gbmV3IEFwcGVuZCh0aGlzLCBvdGhlcilcbiAgfTtcblxuICByZXR1cm4gQXBwZW5kO1xufShSb3BlU2VxdWVuY2UpKTtcblxudmFyIHJvcGVTZXF1ZW5jZSA9IFJvcGVTZXF1ZW5jZTtcblxuZXhwb3J0IGRlZmF1bHQgcm9wZVNlcXVlbmNlO1xuIiwiaW1wb3J0IFJvcGVTZXF1ZW5jZSBmcm9tIFwicm9wZS1zZXF1ZW5jZVwiXG5pbXBvcnQge01hcHBpbmd9IGZyb20gXCJwcm9zZW1pcnJvci10cmFuc2Zvcm1cIlxuaW1wb3J0IHtQbHVnaW4sIFBsdWdpbktleX0gZnJvbSBcInByb3NlbWlycm9yLXN0YXRlXCJcblxuLy8gUHJvc2VNaXJyb3IncyBoaXN0b3J5IGlzbid0IHNpbXBseSBhIHdheSB0byByb2xsIGJhY2sgdG8gYSBwcmV2aW91c1xuLy8gc3RhdGUsIGJlY2F1c2UgUHJvc2VNaXJyb3Igc3VwcG9ydHMgYXBwbHlpbmcgY2hhbmdlcyB3aXRob3V0IGFkZGluZ1xuLy8gdGhlbSB0byB0aGUgaGlzdG9yeSAoZm9yIGV4YW1wbGUgZHVyaW5nIGNvbGxhYm9yYXRpb24pLlxuLy9cbi8vIFRvIHRoaXMgZW5kLCBlYWNoICdCcmFuY2gnIChvbmUgZm9yIHRoZSB1bmRvIGhpc3RvcnkgYW5kIG9uZSBmb3Jcbi8vIHRoZSByZWRvIGhpc3RvcnkpIGtlZXBzIGFuIGFycmF5IG9mICdJdGVtcycsIHdoaWNoIGNhbiBvcHRpb25hbGx5XG4vLyBob2xkIGEgc3RlcCAoYW4gYWN0dWFsIHVuZG9hYmxlIGNoYW5nZSksIGFuZCBhbHdheXMgaG9sZCBhIHBvc2l0aW9uXG4vLyBtYXAgKHdoaWNoIGlzIG5lZWRlZCB0byBtb3ZlIGNoYW5nZXMgYmVsb3cgdGhlbSB0byBhcHBseSB0byB0aGVcbi8vIGN1cnJlbnQgZG9jdW1lbnQpLlxuLy9cbi8vIEFuIGl0ZW0gdGhhdCBoYXMgYm90aCBhIHN0ZXAgYW5kIGEgc2VsZWN0aW9uIGJvb2ttYXJrIGlzIHRoZSBzdGFydFxuLy8gb2YgYW4gJ2V2ZW50JyDigJQgYSBncm91cCBvZiBjaGFuZ2VzIHRoYXQgd2lsbCBiZSB1bmRvbmUgb3IgcmVkb25lIGF0XG4vLyBvbmNlLiAoSXQgc3RvcmVzIG9ubHkgdGhlIGJvb2ttYXJrLCBzaW5jZSB0aGF0IHdheSB3ZSBkb24ndCBoYXZlIHRvXG4vLyBwcm92aWRlIGEgZG9jdW1lbnQgdW50aWwgdGhlIHNlbGVjdGlvbiBpcyBhY3R1YWxseSBhcHBsaWVkLCB3aGljaFxuLy8gaXMgdXNlZnVsIHdoZW4gY29tcHJlc3NpbmcuKVxuXG4vLyBVc2VkIHRvIHNjaGVkdWxlIGhpc3RvcnkgY29tcHJlc3Npb25cbmNvbnN0IG1heF9lbXB0eV9pdGVtcyA9IDUwMFxuXG5jbGFzcyBCcmFuY2gge1xuICBjb25zdHJ1Y3RvcihpdGVtcywgZXZlbnRDb3VudCkge1xuICAgIHRoaXMuaXRlbXMgPSBpdGVtc1xuICAgIHRoaXMuZXZlbnRDb3VudCA9IGV2ZW50Q291bnRcbiAgfVxuXG4gIC8vIDogKEVkaXRvclN0YXRlLCBib29sKSDihpIgP3t0cmFuc2Zvcm06IFRyYW5zZm9ybSwgc2VsZWN0aW9uOiA/U2VsZWN0aW9uQm9va21hcmssIHJlbWFpbmluZzogQnJhbmNofVxuICAvLyBQb3AgdGhlIGxhdGVzdCBldmVudCBvZmYgdGhlIGJyYW5jaCdzIGhpc3RvcnkgYW5kIGFwcGx5IGl0XG4gIC8vIHRvIGEgZG9jdW1lbnQgdHJhbnNmb3JtLlxuICBwb3BFdmVudChzdGF0ZSwgcHJlc2VydmVJdGVtcykge1xuICAgIGlmICh0aGlzLmV2ZW50Q291bnQgPT0gMCkgcmV0dXJuIG51bGxcblxuICAgIGxldCBlbmQgPSB0aGlzLml0ZW1zLmxlbmd0aFxuICAgIGZvciAoOzsgZW5kLS0pIHtcbiAgICAgIGxldCBuZXh0ID0gdGhpcy5pdGVtcy5nZXQoZW5kIC0gMSlcbiAgICAgIGlmIChuZXh0LnNlbGVjdGlvbikgeyAtLWVuZDsgYnJlYWsgfVxuICAgIH1cblxuICAgIGxldCByZW1hcCwgbWFwRnJvbVxuICAgIGlmIChwcmVzZXJ2ZUl0ZW1zKSB7XG4gICAgICByZW1hcCA9IHRoaXMucmVtYXBwaW5nKGVuZCwgdGhpcy5pdGVtcy5sZW5ndGgpXG4gICAgICBtYXBGcm9tID0gcmVtYXAubWFwcy5sZW5ndGhcbiAgICB9XG4gICAgbGV0IHRyYW5zZm9ybSA9IHN0YXRlLnRyXG4gICAgbGV0IHNlbGVjdGlvbiwgcmVtYWluaW5nXG4gICAgbGV0IGFkZEFmdGVyID0gW10sIGFkZEJlZm9yZSA9IFtdXG5cbiAgICB0aGlzLml0ZW1zLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcbiAgICAgIGlmICghaXRlbS5zdGVwKSB7XG4gICAgICAgIGlmICghcmVtYXApIHtcbiAgICAgICAgICByZW1hcCA9IHRoaXMucmVtYXBwaW5nKGVuZCwgaSArIDEpXG4gICAgICAgICAgbWFwRnJvbSA9IHJlbWFwLm1hcHMubGVuZ3RoXG4gICAgICAgIH1cbiAgICAgICAgbWFwRnJvbS0tXG4gICAgICAgIGFkZEJlZm9yZS5wdXNoKGl0ZW0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAocmVtYXApIHtcbiAgICAgICAgYWRkQmVmb3JlLnB1c2gobmV3IEl0ZW0oaXRlbS5tYXApKVxuICAgICAgICBsZXQgc3RlcCA9IGl0ZW0uc3RlcC5tYXAocmVtYXAuc2xpY2UobWFwRnJvbSkpLCBtYXBcblxuICAgICAgICBpZiAoc3RlcCAmJiB0cmFuc2Zvcm0ubWF5YmVTdGVwKHN0ZXApLmRvYykge1xuICAgICAgICAgIG1hcCA9IHRyYW5zZm9ybS5tYXBwaW5nLm1hcHNbdHJhbnNmb3JtLm1hcHBpbmcubWFwcy5sZW5ndGggLSAxXVxuICAgICAgICAgIGFkZEFmdGVyLnB1c2gobmV3IEl0ZW0obWFwLCBudWxsLCBudWxsLCBhZGRBZnRlci5sZW5ndGggKyBhZGRCZWZvcmUubGVuZ3RoKSlcbiAgICAgICAgfVxuICAgICAgICBtYXBGcm9tLS1cbiAgICAgICAgaWYgKG1hcCkgcmVtYXAuYXBwZW5kTWFwKG1hcCwgbWFwRnJvbSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zZm9ybS5tYXliZVN0ZXAoaXRlbS5zdGVwKVxuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbS5zZWxlY3Rpb24pIHtcbiAgICAgICAgc2VsZWN0aW9uID0gcmVtYXAgPyBpdGVtLnNlbGVjdGlvbi5tYXAocmVtYXAuc2xpY2UobWFwRnJvbSkpIDogaXRlbS5zZWxlY3Rpb25cbiAgICAgICAgcmVtYWluaW5nID0gbmV3IEJyYW5jaCh0aGlzLml0ZW1zLnNsaWNlKDAsIGVuZCkuYXBwZW5kKGFkZEJlZm9yZS5yZXZlcnNlKCkuY29uY2F0KGFkZEFmdGVyKSksIHRoaXMuZXZlbnRDb3VudCAtIDEpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0sIHRoaXMuaXRlbXMubGVuZ3RoLCAwKVxuXG4gICAgcmV0dXJuIHtyZW1haW5pbmcsIHRyYW5zZm9ybSwgc2VsZWN0aW9ufVxuICB9XG5cbiAgLy8gOiAoVHJhbnNmb3JtLCA/U2VsZWN0aW9uQm9va21hcmssIE9iamVjdCkg4oaSIEJyYW5jaFxuICAvLyBDcmVhdGUgYSBuZXcgYnJhbmNoIHdpdGggdGhlIGdpdmVuIHRyYW5zZm9ybSBhZGRlZC5cbiAgYWRkVHJhbnNmb3JtKHRyYW5zZm9ybSwgc2VsZWN0aW9uLCBoaXN0T3B0aW9ucywgcHJlc2VydmVJdGVtcykge1xuICAgIGxldCBuZXdJdGVtcyA9IFtdLCBldmVudENvdW50ID0gdGhpcy5ldmVudENvdW50XG4gICAgbGV0IG9sZEl0ZW1zID0gdGhpcy5pdGVtcywgbGFzdEl0ZW0gPSAhcHJlc2VydmVJdGVtcyAmJiBvbGRJdGVtcy5sZW5ndGggPyBvbGRJdGVtcy5nZXQob2xkSXRlbXMubGVuZ3RoIC0gMSkgOiBudWxsXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYW5zZm9ybS5zdGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHN0ZXAgPSB0cmFuc2Zvcm0uc3RlcHNbaV0uaW52ZXJ0KHRyYW5zZm9ybS5kb2NzW2ldKVxuICAgICAgbGV0IGl0ZW0gPSBuZXcgSXRlbSh0cmFuc2Zvcm0ubWFwcGluZy5tYXBzW2ldLCBzdGVwLCBzZWxlY3Rpb24pLCBtZXJnZWRcbiAgICAgIGlmIChtZXJnZWQgPSBsYXN0SXRlbSAmJiBsYXN0SXRlbS5tZXJnZShpdGVtKSkge1xuICAgICAgICBpdGVtID0gbWVyZ2VkXG4gICAgICAgIGlmIChpKSBuZXdJdGVtcy5wb3AoKVxuICAgICAgICBlbHNlIG9sZEl0ZW1zID0gb2xkSXRlbXMuc2xpY2UoMCwgb2xkSXRlbXMubGVuZ3RoIC0gMSlcbiAgICAgIH1cbiAgICAgIG5ld0l0ZW1zLnB1c2goaXRlbSlcbiAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgZXZlbnRDb3VudCsrXG4gICAgICAgIHNlbGVjdGlvbiA9IG51bGxcbiAgICAgIH1cbiAgICAgIGlmICghcHJlc2VydmVJdGVtcykgbGFzdEl0ZW0gPSBpdGVtXG4gICAgfVxuICAgIGxldCBvdmVyZmxvdyA9IGV2ZW50Q291bnQgLSBoaXN0T3B0aW9ucy5kZXB0aFxuICAgIGlmIChvdmVyZmxvdyA+IERFUFRIX09WRVJGTE9XKSB7XG4gICAgICBvbGRJdGVtcyA9IGN1dE9mZkV2ZW50cyhvbGRJdGVtcywgb3ZlcmZsb3cpXG4gICAgICBldmVudENvdW50IC09IG92ZXJmbG93XG4gICAgfVxuICAgIHJldHVybiBuZXcgQnJhbmNoKG9sZEl0ZW1zLmFwcGVuZChuZXdJdGVtcyksIGV2ZW50Q291bnQpXG4gIH1cblxuICByZW1hcHBpbmcoZnJvbSwgdG8pIHtcbiAgICBsZXQgbWFwcyA9IG5ldyBNYXBwaW5nXG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICBsZXQgbWlycm9yUG9zID0gaXRlbS5taXJyb3JPZmZzZXQgIT0gbnVsbCAmJiBpIC0gaXRlbS5taXJyb3JPZmZzZXQgPj0gZnJvbVxuICAgICAgICAgID8gbWFwcy5tYXBzLmxlbmd0aCAtIGl0ZW0ubWlycm9yT2Zmc2V0IDogbnVsbFxuICAgICAgbWFwcy5hcHBlbmRNYXAoaXRlbS5tYXAsIG1pcnJvclBvcylcbiAgICB9LCBmcm9tLCB0bylcbiAgICByZXR1cm4gbWFwc1xuICB9XG5cbiAgYWRkTWFwcyhhcnJheSkge1xuICAgIGlmICh0aGlzLmV2ZW50Q291bnQgPT0gMCkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gbmV3IEJyYW5jaCh0aGlzLml0ZW1zLmFwcGVuZChhcnJheS5tYXAobWFwID0+IG5ldyBJdGVtKG1hcCkpKSwgdGhpcy5ldmVudENvdW50KVxuICB9XG5cbiAgLy8gOiAoVHJhbnNmb3JtLCBudW1iZXIpXG4gIC8vIFdoZW4gdGhlIGNvbGxhYiBtb2R1bGUgcmVjZWl2ZXMgcmVtb3RlIGNoYW5nZXMsIHRoZSBoaXN0b3J5IGhhc1xuICAvLyB0byBrbm93IGFib3V0IHRob3NlLCBzbyB0aGF0IGl0IGNhbiBhZGp1c3QgdGhlIHN0ZXBzIHRoYXQgd2VyZVxuICAvLyByZWJhc2VkIG9uIHRvcCBvZiB0aGUgcmVtb3RlIGNoYW5nZXMsIGFuZCBpbmNsdWRlIHRoZSBwb3NpdGlvblxuICAvLyBtYXBzIGZvciB0aGUgcmVtb3RlIGNoYW5nZXMgaW4gaXRzIGFycmF5IG9mIGl0ZW1zLlxuICByZWJhc2VkKHJlYmFzZWRUcmFuc2Zvcm0sIHJlYmFzZWRDb3VudCkge1xuICAgIGlmICghdGhpcy5ldmVudENvdW50KSByZXR1cm4gdGhpc1xuXG4gICAgbGV0IHJlYmFzZWRJdGVtcyA9IFtdLCBzdGFydCA9IE1hdGgubWF4KDAsIHRoaXMuaXRlbXMubGVuZ3RoIC0gcmViYXNlZENvdW50KVxuXG4gICAgbGV0IG1hcHBpbmcgPSByZWJhc2VkVHJhbnNmb3JtLm1hcHBpbmdcbiAgICBsZXQgbmV3VW50aWwgPSByZWJhc2VkVHJhbnNmb3JtLnN0ZXBzLmxlbmd0aFxuICAgIGxldCBldmVudENvdW50ID0gdGhpcy5ldmVudENvdW50XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4geyBpZiAoaXRlbS5zZWxlY3Rpb24pIGV2ZW50Q291bnQtLSB9LCBzdGFydClcblxuICAgIGxldCBpUmViYXNlZCA9IHJlYmFzZWRDb3VudFxuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGxldCBwb3MgPSBtYXBwaW5nLmdldE1pcnJvcigtLWlSZWJhc2VkKVxuICAgICAgaWYgKHBvcyA9PSBudWxsKSByZXR1cm5cbiAgICAgIG5ld1VudGlsID0gTWF0aC5taW4obmV3VW50aWwsIHBvcylcbiAgICAgIGxldCBtYXAgPSBtYXBwaW5nLm1hcHNbcG9zXVxuICAgICAgaWYgKGl0ZW0uc3RlcCkge1xuICAgICAgICBsZXQgc3RlcCA9IHJlYmFzZWRUcmFuc2Zvcm0uc3RlcHNbcG9zXS5pbnZlcnQocmViYXNlZFRyYW5zZm9ybS5kb2NzW3Bvc10pXG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSBpdGVtLnNlbGVjdGlvbiAmJiBpdGVtLnNlbGVjdGlvbi5tYXAobWFwcGluZy5zbGljZShpUmViYXNlZCArIDEsIHBvcykpXG4gICAgICAgIGlmIChzZWxlY3Rpb24pIGV2ZW50Q291bnQrK1xuICAgICAgICByZWJhc2VkSXRlbXMucHVzaChuZXcgSXRlbShtYXAsIHN0ZXAsIHNlbGVjdGlvbikpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWJhc2VkSXRlbXMucHVzaChuZXcgSXRlbShtYXApKVxuICAgICAgfVxuICAgIH0sIHN0YXJ0KVxuXG4gICAgbGV0IG5ld01hcHMgPSBbXVxuICAgIGZvciAobGV0IGkgPSByZWJhc2VkQ291bnQ7IGkgPCBuZXdVbnRpbDsgaSsrKVxuICAgICAgbmV3TWFwcy5wdXNoKG5ldyBJdGVtKG1hcHBpbmcubWFwc1tpXSkpXG4gICAgbGV0IGl0ZW1zID0gdGhpcy5pdGVtcy5zbGljZSgwLCBzdGFydCkuYXBwZW5kKG5ld01hcHMpLmFwcGVuZChyZWJhc2VkSXRlbXMpXG4gICAgbGV0IGJyYW5jaCA9IG5ldyBCcmFuY2goaXRlbXMsIGV2ZW50Q291bnQpXG5cbiAgICBpZiAoYnJhbmNoLmVtcHR5SXRlbUNvdW50KCkgPiBtYXhfZW1wdHlfaXRlbXMpXG4gICAgICBicmFuY2ggPSBicmFuY2guY29tcHJlc3ModGhpcy5pdGVtcy5sZW5ndGggLSByZWJhc2VkSXRlbXMubGVuZ3RoKVxuICAgIHJldHVybiBicmFuY2hcbiAgfVxuXG4gIGVtcHR5SXRlbUNvdW50KCkge1xuICAgIGxldCBjb3VudCA9IDBcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7IGlmICghaXRlbS5zdGVwKSBjb3VudCsrIH0pXG4gICAgcmV0dXJuIGNvdW50XG4gIH1cblxuICAvLyBDb21wcmVzc2luZyBhIGJyYW5jaCBtZWFucyByZXdyaXRpbmcgaXQgdG8gcHVzaCB0aGUgYWlyIChtYXAtb25seVxuICAvLyBpdGVtcykgb3V0LiBEdXJpbmcgY29sbGFib3JhdGlvbiwgdGhlc2UgbmF0dXJhbGx5IGFjY3VtdWxhdGVcbiAgLy8gYmVjYXVzZSBlYWNoIHJlbW90ZSBjaGFuZ2UgYWRkcyBvbmUuIFRoZSBgdXB0b2AgYXJndW1lbnQgaXMgdXNlZFxuICAvLyB0byBlbnN1cmUgdGhhdCBvbmx5IHRoZSBpdGVtcyBiZWxvdyBhIGdpdmVuIGxldmVsIGFyZSBjb21wcmVzc2VkLFxuICAvLyBiZWNhdXNlIGByZWJhc2VkYCByZWxpZXMgb24gYSBjbGVhbiwgdW50b3VjaGVkIHNldCBvZiBpdGVtcyBpblxuICAvLyBvcmRlciB0byBhc3NvY2lhdGUgb2xkIGl0ZW1zIHdpdGggcmViYXNlZCBzdGVwcy5cbiAgY29tcHJlc3ModXB0byA9IHRoaXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgbGV0IHJlbWFwID0gdGhpcy5yZW1hcHBpbmcoMCwgdXB0byksIG1hcEZyb20gPSByZW1hcC5tYXBzLmxlbmd0aFxuICAgIGxldCBpdGVtcyA9IFtdLCBldmVudHMgPSAwXG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICBpZiAoaSA+PSB1cHRvKSB7XG4gICAgICAgIGl0ZW1zLnB1c2goaXRlbSlcbiAgICAgICAgaWYgKGl0ZW0uc2VsZWN0aW9uKSBldmVudHMrK1xuICAgICAgfSBlbHNlIGlmIChpdGVtLnN0ZXApIHtcbiAgICAgICAgbGV0IHN0ZXAgPSBpdGVtLnN0ZXAubWFwKHJlbWFwLnNsaWNlKG1hcEZyb20pKSwgbWFwID0gc3RlcCAmJiBzdGVwLmdldE1hcCgpXG4gICAgICAgIG1hcEZyb20tLVxuICAgICAgICBpZiAobWFwKSByZW1hcC5hcHBlbmRNYXAobWFwLCBtYXBGcm9tKVxuICAgICAgICBpZiAoc3RlcCkge1xuICAgICAgICAgIGxldCBzZWxlY3Rpb24gPSBpdGVtLnNlbGVjdGlvbiAmJiBpdGVtLnNlbGVjdGlvbi5tYXAocmVtYXAuc2xpY2UobWFwRnJvbSkpXG4gICAgICAgICAgaWYgKHNlbGVjdGlvbikgZXZlbnRzKytcbiAgICAgICAgICBsZXQgbmV3SXRlbSA9IG5ldyBJdGVtKG1hcC5pbnZlcnQoKSwgc3RlcCwgc2VsZWN0aW9uKSwgbWVyZ2VkLCBsYXN0ID0gaXRlbXMubGVuZ3RoIC0gMVxuICAgICAgICAgIGlmIChtZXJnZWQgPSBpdGVtcy5sZW5ndGggJiYgaXRlbXNbbGFzdF0ubWVyZ2UobmV3SXRlbSkpXG4gICAgICAgICAgICBpdGVtc1tsYXN0XSA9IG1lcmdlZFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGl0ZW1zLnB1c2gobmV3SXRlbSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpdGVtLm1hcCkge1xuICAgICAgICBtYXBGcm9tLS1cbiAgICAgIH1cbiAgICB9LCB0aGlzLml0ZW1zLmxlbmd0aCwgMClcbiAgICByZXR1cm4gbmV3IEJyYW5jaChSb3BlU2VxdWVuY2UuZnJvbShpdGVtcy5yZXZlcnNlKCkpLCBldmVudHMpXG4gIH1cbn1cblxuQnJhbmNoLmVtcHR5ID0gbmV3IEJyYW5jaChSb3BlU2VxdWVuY2UuZW1wdHksIDApXG5cbmZ1bmN0aW9uIGN1dE9mZkV2ZW50cyhpdGVtcywgbikge1xuICBsZXQgY3V0UG9pbnRcbiAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xuICAgIGlmIChpdGVtLnNlbGVjdGlvbiAmJiAobi0tID09IDApKSB7XG4gICAgICBjdXRQb2ludCA9IGlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGl0ZW1zLnNsaWNlKGN1dFBvaW50KVxufVxuXG5jbGFzcyBJdGVtIHtcbiAgY29uc3RydWN0b3IobWFwLCBzdGVwLCBzZWxlY3Rpb24sIG1pcnJvck9mZnNldCkge1xuICAgIC8vIFRoZSAoZm9yd2FyZCkgc3RlcCBtYXAgZm9yIHRoaXMgaXRlbS5cbiAgICB0aGlzLm1hcCA9IG1hcFxuICAgIC8vIFRoZSBpbnZlcnRlZCBzdGVwXG4gICAgdGhpcy5zdGVwID0gc3RlcFxuICAgIC8vIElmIHRoaXMgaXMgbm9uLW51bGwsIHRoaXMgaXRlbSBpcyB0aGUgc3RhcnQgb2YgYSBncm91cCwgYW5kXG4gICAgLy8gdGhpcyBzZWxlY3Rpb24gaXMgdGhlIHN0YXJ0aW5nIHNlbGVjdGlvbiBmb3IgdGhlIGdyb3VwICh0aGUgb25lXG4gICAgLy8gdGhhdCB3YXMgYWN0aXZlIGJlZm9yZSB0aGUgZmlyc3Qgc3RlcCB3YXMgYXBwbGllZClcbiAgICB0aGlzLnNlbGVjdGlvbiA9IHNlbGVjdGlvblxuICAgIC8vIElmIHRoaXMgaXRlbSBpcyB0aGUgaW52ZXJzZSBvZiBhIHByZXZpb3VzIG1hcHBpbmcgb24gdGhlIHN0YWNrLFxuICAgIC8vIHRoaXMgcG9pbnRzIGF0IHRoZSBpbnZlcnNlJ3Mgb2Zmc2V0XG4gICAgdGhpcy5taXJyb3JPZmZzZXQgPSBtaXJyb3JPZmZzZXRcbiAgfVxuXG4gIG1lcmdlKG90aGVyKSB7XG4gICAgaWYgKHRoaXMuc3RlcCAmJiBvdGhlci5zdGVwICYmICFvdGhlci5zZWxlY3Rpb24pIHtcbiAgICAgIGxldCBzdGVwID0gb3RoZXIuc3RlcC5tZXJnZSh0aGlzLnN0ZXApXG4gICAgICBpZiAoc3RlcCkgcmV0dXJuIG5ldyBJdGVtKHN0ZXAuZ2V0TWFwKCkuaW52ZXJ0KCksIHN0ZXAsIHRoaXMuc2VsZWN0aW9uKVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgdmFsdWUgb2YgdGhlIHN0YXRlIGZpZWxkIHRoYXQgdHJhY2tzIHVuZG8vcmVkbyBoaXN0b3J5IGZvciB0aGF0XG4vLyBzdGF0ZS4gV2lsbCBiZSBzdG9yZWQgaW4gdGhlIHBsdWdpbiBzdGF0ZSB3aGVuIHRoZSBoaXN0b3J5IHBsdWdpblxuLy8gaXMgYWN0aXZlLlxuZXhwb3J0IGNsYXNzIEhpc3RvcnlTdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKGRvbmUsIHVuZG9uZSwgcHJldlJhbmdlcywgcHJldlRpbWUpIHtcbiAgICB0aGlzLmRvbmUgPSBkb25lXG4gICAgdGhpcy51bmRvbmUgPSB1bmRvbmVcbiAgICB0aGlzLnByZXZSYW5nZXMgPSBwcmV2UmFuZ2VzXG4gICAgdGhpcy5wcmV2VGltZSA9IHByZXZUaW1lXG4gIH1cbn1cblxuY29uc3QgREVQVEhfT1ZFUkZMT1cgPSAyMFxuXG4vLyA6IChIaXN0b3J5U3RhdGUsIEVkaXRvclN0YXRlLCBUcmFuc2FjdGlvbiwgT2JqZWN0KVxuLy8gUmVjb3JkIGEgdHJhbnNmb3JtYXRpb24gaW4gdW5kbyBoaXN0b3J5LlxuZnVuY3Rpb24gYXBwbHlUcmFuc2FjdGlvbihoaXN0b3J5LCBzdGF0ZSwgdHIsIG9wdGlvbnMpIHtcbiAgbGV0IGhpc3RvcnlUciA9IHRyLmdldE1ldGEoaGlzdG9yeUtleSksIHJlYmFzZWRcbiAgaWYgKGhpc3RvcnlUcikgcmV0dXJuIGhpc3RvcnlUci5oaXN0b3J5U3RhdGVcblxuICBpZiAodHIuZ2V0TWV0YShjbG9zZUhpc3RvcnlLZXkpKSBoaXN0b3J5ID0gbmV3IEhpc3RvcnlTdGF0ZShoaXN0b3J5LmRvbmUsIGhpc3RvcnkudW5kb25lLCBudWxsLCAwKVxuXG4gIGxldCBhcHBlbmRlZCA9IHRyLmdldE1ldGEoXCJhcHBlbmRlZFRyYW5zYWN0aW9uXCIpXG5cbiAgaWYgKHRyLnN0ZXBzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuIGhpc3RvcnlcbiAgfSBlbHNlIGlmIChhcHBlbmRlZCAmJiBhcHBlbmRlZC5nZXRNZXRhKGhpc3RvcnlLZXkpKSB7XG4gICAgaWYgKGFwcGVuZGVkLmdldE1ldGEoaGlzdG9yeUtleSkucmVkbylcbiAgICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGhpc3RvcnkuZG9uZS5hZGRUcmFuc2Zvcm0odHIsIG51bGwsIG9wdGlvbnMsIG11c3RQcmVzZXJ2ZUl0ZW1zKHN0YXRlKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LnVuZG9uZSwgcmFuZ2VzRm9yKHRyLm1hcHBpbmcubWFwc1t0ci5zdGVwcy5sZW5ndGggLSAxXSksIGhpc3RvcnkucHJldlRpbWUpXG4gICAgZWxzZVxuICAgICAgcmV0dXJuIG5ldyBIaXN0b3J5U3RhdGUoaGlzdG9yeS5kb25lLCBoaXN0b3J5LnVuZG9uZS5hZGRUcmFuc2Zvcm0odHIsIG51bGwsIG9wdGlvbnMsIG11c3RQcmVzZXJ2ZUl0ZW1zKHN0YXRlKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLCBoaXN0b3J5LnByZXZUaW1lKVxuICB9IGVsc2UgaWYgKHRyLmdldE1ldGEoXCJhZGRUb0hpc3RvcnlcIikgIT09IGZhbHNlICYmICEoYXBwZW5kZWQgJiYgYXBwZW5kZWQuZ2V0TWV0YShcImFkZFRvSGlzdG9yeVwiKSA9PT0gZmFsc2UpKSB7XG4gICAgLy8gR3JvdXAgdHJhbnNmb3JtcyB0aGF0IG9jY3VyIGluIHF1aWNrIHN1Y2Nlc3Npb24gaW50byBvbmUgZXZlbnQuXG4gICAgbGV0IG5ld0dyb3VwID0gaGlzdG9yeS5wcmV2VGltZSA9PSAwIHx8ICFhcHBlbmRlZCAmJiAoaGlzdG9yeS5wcmV2VGltZSA8ICh0ci50aW1lIHx8IDApIC0gb3B0aW9ucy5uZXdHcm91cERlbGF5IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWlzQWRqYWNlbnRUbyh0ciwgaGlzdG9yeS5wcmV2UmFuZ2VzKSlcbiAgICBsZXQgcHJldlJhbmdlcyA9IGFwcGVuZGVkID8gbWFwUmFuZ2VzKGhpc3RvcnkucHJldlJhbmdlcywgdHIubWFwcGluZykgOiByYW5nZXNGb3IodHIubWFwcGluZy5tYXBzW3RyLnN0ZXBzLmxlbmd0aCAtIDFdKVxuICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGhpc3RvcnkuZG9uZS5hZGRUcmFuc2Zvcm0odHIsIG5ld0dyb3VwID8gc3RhdGUuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucywgbXVzdFByZXNlcnZlSXRlbXMoc3RhdGUpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCcmFuY2guZW1wdHksIHByZXZSYW5nZXMsIHRyLnRpbWUpXG4gIH0gZWxzZSBpZiAocmViYXNlZCA9IHRyLmdldE1ldGEoXCJyZWJhc2VkXCIpKSB7XG4gICAgLy8gVXNlZCBieSB0aGUgY29sbGFiIG1vZHVsZSB0byB0ZWxsIHRoZSBoaXN0b3J5IHRoYXQgc29tZSBvZiBpdHNcbiAgICAvLyBjb250ZW50IGhhcyBiZWVuIHJlYmFzZWQuXG4gICAgcmV0dXJuIG5ldyBIaXN0b3J5U3RhdGUoaGlzdG9yeS5kb25lLnJlYmFzZWQodHIsIHJlYmFzZWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkudW5kb25lLnJlYmFzZWQodHIsIHJlYmFzZWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFJhbmdlcyhoaXN0b3J5LnByZXZSYW5nZXMsIHRyLm1hcHBpbmcpLCBoaXN0b3J5LnByZXZUaW1lKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGhpc3RvcnkuZG9uZS5hZGRNYXBzKHRyLm1hcHBpbmcubWFwcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS51bmRvbmUuYWRkTWFwcyh0ci5tYXBwaW5nLm1hcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFJhbmdlcyhoaXN0b3J5LnByZXZSYW5nZXMsIHRyLm1hcHBpbmcpLCBoaXN0b3J5LnByZXZUaW1lKVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzQWRqYWNlbnRUbyh0cmFuc2Zvcm0sIHByZXZSYW5nZXMpIHtcbiAgaWYgKCFwcmV2UmFuZ2VzKSByZXR1cm4gZmFsc2VcbiAgaWYgKCF0cmFuc2Zvcm0uZG9jQ2hhbmdlZCkgcmV0dXJuIHRydWVcbiAgbGV0IGFkamFjZW50ID0gZmFsc2VcbiAgdHJhbnNmb3JtLm1hcHBpbmcubWFwc1swXS5mb3JFYWNoKChzdGFydCwgZW5kKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2UmFuZ2VzLmxlbmd0aDsgaSArPSAyKVxuICAgICAgaWYgKHN0YXJ0IDw9IHByZXZSYW5nZXNbaSArIDFdICYmIGVuZCA+PSBwcmV2UmFuZ2VzW2ldKVxuICAgICAgICBhZGphY2VudCA9IHRydWVcbiAgfSlcbiAgcmV0dXJuIGFkamFjZW50XG59XG5cbmZ1bmN0aW9uIHJhbmdlc0ZvcihtYXApIHtcbiAgbGV0IHJlc3VsdCA9IFtdXG4gIG1hcC5mb3JFYWNoKChfZnJvbSwgX3RvLCBmcm9tLCB0bykgPT4gcmVzdWx0LnB1c2goZnJvbSwgdG8pKVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIG1hcFJhbmdlcyhyYW5nZXMsIG1hcHBpbmcpIHtcbiAgaWYgKCFyYW5nZXMpIHJldHVybiBudWxsXG4gIGxldCByZXN1bHQgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIGxldCBmcm9tID0gbWFwcGluZy5tYXAocmFuZ2VzW2ldLCAxKSwgdG8gPSBtYXBwaW5nLm1hcChyYW5nZXNbaSArIDFdLCAtMSlcbiAgICBpZiAoZnJvbSA8PSB0bykgcmVzdWx0LnB1c2goZnJvbSwgdG8pXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLyA6IChIaXN0b3J5U3RhdGUsIEVkaXRvclN0YXRlLCAodHI6IFRyYW5zYWN0aW9uKSwgYm9vbClcbi8vIEFwcGx5IHRoZSBsYXRlc3QgZXZlbnQgZnJvbSBvbmUgYnJhbmNoIHRvIHRoZSBkb2N1bWVudCBhbmQgc2hpZnQgdGhlIGV2ZW50XG4vLyBvbnRvIHRoZSBvdGhlciBicmFuY2guXG5mdW5jdGlvbiBoaXN0VHJhbnNhY3Rpb24oaGlzdG9yeSwgc3RhdGUsIGRpc3BhdGNoLCByZWRvKSB7XG4gIGxldCBwcmVzZXJ2ZUl0ZW1zID0gbXVzdFByZXNlcnZlSXRlbXMoc3RhdGUpLCBoaXN0T3B0aW9ucyA9IGhpc3RvcnlLZXkuZ2V0KHN0YXRlKS5zcGVjLmNvbmZpZ1xuICBsZXQgcG9wID0gKHJlZG8gPyBoaXN0b3J5LnVuZG9uZSA6IGhpc3RvcnkuZG9uZSkucG9wRXZlbnQoc3RhdGUsIHByZXNlcnZlSXRlbXMpXG4gIGlmICghcG9wKSByZXR1cm5cblxuICBsZXQgc2VsZWN0aW9uID0gcG9wLnNlbGVjdGlvbi5yZXNvbHZlKHBvcC50cmFuc2Zvcm0uZG9jKVxuICBsZXQgYWRkZWQgPSAocmVkbyA/IGhpc3RvcnkuZG9uZSA6IGhpc3RvcnkudW5kb25lKS5hZGRUcmFuc2Zvcm0ocG9wLnRyYW5zZm9ybSwgc3RhdGUuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0T3B0aW9ucywgcHJlc2VydmVJdGVtcylcblxuICBsZXQgbmV3SGlzdCA9IG5ldyBIaXN0b3J5U3RhdGUocmVkbyA/IGFkZGVkIDogcG9wLnJlbWFpbmluZywgcmVkbyA/IHBvcC5yZW1haW5pbmcgOiBhZGRlZCwgbnVsbCwgMClcbiAgZGlzcGF0Y2gocG9wLnRyYW5zZm9ybS5zZXRTZWxlY3Rpb24oc2VsZWN0aW9uKS5zZXRNZXRhKGhpc3RvcnlLZXksIHtyZWRvLCBoaXN0b3J5U3RhdGU6IG5ld0hpc3R9KS5zY3JvbGxJbnRvVmlldygpKVxufVxuXG5sZXQgY2FjaGVkUHJlc2VydmVJdGVtcyA9IGZhbHNlLCBjYWNoZWRQcmVzZXJ2ZUl0ZW1zUGx1Z2lucyA9IG51bGxcbi8vIENoZWNrIHdoZXRoZXIgYW55IHBsdWdpbiBpbiB0aGUgZ2l2ZW4gc3RhdGUgaGFzIGFcbi8vIGBoaXN0b3J5UHJlc2VydmVJdGVtc2AgcHJvcGVydHkgaW4gaXRzIHNwZWMsIGluIHdoaWNoIGNhc2Ugd2UgbXVzdFxuLy8gcHJlc2VydmUgc3RlcHMgZXhhY3RseSBhcyB0aGV5IGNhbWUgaW4sIHNvIHRoYXQgdGhleSBjYW4gYmVcbi8vIHJlYmFzZWQuXG5mdW5jdGlvbiBtdXN0UHJlc2VydmVJdGVtcyhzdGF0ZSkge1xuICBsZXQgcGx1Z2lucyA9IHN0YXRlLnBsdWdpbnNcbiAgaWYgKGNhY2hlZFByZXNlcnZlSXRlbXNQbHVnaW5zICE9IHBsdWdpbnMpIHtcbiAgICBjYWNoZWRQcmVzZXJ2ZUl0ZW1zID0gZmFsc2VcbiAgICBjYWNoZWRQcmVzZXJ2ZUl0ZW1zUGx1Z2lucyA9IHBsdWdpbnNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBsdWdpbnMubGVuZ3RoOyBpKyspIGlmIChwbHVnaW5zW2ldLnNwZWMuaGlzdG9yeVByZXNlcnZlSXRlbXMpIHtcbiAgICAgIGNhY2hlZFByZXNlcnZlSXRlbXMgPSB0cnVlXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2FjaGVkUHJlc2VydmVJdGVtc1xufVxuXG4vLyA6OiAoVHJhbnNhY3Rpb24pIOKGkiBUcmFuc2FjdGlvblxuLy8gU2V0IGEgZmxhZyBvbiB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb24gdGhhdCB3aWxsIHByZXZlbnQgZnVydGhlciBzdGVwc1xuLy8gZnJvbSBiZWluZyBhcHBlbmRlZCB0byBhbiBleGlzdGluZyBoaXN0b3J5IGV2ZW50IChzbyB0aGF0IHRoZXlcbi8vIHJlcXVpcmUgYSBzZXBhcmF0ZSB1bmRvIGNvbW1hbmQgdG8gdW5kbykuXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VIaXN0b3J5KHRyKSB7XG4gIHJldHVybiB0ci5zZXRNZXRhKGNsb3NlSGlzdG9yeUtleSwgdHJ1ZSlcbn1cblxuY29uc3QgaGlzdG9yeUtleSA9IG5ldyBQbHVnaW5LZXkoXCJoaXN0b3J5XCIpXG5jb25zdCBjbG9zZUhpc3RvcnlLZXkgPSBuZXcgUGx1Z2luS2V5KFwiY2xvc2VIaXN0b3J5XCIpXG5cbi8vIDo6ICg/T2JqZWN0KSDihpIgUGx1Z2luXG4vLyBSZXR1cm5zIGEgcGx1Z2luIHRoYXQgZW5hYmxlcyB0aGUgdW5kbyBoaXN0b3J5IGZvciBhbiBlZGl0b3IuIFRoZVxuLy8gcGx1Z2luIHdpbGwgdHJhY2sgdW5kbyBhbmQgcmVkbyBzdGFja3MsIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggdGhlXG4vLyBbYHVuZG9gXSgjaGlzdG9yeS51bmRvKSBhbmQgW2ByZWRvYF0oI2hpc3RvcnkucmVkbykgY29tbWFuZHMuXG4vL1xuLy8gWW91IGNhbiBzZXQgYW4gYFwiYWRkVG9IaXN0b3J5XCJgIFttZXRhZGF0YVxuLy8gcHJvcGVydHldKCNzdGF0ZS5UcmFuc2FjdGlvbi5zZXRNZXRhKSBvZiBgZmFsc2VgIG9uIGEgdHJhbnNhY3Rpb25cbi8vIHRvIHByZXZlbnQgaXQgZnJvbSBiZWluZyByb2xsZWQgYmFjayBieSB1bmRvLlxuLy9cbi8vICAgY29uZmlnOjotXG4vLyAgIFN1cHBvcnRzIHRoZSBmb2xsb3dpbmcgY29uZmlndXJhdGlvbiBvcHRpb25zOlxuLy9cbi8vICAgICBkZXB0aDo6ID9udW1iZXJcbi8vICAgICBUaGUgYW1vdW50IG9mIGhpc3RvcnkgZXZlbnRzIHRoYXQgYXJlIGNvbGxlY3RlZCBiZWZvcmUgdGhlXG4vLyAgICAgb2xkZXN0IGV2ZW50cyBhcmUgZGlzY2FyZGVkLiBEZWZhdWx0cyB0byAxMDAuXG4vL1xuLy8gICAgIG5ld0dyb3VwRGVsYXk6OiA/bnVtYmVyXG4vLyAgICAgVGhlIGRlbGF5IGJldHdlZW4gY2hhbmdlcyBhZnRlciB3aGljaCBhIG5ldyBncm91cCBzaG91bGQgYmVcbi8vICAgICBzdGFydGVkLiBEZWZhdWx0cyB0byA1MDAgKG1pbGxpc2Vjb25kcykuIE5vdGUgdGhhdCB3aGVuIGNoYW5nZXNcbi8vICAgICBhcmVuJ3QgYWRqYWNlbnQsIGEgbmV3IGdyb3VwIGlzIGFsd2F5cyBzdGFydGVkLlxuZXhwb3J0IGZ1bmN0aW9uIGhpc3RvcnkoY29uZmlnKSB7XG4gIGNvbmZpZyA9IHtkZXB0aDogY29uZmlnICYmIGNvbmZpZy5kZXB0aCB8fCAxMDAsXG4gICAgICAgICAgICBuZXdHcm91cERlbGF5OiBjb25maWcgJiYgY29uZmlnLm5ld0dyb3VwRGVsYXkgfHwgNTAwfVxuICByZXR1cm4gbmV3IFBsdWdpbih7XG4gICAga2V5OiBoaXN0b3J5S2V5LFxuXG4gICAgc3RhdGU6IHtcbiAgICAgIGluaXQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKEJyYW5jaC5lbXB0eSwgQnJhbmNoLmVtcHR5LCBudWxsLCAwKVxuICAgICAgfSxcbiAgICAgIGFwcGx5KHRyLCBoaXN0LCBzdGF0ZSkge1xuICAgICAgICByZXR1cm4gYXBwbHlUcmFuc2FjdGlvbihoaXN0LCBzdGF0ZSwgdHIsIGNvbmZpZylcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY29uZmlnXG4gIH0pXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gQSBjb21tYW5kIGZ1bmN0aW9uIHRoYXQgdW5kb2VzIHRoZSBsYXN0IGNoYW5nZSwgaWYgYW55LlxuZXhwb3J0IGZ1bmN0aW9uIHVuZG8oc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGxldCBoaXN0ID0gaGlzdG9yeUtleS5nZXRTdGF0ZShzdGF0ZSlcbiAgaWYgKCFoaXN0IHx8IGhpc3QuZG9uZS5ldmVudENvdW50ID09IDApIHJldHVybiBmYWxzZVxuICBpZiAoZGlzcGF0Y2gpIGhpc3RUcmFuc2FjdGlvbihoaXN0LCBzdGF0ZSwgZGlzcGF0Y2gsIGZhbHNlKVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIEEgY29tbWFuZCBmdW5jdGlvbiB0aGF0IHJlZG9lcyB0aGUgbGFzdCB1bmRvbmUgY2hhbmdlLCBpZiBhbnkuXG5leHBvcnQgZnVuY3Rpb24gcmVkbyhzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgbGV0IGhpc3QgPSBoaXN0b3J5S2V5LmdldFN0YXRlKHN0YXRlKVxuICBpZiAoIWhpc3QgfHwgaGlzdC51bmRvbmUuZXZlbnRDb3VudCA9PSAwKSByZXR1cm4gZmFsc2VcbiAgaWYgKGRpc3BhdGNoKSBoaXN0VHJhbnNhY3Rpb24oaGlzdCwgc3RhdGUsIGRpc3BhdGNoLCB0cnVlKVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUpIOKGkiBudW1iZXJcbi8vIFRoZSBhbW91bnQgb2YgdW5kb2FibGUgZXZlbnRzIGF2YWlsYWJsZSBpbiBhIGdpdmVuIHN0YXRlLlxuZXhwb3J0IGZ1bmN0aW9uIHVuZG9EZXB0aChzdGF0ZSkge1xuICBsZXQgaGlzdCA9IGhpc3RvcnlLZXkuZ2V0U3RhdGUoc3RhdGUpXG4gIHJldHVybiBoaXN0ID8gaGlzdC5kb25lLmV2ZW50Q291bnQgOiAwXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSkg4oaSIG51bWJlclxuLy8gVGhlIGFtb3VudCBvZiByZWRvYWJsZSBldmVudHMgYXZhaWxhYmxlIGluIGEgZ2l2ZW4gZWRpdG9yIHN0YXRlLlxuZXhwb3J0IGZ1bmN0aW9uIHJlZG9EZXB0aChzdGF0ZSkge1xuICBsZXQgaGlzdCA9IGhpc3RvcnlLZXkuZ2V0U3RhdGUoc3RhdGUpXG4gIHJldHVybiBoaXN0ID8gaGlzdC51bmRvbmUuZXZlbnRDb3VudCA6IDBcbn1cbiIsImltcG9ydCB7UGx1Z2lufSBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIlxuXG4vLyA6Oi0gSW5wdXQgcnVsZXMgYXJlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgZGVzY3JpYmluZyBhIHBpZWNlIG9mIHRleHRcbi8vIHRoYXQsIHdoZW4gdHlwZWQsIGNhdXNlcyBzb21ldGhpbmcgdG8gaGFwcGVuLiBUaGlzIG1pZ2h0IGJlXG4vLyBjaGFuZ2luZyB0d28gZGFzaGVzIGludG8gYW4gZW1kYXNoLCB3cmFwcGluZyBhIHBhcmFncmFwaCBzdGFydGluZ1xuLy8gd2l0aCBgXCI+IFwiYCBpbnRvIGEgYmxvY2txdW90ZSwgb3Igc29tZXRoaW5nIGVudGlyZWx5IGRpZmZlcmVudC5cbmV4cG9ydCBjbGFzcyBJbnB1dFJ1bGUge1xuICAvLyA6OiAoUmVnRXhwLCB1bmlvbjxzdHJpbmcsIChzdGF0ZTogRWRpdG9yU3RhdGUsIG1hdGNoOiBbc3RyaW5nXSwgc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpIOKGkiA/VHJhbnNhY3Rpb24+KVxuICAvLyBDcmVhdGUgYW4gaW5wdXQgcnVsZS4gVGhlIHJ1bGUgYXBwbGllcyB3aGVuIHRoZSB1c2VyIHR5cGVkXG4gIC8vIHNvbWV0aGluZyBhbmQgdGhlIHRleHQgZGlyZWN0bHkgaW4gZnJvbnQgb2YgdGhlIGN1cnNvciBtYXRjaGVzXG4gIC8vIGBtYXRjaGAsIHdoaWNoIHNob3VsZCBwcm9iYWJseSBlbmQgd2l0aCBgJGAuXG4gIC8vXG4gIC8vIFRoZSBgaGFuZGxlcmAgY2FuIGJlIGEgc3RyaW5nLCBpbiB3aGljaCBjYXNlIHRoZSBtYXRjaGVkIHRleHQsIG9yXG4gIC8vIHRoZSBmaXJzdCBtYXRjaGVkIGdyb3VwIGluIHRoZSByZWdleHAsIGlzIHJlcGxhY2VkIGJ5IHRoYXRcbiAgLy8gc3RyaW5nLlxuICAvL1xuICAvLyBPciBhIGl0IGNhbiBiZSBhIGZ1bmN0aW9uLCB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBtYXRjaFxuICAvLyBhcnJheSBwcm9kdWNlZCBieVxuICAvLyBbYFJlZ0V4cC5leGVjYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUmVnRXhwL2V4ZWMpLFxuICAvLyBhcyB3ZWxsIGFzIHRoZSBzdGFydCBhbmQgZW5kIG9mIHRoZSBtYXRjaGVkIHJhbmdlLCBhbmQgd2hpY2ggY2FuXG4gIC8vIHJldHVybiBhIFt0cmFuc2FjdGlvbl0oI3N0YXRlLlRyYW5zYWN0aW9uKSB0aGF0IGRlc2NyaWJlcyB0aGVcbiAgLy8gcnVsZSdzIGVmZmVjdCwgb3IgbnVsbCB0byBpbmRpY2F0ZSB0aGUgaW5wdXQgd2FzIG5vdCBoYW5kbGVkLlxuICBjb25zdHJ1Y3RvcihtYXRjaCwgaGFuZGxlcikge1xuICAgIHRoaXMubWF0Y2ggPSBtYXRjaFxuICAgIHRoaXMuaGFuZGxlciA9IHR5cGVvZiBoYW5kbGVyID09IFwic3RyaW5nXCIgPyBzdHJpbmdIYW5kbGVyKGhhbmRsZXIpIDogaGFuZGxlclxuICB9XG59XG5cbmZ1bmN0aW9uIHN0cmluZ0hhbmRsZXIoc3RyaW5nKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgbWF0Y2gsIHN0YXJ0LCBlbmQpIHtcbiAgICBsZXQgaW5zZXJ0ID0gc3RyaW5nXG4gICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICBsZXQgb2Zmc2V0ID0gbWF0Y2hbMF0ubGFzdEluZGV4T2YobWF0Y2hbMV0pXG4gICAgICBpbnNlcnQgKz0gbWF0Y2hbMF0uc2xpY2Uob2Zmc2V0ICsgbWF0Y2hbMV0ubGVuZ3RoKVxuICAgICAgc3RhcnQgKz0gb2Zmc2V0XG4gICAgICBsZXQgY3V0T2ZmID0gc3RhcnQgLSBlbmRcbiAgICAgIGlmIChjdXRPZmYgPiAwKSB7XG4gICAgICAgIGluc2VydCA9IG1hdGNoWzBdLnNsaWNlKG9mZnNldCAtIGN1dE9mZiwgb2Zmc2V0KSArIGluc2VydFxuICAgICAgICBzdGFydCA9IGVuZFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RhdGUudHIuaW5zZXJ0VGV4dChpbnNlcnQsIHN0YXJ0LCBlbmQpXG4gIH1cbn1cblxuY29uc3QgTUFYX01BVENIID0gNTAwXG5cbi8vIDo6IChjb25maWc6IHtydWxlczogW0lucHV0UnVsZV19KSDihpIgUGx1Z2luXG4vLyBDcmVhdGUgYW4gaW5wdXQgcnVsZXMgcGx1Z2luLiBXaGVuIGVuYWJsZWQsIGl0IHdpbGwgY2F1c2UgdGV4dFxuLy8gaW5wdXQgdGhhdCBtYXRjaGVzIGFueSBvZiB0aGUgZ2l2ZW4gcnVsZXMgdG8gdHJpZ2dlciB0aGUgcnVsZSdzXG4vLyBhY3Rpb24uXG5leHBvcnQgZnVuY3Rpb24gaW5wdXRSdWxlcyh7cnVsZXN9KSB7XG4gIGxldCBwbHVnaW4gPSBuZXcgUGx1Z2luKHtcbiAgICBzdGF0ZToge1xuICAgICAgaW5pdCgpIHsgcmV0dXJuIG51bGwgfSxcbiAgICAgIGFwcGx5KHRyLCBwcmV2KSB7XG4gICAgICAgIGxldCBzdG9yZWQgPSB0ci5nZXRNZXRhKHRoaXMpXG4gICAgICAgIGlmIChzdG9yZWQpIHJldHVybiBzdG9yZWRcbiAgICAgICAgcmV0dXJuIHRyLnNlbGVjdGlvblNldCB8fCB0ci5kb2NDaGFuZ2VkID8gbnVsbCA6IHByZXZcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcHJvcHM6IHtcbiAgICAgIGhhbmRsZVRleHRJbnB1dCh2aWV3LCBmcm9tLCB0bywgdGV4dCkge1xuICAgICAgICByZXR1cm4gcnVuKHZpZXcsIGZyb20sIHRvLCB0ZXh0LCBydWxlcywgcGx1Z2luKVxuICAgICAgfSxcbiAgICAgIGhhbmRsZURPTUV2ZW50czoge1xuICAgICAgICBjb21wb3NpdGlvbmVuZDogKHZpZXcpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGxldCB7JGN1cnNvcn0gPSB2aWV3LnN0YXRlLnNlbGVjdGlvblxuICAgICAgICAgICAgaWYgKCRjdXJzb3IpIHJ1bih2aWV3LCAkY3Vyc29yLnBvcywgJGN1cnNvci5wb3MsIFwiXCIsIHJ1bGVzLCBwbHVnaW4pXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBpc0lucHV0UnVsZXM6IHRydWVcbiAgfSlcbiAgcmV0dXJuIHBsdWdpblxufVxuXG5mdW5jdGlvbiBydW4odmlldywgZnJvbSwgdG8sIHRleHQsIHJ1bGVzLCBwbHVnaW4pIHtcbiAgaWYgKHZpZXcuY29tcG9zaW5nKSByZXR1cm4gZmFsc2VcbiAgbGV0IHN0YXRlID0gdmlldy5zdGF0ZSwgJGZyb20gPSBzdGF0ZS5kb2MucmVzb2x2ZShmcm9tKVxuICBpZiAoJGZyb20ucGFyZW50LnR5cGUuc3BlYy5jb2RlKSByZXR1cm4gZmFsc2VcbiAgbGV0IHRleHRCZWZvcmUgPSAkZnJvbS5wYXJlbnQudGV4dEJldHdlZW4oTWF0aC5tYXgoMCwgJGZyb20ucGFyZW50T2Zmc2V0IC0gTUFYX01BVENIKSwgJGZyb20ucGFyZW50T2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLCBcIlxcdWZmZmNcIikgKyB0ZXh0XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbWF0Y2ggPSBydWxlc1tpXS5tYXRjaC5leGVjKHRleHRCZWZvcmUpXG4gICAgbGV0IHRyID0gbWF0Y2ggJiYgcnVsZXNbaV0uaGFuZGxlcihzdGF0ZSwgbWF0Y2gsIGZyb20gLSAobWF0Y2hbMF0ubGVuZ3RoIC0gdGV4dC5sZW5ndGgpLCB0bylcbiAgICBpZiAoIXRyKSBjb250aW51ZVxuICAgIHZpZXcuZGlzcGF0Y2godHIuc2V0TWV0YShwbHVnaW4sIHt0cmFuc2Zvcm06IHRyLCBmcm9tLCB0bywgdGV4dH0pKVxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyhUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBUaGlzIGlzIGEgY29tbWFuZCB0aGF0IHdpbGwgdW5kbyBhbiBpbnB1dCBydWxlLCBpZiBhcHBseWluZyBzdWNoIGFcbi8vIHJ1bGUgd2FzIHRoZSBsYXN0IHRoaW5nIHRoYXQgdGhlIHVzZXIgZGlkLlxuZXhwb3J0IGZ1bmN0aW9uIHVuZG9JbnB1dFJ1bGUoc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGxldCBwbHVnaW5zID0gc3RhdGUucGx1Z2luc1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBsdWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgcGx1Z2luID0gcGx1Z2luc1tpXSwgdW5kb2FibGVcbiAgICBpZiAocGx1Z2luLnNwZWMuaXNJbnB1dFJ1bGVzICYmICh1bmRvYWJsZSA9IHBsdWdpbi5nZXRTdGF0ZShzdGF0ZSkpKSB7XG4gICAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgICAgbGV0IHRyID0gc3RhdGUudHIsIHRvVW5kbyA9IHVuZG9hYmxlLnRyYW5zZm9ybVxuICAgICAgICBmb3IgKGxldCBqID0gdG9VbmRvLnN0ZXBzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKVxuICAgICAgICAgIHRyLnN0ZXAodG9VbmRvLnN0ZXBzW2pdLmludmVydCh0b1VuZG8uZG9jc1tqXSkpXG4gICAgICAgIGxldCBtYXJrcyA9IHRyLmRvYy5yZXNvbHZlKHVuZG9hYmxlLmZyb20pLm1hcmtzKClcbiAgICAgICAgZGlzcGF0Y2godHIucmVwbGFjZVdpdGgodW5kb2FibGUuZnJvbSwgdW5kb2FibGUudG8sIHN0YXRlLnNjaGVtYS50ZXh0KHVuZG9hYmxlLnRleHQsIG1hcmtzKSkpXG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cbiIsImltcG9ydCB7SW5wdXRSdWxlfSBmcm9tIFwiLi9pbnB1dHJ1bGVzXCJcblxuLy8gOjogSW5wdXRSdWxlIENvbnZlcnRzIGRvdWJsZSBkYXNoZXMgdG8gYW4gZW1kYXNoLlxuZXhwb3J0IGNvbnN0IGVtRGFzaCA9IG5ldyBJbnB1dFJ1bGUoLy0tJC8sIFwi4oCUXCIpXG4vLyA6OiBJbnB1dFJ1bGUgQ29udmVydHMgdGhyZWUgZG90cyB0byBhbiBlbGxpcHNpcyBjaGFyYWN0ZXIuXG5leHBvcnQgY29uc3QgZWxsaXBzaXMgPSBuZXcgSW5wdXRSdWxlKC9cXC5cXC5cXC4kLywgXCLigKZcIilcbi8vIDo6IElucHV0UnVsZSDigJxTbWFydOKAnSBvcGVuaW5nIGRvdWJsZSBxdW90ZXMuXG5leHBvcnQgY29uc3Qgb3BlbkRvdWJsZVF1b3RlID0gbmV3IElucHV0UnVsZSgvKD86XnxbXFxzXFx7XFxbXFwoXFw8J1wiXFx1MjAxOFxcdTIwMUNdKShcIikkLywgXCLigJxcIilcbi8vIDo6IElucHV0UnVsZSDigJxTbWFydOKAnSBjbG9zaW5nIGRvdWJsZSBxdW90ZXMuXG5leHBvcnQgY29uc3QgY2xvc2VEb3VibGVRdW90ZSA9IG5ldyBJbnB1dFJ1bGUoL1wiJC8sIFwi4oCdXCIpXG4vLyA6OiBJbnB1dFJ1bGUg4oCcU21hcnTigJ0gb3BlbmluZyBzaW5nbGUgcXVvdGVzLlxuZXhwb3J0IGNvbnN0IG9wZW5TaW5nbGVRdW90ZSA9IG5ldyBJbnB1dFJ1bGUoLyg/Ol58W1xcc1xce1xcW1xcKFxcPCdcIlxcdTIwMThcXHUyMDFDXSkoJykkLywgXCLigJhcIilcbi8vIDo6IElucHV0UnVsZSDigJxTbWFydOKAnSBjbG9zaW5nIHNpbmdsZSBxdW90ZXMuXG5leHBvcnQgY29uc3QgY2xvc2VTaW5nbGVRdW90ZSA9IG5ldyBJbnB1dFJ1bGUoLyckLywgXCLigJlcIilcblxuLy8gOjogW0lucHV0UnVsZV0gU21hcnQtcXVvdGUgcmVsYXRlZCBpbnB1dCBydWxlcy5cbmV4cG9ydCBjb25zdCBzbWFydFF1b3RlcyA9IFtvcGVuRG91YmxlUXVvdGUsIGNsb3NlRG91YmxlUXVvdGUsIG9wZW5TaW5nbGVRdW90ZSwgY2xvc2VTaW5nbGVRdW90ZV1cbiIsImltcG9ydCB7ZmluZFdyYXBwaW5nLCBsaWZ0VGFyZ2V0LCBjYW5TcGxpdCwgUmVwbGFjZUFyb3VuZFN0ZXB9IGZyb20gXCJwcm9zZW1pcnJvci10cmFuc2Zvcm1cIlxuaW1wb3J0IHtTbGljZSwgRnJhZ21lbnQsIE5vZGVSYW5nZX0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcblxuY29uc3Qgb2xET00gPSBbXCJvbFwiLCAwXSwgdWxET00gPSBbXCJ1bFwiLCAwXSwgbGlET00gPSBbXCJsaVwiLCAwXVxuXG4vLyA6OiBOb2RlU3BlY1xuLy8gQW4gb3JkZXJlZCBsaXN0IFtub2RlIHNwZWNdKCNtb2RlbC5Ob2RlU3BlYykuIEhhcyBhIHNpbmdsZVxuLy8gYXR0cmlidXRlLCBgb3JkZXJgLCB3aGljaCBkZXRlcm1pbmVzIHRoZSBudW1iZXIgYXQgd2hpY2ggdGhlIGxpc3Rcbi8vIHN0YXJ0cyBjb3VudGluZywgYW5kIGRlZmF1bHRzIHRvIDEuIFJlcHJlc2VudGVkIGFzIGFuIGA8b2w+YFxuLy8gZWxlbWVudC5cbmV4cG9ydCBjb25zdCBvcmRlcmVkTGlzdCA9IHtcbiAgYXR0cnM6IHtvcmRlcjoge2RlZmF1bHQ6IDF9fSxcbiAgcGFyc2VET006IFt7dGFnOiBcIm9sXCIsIGdldEF0dHJzKGRvbSkge1xuICAgIHJldHVybiB7b3JkZXI6IGRvbS5oYXNBdHRyaWJ1dGUoXCJzdGFydFwiKSA/ICtkb20uZ2V0QXR0cmlidXRlKFwic3RhcnRcIikgOiAxfVxuICB9fV0sXG4gIHRvRE9NKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5hdHRycy5vcmRlciA9PSAxID8gb2xET00gOiBbXCJvbFwiLCB7c3RhcnQ6IG5vZGUuYXR0cnMub3JkZXJ9LCAwXVxuICB9XG59XG5cbi8vIDo6IE5vZGVTcGVjXG4vLyBBIGJ1bGxldCBsaXN0IG5vZGUgc3BlYywgcmVwcmVzZW50ZWQgaW4gdGhlIERPTSBhcyBgPHVsPmAuXG5leHBvcnQgY29uc3QgYnVsbGV0TGlzdCA9IHtcbiAgcGFyc2VET006IFt7dGFnOiBcInVsXCJ9XSxcbiAgdG9ET00oKSB7IHJldHVybiB1bERPTSB9XG59XG5cbi8vIDo6IE5vZGVTcGVjXG4vLyBBIGxpc3QgaXRlbSAoYDxsaT5gKSBzcGVjLlxuZXhwb3J0IGNvbnN0IGxpc3RJdGVtID0ge1xuICBwYXJzZURPTTogW3t0YWc6IFwibGlcIn1dLFxuICB0b0RPTSgpIHsgcmV0dXJuIGxpRE9NIH0sXG4gIGRlZmluaW5nOiB0cnVlXG59XG5cbmZ1bmN0aW9uIGFkZChvYmosIHByb3BzKSB7XG4gIGxldCBjb3B5ID0ge31cbiAgZm9yIChsZXQgcHJvcCBpbiBvYmopIGNvcHlbcHJvcF0gPSBvYmpbcHJvcF1cbiAgZm9yIChsZXQgcHJvcCBpbiBwcm9wcykgY29weVtwcm9wXSA9IHByb3BzW3Byb3BdXG4gIHJldHVybiBjb3B5XG59XG5cbi8vIDo6IChPcmRlcmVkTWFwPE5vZGVTcGVjPiwgc3RyaW5nLCA/c3RyaW5nKSDihpIgT3JkZXJlZE1hcDxOb2RlU3BlYz5cbi8vIENvbnZlbmllbmNlIGZ1bmN0aW9uIGZvciBhZGRpbmcgbGlzdC1yZWxhdGVkIG5vZGUgdHlwZXMgdG8gYSBtYXBcbi8vIHNwZWNpZnlpbmcgdGhlIG5vZGVzIGZvciBhIHNjaGVtYS4gQWRkc1xuLy8gW2BvcmRlcmVkTGlzdGBdKCNzY2hlbWEtbGlzdC5vcmRlcmVkTGlzdCkgYXMgYFwib3JkZXJlZF9saXN0XCJgLFxuLy8gW2BidWxsZXRMaXN0YF0oI3NjaGVtYS1saXN0LmJ1bGxldExpc3QpIGFzIGBcImJ1bGxldF9saXN0XCJgLCBhbmRcbi8vIFtgbGlzdEl0ZW1gXSgjc2NoZW1hLWxpc3QubGlzdEl0ZW0pIGFzIGBcImxpc3RfaXRlbVwiYC5cbi8vXG4vLyBgaXRlbUNvbnRlbnRgIGRldGVybWluZXMgdGhlIGNvbnRlbnQgZXhwcmVzc2lvbiBmb3IgdGhlIGxpc3QgaXRlbXMuXG4vLyBJZiB5b3Ugd2FudCB0aGUgY29tbWFuZHMgZGVmaW5lZCBpbiB0aGlzIG1vZHVsZSB0byBhcHBseSB0byB5b3VyXG4vLyBsaXN0IHN0cnVjdHVyZSwgaXQgc2hvdWxkIGhhdmUgYSBzaGFwZSBsaWtlIGBcInBhcmFncmFwaCBibG9jaypcImAgb3Jcbi8vIGBcInBhcmFncmFwaCAob3JkZXJlZF9saXN0IHwgYnVsbGV0X2xpc3QpKlwiYC4gYGxpc3RHcm91cGAgY2FuIGJlXG4vLyBnaXZlbiB0byBhc3NpZ24gYSBncm91cCBuYW1lIHRvIHRoZSBsaXN0IG5vZGUgdHlwZXMsIGZvciBleGFtcGxlXG4vLyBgXCJibG9ja1wiYC5cbmV4cG9ydCBmdW5jdGlvbiBhZGRMaXN0Tm9kZXMobm9kZXMsIGl0ZW1Db250ZW50LCBsaXN0R3JvdXApIHtcbiAgcmV0dXJuIG5vZGVzLmFwcGVuZCh7XG4gICAgb3JkZXJlZF9saXN0OiBhZGQob3JkZXJlZExpc3QsIHtjb250ZW50OiBcImxpc3RfaXRlbStcIiwgZ3JvdXA6IGxpc3RHcm91cH0pLFxuICAgIGJ1bGxldF9saXN0OiBhZGQoYnVsbGV0TGlzdCwge2NvbnRlbnQ6IFwibGlzdF9pdGVtK1wiLCBncm91cDogbGlzdEdyb3VwfSksXG4gICAgbGlzdF9pdGVtOiBhZGQobGlzdEl0ZW0sIHtjb250ZW50OiBpdGVtQ29udGVudH0pXG4gIH0pXG59XG5cbi8vIDo6IChOb2RlVHlwZSwgP09iamVjdCkg4oaSIChzdGF0ZTogRWRpdG9yU3RhdGUsIGRpc3BhdGNoOiA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBSZXR1cm5zIGEgY29tbWFuZCBmdW5jdGlvbiB0aGF0IHdyYXBzIHRoZSBzZWxlY3Rpb24gaW4gYSBsaXN0IHdpdGhcbi8vIHRoZSBnaXZlbiB0eXBlIGFuIGF0dHJpYnV0ZXMuIElmIGBkaXNwYXRjaGAgaXMgbnVsbCwgb25seSByZXR1cm4gYVxuLy8gdmFsdWUgdG8gaW5kaWNhdGUgd2hldGhlciB0aGlzIGlzIHBvc3NpYmxlLCBidXQgZG9uJ3QgYWN0dWFsbHlcbi8vIHBlcmZvcm0gdGhlIGNoYW5nZS5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwSW5MaXN0KGxpc3RUeXBlLCBhdHRycykge1xuICByZXR1cm4gZnVuY3Rpb24oc3RhdGUsIGRpc3BhdGNoKSB7XG4gICAgbGV0IHskZnJvbSwgJHRvfSA9IHN0YXRlLnNlbGVjdGlvblxuICAgIGxldCByYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoJHRvKSwgZG9Kb2luID0gZmFsc2UsIG91dGVyUmFuZ2UgPSByYW5nZVxuICAgIGlmICghcmFuZ2UpIHJldHVybiBmYWxzZVxuICAgIC8vIFRoaXMgaXMgYXQgdGhlIHRvcCBvZiBhbiBleGlzdGluZyBsaXN0IGl0ZW1cbiAgICBpZiAocmFuZ2UuZGVwdGggPj0gMiAmJiAkZnJvbS5ub2RlKHJhbmdlLmRlcHRoIC0gMSkudHlwZS5jb21wYXRpYmxlQ29udGVudChsaXN0VHlwZSkgJiYgcmFuZ2Uuc3RhcnRJbmRleCA9PSAwKSB7XG4gICAgICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGlzIGlzIHRoZSB0b3Agb2YgdGhlIGxpc3RcbiAgICAgIGlmICgkZnJvbS5pbmRleChyYW5nZS5kZXB0aCAtIDEpID09IDApIHJldHVybiBmYWxzZVxuICAgICAgbGV0ICRpbnNlcnQgPSBzdGF0ZS5kb2MucmVzb2x2ZShyYW5nZS5zdGFydCAtIDIpXG4gICAgICBvdXRlclJhbmdlID0gbmV3IE5vZGVSYW5nZSgkaW5zZXJ0LCAkaW5zZXJ0LCByYW5nZS5kZXB0aClcbiAgICAgIGlmIChyYW5nZS5lbmRJbmRleCA8IHJhbmdlLnBhcmVudC5jaGlsZENvdW50KVxuICAgICAgICByYW5nZSA9IG5ldyBOb2RlUmFuZ2UoJGZyb20sIHN0YXRlLmRvYy5yZXNvbHZlKCR0by5lbmQocmFuZ2UuZGVwdGgpKSwgcmFuZ2UuZGVwdGgpXG4gICAgICBkb0pvaW4gPSB0cnVlXG4gICAgfVxuICAgIGxldCB3cmFwID0gZmluZFdyYXBwaW5nKG91dGVyUmFuZ2UsIGxpc3RUeXBlLCBhdHRycywgcmFuZ2UpXG4gICAgaWYgKCF3cmFwKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKGRvV3JhcEluTGlzdChzdGF0ZS50ciwgcmFuZ2UsIHdyYXAsIGRvSm9pbiwgbGlzdFR5cGUpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5mdW5jdGlvbiBkb1dyYXBJbkxpc3QodHIsIHJhbmdlLCB3cmFwcGVycywgam9pbkJlZm9yZSwgbGlzdFR5cGUpIHtcbiAgbGV0IGNvbnRlbnQgPSBGcmFnbWVudC5lbXB0eVxuICBmb3IgKGxldCBpID0gd3JhcHBlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgY29udGVudCA9IEZyYWdtZW50LmZyb20od3JhcHBlcnNbaV0udHlwZS5jcmVhdGUod3JhcHBlcnNbaV0uYXR0cnMsIGNvbnRlbnQpKVxuXG4gIHRyLnN0ZXAobmV3IFJlcGxhY2VBcm91bmRTdGVwKHJhbmdlLnN0YXJ0IC0gKGpvaW5CZWZvcmUgPyAyIDogMCksIHJhbmdlLmVuZCwgcmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWNlKGNvbnRlbnQsIDAsIDApLCB3cmFwcGVycy5sZW5ndGgsIHRydWUpKVxuXG4gIGxldCBmb3VuZCA9IDBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3cmFwcGVycy5sZW5ndGg7IGkrKykgaWYgKHdyYXBwZXJzW2ldLnR5cGUgPT0gbGlzdFR5cGUpIGZvdW5kID0gaSArIDFcbiAgbGV0IHNwbGl0RGVwdGggPSB3cmFwcGVycy5sZW5ndGggLSBmb3VuZFxuXG4gIGxldCBzcGxpdFBvcyA9IHJhbmdlLnN0YXJ0ICsgd3JhcHBlcnMubGVuZ3RoIC0gKGpvaW5CZWZvcmUgPyAyIDogMCksIHBhcmVudCA9IHJhbmdlLnBhcmVudFxuICBmb3IgKGxldCBpID0gcmFuZ2Uuc3RhcnRJbmRleCwgZSA9IHJhbmdlLmVuZEluZGV4LCBmaXJzdCA9IHRydWU7IGkgPCBlOyBpKyssIGZpcnN0ID0gZmFsc2UpIHtcbiAgICBpZiAoIWZpcnN0ICYmIGNhblNwbGl0KHRyLmRvYywgc3BsaXRQb3MsIHNwbGl0RGVwdGgpKSB7XG4gICAgICB0ci5zcGxpdChzcGxpdFBvcywgc3BsaXREZXB0aClcbiAgICAgIHNwbGl0UG9zICs9IDIgKiBzcGxpdERlcHRoXG4gICAgfVxuICAgIHNwbGl0UG9zICs9IHBhcmVudC5jaGlsZChpKS5ub2RlU2l6ZVxuICB9XG4gIHJldHVybiB0clxufVxuXG4vLyA6OiAoTm9kZVR5cGUpIOKGkiAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaDogPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gQnVpbGQgYSBjb21tYW5kIHRoYXQgc3BsaXRzIGEgbm9uLWVtcHR5IHRleHRibG9jayBhdCB0aGUgdG9wIGxldmVsXG4vLyBvZiBhIGxpc3QgaXRlbSBieSBhbHNvIHNwbGl0dGluZyB0aGF0IGxpc3QgaXRlbS5cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdExpc3RJdGVtKGl0ZW1UeXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICBsZXQgeyRmcm9tLCAkdG8sIG5vZGV9ID0gc3RhdGUuc2VsZWN0aW9uXG4gICAgaWYgKChub2RlICYmIG5vZGUuaXNCbG9jaykgfHwgJGZyb20uZGVwdGggPCAyIHx8ICEkZnJvbS5zYW1lUGFyZW50KCR0bykpIHJldHVybiBmYWxzZVxuICAgIGxldCBncmFuZFBhcmVudCA9ICRmcm9tLm5vZGUoLTEpXG4gICAgaWYgKGdyYW5kUGFyZW50LnR5cGUgIT0gaXRlbVR5cGUpIHJldHVybiBmYWxzZVxuICAgIGlmICgkZnJvbS5wYXJlbnQuY29udGVudC5zaXplID09IDApIHtcbiAgICAgIC8vIEluIGFuIGVtcHR5IGJsb2NrLiBJZiB0aGlzIGlzIGEgbmVzdGVkIGxpc3QsIHRoZSB3cmFwcGluZ1xuICAgICAgLy8gbGlzdCBpdGVtIHNob3VsZCBiZSBzcGxpdC4gT3RoZXJ3aXNlLCBiYWlsIG91dCBhbmQgbGV0IG5leHRcbiAgICAgIC8vIGNvbW1hbmQgaGFuZGxlIGxpZnRpbmcuXG4gICAgICBpZiAoJGZyb20uZGVwdGggPT0gMiB8fCAkZnJvbS5ub2RlKC0zKS50eXBlICE9IGl0ZW1UeXBlIHx8XG4gICAgICAgICAgJGZyb20uaW5kZXgoLTIpICE9ICRmcm9tLm5vZGUoLTIpLmNoaWxkQ291bnQgLSAxKSByZXR1cm4gZmFsc2VcbiAgICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgICBsZXQgd3JhcCA9IEZyYWdtZW50LmVtcHR5LCBrZWVwSXRlbSA9ICRmcm9tLmluZGV4KC0xKSA+IDBcbiAgICAgICAgLy8gQnVpbGQgYSBmcmFnbWVudCBjb250YWluaW5nIGVtcHR5IHZlcnNpb25zIG9mIHRoZSBzdHJ1Y3R1cmVcbiAgICAgICAgLy8gZnJvbSB0aGUgb3V0ZXIgbGlzdCBpdGVtIHRvIHRoZSBwYXJlbnQgbm9kZSBvZiB0aGUgY3Vyc29yXG4gICAgICAgIGZvciAobGV0IGQgPSAkZnJvbS5kZXB0aCAtIChrZWVwSXRlbSA/IDEgOiAyKTsgZCA+PSAkZnJvbS5kZXB0aCAtIDM7IGQtLSlcbiAgICAgICAgICB3cmFwID0gRnJhZ21lbnQuZnJvbSgkZnJvbS5ub2RlKGQpLmNvcHkod3JhcCkpXG4gICAgICAgIC8vIEFkZCBhIHNlY29uZCBsaXN0IGl0ZW0gd2l0aCBhbiBlbXB0eSBkZWZhdWx0IHN0YXJ0IG5vZGVcbiAgICAgICAgd3JhcCA9IHdyYXAuYXBwZW5kKEZyYWdtZW50LmZyb20oaXRlbVR5cGUuY3JlYXRlQW5kRmlsbCgpKSlcbiAgICAgICAgbGV0IHRyID0gc3RhdGUudHIucmVwbGFjZSgkZnJvbS5iZWZvcmUoa2VlcEl0ZW0gPyBudWxsIDogLTEpLCAkZnJvbS5hZnRlcigtMyksIG5ldyBTbGljZSh3cmFwLCBrZWVwSXRlbSA/IDMgOiAyLCAyKSlcbiAgICAgICAgdHIuc2V0U2VsZWN0aW9uKHN0YXRlLnNlbGVjdGlvbi5jb25zdHJ1Y3Rvci5uZWFyKHRyLmRvYy5yZXNvbHZlKCRmcm9tLnBvcyArIChrZWVwSXRlbSA/IDMgOiAyKSkpKVxuICAgICAgICBkaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgbGV0IG5leHRUeXBlID0gJHRvLnBvcyA9PSAkZnJvbS5lbmQoKSA/IGdyYW5kUGFyZW50LmNvbnRlbnRNYXRjaEF0KDApLmRlZmF1bHRUeXBlIDogbnVsbFxuICAgIGxldCB0ciA9IHN0YXRlLnRyLmRlbGV0ZSgkZnJvbS5wb3MsICR0by5wb3MpXG4gICAgbGV0IHR5cGVzID0gbmV4dFR5cGUgJiYgW251bGwsIHt0eXBlOiBuZXh0VHlwZX1dXG4gICAgaWYgKCFjYW5TcGxpdCh0ci5kb2MsICRmcm9tLnBvcywgMiwgdHlwZXMpKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHRyLnNwbGl0KCRmcm9tLnBvcywgMiwgdHlwZXMpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG4vLyA6OiAoTm9kZVR5cGUpIOKGkiAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaDogPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gQ3JlYXRlIGEgY29tbWFuZCB0byBsaWZ0IHRoZSBsaXN0IGl0ZW0gYXJvdW5kIHRoZSBzZWxlY3Rpb24gdXAgaW50b1xuLy8gYSB3cmFwcGluZyBsaXN0LlxuZXhwb3J0IGZ1bmN0aW9uIGxpZnRMaXN0SXRlbShpdGVtVHlwZSkge1xuICByZXR1cm4gZnVuY3Rpb24oc3RhdGUsIGRpc3BhdGNoKSB7XG4gICAgbGV0IHskZnJvbSwgJHRvfSA9IHN0YXRlLnNlbGVjdGlvblxuICAgIGxldCByYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoJHRvLCBub2RlID0+IG5vZGUuY2hpbGRDb3VudCAmJiBub2RlLmZpcnN0Q2hpbGQudHlwZSA9PSBpdGVtVHlwZSlcbiAgICBpZiAoIXJhbmdlKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoIWRpc3BhdGNoKSByZXR1cm4gdHJ1ZVxuICAgIGlmICgkZnJvbS5ub2RlKHJhbmdlLmRlcHRoIC0gMSkudHlwZSA9PSBpdGVtVHlwZSkgLy8gSW5zaWRlIGEgcGFyZW50IGxpc3RcbiAgICAgIHJldHVybiBsaWZ0VG9PdXRlckxpc3Qoc3RhdGUsIGRpc3BhdGNoLCBpdGVtVHlwZSwgcmFuZ2UpXG4gICAgZWxzZSAvLyBPdXRlciBsaXN0IG5vZGVcbiAgICAgIHJldHVybiBsaWZ0T3V0T2ZMaXN0KHN0YXRlLCBkaXNwYXRjaCwgcmFuZ2UpXG4gIH1cbn1cblxuZnVuY3Rpb24gbGlmdFRvT3V0ZXJMaXN0KHN0YXRlLCBkaXNwYXRjaCwgaXRlbVR5cGUsIHJhbmdlKSB7XG4gIGxldCB0ciA9IHN0YXRlLnRyLCBlbmQgPSByYW5nZS5lbmQsIGVuZE9mTGlzdCA9IHJhbmdlLiR0by5lbmQocmFuZ2UuZGVwdGgpXG4gIGlmIChlbmQgPCBlbmRPZkxpc3QpIHtcbiAgICAvLyBUaGVyZSBhcmUgc2libGluZ3MgYWZ0ZXIgdGhlIGxpZnRlZCBpdGVtcywgd2hpY2ggbXVzdCBiZWNvbWVcbiAgICAvLyBjaGlsZHJlbiBvZiB0aGUgbGFzdCBpdGVtXG4gICAgdHIuc3RlcChuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoZW5kIC0gMSwgZW5kT2ZMaXN0LCBlbmQsIGVuZE9mTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2xpY2UoRnJhZ21lbnQuZnJvbShpdGVtVHlwZS5jcmVhdGUobnVsbCwgcmFuZ2UucGFyZW50LmNvcHkoKSkpLCAxLCAwKSwgMSwgdHJ1ZSkpXG4gICAgcmFuZ2UgPSBuZXcgTm9kZVJhbmdlKHRyLmRvYy5yZXNvbHZlKHJhbmdlLiRmcm9tLnBvcyksIHRyLmRvYy5yZXNvbHZlKGVuZE9mTGlzdCksIHJhbmdlLmRlcHRoKVxuICB9XG4gIGRpc3BhdGNoKHRyLmxpZnQocmFuZ2UsIGxpZnRUYXJnZXQocmFuZ2UpKS5zY3JvbGxJbnRvVmlldygpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBsaWZ0T3V0T2ZMaXN0KHN0YXRlLCBkaXNwYXRjaCwgcmFuZ2UpIHtcbiAgbGV0IHRyID0gc3RhdGUudHIsIGxpc3QgPSByYW5nZS5wYXJlbnRcbiAgLy8gTWVyZ2UgdGhlIGxpc3QgaXRlbXMgaW50byBhIHNpbmdsZSBiaWcgaXRlbVxuICBmb3IgKGxldCBwb3MgPSByYW5nZS5lbmQsIGkgPSByYW5nZS5lbmRJbmRleCAtIDEsIGUgPSByYW5nZS5zdGFydEluZGV4OyBpID4gZTsgaS0tKSB7XG4gICAgcG9zIC09IGxpc3QuY2hpbGQoaSkubm9kZVNpemVcbiAgICB0ci5kZWxldGUocG9zIC0gMSwgcG9zICsgMSlcbiAgfVxuICBsZXQgJHN0YXJ0ID0gdHIuZG9jLnJlc29sdmUocmFuZ2Uuc3RhcnQpLCBpdGVtID0gJHN0YXJ0Lm5vZGVBZnRlclxuICBsZXQgYXRTdGFydCA9IHJhbmdlLnN0YXJ0SW5kZXggPT0gMCwgYXRFbmQgPSByYW5nZS5lbmRJbmRleCA9PSBsaXN0LmNoaWxkQ291bnRcbiAgbGV0IHBhcmVudCA9ICRzdGFydC5ub2RlKC0xKSwgaW5kZXhCZWZvcmUgPSAkc3RhcnQuaW5kZXgoLTEpXG4gIGlmICghcGFyZW50LmNhblJlcGxhY2UoaW5kZXhCZWZvcmUgKyAoYXRTdGFydCA/IDAgOiAxKSwgaW5kZXhCZWZvcmUgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY29udGVudC5hcHBlbmQoYXRFbmQgPyBGcmFnbWVudC5lbXB0eSA6IEZyYWdtZW50LmZyb20obGlzdCkpKSlcbiAgICByZXR1cm4gZmFsc2VcbiAgbGV0IHN0YXJ0ID0gJHN0YXJ0LnBvcywgZW5kID0gc3RhcnQgKyBpdGVtLm5vZGVTaXplXG4gIC8vIFN0cmlwIG9mZiB0aGUgc3Vycm91bmRpbmcgbGlzdC4gQXQgdGhlIHNpZGVzIHdoZXJlIHdlJ3JlIG5vdCBhdFxuICAvLyB0aGUgZW5kIG9mIHRoZSBsaXN0LCB0aGUgZXhpc3RpbmcgbGlzdCBpcyBjbG9zZWQuIEF0IHNpZGVzIHdoZXJlXG4gIC8vIHRoaXMgaXMgdGhlIGVuZCwgaXQgaXMgb3ZlcndyaXR0ZW4gdG8gaXRzIGVuZC5cbiAgdHIuc3RlcChuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoc3RhcnQgLSAoYXRTdGFydCA/IDEgOiAwKSwgZW5kICsgKGF0RW5kID8gMSA6IDApLCBzdGFydCArIDEsIGVuZCAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTbGljZSgoYXRTdGFydCA/IEZyYWdtZW50LmVtcHR5IDogRnJhZ21lbnQuZnJvbShsaXN0LmNvcHkoRnJhZ21lbnQuZW1wdHkpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoYXRFbmQgPyBGcmFnbWVudC5lbXB0eSA6IEZyYWdtZW50LmZyb20obGlzdC5jb3B5KEZyYWdtZW50LmVtcHR5KSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRTdGFydCA/IDAgOiAxLCBhdEVuZCA/IDAgOiAxKSwgYXRTdGFydCA/IDAgOiAxKSlcbiAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKE5vZGVUeXBlKSDihpIgKHN0YXRlOiBFZGl0b3JTdGF0ZSwgZGlzcGF0Y2g6ID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIENyZWF0ZSBhIGNvbW1hbmQgdG8gc2luayB0aGUgbGlzdCBpdGVtIGFyb3VuZCB0aGUgc2VsZWN0aW9uIGRvd25cbi8vIGludG8gYW4gaW5uZXIgbGlzdC5cbmV4cG9ydCBmdW5jdGlvbiBzaW5rTGlzdEl0ZW0oaXRlbVR5cGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlLCBkaXNwYXRjaCkge1xuICAgIGxldCB7JGZyb20sICR0b30gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgICBsZXQgcmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0bywgbm9kZSA9PiBub2RlLmNoaWxkQ291bnQgJiYgbm9kZS5maXJzdENoaWxkLnR5cGUgPT0gaXRlbVR5cGUpXG4gICAgaWYgKCFyYW5nZSkgcmV0dXJuIGZhbHNlXG4gICAgbGV0IHN0YXJ0SW5kZXggPSByYW5nZS5zdGFydEluZGV4XG4gICAgaWYgKHN0YXJ0SW5kZXggPT0gMCkgcmV0dXJuIGZhbHNlXG4gICAgbGV0IHBhcmVudCA9IHJhbmdlLnBhcmVudCwgbm9kZUJlZm9yZSA9IHBhcmVudC5jaGlsZChzdGFydEluZGV4IC0gMSlcbiAgICBpZiAobm9kZUJlZm9yZS50eXBlICE9IGl0ZW1UeXBlKSByZXR1cm4gZmFsc2VcblxuICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgbGV0IG5lc3RlZEJlZm9yZSA9IG5vZGVCZWZvcmUubGFzdENoaWxkICYmIG5vZGVCZWZvcmUubGFzdENoaWxkLnR5cGUgPT0gcGFyZW50LnR5cGVcbiAgICAgIGxldCBpbm5lciA9IEZyYWdtZW50LmZyb20obmVzdGVkQmVmb3JlID8gaXRlbVR5cGUuY3JlYXRlKCkgOiBudWxsKVxuICAgICAgbGV0IHNsaWNlID0gbmV3IFNsaWNlKEZyYWdtZW50LmZyb20oaXRlbVR5cGUuY3JlYXRlKG51bGwsIEZyYWdtZW50LmZyb20ocGFyZW50LnR5cGUuY3JlYXRlKG51bGwsIGlubmVyKSkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXN0ZWRCZWZvcmUgPyAzIDogMSwgMClcbiAgICAgIGxldCBiZWZvcmUgPSByYW5nZS5zdGFydCwgYWZ0ZXIgPSByYW5nZS5lbmRcbiAgICAgIGRpc3BhdGNoKHN0YXRlLnRyLnN0ZXAobmV3IFJlcGxhY2VBcm91bmRTdGVwKGJlZm9yZSAtIChuZXN0ZWRCZWZvcmUgPyAzIDogMSksIGFmdGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlLCBhZnRlciwgc2xpY2UsIDEsIHRydWUpKVxuICAgICAgICAgICAgICAgLnNjcm9sbEludG9WaWV3KCkpXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cbiIsImltcG9ydCB7U2NoZW1hfSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuXG5jb25zdCBwRE9NID0gW1wicFwiLCAwXSwgYmxvY2txdW90ZURPTSA9IFtcImJsb2NrcXVvdGVcIiwgMF0sIGhyRE9NID0gW1wiaHJcIl0sXG4gICAgICBwcmVET00gPSBbXCJwcmVcIiwgW1wiY29kZVwiLCAwXV0sIGJyRE9NID0gW1wiYnJcIl1cblxuLy8gOjogT2JqZWN0XG4vLyBbU3BlY3NdKCNtb2RlbC5Ob2RlU3BlYykgZm9yIHRoZSBub2RlcyBkZWZpbmVkIGluIHRoaXMgc2NoZW1hLlxuZXhwb3J0IGNvbnN0IG5vZGVzID0ge1xuICAvLyA6OiBOb2RlU3BlYyBUaGUgdG9wIGxldmVsIGRvY3VtZW50IG5vZGUuXG4gIGRvYzoge1xuICAgIGNvbnRlbnQ6IFwiYmxvY2srXCJcbiAgfSxcblxuICAvLyA6OiBOb2RlU3BlYyBBIHBsYWluIHBhcmFncmFwaCB0ZXh0YmxvY2suIFJlcHJlc2VudGVkIGluIHRoZSBET01cbiAgLy8gYXMgYSBgPHA+YCBlbGVtZW50LlxuICBwYXJhZ3JhcGg6IHtcbiAgICBjb250ZW50OiBcImlubGluZSpcIixcbiAgICBncm91cDogXCJibG9ja1wiLFxuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJwXCJ9XSxcbiAgICB0b0RPTSgpIHsgcmV0dXJuIHBET00gfVxuICB9LFxuXG4gIC8vIDo6IE5vZGVTcGVjIEEgYmxvY2txdW90ZSAoYDxibG9ja3F1b3RlPmApIHdyYXBwaW5nIG9uZSBvciBtb3JlIGJsb2Nrcy5cbiAgYmxvY2txdW90ZToge1xuICAgIGNvbnRlbnQ6IFwiYmxvY2srXCIsXG4gICAgZ3JvdXA6IFwiYmxvY2tcIixcbiAgICBkZWZpbmluZzogdHJ1ZSxcbiAgICBwYXJzZURPTTogW3t0YWc6IFwiYmxvY2txdW90ZVwifV0sXG4gICAgdG9ET00oKSB7IHJldHVybiBibG9ja3F1b3RlRE9NIH1cbiAgfSxcblxuICAvLyA6OiBOb2RlU3BlYyBBIGhvcml6b250YWwgcnVsZSAoYDxocj5gKS5cbiAgaG9yaXpvbnRhbF9ydWxlOiB7XG4gICAgZ3JvdXA6IFwiYmxvY2tcIixcbiAgICBwYXJzZURPTTogW3t0YWc6IFwiaHJcIn1dLFxuICAgIHRvRE9NKCkgeyByZXR1cm4gaHJET00gfVxuICB9LFxuXG4gIC8vIDo6IE5vZGVTcGVjIEEgaGVhZGluZyB0ZXh0YmxvY2ssIHdpdGggYSBgbGV2ZWxgIGF0dHJpYnV0ZSB0aGF0XG4gIC8vIHNob3VsZCBob2xkIHRoZSBudW1iZXIgMSB0byA2LiBQYXJzZWQgYW5kIHNlcmlhbGl6ZWQgYXMgYDxoMT5gIHRvXG4gIC8vIGA8aDY+YCBlbGVtZW50cy5cbiAgaGVhZGluZzoge1xuICAgIGF0dHJzOiB7bGV2ZWw6IHtkZWZhdWx0OiAxfX0sXG4gICAgY29udGVudDogXCJpbmxpbmUqXCIsXG4gICAgZ3JvdXA6IFwiYmxvY2tcIixcbiAgICBkZWZpbmluZzogdHJ1ZSxcbiAgICBwYXJzZURPTTogW3t0YWc6IFwiaDFcIiwgYXR0cnM6IHtsZXZlbDogMX19LFxuICAgICAgICAgICAgICAge3RhZzogXCJoMlwiLCBhdHRyczoge2xldmVsOiAyfX0sXG4gICAgICAgICAgICAgICB7dGFnOiBcImgzXCIsIGF0dHJzOiB7bGV2ZWw6IDN9fSxcbiAgICAgICAgICAgICAgIHt0YWc6IFwiaDRcIiwgYXR0cnM6IHtsZXZlbDogNH19LFxuICAgICAgICAgICAgICAge3RhZzogXCJoNVwiLCBhdHRyczoge2xldmVsOiA1fX0sXG4gICAgICAgICAgICAgICB7dGFnOiBcImg2XCIsIGF0dHJzOiB7bGV2ZWw6IDZ9fV0sXG4gICAgdG9ET00obm9kZSkgeyByZXR1cm4gW1wiaFwiICsgbm9kZS5hdHRycy5sZXZlbCwgMF0gfVxuICB9LFxuXG4gIC8vIDo6IE5vZGVTcGVjIEEgY29kZSBsaXN0aW5nLiBEaXNhbGxvd3MgbWFya3Mgb3Igbm9uLXRleHQgaW5saW5lXG4gIC8vIG5vZGVzIGJ5IGRlZmF1bHQuIFJlcHJlc2VudGVkIGFzIGEgYDxwcmU+YCBlbGVtZW50IHdpdGggYVxuICAvLyBgPGNvZGU+YCBlbGVtZW50IGluc2lkZSBvZiBpdC5cbiAgY29kZV9ibG9jazoge1xuICAgIGNvbnRlbnQ6IFwidGV4dCpcIixcbiAgICBtYXJrczogXCJcIixcbiAgICBncm91cDogXCJibG9ja1wiLFxuICAgIGNvZGU6IHRydWUsXG4gICAgZGVmaW5pbmc6IHRydWUsXG4gICAgcGFyc2VET006IFt7dGFnOiBcInByZVwiLCBwcmVzZXJ2ZVdoaXRlc3BhY2U6IFwiZnVsbFwifV0sXG4gICAgdG9ET00oKSB7IHJldHVybiBwcmVET00gfVxuICB9LFxuXG4gIC8vIDo6IE5vZGVTcGVjIFRoZSB0ZXh0IG5vZGUuXG4gIHRleHQ6IHtcbiAgICBncm91cDogXCJpbmxpbmVcIlxuICB9LFxuXG4gIC8vIDo6IE5vZGVTcGVjIEFuIGlubGluZSBpbWFnZSAoYDxpbWc+YCkgbm9kZS4gU3VwcG9ydHMgYHNyY2AsXG4gIC8vIGBhbHRgLCBhbmQgYGhyZWZgIGF0dHJpYnV0ZXMuIFRoZSBsYXR0ZXIgdHdvIGRlZmF1bHQgdG8gdGhlIGVtcHR5XG4gIC8vIHN0cmluZy5cbiAgaW1hZ2U6IHtcbiAgICBpbmxpbmU6IHRydWUsXG4gICAgYXR0cnM6IHtcbiAgICAgIHNyYzoge30sXG4gICAgICBhbHQ6IHtkZWZhdWx0OiBudWxsfSxcbiAgICAgIHRpdGxlOiB7ZGVmYXVsdDogbnVsbH1cbiAgICB9LFxuICAgIGdyb3VwOiBcImlubGluZVwiLFxuICAgIGRyYWdnYWJsZTogdHJ1ZSxcbiAgICBwYXJzZURPTTogW3t0YWc6IFwiaW1nW3NyY11cIiwgZ2V0QXR0cnMoZG9tKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzcmM6IGRvbS5nZXRBdHRyaWJ1dGUoXCJzcmNcIiksXG4gICAgICAgIHRpdGxlOiBkb20uZ2V0QXR0cmlidXRlKFwidGl0bGVcIiksXG4gICAgICAgIGFsdDogZG9tLmdldEF0dHJpYnV0ZShcImFsdFwiKVxuICAgICAgfVxuICAgIH19XSxcbiAgICB0b0RPTShub2RlKSB7IGxldCB7c3JjLCBhbHQsIHRpdGxlfSA9IG5vZGUuYXR0cnM7IHJldHVybiBbXCJpbWdcIiwge3NyYywgYWx0LCB0aXRsZX1dIH1cbiAgfSxcblxuICAvLyA6OiBOb2RlU3BlYyBBIGhhcmQgbGluZSBicmVhaywgcmVwcmVzZW50ZWQgaW4gdGhlIERPTSBhcyBgPGJyPmAuXG4gIGhhcmRfYnJlYWs6IHtcbiAgICBpbmxpbmU6IHRydWUsXG4gICAgZ3JvdXA6IFwiaW5saW5lXCIsXG4gICAgc2VsZWN0YWJsZTogZmFsc2UsXG4gICAgcGFyc2VET006IFt7dGFnOiBcImJyXCJ9XSxcbiAgICB0b0RPTSgpIHsgcmV0dXJuIGJyRE9NIH1cbiAgfVxufVxuXG5jb25zdCBlbURPTSA9IFtcImVtXCIsIDBdLCBzdHJvbmdET00gPSBbXCJzdHJvbmdcIiwgMF0sIGNvZGVET00gPSBbXCJjb2RlXCIsIDBdXG5cbi8vIDo6IE9iamVjdCBbU3BlY3NdKCNtb2RlbC5NYXJrU3BlYykgZm9yIHRoZSBtYXJrcyBpbiB0aGUgc2NoZW1hLlxuZXhwb3J0IGNvbnN0IG1hcmtzID0ge1xuICAvLyA6OiBNYXJrU3BlYyBBIGxpbmsuIEhhcyBgaHJlZmAgYW5kIGB0aXRsZWAgYXR0cmlidXRlcy4gYHRpdGxlYFxuICAvLyBkZWZhdWx0cyB0byB0aGUgZW1wdHkgc3RyaW5nLiBSZW5kZXJlZCBhbmQgcGFyc2VkIGFzIGFuIGA8YT5gXG4gIC8vIGVsZW1lbnQuXG4gIGxpbms6IHtcbiAgICBhdHRyczoge1xuICAgICAgaHJlZjoge30sXG4gICAgICB0aXRsZToge2RlZmF1bHQ6IG51bGx9XG4gICAgfSxcbiAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJhW2hyZWZdXCIsIGdldEF0dHJzKGRvbSkge1xuICAgICAgcmV0dXJuIHtocmVmOiBkb20uZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSwgdGl0bGU6IGRvbS5nZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiKX1cbiAgICB9fV0sXG4gICAgdG9ET00obm9kZSkgeyBsZXQge2hyZWYsIHRpdGxlfSA9IG5vZGUuYXR0cnM7IHJldHVybiBbXCJhXCIsIHtocmVmLCB0aXRsZX0sIDBdIH1cbiAgfSxcblxuICAvLyA6OiBNYXJrU3BlYyBBbiBlbXBoYXNpcyBtYXJrLiBSZW5kZXJlZCBhcyBhbiBgPGVtPmAgZWxlbWVudC5cbiAgLy8gSGFzIHBhcnNlIHJ1bGVzIHRoYXQgYWxzbyBtYXRjaCBgPGk+YCBhbmQgYGZvbnQtc3R5bGU6IGl0YWxpY2AuXG4gIGVtOiB7XG4gICAgcGFyc2VET006IFt7dGFnOiBcImlcIn0sIHt0YWc6IFwiZW1cIn0sIHtzdHlsZTogXCJmb250LXN0eWxlPWl0YWxpY1wifV0sXG4gICAgdG9ET00oKSB7IHJldHVybiBlbURPTSB9XG4gIH0sXG5cbiAgLy8gOjogTWFya1NwZWMgQSBzdHJvbmcgbWFyay4gUmVuZGVyZWQgYXMgYDxzdHJvbmc+YCwgcGFyc2UgcnVsZXNcbiAgLy8gYWxzbyBtYXRjaCBgPGI+YCBhbmQgYGZvbnQtd2VpZ2h0OiBib2xkYC5cbiAgc3Ryb25nOiB7XG4gICAgcGFyc2VET006IFt7dGFnOiBcInN0cm9uZ1wifSxcbiAgICAgICAgICAgICAgIC8vIFRoaXMgd29ya3MgYXJvdW5kIGEgR29vZ2xlIERvY3MgbWlzYmVoYXZpb3Igd2hlcmVcbiAgICAgICAgICAgICAgIC8vIHBhc3RlZCBjb250ZW50IHdpbGwgYmUgaW5leHBsaWNhYmx5IHdyYXBwZWQgaW4gYDxiPmBcbiAgICAgICAgICAgICAgIC8vIHRhZ3Mgd2l0aCBhIGZvbnQtd2VpZ2h0IG5vcm1hbC5cbiAgICAgICAgICAgICAgIHt0YWc6IFwiYlwiLCBnZXRBdHRyczogbm9kZSA9PiBub2RlLnN0eWxlLmZvbnRXZWlnaHQgIT0gXCJub3JtYWxcIiAmJiBudWxsfSxcbiAgICAgICAgICAgICAgIHtzdHlsZTogXCJmb250LXdlaWdodFwiLCBnZXRBdHRyczogdmFsdWUgPT4gL14oYm9sZChlcik/fFs1LTldXFxkezIsfSkkLy50ZXN0KHZhbHVlKSAmJiBudWxsfV0sXG4gICAgdG9ET00oKSB7IHJldHVybiBzdHJvbmdET00gfVxuICB9LFxuXG4gIC8vIDo6IE1hcmtTcGVjIENvZGUgZm9udCBtYXJrLiBSZXByZXNlbnRlZCBhcyBhIGA8Y29kZT5gIGVsZW1lbnQuXG4gIGNvZGU6IHtcbiAgICBwYXJzZURPTTogW3t0YWc6IFwiY29kZVwifV0sXG4gICAgdG9ET00oKSB7IHJldHVybiBjb2RlRE9NIH1cbiAgfVxufVxuXG4vLyA6OiBTY2hlbWFcbi8vIFRoaXMgc2NoZW1hIHJvdWdobHkgY29ycmVzcG9uZHMgdG8gdGhlIGRvY3VtZW50IHNjaGVtYSB1c2VkIGJ5XG4vLyBbQ29tbW9uTWFya10oaHR0cDovL2NvbW1vbm1hcmsub3JnLyksIG1pbnVzIHRoZSBsaXN0IGVsZW1lbnRzLFxuLy8gd2hpY2ggYXJlIGRlZmluZWQgaW4gdGhlIFtgcHJvc2VtaXJyb3Itc2NoZW1hLWxpc3RgXSgjc2NoZW1hLWxpc3QpXG4vLyBtb2R1bGUuXG4vL1xuLy8gVG8gcmV1c2UgZWxlbWVudHMgZnJvbSB0aGlzIHNjaGVtYSwgZXh0ZW5kIG9yIHJlYWQgZnJvbSBpdHNcbi8vIGBzcGVjLm5vZGVzYCBhbmQgYHNwZWMubWFya3NgIFtwcm9wZXJ0aWVzXSgjbW9kZWwuU2NoZW1hLnNwZWMpLlxuZXhwb3J0IGNvbnN0IHNjaGVtYSA9IG5ldyBTY2hlbWEoe25vZGVzLCBtYXJrc30pXG4iLCJpbXBvcnQgeyBidWxsZXRMaXN0LCBsaXN0SXRlbSwgb3JkZXJlZExpc3QgfSBmcm9tICdwcm9zZW1pcnJvci1zY2hlbWEtbGlzdCc7XG5pbXBvcnQgeyBtYXJrcyB9IGZyb20gJ3Byb3NlbWlycm9yLXNjaGVtYS1iYXNpYyc7XG5pbXBvcnQgT3JkZXJlZE1hcCBmcm9tICdvcmRlcmVkbWFwJztcblxuaW1wb3J0IHtcbiAgRE9NT3V0cHV0U3BlY0FycmF5LFxuICBOb2RlU3BlYyxcbiAgU2NoZW1hLFxufSBmcm9tICdwcm9zZW1pcnJvci1tb2RlbCc7XG5cbmNvbnN0IEVESVRPUl9DTFMgPSAnc24tZWRpdG9yJztcblxuY29uc3QgZG9jU3BlYzogTm9kZVNwZWMgPSB7XG4gIGNvbnRlbnQ6ICdibG9jaysnLFxuICB0b0RPTShub2RlKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdtYWluJyxcbiAgICAgIHsgJ2NsYXNzJzogRURJVE9SX0NMUyB9LFxuICAgICAgMCxcbiAgICBdO1xuICB9LFxuICBwYXJzZURPTTogW1xuICAgIHtcbiAgICAgIHRhZzogJ21haW4nLFxuICAgIH0sXG4gIF0sXG59O1xuXG5jb25zdCBoZWFkaW5nMVNwZWM6IE5vZGVTcGVjID0ge1xuICBjb250ZW50OiAnaW5saW5lKicsXG4gIGRlZmluaW5nOiB0cnVlLFxuICBncm91cDogJ2Jsb2NrJyxcbiAgdG9ET00obm9kZSkge1xuICAgIHJldHVybiBbXG4gICAgICAnaDEnLFxuICAgICAgeyAnY2xhc3MnOiBFRElUT1JfQ0xTIH0sXG4gICAgICAwLFxuICAgIF07XG4gIH0sXG4gIHBhcnNlRE9NOiBbXG4gICAge1xuICAgICAgdGFnOiAnaDEnLFxuICAgIH0sXG4gIF0sXG59O1xuXG5jb25zdCBoZWFkaW5nMlNwZWM6IE5vZGVTcGVjID0ge1xuICBjb250ZW50OiAnaW5saW5lKicsXG4gIGRlZmluaW5nOiB0cnVlLFxuICBncm91cDogJ2Jsb2NrJyxcbiAgdG9ET00obm9kZSkge1xuICAgIHJldHVybiBbXG4gICAgICAnaDInLFxuICAgICAgeyAnY2xhc3MnOiBFRElUT1JfQ0xTIH0sXG4gICAgICAwXG4gICAgXTtcbiAgfSxcbiAgcGFyc2VET006IFt7IHRhZzogJ2gyJyB9XSxcbn07XG5cbmNvbnN0IHBhcmFncmFwaFNwZWM6IE5vZGVTcGVjID0ge1xuICBjb250ZW50OiAnaW5saW5lKicsXG4gIGdyb3VwOiAnYmxvY2snLFxuICBtYXJrczogJ18nLFxuICB0b0RPTShub2RlKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdwJyxcbiAgICAgIHsgJ2NsYXNzJzogRURJVE9SX0NMUyB9LFxuICAgICAgMCxcbiAgICBdO1xuICB9LFxuICBwYXJzZURPTTogW3sgdGFnOiAncCcgfV0sXG59O1xuXG5jb25zdCBjaGVja2xpc3RJdGVtU3BlYzogTm9kZVNwZWMgPSB7XG4gIGF0dHJzOiB7XG4gICAgY2hlY2tlZDoge1xuICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgfSxcbiAgfSxcbiAgY29udGVudDogJ2lubGluZSonLFxuICBkZWZpbmluZzogdHJ1ZSxcbiAgZ3JvdXA6ICdibG9jaycsXG4gIG1hcmtzOiAnXycsXG4gIHRvRE9NKG5vZGUpIHtcbiAgICByZXR1cm4gW1xuICAgICAgJ2RpdicsXG4gICAgICB7ICdjbGFzcyc6ICdjaGVja2xpc3QtaXRlbScgfSxcbiAgICAgIFtcbiAgICAgICAgJ2lucHV0JyxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgLi4uKG5vZGUuYXR0cnMuY2hlY2tlZCAmJiB7IGNoZWNrZWQ6ICd0cnVlJyB9KSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdwJyxcbiAgICAgICAgMFxuICAgICAgXSxcbiAgICBdO1xuICB9LFxuICBwYXJzZURPTTogW3tcbiAgICBjb250ZW50RWxlbWVudDogJ3AnLFxuICAgIHRhZzogJ2Rpdi5jaGVja2xpc3QtaXRlbScsXG4gICAgZ2V0QXR0cnMobm9kZSkge1xuICAgICAgLy8gV2lsbCBiZSB0eXBlIE5vZGUgd2hlbiBwYXJzZURPTSBzdXBwbGllcyBhICd0YWcnIHJ1bGVcbiAgICAgIGNvbnN0IGlucHV0ID0gKG5vZGUgYXMgSFRNTEVsZW1lbnQpLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjaGVja2VkOiAhIShpbnB1dCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkLFxuICAgICAgfTtcbiAgICB9LFxuICB9XSxcbn07XG5cbmNvbnN0IHRleHRTcGVjOiBOb2RlU3BlYyA9IHtcbiAgZ3JvdXA6ICdpbmxpbmUnLFxufTtcblxuY29uc3Qgc3BlYyA9IHtcbiAgbm9kZXM6IHtcbiAgICBkb2M6IGRvY1NwZWMsXG4gICAgLy8gT3JkZXIgbWF0dGVycyBoZXJlLiBwbSBhcHBhcmVudGx5IGluc2VydHMgdGhlIGZpcnN0IHZhbGlkIG5vZGUgb24gZW50ZXIuXG4gICAgcGFyYWdyYXBoOiBwYXJhZ3JhcGhTcGVjLFxuICAgIGNoZWNrbGlzdF9pdGVtOiBjaGVja2xpc3RJdGVtU3BlYyxcbiAgICB1bm9yZGVyZWRfbGlzdDoge1xuICAgICAgLi4uYnVsbGV0TGlzdCxcbiAgICAgIGNvbnRlbnQ6ICdsaXN0X2l0ZW0rJyxcbiAgICAgIGdyb3VwOiAnYmxvY2snLFxuICAgIH0sXG4gICAgb3JkZXJlZF9saXN0OiB7XG4gICAgICAuLi5vcmRlcmVkTGlzdCxcbiAgICAgIGNvbnRlbnQ6ICdsaXN0X2l0ZW0rJyxcbiAgICAgIGdyb3VwOiAnYmxvY2snLFxuICAgIH0sXG4gICAgbGlzdF9pdGVtOiB7XG4gICAgICAuLi5saXN0SXRlbSxcbiAgICAgIGNvbnRlbnQ6ICdwYXJhZ3JhcGgrJyxcbiAgICB9LFxuICAgIGhlYWRpbmcxOiBoZWFkaW5nMVNwZWMsXG4gICAgaGVhZGluZzI6IGhlYWRpbmcyU3BlYyxcbiAgICB0ZXh0OiB0ZXh0U3BlYyxcbiAgfSxcbiAgbWFya3M6IHtcbiAgICBsaW5rOiB7XG4gICAgICAuLi5tYXJrcy5saW5rLFxuICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICB9LFxuICAgIGVtOiB7XG4gICAgICAuLi5tYXJrcy5lbSxcbiAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgfSxcbiAgICBzdHJvbmc6IHtcbiAgICAgIC4uLm1hcmtzLnN0cm9uZyxcbiAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgfSxcbiAgICBjb2RlOiB7XG4gICAgICAuLi5tYXJrcy5jb2RlLFxuICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICB9LFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IHNjaGVtYSA9IG5ldyBTY2hlbWEoc3BlYyk7XG4iLCJpbXBvcnQge1xuICBpbnB1dFJ1bGVzLFxuICBzbWFydFF1b3RlcyxcbiAgZWxsaXBzaXMsXG4gIHRleHRibG9ja1R5cGVJbnB1dFJ1bGUsXG4gIElucHV0UnVsZSxcbn0gZnJvbSAncHJvc2VtaXJyb3ItaW5wdXRydWxlcyc7XG5pbXBvcnQgeyBQbHVnaW4sIFNlbGVjdGlvbiB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJztcbmltcG9ydCB7IE1hcmtUeXBlLCBOb2RlVHlwZSB9IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJztcbmltcG9ydCB7IHNjaGVtYSB9IGZyb20gJy4vc2NoZW1hJztcblxuZnVuY3Rpb24gbWFya1dyYXBwaW5nUnVsZShjOiBzdHJpbmcsIG1hcmtUeXBlOiBNYXJrVHlwZSkge1xuICByZXR1cm4gbmV3IElucHV0UnVsZShuZXcgUmVnRXhwKGAke2N9KC4qPykke2N9YCksIChzdGF0ZSwgbWF0Y2gsIHN0YXJ0LCBlbmQpID0+IHtcbiAgICBjb25zdCBbXywgdGV4dF0gPSBtYXRjaDtcbiAgICBjb25zdCB7IHRyIH0gPSBzdGF0ZTtcbiAgICBpZiAoIXRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBleGlzdGluZ01hcmtzID0gc3RhdGUuZG9jLnJlc29sdmUoc3RhcnQpLm1hcmtzQWNyb3NzKHN0YXRlLmRvYy5yZXNvbHZlKGVuZCkpO1xuICAgIHJldHVybiB0ci5yZXBsYWNlUmFuZ2VXaXRoKHN0YXJ0LCBlbmQsIHNjaGVtYS50ZXh0KHRleHQsIFtcbiAgICAgIC4uLmV4aXN0aW5nTWFya3MsXG4gICAgICBtYXJrVHlwZS5jcmVhdGUoKSxcbiAgICBdKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsaXN0VHlwZVJ1bGUocHJlZml4OiBzdHJpbmcsIGxpc3RUeXBlOiBOb2RlVHlwZSk6IElucHV0UnVsZSB7XG4gIHJldHVybiBuZXcgSW5wdXRSdWxlKG5ldyBSZWdFeHAoYF4ke3ByZWZpeH1gKSwgKHN0YXRlLCBtYXRjaCwgc3RhcnQsIGVuZCkgPT4ge1xuICAgIGNvbnN0IHsgJGZyb20gfSA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgICBpZiAoJGZyb20uZGVwdGggPiAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyB0ciB9ID0gc3RhdGU7XG4gICAgdHIucmVwbGFjZVJhbmdlV2l0aChzdGFydCwgZW5kLCBsaXN0VHlwZS5jcmVhdGVBbmRGaWxsKCkpXG4gICAgdHIuc2V0U2VsZWN0aW9uKFNlbGVjdGlvbi5uZWFyKHRyLmRvYy5yZXNvbHZlKHN0YXJ0KSkpO1xuICAgIHJldHVybiB0cjtcbiAgfSk7XG59XG5cbmV4cG9ydCBjb25zdCBpbnB1dFJ1bGVzUGx1Z2luID0gaW5wdXRSdWxlcyh7XG4gIHJ1bGVzOiBbXG4gICAgLi4uc21hcnRRdW90ZXMsXG4gICAgZWxsaXBzaXMsXG4gICAgdGV4dGJsb2NrVHlwZUlucHV0UnVsZSgvXiMgLywgc2NoZW1hLm5vZGVzLmhlYWRpbmcyKSxcbiAgICBtYXJrV3JhcHBpbmdSdWxlKCdgJywgc2NoZW1hLm1hcmtzLmNvZGUpLFxuICAgIG1hcmtXcmFwcGluZ1J1bGUoJ1xcXFwqXFxcXConLCBzY2hlbWEubWFya3Muc3Ryb25nKSxcbiAgICBtYXJrV3JhcHBpbmdSdWxlKCdcXFxcKicsIHNjaGVtYS5tYXJrcy5lbSksXG4gICAgbGlzdFR5cGVSdWxlKCcxLiAnLCBzY2hlbWEubm9kZXMub3JkZXJlZF9saXN0KSxcbiAgICBsaXN0VHlwZVJ1bGUoJy0gJywgc2NoZW1hLm5vZGVzLnVub3JkZXJlZF9saXN0KSxcbiAgXSxcbn0pO1xuIiwiaW1wb3J0IHtJbnB1dFJ1bGV9IGZyb20gXCIuL2lucHV0cnVsZXNcIlxuaW1wb3J0IHtmaW5kV3JhcHBpbmcsIGNhbkpvaW59IGZyb20gXCJwcm9zZW1pcnJvci10cmFuc2Zvcm1cIlxuXG4vLyA6OiAoUmVnRXhwLCBOb2RlVHlwZSwgP3VuaW9uPE9iamVjdCwgKFtzdHJpbmddKSDihpIgP09iamVjdD4sID8oW3N0cmluZ10sIE5vZGUpIOKGkiBib29sKSDihpIgSW5wdXRSdWxlXG4vLyBCdWlsZCBhbiBpbnB1dCBydWxlIGZvciBhdXRvbWF0aWNhbGx5IHdyYXBwaW5nIGEgdGV4dGJsb2NrIHdoZW4gYVxuLy8gZ2l2ZW4gc3RyaW5nIGlzIHR5cGVkLiBUaGUgYHJlZ2V4cGAgYXJndW1lbnQgaXNcbi8vIGRpcmVjdGx5IHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBgSW5wdXRSdWxlYCBjb25zdHJ1Y3Rvci4gWW91J2xsXG4vLyBwcm9iYWJseSB3YW50IHRoZSByZWdleHAgdG8gc3RhcnQgd2l0aCBgXmAsIHNvIHRoYXQgdGhlIHBhdHRlcm4gY2FuXG4vLyBvbmx5IG9jY3VyIGF0IHRoZSBzdGFydCBvZiBhIHRleHRibG9jay5cbi8vXG4vLyBgbm9kZVR5cGVgIGlzIHRoZSB0eXBlIG9mIG5vZGUgdG8gd3JhcCBpbi4gSWYgaXQgbmVlZHMgYXR0cmlidXRlcyxcbi8vIHlvdSBjYW4gZWl0aGVyIHBhc3MgdGhlbSBkaXJlY3RseSwgb3IgcGFzcyBhIGZ1bmN0aW9uIHRoYXQgd2lsbFxuLy8gY29tcHV0ZSB0aGVtIGZyb20gdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXRjaC5cbi8vXG4vLyBCeSBkZWZhdWx0LCBpZiB0aGVyZSdzIGEgbm9kZSB3aXRoIHRoZSBzYW1lIHR5cGUgYWJvdmUgdGhlIG5ld2x5XG4vLyB3cmFwcGVkIG5vZGUsIHRoZSBydWxlIHdpbGwgdHJ5IHRvIFtqb2luXSgjdHJhbnNmb3JtLlRyYW5zZm9ybS5qb2luKSB0aG9zZVxuLy8gdHdvIG5vZGVzLiBZb3UgY2FuIHBhc3MgYSBqb2luIHByZWRpY2F0ZSwgd2hpY2ggdGFrZXMgYSByZWd1bGFyXG4vLyBleHByZXNzaW9uIG1hdGNoIGFuZCB0aGUgbm9kZSBiZWZvcmUgdGhlIHdyYXBwZWQgbm9kZSwgYW5kIGNhblxuLy8gcmV0dXJuIGEgYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIGEgam9pbiBzaG91bGQgaGFwcGVuLlxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBwaW5nSW5wdXRSdWxlKHJlZ2V4cCwgbm9kZVR5cGUsIGdldEF0dHJzLCBqb2luUHJlZGljYXRlKSB7XG4gIHJldHVybiBuZXcgSW5wdXRSdWxlKHJlZ2V4cCwgKHN0YXRlLCBtYXRjaCwgc3RhcnQsIGVuZCkgPT4ge1xuICAgIGxldCBhdHRycyA9IGdldEF0dHJzIGluc3RhbmNlb2YgRnVuY3Rpb24gPyBnZXRBdHRycyhtYXRjaCkgOiBnZXRBdHRyc1xuICAgIGxldCB0ciA9IHN0YXRlLnRyLmRlbGV0ZShzdGFydCwgZW5kKVxuICAgIGxldCAkc3RhcnQgPSB0ci5kb2MucmVzb2x2ZShzdGFydCksIHJhbmdlID0gJHN0YXJ0LmJsb2NrUmFuZ2UoKSwgd3JhcHBpbmcgPSByYW5nZSAmJiBmaW5kV3JhcHBpbmcocmFuZ2UsIG5vZGVUeXBlLCBhdHRycylcbiAgICBpZiAoIXdyYXBwaW5nKSByZXR1cm4gbnVsbFxuICAgIHRyLndyYXAocmFuZ2UsIHdyYXBwaW5nKVxuICAgIGxldCBiZWZvcmUgPSB0ci5kb2MucmVzb2x2ZShzdGFydCAtIDEpLm5vZGVCZWZvcmVcbiAgICBpZiAoYmVmb3JlICYmIGJlZm9yZS50eXBlID09IG5vZGVUeXBlICYmIGNhbkpvaW4odHIuZG9jLCBzdGFydCAtIDEpICYmXG4gICAgICAgICgham9pblByZWRpY2F0ZSB8fCBqb2luUHJlZGljYXRlKG1hdGNoLCBiZWZvcmUpKSlcbiAgICAgIHRyLmpvaW4oc3RhcnQgLSAxKVxuICAgIHJldHVybiB0clxuICB9KVxufVxuXG4vLyA6OiAoUmVnRXhwLCBOb2RlVHlwZSwgP3VuaW9uPE9iamVjdCwgKFtzdHJpbmddKSDihpIgP09iamVjdD4pIOKGkiBJbnB1dFJ1bGVcbi8vIEJ1aWxkIGFuIGlucHV0IHJ1bGUgdGhhdCBjaGFuZ2VzIHRoZSB0eXBlIG9mIGEgdGV4dGJsb2NrIHdoZW4gdGhlXG4vLyBtYXRjaGVkIHRleHQgaXMgdHlwZWQgaW50byBpdC4gWW91J2xsIHVzdWFsbHkgd2FudCB0byBzdGFydCB5b3VyXG4vLyByZWdleHAgd2l0aCBgXmAgdG8gdGhhdCBpdCBpcyBvbmx5IG1hdGNoZWQgYXQgdGhlIHN0YXJ0IG9mIGFcbi8vIHRleHRibG9jay4gVGhlIG9wdGlvbmFsIGBnZXRBdHRyc2AgcGFyYW1ldGVyIGNhbiBiZSB1c2VkIHRvIGNvbXB1dGVcbi8vIHRoZSBuZXcgbm9kZSdzIGF0dHJpYnV0ZXMsIGFuZCB3b3JrcyB0aGUgc2FtZSBhcyBpbiB0aGVcbi8vIGB3cmFwcGluZ0lucHV0UnVsZWAgZnVuY3Rpb24uXG5leHBvcnQgZnVuY3Rpb24gdGV4dGJsb2NrVHlwZUlucHV0UnVsZShyZWdleHAsIG5vZGVUeXBlLCBnZXRBdHRycykge1xuICByZXR1cm4gbmV3IElucHV0UnVsZShyZWdleHAsIChzdGF0ZSwgbWF0Y2gsIHN0YXJ0LCBlbmQpID0+IHtcbiAgICBsZXQgJHN0YXJ0ID0gc3RhdGUuZG9jLnJlc29sdmUoc3RhcnQpXG4gICAgbGV0IGF0dHJzID0gZ2V0QXR0cnMgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGdldEF0dHJzKG1hdGNoKSA6IGdldEF0dHJzXG4gICAgaWYgKCEkc3RhcnQubm9kZSgtMSkuY2FuUmVwbGFjZVdpdGgoJHN0YXJ0LmluZGV4KC0xKSwgJHN0YXJ0LmluZGV4QWZ0ZXIoLTEpLCBub2RlVHlwZSkpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIHN0YXRlLnRyXG4gICAgICAuZGVsZXRlKHN0YXJ0LCBlbmQpXG4gICAgICAuc2V0QmxvY2tUeXBlKHN0YXJ0LCBzdGFydCwgbm9kZVR5cGUsIGF0dHJzKVxuICB9KVxufVxuIiwiaW1wb3J0IHtqb2luUG9pbnQsIGNhbkpvaW4sIGZpbmRXcmFwcGluZywgbGlmdFRhcmdldCwgY2FuU3BsaXQsIFJlcGxhY2VBcm91bmRTdGVwfSBmcm9tIFwicHJvc2VtaXJyb3ItdHJhbnNmb3JtXCJcbmltcG9ydCB7U2xpY2UsIEZyYWdtZW50fSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuaW1wb3J0IHtTZWxlY3Rpb24sIFRleHRTZWxlY3Rpb24sIE5vZGVTZWxlY3Rpb24sIEFsbFNlbGVjdGlvbn0gZnJvbSBcInByb3NlbWlycm9yLXN0YXRlXCJcblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBEZWxldGUgdGhlIHNlbGVjdGlvbiwgaWYgdGhlcmUgaXMgb25lLlxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVNlbGVjdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgaWYgKHN0YXRlLnNlbGVjdGlvbi5lbXB0eSkgcmV0dXJuIGZhbHNlXG4gIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIuZGVsZXRlU2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbiksID9FZGl0b3JWaWV3KSDihpIgYm9vbFxuLy8gSWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSBhbmQgYXQgdGhlIHN0YXJ0IG9mIGEgdGV4dGJsb2NrLCB0cnkgdG9cbi8vIHJlZHVjZSB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGF0IGJsb2NrIGFuZCB0aGUgb25lIGJlZm9yZSBpdOKAlGlmXG4vLyB0aGVyZSdzIGEgYmxvY2sgZGlyZWN0bHkgYmVmb3JlIGl0IHRoYXQgY2FuIGJlIGpvaW5lZCwgam9pbiB0aGVtLlxuLy8gSWYgbm90LCB0cnkgdG8gbW92ZSB0aGUgc2VsZWN0ZWQgYmxvY2sgY2xvc2VyIHRvIHRoZSBuZXh0IG9uZSBpblxuLy8gdGhlIGRvY3VtZW50IHN0cnVjdHVyZSBieSBsaWZ0aW5nIGl0IG91dCBvZiBpdHMgcGFyZW50IG9yIG1vdmluZyBpdFxuLy8gaW50byBhIHBhcmVudCBvZiB0aGUgcHJldmlvdXMgYmxvY2suIFdpbGwgdXNlIHRoZSB2aWV3IGZvciBhY2N1cmF0ZVxuLy8gKGJpZGktYXdhcmUpIHN0YXJ0LW9mLXRleHRibG9jayBkZXRlY3Rpb24gaWYgZ2l2ZW4uXG5leHBvcnQgZnVuY3Rpb24gam9pbkJhY2t3YXJkKHN0YXRlLCBkaXNwYXRjaCwgdmlldykge1xuICBsZXQgeyRjdXJzb3J9ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGlmICghJGN1cnNvciB8fCAodmlldyA/ICF2aWV3LmVuZE9mVGV4dGJsb2NrKFwiYmFja3dhcmRcIiwgc3RhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICRjdXJzb3IucGFyZW50T2Zmc2V0ID4gMCkpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgbGV0ICRjdXQgPSBmaW5kQ3V0QmVmb3JlKCRjdXJzb3IpXG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gbm9kZSBiZWZvcmUgdGhpcywgdHJ5IHRvIGxpZnRcbiAgaWYgKCEkY3V0KSB7XG4gICAgbGV0IHJhbmdlID0gJGN1cnNvci5ibG9ja1JhbmdlKCksIHRhcmdldCA9IHJhbmdlICYmIGxpZnRUYXJnZXQocmFuZ2UpXG4gICAgaWYgKHRhcmdldCA9PSBudWxsKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLmxpZnQocmFuZ2UsIHRhcmdldCkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgbGV0IGJlZm9yZSA9ICRjdXQubm9kZUJlZm9yZVxuICAvLyBBcHBseSB0aGUgam9pbmluZyBhbGdvcml0aG1cbiAgaWYgKCFiZWZvcmUudHlwZS5zcGVjLmlzb2xhdGluZyAmJiBkZWxldGVCYXJyaWVyKHN0YXRlLCAkY3V0LCBkaXNwYXRjaCkpXG4gICAgcmV0dXJuIHRydWVcblxuICAvLyBJZiB0aGUgbm9kZSBiZWxvdyBoYXMgbm8gY29udGVudCBhbmQgdGhlIG5vZGUgYWJvdmUgaXNcbiAgLy8gc2VsZWN0YWJsZSwgZGVsZXRlIHRoZSBub2RlIGJlbG93IGFuZCBzZWxlY3QgdGhlIG9uZSBhYm92ZS5cbiAgaWYgKCRjdXJzb3IucGFyZW50LmNvbnRlbnQuc2l6ZSA9PSAwICYmXG4gICAgICAodGV4dGJsb2NrQXQoYmVmb3JlLCBcImVuZFwiKSB8fCBOb2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShiZWZvcmUpKSkge1xuICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgbGV0IHRyID0gc3RhdGUudHIuZGVsZXRlUmFuZ2UoJGN1cnNvci5iZWZvcmUoKSwgJGN1cnNvci5hZnRlcigpKVxuICAgICAgdHIuc2V0U2VsZWN0aW9uKHRleHRibG9ja0F0KGJlZm9yZSwgXCJlbmRcIikgPyBTZWxlY3Rpb24uZmluZEZyb20odHIuZG9jLnJlc29sdmUodHIubWFwcGluZy5tYXAoJGN1dC5wb3MsIC0xKSksIC0xKVxuICAgICAgICAgICAgICAgICAgICAgIDogTm9kZVNlbGVjdGlvbi5jcmVhdGUodHIuZG9jLCAkY3V0LnBvcyAtIGJlZm9yZS5ub2RlU2l6ZSkpXG4gICAgICBkaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gSWYgdGhlIG5vZGUgYmVmb3JlIGlzIGFuIGF0b20sIGRlbGV0ZSBpdFxuICBpZiAoYmVmb3JlLmlzQXRvbSAmJiAkY3V0LmRlcHRoID09ICRjdXJzb3IuZGVwdGggLSAxKSB7XG4gICAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5kZWxldGUoJGN1dC5wb3MgLSBiZWZvcmUubm9kZVNpemUsICRjdXQucG9zKS5zY3JvbGxJbnRvVmlldygpKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gdGV4dGJsb2NrQXQobm9kZSwgc2lkZSkge1xuICBmb3IgKDsgbm9kZTsgbm9kZSA9IChzaWRlID09IFwic3RhcnRcIiA/IG5vZGUuZmlyc3RDaGlsZCA6IG5vZGUubGFzdENoaWxkKSlcbiAgICBpZiAobm9kZS5pc1RleHRibG9jaykgcmV0dXJuIHRydWVcbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pLCA/RWRpdG9yVmlldykg4oaSIGJvb2xcbi8vIFdoZW4gdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSBhbmQgYXQgdGhlIHN0YXJ0IG9mIGEgdGV4dGJsb2NrLCBzZWxlY3Rcbi8vIHRoZSBub2RlIGJlZm9yZSB0aGF0IHRleHRibG9jaywgaWYgcG9zc2libGUuIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmVcbi8vIGJvdW5kIHRvIGtleXMgbGlrZSBiYWNrc3BhY2UsIGFmdGVyXG4vLyBbYGpvaW5CYWNrd2FyZGBdKCNjb21tYW5kcy5qb2luQmFja3dhcmQpIG9yIG90aGVyIGRlbGV0aW5nXG4vLyBjb21tYW5kcywgYXMgYSBmYWxsLWJhY2sgYmVoYXZpb3Igd2hlbiB0aGUgc2NoZW1hIGRvZXNuJ3QgYWxsb3dcbi8vIGRlbGV0aW9uIGF0IHRoZSBzZWxlY3RlZCBwb2ludC5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3ROb2RlQmFja3dhcmQoc3RhdGUsIGRpc3BhdGNoLCB2aWV3KSB7XG4gIGxldCB7JGN1cnNvcn0gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKCEkY3Vyc29yIHx8ICh2aWV3ID8gIXZpZXcuZW5kT2ZUZXh0YmxvY2soXCJiYWNrd2FyZFwiLCBzdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJGN1cnNvci5wYXJlbnRPZmZzZXQgPiAwKSlcbiAgICByZXR1cm4gZmFsc2VcblxuICBsZXQgJGN1dCA9IGZpbmRDdXRCZWZvcmUoJGN1cnNvciksIG5vZGUgPSAkY3V0ICYmICRjdXQubm9kZUJlZm9yZVxuICBpZiAoIW5vZGUgfHwgIU5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5vZGUpKSByZXR1cm4gZmFsc2VcbiAgaWYgKGRpc3BhdGNoKVxuICAgIGRpc3BhdGNoKHN0YXRlLnRyLnNldFNlbGVjdGlvbihOb2RlU2VsZWN0aW9uLmNyZWF0ZShzdGF0ZS5kb2MsICRjdXQucG9zIC0gbm9kZS5ub2RlU2l6ZSkpLnNjcm9sbEludG9WaWV3KCkpXG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGZpbmRDdXRCZWZvcmUoJHBvcykge1xuICBpZiAoISRwb3MucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpIGZvciAobGV0IGkgPSAkcG9zLmRlcHRoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoJHBvcy5pbmRleChpKSA+IDApIHJldHVybiAkcG9zLmRvYy5yZXNvbHZlKCRwb3MuYmVmb3JlKGkgKyAxKSlcbiAgICBpZiAoJHBvcy5ub2RlKGkpLnR5cGUuc3BlYy5pc29sYXRpbmcpIGJyZWFrXG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbiksID9FZGl0b3JWaWV3KSDihpIgYm9vbFxuLy8gSWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSBhbmQgdGhlIGN1cnNvciBpcyBhdCB0aGUgZW5kIG9mIGFcbi8vIHRleHRibG9jaywgdHJ5IHRvIHJlZHVjZSBvciByZW1vdmUgdGhlIGJvdW5kYXJ5IGJldHdlZW4gdGhhdCBibG9ja1xuLy8gYW5kIHRoZSBvbmUgYWZ0ZXIgaXQsIGVpdGhlciBieSBqb2luaW5nIHRoZW0gb3IgYnkgbW92aW5nIHRoZSBvdGhlclxuLy8gYmxvY2sgY2xvc2VyIHRvIHRoaXMgb25lIGluIHRoZSB0cmVlIHN0cnVjdHVyZS4gV2lsbCB1c2UgdGhlIHZpZXdcbi8vIGZvciBhY2N1cmF0ZSBzdGFydC1vZi10ZXh0YmxvY2sgZGV0ZWN0aW9uIGlmIGdpdmVuLlxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5Gb3J3YXJkKHN0YXRlLCBkaXNwYXRjaCwgdmlldykge1xuICBsZXQgeyRjdXJzb3J9ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGlmICghJGN1cnNvciB8fCAodmlldyA/ICF2aWV3LmVuZE9mVGV4dGJsb2NrKFwiZm9yd2FyZFwiLCBzdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJGN1cnNvci5wYXJlbnRPZmZzZXQgPCAkY3Vyc29yLnBhcmVudC5jb250ZW50LnNpemUpKVxuICAgIHJldHVybiBmYWxzZVxuXG4gIGxldCAkY3V0ID0gZmluZEN1dEFmdGVyKCRjdXJzb3IpXG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gbm9kZSBhZnRlciB0aGlzLCB0aGVyZSdzIG5vdGhpbmcgdG8gZG9cbiAgaWYgKCEkY3V0KSByZXR1cm4gZmFsc2VcblxuICBsZXQgYWZ0ZXIgPSAkY3V0Lm5vZGVBZnRlclxuICAvLyBUcnkgdGhlIGpvaW5pbmcgYWxnb3JpdGhtXG4gIGlmIChkZWxldGVCYXJyaWVyKHN0YXRlLCAkY3V0LCBkaXNwYXRjaCkpIHJldHVybiB0cnVlXG5cbiAgLy8gSWYgdGhlIG5vZGUgYWJvdmUgaGFzIG5vIGNvbnRlbnQgYW5kIHRoZSBub2RlIGJlbG93IGlzXG4gIC8vIHNlbGVjdGFibGUsIGRlbGV0ZSB0aGUgbm9kZSBhYm92ZSBhbmQgc2VsZWN0IHRoZSBvbmUgYmVsb3cuXG4gIGlmICgkY3Vyc29yLnBhcmVudC5jb250ZW50LnNpemUgPT0gMCAmJlxuICAgICAgKHRleHRibG9ja0F0KGFmdGVyLCBcInN0YXJ0XCIpIHx8IE5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKGFmdGVyKSkpIHtcbiAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgIGxldCB0ciA9IHN0YXRlLnRyLmRlbGV0ZVJhbmdlKCRjdXJzb3IuYmVmb3JlKCksICRjdXJzb3IuYWZ0ZXIoKSlcbiAgICAgIHRyLnNldFNlbGVjdGlvbih0ZXh0YmxvY2tBdChhZnRlciwgXCJzdGFydFwiKSA/IFNlbGVjdGlvbi5maW5kRnJvbSh0ci5kb2MucmVzb2x2ZSh0ci5tYXBwaW5nLm1hcCgkY3V0LnBvcykpLCAxKVxuICAgICAgICAgICAgICAgICAgICAgIDogTm9kZVNlbGVjdGlvbi5jcmVhdGUodHIuZG9jLCB0ci5tYXBwaW5nLm1hcCgkY3V0LnBvcykpKVxuICAgICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIElmIHRoZSBuZXh0IG5vZGUgaXMgYW4gYXRvbSwgZGVsZXRlIGl0XG4gIGlmIChhZnRlci5pc0F0b20gJiYgJGN1dC5kZXB0aCA9PSAkY3Vyc29yLmRlcHRoIC0gMSkge1xuICAgIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIuZGVsZXRlKCRjdXQucG9zLCAkY3V0LnBvcyArIGFmdGVyLm5vZGVTaXplKS5zY3JvbGxJbnRvVmlldygpKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbiksID9FZGl0b3JWaWV3KSDihpIgYm9vbFxuLy8gV2hlbiB0aGUgc2VsZWN0aW9uIGlzIGVtcHR5IGFuZCBhdCB0aGUgZW5kIG9mIGEgdGV4dGJsb2NrLCBzZWxlY3Rcbi8vIHRoZSBub2RlIGNvbWluZyBhZnRlciB0aGF0IHRleHRibG9jaywgaWYgcG9zc2libGUuIFRoaXMgaXMgaW50ZW5kZWRcbi8vIHRvIGJlIGJvdW5kIHRvIGtleXMgbGlrZSBkZWxldGUsIGFmdGVyXG4vLyBbYGpvaW5Gb3J3YXJkYF0oI2NvbW1hbmRzLmpvaW5Gb3J3YXJkKSBhbmQgc2ltaWxhciBkZWxldGluZ1xuLy8gY29tbWFuZHMsIHRvIHByb3ZpZGUgYSBmYWxsLWJhY2sgYmVoYXZpb3Igd2hlbiB0aGUgc2NoZW1hIGRvZXNuJ3Rcbi8vIGFsbG93IGRlbGV0aW9uIGF0IHRoZSBzZWxlY3RlZCBwb2ludC5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3ROb2RlRm9yd2FyZChzdGF0ZSwgZGlzcGF0Y2gsIHZpZXcpIHtcbiAgbGV0IHskY3Vyc29yfSA9IHN0YXRlLnNlbGVjdGlvblxuICBpZiAoISRjdXJzb3IgfHwgKHZpZXcgPyAhdmlldy5lbmRPZlRleHRibG9jayhcImZvcndhcmRcIiwgc3RhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICRjdXJzb3IucGFyZW50T2Zmc2V0IDwgJGN1cnNvci5wYXJlbnQuY29udGVudC5zaXplKSlcbiAgICByZXR1cm4gZmFsc2VcblxuICBsZXQgJGN1dCA9IGZpbmRDdXRBZnRlcigkY3Vyc29yKSwgbm9kZSA9ICRjdXQgJiYgJGN1dC5ub2RlQWZ0ZXJcbiAgaWYgKCFub2RlIHx8ICFOb2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShub2RlKSkgcmV0dXJuIGZhbHNlXG4gIGlmIChkaXNwYXRjaClcbiAgICBkaXNwYXRjaChzdGF0ZS50ci5zZXRTZWxlY3Rpb24oTm9kZVNlbGVjdGlvbi5jcmVhdGUoc3RhdGUuZG9jLCAkY3V0LnBvcykpLnNjcm9sbEludG9WaWV3KCkpXG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGZpbmRDdXRBZnRlcigkcG9zKSB7XG4gIGlmICghJHBvcy5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZykgZm9yIChsZXQgaSA9ICRwb3MuZGVwdGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGxldCBwYXJlbnQgPSAkcG9zLm5vZGUoaSlcbiAgICBpZiAoJHBvcy5pbmRleChpKSArIDEgPCBwYXJlbnQuY2hpbGRDb3VudCkgcmV0dXJuICRwb3MuZG9jLnJlc29sdmUoJHBvcy5hZnRlcihpICsgMSkpXG4gICAgaWYgKHBhcmVudC50eXBlLnNwZWMuaXNvbGF0aW5nKSBicmVha1xuICB9XG4gIHJldHVybiBudWxsXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gSm9pbiB0aGUgc2VsZWN0ZWQgYmxvY2sgb3IsIGlmIHRoZXJlIGlzIGEgdGV4dCBzZWxlY3Rpb24sIHRoZVxuLy8gY2xvc2VzdCBhbmNlc3RvciBibG9jayBvZiB0aGUgc2VsZWN0aW9uIHRoYXQgY2FuIGJlIGpvaW5lZCwgd2l0aFxuLy8gdGhlIHNpYmxpbmcgYWJvdmUgaXQuXG5leHBvcnQgZnVuY3Rpb24gam9pblVwKHN0YXRlLCBkaXNwYXRjaCkge1xuICBsZXQgc2VsID0gc3RhdGUuc2VsZWN0aW9uLCBub2RlU2VsID0gc2VsIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbiwgcG9pbnRcbiAgaWYgKG5vZGVTZWwpIHtcbiAgICBpZiAoc2VsLm5vZGUuaXNUZXh0YmxvY2sgfHwgIWNhbkpvaW4oc3RhdGUuZG9jLCBzZWwuZnJvbSkpIHJldHVybiBmYWxzZVxuICAgIHBvaW50ID0gc2VsLmZyb21cbiAgfSBlbHNlIHtcbiAgICBwb2ludCA9IGpvaW5Qb2ludChzdGF0ZS5kb2MsIHNlbC5mcm9tLCAtMSlcbiAgICBpZiAocG9pbnQgPT0gbnVsbCkgcmV0dXJuIGZhbHNlXG4gIH1cbiAgaWYgKGRpc3BhdGNoKSB7XG4gICAgbGV0IHRyID0gc3RhdGUudHIuam9pbihwb2ludClcbiAgICBpZiAobm9kZVNlbCkgdHIuc2V0U2VsZWN0aW9uKE5vZGVTZWxlY3Rpb24uY3JlYXRlKHRyLmRvYywgcG9pbnQgLSBzdGF0ZS5kb2MucmVzb2x2ZShwb2ludCkubm9kZUJlZm9yZS5ub2RlU2l6ZSkpXG4gICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIEpvaW4gdGhlIHNlbGVjdGVkIGJsb2NrLCBvciB0aGUgY2xvc2VzdCBhbmNlc3RvciBvZiB0aGUgc2VsZWN0aW9uXG4vLyB0aGF0IGNhbiBiZSBqb2luZWQsIHdpdGggdGhlIHNpYmxpbmcgYWZ0ZXIgaXQuXG5leHBvcnQgZnVuY3Rpb24gam9pbkRvd24oc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGxldCBzZWwgPSBzdGF0ZS5zZWxlY3Rpb24sIHBvaW50XG4gIGlmIChzZWwgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uKSB7XG4gICAgaWYgKHNlbC5ub2RlLmlzVGV4dGJsb2NrIHx8ICFjYW5Kb2luKHN0YXRlLmRvYywgc2VsLnRvKSkgcmV0dXJuIGZhbHNlXG4gICAgcG9pbnQgPSBzZWwudG9cbiAgfSBlbHNlIHtcbiAgICBwb2ludCA9IGpvaW5Qb2ludChzdGF0ZS5kb2MsIHNlbC50bywgMSlcbiAgICBpZiAocG9pbnQgPT0gbnVsbCkgcmV0dXJuIGZhbHNlXG4gIH1cbiAgaWYgKGRpc3BhdGNoKVxuICAgIGRpc3BhdGNoKHN0YXRlLnRyLmpvaW4ocG9pbnQpLnNjcm9sbEludG9WaWV3KCkpXG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gTGlmdCB0aGUgc2VsZWN0ZWQgYmxvY2ssIG9yIHRoZSBjbG9zZXN0IGFuY2VzdG9yIGJsb2NrIG9mIHRoZVxuLy8gc2VsZWN0aW9uIHRoYXQgY2FuIGJlIGxpZnRlZCwgb3V0IG9mIGl0cyBwYXJlbnQgbm9kZS5cbmV4cG9ydCBmdW5jdGlvbiBsaWZ0KHN0YXRlLCBkaXNwYXRjaCkge1xuICBsZXQgeyRmcm9tLCAkdG99ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGxldCByYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoJHRvKSwgdGFyZ2V0ID0gcmFuZ2UgJiYgbGlmdFRhcmdldChyYW5nZSlcbiAgaWYgKHRhcmdldCA9PSBudWxsKSByZXR1cm4gZmFsc2VcbiAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5saWZ0KHJhbmdlLCB0YXJnZXQpLnNjcm9sbEludG9WaWV3KCkpXG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gSWYgdGhlIHNlbGVjdGlvbiBpcyBpbiBhIG5vZGUgd2hvc2UgdHlwZSBoYXMgYSB0cnV0aHlcbi8vIFtgY29kZWBdKCNtb2RlbC5Ob2RlU3BlYy5jb2RlKSBwcm9wZXJ0eSBpbiBpdHMgc3BlYywgcmVwbGFjZSB0aGVcbi8vIHNlbGVjdGlvbiB3aXRoIGEgbmV3bGluZSBjaGFyYWN0ZXIuXG5leHBvcnQgZnVuY3Rpb24gbmV3bGluZUluQ29kZShzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgbGV0IHskaGVhZCwgJGFuY2hvcn0gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKCEkaGVhZC5wYXJlbnQudHlwZS5zcGVjLmNvZGUgfHwgISRoZWFkLnNhbWVQYXJlbnQoJGFuY2hvcikpIHJldHVybiBmYWxzZVxuICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLmluc2VydFRleHQoXCJcXG5cIikuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEJsb2NrQXQobWF0Y2gpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRjaC5lZGdlQ291bnQ7IGkrKykge1xuICAgIGxldCB7dHlwZX0gPSBtYXRjaC5lZGdlKGkpXG4gICAgaWYgKHR5cGUuaXNUZXh0YmxvY2sgJiYgIXR5cGUuaGFzUmVxdWlyZWRBdHRycygpKSByZXR1cm4gdHlwZVxuICB9XG4gIHJldHVybiBudWxsXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gV2hlbiB0aGUgc2VsZWN0aW9uIGlzIGluIGEgbm9kZSB3aXRoIGEgdHJ1dGh5XG4vLyBbYGNvZGVgXSgjbW9kZWwuTm9kZVNwZWMuY29kZSkgcHJvcGVydHkgaW4gaXRzIHNwZWMsIGNyZWF0ZSBhXG4vLyBkZWZhdWx0IGJsb2NrIGFmdGVyIHRoZSBjb2RlIGJsb2NrLCBhbmQgbW92ZSB0aGUgY3Vyc29yIHRoZXJlLlxuZXhwb3J0IGZ1bmN0aW9uIGV4aXRDb2RlKHN0YXRlLCBkaXNwYXRjaCkge1xuICBsZXQgeyRoZWFkLCAkYW5jaG9yfSA9IHN0YXRlLnNlbGVjdGlvblxuICBpZiAoISRoZWFkLnBhcmVudC50eXBlLnNwZWMuY29kZSB8fCAhJGhlYWQuc2FtZVBhcmVudCgkYW5jaG9yKSkgcmV0dXJuIGZhbHNlXG4gIGxldCBhYm92ZSA9ICRoZWFkLm5vZGUoLTEpLCBhZnRlciA9ICRoZWFkLmluZGV4QWZ0ZXIoLTEpLCB0eXBlID0gZGVmYXVsdEJsb2NrQXQoYWJvdmUuY29udGVudE1hdGNoQXQoYWZ0ZXIpKVxuICBpZiAoIWFib3ZlLmNhblJlcGxhY2VXaXRoKGFmdGVyLCBhZnRlciwgdHlwZSkpIHJldHVybiBmYWxzZVxuICBpZiAoZGlzcGF0Y2gpIHtcbiAgICBsZXQgcG9zID0gJGhlYWQuYWZ0ZXIoKSwgdHIgPSBzdGF0ZS50ci5yZXBsYWNlV2l0aChwb3MsIHBvcywgdHlwZS5jcmVhdGVBbmRGaWxsKCkpXG4gICAgdHIuc2V0U2VsZWN0aW9uKFNlbGVjdGlvbi5uZWFyKHRyLmRvYy5yZXNvbHZlKHBvcyksIDEpKVxuICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBJZiBhIGJsb2NrIG5vZGUgaXMgc2VsZWN0ZWQsIGNyZWF0ZSBhbiBlbXB0eSBwYXJhZ3JhcGggYmVmb3JlIChpZlxuLy8gaXQgaXMgaXRzIHBhcmVudCdzIGZpcnN0IGNoaWxkKSBvciBhZnRlciBpdC5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYXJhZ3JhcGhOZWFyKHN0YXRlLCBkaXNwYXRjaCkge1xuICBsZXQgeyRmcm9tLCAkdG99ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGlmICgkZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudCB8fCAkdG8ucGFyZW50LmlubGluZUNvbnRlbnQpIHJldHVybiBmYWxzZVxuICBsZXQgdHlwZSA9IGRlZmF1bHRCbG9ja0F0KCRmcm9tLnBhcmVudC5jb250ZW50TWF0Y2hBdCgkdG8uaW5kZXhBZnRlcigpKSlcbiAgaWYgKCF0eXBlIHx8ICF0eXBlLmlzVGV4dGJsb2NrKSByZXR1cm4gZmFsc2VcbiAgaWYgKGRpc3BhdGNoKSB7XG4gICAgbGV0IHNpZGUgPSAoISRmcm9tLnBhcmVudE9mZnNldCAmJiAkdG8uaW5kZXgoKSA8ICR0by5wYXJlbnQuY2hpbGRDb3VudCA/ICRmcm9tIDogJHRvKS5wb3NcbiAgICBsZXQgdHIgPSBzdGF0ZS50ci5pbnNlcnQoc2lkZSwgdHlwZS5jcmVhdGVBbmRGaWxsKCkpXG4gICAgdHIuc2V0U2VsZWN0aW9uKFRleHRTZWxlY3Rpb24uY3JlYXRlKHRyLmRvYywgc2lkZSArIDEpKVxuICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBJZiB0aGUgY3Vyc29yIGlzIGluIGFuIGVtcHR5IHRleHRibG9jayB0aGF0IGNhbiBiZSBsaWZ0ZWQsIGxpZnQgdGhlXG4vLyBibG9jay5cbmV4cG9ydCBmdW5jdGlvbiBsaWZ0RW1wdHlCbG9jayhzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgbGV0IHskY3Vyc29yfSA9IHN0YXRlLnNlbGVjdGlvblxuICBpZiAoISRjdXJzb3IgfHwgJGN1cnNvci5wYXJlbnQuY29udGVudC5zaXplKSByZXR1cm4gZmFsc2VcbiAgaWYgKCRjdXJzb3IuZGVwdGggPiAxICYmICRjdXJzb3IuYWZ0ZXIoKSAhPSAkY3Vyc29yLmVuZCgtMSkpIHtcbiAgICBsZXQgYmVmb3JlID0gJGN1cnNvci5iZWZvcmUoKVxuICAgIGlmIChjYW5TcGxpdChzdGF0ZS5kb2MsIGJlZm9yZSkpIHtcbiAgICAgIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIuc3BsaXQoYmVmb3JlKS5zY3JvbGxJbnRvVmlldygpKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgbGV0IHJhbmdlID0gJGN1cnNvci5ibG9ja1JhbmdlKCksIHRhcmdldCA9IHJhbmdlICYmIGxpZnRUYXJnZXQocmFuZ2UpXG4gIGlmICh0YXJnZXQgPT0gbnVsbCkgcmV0dXJuIGZhbHNlXG4gIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIubGlmdChyYW5nZSwgdGFyZ2V0KS5zY3JvbGxJbnRvVmlldygpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIFNwbGl0IHRoZSBwYXJlbnQgYmxvY2sgb2YgdGhlIHNlbGVjdGlvbi4gSWYgdGhlIHNlbGVjdGlvbiBpcyBhIHRleHRcbi8vIHNlbGVjdGlvbiwgYWxzbyBkZWxldGUgaXRzIGNvbnRlbnQuXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRCbG9jayhzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgbGV0IHskZnJvbSwgJHRvfSA9IHN0YXRlLnNlbGVjdGlvblxuICBpZiAoc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbiAmJiBzdGF0ZS5zZWxlY3Rpb24ubm9kZS5pc0Jsb2NrKSB7XG4gICAgaWYgKCEkZnJvbS5wYXJlbnRPZmZzZXQgfHwgIWNhblNwbGl0KHN0YXRlLmRvYywgJGZyb20ucG9zKSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5zcGxpdCgkZnJvbS5wb3MpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGlmICghJGZyb20ucGFyZW50LmlzQmxvY2spIHJldHVybiBmYWxzZVxuXG4gIGlmIChkaXNwYXRjaCkge1xuICAgIGxldCBhdEVuZCA9ICR0by5wYXJlbnRPZmZzZXQgPT0gJHRvLnBhcmVudC5jb250ZW50LnNpemVcbiAgICBsZXQgdHIgPSBzdGF0ZS50clxuICAgIGlmIChzdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uKSB0ci5kZWxldGVTZWxlY3Rpb24oKVxuICAgIGxldCBkZWZsdCA9ICRmcm9tLmRlcHRoID09IDAgPyBudWxsIDogZGVmYXVsdEJsb2NrQXQoJGZyb20ubm9kZSgtMSkuY29udGVudE1hdGNoQXQoJGZyb20uaW5kZXhBZnRlcigtMSkpKVxuICAgIGxldCB0eXBlcyA9IGF0RW5kICYmIGRlZmx0ID8gW3t0eXBlOiBkZWZsdH1dIDogbnVsbFxuICAgIGxldCBjYW4gPSBjYW5TcGxpdCh0ci5kb2MsIHRyLm1hcHBpbmcubWFwKCRmcm9tLnBvcyksIDEsIHR5cGVzKVxuICAgIGlmICghdHlwZXMgJiYgIWNhbiAmJiBjYW5TcGxpdCh0ci5kb2MsIHRyLm1hcHBpbmcubWFwKCRmcm9tLnBvcyksIDEsIGRlZmx0ICYmIFt7dHlwZTogZGVmbHR9XSkpIHtcbiAgICAgIHR5cGVzID0gW3t0eXBlOiBkZWZsdH1dXG4gICAgICBjYW4gPSB0cnVlXG4gICAgfVxuICAgIGlmIChjYW4pIHtcbiAgICAgIHRyLnNwbGl0KHRyLm1hcHBpbmcubWFwKCRmcm9tLnBvcyksIDEsIHR5cGVzKVxuICAgICAgaWYgKCFhdEVuZCAmJiAhJGZyb20ucGFyZW50T2Zmc2V0ICYmICRmcm9tLnBhcmVudC50eXBlICE9IGRlZmx0ICYmXG4gICAgICAgICAgJGZyb20ubm9kZSgtMSkuY2FuUmVwbGFjZSgkZnJvbS5pbmRleCgtMSksICRmcm9tLmluZGV4QWZ0ZXIoLTEpLCBGcmFnbWVudC5mcm9tKGRlZmx0LmNyZWF0ZSgpLCAkZnJvbS5wYXJlbnQpKSlcbiAgICAgICAgdHIuc2V0Tm9kZU1hcmt1cCh0ci5tYXBwaW5nLm1hcCgkZnJvbS5iZWZvcmUoKSksIGRlZmx0KVxuICAgIH1cbiAgICBkaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gQWN0cyBsaWtlIFtgc3BsaXRCbG9ja2BdKCNjb21tYW5kcy5zcGxpdEJsb2NrKSwgYnV0IHdpdGhvdXRcbi8vIHJlc2V0dGluZyB0aGUgc2V0IG9mIGFjdGl2ZSBtYXJrcyBhdCB0aGUgY3Vyc29yLlxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0QmxvY2tLZWVwTWFya3Moc3RhdGUsIGRpc3BhdGNoKSB7XG4gIHJldHVybiBzcGxpdEJsb2NrKHN0YXRlLCBkaXNwYXRjaCAmJiAodHIgPT4ge1xuICAgIGxldCBtYXJrcyA9IHN0YXRlLnN0b3JlZE1hcmtzIHx8IChzdGF0ZS5zZWxlY3Rpb24uJHRvLnBhcmVudE9mZnNldCAmJiBzdGF0ZS5zZWxlY3Rpb24uJGZyb20ubWFya3MoKSlcbiAgICBpZiAobWFya3MpIHRyLmVuc3VyZU1hcmtzKG1hcmtzKVxuICAgIGRpc3BhdGNoKHRyKVxuICB9KSlcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBNb3ZlIHRoZSBzZWxlY3Rpb24gdG8gdGhlIG5vZGUgd3JhcHBpbmcgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLCBpZlxuLy8gYW55LiAoV2lsbCBub3Qgc2VsZWN0IHRoZSBkb2N1bWVudCBub2RlLilcbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RQYXJlbnROb2RlKHN0YXRlLCBkaXNwYXRjaCkge1xuICBsZXQgeyRmcm9tLCB0b30gPSBzdGF0ZS5zZWxlY3Rpb24sIHBvc1xuICBsZXQgc2FtZSA9ICRmcm9tLnNoYXJlZERlcHRoKHRvKVxuICBpZiAoc2FtZSA9PSAwKSByZXR1cm4gZmFsc2VcbiAgcG9zID0gJGZyb20uYmVmb3JlKHNhbWUpXG4gIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIuc2V0U2VsZWN0aW9uKE5vZGVTZWxlY3Rpb24uY3JlYXRlKHN0YXRlLmRvYywgcG9zKSkpXG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gU2VsZWN0IHRoZSB3aG9sZSBkb2N1bWVudC5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RBbGwoc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIuc2V0U2VsZWN0aW9uKG5ldyBBbGxTZWxlY3Rpb24oc3RhdGUuZG9jKSkpXG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGpvaW5NYXliZUNsZWFyKHN0YXRlLCAkcG9zLCBkaXNwYXRjaCkge1xuICBsZXQgYmVmb3JlID0gJHBvcy5ub2RlQmVmb3JlLCBhZnRlciA9ICRwb3Mubm9kZUFmdGVyLCBpbmRleCA9ICRwb3MuaW5kZXgoKVxuICBpZiAoIWJlZm9yZSB8fCAhYWZ0ZXIgfHwgIWJlZm9yZS50eXBlLmNvbXBhdGlibGVDb250ZW50KGFmdGVyLnR5cGUpKSByZXR1cm4gZmFsc2VcbiAgaWYgKCFiZWZvcmUuY29udGVudC5zaXplICYmICRwb3MucGFyZW50LmNhblJlcGxhY2UoaW5kZXggLSAxLCBpbmRleCkpIHtcbiAgICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLmRlbGV0ZSgkcG9zLnBvcyAtIGJlZm9yZS5ub2RlU2l6ZSwgJHBvcy5wb3MpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBpZiAoISRwb3MucGFyZW50LmNhblJlcGxhY2UoaW5kZXgsIGluZGV4ICsgMSkgfHwgIShhZnRlci5pc1RleHRibG9jayB8fCBjYW5Kb2luKHN0YXRlLmRvYywgJHBvcy5wb3MpKSlcbiAgICByZXR1cm4gZmFsc2VcbiAgaWYgKGRpc3BhdGNoKVxuICAgIGRpc3BhdGNoKHN0YXRlLnRyXG4gICAgICAgICAgICAgLmNsZWFySW5jb21wYXRpYmxlKCRwb3MucG9zLCBiZWZvcmUudHlwZSwgYmVmb3JlLmNvbnRlbnRNYXRjaEF0KGJlZm9yZS5jaGlsZENvdW50KSlcbiAgICAgICAgICAgICAuam9pbigkcG9zLnBvcylcbiAgICAgICAgICAgICAuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gZGVsZXRlQmFycmllcihzdGF0ZSwgJGN1dCwgZGlzcGF0Y2gpIHtcbiAgbGV0IGJlZm9yZSA9ICRjdXQubm9kZUJlZm9yZSwgYWZ0ZXIgPSAkY3V0Lm5vZGVBZnRlciwgY29ubiwgbWF0Y2hcbiAgaWYgKGJlZm9yZS50eXBlLnNwZWMuaXNvbGF0aW5nIHx8IGFmdGVyLnR5cGUuc3BlYy5pc29sYXRpbmcpIHJldHVybiBmYWxzZVxuICBpZiAoam9pbk1heWJlQ2xlYXIoc3RhdGUsICRjdXQsIGRpc3BhdGNoKSkgcmV0dXJuIHRydWVcblxuICBpZiAoJGN1dC5wYXJlbnQuY2FuUmVwbGFjZSgkY3V0LmluZGV4KCksICRjdXQuaW5kZXgoKSArIDEpICYmXG4gICAgICAoY29ubiA9IChtYXRjaCA9IGJlZm9yZS5jb250ZW50TWF0Y2hBdChiZWZvcmUuY2hpbGRDb3VudCkpLmZpbmRXcmFwcGluZyhhZnRlci50eXBlKSkgJiZcbiAgICAgIG1hdGNoLm1hdGNoVHlwZShjb25uWzBdIHx8IGFmdGVyLnR5cGUpLnZhbGlkRW5kKSB7XG4gICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICBsZXQgZW5kID0gJGN1dC5wb3MgKyBhZnRlci5ub2RlU2l6ZSwgd3JhcCA9IEZyYWdtZW50LmVtcHR5XG4gICAgICBmb3IgKGxldCBpID0gY29ubi5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgd3JhcCA9IEZyYWdtZW50LmZyb20oY29ubltpXS5jcmVhdGUobnVsbCwgd3JhcCkpXG4gICAgICB3cmFwID0gRnJhZ21lbnQuZnJvbShiZWZvcmUuY29weSh3cmFwKSlcbiAgICAgIGxldCB0ciA9IHN0YXRlLnRyLnN0ZXAobmV3IFJlcGxhY2VBcm91bmRTdGVwKCRjdXQucG9zIC0gMSwgZW5kLCAkY3V0LnBvcywgZW5kLCBuZXcgU2xpY2Uod3JhcCwgMSwgMCksIGNvbm4ubGVuZ3RoLCB0cnVlKSlcbiAgICAgIGxldCBqb2luQXQgPSBlbmQgKyAyICogY29ubi5sZW5ndGhcbiAgICAgIGlmIChjYW5Kb2luKHRyLmRvYywgam9pbkF0KSkgdHIuam9pbihqb2luQXQpXG4gICAgICBkaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgbGV0IHNlbEFmdGVyID0gU2VsZWN0aW9uLmZpbmRGcm9tKCRjdXQsIDEpXG4gIGxldCByYW5nZSA9IHNlbEFmdGVyICYmIHNlbEFmdGVyLiRmcm9tLmJsb2NrUmFuZ2Uoc2VsQWZ0ZXIuJHRvKSwgdGFyZ2V0ID0gcmFuZ2UgJiYgbGlmdFRhcmdldChyYW5nZSlcbiAgaWYgKHRhcmdldCAhPSBudWxsICYmIHRhcmdldCA+PSAkY3V0LmRlcHRoKSB7XG4gICAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5saWZ0KHJhbmdlLCB0YXJnZXQpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyBQYXJhbWV0ZXJpemVkIGNvbW1hbmRzXG5cbi8vIDo6IChOb2RlVHlwZSwgP09iamVjdCkg4oaSIChzdGF0ZTogRWRpdG9yU3RhdGUsIGRpc3BhdGNoOiA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBXcmFwIHRoZSBzZWxlY3Rpb24gaW4gYSBub2RlIG9mIHRoZSBnaXZlbiB0eXBlIHdpdGggdGhlIGdpdmVuXG4vLyBhdHRyaWJ1dGVzLlxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBJbihub2RlVHlwZSwgYXR0cnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlLCBkaXNwYXRjaCkge1xuICAgIGxldCB7JGZyb20sICR0b30gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgICBsZXQgcmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0byksIHdyYXBwaW5nID0gcmFuZ2UgJiYgZmluZFdyYXBwaW5nKHJhbmdlLCBub2RlVHlwZSwgYXR0cnMpXG4gICAgaWYgKCF3cmFwcGluZykgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci53cmFwKHJhbmdlLCB3cmFwcGluZykuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbi8vIDo6IChOb2RlVHlwZSwgP09iamVjdCkg4oaSIChzdGF0ZTogRWRpdG9yU3RhdGUsIGRpc3BhdGNoOiA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBSZXR1cm5zIGEgY29tbWFuZCB0aGF0IHRyaWVzIHRvIHNldCB0aGUgc2VsZWN0ZWQgdGV4dGJsb2NrcyB0byB0aGVcbi8vIGdpdmVuIG5vZGUgdHlwZSB3aXRoIHRoZSBnaXZlbiBhdHRyaWJ1dGVzLlxuZXhwb3J0IGZ1bmN0aW9uIHNldEJsb2NrVHlwZShub2RlVHlwZSwgYXR0cnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlLCBkaXNwYXRjaCkge1xuICAgIGxldCB7ZnJvbSwgdG99ID0gc3RhdGUuc2VsZWN0aW9uXG4gICAgbGV0IGFwcGxpY2FibGUgPSBmYWxzZVxuICAgIHN0YXRlLmRvYy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIChub2RlLCBwb3MpID0+IHtcbiAgICAgIGlmIChhcHBsaWNhYmxlKSByZXR1cm4gZmFsc2VcbiAgICAgIGlmICghbm9kZS5pc1RleHRibG9jayB8fCBub2RlLmhhc01hcmt1cChub2RlVHlwZSwgYXR0cnMpKSByZXR1cm5cbiAgICAgIGlmIChub2RlLnR5cGUgPT0gbm9kZVR5cGUpIHtcbiAgICAgICAgYXBwbGljYWJsZSA9IHRydWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCAkcG9zID0gc3RhdGUuZG9jLnJlc29sdmUocG9zKSwgaW5kZXggPSAkcG9zLmluZGV4KClcbiAgICAgICAgYXBwbGljYWJsZSA9ICRwb3MucGFyZW50LmNhblJlcGxhY2VXaXRoKGluZGV4LCBpbmRleCArIDEsIG5vZGVUeXBlKVxuICAgICAgfVxuICAgIH0pXG4gICAgaWYgKCFhcHBsaWNhYmxlKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLnNldEJsb2NrVHlwZShmcm9tLCB0bywgbm9kZVR5cGUsIGF0dHJzKS5zY3JvbGxJbnRvVmlldygpKVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuZnVuY3Rpb24gbWFya0FwcGxpZXMoZG9jLCByYW5nZXMsIHR5cGUpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgeyRmcm9tLCAkdG99ID0gcmFuZ2VzW2ldXG4gICAgbGV0IGNhbiA9ICRmcm9tLmRlcHRoID09IDAgPyBkb2MudHlwZS5hbGxvd3NNYXJrVHlwZSh0eXBlKSA6IGZhbHNlXG4gICAgZG9jLm5vZGVzQmV0d2VlbigkZnJvbS5wb3MsICR0by5wb3MsIG5vZGUgPT4ge1xuICAgICAgaWYgKGNhbikgcmV0dXJuIGZhbHNlXG4gICAgICBjYW4gPSBub2RlLmlubGluZUNvbnRlbnQgJiYgbm9kZS50eXBlLmFsbG93c01hcmtUeXBlKHR5cGUpXG4gICAgfSlcbiAgICBpZiAoY2FuKSByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyA6OiAoTWFya1R5cGUsID9PYmplY3QpIOKGkiAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaDogPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gQ3JlYXRlIGEgY29tbWFuZCBmdW5jdGlvbiB0aGF0IHRvZ2dsZXMgdGhlIGdpdmVuIG1hcmsgd2l0aCB0aGVcbi8vIGdpdmVuIGF0dHJpYnV0ZXMuIFdpbGwgcmV0dXJuIGBmYWxzZWAgd2hlbiB0aGUgY3VycmVudCBzZWxlY3Rpb25cbi8vIGRvZXNuJ3Qgc3VwcG9ydCB0aGF0IG1hcmsuIFRoaXMgd2lsbCByZW1vdmUgdGhlIG1hcmsgaWYgYW55IG1hcmtzXG4vLyBvZiB0aGF0IHR5cGUgZXhpc3QgaW4gdGhlIHNlbGVjdGlvbiwgb3IgYWRkIGl0IG90aGVyd2lzZS4gSWYgdGhlXG4vLyBzZWxlY3Rpb24gaXMgZW1wdHksIHRoaXMgYXBwbGllcyB0byB0aGUgW3N0b3JlZFxuLy8gbWFya3NdKCNzdGF0ZS5FZGl0b3JTdGF0ZS5zdG9yZWRNYXJrcykgaW5zdGVhZCBvZiBhIHJhbmdlIG9mIHRoZVxuLy8gZG9jdW1lbnQuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlTWFyayhtYXJrVHlwZSwgYXR0cnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlLCBkaXNwYXRjaCkge1xuICAgIGxldCB7ZW1wdHksICRjdXJzb3IsIHJhbmdlc30gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgICBpZiAoKGVtcHR5ICYmICEkY3Vyc29yKSB8fCAhbWFya0FwcGxpZXMoc3RhdGUuZG9jLCByYW5nZXMsIG1hcmtUeXBlKSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICBpZiAoJGN1cnNvcikge1xuICAgICAgICBpZiAobWFya1R5cGUuaXNJblNldChzdGF0ZS5zdG9yZWRNYXJrcyB8fCAkY3Vyc29yLm1hcmtzKCkpKVxuICAgICAgICAgIGRpc3BhdGNoKHN0YXRlLnRyLnJlbW92ZVN0b3JlZE1hcmsobWFya1R5cGUpKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgZGlzcGF0Y2goc3RhdGUudHIuYWRkU3RvcmVkTWFyayhtYXJrVHlwZS5jcmVhdGUoYXR0cnMpKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBoYXMgPSBmYWxzZSwgdHIgPSBzdGF0ZS50clxuICAgICAgICBmb3IgKGxldCBpID0gMDsgIWhhcyAmJiBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IHskZnJvbSwgJHRvfSA9IHJhbmdlc1tpXVxuICAgICAgICAgIGhhcyA9IHN0YXRlLmRvYy5yYW5nZUhhc01hcmsoJGZyb20ucG9zLCAkdG8ucG9zLCBtYXJrVHlwZSlcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCB7JGZyb20sICR0b30gPSByYW5nZXNbaV1cbiAgICAgICAgICBpZiAoaGFzKSB0ci5yZW1vdmVNYXJrKCRmcm9tLnBvcywgJHRvLnBvcywgbWFya1R5cGUpXG4gICAgICAgICAgZWxzZSB0ci5hZGRNYXJrKCRmcm9tLnBvcywgJHRvLnBvcywgbWFya1R5cGUuY3JlYXRlKGF0dHJzKSlcbiAgICAgICAgfVxuICAgICAgICBkaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIHdyYXBEaXNwYXRjaEZvckpvaW4oZGlzcGF0Y2gsIGlzSm9pbmFibGUpIHtcbiAgcmV0dXJuIHRyID0+IHtcbiAgICBpZiAoIXRyLmlzR2VuZXJpYykgcmV0dXJuIGRpc3BhdGNoKHRyKVxuXG4gICAgbGV0IHJhbmdlcyA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ci5tYXBwaW5nLm1hcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBtYXAgPSB0ci5tYXBwaW5nLm1hcHNbaV1cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmFuZ2VzLmxlbmd0aDsgaisrKVxuICAgICAgICByYW5nZXNbal0gPSBtYXAubWFwKHJhbmdlc1tqXSlcbiAgICAgIG1hcC5mb3JFYWNoKChfcywgX2UsIGZyb20sIHRvKSA9PiByYW5nZXMucHVzaChmcm9tLCB0bykpXG4gICAgfVxuXG4gICAgLy8gRmlndXJlIG91dCB3aGljaCBqb2luYWJsZSBwb2ludHMgZXhpc3QgaW5zaWRlIHRob3NlIHJhbmdlcyxcbiAgICAvLyBieSBjaGVja2luZyBhbGwgbm9kZSBib3VuZGFyaWVzIGluIHRoZWlyIHBhcmVudCBub2Rlcy5cbiAgICBsZXQgam9pbmFibGUgPSBbXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBsZXQgZnJvbSA9IHJhbmdlc1tpXSwgdG8gPSByYW5nZXNbaSArIDFdXG4gICAgICBsZXQgJGZyb20gPSB0ci5kb2MucmVzb2x2ZShmcm9tKSwgZGVwdGggPSAkZnJvbS5zaGFyZWREZXB0aCh0byksIHBhcmVudCA9ICRmcm9tLm5vZGUoZGVwdGgpXG4gICAgICBmb3IgKGxldCBpbmRleCA9ICRmcm9tLmluZGV4QWZ0ZXIoZGVwdGgpLCBwb3MgPSAkZnJvbS5hZnRlcihkZXB0aCArIDEpOyBwb3MgPD0gdG87ICsraW5kZXgpIHtcbiAgICAgICAgbGV0IGFmdGVyID0gcGFyZW50Lm1heWJlQ2hpbGQoaW5kZXgpXG4gICAgICAgIGlmICghYWZ0ZXIpIGJyZWFrXG4gICAgICAgIGlmIChpbmRleCAmJiBqb2luYWJsZS5pbmRleE9mKHBvcykgPT0gLTEpIHtcbiAgICAgICAgICBsZXQgYmVmb3JlID0gcGFyZW50LmNoaWxkKGluZGV4IC0gMSlcbiAgICAgICAgICBpZiAoYmVmb3JlLnR5cGUgPT0gYWZ0ZXIudHlwZSAmJiBpc0pvaW5hYmxlKGJlZm9yZSwgYWZ0ZXIpKVxuICAgICAgICAgICAgam9pbmFibGUucHVzaChwb3MpXG4gICAgICAgIH1cbiAgICAgICAgcG9zICs9IGFmdGVyLm5vZGVTaXplXG4gICAgICB9XG4gICAgfVxuICAgIC8vIEpvaW4gdGhlIGpvaW5hYmxlIHBvaW50c1xuICAgIGpvaW5hYmxlLnNvcnQoKGEsIGIpID0+IGEgLSBiKVxuICAgIGZvciAobGV0IGkgPSBqb2luYWJsZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKGNhbkpvaW4odHIuZG9jLCBqb2luYWJsZVtpXSkpIHRyLmpvaW4oam9pbmFibGVbaV0pXG4gICAgfVxuICAgIGRpc3BhdGNoKHRyKVxuICB9XG59XG5cbi8vIDo6ICgoc3RhdGU6IEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sLCB1bmlvbjwoYmVmb3JlOiBOb2RlLCBhZnRlcjogTm9kZSkg4oaSIGJvb2wsIFtzdHJpbmddPikg4oaSIChzdGF0ZTogRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIFdyYXAgYSBjb21tYW5kIHNvIHRoYXQsIHdoZW4gaXQgcHJvZHVjZXMgYSB0cmFuc2Zvcm0gdGhhdCBjYXVzZXNcbi8vIHR3byBqb2luYWJsZSBub2RlcyB0byBlbmQgdXAgbmV4dCB0byBlYWNoIG90aGVyLCB0aG9zZSBhcmUgam9pbmVkLlxuLy8gTm9kZXMgYXJlIGNvbnNpZGVyZWQgam9pbmFibGUgd2hlbiB0aGV5IGFyZSBvZiB0aGUgc2FtZSB0eXBlIGFuZFxuLy8gd2hlbiB0aGUgYGlzSm9pbmFibGVgIHByZWRpY2F0ZSByZXR1cm5zIHRydWUgZm9yIHRoZW0gb3IsIGlmIGFuXG4vLyBhcnJheSBvZiBzdHJpbmdzIHdhcyBwYXNzZWQsIGlmIHRoZWlyIG5vZGUgdHlwZSBuYW1lIGlzIGluIHRoYXRcbi8vIGFycmF5LlxuZXhwb3J0IGZ1bmN0aW9uIGF1dG9Kb2luKGNvbW1hbmQsIGlzSm9pbmFibGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoaXNKb2luYWJsZSkpIHtcbiAgICBsZXQgdHlwZXMgPSBpc0pvaW5hYmxlXG4gICAgaXNKb2luYWJsZSA9IG5vZGUgPT4gdHlwZXMuaW5kZXhPZihub2RlLnR5cGUubmFtZSkgPiAtMVxuICB9XG4gIHJldHVybiAoc3RhdGUsIGRpc3BhdGNoKSA9PiBjb21tYW5kKHN0YXRlLCBkaXNwYXRjaCAmJiB3cmFwRGlzcGF0Y2hGb3JKb2luKGRpc3BhdGNoLCBpc0pvaW5hYmxlKSlcbn1cblxuLy8gOjogKC4uLlsoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSwgP0VkaXRvclZpZXcpIOKGkiBib29sXSkg4oaSIChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pLCA/RWRpdG9yVmlldykg4oaSIGJvb2xcbi8vIENvbWJpbmUgYSBudW1iZXIgb2YgY29tbWFuZCBmdW5jdGlvbnMgaW50byBhIHNpbmdsZSBmdW5jdGlvbiAod2hpY2hcbi8vIGNhbGxzIHRoZW0gb25lIGJ5IG9uZSB1bnRpbCBvbmUgcmV0dXJucyB0cnVlKS5cbmV4cG9ydCBmdW5jdGlvbiBjaGFpbkNvbW1hbmRzKC4uLmNvbW1hbmRzKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gsIHZpZXcpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbW1hbmRzLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKGNvbW1hbmRzW2ldKHN0YXRlLCBkaXNwYXRjaCwgdmlldykpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxubGV0IGJhY2tzcGFjZSA9IGNoYWluQ29tbWFuZHMoZGVsZXRlU2VsZWN0aW9uLCBqb2luQmFja3dhcmQsIHNlbGVjdE5vZGVCYWNrd2FyZClcbmxldCBkZWwgPSBjaGFpbkNvbW1hbmRzKGRlbGV0ZVNlbGVjdGlvbiwgam9pbkZvcndhcmQsIHNlbGVjdE5vZGVGb3J3YXJkKVxuXG4vLyA6OiBPYmplY3Rcbi8vIEEgYmFzaWMga2V5bWFwIGNvbnRhaW5pbmcgYmluZGluZ3Mgbm90IHNwZWNpZmljIHRvIGFueSBzY2hlbWEuXG4vLyBCaW5kcyB0aGUgZm9sbG93aW5nIGtleXMgKHdoZW4gbXVsdGlwbGUgY29tbWFuZHMgYXJlIGxpc3RlZCwgdGhleVxuLy8gYXJlIGNoYWluZWQgd2l0aCBbYGNoYWluQ29tbWFuZHNgXSgjY29tbWFuZHMuY2hhaW5Db21tYW5kcykpOlxuLy9cbi8vICogKipFbnRlcioqIHRvIGBuZXdsaW5lSW5Db2RlYCwgYGNyZWF0ZVBhcmFncmFwaE5lYXJgLCBgbGlmdEVtcHR5QmxvY2tgLCBgc3BsaXRCbG9ja2Bcbi8vICogKipNb2QtRW50ZXIqKiB0byBgZXhpdENvZGVgXG4vLyAqICoqQmFja3NwYWNlKiogYW5kICoqTW9kLUJhY2tzcGFjZSoqIHRvIGBkZWxldGVTZWxlY3Rpb25gLCBgam9pbkJhY2t3YXJkYCwgYHNlbGVjdE5vZGVCYWNrd2FyZGBcbi8vICogKipEZWxldGUqKiBhbmQgKipNb2QtRGVsZXRlKiogdG8gYGRlbGV0ZVNlbGVjdGlvbmAsIGBqb2luRm9yd2FyZGAsIGBzZWxlY3ROb2RlRm9yd2FyZGBcbi8vICogKipNb2QtRGVsZXRlKiogdG8gYGRlbGV0ZVNlbGVjdGlvbmAsIGBqb2luRm9yd2FyZGAsIGBzZWxlY3ROb2RlRm9yd2FyZGBcbi8vICogKipNb2QtYSoqIHRvIGBzZWxlY3RBbGxgXG5leHBvcnQgbGV0IHBjQmFzZUtleW1hcCA9IHtcbiAgXCJFbnRlclwiOiBjaGFpbkNvbW1hbmRzKG5ld2xpbmVJbkNvZGUsIGNyZWF0ZVBhcmFncmFwaE5lYXIsIGxpZnRFbXB0eUJsb2NrLCBzcGxpdEJsb2NrKSxcbiAgXCJNb2QtRW50ZXJcIjogZXhpdENvZGUsXG4gIFwiQmFja3NwYWNlXCI6IGJhY2tzcGFjZSxcbiAgXCJNb2QtQmFja3NwYWNlXCI6IGJhY2tzcGFjZSxcbiAgXCJEZWxldGVcIjogZGVsLFxuICBcIk1vZC1EZWxldGVcIjogZGVsLFxuICBcIk1vZC1hXCI6IHNlbGVjdEFsbFxufVxuXG4vLyA6OiBPYmplY3Rcbi8vIEEgY29weSBvZiBgcGNCYXNlS2V5bWFwYCB0aGF0IGFsc28gYmluZHMgKipDdHJsLWgqKiBsaWtlIEJhY2tzcGFjZSxcbi8vICoqQ3RybC1kKiogbGlrZSBEZWxldGUsICoqQWx0LUJhY2tzcGFjZSoqIGxpa2UgQ3RybC1CYWNrc3BhY2UsIGFuZFxuLy8gKipDdHJsLUFsdC1CYWNrc3BhY2UqKiwgKipBbHQtRGVsZXRlKiosIGFuZCAqKkFsdC1kKiogbGlrZVxuLy8gQ3RybC1EZWxldGUuXG5leHBvcnQgbGV0IG1hY0Jhc2VLZXltYXAgPSB7XG4gIFwiQ3RybC1oXCI6IHBjQmFzZUtleW1hcFtcIkJhY2tzcGFjZVwiXSxcbiAgXCJBbHQtQmFja3NwYWNlXCI6IHBjQmFzZUtleW1hcFtcIk1vZC1CYWNrc3BhY2VcIl0sXG4gIFwiQ3RybC1kXCI6IHBjQmFzZUtleW1hcFtcIkRlbGV0ZVwiXSxcbiAgXCJDdHJsLUFsdC1CYWNrc3BhY2VcIjogcGNCYXNlS2V5bWFwW1wiTW9kLURlbGV0ZVwiXSxcbiAgXCJBbHQtRGVsZXRlXCI6IHBjQmFzZUtleW1hcFtcIk1vZC1EZWxldGVcIl0sXG4gIFwiQWx0LWRcIjogcGNCYXNlS2V5bWFwW1wiTW9kLURlbGV0ZVwiXVxufVxuZm9yIChsZXQga2V5IGluIHBjQmFzZUtleW1hcCkgbWFjQmFzZUtleW1hcFtrZXldID0gcGNCYXNlS2V5bWFwW2tleV1cblxuLy8gZGVjbGFyZSBnbG9iYWw6IG9zLCBuYXZpZ2F0b3JcbmNvbnN0IG1hYyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiA/IC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKVxuICAgICAgICAgIDogdHlwZW9mIG9zICE9IFwidW5kZWZpbmVkXCIgPyBvcy5wbGF0Zm9ybSgpID09IFwiZGFyd2luXCIgOiBmYWxzZVxuXG4vLyA6OiBPYmplY3Rcbi8vIERlcGVuZGluZyBvbiB0aGUgZGV0ZWN0ZWQgcGxhdGZvcm0sIHRoaXMgd2lsbCBob2xkXG4vLyBbYHBjQmFzZWtleW1hcGBdKCNjb21tYW5kcy5wY0Jhc2VLZXltYXApIG9yXG4vLyBbYG1hY0Jhc2VLZXltYXBgXSgjY29tbWFuZHMubWFjQmFzZUtleW1hcCkuXG5leHBvcnQgbGV0IGJhc2VLZXltYXAgPSBtYWMgPyBtYWNCYXNlS2V5bWFwIDogcGNCYXNlS2V5bWFwXG4iLCJpbXBvcnQge1xuICBQbHVnaW4sXG4gIEVkaXRvclN0YXRlLFxuICBTZWxlY3Rpb24sXG4gIFRleHRTZWxlY3Rpb24sXG4gIFRyYW5zYWN0aW9uLFxufSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSc7XG5pbXBvcnQgeyBFZGl0b3JWaWV3IH0gZnJvbSAncHJvc2VtaXJyb3Itdmlldyc7XG5pbXBvcnQgeyBsaWZ0TGlzdEl0ZW0sIHdyYXBJbkxpc3QgfSBmcm9tICdwcm9zZW1pcnJvci1zY2hlbWEtbGlzdCc7XG5pbXBvcnQge1xuICBNYXJrVHlwZSxcbiAgTm9kZVJhbmdlLFxuICBOb2RlVHlwZSxcbiAgUmVzb2x2ZWRQb3MsXG4gIFNjaGVtYSxcbn0gZnJvbSAncHJvc2VtaXJyb3ItbW9kZWwnO1xuaW1wb3J0IHsgZmluZFdyYXBwaW5nIH0gZnJvbSAncHJvc2VtaXJyb3ItdHJhbnNmb3JtJztcbmltcG9ydCB7IHVuZG8sIHJlZG8gfSBmcm9tICdwcm9zZW1pcnJvci1oaXN0b3J5JztcbmltcG9ydCB7IHRvZ2dsZU1hcmsgfSBmcm9tICdwcm9zZW1pcnJvci1jb21tYW5kcyc7XG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5pbXBvcnQge1xuICBjaGFpbkNvbW1hbmRzLFxuICBzZWxlY3RQYXJlbnROb2RlLFxuICBzZXRCbG9ja1R5cGUsXG4gIHdyYXBJbixcbn0gZnJvbSAncHJvc2VtaXJyb3ItY29tbWFuZHMnO1xuXG5jb25zdCBBUFBMWV9GT1JNQVRfQVRUUiA9ICdkYXRhLWZvcm1hdCc7XG5cbnR5cGUgQ29tbWFuZCA9IHR5cGVvZiBzZWxlY3RQYXJlbnROb2RlO1xuXG5jb25zdCB0b2dnbGVDaGVja2xpc3RJdGVtU3RhdGU6IENvbW1hbmQgPSBmdW5jdGlvbiAoXG4gIHN0YXRlOiBFZGl0b3JTdGF0ZSxcbiAgZGlzcGF0Y2g6IEVkaXRvclZpZXdbJ2Rpc3BhdGNoJ10sXG4pIHtcbiAgY29uc3QgeyAkZnJvbSwgJHRvIH0gPSBzdGF0ZS5zZWxlY3Rpb247XG5cbiAgY29uc3QgYmxvY2tSYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoJHRvKTtcblxuICBsZXQgaGFzQ2hlY2tlZCA9IGZhbHNlO1xuICBmb3IgKFxuICAgIGxldCBpbmRleCA9IGJsb2NrUmFuZ2Uuc3RhcnRJbmRleCwgY2hpbGQgPSBibG9ja1JhbmdlLnBhcmVudC5jaGlsZChpbmRleCk7XG4gICAgaW5kZXggPCBibG9ja1JhbmdlLmVuZEluZGV4O1xuICAgIGluZGV4ICs9IDFcbiAgKSB7XG4gICAgaWYgKGNoaWxkLnR5cGUgIT09IHNjaGVtYS5ub2Rlcy5jaGVja2xpc3RfaXRlbSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY2hpbGQuYXR0cnMuY2hlY2tlZCkge1xuICAgICAgaGFzQ2hlY2tlZCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoIWRpc3BhdGNoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBjb25zdCB7IHRyIH0gPSBzdGF0ZTtcbiAgZm9yIChcbiAgICBsZXQgaW5kZXggPSBibG9ja1JhbmdlLnN0YXJ0SW5kZXgsXG4gICAgICBjaGlsZCA9IGJsb2NrUmFuZ2UucGFyZW50LmNoaWxkKGluZGV4KSxcbiAgICAgIHBvcyA9IGJsb2NrUmFuZ2Uuc3RhcnQ7XG4gICAgaW5kZXggPCBibG9ja1JhbmdlLmVuZEluZGV4O1xuICAgIGluZGV4ICs9IDFcbiAgKSB7XG4gICAgdHIuc2V0Tm9kZU1hcmt1cChwb3MsIHVuZGVmaW5lZCwgeyBjaGVja2VkOiBoYXNDaGVja2VkID8gZmFsc2UgOiB0cnVlIH0pO1xuICAgIHBvcyArPSBjaGlsZC5ub2RlU2l6ZTtcbiAgfVxuXG4gIGRpc3BhdGNoKHRyKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG50eXBlIG1vZGFsQ29uZmlybUhhbmRsZXIgPSAocGFyYW1zOiB7IHRleHQ6IHN0cmluZzsgdXJsOiBzdHJpbmcgfSkgPT4gdm9pZDtcblxuZXhwb3J0IGNsYXNzIFRvb2xiYXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICBzdGF0aWMgTGlua01vZGFsID0gY2xhc3Mge1xuICAgIHByaXZhdGUgZWw6IEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSB0ZXh0OiBzdHJpbmc7XG4gICAgcHJpdmF0ZSB1cmw6IHN0cmluZztcbiAgICBwcml2YXRlIG9uQ29uZmlybTogbW9kYWxDb25maXJtSGFuZGxlcjtcbiAgICBwcml2YXRlIHNob3dDbHMgPSAnYWN0aXZlJztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgZWw6IEVsZW1lbnQsXG4gICAgICB7XG4gICAgICAgIG9uQ29uZmlybSxcbiAgICAgICAgdGV4dCxcbiAgICAgICAgdXJsLFxuICAgICAgfToge1xuICAgICAgICBvbkNvbmZpcm06IG1vZGFsQ29uZmlybUhhbmRsZXI7XG4gICAgICAgIHRleHQ6IHN0cmluZztcbiAgICAgICAgdXJsOiBzdHJpbmc7XG4gICAgICB9LFxuICAgICkge1xuICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgdGhpcy50ZXh0SW5wdXQudmFsdWUgPSB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgdGhpcy51cmxJbnB1dC52YWx1ZSA9IHRoaXMudXJsID0gdXJsO1xuICAgICAgdGhpcy51cmxPcGVuTGluay5ocmVmID0gdXJsO1xuICAgICAgdGhpcy5vbkNvbmZpcm0gPSBvbkNvbmZpcm07XG5cbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCh0aGlzLnNob3dDbHMpO1xuICAgICAgdGhpcy5jb25maXJtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDb25maXJtKTtcbiAgICAgIHRoaXMuY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDYW5jZWwpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlR2xvYmFsS2V5ZG93bik7XG4gICAgICB0aGlzLnVybElucHV0LmZvY3VzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVDb25maXJtID0gKCkgPT4ge1xuICAgICAgdGhpcy5vbkNvbmZpcm0oe1xuICAgICAgICB0ZXh0OiB0aGlzLnRleHRJbnB1dC52YWx1ZSxcbiAgICAgICAgdXJsOiB0aGlzLnVybElucHV0LnZhbHVlLFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIH07XG5cbiAgICBwcml2YXRlIGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIH07XG5cbiAgICBwcml2YXRlIGhhbmRsZUdsb2JhbEtleWRvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgY29uc3QgaXNFbnRlciA9IGUud2hpY2ggPT09IDEzO1xuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMudGV4dElucHV0IHx8IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMudXJsSW5wdXQgJiYgaXNFbnRlcikge1xuICAgICAgICB0aGlzLmhhbmRsZUNvbmZpcm0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaXNFc2MgPSBlLndoaWNoID09PSAyNztcbiAgICAgIGlmIChlLndoaWNoID09PSAyNykge1xuICAgICAgICB0aGlzLmhhbmRsZUNhbmNlbCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZGVzdHJveSA9ICgpID0+IHtcbiAgICAgIHRoaXMuY29uZmlybUJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ29uZmlybSk7XG4gICAgICB0aGlzLmNhbmNlbEJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2FuY2VsKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUdsb2JhbEtleWRvd24pO1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2hvd0Nscyk7XG4gICAgfTtcblxuICAgIGdldCB0ZXh0SW5wdXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCN0ZXh0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICB9XG5cbiAgICBnZXQgdXJsSW5wdXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCN1cmwnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIH1cblxuICAgIGdldCB1cmxPcGVuTGluaygpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj11cmxdIGEnKSBhcyBIVE1MQW5jaG9yRWxlbWVudDtcbiAgICB9XG5cbiAgICBnZXQgY29uZmlybUJ0bigpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiNjb25maXJtJyk7XG4gICAgfVxuXG4gICAgZ2V0IGNhbmNlbEJ0bigpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiNjYW5jZWwnKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSB2aWV3OiBFZGl0b3JWaWV3O1xuICBwcml2YXRlIG1vZGFsRWw6IEVsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBzd2FwVGV4dEJsb2NrID0gKG5vZGVUeXBlOiBOb2RlVHlwZSkgPT4ge1xuICAgIGxldCB7IGRpc3BhdGNoLCBzdGF0ZSB9ID0gdGhpcy52aWV3O1xuICAgIGxldCB7IHRyIH0gPSBzdGF0ZTtcbiAgICBjb25zdCB7ICRmcm9tLCAkdG8sIGZyb20sIHRvIH0gPSBzdGF0ZS5zZWxlY3Rpb247XG4gICAgaWYgKG5vZGVUeXBlICE9PSBzY2hlbWEubm9kZXMudW5vcmRlcmVkX2xpc3QpIHtcbiAgICAgIGxpZnRMaXN0SXRlbShzY2hlbWEubm9kZXMubGlzdF9pdGVtKShzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgIH1cbiAgICAoeyBkaXNwYXRjaCwgc3RhdGUgfSA9IHRoaXMudmlldyk7XG4gICAgKHsgdHIgfSA9IHN0YXRlKTtcbiAgICB0ci5zZXRCbG9ja1R5cGUoZnJvbSwgdG8sIG5vZGVUeXBlKTtcbiAgICBkaXNwYXRjaCh0cik7XG4gICAgdGhpcy52aWV3LmZvY3VzKCk7XG4gIH07XG5cbiAgcHJpdmF0ZSBwcm9tb3RlSGVhZGluZyA9IChzdGF0ZTogRWRpdG9yU3RhdGUsIGRpc3BhdGNoKSA9PiB7XG4gICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHN0YXRlO1xuICAgIGlmICghc2VsZWN0aW9uLmVtcHR5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgICRmcm9tOiB7XG4gICAgICAgIHBhcmVudDogeyB0eXBlIH0sXG4gICAgICB9LFxuICAgIH0gPSBzZWxlY3Rpb247XG4gICAgbGV0IG5leHRUeXBlOiBOb2RlVHlwZTtcbiAgICBpZiAodHlwZSA9PT0gc2NoZW1hLm5vZGVzLmhlYWRpbmcyKSB7XG4gICAgICBuZXh0VHlwZSA9IHNjaGVtYS5ub2Rlcy5oZWFkaW5nMTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IHNjaGVtYS5ub2Rlcy5oZWFkaW5nMSkge1xuICAgICAgbmV4dFR5cGUgPSBzY2hlbWEubm9kZXMucGFyYWdyYXBoO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0VHlwZSA9IHNjaGVtYS5ub2Rlcy5oZWFkaW5nMjtcbiAgICB9XG4gICAgdGhpcy5zd2FwVGV4dEJsb2NrKG5leHRUeXBlKTtcbiAgfTtcblxuICBwcml2YXRlIHRvZ2dsZUxpc3QgPSAobGlzdFR5cGU6IE5vZGVUeXBlLCBpdGVtVHlwZTogTm9kZVR5cGUpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzdGF0ZToge1xuICAgICAgICBzZWxlY3Rpb246IHsgJGZyb20sICR0byB9LFxuICAgICAgICB0cixcbiAgICAgIH0sXG4gICAgfSA9IHRoaXMudmlldztcblxuICAgIGNvbnN0IGxpc3RCbG9ja1JhbmdlID0gJGZyb20uYmxvY2tSYW5nZShcbiAgICAgICR0byxcbiAgICAgIChub2RlKSA9PiBub2RlLnR5cGUgPT09IGxpc3RUeXBlLFxuICAgICk7XG4gICAgaWYgKGxpc3RCbG9ja1JhbmdlKSB7XG4gICAgICBjb25zdCB7IGRpc3BhdGNoLCBzdGF0ZSB9ID0gdGhpcy52aWV3O1xuICAgICAgLy8gSWYgdGhlIHNlbGVjdGlvbiBpcyBlbnRpcmVseSB3aXRoaW4gYSBsaXN0IGxpZnQgdGhlIHNlbGVjdGVkIGl0ZW1zIG91dFxuICAgICAgbGlmdExpc3RJdGVtKGl0ZW1UeXBlKShzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBibG9ja1JhbmdlID0gJGZyb20uYmxvY2tSYW5nZSgkdG8pO1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGluZGV4ID0gYmxvY2tSYW5nZS5zdGFydEluZGV4O1xuICAgICAgICBpbmRleCA8IGJsb2NrUmFuZ2UuZW5kSW5kZXg7XG4gICAgICAgIGluZGV4ICs9IDFcbiAgICAgICkge1xuICAgICAgICBpZiAoYmxvY2tSYW5nZS5wYXJlbnQuY2hpbGQoaW5kZXgpLnR5cGUgPT09IGxpc3RUeXBlKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIHNlbGVjdGlvbiBpcyBwYXJ0aWFsbHkgaW5zaWRlIGEgbGlzdCwgZG8gbm90aGluZ1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gSWYgdGhlIHNlbGVjdGlvbiBpcyBlbnRpcmVseSBvdXRzaWRlIGEgbGlzdCwgY29udmVydCBldmVyeXRoaW5nIHRvIGEgcGFyYWdyYXBoXG4gICAgICAvLyBzbyBpdCBjYW4gc3Vic2VxdWVudGx5IGJlY29tZSBhIGxpc3RcbiAgICAgIHRoaXMuc3dhcFRleHRCbG9jayhzY2hlbWEubm9kZXMucGFyYWdyYXBoKTtcbiAgICAgIGNvbnN0IHsgZGlzcGF0Y2gsIHN0YXRlIH0gPSB0aGlzLnZpZXc7XG4gICAgICB3cmFwSW5MaXN0KGxpc3RUeXBlKShzdGF0ZSwgZGlzcGF0Y2gpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIHRvZ2dsZUNoZWNrbGlzdEl0ZW0gPSAoKSA9PiB7XG4gICAgY29uc3QgeyBkaXNwYXRjaCwgc3RhdGUgfSA9IHRoaXMudmlldztcbiAgICBjb25zdCB7IGRvYywgdHIgfSA9IHN0YXRlO1xuICAgIGNvbnN0IHsgJGZyb20sICR0byB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIGNvbnN0IGJsb2NrUmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKCR0byk7XG5cbiAgICBmb3IgKFxuICAgICAgbGV0IGluZGV4ID0gYmxvY2tSYW5nZS5zdGFydEluZGV4O1xuICAgICAgaW5kZXggPCBibG9ja1JhbmdlLmVuZEluZGV4O1xuICAgICAgaW5kZXggKz0gMVxuICAgICkge1xuICAgICAgaWYgKGJsb2NrUmFuZ2UucGFyZW50LmNoaWxkKGluZGV4KS50eXBlID09PSBzY2hlbWEubm9kZXMuY2hlY2tsaXN0X2l0ZW0pIHtcbiAgICAgICAgdGhpcy5zd2FwVGV4dEJsb2NrKHNjaGVtYS5ub2Rlcy5wYXJhZ3JhcGgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3dhcFRleHRCbG9jayhzY2hlbWEubm9kZXMuY2hlY2tsaXN0X2l0ZW0pO1xuICB9O1xuXG4gIHByaXZhdGUgYWN0aXZhdGVMaW5rTW9kYWw6IENvbW1hbmQgPSAoc3RhdGUsIGRpc3BhdGNoKSA9PiB7XG4gICAgY29uc3QgeyBkb2MsIHNlbGVjdGlvbiB9ID0gc3RhdGU7XG4gICAgY29uc3QgeyAkZnJvbSwgJHRvIH0gPSBzZWxlY3Rpb247XG4gICAgY29uc3QgbGlua01hcmtBdFN0YXJ0ID0gJGZyb21cbiAgICAgIC5tYXJrcygpXG4gICAgICAuZmluZCgobWFyaykgPT4gbWFyay50eXBlID09PSBzY2hlbWEubWFya3MubGluayk7XG4gICAgY29uc3QgbGlua01hcmtBdEVuZCA9ICR0b1xuICAgICAgLm1hcmtzKClcbiAgICAgIC5maW5kKChtYXJrKSA9PiBtYXJrLnR5cGUgPT09IHNjaGVtYS5tYXJrcy5saW5rKTtcbiAgICBjb25zdCBzZWxlY3Rpb25Jc0luc2lkZUxpbmsgPSBsaW5rTWFya0F0U3RhcnQgJiYgbGlua01hcmtBdEVuZDtcblxuICAgIGlmIChzZWxlY3Rpb24uZW1wdHkgJiYgIXNlbGVjdGlvbklzSW5zaWRlTGluaykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobGlua01hcmtBdFN0YXJ0ICE9PSBsaW5rTWFya0F0RW5kKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghZGlzcGF0Y2gpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IG1hcmsgPSBsaW5rTWFya0F0U3RhcnQ7XG4gICAgbGV0IGVuZCwgc3RhcnQsIHRleHQsIHVybDtcbiAgICBpZiAobWFyaykge1xuICAgICAgY29uc3QgdGV4dE5vZGUgPSAkZnJvbS5wYXJlbnQubm9kZUF0KCRmcm9tLnBhcmVudE9mZnNldCAtICRmcm9tLnRleHRPZmZzZXQpO1xuICAgICAgc3RhcnQgPSAkZnJvbS5wb3MgLSAkZnJvbS50ZXh0T2Zmc2V0O1xuICAgICAgZW5kID0gc3RhcnQgKyB0ZXh0Tm9kZS5ub2RlU2l6ZTtcbiAgICAgIHRleHQgPSB0ZXh0Tm9kZS50ZXh0O1xuICAgICAgdXJsID0gbWFyay5hdHRycy5ocmVmO1xuICAgICAgY29uc3QgbmV3U2VsZWN0aW9uID0gbmV3IFRleHRTZWxlY3Rpb24oXG4gICAgICAgIGRvYy5yZXNvbHZlKHN0YXJ0KSxcbiAgICAgICAgZG9jLnJlc29sdmUoZW5kKSxcbiAgICAgICk7XG4gICAgICBkaXNwYXRjaChzdGF0ZS50ci5zZXRTZWxlY3Rpb24obmV3U2VsZWN0aW9uKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVuZCA9ICR0by5wb3M7XG4gICAgICBzdGFydCA9ICRmcm9tLnBvcztcbiAgICAgIHRleHQgPSBzdGF0ZS5kb2MudGV4dEJldHdlZW4oJGZyb20ucG9zLCAkdG8ucG9zKTtcbiAgICAgIHVybCA9ICcnO1xuICAgIH1cblxuICAgIGNvbnN0IG1vZGFsID0gbmV3IFRvb2xiYXJQbHVnaW4uTGlua01vZGFsKHRoaXMubW9kYWxFbCwge1xuICAgICAgb25Db25maXJtOiAoeyB0ZXh0LCB1cmwgfSkgPT4ge1xuICAgICAgICBjb25zdCBtYXJrID0gc2NoZW1hLm1hcmtzLmxpbmsuY3JlYXRlKHsgaHJlZjogdXJsIH0pO1xuICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IHNjaGVtYS50ZXh0KHRleHQsIFttYXJrXSk7XG4gICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh0aGlzLnZpZXcuc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbldpdGgodGV4dE5vZGUsIGZhbHNlKSk7XG4gICAgICB9LFxuICAgICAgdGV4dCxcbiAgICAgIHVybCxcbiAgICB9KTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIHByaXZhdGUgdG9nZ2xlTWFyayA9IChtYXJrOiBNYXJrVHlwZSkgPT4ge1xuICAgIHRvZ2dsZU1hcmsobWFyaykodGhpcy52aWV3LnN0YXRlLCB0aGlzLnZpZXcuZGlzcGF0Y2gpO1xuICAgIHRoaXMudmlldy5mb2N1cygpO1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKHRvb2xiYXJFbDogRWxlbWVudCwgbW9kYWxFbDogRWxlbWVudCkge1xuICAgIHN1cGVyKHtcbiAgICAgIHZpZXc6ICh2aWV3SW5zdGFuY2UpID0+IHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlld0luc3RhbmNlO1xuICAgICAgICB0aGlzLm1vZGFsRWwgPSBtb2RhbEVsO1xuXG4gICAgICAgIHRvb2xiYXJFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlVG9vbGJhckNsaWNrKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICB0b29sYmFyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVRvb2xiYXJDbGljayk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB1cGRhdGU6ICh2aWV3LCBwcmV2aW91c1N0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c2x5U2VsZWN0ZWRBdHRycyA9IHRoaXMuZ2V0U2VsZWN0ZWRGb3JtYXRBdHRycyhcbiAgICAgICAgICAgICAgcHJldmlvdXNTdGF0ZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAocHJldmlvdXNseVNlbGVjdGVkQXR0cnMpIHtcbiAgICAgICAgICAgICAgcHJldmlvdXNseVNlbGVjdGVkQXR0cnMuZm9yRWFjaCgoYXR0cikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ0biA9IHRvb2xiYXJFbC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1mb3JtYXQ9JHthdHRyfV1gKTtcbiAgICAgICAgICAgICAgICBpZiAoYnRuKSB7XG4gICAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZEF0dHJzID0gdGhpcy5nZXRTZWxlY3RlZEZvcm1hdEF0dHJzKHZpZXcuc3RhdGUpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQXR0cnMpIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWRBdHRycy5mb3JFYWNoKChhdHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnRuID0gdG9vbGJhckVsLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWZvcm1hdD0ke2F0dHJ9XWApO1xuICAgICAgICAgICAgICAgIGlmIChidG4pIHtcbiAgICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBwcm9wczoge1xuICAgICAgICBoYW5kbGVLZXlEb3duOiAodmlldywgZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGlzVCA9IGUud2hpY2ggPT09IDg0O1xuICAgICAgICAgIGNvbnN0IGhhc0N0cmwgPSBlLmN0cmxLZXk7XG4gICAgICAgICAgaWYgKGlzVCAmJiBoYXNDdHJsKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUNoZWNrbGlzdEl0ZW0oKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzNyA9IGUud2hpY2ggPT09IDU1O1xuICAgICAgICAgIGNvbnN0IGhhc01vZCA9IGUubWV0YUtleTtcbiAgICAgICAgICBpZiAoaXM3ICYmIGhhc01vZCkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVMaXN0KFxuICAgICAgICAgICAgICBzY2hlbWEubm9kZXMudW5vcmRlcmVkX2xpc3QsXG4gICAgICAgICAgICAgIHNjaGVtYS5ub2Rlcy5saXN0X2l0ZW0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNVID0gZS53aGljaCA9PT0gODU7XG4gICAgICAgICAgaWYgKGlzVSAmJiBoYXNDdHJsKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxpc3QoXG4gICAgICAgICAgICAgIHNjaGVtYS5ub2Rlcy51bm9yZGVyZWRfbGlzdCxcbiAgICAgICAgICAgICAgc2NoZW1hLm5vZGVzLmxpc3RfaXRlbSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpc08gPSBlLndoaWNoID09PSA3OTtcbiAgICAgICAgICBpZiAoaXNPICYmIGhhc0N0cmwpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTGlzdChzY2hlbWEubm9kZXMub3JkZXJlZF9saXN0LCBzY2hlbWEubm9kZXMubGlzdF9pdGVtKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzUGx1cyA9IGUud2hpY2ggPT09IDE4NztcbiAgICAgICAgICBpZiAoaXNQbHVzICYmIGhhc0N0cmwpIHtcbiAgICAgICAgICAgIHRoaXMucHJvbW90ZUhlYWRpbmcodGhpcy52aWV3LnN0YXRlLCB0aGlzLnZpZXcuZGlzcGF0Y2gpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNKID0gZS53aGljaCA9PT0gNzQ7XG4gICAgICAgICAgaWYgKGlzSiAmJiBoYXNDdHJsKSB7XG4gICAgICAgICAgICB0aGlzLnN3YXBUZXh0QmxvY2soc2NoZW1hLm5vZGVzLnBhcmFncmFwaCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpc1NwYWNlID0gZS53aGljaCA9PT0gMzI7XG4gICAgICAgICAgaWYgKGhhc0N0cmwgJiYgaXNTcGFjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRvZ2dsZUNoZWNrbGlzdEl0ZW1TdGF0ZShcbiAgICAgICAgICAgICAgdGhpcy52aWV3LnN0YXRlLFxuICAgICAgICAgICAgICB0aGlzLnZpZXcuZGlzcGF0Y2gsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzWiA9IGUud2hpY2ggPT09IDkwO1xuICAgICAgICAgIGlmIChoYXNNb2QgJiYgaXNaKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kbyh0aGlzLnZpZXcuc3RhdGUsIHRoaXMudmlldy5kaXNwYXRjaCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNZID0gZS53aGljaCA9PT0gODk7XG4gICAgICAgICAgaWYgKGhhc01vZCAmJiBpc1kpIHtcbiAgICAgICAgICAgIHJldHVybiByZWRvKHRoaXMudmlldy5zdGF0ZSwgdGhpcy52aWV3LmRpc3BhdGNoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpc0kgPSBlLndoaWNoID09PSA3MztcbiAgICAgICAgICBpZiAoaGFzTW9kICYmIGlzSSkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVNYXJrKHNjaGVtYS5tYXJrcy5lbSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpc0IgPSBlLndoaWNoID09PSA2NjtcbiAgICAgICAgICBpZiAoaGFzTW9kICYmIGlzQikge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVNYXJrKHNjaGVtYS5tYXJrcy5zdHJvbmcpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNQcmltZSA9IGUud2hpY2ggPT09IDIyMjtcbiAgICAgICAgICBpZiAoaGFzTW9kICYmIGlzUHJpbWUpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTWFyayhzY2hlbWEubWFya3MuY29kZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpc0sgPSBlLndoaWNoID09PSA3NTtcbiAgICAgICAgICBpZiAoaGFzTW9kICYmIGlzSykge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZUxpbmtNb2RhbCh0aGlzLnZpZXcuc3RhdGUsIHRoaXMudmlldy5kaXNwYXRjaCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0U2VsZWN0ZWRGb3JtYXRBbmRNYXJrcyA9IChzdGF0ZTogRWRpdG9yU3RhdGUpID0+IHtcbiAgICBpZiAoIXN0YXRlLnNlbGVjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgY29uc3QgeyAkZnJvbSwgJHRvLCBjb250ZW50IH0gPSBzdGF0ZS5zZWxlY3Rpb247XG4gICAgY29uc3QgYmxvY2tSYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoXG4gICAgICAkdG8sXG4gICAgICAobm9kZSkgPT4gbm9kZS50eXBlICE9PSBzY2hlbWEubm9kZXMubGlzdF9pdGVtLFxuICAgICk7XG5cbiAgICBsZXQgc2VsZWN0ZWQgPSBudWxsO1xuICAgIGZvciAoXG4gICAgICBsZXQgaW5kZXggPSBibG9ja1JhbmdlLnN0YXJ0SW5kZXg7XG4gICAgICBpbmRleCA8IGJsb2NrUmFuZ2UuZW5kSW5kZXg7XG4gICAgICBpbmRleCArPSAxXG4gICAgKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGJsb2NrUmFuZ2UucGFyZW50LmNoaWxkKGluZGV4KTtcbiAgICAgIGNvbnN0IGN1cnJlbnRUeXBlID1cbiAgICAgICAgY2hpbGQudHlwZSA9PT0gc2NoZW1hLm5vZGVzLmxpc3RfaXRlbVxuICAgICAgICAgID8gYmxvY2tSYW5nZS5wYXJlbnQudHlwZVxuICAgICAgICAgIDogY2hpbGQudHlwZTtcblxuICAgICAgaWYgKHNlbGVjdGVkID09PSBudWxsKSB7XG4gICAgICAgIHNlbGVjdGVkID0gY3VycmVudFR5cGU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHNlbGVjdGVkICE9PSBjdXJyZW50VHlwZSkge1xuICAgICAgICBzZWxlY3RlZCA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQucHVzaChzZWxlY3RlZCk7XG5cbiAgICBjb25zdCBtYXJrcyA9ICRmcm9tLm1hcmtzQWNyb3NzKCR0byk7XG4gICAgaWYgKG1hcmtzKSB7XG4gICAgICByZXN1bHQucHVzaCguLi5tYXJrcy5tYXAoKG1hcmspID0+IG1hcmsudHlwZSkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgZ2V0U2VsZWN0ZWRGb3JtYXRBdHRycyA9IChzdGF0ZTogRWRpdG9yU3RhdGUpID0+IHtcbiAgICBjb25zdCBbbm9kZVR5cGUsIC4uLm1hcmtUeXBlc10gPSB0aGlzLmdldFNlbGVjdGVkRm9ybWF0QW5kTWFya3Moc3RhdGUpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgbGV0IGFjdGl2ZUJ0bkF0dHIgPSBudWxsO1xuICAgIHN3aXRjaCAobm9kZVR5cGUpIHtcbiAgICAgIGNhc2Ugc2NoZW1hLm5vZGVzLmhlYWRpbmcxOlxuICAgICAgY2FzZSBzY2hlbWEubm9kZXMuaGVhZGluZzI6IHtcbiAgICAgICAgcmVzdWx0LnB1c2goJ2hlYWRpbmcnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIHNjaGVtYS5ub2Rlcy5wYXJhZ3JhcGg6IHtcbiAgICAgICAgcmVzdWx0LnB1c2goJ3BhcmFncmFwaCcpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2Ugc2NoZW1hLm5vZGVzLnVub3JkZXJlZF9saXN0OiB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCd1bm9yZGVyZWRfbGlzdCcpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2Ugc2NoZW1hLm5vZGVzLm9yZGVyZWRfbGlzdDoge1xuICAgICAgICByZXN1bHQucHVzaCgnb3JkZXJlZF9saXN0Jyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBzY2hlbWEubm9kZXMuY2hlY2tsaXN0X2l0ZW06IHtcbiAgICAgICAgcmVzdWx0LnB1c2goJ2NoZWNrbGlzdF9pdGVtJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICByZXN1bHQucHVzaChudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbWFya1R5cGVzLmZvckVhY2goKG1hcmtUeXBlKSA9PiB7XG4gICAgICBzd2l0Y2ggKG1hcmtUeXBlKSB7XG4gICAgICAgIGNhc2Ugc2NoZW1hLm1hcmtzLmxpbms6IHtcbiAgICAgICAgICByZXN1bHQucHVzaCgnbGluaycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2Ugc2NoZW1hLm1hcmtzLmVtOiB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goJ2VtJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBzY2hlbWEubWFya3Muc3Ryb25nOiB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goJ3N0cm9uZycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2Ugc2NoZW1hLm1hcmtzLmNvZGU6IHtcbiAgICAgICAgICByZXN1bHQucHVzaCgnY29kZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGhhbmRsZVRvb2xiYXJDbGljayA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgYnV0dG9uID0gdGFyZ2V0LmNsb3Nlc3QoYFske0FQUExZX0ZPUk1BVF9BVFRSfV1gKTtcbiAgICBpZiAoYnV0dG9uKSB7XG4gICAgICB0aGlzLmFwcGx5Rm9ybWF0KGJ1dHRvbi5nZXRBdHRyaWJ1dGUoQVBQTFlfRk9STUFUX0FUVFIpKTtcbiAgICB9XG4gIH07XG5cbiAgYXBwbHlGb3JtYXQgPSAoZGF0YUZvcm1hdFN0cjogc3RyaW5nKSA9PiB7XG4gICAgc3dpdGNoIChkYXRhRm9ybWF0U3RyKSB7XG4gICAgICBjYXNlICdwYXJhZ3JhcGgnOiB7XG4gICAgICAgIHRoaXMuc3dhcFRleHRCbG9jayhzY2hlbWEubm9kZXMucGFyYWdyYXBoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdoZWFkaW5nJzoge1xuICAgICAgICB0aGlzLnByb21vdGVIZWFkaW5nKHRoaXMudmlldy5zdGF0ZSwgdGhpcy52aWV3LmRpc3BhdGNoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICd1bm9yZGVyZWRfbGlzdCc6IHtcbiAgICAgICAgdGhpcy50b2dnbGVMaXN0KHNjaGVtYS5ub2Rlcy51bm9yZGVyZWRfbGlzdCwgc2NoZW1hLm5vZGVzLmxpc3RfaXRlbSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnb3JkZXJlZF9saXN0Jzoge1xuICAgICAgICB0aGlzLnRvZ2dsZUxpc3Qoc2NoZW1hLm5vZGVzLm9yZGVyZWRfbGlzdCwgc2NoZW1hLm5vZGVzLmxpc3RfaXRlbSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnY2hlY2tsaXN0X2l0ZW0nOiB7XG4gICAgICAgIHRoaXMudG9nZ2xlQ2hlY2tsaXN0SXRlbSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3N0cm9uZyc6XG4gICAgICBjYXNlICdlbSc6XG4gICAgICBjYXNlICdjb2RlJzoge1xuICAgICAgICB0aGlzLnRvZ2dsZU1hcmsoc2NoZW1hLm1hcmtzW2RhdGFGb3JtYXRTdHJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdsaW5rJzoge1xuICAgICAgICB0aGlzLmFjdGl2YXRlTGlua01vZGFsKHRoaXMudmlldy5zdGF0ZSwgdGhpcy52aWV3LmRpc3BhdGNoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG4iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiBJbiB0aGUgYnJvd3NlciB3ZSB0aGVyZWZvcmVcbi8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cbi8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi4gQWxzbyxcbi8vIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byAobXNDcnlwdG8pIG9uIElFMTEuXG52YXIgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pIHx8IHR5cGVvZiBtc0NyeXB0byAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pO1xudmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gIH1cblxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCIvKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXhbaV0gPSAoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpO1xufVxuXG5mdW5jdGlvbiBieXRlc1RvVXVpZChidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IG9mZnNldCB8fCAwO1xuICB2YXIgYnRoID0gYnl0ZVRvSGV4OyAvLyBqb2luIHVzZWQgdG8gZml4IG1lbW9yeSBpc3N1ZSBjYXVzZWQgYnkgY29uY2F0ZW5hdGlvbjogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzE3NSNjNFxuXG4gIHJldHVybiBbYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLCBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJywgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLCBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dXS5qb2luKCcnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYnl0ZXNUb1V1aWQ7IiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgYnl0ZXNUb1V1aWQgZnJvbSAnLi9ieXRlc1RvVXVpZC5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCJpbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IERPTVBhcnNlciB9IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJztcbmltcG9ydCBDb21wb25lbnRNYW5hZ2VyIGZyb20gJ3NuLWNvbXBvbmVudHMtYXBpJztcbmltcG9ydCB7IHNjaGVtYSB9IGZyb20gJy4vc2NoZW1hJztcblxuY29uc3QgU05fSVRFTV9TQVZFX0tFWSA9ICdjb20uZHlsYW5vbmVsc29uLnNuLWVkaXRvcic7XG5cbmZ1bmN0aW9uIGdldE5hbWVzcGFjZWRDb250ZW50KGl0ZW06IEl0ZW0pIHtcbiAgY29uc3QgcmVzdWx0ID0gaXRlbVxuICAgICYmIGl0ZW0uY29udGVudFxuICAgICYmIGl0ZW0uY29udGVudFtTTl9JVEVNX1NBVkVfS0VZXTtcbiAgcmV0dXJuIHJlc3VsdCB8fCBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRVdWlkKGl0ZW06IEl0ZW0pIHtcbiAgaWYgKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS51dWlkO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXREb2MoaXRlbTogSXRlbSkge1xuICBjb25zdCBjb250ZW50ID0gZ2V0TmFtZXNwYWNlZENvbnRlbnQoaXRlbSk7XG4gIGlmIChjb250ZW50ICYmIGNvbnRlbnQuZG9jKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQuZG9jO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRMYXN0U2F2ZWRCeShpdGVtOiBJdGVtKSB7XG4gIGNvbnN0IGNvbnRlbnQgPSBnZXROYW1lc3BhY2VkQ29udGVudChpdGVtKTtcbiAgaWYgKGNvbnRlbnQgJiYgY29udGVudC5sYXN0U2F2ZWRCeSkge1xuICAgIHJldHVybiBjb250ZW50Lmxhc3RTYXZlZEJ5O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5jbGFzcyBDbGllbnQge1xuICBzdGF0aWMgU05fSVRFTV9TQVZFX0tFWSA9ICdjb20uZHlsYW5vbmVsc29uLnNuLWVkaXRvcic7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgaXRlbVNlbGVjdG9ycyA9IHtcbiAgfVxuXG4gIHByaXZhdGUgX2l0ZW06IEl0ZW0gPSBudWxsO1xuXG4gIHByaXZhdGUgX3JlYWR5OiBQcm9taXNlPHZvaWQ+O1xuXG4gIHByaXZhdGUgX2lkOiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSBfbGlzdGVuZXJzOiAoKHt9KSA9PiB2b2lkKVtdO1xuXG4gIHByaXZhdGUgY29tcG9uZW50TWFuYWdlcjogQ29tcG9uZW50TWFuYWdlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9pZCA9IHV1aWR2NCgpO1xuICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xuXG4gICAgbGV0IHJlc29sdmVDbGllbnRSZWFkeTtcbiAgICB0aGlzLl9yZWFkeSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4geyByZXNvbHZlQ2xpZW50UmVhZHkgPSByZXNvbHZlOyB9KTtcblxuICAgIHRoaXMuY29tcG9uZW50TWFuYWdlciA9IG5ldyBDb21wb25lbnRNYW5hZ2VyKFxuICAgICAgW3sgbmFtZTogJ3N0cmVhbS1jb250ZXh0LWl0ZW0nIH1dLFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLmNvbXBvbmVudE1hbmFnZXIuc3RyZWFtQ29udGV4dEl0ZW0oaXRlbSA9PiB7XG4gICAgICAgICAgY29uc29sZS5kZWJ1Zygnc3RyZWFtQ29udGV4dEl0ZW0gdXBkYXRlOicsIGl0ZW0pO1xuXG4gICAgICAgICAgY29uc3QgY2FsbExpc3RlbmVycyA9IHRoaXMuc2hvdWxkQ2FsbExpc3RlbmVycyhpdGVtLCB0aGlzLl9pdGVtKTtcblxuICAgICAgICAgIHRoaXMuX2l0ZW0gPSBpdGVtO1xuXG4gICAgICAgICAgaWYgKGNhbGxMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgICAgICAgICAgbGlzdGVuZXIoaXRlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXNvbHZlQ2xpZW50UmVhZHkoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIGdldCBsYXRlc3REb2MoKSB7XG4gICAgcmV0dXJuIGdldERvYyh0aGlzLl9pdGVtKTtcbiAgfVxuXG4gIG9uVXBkYXRlKGNhbGxiYWNrOiAoe30pID0+IHZvaWQpIHtcbiAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycy5maWx0ZXIobGlzdGVuZXIgPT4gbGlzdGVuZXIgIT09IGNhbGxiYWNrKTtcbiAgICB9XG4gIH1cblxuICByZWFkeSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVhZHk7XG4gIH1cblxuICBzYXZlTm90ZShqc29uRG9jKSB7XG4gICAgY29uc3QgdG9TYXZlID0ge1xuICAgICAgLi4udGhpcy5faXRlbSxcbiAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgLi4udGhpcy5faXRlbS5jb250ZW50LFxuICAgICAgICBbU05fSVRFTV9TQVZFX0tFWV06IHtcbiAgICAgICAgICBkb2M6IGpzb25Eb2MsXG4gICAgICAgICAgbGFzdFNhdmVkQnk6IHRoaXMuX2lkLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIHRoaXMuY29tcG9uZW50TWFuYWdlci5zYXZlSXRlbVdpdGhQcmVzYXZlKHRvU2F2ZSk7XG4gIH1cblxuICBzaG91bGRDYWxsTGlzdGVuZXJzID0gKG5leHRJdGVtLCBwcmV2aW91c0l0ZW0pID0+IHtcbiAgICBpZiAobmV4dEl0ZW0uaXNNZXRhZGF0YVVwZGF0ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0VXVpZChuZXh0SXRlbSkgIT09IGdldFV1aWQocHJldmlvdXNJdGVtKVxuICAgICAgfHwgZ2V0TGFzdFNhdmVkQnkobmV4dEl0ZW0pICE9PSB0aGlzLl9pZDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY2xpZW50ID0gbmV3IENsaWVudCgpO1xuIiwiaW1wb3J0IHsgc2NoZW1hIH0gZnJvbSAnLi9zY2hlbWEnO1xuaW1wb3J0IHsgRWRpdG9yUHJvcHMgfSBmcm9tICdwcm9zZW1pcnJvci12aWV3JztcbmltcG9ydCB7IENoZWNrQm94T3V0bGluZSwgQ2hlY2tCb3ggfSBmcm9tICcuL2Fzc2V0cyc7XG5cbmNvbnN0IENIRUNLQk9YX0NIRUNLRURfQ0xBU1NOQU1FID0gJ2lzLWNoZWNrZWQnO1xuXG5leHBvcnQgY29uc3Qgbm9kZVZpZXdzOiBFZGl0b3JQcm9wczx0eXBlb2Ygc2NoZW1hPlsnbm9kZVZpZXdzJ10gPSB7XG4gIGNoZWNrbGlzdF9pdGVtKG5vZGUsIHZpZXcsIGdldFBvcykge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdjaGVja2xpc3QtaXRlbScpO1xuXG4gICAgY29uc3QgaW5wdXRTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGlucHV0U3Bhbi5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgIGlmIChub2RlLmF0dHJzLmNoZWNrZWQpIHtcbiAgICAgIGlucHV0U3Bhbi5jbGFzc0xpc3QuYWRkKENIRUNLQk9YX0NIRUNLRURfQ0xBU1NOQU1FKTtcbiAgICAgIGlucHV0U3Bhbi5pbm5lckhUTUwgPSBDaGVja0JveDtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXRTcGFuLmlubmVySFRNTCA9IENoZWNrQm94T3V0bGluZTtcbiAgICB9XG4gICAgaW5wdXRTcGFuLmNvbnRlbnRFZGl0YWJsZSA9ICdmYWxzZSc7XG5cbiAgICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuXG4gICAgZGl2LmFwcGVuZENoaWxkKGlucHV0U3Bhbik7XG4gICAgZGl2LmFwcGVuZENoaWxkKHApO1xuXG4gICAgY29uc3QgZm9jdXNIYW5kbGVyID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB7IHJlbGF0ZWRUYXJnZXQsIHRhcmdldCB9ID0gZXZlbnQ7XG4gICAgICBpZiAocmVsYXRlZFRhcmdldCAhPT0gaW5wdXRTcGFuKSB7XG4gICAgICAgIC8vIElucHV0IGlzIHRha2luZyBmb2N1c1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHZpZXdIYXNGb2N1cyA9IHRhcmdldCA9PT0gdmlldy5kb207XG4gICAgICBpZiAodmlld0hhc0ZvY3VzKSB7XG4gICAgICAgIC8vIFRoZSB2aWV3IHdhcyBmb2N1c2VkIGJlZm9yZSB0aGUgaW5wdXRcbiAgICAgICAgdmlldy5mb2N1cygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBjbGlja0hhbmRsZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmIChpbnB1dFNwYW4uY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjaGVja2VkID0gaW5wdXRTcGFuLmNsYXNzTGlzdC5jb250YWlucyhDSEVDS0JPWF9DSEVDS0VEX0NMQVNTTkFNRSk7XG4gICAgICBjb25zdCB7IHRyIH0gPSB2aWV3LnN0YXRlO1xuICAgICAgY29uc3QgcG9zID0gKGdldFBvcyBhcyAoKSA9PiBudW1iZXIpKCk7XG4gICAgICB0ci5zZXROb2RlTWFya3VwKHBvcywgdW5kZWZpbmVkLCB7IGNoZWNrZWQ6ICFjaGVja2VkIH0pXG4gICAgICB2aWV3LmRpc3BhdGNoKHRyKTtcbiAgICB9O1xuXG4gICAgdmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZvY3VzSGFuZGxlcik7XG4gICAgdmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja0hhbmRsZXIpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRvbTogZGl2LFxuICAgICAgY29udGVudERPTTogcCxcbiAgICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmb2N1c0hhbmRsZXIpO1xuICAgICAgICB2aWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNsaWNrSGFuZGxlcik7XG4gICAgICB9LFxuICAgIH07XG4gIH0sXG59O1xuIiwidmFyIGJhc2UgPSB7XG4gIDg6IFwiQmFja3NwYWNlXCIsXG4gIDk6IFwiVGFiXCIsXG4gIDEwOiBcIkVudGVyXCIsXG4gIDEyOiBcIk51bUxvY2tcIixcbiAgMTM6IFwiRW50ZXJcIixcbiAgMTY6IFwiU2hpZnRcIixcbiAgMTc6IFwiQ29udHJvbFwiLFxuICAxODogXCJBbHRcIixcbiAgMjA6IFwiQ2Fwc0xvY2tcIixcbiAgMjc6IFwiRXNjYXBlXCIsXG4gIDMyOiBcIiBcIixcbiAgMzM6IFwiUGFnZVVwXCIsXG4gIDM0OiBcIlBhZ2VEb3duXCIsXG4gIDM1OiBcIkVuZFwiLFxuICAzNjogXCJIb21lXCIsXG4gIDM3OiBcIkFycm93TGVmdFwiLFxuICAzODogXCJBcnJvd1VwXCIsXG4gIDM5OiBcIkFycm93UmlnaHRcIixcbiAgNDA6IFwiQXJyb3dEb3duXCIsXG4gIDQ0OiBcIlByaW50U2NyZWVuXCIsXG4gIDQ1OiBcIkluc2VydFwiLFxuICA0NjogXCJEZWxldGVcIixcbiAgNTk6IFwiO1wiLFxuICA2MTogXCI9XCIsXG4gIDkxOiBcIk1ldGFcIixcbiAgOTI6IFwiTWV0YVwiLFxuICAxMDY6IFwiKlwiLFxuICAxMDc6IFwiK1wiLFxuICAxMDg6IFwiLFwiLFxuICAxMDk6IFwiLVwiLFxuICAxMTA6IFwiLlwiLFxuICAxMTE6IFwiL1wiLFxuICAxNDQ6IFwiTnVtTG9ja1wiLFxuICAxNDU6IFwiU2Nyb2xsTG9ja1wiLFxuICAxNjA6IFwiU2hpZnRcIixcbiAgMTYxOiBcIlNoaWZ0XCIsXG4gIDE2MjogXCJDb250cm9sXCIsXG4gIDE2MzogXCJDb250cm9sXCIsXG4gIDE2NDogXCJBbHRcIixcbiAgMTY1OiBcIkFsdFwiLFxuICAxNzM6IFwiLVwiLFxuICAxODY6IFwiO1wiLFxuICAxODc6IFwiPVwiLFxuICAxODg6IFwiLFwiLFxuICAxODk6IFwiLVwiLFxuICAxOTA6IFwiLlwiLFxuICAxOTE6IFwiL1wiLFxuICAxOTI6IFwiYFwiLFxuICAyMTk6IFwiW1wiLFxuICAyMjA6IFwiXFxcXFwiLFxuICAyMjE6IFwiXVwiLFxuICAyMjI6IFwiJ1wiLFxuICAyMjk6IFwicVwiXG59O1xudmFyIGJhc2VfMSA9IGJhc2U7XG5cbnZhciBzaGlmdCA9IHtcbiAgNDg6IFwiKVwiLFxuICA0OTogXCIhXCIsXG4gIDUwOiBcIkBcIixcbiAgNTE6IFwiI1wiLFxuICA1MjogXCIkXCIsXG4gIDUzOiBcIiVcIixcbiAgNTQ6IFwiXlwiLFxuICA1NTogXCImXCIsXG4gIDU2OiBcIipcIixcbiAgNTc6IFwiKFwiLFxuICA1OTogXCI7XCIsXG4gIDYxOiBcIitcIixcbiAgMTczOiBcIl9cIixcbiAgMTg2OiBcIjpcIixcbiAgMTg3OiBcIitcIixcbiAgMTg4OiBcIjxcIixcbiAgMTg5OiBcIl9cIixcbiAgMTkwOiBcIj5cIixcbiAgMTkxOiBcIj9cIixcbiAgMTkyOiBcIn5cIixcbiAgMjE5OiBcIntcIixcbiAgMjIwOiBcInxcIixcbiAgMjIxOiBcIn1cIixcbiAgMjIyOiBcIlxcXCJcIixcbiAgMjI5OiBcIlFcIlxufTtcbnZhciBzaGlmdF8xID0gc2hpZnQ7XG5cbnZhciBjaHJvbWUgPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgJiYgL0Nocm9tZVxcLyhcXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtcbnZhciBzYWZhcmkgPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgJiYgL0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpO1xudmFyIGdlY2tvID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9HZWNrb1xcL1xcZCsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgbWFjID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcbnZhciBpZSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAvTVNJRSBcXGR8VHJpZGVudFxcLyg/Ols3LTldfFxcZHsyLH0pXFwuLipydjooXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgYnJva2VuTW9kaWZpZXJOYW1lcyA9IGNocm9tZSAmJiAobWFjIHx8ICtjaHJvbWVbMV0gPCA1NykgfHwgZ2Vja28gJiYgbWFjO1xuXG4vLyBGaWxsIGluIHRoZSBkaWdpdCBrZXlzXG5mb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIGJhc2VbNDggKyBpXSA9IGJhc2VbOTYgKyBpXSA9IFN0cmluZyhpKTtcblxuLy8gVGhlIGZ1bmN0aW9uIGtleXNcbmZvciAodmFyIGkgPSAxOyBpIDw9IDI0OyBpKyspIGJhc2VbaSArIDExMV0gPSBcIkZcIiArIGk7XG5cbi8vIEFuZCB0aGUgYWxwaGFiZXRpYyBrZXlzXG5mb3IgKHZhciBpID0gNjU7IGkgPD0gOTA7IGkrKykge1xuICBiYXNlW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZShpICsgMzIpO1xuICBzaGlmdFtpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSk7XG59XG5cbi8vIEZvciBlYWNoIGNvZGUgdGhhdCBkb2Vzbid0IGhhdmUgYSBzaGlmdC1lcXVpdmFsZW50LCBjb3B5IHRoZSBiYXNlIG5hbWVcbmZvciAodmFyIGNvZGUgaW4gYmFzZSkgaWYgKCFzaGlmdC5oYXNPd25Qcm9wZXJ0eShjb2RlKSkgc2hpZnRbY29kZV0gPSBiYXNlW2NvZGVdO1xuXG52YXIga2V5TmFtZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIC8vIERvbid0IHRydXN0IGV2ZW50LmtleSBpbiBDaHJvbWUgd2hlbiB0aGVyZSBhcmUgbW9kaWZpZXJzIHVudGlsXG4gIC8vIHRoZXkgZml4IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTYzMzgzOFxuICB2YXIgaWdub3JlS2V5ID0gYnJva2VuTW9kaWZpZXJOYW1lcyAmJiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQubWV0YUtleSkgfHxcbiAgICAoc2FmYXJpIHx8IGllKSAmJiBldmVudC5zaGlmdEtleSAmJiBldmVudC5rZXkgJiYgZXZlbnQua2V5Lmxlbmd0aCA9PSAxO1xuICB2YXIgbmFtZSA9ICghaWdub3JlS2V5ICYmIGV2ZW50LmtleSkgfHxcbiAgICAoZXZlbnQuc2hpZnRLZXkgPyBzaGlmdCA6IGJhc2UpW2V2ZW50LmtleUNvZGVdIHx8XG4gICAgZXZlbnQua2V5IHx8IFwiVW5pZGVudGlmaWVkXCI7XG4gIC8vIEVkZ2Ugc29tZXRpbWVzIHByb2R1Y2VzIHdyb25nIG5hbWVzIChJc3N1ZSAjMylcbiAgaWYgKG5hbWUgPT0gXCJFc2NcIikgbmFtZSA9IFwiRXNjYXBlXCI7XG4gIGlmIChuYW1lID09IFwiRGVsXCIpIG5hbWUgPSBcIkRlbGV0ZVwiO1xuICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy84ODYwNTcxL1xuICBpZiAobmFtZSA9PSBcIkxlZnRcIikgbmFtZSA9IFwiQXJyb3dMZWZ0XCI7XG4gIGlmIChuYW1lID09IFwiVXBcIikgbmFtZSA9IFwiQXJyb3dVcFwiO1xuICBpZiAobmFtZSA9PSBcIlJpZ2h0XCIpIG5hbWUgPSBcIkFycm93UmlnaHRcIjtcbiAgaWYgKG5hbWUgPT0gXCJEb3duXCIpIG5hbWUgPSBcIkFycm93RG93blwiO1xuICByZXR1cm4gbmFtZVxufTtcblxudmFyIHczY0tleW5hbWUgPSB7XG5cdGJhc2U6IGJhc2VfMSxcblx0c2hpZnQ6IHNoaWZ0XzEsXG5cdGtleU5hbWU6IGtleU5hbWVcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHczY0tleW5hbWU7XG5leHBvcnQgeyBiYXNlXzEgYXMgYmFzZSwga2V5TmFtZSwgc2hpZnRfMSBhcyBzaGlmdCB9O1xuIiwiaW1wb3J0IHtiYXNlLCBrZXlOYW1lfSBmcm9tIFwidzNjLWtleW5hbWVcIlxuaW1wb3J0IHtQbHVnaW59IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiXG5cbi8vIGRlY2xhcmUgZ2xvYmFsOiBuYXZpZ2F0b3JcblxuY29uc3QgbWFjID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiID8gL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pIDogZmFsc2VcblxuZnVuY3Rpb24gbm9ybWFsaXplS2V5TmFtZShuYW1lKSB7XG4gIGxldCBwYXJ0cyA9IG5hbWUuc3BsaXQoLy0oPyEkKS8pLCByZXN1bHQgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXVxuICBpZiAocmVzdWx0ID09IFwiU3BhY2VcIikgcmVzdWx0ID0gXCIgXCJcbiAgbGV0IGFsdCwgY3RybCwgc2hpZnQsIG1ldGFcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBsZXQgbW9kID0gcGFydHNbaV1cbiAgICBpZiAoL14oY21kfG1ldGF8bSkkL2kudGVzdChtb2QpKSBtZXRhID0gdHJ1ZVxuICAgIGVsc2UgaWYgKC9eYShsdCk/JC9pLnRlc3QobW9kKSkgYWx0ID0gdHJ1ZVxuICAgIGVsc2UgaWYgKC9eKGN8Y3RybHxjb250cm9sKSQvaS50ZXN0KG1vZCkpIGN0cmwgPSB0cnVlXG4gICAgZWxzZSBpZiAoL15zKGhpZnQpPyQvaS50ZXN0KG1vZCkpIHNoaWZ0ID0gdHJ1ZVxuICAgIGVsc2UgaWYgKC9ebW9kJC9pLnRlc3QobW9kKSkgeyBpZiAobWFjKSBtZXRhID0gdHJ1ZTsgZWxzZSBjdHJsID0gdHJ1ZSB9XG4gICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgbW9kaWZpZXIgbmFtZTogXCIgKyBtb2QpXG4gIH1cbiAgaWYgKGFsdCkgcmVzdWx0ID0gXCJBbHQtXCIgKyByZXN1bHRcbiAgaWYgKGN0cmwpIHJlc3VsdCA9IFwiQ3RybC1cIiArIHJlc3VsdFxuICBpZiAobWV0YSkgcmVzdWx0ID0gXCJNZXRhLVwiICsgcmVzdWx0XG4gIGlmIChzaGlmdCkgcmVzdWx0ID0gXCJTaGlmdC1cIiArIHJlc3VsdFxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZShtYXApIHtcbiAgbGV0IGNvcHkgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gIGZvciAobGV0IHByb3AgaW4gbWFwKSBjb3B5W25vcm1hbGl6ZUtleU5hbWUocHJvcCldID0gbWFwW3Byb3BdXG4gIHJldHVybiBjb3B5XG59XG5cbmZ1bmN0aW9uIG1vZGlmaWVycyhuYW1lLCBldmVudCwgc2hpZnQpIHtcbiAgaWYgKGV2ZW50LmFsdEtleSkgbmFtZSA9IFwiQWx0LVwiICsgbmFtZVxuICBpZiAoZXZlbnQuY3RybEtleSkgbmFtZSA9IFwiQ3RybC1cIiArIG5hbWVcbiAgaWYgKGV2ZW50Lm1ldGFLZXkpIG5hbWUgPSBcIk1ldGEtXCIgKyBuYW1lXG4gIGlmIChzaGlmdCAhPT0gZmFsc2UgJiYgZXZlbnQuc2hpZnRLZXkpIG5hbWUgPSBcIlNoaWZ0LVwiICsgbmFtZVxuICByZXR1cm4gbmFtZVxufVxuXG4vLyA6OiAoT2JqZWN0KSDihpIgUGx1Z2luXG4vLyBDcmVhdGUgYSBrZXltYXAgcGx1Z2luIGZvciB0aGUgZ2l2ZW4gc2V0IG9mIGJpbmRpbmdzLlxuLy9cbi8vIEJpbmRpbmdzIHNob3VsZCBtYXAga2V5IG5hbWVzIHRvIFtjb21tYW5kXSgjY29tbWFuZHMpLXN0eWxlXG4vLyBmdW5jdGlvbnMsIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdpdGggYChFZGl0b3JTdGF0ZSwgZGlzcGF0Y2gsXG4vLyBFZGl0b3JWaWV3KWAgYXJndW1lbnRzLCBhbmQgc2hvdWxkIHJldHVybiB0cnVlIHdoZW4gdGhleSd2ZSBoYW5kbGVkXG4vLyB0aGUga2V5LiBOb3RlIHRoYXQgdGhlIHZpZXcgYXJndW1lbnQgaXNuJ3QgcGFydCBvZiB0aGUgY29tbWFuZFxuLy8gcHJvdG9jb2wsIGJ1dCBjYW4gYmUgdXNlZCBhcyBhbiBlc2NhcGUgaGF0Y2ggaWYgYSBiaW5kaW5nIG5lZWRzIHRvXG4vLyBkaXJlY3RseSBpbnRlcmFjdCB3aXRoIHRoZSBVSS5cbi8vXG4vLyBLZXkgbmFtZXMgbWF5IGJlIHN0cmluZ3MgbGlrZSBgXCJTaGlmdC1DdHJsLUVudGVyXCJg4oCUYSBrZXlcbi8vIGlkZW50aWZpZXIgcHJlZml4ZWQgd2l0aCB6ZXJvIG9yIG1vcmUgbW9kaWZpZXJzLiBLZXkgaWRlbnRpZmllcnNcbi8vIGFyZSBiYXNlZCBvbiB0aGUgc3RyaW5ncyB0aGF0IGNhbiBhcHBlYXIgaW5cbi8vIFtgS2V5RXZlbnQua2V5YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQva2V5KS5cbi8vIFVzZSBsb3dlcmNhc2UgbGV0dGVycyB0byByZWZlciB0byBsZXR0ZXIga2V5cyAob3IgdXBwZXJjYXNlIGxldHRlcnNcbi8vIGlmIHlvdSB3YW50IHNoaWZ0IHRvIGJlIGhlbGQpLiBZb3UgbWF5IHVzZSBgXCJTcGFjZVwiYCBhcyBhbiBhbGlhc1xuLy8gZm9yIHRoZSBgXCIgXCJgIG5hbWUuXG4vL1xuLy8gTW9kaWZpZXJzIGNhbiBiZSBnaXZlbiBpbiBhbnkgb3JkZXIuIGBTaGlmdC1gIChvciBgcy1gKSwgYEFsdC1gIChvclxuLy8gYGEtYCksIGBDdHJsLWAgKG9yIGBjLWAgb3IgYENvbnRyb2wtYCkgYW5kIGBDbWQtYCAob3IgYG0tYCBvclxuLy8gYE1ldGEtYCkgYXJlIHJlY29nbml6ZWQuIEZvciBjaGFyYWN0ZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYnkgaG9sZGluZ1xuLy8gc2hpZnQsIHRoZSBgU2hpZnQtYCBwcmVmaXggaXMgaW1wbGllZCwgYW5kIHNob3VsZCBub3QgYmUgYWRkZWRcbi8vIGV4cGxpY2l0bHkuXG4vL1xuLy8gWW91IGNhbiB1c2UgYE1vZC1gIGFzIGEgc2hvcnRoYW5kIGZvciBgQ21kLWAgb24gTWFjIGFuZCBgQ3RybC1gIG9uXG4vLyBvdGhlciBwbGF0Zm9ybXMuXG4vL1xuLy8gWW91IGNhbiBhZGQgbXVsdGlwbGUga2V5bWFwIHBsdWdpbnMgdG8gYW4gZWRpdG9yLiBUaGUgb3JkZXIgaW5cbi8vIHdoaWNoIHRoZXkgYXBwZWFyIGRldGVybWluZXMgdGhlaXIgcHJlY2VkZW5jZSAodGhlIG9uZXMgZWFybHkgaW5cbi8vIHRoZSBhcnJheSBnZXQgdG8gZGlzcGF0Y2ggZmlyc3QpLlxuZXhwb3J0IGZ1bmN0aW9uIGtleW1hcChiaW5kaW5ncykge1xuICByZXR1cm4gbmV3IFBsdWdpbih7cHJvcHM6IHtoYW5kbGVLZXlEb3duOiBrZXlkb3duSGFuZGxlcihiaW5kaW5ncyl9fSlcbn1cblxuLy8gOjogKE9iamVjdCkg4oaSICh2aWV3OiBFZGl0b3JWaWV3LCBldmVudDogZG9tLkV2ZW50KSDihpIgYm9vbFxuLy8gR2l2ZW4gYSBzZXQgb2YgYmluZGluZ3MgKHVzaW5nIHRoZSBzYW1lIGZvcm1hdCBhc1xuLy8gW2BrZXltYXBgXSgja2V5bWFwLmtleW1hcCksIHJldHVybiBhIFtrZXlkb3duXG4vLyBoYW5kbGVyXSgjdmlldy5FZGl0b3JQcm9wcy5oYW5kbGVLZXlEb3duKSB0aGF0IGhhbmRsZXMgdGhlbS5cbmV4cG9ydCBmdW5jdGlvbiBrZXlkb3duSGFuZGxlcihiaW5kaW5ncykge1xuICBsZXQgbWFwID0gbm9ybWFsaXplKGJpbmRpbmdzKVxuICByZXR1cm4gZnVuY3Rpb24odmlldywgZXZlbnQpIHtcbiAgICBsZXQgbmFtZSA9IGtleU5hbWUoZXZlbnQpLCBpc0NoYXIgPSBuYW1lLmxlbmd0aCA9PSAxICYmIG5hbWUgIT0gXCIgXCIsIGJhc2VOYW1lXG4gICAgbGV0IGRpcmVjdCA9IG1hcFttb2RpZmllcnMobmFtZSwgZXZlbnQsICFpc0NoYXIpXVxuICAgIGlmIChkaXJlY3QgJiYgZGlyZWN0KHZpZXcuc3RhdGUsIHZpZXcuZGlzcGF0Y2gsIHZpZXcpKSByZXR1cm4gdHJ1ZVxuICAgIGlmIChpc0NoYXIgJiYgKGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5tZXRhS2V5KSAmJlxuICAgICAgICAoYmFzZU5hbWUgPSBiYXNlW2V2ZW50LmtleUNvZGVdKSAmJiBiYXNlTmFtZSAhPSBuYW1lKSB7XG4gICAgICBsZXQgZnJvbUNvZGUgPSBtYXBbbW9kaWZpZXJzKGJhc2VOYW1lLCBldmVudCwgdHJ1ZSldXG4gICAgICBpZiAoZnJvbUNvZGUgJiYgZnJvbUNvZGUodmlldy5zdGF0ZSwgdmlldy5kaXNwYXRjaCwgdmlldykpIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIGlmIChpc0NoYXIgJiYgZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIGxldCB3aXRoU2hpZnQgPSBtYXBbbW9kaWZpZXJzKG5hbWUsIGV2ZW50LCB0cnVlKV1cbiAgICAgIGlmICh3aXRoU2hpZnQgJiYgd2l0aFNoaWZ0KHZpZXcuc3RhdGUsIHZpZXcuZGlzcGF0Y2gsIHZpZXcpKSByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuIiwiaW1wb3J0IHsgRWRpdG9yU3RhdGUsIFBsdWdpbiB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJztcbmltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdwcm9zZW1pcnJvci12aWV3JztcbmltcG9ydCB7IGJhc2VLZXltYXAgfSBmcm9tICdwcm9zZW1pcnJvci1jb21tYW5kcyc7XG5pbXBvcnQgeyBrZXltYXAgfSBmcm9tICdwcm9zZW1pcnJvci1rZXltYXAnO1xuaW1wb3J0IHsgbGlmdExpc3RJdGVtLCBzaW5rTGlzdEl0ZW0sIHNwbGl0TGlzdEl0ZW0gfSBmcm9tICdwcm9zZW1pcnJvci1zY2hlbWEtbGlzdCc7XG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5cbmV4cG9ydCBjb25zdCBrZXltYXBQbHVnaW5zOiBQbHVnaW5bXSA9IFtcbiAga2V5bWFwKHtcbiAgICBFbnRlcjogc3BsaXRMaXN0SXRlbShzY2hlbWEubm9kZXMubGlzdF9pdGVtKSxcbiAgfSksXG4gIGtleW1hcCh7XG4gICAgRW50ZXIoc3RhdGUsIGRpc3BhdGNoKSB7XG4gICAgICBjb25zdCB7IHNlbGVjdGlvbjogeyAkZnJvbSwgZnJvbSB9LCB0ciB9ID0gc3RhdGU7XG4gICAgICBpZiAoJGZyb20ucGFyZW50LnR5cGUgIT09IHNjaGVtYS5ub2Rlcy5jaGVja2xpc3RfaXRlbSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB0ci5kZWxldGVTZWxlY3Rpb24oKTtcbiAgICAgIGNvbnN0IG5leHQkRnJvbSA9IHRyLmRvYy5yZXNvbHZlKGZyb20pO1xuICAgICAgaWYgKG5leHQkRnJvbS5wYXJlbnQubm9kZVNpemUgPT09IDIpe1xuICAgICAgICBjb25zdCBuZXh0RnJvbSA9IG5leHQkRnJvbS5wb3M7XG4gICAgICAgIC8vIFRoZSBub2RlIGlzIGVtcHR5XG4gICAgICAgIHRyLnJlcGxhY2VXaXRoKG5leHRGcm9tIC0gMSwgbmV4dEZyb20gKyAxLCBzY2hlbWEubm9kZXMucGFyYWdyYXBoLmNyZWF0ZUFuZEZpbGwoKSk7XG4gICAgICAgIGRpc3BhdGNoKHRyKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB0ci5zcGxpdChmcm9tLCB1bmRlZmluZWQsIFt7XG4gICAgICAgIHR5cGU6IHNjaGVtYS5ub2Rlcy5jaGVja2xpc3RfaXRlbSxcbiAgICAgICAgYXR0cnM6IHsgY2hlY2tlZDogZmFsc2UgfVxuICAgICAgfV0pO1xuICAgICAgZGlzcGF0Y2godHIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgfSksXG4gIGtleW1hcChiYXNlS2V5bWFwKSxcbl07XG4iLCJpbXBvcnQgJ3Byb3NlbWlycm9yLXZpZXcvc3R5bGUvcHJvc2VtaXJyb3IuY3NzJztcbmltcG9ydCAnLi9pbmRleC5odG1sJztcbmltcG9ydCAnLi9zdHlsZXMuY3NzJztcbmltcG9ydCAnLi9leHQuanNvbic7XG5pbXBvcnQgJy4vZGV2LWV4dC5qc29uJztcbmltcG9ydCAnLi9zdmdzLnRzJztcblxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgQ29tcG9uZW50TWFuYWdlciBmcm9tICdzbi1jb21wb25lbnRzLWFwaSc7XG5pbXBvcnQgeyBiYXNlS2V5bWFwIH0gZnJvbSAncHJvc2VtaXJyb3ItY29tbWFuZHMnO1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ3Byb3NlbWlycm9yLXZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yU3RhdGUsIFBsdWdpbiB9IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJztcbmltcG9ydCB7IGhpc3RvcnkgfSBmcm9tICdwcm9zZW1pcnJvci1oaXN0b3J5JztcbmltcG9ydCB7IGlucHV0UnVsZXNQbHVnaW4gfSBmcm9tICcuL2lucHV0UnVsZXMnO1xuaW1wb3J0IHsgVG9vbGJhclBsdWdpbiB9IGZyb20gJy4vVG9vbGJhclBsdWdpbic7XG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5pbXBvcnQgeyBjbGllbnQgfSBmcm9tICcuL2NsaWVudCc7XG5pbXBvcnQgeyBub2RlVmlld3MgfSBmcm9tICcuL25vZGVWaWV3cyc7XG5pbXBvcnQgeyBrZXltYXBQbHVnaW5zIH0gZnJvbSAnLi9rZXltYXBzJztcblxuaW50ZXJmYWNlIEFwcFdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gIHZpZXc6IEVkaXRvclZpZXc7XG59XG5cbmRlY2xhcmUgY29uc3Qgd2luZG93OiBBcHBXaW5kb3c7XG5cbmZ1bmN0aW9uIGdldERvY0Zvck5ld0VkaXRvclN0YXRlKCkge1xuICByZXR1cm4gY2xpZW50LmxhdGVzdERvY1xuICAgID8gc2NoZW1hLm5vZGVGcm9tSlNPTihjbGllbnQubGF0ZXN0RG9jKVxuICAgIDogc2NoZW1hLnRvcE5vZGVUeXBlLmNyZWF0ZUFuZEZpbGwoKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5pdCgpIHtcbiAgYXdhaXQgY2xpZW50LnJlYWR5KCk7XG5cbiAgY29uc3QgdmlldyA9ICh3aW5kb3cudmlldyA9IG5ldyBFZGl0b3JWaWV3KFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlZGl0b3InKSxcbiAgICB7XG4gICAgICBzdGF0ZTogRWRpdG9yU3RhdGUuY3JlYXRlKHtcbiAgICAgICAgZG9jOiBnZXREb2NGb3JOZXdFZGl0b3JTdGF0ZSgpLFxuICAgICAgICBwbHVnaW5zOiBbXG4gICAgICAgICAgLi4ua2V5bWFwUGx1Z2lucyxcbiAgICAgICAgICBuZXcgVG9vbGJhclBsdWdpbihcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b29sYmFyJyksXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGluay1tb2RhbCcpLFxuICAgICAgICAgICksXG4gICAgICAgICAgbmV3IFBsdWdpbih7XG4gICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICBub2RlVmlld3MsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGlucHV0UnVsZXNQbHVnaW4sXG4gICAgICAgICAgaGlzdG9yeSgpLFxuICAgICAgICBdLFxuICAgICAgfSksXG4gICAgICBkaXNwYXRjaFRyYW5zYWN0aW9uKHRyKSB7XG4gICAgICAgIGNvbnN0IG5leHQgPSB2aWV3LnN0YXRlLmFwcGx5KHRyKTtcbiAgICAgICAgdmlldy51cGRhdGVTdGF0ZShuZXh0KTtcbiAgICAgICAgY2xpZW50LnNhdmVOb3RlKG5leHQuZG9jLnRvSlNPTigpKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgKSk7XG5cbiAgY2xpZW50Lm9uVXBkYXRlKChkb2MpID0+IHtcbiAgICB2aWV3LnNldFByb3BzKHtcbiAgICAgIHN0YXRlOiBFZGl0b3JTdGF0ZS5jcmVhdGUoe1xuICAgICAgICBkb2M6IGdldERvY0Zvck5ld0VkaXRvclN0YXRlKCksXG4gICAgICAgIHBsdWdpbnM6IHZpZXcuc3RhdGUucGx1Z2lucyxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9KTtcbn1cblxuaW5pdCgpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==