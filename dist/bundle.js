!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"></path><path d="M0 0h24v24H0V0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 18h12v-2H3v2zM3 6v2h18V6H3zm0 7h18v-2H3v2z"></path><path d="M0 0h24v24H0V0z" fill="none"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></svg>'},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sentMessages=[],this.messageQueue=[],this.loggingEnabled=!1,this.acceptsThemes=!0,this.activeThemes=[],this.initialPermissions=e,this.onReadyCallback=n,this.coallesedSaving=!0,this.coallesedSavingDelay=250,this.registerMessageHandler()}var e,n,o;return e=t,(n=[{key:"registerMessageHandler",value:function(){var t=this,e=function(e){if(t.loggingEnabled&&console.log("Components API Message received:",e.data),!document.referrer||new URL(document.referrer).origin===new URL(e.origin).origin){if(t.origin){if(e.origin!==t.origin)return}else t.origin=e.origin;var n=e.data,r="string"==typeof n?JSON.parse(n):n;t.handleMessage(r)}};document.addEventListener("message",(function(t){e(t)}),!1),window.addEventListener("message",(function(t){e(t)}),!1)}},{key:"handleMessage",value:function(t){if("component-registered"===t.action)this.sessionKey=t.sessionKey,this.componentData=t.componentData,this.onReady(t.data),this.loggingEnabled&&console.log("Component successfully registered with payload:",t);else if("themes"===t.action)this.acceptsThemes&&this.activateThemes(t.data.themes);else if(t.original){var e=this.sentMessages.filter((function(e){return e.messageId===t.original.messageId}))[0];e||alert("This extension is attempting to communicate with Standard Notes, but an error is preventing it from doing so. Please restart this extension and try again."),e.callback&&e.callback(t.data)}}},{key:"onReady",value:function(t){this.environment=t.environment,this.platform=t.platform,this.uuid=t.uuid,this.isMobile="mobile"==this.environment,this.initialPermissions&&this.initialPermissions.length>0&&this.requestPermissions(this.initialPermissions);var e=!0,n=!1,r=void 0;try{for(var o,i=this.messageQueue[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var s=o.value;this.postMessage(s.action,s.data,s.callback)}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}this.messageQueue=[],this.loggingEnabled&&console.log("onReadyData",t),this.activateThemes(t.activeThemeUrls||[]),this.onReadyCallback&&this.onReadyCallback()}},{key:"getSelfComponentUUID",value:function(){return this.uuid}},{key:"isRunningInDesktopApplication",value:function(){return"desktop"===this.environment}},{key:"setComponentDataValueForKey",value:function(t,e){this.componentData[t]=e,this.postMessage("set-component-data",{componentData:this.componentData},(function(t){}))}},{key:"clearComponentData",value:function(){this.componentData={},this.postMessage("set-component-data",{componentData:this.componentData},(function(t){}))}},{key:"componentDataValueForKey",value:function(t){return this.componentData[t]}},{key:"postMessage",value:function(t,e,n){if(this.sessionKey){var r={action:t,data:e,messageId:this.generateUUID(),sessionKey:this.sessionKey,api:"component"},o=JSON.parse(JSON.stringify(r));o.callback=n,this.sentMessages.push(o),this.isMobile&&(r=JSON.stringify(r)),this.loggingEnabled&&console.log("Posting message:",r),window.parent.postMessage(r,this.origin)}else this.messageQueue.push({action:t,data:e,callback:n})}},{key:"setSize",value:function(t,e,n){this.postMessage("set-size",{type:t,width:e,height:n},(function(t){}))}},{key:"requestPermissions",value:function(t,e){this.postMessage("request-permissions",{permissions:t},function(t){e&&e()}.bind(this))}},{key:"streamItems",value:function(t,e){Array.isArray(t)||(t=[t]),this.postMessage("stream-items",{content_types:t},function(t){e(t.items)}.bind(this))}},{key:"streamContextItem",value:function(t){var e=this;this.postMessage("stream-context-item",null,(function(n){var r=n.item;(!e.lastStreamedItem||e.lastStreamedItem.uuid!==r.uuid)&&e.pendingSaveTimeout&&(clearTimeout(e.pendingSaveTimeout),e._performSavingOfItems(e.pendingSaveParams),e.pendingSaveTimeout=null,e.pendingSaveParams=null),e.lastStreamedItem=r,t(e.lastStreamedItem)}))}},{key:"selectItem",value:function(t){this.postMessage("select-item",{item:this.jsonObjectForItem(t)})}},{key:"createItem",value:function(t,e){this.postMessage("create-item",{item:this.jsonObjectForItem(t)},function(t){var n=t.item;!n&&t.items&&t.items.length>0&&(n=t.items[0]),this.associateItem(n),e&&e(n)}.bind(this))}},{key:"createItems",value:function(t,e){var n=this,r=t.map((function(t){return n.jsonObjectForItem(t)}));this.postMessage("create-items",{items:r},function(t){e&&e(t.items)}.bind(this))}},{key:"associateItem",value:function(t){this.postMessage("associate-item",{item:this.jsonObjectForItem(t)})}},{key:"deassociateItem",value:function(t){this.postMessage("deassociate-item",{item:this.jsonObjectForItem(t)})}},{key:"clearSelection",value:function(){this.postMessage("clear-selection",{content_type:"Tag"})}},{key:"deleteItem",value:function(t,e){this.deleteItems([t],e)}},{key:"deleteItems",value:function(t,e){var n={items:t.map(function(t){return this.jsonObjectForItem(t)}.bind(this))};this.postMessage("delete-items",n,(function(t){e&&e(t)}))}},{key:"sendCustomEvent",value:function(t,e,n){this.postMessage(t,e,function(t){n&&n(t)}.bind(this))}},{key:"saveItem",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.saveItems([t],e,n)}},{key:"saveItemWithPresave",value:function(t,e,n){this.saveItemsWithPresave([t],e,n)}},{key:"saveItemsWithPresave",value:function(t,e,n){this.saveItems(t,n,!1,e)}},{key:"_performSavingOfItems",value:function(t){var e=t.items,n=t.presave,r=t.callback;n&&n();var o=[],i=!0,s=!1,a=void 0;try{for(var c,h=e[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){var l=c.value;o.push(this.jsonObjectForItem(l))}}catch(t){s=!0,a=t}finally{try{i||null==h.return||h.return()}finally{if(s)throw a}}this.postMessage("save-items",{items:o},(function(t){r&&r()}))}},{key:"saveItems",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;if(this.pendingSaveItems||(this.pendingSaveItems=[]),1!=this.coallesedSaving||r)this._performSavingOfItems({items:t,presave:o,callback:e});else{this.pendingSaveTimeout&&clearTimeout(this.pendingSaveTimeout);var i=t.map((function(t){return t.uuid})),s=this.pendingSaveItems.filter((function(t){return!i.includes(t.uuid)}));this.pendingSaveItems=s.concat(t),this.pendingSaveParams={items:this.pendingSaveItems,presave:o,callback:e},this.pendingSaveTimeout=setTimeout((function(){n._performSavingOfItems(n.pendingSaveParams),n.pendingSaveItems=[],n.pendingSaveTimeout=null,n.pendingSaveParams=null}),this.coallesedSavingDelay)}}},{key:"jsonObjectForItem",value:function(t){var e=Object.assign({},t);return e.children=null,e.parent=null,e}},{key:"getItemAppDataValue",value:function(t,e){var n=t.content.appData&&t.content.appData["org.standardnotes.sn"];return n?n[e]:null}},{key:"activateThemes",value:function(t){if(this.loggingEnabled&&console.log("Incoming themes",t),this.activeThemes.sort().toString()!=t.sort().toString()){var e=t||[],n=[],r=!0,o=!1,i=void 0;try{for(var s,a=this.activeThemes[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var c=s.value;t.includes(c)?e=e.filter((function(t){return t!=c})):n.push(c)}}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}this.loggingEnabled&&(console.log("Deactivating themes:",n),console.log("Activating themes:",e));for(var h=0,l=n;h<l.length;h++){var p=l[h];this.deactivateTheme(p)}this.activeThemes=t;var u=!0,f=!1,d=void 0;try{for(var m,v=e[Symbol.iterator]();!(u=(m=v.next()).done);u=!0){var g=m.value;if(g){var y=document.createElement("link");y.id=btoa(g),y.href=g,y.type="text/css",y.rel="stylesheet",y.media="screen,print",y.className="custom-theme",document.getElementsByTagName("head")[0].appendChild(y)}}}catch(t){f=!0,d=t}finally{try{u||null==v.return||v.return()}finally{if(f)throw d}}}}},{key:"themeElementForUrl",value:function(t){return Array.from(document.getElementsByClassName("custom-theme")).slice().find((function(e){return e.id==btoa(t)}))}},{key:"deactivateTheme",value:function(t){var e=this.themeElementForUrl(t);e&&(e.disabled=!0,e.parentNode.removeChild(e))}},{key:"generateUUID",value:function(){var t=window.crypto||window.msCrypto;if(t){var e=new Uint32Array(4);t.getRandomValues(e);var n=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){n++;var r=e[n>>3]>>n%8*4&15;return("x"==t?r:3&r|8).toString(16)}))}var r=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(r+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==t?e:3&e|8).toString(16)}))}}])&&r(e.prototype,n),o&&r(e,o),t}();void 0!==t.exports&&(t.exports=o),window&&(window.ComponentManager=o)},function(t,e,n){n(14),t.exports=n(13)},function(t,e,n){},function(t,e,n){"use strict";function r(t){this.content=t}n.r(e),r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,i=o.find(t),s=o.content.slice();return-1==i?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new r(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var o=this.remove(e),i=o.content.slice(),s=o.find(t);return i.splice(-1==s?i.length:s,0,e,n),new r(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=r.from(t)).size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=r.from(t)).size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};var o=r;var i=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},s={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};i.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,s=0;s<e;i++){var a=this.content[i],c=s+a.nodeSize;if(c>t&&!1!==n(a,r+s,o,i)&&a.content.size){var h=s+1;a.nodesBetween(Math.max(0,t-h),Math.min(a.content.size,e-h),n,r+h)}s=c}},i.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},i.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!n):s.isLeaf&&r?(o+=r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o},i.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new i(r,this.size+t.size)},i.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,s=0;s<e;o++){var a=this.content[o],c=s+a.nodeSize;c>t&&((s<t||c>e)&&(a=a.isText?a.cut(Math.max(0,t-s),Math.min(a.text.length,e-s)):a.cut(Math.max(0,t-s-1),Math.min(a.content.size,e-s-1))),n.push(a),r+=a.nodeSize),s=c}return new i(n,r)},i.prototype.cutByIndex=function(t,e){return t==e?i.empty:0==t&&e==this.content.length?this:new i(this.content.slice(t,e))},i.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new i(r,o)},i.prototype.addToStart=function(t){return new i([t].concat(this.content),this.size+t.nodeSize)},i.prototype.addToEnd=function(t){return new i(this.content.concat(t),this.size+t.nodeSize)},i.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},s.firstChild.get=function(){return this.content.length?this.content[0]:null},s.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},s.childCount.get=function(){return this.content.length},i.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},i.prototype.maybeChild=function(t){return this.content[t]},i.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},i.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),function t(e,n,r){for(var o=0;;o++){if(o==e.childCount||o==n.childCount)return e.childCount==n.childCount?null:r;var i=e.child(o),s=n.child(o);if(i!=s){if(!i.sameMarkup(s))return r;if(i.isText&&i.text!=s.text){for(var a=0;i.text[a]==s.text[a];a++)r++;return r}if(i.content.size||s.content.size){var c=t(i.content,s.content,r+1);if(null!=c)return c}r+=i.nodeSize}else r+=i.nodeSize}}(this,t,e)},i.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),function t(e,n,r,o){for(var i=e.childCount,s=n.childCount;;){if(0==i||0==s)return i==s?null:{a:r,b:o};var a=e.child(--i),c=n.child(--s),h=a.nodeSize;if(a!=c){if(!a.sameMarkup(c))return{a:r,b:o};if(a.isText&&a.text!=c.text){for(var l=0,p=Math.min(a.text.length,c.text.length);l<p&&a.text[a.text.length-l-1]==c.text[c.text.length-l-1];)l++,r--,o--;return{a:r,b:o}}if(a.content.size||c.content.size){var u=t(a.content,c.content,r-1,o-1);if(u)return u}r-=h,o-=h}else r-=h,o-=h}}(this,t,e,n)},i.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return c(0,t);if(t==this.size)return c(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=t)return o==t||e>0?c(n+1,o):c(n,r);r=o}},i.prototype.toString=function(){return"<"+this.toStringInner()+">"},i.prototype.toStringInner=function(){return this.content.join(", ")},i.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},i.fromJSON=function(t,e){if(!e)return i.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new i(e.map(t.nodeFromJSON))},i.fromArray=function(t){if(!t.length)return i.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new i(e||t,n)},i.from=function(t){if(!t)return i.empty;if(t instanceof i)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new i([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(i.prototype,s);var a={index:0,offset:0};function c(t,e){return a.index=t,a.offset=e,a}function h(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!h(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!h(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}i.empty=new i([],0);var l=function(t,e){this.type=t,this.attrs=e};function p(t){var e=Error.call(this,t);return e.__proto__=p.prototype,e}l.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},l.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},l.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},l.prototype.eq=function(t){return this==t||this.type==t.type&&h(this.attrs,t.attrs)},l.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},l.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},l.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},l.setFrom=function(t){if(!t||0==t.length)return l.none;if(t instanceof l)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},l.none=[],p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="ReplaceError";var u=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},f={size:{configurable:!0}};function d(t,e,n){if(n.openStart>t.depth)throw new p("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new p("Inconsistent open depths");return function t(e,n,r,o){var s=e.index(o),a=e.node(o);if(s==n.index(o)&&o<e.depth-r.openStart){var c=t(e,n,r,o+1);return a.copy(a.content.replaceChild(s,c))}if(r.content.size){if(r.openStart||r.openEnd||e.depth!=o||n.depth!=o){var h=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),o=n-1;o>=0;o--)r=e.node(o).copy(i.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(r,e),l=h.start,p=h.end;return w(a,function t(e,n,r,o,s){var a=e.depth>s&&v(e,n,s+1),c=o.depth>s&&v(r,o,s+1),h=[];y(null,e,s,h),a&&c&&n.index(s)==r.index(s)?(m(a,c),g(w(a,t(e,n,r,o,s+1)),h)):(a&&g(w(a,b(e,n,s+1)),h),y(n,r,s,h),c&&g(w(c,b(r,o,s+1)),h));return y(o,null,s,h),new i(h)}(e,l,p,n,o))}var u=e.parent,f=u.content;return w(u,f.cut(0,e.parentOffset).append(r.content).append(f.cut(n.parentOffset)))}return w(a,b(e,n,o))}(t,e,n,0)}function m(t,e){if(!e.type.compatibleContent(t.type))throw new p("Cannot join "+e.type.name+" onto "+t.type.name)}function v(t,e,n){var r=t.node(n);return m(r,e.node(n)),r}function g(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function y(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(g(t.nodeAfter,r),i++));for(var a=i;a<s;a++)g(o.child(a),r);e&&e.depth==n&&e.textOffset&&g(e.nodeBefore,r)}function w(t,e){if(!t.type.validContent(e))throw new p("Invalid content for node "+t.type.name);return t.copy(e)}function b(t,e,n){var r=[];(y(null,t,n,r),t.depth>n)&&g(w(v(t,e,n+1),b(t,e,n+1)),r);return y(e,null,n,r),new i(r)}f.size.get=function(){return this.content.size-this.openStart-this.openEnd},u.prototype.insertAt=function(t,e){var n=function t(e,n,r,o){var i=e.findIndex(n),s=i.index,a=i.offset,c=e.maybeChild(s);if(a==n||c.isText)return o&&!o.canReplace(s,s,r)?null:e.cut(0,n).append(r).append(e.cut(n));var h=t(c.content,n-a-1,r);return h&&e.replaceChild(s,c.copy(h))}(this.content,t+this.openStart,e,null);return n&&new u(n,this.openStart,this.openEnd)},u.prototype.removeBetween=function(t,e){return new u(function t(e,n,r){var o=e.findIndex(n),i=o.index,s=o.offset,a=e.maybeChild(i),c=e.findIndex(r),h=c.index,l=c.offset;if(s==n||a.isText){if(l!=r&&!e.child(h).isText)throw new RangeError("Removing non-flat range");return e.cut(0,n).append(e.cut(r))}if(i!=h)throw new RangeError("Removing non-flat range");return e.replaceChild(i,a.copy(t(a.content,n-s-1,r-s-1)))}(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},u.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},u.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},u.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},u.fromJSON=function(t,e){if(!e)return u.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new u(i.fromJSON(t,e.content),e.openStart||0,e.openEnd||0)},u.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new u(t,n,r)},Object.defineProperties(u.prototype,f),u.empty=new u(i.empty,0,0);var k=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},x={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};k.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},x.parent.get=function(){return this.node(this.depth)},x.doc.get=function(){return this.node(0)},k.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},k.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},k.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},k.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},k.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},k.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},k.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},x.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},x.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},x.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},k.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return l.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var i=n.marks,s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i},k.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},k.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},k.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new C(this,t,n)},k.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},k.prototype.max=function(t){return t.pos>this.pos?t:this},k.prototype.min=function(t){return t.pos<this.pos?t:this},k.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},k.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,c=s.offset,h=o-c;if(n.push(i,a,r+c),!h)break;if((i=i.child(a)).isText)break;o=h-1,r+=c+1}return new k(e,n,o)},k.resolveCached=function(t,e){for(var n=0;n<S.length;n++){var r=S[n];if(r.pos==e&&r.doc==t)return r}var o=S[M]=k.resolve(t,e);return M=(M+1)%O,o},Object.defineProperties(k.prototype,x);var S=[],M=0,O=12,C=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},T={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};T.start.get=function(){return this.$from.before(this.depth+1)},T.end.get=function(){return this.$to.after(this.depth+1)},T.parent.get=function(){return this.$from.node(this.depth)},T.startIndex.get=function(){return this.$from.index(this.depth)},T.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(C.prototype,T);var D=Object.create(null),N=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||i.empty,this.marks=r||l.none},E={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};E.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},E.childCount.get=function(){return this.content.childCount},N.prototype.child=function(t){return this.content.child(t)},N.prototype.maybeChild=function(t){return this.content.maybeChild(t)},N.prototype.forEach=function(t){this.content.forEach(t)},N.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},N.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},E.textContent.get=function(){return this.textBetween(0,this.content.size,"")},N.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},E.firstChild.get=function(){return this.content.firstChild},E.lastChild.get=function(){return this.content.lastChild},N.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},N.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},N.prototype.hasMarkup=function(t,e,n){return this.type==t&&h(this.attrs,e||t.defaultAttrs||D)&&l.sameSet(this.marks,n||l.none)},N.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},N.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},N.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},N.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return u.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i).content.cut(r.pos-s,o.pos-s);return new u(a,r.depth-i,o.depth-i)},N.prototype.replace=function(t,e,n){return d(this.resolve(t),this.resolve(e),n)},N.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(!(e=e.maybeChild(r)))return null;if(o==t||e.isText)return e;t-=o+1}},N.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},N.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},N.prototype.resolve=function(t){return k.resolveCached(this,t)},N.prototype.resolveNoCache=function(t){return k.resolve(this,t)},N.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},E.isBlock.get=function(){return this.type.isBlock},E.isTextblock.get=function(){return this.type.isTextblock},E.inlineContent.get=function(){return this.type.inlineContent},E.isInline.get=function(){return this.type.isInline},E.isText.get=function(){return this.type.isText},E.isLeaf.get=function(){return this.type.isLeaf},E.isAtom.get=function(){return this.type.isAtom},N.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),I(this.marks,t)},N.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},N.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=i.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var s=this.contentMatchAt(t).matchFragment(n,r,o),a=s&&s.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(var c=r;c<o;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0},N.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},N.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},N.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(t){return t.check()}))},N.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},N.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=i.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(N.prototype,E);var A=function(t){function e(e,n,r,o){if(t.call(this,e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):I(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(N);function I(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var z=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},R={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};z.parse=function(t,e){var n=new P(t,e);if(null==n.next)return z.empty;var r=_(n);n.next&&n.err("Unexpected trailing text");var o=function(t){var e=Object.create(null);return function n(r){var o=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),s=i>-1&&o[i+1];q(t,r).forEach((function(t){s||o.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var i=e[r.join(",")]=new z(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(L);i.next.push(o[s],e[a.join(",")]||n(a))}return i}(q(t,0))}(function(t){var e=[[]];return o(function t(e,i){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(t(n,i))}),[]);if("seq"==e.type)for(var s=0;;s++){var a=t(e.exprs[s],i);if(s==e.exprs.length-1)return a;o(a,i=n())}else{if("star"==e.type){var c=n();return r(i,c),o(t(e.expr,c),c),[r(c)]}if("plus"==e.type){var h=n();return o(t(e.expr,i),h),o(t(e.expr,h),h),[r(h)]}if("opt"==e.type)return[r(i)].concat(t(e.expr,i));if("range"==e.type){for(var l=i,p=0;p<e.min;p++){var u=n();o(t(e.expr,l),u),l=u}if(-1==e.max)o(t(e.expr,l),l);else for(var f=e.min;f<e.max;f++){var d=n();r(l,d),o(t(e.expr,l),d),l=d}return[r(l)]}if("name"==e.type)return[r(i,null,e.value)]}}(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach((function(t){return t.to=e}))}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var c=o.next[a],h=o.next[a+1];s.push(c.name),!i||c.isText||c.hasRequiredAttrs()||(i=!1),-1==r.indexOf(h)&&r.push(h)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position")}}(o,n),o},z.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},z.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},R.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},R.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},z.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},z.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function o(s,a){var c=s.matchFragment(t,n);if(c&&(!e||c.validEnd))return i.from(a.map((function(t){return t.createAndFill()})));for(var h=0;h<s.next.length;h+=2){var l=s.next[h],p=s.next[h+1];if(!l.isText&&!l.hasRequiredAttrs()&&-1==r.indexOf(p)){r.push(p);var u=o(p,a.concat(l));if(u)return u}}}(this,[])},z.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},z.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a+=2){var c=o.next[a];c.isLeaf||c.hasRequiredAttrs()||c.name in e||r.type&&!o.next[a+1].validEnd||(n.push({match:c.contentMatch,type:c,via:r}),e[c.name]=!0)}}},R.edgeCount.get=function(){return this.next.length>>1},z.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},z.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r})).join("\n")},Object.defineProperties(z.prototype,R),z.empty=new z(!0);var P=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},B={next:{configurable:!0}};function _(t){var e=[];do{e.push(V(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function V(t){var e=[];do{e.push($(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function $(t){for(var e=function(t){if(t.eat("(")){var e=_(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}0==o.length&&t.err("No node type or group '"+e+"' found");return o}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=j(t,e)}return e}function F(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function j(t,e){var n=F(t),r=n;return t.eat(",")&&(r="}"!=t.next?F(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function L(t,e){return e-t}function q(t,e){var n=[];return function e(r){var o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var s=o[i],a=s.term,c=s.to;a||-1!=n.indexOf(c)||e(c)}}(e),n.sort(L)}function J(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function W(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function H(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new G(t[n]);return e}B.next.get=function(){return this.tokens[this.pos]},P.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},P.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(P.prototype,B);var K=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=H(n.attrs),this.defaultAttrs=J(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},U={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};U.isInline.get=function(){return!this.isBlock},U.isTextblock.get=function(){return this.isBlock&&this.inlineContent},U.isLeaf.get=function(){return this.contentMatch==z.empty},U.isAtom.get=function(){return this.isLeaf||this.spec.atom},K.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},K.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},K.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:W(this.attrs,t)},K.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new N(this,this.computeAttrs(t),i.from(e),l.setFrom(n))},K.prototype.createChecked=function(t,e,n){if(e=i.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new N(this,this.computeAttrs(t),e,l.setFrom(n))},K.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=i.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(i.empty,!0);return o?new N(this,t,e.append(o),l.setFrom(n)):null},K.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},K.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},K.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},K.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:l.empty:t},K.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new K(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(K.prototype,U);var G=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},Q={isRequired:{configurable:!0}};Q.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(G.prototype,Q);var Y=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=H(r.attrs),this.rank=e,this.excluded=null;var o=J(this.attrs);this.instance=o&&new l(this,o)};Y.prototype.create=function(t){return!t&&this.instance?this.instance:new l(this,W(this.attrs,t))},Y.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,o){return n[t]=new Y(t,r++,e,o)})),n},Y.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t.slice(0,e).concat(t.slice(e+1));return t},Y.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},Y.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var X=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=o.from(t.nodes),this.spec.marks=o.from(t.marks),this.nodes=K.compile(this.spec.nodes,this),this.marks=Y.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var i=this.nodes[r],s=i.spec.content||"",a=i.spec.marks;i.contentMatch=n[s]||(n[s]=z.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==a?null:a?Z(this,a.split(" ")):""!=a&&i.inlineContent?null:[]}for(var c in this.marks){var h=this.marks[c],l=h.spec.excludes;h.excluded=null==l?[h]:""==l?[]:Z(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Z(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(var a in t.marks){var c=t.marks[a];("_"==o||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}X.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof K))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},X.prototype.text=function(t,e){var n=this.nodes.text;return new A(n,n.defaultAttrs,t,l.setFrom(e))},X.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},X.prototype.nodeFromJSON=function(t){return N.fromJSON(this,t)},X.prototype.markFromJSON=function(t){return l.fromJSON(this,t)},X.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var tt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)}))};tt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new st(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},tt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new st(this,e,!0);return n.addAll(t,null,e.from,e.to),u.maxOpen(n.finish())},tt.prototype.matchTag=function(t,e){for(var n=0;n<this.tags.length;n++){var r=this.tags[n];if(ct(t,r.tag)&&(void 0===r.namespace||t.namespaceURI==r.namespace)&&(!r.context||e.matchesContext(r.context))){if(r.getAttrs){var o=r.getAttrs(t);if(!1===o)continue;r.attrs=o}return r}}},tt.prototype.matchStyle=function(t,e,n){for(var r=0;r<this.styles.length;r++){var o=this.styles[r];if(!(0!=o.style.indexOf(t)||o.context&&!n.matchesContext(o.context)||o.style.length>t.length&&(61!=o.style.charCodeAt(t.length)||o.style.slice(t.length+1)!=e))){if(o.getAttrs){var i=o.getAttrs(e);if(!1===i)continue;o.attrs=i}return o}}},tt.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var o=e[r];if((null==o.priority?50:o.priority)<n)break}e.splice(r,0,t)}var r=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=ht(t)),t.mark=e}))};for(var o in t.marks)r(o);var i;for(var s in t.nodes)i=void 0,(i=t.nodes[s].spec.parseDOM)&&i.forEach((function(t){n(t=ht(t)),t.node=s}));return e},tt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new tt(t,tt.schemaRules(t)))};var et={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},nt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},rt={ol:!0,ul:!0};function ot(t){return(t?1:0)|("full"===t?2:0)}var it=function(t,e,n,r,o,i,s){this.type=t,this.attrs=e,this.solid=o,this.match=i||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=l.none,this.pendingMarks=r};it.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(i.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},it.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=i.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(i.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},it.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):lt(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}};var st=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=ot(e.preserveWhitespace)|(n?4:0);r=o?new it(o.type,o.attrs,l.none,l.none,!0,e.topMatch||o.type.contentMatch,i):new it(n?null:t.schema.topNodeType,null,l.none,l.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},at={top:{configurable:!0},currentPos:{configurable:!0}};function ct(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ht(t){var e={};for(var n in t)e[n]=t[n];return e}function lt(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],s=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.type,a=r.next;if(o==e)return!0;if(i.indexOf(a)<0&&s(a))return!0}};return s(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}at.top.get=function(){return this.nodes[this.open]},st.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},st.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)2&n.options||(e=e.replace(/\r?\n|\r/g," "));else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},st.prototype.addElement=function(t){var e=t.nodeName.toLowerCase();rt.hasOwnProperty(e)&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&rt.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var n=this.options.ruleFromNode&&this.options.ruleFromNode(t)||this.parser.matchTag(t,this);if(n?n.ignore:nt.hasOwnProperty(e))this.findInside(t);else if(!n||n.skip){n&&n.skip.nodeType&&(t=n.skip);var r,o=this.top,i=this.needsBlock;if(et.hasOwnProperty(e))r=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),r&&this.sync(o),this.needsBlock=i}else this.addElementByRule(t,n)},st.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},st.prototype.readStyles=function(t){for(var e=l.none,n=0;n<t.length;n+=2){var r=this.parser.matchStyle(t[n],t[n+1],this);if(r){if(r.ignore)return null;e=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(e)}}return e},st.prototype.addElementByRule=function(t,e){var n,r,o,i=this;e.node?(r=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(r.create(e.attrs))||this.leafFallback(t):n=this.enter(r,e.attrs,e.preserveWhitespace):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));var s=this.top;if(r&&r.isLeaf)this.findInside(t);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return i.insertNode(t)}));else{var a=e.contentElement;"string"==typeof a?a=t.querySelector(a):"function"==typeof a&&(a=a(t)),a||(a=t),this.findAround(t,a,!0),this.addAll(a,n)}n&&(this.sync(s),this.open--),o&&this.removePendingMark(o,s)},st.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&et.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},st.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},st.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},st.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},st.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?-5&o.options:ot(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new it(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},st.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},st.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},st.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},at.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},st.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},st.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},st.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},st.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},st.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=function(t,a){for(;t>=0;t--){var c=n[t];if(""==c){if(t==n.length-1||0==t)continue;for(;a>=i;a--)if(s(t-1,a))return!0;return!1}var h=a>0||0==a&&o?e.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!h||h.name!=c&&-1==h.groups.indexOf(c))return!1;a--}return!0};return s(n.length-1,this.open)},st.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},st.prototype.addPendingMark=function(t){this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},st.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1?r.pendingMarks=t.removeFromSet(r.pendingMarks):r.activeMarks=t.removeFromSet(r.activeMarks),r==e)break}},Object.defineProperties(st.prototype,at);var pt=function(t,e){this.nodes=t||{},this.marks=e||{}};function ut(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function ft(t){return t.document||window.document}pt.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=ft(e).createDocumentFragment());var o=n,i=null;return t.forEach((function(t){if(i||t.marks.length){i||(i=[]);for(var n=0,s=0;n<i.length&&s<t.marks.length;){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(i[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}for(;n<i.length;)o=i.pop(),i.pop();for(;s<t.marks.length;){var c=t.marks[s++],h=r.serializeMark(c,t.isInline,e);h&&(i.push(c,o),o.appendChild(h.dom),o=h.contentDOM||h.dom)}}o.appendChild(r.serializeNode(t,e))})),n},pt.prototype.serializeNode=function(t,e){void 0===e&&(e={});var n=pt.renderSpec(ft(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},pt.prototype.serializeNodeAndMarks=function(t,e){void 0===e&&(e={});for(var n=this.serializeNode(t,e),r=t.marks.length-1;r>=0;r--){var o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},pt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&pt.renderSpec(ft(n),r(t,e))},pt.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};var r=e[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],c=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var h in c=2,a)if(null!=a[h]){var l=h.indexOf(" ");l>0?s.setAttributeNS(h.slice(0,l),h.slice(l+1),a[h]):s.setAttribute(h,a[h])}for(var p=c;p<e.length;p++){var u=e[p];if(0===u){if(p<e.length-1||p>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var f=pt.renderSpec(t,u,n),d=f.dom,m=f.contentDOM;if(s.appendChild(d),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:s,contentDOM:i}},pt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new pt(this.nodesFromSchema(t),this.marksFromSchema(t)))},pt.nodesFromSchema=function(t){var e=ut(t.nodes);return e.text||(e.text=function(t){return t.text}),e},pt.marksFromSchema=function(t){return ut(t.marks)};var dt=Math.pow(2,16);function mt(t){return 65535&t}var vt=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},gt=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};gt.prototype.recover=function(t){var e=0,n=mt(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/dt}(t)},gt.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},gt.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},gt.prototype._map=function(t,e,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>t)break;var c=this.ranges[s+o],h=this.ranges[s+i],l=a+c;if(t<=l){var p=a+r+((c?t==a?-1:t==l?1:e:e)<0?0:h);if(n)return p;var u=s/3+(t-a)*dt;return new vt(p,e<0?t!=a:t!=l,u)}r+=h-c}return n?t+r:new vt(t+r)},gt.prototype.touches=function(t,e){for(var n=0,r=mt(e),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var c=this.ranges[s+o];if(t<=a+c&&s==3*r)return!0;n+=this.ranges[s+i]-c}return!1},gt.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),c=this.ranges[r+e],h=this.ranges[r+n];t(s,s+c,a,a+h),o+=h-c}},gt.prototype.invert=function(){return new gt(this.ranges,!this.inverted)},gt.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},gt.offset=function(t){return 0==t?gt.empty:new gt(t<0?[0,-t,0]:[0,0,t])},gt.empty=new gt([]);var yt=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function wt(t){var e=Error.call(this,t);return e.__proto__=wt.prototype,e}yt.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new yt(this.maps,this.mirror,t,e)},yt.prototype.copy=function(){return new yt(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},yt.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},yt.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},yt.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},yt.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},yt.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},yt.prototype.invert=function(){var t=new yt;return t.appendMappingInverted(this),t},yt.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},yt.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},yt.prototype._map=function(t,e,n){for(var r=!1,o=null,i=this.from;i<this.to;i++){var s=this.maps[i],a=o&&o[i];if(null!=a&&s.touches(t,a))t=s.recover(a);else{var c=s.mapResult(t,e);if(null!=c.recover){var h=this.getMirror(i);if(null!=h&&h>i&&h<this.to){if(c.deleted){i=h,t=this.maps[h].recover(c.recover);continue}(o||(o=Object.create(null)))[h]=c.recover}}c.deleted&&(r=!0),t=c.pos}}return n?t:new vt(t,r)},wt.prototype=Object.create(Error.prototype),wt.prototype.constructor=wt,wt.prototype.name="TransformError";var bt=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new yt},kt={before:{configurable:!0},docChanged:{configurable:!0}};function xt(){throw new Error("Override me")}kt.before.get=function(){return this.docs.length?this.docs[0]:this.doc},bt.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new wt(e.failed);return this},bt.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},kt.docChanged.get=function(){return this.steps.length>0},bt.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(bt.prototype,kt);var St=Object.create(null),Mt=function(){};Mt.prototype.apply=function(t){return xt()},Mt.prototype.getMap=function(){return gt.empty},Mt.prototype.invert=function(t){return xt()},Mt.prototype.map=function(t){return xt()},Mt.prototype.merge=function(t){return null},Mt.prototype.toJSON=function(){return xt()},Mt.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=St[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},Mt.jsonID=function(t,e){if(t in St)throw new RangeError("Duplicate use of step JSON ID "+t);return St[t]=e,e.prototype.jsonID=t,e};var Ot=function(t,e){this.doc=t,this.failed=e};Ot.ok=function(t){return new Ot(t,null)},Ot.fail=function(t){return new Ot(null,t)},Ot.fromReplace=function(t,e,n,r){try{return Ot.ok(t.replace(e,n,r))}catch(t){if(t instanceof p)return Ot.fail(t.message);throw t}};var Ct=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&Dt(t,this.from,this.to)?Ot.fail("Structure replace would overwrite content"):Ot.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new gt([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?u.empty:new u(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?u.empty:new u(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,u.fromJSON(t,n.slice),!!n.structure)},e}(Mt);Mt.jsonID("replace",Ct);var Tt=function(t){function e(e,n,r,o,i,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(Dt(t,this.from,this.gapFrom)||Dt(t,this.gapTo,this.to)))return Ot.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Ot.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?Ot.fromReplace(t,this.from,this.to,n):Ot.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new gt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,u.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(Mt);function Dt(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function Nt(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Et(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var r=t.$from.node(n),o=t.$from.index(n),i=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(o,i,e))return n;if(0==n||r.type.spec.isolating||!Nt(r,o,i))break}}function At(t,e,n,r){void 0===r&&(r=t);var o=function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;var s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}(t,e),i=o&&function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:e).contentMatch,c=r;a&&c<o;c++)a=a.matchType(n.child(c).type);if(!a||!a.validEnd)return null;return s}(r,e);return i?o.map(It).concat({type:e,attrs:n}).concat(i.map(It)):null}function It(t){return{type:t,attrs:null}}function zt(t,e,n,r){void 0===n&&(n=1);var o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,c=n-2;a>i;a--,c--){var h=o.node(a),l=o.index(a);if(h.type.spec.isolating)return!1;var p=h.content.cutByIndex(l,h.childCount),u=r&&r[c]||h;if(u!=h&&(p=p.replaceChild(0,u.type.create(u.attrs))),!h.canReplace(l+1,h.childCount)||!u.type.validContent(p))return!1}var f=o.indexAfter(i),d=r&&r[0];return o.node(i).canReplaceWith(f,f,d?d.type:o.node(i+1).type)}function Rt(t,e){var n=t.resolve(e),r=n.index();return Pt(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Pt(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function Bt(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var s=t.child(o);s.content.size&&(s=s.copy(Bt(s.content,e,s))),s.isInline&&(s=e(s,n,o)),r.push(s)}return i.fromArray(r)}Mt.jsonID("replaceAround",Tt),bt.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,s=n.before(o+1),a=r.after(o+1),c=s,h=a,l=i.empty,p=0,f=o,d=!1;f>e;f--)d||n.index(f)>0?(d=!0,l=i.from(n.node(f).copy(l)),p++):c--;for(var m=i.empty,v=0,g=o,y=!1;g>e;g--)y||r.after(g+1)<r.end(g)?(y=!0,m=i.from(r.node(g).copy(m)),v++):h++;return this.step(new Tt(c,h,s,a,new u(l.append(m),p,v),l.size-p,!0))},bt.prototype.wrap=function(t,e){for(var n=i.empty,r=e.length-1;r>=0;r--)n=i.from(e[r].type.create(e[r].attrs,n));var o=t.start,s=t.end;return this.step(new Tt(o,s,o,s,new u(n,0,0),e.length,!0))},bt.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var s=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(s).map(e),n)){o.clearIncompatible(o.mapping.slice(s).map(e,1),n);var a=o.mapping.slice(s),c=a.map(e,1),h=a.map(e+t.nodeSize,1);return o.step(new Tt(c,h,c+1,h-1,new u(i.from(n.create(r,null,t.marks)),0,0),1,!0)),!1}})),this},bt.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var s=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,s);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Tt(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new u(i.from(s),0,0),1,!0))},bt.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=i.empty,s=i.empty,a=r.depth,c=r.depth-e,h=e-1;a>c;a--,h--){o=i.from(r.node(a).copy(o));var l=n&&n[h];s=i.from(l?l.type.create(l.attrs,s):r.node(a).copy(s))}return this.step(new Ct(t,t,new u(o.append(s),e,e),!0))},bt.prototype.join=function(t,e){void 0===e&&(e=1);var n=new Ct(t-e,t+e,u.empty,!0);return this.step(n)};var _t=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new u(Bt(n.content,(function(t,n){return n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return Ot.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new Vt(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Mt);Mt.jsonID("addMark",_t);var Vt=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new u(Bt(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return Ot.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new _t(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(Mt);function $t(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=u.empty),e==n&&!r.size)return null;var o=t.resolve(e),s=t.resolve(n);if(Lt(o,s,r))return new Ct(e,n,r);var a=function(t,e){var n=function t(e,n,r,o){var s=i.empty,a=0,c=r[n];if(e.depth>n){var h=t(e,n+1,r,o||c);a=h.openEnd+1,s=i.from(e.node(n+1).copy(h.content))}c&&(s=s.append(c.content),a=c.openEnd);o&&(s=s.append(e.node(n).contentMatchAt(e.indexAfter(n)).fillBefore(i.empty,!0)),a=0);return{content:s,openEnd:a}}(t,0,e,!1),r=n.content,o=n.openEnd;return new u(r,t.depth,o||0)}(o,function(t,e){for(var n=new qt(t),r=1;e.size&&r<=3;r++){var o=n.placeSlice(e.content,e.openStart,e.openEnd,r);3==r&&o!=e&&o.size&&(r=0),e=o}for(;n.open.length;)n.closeNode();return n.placed}(o,r)),c=jt(o,s,a);if(!c)return null;if(a.size!=c.size&&function(t,e,n){if(!e.parent.isTextblock)return!1;var r,o=n.openEnd?function(t,e){for(var n=1;n<e;n++)t=t.lastChild.content;return t.lastChild}(n.content,n.openEnd):t.node(t.depth-(n.openStart-n.openEnd));if(!o.isTextblock)return!1;for(var i=e.index();i<e.parent.childCount;i++)if(!o.type.allowsMarks(e.parent.child(i).marks))return!1;n.openEnd?r=o.contentMatchAt(o.childCount):(r=o.contentMatchAt(o.childCount),n.size&&(r=r.matchFragment(n.content,n.openStart?1:0)));return(r=r.matchFragment(e.parent.content,e.index()))&&r.validEnd}(o,s,a)){for(var h=s.depth,l=s.after(h);h>1&&l==s.end(--h);)++l;var p=jt(o,t.resolve(l),a);if(p)return new Tt(e,l,n,s.end(),p,a.size)}return c.size||e!=n?new Ct(e,n,c):null}function Ft(t,e,n,r,o,s,a){var c,h=t.childCount,l=h-(a>0?1:0),p=s<0?e:n.node(o);c=s<0?p.contentMatchAt(l):1==h&&a>0?p.contentMatchAt(s?n.index(o):n.indexAfter(o)):p.contentMatchAt(n.indexAfter(o)).matchFragment(t,h>0&&s?1:0,l);var u=r.node(o);if(a>0&&o<r.depth){var f=u.content.cutByIndex(r.indexAfter(o)).addToStart(t.lastChild),d=c.fillBefore(f,!0);if(d&&d.size&&s>0&&1==h&&(d=null),d){var m=Ft(t.lastChild.content,t.lastChild,n,r,o+1,1==h?s-1:-1,a-1);if(m){var v=t.lastChild.copy(m);return d.size?t.cutByIndex(0,h-1).append(d).addToEnd(v):t.replaceChild(h-1,v)}}}a>0&&(c=c.matchType((1==h&&s>0?n.node(o+1):t.lastChild).type));var g=r.index(o);if(g==u.childCount&&!u.type.compatibleContent(e.type))return null;for(var y=c.fillBefore(u.content,!0,g),w=g;y&&w<u.content.childCount;w++)p.type.allowsMarks(u.content.child(w).marks)||(y=null);if(!y)return null;if(a>0){var b=function t(e,n,r,o,s){var a,c=e.content,h=c.childCount;a=s>=0?r.node(o).contentMatchAt(r.indexAfter(o)).matchFragment(c,s>0?1:0,h):e.contentMatchAt(h);if(n>0){var l=t(c.lastChild,n-1,r,o+1,1==h?s-1:-1);c=c.replaceChild(h-1,l)}return e.copy(c.append(a.fillBefore(i.empty,!0)))}(t.lastChild,a-1,n,o+1,1==h?s-1:-1);t=t.replaceChild(h-1,b)}return t=t.append(y),r.depth>o&&(t=t.addToEnd(function t(e,n){var r=e.node(n),o=r.contentMatchAt(0).fillBefore(r.content,!0,e.index(n));e.depth>n&&(o=o.addToEnd(t(e,n+1)));return r.copy(o)}(r,o+1))),t}function jt(t,e,n){var r=Ft(n.content,t.node(0),t,e,0,n.openStart,n.openEnd);return r?function(t,e,n){for(;e>0&&n>0&&1==t.childCount;)t=t.firstChild.content,e--,n--;return new u(t,e,n)}(r,n.openStart,e.depth):null}function Lt(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}Mt.jsonID("removeMark",Vt),bt.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(r,c,h){if(r.isInline){var l=r.marks;if(!n.isInSet(l)&&h.type.allowsMarkType(n.type)){for(var p=Math.max(c,t),u=Math.min(c+r.nodeSize,e),f=n.addToSet(l),d=0;d<l.length;d++)l[d].isInSet(f)||(s&&s.to==p&&s.mark.eq(l[d])?s.to=u:o.push(s=new Vt(p,u,l[d])));a&&a.to==p?a.to=u:i.push(a=new _t(p,u,n))}}})),o.forEach((function(t){return r.step(t)})),i.forEach((function(t){return r.step(t)})),this},bt.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,(function(r,s){if(r.isInline){i++;var a=null;if(n instanceof Y){var c=n.isInSet(r.marks);c&&(a=[c])}else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var h=Math.min(s+r.nodeSize,e),l=0;l<a.length;l++){for(var p=a[l],u=void 0,f=0;f<o.length;f++){var d=o[f];d.step==i-1&&p.eq(o[f].style)&&(u=d)}u?(u.to=h,u.step=i):o.push({style:p,from:Math.max(s,t),to:h,step:i})}}})),o.forEach((function(t){return r.step(new Vt(t.from,t.to,t.style))})),this},bt.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],s=t+1,a=0;a<r.childCount;a++){var c=r.child(a),h=s+c.nodeSize,l=n.matchType(c.type,c.attrs);if(l){n=l;for(var p=0;p<c.marks.length;p++)e.allowsMarkType(c.marks[p].type)||this.step(new Vt(s,h,c.marks[p]))}else o.push(new Ct(s,h,u.empty));s=h}if(!n.validEnd){var f=n.fillBefore(i.empty,!0);this.replace(s,s,new u(f,0,0))}for(var d=o.length-1;d>=0;d--)this.step(o[d]);return this},bt.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=u.empty);var r=$t(this.doc,t,e,n);return r&&this.step(r),this},bt.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new u(i.from(n),0,0))},bt.prototype.delete=function(t,e){return this.replace(t,e,u.empty)},bt.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var qt=function(t){this.open=[];for(var e=0;e<=t.depth;e++){var n=t.node(e),r=n.contentMatchAt(t.indexAfter(e));this.open.push({parent:n,match:r,content:i.empty,wrapper:!1,openEnd:0,depth:e})}this.placed=[]};function Jt(t,e,n){var r=t.content;if(e>1){var o=Jt(t.firstChild,e-1,1==t.childCount?n-1:0);r=t.content.replaceChild(0,o)}var i=t.type.contentMatch.fillBefore(r,0==n);return t.copy(i.append(r))}function Wt(t,e,n,r,o){if(e<n){var s=t.firstChild;t=t.replaceChild(0,s.copy(Wt(s.content,e+1,n,r,s)))}if(e>r){var a=o.contentMatchAt(0),c=a.fillBefore(t).append(t);t=c.append(a.matchFragment(c).fillBefore(i.empty,!0))}return t}function Ht(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;o==e.start(r)&&n.push(r)}return n}qt.prototype.placeSlice=function(t,e,n,r,o){if(e>0){var s=t.firstChild,a=this.placeSlice(s.content,Math.max(0,e-1),n&&1==t.childCount?n-1:0,r,s);a.content!=s.content&&(a.content.size?(t=t.replaceChild(0,s.copy(a.content)),e=a.openStart+1):(1==t.childCount&&(n=0),t=t.cutByIndex(1),e=0))}var c=this.placeContent(t,e,n,r,o);if(r>2&&c.size&&0==e){var h=c.content.firstChild,l=1==c.content.childCount;this.placeContent(h.content,0,n&&l?n-1:0,r,h),c=l?i.empty:new u(c.content.cutByIndex(1),0,n)}return c},qt.prototype.placeContent=function(t,e,n,r,o){for(var s=0;s<t.childCount;s++){for(var a=t.child(s),c=!1,h=s==t.childCount-1,l=this.open.length-1;l>=0;l--){var p=this.open[l],f=void 0;if(r>1&&(f=p.match.findWrapping(a.type))&&(!o||!f.length||f[f.length-1]!=o.type)){for(;this.open.length-1>l;)this.closeNode();for(var d=0;d<f.length;d++)p.match=p.match.matchType(f[d]),l++,p={parent:f[d].create(),match:f[d].contentMatch,content:i.empty,wrapper:!0,openEnd:0,depth:l+d},this.open.push(p)}var m=p.match.matchType(a.type);if(!m){var v=p.match.fillBefore(i.from(a));if(!v){if(o&&p.match.matchType(o.type))break;continue}for(var g=0;g<v.childCount;g++){var y=v.child(g);this.addNode(p,y,0),m=p.match.matchFragment(y)}}for(;this.open.length-1>l;)this.closeNode();a=a.mark(p.parent.type.allowedMarks(a.marks)),e&&(a=Jt(a,e,h?n:0),e=0),this.addNode(p,a,h?n:0),p.match=m,h&&(n=0),c=!0;break}if(!c)break}return this.open.length>1&&(s>0&&s==t.childCount||o&&this.open[this.open.length-1].parent.type==o.type)&&this.closeNode(),new u(t.cutByIndex(s),e,n)},qt.prototype.addNode=function(t,e,n){var r,o;t.content=(r=t.content,o=t.openEnd,o?r.replaceChild(r.childCount-1,function t(e,n){var r=e.content;if(n>1){var o=t(e.lastChild,n-1);r=e.content.replaceChild(e.childCount-1,o)}var s=e.contentMatchAt(e.childCount).fillBefore(i.empty,!0);return e.copy(r.append(s))}(r.lastChild,o)):r).addToEnd(e),t.openEnd=n},qt.prototype.closeNode=function(){var t=this.open.pop();0==t.content.size||(t.wrapper?this.addNode(this.open[this.open.length-1],t.parent.copy(t.content),t.openEnd+1):this.placed[t.depth]={depth:t.depth,content:t.content,openEnd:t.openEnd})},bt.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(Lt(r,o,n))return this.step(new Ct(t,e,n));var i=Ht(r,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,c=r.pos-1;a>0;a--,c--){var h=r.node(a).type.spec;if(h.defining||h.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==c&&i.splice(1,0,-a)}for(var l=i.indexOf(s),p=[],f=n.openStart,d=n.content,m=0;;m++){var v=d.firstChild;if(p.push(v),m==n.openStart)break;d=v.content}f>0&&p[f-1].type.spec.defining&&r.node(l).type!=p[f-1].type?f-=1:f>=2&&p[f-1].isTextblock&&p[f-2].type.spec.defining&&r.node(l).type!=p[f-2].type&&(f-=2);for(var g=n.openStart;g>=0;g--){var y=(g+f+1)%(n.openStart+1),w=p[y];if(w)for(var b=0;b<i.length;b++){var k=i[(b+l)%i.length],x=!0;k<0&&(x=!1,k=-k);var S=r.node(k-1),M=r.index(k-1);if(S.canReplaceWith(M,M,w.type,w.marks))return this.replace(r.before(k),x?o.after(k):e,new u(Wt(n.content,0,n.openStart,y),y,n.openEnd))}}for(var O=this.steps.length,C=i.length-1;C>=0&&(this.replace(t,e,n),!(this.steps.length>O));C--){var T=i[C];C<0||(t=r.before(T),e=o.after(T))}return this},bt.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=function(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new u(i.from(n),0,0))},bt.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=Ht(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var c=1;c<=n.depth&&c<=r.depth;c++)if(t-n.start(c)==n.depth-c&&e>n.end(c)&&r.end(c)-e!=r.depth-c)return this.delete(n.before(c),e);return this.delete(t,e)};var Kt=Object.create(null),Ut=function(t,e,n){this.ranges=n||[new Qt(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},Gt={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};Gt.anchor.get=function(){return this.$anchor.pos},Gt.head.get=function(){return this.$head.pos},Gt.from.get=function(){return this.$from.pos},Gt.to.get=function(){return this.$to.pos},Gt.$from.get=function(){return this.ranges[0].$from},Gt.$to.get=function(){return this.ranges[0].$to},Gt.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},Ut.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},Ut.prototype.replace=function(t,e){void 0===e&&(e=u.empty);for(var n=e.content.lastChild,r=null,o=0;o<e.openEnd;o++)r=n,n=n.lastChild;for(var i=t.steps.length,s=this.ranges,a=0;a<s.length;a++){var c=s[a],h=c.$from,l=c.$to,p=t.mapping.slice(i);t.replaceRange(p.map(h.pos),p.map(l.pos),a?u.empty:e),0==a&&oe(t,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}},Ut.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],s=i.$from,a=i.$to,c=t.mapping.slice(n),h=c.map(s.pos),l=c.map(a.pos);o?t.deleteRange(h,l):(t.replaceRangeWith(h,l,e),oe(t,n,e.isInline?-1:1))}},Ut.findFrom=function(t,e,n){var r=t.parent.inlineContent?new Yt(t):re(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var o=t.depth-1;o>=0;o--){var i=e<0?re(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):re(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(i)return i}},Ut.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new ee(t.node(0))},Ut.atStart=function(t){return re(t,t,0,0,1)||new ee(t)},Ut.atEnd=function(t){return re(t,t,t.content.size,t.childCount,-1)||new ee(t)},Ut.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=Kt[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},Ut.jsonID=function(t,e){if(t in Kt)throw new RangeError("Duplicate use of selection JSON ID "+t);return Kt[t]=e,e.prototype.jsonID=t,e},Ut.prototype.getBookmark=function(){return Yt.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(Ut.prototype,Gt),Ut.prototype.visible=!0;var Qt=function(t,e){this.$from=t,this.$to=e},Yt=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=u.empty),t.prototype.replace.call(this,e,n),n==u.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new Xt(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!s)return t.near(r,o);r=s.$head}return n.parent.inlineContent||(0==i||(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new e(n,r)},Object.defineProperties(e.prototype,n),e}(Ut);Ut.jsonID("text",Yt);var Xt=function(t,e){this.anchor=t,this.head=e};Xt.prototype.map=function(t){return new Xt(t.map(this.anchor),t.map(this.head))},Xt.prototype.resolve=function(t){return Yt.between(t.resolve(this.anchor),t.resolve(this.head))};var Zt=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,s=o.pos,a=n.resolve(s);return i?t.near(a):new e(a)},e.prototype.content=function(){return new u(i.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new te(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(Ut);Zt.prototype.visible=!1,Ut.jsonID("node",Zt);var te=function(t){this.anchor=t};te.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new Xt(r,r):new te(r)},te.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&Zt.isSelectable(n)?new Zt(e):Ut.near(e)};var ee=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return ne},e}(Ut);Ut.jsonID("all",ee);var ne={map:function(){return this},resolve:function(t){return new ee(t)}};function re(t,e,n,r,o,i){if(e.inlineContent)return Yt.create(t,n);for(var s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&Zt.isSelectable(a))return Zt.create(t,n-(o<0?a.nodeSize:0))}else{var c=re(t,a,n+o,o<0?a.childCount:0,o,i);if(c)return c}n+=a.nodeSize*o}}function oe(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o,i=t.steps[r];if(i instanceof Ct||i instanceof Tt)t.mapping.maps[r].forEach((function(t,e,n,r){null==o&&(o=r)})),t.setSelection(Ut.near(t.doc.resolve(o),n))}}var ie=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return l.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||l.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(Ut.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(bt);function se(t,e){return e&&t?t.bind(e):t}var ae=function(t,e,n){this.name=t,this.init=se(e.init,n),this.apply=se(e.apply,n)},ce=[new ae("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new ae("selection",{init:function(t,e){return t.selection||Ut.atStart(e.doc)},apply:function(t){return t.selection}}),new ae("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ae("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],he=function(t,e){var n=this;this.schema=t,this.fields=ce.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new ae(t.key,t.spec.state,t))}))},le=function(t){this.config=t},pe={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};pe.schema.get=function(){return this.config.schema},pe.plugins.get=function(){return this.config.plugins},le.prototype.apply=function(t){return this.applyTransaction(t).state},le.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},le.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var s=this.config.plugins[i];if(s.spec.appendTransaction){var a=r?r[i].n:0,c=r?r[i].state:this,h=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,c,n);if(h&&n.filterTransaction(h,i)){if(h.setMeta("appendedTransaction",t),!r){r=[];for(var l=0;l<this.config.plugins.length;l++)r.push(l<i?{state:n,n:e.length}:{state:this,n:0})}e.push(h),n=n.applyInner(h),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},le.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new le(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}for(var i=0;i<ue.length;i++)ue[i](this,t,e);return e},pe.tr.get=function(){return new ie(this)},le.create=function(t){for(var e=new he(t.schema||t.doc.type.schema,t.plugins),n=new le(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},le.prototype.reconfigure=function(t){for(var e=new he(t.schema||this.schema,t.plugins),n=e.fields,r=new le(e),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(t,r)}return r},le.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e},le.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new he(t.schema,t.plugins),o=new le(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=N.fromJSON(t.schema,e.doc);else if("selection"==r.name)o.selection=Ut.fromJSON(o.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var i in n){var s=n[i],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,i))return void(o[r.name]=a.fromJSON.call(s,t,e[i],o))}o[r.name]=r.init(t,o)}})),o},le.addApplyListener=function(t){ue.push(t)},le.removeApplyListener=function(t){var e=ue.indexOf(t);e>-1&&ue.splice(e,1)},Object.defineProperties(le.prototype,pe);var ue=[];var fe=function(t){this.props={},t.props&&function t(e,n,r){for(var o in e){var i=e[o];i instanceof Function?i=i.bind(n):"handleDOMEvents"==o&&(i=t(i,n,{})),r[o]=i}return r}(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:me("plugin")};fe.prototype.getState=function(t){return t[this.key]};var de=Object.create(null);function me(t){return t in de?t+"$"+ ++de[t]:(de[t]=0,t+"$")}var ve=function(t){void 0===t&&(t="key"),this.key=me(t)};ve.prototype.get=function(t){return t.config.pluginsByKey[this.key]},ve.prototype.getState=function(t){return t[this.key]};var ge={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var ye=/Edge\/(\d+)/.exec(navigator.userAgent),we=/MSIE \d/.test(navigator.userAgent),be=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);ge.mac=/Mac/.test(navigator.platform);var ke=ge.ie=!!(we||be||ye);ge.ie_version=we?document.documentMode||6:be?+be[1]:ye?+ye[1]:null,ge.gecko=!ke&&/gecko\/(\d+)/i.test(navigator.userAgent),ge.gecko_version=ge.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var xe=!ke&&/Chrome\/(\d+)/.exec(navigator.userAgent);ge.chrome=!!xe,ge.chrome_version=xe&&+xe[1],ge.ios=!ke&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),ge.android=/Android \d/.test(navigator.userAgent),ge.webkit=!ke&&"WebkitAppearance"in document.documentElement.style,ge.safari=/Apple Computer/.test(navigator.vendor),ge.webkit_version=ge.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Se=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},Me=function(t){var e=t.parentNode;return e&&11==e.nodeType?e.host:e},Oe=function(t,e,n){var r=document.createRange();return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},Ce=function(t,e,n,r){return n&&(De(t,e,n,r,-1)||De(t,e,n,r,1))},Te=/^(img|br|input|textarea|hr)$/i;function De(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:Ne(t))){var i=t.parentNode;if(1!=i.nodeType||Ee(t)||Te.test(t.nodeName)||"false"==t.contentEditable)return!1;e=Se(t)+(o<0?0:1),t=i}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(o<0?-1:0)]).contentEditable)return!1;e=o<0?Ne(t):0}}}function Ne(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Ee(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var Ae=function(t){var e=t.isCollapsed;return e&&ge.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function Ie(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function ze(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function Re(t,e){return"number"==typeof t?t:t[e]}function Pe(t,e,n){for(var r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,s=i.defaultView,a=n||t.dom;a;a=Me(a))if(1==a.nodeType){var c=a==i.body||1!=a.nodeType,h=c?ze(s):a.getBoundingClientRect(),l=0,p=0;if(e.top<h.top+Re(r,"top")?p=-(h.top-e.top+Re(o,"top")):e.bottom>h.bottom-Re(r,"bottom")&&(p=e.bottom-h.bottom+Re(o,"bottom")),e.left<h.left+Re(r,"left")?l=-(h.left-e.left+Re(o,"left")):e.right>h.right-Re(r,"right")&&(l=e.right-h.right+Re(o,"right")),(l||p)&&(c?s.scrollBy(l,p):(p&&(a.scrollTop+=p),l&&(a.scrollLeft+=l),e={left:e.left-l,top:e.top-p,right:e.right-l,bottom:e.bottom-p})),c)break}}function Be(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=Me(t));return e}function _e(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r.dom,i=r.top,s=r.left;o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=s&&(o.scrollLeft=s)}}var Ve=null;function $e(t,e){for(var n,r,o=2e8,i=0,s=e.top,a=e.top,c=t.firstChild,h=0;c;c=c.nextSibling,h++){var l=void 0;if(1==c.nodeType)l=c.getClientRects();else{if(3!=c.nodeType)continue;l=Oe(c).getClientRects()}for(var p=0;p<l.length;p++){var u=l[p];if(u.top<=s&&u.bottom>=a){s=Math.max(u.bottom,s),a=Math.min(u.top,a);var f=u.left>e.left?u.left-e.left:u.right<e.left?e.left-u.right:0;if(f<o){n=c,o=f,r=f&&3==n.nodeType?{left:u.right<e.left?u.right:u.left,top:e.top}:e,1==c.nodeType&&f&&(i=h+(e.left>=(u.left+u.right)/2?1:0));continue}}!n&&(e.left>=u.right&&e.top>=u.top||e.left>=u.left&&e.top>=u.bottom)&&(i=h+1)}}return n&&3==n.nodeType?function(t,e){for(var n=t.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);var i=Le(r,1);if(i.top!=i.bottom&&Fe(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:t,offset:i}:$e(n,r)}function Fe(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function je(t,e){var n,r,o,i,s=t.root;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(o=(n=a).offsetNode,i=n.offset)}catch(t){}if(!o&&s.caretRangeFromPoint){var c=s.caretRangeFromPoint(e.left,e.top);c&&(o=(r=c).startContainer,i=r.startOffset)}var h,l=s.elementFromPoint(e.left,e.top+1);if(!l||!t.dom.contains(1!=l.nodeType?l.parentNode:l)){var p=t.dom.getBoundingClientRect();if(!Fe(e,p))return null;if(!(l=function t(e,n,r){var o=e.childNodes.length;if(o&&r.top<r.bottom)for(var i=Math.max(0,Math.min(o-1,Math.floor(o*(n.top-r.top)/(r.bottom-r.top))-2)),s=i;;){var a=e.childNodes[s];if(1==a.nodeType)for(var c=a.getClientRects(),h=0;h<c.length;h++){var l=c[h];if(Fe(n,l))return t(a,n,l)}if((s=(s+1)%o)==i)break}return e}(t.dom,e,p)))return null}if(l=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(l,e),o){if(ge.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var u,f=o.childNodes[i];"IMG"==f.nodeName&&(u=f.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}o==t.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&e.top>o.lastChild.getBoundingClientRect().bottom?h=t.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(h=function(t,e,n,r){for(var o=-1,i=e;i!=t.dom;){var s=t.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)o=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;o=s.posAfter}}i=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}(t,o,i,e))}null==h&&(h=function(t,e,n){var r=$e(e,n),o=r.node,i=r.offset,s=-1;if(1==o.nodeType&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,i,s)}(t,l,e));var d=t.docView.nearestDesc(l,!0);return{pos:h,inside:d?d.posAtStart-d.border:-1}}function Le(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function qe(t,e){var n=t.docView.domFromPos(e),r=n.node,o=n.offset;if(3==r.nodeType&&(ge.chrome||ge.gecko)){var i=Le(Oe(r,o,o),0);if(ge.gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){var s=Le(Oe(r,o-1,o-1),-1);if(Math.abs(s.left-i.left)<1&&s.top==i.top){var a=Le(Oe(r,o,o+1),-1);return Je(a,a.left<s.left)}}return i}if(1==r.nodeType&&!t.state.doc.resolve(e).parent.inlineContent){var c,h=!0;if(o<r.childNodes.length){var l=r.childNodes[o];1==l.nodeType&&(c=l.getBoundingClientRect())}if(!c&&o){var p=r.childNodes[o-1];1==p.nodeType&&(c=p.getBoundingClientRect(),h=!1)}return function(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}(c||r.getBoundingClientRect(),h)}for(var u=-1;u<2;u+=2)if(u<0&&o){var f=void 0,d=3==r.nodeType?Oe(r,o-1,o):3==(f=r.childNodes[o-1]).nodeType?Oe(f):1==f.nodeType&&"BR"!=f.nodeName?f:null;if(d){var m=Le(d,1);if(m.top<m.bottom)return Je(m,!1)}}else if(u>0&&o<Ne(r)){var v=void 0,g=3==r.nodeType?Oe(r,o,o+1):3==(v=r.childNodes[o]).nodeType?Oe(v):1==v.nodeType?v:null;if(g){var y=Le(g,-1);if(y.top<y.bottom)return Je(y,!0)}}return Je(Le(3==r.nodeType?Oe(r):r,0),!1)}function Je(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function We(t,e,n){var r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o.focus()}}var He=/[\u0590-\u08ac]/;var Ke=null,Ue=null,Ge=!1;function Qe(t,e,n){return Ke==e&&Ue==n?Ge:(Ke=e,Ue=n,Ge="up"==n||"down"==n?function(t,e,n){var r=e.selection,o="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return We(t,e,(function(){for(var e=t.docView.domFromPos(o.pos).node;;){var r=t.docView.nearestDesc(e,!0);if(!r)break;if(r.node.isBlock){e=r.dom;break}e=r.dom.parentNode}for(var i=qe(t,o.pos),s=e.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=Oe(s,0,s.nodeValue.length).getClientRects()}for(var c=0;c<a.length;c++){var h=a[c];if(h.bottom>h.top&&("up"==n?h.bottom<i.top+1:h.top>i.bottom-1))return!1}}return!0}))}(t,e,n):function(t,e,n){var r=e.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=getSelection();return He.test(r.parent.textContent)&&a.modify?We(t,e,(function(){var e=a.getRangeAt(0),o=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var c=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||o==a.focusNode&&i==a.focusOffset;return a.removeAllRanges(),a.addRange(e),null!=s&&(a.caretBidiLevel=s),c})):"left"==n||"backward"==n?i:s}(t,e,n))}var Ye=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},Xe={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};Ye.prototype.matchesWidget=function(){return!1},Ye.prototype.matchesMark=function(){return!1},Ye.prototype.matchesNode=function(){return!1},Ye.prototype.matchesHack=function(){return!1},Xe.beforePosition.get=function(){return!1},Ye.prototype.parseRule=function(){return null},Ye.prototype.stopEvent=function(){return!1},Xe.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},Xe.border.get=function(){return 0},Ye.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},Ye.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},Xe.posBefore.get=function(){return this.parent.posBeforeChild(this)},Xe.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},Xe.posAfter.get=function(){return this.posBefore+this.size},Xe.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},Ye.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,o;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,s;if(t==this.contentDOM)i=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&(!(s=i.pmViewDesc)||s.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}var a;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!1;break}if(c.parentNode.firstChild!=c)break}if(null==a&&e==t.childNodes.length)for(var h=t;;h=h.parentNode){if(h==this.dom){a=!0;break}if(h.parentNode.lastChild!=h)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},Ye.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(t):o.nodeDOM==t))return o;n=!1}}},Ye.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},Ye.prototype.posFromDOM=function(t,e,n){for(var r=t;;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}},Ye.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<o)return r.descAt(t-n-r.border);n=o}},Ye.prototype.domFromPos=function(t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var e=0,n=0;;n++){if(e==t){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:Se(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+t);var r=this.children[n],o=e+r.size;if(t<o)return r.domFromPos(t-e-r.border);e=o}},Ye.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,s=0;;s++){var a=this.children[s],c=i+a.size;if(-1==r&&t<=c){var h=i+a.border;if(t>=h&&e<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,h);t=i;for(var l=s;l>0;l--){var p=this.children[l-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=Se(p.dom)+1;break}t-=p.size}-1==r&&(r=0)}if(r>-1&&e<=c){e=c;for(var u=s+1;u<this.children.length;u++){var f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=Se(f.dom);break}e+=f.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}},Ye.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},Ye.prototype.domAfterPos=function(t){var e=this.domFromPos(t),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},Ye.prototype.setSelection=function(t,e,n,r){for(var o=Math.min(t,e),i=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var c=this.children[s],h=a+c.size;if(o>a&&i<h)return c.setSelection(t-a-c.border,e-a-c.border,n,r);a=h}var l=this.domFromPos(t),p=this.domFromPos(e),u=n.getSelection(),f=document.createRange();if(r||!Ce(l.node,l.offset,u.anchorNode,u.anchorOffset)||!Ce(p.node,p.offset,u.focusNode,u.focusOffset)){if(u.extend)f.setEnd(l.node,l.offset),f.collapse(!1);else{if(t>e){var d=l;l=p,p=d}f.setEnd(p.node,p.offset),f.setStart(l.node,l.offset)}u.removeAllRanges(),u.addRange(f),u.extend&&u.extend(p.node,p.offset)}},Ye.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},Xe.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},Ye.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?t<=i&&e>=n:t<i&&e>n){var s=n+o.border,a=i-o.border;if(t>=s&&e<=a)return this.dirty=t==n||e==i?2:1,void(t!=s||e!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(t-s,e-s):o.dirty=3);o.dirty=3}n=i}this.dirty=2},Ye.prototype.markParentsDirty=function(){for(var t=this.parent;t;t=t.parent){t.dirty<2&&(t.dirty=2)}},Object.defineProperties(Ye.prototype,Xe);var Ze=[],tn=function(t){function e(e,n,r,o){var i,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,Ze,s,null),this.widget=n,i=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},Object.defineProperties(e.prototype,n),e}(Ye),en=function(t){function e(e,n,r,o){t.call(this,e,Ze,n,null),this.textDOM=r,this.text=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(Ye),nn=function(t){function e(e,n,r,o){t.call(this,e,[],r,o),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,o){var i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return s&&s.dom||(s=pt.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,n,r){var o=e.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=wn(i,n,s,r)),t>0&&(i=wn(i,0,t,r));for(var a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o},e}(Ye),rn=function(t){function e(e,n,r,o,i,s,a,c,h){t.call(this,e,n.isLeaf?Ze:[],i,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=o,s&&this.updateChildren(c,h)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0}};return e.create=function(t,n,r,o,i,s){var a,c,h=i.nodeViews[n.type.name],l=h&&h(n,i,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:s}),r),p=l&&l.dom,u=l&&l.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(p=(a=pt.renderSpec(document,n.type.spec.toDOM(n))).dom,u=a.contentDOM);u||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var f=p;return p=dn(p,r,n),l?c=new cn(t,n,r,o,p,u,f,l,i,s+1):n.isText?new sn(t,n,r,o,p,f,i):new e(t,n,r,o,p,u,f,i,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?i.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&mn(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,o=e,i=r&&t.composing&&this.localCompositionNode(t,e),s=new gn(this,i&&i.node);!function(t,e,n,r){var o=e.locals(t),i=0;if(0==o.length){for(var s=0;s<t.childCount;s++){var a=t.child(s);r(a,o,e.forChild(i,a),s),i+=a.nodeSize}return}for(var c=0,h=[],l=null,p=0;;){if(c<o.length&&o[c].to==i){for(var u=o[c++],f=void 0;c<o.length&&o[c].to==i;)(f||(f=[u])).push(o[c++]);if(f){f.sort(yn);for(var d=0;d<f.length;d++)n(f[d],p,!!l)}else n(u,p,!!l)}var m=void 0,v=void 0;if(l)v=-1,m=l,l=null;else{if(!(p<t.childCount))break;v=p,m=t.child(p++)}for(var g=0;g<h.length;g++)h[g].to<=i&&h.splice(g--,1);for(;c<o.length&&o[c].from==i;)h.push(o[c++]);var y=i+m.nodeSize;if(m.isText){var w=y;c<o.length&&o[c].from<w&&(w=o[c].from);for(var b=0;b<h.length;b++)h[b].to<w&&(w=h[b].to);w<y&&(l=m.cut(w-i),m=m.cut(0,w-i),y=w,v=-1)}r(m,h.length?h.slice():Ze,e.forChild(i,m),v),i=y}}(this.node,this.innerDeco,(function(e,i,a){e.spec.marks?s.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!a&&s.syncToMarks(i==n.node.childCount?l.none:n.node.child(i).marks,r,t),s.placeWidget(e,t,o)}),(function(e,n,i,a){s.syncToMarks(e.marks,r,t),s.findNodeMatch(e,n,i,a)||s.updateNextNode(e,n,i,t,a)||s.addNode(e,n,i,t,o),o+=e.nodeSize})),s.syncToMarks(Ze,r,t),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(i&&this.protectLocalComposition(t,i),this.renderChildren())},e.prototype.renderChildren=function(){!function t(e,n){for(var r=e.firstChild,o=0;o<n.length;o++){var i=n[o],s=i.dom;if(s.parentNode==e){for(;s!=r;)r=vn(r);r=r.nextSibling}else e.insertBefore(s,r);if(i instanceof nn){var a=r?r.previousSibling:e.lastChild;t(i.contentDOM,i.children),r=a?a.nextSibling:e.firstChild}}for(;r;)r=vn(r)}(this.contentDOM,this.children),ge.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom)},e.prototype.localCompositionNode=function(t,e){var n=t.state.selection,r=n.from,o=n.to;if(!(!(t.state.selection instanceof Yt)||r<e||o>e+this.node.content.size)){var i=t.root.getSelection(),s=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=Ne(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(i.focusNode,i.focusOffset);if(s&&this.dom.contains(s.parentNode)){var a=s.nodeValue,c=function(t,e,n,r){for(var o=0,i=0;o<t.childCount&&i<=r;){var s=t.child(o++),a=i;if(i+=s.nodeSize,s.isText){for(var c=s.text;o<t.childCount;){var h=t.child(o++);if(i+=h.nodeSize,!h.isText)break;c+=h.text}if(i>=n){var l=c.lastIndexOf(e,r-a);if(l>=0&&l+e.length+a>=n)return a+l}}}return-1}(this.node.content,a,r-e,o-e);return c<0?null:{node:s,pos:c,text:a}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,o=e.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var s=new en(this,i,n,o);t.compositionNodes.push(s),this.children=wn(this.children,r,r+o.length,t,s)}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!mn(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=un(this.dom,this.nodeDOM,pn(this.outerDeco,this.node,e),pn(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!1)},Object.defineProperties(e.prototype,n),e}(Ye);function on(t,e,n,r,o){return dn(r,e,t),new rn(null,t,e,n,r,r,r,o,0)}var sn=function(t){function e(e,n,r,o,i,s,a){t.call(this,e,n,r,o,i,null,s,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{skip:this.nodeDOM.parentNode||!0}},e.prototype.update=function(t,e){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text),this.node=t,this.dirty=0,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var o=this.node.cut(t,n),i=document.createTextNode(o.text);return new e(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},e}(rn),an=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return 0==this.dirty},e}(Ye),cn=function(t){function e(e,n,r,o,i,s,a,c,h,l){t.call(this,e,n,r,o,i,s,a,h,l),this.spec=c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(e,n);return i&&this.updateInner(e,n,r,o),i}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,o)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(rn);function hn(t){t&&(this.nodeName=t)}hn.prototype=Object.create(null);var ln=[new hn];function pn(t,e,n){if(0==t.length)return ln;for(var r=n?ln[0]:new hn,o=[r],i=0;i<t.length;i++){var s=t[i].type.attrs,a=r;if(s)for(var c in s.nodeName&&o.push(a=new hn(s.nodeName)),s){var h=s[c];null!=h&&(n&&1==o.length&&o.push(a=r=new hn(e.isInline?"span":"div")),"class"==c?a.class=(a.class?a.class+" ":"")+h:"style"==c?a.style=(a.style?a.style+";":"")+h:"nodeName"!=c&&(a[c]=h))}}return o}function un(t,e,n,r){if(n==ln&&r==ln)return e;for(var o=e,i=0;i<r.length;i++){var s=r[i],a=n[i];if(i){var c=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(c=o.parentNode)&&c.tagName.toLowerCase()==s.nodeName||((c=document.createElement(s.nodeName)).appendChild(o),a=ln[0]),o=c}fn(o,a||ln[0],s)}return o}function fn(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var i=e.class?e.class.split(" "):Ze,s=n.class?n.class.split(" "):Ze,a=0;a<i.length;a++)-1==s.indexOf(i[a])&&t.classList.remove(i[a]);for(var c=0;c<s.length;c++)-1==i.indexOf(s[c])&&t.classList.add(s[c])}if(e.style!=n.style){if(e.style)for(var h,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;h=l.exec(e.style);)t.style.removeProperty(h[1]);n.style&&(t.style.cssText+=n.style)}}function dn(t,e,n){return un(t,t,ln,pn(e,n,1!=t.nodeType))}function mn(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function vn(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var gn=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1;var n=function(t,e){for(var n=[],r=t.childCount,o=e.length-1;r>0&&o>=0;o--){var i=e[o],s=i.node;if(s){if(s!=t.child(r-1))break;n.push(i),--r}}return{nodes:n.reverse(),offset:r}}(t.node.content,t.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function yn(t,e){return t.type.side-e.type.side}function wn(t,e,n,r,o){for(var i=[],s=0,a=0;s<t.length;s++){var c=t[s],h=a,l=a+=c.size;h>=n||l<=e?i.push(c):(h<e&&i.push(c.slice(0,e-h,r)),o&&(i.push(o),o=null),l>n&&i.push(c.slice(n-h,c.size,r)))}return i}function bn(t,e){var n=t.selection,r=n.$anchor,o=n.$head,i=e>0?r.max(o):r.min(o),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ut.findFrom(s,e)}function kn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function xn(t,e,n){var r=t.state.selection;if(r instanceof Yt){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var o=bn(t.state,e);return!!(o&&o instanceof Zt)&&kn(t,o)}var i,s=r.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText)return!1;var c=e<0?s.pos-a.nodeSize:s.pos;return!!(a.isAtom||(i=t.docView.descAt(c))&&!i.contentDOM)&&(Zt.isSelectable(a)?kn(t,new Zt(e<0?t.state.doc.resolve(s.pos-a.nodeSize):s)):!!ge.webkit&&kn(t,new Yt(t.state.doc.resolve(e<0?c:c+a.nodeSize))))}if(r instanceof Zt&&r.node.isInline)return kn(t,new Yt(e>0?r.$to:r.$from));var h=bn(t.state,e);return!!h&&kn(t,h)}function Sn(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Mn(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function On(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var o,i,s=!1;for(ge.gecko&&1==n.nodeType&&r<Sn(n)&&Mn(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var a=n.childNodes[r-1];if(Mn(a))o=n,i=--r;else{if(3!=a.nodeType)break;r=(n=a).nodeValue.length}}else{if(Tn(n))break;for(var c=n.previousSibling;c&&Mn(c);)o=n.parentNode,i=Se(c),c=c.previousSibling;if(c)r=Sn(n=c);else{if((n=n.parentNode)==t.dom)break;r=0}}s?Dn(t,e,n,r):o&&Dn(t,e,o,i)}}function Cn(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var o,i,s=Sn(n);;)if(r<s){if(1!=n.nodeType)break;if(!Mn(n.childNodes[r]))break;o=n,i=++r}else{if(Tn(n))break;for(var a=n.nextSibling;a&&Mn(a);)o=a.parentNode,i=Se(a)+1,a=a.nextSibling;if(a)r=0,s=Sn(n=a);else{if((n=n.parentNode)==t.dom)break;r=s=0}}o&&Dn(t,e,o,i)}}function Tn(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Dn(t,e,n,r){if(Ae(e)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection()}function Nn(t,e,n){var r=t.state.selection;if(r instanceof Yt&&!r.empty||n.indexOf("s")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=bn(t.state,e);if(s&&s instanceof Zt)return kn(t,s)}if(!o.parent.inlineContent){var a=Ut.findFrom(e<0?o:i,e);return!a||kn(t,a)}return!1}function En(t,e){if(!(t.state.selection instanceof Yt))return!0;var n=t.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),t.dispatch(a),!0}return!1}function An(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function In(t,e){var n=e.keyCode,r=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||ge.mac&&72==n&&"c"==r?En(t,-1)||On(t):46==n||ge.mac&&68==n&&"c"==r?En(t,1)||Cn(t):13==n&&!ge.ios||27==n||(37==n?xn(t,-1,r)||On(t):39==n?xn(t,1,r)||Cn(t):38==n?Nn(t,-1,r)||On(t):40==n?function(t){if(ge.chrome&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;An(t,o,!0),setTimeout((function(){return An(t,o,!1)}),20)}}}(t)||Nn(t,1,r)||Cn(t):r==(ge.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function zn(t,e){var n,r,o=t.root.getSelection(),i=t.state.doc,s=t.docView.nearestDesc(o.focusNode),a=s&&0==s.size,c=t.docView.posFromDOM(o.focusNode,o.focusOffset),h=i.resolve(c);if(Ae(o)){for(n=h;s&&!s.node;)s=s.parent;if(s&&s.node.isAtom&&Zt.isSelectable(s.node)&&s.parent&&(!s.node.isInline||!function(t,e,n){for(var r=0==e,o=e==Ne(t);r||o;){if(t==n)return!0;var i=Se(t);if(!(t=t.parentNode))return!1;r=r&&0==i,o=o&&i==Ne(t)}}(o.focusNode,o.focusOffset,s.dom))){var l=s.posBefore;r=new Zt(c==l?h:i.resolve(l))}}else n=i.resolve(t.docView.posFromDOM(o.anchorNode,o.anchorOffset));r||(r=jn(t,n,h,"pointer"==e||t.state.selection.head<h.pos&&!a?1:-1));return r}function Rn(t,e){var n=t.state.selection;if($n(t,n),t.editable?t.hasFocus():Ln(t)&&document.activeElement.contains(t.dom)){if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,Se(r)+1):n.setEnd(r,0);n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&ge.ie&&ge.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{var r,o,i=n.anchor,s=n.head;!Pn||n instanceof Yt||(n.$from.parent.inlineContent||(r=Bn(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=Bn(t,n.to))),t.docView.setSelection(i,s,t.root,e),Pn&&(r&&Vn(r),o&&Vn(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):i!=s&&(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),t.dom.classList.remove("ProseMirror-hideselection"))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}gn.prototype.getPreMatch=function(t){return t>=this.preMatchOffset?this.preMatched[t-this.preMatchOffset]:null},gn.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},gn.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},gn.prototype.syncToMarks=function(t,e,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,t.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[o])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var c=nn.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}},gn.prototype.findNodeMatch=function(t,e,n,r){var o=-1,i=r<0?void 0:this.getPreMatch(r),s=this.top.children;if(i&&i.matchesNode(t,e,n))o=s.indexOf(i);else for(var a=this.index,c=Math.min(s.length,a+5);a<c;a++){var h=s[a];if(h.matchesNode(t,e,n)&&this.preMatched.indexOf(h)<0){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},gn.prototype.updateNextNode=function(t,e,n,r,o){if(this.index==this.top.children.length)return!1;var i=this.top.children[this.index];if(i instanceof rn){var s=this.preMatched.indexOf(i);if(s>-1&&s+this.preMatchOffset!=o)return!1;var a=i.dom;if(!(this.lock&&(a==this.lock||1==a.nodeType&&a.contains(this.lock.parentNode))&&!(t.isText&&i.node&&i.node.isText&&i.nodeDOM.nodeValue==t.text&&3!=i.dirty&&mn(e,i.outerDeco)))&&i.update(t,e,n,r))return i.dom!=a&&(this.changed=!0),this.index++,!0}return!1},gn.prototype.addNode=function(t,e,n,r,o){this.top.children.splice(this.index++,0,rn.create(this.top,t,e,n,r,o)),this.changed=!0},gn.prototype.placeWidget=function(t,e,n){if(this.index<this.top.children.length&&this.top.children[this.index].matchesWidget(t))this.index++;else{var r=new tn(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}},gn.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof nn;)t=t.children[t.children.length-1];if(!t||!(t instanceof sn)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new an(this.top,Ze,e,null)),this.changed=!0}};var Pn=ge.safari||ge.chrome&&ge.chrome_version<63;function Bn(t,e){var n=t.docView.domFromPos(e),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if(ge.safari&&i&&"false"==i.contentEditable)return _n(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return _n(i);if(s)return _n(s)}}function _n(t){return t.contentEditable="true",ge.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Vn(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function $n(t,e){if(e instanceof Zt){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Fn(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Fn(t)}function Fn(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function jn(t,e,n,r){return t.someProp("createSelectionBetween",(function(r){return r(t,e,n)}))||Yt.between(e,n,r)}function Ln(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function qn(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(ge.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||ge.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function Jn(t,e,n,r,o){if(e<0){var s=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,a=zn(t,s);if(!t.state.selection.eq(a)){var c=t.state.tr.setSelection(a);"pointer"==s?c.setMeta("pointer",!0):"key"==s&&c.scrollIntoView(),t.dispatch(c)}}else{var h=t.state.doc.resolve(e),l=h.sharedDepth(n);e=h.before(l+1),n=t.state.doc.resolve(n).after(l+1);var p,u,f=t.state.selection,d=function(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,i=r.fromOffset,s=r.toOffset,a=r.from,c=r.to,h=t.root.getSelection(),l=null,p=h.anchorNode;if(p&&t.dom.contains(1==p.nodeType?p:p.parentNode)&&(l=[{node:p,offset:h.anchorOffset}],Ae(h)||l.push({node:h.focusNode,offset:h.focusOffset})),ge.chrome&&8===t.lastKeyCode)for(var u=s;u>i;u--){var f=o.childNodes[u-1],d=f.pmViewDesc;if("BR"==f.nodeType&&!d){s=u;break}if(!d||d.size)break}var m=t.state.doc,v=t.someProp("domParser")||tt.fromSchema(t.state.schema),g=m.resolve(a),y=null,w=v.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:s,preserveWhitespace:!g.parent.type.spec.code||"full",editableContent:!0,findPositions:l,ruleFromNode:qn,context:g});if(l&&null!=l[0].pos){var b=l[0].pos,k=l[1]&&l[1].pos;null==k&&(k=b),y={anchor:b+a,head:k+a}}return{doc:w,sel:y,from:a,to:c}}(t,e,n),m=t.state.doc,v=m.slice(d.from,d.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(p=t.state.selection.to,u="end"):(p=t.state.selection.from,u="start"),t.lastKeyCode=null;var g=function(t,e,n,r,o){var i=t.findDiffStart(e,n);if(null==i)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,c=s.b;if("end"==o){var h=Math.max(0,i-Math.min(a,c));r-=a+h-i}if(a<i&&t.size<e.size){c=(i-=r<=i&&r>=a?i-r:0)+(c-a),a=i}else if(c<i){a=(i-=r<=i&&r>=c?i-r:0)+(a-c),c=i}return{start:i,endA:a,endB:c}}(v.content,d.doc.content,d.from,p,u);if(!g){if(!(r&&f instanceof Yt&&!f.empty&&f.$head.sameParent(f.$anchor))||t.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){var y=Wn(t,t.state.doc,d.sel);y&&!y.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(y))}return}g={start:f.from,endA:f.to,endB:f.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof Yt&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),ge.ie&&ge.ie_version<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>d.from&&"  "==d.doc.textBetween(g.start-d.from-1,g.start-d.from+1)&&(g.start--,g.endA--,g.endB--);var w,b=d.doc.resolveNoCache(g.start-d.from),k=d.doc.resolveNoCache(g.endB-d.from);if((ge.ios&&t.lastIOSEnter>Date.now()-100&&(!b.sameParent(k)||o.some((function(t){return"DIV"==t.nodeName})))||!b.sameParent(k)&&b.pos<d.doc.content.size&&(w=Ut.findFrom(d.doc.resolve(b.pos+1),1,!0))&&w.head==k.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,Ie(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>g.start&&function(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||Hn(r,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=t.resolve(Hn(i,!0,!0));if(!s.parent.isTextblock||s.pos>n||Hn(s,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(m,g.start,g.endA,b,k)&&t.someProp("handleKeyDown",(function(e){return e(t,Ie(8,"Backspace"))})))ge.android&&ge.chrome&&t.domObserver.suppressSelectionUpdates();else{var x,S,M,O,C=g.start,T=g.endA;if(b.sameParent(k)&&b.parent.inlineContent)if(b.pos==k.pos)ge.ie&&ge.ie_version<=11&&0==b.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return Rn(t)}),20)),x=t.state.tr.delete(C,T),S=m.resolve(g.start).marksAcross(m.resolve(g.endA));else if(g.endA==g.endB&&(O=m.resolve(g.start))&&(M=function(t,e){for(var n,r,o,s=t.firstChild.marks,a=e.firstChild.marks,c=s,h=a,l=0;l<a.length;l++)c=a[l].removeFromSet(c);for(var p=0;p<s.length;p++)h=s[p].removeFromSet(h);if(1==c.length&&0==h.length)r=c[0],n="add",o=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=c.length||1!=h.length)return null;r=h[0],n="remove",o=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var u=[],f=0;f<e.childCount;f++)u.push(o(e.child(f)));if(i.from(u).eq(t))return{mark:r,type:n}}(b.parent.content.cut(b.parentOffset,k.parentOffset),O.parent.content.cut(O.parentOffset,g.endA-O.start()))))x=t.state.tr,"add"==M.type?x.addMark(C,T,M.mark):x.removeMark(C,T,M.mark);else if(b.parent.child(b.index()).isText&&b.index()==k.index()-(k.textOffset?0:1)){var D=b.parent.textBetween(b.parentOffset,k.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,C,T,D)})))return;x=t.state.tr.insertText(D,C,T)}if(x||(x=t.state.tr.replace(C,T,d.doc.slice(g.start-d.from,g.endB-d.from))),d.sel){var N=Wn(t,x.doc,d.sel);N&&!(ge.chrome&&ge.android&&t.composing&&N.empty&&N.head==C||ge.ie&&N.empty&&N.head==C)&&x.setSelection(N)}S&&x.ensureMarks(S),t.dispatch(x.scrollIntoView())}}}function Wn(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:jn(t,e.resolve(n.anchor),e.resolve(n.head))}function Hn(t,e,n){for(var r=t.depth,o=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n)for(var i=t.node(r).maybeChild(t.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function Kn(t,e){for(var n=[],r=e.content,o=e.openStart,i=e.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var s=r.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),r=s.content}var a=t.someProp("clipboardSerializer")||pt.fromSchema(t.state.schema),c=Zn(),h=c.createElement("div");h.appendChild(a.serializeFragment(r,{document:c}));for(var l,p=h.firstChild;p&&1==p.nodeType&&(l=Yn[p.nodeName.toLowerCase()]);){for(var u=l.length-1;u>=0;u--){for(var f=c.createElement(l[u]);h.firstChild;)f.appendChild(h.firstChild);h.appendChild(f)}p=h.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n)),{dom:h,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function Un(t,e,n,r,o){var s,a,c=o.parent.type.spec.code;if(!n&&!e)return null;var h=e&&(r||c||!n);if(h){if(t.someProp("transformPastedText",(function(t){e=t(e)})),c)return new u(i.from(t.state.schema.text(e)),0,0);var l=t.someProp("clipboardTextParser",(function(t){return t(e,o)}));l?a=l:(s=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){s.appendChild(document.createElement("p")).textContent=t})))}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),s=function(t){var e=/(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=Zn().createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(t),i=0;(n=o&&Yn[o[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""),i=n.length);r.innerHTML=t;for(var s=0;s<i;s++)r=r.firstChild;return r}(n);var p=s&&s.querySelector("[data-pm-slice]"),f=p&&/^(\d+) (\d+) (.*)/.exec(p.getAttribute("data-pm-slice"));if(!a){var d=t.someProp("clipboardParser")||t.someProp("domParser")||tt.fromSchema(t.state.schema);a=d.parseSlice(s,{preserveWhitespace:!(!h&&!f),context:o})}return a=f?function(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var o=t.content,s=t.openStart,a=t.openEnd,c=n.length-2;c>=0;c-=2){var h=r.nodes[n[c]];if(!h||h.hasRequiredAttrs())break;o=i.from(h.create(n[c+1],o)),s++,a++}return new u(o,s,a)}(function(t,e,n){e<t.openStart&&(t=new u(Qn(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd));n<t.openEnd&&(t=new u(Qn(t.content,1,n,t.openEnd,0,0),t.openStart,n));return t}(a,+f[1],+f[2]),f[3]):u.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n).contentMatchAt(e.index(n)),o=void 0,s=[];if(t.forEach((function(t){if(s){var e,n=r.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&o.length&&function t(e,n,r,o,s){if(s<e.length&&s<n.length&&e[s]==n[s]){var a=t(e,n,r,o.lastChild,s+1);if(a)return o.copy(o.content.replaceChild(o.childCount-1,a));if(o.contentMatchAt(o.childCount).matchType(s==e.length-1?r.type:e[s+1]))return o.copy(o.content.append(i.from(Gn(r,e,s+1))))}}(n,o,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=function t(e,n){if(0==n)return e;var r=e.content.replaceChild(e.childCount-1,t(e.lastChild,n-1)),o=e.contentMatchAt(e.childCount).fillBefore(i.empty,!0);return e.copy(r.append(o))}(s[s.length-1],o.length));var a=Gn(t,n);s.push(a),r=r.matchType(a.type,a.attrs),o=n}}})),s)return{v:i.from(s)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}(a.content,o),!1),t.someProp("transformPasted",(function(t){a=t(a)})),a}function Gn(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,i.from(t));return t}function Qn(t,e,n,r,o,s){var a=e<0?t.firstChild:t.lastChild,c=a.content;return o<r-1&&(c=Qn(c,e,n,r,o+1,s)),o>=n&&(c=e<0?a.contentMatchAt(0).fillBefore(c,t.childCount>1||s<=o).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(i.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(c))}var Yn={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Xn=null;function Zn(){return Xn||(Xn=document.implementation.createHTMLDocument("title"))}var tr={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},er=ge.ie&&ge.ie_version<=11,nr=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};nr.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},nr.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var rr=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=!1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);ge.ie&&ge.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new nr,er&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};rr.prototype.flushSoon=function(){var t=this;this.flushingSoon||(this.flushingSoon=!0,window.setTimeout((function(){t.flushingSoon=!1,t.flush()}),20))},rr.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,tr),er&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},rr.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}er&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},rr.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},rr.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},rr.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},rr.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&Ln(t)){var t;if(this.suppressingSelectionUpdates)return Rn(this.view);if(ge.ie&&ge.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&Ce(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},rr.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},rr.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},rr.prototype.flush=function(){if(this.view.docView&&!this.flushingSoon){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&Ln(this.view)&&!this.ignoreSelectionChange(e),r=-1,o=-1,i=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var c=this.registerMutation(t[a],s);c&&(r=r<0?c.from:Math.min(c.from,r),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&!this.view.composing&&(i=!0))}if(ge.gecko&&s.length>1){var h=s.filter((function(t){return"BR"==t.nodeName}));if(2==h.length){var l=h[0],p=h[1];l.parentNode&&l.parentNode.parentNode==p.parentNode?p.remove():l.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(t){if(or)return;or=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,o,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||Rn(this.view))}},rr.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){var r=t.previousSibling,o=t.nextSibling;if(ge.ie&&ge.ie_version<=11&&t.addedNodes.length)for(var i=0;i<t.addedNodes.length;i++){var s=t.addedNodes[i],a=s.previousSibling,c=s.nextSibling;(!a||Array.prototype.indexOf.call(t.addedNodes,a)<0)&&(r=a),(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(o=c)}for(var h=r&&r.parentNode==t.target?Se(r)+1:0,l=n.localPosFromDOM(t.target,h,-1),p=o&&o.parentNode==t.target?Se(o):t.target.childNodes.length,u=0;u<t.addedNodes.length;u++)e.push(t.addedNodes[u]);return{from:l,to:n.localPosFromDOM(t.target,p,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var or=!1;var ir={},sr={};function ar(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function cr(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return hr(t,e)})}))}function hr(t,e){return t.someProp("handleDOMEvents",(function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function lr(t){return{left:t.clientX,top:t.clientY}}function pr(t,e,n,r,o){if(-1==r)return!1;for(var i=t.state.doc.resolve(r),s=function(r){if(t.someProp(e,(function(e){return r>i.depth?e(t,n,i.nodeAfter,i.before(r),o,!0):e(t,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},a=i.depth+1;a>0;a--){var c=s(a);if(c)return c.v}return!1}function ur(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function fr(t,e,n,r,o){return pr(t,"handleClickOn",e,n,r)||t.someProp("handleClick",(function(n){return n(t,e,r)}))||(o?function(t,e){if(-1==e)return!1;var n,r,o=t.state.selection;o instanceof Zt&&(n=o.node);for(var i=t.state.doc.resolve(e),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s);if(Zt.isSelectable(a)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break}}return null!=r&&(ur(t,Zt.create(t.state.doc,r),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&Zt.isSelectable(r))&&(ur(t,new Zt(n),"pointer"),!0)}(t,n))}function dr(t,e,n,r){return pr(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(function(n){return n(t,e,r)}))}function mr(t,e,n,r){return pr(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",(function(n){return n(t,e,r)}))||function(t,e){var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(ur(t,Yt.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(e),o=r.depth+1;o>0;o--){var i=o>r.depth?r.nodeAfter:r.node(o),s=r.before(o);if(i.inlineContent)ur(t,Yt.create(n,s+1,s+1+i.content.size),"pointer");else{if(!Zt.isSelectable(i))continue;ur(t,Zt.create(n,s),"pointer")}return!0}}(t,n)}function vr(t){return xr(t)}sr.keydown=function(t,e){t.shiftKey=16==e.keyCode||e.shiftKey,wr(t,e)||(t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!ge.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey?t.someProp("handleKeyDown",(function(n){return n(t,e)}))||In(t,e)?e.preventDefault():ar(t,"key"):t.lastIOSEnter=Date.now())},sr.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},sr.keypress=function(t,e){if(!(wr(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||ge.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof Yt&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,r)}))||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var gr=ge.mac?"metaKey":"ctrlKey";ir.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=vr(t),r=Date.now(),o="singleClick";r-t.lastClick.time<500&&function(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(e,t.lastClick)&&!e[gr]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(lr(e));i&&("singleClick"==o?t.mouseDown=new yr(t,i,e,n):("doubleClick"==o?dr:mr)(t,i.pos,i.inside,e)?e.preventDefault():ar(t,"pointer"))};var yr=function(t,e,n,r){var o,i,s=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=r,this.selectNode=n[gr],this.allowDefault=n.shiftKey,e.inside>-1)o=t.state.doc.nodeAt(e.inside),i=e.inside;else{var a=t.state.doc.resolve(e.pos);o=a.parent,i=a.depth?a.before():0}this.mightDrag=null;var c=r?null:n.target,h=c?t.docView.nearestDesc(c,!0):null;this.target=h?h.dom:null,(o.type.spec.draggable&&!1!==o.type.spec.selectable||t.state.selection instanceof Zt&&i==t.state.selection.from)&&(this.mightDrag={node:o,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&ge.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),ar(t,"pointer")};function wr(t,e){return!!t.composing||!!(ge.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}yr.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!1),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},yr.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(lr(t))),this.allowDefault||!e?ar(this.view,"pointer"):fr(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():!this.flushed&&(!ge.chrome||this.view.state.selection instanceof Yt||e.pos!=this.view.state.selection.from&&e.pos!=this.view.state.selection.to)?ar(this.view,"pointer"):(ur(this.view,Ut.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault())}},yr.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),ar(this.view,"pointer")},ir.touchdown=function(t){vr(t),ar(t,"pointer")},ir.contextmenu=function(t){return vr(t)};var br=ge.android?5e3:-1;function kr(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return xr(t)}),e))}function xr(t,e){for(t.composing=!1;t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty();return!(!e&&!t.docView.dirty)&&(t.updateState(t.state),!0)}sr.compositionstart=sr.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),xr(t,!0),t.markCursor=null;else if(xr(t),ge.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}o=s,i=-1}t.composing=!0}kr(t,br)},sr.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,kr(t,20))};var Sr=ge.ie&&ge.ie_version<15||ge.ios&&ge.webkit_version<604;function Mr(t,e,n,r){var o=Un(t,e,n,t.shiftKey,t.state.selection.$from);if(!t.someProp("handlePaste",(function(e){return e(t,r,o||u.empty)}))&&o){var i=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),s=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(o);t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}ir.copy=sr.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var o=Sr?null:e.clipboardData,i=Kn(t,n.content()),s=i.dom,a=i.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",a)):function(t,e){var n=t.dom.ownerDocument,r=n.body.appendChild(n.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";var o=getSelection(),i=n.createRange();i.selectNodeContents(e),t.dom.blur(),o.removeAllRanges(),o.addRange(i),setTimeout((function(){n.body.removeChild(r),t.focus()}),50)}(t,s),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},sr.paste=function(t,e){var n=Sr?null:e.clipboardData,r=n&&n.getData("text/html"),o=n&&n.getData("text/plain");n&&(r||o||n.files.length)?(Mr(t,o,r,e),e.preventDefault()):function(t,e){var n=t.dom.ownerDocument,r=t.shiftKey||t.state.selection.$from.parent.type.spec.code,o=n.body.appendChild(n.createElement(r?"textarea":"div"));r||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((function(){t.focus(),n.body.removeChild(o),r?Mr(t,o.value,null,e):Mr(t,o.textContent,o.innerHTML,e)}),50)}(t,e)};var Or=function(t,e){this.slice=t,this.move=e},Cr=ge.mac?"altKey":"ctrlKey";for(var Tr in ir.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var r=t.state.selection,o=r.empty?null:t.posAtCoords(lr(e));if(o&&o.pos>=r.from&&o.pos<=(r instanceof Zt?r.to-1:r.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(Zt.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var i=t.docView.nearestDesc(e.target,!0);if(!i||!i.node.type.spec.draggable||i==t.docView)return;t.dispatch(t.state.tr.setSelection(Zt.create(t.state.doc,i.posBefore)))}var s=t.state.selection.content(),a=Kn(t,s),c=a.dom,h=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(Sr?"Text":"text/html",c.innerHTML),Sr||e.dataTransfer.setData("text/plain",h),t.dragging=new Or(s,!e[Cr])}},ir.dragend=function(t){window.setTimeout((function(){return t.dragging=null}),50)},sr.dragover=sr.dragenter=function(t,e){return e.preventDefault()},sr.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var r=t.posAtCoords(lr(e));if(r){var o=t.state.doc.resolve(r.pos);if(o){var i=n&&n.slice||Un(t,e.dataTransfer.getData(Sr?"Text":"text/plain"),Sr?null:e.dataTransfer.getData("text/html"),!1,o);if(i&&(e.preventDefault(),!t.someProp("handleDrop",(function(r){return r(t,e,i,n&&n.move)})))){var s=i?function(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,h=r.index(a)+(c>0?1:0);if(1==s?r.node(a).canReplace(h,h,o):r.node(a).contentMatchAt(h).findWrapping(o.firstChild.type))return 0==c?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}(t.state.doc,o.pos,i):o.pos;null==s&&(s=o.pos);var a=t.state.tr;n&&n.move&&a.deleteSelection();var c=a.mapping.map(s),h=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,l=a.doc;if(h?a.replaceRangeWith(c,c,i.content.firstChild):a.replaceRange(c,c,i),!a.doc.eq(l)){var p=a.doc.resolve(c);h&&Zt.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild)?a.setSelection(new Zt(p)):a.setSelection(jn(t,p,a.doc.resolve(a.mapping.map(s)))),t.focus(),t.dispatch(a.setMeta("uiEvent","drop"))}}}}}},ir.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&Rn(t)}),20))},ir.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.domObserver.currentSelection.set({}),t.focused=!1)},ir.beforeinput=function(t,e){if(ge.chrome&&ge.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,Ie(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},sr)ir[Tr]=sr[Tr];function Dr(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var Nr=function(t,e){this.spec=e||Pr,this.side=this.spec.side||0,this.toDOM=t};Nr.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new Ir(i-n,i-n,this)},Nr.prototype.valid=function(){return!0},Nr.prototype.eq=function(t){return this==t||t instanceof Nr&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Dr(this.spec,t.spec))};var Er=function(t,e){this.spec=e||Pr,this.attrs=t};Er.prototype.map=function(t,e,n,r){var o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Ir(o,i,this)},Er.prototype.valid=function(t,e){return e.from<e.to},Er.prototype.eq=function(t){return this==t||t instanceof Er&&Dr(this.attrs,t.attrs)&&Dr(this.spec,t.spec)},Er.is=function(t){return t.type instanceof Er};var Ar=function(t,e){this.spec=e||Pr,this.attrs=t};Ar.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,1);if(o.deleted)return null;var i=t.mapResult(e.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Ir(o.pos-n,i.pos-n,this)},Ar.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),r=n.index,o=n.offset;return o==e.from&&o+t.child(r).nodeSize==e.to},Ar.prototype.eq=function(t){return this==t||t instanceof Ar&&Dr(this.attrs,t.attrs)&&Dr(this.spec,t.spec)};var Ir=function(t,e,n){this.from=t,this.to=e,this.type=n},zr={spec:{configurable:!0}};Ir.prototype.copy=function(t,e){return new Ir(t,e,this.type)},Ir.prototype.eq=function(t){return this.type.eq(t.type)&&this.from==t.from&&this.to==t.to},Ir.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},Ir.widget=function(t,e,n){return new Ir(t,t,new Nr(e,n))},Ir.inline=function(t,e,n,r){return new Ir(t,e,new Er(n,r))},Ir.node=function(t,e,n,r){return new Ir(t,e,new Ar(n,r))},zr.spec.get=function(){return this.type.spec},Object.defineProperties(Ir.prototype,zr);var Rr=[],Pr={},Br=function(t,e){this.local=t&&t.length?t:Rr,this.children=e&&e.length?e:Rr};Br.create=function(t,e){return e.length?Lr(e,t,0,Pr):_r},Br.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},Br.prototype.findInner=function(t,e,n,r,o){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var c=this.children[a]+1;this.children[a+2].findInner(t-c,e-c,n,r+c,o)}},Br.prototype.map=function(t,e,n){return this==_r||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Pr)},Br.prototype.mapInner=function(t,e,n,r,o){for(var i,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?function(t,e,n,r,o,i,s){for(var a=t.slice(),c=function(t,e,n,r){for(var s=0;s<a.length;s+=3){var c=a[s+1],h=void 0;-1==c||t>c+i||(e>=a[s]+i?a[s+1]=-1:(h=r-n-(e-t)+(i-o))&&(a[s]+=h,a[s+1]+=h))}},h=0;h<n.maps.length;h++)n.maps[h].forEach(c);for(var l=!1,p=0;p<a.length;p+=3)if(-1==a[p+1]){var u=n.map(a[p]+i),f=u-o;if(f<0||f>=r.content.size){l=!0;continue}var d=n.map(t[p+1]+i,-1)-o,m=r.content.findIndex(f),v=m.index,g=m.offset,y=r.maybeChild(v);if(y&&g==f&&g+y.nodeSize==d){var w=a[p+2].mapInner(n,y,u+1,a[p]+i+1,s);w!=_r?(a[p]=f,a[p+1]=d,a[p+2]=w):(a[p+1]=-2,l=!0)}else l=!0}if(l){var b=Lr(function(t,e,n,r,o,i,s){function a(t,e){for(var i=0;i<t.local.length;i++){var c=t.local[i].map(r,o,e);c?n.push(c):s.onRemove&&s.onRemove(t.local[i].spec)}for(var h=0;h<t.children.length;h+=3)a(t.children[h+2],t.children[h]+e+1)}for(var c=0;c<t.length;c+=3)-1==t[c+1]&&a(t[c+2],e[c]+i+1);return n}(a,t,e||[],n,o,i,s),r,0,s);e=b.local;for(var k=0;k<a.length;k+=3)a[k+1]<0&&(a.splice(k,3),k-=3);for(var x=0,S=0;x<b.children.length;x+=3){for(var M=b.children[x];S<a.length&&a[S]<M;)S+=3;a.splice(S,0,b.children[x],b.children[x+1],b.children[x+2])}}return new Br(e&&e.sort(qr),a)}(this.children,i,t,e,n,r,o):i?new Br(i.sort(qr)):_r},Br.prototype.add=function(t,e){return e.length?this==_r?Br.create(t,e):this.addInner(t,e,0):this},Br.prototype.addInner=function(t,e,n){var r,o=this,i=0;t.forEach((function(t,s){var a,c=s+n;if(a=Fr(e,t,c)){for(r||(r=o.children.slice());i<r.length&&r[i]<s;)i+=3;r[i]==s?r[i+2]=r[i+2].addInner(t,a,c+1):r.splice(i,0,s,s+t.nodeSize,Lr(a,t,c+1,Pr)),i+=3}}));var s=$r(i?jr(e):e,-n);return new Br(s.length?this.local.concat(s).sort(qr):this.local,r||this.children)},Br.prototype.remove=function(t){return 0==t.length||this==_r?this:this.removeInner(t,0)},Br.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,s=n[o]+e,a=n[o+1]+e,c=0,h=void 0;c<t.length;c++)(h=t[c])&&h.from>s&&h.to<a&&(t[c]=null,(i||(i=[])).push(h));if(i){n==this.children&&(n=this.children.slice());var l=n[o+2].removeInner(i,s+1);l!=_r?n[o+2]=l:(n.splice(o,3),o-=3)}}if(r.length)for(var p=0,u=void 0;p<t.length;p++)if(u=t[p])for(var f=0;f<r.length;f++)r[f].type.eq(u.type)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Br(r,n):_r},Br.prototype.forChild=function(t,e){if(this==_r)return this;if(e.isLeaf)return Br.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}for(var i=t+1,s=i+e.content.size,a=0;a<this.local.length;a++){var c=this.local[a];if(c.from<s&&c.to>i&&c.type instanceof Er){var h=Math.max(i,c.from)-i,l=Math.min(s,c.to)-i;h<l&&(r||(r=[])).push(c.copy(h,l))}}if(r){var p=new Br(r.sort(qr));return n?new Vr([p,n]):p}return n||_r},Br.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof Br)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},Br.prototype.locals=function(t){return Jr(this.localsInner(t))},Br.prototype.localsInner=function(t){if(this==_r)return Rr;if(t.inlineContent||!this.local.some(Er.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Er||e.push(this.local[n]);return e};var _r=new Br;Br.empty=_r,Br.removeOverlap=Jr;var Vr=function(t){this.members=t};function $r(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(new Ir(o.from+e,o.to+e,o.type))}return n}function Fr(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,o=null,i=0,s=void 0;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function jr(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function Lr(t,e,n,r){var o=[],i=!1;e.forEach((function(e,s){var a=Fr(t,e,s+n);if(a){i=!0;var c=Lr(a,e,n+s+1,r);c!=_r&&o.push(s,s+e.nodeSize,c)}}));for(var s=$r(i?jr(t):t,-n).sort(qr),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new Br(s,o):_r}function qr(t,e){return t.from-e.from||t.to-e.to}function Jr(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var o=n+1;o<e.length;o++){var i=e[o];if(i.from!=r.from){i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),Wr(e,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),Wr(e,o+1,i.copy(r.to,i.to)))}}return e}function Wr(t,e,n){for(;e<t.length&&qr(n,t[e])>0;)e++;t.splice(e,0,n)}function Hr(t){var e=[];return t.someProp("decorations",(function(n){var r=n(t.state);r&&r!=_r&&e.push(r)})),t.cursorWrapper&&e.push(Br.create(t.state.doc,[t.cursorWrapper.deco])),Vr.from(e)}Vr.prototype.forChild=function(t,e){if(e.isLeaf)return Br.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(t,e);o!=_r&&(o instanceof Vr?n=n.concat(o.members):n.push(o))}return Vr.from(n)},Vr.prototype.eq=function(t){if(!(t instanceof Vr)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},Vr.prototype.locals=function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(t);if(o.length)if(e){n&&(e=e.slice(),n=!1);for(var i=0;i<o.length;i++)e.push(o[i])}else e=o}return e?Jr(n?e:e.sort(qr)):Rr},Vr.from=function(t){switch(t.length){case 0:return _r;case 1:return t[0];default:return new Vr(t)}};var Kr=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Yr(this),this.markCursor=null,this.cursorWrapper=null,Qr(this),this.nodeViews=Xr(this),this.docView=on(this.state.doc,Gr(this),Hr(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new rr(t,(function(e,n,r,o){return Jn(t,e,n,r,o)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=ir[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||hr(t,e)||!t.editable&&e.type in sr||n(t,e)})};for(var n in ir)e(n);ge.safari&&t.dom.addEventListener("input",(function(){return null})),cr(t)}(this),this.pluginViews=[],this.updatePluginViews()},Ur={props:{configurable:!0},root:{configurable:!0}};function Gr(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e.class+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))})),[Ir.node(0,t.state.doc.content.size,e)]}function Qr(t){var e=t.state.selection,n=e.$head,r=e.$anchor,o=e.visible;if(t.markCursor){var i=document.createElement("img");i.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:i,deco:Ir.widget(n.pos,i,{raw:!0,marks:t.markCursor})}}else if(o||n.pos!=r.pos)t.cursorWrapper=null;else{var s;!t.cursorWrapper||t.cursorWrapper.dom.childNodes.length?((s=document.createElement("div")).style.position="absolute",s.style.left="-100000px"):t.cursorWrapper.deco.pos!=n.pos&&(s=t.cursorWrapper.dom),s&&(t.cursorWrapper={dom:s,deco:Ir.widget(n.pos,s,{raw:!0})})}}function Yr(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function Xr(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}Ur.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},Kr.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&cr(this),this._props=t,this.updateStateInner(t.state,!0)},Kr.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)},Kr.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},Kr.prototype.updateStateInner=function(t,e){var n=this,r=this.state,o=!1;if(this.state=t,e){var i=Xr(this);(function(t,e){var n=0,r=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var i in e)r++;return n!=r})(i,this.nodeViews)&&(this.nodeViews=i,o=!0),cr(this)}this.editable=Yr(this),Qr(this);var s,a,c,h,l,p,u,f,d,m,v,g=Hr(this),y=Gr(this),w=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",b=o||!this.docView.matchesNode(t.doc,y,g),k=b||!t.selection.eq(r.selection),x="preserve"==w&&k&&null==this.dom.style.overflowAnchor&&function(t){for(var e,n,r=t.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=t.root.elementFromPoint(i,s);if(a!=t.dom&&t.dom.contains(a)){var c=a.getBoundingClientRect();if(c.top>=o-20){e=a,n=c.top;break}}}return{refDOM:e,refTop:n,stack:Be(t.dom)}}(this);if(k){this.domObserver.stop();var S=b&&(ge.ie||ge.chrome)&&!r.selection.empty&&!t.selection.empty&&(h=r.selection,l=t.selection,p=Math.min(h.$anchor.sharedDepth(h.head),l.$anchor.sharedDepth(l.head)),h.$anchor.node(p)!=l.$anchor.node(p));b&&(!o&&this.docView.update(t.doc,y,g,this)||(this.docView.destroy(),this.docView=on(t.doc,y,g,this.dom,this))),S||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(s=this,a=s.docView.domFromPos(s.state.selection.anchor),c=s.root.getSelection(),Ce(a.node,a.offset,c.anchorNode,c.anchorOffset)))?Rn(this,S):($n(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==w)this.dom.scrollTop=0;else if("to selection"==w){var M=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof Zt?Pe(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),M):Pe(this,this.coordsAtPos(t.selection.head),M))}else x&&(f=(u=x).refDOM,d=u.refTop,m=u.stack,v=f?f.getBoundingClientRect().top:0,_e(m,0==v?0:v-d))},Kr.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},Kr.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},Kr.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var s=o[i].props[t];if(null!=s&&(n=e?e(s):s))return n}},Kr.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Kr.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(Ve)return t.focus(Ve);var e=Be(t);t.focus(null==Ve?{get preventScroll(){return Ve={preventScroll:!0},!0}}:void 0),Ve||(Ve=!1,_e(e,0))}(this.dom),Rn(this),this.domObserver.start()},Ur.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},Kr.prototype.posAtCoords=function(t){return je(this,t)},Kr.prototype.coordsAtPos=function(t){return qe(this,t)},Kr.prototype.domAtPos=function(t){return this.docView.domFromPos(t)},Kr.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},Kr.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Kr.prototype.endOfTextblock=function(t,e){return Qe(this,e||this.state,t)},Kr.prototype.destroy=function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Hr(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Kr.prototype.dispatchEvent=function(t){return function(t,e){hr(t,e)||!ir[e.type]||!t.editable&&e.type in sr||ir[e.type](t,e)}(this,t)},Kr.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Kr.prototype,Ur);var Zr=function(){};Zr.prototype.append=function(t){return t.length?(t=Zr.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},Zr.prototype.prepend=function(t){return t.length?Zr.from(t).append(this):this},Zr.prototype.appendInner=function(t){return new eo(this,t)},Zr.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?Zr.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},Zr.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},Zr.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},Zr.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},Zr.from=function(t){return t instanceof Zr?t:t&&t.length?new to(t):Zr.empty};var to=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(!1===t(this.values[o],r+o))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(!1===t(this.values[o],r+o))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=200)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=200)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Zr);Zr.empty=new to([]);var eo=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(Zr),no=Zr,ro=function(t,e){this.items=t,this.eventCount=e};ro.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(r=this.remapping(i,this.items.length),o=r.maps.length);var s,a,c=t.tr,h=[],l=[];return this.items.forEach((function(t,e){if(!t.step)return r||(r=n.remapping(i,e+1),o=r.maps.length),o--,void l.push(t);if(r){l.push(new oo(t.map));var p,u=t.step.map(r.slice(o));u&&c.maybeStep(u).doc&&(p=c.mapping.maps[c.mapping.maps.length-1],h.push(new oo(p,null,null,h.length+l.length))),o--,p&&r.appendMap(p,o)}else c.maybeStep(t.step);return t.selection?(s=r?t.selection.map(r.slice(o)):t.selection,a=new ro(n.items.slice(0,i).append(l.reverse().concat(h)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:c,selection:s}},ro.prototype.addTransform=function(t,e,n,r){for(var o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,c=0;c<t.steps.length;c++){var h,l=t.steps[c].invert(t.docs[c]),p=new oo(t.mapping.maps[c],l,e);(h=a&&a.merge(p))&&(p=h,c?o.pop():s=s.slice(0,s.length-1)),o.push(p),e&&(i++,e=null),r||(a=p)}var u,f,d,m=i-n.depth;return m>so&&(f=m,(u=s).forEach((function(t,e){if(t.selection&&0==f--)return d=e,!1})),s=u.slice(d),i-=m),new ro(s.append(o),i)},ro.prototype.remapping=function(t,e){var n=new yt;return this.items.forEach((function(e,r){var o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)}),t,e),n},ro.prototype.addMaps=function(t){return 0==this.eventCount?this:new ro(this.items.append(t.map((function(t){return new oo(t)}))),this.eventCount)},ro.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach((function(t){t.selection&&s--}),r);var a=e;this.items.forEach((function(e){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var c=o.maps[r];if(e.step){var h=t.steps[r].invert(t.docs[r]),l=e.selection&&e.selection.map(o.slice(a+1,r));l&&s++,n.push(new oo(c,h,l))}else n.push(new oo(c))}}),r);for(var c=[],h=e;h<i;h++)c.push(new oo(o.maps[h]));var l=this.items.slice(0,r).append(c).append(n),p=new ro(l,s);return p.emptyItemCount()>500&&(p=p.compress(this.items.length-n.length)),p},ro.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},ro.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((function(i,s){if(s>=t)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(e.slice(n)),c=a&&a.getMap();if(n--,c&&e.appendMap(c,n),a){var h=i.selection&&i.selection.map(e.slice(n));h&&o++;var l,p=new oo(c.invert(),a,h),u=r.length-1;(l=r.length&&r[u].merge(p))?r[u]=l:r.push(p)}}else i.map&&n--}),this.items.length,0),new ro(no.from(r.reverse()),o)},ro.empty=new ro(no.empty,0);var oo=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};oo.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new oo(e.getMap().invert(),e,this.selection)}};var io=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},so=20;function ao(t){var e=[];return t.forEach((function(t,n,r,o){return e.push(r,o)})),e}function co(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function ho(t,e,n,r){var o=uo(e),i=fo.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(s){var a=s.selection.resolve(s.transform.doc),c=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),h=new io(r?c:s.remaining,r?s.remaining:c,null,0);n(s.transform.setSelection(a).setMeta(fo,{redo:r,historyState:h}).scrollIntoView())}}var lo=!1,po=null;function uo(t){var e=t.plugins;if(po!=e){lo=!1,po=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){lo=!0;break}}return lo}var fo=new ve("history"),mo=new ve("closeHistory");function vo(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new fe({key:fo,state:{init:function(){return new io(ro.empty,ro.empty,null,0)},apply:function(e,n,r){return function(t,e,n,r){var o,i=n.getMeta(fo);if(i)return i.historyState;n.getMeta(mo)&&(t=new io(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(fo))return s.getMeta(fo).redo?new io(t.done.addTransform(n,null,r,uo(e)),t.undone,ao(n.mapping.maps[n.steps.length-1]),t.prevTime):new io(t.done,t.undone.addTransform(n,null,r,uo(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new io(t.done.rebased(n,o),t.undone.rebased(n,o),co(t.prevRanges,n.mapping),t.prevTime):new io(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),co(t.prevRanges,n.mapping),t.prevTime);var a=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)})),n}(n,t.prevRanges)),c=s?co(t.prevRanges,n.mapping):ao(n.mapping.maps[n.steps.length-1]);return new io(t.done.addTransform(n,a?e.selection.getBookmark():null,r,uo(e)),ro.empty,c,n.time)}(n,r,e,t)}},config:t})}function go(t,e){var n=fo.getState(t);return!(!n||0==n.done.eventCount)&&(e&&ho(n,t,e,!1),!0)}function yo(t,e){var n=fo.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&ho(n,t,e,!0),!0)}var wo=function(t,e){var n;this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,r,o){var i=n;if(e[1]){var s=e[0].lastIndexOf(e[1]);i+=e[0].slice(s+e[1].length);var a=(r+=s)-o;a>0&&(i=e[0].slice(s-a,s)+i,r=o)}return t.tr.insertText(i,r,o)}):e};function bo(t,e,n,r,o,i){if(t.composing)return!1;var s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;for(var c=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"￼")+r,h=0;h<o.length;h++){var l=o[h].match.exec(c),p=l&&o[h].handler(s,l,e-(l[0].length-r.length),n);if(p)return t.dispatch(p.setMeta(i,{transform:p,from:e,to:n,text:r})),!0}return!1}new wo(/--$/,"—");var ko=new wo(/\.\.\.$/,"…"),xo=[new wo(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new wo(/"$/,"”"),new wo(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new wo(/'$/,"’")];var So=["ol",0],Mo=["ul",0],Oo=["li",0],Co={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1==t.attrs.order?So:["ol",{start:t.attrs.order},0]}},To={parseDOM:[{tag:"ul"}],toDOM:function(){return Mo}},Do={parseDOM:[{tag:"li"}],toDOM:function(){return Oo},defining:!0};function No(t,e){return function(n,r){var o=n.selection,s=o.$from,a=o.$to,c=s.blockRange(a),h=!1,l=c;if(!c)return!1;if(c.depth>=2&&s.node(c.depth-1).type.compatibleContent(t)&&0==c.startIndex){if(0==s.index(c.depth-1))return!1;var p=n.doc.resolve(c.start-2);l=new C(p,p,c.depth),c.endIndex<c.parent.childCount&&(c=new C(s,n.doc.resolve(a.end(c.depth)),c.depth)),h=!0}var f=At(l,t,e,c);return!!f&&(r&&r(function(t,e,n,r,o){for(var s=i.empty,a=n.length-1;a>=0;a--)s=i.from(n[a].type.create(n[a].attrs,s));t.step(new Tt(e.start-(r?2:0),e.end,e.start,e.end,new u(s,0,0),n.length,!0));for(var c=0,h=0;h<n.length;h++)n[h].type==o&&(c=h+1);for(var l=n.length-c,p=e.start+n.length-(r?2:0),f=e.parent,d=e.startIndex,m=e.endIndex,v=!0;d<m;d++,v=!1)!v&&zt(t.doc,p,l)&&(t.split(p,l),p+=2*l),p+=f.child(d).nodeSize;return t}(n.tr,c,f,h,t).scrollIntoView()),!0)}}function Eo(t){return function(e,n){var r=e.selection,o=r.$from,s=r.$to,a=o.blockRange(s,(function(e){return e.childCount&&e.firstChild.type==t}));return!!a&&(!n||(o.node(a.depth-1).type==t?function(t,e,n,r){var o=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(o.step(new Tt(s-1,a,s,a,new u(i.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new C(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));return e(o.lift(r,Et(r)).scrollIntoView()),!0}(e,n,t,a):function(t,e,n){for(var r=t.tr,o=n.parent,s=n.end,a=n.endIndex-1,c=n.startIndex;a>c;a--)s-=o.child(a).nodeSize,r.delete(s-1,s+1);var h=r.doc.resolve(n.start),l=h.nodeAfter,p=0==n.startIndex,f=n.endIndex==o.childCount,d=h.node(-1),m=h.index(-1);if(!d.canReplace(m+(p?0:1),m+1,l.content.append(f?i.empty:i.from(o))))return!1;var v=h.pos,g=v+l.nodeSize;return r.step(new Tt(v-(p?1:0),g+(f?1:0),v+1,g-1,new u((p?i.empty:i.from(o.copy(i.empty))).append(f?i.empty:i.from(o.copy(i.empty))),p?0:1,f?0:1),p?0:1)),e(r.scrollIntoView()),!0}(e,n,a)))}}var Ao=["p",0],Io=["blockquote",0],zo=["hr"],Ro=["pre",["code",0]],Po=["br"],Bo=["em",0],_o=["strong",0],Vo=["code",0],$o={link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM:function(t){var e=t.attrs;return["a",{href:e.href,title:e.title},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return Bo}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!=t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}}],toDOM:function(){return _o}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return Vo}}};new X({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return Ao}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return Io}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return zo}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return Ro}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM:function(t){var e=t.attrs;return["img",{src:e.src,alt:e.alt,title:e.title}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return Po}}},marks:$o});const Fo={content:"inline*",defining:!0,group:"block",toDOM:t=>["h1",{class:"sn-editor"},0],parseDOM:[{tag:"h1"}]},jo={content:"inline*",defining:!0,group:"block",toDOM:t=>["h2",{class:"sn-editor"},0],parseDOM:[{tag:"h2"}]},Lo=new X({nodes:{doc:{content:"block+",toDOM:t=>["main",{class:"sn-editor"},0],parseDOM:[{tag:"main"}]},paragraph:{content:"inline*",group:"block",marks:"_",toDOM:t=>["p",{class:"sn-editor"},0],parseDOM:[{tag:"p"}]},checklist_item:{attrs:{checked:{default:!1}},content:"inline*",defining:!0,group:"block",marks:"_",toDOM:t=>["div",{class:"checklist-item"},["input",Object.assign({type:"checkbox"},t.attrs.checked&&{checked:"true"})],["p",0]],parseDOM:[{contentElement:"p",tag:"div.checklist-item",getAttrs:t=>({checked:!!t.querySelector("input").checked})}]},unordered_list:Object.assign(Object.assign({},To),{content:"list_item+",group:"block"}),ordered_list:Object.assign(Object.assign({},Co),{content:"list_item+",group:"block"}),list_item:Object.assign(Object.assign({},Do),{content:"paragraph+"}),heading1:Fo,heading2:jo,text:{group:"inline"}},marks:{link:Object.assign(Object.assign({},$o.link),{inclusive:!1}),em:Object.assign(Object.assign({},$o.em),{inclusive:!1}),strong:Object.assign(Object.assign({},$o.strong),{inclusive:!1}),code:Object.assign(Object.assign({},$o.code),{inclusive:!1})}});function qo(t,e){return new wo(new RegExp(`${t}(.*?)${t}`),(t,n,r,o)=>{const[i,s]=n,{tr:a}=t;if(!s)return;const c=t.doc.resolve(r).marksAcross(t.doc.resolve(o));return a.replaceRangeWith(r,o,Lo.text(s,[...c,e.create()]))})}function Jo(t,e){return new wo(new RegExp("^"+t),(t,n,r,o)=>{const{$from:i}=t.selection;if(i.depth>1)return;const{tr:s}=t;return s.replaceRangeWith(r,o,e.createAndFill()),s.setSelection(Ut.near(s.doc.resolve(r))),s})}const Wo=(Ho={rules:[...xo,ko,(Go=/^# /,Qo=Lo.nodes.heading2,new wo(Go,(function(t,e,n,r){var o=t.doc.resolve(n),i=Yo instanceof Function?Yo(e):Yo;return o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),Qo)?t.tr.delete(n,r).setBlockType(n,n,Qo,i):null}))),qo("`",Lo.marks.code),qo("\\*\\*",Lo.marks.strong),qo("\\*",Lo.marks.em),Jo("1. ",Lo.nodes.ordered_list),Jo("- ",Lo.nodes.unordered_list)]},Ko=Ho.rules,Uo=new fe({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,e,n,r){return bo(t,e,n,r,Ko,Uo)},handleDOMEvents:{compositionend:function(t){setTimeout((function(){var e=t.state.selection.$cursor;e&&bo(t,e.pos,e.pos,"",Ko,Uo)}))}}},isInputRules:!0}));var Ho,Ko,Uo,Go,Qo,Yo;function Xo(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function Zo(t,e){for(;t;t="start"==e?t.firstChild:t.lastChild)if(t.isTextblock)return!0;return!1}function ti(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function ei(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function ni(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ri(t,e){var n=t.selection,r=n.$from,o=n.$to;if(t.selection instanceof Zt&&t.selection.node.isBlock)return!(!r.parentOffset||!zt(t.doc,r.pos))&&(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){var s=o.parentOffset==o.parent.content.size,a=t.tr;t.selection instanceof Yt&&a.deleteSelection();var c=0==r.depth?null:ni(r.node(-1).contentMatchAt(r.indexAfter(-1))),h=s&&c?[{type:c}]:null,l=zt(a.doc,a.mapping.map(r.pos),1,h);h||l||!zt(a.doc,a.mapping.map(r.pos),1,c&&[{type:c}])||(h=[{type:c}],l=!0),l&&(a.split(a.mapping.map(r.pos),1,h),s||r.parentOffset||r.parent.type==c||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),i.from(c.create(),r.parent))||a.setNodeMarkup(a.mapping.map(r.before()),c)),e(a.scrollIntoView())}return!0}function oi(t,e,n){var r,o,s=e.nodeBefore,a=e.nodeAfter;if(s.type.spec.isolating||a.type.spec.isolating)return!1;if(function(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(i,i+1)||!o.isTextblock&&!Rt(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0))}(t,e,n))return!0;if(e.parent.canReplace(e.index(),e.index()+1)&&(r=(o=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&o.matchType(r[0]||a.type).validEnd){if(n){for(var c=e.pos+a.nodeSize,h=i.empty,l=r.length-1;l>=0;l--)h=i.from(r[l].create(null,h));h=i.from(s.copy(h));var p=t.tr.step(new Tt(e.pos-1,c,e.pos,c,new u(h,1,0),r.length,!0)),f=c+2*r.length;Rt(p.doc,f)&&p.join(f),n(p.scrollIntoView())}return!0}var d=Ut.findFrom(e,1),m=d&&d.$from.blockRange(d.$to),v=m&&Et(m);return null!=v&&v>=e.depth&&(n&&n(t.tr.lift(m,v).scrollIntoView()),!0)}function ii(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}var si=ii(Xo,(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;var o=ti(r);if(!o){var i=r.blockRange(),s=i&&Et(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}var a=o.nodeBefore;if(!a.type.spec.isolating&&oi(t,o,e))return!0;if(0==r.parent.content.size&&(Zo(a,"end")||Zt.isSelectable(a))){if(e){var c=t.tr.deleteRange(r.before(),r.after());c.setSelection(Zo(a,"end")?Ut.findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):Zt.create(c.doc,o.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos-a.nodeSize,o.pos).scrollIntoView()),!0)}),(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;var o=ti(r),i=o&&o.nodeBefore;return!(!i||!Zt.isSelectable(i))&&(e&&e(t.tr.setSelection(Zt.create(t.doc,o.pos-i.nodeSize)).scrollIntoView()),!0)})),ai=ii(Xo,(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var o=ei(r);if(!o)return!1;var i=o.nodeAfter;if(oi(t,o,e))return!0;if(0==r.parent.content.size&&(Zo(i,"start")||Zt.isSelectable(i))){if(e){var s=t.tr.deleteRange(r.before(),r.after());s.setSelection(Zo(i,"start")?Ut.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):Zt.create(s.doc,s.mapping.map(o.pos))),e(s.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}),(function(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var o=ei(r),i=o&&o.nodeAfter;return!(!i||!Zt.isSelectable(i))&&(e&&e(t.tr.setSelection(Zt.create(t.doc,o.pos)).scrollIntoView()),!0)})),ci={Enter:ii((function(t,e){var n=t.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}),(function(t,e){var n=t.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=ni(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(Yt.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}),(function(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(zt(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&Et(o);return null!=i&&(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)}),ri),"Mod-Enter":function(t,e){var n=t.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),a=ni(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,a))return!1;if(e){var c=r.after(),h=t.tr.replaceWith(c,c,a.createAndFill());h.setSelection(Ut.near(h.doc.resolve(c),1)),e(h.scrollIntoView())}return!0},Backspace:si,"Mod-Backspace":si,Delete:ai,"Mod-Delete":ai,"Mod-a":function(t,e){return e&&e(t.tr.setSelection(new ee(t.doc))),!0}},hi={"Ctrl-h":ci.Backspace,"Alt-Backspace":ci["Mod-Backspace"],"Ctrl-d":ci.Delete,"Ctrl-Alt-Backspace":ci["Mod-Delete"],"Alt-Delete":ci["Mod-Delete"],"Alt-d":ci["Mod-Delete"]};for(var li in ci)hi[li]=ci[li];var pi=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?hi:ci;class ui{constructor(t,{onConfirm:e,onClear:n,text:r,url:o}){this.showCls="active",this.destroy=()=>{this.confirmBtn.removeEventListener("click",this.handleConfirm),this.cancelBtn.removeEventListener("click",this.handleCancel),this.clearBtn.removeEventListener("click",this.handleClear),document.removeEventListener("keydown",this.handleGlobalKeydown),this.el.classList.remove(this.showCls)},this.handleConfirm=()=>{this.onConfirm({text:this.textInput.value,url:this.urlInput.value}),this.destroy()},this.handleClear=()=>{this.onClear(),this.destroy()},this.handleCancel=()=>{this.destroy()},this.handleGlobalKeydown=t=>{const e=13===t.which;if(document.activeElement===this.textInput||document.activeElement===this.urlInput&&e)return void this.handleConfirm();t.which;27===t.which&&this.handleCancel()},this.handleGlobalClick=t=>{!1===this.frameEl.contains(t.target)&&this.destroy()},this.el=t,this.textInput.value=this.text=r,this.urlInput.value=this.url=o,this.urlOpenLink.href=o,this.onConfirm=e,this.onClear=n,this.frameEl=t.querySelector("#frame"),n?this.clearBtn.classList.add(this.showCls):this.clearBtn.classList.remove(this.showCls),this.el.classList.add(this.showCls),this.confirmBtn.addEventListener("click",this.handleConfirm),this.cancelBtn.addEventListener("click",this.handleCancel),this.clearBtn.addEventListener("click",this.handleClear),document.addEventListener("keydown",this.handleGlobalKeydown),document.addEventListener("click",this.handleGlobalClick),this.urlInput.focus()}get textInput(){return this.el.querySelector("input#text")}get urlInput(){return this.el.querySelector("input#url")}get urlOpenLink(){return this.el.querySelector("label[for=url] a")}get confirmBtn(){return this.el.querySelector("button#confirm")}get cancelBtn(){return this.el.querySelector("button#cancel")}get clearBtn(){return this.el.querySelector("button#clear")}}class fi extends fe{constructor(t,e){super({view:n=>(this.view=n,this.modalEl=e,this.toolbarEl=t,t.addEventListener("click",this.handleToolbarClick),{destroy:()=>{var e;t.removeEventListener("click",this.handleToolbarClick),this.unhighlightSelectedAttrs(),null===(e=this.modal)||void 0===e||e.destroy()},update:(t,e)=>{this.unhighlightSelectedAttrs(),this.highlightSelectedAttrs(t.state)}}),props:{handleKeyDown:(t,e)=>{const n=84===e.which,r=e.ctrlKey;if(n&&r)return this.toggleChecklistItem(),!0;const o=55===e.which,i=e.metaKey;if(o&&i)return this.toggleList(Lo.nodes.unordered_list,Lo.nodes.list_item),!0;if(85===e.which&&r)return this.toggleList(Lo.nodes.unordered_list,Lo.nodes.list_item),!0;if(79===e.which&&r)return this.toggleList(Lo.nodes.ordered_list,Lo.nodes.list_item),!0;if(187===e.which&&r)return this.promoteHeading(this.view.state,this.view.dispatch),!0;if(74===e.which&&r)return this.swapTextBlock(Lo.nodes.paragraph),!0;const s=32===e.which;if(r&&s)return function(t,e){const{$from:n,$to:r}=t.selection,o=n.blockRange(r);let i=!1;for(let t=o.startIndex,e=o.parent.child(t);t<o.endIndex;t+=1){if(e.type!==Lo.nodes.checklist_item)return!1;if(e.attrs.checked){i=!0;break}}if(!e)return!0;const{tr:s}=t;for(let t=o.startIndex,e=o.parent.child(t),n=o.start;t<o.endIndex;t+=1)s.setNodeMarkup(n,void 0,{checked:!i}),n+=e.nodeSize;return e(s),!0}(this.view.state,this.view.dispatch);const a=90===e.which;if(i&&a)return go(this.view.state,this.view.dispatch);const c=89===e.which;if(i&&c)return yo(this.view.state,this.view.dispatch);const h=73===e.which;if(i&&h)return this.toggleMark(Lo.marks.em),!0;const l=66===e.which;if(i&&l)return this.toggleMark(Lo.marks.strong),!0;const p=222===e.which;if(i&&p)return this.toggleMark(Lo.marks.code),!0;const u=75===e.which;return!(!i||!u)&&(this.activateLinkModal(this.view.state,this.view.dispatch),!0)}}}),this.swapTextBlock=t=>{let{dispatch:e,state:n}=this.view,{tr:r}=n;const{$from:o,$to:i,from:s,to:a}=n.selection;t!==Lo.nodes.unordered_list&&Eo(Lo.nodes.list_item)(n,e),({dispatch:e,state:n}=this.view),({tr:r}=n),r.setBlockType(s,a,t),e(r),this.view.focus()},this.promoteHeading=(t,e)=>{const{selection:n}=t;if(!n.empty)return;const{$from:{parent:{type:r}}}=n;let o;o=r===Lo.nodes.heading2?Lo.nodes.heading1:r===Lo.nodes.heading1?Lo.nodes.paragraph:Lo.nodes.heading2,this.swapTextBlock(o)},this.toggleList=(t,e)=>{const{state:{selection:{$from:n,$to:r},tr:o}}=this.view;if(n.blockRange(r,e=>e.type===t)){const{dispatch:t,state:n}=this.view;Eo(e)(n,t)}else{const e=n.blockRange(r);for(let n=e.startIndex;n<e.endIndex;n+=1)if(e.parent.child(n).type===t)return;this.swapTextBlock(Lo.nodes.paragraph);const{dispatch:o,state:i}=this.view;No(t)(i,o)}},this.toggleChecklistItem=()=>{const{dispatch:t,state:e}=this.view,{doc:n,tr:r}=e,{$from:o,$to:i}=e.selection,s=o.blockRange(i);for(let t=s.startIndex;t<s.endIndex;t+=1)if(s.parent.child(t).type===Lo.nodes.checklist_item)return void this.swapTextBlock(Lo.nodes.paragraph);this.swapTextBlock(Lo.nodes.checklist_item)},this.activateLinkModal=(t,e)=>{const{doc:n,selection:r}=t,{$from:o,$to:i}=r,s=o.marks().find(t=>t.type===Lo.marks.link),a=i.marks().find(t=>t.type===Lo.marks.link),c=s&&a;if(r.empty&&!c)return!1;if(s!==a)return!1;if(!e)return!0;const h=s;let l,p,u,f;if(h){const r=o.parent.nodeAt(o.parentOffset-o.textOffset);p=o.pos-o.textOffset,l=p+r.nodeSize,u=r.text,f=h.attrs.href;const i=new Yt(n.resolve(p),n.resolve(l));e(t.tr.setSelection(i))}else l=i.pos,p=o.pos,u=t.doc.textBetween(o.pos,i.pos),f="";const d=h&&(()=>this.view.dispatch(this.view.state.tr.step(new Vt(p,l,h))));return this.modal=new ui(this.modalEl,{onClear:d,onConfirm:({text:t,url:e})=>{const n=Lo.marks.link.create({href:e}),r=Lo.text(t,[n]);this.view.dispatch(this.view.state.tr.replaceSelectionWith(r,!1))},text:u,url:f}),!0},this.toggleMark=t=>{var e,n;(e=t,function(t,r){var o=t.selection,i=o.empty,s=o.$cursor,a=o.ranges;if(i&&!s||!function(t,e,n){for(var r=function(r){var o=e[r],i=o.$from,s=o.$to,a=0==i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,s.pos,(function(t){if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)})),a)return{v:!0}},o=0;o<e.length;o++){var i=r(o);if(i)return i.v}return!1}(t.doc,a,e))return!1;if(r)if(s)e.isInSet(t.storedMarks||s.marks())?r(t.tr.removeStoredMark(e)):r(t.tr.addStoredMark(e.create(n)));else{for(var c=!1,h=t.tr,l=0;!c&&l<a.length;l++){var p=a[l],u=p.$from,f=p.$to;c=t.doc.rangeHasMark(u.pos,f.pos,e)}for(var d=0;d<a.length;d++){var m=a[d],v=m.$from,g=m.$to;c?h.removeMark(v.pos,g.pos,e):h.addMark(v.pos,g.pos,e.create(n))}r(h.scrollIntoView())}return!0})(this.view.state,this.view.dispatch),this.view.focus()},this.unhighlightSelectedAttrs=()=>{this.toolbarEl.querySelectorAll(".selected").forEach(t=>{t.classList.remove("selected")})},this.highlightSelectedAttrs=t=>{const e=this.getSelectedFormatAttrs(t);e&&e.forEach(t=>{const e=this.toolbarEl.querySelector(`[data-format=${t}]`);e&&e.classList.add("selected")})},this.getSelectedFormatAndMarks=t=>{if(!t.selection)return;const e=[],{$from:n,$to:r,content:o}=t.selection,i=n.blockRange(r,t=>t.type!==Lo.nodes.list_item);let s=null;for(let t=i.startIndex;t<i.endIndex;t+=1){const e=i.parent.child(t),n=e.type===Lo.nodes.list_item?i.parent.type:e.type;if(null!==s){if(s!==n){s=null;break}}else s=n}e.push(s);const a=n.marksAcross(r);return a&&e.push(...a.map(t=>t.type)),e},this.getSelectedFormatAttrs=t=>{const[e,...n]=this.getSelectedFormatAndMarks(t),r=[];switch(e){case Lo.nodes.heading1:case Lo.nodes.heading2:r.push("heading");break;case Lo.nodes.paragraph:r.push("paragraph");break;case Lo.nodes.unordered_list:r.push("unordered_list");break;case Lo.nodes.ordered_list:r.push("ordered_list");break;case Lo.nodes.checklist_item:r.push("checklist_item");break;default:r.push(null)}return n.forEach(t=>{switch(t){case Lo.marks.link:r.push("link");break;case Lo.marks.em:r.push("em");break;case Lo.marks.strong:r.push("strong");break;case Lo.marks.code:r.push("code")}}),r},this.handleToolbarClick=t=>{const e=t.target.closest("[data-format]");e&&this.applyFormat(e.getAttribute("data-format"))},this.applyFormat=t=>{switch(t){case"undo":go(this.view.state,this.view.dispatch);break;case"redo":yo(this.view.state,this.view.dispatch);break;case"paragraph":this.swapTextBlock(Lo.nodes.paragraph);break;case"heading":this.promoteHeading(this.view.state,this.view.dispatch);break;case"unordered_list":this.toggleList(Lo.nodes.unordered_list,Lo.nodes.list_item);break;case"ordered_list":this.toggleList(Lo.nodes.ordered_list,Lo.nodes.list_item);break;case"checklist_item":this.toggleChecklistItem();break;case"strong":case"em":case"code":this.toggleMark(Lo.marks[t]);break;case"link":this.activateLinkModal(this.view.state,this.view.dispatch)}}}}var di="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),mi=new Uint8Array(16);function vi(){if(!di)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return di(mi)}for(var gi=[],yi=0;yi<256;++yi)gi[yi]=(yi+256).toString(16).substr(1);var wi=function(t,e){var n=e||0,r=gi;return[r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],"-",r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]],r[t[n++]]].join("")};var bi=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||vi)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var i=0;i<16;++i)e[r+i]=o[i];return e||wi(o)},ki=n(11),xi=n.n(ki);function Si(t){return t&&t.content&&t.content["com.dylanonelson.sn-editor"]||null}function Mi(t){return t?t.uuid:null}class Oi{constructor(){let t;this._item=null,this.shouldCallListeners=(t,e)=>!t.isMetadataUpdate&&(Mi(t)!==Mi(e)||function(t){const e=Si(t);return e&&e.lastSavedBy?e.lastSavedBy:null}(t)!==this._id),this._id=bi(),this._listeners=[],this._ready=new Promise(e=>{t=e}),this.componentManager=new xi.a([{name:"stream-context-item"}],()=>{this.componentManager.streamContextItem(e=>{console.debug("streamContextItem update:",e);const n=this.shouldCallListeners(e,this._item);this._item=e,n&&this._listeners.forEach(t=>{t(e)}),t()})})}get latestDoc(){return function(t){const e=Si(t);return e&&e.doc?e.doc:null}(this._item)}onUpdate(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>e!==t)}}ready(){return this._ready}saveNote(t){const e=Object.assign(Object.assign({},this._item),{content:Object.assign(Object.assign({},this._item.content),{"com.dylanonelson.sn-editor":{doc:t,lastSavedBy:this._id}})});this.componentManager.saveItemWithPresave(e)}}Oi.SN_ITEM_SAVE_KEY="com.dylanonelson.sn-editor",Oi.itemSelectors={};const Ci=new Oi;var Ti=n(0),Di=n.n(Ti),Ni=n(1),Ei=n.n(Ni);n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10);const Ai={checklist_item(t,e,n){const r=document.createElement("div");r.classList.add("checklist-item");const o=document.createElement("div");o.classList.add("checkbox"),t.attrs.checked?(o.classList.add("is-checked"),o.innerHTML=Di.a):o.innerHTML=Ei.a,o.contentEditable="false";const i=document.createElement("p");r.appendChild(o),r.appendChild(i);const s=t=>{const{relatedTarget:n,target:r}=t;n===o&&r===e.dom&&e.focus()},a=t=>{if(!1===o.contains(t.target))return;const r=o.classList.contains("is-checked"),{tr:i}=e.state,s=n();i.setNodeMarkup(s,void 0,{checked:!r}),e.dispatch(i)};return e.dom.addEventListener("blur",s),e.dom.addEventListener("click",a),{dom:r,contentDOM:i,destroy(){e.dom.removeEventListener("blur",s),e.dom.removeEventListener("click",a)}}}};for(var Ii={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},zi=Ii,Ri={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:";",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Pi="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Bi="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),_i="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),Vi="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),$i="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Fi=Pi&&(Vi||+Pi[1]<57)||_i&&Vi,ji=0;ji<10;ji++)Ii[48+ji]=Ii[96+ji]=String(ji);for(ji=1;ji<=24;ji++)Ii[ji+111]="F"+ji;for(ji=65;ji<=90;ji++)Ii[ji]=String.fromCharCode(ji+32),Ri[ji]=String.fromCharCode(ji);for(var Li in Ii)Ri.hasOwnProperty(Li)||(Ri[Li]=Ii[Li]);var qi=function(t){var e=!(Fi&&(t.ctrlKey||t.altKey||t.metaKey)||(Bi||$i)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?Ri:Ii)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e},Ji="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function Wi(t){var e,n,r,o,i=t.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(var a=0;a<i.length-1;a++){var c=i[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))e=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))r=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);Ji?o=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function Hi(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function Ki(t){return new fe({props:{handleKeyDown:Ui(t)}})}function Ui(t){var e=function(t){var e=Object.create(null);for(var n in t)e[Wi(n)]=t[n];return e}(t);return function(t,n){var r,o=qi(n),i=1==o.length&&" "!=o,s=e[Hi(o,n,!i)];if(s&&s(t.state,t.dispatch,t))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey)&&(r=zi[n.keyCode])&&r!=o){var a=e[Hi(r,n,!0)];if(a&&a(t.state,t.dispatch,t))return!0}else if(i&&n.shiftKey){var c=e[Hi(o,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}return!1}}const Gi=[Ki({Enter:(Qi=Lo.nodes.list_item,function(t,e){var n=t.selection,r=n.$from,o=n.$to,s=n.node;if(s&&s.isBlock||r.depth<2||!r.sameParent(o))return!1;var a=r.node(-1);if(a.type!=Qi)return!1;if(0==r.parent.content.size){if(2==r.depth||r.node(-3).type!=Qi||r.index(-2)!=r.node(-2).childCount-1)return!1;if(e){for(var c=i.empty,h=r.index(-1)>0,l=r.depth-(h?1:2);l>=r.depth-3;l--)c=i.from(r.node(l).copy(c));c=c.append(i.from(Qi.createAndFill()));var p=t.tr.replace(r.before(h?null:-1),r.after(-3),new u(c,h?3:2,2));p.setSelection(t.selection.constructor.near(p.doc.resolve(r.pos+(h?3:2)))),e(p.scrollIntoView())}return!0}var f=o.pos==r.end()?a.contentMatchAt(0).defaultType:null,d=t.tr.delete(r.pos,o.pos),m=f&&[null,{type:f}];return!!zt(d.doc,r.pos,2,m)&&(e&&e(d.split(r.pos,2,m).scrollIntoView()),!0)})}),Ki({Enter(t,e){const{selection:{$from:n,from:r},tr:o}=t;if(n.parent.type!==Lo.nodes.checklist_item)return!1;o.deleteSelection();const i=o.doc.resolve(r);if(2===i.parent.nodeSize){const t=i.pos;return o.replaceWith(t-1,t+1,Lo.nodes.paragraph.createAndFill()),e(o),!0}return o.split(r,void 0,[{type:Lo.nodes.checklist_item,attrs:{checked:!1}}]),e(o),!0}}),Ki(pi)];var Qi,Yi=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};function Xi(){return Ci.latestDoc?Lo.nodeFromJSON(Ci.latestDoc):Lo.topNodeType.createAndFill()}!function(){Yi(this,void 0,void 0,(function*(){yield Ci.ready();const t=window.view=new Kr(document.querySelector("#editor"),{state:le.create({doc:Xi(),plugins:[...Gi,new fi(document.querySelector("#toolbar"),document.querySelector("#link-modal")),new fe({props:{nodeViews:Ai}}),Wo,vo()]}),dispatchTransaction(e){const n=t.state.apply(e);t.updateState(n),Ci.saveNote(n.doc.toJSON())}});Ci.onUpdate(e=>{const n=t.state.plugins.filter(t=>t instanceof fi==!1);t.setProps({state:le.create({doc:Xi(),plugins:[...n,new fi(document.querySelector("#toolbar"),document.querySelector("#link-modal"))]})})})}))}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jaGVja19ib3gtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jaGVja19ib3hfb3V0bGluZV9ibGFuay0yNHB4LnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2NvZGUtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9mb3JtYXRfYm9sZC0yNHB4LnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2Zvcm1hdF9pdGFsaWMtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9mb3JtYXRfbGlzdF9idWxsZXRlZC0yNHB4LnN2ZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2Zvcm1hdF9saXN0X251bWJlcmVkLTI0cHguc3ZnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvZm9ybWF0X3NpemUtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9saW5rLTI0cHguc3ZnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvbm90ZXMtMjRweC5zdmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9vcGVuX2luX25ldy0yNHB4LnN2ZyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbXBvbmVudE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29yZGVyZWRtYXAvaW5kZXguZXMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9mcmFnbWVudC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RpZmYuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb21wYXJlZGVlcC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL21hcmsuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZXBsYWNlLmpzIiwid2VicGFjazovLy8uLi9zcmMvcmVzb2x2ZWRwb3MuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9ub2RlLmpzIiwid2VicGFjazovLy8uLi9zcmMvY29udGVudC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3NjaGVtYS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2Zyb21fZG9tLmpzIiwid2VicGFjazovLy8uLi9zcmMvdG9fZG9tLmpzIiwid2VicGFjazovLy8uLi9zcmMvbWFwLmpzIiwid2VicGFjazovLy8uLi9zcmMvdHJhbnNmb3JtLmpzIiwid2VicGFjazovLy8uLi9zcmMvc3RlcC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JlcGxhY2Vfc3RlcC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3N0cnVjdHVyZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL21hcmtfc3RlcC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3NlbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RyYW5zYWN0aW9uLmpzIiwid2VicGFjazovLy8uLi9zcmMvc3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9wbHVnaW4uanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9icm93c2VyLmpzIiwid2VicGFjazovLy8uLi9zcmMvZG9tLmpzIiwid2VicGFjazovLy8uLi9zcmMvZG9tY29vcmRzLmpzIiwid2VicGFjazovLy8uLi9zcmMvdmlld2Rlc2MuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jYXB0dXJla2V5cy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RvbWNoYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NsaXBib2FyZC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RvbW9ic2VydmVyLmpzIiwid2VicGFjazovLy8uLi9zcmMvaW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kZWNvcmF0aW9uLmpzIiwid2VicGFjazovLy8uLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvcGUtc2VxdWVuY2UvZGlzdC9pbmRleC5lcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2hpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9pbnB1dHJ1bGVzLmpzIiwid2VicGFjazovLy8uLi9zcmMvcnVsZXMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zY2hlbWEtbGlzdC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3NjaGVtYS1iYXNpYy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NoZW1hLnRzIiwid2VicGFjazovLy8uL3NyYy9pbnB1dFJ1bGVzLnRzIiwid2VicGFjazovLy8uLi9zcmMvcnVsZWJ1aWxkZXJzLmpzIiwid2VicGFjazovLy8uLi9zcmMvY29tbWFuZHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xiYXJQbHVnaW4udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9ybmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9ieXRlc1RvVXVpZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwid2VicGFjazovLy8uL3NyYy9jbGllbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL25vZGVWaWV3cy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdzNjLWtleW5hbWUvaW5kZXguZXMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9rZXltYXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tleW1hcHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQ29tcG9uZW50TWFuYWdlciIsInBlcm1pc3Npb25zIiwib25SZWFkeSIsInRoaXMiLCJzZW50TWVzc2FnZXMiLCJtZXNzYWdlUXVldWUiLCJsb2dnaW5nRW5hYmxlZCIsImFjY2VwdHNUaGVtZXMiLCJhY3RpdmVUaGVtZXMiLCJpbml0aWFsUGVybWlzc2lvbnMiLCJvblJlYWR5Q2FsbGJhY2siLCJjb2FsbGVzZWRTYXZpbmciLCJjb2FsbGVzZWRTYXZpbmdEZWxheSIsInJlZ2lzdGVyTWVzc2FnZUhhbmRsZXIiLCJtZXNzYWdlSGFuZGxlciIsImV2ZW50IiwiY29uc29sZSIsImxvZyIsImRhdGEiLCJkb2N1bWVudCIsInJlZmVycmVyIiwiVVJMIiwib3JpZ2luIiwicGFyc2VkRGF0YSIsIkpTT04iLCJwYXJzZSIsImhhbmRsZU1lc3NhZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwid2luZG93IiwicGF5bG9hZCIsImFjdGlvbiIsInNlc3Npb25LZXkiLCJjb21wb25lbnREYXRhIiwiYWN0aXZhdGVUaGVtZXMiLCJ0aGVtZXMiLCJvcmlnaW5hbCIsIm9yaWdpbmFsTWVzc2FnZSIsImZpbHRlciIsIm1lc3NhZ2UiLCJtZXNzYWdlSWQiLCJhbGVydCIsImNhbGxiYWNrIiwiZW52aXJvbm1lbnQiLCJwbGF0Zm9ybSIsInV1aWQiLCJpc01vYmlsZSIsImxlbmd0aCIsInJlcXVlc3RQZXJtaXNzaW9ucyIsInBvc3RNZXNzYWdlIiwiYWN0aXZlVGhlbWVVcmxzIiwiZ2VuZXJhdGVVVUlEIiwiYXBpIiwic2VudE1lc3NhZ2UiLCJzdHJpbmdpZnkiLCJwdXNoIiwicGFyZW50IiwidHlwZSIsIndpZHRoIiwiaGVpZ2h0IiwiY29udGVudFR5cGVzIiwiQXJyYXkiLCJpc0FycmF5IiwiY29udGVudF90eXBlcyIsIml0ZW1zIiwiaXRlbSIsImxhc3RTdHJlYW1lZEl0ZW0iLCJwZW5kaW5nU2F2ZVRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJfcGVyZm9ybVNhdmluZ09mSXRlbXMiLCJwZW5kaW5nU2F2ZVBhcmFtcyIsImpzb25PYmplY3RGb3JJdGVtIiwiYXNzb2NpYXRlSXRlbSIsIm1hcHBlZCIsIm1hcCIsImNvbnRlbnRfdHlwZSIsImRlbGV0ZUl0ZW1zIiwicGFyYW1zIiwic2tpcERlYm91bmNlciIsInNhdmVJdGVtcyIsInByZXNhdmUiLCJzYXZlSXRlbXNXaXRoUHJlc2F2ZSIsIm1hcHBlZEl0ZW1zIiwicGVuZGluZ1NhdmVJdGVtcyIsImluY29taW5nSWRzIiwicHJlZXhpc3RpbmdJdGVtcyIsImluY2x1ZGVzIiwiY29uY2F0Iiwic2V0VGltZW91dCIsImNvcHkiLCJhc3NpZ24iLCJjaGlsZHJlbiIsImNvbnRlbnQiLCJhcHBEYXRhIiwiaW5jb21pbmdVcmxzIiwic29ydCIsInRvU3RyaW5nIiwidGhlbWVzVG9BY3RpdmF0ZSIsInRoZW1lc1RvRGVhY3RpdmF0ZSIsImFjdGl2ZVVybCIsImNhbmRpZGF0ZSIsInRoZW1lIiwiZGVhY3RpdmF0ZVRoZW1lIiwidXJsIiwibGluayIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImJ0b2EiLCJocmVmIiwicmVsIiwibWVkaWEiLCJjbGFzc05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFwcGVuZENoaWxkIiwiZnJvbSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzbGljZSIsImZpbmQiLCJlbGVtZW50IiwidGhlbWVFbGVtZW50Rm9yVXJsIiwiZGlzYWJsZWQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjcnlwdG8iLCJtc0NyeXB0byIsImJ1ZiIsIlVpbnQzMkFycmF5IiwiZ2V0UmFuZG9tVmFsdWVzIiwiaWR4IiwicmVwbGFjZSIsIkRhdGUiLCJnZXRUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwiZmxvb3IiLCJPcmRlcmVkTWFwIiwiY29uc3RydWN0b3IiLCJmb3VuZCIsInVuZGVmaW5lZCIsInVwZGF0ZSIsIm5ld0tleSIsInNlbGYiLCJyZW1vdmUiLCJzcGxpY2UiLCJhZGRUb1N0YXJ0IiwiYWRkVG9FbmQiLCJhZGRCZWZvcmUiLCJwbGFjZSIsIndpdGhvdXQiLCJmb3JFYWNoIiwiZiIsInByZXBlbmQiLCJzaXplIiwic3VidHJhY3QiLCJhcHBlbmQiLCJyZXN1bHQiLCJwcm9wIiwiRnJhZ21lbnQiLCJsZXQiLCJub2RlU2l6ZSIsIm5vZGVzQmV0d2VlbiIsInRvIiwibm9kZVN0YXJ0IiwicG9zIiwiY2hpbGQiLCJlbmQiLCJzdGFydCIsIm1heCIsIm1pbiIsImRlc2NlbmRhbnRzIiwidGV4dEJldHdlZW4iLCJibG9ja1NlcGFyYXRvciIsImxlYWZUZXh0IiwidGV4dCIsInNlcGFyYXRlZCIsIm5vZGUiLCJpc1RleHQiLCJpc0xlYWYiLCJpc0Jsb2NrIiwib3RoZXIiLCJsYXN0IiwibGFzdENoaWxkIiwiZmlyc3QiLCJmaXJzdENoaWxkIiwic2FtZU1hcmt1cCIsIndpdGhUZXh0IiwiY3V0IiwiY3V0QnlJbmRleCIsImVtcHR5IiwicmVwbGFjZUNoaWxkIiwiaW5kZXgiLCJjdXJyZW50IiwiZXEiLCJjaGlsZENvdW50IiwiUmFuZ2VFcnJvciIsIm1heWJlQ2hpbGQiLCJmaW5kRGlmZlN0YXJ0IiwiYSIsImIiLCJjaGlsZEEiLCJjaGlsZEIiLCJqIiwiaW5uZXIiLCJmaW5kRGlmZkVuZCIsIm90aGVyUG9zIiwicG9zQSIsInBvc0IiLCJpQSIsImlCIiwic2FtZSIsIm1pblNpemUiLCJmaW5kSW5kZXgiLCJyb3VuZCIsInJldEluZGV4IiwiY3VyUG9zIiwidG9TdHJpbmdJbm5lciIsImpvaW4iLCJ0b0pTT04iLCJmcm9tSlNPTiIsInNjaGVtYSIsIm5vZGVGcm9tSlNPTiIsImZyb21BcnJheSIsImFycmF5Iiwiam9pbmVkIiwibm9kZXMiLCJhdHRycyIsImNvbnN0Iiwib2Zmc2V0IiwiY29tcGFyZURlZXAiLCIkZnJvbSIsInByb3RvdHlwZUFjY2Vzc29ycyIsIlJlc29sdmVkUG9zIiwicGF0aCIsInBhcmVudE9mZnNldCIsImRlcHRoIiwicmVzb2x2ZURlcHRoIiwidmFsIiwiZG9jIiwiaW5kZXhBZnRlciIsInRleHRPZmZzZXQiLCJiZWZvcmUiLCJhZnRlciIsIm5vZGVBZnRlciIsImRPZmYiLCJub2RlQmVmb3JlIiwibWFya3MiLCJNYXJrIiwibm9uZSIsIm1haW4iLCJ0bXAiLCJzcGVjIiwiaW5jbHVzaXZlIiwiaXNJblNldCIsInJlbW92ZUZyb21TZXQiLCJtYXJrc0Fjcm9zcyIsIiRlbmQiLCJpc0lubGluZSIsIm5leHQiLCJzaGFyZWREZXB0aCIsImJsb2NrUmFuZ2UiLCJwcmVkIiwiaW5saW5lQ29udGVudCIsIk5vZGVSYW5nZSIsInNhbWVQYXJlbnQiLCJzdHIiLCJyZXNvbHZlIiwicmVtIiwicmVzb2x2ZUNhY2hlZCIsInJlc29sdmVDYWNoZSIsImNhY2hlZCIsInJlc29sdmVDYWNoZVBvcyIsInJlc29sdmVDYWNoZVNpemUiLCIkdG8iLCJwcm90b3R5cGVBY2Nlc3NvcnMkMSIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsImVtcHR5QXR0cnMiLCJOb2RlIiwic3RhcnRQb3MiLCJ0ZXh0Q29udGVudCIsImhhc01hcmt1cCIsImRlZmF1bHRBdHRycyIsInNhbWVTZXQiLCJtYXJrIiwiaW5jbHVkZVBhcmVudHMiLCJTbGljZSIsIm5vZGVBdCIsImNoaWxkQWZ0ZXIiLCJjaGlsZEJlZm9yZSIsInJlc29sdmVOb0NhY2hlIiwicmFuZ2VIYXNNYXJrIiwiaXNUZXh0YmxvY2siLCJpc0F0b20iLCJ0b0RlYnVnU3RyaW5nIiwid3JhcE1hcmtzIiwiY29udGVudE1hdGNoQXQiLCJtYXRjaCIsImNvbnRlbnRNYXRjaCIsIm1hdGNoRnJhZ21lbnQiLCJFcnJvciIsImNhblJlcGxhY2UiLCJyZXBsYWNlbWVudCIsIm9uZSIsInR3byIsInZhbGlkRW5kIiwiYWxsb3dzTWFya3MiLCJjYW5SZXBsYWNlV2l0aCIsIm1hdGNoVHlwZSIsImNhbkFwcGVuZCIsImNvbXBhdGlibGVDb250ZW50IiwiY2hlY2siLCJ2YWxpZENvbnRlbnQiLCJvYmoiLCJfIiwianNvbiIsIm1hcmtGcm9tSlNPTiIsIm5vZGVUeXBlIiwiVGV4dE5vZGUiLCJzdXBlciIsImJhc2UiLCJDb250ZW50TWF0Y2giLCJ3cmFwQ2FjaGUiLCJzdHJpbmciLCJub2RlVHlwZXMiLCJzdHJlYW0iLCJUb2tlblN0cmVhbSIsImV4cHIiLCJwYXJzZUV4cHIiLCJlcnIiLCJuZmEiLCJsYWJlbGVkIiwiZXhwbG9yZSIsInN0YXRlcyIsIm91dCIsInRlcm0iLCJrbm93biIsImluZGV4T2YiLCJzZXQiLCJudWxsRnJvbSIsInN0YXRlIiwiY21wIiwiZGZhIiwiY29ubmVjdCIsImNvbXBpbGUiLCJleHBycyIsInJlZHVjZSIsImxvb3AiLCJlZGdlIiwiY3VyIiwiZWRnZXMiLCJ3b3JrIiwiZGVhZCIsImhhc1JlcXVpcmVkQXR0cnMiLCJjaGVja0ZvckRlYWRFbmRzIiwiZnJhZyIsImRlZmF1bHRUeXBlIiwiY29tcGF0aWJsZSIsImZpbGxCZWZvcmUiLCJ0b0VuZCIsInNlZW4iLCJzZWFyY2giLCJ0eXBlcyIsImZpbmlzaGVkIiwidHAiLCJjcmVhdGVBbmRGaWxsIiwiZmluZFdyYXBwaW5nIiwidGFyZ2V0IiwiY29tcHV0ZWQiLCJjb21wdXRlV3JhcHBpbmciLCJhY3RpdmUiLCJ2aWEiLCJzaGlmdCIsInJldmVyc2UiLCJlZGdlQ291bnQiLCJzY2FuIiwiaW5saW5lIiwidG9rZW5zIiwic3BsaXQiLCJwb3AiLCJ1bnNoaWZ0IiwicGFyc2VFeHByU2VxIiwiZWF0IiwicGFyc2VFeHByU3Vic2NyaXB0IiwidGVzdCIsInR5cGVOYW1lIiwiZ3JvdXBzIiwicmVzb2x2ZU5hbWUiLCJwYXJzZUV4cHJBdG9tIiwicGFyc2VFeHByUmFuZ2UiLCJwYXJzZU51bSIsIk51bWJlciIsImRlZmF1bHRzIiwiYXR0ck5hbWUiLCJhdHRyIiwiaGFzRGVmYXVsdCIsImRlZmF1bHQiLCJjb21wdXRlQXR0cnMiLCJidWlsdCIsImdpdmVuIiwiaW5pdEF0dHJzIiwiQXR0cmlidXRlIiwidG9rIiwiU3ludGF4RXJyb3IiLCJOb2RlVHlwZSIsImdyb3VwIiwibWFya1NldCIsImF0b20iLCJpc1JlcXVpcmVkIiwic2V0RnJvbSIsImNyZWF0ZUNoZWNrZWQiLCJhbGxvd3NNYXJrVHlwZSIsIm1hcmtUeXBlIiwiYWxsb3dlZE1hcmtzIiwidG9wVHlwZSIsInRvcE5vZGUiLCJvcHRpb25zIiwiTWFya1R5cGUiLCJyYW5rIiwiZXhjbHVkZWQiLCJpbnN0YW5jZSIsImV4Y2x1ZGVzIiwiY29udGVudEV4cHJDYWNoZSIsImNvbnRlbnRFeHByIiwibWFya0V4cHIiLCJnYXRoZXJNYXJrcyIsImV4Y2wiLCJ0b3BOb2RlVHlwZSIsIndyYXBwaW5ncyIsIm9rIiwiRE9NUGFyc2VyIiwicnVsZXMiLCJ0YWdzIiwic3R5bGVzIiwicnVsZSIsInRhZyIsInN0eWxlIiwiZG9tIiwiY29udGV4dCIsIlBhcnNlQ29udGV4dCIsImFkZEFsbCIsImZpbmlzaCIsInBhcnNlU2xpY2UiLCJtYXhPcGVuIiwibWF0Y2hUYWciLCJtYXRjaGVzIiwibmFtZXNwYWNlIiwibmFtZXNwYWNlVVJJIiwibWF0Y2hlc0NvbnRleHQiLCJnZXRBdHRycyIsIm1hdGNoU3R5bGUiLCJjaGFyQ29kZUF0Iiwic2NoZW1hUnVsZXMiLCJpbnNlcnQiLCJwcmlvcml0eSIsInBhcnNlRE9NIiwiZnJvbVNjaGVtYSIsImRvbVBhcnNlciIsImJsb2NrVGFncyIsImFkZHJlc3MiLCJhcnRpY2xlIiwiYXNpZGUiLCJibG9ja3F1b3RlIiwiY2FudmFzIiwiZGQiLCJkaXYiLCJkbCIsImZpZWxkc2V0IiwiZmlnY2FwdGlvbiIsImZpZ3VyZSIsImZvb3RlciIsImZvcm0iLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJoZWFkZXIiLCJoZ3JvdXAiLCJociIsImxpIiwibm9zY3JpcHQiLCJvbCIsIm91dHB1dCIsInByZSIsInNlY3Rpb24iLCJ0YWJsZSIsInRmb290IiwidWwiLCJpZ25vcmVUYWdzIiwiaGVhZCIsInNjcmlwdCIsInRpdGxlIiwibGlzdFRhZ3MiLCJ3c09wdGlvbnNGb3IiLCJwcmVzZXJ2ZVdoaXRlc3BhY2UiLCJOb2RlQ29udGV4dCIsInBlbmRpbmdNYXJrcyIsInNvbGlkIiwiYWN0aXZlTWFya3MiLCJmaWxsIiwid3JhcCIsIm9wZW5FbmQiLCJleGVjIiwiYXBwbHlQZW5kaW5nIiwibmV4dFR5cGUiLCJwZW5kaW5nIiwibWFya01heUFwcGx5IiwiYWRkVG9TZXQiLCJwYXJzZXIiLCJvcGVuIiwiaXNPcGVuIiwidG9wQ29udGV4dCIsInRvcE9wdGlvbnMiLCJ0b3BNYXRjaCIsImZpbmRQb3NpdGlvbnMiLCJuZWVkc0Jsb2NrIiwic2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsInRvcCIsImFkZERPTSIsImFkZFRleHROb2RlIiwiZ2V0QXR0cmlidXRlIiwicmVhZFN0eWxlcyIsInJlIiwidHJpbSIsInBhcnNlU3R5bGVzIiwiYWRkUGVuZGluZ01hcmsiLCJhZGRFbGVtZW50IiwicmVtb3ZlUGVuZGluZ01hcmsiLCJub2RlVmFsdWUiLCJkb21Ob2RlQmVmb3JlIiwicHJldmlvdXNTaWJsaW5nIiwibm9kZU5hbWUiLCJpbnNlcnROb2RlIiwiZmluZEluVGV4dCIsImZpbmRJbnNpZGUiLCJ0b0xvd2VyQ2FzZSIsInByZXZJdGVtIiwibmV4dFNpYmxpbmciLCJub3JtYWxpemVMaXN0IiwicnVsZUZyb21Ob2RlIiwiaWdub3JlIiwic2tpcCIsInN5bmMiLCJvbGROZWVkc0Jsb2NrIiwibGVhZkZhbGxiYWNrIiwiYWRkRWxlbWVudEJ5UnVsZSIsIm93bmVyRG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsImVudGVyIiwic3RhcnRJbiIsImdldENvbnRlbnQiLCJjb250ZW50RE9NIiwiY29udGVudEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZmluZEFyb3VuZCIsImNoaWxkTm9kZXMiLCJmaW5kQXRQb2ludCIsImZpbmRQbGFjZSIsInJvdXRlIiwiY3giLCJlbnRlcklubmVyIiwiYmxvY2siLCJ0ZXh0YmxvY2tGcm9tQ29udGV4dCIsImNsb3NlRXh0cmEiLCJwcmVzZXJ2ZVdTIiwidG9wT3BlbiIsImN1cnJlbnRQb3MiLCJjb250YWlucyIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwidGV4dE5vZGUiLCJzb21lIiwicGFydHMiLCJvcHRpb24iLCJ1c2VSb290IiwibWluRGVwdGgiLCJwYXJ0IiwiJGNvbnRleHQiLCJkZWZsdCIsInVwdG8iLCJsZXZlbCIsImxhc3RJbmRleE9mIiwiRE9NU2VyaWFsaXplciIsImdhdGhlclRvRE9NIiwidG9ET00iLCJzZXJpYWxpemVGcmFnbWVudCIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImtlZXAiLCJyZW5kZXJlZCIsInNwYW5uaW5nIiwiYWRkIiwibWFya0RPTSIsInNlcmlhbGl6ZU1hcmsiLCJzZXJpYWxpemVOb2RlIiwicmVuZGVyU3BlYyIsIm9uQ29udGVudCIsInNlcmlhbGl6ZU5vZGVBbmRNYXJrcyIsInN0cnVjdHVyZSIsInhtbE5TIiwidGFnTmFtZSIsInNwYWNlIiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlTlMiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lckNvbnRlbnQiLCJkb21TZXJpYWxpemVyIiwibm9kZXNGcm9tU2NoZW1hIiwibWFya3NGcm9tU2NoZW1hIiwiZmFjdG9yMTYiLCJwb3ciLCJyZWNvdmVySW5kZXgiLCJNYXBSZXN1bHQiLCJkZWxldGVkIiwicmVjb3ZlciIsIlN0ZXBNYXAiLCJyYW5nZXMiLCJpbnZlcnRlZCIsImRpZmYiLCJyZWNvdmVyT2Zmc2V0IiwibWFwUmVzdWx0IiwiYXNzb2MiLCJfbWFwIiwic2ltcGxlIiwib2xkSW5kZXgiLCJuZXdJbmRleCIsIm9sZFNpemUiLCJuZXdTaXplIiwidG91Y2hlcyIsIm9sZFN0YXJ0IiwibmV3U3RhcnQiLCJpbnZlcnQiLCJNYXBwaW5nIiwibWFwcyIsIm1pcnJvciIsIlRyYW5zZm9ybUVycm9yIiwiX19wcm90b19fIiwiYXBwZW5kTWFwIiwibWlycm9ycyIsInNldE1pcnJvciIsImFwcGVuZE1hcHBpbmciLCJtYXBwaW5nIiwic3RhcnRTaXplIiwibWlyciIsImdldE1pcnJvciIsImFwcGVuZE1hcHBpbmdJbnZlcnRlZCIsInRvdGFsU2l6ZSIsImludmVyc2UiLCJyZWNvdmVyYWJsZXMiLCJyZWMiLCJjb3JyIiwic3RlcHMiLCJkb2NzIiwibXVzdE92ZXJyaWRlIiwic3RlcCIsIm1heWJlU3RlcCIsImZhaWxlZCIsImFwcGx5IiwiYWRkU3RlcCIsImRvY0NoYW5nZWQiLCJnZXRNYXAiLCJzdGVwc0J5SUQiLCJfZG9jIiwiX21hcHBpbmciLCJtZXJnZSIsIl9vdGhlciIsInN0ZXBUeXBlIiwianNvbklEIiwic3RlcENsYXNzIiwiU3RlcFJlc3VsdCIsImZhaWwiLCJmcm9tUmVwbGFjZSIsImUiLCJSZXBsYWNlRXJyb3IiLCJjb250ZW50QmV0d2VlbiIsIlJlcGxhY2VTdGVwIiwib3BlblN0YXJ0IiwiZ2FwRnJvbSIsImdhcFRvIiwiZ2FwIiwiaW5zZXJ0ZWQiLCJpbnNlcnRBdCIsIlJlcGxhY2VBcm91bmRTdGVwIiwicmVtb3ZlQmV0d2VlbiIsImRpc3QiLCJjYW5DdXQiLCJsaWZ0VGFyZ2V0IiwicmFuZ2UiLCJpc29sYXRpbmciLCJpbm5lclJhbmdlIiwiYXJvdW5kIiwib3V0ZXIiLCJmaW5kV3JhcHBpbmdPdXRzaWRlIiwiaW5zaWRlIiwiaW5uZXJNYXRjaCIsImZpbmRXcmFwcGluZ0luc2lkZSIsIndpdGhBdHRycyIsImNhblNwbGl0IiwidHlwZXNBZnRlciIsIiRwb3MiLCJpbm5lclR5cGUiLCJyZXN0IiwiYmFzZVR5cGUiLCJjYW5Kb2luIiwibWFwRnJhZ21lbnQiLCJsaWZ0IiwiZ2FwU3RhcnQiLCJnYXBFbmQiLCJzcGxpdHRpbmciLCJ3cmFwcGVycyIsInNldEJsb2NrVHlwZSIsIm1hcEZyb20iLCJjYW5DaGFuZ2VUeXBlIiwiY2xlYXJJbmNvbXBhdGlibGUiLCJzdGFydE0iLCJlbmRNIiwic2V0Tm9kZU1hcmt1cCIsIm5ld05vZGUiLCJyZXBsYWNlV2l0aCIsInR5cGVBZnRlciIsIm9sZFNsaWNlIiwiQWRkTWFya1N0ZXAiLCJSZW1vdmVNYXJrU3RlcCIsInJlcGxhY2VTdGVwIiwiZml0c1RyaXZpYWxseSIsImZpdHRlZExlZnQiLCJwbGFjZWQiLCJmaXRMZWZ0SW5uZXIiLCJwbGFjZWRCZWxvdyIsInBsYWNlZEhlcmUiLCJmaXRMZWZ0IiwiZnJvbnRpZXIiLCJwYXNzIiwicGxhY2VTbGljZSIsImNsb3NlTm9kZSIsImZpdHRlZCIsImZpdFJpZ2h0Iiwibm9kZVJpZ2h0IiwiY2FuTW92ZVRleHQiLCJmaXR0ZWRBZnRlciIsImZpdFJpZ2h0Sm9pbiIsImNvdW50IiwibWF0Y2hDb3VudCIsInRvTm9kZSIsImpvaW5hYmxlIiwidG9JbmRleCIsImNsb3NlZCIsImZpdFJpZ2h0Q2xvc2VkIiwiZml0UmlnaHRTZXBhcmF0ZSIsIm5vcm1hbGl6ZVNsaWNlIiwiYWRkTWFyayIsInJlbW92ZWQiLCJhZGRlZCIsInJlbW92aW5nIiwiYWRkaW5nIiwibmV3U2V0IiwicmVtb3ZlTWFyayIsIm1hdGNoZWQiLCJ0b1JlbW92ZSIsInBhcmVudFR5cGUiLCJkZWxTdGVwcyIsImFsbG93ZWQiLCJkZWxldGUiLCJ3cmFwcGVyIiwiY2xvc2VOb2RlU3RhcnQiLCJjbG9zZUZyYWdtZW50Iiwib2xkT3BlbiIsIm5ld09wZW4iLCJjb3ZlcmVkRGVwdGhzIiwicGxhY2VDb250ZW50Iiwic2luZ2xlIiwidyIsImNoIiwiYWRkTm9kZSIsImNsb3NlTm9kZUVuZCIsInJlcGxhY2VSYW5nZSIsImRlbGV0ZVJhbmdlIiwidGFyZ2V0RGVwdGhzIiwicHJlZmVycmVkVGFyZ2V0IiwiZGVmaW5pbmciLCJwcmVmZXJyZWRUYXJnZXRJbmRleCIsImxlZnROb2RlcyIsInByZWZlcnJlZERlcHRoIiwib3BlbkRlcHRoIiwidGFyZ2V0RGVwdGgiLCJleHBhbmQiLCJzdGFydFN0ZXBzIiwicmVwbGFjZVJhbmdlV2l0aCIsInBvaW50IiwiaW5zZXJ0UG9pbnQiLCJjb3ZlcmVkIiwidGltZSIsImN1clNlbGVjdGlvbiIsInNlbGVjdGlvbiIsImN1clNlbGVjdGlvbkZvciIsInN0b3JlZE1hcmtzIiwidXBkYXRlZCIsIm1ldGEiLCJzZXRTZWxlY3Rpb24iLCJzZWxlY3Rpb25TZXQiLCJzZXRTdG9yZWRNYXJrcyIsImVuc3VyZU1hcmtzIiwiYWRkU3RvcmVkTWFyayIsIiRoZWFkIiwicmVtb3ZlU3RvcmVkTWFyayIsInN0b3JlZE1hcmtzU2V0Iiwic2V0VGltZSIsInJlcGxhY2VTZWxlY3Rpb24iLCJyZXBsYWNlU2VsZWN0aW9uV2l0aCIsImluaGVyaXRNYXJrcyIsImRlbGV0ZVNlbGVjdGlvbiIsImluc2VydFRleHQiLCJuZWFyIiwic2V0TWV0YSIsImdldE1ldGEiLCJpc0dlbmVyaWMiLCJzY3JvbGxJbnRvVmlldyIsInNjcm9sbGVkSW50b1ZpZXciLCJGaWVsZERlc2MiLCJkZXNjIiwiaW5pdCIsImJhc2VGaWVsZHMiLCJjb25maWciLCJ0ciIsImF0U3RhcnQiLCJfbWFya3MiLCJfb2xkIiwiJGN1cnNvciIsInByZXYiLCJDb25maWd1cmF0aW9uIiwicGx1Z2lucyIsImZpZWxkcyIsInBsdWdpbnNCeUtleSIsInBsdWdpbiIsIkVkaXRvclN0YXRlIiwiYXBwbHlUcmFuc2FjdGlvbiIsImZpbHRlclRyYW5zYWN0aW9uIiwicm9vdFRyIiwidHJhbnNhY3Rpb25zIiwidHJzIiwibmV3U3RhdGUiLCJhcHBseUlubmVyIiwiaGF2ZU5ldyIsImFwcGVuZFRyYW5zYWN0aW9uIiwib2xkU3RhdGUiLCJuZXdJbnN0YW5jZSIsImZpZWxkIiwiYXBwbHlMaXN0ZW5lcnMiLCIkY29uZmlnIiwicmVjb25maWd1cmUiLCJwbHVnaW5GaWVsZHMiLCJhZGRBcHBseUxpc3RlbmVyIiwicmVtb3ZlQXBwbHlMaXN0ZW5lciIsIlBsdWdpbiIsInByb3BzIiwiYmluZFByb3BzIiwiRnVuY3Rpb24iLCJjcmVhdGVLZXkiLCJnZXRTdGF0ZSIsImtleXMiLCJQbHVnaW5LZXkiLCJuYXZpZ2F0b3IiLCJpZV9lZGdlIiwidXNlckFnZW50IiwiaWVfdXB0bzEwIiwiaWVfMTF1cCIsIm1hYyIsImllIiwiaWVfdmVyc2lvbiIsImRvY3VtZW50TW9kZSIsImdlY2tvIiwiZ2Vja29fdmVyc2lvbiIsImNocm9tZSIsImNocm9tZV92ZXJzaW9uIiwiaW9zIiwiYW5kcm9pZCIsIndlYmtpdCIsImRvY3VtZW50RWxlbWVudCIsInNhZmFyaSIsInZlbmRvciIsIndlYmtpdF92ZXJzaW9uIiwiZG9tSW5kZXgiLCJob3N0IiwidGV4dFJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZXRFbmQiLCJzZXRTdGFydCIsImlzRXF1aXZhbGVudFBvc2l0aW9uIiwib2ZmIiwidGFyZ2V0Tm9kZSIsInRhcmdldE9mZiIsInNjYW5Gb3IiLCJhdG9tRWxlbWVudHMiLCJkaXIiLCJoYXNCbG9ja0Rlc2MiLCJjb250ZW50RWRpdGFibGUiLCJwbVZpZXdEZXNjIiwic2VsZWN0aW9uQ29sbGFwc2VkIiwiZG9tU2VsIiwiY29sbGFwc2VkIiwiaXNDb2xsYXBzZWQiLCJicm93c2VyIiwicmFuZ2VDb3VudCIsImdldFJhbmdlQXQiLCJrZXlFdmVudCIsImtleUNvZGUiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImNvZGUiLCJ3aW5kb3dSZWN0Iiwid2luIiwibGVmdCIsInJpZ2h0IiwiaW5uZXJXaWR0aCIsImJvdHRvbSIsImlubmVySGVpZ2h0IiwiZ2V0U2lkZSIsInNpZGUiLCJzY3JvbGxSZWN0SW50b1ZpZXciLCJ2aWV3IiwicmVjdCIsInN0YXJ0RE9NIiwic2Nyb2xsVGhyZXNob2xkIiwic29tZVByb3AiLCJzY3JvbGxNYXJnaW4iLCJkZWZhdWx0VmlldyIsImF0VG9wIiwiYm9keSIsImJvdW5kaW5nIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibW92ZVgiLCJtb3ZlWSIsInNjcm9sbEJ5Iiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsInNjcm9sbFN0YWNrIiwic3RhY2siLCJyZXN0b3JlU2Nyb2xsU3RhY2siLCJkVG9wIiwicHJldmVudFNjcm9sbFN1cHBvcnRlZCIsImZpbmRPZmZzZXRJbk5vZGUiLCJjb29yZHMiLCJjbG9zZXN0IiwiY29vcmRzQ2xvc2VzdCIsImR4Q2xvc2VzdCIsInJvd0JvdCIsInJvd1RvcCIsImNoaWxkSW5kZXgiLCJyZWN0cyIsImdldENsaWVudFJlY3RzIiwiZHgiLCJsZW4iLCJzaW5nbGVSZWN0IiwiaW5SZWN0IiwiZmluZE9mZnNldEluVGV4dCIsInBvc0F0Q29vcmRzIiwicm9vdCIsImNhcmV0UG9zaXRpb25Gcm9tUG9pbnQiLCJjYXJldFJhbmdlRnJvbVBvaW50IiwiZWx0IiwiZWxlbWVudEZyb21Qb2ludCIsImJveCIsInN0YXJ0SSIsInRhcmdldEtsdWRnZSIsIm91dHNpZGUiLCJkb2NWaWV3IiwibmVhcmVzdERlc2MiLCJwb3NCZWZvcmUiLCJwb3NBZnRlciIsInBvc0Zyb21ET00iLCJwb3NGcm9tQ2FyZXQiLCJiaWFzIiwicG9zRnJvbUVsZW1lbnQiLCJwb3NBdFN0YXJ0IiwiYm9yZGVyIiwiY29vcmRzQXRQb3MiLCJkb21Gcm9tUG9zIiwicmVjdEJlZm9yZSIsImFicyIsInJlY3RBZnRlciIsImZsYXR0ZW5WIiwieSIsImZsYXR0ZW5IIiwieCIsIndpdGhGbHVzaGVkU3RhdGUiLCJ2aWV3U3RhdGUiLCJhY3RpdmVFbGVtZW50IiwidXBkYXRlU3RhdGUiLCJmb2N1cyIsIm1heWJlUlRMIiwiY2FjaGVkU3RhdGUiLCJjYWNoZWREaXIiLCJjYWNoZWRSZXN1bHQiLCJlbmRPZlRleHRibG9jayIsInNlbCIsIiRhbmNob3IiLCJuZWFyZXN0IiwiYm94ZXMiLCJlbmRPZlRleHRibG9ja1ZlcnRpY2FsIiwiYXRFbmQiLCJnZXRTZWxlY3Rpb24iLCJtb2RpZnkiLCJvbGRSYW5nZSIsIm9sZE5vZGUiLCJmb2N1c05vZGUiLCJvbGRPZmYiLCJmb2N1c09mZnNldCIsIm9sZEJpZGlMZXZlbCIsImNhcmV0QmlkaUxldmVsIiwiZG9tQWZ0ZXJQb3MiLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsImVuZE9mVGV4dGJsb2NrSG9yaXpvbnRhbCIsImRpcnR5IiwibWF0Y2hlc1dpZGdldCIsIm1hdGNoZXNNYXJrIiwibWF0Y2hlc05vZGUiLCJtYXRjaGVzSGFjayIsImJlZm9yZVBvc2l0aW9uIiwicGFyc2VSdWxlIiwic3RvcEV2ZW50IiwiZGVzdHJveSIsInBvc0JlZm9yZUNoaWxkIiwicG9zQXRFbmQiLCJsb2NhbFBvc0Zyb21ET00iLCJkb21CZWZvcmUiLCJkb21BZnRlciIsIm9ubHlOb2RlcyIsImdldERlc2MiLCJub2RlRE9NIiwiZGVzY0F0IiwicGFyc2VSYW5nZSIsImZyb21PZmZzZXQiLCJ0b09mZnNldCIsImNoaWxkQmFzZSIsImVtcHR5Q2hpbGRBdCIsImFuY2hvciIsImZvcmNlIiwiYW5jaG9yRE9NIiwiaGVhZERPTSIsImFuY2hvck5vZGUiLCJhbmNob3JPZmZzZXQiLCJleHRlbmQiLCJjb2xsYXBzZSIsImlnbm9yZU11dGF0aW9uIiwibXV0YXRpb24iLCJjb250ZW50TG9zdCIsIm1hcmtEaXJ0eSIsInN0YXJ0SW5zaWRlIiwiZW5kSW5zaWRlIiwibWFya1BhcmVudHNEaXJ0eSIsIm5vdGhpbmciLCJXaWRnZXRWaWV3RGVzYyIsIndpZGdldCIsInJhdyIsImNsYXNzTGlzdCIsInN0b3AiLCJpZ25vcmVTZWxlY3Rpb24iLCJDb21wb3NpdGlvblZpZXdEZXNjIiwidGV4dERPTSIsIm11dCIsIm9sZFZhbHVlIiwiY3VzdG9tIiwibm9kZVZpZXdzIiwiTWFya1ZpZXdEZXNjIiwicmVwbGFjZU5vZGVzIiwib3V0ZXJEZWNvIiwiaW5uZXJEZWNvIiwidXBkYXRlQ2hpbGRyZW4iLCJkZXNjT2JqIiwiaGFzQXR0cmlidXRlIiwiZHJhZ2dhYmxlIiwiYXBwbHlPdXRlckRlY28iLCJDdXN0b21Ob2RlVmlld0Rlc2MiLCJUZXh0Vmlld0Rlc2MiLCJOb2RlVmlld0Rlc2MiLCJyZXBhcnNlSW5WaWV3Iiwic2FtZU91dGVyRGVjbyIsImNvbXBvc2l0aW9uIiwiY29tcG9zaW5nIiwibG9jYWxDb21wb3NpdGlvbk5vZGUiLCJ1cGRhdGVyIiwiVmlld1RyZWVVcGRhdGVyIiwiZGVjbyIsIm9uV2lkZ2V0Iiwib25Ob2RlIiwibG9jYWxzIiwiZm9yQ2hpbGQiLCJkZWNvSW5kZXgiLCJyZXN0Tm9kZSIsInBhcmVudEluZGV4Iiwid2lkZ2V0cyIsImNvbXBhcmVTaWRlIiwiY3V0QXQiLCJpdGVyRGVjbyIsImluc2lkZU5vZGUiLCJzeW5jVG9NYXJrcyIsInBsYWNlV2lkZ2V0IiwiZmluZE5vZGVNYXRjaCIsInVwZGF0ZU5leHROb2RlIiwiYWRkVGV4dGJsb2NrSGFja3MiLCJkZXN0cm95UmVzdCIsImNoYW5nZWQiLCJwcm90ZWN0TG9jYWxDb21wb3NpdGlvbiIsInJlbmRlckNoaWxkcmVuIiwicmVuZGVyRGVzY3MiLCJwYXJlbnRET00iLCJkZXNjcyIsImNoaWxkRE9NIiwicm0iLCJpbnNlcnRCZWZvcmUiLCJvbGRDU1MiLCJjc3NUZXh0IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImxpc3RTdHlsZSIsImlvc0hhY2tzIiwibmVhcmJ5VGV4dE5vZGUiLCJ0ZXh0UG9zIiwiY2hpbGRTdGFydCIsImZpbmRUZXh0SW5GcmFnbWVudCIsImNvbXBvc2l0aW9uTm9kZXMiLCJ1cGRhdGVJbm5lciIsInVwZGF0ZU91dGVyRGVjbyIsIm5lZWRzV3JhcCIsIm9sZERPTSIsInBhdGNoT3V0ZXJEZWNvIiwiY29tcHV0ZU91dGVyRGVjbyIsInNlbGVjdE5vZGUiLCJkZXNlbGVjdE5vZGUiLCJkb2NWaWV3RGVzYyIsImluUGFyZW50IiwiQlJIYWNrVmlld0Rlc2MiLCJPdXRlckRlY29MZXZlbCIsIm5vRGVjbyIsImNsYXNzIiwib3V0ZXJET00iLCJwcmV2Q29tcHV0ZWQiLCJjdXJDb21wdXRlZCIsImN1ckRPTSIsInBhdGNoQXR0cmlidXRlcyIsInJlbW92ZUF0dHJpYnV0ZSIsInByZXZMaXN0IiwiY3VyTGlzdCIsInJlbW92ZVByb3BlcnR5IiwibG9ja2VkTm9kZSIsImxvY2siLCJwcmVNYXRjaCIsInByZU1hdGNoZWQiLCJwcmVNYXRjaE9mZnNldCIsIm1vdmVTZWxlY3Rpb25CbG9jayIsIiRzaWRlIiwiJHN0YXJ0IiwiZmluZEZyb20iLCJkaXNwYXRjaCIsInNlbGVjdEhvcml6b250YWxseSIsIm1vZHMiLCJub2RlUG9zIiwiaXNTZWxlY3RhYmxlIiwibm9kZUxlbiIsImlzSWdub3JhYmxlIiwic2tpcElnbm9yZWROb2Rlc0xlZnQiLCJtb3ZlTm9kZSIsIm1vdmVPZmZzZXQiLCJpc0Jsb2NrTm9kZSIsInNldFNlbEZvY3VzIiwic2tpcElnbm9yZWROb2Rlc1JpZ2h0IiwiZG9tT2JzZXJ2ZXIiLCJzZXRDdXJTZWxlY3Rpb24iLCJzZWxlY3RWZXJ0aWNhbGx5IiwiYmV5b25kIiwic3RvcE5hdGl2ZUhvcml6b250YWxEZWxldGUiLCJuZXh0Tm9kZSIsInN3aXRjaEVkaXRhYmxlIiwiY2FwdHVyZUtleURvd24iLCJjdHJsS2V5IiwibWV0YUtleSIsImFsdEtleSIsInNoaWZ0S2V5IiwiZ2V0TW9kcyIsImNocm9tZURvd25BcnJvd0J1ZyIsInNlbGVjdGlvbkZyb21ET00iLCJpbldpZGdldCIsImlzT25FZGdlIiwic2VsZWN0aW9uQmV0d2VlbiIsInNlbGVjdGlvblRvRE9NIiwic3luY05vZGVTZWxlY3Rpb24iLCJlZGl0YWJsZSIsImhhc0ZvY3VzIiwiaGFzU2VsZWN0aW9uIiwiZGlzY29ubmVjdFNlbGVjdGlvbiIsImN1cnNvcldyYXBwZXIiLCJpbWciLCJ2aXNpYmxlIiwic2VsZWN0Q3Vyc29yV3JhcHBlciIsInJlc2V0RWRpdGFibGVGcm9tIiwicmVzZXRFZGl0YWJsZVRvIiwiYnJva2VuU2VsZWN0QmV0d2VlblVuZWRpdGFibGUiLCJ0ZW1wb3JhcmlseUVkaXRhYmxlTmVhciIsInJlc2V0RWRpdGFibGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGlkZVNlbGVjdGlvbkd1YXJkIiwicmVtb3ZlQ2xhc3NPblNlbGVjdGlvbkNoYW5nZSIsImNvbm5lY3RTZWxlY3Rpb24iLCJnZXRQcmVNYXRjaCIsImRlc3Ryb3lCZXR3ZWVuIiwibWF4S2VlcCIsIm1hcmtEZXNjIiwibmV4dERPTSIsInNldEVkaXRhYmxlIiwid2FzRHJhZ2dhYmxlIiwibGFzdFNlbGVjdGVkVmlld0Rlc2MiLCJjbGVhck5vZGVTZWxlY3Rpb24iLCJiZXR3ZWVuIiwicmVhZERPTUNoYW5nZSIsInR5cGVPdmVyIiwiYWRkZWROb2RlcyIsImxhc3RTZWxlY3Rpb25UaW1lIiwibGFzdFNlbGVjdGlvbk9yaWdpbiIsIm5ld1NlbCIsIiRiZWZvcmUiLCJzaGFyZWQiLCJwcmVmZXJyZWRQb3MiLCJwcmVmZXJyZWRTaWRlIiwiZnJvbV8iLCJ0b18iLCJsYXN0S2V5Q29kZSIsInN0YXJ0RG9jIiwiZWRpdGFibGVDb250ZW50IiwicGFyc2VCZXR3ZWVuIiwiY29tcGFyZSIsImxhc3RLZXlDb2RlVGltZSIsImNoYW5nZSIsImVuZEEiLCJlbmRCIiwiYWRqdXN0IiwiZmluZERpZmYiLCJyZXNvbHZlU2VsZWN0aW9uIiwiZG9tQ2hhbmdlQ291bnQiLCJuZXh0U2VsIiwibGFzdElPU0VudGVyIiwib2xkIiwiJG5ld1N0YXJ0IiwiJG5ld0VuZCIsInNraXBDbG9zaW5nQW5kT3BlbmluZyIsIiRuZXh0IiwibG9va3NMaWtlSm9pbiIsInN1cHByZXNzU2VsZWN0aW9uVXBkYXRlcyIsIm1hcmtDaGFuZ2UiLCIkZnJvbTEiLCJjaEZyb20iLCJjaFRvIiwiY3VyTWFya3MiLCJwcmV2TWFya3MiLCJpc01hcmtDaGFuZ2UiLCJwYXJzZWRTZWwiLCJmcm9tRW5kIiwibWF5T3BlbiIsInNlcmlhbGl6ZUZvckNsaXBib2FyZCIsInNlcmlhbGl6ZXIiLCJkZXRhY2hlZERvYyIsIndyYXBNYXAiLCJwYXJzZUZyb21DbGlwYm9hcmQiLCJodG1sIiwicGxhaW5UZXh0IiwiaW5Db2RlIiwiYXNUZXh0IiwicGFyc2VkIiwibWV0YXMiLCJmaXJzdFRhZyIsImlubmVySFRNTCIsInJlYWRIVE1MIiwiY29udGV4dE5vZGUiLCJzbGljZURhdGEiLCJhZGRDb250ZXh0IiwiY2xvc2VSYW5nZSIsImNsb3NlU2xpY2UiLCJsYXN0V3JhcCIsImluTGFzdCIsImFkZFRvU2libGluZyIsInNpYmxpbmciLCJ3aXRoV3JhcHBlcnMiLCJjbG9zZVJpZ2h0Iiwid3JhcHBlZCIsIm5vcm1hbGl6ZVNpYmxpbmdzIiwidGhlYWQiLCJ0Ym9keSIsImNhcHRpb24iLCJjb2xncm91cCIsImNvbCIsInRkIiwidGgiLCJfZGV0YWNoZWREb2MiLCJpbXBsZW1lbnRhdGlvbiIsImNyZWF0ZUhUTUxEb2N1bWVudCIsIm9ic2VydmVPcHRpb25zIiwiY2hpbGRMaXN0IiwiY2hhcmFjdGVyRGF0YSIsImNoYXJhY3RlckRhdGFPbGRWYWx1ZSIsImF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVPbGRWYWx1ZSIsInN1YnRyZWUiLCJ1c2VDaGFyRGF0YSIsIlNlbGVjdGlvblN0YXRlIiwiRE9NT2JzZXJ2ZXIiLCJoYW5kbGVET01DaGFuZ2UiLCJxdWV1ZSIsImZsdXNoaW5nU29vbiIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsInJlbW92ZWROb2RlcyIsImZsdXNoU29vbiIsImZsdXNoIiwiY3VycmVudFNlbGVjdGlvbiIsIm9uQ2hhckRhdGEiLCJwcmV2VmFsdWUiLCJvblNlbGVjdGlvbkNoYW5nZSIsInN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcyIsIm9ic2VydmUiLCJ0YWtlIiwidGFrZVJlY29yZHMiLCJkaXNjb25uZWN0IiwiaWdub3JlU2VsZWN0aW9uQ2hhbmdlIiwiY29udGFpbmVyIiwiY29tbW9uQW5jZXN0b3JDb250YWluZXIiLCJyZWdpc3Rlck11dGF0aW9uIiwiYnJzIiwiY3NzQ2hlY2tlZCIsIndoaXRlU3BhY2UiLCJjaGVja0NTUyIsImF0dHJpYnV0ZU5hbWUiLCJoYW5kbGVycyIsImVkaXRIYW5kbGVycyIsInNldFNlbGVjdGlvbk9yaWdpbiIsImVuc3VyZUxpc3RlbmVycyIsImN1cnJlbnRIYW5kbGVycyIsImV2ZW50SGFuZGxlcnMiLCJydW5DdXN0b21IYW5kbGVyIiwiaGFuZGxlciIsImRlZmF1bHRQcmV2ZW50ZWQiLCJldmVudENvb3JkcyIsImNsaWVudFgiLCJjbGllbnRZIiwicnVuSGFuZGxlck9uQ29udGV4dCIsInByb3BOYW1lIiwidXBkYXRlU2VsZWN0aW9uIiwiZm9jdXNlZCIsImhhbmRsZVNpbmdsZUNsaWNrIiwic2VsZWN0ZWROb2RlIiwic2VsZWN0QXQiLCJzZWxlY3RDbGlja2VkTm9kZSIsInNlbGVjdENsaWNrZWRMZWFmIiwiaGFuZGxlRG91YmxlQ2xpY2siLCJoYW5kbGVUcmlwbGVDbGljayIsImRlZmF1bHRUcmlwbGVDbGljayIsImZvcmNlRE9NRmx1c2giLCJlbmRDb21wb3NpdGlvbiIsImtleWRvd24iLCJpbk9yTmVhckNvbXBvc2l0aW9uIiwicHJldmVudERlZmF1bHQiLCJrZXl1cCIsImtleXByZXNzIiwiY2hhckNvZGUiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJzZWxlY3ROb2RlTW9kaWZpZXIiLCJtb3VzZWRvd24iLCJmbHVzaGVkIiwibGFzdENsaWNrIiwiY2xpY2siLCJkeSIsImlzTmVhciIsIm1vdXNlRG93biIsInRhcmdldFBvcyIsImFsbG93RGVmYXVsdCIsIm1pZ2h0RHJhZyIsInRhcmdldERlc2MiLCJzZWxlY3RhYmxlIiwic2V0VW5lZGl0YWJsZSIsImFkZEF0dHIiLCJ1cCIsIm1vdmUiLCJ0aW1lU3RhbXAiLCJjb21wb3NpdGlvbkVuZGVkQXQiLCJkb25lIiwidG91Y2hkb3duIiwiY29udGV4dG1lbnUiLCJ0aW1lb3V0Q29tcG9zaXRpb24iLCJzY2hlZHVsZUNvbXBvc2VFbmQiLCJkZWxheSIsImNvbXBvc2luZ1RpbWVvdXQiLCJmb3JjZVVwZGF0ZSIsImNvbXBvc2l0aW9uc3RhcnQiLCJjb21wb3NpdGlvbnVwZGF0ZSIsIm1hcmtDdXJzb3IiLCJjb21wb3NpdGlvbmVuZCIsImJyb2tlbkNsaXBib2FyZEFQSSIsImRvUGFzdGUiLCJzaW5nbGVOb2RlIiwic2xpY2VTaW5nbGVOb2RlIiwiY2xpcGJvYXJkRGF0YSIsImNsZWFyRGF0YSIsInNldERhdGEiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJibHVyIiwiY2FwdHVyZUNvcHkiLCJwYXN0ZSIsImdldERhdGEiLCJmaWxlcyIsImNhcHR1cmVQYXN0ZSIsIkRyYWdnaW5nIiwiZHJhZ0NvcHlNb2RpZmllciIsImRyYWdzdGFydCIsImRhdGFUcmFuc2ZlciIsImRyYWdnaW5nIiwiZHJhZ2VuZCIsImRyYWdvdmVyIiwiZHJhZ2VudGVyIiwiZHJvcCIsImV2ZW50UG9zIiwiJG1vdXNlIiwiaW5zZXJ0UG9zIiwiZHJvcFBvaW50IiwiaXNOb2RlIiwiYmVmb3JlSW5zZXJ0IiwiYmVmb3JlaW5wdXQiLCJpbnB1dFR5cGUiLCJjb21wYXJlT2JqcyIsIldpZGdldFR5cGUiLCJub1NwZWMiLCJzcGFuIiwib2xkT2Zmc2V0IiwiRGVjb3JhdGlvbiIsInZhbGlkIiwiSW5saW5lVHlwZSIsImluY2x1c2l2ZVN0YXJ0IiwiaW5jbHVzaXZlRW5kIiwiaXMiLCJEZWNvcmF0aW9uU2V0IiwibG9jYWwiLCJkZWNvcmF0aW9ucyIsImJ1aWxkVHJlZSIsInByZWRpY2F0ZSIsImZpbmRJbm5lciIsImNoaWxkT2ZmIiwibWFwSW5uZXIiLCJuZXdMb2NhbCIsIm9uUmVtb3ZlIiwib2xkQ2hpbGRyZW4iLCJvbGRFbmQiLCJuZXdFbmQiLCJkU2l6ZSIsIm11c3RSZWJ1aWxkIiwiZnJvbUxvY2FsIiwidG9Mb2NhbCIsImNoaWxkT2Zmc2V0IiwiY2hpbGROb2RlIiwiZ2F0aGVyIiwibWFwQW5kR2F0aGVyUmVtYWluaW5nRGVjb3JhdGlvbnMiLCJieVBvcyIsIm1hcENoaWxkcmVuIiwiYWRkSW5uZXIiLCJiYXNlT2Zmc2V0IiwidGFrZVNwYW5zRm9yTm9kZSIsIm1vdmVTcGFucyIsIndpdGhvdXROdWxscyIsInJlbW92ZUlubmVyIiwiZGVjIiwibG9jYWxTZXQiLCJEZWNvcmF0aW9uR3JvdXAiLCJyZW1vdmVPdmVybGFwIiwibG9jYWxzSW5uZXIiLCJtZW1iZXJzIiwic3BhbnMiLCJoYXNOdWxscyIsImxvY2FsU3RhcnQiLCJ3b3JraW5nIiwiaW5zZXJ0QWhlYWQiLCJ2aWV3RGVjb3JhdGlvbnMiLCJzb3J0ZWQiLCJFZGl0b3JWaWV3IiwiX3Byb3BzIiwiX3Jvb3QiLCJtb3VudCIsIm1vdW50ZWQiLCJnZXRFZGl0YWJsZSIsImJ1aWxkTm9kZVZpZXdzIiwiY29tcHV0ZURvY0RlY28iLCJidWJibGVzIiwiZXZlbnRCZWxvbmdzVG9WaWV3IiwicGx1Z2luVmlld3MiLCJ1cGRhdGVQbHVnaW5WaWV3cyIsImNvbnRlbnRlZGl0YWJsZSIsInVwZGF0ZUN1cnNvcldyYXBwZXIiLCJwb3NpdGlvbiIsImhhbmRsZURPTUV2ZW50cyIsInVwZGF0ZVN0YXRlSW5uZXIiLCJzZXRQcm9wcyIsInJlY29uZmlndXJlZCIsInJlZHJhdyIsIm5BIiwibkIiLCJjaGFuZ2VkTm9kZVZpZXdzIiwic2VsMSIsInNlbDIiLCJuZXdSZWZUb3AiLCJzY3JvbGwiLCJzY3JvbGxUb1NlbGVjdGlvbiIsInVwZGF0ZURvYyIsInVwZGF0ZVNlbCIsIm9sZFNjcm9sbFBvcyIsIm92ZXJmbG93QW5jaG9yIiwicmVmRE9NIiwicmVmVG9wIiwic3RhcnRZIiwibG9jYWxSZWN0Iiwic3RvcmVTY3JvbGxQb3MiLCJmb3JjZVNlbFVwZGF0ZSIsImRlc3Ryb3lQbHVnaW5WaWV3cyIsInByZXZTdGF0ZSIsInBsdWdpblZpZXciLCJzZXRBY3RpdmUiLCJzdG9yZWQiLCJwcmV2ZW50U2Nyb2xsIiwiZm9jdXNQcmV2ZW50U2Nyb2xsIiwiZ2V0UHJvdG90eXBlT2YiLCJkb21BdFBvcyIsInBvc0F0RE9NIiwiZGlzcGF0Y2hFdmVudCIsImRpc3BhdGNoVHJhbnNhY3Rpb24iLCJSb3BlU2VxdWVuY2UiLCJsZWFmQXBwZW5kIiwibGVhZlByZXBlbmQiLCJhcHBlbmRJbm5lciIsIkFwcGVuZCIsInNsaWNlSW5uZXIiLCJnZXRJbm5lciIsImZvckVhY2hJbm5lciIsImZvckVhY2hJbnZlcnRlZElubmVyIiwidmFsdWVzIiwiTGVhZiIsImNvbmZpZ3VyYWJsZSIsImZsYXR0ZW4iLCJkZWZpbmVQcm9wZXJ0aWVzIiwibGVmdExlbiIsIkJyYW5jaCIsImV2ZW50Q291bnQiLCJwb3BFdmVudCIsInByZXNlcnZlSXRlbXMiLCJyZW1hcCIsInJlbWFwcGluZyIsInJlbWFpbmluZyIsInRyYW5zZm9ybSIsImFkZEFmdGVyIiwiSXRlbSIsImFkZFRyYW5zZm9ybSIsImhpc3RPcHRpb25zIiwibmV3SXRlbXMiLCJvbGRJdGVtcyIsImxhc3RJdGVtIiwibWVyZ2VkIiwiY3V0UG9pbnQiLCJvdmVyZmxvdyIsIkRFUFRIX09WRVJGTE9XIiwibWlycm9yUG9zIiwibWlycm9yT2Zmc2V0IiwiYWRkTWFwcyIsInJlYmFzZWQiLCJyZWJhc2VkVHJhbnNmb3JtIiwicmViYXNlZENvdW50IiwicmViYXNlZEl0ZW1zIiwibmV3VW50aWwiLCJpUmViYXNlZCIsIm5ld01hcHMiLCJicmFuY2giLCJlbXB0eUl0ZW1Db3VudCIsImNvbXByZXNzIiwiZXZlbnRzIiwibmV3SXRlbSIsIkhpc3RvcnlTdGF0ZSIsInVuZG9uZSIsInByZXZSYW5nZXMiLCJwcmV2VGltZSIsInJhbmdlc0ZvciIsIl9mcm9tIiwiX3RvIiwibWFwUmFuZ2VzIiwiaGlzdFRyYW5zYWN0aW9uIiwiaGlzdG9yeSIsInJlZG8iLCJtdXN0UHJlc2VydmVJdGVtcyIsImhpc3RvcnlLZXkiLCJnZXRCb29rbWFyayIsIm5ld0hpc3QiLCJoaXN0b3J5U3RhdGUiLCJjYWNoZWRQcmVzZXJ2ZUl0ZW1zIiwiY2FjaGVkUHJlc2VydmVJdGVtc1BsdWdpbnMiLCJoaXN0b3J5UHJlc2VydmVJdGVtcyIsImNsb3NlSGlzdG9yeUtleSIsIm5ld0dyb3VwRGVsYXkiLCJoaXN0IiwiaGlzdG9yeVRyIiwiYXBwZW5kZWQiLCJuZXdHcm91cCIsImFkamFjZW50IiwiaXNBZGphY2VudFRvIiwidW5kbyIsIklucHV0UnVsZSIsImN1dE9mZiIsInJ1biIsInRleHRCZWZvcmUiLCJlbGxpcHNpcyIsInNtYXJ0UXVvdGVzIiwib2xET00iLCJ1bERPTSIsImxpRE9NIiwib3JkZXJlZExpc3QiLCJvcmRlciIsImJ1bGxldExpc3QiLCJsaXN0SXRlbSIsIndyYXBJbkxpc3QiLCJsaXN0VHlwZSIsImRvSm9pbiIsIm91dGVyUmFuZ2UiLCIkaW5zZXJ0Iiwiam9pbkJlZm9yZSIsInNwbGl0RGVwdGgiLCJzcGxpdFBvcyIsImRvV3JhcEluTGlzdCIsImxpZnRMaXN0SXRlbSIsIml0ZW1UeXBlIiwiZW5kT2ZMaXN0IiwibGlmdFRvT3V0ZXJMaXN0IiwibGlzdCIsImluZGV4QmVmb3JlIiwibGlmdE91dE9mTGlzdCIsInBET00iLCJibG9ja3F1b3RlRE9NIiwiaHJET00iLCJwcmVET00iLCJickRPTSIsImVtRE9NIiwic3Ryb25nRE9NIiwiY29kZURPTSIsImVtIiwic3Ryb25nIiwiZm9udFdlaWdodCIsInBhcmFncmFwaCIsImhvcml6b250YWxfcnVsZSIsImhlYWRpbmciLCJjb2RlX2Jsb2NrIiwiaW1hZ2UiLCJzcmMiLCJhbHQiLCJoYXJkX2JyZWFrIiwiaGVhZGluZzFTcGVjIiwiaGVhZGluZzJTcGVjIiwiY2hlY2tsaXN0X2l0ZW0iLCJjaGVja2VkIiwidW5vcmRlcmVkX2xpc3QiLCJvcmRlcmVkX2xpc3QiLCJsaXN0X2l0ZW0iLCJoZWFkaW5nMSIsImhlYWRpbmcyIiwibWFya1dyYXBwaW5nUnVsZSIsIlJlZ0V4cCIsImV4aXN0aW5nTWFya3MiLCJsaXN0VHlwZVJ1bGUiLCJwcmVmaXgiLCJpbnB1dFJ1bGVzUGx1Z2luIiwicmVnZXhwIiwiaGFuZGxlVGV4dElucHV0IiwiaXNJbnB1dFJ1bGVzIiwidGV4dGJsb2NrQXQiLCJmaW5kQ3V0QmVmb3JlIiwiZmluZEN1dEFmdGVyIiwiZGVmYXVsdEJsb2NrQXQiLCJzcGxpdEJsb2NrIiwiY2FuIiwiZGVsZXRlQmFycmllciIsIiRjdXQiLCJjb25uIiwiam9pbk1heWJlQ2xlYXIiLCJqb2luQXQiLCJzZWxBZnRlciIsImNoYWluQ29tbWFuZHMiLCJjb21tYW5kcyIsImJhY2tzcGFjZSIsImRlbCIsInBjQmFzZUtleW1hcCIsImFib3ZlIiwiQWxsU2VsZWN0aW9uIiwibWFjQmFzZUtleW1hcCIsImJhc2VLZXltYXAiLCJvcyIsIkxpbmtNb2RhbCIsImVsIiwib25Db25maXJtIiwib25DbGVhciIsInNob3dDbHMiLCJjb25maXJtQnRuIiwiaGFuZGxlQ29uZmlybSIsImNhbmNlbEJ0biIsImhhbmRsZUNhbmNlbCIsImNsZWFyQnRuIiwiaGFuZGxlQ2xlYXIiLCJoYW5kbGVHbG9iYWxLZXlkb3duIiwidGV4dElucHV0IiwidXJsSW5wdXQiLCJpc0VudGVyIiwid2hpY2giLCJoYW5kbGVHbG9iYWxDbGljayIsImZyYW1lRWwiLCJ1cmxPcGVuTGluayIsInRvb2xiYXJFbCIsIm1vZGFsRWwiLCJ2aWV3SW5zdGFuY2UiLCJoYW5kbGVUb29sYmFyQ2xpY2siLCJ1bmhpZ2hsaWdodFNlbGVjdGVkQXR0cnMiLCJtb2RhbCIsInByZXZpb3VzU3RhdGUiLCJoaWdobGlnaHRTZWxlY3RlZEF0dHJzIiwiaGFuZGxlS2V5RG93biIsImlzVCIsImhhc0N0cmwiLCJ0b2dnbGVDaGVja2xpc3RJdGVtIiwiaXM3IiwiaGFzTW9kIiwidG9nZ2xlTGlzdCIsInByb21vdGVIZWFkaW5nIiwic3dhcFRleHRCbG9jayIsImlzU3BhY2UiLCJoYXNDaGVja2VkIiwidG9nZ2xlQ2hlY2tsaXN0SXRlbVN0YXRlIiwiaXNaIiwiaXNZIiwiaXNJIiwidG9nZ2xlTWFyayIsImlzQiIsImlzUHJpbWUiLCJpc0siLCJhY3RpdmF0ZUxpbmtNb2RhbCIsImxpbmtNYXJrQXRTdGFydCIsImxpbmtNYXJrQXRFbmQiLCJzZWxlY3Rpb25Jc0luc2lkZUxpbmsiLCJuZXdTZWxlY3Rpb24iLCJtYXJrQXBwbGllcyIsImhhcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidG4iLCJzZWxlY3RlZEF0dHJzIiwiZ2V0U2VsZWN0ZWRGb3JtYXRBdHRycyIsImdldFNlbGVjdGVkRm9ybWF0QW5kTWFya3MiLCJzZWxlY3RlZCIsImN1cnJlbnRUeXBlIiwibWFya1R5cGVzIiwiYnV0dG9uIiwiYXBwbHlGb3JtYXQiLCJkYXRhRm9ybWF0U3RyIiwicm5kczgiLCJVaW50OEFycmF5Iiwicm5nIiwiYnl0ZVRvSGV4Iiwic3Vic3RyIiwiYnRoIiwicm5kcyIsImlpIiwiZ2V0TmFtZXNwYWNlZENvbnRlbnQiLCJnZXRVdWlkIiwicmVzb2x2ZUNsaWVudFJlYWR5IiwiX2l0ZW0iLCJzaG91bGRDYWxsTGlzdGVuZXJzIiwibmV4dEl0ZW0iLCJwcmV2aW91c0l0ZW0iLCJpc01ldGFkYXRhVXBkYXRlIiwibGFzdFNhdmVkQnkiLCJnZXRMYXN0U2F2ZWRCeSIsIl9pZCIsIl9saXN0ZW5lcnMiLCJfcmVhZHkiLCJQcm9taXNlIiwiY29tcG9uZW50TWFuYWdlciIsInN0cmVhbUNvbnRleHRJdGVtIiwiZGVidWciLCJjYWxsTGlzdGVuZXJzIiwibGlzdGVuZXIiLCJnZXREb2MiLCJqc29uRG9jIiwidG9TYXZlIiwic2F2ZUl0ZW1XaXRoUHJlc2F2ZSIsIlNOX0lURU1fU0FWRV9LRVkiLCJpdGVtU2VsZWN0b3JzIiwiY2xpZW50IiwiZ2V0UG9zIiwiaW5wdXREaXYiLCJmb2N1c0hhbmRsZXIiLCJyZWxhdGVkVGFyZ2V0IiwiY2xpY2tIYW5kbGVyIiwiOCIsIjkiLCIxMCIsIjEyIiwiMTMiLCIxNiIsIjE3IiwiMTgiLCIyMCIsIjI3IiwiMzIiLCIzMyIsIjM0IiwiMzUiLCIzNiIsIjM3IiwiMzgiLCIzOSIsIjQwIiwiNDQiLCI0NSIsIjQ2IiwiNTkiLCI2MSIsIjkxIiwiOTIiLCIxMDYiLCIxMDciLCIxMDgiLCIxMDkiLCIxMTAiLCIxMTEiLCIxNDQiLCIxNDUiLCIxNjAiLCIxNjEiLCIxNjIiLCIxNjMiLCIxNjQiLCIxNjUiLCIxNzMiLCIxODYiLCIxODciLCIxODgiLCIxODkiLCIxOTAiLCIxOTEiLCIxOTIiLCIyMTkiLCIyMjAiLCIyMjEiLCIyMjIiLCIyMjkiLCJiYXNlXzEiLCI0OCIsIjQ5IiwiNTAiLCI1MSIsIjUyIiwiNTMiLCI1NCIsIjU1IiwiNTYiLCI1NyIsImJyb2tlbk1vZGlmaWVyTmFtZXMiLCJrZXlOYW1lIiwibm9ybWFsaXplS2V5TmFtZSIsImN0cmwiLCJtb2QiLCJtb2RpZmllcnMiLCJrZXltYXAiLCJiaW5kaW5ncyIsImtleWRvd25IYW5kbGVyIiwibm9ybWFsaXplIiwiYmFzZU5hbWUiLCJpc0NoYXIiLCJkaXJlY3QiLCJmcm9tQ29kZSIsIndpdGhTaGlmdCIsImtleW1hcFBsdWdpbnMiLCJFbnRlciIsImdyYW5kUGFyZW50Iiwia2VlcEl0ZW0iLCJuZXh0JEZyb20iLCJuZXh0RnJvbSIsImdldERvY0Zvck5ld0VkaXRvclN0YXRlIiwibGF0ZXN0RG9jIiwicmVhZHkiLCJzYXZlTm90ZSIsIm9uVXBkYXRlIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9yQixFQUFvQlUsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnpCLEVBQW9CNkIsRUFBSSxTQUFTMUIsR0FDaEMsSUFBSVMsRUFBU1QsR0FBVUEsRUFBT3FCLFdBQzdCLFdBQXdCLE9BQU9yQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSCxFQUFvQlUsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlosRUFBb0JhLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHL0IsRUFBb0JrQyxFQUFJLEdBSWpCbEMsRUFBb0JBLEVBQW9CbUMsRUFBSSxJLGdCQ2xGckRoQyxFQUFPRCxRQUFVLHNRLGNDQWpCQyxFQUFPRCxRQUFVLDZOLGNDQWpCQyxFQUFPRCxRQUFVLCtOLGNDQWpCQyxFQUFPRCxRQUFVLHdXLGNDQWpCQyxFQUFPRCxRQUFVLG1MLGNDQWpCQyxFQUFPRCxRQUFVLG9aLGNDQWpCQyxFQUFPRCxRQUFVLDZRLGNDQWpCQyxFQUFPRCxRQUFVLGdMLGNDQWpCQyxFQUFPRCxRQUFVLHNWLGNDQWpCQyxFQUFPRCxRQUFVLGtMLGNDQWpCQyxFQUFPRCxRQUFVLHFRLHVNQ0FYa0MsRSxXQUVKLFdBQVlDLEVBQWFDLEksNEZBQVMsU0FDaENDLEtBQUtDLGFBQWUsR0FDcEJELEtBQUtFLGFBQWUsR0FDcEJGLEtBQUtHLGdCQUFpQixFQUN0QkgsS0FBS0ksZUFBZ0IsRUFDckJKLEtBQUtLLGFBQWUsR0FFcEJMLEtBQUtNLG1CQUFxQlIsRUFDMUJFLEtBQUtPLGdCQUFrQlIsRUFFdkJDLEtBQUtRLGlCQUFrQixFQUN2QlIsS0FBS1MscUJBQXVCLElBRTVCVCxLQUFLVSx5Qix3RUFHa0IsV0FDbkJDLEVBQWlCLFNBQUNDLEdBTXBCLEdBTEksRUFBS1QsZ0JBQWtCVSxRQUFRQyxJQUFJLG1DQUFvQ0YsRUFBTUcsT0FLOUVDLFNBQVNDLFVBQ0ssSUFBSUMsSUFBSUYsU0FBU0MsVUFBVUUsU0FDeEIsSUFBSUQsSUFBSU4sRUFBTU8sUUFBUUEsT0FGMUMsQ0FVQSxHQUFJLEVBQUtBLFFBRUYsR0FBR1AsRUFBTU8sU0FBVyxFQUFLQSxPQUU5QixZQUhBLEVBQUtBLE9BQVNQLEVBQU1PLE9BT3RCLElBQUlKLEVBQU9ILEVBQU1HLEtBQ2JLLEVBQTZCLGlCQUFUTCxFQUFvQk0sS0FBS0MsTUFBTVAsR0FBUUEsRUFDL0QsRUFBS1EsY0FBY0gsS0FpQnJCSixTQUFTUSxpQkFBaUIsV0FBVyxTQUFVWixHQUM3Q0QsRUFBZUMsTUFDZCxHQUVIYSxPQUFPRCxpQkFBaUIsV0FBVyxTQUFVWixHQUMzQ0QsRUFBZUMsTUFDZCxLLG9DQUdTYyxHQUNaLEdBQXNCLHlCQUFuQkEsRUFBUUMsT0FDVDNCLEtBQUs0QixXQUFhRixFQUFRRSxXQUMxQjVCLEtBQUs2QixjQUFnQkgsRUFBUUcsY0FFN0I3QixLQUFLRCxRQUFRMkIsRUFBUVgsTUFFbEJmLEtBQUtHLGdCQUNOVSxRQUFRQyxJQUFJLGtEQUFtRFksUUFHNUQsR0FBc0IsV0FBbkJBLEVBQVFDLE9BQ2IzQixLQUFLSSxlQUNOSixLQUFLOEIsZUFBZUosRUFBUVgsS0FBS2dCLGFBSWhDLEdBQUdMLEVBQVFNLFNBQVUsQ0FFeEIsSUFBSUMsRUFBa0JqQyxLQUFLQyxhQUFhaUMsUUFBTyxTQUFTQyxHQUN0RCxPQUFPQSxFQUFRQyxZQUFjVixFQUFRTSxTQUFTSSxhQUM3QyxHQUVDSCxHQUVGSSxNQUFNLDhKQUdMSixFQUFnQkssVUFDakJMLEVBQWdCSyxTQUFTWixFQUFRWCxTLDhCQUsvQkEsR0FDTmYsS0FBS3VDLFlBQWN4QixFQUFLd0IsWUFDeEJ2QyxLQUFLd0MsU0FBV3pCLEVBQUt5QixTQUNyQnhDLEtBQUt5QyxLQUFPMUIsRUFBSzBCLEtBQ2pCekMsS0FBSzBDLFNBQStCLFVBQXBCMUMsS0FBS3VDLFlBRWxCdkMsS0FBS00sb0JBQXNCTixLQUFLTSxtQkFBbUJxQyxPQUFTLEdBQzdEM0MsS0FBSzRDLG1CQUFtQjVDLEtBQUtNLG9CQVBuQiwyQkFVWixZQUFtQk4sS0FBS0UsYUFBeEIsK0NBQXNDLEtBQTlCaUMsRUFBOEIsUUFDcENuQyxLQUFLNkMsWUFBWVYsRUFBUVIsT0FBUVEsRUFBUXBCLEtBQU1vQixFQUFRRyxXQVg3QyxrRkFjWnRDLEtBQUtFLGFBQWUsR0FFakJGLEtBQUtHLGdCQUFrQlUsUUFBUUMsSUFBSSxjQUFlQyxHQUVyRGYsS0FBSzhCLGVBQWVmLEVBQUsrQixpQkFBbUIsSUFFekM5QyxLQUFLTyxpQkFDTlAsS0FBS08sb0IsNkNBS1AsT0FBT1AsS0FBS3lDLE8sc0RBSVosTUFBNEIsWUFBckJ6QyxLQUFLdUMsYyxrREFHY25ELEVBQUtOLEdBQy9Ca0IsS0FBSzZCLGNBQWN6QyxHQUFPTixFQUMxQmtCLEtBQUs2QyxZQUFZLHFCQUFzQixDQUFDaEIsY0FBZTdCLEtBQUs2QixnQkFBZ0IsU0FBU2QsUywyQ0FJckZmLEtBQUs2QixjQUFnQixHQUNyQjdCLEtBQUs2QyxZQUFZLHFCQUFzQixDQUFDaEIsY0FBZTdCLEtBQUs2QixnQkFBZ0IsU0FBU2QsUywrQ0FHOUQzQixHQUN2QixPQUFPWSxLQUFLNkIsY0FBY3pDLEssa0NBR2hCdUMsRUFBUVosRUFBTXVCLEdBQ3hCLEdBQUl0QyxLQUFLNEIsV0FBVCxDQVNBLElBQUlPLEVBQVUsQ0FDWlIsT0FBUUEsRUFDUlosS0FBTUEsRUFDTnFCLFVBQVdwQyxLQUFLK0MsZUFDaEJuQixXQUFZNUIsS0FBSzRCLFdBQ2pCb0IsSUFBSyxhQUdIQyxFQUFjNUIsS0FBS0MsTUFBTUQsS0FBSzZCLFVBQVVmLElBQzVDYyxFQUFZWCxTQUFXQSxFQUN2QnRDLEtBQUtDLGFBQWFrRCxLQUFLRixHQUdwQmpELEtBQUswQyxXQUNOUCxFQUFVZCxLQUFLNkIsVUFBVWYsSUFHeEJuQyxLQUFLRyxnQkFDTlUsUUFBUUMsSUFBSSxtQkFBb0JxQixHQUdsQ1YsT0FBTzJCLE9BQU9QLFlBQVlWLEVBQVNuQyxLQUFLbUIsYUE3QnRDbkIsS0FBS0UsYUFBYWlELEtBQUssQ0FDckJ4QixPQUFRQSxFQUNSWixLQUFNQSxFQUNOdUIsU0FBVUEsTSw4QkE2QlJlLEVBQU1DLEVBQU9DLEdBQ25CdkQsS0FBSzZDLFlBQVksV0FBWSxDQUFDUSxLQUFNQSxFQUFNQyxNQUFPQSxFQUFPQyxPQUFRQSxJQUFTLFNBQVN4QyxTLHlDQUtqRWpCLEVBQWF3QyxHQUM5QnRDLEtBQUs2QyxZQUFZLHNCQUF1QixDQUFDL0MsWUFBYUEsR0FBYyxTQUFTaUIsR0FDM0V1QixHQUFZQSxLQUNaakQsS0FBS1csUyxrQ0FHR3dELEVBQWNsQixHQUNwQm1CLE1BQU1DLFFBQVFGLEtBQ2hCQSxFQUFlLENBQUNBLElBRWxCeEQsS0FBSzZDLFlBQVksZUFBZ0IsQ0FBQ2MsY0FBZUgsR0FBZSxTQUFTekMsR0FDdkV1QixFQUFTdkIsRUFBSzZDLFFBQ2R2RSxLQUFLVyxTLHdDQUdTc0MsR0FBVSxXQUMxQnRDLEtBQUs2QyxZQUFZLHNCQUF1QixNQUFNLFNBQUM5QixHQUM3QyxJQUFJOEMsRUFBTzlDLEVBQUs4QyxPQU9DLEVBQUtDLGtCQUFvQixFQUFLQSxpQkFBaUJyQixPQUFTb0IsRUFBS3BCLE9BQzlELEVBQUtzQixxQkFDbkJDLGFBQWEsRUFBS0Qsb0JBQ2xCLEVBQUtFLHNCQUFzQixFQUFLQyxtQkFDaEMsRUFBS0gsbUJBQXFCLEtBQzFCLEVBQUtHLGtCQUFvQixNQUUzQixFQUFLSixpQkFBbUJELEVBQ3hCdkIsRUFBUyxFQUFLd0IsdUIsaUNBSVBELEdBQ1Q3RCxLQUFLNkMsWUFBWSxjQUFlLENBQUNnQixLQUFNN0QsS0FBS21FLGtCQUFrQk4sTyxpQ0FHckRBLEVBQU12QixHQUNmdEMsS0FBSzZDLFlBQVksY0FBZSxDQUFDZ0IsS0FBTTdELEtBQUttRSxrQkFBa0JOLElBQVEsU0FBUzlDLEdBQzdFLElBQUk4QyxFQUFPOUMsRUFBSzhDLE1BSVpBLEdBQVE5QyxFQUFLNkMsT0FBUzdDLEVBQUs2QyxNQUFNakIsT0FBUyxJQUM1Q2tCLEVBQU85QyxFQUFLNkMsTUFBTSxJQUdwQjVELEtBQUtvRSxjQUFjUCxHQUNuQnZCLEdBQVlBLEVBQVN1QixJQUNyQnhFLEtBQUtXLFMsa0NBR0c0RCxFQUFPdEIsR0FBVSxXQUN2QitCLEVBQVNULEVBQU1VLEtBQUksU0FBQ1QsR0FBVSxPQUFPLEVBQUtNLGtCQUFrQk4sTUFDaEU3RCxLQUFLNkMsWUFBWSxlQUFnQixDQUFDZSxNQUFPUyxHQUFTLFNBQVN0RCxHQUN6RHVCLEdBQVlBLEVBQVN2QixFQUFLNkMsUUFDMUJ2RSxLQUFLVyxTLG9DQUdLNkQsR0FDWjdELEtBQUs2QyxZQUFZLGlCQUFrQixDQUFDZ0IsS0FBTTdELEtBQUttRSxrQkFBa0JOLE8sc0NBR25EQSxHQUNkN0QsS0FBSzZDLFlBQVksbUJBQW9CLENBQUNnQixLQUFNN0QsS0FBS21FLGtCQUFrQk4sTyx1Q0FJbkU3RCxLQUFLNkMsWUFBWSxrQkFBbUIsQ0FBQzBCLGFBQWMsVSxpQ0FHMUNWLEVBQU12QixHQUNmdEMsS0FBS3dFLFlBQVksQ0FBQ1gsR0FBT3ZCLEssa0NBR2ZzQixFQUFPdEIsR0FDakIsSUFBSW1DLEVBQVMsQ0FDWGIsTUFBT0EsRUFBTVUsSUFBSSxTQUFTVCxHQUN4QixPQUFPN0QsS0FBS21FLGtCQUFrQk4sSUFDOUJ4RSxLQUFLVyxRQUdUQSxLQUFLNkMsWUFBWSxlQUFnQjRCLEdBQVEsU0FBQzFELEdBQ3hDdUIsR0FBWUEsRUFBU3ZCLFEsc0NBSVRZLEVBQVFaLEVBQU11QixHQUM1QnRDLEtBQUs2QyxZQUFZbEIsRUFBUVosRUFBTSxTQUFTQSxHQUN0Q3VCLEdBQVlBLEVBQVN2QixJQUNyQjFCLEtBQUtXLFMsK0JBR0E2RCxFQUFNdkIsR0FBaUMsSUFBdkJvQyxFQUF1Qix3REFDOUMxRSxLQUFLMkUsVUFBVSxDQUFDZCxHQUFPdkIsRUFBVW9DLEssMENBUWZiLEVBQU1lLEVBQVN0QyxHQUNqQ3RDLEtBQUs2RSxxQkFBcUIsQ0FBQ2hCLEdBQU9lLEVBQVN0QyxLLDJDQUd4QnNCLEVBQU9nQixFQUFTdEMsR0FDbkN0QyxLQUFLMkUsVUFBVWYsRUFBT3RCLEdBQVUsRUFBT3NDLEssK0NBR1MsSUFBM0JoQixFQUEyQixFQUEzQkEsTUFBT2dCLEVBQW9CLEVBQXBCQSxRQUFTdEMsRUFBVyxFQUFYQSxTQUVyQ3NDLEdBQVdBLElBRVgsSUFBSUUsRUFBYyxHQUo4Qix1QkFLaEQsWUFBZ0JsQixFQUFoQiwrQ0FBdUIsS0FBZkMsRUFBZSxRQUNyQmlCLEVBQVkzQixLQUFLbkQsS0FBS21FLGtCQUFrQk4sS0FOTSxrRkFTaEQ3RCxLQUFLNkMsWUFBWSxhQUFjLENBQUNlLE1BQU9rQixJQUFjLFNBQUMvRCxHQUNwRHVCLEdBQVlBLFMsZ0NBUU5zQixFQUFPdEIsR0FBMEMsV0FBaENvQyxFQUFnQyx3REFBVEUsRUFBUyx1Q0FNekQsR0FGSTVFLEtBQUsrRSxtQkFBb0IvRSxLQUFLK0UsaUJBQW1CLElBRTFCLEdBQXhCL0UsS0FBS1EsaUJBQTRCa0UsRUE4QmxDMUUsS0FBS2lFLHNCQUFzQixDQUFDTCxRQUFPZ0IsVUFBU3RDLGlCQTlCSyxDQUM5Q3RDLEtBQUsrRCxvQkFDTkMsYUFBYWhFLEtBQUsrRCxvQkFHcEIsSUFBSWlCLEVBQWNwQixFQUFNVSxLQUFJLFNBQUNULEdBQUQsT0FBVUEsRUFBS3BCLFFBSXZDd0MsRUFBbUJqRixLQUFLK0UsaUJBQWlCN0MsUUFBTyxTQUFDMkIsR0FDbkQsT0FBUW1CLEVBQVlFLFNBQVNyQixFQUFLcEIsU0FJcEN6QyxLQUFLK0UsaUJBQW1CRSxFQUFpQkUsT0FBT3ZCLEdBR2hENUQsS0FBS2tFLGtCQUFvQixDQUN2Qk4sTUFBTzVELEtBQUsrRSxpQkFDWkgsUUFBU0EsRUFDVHRDLFNBQVVBLEdBR1p0QyxLQUFLK0QsbUJBQXFCcUIsWUFBVyxXQUNuQyxFQUFLbkIsc0JBQXNCLEVBQUtDLG1CQUNoQyxFQUFLYSxpQkFBbUIsR0FDeEIsRUFBS2hCLG1CQUFxQixLQUMxQixFQUFLRyxrQkFBb0IsT0FDeEJsRSxLQUFLUyx5Qix3Q0FNTW9ELEdBQ2hCLElBQUl3QixFQUFPOUcsT0FBTytHLE9BQU8sR0FBSXpCLEdBRzdCLE9BRkF3QixFQUFLRSxTQUFXLEtBQ2hCRixFQUFLakMsT0FBUyxLQUNQaUMsSSwwQ0FHV3hCLEVBQU16RSxHQUN4QixJQUNJMkIsRUFBTzhDLEVBQUsyQixRQUFRQyxTQUFXNUIsRUFBSzJCLFFBQVFDLFFBRGhDLHdCQUVoQixPQUFHMUUsRUFDTUEsRUFBSzNCLEdBRUwsTyxxQ0FNSXNHLEdBRWIsR0FERzFGLEtBQUtHLGdCQUFrQlUsUUFBUUMsSUFBSSxrQkFBbUI0RSxHQUN0RDFGLEtBQUtLLGFBQWFzRixPQUFPQyxZQUFjRixFQUFhQyxPQUFPQyxXQUE5RCxDQUtBLElBQUlDLEVBQW1CSCxHQUFnQixHQUNuQ0ksRUFBcUIsR0FSRSx1QkFVM0IsWUFBcUI5RixLQUFLSyxhQUExQiwrQ0FBd0MsS0FBaEMwRixFQUFnQyxRQUNsQ0wsRUFBYVIsU0FBU2EsR0FLeEJGLEVBQW1CQSxFQUFpQjNELFFBQU8sU0FBQzhELEdBQzFDLE9BQU9BLEdBQWFELEtBSnRCRCxFQUFtQjNDLEtBQUs0QyxJQWJELGtGQXNCeEIvRixLQUFLRyxpQkFDTlUsUUFBUUMsSUFBSSx1QkFBd0JnRixHQUNwQ2pGLFFBQVFDLElBQUkscUJBQXNCK0UsSUFHcEMsY0FBaUJDLEVBQWpCLGVBQXFDLENBQWpDLElBQUlHLEVBQUssS0FDWGpHLEtBQUtrRyxnQkFBZ0JELEdBR3ZCakcsS0FBS0ssYUFBZXFGLEVBL0JPLDJCQWlDM0IsWUFBZUcsRUFBZiwrQ0FBaUMsS0FBekJNLEVBQXlCLFFBQy9CLEdBQUlBLEVBQUosQ0FJQSxJQUFJQyxFQUFPcEYsU0FBU3FGLGNBQWMsUUFDbENELEVBQUtFLEdBQUtDLEtBQUtKLEdBQ2ZDLEVBQUtJLEtBQU9MLEVBQ1pDLEVBQUsvQyxLQUFPLFdBQ1orQyxFQUFLSyxJQUFNLGFBQ1hMLEVBQUtNLE1BQVEsZUFDYk4sRUFBS08sVUFBWSxlQUNqQjNGLFNBQVM0RixxQkFBcUIsUUFBUSxHQUFHQyxZQUFZVCxLQTdDNUIsc0YseUNBaURWRCxHQUVqQixPQURlMUMsTUFBTXFELEtBQUs5RixTQUFTK0YsdUJBQXVCLGlCQUFpQkMsUUFDM0RDLE1BQUssU0FBQ0MsR0FFcEIsT0FBT0EsRUFBUVosSUFBTUMsS0FBS0osUSxzQ0FJZEEsR0FDZCxJQUFJZSxFQUFVbEgsS0FBS21ILG1CQUFtQmhCLEdBQ25DZSxJQUNEQSxFQUFRRSxVQUFXLEVBQ25CRixFQUFRRyxXQUFXQyxZQUFZSixNLHFDQXFDakMsSUFBSUssRUFBUzlGLE9BQU84RixRQUFVOUYsT0FBTytGLFNBQ3JDLEdBQUdELEVBQVEsQ0FDVCxJQUFJRSxFQUFNLElBQUlDLFlBQVksR0FDMUJILEVBQU9JLGdCQUFnQkYsR0FDdkIsSUFBSUcsR0FBTyxFQUNYLE1BQU8sdUNBQXVDQyxRQUFRLFNBQVMsU0FBUzNKLEdBQ3BFMEosSUFDQSxJQUFJakosRUFBSzhJLEVBQUlHLEdBQUssSUFBUUEsRUFBSSxFQUFHLEVBQUksR0FFckMsT0FEYSxLQUFMMUosRUFBV1MsRUFBTyxFQUFGQSxFQUFNLEdBQ3JCaUgsU0FBUyxPQUd0QixJQUFJekgsR0FBSSxJQUFJMkosTUFBT0MsVUFTbkIsT0FSR3RHLE9BQU91RyxhQUFpRCxtQkFBM0J2RyxPQUFPdUcsWUFBWUMsTUFDakQ5SixHQUFLNkosWUFBWUMsT0FFUix1Q0FBdUNKLFFBQVEsU0FBUyxTQUFTM0osR0FDMUUsSUFBSVMsR0FBS1IsRUFBa0IsR0FBZCtKLEtBQUtDLFVBQWEsR0FBSyxFQUVwQyxPQURBaEssRUFBSStKLEtBQUtFLE1BQU1qSyxFQUFFLEtBQ04sS0FBSEQsRUFBU1MsRUFBTyxFQUFGQSxFQUFNLEdBQU1pSCxTQUFTLFkscUNBUVMsSUFBbEJoSSxFQUFPRCxVQUMvQ0MsRUFBT0QsUUFBVWtDLEdBR2hCNEIsU0FDREEsT0FBTzVCLGlCQUFtQkEsSSxzRkM5ZjVCLFNBQVN3SSxFQUFXN0MsR0FDbEJ4RixLQUFLd0YsUUFBVUEsRSxPQUdqQjZDLEVBQVc1SSxVQUFZLENBQ3JCNkksWUFBYUQsRUFFYnBCLEtBQU0sU0FBUzdILEdBQ2IsSUFBSyxJQUFJdkIsRUFBSSxFQUFHQSxFQUFJbUMsS0FBS3dGLFFBQVE3QyxPQUFROUUsR0FBSyxFQUM1QyxHQUFJbUMsS0FBS3dGLFFBQVEzSCxLQUFPdUIsRUFBSyxPQUFPdkIsRUFDdEMsT0FBUSxHQU1WYSxJQUFLLFNBQVNVLEdBQ1osSUFBSW1KLEVBQVF2SSxLQUFLaUgsS0FBSzdILEdBQ3RCLE9BQWlCLEdBQVZtSixPQUFjQyxFQUFZeEksS0FBS3dGLFFBQVErQyxFQUFRLElBT3hERSxPQUFRLFNBQVNySixFQUFLTixFQUFPNEosR0FDM0IsSUFBSUMsRUFBT0QsR0FBVUEsR0FBVXRKLEVBQU1ZLEtBQUs0SSxPQUFPRixHQUFVMUksS0FDdkR1SSxFQUFRSSxFQUFLMUIsS0FBSzdILEdBQU1vRyxFQUFVbUQsRUFBS25ELFFBQVF3QixRQU9uRCxPQU5jLEdBQVZ1QixFQUNGL0MsRUFBUXJDLEtBQUt1RixHQUFVdEosRUFBS04sSUFFNUIwRyxFQUFRK0MsRUFBUSxHQUFLekosRUFDakI0SixJQUFRbEQsRUFBUStDLEdBQVNHLElBRXhCLElBQUlMLEVBQVc3QyxJQUt4Qm9ELE9BQVEsU0FBU3hKLEdBQ2YsSUFBSW1KLEVBQVF2SSxLQUFLaUgsS0FBSzdILEdBQ3RCLElBQWMsR0FBVm1KLEVBQWEsT0FBT3ZJLEtBQ3hCLElBQUl3RixFQUFVeEYsS0FBS3dGLFFBQVF3QixRQUUzQixPQURBeEIsRUFBUXFELE9BQU9OLEVBQU8sR0FDZixJQUFJRixFQUFXN0MsSUFLeEJzRCxXQUFZLFNBQVMxSixFQUFLTixHQUN4QixPQUFPLElBQUl1SixFQUFXLENBQUNqSixFQUFLTixHQUFPcUcsT0FBT25GLEtBQUs0SSxPQUFPeEosR0FBS29HLFdBSzdEdUQsU0FBVSxTQUFTM0osRUFBS04sR0FDdEIsSUFBSTBHLEVBQVV4RixLQUFLNEksT0FBT3hKLEdBQUtvRyxRQUFRd0IsUUFFdkMsT0FEQXhCLEVBQVFyQyxLQUFLL0QsRUFBS04sR0FDWCxJQUFJdUosRUFBVzdDLElBTXhCd0QsVUFBVyxTQUFTQyxFQUFPN0osRUFBS04sR0FDOUIsSUFBSW9LLEVBQVVsSixLQUFLNEksT0FBT3hKLEdBQU1vRyxFQUFVMEQsRUFBUTFELFFBQVF3QixRQUN0RHVCLEVBQVFXLEVBQVFqQyxLQUFLZ0MsR0FFekIsT0FEQXpELEVBQVFxRCxRQUFpQixHQUFWTixFQUFjL0MsRUFBUTdDLE9BQVM0RixFQUFPLEVBQUduSixFQUFLTixHQUN0RCxJQUFJdUosRUFBVzdDLElBTXhCMkQsUUFBUyxTQUFTQyxHQUNoQixJQUFLLElBQUl2TCxFQUFJLEVBQUdBLEVBQUltQyxLQUFLd0YsUUFBUTdDLE9BQVE5RSxHQUFLLEVBQzVDdUwsRUFBRXBKLEtBQUt3RixRQUFRM0gsR0FBSW1DLEtBQUt3RixRQUFRM0gsRUFBSSxLQU14Q3dMLFFBQVMsU0FBUy9FLEdBRWhCLE9BREFBLEVBQU0rRCxFQUFXdkIsS0FBS3hDLElBQ2JnRixLQUNGLElBQUlqQixFQUFXL0QsRUFBSWtCLFFBQVFMLE9BQU9uRixLQUFLdUosU0FBU2pGLEdBQUtrQixVQUR0Q3hGLE1BT3hCd0osT0FBUSxTQUFTbEYsR0FFZixPQURBQSxFQUFNK0QsRUFBV3ZCLEtBQUt4QyxJQUNiZ0YsS0FDRixJQUFJakIsRUFBV3JJLEtBQUt1SixTQUFTakYsR0FBS2tCLFFBQVFMLE9BQU9iLEVBQUlrQixVQUR0Q3hGLE1BT3hCdUosU0FBVSxTQUFTakYsR0FDakIsSUFBSW1GLEVBQVN6SixLQUNic0UsRUFBTStELEVBQVd2QixLQUFLeEMsR0FDdEIsSUFBSyxJQUFJekcsRUFBSSxFQUFHQSxFQUFJeUcsRUFBSWtCLFFBQVE3QyxPQUFROUUsR0FBSyxFQUMzQzRMLEVBQVNBLEVBQU9iLE9BQU90RSxFQUFJa0IsUUFBUTNILElBQ3JDLE9BQU80TCxHQUtULFdBQ0UsT0FBT3pKLEtBQUt3RixRQUFRN0MsUUFBVSxJQVFsQzBGLEVBQVd2QixLQUFPLFNBQVNoSSxHQUN6QixHQUFJQSxhQUFpQnVKLEVBQVksT0FBT3ZKLEVBQ3hDLElBQUkwRyxFQUFVLEdBQ2QsR0FBSTFHLEVBQU8sSUFBSyxJQUFJNEssS0FBUTVLLEVBQU8wRyxFQUFRckMsS0FBS3VHLEVBQU01SyxFQUFNNEssSUFDNUQsT0FBTyxJQUFJckIsRUFBVzdDLElBR3hCLElBRWUsRUFGRTZDLEVDekhqQixJQUFhc0IsRUFDWCxTQUFZbkUsRUFBUzhELEdBTW5CLEdBTEF0SixLQUFLd0YsUUFBVUEsRUFJZnhGLEtBQUtzSixLQUFPQSxHQUFRLEVBQ1IsTUFBUkEsRUFBYyxJQUFLTSxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJMkgsRUFBUTdDLE9BQVE5RSxJQUNwRG1DLEtBQUtzSixNQUFROUQsRUFBUTNILEdBQUdnTSxVLDBGQU85QixZQUFFQyxhQUFBLFNBQWFoRCxFQUFNaUQsRUFBSVgsRUFBR1ksRUFBZTVHLFEsVUFBSCxHQUNwQyxJQUFLd0csSUFBSS9MLEVBQUksRUFBR29NLEVBQU0sRUFBR0EsRUFBTUYsRUFBSWxNLElBQUssQ0FDdEMrTCxJQUFJTSxFQUFRbEssS0FBS3dGLFFBQVEzSCxHQUFJc00sRUFBTUYsRUFBTUMsRUFBTUwsU0FDakQsR0FBTU0sRUFBTXJELElBQWlELElBQXpDc0MsRUFBRWMsRUFBT0YsRUFBWUMsRUFBSzdHLEVBQVF2RixJQUFnQnFNLEVBQU0xRSxRQUFROEQsS0FBTSxDQUN0Rk0sSUFBSVEsRUFBUUgsRUFBTSxFQUNsQkMsRUFBTUosYUFBYTVCLEtBQUttQyxJQUFJLEVBQUd2RCxFQUFPc0QsR0FDbkJsQyxLQUFLb0MsSUFBSUosRUFBTTFFLFFBQVE4RCxLQUFNUyxFQUFLSyxHQUNsQ2hCLEVBQUdZLEVBQVlJLEdBRXRDLEVBQVFELElBT1osWUFBRUksWUFBQSxTQUFZbkIsR0FDWixLQUFPVSxhQUFhLEVBQUc5SixLQUFLc0osS0FBTUYsSUFJcEMsWUFBRW9CLFlBQUEsU0FBWTFELEVBQU1pRCxFQUFJVSxFQUFnQkMsR0FDdEMsSUFBTUMsRUFBTyxHQUFJQyxHQUFZLEVBYTNCLE9BWkE1SyxLQUFLOEosYUFBYWhELEVBQU1pRCxHQUFJLFNBQUNjLEVBQU1aLEdBQzdCWSxFQUFLQyxRQUNULEdBQVVELEVBQUtGLEtBQUszRCxNQUFNa0IsS0FBS21DLElBQUl2RCxFQUFNbUQsR0FBT0EsRUFBS0YsRUFBS0UsR0FDMUQsR0FBZVEsR0FDSkksRUFBS0UsUUFBVUwsR0FDMUIsR0FBVUEsRUFDVixHQUFlRCxJQUNIRyxHQUFhQyxFQUFLRyxVQUM5QixHQUFVUCxFQUNWLEdBQWMsS0FFYixHQUNJRSxHQU1YLFlBQUVuQixPQUFBLFNBQU95QixHQUNMLElBQUtBLEVBQU0zQixLQUFNLE9BQU90SixLQUN4QixJQUFLQSxLQUFLc0osS0FBTSxPQUFPMkIsRUFDekIsSUFBTUMsRUFBT2xMLEtBQUttTCxVQUFXQyxFQUFRSCxFQUFNSSxXQUFZN0YsRUFBVXhGLEtBQUt3RixRQUFRd0IsUUFBU25KLEVBQUksRUFLM0YsSUFKTXFOLEVBQUtKLFFBQVVJLEVBQUtJLFdBQVdGLEtBQ25DLEVBQVU1RixFQUFRN0MsT0FBUyxHQUFLdUksRUFBS0ssU0FBU0wsRUFBS1AsS0FBT1MsRUFBTVQsTUFDaEUsRUFBTSxHQUVDOU0sRUFBSW9OLEVBQU16RixRQUFRN0MsT0FBUTlFLElBQUsySCxFQUFRckMsS0FBSzhILEVBQU16RixRQUFRM0gsSUFDakUsT0FBTyxJQUFJOEwsRUFBU25FLEVBQVN4RixLQUFLc0osS0FBTzJCLEVBQU0zQixPQUtuRCxZQUFFa0MsSUFBQSxTQUFJMUUsRUFBTWlELEdBRVIsR0FEVSxNQUFOQSxJQUFZQSxFQUFLL0osS0FBS3NKLE1BQ2QsR0FBUnhDLEdBQWFpRCxHQUFNL0osS0FBS3NKLEtBQU0sT0FBT3RKLEtBQzNDLElBQU15SixFQUFTLEdBQUlILEVBQU8sRUFDMUIsR0FBTVMsRUFBS2pELEVBQU0sSUFBSzhDLElBQUkvTCxFQUFJLEVBQUdvTSxFQUFNLEVBQUdBLEVBQU1GLEVBQUlsTSxJQUFLLENBQ3JEK0wsSUFBSU0sRUFBUWxLLEtBQUt3RixRQUFRM0gsR0FBSXNNLEVBQU1GLEVBQU1DLEVBQU1MLFNBQzNDTSxFQUFNckQsS0FDSm1ELEVBQU1uRCxHQUFRcUQsRUFBTUosS0FFcEJHLEVBREVBLEVBQU1ZLE9BQ0FaLEVBQU1zQixJQUFJdEQsS0FBS21DLElBQUksRUFBR3ZELEVBQU9tRCxHQUFNL0IsS0FBS29DLElBQUlKLEVBQU1TLEtBQUtoSSxPQUFRb0gsRUFBS0UsSUFFcEVDLEVBQU1zQixJQUFJdEQsS0FBS21DLElBQUksRUFBR3ZELEVBQU9tRCxFQUFNLEdBQUkvQixLQUFLb0MsSUFBSUosRUFBTTFFLFFBQVE4RCxLQUFNUyxFQUFLRSxFQUFNLEtBRTNGUixFQUFPdEcsS0FBSytHLEdBQ1paLEdBQVFZLEVBQU1MLFVBRWxCLEVBQVFNLEVBRVIsT0FBTyxJQUFJUixFQUFTRixFQUFRSCxJQUdoQyxZQUFFbUMsV0FBQSxTQUFXM0UsRUFBTWlELEdBQ2pCLE9BQU1qRCxHQUFRaUQsRUFBV0osRUFBUytCLE1BQ3BCLEdBQVI1RSxHQUFhaUQsR0FBTS9KLEtBQUt3RixRQUFRN0MsT0FBZTNDLEtBQzVDLElBQUkySixFQUFTM0osS0FBS3dGLFFBQVF3QixNQUFNRixFQUFNaUQsS0FNakQsWUFBRTRCLGFBQUEsU0FBYUMsRUFBT2YsR0FDcEIsSUFBTWdCLEVBQVU3TCxLQUFLd0YsUUFBUW9HLEdBQzNCLEdBQUlDLEdBQVdoQixFQUFNLE9BQU83SyxLQUM5QixJQUFNcUYsRUFBT3JGLEtBQUt3RixRQUFRd0IsUUFDcEJzQyxFQUFPdEosS0FBS3NKLEtBQU91QixFQUFLaEIsU0FBV2dDLEVBQVFoQyxTQUUvQyxPQURBeEUsRUFBS3VHLEdBQVNmLEVBQ1AsSUFBSWxCLEVBQVN0RSxFQUFNaUUsSUFNOUIsWUFBRVIsV0FBQSxTQUFXK0IsR0FDWCxPQUFTLElBQUlsQixFQUFTLENBQUNrQixHQUFNMUYsT0FBT25GLEtBQUt3RixTQUFVeEYsS0FBS3NKLEtBQU91QixFQUFLaEIsV0FNdEUsWUFBRWQsU0FBQSxTQUFTOEIsR0FDVCxPQUFTLElBQUlsQixFQUFTM0osS0FBS3dGLFFBQVFMLE9BQU8wRixHQUFPN0ssS0FBS3NKLEtBQU91QixFQUFLaEIsV0FLcEUsWUFBRWlDLEdBQUEsU0FBR2IsR0FDRCxHQUFJakwsS0FBS3dGLFFBQVE3QyxRQUFVc0ksRUFBTXpGLFFBQVE3QyxPQUFRLE9BQU8sRUFDeEQsSUFBS2lILElBQUkvTCxFQUFJLEVBQUdBLEVBQUltQyxLQUFLd0YsUUFBUTdDLE9BQVE5RSxJQUN2QyxJQUFLbUMsS0FBS3dGLFFBQVEzSCxHQUFHaU8sR0FBR2IsRUFBTXpGLFFBQVEzSCxJQUFLLE9BQU8sRUFDcEQsT0FBTyxHQUtULEVBQUl3TixXQUFBLGVBQWUsT0FBT3JMLEtBQUt3RixRQUFRN0MsT0FBUzNDLEtBQUt3RixRQUFRLEdBQUssTUFJcEUsRUFBTTJGLFVBQUEsZUFBYyxPQUFPbkwsS0FBS3dGLFFBQVE3QyxPQUFTM0MsS0FBS3dGLFFBQVF4RixLQUFLd0YsUUFBUTdDLE9BQVMsR0FBSyxNQUl6RixFQUFNb0osV0FBQSxlQUFlLE9BQU8vTCxLQUFLd0YsUUFBUTdDLFFBS3pDLFlBQUV1SCxNQUFBLFNBQU0wQixHQUNOLElBQU1yRCxFQUFRdkksS0FBS3dGLFFBQVFvRyxHQUN6QixJQUFLckQsRUFBTyxNQUFNLElBQUl5RCxXQUFXLFNBQVdKLEVBQVEscUJBQXVCNUwsTUFDM0UsT0FBT3VJLEdBS1gsWUFBRTBELFdBQUEsU0FBV0wsR0FDVCxPQUFPNUwsS0FBS3dGLFFBQVFvRyxJQU14QixZQUFFekMsUUFBQSxTQUFRQyxHQUNSLElBQU9RLElBQUkvTCxFQUFJLEVBQUc4QixFQUFJLEVBQUc5QixFQUFJbUMsS0FBS3dGLFFBQVE3QyxPQUFROUUsSUFBSyxDQUNyRCxJQUFNcU0sRUFBUWxLLEtBQUt3RixRQUFRM0gsR0FDekJ1TCxFQUFFYyxFQUFPdkssRUFBRzlCLEdBQ1o4QixHQUFLdUssRUFBTUwsV0FPakIsWUFBRXFDLGNBQUEsU0FBY2pCLEVBQU9oQixHQUNyQixZLFVBRDJCLEdDcEx0QixTQUFTaUMsRUFBY0MsRUFBR0MsRUFBR25DLEdBQ2xDLElBQUtMLElBQUkvTCxFQUFJLEdBQUlBLElBQUssQ0FDcEIsR0FBSUEsR0FBS3NPLEVBQUVKLFlBQWNsTyxHQUFLdU8sRUFBRUwsV0FDOUIsT0FBT0ksRUFBRUosWUFBY0ssRUFBRUwsV0FBYSxLQUFPOUIsRUFFL0NMLElBQUl5QyxFQUFTRixFQUFFakMsTUFBTXJNLEdBQUl5TyxFQUFTRixFQUFFbEMsTUFBTXJNLEdBQzFDLEdBQUl3TyxHQUFVQyxFQUFkLENBRUEsSUFBS0QsRUFBT2YsV0FBV2dCLEdBQVMsT0FBT3JDLEVBRXZDLEdBQUlvQyxFQUFPdkIsUUFBVXVCLEVBQU8xQixNQUFRMkIsRUFBTzNCLEtBQU0sQ0FDL0MsSUFBS2YsSUFBSTJDLEVBQUksRUFBR0YsRUFBTzFCLEtBQUs0QixJQUFNRCxFQUFPM0IsS0FBSzRCLEdBQUlBLElBQ2hEdEMsSUFDRixPQUFPQSxFQUVULEdBQUlvQyxFQUFPN0csUUFBUThELE1BQVFnRCxFQUFPOUcsUUFBUThELEtBQU0sQ0FDOUNNLElBQUk0QyxFQUFRTixFQUFjRyxFQUFPN0csUUFBUzhHLEVBQU85RyxRQUFTeUUsRUFBTSxHQUNoRSxHQUFhLE1BQVR1QyxFQUFlLE9BQU9BLEVBRTVCdkMsR0FBT29DLEVBQU94QyxjQWJVSSxHQUFPb0MsRUFBT3hDLFVEK0svQnFDLENBQWNsTSxLQUFNaUwsRUFBT2hCLElBUXRDLFlBQUV3QyxZQUFBLFNBQVl4QixFQUFPaEIsRUFBaUJ5QyxHQUNwQyxZLFVBRHlCMU0sS0FBS3NKLFcsVUFBaUIyQixFQUFNM0IsTUN0S2hELFNBQVNtRCxFQUFZTixFQUFHQyxFQUFHTyxFQUFNQyxHQUN0QyxJQUFLaEQsSUFBSWlELEVBQUtWLEVBQUVKLFdBQVllLEVBQUtWLEVBQUVMLGFBQWMsQ0FDL0MsR0FBVSxHQUFOYyxHQUFpQixHQUFOQyxFQUNiLE9BQU9ELEdBQU1DLEVBQUssS0FBTyxDQUFDWCxFQUFHUSxFQUFNUCxFQUFHUSxHQUV4Q2hELElBQUl5QyxFQUFTRixFQUFFakMsUUFBUTJDLEdBQUtQLEVBQVNGLEVBQUVsQyxRQUFRNEMsR0FBS3hELEVBQU8rQyxFQUFPeEMsU0FDbEUsR0FBSXdDLEdBQVVDLEVBQWQsQ0FLQSxJQUFLRCxFQUFPZixXQUFXZ0IsR0FBUyxNQUFPLENBQUNILEVBQUdRLEVBQU1QLEVBQUdRLEdBRXBELEdBQUlQLEVBQU92QixRQUFVdUIsRUFBTzFCLE1BQVEyQixFQUFPM0IsS0FBTSxDQUUvQyxJQURBZixJQUFJbUQsRUFBTyxFQUFHQyxFQUFVOUUsS0FBS29DLElBQUkrQixFQUFPMUIsS0FBS2hJLE9BQVEySixFQUFPM0IsS0FBS2hJLFFBQzFEb0ssRUFBT0MsR0FBV1gsRUFBTzFCLEtBQUswQixFQUFPMUIsS0FBS2hJLE9BQVNvSyxFQUFPLElBQU1ULEVBQU8zQixLQUFLMkIsRUFBTzNCLEtBQUtoSSxPQUFTb0ssRUFBTyxJQUM3R0EsSUFBUUosSUFBUUMsSUFFbEIsTUFBTyxDQUFDVCxFQUFHUSxFQUFNUCxFQUFHUSxHQUV0QixHQUFJUCxFQUFPN0csUUFBUThELE1BQVFnRCxFQUFPOUcsUUFBUThELEtBQU0sQ0FDOUNNLElBQUk0QyxFQUFRQyxFQUFZSixFQUFPN0csUUFBUzhHLEVBQU85RyxRQUFTbUgsRUFBTyxFQUFHQyxFQUFPLEdBQ3pFLEdBQUlKLEVBQU8sT0FBT0EsRUFFcEJHLEdBQVFyRCxFQUFNc0QsR0FBUXRELE9BakJwQnFELEdBQVFyRCxFQUFNc0QsR0FBUXRELEdEZ0tqQm1ELENBQVl6TSxLQUFNaUwsRUFBT2hCLEVBQUt5QyxJQU96QyxZQUFFTyxVQUFBLFNBQVVoRCxFQUFLaUQsR0FDZixRLFdBRHdCLEdBQ1gsR0FBUGpELEVBQVUsT0FBT2tELEVBQVMsRUFBR2xELEdBQ2pDLEdBQUlBLEdBQU9qSyxLQUFLc0osS0FBTSxPQUFPNkQsRUFBU25OLEtBQUt3RixRQUFRN0MsT0FBUXNILEdBQzdELEdBQU1BLEVBQU1qSyxLQUFLc0osTUFBUVcsRUFBTSxFQUFHLE1BQU0sSUFBSStCLFdBQVUsWUFBYS9CLEVBQUcsOEJBQTZCLEtBQ2pHLElBQUtMLElBQUkvTCxFQUFJLEVBQUd1UCxFQUFTLEdBQUl2UCxJQUFLLENBQ2hDK0wsSUFBeUJPLEVBQU1pRCxFQUFyQnBOLEtBQUtrSyxNQUFNck0sR0FBdUJnTSxTQUM1QyxHQUFJTSxHQUFPRixFQUNULE9BQUlFLEdBQU9GLEdBQU9pRCxFQUFRLEVBQVVDLEVBQVN0UCxFQUFJLEVBQUdzTSxHQUM3Q2dELEVBQVN0UCxFQUFHdVAsR0FFdkIsRUFBV2pELElBTWYsWUFBRXZFLFNBQUEsV0FBYSxNQUFPLElBQU01RixLQUFLcU4sZ0JBQWtCLEtBRW5ELFlBQUVBLGNBQUEsV0FBa0IsT0FBT3JOLEtBQUt3RixRQUFROEgsS0FBSyxPQUk3QyxZQUFFQyxPQUFBLFdBQ0EsT0FBU3ZOLEtBQUt3RixRQUFRN0MsT0FBUzNDLEtBQUt3RixRQUFRbEIsS0FBSSxTQUFBaEYsR0FBRSxPQUFHQSxFQUFFaU8sWUFBWSxNQUtuRSxFQUFPQyxTQUFBLFNBQVNDLEVBQVEzTyxHQUN0QixJQUFLQSxFQUFPLE9BQU82SyxFQUFTK0IsTUFDNUIsSUFBS2pJLE1BQU1DLFFBQVE1RSxHQUFRLE1BQU0sSUFBSWtOLFdBQVcsdUNBQ2hELE9BQU8sSUFBSXJDLEVBQVM3SyxFQUFNd0YsSUFBSW1KLEVBQU9DLGdCQU12QyxFQUFPQyxVQUFBLFNBQVVDLEdBQ2pCLElBQU9BLEVBQU1qTCxPQUFRLE9BQU9nSCxFQUFTK0IsTUFFbkMsSUFEQTlCLElBQUlpRSxFQUFRdkUsRUFBTyxFQUNWekwsRUFBSSxFQUFHQSxFQUFJK1AsRUFBTWpMLE9BQVE5RSxJQUFLLENBQ3JDK0wsSUFBSWlCLEVBQU8rQyxFQUFNL1AsR0FDakJ5TCxHQUFRdUIsRUFBS2hCLFNBQ1RoTSxHQUFLZ04sRUFBS0MsUUFBVThDLEVBQU0vUCxFQUFJLEdBQUd5TixXQUFXVCxJQUN6Q2dELElBQVFBLEVBQVNELEVBQU01RyxNQUFNLEVBQUduSixJQUN2QyxFQUFTZ1EsRUFBT2xMLE9BQVMsR0FBS2tJLEVBQUtVLFNBQVNzQyxFQUFPQSxFQUFPbEwsT0FBUyxHQUFHZ0ksS0FBT0UsRUFBS0YsT0FDdkVrRCxHQUNUQSxFQUFPMUssS0FBSzBILEdBR2xCLE9BQVMsSUFBSWxCLEVBQVNrRSxHQUFVRCxFQUFPdEUsSUFRdkMsRUFBT3hDLEtBQUEsU0FBS2dILEdBQ1YsSUFBS0EsRUFBTyxPQUFPbkUsRUFBUytCLE1BQzVCLEdBQUlvQyxhQUFpQm5FLEVBQVUsT0FBT21FLEVBQ3RDLEdBQUlySyxNQUFNQyxRQUFRb0ssR0FBUSxPQUFPOU4sS0FBSzJOLFVBQVVHLEdBQ2hELEdBQUlBLEVBQU1DLE1BQU8sT0FBTyxJQUFJcEUsRUFBUyxDQUFDbUUsR0FBUUEsRUFBTWpFLFVBQ3RELE1BQVEsSUFBSW1DLFdBQVcsbUJBQXFCOEIsRUFBUSxrQkFDNUJBLEVBQU1oRSxhQUFlLG1FQUFxRSxNLHVDQUlwSGtFLElBQU0sRUFBUSxDQUFDcEMsTUFBTyxFQUFHcUMsT0FBUSxHQUNqQyxTQUFTZCxFQUFTdkIsRUFBT3FDLEdBR3ZCLE9BRkEsRUFBTXJDLE1BQVFBLEVBQ2QsRUFBTXFDLE9BQVNBLEVBQ1IsRUU3UUYsU0FBU0MsRUFBWS9CLEVBQUdDLEdBQzdCLEdBQUlELElBQU1DLEVBQUcsT0FBTyxFQUNwQixJQUFNRCxHQUFpQixpQkFBTEEsSUFDWkMsR0FBaUIsaUJBQUxBLEVBQWdCLE9BQU8sRUFDekN4QyxJQUFJZ0UsRUFBUW5LLE1BQU1DLFFBQVF5SSxHQUMxQixHQUFJMUksTUFBTUMsUUFBUTBJLElBQU13QixFQUFPLE9BQU8sRUFDdEMsR0FBSUEsRUFBTyxDQUNULEdBQUl6QixFQUFFeEosUUFBVXlKLEVBQUV6SixPQUFRLE9BQU8sRUFDakMsSUFBS2lILElBQUkvTCxFQUFJLEVBQUdBLEVBQUlzTyxFQUFFeEosT0FBUTlFLElBQUssSUFBS3FRLEVBQVkvQixFQUFFdE8sR0FBSXVPLEVBQUV2TyxJQUFLLE9BQU8sTUFDbkUsQ0FDTCxJQUFLK0wsSUFBSWpLLEtBQUt3TSxFQUFHLEtBQU14TSxLQUFLeU0sS0FBTzhCLEVBQVkvQixFQUFFeE0sR0FBSXlNLEVBQUV6TSxJQUFLLE9BQU8sRUFDbkUsSUFBS2lLLElBQUlqSyxLQUFLeU0sRUFBRyxLQUFNek0sS0FBS3dNLEdBQUksT0FBTyxFQUV6QyxPQUFPLEVGdVFUeEMsRUFBUytCLE1BQVEsSUFBSS9CLEVBQVMsR0FBSSxHRzVRbEMsSUFBYSxFQUNYLFNBQVksRUFBTSxHQUdoQixLQUFLLEtBQU8sRUFHWixLQUFLLE1BQVEsR0NUVixTQUFTLEVBQWEsR0FDM0JDLElBQUksRUFBTSxNQUFNLEtBQUssS0FBTSxHQUUzQixPQURBLEVBQUksVUFBWSxFQUFhLFVBQ3RCLEVEZVQsWUFBRSxrQkFBUyxHQUVQLElBREFBLElBQUksRUFBTSxHQUFTLEVBQ1YvTCxFQUFJLEVBQUcsRUFBSSxFQUFJLE9BQVEsSUFBSyxDQUNuQytMLElBQUksRUFBUSxFQUFJLEdBQ2xCLEdBQU0sS0FBSyxHQUFHLEdBQVEsT0FBTyxFQUM3QixHQUFNLEtBQUssS0FBSyxTQUFTLEVBQU0sTUFDdEIsSUFBTSxFQUFPLEVBQUksTUFBTSxFQUFHLFFBQzFCLElBQUksRUFBTSxLQUFLLFNBQVMsS0FBSyxNQUNsQyxPQUFPLEdBRUYsR0FBVSxFQUFNLEtBQUssS0FBTyxLQUFLLEtBQUssT0FDcEMsSUFBTSxFQUFPLEVBQUksTUFBTSxFQUFHLElBQy9CLEVBQUssS0FBSyxNQUNaLEdBQVcsR0FFUCxHQUFNLEVBQUssS0FBSyxJQUt4QixPQUZLLElBQU0sRUFBTyxFQUFJLFNBQ2pCLEdBQVEsRUFBSyxLQUFLLE1BQ2hCLEdBTVgsWUFBRSx1QkFBYyxHQUNaLElBQUtBLElBQUksRUFBSSxFQUFHLEVBQUksRUFBSSxPQUFRLElBQzlCLEdBQUksS0FBSyxHQUFHLEVBQUksSUFDZCxPQUFPLEVBQUksTUFBTSxFQUFHLEdBQUcsT0FBTyxFQUFJLE1BQU0sRUFBSSxJQUNoRCxPQUFPLEdBS1gsWUFBRSxpQkFBUSxHQUNOLElBQUtBLElBQUksRUFBSSxFQUFHLEVBQUksRUFBSSxPQUFRLElBQzlCLEdBQUksS0FBSyxHQUFHLEVBQUksSUFBSyxPQUFPLEVBQzlCLE9BQU8sR0FNWCxZQUFFLFlBQUcsR0FDSCxPQUFTLE1BQVEsR0FDWixLQUFLLE1BQVEsRUFBTSxNQUFRLEVBQVksS0FBSyxNQUFPLEVBQU0sUUFLaEUsWUFBRSxrQkFDRUEsSUFBSSxFQUFNLENBQUMsS0FBTSxLQUFLLEtBQUssTUFDN0IsSUFBT0EsSUFBSSxLQUFLLEtBQUssTUFBTyxDQUN4QixFQUFJLE1BQVEsS0FBSyxNQUNqQixNQUVGLE9BQU8sR0FJVCxFQUFPLGtCQUFTLEVBQVEsR0FDeEIsSUFBTyxFQUFNLE1BQU0sSUFBSSxXQUFXLG1DQUNsQyxJQUFNLEVBQU8sRUFBTyxNQUFNLEVBQUssTUFDN0IsSUFBSyxFQUFNLE1BQU0sSUFBSSxXQUFVLHlCQUEwQixFQUFLLEtBQUksbUJBQ3BFLE9BQVMsRUFBSyxPQUFPLEVBQUssUUFLMUIsRUFBTyxpQkFBUSxFQUFHLEdBQ2hCLEdBQUksR0FBSyxFQUFHLE9BQU8sRUFDckIsR0FBTSxFQUFFLFFBQVUsRUFBRSxPQUFRLE9BQU8sRUFDakMsSUFBS0EsSUFBSSxFQUFJLEVBQUcsRUFBSSxFQUFFLE9BQVEsSUFDNUIsSUFBSyxFQUFFLEdBQUcsR0FBRyxFQUFFLElBQUssT0FBTyxFQUM3QixPQUFPLEdBTVQsRUFBTyxpQkFBUSxHQUNiLElBQUssR0FBeUIsR0FBaEIsRUFBTSxPQUFhLE9BQU8sRUFBSyxLQUMvQyxHQUFNLGFBQWlCLEVBQU0sTUFBTyxDQUFDLEdBQ25DQSxJQUFJLEVBQU8sRUFBTSxRQUVqQixPQURGLEVBQU8sTUFBSSxTQUFFLEVBQUcsR0FBRyxPQUFHLEVBQUUsS0FBSyxLQUFPLEVBQUUsS0FBSyxRQUNsQyxHQUtYLEVBQUssS0FBTyxHQ3ZHWixFQUFhLFVBQVksT0FBTyxPQUFPLE1BQU0sV0FDN0MsRUFBYSxVQUFVLFlBQWMsRUFDckMsRUFBYSxVQUFVLEtBQU8sZUFLOUIsSUFBYSxFQVdYLFNBQVksRUFBUyxFQUFXLEdBRTlCLEtBQUssUUFBVSxFQUVmLEtBQUssVUFBWSxFQUVqQixLQUFLLFFBQVUsRywyQkFvRlosU0FBUyxFQUFRLEVBQU8sRUFBSyxHQUNsQyxHQUFJLEVBQU0sVUFBWSxFQUFNLE1BQzFCLE1BQU0sSUFBSSxFQUFhLG1EQUN6QixHQUFJLEVBQU0sTUFBUSxFQUFNLFdBQWEsRUFBSSxNQUFRLEVBQU0sUUFDckQsTUFBTSxJQUFJLEVBQWEsNEJBQ3pCLE9BR0YsU0FBUyxFQUFhLEVBQU8sRUFBSyxFQUFPLEdBQ3ZDQSxJQUFJLEVBQVEsRUFBTSxNQUFNLEdBQVEsRUFBTyxFQUFNLEtBQUssR0FDbEQsR0FBSSxHQUFTLEVBQUksTUFBTSxJQUFVLEVBQVEsRUFBTSxNQUFRLEVBQU0sVUFBVyxDQUN0RUEsSUFBSSxFQUFRLEVBQWEsRUFBTyxFQUFLLEVBQU8sRUFBUSxHQUNwRCxPQUFPLEVBQUssS0FBSyxFQUFLLFFBQVEsYUFBYSxFQUFPLElBQzdDLEdBQUssRUFBTSxRQUFRLEtBRW5CLElBQUssRUFBTSxXQUFjLEVBQU0sU0FBVyxFQUFNLE9BQVMsR0FBUyxFQUFJLE9BQVMsRUFHL0UsQ0FDTCxNQThFSixTQUFnQyxFQUFPLEdBR3JDLElBRkFBLElBQUksRUFBUSxFQUFPLE1BQVEsRUFBTSxVQUM3QixFQURpRCxFQUFPLEtBQUssR0FDL0MsS0FBSyxFQUFNLFNBQ3BCLEVBQUksRUFBUSxFQUFHLEdBQUssRUFBRyxJQUM5QixFQUFPLEVBQU8sS0FBSyxHQUFHLEtBQUssRUFBUyxLQUFLLElBQzNDLE1BQU8sQ0FBQyxNQUFPLEVBQUssZUFBZSxFQUFNLFVBQVksR0FDN0MsSUFBSyxFQUFLLGVBQWUsRUFBSyxRQUFRLEtBQU8sRUFBTSxRQUFVLElBcEZoRCxDQUF1QixFQUFPLEdBQTVDLFVBQU8sUUFDWixPQUFPLEVBQU0sRUE4Q2pCLFNBQVMsRUFBZ0IsRUFBTyxFQUFRLEVBQU0sRUFBSyxHQUNqREEsSUFBSSxFQUFZLEVBQU0sTUFBUSxHQUFTLEVBQVMsRUFBTyxFQUFRLEVBQVEsR0FDbkUsRUFBVSxFQUFJLE1BQVEsR0FBUyxFQUFTLEVBQU0sRUFBSyxFQUFRLEdBRTNELEVBQVUsR0FDZCxFQUFTLEtBQU0sRUFBTyxFQUFPLEdBQ3pCLEdBQWEsR0FBVyxFQUFPLE1BQU0sSUFBVSxFQUFLLE1BQU0sSUFDNUQsRUFBVSxFQUFXLEdBQ3JCLEVBQVEsRUFBTSxFQUFXLEVBQWdCLEVBQU8sRUFBUSxFQUFNLEVBQUssRUFBUSxJQUFLLEtBRTVFLEdBQ0YsRUFBUSxFQUFNLEVBQVcsRUFBYyxFQUFPLEVBQVEsRUFBUSxJQUFLLEdBQ3JFLEVBQVMsRUFBUSxFQUFNLEVBQU8sR0FDMUIsR0FDRixFQUFRLEVBQU0sRUFBUyxFQUFjLEVBQU0sRUFBSyxFQUFRLElBQUssSUFHakUsT0FEQSxFQUFTLEVBQUssS0FBTSxFQUFPLEdBQ3BCLElBQUksRUFBUyxHQS9EQyxDQUFnQnVFLEVBQU8sRUFBTyxFQUFLLEVBQUssSUFKM0R2RSxJQUFJLEVBQVMsRUFBTSxPQUFRLEVBQVUsRUFBTyxRQUM1QyxPQUFPLEVBQU0sRUFBUSxFQUFRLElBQUksRUFBRyxFQUFNLGNBQWMsT0FBTyxFQUFNLFNBQVMsT0FBTyxFQUFRLElBQUksRUFBSSxnQkFIckcsT0FBTyxFQUFNLEVBQU0sRUFBYyxFQUFPLEVBQUssSUFUeEMsQ0FBYSxFQUFPLEVBQUssRUFBTyxHQW1CekMsU0FBUyxFQUFVLEVBQU0sR0FDdkIsSUFBSyxFQUFJLEtBQUssa0JBQWtCLEVBQUssTUFDbkMsTUFBTSxJQUFJLEVBQWEsZUFBaUIsRUFBSSxLQUFLLEtBQU8sU0FBVyxFQUFLLEtBQUssTUFHakYsU0FBUyxFQUFTLEVBQVMsRUFBUSxHQUNqQ0EsSUFBSSxFQUFPLEVBQVEsS0FBSyxHQUV4QixPQURBLEVBQVUsRUFBTSxFQUFPLEtBQUssSUFDckIsRUFHVCxTQUFTLEVBQVEsRUFBTyxHQUN0QkEsSUFBSSxFQUFPLEVBQU8sT0FBUyxFQUN2QixHQUFRLEdBQUssRUFBTSxRQUFVLEVBQU0sV0FBVyxFQUFPLElBQ3ZELEVBQU8sR0FBUSxFQUFNLFNBQVMsRUFBTyxHQUFNLEtBQU8sRUFBTSxNQUV4RCxFQUFPLEtBQUssR0FHaEIsU0FBUyxFQUFTLEVBQVEsRUFBTSxFQUFPLEdBQ3JDQSxJQUFJLEdBQVEsR0FBUSxHQUFRLEtBQUssR0FDN0IsRUFBYSxFQUFHLEVBQVcsRUFBTyxFQUFLLE1BQU0sR0FBUyxFQUFLLFdBQzNELElBQ0YsRUFBYSxFQUFPLE1BQU0sR0FDdEIsRUFBTyxNQUFRLEVBQ2pCLElBQ1MsRUFBTyxhQUNoQixFQUFRLEVBQU8sVUFBVyxHQUMxQixNQUdKLElBQUtBLElBQUksRUFBSSxFQUFZLEVBQUksRUFBVSxJQUFLLEVBQVEsRUFBSyxNQUFNLEdBQUksR0FDL0QsR0FBUSxFQUFLLE9BQVMsR0FBUyxFQUFLLFlBQ3RDLEVBQVEsRUFBSyxXQUFZLEdBRzdCLFNBQVMsRUFBTSxFQUFNLEdBQ25CLElBQUssRUFBSyxLQUFLLGFBQWEsR0FDMUIsTUFBTSxJQUFJLEVBQWEsNEJBQThCLEVBQUssS0FBSyxNQUNqRSxPQUFPLEVBQUssS0FBSyxHQXVCbkIsU0FBUyxFQUFjLEVBQU8sRUFBSyxHQUNqQ0EsSUFBSSxFQUFVLElBQ2QsRUFBUyxLQUFNLEVBQU8sRUFBTyxHQUN6QixFQUFNLE1BQVEsSUFFaEIsRUFBUSxFQURHLEVBQVMsRUFBTyxFQUFLLEVBQVEsR0FDcEIsRUFBYyxFQUFPLEVBQUssRUFBUSxJQUFLLEdBRzdELE9BREEsRUFBUyxFQUFLLEtBQU0sRUFBTyxHQUNwQixJQUFJLEVBQVMsR0E3S3RCd0UsRUFBTSxvQkFDRixPQUFPLEtBQUssUUFBUSxLQUFPLEtBQUssVUFBWSxLQUFLLFNBR3JELFlBQUUsa0JBQVMsRUFBSyxHQUNaeEUsSUFBSSxFQTREUixTQUFTLEVBQVcsRUFBUyxFQUFNLEVBQVEsR0FDekMsTUFBc0IsRUFBUSxVQUFVLEdBQW5DLFVBQU8sV0FBbUMsRUFBUSxFQUFRLFdBQVcsR0FDMUUsR0FBSSxHQUFVLEdBQVEsRUFBTSxPQUMxQixPQUFJLElBQVcsRUFBTyxXQUFXLEVBQU8sRUFBTyxHQUFnQixLQUN4RCxFQUFRLElBQUksRUFBRyxHQUFNLE9BQU8sR0FBUSxPQUFPLEVBQVEsSUFBSSxJQUVoRUEsSUFBSSxFQUFRLEVBQVcsRUFBTSxRQUFTLEVBQU8sRUFBUyxFQUFHLEdBQ3pELE9BQU8sR0FBUyxFQUFRLGFBQWEsRUFBTyxFQUFNLEtBQUssSUFuRXZDLENBQVcsS0FBSyxRQUFTLEVBQU0sS0FBSyxVQUFXLEVBQVUsTUFDdkUsT0FBTyxHQUFXLElBQUksRUFBTSxFQUFTLEtBQUssVUFBVyxLQUFLLFVBRzlELFlBQUUsdUJBQWMsRUFBTSxHQUNsQixPQUFPLElBQUksRUE0Q2YsU0FBUyxFQUFZLEVBQVMsRUFBTSxHQUNsQyxNQUFzQixFQUFRLFVBQVUsR0FBbkMsVUFBTyxXQUFtQyxFQUFRLEVBQVEsV0FBVyxHQUMxRSxFQUF5QyxFQUFRLFVBQVUsR0FBL0MsVUFBaUIsV0FDN0IsR0FBSSxHQUFVLEdBQVEsRUFBTSxPQUFRLENBQ2xDLEdBQUksR0FBWSxJQUFPLEVBQVEsTUFBTSxHQUFTLE9BQVEsTUFBTSxJQUFJLFdBQVcsMkJBQzNFLE9BQU8sRUFBUSxJQUFJLEVBQUcsR0FBTSxPQUFPLEVBQVEsSUFBSSxJQUVqRCxHQUFJLEdBQVMsRUFBUyxNQUFNLElBQUksV0FBVywyQkFDM0MsT0FBTyxFQUFRLGFBQWEsRUFBTyxFQUFNLEtBQUssRUFBWSxFQUFNLFFBQVMsRUFBTyxFQUFTLEVBQUcsRUFBSyxFQUFTLEtBcER2RixDQUFZLEtBQUssUUFBUyxFQUFPLEtBQUssVUFBVyxFQUFLLEtBQUssV0FBWSxLQUFLLFVBQVcsS0FBSyxVQUtqSCxZQUFFLFlBQUcsR0FDSCxPQUFTLEtBQUssUUFBUSxHQUFHLEVBQU0sVUFBWSxLQUFLLFdBQWEsRUFBTSxXQUFhLEtBQUssU0FBVyxFQUFNLFNBR3hHLFlBQUUsb0JBQ0UsT0FBTyxLQUFLLFFBQVUsSUFBTSxLQUFLLFVBQVksSUFBTSxLQUFLLFFBQVUsS0FLdEUsWUFBRSxrQkFDQSxJQUFPLEtBQUssUUFBUSxLQUFNLE9BQU8sS0FDL0JBLElBQUksRUFBTyxDQUFDLFFBQVMsS0FBSyxRQUFRLFVBR2xDLE9BRkksS0FBSyxVQUFZLElBQUcsRUFBSyxVQUFZLEtBQUssV0FDMUMsS0FBSyxRQUFVLElBQUcsRUFBSyxRQUFVLEtBQUssU0FDbkMsR0FLVCxFQUFPLGtCQUFTLEVBQVEsR0FDdEIsSUFBSyxFQUFNLE9BQU8sRUFBTSxNQUN4QkEsSUFBSSxFQUFZLEVBQUssV0FBYSxFQUFHLEVBQVUsRUFBSyxTQUFXLEVBQ2pFLEdBQTBCLGlCQUFiLEdBQTJDLGlCQUFYLEVBQ3pDLE1BQU0sSUFBSSxXQUFXLG9DQUN6QixPQUFTLElBQUksRUFBTSxFQUFTLFNBQVMsRUFBUSxFQUFLLFNBQVUsRUFBSyxXQUFhLEVBQUcsRUFBSyxTQUFXLElBTWpHLEVBQU8saUJBQVEsRUFBVSxRLFdBQWMsR0FFckMsSUFERixJQUFNLEVBQVksRUFBRyxFQUFVLEVBQ3BCLEVBQUksRUFBUyxXQUFZLElBQU0sRUFBRSxTQUFXLElBQWtCLEVBQUUsS0FBSyxLQUFLLFdBQVksRUFBSSxFQUFFLFdBQVksSUFDakgsSUFBS0EsSUFBSXRLLEVBQUksRUFBUyxVQUFXQSxJQUFNQSxFQUFFLFNBQVcsSUFBa0JBLEVBQUUsS0FBSyxLQUFLLFdBQVlBLEVBQUlBLEVBQUUsVUFBVyxJQUNqSCxPQUFTLElBQUksRUFBTSxFQUFVLEVBQVcsSSx1Q0EyQjFDLEVBQU0sTUFBUSxJQUFJLEVBQU0sRUFBUyxNQUFPLEVBQUcsR0M1RzNDLElBQWErTyxFQUNYLFNBQVlwRSxFQUFLcUUsRUFBTUMsR0FFckJ2TyxLQUFLaUssSUFBTUEsRUFDWGpLLEtBQUtzTyxLQUFPQSxFQUtkLEtBQU9FLE1BQVFGLEVBQUszTCxPQUFTLEVBQUksRUFFL0IzQyxLQUFLdU8sYUFBZUEsRyx5SUFHeEIsWUFBRUUsYUFBQSxTQUFhQyxHQUNiLE9BQWEsTUFBUEEsRUFBb0IxTyxLQUFLd08sTUFDekJFLEVBQU0sRUFBVTFPLEtBQUt3TyxNQUFRRSxFQUMxQkEsR0FPVE4sRUFBSWhMLE9BQUEsZUFBVyxPQUFPcEQsS0FBSzZLLEtBQUs3SyxLQUFLd08sUUFJdkNKLEVBQU1PLElBQUEsZUFBUSxPQUFPM08sS0FBSzZLLEtBQUssSUFLL0IsWUFBRUEsS0FBQSxTQUFLMkQsR0FBUyxPQUFPeE8sS0FBS3NPLEtBQWdDLEVBQTNCdE8sS0FBS3lPLGFBQWFELEtBTW5ELFlBQUU1QyxNQUFBLFNBQU00QyxHQUFTLE9BQU94TyxLQUFLc08sS0FBZ0MsRUFBM0J0TyxLQUFLeU8sYUFBYUQsR0FBYSxJQUtqRSxZQUFFSSxXQUFBLFNBQVdKLEdBRVgsT0FERUEsRUFBUXhPLEtBQUt5TyxhQUFhRCxHQUNuQnhPLEtBQUs0TCxNQUFNNEMsSUFBVUEsR0FBU3hPLEtBQUt3TyxPQUFVeE8sS0FBSzZPLFdBQWlCLEVBQUosSUFNMUUsWUFBRXpFLE1BQUEsU0FBTW9FLEdBRUosT0FBZ0IsSUFEaEJBLEVBQVF4TyxLQUFLeU8sYUFBYUQsSUFDTixFQUFJeE8sS0FBS3NPLEtBQWEsRUFBUkUsRUFBWSxHQUFLLEdBTXZELFlBQUVyRSxJQUFBLFNBQUlxRSxHQUVGLE9BREFBLEVBQVF4TyxLQUFLeU8sYUFBYUQsR0FDbkJ4TyxLQUFLb0ssTUFBTW9FLEdBQVN4TyxLQUFLNkssS0FBSzJELEdBQU9oSixRQUFROEQsTUFPeEQsWUFBRXdGLE9BQUEsU0FBT04sR0FFUCxLQURFQSxFQUFReE8sS0FBS3lPLGFBQWFELElBQ2QsTUFBTSxJQUFJeEMsV0FBVyxrREFDbkMsT0FBU3dDLEdBQVN4TyxLQUFLd08sTUFBUSxFQUFJeE8sS0FBS2lLLElBQU1qSyxLQUFLc08sS0FBYSxFQUFSRSxFQUFZLElBTXRFLFlBQUVPLE1BQUEsU0FBTVAsR0FFTixLQURFQSxFQUFReE8sS0FBS3lPLGFBQWFELElBQ2QsTUFBTSxJQUFJeEMsV0FBVyxpREFDakMsT0FBT3dDLEdBQVN4TyxLQUFLd08sTUFBUSxFQUFJeE8sS0FBS2lLLElBQU1qSyxLQUFLc08sS0FBYSxFQUFSRSxFQUFZLEdBQUt4TyxLQUFLc08sS0FBYSxFQUFSRSxHQUFXM0UsVUFPaEd1RSxFQUFNUyxXQUFBLGVBQWUsT0FBTzdPLEtBQUtpSyxJQUFNakssS0FBS3NPLEtBQUt0TyxLQUFLc08sS0FBSzNMLE9BQVMsSUFNcEV5TCxFQUFNWSxVQUFBLGVBQ0ZwRixJQUFJeEcsRUFBU3BELEtBQUtvRCxPQUFRd0ksRUFBUTVMLEtBQUs0TCxNQUFNNUwsS0FBS3dPLE9BQ3BELEdBQU01QyxHQUFTeEksRUFBTzJJLFdBQVksT0FBTyxLQUN2Q25DLElBQUlxRixFQUFPalAsS0FBS2lLLElBQU1qSyxLQUFLc08sS0FBS3RPLEtBQUtzTyxLQUFLM0wsT0FBUyxHQUFJdUgsRUFBUTlHLEVBQU84RyxNQUFNMEIsR0FDNUUsT0FBT3FELEVBQU83TCxFQUFPOEcsTUFBTTBCLEdBQU9KLElBQUl5RCxHQUFRL0UsR0FPbERrRSxFQUFNYyxXQUFBLGVBQ0osSUFBTXRELEVBQVE1TCxLQUFLNEwsTUFBTTVMLEtBQUt3TyxPQUN4QlMsRUFBT2pQLEtBQUtpSyxJQUFNakssS0FBS3NPLEtBQUt0TyxLQUFLc08sS0FBSzNMLE9BQVMsR0FDbkQsT0FBSXNNLEVBQWFqUCxLQUFLb0QsT0FBTzhHLE1BQU0wQixHQUFPSixJQUFJLEVBQUd5RCxHQUNqQyxHQUFUckQsRUFBYSxLQUFPNUwsS0FBS29ELE9BQU84RyxNQUFNMEIsRUFBUSxJQVF6RCxZQUFFdUQsTUFBQSxXQUNFdkYsSUFBSXhHLEVBQVNwRCxLQUFLb0QsT0FBUXdJLEVBQVE1TCxLQUFLNEwsUUFHdkMsR0FBMkIsR0FBdkJ4SSxFQUFPb0MsUUFBUThELEtBQVcsT0FBTzhGLEVBQUtDLEtBRzFDLEdBQUlyUCxLQUFLNk8sV0FBWSxPQUFPekwsRUFBTzhHLE1BQU0wQixHQUFPdUQsTUFFbEQsSUFBTUcsRUFBT2xNLEVBQU82SSxXQUFXTCxFQUFRLEdBQUlYLEVBQVE3SCxFQUFPNkksV0FBV0wsR0FHckUsSUFBTzBELEVBQU0sQ0FBRTFGLElBQUkyRixFQUFNRCxFQUFNQSxFQUFPckUsRUFBT0EsRUFBUXNFLEVBS25ELElBREEzRixJQUFJdUYsRUFBUUcsRUFBS0gsTUFDUnRSLEVBQUksRUFBR0EsRUFBSXNSLEVBQU14TSxPQUFROUUsS0FDSyxJQUFqQ3NSLEVBQU10UixHQUFHd0YsS0FBS21NLEtBQUtDLFdBQXlCeEUsR0FBVWtFLEVBQU10UixHQUFHNlIsUUFBUXpFLEVBQU1rRSxTQUMvRUEsRUFBUUEsRUFBTXRSLEtBQUs4UixjQUFjUixJQUVyQyxPQUFPQSxHQVVYLFlBQUVTLFlBQUEsU0FBWUMsR0FDVmpHLElBQUltRixFQUFRL08sS0FBS29ELE9BQU82SSxXQUFXak0sS0FBSzRMLFNBQzFDLElBQU9tRCxJQUFVQSxFQUFNZSxTQUFVLE9BQU8sS0FHdEMsSUFERixJQUFNWCxFQUFRSixFQUFNSSxNQUFPWSxFQUFPRixFQUFLek0sT0FBTzZJLFdBQVc0RCxFQUFLakUsU0FDbkQvTixFQUFJLEVBQUdBLEVBQUlzUixFQUFNeE0sT0FBUTlFLEtBQ0ssSUFBakNzUixFQUFNdFIsR0FBR3dGLEtBQUttTSxLQUFLQyxXQUF5Qk0sR0FBU1osRUFBTXRSLEdBQUc2UixRQUFRSyxFQUFLWixTQUM3RUEsRUFBUUEsRUFBTXRSLEtBQUs4UixjQUFjUixJQUNyQyxPQUFPQSxHQU1YLFlBQUVhLFlBQUEsU0FBWS9GLEdBQ1YsSUFBS0wsSUFBSTRFLEVBQVF4TyxLQUFLd08sTUFBT0EsRUFBUSxFQUFHQSxJQUN0QyxHQUFJeE8sS0FBS29LLE1BQU1vRSxJQUFVdkUsR0FBT2pLLEtBQUttSyxJQUFJcUUsSUFBVXZFLEVBQUssT0FBT3VFLEVBQ2pFLE9BQU8sR0FXWCxZQUFFeUIsV0FBQSxTQUFXaEYsRUFBY2lGLEdBQ3ZCLFEsVUFEaUJsUSxNQUNiaUwsRUFBTWhCLElBQU1qSyxLQUFLaUssSUFBSyxPQUFPZ0IsRUFBTWdGLFdBQVdqUSxNQUNsRCxJQUFLNEosSUFBSXpMLEVBQUk2QixLQUFLd08sT0FBU3hPLEtBQUtvRCxPQUFPK00sZUFBaUJuUSxLQUFLaUssS0FBT2dCLEVBQU1oQixJQUFNLEVBQUksR0FBSTlMLEdBQUssRUFBR0EsSUFDOUYsR0FBSThNLEVBQU1oQixLQUFPakssS0FBS21LLElBQUloTSxNQUFRK1IsR0FBUUEsRUFBS2xRLEtBQUs2SyxLQUFLMU0sS0FDdkQsT0FBTyxJQUFJaVMsRUFBVXBRLEtBQU1pTCxFQUFPOU0sSUFLMUMsWUFBRWtTLFdBQUEsU0FBV3BGLEdBQ1QsT0FBT2pMLEtBQUtpSyxJQUFNakssS0FBS3VPLGNBQWdCdEQsRUFBTWhCLElBQU1nQixFQUFNc0QsY0FLN0QsWUFBRWxFLElBQUEsU0FBSVksR0FDSixPQUFTQSxFQUFNaEIsSUFBTWpLLEtBQUtpSyxJQUFNZ0IsRUFBUWpMLE1BSzFDLFlBQUVzSyxJQUFBLFNBQUlXLEdBQ0osT0FBU0EsRUFBTWhCLElBQU1qSyxLQUFLaUssSUFBTWdCLEVBQVFqTCxNQUcxQyxZQUFFNEYsU0FBQSxXQUVFLElBREFnRSxJQUFJMEcsRUFBTSxHQUNEelMsRUFBSSxFQUFHQSxHQUFLbUMsS0FBS3dPLE1BQU8zUSxJQUMvQnlTLElBQVFBLEVBQU0sSUFBTSxJQUFNdFEsS0FBSzZLLEtBQUtoTixHQUFHd0YsS0FBS2pGLEtBQU8sSUFBTTRCLEtBQUs0TCxNQUFNL04sRUFBSSxHQUMxRSxPQUFPeVMsRUFBTSxJQUFNdFEsS0FBS3VPLGNBRzFCLEVBQU9nQyxRQUFBLFNBQVE1QixFQUFLMUUsR0FDcEIsS0FBUUEsR0FBTyxHQUFLQSxHQUFPMEUsRUFBSW5KLFFBQVE4RCxNQUFPLE1BQU0sSUFBSTBDLFdBQVcsWUFBYy9CLEVBQU0saUJBR3JGLElBRkFMLElBQUkwRSxFQUFPLEdBQ1BsRSxFQUFRLEVBQUdtRSxFQUFldEUsRUFDckJZLEVBQU84RCxJQUFPLENBQ3ZCLE1BQXdCOUQsRUFBS3JGLFFBQVF5SCxVQUFVc0IsR0FBeEMzQyxFQUFBLEVBQUFBLE1BQU9xQyxFQUFBLEVBQUFBLE9BQ1J1QyxFQUFNakMsRUFBZU4sRUFFekIsR0FERixFQUFPOUssS0FBSzBILEVBQU1lLEVBQU94QixFQUFRNkQsSUFDMUJ1QyxFQUFLLE1BRVYsSUFEQTNGLEVBQU9BLEVBQUtYLE1BQU0wQixJQUNUZCxPQUFRLE1BQ2pCeUQsRUFBZWlDLEVBQU0sRUFDckJwRyxHQUFTNkQsRUFBUyxFQUV0QixPQUFTLElBQUlJLEVBQVlwRSxFQUFLcUUsRUFBTUMsSUFHcEMsRUFBT2tDLGNBQUEsU0FBYzlCLEVBQUsxRSxHQUN4QixJQUFLTCxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJNlMsRUFBYS9OLE9BQVE5RSxJQUFLLENBQzVDK0wsSUFBSStHLEVBQVNELEVBQWE3UyxHQUMxQixHQUFJOFMsRUFBTzFHLEtBQU9BLEdBQU8wRyxFQUFPaEMsS0FBT0EsRUFBSyxPQUFPZ0MsRUFFckQvRyxJQUFJSCxFQUFTaUgsRUFBYUUsR0FBbUJ2QyxFQUFZa0MsUUFBUTVCLEVBQUsxRSxHQUV0RSxPQURGLEdBQXFCMkcsRUFBa0IsR0FBS0MsRUFDbkNwSCxHLHVDQUlYRyxJQUFJOEcsRUFBZSxHQUFJRSxFQUFrQixFQUFHQyxFQUFtQixHQUlsRFQsRUFLWCxTQUFZakMsRUFBTzJDLEVBQUt0QyxHQU10QnhPLEtBQUttTyxNQUFRQSxFQUdibk8sS0FBSzhRLElBQU1BLEVBRVg5USxLQUFLd08sTUFBUUEsRyxtSUFJZnVDLEVBQUkzRyxNQUFBLGVBQVUsT0FBT3BLLEtBQUttTyxNQUFNVyxPQUFPOU8sS0FBS3dPLE1BQVEsSUFFcER1QyxFQUFJNUcsSUFBQSxlQUFRLE9BQU9uSyxLQUFLOFEsSUFBSS9CLE1BQU0vTyxLQUFLd08sTUFBUSxJQUcvQ3VDLEVBQUkzTixPQUFBLGVBQVcsT0FBT3BELEtBQUttTyxNQUFNdEQsS0FBSzdLLEtBQUt3TyxRQUUzQ3VDLEVBQUlDLFdBQUEsZUFBZSxPQUFPaFIsS0FBS21PLE1BQU12QyxNQUFNNUwsS0FBS3dPLFFBRWhEdUMsRUFBSUUsU0FBQSxlQUFhLE9BQU9qUixLQUFLOFEsSUFBSWxDLFdBQVc1TyxLQUFLd08sUSx1Q0NqUm5EUixJQUFNa0QsRUFBYTNTLE9BQU9ZLE9BQU8sTUFjcEJnUyxFQUNYLFNBQVk5TixFQUFNMEssRUFBT3ZJLEVBQVMySixHQUdoQ25QLEtBQUtxRCxLQUFPQSxFQU1ackQsS0FBSytOLE1BQVFBLEVBSWYsS0FBT3ZJLFFBQVVBLEdBQVdtRSxFQUFTK0IsTUFLckMsS0FBT3lELE1BQVFBLEdBQVNDLEVBQUtDLE0saVZBWTdCakIsRUFBSXZFLFNBQUEsZUFBYSxPQUFPN0osS0FBSytLLE9BQVMsRUFBSSxFQUFJL0ssS0FBS3dGLFFBQVE4RCxNQUk3RDhFLEVBQU1yQyxXQUFBLGVBQWUsT0FBTy9MLEtBQUt3RixRQUFRdUcsWUFLekMsWUFBRTdCLE1BQUEsU0FBTTBCLEdBQVMsT0FBTzVMLEtBQUt3RixRQUFRMEUsTUFBTTBCLElBSTNDLFlBQUVLLFdBQUEsU0FBV0wsR0FBUyxPQUFPNUwsS0FBS3dGLFFBQVF5RyxXQUFXTCxJQUtyRCxZQUFFekMsUUFBQSxTQUFRQyxHQUFLcEosS0FBS3dGLFFBQVEyRCxRQUFRQyxJQVVwQyxZQUFFVSxhQUFBLFNBQWFoRCxFQUFNaUQsRUFBSVgsRUFBR2dJLFEsVUFBVyxHQUNuQ3BSLEtBQUt3RixRQUFRc0UsYUFBYWhELEVBQU1pRCxFQUFJWCxFQUFHZ0ksRUFBVXBSLE9BTXJELFlBQUV1SyxZQUFBLFNBQVluQixHQUNWcEosS0FBSzhKLGFBQWEsRUFBRzlKLEtBQUt3RixRQUFROEQsS0FBTUYsSUFNMUNnRixFQUFJaUQsWUFBQSxlQUFnQixPQUFPclIsS0FBS3dLLFlBQVksRUFBR3hLLEtBQUt3RixRQUFROEQsS0FBTSxLQU9wRSxZQUFFa0IsWUFBQSxTQUFZMUQsRUFBTWlELEVBQUlVLEVBQWdCQyxHQUNwQyxPQUFPMUssS0FBS3dGLFFBQVFnRixZQUFZMUQsRUFBTWlELEVBQUlVLEVBQWdCQyxJQU05RDBELEVBQU0vQyxXQUFBLGVBQWUsT0FBT3JMLEtBQUt3RixRQUFRNkYsWUFLekMrQyxFQUFNakQsVUFBQSxlQUFjLE9BQU9uTCxLQUFLd0YsUUFBUTJGLFdBSXhDLFlBQUVXLEdBQUEsU0FBR2IsR0FDSCxPQUFTakwsTUFBUWlMLEdBQVVqTCxLQUFLc0wsV0FBV0wsSUFBVWpMLEtBQUt3RixRQUFRc0csR0FBR2IsRUFBTXpGLFVBTTdFLFlBQUU4RixXQUFBLFNBQVdMLEdBQ1QsT0FBT2pMLEtBQUtzUixVQUFVckcsRUFBTTVILEtBQU00SCxFQUFNOEMsTUFBTzlDLEVBQU1rRSxRQU16RCxZQUFFbUMsVUFBQSxTQUFVak8sRUFBTTBLLEVBQU9vQixHQUNyQixPQUFPblAsS0FBS3FELE1BQVFBLEdBQ2xCNkssRUFBWWxPLEtBQUsrTixNQUFPQSxHQUFTMUssRUFBS2tPLGNBQWdCTCxJQUN0RDlCLEVBQUtvQyxRQUFReFIsS0FBS21QLE1BQU9BLEdBQVNDLEVBQUtDLE9BTTdDLFlBQUVoSyxLQUFBLFNBQUtHLEdBQ0wsWSxVQURlLE1BQ1RBLEdBQVd4RixLQUFLd0YsUUFBZ0J4RixLQUM3QixJQUFJQSxLQUFLc0ksWUFBWXRJLEtBQUtxRCxLQUFNckQsS0FBSytOLE1BQU92SSxFQUFTeEYsS0FBS21QLFFBTXJFLFlBQUVzQyxLQUFBLFNBQUt0QyxHQUNMLE9BQVNBLEdBQVNuUCxLQUFLbVAsTUFBUW5QLEtBQU8sSUFBSUEsS0FBS3NJLFlBQVl0SSxLQUFLcUQsS0FBTXJELEtBQUsrTixNQUFPL04sS0FBS3dGLFFBQVMySixJQU9sRyxZQUFFM0QsSUFBQSxTQUFJMUUsRUFBTWlELEdBQ1IsT0FBWSxHQUFSakQsR0FBYWlELEdBQU0vSixLQUFLd0YsUUFBUThELEtBQWF0SixLQUMxQ0EsS0FBS3FGLEtBQUtyRixLQUFLd0YsUUFBUWdHLElBQUkxRSxFQUFNaUQsS0FNNUMsWUFBRS9DLE1BQUEsU0FBTUYsRUFBTWlELEVBQXdCMkgsR0FDcEMsUSxVQURpQjFSLEtBQUt3RixRQUFROEQsVyxXQUF1QixHQUMvQ3hDLEdBQVFpRCxFQUFJLE9BQU80SCxFQUFNakcsTUFFN0I5QixJQUFJdUUsRUFBUW5PLEtBQUt1USxRQUFRekosR0FBT2dLLEVBQU05USxLQUFLdVEsUUFBUXhHLEdBQy9DeUUsRUFBUWtELEVBQWlCLEVBQUl2RCxFQUFNNkIsWUFBWWpHLEdBQy9DSyxFQUFRK0QsRUFBTS9ELE1BQU1vRSxHQUNwQmhKLEVBRG1DMkksRUFBTXRELEtBQUsyRCxHQUMvQmhKLFFBQVFnRyxJQUFJMkMsRUFBTWxFLElBQU1HLEVBQU8wRyxFQUFJN0csSUFBTUcsR0FDNUQsT0FBTyxJQUFJdUgsRUFBTW5NLEVBQVMySSxFQUFNSyxNQUFRQSxFQUFPc0MsRUFBSXRDLE1BQVFBLElBVS9ELFlBQUUzRyxRQUFBLFNBQVFmLEVBQU1pRCxFQUFJL0MsR0FDaEIsT0FBTyxFQUFRaEgsS0FBS3VRLFFBQVF6SixHQUFPOUcsS0FBS3VRLFFBQVF4RyxHQUFLL0MsSUFLekQsWUFBRTRLLE9BQUEsU0FBTzNILEdBQ0wsSUFBS0wsSUFBSWlCLEVBQU83SyxPQUFRLENBQ3hCLE1BQXdCNkssRUFBS3JGLFFBQVF5SCxVQUFVaEQsR0FBeEMyQixFQUFBLEVBQUFBLE1BQU9xQyxFQUFBLEVBQUFBLE9BRVosS0FEQXBELEVBQU9BLEVBQUtvQixXQUFXTCxJQUNaLE9BQU8sS0FDcEIsR0FBTXFDLEdBQVVoRSxHQUFPWSxFQUFLQyxPQUFRLE9BQU9ELEVBQ3pDWixHQUFPZ0UsRUFBUyxJQVF0QixZQUFFNEQsV0FBQSxTQUFXNUgsR0FDWCxNQUF3QmpLLEtBQUt3RixRQUFReUgsVUFBVWhELEdBQXhDMkIsRUFBQSxFQUFBQSxNQUFPcUMsRUFBQSxFQUFBQSxPQUNaLE1BQU8sQ0FBQ3BELEtBQU03SyxLQUFLd0YsUUFBUXlHLFdBQVdMLEdBQVFBLFFBQU9xQyxXQU96RCxZQUFFNkQsWUFBQSxTQUFZN0gsR0FDVixHQUFXLEdBQVBBLEVBQVUsTUFBTyxDQUFDWSxLQUFNLEtBQU1lLE1BQU8sRUFBR3FDLE9BQVEsR0FDdEQsTUFBd0JqTyxLQUFLd0YsUUFBUXlILFVBQVVoRCxHQUF4QzJCLEVBQUEsRUFBQUEsTUFBT3FDLEVBQUEsRUFBQUEsT0FDZCxHQUFNQSxFQUFTaEUsRUFBSyxNQUFPLENBQUNZLEtBQU03SyxLQUFLd0YsUUFBUTBFLE1BQU0wQixHQUFRQSxRQUFPcUMsVUFDbEVyRSxJQUFJaUIsRUFBTzdLLEtBQUt3RixRQUFRMEUsTUFBTTBCLEVBQVEsR0FDdEMsTUFBTyxDQUFDZixPQUFNZSxNQUFPQSxFQUFRLEVBQUdxQyxPQUFRQSxFQUFTcEQsRUFBS2hCLFdBTTFELFlBQUUwRyxRQUFBLFNBQVF0RyxHQUFPLE9BQU9vRSxFQUFZb0MsY0FBY3pRLEtBQU1pSyxJQUV4RCxZQUFFOEgsZUFBQSxTQUFlOUgsR0FBTyxPQUFPb0UsRUFBWWtDLFFBQVF2USxLQUFNaUssSUFLekQsWUFBRStILGFBQUEsU0FBYWxMLEVBQU1pRCxFQUFJMUcsR0FDckJ1RyxJQUFJckIsR0FBUSxFQUtaLE9BSkl3QixFQUFLakQsR0FBTTlHLEtBQUs4SixhQUFhaEQsRUFBTWlELEdBQUksU0FBQWMsR0FFM0MsT0FETXhILEVBQUtxTSxRQUFRN0UsRUFBS3NFLFNBQVE1RyxHQUFRLElBQzlCQSxLQUVIQSxHQUtYNkYsRUFBTXBELFFBQUEsZUFBWSxPQUFPaEwsS0FBS3FELEtBQUsySCxTQUtuQ29ELEVBQU02RCxZQUFBLGVBQWdCLE9BQU9qUyxLQUFLcUQsS0FBSzRPLGFBSXZDN0QsRUFBTStCLGNBQUEsZUFBa0IsT0FBT25RLEtBQUtxRCxLQUFLOE0sZUFLekMvQixFQUFNMEIsU0FBQSxlQUFhLE9BQU85UCxLQUFLcUQsS0FBS3lNLFVBSXBDMUIsRUFBTXRELE9BQUEsZUFBVyxPQUFPOUssS0FBS3FELEtBQUt5SCxRQUlsQ3NELEVBQU1yRCxPQUFBLGVBQVcsT0FBTy9LLEtBQUtxRCxLQUFLMEgsUUFRbENxRCxFQUFNOEQsT0FBQSxlQUFXLE9BQU9sUyxLQUFLcUQsS0FBSzZPLFFBS2xDLFlBQUV0TSxTQUFBLFdBQ0UsR0FBSTVGLEtBQUtxRCxLQUFLbU0sS0FBSzJDLGNBQWUsT0FBT25TLEtBQUtxRCxLQUFLbU0sS0FBSzJDLGNBQWNuUyxNQUN4RSxJQUFNNUIsRUFBTzRCLEtBQUtxRCxLQUFLakYsS0FHdkIsT0FGTTRCLEtBQUt3RixRQUFROEQsT0FDZmxMLEdBQVEsSUFBTTRCLEtBQUt3RixRQUFRNkgsZ0JBQWtCLEtBQ3hDK0UsRUFBVXBTLEtBQUttUCxNQUFPL1EsSUFLakMsWUFBRWlVLGVBQUEsU0FBZXpHLEdBQ2JoQyxJQUFJMEksRUFBUXRTLEtBQUtxRCxLQUFLa1AsYUFBYUMsY0FBY3hTLEtBQUt3RixRQUFTLEVBQUdvRyxHQUNwRSxJQUFPMEcsRUFBTyxNQUFNLElBQUlHLE1BQU0sd0RBQzVCLE9BQU9ILEdBU1gsWUFBRUksV0FBQSxTQUFXNUwsRUFBTWlELEVBQUk0SSxFQUE4QnZJLEVBQVdELFEsVUFBM0JSLEVBQVMrQixZLFVBQWUsUSxVQUFTaUgsRUFBWTVHLFlBQzlFbkMsSUFBSWdKLEVBQU01UyxLQUFLcVMsZUFBZXZMLEdBQU0wTCxjQUFjRyxFQUFhdkksRUFBT0QsR0FDbEUwSSxFQUFNRCxHQUFPQSxFQUFJSixjQUFjeFMsS0FBS3dGLFFBQVN1RSxHQUNuRCxJQUFPOEksSUFBUUEsRUFBSUMsU0FBVSxPQUFPLEVBQ2xDLElBQUtsSixJQUFJL0wsRUFBSXVNLEVBQU92TSxFQUFJc00sRUFBS3RNLElBQUssSUFBS21DLEtBQUtxRCxLQUFLMFAsWUFBWUosRUFBWXpJLE1BQU1yTSxHQUFHc1IsT0FBUSxPQUFPLEVBQ2pHLE9BQU8sR0FNWCxZQUFFNkQsZUFBQSxTQUFlbE0sRUFBTWlELEVBQUkxRyxFQUFNOEwsR0FDN0IsR0FBSUEsSUFBVW5QLEtBQUtxRCxLQUFLMFAsWUFBWTVELEdBQVEsT0FBTyxFQUNuRHZGLElBQUlRLEVBQVFwSyxLQUFLcVMsZUFBZXZMLEdBQU1tTSxVQUFVNVAsR0FDNUM4RyxFQUFNQyxHQUFTQSxFQUFNb0ksY0FBY3hTLEtBQUt3RixRQUFTdUUsR0FDckQsUUFBT0ksR0FBTUEsRUFBSTJJLFVBUXJCLFlBQUVJLFVBQUEsU0FBVWpJLEdBQ1YsT0FBTUEsRUFBTXpGLFFBQVE4RCxLQUFhdEosS0FBSzBTLFdBQVcxUyxLQUFLK0wsV0FBWS9MLEtBQUsrTCxXQUFZZCxFQUFNekYsU0FDM0V4RixLQUFLcUQsS0FBSzhQLGtCQUFrQmxJLEVBQU01SCxPQU1sRCxZQUFFK1AsTUFBQSxXQUNBLElBQU9wVCxLQUFLcUQsS0FBS2dRLGFBQWFyVCxLQUFLd0YsU0FDL0IsTUFBTSxJQUFJd0csV0FBVSw0QkFBNkJoTSxLQUFLcUQsS0FBUyxVQUFLckQsS0FBS3dGLFFBQVFJLFdBQVdvQixNQUFNLEVBQUcsS0FDdkdoSCxLQUFLd0YsUUFBUTJELFNBQVEsU0FBQTBCLEdBQUssT0FBR0EsRUFBS3VJLFlBS3RDLFlBQUU3RixPQUFBLFdBQ0UzRCxJQUFJMEosRUFBTSxDQUFDalEsS0FBTXJELEtBQUtxRCxLQUFLakYsTUFDN0IsSUFBT3dMLElBQUkySixLQUFLdlQsS0FBSytOLE1BQU8sQ0FDeEJ1RixFQUFJdkYsTUFBUS9OLEtBQUsrTixNQUNqQixNQU1GLE9BSkkvTixLQUFLd0YsUUFBUThELE9BQ2ZnSyxFQUFJOU4sUUFBVXhGLEtBQUt3RixRQUFRK0gsVUFDekJ2TixLQUFLbVAsTUFBTXhNLFNBQ2IyUSxFQUFJbkUsTUFBUW5QLEtBQUttUCxNQUFNN0ssS0FBSSxTQUFBaEYsR0FBRSxPQUFHQSxFQUFFaU8sYUFDN0IrRixHQUtULEVBQU85RixTQUFBLFNBQVNDLEVBQVErRixHQUN4QixJQUFPQSxFQUFNLE1BQU0sSUFBSXhILFdBQVcsbUNBQ2hDcEMsSUFBSXVGLEVBQVEsS0FDWixHQUFJcUUsRUFBS3JFLE1BQU8sQ0FDZCxJQUFLMUwsTUFBTUMsUUFBUThQLEVBQUtyRSxPQUFRLE1BQU0sSUFBSW5ELFdBQVcsdUNBQ3ZELEVBQVV3SCxFQUFLckUsTUFBTTdLLElBQUltSixFQUFPZ0csY0FFaEMsR0FBaUIsUUFBYkQsRUFBS25RLEtBQWdCLENBQ3ZCLEdBQXdCLGlCQUFibVEsRUFBSzdJLEtBQWtCLE1BQU0sSUFBSXFCLFdBQVcsNkJBQ3pELE9BQVN5QixFQUFPOUMsS0FBSzZJLEVBQUs3SSxLQUFNd0UsR0FFaEN2RixJQUFJcEUsRUFBVW1FLEVBQVM2RCxTQUFTQyxFQUFRK0YsRUFBS2hPLFNBQzdDLE9BQU9pSSxFQUFPaUcsU0FBU0YsRUFBS25RLE1BQU1sRSxPQUFPcVUsRUFBS3pGLE1BQU92SSxFQUFTMkosSSx1Q0FJM0QsSUFBTXdFLEVBQVEsWUFDbkIsV0FBWXRRLEVBQU0wSyxFQUFPdkksRUFBUzJKLEdBR2hDLEdBRkF5RSxPQUFNLEtBQUF2USxFQUFNMEssRUFBTyxLQUFNb0IsSUFFcEIzSixFQUFTLE1BQU0sSUFBSXdHLFdBQVcsb0NBRW5DaE0sS0FBSzJLLEtBQU9uRixFLDJLQUdkSSxTQUFBLFdBQ0UsT0FBSTVGLEtBQUtxRCxLQUFLbU0sS0FBSzJDLGNBQXNCblMsS0FBS3FELEtBQUttTSxLQUFLMkMsY0FBY25TLE1BQy9Eb1MsRUFBVXBTLEtBQUttUCxNQUFPOU4sS0FBSzZCLFVBQVVsRCxLQUFLMkssUUFHbkQsRUFBSTBHLFlBQUEsZUFBZ0IsT0FBT3JSLEtBQUsySyxNLFlBRWhDSCxZQUFBLFNBQVkxRCxFQUFNaUQsR0FBTSxPQUFPL0osS0FBSzJLLEtBQUszRCxNQUFNRixFQUFNaUQsSUFFckQsRUFBSUYsU0FBQSxlQUFhLE9BQU83SixLQUFLMkssS0FBS2hJLFEsWUFFbEM4TyxLQUFBLFNBQUt0QyxHQUNILE9BQU9BLEdBQVNuUCxLQUFLbVAsTUFBUW5QLEtBQU8sSUFBSTJULEVBQVMzVCxLQUFLcUQsS0FBTXJELEtBQUsrTixNQUFPL04sS0FBSzJLLEtBQU13RSxJLFlBR3JGNUQsU0FBQSxTQUFTWixHQUNQLE9BQUlBLEdBQVEzSyxLQUFLMkssS0FBYTNLLEtBQ3ZCLElBQUkyVCxFQUFTM1QsS0FBS3FELEtBQU1yRCxLQUFLK04sTUFBT3BELEVBQU0zSyxLQUFLbVAsUSxZQUd4RDNELElBQUEsU0FBSTFFLEVBQVVpRCxHQUNaLFksVUFEUyxRLFVBQVEvSixLQUFLMkssS0FBS2hJLFFBQ2YsR0FBUm1FLEdBQWFpRCxHQUFNL0osS0FBSzJLLEtBQUtoSSxPQUFlM0MsS0FDekNBLEtBQUt1TCxTQUFTdkwsS0FBSzJLLEtBQUszRCxNQUFNRixFQUFNaUQsSyxZQUc3QytCLEdBQUEsU0FBR2IsR0FDRCxPQUFPakwsS0FBS3NMLFdBQVdMLElBQVVqTCxLQUFLMkssTUFBUU0sRUFBTU4sTSxZQUd0RDRDLE9BQUEsV0FDRTNELElBQUlpSyxFQUFPRCxZQUFNckcsT0FBQSxLQUFPLE1BRXhCLE9BREFzRyxFQUFLbEosS0FBTzNLLEtBQUsySyxLQUNWa0osRyx5Q0F6Q1UsQ0FBUzFDLEdBNkM5QixTQUFTaUIsRUFBVWpELEVBQU9tQixHQUN4QixJQUFLMUcsSUFBSS9MLEVBQUlzUixFQUFNeE0sT0FBUyxFQUFHOUUsR0FBSyxFQUFHQSxJQUNyQ3lTLEVBQU1uQixFQUFNdFIsR0FBR3dGLEtBQUtqRixLQUFPLElBQU1rUyxFQUFNLElBQ3pDLE9BQU9BLEVDdlpULElBQWF3RCxFQUNYLFNBQVloQixHQUdWOVMsS0FBSzhTLFNBQVdBLEVBQ2hCOVMsS0FBSytQLEtBQU8sR0FDWi9QLEtBQUsrVCxVQUFZLEksOEZBR25CLEVBQU96UyxNQUFBLFNBQU0wUyxFQUFRQyxHQUNyQixJQUFNQyxFQUFTLElBQUlDLEVBQVlILEVBQVFDLEdBQ3ZDLEdBQXFCLE1BQWZDLEVBQU9uRSxLQUFjLE9BQU8rRCxFQUFhcEksTUFDN0M5QixJQUFJd0ssRUFBT0MsRUFBVUgsR0FDakJBLEVBQU9uRSxNQUFNbUUsRUFBT0ksSUFBSSw0QkFDOUIsSUFBTWhDLEVBNFVSLFNBQWFpQyxHQUNYM0ssSUFBSTRLLEVBQVVqVyxPQUFPWSxPQUFPLE1BQzVCLE9BRUEsU0FBU3NWLEVBQVFDLEdBQ2Y5SyxJQUFJK0ssRUFBTSxHQUNWRCxFQUFPdkwsU0FBUSxTQUFBMEIsR0FDYjBKLEVBQUkxSixHQUFNMUIsU0FBUSxTQUFDLEcsb0JBQ2pCLEdBQUt5TCxFQUFMLENBQ0FoTCxJQUFJaUwsRUFBUUYsRUFBSUcsUUFBUUYsR0FBT0csRUFBTUYsR0FBUyxHQUFLRixFQUFJRSxFQUFRLEdBQy9ERyxFQUFTVCxFQUFLeEssR0FBSVosU0FBUSxTQUFBMEIsR0FDbkJrSyxHQUFLSixFQUFJeFIsS0FBS3lSLEVBQU1HLEVBQU0sS0FDTCxHQUF0QkEsRUFBSUQsUUFBUWpLLElBQWFrSyxFQUFJNVIsS0FBSzBILGFBSzVDLElBREFqQixJQUFJcUwsRUFBUVQsRUFBUUUsRUFBT3BILEtBQUssTUFBUSxJQUFJd0csRUFBYVksRUFBT0ksUUFBUVAsRUFBSTVSLE9BQVMsSUFBTSxHQUNsRjlFLEVBQUksRUFBR0EsRUFBSThXLEVBQUloUyxPQUFROUUsR0FBSyxFQUFHLENBQ3RDK0wsSUFBSThLLEVBQVNDLEVBQUk5VyxFQUFJLEdBQUc4SCxLQUFLdVAsR0FDN0JELEVBQU1sRixLQUFLNU0sS0FBS3dSLEVBQUk5VyxHQUFJMlcsRUFBUUUsRUFBT3BILEtBQUssT0FBU21ILEVBQVFDLElBRS9ELE9BQU9PLEVBbkJGUixDQUFRTyxFQUFTVCxFQUFLLElBOVVmWSxDQXlQaEIsU0FBYWYsR0FDWHhLLElBQUkySyxFQUFNLENBQUMsSUFFWCxPQURBYSxFQVdBLFNBQVNDLEVBQVFqQixFQUFNdE4sR0FDckIsR0FBaUIsVUFBYnNOLEVBQUsvUSxLQUNQLE9BQU8rUSxFQUFLa0IsTUFBTUMsUUFBTyxTQUFDWixFQUFLUCxHQUFNLE9BQUdPLEVBQUl4UCxPQUFPa1EsRUFBUWpCLEVBQU10TixNQUFRLElBQ3BFLEdBQWlCLE9BQWJzTixFQUFLL1EsS0FDZCxJQUFLdUcsSUFBSS9MLEVBQUksR0FBSUEsSUFBSyxDQUNwQitMLElBQUltRyxFQUFPc0YsRUFBUWpCLEVBQUtrQixNQUFNelgsR0FBSWlKLEdBQ2xDLEdBQUlqSixHQUFLdVcsRUFBS2tCLE1BQU0zUyxPQUFTLEVBQUcsT0FBT29OLEVBQ3ZDcUYsRUFBUXJGLEVBQU1qSixFQUFPK0QsU0FFbEIsSUFBaUIsUUFBYnVKLEVBQUsvUSxLQUFnQixDQUM5QnVHLElBQUk0TCxFQUFPM0ssSUFHWCxPQUZBNEssRUFBSzNPLEVBQU0wTyxHQUNYSixFQUFRQyxFQUFRakIsRUFBS0EsS0FBTW9CLEdBQU9BLEdBQzNCLENBQUNDLEVBQUtELElBQ1IsR0FBaUIsUUFBYnBCLEVBQUsvUSxLQUFnQixDQUM5QnVHLElBQUk0TCxFQUFPM0ssSUFHWCxPQUZBdUssRUFBUUMsRUFBUWpCLEVBQUtBLEtBQU10TixHQUFPME8sR0FDbENKLEVBQVFDLEVBQVFqQixFQUFLQSxLQUFNb0IsR0FBT0EsR0FDM0IsQ0FBQ0MsRUFBS0QsSUFDUixHQUFpQixPQUFicEIsRUFBSy9RLEtBQ2QsTUFBTyxDQUFDb1MsRUFBSzNPLElBQU8zQixPQUFPa1EsRUFBUWpCLEVBQUtBLEtBQU10TixJQUN6QyxHQUFpQixTQUFic04sRUFBSy9RLEtBQWlCLENBRS9CLElBREF1RyxJQUFJOEwsRUFBTTVPLEVBQ0RqSixFQUFJLEVBQUdBLEVBQUl1VyxFQUFLOUosSUFBS3pNLElBQUssQ0FDakMrTCxJQUFJbUcsRUFBT2xGLElBQ1h1SyxFQUFRQyxFQUFRakIsRUFBS0EsS0FBTXNCLEdBQU0zRixHQUNqQzJGLEVBQU0zRixFQUVSLElBQWlCLEdBQWJxRSxFQUFLL0osSUFDUCtLLEVBQVFDLEVBQVFqQixFQUFLQSxLQUFNc0IsR0FBTUEsUUFFakMsSUFBSzlMLElBQUkvTCxFQUFJdVcsRUFBSzlKLElBQUt6TSxFQUFJdVcsRUFBSy9KLElBQUt4TSxJQUFLLENBQ3hDK0wsSUFBSW1HLEVBQU9sRixJQUNYNEssRUFBS0MsRUFBSzNGLEdBQ1ZxRixFQUFRQyxFQUFRakIsRUFBS0EsS0FBTXNCLEdBQU0zRixHQUNqQzJGLEVBQU0zRixFQUdWLE1BQU8sQ0FBQzBGLEVBQUtDLElBQ1IsR0FBaUIsUUFBYnRCLEVBQUsvUSxLQUNkLE1BQU8sQ0FBQ29TLEVBQUszTyxFQUFNLEtBQU1zTixFQUFLdFYsU0FuRDFCdVcsQ0FBUWpCLEVBQU0sR0FBSXZKLEtBQ25CMEosRUFFUCxTQUFTMUosSUFBUyxPQUFPMEosRUFBSXBSLEtBQUssSUFBTSxFQUN4QyxTQUFTc1MsRUFBSzNPLEVBQU1pRCxFQUFJNkssR0FDdEJoTCxJQUFJNkwsRUFBTyxDQUFDYixPQUFNN0ssTUFFbEIsT0FEQXdLLEVBQUl6TixHQUFNM0QsS0FBS3NTLEdBQ1JBLEVBRVQsU0FBU0wsRUFBUU8sRUFBTzVMLEdBQU00TCxFQUFNeE0sU0FBUSxTQUFBc00sR0FBSyxPQUFHQSxFQUFLMUwsR0FBS0EsTUFwUTVDd0ssQ0FBSUgsSUFFcEIsT0FtV0osU0FBMEI5QixFQUFPNEIsR0FDL0IsSUFBS3RLLElBQUkvTCxFQUFJLEVBQUcrWCxFQUFPLENBQUN0RCxHQUFRelUsRUFBSStYLEVBQUtqVCxPQUFROUUsSUFBSyxDQUVwRCxJQURBK0wsSUFBSXFMLEVBQVFXLEVBQUsvWCxHQUFJZ1ksR0FBUVosRUFBTW5DLFNBQVVoRixFQUFRLEdBQzVDdkIsRUFBSSxFQUFHQSxFQUFJMEksRUFBTWxGLEtBQUtwTixPQUFRNEosR0FBSyxFQUFHLENBQzdDM0MsSUFBSWlCLEVBQU9vSyxFQUFNbEYsS0FBS3hELEdBQUl3RCxFQUFPa0YsRUFBTWxGLEtBQUt4RCxFQUFJLEdBQ2hEdUIsRUFBTTNLLEtBQUswSCxFQUFLek0sT0FDWnlYLEdBQVVoTCxFQUFLQyxRQUFVRCxFQUFLaUwscUJBQXFCRCxHQUFPLElBQ25DLEdBQXZCRCxFQUFLZCxRQUFRL0UsSUFBYTZGLEVBQUt6UyxLQUFLNE0sR0FFdEM4RixHQUFNM0IsRUFBT0ksSUFBSSwrQkFBaUN4RyxFQUFNUixLQUFLLE1BQVEsNkJBN1d6RXlJLENBQWlCekQsRUFBTzRCLEdBQ2pCNUIsR0FNWCxZQUFFVyxVQUFBLFNBQVU1UCxHQUNSLElBQUt1RyxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJbUMsS0FBSytQLEtBQUtwTixPQUFROUUsR0FBSyxFQUN6QyxHQUFJbUMsS0FBSytQLEtBQUtsUyxJQUFNd0YsRUFBTSxPQUFPckQsS0FBSytQLEtBQUtsUyxFQUFJLEdBQ2pELE9BQU8sTUFNWCxZQUFFMlUsY0FBQSxTQUFjd0QsRUFBTTVMLEVBQVdELFEsVUFBSCxRLFVBQVM2TCxFQUFLakssWUFFeEMsSUFEQW5DLElBQUk4TCxFQUFNMVYsS0FDRG5DLEVBQUl1TSxFQUFPc0wsR0FBTzdYLEVBQUlzTSxFQUFLdE0sSUFDbEM2WCxFQUFNQSxFQUFJekMsVUFBVStDLEVBQUs5TCxNQUFNck0sR0FBR3dGLE1BQ3BDLE9BQU9xUyxHQUdYdEgsRUFBTStCLGNBQUEsZUFDSixJQUFNL0UsRUFBUXBMLEtBQUsrUCxLQUFLLEdBQ3RCLFFBQU8zRSxHQUFRQSxFQUFNMEUsVUFNekIxQixFQUFNNkgsWUFBQSxlQUNGLElBQUtyTSxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJbUMsS0FBSytQLEtBQUtwTixPQUFROUUsR0FBSyxFQUFHLENBQzlDLElBQU13RixFQUFPckQsS0FBSytQLEtBQUtsUyxHQUNyQixJQUFNd0YsRUFBS3lILFNBQVV6SCxFQUFLeVMsbUJBQXFCLE9BQU96UyxJQUk1RCxZQUFFNlMsV0FBQSxTQUFXakwsR0FDVCxJQUFLckIsSUFBSS9MLEVBQUksRUFBR0EsRUFBSW1DLEtBQUsrUCxLQUFLcE4sT0FBUTlFLEdBQUssRUFDekMsSUFBSytMLElBQUkyQyxFQUFJLEVBQUdBLEVBQUl0QixFQUFNOEUsS0FBS3BOLE9BQVE0SixHQUFLLEVBQzFDLEdBQUl2TSxLQUFLK1AsS0FBS2xTLElBQU1vTixFQUFNOEUsS0FBS3hELEdBQUksT0FBTyxFQUM5QyxPQUFPLEdBVVgsWUFBRTRKLFdBQUEsU0FBV3BILEVBQU9xSCxFQUFlcEYsUSxXQUFQLFEsVUFBb0IsR0FDNUNwSCxJQUFJeU0sRUFBTyxDQUFDclcsTUFnQlosT0FmQSxTQUFTc1csRUFBT2hFLEVBQU9pRSxHQUN2QixJQUFNQyxFQUFXbEUsRUFBTUUsY0FBY3pELEVBQU9pQyxHQUM1QyxHQUFNd0YsS0FBY0osR0FBU0ksRUFBUzFELFVBQ2xDLE9BQU9uSixFQUFTN0MsS0FBS3lQLEVBQU1qUyxLQUFJLFNBQUFtUyxHQUFHLE9BQUdBLEVBQUdDLG9CQUUxQyxJQUFLOU0sSUFBSS9MLEVBQUksRUFBR0EsRUFBSXlVLEVBQU12QyxLQUFLcE4sT0FBUTlFLEdBQUssRUFBRyxDQUMvQyxJQUFNd0YsRUFBT2lQLEVBQU12QyxLQUFLbFMsR0FBSWtTLEVBQU91QyxFQUFNdkMsS0FBS2xTLEVBQUksR0FDbEQsSUFBUXdGLEVBQUt5SCxTQUFVekgsRUFBS3lTLHFCQUE4QyxHQUF2Qk8sRUFBS3ZCLFFBQVEvRSxHQUFhLENBQ3pFc0csRUFBS2xULEtBQUs0TSxHQUNWbkcsSUFBSXJCLEVBQVErTixFQUFPdkcsRUFBTXdHLEVBQU1wUixPQUFPOUIsSUFDdEMsR0FBSWtGLEVBQU8sT0FBT0EsSUFLakIrTixDQUFPdFcsS0FBTSxLQVF4QixZQUFFMlcsYUFBQSxTQUFhQyxHQUNYLElBQUtoTixJQUFJL0wsRUFBSSxFQUFHQSxFQUFJbUMsS0FBSytULFVBQVVwUixPQUFROUUsR0FBSyxFQUM5QyxHQUFJbUMsS0FBSytULFVBQVVsVyxJQUFNK1ksRUFBUSxPQUFPNVcsS0FBSytULFVBQVVsVyxFQUFJLEdBQy9ELElBQU1nWixFQUFXN1csS0FBSzhXLGdCQUFnQkYsR0FFcEMsT0FERixLQUFPN0MsVUFBVTVRLEtBQUt5VCxFQUFRQyxHQUNyQkEsR0FHWCxZQUFFQyxnQkFBQSxTQUFnQkYsR0FFZCxJQURGLElBQU1QLEVBQU85WCxPQUFPWSxPQUFPLE1BQU80WCxFQUFTLENBQUMsQ0FBQ3pFLE1BQU90UyxLQUFNcUQsS0FBTSxLQUFNMlQsSUFBSyxPQUNsRUQsRUFBT3BVLFFBQVEsQ0FDcEJpSCxJQUFJaUMsRUFBVWtMLEVBQU9FLFFBQVMzRSxFQUFRekcsRUFBUXlHLE1BQzlDLEdBQUlBLEVBQU1XLFVBQVUyRCxHQUFTLENBRTNCLElBREFoTixJQUFJSCxFQUFTLEdBQ0o2SixFQUFNekgsRUFBU3lILEVBQUlqUSxLQUFNaVEsRUFBTUEsRUFBSTBELElBQzFDdk4sRUFBT3RHLEtBQUttUSxFQUFJalEsTUFDbEIsT0FBT29HLEVBQU95TixVQUVoQixJQUFLdE4sSUFBSS9MLEVBQUksRUFBR0EsRUFBSXlVLEVBQU12QyxLQUFLcE4sT0FBUTlFLEdBQUssRUFBRyxDQUMvQyxJQUFNd0YsRUFBT2lQLEVBQU12QyxLQUFLbFMsR0FDakJ3RixFQUFLMEgsUUFBVzFILEVBQUt5UyxvQkFBd0J6UyxFQUFLakYsUUFBUWlZLEdBQVd4SyxFQUFReEksT0FBUWlQLEVBQU12QyxLQUFLbFMsRUFBSSxHQUFHaVYsV0FDMUdpRSxFQUFPNVQsS0FBSyxDQUFDbVAsTUFBT2pQLEVBQUtrUCxhQUFjbFAsT0FBTTJULElBQUtuTCxJQUNsRHdLLEVBQUtoVCxFQUFLakYsT0FBUSxNQVM1QmdRLEVBQU0rSSxVQUFBLGVBQ0YsT0FBT25YLEtBQUsrUCxLQUFLcE4sUUFBVSxHQU0vQixZQUFFOFMsS0FBQSxTQUFLblcsR0FDSHNLLElBQUkvTCxFQUFJeUIsR0FBSyxFQUNiLEdBQUl6QixHQUFLbUMsS0FBSytQLEtBQUtwTixPQUFRLE1BQU0sSUFBSXFKLFdBQVUsY0FBZTFNLEVBQUMsaUNBQ2pFLE1BQVMsQ0FBQytELEtBQU1yRCxLQUFLK1AsS0FBS2xTLEdBQUlrUyxLQUFNL1AsS0FBSytQLEtBQUtsUyxFQUFJLEtBR3BELFlBQUUrSCxTQUFBLFdBQ0VnRSxJQUFJeU0sRUFBTyxHQU9iLE9BTkUsU0FBU2UsRUFBS25aLEdBQ1pvWSxFQUFLbFQsS0FBS2xGLEdBQ1YsSUFBSzJMLElBQUkvTCxFQUFJLEVBQUdBLEVBQUlJLEVBQUU4UixLQUFLcE4sT0FBUTlFLEdBQUssR0FDTixHQUE1QndZLEVBQUt2QixRQUFRN1csRUFBRThSLEtBQUtsUyxLQUFXdVosRUFBS25aLEVBQUU4UixLQUFLbFMsSUFFckQsQ0FBT21DLE1BQ0VxVyxFQUFLL1IsS0FBSSxTQUFDckcsRUFBR0osR0FFbEIsSUFEQStMLElBQUkrSyxFQUFNOVcsR0FBS0ksRUFBRTZVLFNBQVcsSUFBTSxLQUFPLElBQ2hDalYsRUFBSSxFQUFHQSxFQUFJSSxFQUFFOFIsS0FBS3BOLE9BQVE5RSxHQUFLLEVBQ3RDOFcsSUFBUTlXLEVBQUksS0FBTyxJQUFNSSxFQUFFOFIsS0FBS2xTLEdBQUdPLEtBQU8sS0FBT2lZLEVBQUt2QixRQUFRN1csRUFBRThSLEtBQUtsUyxFQUFJLElBQzNFLE9BQU84VyxLQUNOckgsS0FBSyxPLHVDQUlad0csRUFBYXBJLE1BQVEsSUFBSW9JLEdBQWEsR0FFdEMsSUFBTUssRUFDSixTQUFZSCxFQUFRQyxHQUNsQmpVLEtBQUtnVSxPQUFTQSxFQUNkaFUsS0FBS2lVLFVBQVlBLEVBQ2pCalUsS0FBS3FYLE9BQVMsS0FDZHJYLEtBQUtpSyxJQUFNLEVBQ2IsS0FBT3FOLE9BQVN0RCxFQUFPdUQsTUFBTSxrQkFDZ0IsSUFBdkN2WCxLQUFLc1gsT0FBT3RYLEtBQUtzWCxPQUFPM1UsT0FBUyxJQUFVM0MsS0FBS3NYLE9BQU9FLE1BQ3JDLElBQWxCeFgsS0FBS3NYLE9BQU8sSUFBVXRYLEtBQUtzWCxPQUFPRyxXLDJCQVUxQyxTQUFTcEQsRUFBVUgsR0FDakJ0SyxJQUFJMEwsRUFBUSxHQUNaLEdBQUtBLEVBQU1uUyxLQUFLdVUsRUFBYXhELFVBQ3RCQSxFQUFPeUQsSUFBSSxNQUNsQixPQUF1QixHQUFoQnJDLEVBQU0zUyxPQUFjMlMsRUFBTSxHQUFLLENBQUNqUyxLQUFNLFNBQVVpUyxTQUd6RCxTQUFTb0MsRUFBYXhELEdBQ3BCdEssSUFBSTBMLEVBQVEsR0FDWixHQUFLQSxFQUFNblMsS0FBS3lVLEVBQW1CMUQsVUFDNUJBLEVBQU9uRSxNQUF1QixLQUFmbUUsRUFBT25FLE1BQThCLEtBQWZtRSxFQUFPbkUsTUFDbkQsT0FBdUIsR0FBaEJ1RixFQUFNM1MsT0FBYzJTLEVBQU0sR0FBSyxDQUFDalMsS0FBTSxNQUFPaVMsU0FHdEQsU0FBU3NDLEVBQW1CMUQsR0FFMUIsSUFEQXRLLElBQUl3SyxFQTRDTixTQUF1QkYsR0FDckIsR0FBSUEsRUFBT3lELElBQUksS0FBTSxDQUNuQi9OLElBQUl3SyxFQUFPQyxFQUFVSCxHQUVyQixPQURLQSxFQUFPeUQsSUFBSSxNQUFNekQsRUFBT0ksSUFBSSx5QkFDMUJGLEVBQ0YsSUFBSyxLQUFLeUQsS0FBSzNELEVBQU9uRSxNQUFPLENBQ2xDbkcsSUFBSTBMLEVBbEJSLFNBQXFCcEIsRUFBUTlWLEdBQzNCd0wsSUFBSTJNLEVBQVFyQyxFQUFPRCxVQUFXNVEsRUFBT2tULEVBQU1uWSxHQUMzQyxHQUFJaUYsRUFBTSxNQUFPLENBQUNBLEdBQ2xCdUcsSUFBSUgsRUFBUyxHQUNiLElBQUtHLElBQUlrTyxLQUFZdkIsRUFBTyxDQUMxQjNNLElBQUl2RyxFQUFPa1QsRUFBTXVCLEdBQ2J6VSxFQUFLMFUsT0FBT2pELFFBQVExVyxJQUFTLEdBQUdxTCxFQUFPdEcsS0FBS0UsR0FFN0IsR0FBakJvRyxFQUFPOUcsUUFBYXVSLEVBQU9JLElBQUksMEJBQTRCbFcsRUFBTyxXQUN0RSxPQUFPcUwsRUFTT3VPLENBQVk5RCxFQUFRQSxFQUFPbkUsTUFBTXpMLEtBQUksU0FBQWpCLEdBRy9DLE9BRnFCLE1BQWpCNlEsRUFBT21ELE9BQWdCbkQsRUFBT21ELE9BQVNoVSxFQUFLeU0sU0FDdkNvRSxFQUFPbUQsUUFBVWhVLEVBQUt5TSxVQUFVb0UsRUFBT0ksSUFBSSxtQ0FDN0MsQ0FBQ2pSLEtBQU0sT0FBUXZFLE1BQU91RSxNQUcvQixPQURBNlEsRUFBT2pLLE1BQ2dCLEdBQWhCcUwsRUFBTTNTLE9BQWMyUyxFQUFNLEdBQUssQ0FBQ2pTLEtBQU0sU0FBVWlTLFNBRXZEcEIsRUFBT0ksSUFBSSxxQkFBdUJKLEVBQU9uRSxLQUFPLEtBMUR2Q2tJLENBQWMvRCxLQUV2QixHQUFJQSxFQUFPeUQsSUFBSSxLQUNidkQsRUFBTyxDQUFDL1EsS0FBTSxPQUFRK1EsYUFDbkIsR0FBSUYsRUFBT3lELElBQUksS0FDbEJ2RCxFQUFPLENBQUMvUSxLQUFNLE9BQVErUSxhQUNuQixHQUFJRixFQUFPeUQsSUFBSSxLQUNsQnZELEVBQU8sQ0FBQy9RLEtBQU0sTUFBTytRLFlBQ2xCLEtBQUlGLEVBQU95RCxJQUFJLEtBRWYsTUFESHZELEVBQU84RCxFQUFlaEUsRUFBUUUsR0FHbEMsT0FBT0EsRUFHVCxTQUFTK0QsRUFBU2pFLEdBQ1osS0FBSzJELEtBQUszRCxFQUFPbkUsT0FBT21FLEVBQU9JLElBQUkseUJBQTJCSixFQUFPbkUsS0FBTyxLQUNoRm5HLElBQUlILEVBQVMyTyxPQUFPbEUsRUFBT25FLE1BRTNCLE9BREFtRSxFQUFPakssTUFDQVIsRUFHVCxTQUFTeU8sRUFBZWhFLEVBQVFFLEdBQzlCeEssSUFBSVUsRUFBTTZOLEVBQVNqRSxHQUFTN0osRUFBTUMsRUFNbEMsT0FMSTRKLEVBQU95RCxJQUFJLE9BQ1d0TixFQUFMLEtBQWY2SixFQUFPbkUsS0FBbUJvSSxFQUFTakUsSUFDM0IsR0FFVEEsRUFBT3lELElBQUksTUFBTXpELEVBQU9JLElBQUkseUJBQzFCLENBQUNqUixLQUFNLFFBQVNpSCxNQUFLRCxNQUFLK0osUUF3R25DLFNBQVNjLEVBQUkvSSxFQUFHQyxHQUFLLE9BQU9BLEVBQUlELEVBS2hDLFNBQVM2SSxFQUFTVCxFQUFLMUosR0FDckJqQixJQUFJSCxFQUFTLEdBRWIsT0FFQSxTQUFTMk4sRUFBS3ZNLEdBQ1pqQixJQUFJK0wsRUFBUXBCLEVBQUkxSixHQUNoQixHQUFvQixHQUFoQjhLLEVBQU1oVCxTQUFnQmdULEVBQU0sR0FBR2YsS0FBTSxPQUFPd0MsRUFBS3pCLEVBQU0sR0FBRzVMLElBQzlETixFQUFPdEcsS0FBSzBILEdBQ1osSUFBS2pCLElBQUkvTCxFQUFJLEVBQUdBLEVBQUk4WCxFQUFNaFQsT0FBUTlFLElBQUssQ0FDckMsTUFBaUI4WCxFQUFNOVgsR0FBbEIrVyxFQUFBLEVBQUFBLEtBQU03SyxFQUFBLEVBQUFBLEdBQ042SyxJQUErQixHQUF2Qm5MLEVBQU9xTCxRQUFRL0ssSUFBV3FOLEVBQUtyTixJQVRoRHFOLENBQUt2TSxHQUNFcEIsRUFBTzlELEtBQUt1UCxHQ3BVckIsU0FBUzNELEVBQWF4RCxHQUNwQm5FLElBQUl5TyxFQUFXOVosT0FBT1ksT0FBTyxNQUM3QixJQUFLeUssSUFBSTBPLEtBQVl2SyxFQUFPLENBQzFCbkUsSUFBSTJPLEVBQU94SyxFQUFNdUssR0FDakIsSUFBS0MsRUFBS0MsV0FBWSxPQUFPLEtBQzdCSCxFQUFTQyxHQUFZQyxFQUFLRSxRQUU1QixPQUFPSixFQUdULFNBQVNLLEVBQWEzSyxFQUFPalAsR0FDM0I4SyxJQUFJK08sRUFBUXBhLE9BQU9ZLE9BQU8sTUFDMUIsSUFBS3lLLElBQUl4TCxLQUFRMlAsRUFBTyxDQUN0Qm5FLElBQUlnUCxFQUFROVosR0FBU0EsRUFBTVYsR0FDM0IsUUFBY29LLElBQVZvUSxFQUFxQixDQUN2QmhQLElBQUkyTyxFQUFPeEssRUFBTTNQLEdBQ2pCLElBQUltYSxFQUFLQyxXQUNKLE1BQU0sSUFBSXhNLFdBQVcsbUNBQXFDNU4sR0FEMUN3YSxFQUFRTCxFQUFLRSxRQUdwQ0UsRUFBTXZhLEdBQVF3YSxFQUVoQixPQUFPRCxFQUdULFNBQVNFLEVBQVU5SyxHQUNqQm5FLElBQUlILEVBQVNsTCxPQUFPWSxPQUFPLE1BQzNCLEdBQUk0TyxFQUFPLElBQUtuRSxJQUFJeEwsS0FBUTJQLEVBQU90RSxFQUFPckwsR0FBUSxJQUFJMGEsRUFBVS9LLEVBQU0zUCxJQUN0RSxPQUFPcUwsRURzSVBzSCxFQUFJaEIsS0FBQSxlQUFTLE9BQU8vUCxLQUFLc1gsT0FBT3RYLEtBQUtpSyxNQUV2QyxZQUFFME4sSUFBQSxTQUFJb0IsR0FBTyxPQUFPL1ksS0FBSytQLE1BQVFnSixJQUFRL1ksS0FBS2lLLFFBQVMsSUFFdkQsWUFBRXFLLElBQUEsU0FBSWhFLEdBQU8sTUFBTSxJQUFJMEksWUFBWTFJLEVBQU0sNEJBQThCdFEsS0FBS2dVLE9BQVMsTyx1Q0NuSXJGLElBQWFpRixFQUNYLFNBQVk3YSxFQUFNcVAsRUFBUStCLEdBR3hCeFAsS0FBSzVCLEtBQU9BLEVBSVo0QixLQUFLeU4sT0FBU0EsRUFJZHpOLEtBQUt3UCxLQUFPQSxFQUVaeFAsS0FBSytYLE9BQVN2SSxFQUFLMEosTUFBUTFKLEVBQUswSixNQUFNM0IsTUFBTSxLQUFPLEdBQ3JELEtBQU94SixNQUFROEssRUFBVXJKLEVBQUt6QixPQUU5QixLQUFPd0QsYUFBZUEsRUFBYXZSLEtBQUsrTixPQUl0Qy9OLEtBQUt1UyxhQUFlLEtBS3BCdlMsS0FBS21aLFFBQVUsS0FJZm5aLEtBQUttUSxjQUFnQixLQUlyQm5RLEtBQUtnTCxVQUFZd0UsRUFBSzZILFFBQWtCLFFBQVJqWixHQUloQzRCLEtBQUs4SyxPQUFpQixRQUFSMU0sRywrR0FLbEJnUSxFQUFNMEIsU0FBQSxlQUFhLE9BQVE5UCxLQUFLZ0wsU0FLOUJvRCxFQUFJNkQsWUFBQSxlQUFnQixPQUFPalMsS0FBS2dMLFNBQVdoTCxLQUFLbVEsZUFJaEQvQixFQUFJckQsT0FBQSxlQUFXLE9BQU8vSyxLQUFLdVMsY0FBZ0J1QixFQUFhcEksT0FLeEQwQyxFQUFJOEQsT0FBQSxlQUFXLE9BQU9sUyxLQUFLK0ssUUFBVS9LLEtBQUt3UCxLQUFLNEosTUFJakQsWUFBRXRELGlCQUFBLFdBQ0EsSUFBT2xNLElBQUl0SyxLQUFLVSxLQUFLK04sTUFBTyxHQUFJL04sS0FBSytOLE1BQU16TyxHQUFHK1osV0FBWSxPQUFPLEVBQy9ELE9BQU8sR0FHWCxZQUFFbEcsa0JBQUEsU0FBa0JsSSxHQUNoQixPQUFPakwsTUFBUWlMLEdBQVNqTCxLQUFLdVMsYUFBYTJELFdBQVdqTCxFQUFNc0gsZUFHL0QsWUFBRW1HLGFBQUEsU0FBYTNLLEdBQ2IsT0FBT0EsR0FBUy9OLEtBQUt1UixhQUFxQnZSLEtBQUt1UixhQUNqQ21ILEVBQWExWSxLQUFLK04sTUFBT0EsSUFVekMsWUFBRTVPLE9BQUEsU0FBTzRPLEVBQU92SSxFQUFTMkosR0FDdkIsR0FBTW5QLEtBQUs4SyxPQUFRLE1BQU0sSUFBSTJILE1BQU0sOENBQ25DLE9BQVMsSUFBSXRCLEVBQUtuUixLQUFNQSxLQUFLMFksYUFBYTNLLEdBQVFwRSxFQUFTN0MsS0FBS3RCLEdBQVU0SixFQUFLa0ssUUFBUW5LLEtBT3pGLFlBQUVvSyxjQUFBLFNBQWN4TCxFQUFPdkksRUFBUzJKLEdBRTVCLEdBREEzSixFQUFVbUUsRUFBUzdDLEtBQUt0QixJQUNuQnhGLEtBQUtxVCxhQUFhN04sR0FDckIsTUFBTSxJQUFJd0csV0FBVyw0QkFBOEJoTSxLQUFLNUIsTUFDNUQsT0FBUyxJQUFJK1MsRUFBS25SLEtBQU1BLEtBQUswWSxhQUFhM0ssR0FBUXZJLEVBQVM0SixFQUFLa0ssUUFBUW5LLEtBVTFFLFlBQUV1SCxjQUFBLFNBQWMzSSxFQUFPdkksRUFBUzJKLEdBRzVCLEdBRkFwQixFQUFRL04sS0FBSzBZLGFBQWEzSyxJQUMxQnZJLEVBQVVtRSxFQUFTN0MsS0FBS3RCLElBQ1o4RCxLQUFNLENBQ2xCLElBQU13RixFQUFTOU8sS0FBS3VTLGFBQWE0RCxXQUFXM1EsR0FDMUMsSUFBS3NKLEVBQVEsT0FBTyxLQUNwQnRKLEVBQVVzSixFQUFPdEYsT0FBT2hFLEdBRTVCLElBQU11SixFQUFRL08sS0FBS3VTLGFBQWFDLGNBQWNoTixHQUFTMlEsV0FBV3hNLEVBQVMrQixPQUFPLEdBQ2hGLE9BQUtxRCxFQUNFLElBQUlvQyxFQUFLblIsS0FBTStOLEVBQU92SSxFQUFRZ0UsT0FBT3VGLEdBQVFLLEVBQUtrSyxRQUFRbkssSUFEOUMsTUFPdkIsWUFBRWtFLGFBQUEsU0FBYTdOLEdBQ2IsSUFBTWlFLEVBQVN6SixLQUFLdVMsYUFBYUMsY0FBY2hOLEdBQy9DLElBQU9pRSxJQUFXQSxFQUFPcUosU0FBVSxPQUFPLEVBQ3hDLElBQUtsSixJQUFJL0wsRUFBSSxFQUFHQSxFQUFJMkgsRUFBUXVHLFdBQVlsTyxJQUN0QyxJQUFLbUMsS0FBSytTLFlBQVl2TixFQUFRMEUsTUFBTXJNLEdBQUdzUixPQUFRLE9BQU8sRUFDeEQsT0FBTyxHQUtYLFlBQUVxSyxlQUFBLFNBQWVDLEdBQ2IsT0FBdUIsTUFBaEJ6WixLQUFLbVosU0FBbUJuWixLQUFLbVosUUFBUXJFLFFBQVEyRSxJQUFhLEdBS3JFLFlBQUUxRyxZQUFBLFNBQVk1RCxHQUNaLEdBQXNCLE1BQWhCblAsS0FBS21aLFFBQWlCLE9BQU8sRUFDakMsSUFBS3ZQLElBQUkvTCxFQUFJLEVBQUdBLEVBQUlzUixFQUFNeE0sT0FBUTlFLElBQUssSUFBS21DLEtBQUt3WixlQUFlckssRUFBTXRSLEdBQUd3RixNQUFPLE9BQU8sRUFDdkYsT0FBTyxHQUtYLFlBQUVxVyxhQUFBLFNBQWF2SyxHQUNiLEdBQXNCLE1BQWhCblAsS0FBS21aLFFBQWlCLE9BQU9oSyxFQUVqQyxJQURGLElBQU05SixFQUNLeEgsRUFBSSxFQUFHQSxFQUFJc1IsRUFBTXhNLE9BQVE5RSxJQUMzQm1DLEtBQUt3WixlQUFlckssRUFBTXRSLEdBQUd3RixNQUV2QmdDLEdBQ1gsRUFBT2xDLEtBQUtnTSxFQUFNdFIsSUFGWHdILElBQU1BLEVBQU84SixFQUFNbkksTUFBTSxFQUFHbkosSUFLckMsT0FBUXdILEVBQWVBLEVBQUsxQyxPQUFTMEMsRUFBTytKLEVBQUsxRCxNQUFsQ3lELEdBR2pCLEVBQU9rRyxRQUFBLFNBQVF2SCxFQUFPTCxHQUN0QixJQUFNaEUsRUFBU2xMLE9BQU9ZLE9BQU8sTUFDN0IsRUFBUWdLLFNBQVEsU0FBQy9LLEVBQU1vUixHQUFNLE9BQUcvRixFQUFPckwsR0FBUSxJQUFJNmEsRUFBUzdhLEVBQU1xUCxFQUFRK0IsTUFFMUUsSUFBTW1LLEVBQVVsTSxFQUFPK0IsS0FBS29LLFNBQVcsTUFDckMsSUFBS25RLEVBQU9rUSxHQUFVLE1BQU0sSUFBSTNOLFdBQVcseUNBQTJDMk4sRUFBVSxNQUNsRyxJQUFPbFEsRUFBT2tCLEtBQU0sTUFBTSxJQUFJcUIsV0FBVyxvQ0FDdkMsSUFBS3BDLElBQUkySixLQUFLOUosRUFBT2tCLEtBQUtvRCxNQUFPLE1BQU0sSUFBSS9CLFdBQVcsaURBRXRELE9BQU92QyxHLHVDQU1YLElBQU1xUCxFQUNKLFNBQVllLEdBQ1Y3WixLQUFLd1ksV0FBYWphLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBSzZiLEVBQVMsV0FDaEU3WixLQUFLeVksUUFBVW9CLEVBQVFwQixTLGlDQUczQjFILEVBQU1zSSxXQUFBLGVBQ0YsT0FBUXJaLEtBQUt3WSxZLHVDQVVqQixJQUFhc0IsRUFDWCxTQUFZMWIsRUFBTTJiLEVBQU10TSxFQUFRK0IsR0FHOUJ4UCxLQUFLNUIsS0FBT0EsRUFJWjRCLEtBQUt5TixPQUFTQSxFQUlkek4sS0FBS3dQLEtBQU9BLEVBRWQsS0FBT3pCLE1BQVE4SyxFQUFVckosRUFBS3pCLE9BRTVCL04sS0FBSytaLEtBQU9BLEVBQ1ovWixLQUFLZ2EsU0FBVyxLQUNsQixJQUFNM0IsRUFBVzlHLEVBQWF2UixLQUFLK04sT0FDakMvTixLQUFLaWEsU0FBVzVCLEdBQVksSUFBSWpKLEVBQUtwUCxLQUFNcVksSUFPL0MsWUFBRWxaLE9BQUEsU0FBTzRPLEdBQ1AsT0FBT0EsR0FBUy9OLEtBQUtpYSxTQUFpQmphLEtBQUtpYSxTQUNsQyxJQUFJN0ssRUFBS3BQLEtBQU0wWSxFQUFhMVksS0FBSytOLE1BQU9BLEtBR2pELEVBQU9zSCxRQUFBLFNBQVFsRyxFQUFPMUIsR0FDcEI3RCxJQUFJSCxFQUFTbEwsT0FBT1ksT0FBTyxNQUFPNGEsRUFBTyxFQUV6QyxPQURGLEVBQVE1USxTQUFRLFNBQUMvSyxFQUFNb1IsR0FBTSxPQUFHL0YsRUFBT3JMLEdBQVEsSUFBSTBiLEVBQVMxYixFQUFNMmIsSUFBUXRNLEVBQVErQixNQUN6RS9GLEdBTVgsWUFBRWtHLGNBQUEsU0FBY29GLEdBQ1osSUFBSyxJQUFJbFgsRUFBSSxFQUFHQSxFQUFJa1gsRUFBSXBTLE9BQVE5RSxJQUM5QixHQUFJa1gsRUFBSWxYLEdBQUd3RixNQUFRckQsS0FDakIsT0FBTytVLEVBQUkvTixNQUFNLEVBQUduSixHQUFHc0gsT0FBTzRQLEVBQUkvTixNQUFNbkosRUFBSSxJQUNoRCxPQUFPa1gsR0FLWCxZQUFFckYsUUFBQSxTQUFRcUYsR0FDTixJQUFLbkwsSUFBSS9MLEVBQUksRUFBR0EsRUFBSWtYLEVBQUlwUyxPQUFROUUsSUFDOUIsR0FBSWtYLEVBQUlsWCxHQUFHd0YsTUFBUXJELEtBQU0sT0FBTytVLEVBQUlsWCxJQU0xQyxZQUFFcWMsU0FBQSxTQUFTalAsR0FDVCxPQUFTakwsS0FBS2dhLFNBQVNsRixRQUFRN0osSUFBVSxHQXlLM0MsSUFBYSxFQUdYLFNBQVl1RSxHQVFWLElBQUs1RixJQUFJRixLQURUMUosS0FBS3dQLEtBQU8sR0FDS0EsRUFBTXhQLEtBQUt3UCxLQUFLOUYsR0FBUThGLEVBQUs5RixHQUM5QzFKLEtBQUt3UCxLQUFLMUIsTUFBUSxFQUFXaEgsS0FBSzBJLEVBQUsxQixPQUN2QzlOLEtBQUt3UCxLQUFLTCxNQUFRLEVBQVdySSxLQUFLMEksRUFBS0wsT0FJdkNuUCxLQUFLOE4sTUFBUW1MLEVBQVM1RCxRQUFRclYsS0FBS3dQLEtBQUsxQixNQUFPOU4sTUFJL0NBLEtBQUttUCxNQUFRMkssRUFBU3pFLFFBQVFyVixLQUFLd1AsS0FBS0wsTUFBT25QLE1BRWpELElBQU1tYSxFQUFtQjViLE9BQU9ZLE9BQU8sTUFDdkMsSUFBT3lLLElBQUlGLEtBQVExSixLQUFLOE4sTUFBTyxDQUMzQixHQUFJcEUsS0FBUTFKLEtBQUttUCxNQUNmLE1BQU0sSUFBSW5ELFdBQVd0QyxFQUFPLHNDQUNoQyxJQUFNckcsRUFBT3JELEtBQUs4TixNQUFNcEUsR0FBTzBRLEVBQWMvVyxFQUFLbU0sS0FBS2hLLFNBQVcsR0FBSTZVLEVBQVdoWCxFQUFLbU0sS0FBS0wsTUFDekY5TCxFQUFLa1AsYUFBZTRILEVBQWlCQyxLQUNsQ0QsRUFBaUJDLEdBQWV0RyxFQUFheFMsTUFBTThZLEVBQWFwYSxLQUFLOE4sUUFDMUUsRUFBT3FDLGNBQWdCOU0sRUFBS2tQLGFBQWFwQyxjQUN6QyxFQUFPZ0osUUFBc0IsS0FBWmtCLEVBQWtCLEtBQy9CQSxFQUFXQyxFQUFZdGEsS0FBTXFhLEVBQVM5QyxNQUFNLE1BQ2hDLElBQWQsR0FBcUJsVSxFQUFLOE0sY0FBcUIsS0FBTCxHQUU5QyxJQUFPdkcsSUFBSUYsS0FBUTFKLEtBQUttUCxNQUFPLENBQzNCdkYsSUFBSXZHLEVBQU9yRCxLQUFLbVAsTUFBTXpGLEdBQU82USxFQUFPbFgsRUFBS21NLEtBQUswSyxTQUM5QzdXLEVBQUsyVyxTQUFtQixNQUFSTyxFQUFlLENBQUNsWCxHQUFnQixJQUFSa1gsRUFBYSxHQUFLRCxFQUFZdGEsS0FBTXVhLEVBQUtoRCxNQUFNLE1BRzNGLEtBQU83SixhQUFlMU4sS0FBSzBOLGFBQWFyTyxLQUFLVyxNQUM3QyxLQUFPeVQsYUFBZXpULEtBQUt5VCxhQUFhcFUsS0FBS1csTUFLM0NBLEtBQUt3YSxZQUFjeGEsS0FBSzhOLE1BQU05TixLQUFLd1AsS0FBS29LLFNBQVcsT0FNckQsS0FBT2pKLE9BQVNwUyxPQUFPWSxPQUFPLE1BQzlCLEtBQU93UixPQUFPOEosVUFBWWxjLE9BQU9ZLE9BQU8sT0F1RDFDLFNBQVNtYixFQUFZN00sRUFBUTBCLEdBRTNCLElBREF2RixJQUFJckIsRUFBUSxHQUNIMUssRUFBSSxFQUFHQSxFQUFJc1IsRUFBTXhNLE9BQVE5RSxJQUFLLENBQ3JDK0wsSUFBSXhMLEVBQU8rUSxFQUFNdFIsR0FBSTRULEVBQU9oRSxFQUFPMEIsTUFBTS9RLEdBQU9zYyxFQUFLakosRUFDckQsR0FBSUEsRUFDRmxKLEVBQU1wRixLQUFLc08sUUFFWCxJQUFLN0gsSUFBSUYsS0FBUStELEVBQU8wQixNQUFPLENBQzdCdkYsSUFBSTZILEVBQU9oRSxFQUFPMEIsTUFBTXpGLElBQ1osS0FBUnRMLEdBQWdCcVQsRUFBS2pDLEtBQUswSixPQUFTekgsRUFBS2pDLEtBQUswSixNQUFNM0IsTUFBTSxLQUFLekMsUUFBUTFXLElBQVMsSUFDakZtSyxFQUFNcEYsS0FBS3VYLEVBQUtqSixHQUd0QixJQUFLaUosRUFBSSxNQUFNLElBQUkxQixZQUFZLHVCQUF5QjdKLEVBQU10UixHQUFLLEtBRXJFLE9BQU8wSyxFQTlEVCxZQUFFc0MsS0FBQSxTQUFLeEgsRUFBTTBLLEVBQU92SSxFQUFTMkosR0FDekIsR0FBbUIsaUJBQVI5TCxFQUNUQSxFQUFPckQsS0FBSzBULFNBQVNyUSxPQUNsQixNQUFNQSxhQUFnQjRWLEdBQ3pCLE1BQU0sSUFBSWpOLFdBQVcsc0JBQXdCM0ksR0FDMUMsR0FBSUEsRUFBS29LLFFBQVV6TixLQUN0QixNQUFNLElBQUlnTSxXQUFXLHlDQUEyQzNJLEVBQUtqRixLQUFPLEtBRWhGLE9BQVNpRixFQUFLa1csY0FBY3hMLEVBQU92SSxFQUFTMkosSUFNOUMsWUFBRXhFLEtBQUEsU0FBS0EsRUFBTXdFLEdBQ1gsSUFBTTlMLEVBQU9yRCxLQUFLOE4sTUFBTW5ELEtBQ3RCLE9BQU8sSUFBSWdKLEVBQVN0USxFQUFNQSxFQUFLa08sYUFBYzVHLEVBQU15RSxFQUFLa0ssUUFBUW5LLEtBS3BFLFlBQUVzQyxLQUFBLFNBQUtwTyxFQUFNMEssR0FFVCxNQURtQixpQkFBUjFLLElBQWtCQSxFQUFPckQsS0FBS21QLE1BQU05TCxJQUN4Q0EsRUFBS2xFLE9BQU80TyxJQU12QixZQUFFTCxhQUFBLFNBQWE4RixHQUNiLE9BQVNyQyxFQUFLM0QsU0FBU3hOLEtBQU13VCxJQU0vQixZQUFFQyxhQUFBLFNBQWFELEdBQ2IsT0FBU3BFLEVBQUs1QixTQUFTeE4sS0FBTXdULElBRy9CLFlBQUVFLFNBQUEsU0FBU3RWLEdBQ1QsSUFBTW1LLEVBQVF2SSxLQUFLOE4sTUFBTTFQLEdBQ3pCLElBQU9tSyxFQUFPLE1BQU0sSUFBSXlELFdBQVcsc0JBQXdCNU4sR0FDekQsT0FBT21LLEdDNWFYLElBQWFvUyxHQUlYLFNBQVlsTixFQUFRbU4sRyxXQUdsQjVhLEtBQUt5TixPQUFTQSxFQUlkek4sS0FBSzRhLE1BQVFBLEVBQ2I1YSxLQUFLNmEsS0FBTyxHQUNaN2EsS0FBSzhhLE9BQVMsR0FFZEYsRUFBTXpSLFNBQVEsU0FBQTRSLEdBQ1JBLEVBQUtDLElBQUtoYixFQUFLNmEsS0FBSzFYLEtBQUs0WCxHQUNwQkEsRUFBS0UsT0FBT2piLEVBQUs4YSxPQUFPM1gsS0FBSzRYLE9BTTVDLGFBQUV6WixNQUFBLFNBQU00WixFQUFLckIsUSxVQUFVLElBQ25CalEsSUFBSXVSLEVBQVUsSUFBSUMsR0FBYXBiLEtBQU02WixHQUFTLEdBRTlDLE9BREFzQixFQUFRRSxPQUFPSCxFQUFLLEtBQU1yQixFQUFRL1MsS0FBTStTLEVBQVE5UCxJQUN6Q29SLEVBQVFHLFVBVW5CLGFBQUVDLFdBQUEsU0FBV0wsRUFBS3JCLFEsVUFBVSxJQUN4QmpRLElBQUl1UixFQUFVLElBQUlDLEdBQWFwYixLQUFNNlosR0FBUyxHQUVoRCxPQURFc0IsRUFBUUUsT0FBT0gsRUFBSyxLQUFNckIsRUFBUS9TLEtBQU0rUyxFQUFROVAsSUFDekM0SCxFQUFNNkosUUFBUUwsRUFBUUcsV0FHakMsYUFBRUcsU0FBQSxTQUFTUCxFQUFLQyxHQUNaLElBQUt2UixJQUFJL0wsRUFBSSxFQUFHQSxFQUFJbUMsS0FBSzZhLEtBQUtsWSxPQUFROUUsSUFBSyxDQUMzQyxJQUFNa2QsRUFBTy9hLEtBQUs2YSxLQUFLaGQsR0FDdkIsR0FBTTZkLEdBQVFSLEVBQUtILEVBQUtDLFlBQ0V4UyxJQUFuQnVTLEVBQUtZLFdBQTJCVCxFQUFJVSxjQUFnQmIsRUFBS1ksY0FDeERaLEVBQUtJLFNBQVdBLEVBQVFVLGVBQWVkLEVBQUtJLFVBQVcsQ0FDM0QsR0FBSUosRUFBS2UsU0FBVSxDQUNuQixJQUFNclMsRUFBU3NSLEVBQUtlLFNBQVNaLEdBQzNCLElBQWUsSUFBWHpSLEVBQWtCLFNBQ3RCc1IsRUFBS2hOLE1BQVF0RSxFQUVmLE9BQU9zUixLQUtmLGFBQUVnQixXQUFBLFNBQVdyUyxFQUFNNUssRUFBT3FjLEdBQ3RCLElBQUt2UixJQUFJL0wsRUFBSSxFQUFHQSxFQUFJbUMsS0FBSzhhLE9BQU9uWSxPQUFROUUsSUFBSyxDQUM3QyxJQUFNa2QsRUFBTy9hLEtBQUs4YSxPQUFPamQsR0FDekIsS0FBa0MsR0FBNUJrZCxFQUFLRSxNQUFNbkcsUUFBUXBMLElBQ25CcVIsRUFBS0ksVUFBWUEsRUFBUVUsZUFBZWQsRUFBS0ksVUFJL0MsRUFBT0YsTUFBTXRZLE9BQVMrRyxFQUFLL0csU0FDYyxJQUF0Q29ZLEVBQUtFLE1BQU1lLFdBQVd0UyxFQUFLL0csU0FBaUJvWSxFQUFLRSxNQUFNalUsTUFBTTBDLEVBQUsvRyxPQUFTLElBQU03RCxJQU54RixDQVFFLEdBQUlpYyxFQUFLZSxTQUFVLENBQ25CLElBQU1yUyxFQUFTc1IsRUFBS2UsU0FBU2hkLEdBQzNCLElBQWUsSUFBWDJLLEVBQWtCLFNBQ3RCc1IsRUFBS2hOLE1BQVF0RSxFQUVmLE9BQU9zUixLQUtYLEdBQU9rQixZQUFBLFNBQVl4TyxHQUNqQjdELElBQUlILEVBQVMsR0FDYixTQUFTeVMsRUFBT25CLEdBRWhCLElBREVuUixJQUFJdVMsRUFBNEIsTUFBakJwQixFQUFLb0IsU0FBbUIsR0FBS3BCLEVBQUtvQixTQUFVdGUsRUFBSSxFQUN4REEsRUFBSTRMLEVBQU85RyxPQUFROUUsSUFBSyxDQUMvQixJQUFNa1MsRUFBT3RHLEVBQU81TCxHQUNsQixJQURzRCxNQUFqQmtTLEVBQUtvTSxTQUFtQixHQUFLcE0sRUFBS29NLFVBQ3BEQSxFQUFVLE1BRWpDLEVBQVN0VCxPQUFPaEwsRUFBRyxFQUFHa2QsR0FHeEIsa0JBQ0luUixJQUFJZ1IsRUFBUW5OLEVBQU8wQixNQUFNL1EsR0FBTW9SLEtBQUs0TSxTQUNoQ3hCLEdBQU9BLEVBQU16UixTQUFRLFNBQUE0UixHQUN6QixFQUFTQSxFQUFPMVYsR0FBSzBWLElBQ25CQSxFQUFLdEosS0FBT3JULE1BSmhCLElBQUt3TCxJQUFJeEwsS0FBUXFQLEVBQU8wQixNQUFPLEVBQUYsR0FPL0IsSUFDUXlMLEVBRE4sSUFBS2hSLElBQUl4TCxLQUFRcVAsRUFBT0ssTUFDbEI4TSxZQUFRbk4sRUFBT0ssTUFBTTFQLEdBQU1vUixLQUFLNE0sV0FDekJ4QixFQUFNelIsU0FBUSxTQUFBNFIsR0FDekIsRUFBU0EsRUFBTzFWLEdBQUswVixJQUNuQkEsRUFBS2xRLEtBQU96TSxLQUdoQixPQUFPcUwsR0FPVCxHQUFPNFMsV0FBQSxTQUFXNU8sR0FDaEIsT0FBT0EsRUFBT2tELE9BQU8yTCxZQUNsQjdPLEVBQU9rRCxPQUFPMkwsVUFBWSxJQUFJM0IsR0FBVWxOLEVBQVFrTixHQUFVc0IsWUFBWXhPLE1BSzdFTyxJQUFNdU8sR0FBWSxDQUNoQkMsU0FBUyxFQUFNQyxTQUFTLEVBQU1DLE9BQU8sRUFBTUMsWUFBWSxFQUFNQyxRQUFRLEVBQ3JFQyxJQUFJLEVBQU1DLEtBQUssRUFBTUMsSUFBSSxFQUFNQyxVQUFVLEVBQU1DLFlBQVksRUFBTUMsUUFBUSxFQUN6RUMsUUFBUSxFQUFNQyxNQUFNLEVBQU1DLElBQUksRUFBTUMsSUFBSSxFQUFNQyxJQUFJLEVBQU1DLElBQUksRUFBTUMsSUFBSSxFQUN0RUMsSUFBSSxFQUFNQyxRQUFRLEVBQU1DLFFBQVEsRUFBTUMsSUFBSSxFQUFNQyxJQUFJLEVBQU1DLFVBQVUsRUFBTUMsSUFBSSxFQUM5RUMsUUFBUSxFQUFNdGUsR0FBRyxFQUFNdWUsS0FBSyxFQUFNQyxTQUFTLEVBQU1DLE9BQU8sRUFBTUMsT0FBTyxFQUFNQyxJQUFJLEdBSTNFQyxHQUFhLENBQ2pCQyxNQUFNLEVBQU1ULFVBQVUsRUFBTXhlLFFBQVEsRUFBTWtmLFFBQVEsRUFBTXhELE9BQU8sRUFBTXlELE9BQU8sR0FJeEVDLEdBQVcsQ0FBQ1gsSUFBSSxFQUFNTSxJQUFJLEdBS2hDLFNBQVNNLEdBQWFDLEdBQ3BCLE9BQVFBLEVBSGMsRUFHeUIsSUFBNkIsU0FBdkJBLEVBSEwsRUFHNEQsR0FHOUcsSUFBTUMsR0FDSixTQUFZemIsRUFBTTBLLEVBQU9vQixFQUFPNFAsRUFBY0MsRUFBTzFNLEVBQU91SCxHQUMxRDdaLEtBQUtxRCxLQUFPQSxFQUNackQsS0FBSytOLE1BQVFBLEVBQ2IvTixLQUFLZ2YsTUFBUUEsRUFDYmhmLEtBQUtzUyxNQUFRQSxJQVhvRCxFQVcxQ3VILEVBQTBCLEtBQU94VyxFQUFLa1AsY0FDN0R2UyxLQUFLNlosUUFBVUEsRUFDZjdaLEtBQUt3RixRQUFVLEdBRWZ4RixLQUFLbVAsTUFBUUEsRUFFYm5QLEtBQUtpZixZQUFjN1AsRUFBS0MsS0FFeEJyUCxLQUFLK2UsYUFBZUEsR0FHeEIsYUFBRXBJLGFBQUEsU0FBYTlMLEdBQ1gsSUFBSzdLLEtBQUtzUyxNQUFPLENBQ2YsSUFBS3RTLEtBQUtxRCxLQUFNLE1BQU8sR0FDdkJ1RyxJQUFJc1YsRUFBT2xmLEtBQUtxRCxLQUFLa1AsYUFBYTRELFdBQVd4TSxFQUFTN0MsS0FBSytELElBQzdELElBQU1xVSxFQUVHLENBQ1AsSUFBc0NDLEVBQWhDL1UsRUFBUXBLLEtBQUtxRCxLQUFLa1AsYUFDeEIsT0FBTTRNLEVBQU8vVSxFQUFNdU0sYUFBYTlMLEVBQUt4SCxRQUNqQ3JELEtBQUtzUyxNQUFRbEksRUFDTitVLEdBRUEsS0FQVG5mLEtBQUtzUyxNQUFRdFMsS0FBS3FELEtBQUtrUCxhQUFhQyxjQUFjME0sR0FXeEQsT0FBU2xmLEtBQUtzUyxNQUFNcUUsYUFBYTlMLEVBQUt4SCxPQUd4QyxhQUFFaVksT0FBQSxTQUFPOEQsR0FDUCxLQTFDc0IsRUEwQ2RwZixLQUFLNlosU0FBNEIsQ0FDckNqUSxJQUFrRDNMLEVBQTlDaU4sRUFBT2xMLEtBQUt3RixRQUFReEYsS0FBS3dGLFFBQVE3QyxPQUFTLEdBQzFDdUksR0FBUUEsRUFBS0osU0FBVzdNLEVBQUksb0JBQW9Cb2hCLEtBQUtuVSxFQUFLUCxTQUN4RE8sRUFBS1AsS0FBS2hJLFFBQVUxRSxFQUFFLEdBQUcwRSxPQUFRM0MsS0FBS3dGLFFBQVFnUyxNQUM3Q3hYLEtBQUt3RixRQUFReEYsS0FBS3dGLFFBQVE3QyxPQUFTLEdBQUt1SSxFQUFLSyxTQUFTTCxFQUFLUCxLQUFLM0QsTUFBTSxFQUFHa0UsRUFBS1AsS0FBS2hJLE9BQVMxRSxFQUFFLEdBQUcwRSxVQUc1RyxJQUFNNkMsRUFBVW1FLEVBQVM3QyxLQUFLOUcsS0FBS3dGLFNBR25DLE9BRk80WixHQUFXcGYsS0FBS3NTLFFBQ25COU0sRUFBVUEsRUFBUWdFLE9BQU94SixLQUFLc1MsTUFBTTZELFdBQVd4TSxFQUFTK0IsT0FBTyxLQUMxRDFMLEtBQUtxRCxLQUFPckQsS0FBS3FELEtBQUtsRSxPQUFPYSxLQUFLK04sTUFBT3ZJLEVBQVN4RixLQUFLbVAsT0FBUzNKLEdBRzNFLGFBQUU4WixhQUFBLFNBQWFDLEdBQ2IsSUFBTzNWLElBQUkvTCxFQUFJLEVBQUcyaEIsRUFBVXhmLEtBQUsrZSxhQUFjbGhCLEVBQUkyaEIsRUFBUTdjLE9BQVE5RSxJQUFLLENBQ3BFK0wsSUFBSTZILEVBQU8rTixFQUFRM2hCLElBQ2RtQyxLQUFLcUQsS0FBT3JELEtBQUtxRCxLQUFLbVcsZUFBZS9ILEVBQUtwTyxNQUFRb2MsR0FBYWhPLEVBQUtwTyxLQUFNa2MsTUFDMUU5TixFQUFLL0IsUUFBUTFQLEtBQUtpZixlQUN2QixLQUFPQSxZQUFjeE4sRUFBS2lPLFNBQVMxZixLQUFLaWYsYUFDeEMsS0FBT0YsYUFBZXROLEVBQUs5QixjQUFjM1AsS0FBSytlLGlCQU1wRCxJQUFNM0QsR0FFSixTQUFZdUUsRUFBUTlGLEVBQVMrRixHQUUzQjVmLEtBQUsyZixPQUFTQSxFQUVkM2YsS0FBSzZaLFFBQVVBLEVBQ2Y3WixLQUFLNmYsT0FBU0QsRUFDaEIsSUFBaUNFLEVBQTNCbEcsRUFBVUMsRUFBUUQsUUFDbEJtRyxFQUFhbkIsR0FBYS9FLEVBQVFnRixxQkFBdUJlLEVBNUVJLEVBNEVtQixHQUVsRkUsRUFERWxHLEVBQ1csSUFBSWtGLEdBQVlsRixFQUFRdlcsS0FBTXVXLEVBQVE3TCxNQUFPcUIsRUFBS0MsS0FBTUQsRUFBS0MsTUFBTSxFQUNyRCxFQUFVMlEsVUFBWXBHLEVBQVF2VyxLQUFLa1AsYUFBY3dOLEdBRS9ELElBQUlqQixHQURWYyxFQUNzQixLQUVBRCxFQUFPbFMsT0FBTytNLFlBRlIsS0FBTXBMLEVBQUtDLEtBQU1ELEVBQUtDLE1BQU0sRUFBTSxLQUFNMFEsR0FHN0UvZixLQUFLOE4sTUFBUSxDQUFDZ1MsR0FFZDlmLEtBQUs0ZixLQUFPLEVBQ1o1ZixLQUFLaUgsS0FBTzRTLEVBQVFvRyxjQUNwQmpnQixLQUFLa2dCLFlBQWEsRyx3REF3V3RCLFNBQVN4RSxHQUFRUixFQUFLaUYsR0FDcEIsT0FBUWpGLEVBQUlRLFNBQVdSLEVBQUlrRixtQkFBcUJsRixFQUFJbUYsdUJBQXlCbkYsRUFBSW9GLG9CQUFvQnRpQixLQUFLa2QsRUFBS2lGLEdBV2pILFNBQVM5YSxHQUFLaU8sR0FDWjFKLElBQUl2RSxFQUFPLEdBQ1gsSUFBS3VFLElBQUlGLEtBQVE0SixFQUFLak8sRUFBS3FFLEdBQVE0SixFQUFJNUosR0FDdkMsT0FBT3JFLEVBTVQsU0FBU29hLEdBQWFoRyxFQUFVL0YsR0FDOUI5SixJQUFJa0UsRUFBUTRGLEVBQVNqRyxPQUFPSyxNLGNBRTFCbEUsSUFBSXhHLEVBQVMwSyxFQUFNMVAsR0FDbkIsR0FBS2dGLEVBQU9vVyxlQUFlQyxHQUEzQixDQUNBN1AsSUFBSXlNLEVBQU8sR0FBSWUsRUFBTyxTQUFBOUUsR0FDcEIrRCxFQUFLbFQsS0FBS21QLEdBQ1YsSUFBSzFJLElBQUkvTCxFQUFJLEVBQUdBLEVBQUl5VSxFQUFNNkUsVUFBV3RaLElBQUssQ0FDeEMsTUFBbUJ5VSxFQUFNbUQsS0FBSzVYLEdBQXpCd0YsRUFBQSxFQUFBQSxLQUFNME0sRUFBQSxFQUFBQSxLQUNYLEdBQUkxTSxHQUFRcVEsRUFBVSxPQUFPLEVBQzdCLEdBQUkyQyxFQUFLdkIsUUFBUS9FLEdBQVEsR0FBS3FILEVBQUtySCxHQUFPLE9BQU8sSUFHckQsT0FBSXFILEVBQUtoVSxFQUFPbVAsY0FBc0IsQ0FBUCxHQUFPLFFBQXRDLElBWEYsSUFBSzNJLElBQUl4TCxLQUFRMFAsRUFBTyxDLDRCQTVYMUJNLEdBQU1tUyxJQUFBLGVBQ0osT0FBU3ZnQixLQUFLOE4sTUFBTTlOLEtBQUs0ZixPQU8zQixhQUFFWSxPQUFBLFNBQU90RixHQUNMLEdBQW9CLEdBQWhCQSxFQUFJeEgsU0FDTjFULEtBQUt5Z0IsWUFBWXZGLFFBQ1osR0FBb0IsR0FBaEJBLEVBQUl4SCxTQUFlLENBQzlCLElBQU11SCxFQUFRQyxFQUFJd0YsYUFBYSxTQUN6QnZSLEVBQVE4TCxFQUFRamIsS0FBSzJnQixXQThWL0IsU0FBcUIxRixHQUNuQnJSLElBQXVDM0wsRUFBbkMyaUIsRUFBSyw2QkFBaUNuWCxFQUFTLEdBQ25ELEtBQU94TCxFQUFJMmlCLEVBQUd2QixLQUFLcEUsSUFBUXhSLEVBQU90RyxLQUFLbEYsRUFBRSxHQUFJQSxFQUFFLEdBQUc0aUIsUUFDbEQsT0FBT3BYLEVBaldpQ3FYLENBQVk3RixJQUFVLEtBQU1zRixFQUFNdmdCLEtBQUt1Z0IsSUFDM0UsR0FBYSxNQUFUcFIsRUFBZSxJQUFLdkYsSUFBSS9MLEVBQUksRUFBR0EsRUFBSXNSLEVBQU14TSxPQUFROUUsSUFBS21DLEtBQUsrZ0IsZUFBZTVSLEVBQU10UixJQUVwRixHQURBbUMsS0FBS2doQixXQUFXOUYsR0FDSCxNQUFUL0wsRUFBZSxJQUFLdkYsSUFBSS9MLEVBQUksRUFBR0EsRUFBSXNSLEVBQU14TSxPQUFROUUsSUFBS21DLEtBQUtpaEIsa0JBQWtCOVIsRUFBTXRSLEdBQUkwaUIsS0FJakcsYUFBRUUsWUFBQSxTQUFZdkYsR0FDVnRSLElBQUk5SyxFQUFRb2MsRUFBSWdHLFVBQ1pYLEVBQU12Z0IsS0FBS3VnQixJQUNmLElBQUtBLEVBQUlsZCxLQUFPa2QsRUFBSWxkLEtBQUs4TSxjQUFnQm9RLEVBQUkvYSxRQUFRN0MsUUFBVTRkLEVBQUkvYSxRQUFRLEdBQUdzSyxXQUFhLG1CQUFtQitILEtBQUsvWSxHQUFRLENBQzNILEdBbkhvQixFQW1IWnloQixFQUFJMUcsUUFuSGtDLEVBZ0kvQjBHLEVBQUkxRyxVQUNqQixFQUFVL2EsRUFBTStJLFFBQVEsWUFBYSxXQVRuQyxHQUpGLEVBQVUvSSxFQUFNK0ksUUFBUSxvQkFBcUIsS0FJdkMsbUJBQW1CZ1EsS0FBSy9ZLElBQVVrQixLQUFLNGYsTUFBUTVmLEtBQUs4TixNQUFNbkwsT0FBUyxFQUFHLENBQ3hFaUgsSUFBSXNGLEVBQWFxUixFQUFJL2EsUUFBUSthLEVBQUkvYSxRQUFRN0MsT0FBUyxHQUM5Q3dlLEVBQWdCakcsRUFBSWtHLGtCQUNuQmxTLEdBQ0FpUyxHQUEyQyxNQUExQkEsRUFBY0UsVUFDL0JuUyxFQUFXcEUsUUFBVSxtQkFBbUIrTSxLQUFLM0ksRUFBV3ZFLFNBQzNEN0wsRUFBUUEsRUFBTWtJLE1BQU0sSUFLdEJsSSxHQUFPa0IsS0FBS3NoQixXQUFXdGhCLEtBQUsyZixPQUFPbFMsT0FBTzlDLEtBQUs3TCxJQUNuRGtCLEtBQUt1aEIsV0FBV3JHLFFBRWhCbGIsS0FBS3doQixXQUFXdEcsSUFPdEIsYUFBRThGLFdBQUEsU0FBVzlGLEdBQ1gsSUFBTTljLEVBQU84YyxFQUFJbUcsU0FBU0ksY0FDcEI5QyxHQUFTamYsZUFBZXRCLElBa1NoQyxTQUF1QjhjLEdBQ3JCLElBQUt0UixJQUFJTSxFQUFRZ1IsRUFBSTdQLFdBQVlxVyxFQUFXLEtBQU14WCxFQUFPQSxFQUFRQSxFQUFNeVgsWUFBYSxDQUNsRi9YLElBQUl4TCxFQUF5QixHQUFsQjhMLEVBQU13SixTQUFnQnhKLEVBQU1tWCxTQUFTSSxjQUFnQixLQUM1RHJqQixHQUFRdWdCLEdBQVNqZixlQUFldEIsSUFBU3NqQixHQUMzQ0EsRUFBUzdhLFlBQVlxRCxHQUNyQkEsRUFBUXdYLEdBQ1MsTUFBUnRqQixFQUNUc2pCLEVBQVd4WCxFQUNGOUwsSUFDVHNqQixFQUFXLE9BM1NzQkUsQ0FBYzFHLEdBQ2pEdFIsSUFBSW1SLEVBQVEvYSxLQUFLNlosUUFBUWdJLGNBQWdCN2hCLEtBQUs2WixRQUFRZ0ksYUFBYTNHLElBQVNsYixLQUFLMmYsT0FBT2xFLFNBQVNQLEVBQUtsYixNQUN0RyxHQUFJK2EsRUFBT0EsRUFBSytHLE9BQVN2RCxHQUFXN2UsZUFBZXRCLEdBQ2pENEIsS0FBS3doQixXQUFXdEcsUUFDWCxJQUFLSCxHQUFRQSxFQUFLZ0gsS0FBTSxDQUN6QmhILEdBQVFBLEVBQUtnSCxLQUFLck8sV0FBVXdILEVBQU1ILEVBQUtnSCxNQUMzQ25ZLElBQUlvWSxFQUFNekIsRUFBTXZnQixLQUFLdWdCLElBQUswQixFQUFnQmppQixLQUFLa2dCLFdBQy9DLEdBQUkzRCxHQUFVN2MsZUFBZXRCLEdBQzdCLEdBQVMsRUFDRm1pQixFQUFJbGQsT0FBTXJELEtBQUtrZ0IsWUFBYSxRQUM1QixJQUFLaEYsRUFBSTdQLFdBRWQsWUFEQXJMLEtBQUtraUIsYUFBYWhILEdBR3BCbGIsS0FBS3FiLE9BQU9ILEdBQ1I4RyxHQUFNaGlCLEtBQUtnaUIsS0FBS3pCLEdBQ3BCdmdCLEtBQUtrZ0IsV0FBYStCLE9BRWxCamlCLEtBQUttaUIsaUJBQWlCakgsRUFBS0gsSUFLakMsYUFBRW1ILGFBQUEsU0FBYWhILEdBQ1MsTUFBaEJBLEVBQUltRyxVQUFvQnJoQixLQUFLdWdCLElBQUlsZCxNQUFRckQsS0FBS3VnQixJQUFJbGQsS0FBSzhNLGVBQ3pEblEsS0FBS3lnQixZQUFZdkYsRUFBSWtILGNBQWNDLGVBQWUsUUFNeEQsYUFBRTFCLFdBQUEsU0FBVzdGLEdBRVQsSUFEQWxSLElBQUl1RixFQUFRQyxFQUFLQyxLQUNSeFIsRUFBSSxFQUFHQSxFQUFJaWQsRUFBT25ZLE9BQVE5RSxHQUFLLEVBQUcsQ0FDM0MsSUFBTWtkLEVBQU8vYSxLQUFLMmYsT0FBTzVELFdBQVdqQixFQUFPamQsR0FBSWlkLEVBQU9qZCxFQUFJLEdBQUltQyxNQUM1RCxHQUFLK2EsRUFBTCxDQUNBLEdBQUlBLEVBQUsrRyxPQUFRLE9BQU8sS0FDMUIsRUFBVTloQixLQUFLMmYsT0FBT2xTLE9BQU8wQixNQUFNNEwsRUFBS3RKLE1BQU10UyxPQUFPNGIsRUFBS2hOLE9BQU8yUixTQUFTdlEsSUFFMUUsT0FBT0EsR0FPWCxhQUFFZ1QsaUJBQUEsU0FBaUJqSCxFQUFLSCxHLElBQ2hCaUgsRUFBTXRPLEVBQW9CakMsRSxPQUMxQnNKLEVBQUtsUSxNQUNQNkksRUFBVzFULEtBQUsyZixPQUFPbFMsT0FBT0ssTUFBTWlOLEVBQUtsUSxPQUMzQkUsT0FFRi9LLEtBQUtzaEIsV0FBVzVOLEVBQVN2VSxPQUFPNGIsRUFBS2hOLFNBQy9DL04sS0FBS2tpQixhQUFhaEgsR0FGbEI4RyxFQUFPaGlCLEtBQUtzaUIsTUFBTTVPLEVBQVVxSCxFQUFLaE4sTUFBT2dOLEVBQUs4RCxxQkFNakQsRUFEYTdlLEtBQUsyZixPQUFPbFMsT0FBTzBCLE1BQU00TCxFQUFLdEosTUFDekJ0UyxPQUFPNGIsRUFBS2hOLE9BQzVCL04sS0FBSytnQixlQUFldFAsSUFFdEI3SCxJQUFJMlksRUFBVXZpQixLQUFLdWdCLElBRW5CLEdBQUk3TSxHQUFZQSxFQUFTM0ksT0FDdkIvSyxLQUFLd2hCLFdBQVd0RyxRQUNYLEdBQUlILEVBQUt5SCxXQUNkeGlCLEtBQUt3aEIsV0FBV3RHLEdBQ2xCLEVBQU9zSCxXQUFXdEgsRUFBS2xiLEtBQUsyZixPQUFPbFMsUUFBUXRFLFNBQVEsU0FBQTBCLEdBQUssT0FBRzdLLEVBQUtzaEIsV0FBV3pXLFVBQ3BFLENBQ0xqQixJQUFJNlksRUFBYTFILEVBQUsySCxlQUNHLGlCQUFkRCxFQUF3QkEsRUFBYXZILEVBQUl5SCxjQUFjRixHQUNwQyxtQkFBZEEsSUFBMEJBLEVBQWFBLEVBQVd2SCxJQUM3RHVILElBQVlBLEVBQWF2SCxHQUNoQyxLQUFPMEgsV0FBVzFILEVBQUt1SCxHQUFZLEdBQ2pDemlCLEtBQUtxYixPQUFPb0gsRUFBWVQsR0FFdEJBLElBQVFoaUIsS0FBS2dpQixLQUFLTyxHQUFVdmlCLEtBQUs0ZixRQUNqQ25PLEdBQU16UixLQUFLaWhCLGtCQUFrQnhQLEVBQU04USxJQU8zQyxhQUFFbEgsT0FBQSxTQUFPalksRUFBUTRlLEVBQU1oUixFQUFZQyxHQUUvQixJQURBckgsSUFBSWdDLEVBQVFvRixHQUFjLEVBQ2pCa0ssRUFBTWxLLEVBQWE1TixFQUFPeWYsV0FBVzdSLEdBQWM1TixFQUFPaUksV0FDMURsQixFQUFrQixNQUFaOEcsRUFBbUIsS0FBTzdOLEVBQU95ZixXQUFXNVIsR0FDdERpSyxHQUFPL1EsRUFBSytRLEVBQU1BLEVBQUl5RyxjQUFlL1YsRUFDeEM1TCxLQUFLOGlCLFlBQVkxZixFQUFRd0ksR0FDekI1TCxLQUFLd2dCLE9BQU90RixHQUNSOEcsR0FBUXpGLEdBQVU3YyxlQUFld2IsRUFBSW1HLFNBQVNJLGdCQUNoRHpoQixLQUFLZ2lCLEtBQUtBLEdBRWRoaUIsS0FBSzhpQixZQUFZMWYsRUFBUXdJLElBTTdCLGFBQUVtWCxVQUFBLFNBQVVsWSxHQUVSLElBREFqQixJQUFJb1osRUFBT2hCLEVBQ0Z4VCxFQUFReE8sS0FBSzRmLEtBQU1wUixHQUFTLEVBQUdBLElBQVMsQ0FDakQsSUFBTXlVLEVBQUtqakIsS0FBSzhOLE1BQU1VLEdBQ2hCakcsRUFBUTBhLEVBQUd0TSxhQUFhOUwsR0FDNUIsR0FBSXRDLEtBQVd5YSxHQUFTQSxFQUFNcmdCLE9BQVM0RixFQUFNNUYsVUFDN0MsRUFBVTRGLEVBQ1YsRUFBUzBhLEdBQ0YxYSxFQUFNNUYsUUFBUSxNQUVyQixHQUFJc2dCLEVBQUdqRSxNQUFPLE1BRWhCLElBQUtnRSxFQUFPLE9BQU8sRUFDbkJoakIsS0FBS2dpQixLQUFLQSxHQUNWLElBQUtwWSxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJbWxCLEVBQU1yZ0IsT0FBUTlFLElBQ2hDbUMsS0FBS2tqQixXQUFXRixFQUFNbmxCLEdBQUksTUFBTSxHQUNsQyxPQUFPLEdBS1gsYUFBRXlqQixXQUFBLFNBQVd6VyxHQUNULEdBQUlBLEVBQUtpRixVQUFZOVAsS0FBS2tnQixhQUFlbGdCLEtBQUt1Z0IsSUFBSWxkLEtBQU0sQ0FDdER1RyxJQUFJdVosRUFBUW5qQixLQUFLb2pCLHVCQUNiRCxHQUFPbmpCLEtBQUtrakIsV0FBV0MsR0FFN0IsR0FBSW5qQixLQUFLK2lCLFVBQVVsWSxHQUFPLENBQzFCLEtBQU93WSxhQUNMelosSUFBSTJXLEVBQU12Z0IsS0FBS3VnQixJQUNmQSxFQUFJakIsYUFBYXpVLEVBQUt4SCxNQUNsQmtkLEVBQUlqTyxRQUFPaU8sRUFBSWpPLE1BQVFpTyxFQUFJak8sTUFBTVcsVUFBVXBJLEVBQUt4SCxPQUVwRCxJQURBdUcsSUFBSXVGLEVBQVFvUixFQUFJdEIsWUFDUHBoQixFQUFJLEVBQUdBLEVBQUlnTixFQUFLc0UsTUFBTXhNLE9BQVE5RSxJQUNoQzBpQixFQUFJbGQsT0FBUWtkLEVBQUlsZCxLQUFLbVcsZUFBZTNPLEVBQUtzRSxNQUFNdFIsR0FBR3dGLFFBQ3JEOEwsRUFBUXRFLEVBQUtzRSxNQUFNdFIsR0FBRzZoQixTQUFTdlEsSUFFbkMsT0FEQW9SLEVBQUkvYSxRQUFRckMsS0FBSzBILEVBQUs0RyxLQUFLdEMsS0FDcEIsRUFFVCxPQUFPLEdBTVgsYUFBRW1ULE1BQUEsU0FBTWpmLEVBQU0wSyxFQUFPdVYsR0FDakIxWixJQUFJOFEsRUFBSzFhLEtBQUsraUIsVUFBVTFmLEVBQUtsRSxPQUFPNE8sSUFFcEMsT0FESTJNLEdBQUkxYSxLQUFLa2pCLFdBQVc3ZixFQUFNMEssR0FBTyxFQUFNdVYsR0FDcEM1SSxHQUlYLGFBQUV3SSxXQUFBLFNBQVc3ZixFQUFNMEssRUFBT2lSLEVBQU9zRSxHQUMvQixLQUFPRCxhQUNMelosSUFBSTJXLEVBQU12Z0IsS0FBS3VnQixJQUNmQSxFQUFJakIsYUFBYWpjLEdBQ2pCa2QsRUFBSWpPLE1BQVFpTyxFQUFJak8sT0FBU2lPLEVBQUlqTyxNQUFNVyxVQUFVNVAsRUFBTTBLLEdBQ25EbkUsSUFBSWlRLEVBQXdCLE1BQWR5SixHQUFtQyxFQUFkL0MsRUFBSTFHLFFBQTJCK0UsR0FBYTBFLEdBMVNkLEVBMlM1RC9DLEVBQUkxRyxTQUFrRCxHQUF0QjBHLEVBQUkvYSxRQUFRN0MsU0FBYWtYLEdBM1NHLEdBNFNuRSxLQUFPL0wsTUFBTTNLLEtBQUssSUFBSTJiLEdBQVl6YixFQUFNMEssRUFBT3dTLEVBQUl0QixZQUFhc0IsRUFBSXhCLGFBQWNDLEVBQU8sS0FBTW5GLElBQy9GLEtBQU8rRixRQUtULGFBQUV5RCxXQUFBLFNBQVdqRSxHQUNYLElBQU12aEIsRUFBSW1DLEtBQUs4TixNQUFNbkwsT0FBUyxFQUM1QixHQUFJOUUsRUFBSW1DLEtBQUs0ZixLQUFNLENBQ2pCLEtBQU8vaEIsRUFBSW1DLEtBQUs0ZixLQUFNL2hCLElBQUttQyxLQUFLOE4sTUFBTWpRLEVBQUksR0FBRzJILFFBQVFyQyxLQUFLbkQsS0FBSzhOLE1BQU1qUSxHQUFHeWQsT0FBTzhELElBQ2pGLEtBQU90UixNQUFNbkwsT0FBUzNDLEtBQUs0ZixLQUFPLElBSXRDLGFBQUV0RSxPQUFBLFdBR0UsT0FGQXRiLEtBQUs0ZixLQUFPLEVBQ1o1ZixLQUFLcWpCLFdBQVdyakIsS0FBSzZmLFFBQ2Q3ZixLQUFLOE4sTUFBTSxHQUFHd04sT0FBT3RiLEtBQUs2ZixRQUFVN2YsS0FBSzZaLFFBQVEwSixVQUc1RCxhQUFFdkIsS0FBQSxTQUFLalksR0FDTCxJQUFPSCxJQUFJL0wsRUFBSW1DLEtBQUs0ZixLQUFNL2hCLEdBQUssRUFBR0EsSUFBSyxHQUFJbUMsS0FBSzhOLE1BQU1qUSxJQUFNa00sRUFFeEQsWUFEQS9KLEtBQUs0ZixLQUFPL2hCLElBS2xCdVEsR0FBTW9WLFdBQUEsZUFDSixLQUFPSCxhQUVMLElBREF6WixJQUFJSyxFQUFNLEVBQ0RwTSxFQUFJbUMsS0FBSzRmLEtBQU0vaEIsR0FBSyxFQUFHQSxJQUFLLENBRW5DLElBREYsSUFBTTJILEVBQVV4RixLQUFLOE4sTUFBTWpRLEdBQUcySCxRQUNuQitHLEVBQUkvRyxFQUFRN0MsT0FBUyxFQUFHNEosR0FBSyxFQUFHQSxJQUN2Q3RDLEdBQU96RSxFQUFRK0csR0FBRzFDLFNBQ2hCaE0sR0FBR29NLElBRVQsT0FBT0EsR0FHWCxhQUFFNlksWUFBQSxTQUFZMWYsRUFBUTZLLEdBQ3BCLEdBQU1qTyxLQUFLaUgsS0FBTSxJQUFLMkMsSUFBSS9MLEVBQUksRUFBR0EsRUFBSW1DLEtBQUtpSCxLQUFLdEUsT0FBUTlFLElBQy9DbUMsS0FBS2lILEtBQUtwSixHQUFHZ04sTUFBUXpILEdBQVVwRCxLQUFLaUgsS0FBS3BKLEdBQUdvUSxRQUFVQSxJQUN4RGpPLEtBQUtpSCxLQUFLcEosR0FBR29NLElBQU1qSyxLQUFLd2pCLGFBSWhDLGFBQUVoQyxXQUFBLFNBQVdwZSxHQUNYLEdBQU1wRCxLQUFLaUgsS0FBTSxJQUFLMkMsSUFBSS9MLEVBQUksRUFBR0EsRUFBSW1DLEtBQUtpSCxLQUFLdEUsT0FBUTlFLElBQzNCLE1BQXBCbUMsS0FBS2lILEtBQUtwSixHQUFHb00sS0FBa0MsR0FBbkI3RyxFQUFPc1EsVUFBaUJ0USxFQUFPcWdCLFNBQVN6akIsS0FBS2lILEtBQUtwSixHQUFHZ04sUUFDbkY3SyxLQUFLaUgsS0FBS3BKLEdBQUdvTSxJQUFNakssS0FBS3dqQixhQUloQyxhQUFFWixXQUFBLFNBQVd4ZixFQUFRb0MsRUFBU3NKLEdBQzVCLEdBQU0xTCxHQUFVb0MsR0FBV3hGLEtBQUtpSCxLQUFNLElBQUsyQyxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJbUMsS0FBS2lILEtBQUt0RSxPQUFROUUsSUFBSyxDQUM3RSxHQUF3QixNQUFwQm1DLEtBQUtpSCxLQUFLcEosR0FBR29NLEtBQWtDLEdBQW5CN0csRUFBT3NRLFVBQWlCdFEsRUFBT3FnQixTQUFTempCLEtBQUtpSCxLQUFLcEosR0FBR2dOLE1BQ3pFckYsRUFBUWtlLHdCQUF3QjFqQixLQUFLaUgsS0FBS3BKLEdBQUdnTixPQUM1Q2lFLEVBQVMsRUFBSSxLQUN0QjlPLEtBQUtpSCxLQUFLcEosR0FBR29NLElBQU1qSyxLQUFLd2pCLGNBS2xDLGFBQUVqQyxXQUFBLFNBQVdvQyxHQUNYLEdBQU0zakIsS0FBS2lILEtBQU0sSUFBSzJDLElBQUkvTCxFQUFJLEVBQUdBLEVBQUltQyxLQUFLaUgsS0FBS3RFLE9BQVE5RSxJQUMvQ21DLEtBQUtpSCxLQUFLcEosR0FBR2dOLE1BQVE4WSxJQUN2QjNqQixLQUFLaUgsS0FBS3BKLEdBQUdvTSxJQUFNakssS0FBS3dqQixZQUFjRyxFQUFTekMsVUFBVXZlLE9BQVMzQyxLQUFLaUgsS0FBS3BKLEdBQUdvUSxVQU92RixhQUFFNE4sZUFBQSxTQUFlVixHLFdBQ2YsR0FBTUEsRUFBUXJHLFFBQVEsTUFBUSxFQUMxQixPQUFPcUcsRUFBUTVELE1BQU0sWUFBWXFNLEtBQUs1akIsS0FBSzZiLGVBQWdCN2IsTUFFL0QsSUFBTTZqQixFQUFRMUksRUFBUTVELE1BQU0sS0FDdEJ1TSxFQUFTOWpCLEtBQUs2WixRQUFRc0IsUUFDdEI0SSxJQUFXL2pCLEtBQUs2ZixRQUFZaUUsR0FBVUEsRUFBTzFnQixPQUFPQyxNQUFRckQsS0FBSzhOLE1BQU0sR0FBR3pLLE1BQzFFMmdCLElBQWFGLEVBQVNBLEVBQU90VixNQUFRLEVBQUksSUFBTXVWLEVBQVUsRUFBSSxHQUM3RHpSLEVBQVEsU0FBQ3pVLEVBQUcyUSxHQUNkLEtBQU8zUSxHQUFLLEVBQUdBLElBQUssQ0FDbEIrTCxJQUFJcWEsRUFBT0osRUFBTWhtQixHQUNqQixHQUFZLElBQVJvbUIsRUFBWSxDQUNkLEdBQUlwbUIsR0FBS2dtQixFQUFNbGhCLE9BQVMsR0FBVSxHQUFMOUUsRUFBUSxTQUNyQyxLQUFPMlEsR0FBU3dWLEVBQVV4VixJQUN4QixHQUFJOEQsRUFBTXpVLEVBQUksRUFBRzJRLEdBQVEsT0FBTyxFQUNsQyxPQUFPLEVBRVQsSUFBTXVCLEVBQU92QixFQUFRLEdBQWUsR0FBVEEsR0FBY3VWLEVBQVcvakIsRUFBSzhOLE1BQU1VLEdBQU9uTCxLQUM5RHlnQixHQUFVdFYsR0FBU3dWLEVBQVdGLEVBQU9qWixLQUFLMkQsRUFBUXdWLEdBQVUzZ0IsS0FDNUQsS0FDUixJQUFPME0sR0FBU0EsRUFBSzNSLE1BQVE2bEIsSUFBc0MsR0FBOUJsVSxFQUFLZ0ksT0FBT2pELFFBQVFtUCxHQUNyRCxPQUFPLEVBQ1R6VixJQUdKLE9BQU8sR0FFVCxPQUFPOEQsRUFBTXVSLEVBQU1saEIsT0FBUyxFQUFHM0MsS0FBSzRmLE9BR3hDLGFBQUV3RCxxQkFBQSxXQUNBLElBQU1jLEVBQVdsa0IsS0FBSzZaLFFBQVFzQixRQUM1QixHQUFJK0ksRUFBVSxJQUFLdGEsSUFBSXpMLEVBQUkrbEIsRUFBUzFWLE1BQU9yUSxHQUFLLEVBQUdBLElBQUssQ0FDeEQsSUFBTWdtQixFQUFRRCxFQUFTclosS0FBSzFNLEdBQUdrVSxlQUFlNlIsRUFBU3RWLFdBQVd6USxJQUFJOFgsWUFDcEUsR0FBSWtPLEdBQVNBLEVBQU1sUyxhQUFla1MsRUFBTTVTLGFBQWMsT0FBTzRTLEVBRS9ELElBQUt2YSxJQUFJeEwsS0FBUTRCLEtBQUsyZixPQUFPbFMsT0FBT0ssTUFBTyxDQUN6Q2xFLElBQUl2RyxFQUFPckQsS0FBSzJmLE9BQU9sUyxPQUFPSyxNQUFNMVAsR0FDdEMsR0FBTWlGLEVBQUs0TyxhQUFlNU8sRUFBS2tPLGFBQWMsT0FBT2xPLElBSXhELGFBQUUwZCxlQUFBLFNBQWV0UCxHQUNielIsS0FBS3VnQixJQUFJeEIsYUFBZXROLEVBQUtpTyxTQUFTMWYsS0FBS3VnQixJQUFJeEIsZUFHbkQsYUFBRWtDLGtCQUFBLFNBQWtCeFAsRUFBTTJTLEdBQ3RCLElBQUt4YSxJQUFJNEUsRUFBUXhPLEtBQUs0ZixLQUFNcFIsR0FBUyxFQUFHQSxJQUFTLENBQ2pELElBQU02VixFQUFRcmtCLEtBQUs4TixNQUFNVSxHQUl2QixHQUhZNlYsRUFBTXRGLGFBQWF1RixZQUFZN1MsSUFDOUIsRUFBRzRTLEVBQU10RixhQUFldE4sRUFBSzlCLGNBQWMwVSxFQUFNdEYsY0FDekRzRixFQUFNcEYsWUFBY3hOLEVBQUs5QixjQUFjMFUsRUFBTXBGLGFBQzlDb0YsR0FBU0QsRUFBTSxRLHlDQ3RxQnpCLElBQWFHLEdBU1gsU0FBWXpXLEVBQU9xQixHQUdqQm5QLEtBQUs4TixNQUFRQSxHQUFTLEdBR3RCOU4sS0FBS21QLE1BQVFBLEdBQVMsSUFpSjFCLFNBQVNxVixHQUFZbFIsR0FDbkIxSixJQUFJSCxFQUFTLEdBQ2IsSUFBS0csSUFBSXhMLEtBQVFrVixFQUFLLENBQ3BCMUosSUFBSTZhLEVBQVFuUixFQUFJbFYsR0FBTW9SLEtBQUtpVixNQUN2QkEsSUFBT2hiLEVBQU9yTCxHQUFRcW1CLEdBRTVCLE9BQU9oYixFQUdULFNBQVMsR0FBSW9RLEdBRVgsT0FBT0EsRUFBUTdZLFVBQVlTLE9BQU9ULFNBcEpwQyxhQUFFMGpCLGtCQUFBLFNBQWtCQyxFQUFVOUssRUFBY2pELEcsMEJBQUosSUFDL0JBLElBQVFBLEVBQVMsR0FBSWlELEdBQVMrSywwQkFFckMsSUFBTXJFLEVBQU0zSixFQUFRRyxFQUFTLEtBNEIzQixPQTNCQTROLEVBQVN4YixTQUFRLFNBQUEwQixHQUNqQixHQUFNa00sR0FBVWxNLEVBQUtzRSxNQUFNeE0sT0FBUSxDQUMxQm9VLElBQVFBLEVBQVMsSUFFdEIsSUFERixJQUFNOE4sRUFBTyxFQUFHQyxFQUFXLEVBQ2xCRCxFQUFPOU4sRUFBT3BVLFFBQVVtaUIsRUFBV2phLEVBQUtzRSxNQUFNeE0sUUFBUSxDQUM3RCxJQUFNb04sRUFBT2xGLEVBQUtzRSxNQUFNMlYsR0FDdEIsR0FBSzlrQixFQUFLbVAsTUFBTVksRUFBSzFNLEtBQUtqRixNQUExQixDQUNGLElBQU8yUixFQUFLakUsR0FBR2lMLEVBQU84TixNQUFzQyxJQUE1QjlVLEVBQUsxTSxLQUFLbU0sS0FBS3VWLFNBQW9CLE1BQ2pFRixHQUFRLEVBQUdDLFNBRndCQSxJQUlyQyxLQUFPRCxFQUFPOU4sRUFBT3BVLFFBQ25CNGQsRUFBTXhKLEVBQU9TLE1BQ2YsRUFBU0EsTUFFWCxLQUFTc04sRUFBV2phLEVBQUtzRSxNQUFNeE0sUUFBUSxDQUNyQyxJQUFNcWlCLEVBQU1uYSxFQUFLc0UsTUFBTTJWLEtBQ2pCRyxFQUFVamxCLEVBQUtrbEIsY0FBY0YsRUFBS25hLEVBQUtpRixTQUFVK0osR0FDakRvTCxJQUNGbE8sRUFBTzVULEtBQUs2aEIsRUFBS3pFLEdBQ2pCQSxFQUFJMVosWUFBWW9lLEVBQVEvSixLQUMxQixFQUFRK0osRUFBUXhDLFlBQWN3QyxFQUFRL0osTUFJMUNxRixFQUFJMVosWUFBWTdHLEVBQUttbEIsY0FBY3RhLEVBQU1nUCxPQUdwQ2pELEdBU1gsYUFBRXVPLGNBQUEsU0FBY3RhLEVBQU1nUCxRLFVBQVUsSUFDOUIsTUFDSSxHQUFnQnVMLFdBQVcsR0FBSXZMLEdBQVU3WixLQUFLOE4sTUFBTWpELEVBQUt4SCxLQUFLakYsTUFBTXlNLElBRGpFcVEsRUFBQSxFQUFBQSxJQUFLdUgsRUFBQSxFQUFBQSxXQUVaLEdBQU1BLEVBQVksQ0FDaEIsR0FBTTVYLEVBQUtFLE9BQ1AsTUFBTSxJQUFJaUIsV0FBVyxnREFDbkI2TixFQUFRd0wsVUFDVnhMLEVBQVF3TCxVQUFVeGEsRUFBTTRYLEVBQVk1SSxHQUVwQzdaLEtBQUswa0Isa0JBQWtCN1osRUFBS3JGLFFBQVNxVSxFQUFTNEksR0FFbEQsT0FBT3ZILEdBR1gsYUFBRW9LLHNCQUFBLFNBQXNCemEsRUFBTWdQLFEsVUFBVSxJQUVwQyxJQURGLElBQU1xQixFQUFNbGIsS0FBS21sQixjQUFjdGEsRUFBTWdQLEdBQzFCaGMsRUFBSWdOLEVBQUtzRSxNQUFNeE0sT0FBUyxFQUFHOUUsR0FBSyxFQUFHQSxJQUFLLENBQ2pELElBQU1zaEIsRUFBT25mLEtBQUtrbEIsY0FBY3JhLEVBQUtzRSxNQUFNdFIsR0FBSWdOLEVBQUtpRixTQUFVK0osR0FDeERzRixLQUNBQSxFQUFLc0QsWUFBY3RELEVBQUtqRSxLQUFLclUsWUFBWXFVLEdBQzNDQSxFQUFNaUUsRUFBS2pFLEtBR2YsT0FBT0EsR0FHWCxhQUFFZ0ssY0FBQSxTQUFjelQsRUFBTTRGLEVBQVF3QyxRLFVBQVUsSUFDcENqUSxJQUFJNmEsRUFBUXprQixLQUFLbVAsTUFBTXNDLEVBQUtwTyxLQUFLakYsTUFDakMsT0FBT3FtQixHQUFTRixHQUFjYSxXQUFXLEdBQUl2TCxHQUFVNEssRUFBTWhULEVBQU00RixLQU92RSxHQUFTK04sV0FBQSxTQUFXelcsRUFBSzRXLEVBQVdDLEdBQ2hDLFEsVUFEd0MsTUFDaEIsaUJBQWJELEVBQ1QsTUFBTyxDQUFDckssSUFBS3ZNLEVBQUkwVCxlQUFla0QsSUFDbEMsR0FBMEIsTUFBdEJBLEVBQVU3UixTQUNaLE1BQU8sQ0FBQ3dILElBQUtxSyxHQUNmM2IsSUFBSTZiLEVBQVVGLEVBQVUsR0FBSUcsRUFBUUQsRUFBUTNRLFFBQVEsS0FDaEQ0USxFQUFRLElBQ1osRUFBVUQsRUFBUXplLE1BQU0sRUFBRzBlLEdBQzNCLEVBQVlELEVBQVF6ZSxNQUFNMGUsRUFBUSxJQUVwQyxJQUFNakQsRUFBYSxLQUFNdkgsRUFBTXNLLEVBQVE3VyxFQUFJZ1gsZ0JBQWdCSCxFQUFPQyxHQUFXOVcsRUFBSXRJLGNBQWNvZixHQUN6RjFYLEVBQVF3WCxFQUFVLEdBQUluYixFQUFRLEVBQ3BDLEdBQU0yRCxHQUF5QixpQkFBVEEsR0FBdUMsTUFBbEJBLEVBQU0yRixXQUFxQmpRLE1BQU1DLFFBQVFxSyxHQUVoRixJQUFLbkUsSUFBSXhMLEtBRFgsRUFBVSxFQUNTMlAsRUFBTyxHQUFtQixNQUFmQSxFQUFNM1AsR0FBZSxDQUNqRCxJQUFNc25CLEVBQVF0bkIsRUFBSzBXLFFBQVEsS0FDckI0USxFQUFRLEVBQUd4SyxFQUFJMEssZUFBZXhuQixFQUFLNEksTUFBTSxFQUFHMGUsR0FBUXRuQixFQUFLNEksTUFBTTBlLEVBQVEsR0FBSTNYLEVBQU0zUCxJQUNoRjhjLEVBQUkySyxhQUFhem5CLEVBQU0yUCxFQUFNM1AsSUFHdEMsSUFBS3dMLElBQUkvTCxFQUFJdU0sRUFBT3ZNLEVBQUkwbkIsRUFBVTVpQixPQUFROUUsSUFBSyxDQUM3QytMLElBQUlNLEVBQVFxYixFQUFVMW5CLEdBQ3RCLEdBQWMsSUFBVnFNLEVBQWEsQ0FDakIsR0FBTXJNLEVBQUkwbkIsRUFBVTVpQixPQUFTLEdBQUs5RSxFQUFJdU0sRUFDbEMsTUFBTSxJQUFJNEIsV0FBVywwREFDdkIsTUFBTyxDQUFDa1AsTUFBS3VILFdBQVl2SCxHQUUzQixNQUErQ3FKLEdBQWNhLFdBQVd6VyxFQUFLekUsRUFBT3NiLEdBQXhFaFosRUFBQSxNQUFtQnNaLEVBQUEsYUFFL0IsR0FERTVLLEVBQUlyVSxZQUFZMkYsR0FDWnNaLEVBQWMsQ0FDbEIsR0FBTXJELEVBQVksTUFBTSxJQUFJelcsV0FBVywwQkFDdkMsRUFBZThaLEdBSW5CLE1BQU8sQ0FBQzVLLE1BQUt1SCxlQU1mLEdBQU9wRyxXQUFBLFNBQVc1TyxHQUNoQixPQUFPQSxFQUFPa0QsT0FBT29WLGdCQUNsQnRZLEVBQU9rRCxPQUFPb1YsY0FBZ0IsSUFBSXhCLEdBQWN2a0IsS0FBS2dtQixnQkFBZ0J2WSxHQUFTek4sS0FBS2ltQixnQkFBZ0J4WSxNQU14RyxHQUFPdVksZ0JBQUEsU0FBZ0J2WSxHQUN2QixJQUFNaEUsRUFBUythLEdBQVkvVyxFQUFPSyxPQUVoQyxPQURLckUsRUFBT2tCLE9BQU1sQixFQUFPa0IsS0FBTyxTQUFBRSxHQUFLLE9BQUdBLEVBQUtGLE9BQ3RDbEIsR0FLVCxHQUFPd2MsZ0JBQUEsU0FBZ0J4WSxHQUNyQixPQUFPK1csR0FBWS9XLEVBQU8wQixRQ3BKOUJuQixJQUNNa1ksR0FBV2hlLEtBQUtpZSxJQUFJLEVBQUcsSUFHN0IsU0FBU0MsR0FBYXRuQixHQUFTLE9BSmYsTUFJc0JBLEVBS3RDLElBQWF1bkIsR0FDWCxTQUFZcGMsRUFBS3FjLEVBQWlCQyxRLFdBQVAsUSxVQUFpQixNQUUxQ3ZtQixLQUFLaUssSUFBTUEsRUFHWGpLLEtBQUtzbUIsUUFBVUEsRUFDZnRtQixLQUFLdW1CLFFBQVVBLEdBU05DLEdBS1gsU0FBWUMsRUFBUUMsUSxXQUFXLEdBQzdCMW1CLEtBQUt5bUIsT0FBU0EsRUFDZHptQixLQUFLMG1CLFNBQVdBLEdBR3BCLGFBQUVILFFBQUEsU0FBUXpuQixHQUNSLElBQU02bkIsRUFBTyxFQUFHL2EsRUFBUXdhLEdBQWF0bkIsR0FDbkMsSUFBS2tCLEtBQUswbUIsU0FBVSxJQUFLOWMsSUFBSS9MLEVBQUksRUFBR0EsRUFBSStOLEVBQU8vTixJQUM3QzhvQixHQUFRM21CLEtBQUt5bUIsT0FBVyxFQUFKNW9CLEVBQVEsR0FBS21DLEtBQUt5bUIsT0FBVyxFQUFKNW9CLEVBQVEsR0FDdkQsT0FBT21DLEtBQUt5bUIsT0FBZSxFQUFSN2EsR0FBYSthLEVBbENwQyxTQUF1QjduQixHQUFTLE9BQVFBLEdBTHhCLE1BS2lDQSxJQUFvQm9uQixHQWtDMUJVLENBQWM5bkIsSUFJekQsYUFBRStuQixVQUFBLFNBQVU1YyxFQUFLNmMsR0FBYSxZLFVBQUwsR0FBWTltQixLQUFLK21CLEtBQUs5YyxFQUFLNmMsR0FBTyxJQUczRCxhQUFFeGlCLElBQUEsU0FBSTJGLEVBQUs2YyxHQUFhLFksVUFBTCxHQUFZOW1CLEtBQUsrbUIsS0FBSzljLEVBQUs2YyxHQUFPLElBRXJELGFBQUVDLEtBQUEsU0FBSzljLEVBQUs2YyxFQUFPRSxHQUVmLElBREYsSUFBTUwsRUFBTyxFQUFHTSxFQUFXam5CLEtBQUswbUIsU0FBVyxFQUFJLEVBQUdRLEVBQVdsbkIsS0FBSzBtQixTQUFXLEVBQUksRUFDdEU3b0IsRUFBSSxFQUFHQSxFQUFJbUMsS0FBS3ltQixPQUFPOWpCLE9BQVE5RSxHQUFLLEVBQUcsQ0FDOUMrTCxJQUFJUSxFQUFRcEssS0FBS3ltQixPQUFPNW9CLElBQU1tQyxLQUFLMG1CLFNBQVdDLEVBQU8sR0FDckQsR0FBSXZjLEVBQVFILEVBQUssTUFDakJMLElBQUl1ZCxFQUFVbm5CLEtBQUt5bUIsT0FBTzVvQixFQUFJb3BCLEdBQVdHLEVBQVVwbkIsS0FBS3ltQixPQUFPNW9CLEVBQUlxcEIsR0FBVy9jLEVBQU1DLEVBQVErYyxFQUM1RixHQUFJbGQsR0FBT0UsRUFBSyxDQUNoQixJQUNNVixFQUFTVyxFQUFRdWMsSUFEVFEsRUFBa0JsZCxHQUFPRyxHQUFTLEVBQUlILEdBQU9FLEVBQU0sRUFBSTJjLEVBQTdDQSxHQUNjLEVBQUksRUFBSU0sR0FDNUMsR0FBSUosRUFBUSxPQUFPdmQsRUFDbkJHLElBQUkyYyxFQUFzQjFvQixFQUFJLEdBQUdvTSxFQUFNRyxHQXZEZThiLEdBd0R0RCxPQUFPLElBQUlHLEdBQVU1YyxFQUFRcWQsRUFBUSxFQUFJN2MsR0FBT0csRUFBUUgsR0FBT0UsRUFBS29jLEdBRXRFSSxHQUFRUyxFQUFVRCxFQUVwQixPQUFPSCxFQUFTL2MsRUFBTTBjLEVBQU8sSUFBSU4sR0FBVXBjLEVBQU0wYyxJQUdyRCxhQUFFVSxRQUFBLFNBQVFwZCxFQUFLc2MsR0FHWCxJQUZGLElBQU1JLEVBQU8sRUFBRy9hLEVBQVF3YSxHQUFhRyxHQUMvQlUsRUFBV2puQixLQUFLMG1CLFNBQVcsRUFBSSxFQUFHUSxFQUFXbG5CLEtBQUswbUIsU0FBVyxFQUFJLEVBQzVEN29CLEVBQUksRUFBR0EsRUFBSW1DLEtBQUt5bUIsT0FBTzlqQixPQUFROUUsR0FBSyxFQUFHLENBQzlDK0wsSUFBSVEsRUFBUXBLLEtBQUt5bUIsT0FBTzVvQixJQUFNbUMsS0FBSzBtQixTQUFXQyxFQUFPLEdBQ3JELEdBQUl2YyxFQUFRSCxFQUFLLE1BQ2pCTCxJQUFJdWQsRUFBVW5uQixLQUFLeW1CLE9BQU81b0IsRUFBSW9wQixHQUM5QixHQUFJaGQsR0FEMkNHLEVBQVErYyxHQUNyQ3RwQixHQUFhLEVBQVIrTixFQUFXLE9BQU8sRUFDM0MsR0FBVTVMLEtBQUt5bUIsT0FBTzVvQixFQUFJcXBCLEdBQVlDLEVBRXRDLE9BQU8sR0FNWCxhQUFFaGUsUUFBQSxTQUFRQyxHQUVSLElBREEsSUFBTTZkLEVBQVdqbkIsS0FBSzBtQixTQUFXLEVBQUksRUFBR1EsRUFBV2xuQixLQUFLMG1CLFNBQVcsRUFBSSxFQUM1RDdvQixFQUFJLEVBQUc4b0IsRUFBTyxFQUFHOW9CLEVBQUltQyxLQUFLeW1CLE9BQU85akIsT0FBUTlFLEdBQUssRUFBRyxDQUN4RCtMLElBQUlRLEVBQVFwSyxLQUFLeW1CLE9BQU81b0IsR0FBSXlwQixFQUFXbGQsR0FBU3BLLEtBQUswbUIsU0FBV0MsRUFBTyxHQUFJWSxFQUFXbmQsR0FBU3BLLEtBQUswbUIsU0FBVyxFQUFJQyxHQUMvR1EsRUFBVW5uQixLQUFLeW1CLE9BQU81b0IsRUFBSW9wQixHQUFXRyxFQUFVcG5CLEtBQUt5bUIsT0FBTzVvQixFQUFJcXBCLEdBQ25FOWQsRUFBRWtlLEVBQVVBLEVBQVdILEVBQVNJLEVBQVVBLEVBQVdILEdBQ3JEVCxHQUFRUyxFQUFVRCxJQU94QixhQUFFSyxPQUFBLFdBQ0UsT0FBTyxJQUFJaEIsR0FBUXhtQixLQUFLeW1CLFFBQVN6bUIsS0FBSzBtQixXQUcxQyxhQUFFOWdCLFNBQUEsV0FDRSxPQUFRNUYsS0FBSzBtQixTQUFXLElBQU0sSUFBTXJsQixLQUFLNkIsVUFBVWxELEtBQUt5bUIsU0FPMUQsR0FBT3hZLE9BQUEsU0FBTzNPLEdBQ1osT0FBWSxHQUFMQSxFQUFTa25CLEdBQVE5YSxNQUFRLElBQUk4YSxHQUFRbG5CLEVBQUksRUFBSSxDQUFDLEdBQUlBLEVBQUcsR0FBSyxDQUFDLEVBQUcsRUFBR0EsS0FJNUVrbkIsR0FBUTlhLE1BQVEsSUFBSThhLEdBQVEsSUFTNUIsSUFBYWlCLEdBR1gsU0FBWUMsRUFBTUMsRUFBUTdnQixFQUFNaUQsR0FHOUIvSixLQUFLMG5CLEtBQU9BLEdBQVEsR0FJcEIxbkIsS0FBSzhHLEtBQU9BLEdBQVEsRUFHcEI5RyxLQUFLK0osR0FBVyxNQUFOQSxFQUFhL0osS0FBSzBuQixLQUFLL2tCLE9BQVNvSCxFQUMxQy9KLEtBQUsybkIsT0FBU0EsR0NqS1gsU0FBU0MsR0FBZXpsQixHQUM3QnlILElBQUkwSyxFQUFNN0IsTUFBTXpVLEtBQUtnQyxLQUFNbUMsR0FFM0IsT0FEQW1TLEVBQUl1VCxVQUFZRCxHQUFlbm9CLFVBQ3hCNlUsRURtS1QsYUFBRXROLE1BQUEsU0FBTUYsRUFBVWlELEdBQ2QsWSxVQURXLFEsVUFBUS9KLEtBQUswbkIsS0FBSy9rQixRQUN0QixJQUFJOGtCLEdBQVF6bkIsS0FBSzBuQixLQUFNMW5CLEtBQUsybkIsT0FBUTdnQixFQUFNaUQsSUFHckQsYUFBRTFFLEtBQUEsV0FDRSxPQUFPLElBQUlvaUIsR0FBUXpuQixLQUFLMG5CLEtBQUsxZ0IsUUFBU2hILEtBQUsybkIsUUFBVTNuQixLQUFLMm5CLE9BQU8zZ0IsUUFBU2hILEtBQUs4RyxLQUFNOUcsS0FBSytKLEtBTzlGLGFBQUUrZCxVQUFBLFNBQVV4akIsRUFBS3lqQixHQUNmLEtBQU9oZSxHQUFLL0osS0FBSzBuQixLQUFLdmtCLEtBQUttQixHQUNWLE1BQVh5akIsR0FBaUIvbkIsS0FBS2dvQixVQUFVaG9CLEtBQUswbkIsS0FBSy9rQixPQUFTLEVBQUdvbEIsSUFNOUQsYUFBRUUsY0FBQSxTQUFjQyxHQUNkLElBQU90ZSxJQUFJL0wsRUFBSSxFQUFHc3FCLEVBQVlub0IsS0FBSzBuQixLQUFLL2tCLE9BQVE5RSxFQUFJcXFCLEVBQVFSLEtBQUsva0IsT0FBUTlFLElBQUssQ0FDNUUsSUFBTXVxQixFQUFPRixFQUFRRyxVQUFVeHFCLEdBQy9CLEtBQU9pcUIsVUFBVUksRUFBUVIsS0FBSzdwQixHQUFZLE1BQVJ1cUIsR0FBZ0JBLEVBQU92cUIsRUFBSXNxQixFQUFZQyxFQUFPLFFBUXBGLGFBQUVDLFVBQUEsU0FBVS9vQixHQUNWLEdBQU1VLEtBQUsybkIsT0FBUSxJQUFLL2QsSUFBSS9MLEVBQUksRUFBR0EsRUFBSW1DLEtBQUsybkIsT0FBT2hsQixPQUFROUUsSUFDdkQsR0FBSW1DLEtBQUsybkIsT0FBTzlwQixJQUFNeUIsRUFBRyxPQUFPVSxLQUFLMm5CLE9BQU85cEIsR0FBS0EsRUFBSSxHQUFLLEVBQUksS0FHcEUsYUFBRW1xQixVQUFBLFNBQVUxb0IsRUFBR3JCLEdBQ04rQixLQUFLMm5CLFNBQVEzbkIsS0FBSzJuQixPQUFTLElBQ2xDLEtBQU9BLE9BQU94a0IsS0FBSzdELEVBQUdyQixJQUt4QixhQUFFcXFCLHNCQUFBLFNBQXNCSixHQUNwQixJQUFLdGUsSUFBSS9MLEVBQUlxcUIsRUFBUVIsS0FBSy9rQixPQUFTLEVBQUc0bEIsRUFBWXZvQixLQUFLMG5CLEtBQUsva0IsT0FBU3VsQixFQUFRUixLQUFLL2tCLE9BQVE5RSxHQUFLLEVBQUdBLElBQUssQ0FDdkcsSUFBTXVxQixFQUFPRixFQUFRRyxVQUFVeHFCLEdBQzdCbUMsS0FBSzhuQixVQUFVSSxFQUFRUixLQUFLN3BCLEdBQUcycEIsU0FBa0IsTUFBUlksR0FBZ0JBLEVBQU92cUIsRUFBSTBxQixFQUFZSCxFQUFPLEVBQUksUUFNakcsYUFBRVosT0FBQSxXQUNFNWQsSUFBSTRlLEVBQVUsSUFBSWYsR0FFbEIsT0FEQWUsRUFBUUYsc0JBQXNCdG9CLE1BQ3ZCd29CLEdBS1gsYUFBRWxrQixJQUFBLFNBQUkyRixFQUFLNmMsR0FDUCxRLFVBRGUsR0FDWDltQixLQUFLMm5CLE9BQVEsT0FBTzNuQixLQUFLK21CLEtBQUs5YyxFQUFLNmMsR0FBTyxHQUM5QyxJQUFLbGQsSUFBSS9MLEVBQUltQyxLQUFLOEcsS0FBTWpKLEVBQUltQyxLQUFLK0osR0FBSWxNLElBQ25Db00sRUFBTWpLLEtBQUswbkIsS0FBSzdwQixHQUFHeUcsSUFBSTJGLEVBQUs2YyxHQUM5QixPQUFPN2MsR0FNWCxhQUFFNGMsVUFBQSxTQUFVNWMsRUFBSzZjLEdBQWEsWSxVQUFMLEdBQVk5bUIsS0FBSyttQixLQUFLOWMsRUFBSzZjLEdBQU8sSUFFM0QsYUFBRUMsS0FBQSxTQUFLOWMsRUFBSzZjLEVBQU9FLEdBR2YsSUFGRixJQUFNVixHQUFVLEVBQU9tQyxFQUFlLEtBRTNCNXFCLEVBQUltQyxLQUFLOEcsS0FBTWpKLEVBQUltQyxLQUFLK0osR0FBSWxNLElBQUssQ0FDeEMrTCxJQUFJdEYsRUFBTXRFLEtBQUswbkIsS0FBSzdwQixHQUFJNnFCLEVBQU1ELEdBQWdCQSxFQUFhNXFCLEdBQzNELEdBQVcsTUFBUDZxQixHQUFlcGtCLEVBQUkraUIsUUFBUXBkLEVBQUt5ZSxHQUNsQ3plLEVBQU0zRixFQUFJaWlCLFFBQVFtQyxPQURwQixDQUtGLElBQU1qZixFQUFTbkYsRUFBSXVpQixVQUFVNWMsRUFBSzZjLEdBQ2hDLEdBQXNCLE1BQWxCcmQsRUFBTzhjLFFBQWlCLENBQzVCLElBQU1vQyxFQUFPM29CLEtBQUtxb0IsVUFBVXhxQixHQUMxQixHQUFZLE1BQVI4cUIsR0FBZ0JBLEVBQU85cUIsR0FBSzhxQixFQUFPM29CLEtBQUsrSixHQUFJLENBQzlDLEdBQUlOLEVBQU82YyxRQUFTLENBQ3BCLEVBQU1xQyxFQUNKMWUsRUFBTWpLLEtBQUswbkIsS0FBS2lCLEdBQU1wQyxRQUFROWMsRUFBTzhjLFNBQ3JDLFVBRUVrQyxJQUFpQkEsRUFBZWxxQixPQUFPWSxPQUFPLFFBQVF3cEIsR0FBUWxmLEVBQU84YyxTQUt6RTljLEVBQU82YyxVQUFTQSxHQUFVLEdBQzlCcmMsRUFBTVIsRUFBT1EsS0FHakIsT0FBUytjLEVBQVMvYyxFQUFNLElBQUlvYyxHQUFVcGMsRUFBS3FjLElDcFE3Q3NCLEdBQWVub0IsVUFBWWxCLE9BQU9ZLE9BQU9zVCxNQUFNaFQsV0FDL0Ntb0IsR0FBZW5vQixVQUFVNkksWUFBY3NmLEdBQ3ZDQSxHQUFlbm9CLFVBQVVyQixLQUFPLGlCQU9oQyxJQUFhLEdBR1gsU0FBWXVRLEdBSVYzTyxLQUFLMk8sSUFBTUEsRUFHWDNPLEtBQUs0b0IsTUFBUSxHQUdiNW9CLEtBQUs2b0IsS0FBTyxHQUdaN29CLEtBQUtrb0IsUUFBVSxJQUFJVCxJLDJEQzdCdkIsU0FBU3FCLEtBQWlCLE1BQU0sSUFBSXJXLE1BQU0sZURpQzFDLEdBQU0zRCxPQUFBLGVBQVcsT0FBTzlPLEtBQUs2b0IsS0FBS2xtQixPQUFTM0MsS0FBSzZvQixLQUFLLEdBQUs3b0IsS0FBSzJPLEtBSy9ELGFBQUVvYSxLQUFBLFNBQUt4cEIsR0FDTCxJQUFNa0ssRUFBU3pKLEtBQUtncEIsVUFBVXpwQixHQUM1QixHQUFJa0ssRUFBT3dmLE9BQVEsTUFBTSxJQUFJckIsR0FBZW5lLEVBQU93ZixRQUNuRCxPQUFPanBCLE1BTVgsYUFBRWdwQixVQUFBLFNBQVVELEdBQ1YsSUFBTXRmLEVBQVNzZixFQUFLRyxNQUFNbHBCLEtBQUsyTyxLQUU3QixPQURLbEYsRUFBT3dmLFFBQVFqcEIsS0FBS21wQixRQUFRSixFQUFNdGYsRUFBT2tGLEtBQ3ZDbEYsR0FNWCxHQUFNMmYsV0FBQSxlQUNGLE9BQU9wcEIsS0FBSzRvQixNQUFNam1CLE9BQVMsR0FHL0IsYUFBRXdtQixRQUFBLFNBQVFKLEVBQU1wYSxHQUNkLEtBQU9rYSxLQUFLMWxCLEtBQUtuRCxLQUFLMk8sS0FDcEIzTyxLQUFLNG9CLE1BQU16bEIsS0FBSzRsQixHQUNsQixLQUFPYixRQUFRSixVQUFVaUIsRUFBS00sVUFDNUJycEIsS0FBSzJPLElBQU1BLEcseUNDOURmWCxJQUFNc2IsR0FBWS9xQixPQUFPWSxPQUFPLE1BV25CLEdBQUksYSxhQU1mK3BCLE1BQUEsU0FBTUssR0FBUSxPQUFPVCxNQU12QixhQUFFTyxPQUFBLFdBQVcsT0FBTzdDLEdBQVE5YSxPQUs1QixhQUFFOGIsT0FBQSxTQUFPK0IsR0FBUSxPQUFPVCxNQU14QixhQUFFeGtCLElBQUEsU0FBSWtsQixHQUFZLE9BQU9WLE1BTXpCLGFBQUVXLE1BQUEsU0FBTUMsR0FBVSxPQUFPLE1BT3pCLGFBQUVuYyxPQUFBLFdBQVcsT0FBT3ViLE1BS2xCLEdBQU90YixTQUFBLFNBQVNDLEVBQVErRixHQUN0QixJQUFLQSxJQUFTQSxFQUFLbVcsU0FBVSxNQUFNLElBQUkzZCxXQUFXLG1DQUNwRCxJQUFNM0ksRUFBT2ltQixHQUFVOVYsRUFBS21XLFVBQzFCLElBQUt0bUIsRUFBTSxNQUFNLElBQUkySSxXQUFVLGdCQUFpQndILEVBQWEscUJBQy9ELE9BQVNuUSxFQUFLbUssU0FBU0MsRUFBUStGLElBUS9CLEdBQU9vVyxPQUFBLFNBQU90akIsRUFBSXVqQixHQUNoQixHQUFJdmpCLEtBQU1nakIsR0FBVyxNQUFNLElBQUl0ZCxXQUFXLGlDQUFtQzFGLEdBRzdFLE9BRkFnakIsR0FBVWhqQixHQUFNdWpCLEVBQ2hCQSxFQUFVcHFCLFVBQVVtcUIsT0FBU3RqQixFQUN0QnVqQixHQU1YLElBQWFDLEdBRVgsU0FBWW5iLEVBQUtzYSxHQUVmanBCLEtBQUsyTyxJQUFNQSxFQUVYM08sS0FBS2lwQixPQUFTQSxHQUtoQixHQUFPdk8sR0FBQSxTQUFHL0wsR0FBTyxPQUFPLElBQUltYixHQUFXbmIsRUFBSyxPQUk1QyxHQUFPb2IsS0FBQSxTQUFLNW5CLEdBQVcsT0FBTyxJQUFJMm5CLEdBQVcsS0FBTTNuQixJQU1yRCxHQUFTNm5CLFlBQUEsU0FBWXJiLEVBQUs3SCxFQUFNaUQsRUFBSS9DLEdBQ2hDLElBQ0UsT0FBTzhpQixHQUFXcFAsR0FBRy9MLEVBQUk5RyxRQUFRZixFQUFNaUQsRUFBSS9DLElBQzNDLE1BQU9pakIsR0FDUCxHQUFJQSxhQUFhQyxFQUFjLE9BQU9KLEdBQVdDLEtBQUtFLEVBQUU5bkIsU0FDeEQsTUFBTThuQixJQ3BHWixJQUFhLEdBQVcsWUFTdEIsV0FBWW5qQixFQUFNaUQsRUFBSS9DLEVBQU91ZSxHQUMzQjNSLE9BQU0sTUFDTjVULEtBQUs4RyxLQUFPQSxFQUNaOUcsS0FBSytKLEdBQUtBLEVBQ1YvSixLQUFLZ0gsTUFBUUEsRUFDYmhILEtBQUt1bEIsWUFBY0EsRSwwR0FHckIyRCxNQUFBLFNBQU12YSxHQUNKLE9BQUkzTyxLQUFLdWxCLFdBQWE0RSxHQUFleGIsRUFBSzNPLEtBQUs4RyxLQUFNOUcsS0FBSytKLElBQ2pEK2YsR0FBV0MsS0FBSyw2Q0FDbEJELEdBQVdFLFlBQVlyYixFQUFLM08sS0FBSzhHLEtBQU05RyxLQUFLK0osR0FBSS9KLEtBQUtnSCxRLFlBRzlEcWlCLE9BQUEsV0FDRSxPQUFPLElBQUk3QyxHQUFRLENBQUN4bUIsS0FBSzhHLEtBQU05RyxLQUFLK0osR0FBSy9KLEtBQUs4RyxLQUFNOUcsS0FBS2dILE1BQU1zQyxRLFlBR2pFa2UsT0FBQSxTQUFPN1ksR0FDTCxPQUFPLElBQUl5YixFQUFZcHFCLEtBQUs4RyxLQUFNOUcsS0FBSzhHLEtBQU85RyxLQUFLZ0gsTUFBTXNDLEtBQU1xRixFQUFJM0gsTUFBTWhILEtBQUs4RyxLQUFNOUcsS0FBSytKLE0sWUFHM0Z6RixJQUFBLFNBQUk0akIsR0FDRnRlLElBQUk5QyxFQUFPb2hCLEVBQVFyQixVQUFVN21CLEtBQUs4RyxLQUFNLEdBQUlpRCxFQUFLbWUsRUFBUXJCLFVBQVU3bUIsS0FBSytKLElBQUssR0FDN0UsT0FBSWpELEVBQUt3ZixTQUFXdmMsRUFBR3VjLFFBQWdCLEtBQ2hDLElBQUk4RCxFQUFZdGpCLEVBQUttRCxJQUFLL0IsS0FBS21DLElBQUl2RCxFQUFLbUQsSUFBS0YsRUFBR0UsS0FBTWpLLEtBQUtnSCxRLFlBR3BFeWlCLE1BQUEsU0FBTXhlLEdBQ0osS0FBTUEsYUFBaUJtZixJQUFnQm5mLEVBQU1zYSxXQUFhdmxCLEtBQUt1bEIsVUFBVyxPQUFPLEtBRWpGLEdBQUl2bEIsS0FBSzhHLEtBQU85RyxLQUFLZ0gsTUFBTXNDLE1BQVEyQixFQUFNbkUsTUFBUzlHLEtBQUtnSCxNQUFNb1ksU0FBWW5VLEVBQU1qRSxNQUFNcWpCLFVBSTlFLElBQUlwZixFQUFNbEIsSUFBTS9KLEtBQUs4RyxNQUFTOUcsS0FBS2dILE1BQU1xakIsV0FBY3BmLEVBQU1qRSxNQUFNb1ksUUFLeEUsT0FBTyxLQUpQeFYsSUFBSTVDLEVBQVFoSCxLQUFLZ0gsTUFBTXNDLEtBQU8yQixFQUFNakUsTUFBTXNDLE1BQVEsRUFBSXFJLEVBQU1qRyxNQUN0RCxJQUFJaUcsRUFBTTFHLEVBQU1qRSxNQUFNeEIsUUFBUWdFLE9BQU94SixLQUFLZ0gsTUFBTXhCLFNBQVV5RixFQUFNakUsTUFBTXFqQixVQUFXcnFCLEtBQUtnSCxNQUFNb1ksU0FDbEcsT0FBTyxJQUFJZ0wsRUFBWW5mLEVBQU1uRSxLQUFNOUcsS0FBSytKLEdBQUkvQyxFQUFPaEgsS0FBS3VsQixXQU54RDNiLElBQUk1QyxFQUFRaEgsS0FBS2dILE1BQU1zQyxLQUFPMkIsRUFBTWpFLE1BQU1zQyxNQUFRLEVBQUlxSSxFQUFNakcsTUFDdEQsSUFBSWlHLEVBQU0zUixLQUFLZ0gsTUFBTXhCLFFBQVFnRSxPQUFPeUIsRUFBTWpFLE1BQU14QixTQUFVeEYsS0FBS2dILE1BQU1xakIsVUFBV3BmLEVBQU1qRSxNQUFNb1ksU0FDbEcsT0FBTyxJQUFJZ0wsRUFBWXBxQixLQUFLOEcsS0FBTTlHLEtBQUsrSixJQUFNa0IsRUFBTWxCLEdBQUtrQixFQUFNbkUsTUFBT0UsRUFBT2hILEtBQUt1bEIsWSxZQVVyRmhZLE9BQUEsV0FDRTNELElBQUk0SixFQUFPLENBQUNtVyxTQUFVLFVBQVc3aUIsS0FBTTlHLEtBQUs4RyxLQUFNaUQsR0FBSS9KLEtBQUsrSixJQUczRCxPQUZJL0osS0FBS2dILE1BQU1zQyxPQUFNa0ssRUFBS3hNLE1BQVFoSCxLQUFLZ0gsTUFBTXVHLFVBQ3pDdk4sS0FBS3VsQixZQUFXL1IsRUFBSytSLFdBQVksR0FDOUIvUixHQUdULEVBQU9oRyxTQUFBLFNBQVNDLEVBQVErRixHQUN0QixHQUF3QixpQkFBYkEsRUFBSzFNLE1BQXNDLGlCQUFYME0sRUFBS3pKLEdBQzlDLE1BQU0sSUFBSWlDLFdBQVcsMENBQ3ZCLE9BQU8sSUFBSW9lLEVBQVk1VyxFQUFLMU0sS0FBTTBNLEVBQUt6SixHQUFJNEgsRUFBTW5FLFNBQVNDLEVBQVErRixFQUFLeE0sU0FBVXdNLEVBQUsrUixZLEVBL0RsRSxDQUFTLElBbUVqQyxHQUFLcUUsT0FBTyxVQUFXLElBS3ZCLElBQWEsR0FBaUIsWUFNNUIsV0FBWTlpQixFQUFNaUQsRUFBSXVnQixFQUFTQyxFQUFPdmpCLEVBQU9rVixFQUFRcUosR0FDbkQzUixPQUFNLE1BQ041VCxLQUFLOEcsS0FBT0EsRUFDWjlHLEtBQUsrSixHQUFLQSxFQUNWL0osS0FBS3NxQixRQUFVQSxFQUNmdHFCLEtBQUt1cUIsTUFBUUEsRUFDYnZxQixLQUFLZ0gsTUFBUUEsRUFDYmhILEtBQUtrYyxPQUFTQSxFQUNkbGMsS0FBS3VsQixZQUFjQSxFLDBHQUdyQjJELE1BQUEsU0FBTXZhLEdBQ0osR0FBSTNPLEtBQUt1bEIsWUFBYzRFLEdBQWV4YixFQUFLM08sS0FBSzhHLEtBQU05RyxLQUFLc3FCLFVBQ3BDSCxHQUFleGIsRUFBSzNPLEtBQUt1cUIsTUFBT3ZxQixLQUFLK0osS0FDMUQsT0FBTytmLEdBQVdDLEtBQUssaURBRXpCbmdCLElBQUk0Z0IsRUFBTTdiLEVBQUkzSCxNQUFNaEgsS0FBS3NxQixRQUFTdHFCLEtBQUt1cUIsT0FDdkMsR0FBSUMsRUFBSUgsV0FBYUcsRUFBSXBMLFFBQ3ZCLE9BQU8wSyxHQUFXQyxLQUFLLDJCQUN6Qm5nQixJQUFJNmdCLEVBQVd6cUIsS0FBS2dILE1BQU0wakIsU0FBUzFxQixLQUFLa2MsT0FBUXNPLEVBQUlobEIsU0FDcEQsT0FBS2lsQixFQUNFWCxHQUFXRSxZQUFZcmIsRUFBSzNPLEtBQUs4RyxLQUFNOUcsS0FBSytKLEdBQUkwZ0IsR0FEakNYLEdBQVdDLEtBQUssZ0MsWUFJeENWLE9BQUEsV0FDRSxPQUFPLElBQUk3QyxHQUFRLENBQUN4bUIsS0FBSzhHLEtBQU05RyxLQUFLc3FCLFFBQVV0cUIsS0FBSzhHLEtBQU05RyxLQUFLa2MsT0FDMUNsYyxLQUFLdXFCLE1BQU92cUIsS0FBSytKLEdBQUsvSixLQUFLdXFCLE1BQU92cUIsS0FBS2dILE1BQU1zQyxLQUFPdEosS0FBS2tjLFUsWUFHL0VzTCxPQUFBLFNBQU83WSxHQUNML0UsSUFBSTRnQixFQUFNeHFCLEtBQUt1cUIsTUFBUXZxQixLQUFLc3FCLFFBQzVCLE9BQU8sSUFBSUssRUFBa0IzcUIsS0FBSzhHLEtBQU05RyxLQUFLOEcsS0FBTzlHLEtBQUtnSCxNQUFNc0MsS0FBT2toQixFQUN6Q3hxQixLQUFLOEcsS0FBTzlHLEtBQUtrYyxPQUFRbGMsS0FBSzhHLEtBQU85RyxLQUFLa2MsT0FBU3NPLEVBQ25EN2IsRUFBSTNILE1BQU1oSCxLQUFLOEcsS0FBTTlHLEtBQUsrSixJQUFJNmdCLGNBQWM1cUIsS0FBS3NxQixRQUFVdHFCLEtBQUs4RyxLQUFNOUcsS0FBS3VxQixNQUFRdnFCLEtBQUs4RyxNQUN4RjlHLEtBQUtzcUIsUUFBVXRxQixLQUFLOEcsS0FBTTlHLEtBQUt1bEIsWSxZQUc5RGpoQixJQUFBLFNBQUk0akIsR0FDRnRlLElBQUk5QyxFQUFPb2hCLEVBQVFyQixVQUFVN21CLEtBQUs4RyxLQUFNLEdBQUlpRCxFQUFLbWUsRUFBUXJCLFVBQVU3bUIsS0FBSytKLElBQUssR0FDekV1Z0IsRUFBVXBDLEVBQVE1akIsSUFBSXRFLEtBQUtzcUIsU0FBVSxHQUFJQyxFQUFRckMsRUFBUTVqQixJQUFJdEUsS0FBS3VxQixNQUFPLEdBQzdFLE9BQUt6akIsRUFBS3dmLFNBQVd2YyxFQUFHdWMsU0FBWWdFLEVBQVV4akIsRUFBS21ELEtBQU9zZ0IsRUFBUXhnQixFQUFHRSxJQUFZLEtBQzFFLElBQUkwZ0IsRUFBa0I3akIsRUFBS21ELElBQUtGLEVBQUdFLElBQUtxZ0IsRUFBU0MsRUFBT3ZxQixLQUFLZ0gsTUFBT2hILEtBQUtrYyxPQUFRbGMsS0FBS3VsQixZLFlBRy9GaFksT0FBQSxXQUNFM0QsSUFBSTRKLEVBQU8sQ0FBQ21XLFNBQVUsZ0JBQWlCN2lCLEtBQU05RyxLQUFLOEcsS0FBTWlELEdBQUkvSixLQUFLK0osR0FDckR1Z0IsUUFBU3RxQixLQUFLc3FCLFFBQVNDLE1BQU92cUIsS0FBS3VxQixNQUFPck8sT0FBUWxjLEtBQUtrYyxRQUduRSxPQUZJbGMsS0FBS2dILE1BQU1zQyxPQUFNa0ssRUFBS3hNLE1BQVFoSCxLQUFLZ0gsTUFBTXVHLFVBQ3pDdk4sS0FBS3VsQixZQUFXL1IsRUFBSytSLFdBQVksR0FDOUIvUixHQUdULEVBQU9oRyxTQUFBLFNBQVNDLEVBQVErRixHQUN0QixHQUF3QixpQkFBYkEsRUFBSzFNLE1BQXNDLGlCQUFYME0sRUFBS3pKLElBQ3JCLGlCQUFoQnlKLEVBQUs4VyxTQUE0QyxpQkFBZDlXLEVBQUsrVyxPQUEyQyxpQkFBZi9XLEVBQUswSSxPQUNsRixNQUFNLElBQUlsUSxXQUFXLGdEQUN2QixPQUFPLElBQUkyZSxFQUFrQm5YLEVBQUsxTSxLQUFNME0sRUFBS3pKLEdBQUl5SixFQUFLOFcsUUFBUzlXLEVBQUsrVyxNQUN2QzVZLEVBQU1uRSxTQUFTQyxFQUFRK0YsRUFBS3hNLE9BQVF3TSxFQUFLMEksU0FBVTFJLEVBQUsrUixZLEVBL0QzRCxDQUFTLElBcUV2QyxTQUFTNEUsR0FBZXhiLEVBQUs3SCxFQUFNaUQsR0FFakMsSUFEQUgsSUFBSXVFLEVBQVFRLEVBQUk0QixRQUFRekosR0FBTytqQixFQUFPOWdCLEVBQUtqRCxFQUFNMEgsRUFBUUwsRUFBTUssTUFDeERxYyxFQUFPLEdBQUtyYyxFQUFRLEdBQUtMLEVBQU1TLFdBQVdKLElBQVVMLEVBQU10RCxLQUFLMkQsR0FBT3pDLFlBQzNFeUMsSUFDQXFjLElBRUYsR0FBSUEsRUFBTyxFQUVULElBREFqaEIsSUFBSW1HLEVBQU81QixFQUFNdEQsS0FBSzJELEdBQU92QyxXQUFXa0MsRUFBTVMsV0FBV0osSUFDbERxYyxFQUFPLEdBQUcsQ0FDZixJQUFLOWEsR0FBUUEsRUFBS2hGLE9BQVEsT0FBTyxFQUNqQ2dGLEVBQU9BLEVBQUsxRSxXQUNad2YsSUFHSixPQUFPLEVDNUpULFNBQVNDLEdBQU9qZ0IsRUFBTVQsRUFBT0QsR0FDM0IsT0FBaUIsR0FBVEMsR0FBY1MsRUFBSzZILFdBQVd0SSxFQUFPUyxFQUFLa0IsZUFDL0M1QixHQUFPVSxFQUFLa0IsWUFBY2xCLEVBQUs2SCxXQUFXLEVBQUd2SSxJQU8zQyxTQUFTNGdCLEdBQVdDLEdBR3pCLElBRkFwaEIsSUFDSXBFLEVBRFN3bEIsRUFBTTVuQixPQUNFb0MsUUFBUWlHLFdBQVd1ZixFQUFNaGEsV0FBWWdhLEVBQU0vWixVQUN2RHpDLEVBQVF3YyxFQUFNeGMsU0FBVUEsRUFBTyxDQUN0QzVFLElBQUlpQixFQUFPbWdCLEVBQU03YyxNQUFNdEQsS0FBSzJELEdBQ3hCNUMsRUFBUW9mLEVBQU03YyxNQUFNdkMsTUFBTTRDLEdBQVF5QyxFQUFXK1osRUFBTWxhLElBQUlsQyxXQUFXSixHQUN0RSxHQUFJQSxFQUFRd2MsRUFBTXhjLE9BQVMzRCxFQUFLNkgsV0FBVzlHLEVBQU9xRixFQUFVekwsR0FDMUQsT0FBT2dKLEVBQ1QsR0FBYSxHQUFUQSxHQUFjM0QsRUFBS3hILEtBQUttTSxLQUFLeWIsWUFBY0gsR0FBT2pnQixFQUFNZSxFQUFPcUYsR0FBVyxPQStDM0UsU0FBUzBGLEdBQWFxVSxFQUFPdFgsRUFBVTNGLEVBQU9tZCxRLFVBQWFGLEdBQ2hFcGhCLElBQUl1aEIsRUFRTixTQUE2QkgsRUFBTzNuQixHQUNsQyxlQUFhMk4sRUFBQSxFQUFBQSxXQUFZQyxFQUFBLEVBQUFBLFNBQ3JCa2EsRUFBUy9uQixFQUFPaVAsZUFBZXJCLEdBQVkyRixhQUFhdFQsR0FDNUQsSUFBSzhuQixFQUFRLE9BQU8sS0FDcEJ2aEIsSUFBSXdoQixFQUFRRCxFQUFPeG9CLE9BQVN3b0IsRUFBTyxHQUFLOW5CLEVBQ3hDLE9BQU9ELEVBQU80UCxlQUFlaEMsRUFBWUMsRUFBVW1hLEdBQVNELEVBQVMsS0FieERFLENBQW9CTCxFQUFPdFgsR0FDcENsSCxFQUFRMmUsR0FlZCxTQUE0QkgsRUFBTzNuQixHQUNqQyxlQUFhMk4sRUFBQSxFQUFBQSxXQUFZQyxFQUFBLEVBQUFBLFNBQ3JCekUsRUFBUXBKLEVBQU84RyxNQUFNOEcsR0FDckJzYSxFQUFTam9CLEVBQUtrUCxhQUFhb0UsYUFBYW5LLEVBQU1uSixNQUNsRCxJQUFLaW9CLEVBQVEsT0FBTyxLQUdwQixJQUZBMWhCLElBQ0kyaEIsR0FEV0QsRUFBTzNvQixPQUFTMm9CLEVBQU9BLEVBQU8zb0IsT0FBUyxHQUFLVSxHQUNqQ2tQLGFBQ2pCMVUsRUFBSW1ULEVBQVl1YSxHQUFjMXRCLEVBQUlvVCxFQUFVcFQsSUFDbkQwdEIsRUFBYUEsRUFBV3RZLFVBQVU3UCxFQUFPOEcsTUFBTXJNLEdBQUd3RixNQUNwRCxJQUFLa29CLElBQWVBLEVBQVd6WSxTQUFVLE9BQU8sS0FDaEQsT0FBT3dZLEVBekJlRSxDQUFtQk4sRUFBWXhYLEdBQ3JELE9BQUtsSCxFQUNFMmUsRUFBTzdtQixJQUFJbW5CLElBQVd0bUIsT0FBTyxDQUFDOUIsS0FBTXFRLEVBQVUzRixVQUFRNUksT0FBT3FILEVBQU1sSSxJQUFJbW5CLEtBRDNELEtBSXJCLFNBQVNBLEdBQVVwb0IsR0FBUSxNQUFPLENBQUNBLE9BQU0wSyxNQUFPLE1BaUZ6QyxTQUFTMmQsR0FBUy9jLEVBQUsxRSxFQUFLdUUsRUFBV21kLFEsVUFBSCxHQUN6Qy9oQixJQUFJZ2lCLEVBQU9qZCxFQUFJNEIsUUFBUXRHLEdBQU00SixFQUFPK1gsRUFBS3BkLE1BQVFBLEVBQzdDcWQsRUFBYUYsR0FBY0EsRUFBV0EsRUFBV2hwQixPQUFTLElBQU9pcEIsRUFBS3hvQixPQUMxRSxHQUFJeVEsRUFBTyxHQUFLK1gsRUFBS3hvQixPQUFPQyxLQUFLbU0sS0FBS3liLFlBQ2pDVyxFQUFLeG9CLE9BQU9zUCxXQUFXa1osRUFBS2hnQixRQUFTZ2dCLEVBQUt4b0IsT0FBTzJJLGNBQ2pEOGYsRUFBVXhvQixLQUFLZ1EsYUFBYXVZLEVBQUt4b0IsT0FBT29DLFFBQVFpRyxXQUFXbWdCLEVBQUtoZ0IsUUFBU2dnQixFQUFLeG9CLE9BQU8ySSxhQUN4RixPQUFPLEVBQ1QsSUFBS25DLElBQUl6TCxFQUFJeXRCLEVBQUtwZCxNQUFRLEVBQUczUSxFQUFJMlEsRUFBUSxFQUFHclEsRUFBSTBWLEVBQU0xVixJQUFLTixJQUFLLENBQzlEK0wsSUFBSWlCLEVBQU8rZ0IsRUFBSy9nQixLQUFLMU0sR0FBSXlOLEVBQVFnZ0IsRUFBS2hnQixNQUFNek4sR0FDNUMsR0FBSTBNLEVBQUt4SCxLQUFLbU0sS0FBS3liLFVBQVcsT0FBTyxFQUNyQ3JoQixJQUFJa2lCLEVBQU9qaEIsRUFBS3JGLFFBQVFpRyxXQUFXRyxFQUFPZixFQUFLa0IsWUFDM0NnRCxFQUFTNGMsR0FBY0EsRUFBVzl0QixJQUFPZ04sRUFFN0MsR0FESWtFLEdBQVNsRSxJQUFNaWhCLEVBQU9BLEVBQUtuZ0IsYUFBYSxFQUFHb0QsRUFBTTFMLEtBQUtsRSxPQUFPNFAsRUFBTWhCLFVBQ2xFbEQsRUFBSzZILFdBQVc5RyxFQUFRLEVBQUdmLEVBQUtrQixjQUFnQmdELEVBQU0xTCxLQUFLZ1EsYUFBYXlZLEdBQzNFLE9BQU8sRUFFWGxpQixJQUFJZ0MsRUFBUWdnQixFQUFLaGQsV0FBV2lGLEdBQ3hCa1ksRUFBV0osR0FBY0EsRUFBVyxHQUN4QyxPQUFPQyxFQUFLL2dCLEtBQUtnSixHQUFNYixlQUFlcEgsRUFBT0EsRUFBT21nQixFQUFXQSxFQUFTMW9CLEtBQU91b0IsRUFBSy9nQixLQUFLZ0osRUFBTyxHQUFHeFEsTUFzQjlGLFNBQVMyb0IsR0FBUXJkLEVBQUsxRSxHQUMzQkwsSUFBSWdpQixFQUFPamQsRUFBSTRCLFFBQVF0RyxHQUFNMkIsRUFBUWdnQixFQUFLaGdCLFFBQzFDLE9BQU8sR0FBU2dnQixFQUFLMWMsV0FBWTBjLEVBQUs1YyxZQUNwQzRjLEVBQUt4b0IsT0FBT3NQLFdBQVc5RyxFQUFPQSxFQUFRLEdBRzFDLFNBQVMsR0FBU08sRUFBR0MsR0FDbkIsT0FBT0QsR0FBS0MsSUFBTUQsRUFBRXBCLFFBQVVvQixFQUFFK0csVUFBVTlHLEdDek01QyxTQUFTNmYsR0FBWXRILEVBQVV2YixFQUFHaEcsR0FFaEMsSUFEQXdHLElBQUl2RixFQUFTLEdBQ0p4RyxFQUFJLEVBQUdBLEVBQUk4bUIsRUFBUzVZLFdBQVlsTyxJQUFLLENBQzVDK0wsSUFBSU0sRUFBUXlhLEVBQVN6YSxNQUFNck0sR0FDdkJxTSxFQUFNMUUsUUFBUThELE9BQU1ZLEVBQVFBLEVBQU03RSxLQUFLNG1CLEdBQVkvaEIsRUFBTTFFLFFBQVM0RCxFQUFHYyxLQUNyRUEsRUFBTTRGLFdBQVU1RixFQUFRZCxFQUFFYyxFQUFPOUcsRUFBUXZGLElBQzdDd0csRUFBT2xCLEtBQUsrRyxHQUVkLE9BQU9QLEVBQVNnRSxVQUFVdEosR0ZzSTVCLEdBQUt1bEIsT0FBTyxnQkFBaUIsSUNqSDdCLEdBQVVucUIsVUFBVXlzQixLQUFPLFNBQVNsQixFQUFPcFUsR0FPekMsSUFOQSxjQUFZOUYsRUFBQSxFQUFBQSxJQUFLdEMsRUFBQSxFQUFBQSxNQUViMmQsRUFBV2hlLEVBQU1XLE9BQU9OLEVBQVEsR0FBSTRkLEVBQVN0YixFQUFJL0IsTUFBTVAsRUFBUSxHQUMvRHBFLEVBQVEraEIsRUFBVWhpQixFQUFNaWlCLEVBRXhCdGQsRUFBU25GLEVBQVMrQixNQUFPMmUsRUFBWSxFQUNoQ2xzQixFQUFJcVEsRUFBTzZkLEdBQVksRUFBT2x1QixFQUFJeVksRUFBUXpZLElBQzdDa3VCLEdBQWFsZSxFQUFNdkMsTUFBTXpOLEdBQUssR0FDaENrdUIsR0FBWSxFQUNadmQsRUFBU25GLEVBQVM3QyxLQUFLcUgsRUFBTXRELEtBQUsxTSxHQUFHa0gsS0FBS3lKLElBQzFDdWIsS0FFQWpnQixJQUdKLElBREFSLElBQUltRixFQUFRcEYsRUFBUytCLE1BQU8wVCxFQUFVLEVBQzdCamhCLEVBQUlxUSxFQUFPNmQsR0FBWSxFQUFPbHVCLEVBQUl5WSxFQUFRelksSUFDN0NrdUIsR0FBYXZiLEVBQUkvQixNQUFNNVEsRUFBSSxHQUFLMlMsRUFBSTNHLElBQUloTSxJQUMxQ2t1QixHQUFZLEVBQ1p0ZCxFQUFRcEYsRUFBUzdDLEtBQUtnSyxFQUFJakcsS0FBSzFNLEdBQUdrSCxLQUFLMEosSUFDdkNxUSxLQUVBalYsSUFHSixPQUFPbkssS0FBSytvQixLQUFLLElBQUksR0FBa0IzZSxFQUFPRCxFQUFLZ2lCLEVBQVVDLEVBQ3RCLElBQUl6YSxFQUFNN0MsRUFBT3RGLE9BQU91RixHQUFRc2IsRUFBV2pMLEdBQzNDdFEsRUFBT3hGLEtBQU8rZ0IsR0FBVyxLQTRDbEUsR0FBVTVxQixVQUFVMGYsS0FBTyxTQUFTNkwsRUFBT3NCLEdBRXpDLElBREExaUIsSUFBSXBFLEVBQVVtRSxFQUFTK0IsTUFDZDdOLEVBQUl5dUIsRUFBUzNwQixPQUFTLEVBQUc5RSxHQUFLLEVBQUdBLElBQ3hDMkgsRUFBVW1FLEVBQVM3QyxLQUFLd2xCLEVBQVN6dUIsR0FBR3dGLEtBQUtsRSxPQUFPbXRCLEVBQVN6dUIsR0FBR2tRLE1BQU92SSxJQUVyRW9FLElBQUlRLEVBQVE0Z0IsRUFBTTVnQixNQUFPRCxFQUFNNmdCLEVBQU03Z0IsSUFDckMsT0FBT25LLEtBQUsrb0IsS0FBSyxJQUFJLEdBQWtCM2UsRUFBT0QsRUFBS0MsRUFBT0QsRUFBSyxJQUFJd0gsRUFBTW5NLEVBQVMsRUFBRyxHQUFJOG1CLEVBQVMzcEIsUUFBUSxLQU01RyxHQUFVbEQsVUFBVThzQixhQUFlLFNBQVN6bEIsRUFBTWlELEVBQVcxRyxFQUFNMEssRyxXQUNqRSxRLFVBRHFEakgsSUFDaER6RCxFQUFLNE8sWUFBYSxNQUFNLElBQUlqRyxXQUFXLG9EQUM1Q3BDLElBQUk0aUIsRUFBVXhzQixLQUFLNG9CLE1BQU1qbUIsT0FZekIsT0FYQTNDLEtBQUsyTyxJQUFJN0UsYUFBYWhELEVBQU1pRCxHQUFJLFNBQUNjLEVBQU1aLEdBQ3JDLEdBQUlZLEVBQUtvSCxjQUFnQnBILEVBQUt5RyxVQUFVak8sRUFBTTBLLElBYWxELFNBQXVCWSxFQUFLMUUsRUFBSzVHLEdBQy9CdUcsSUFBSWdpQixFQUFPamQsRUFBSTRCLFFBQVF0RyxHQUFNMkIsRUFBUWdnQixFQUFLaGdCLFFBQzFDLE9BQU9nZ0IsRUFBS3hvQixPQUFPNFAsZUFBZXBILEVBQU9BLEVBQVEsRUFBR3ZJLEdBZk1vcEIsQ0FBY3pzQixFQUFLMk8sSUFBSzNPLEVBQUtrb0IsUUFBUWxoQixNQUFNd2xCLEdBQVNsb0IsSUFBSTJGLEdBQU01RyxHQUFPLENBRTNIckQsRUFBSzBzQixrQkFBa0Ixc0IsRUFBS2tvQixRQUFRbGhCLE1BQU13bEIsR0FBU2xvQixJQUFJMkYsRUFBSyxHQUFJNUcsR0FDaEV1RyxJQUFJc2UsRUFBVWxvQixFQUFLa29CLFFBQVFsaEIsTUFBTXdsQixHQUM3QkcsRUFBU3pFLEVBQVE1akIsSUFBSTJGLEVBQUssR0FBSTJpQixFQUFPMUUsRUFBUTVqQixJQUFJMkYsRUFBTVksRUFBS2hCLFNBQVUsR0FHMUUsT0FGQTdKLEVBQUsrb0IsS0FBSyxJQUFJLEdBQWtCNEQsRUFBUUMsRUFBTUQsRUFBUyxFQUFHQyxFQUFPLEVBQ2pDLElBQUlqYixFQUFNaEksRUFBUzdDLEtBQUt6RCxFQUFLbEUsT0FBTzRPLEVBQU8sS0FBTWxELEVBQUtzRSxRQUFTLEVBQUcsR0FBSSxHQUFHLEtBQ2xHLE1BR0puUCxNQVdULEdBQVVQLFVBQVVvdEIsY0FBZ0IsU0FBUzVpQixFQUFLNUcsRUFBTTBLLEVBQU9vQixHQUM3RHZGLElBQUlpQixFQUFPN0ssS0FBSzJPLElBQUlpRCxPQUFPM0gsR0FDM0IsSUFBS1ksRUFBTSxNQUFNLElBQUltQixXQUFXLDZCQUMzQjNJLElBQU1BLEVBQU93SCxFQUFLeEgsTUFDdkJ1RyxJQUFJa2pCLEVBQVV6cEIsRUFBS2xFLE9BQU80TyxFQUFPLEtBQU1vQixHQUFTdEUsRUFBS3NFLE9BQ3JELEdBQUl0RSxFQUFLRSxPQUNQLE9BQU8vSyxLQUFLK3NCLFlBQVk5aUIsRUFBS0EsRUFBTVksRUFBS2hCLFNBQVVpakIsR0FFcEQsSUFBS3pwQixFQUFLZ1EsYUFBYXhJLEVBQUtyRixTQUMxQixNQUFNLElBQUl3RyxXQUFXLGlDQUFtQzNJLEVBQUtqRixNQUUvRCxPQUFPNEIsS0FBSytvQixLQUFLLElBQUksR0FBa0I5ZSxFQUFLQSxFQUFNWSxFQUFLaEIsU0FBVUksRUFBTSxFQUFHQSxFQUFNWSxFQUFLaEIsU0FBVyxFQUN6RCxJQUFJOEgsRUFBTWhJLEVBQVM3QyxLQUFLZ21CLEdBQVUsRUFBRyxHQUFJLEdBQUcsS0FnQ3JGLEdBQVVydEIsVUFBVThYLE1BQVEsU0FBU3ROLEVBQUt1RSxFQUFXbWQsUSxVQUFILEdBRWhELElBREEvaEIsSUFBSWdpQixFQUFPNXJCLEtBQUsyTyxJQUFJNEIsUUFBUXRHLEdBQU02RSxFQUFTbkYsRUFBUytCLE1BQU9xRCxFQUFRcEYsRUFBUytCLE1BQ25Fdk4sRUFBSXl0QixFQUFLcGQsTUFBT3liLEVBQUkyQixFQUFLcGQsTUFBUUEsRUFBTzNRLEVBQUkyUSxFQUFRLEVBQUdyUSxFQUFJOHJCLEVBQUc5ckIsSUFBS04sSUFBSyxDQUMvRWlSLEVBQVNuRixFQUFTN0MsS0FBSzhrQixFQUFLL2dCLEtBQUsxTSxHQUFHa0gsS0FBS3lKLElBQ3pDbEYsSUFBSW9qQixFQUFZckIsR0FBY0EsRUFBVzl0QixHQUN6Q2tSLEVBQVFwRixFQUFTN0MsS0FBS2ttQixFQUFZQSxFQUFVM3BCLEtBQUtsRSxPQUFPNnRCLEVBQVVqZixNQUFPZ0IsR0FBUzZjLEVBQUsvZ0IsS0FBSzFNLEdBQUdrSCxLQUFLMEosSUFFdEcsT0FBTy9PLEtBQUsrb0IsS0FBSyxJQUFJLEdBQVk5ZSxFQUFLQSxFQUFLLElBQUkwSCxFQUFNN0MsRUFBT3RGLE9BQU91RixHQUFRUCxFQUFPQSxJQUFRLEtBMkM1RixHQUFVL08sVUFBVTZOLEtBQU8sU0FBU3JELEVBQUt1RSxRLFVBQVEsR0FDL0M1RSxJQUFJbWYsRUFBTyxJQUFJLEdBQVk5ZSxFQUFNdUUsRUFBT3ZFLEVBQU11RSxFQUFPbUQsRUFBTWpHLE9BQU8sR0FDbEUsT0FBTzFMLEtBQUsrb0IsS0FBS0EsSUM3Tm5CLElBQWEsR0FBVyxZQUV0QixXQUFZamlCLEVBQU1pRCxFQUFJMEgsR0FDcEJtQyxPQUFNLE1BQ041VCxLQUFLOEcsS0FBT0EsRUFDWjlHLEtBQUsrSixHQUFLQSxFQUNWL0osS0FBS3lSLEtBQU9BLEUsMEdBR2R5WCxNQUFBLFNBQU12YSxHLFdBQ0FzZSxFQUFXdGUsRUFBSTNILE1BQU1oSCxLQUFLOEcsS0FBTTlHLEtBQUsrSixJQUFLb0UsRUFBUVEsRUFBSTRCLFFBQVF2USxLQUFLOEcsTUFDbkUxRCxFQUFTK0ssRUFBTXRELEtBQUtzRCxFQUFNNkIsWUFBWWhRLEtBQUsrSixLQUMzQy9DLEVBQVEsSUFBSTJLLEVBQU1zYSxHQUFZZ0IsRUFBU3puQixTQUFTLFNBQUNxRixFQUFNekgsR0FDekQsT0FBS0EsRUFBT0MsS0FBS21XLGVBQWV4WixFQUFLeVIsS0FBS3BPLE1BQ25Dd0gsRUFBSzRHLEtBQUt6UixFQUFLeVIsS0FBS2lPLFNBQVM3VSxFQUFLc0UsUUFEZXRFLElBRXZEekgsR0FBUzZwQixFQUFTNUMsVUFBVzRDLEVBQVM3TixTQUN6QyxPQUFPMEssR0FBV0UsWUFBWXJiLEVBQUszTyxLQUFLOEcsS0FBTTlHLEtBQUsrSixHQUFJL0MsSSxZQUd6RHdnQixPQUFBLFdBQ0UsT0FBTyxJQUFJLEdBQWV4bkIsS0FBSzhHLEtBQU05RyxLQUFLK0osR0FBSS9KLEtBQUt5UixPLFlBR3JEbk4sSUFBQSxTQUFJNGpCLEdBQ0Z0ZSxJQUFJOUMsRUFBT29oQixFQUFRckIsVUFBVTdtQixLQUFLOEcsS0FBTSxHQUFJaUQsRUFBS21lLEVBQVFyQixVQUFVN21CLEtBQUsrSixJQUFLLEdBQzdFLE9BQUlqRCxFQUFLd2YsU0FBV3ZjLEVBQUd1YyxTQUFXeGYsRUFBS21ELEtBQU9GLEVBQUdFLElBQVksS0FDdEQsSUFBSWlqQixFQUFZcG1CLEVBQUttRCxJQUFLRixFQUFHRSxJQUFLakssS0FBS3lSLE8sWUFHaERnWSxNQUFBLFNBQU14ZSxHQUNKLEdBQUlBLGFBQWlCaWlCLEdBQ2pCamlCLEVBQU13RyxLQUFLM0YsR0FBRzlMLEtBQUt5UixPQUNuQnpSLEtBQUs4RyxNQUFRbUUsRUFBTWxCLElBQU0vSixLQUFLK0osSUFBTWtCLEVBQU1uRSxLQUM1QyxPQUFPLElBQUlvbUIsRUFBWWhsQixLQUFLb0MsSUFBSXRLLEtBQUs4RyxLQUFNbUUsRUFBTW5FLE1BQzFCb0IsS0FBS21DLElBQUlySyxLQUFLK0osR0FBSWtCLEVBQU1sQixJQUFLL0osS0FBS3lSLE8sWUFHN0RsRSxPQUFBLFdBQ0UsTUFBTyxDQUFDb2MsU0FBVSxVQUFXbFksS0FBTXpSLEtBQUt5UixLQUFLbEUsU0FDckN6RyxLQUFNOUcsS0FBSzhHLEtBQU1pRCxHQUFJL0osS0FBSytKLEtBR3BDLEVBQU95RCxTQUFBLFNBQVNDLEVBQVErRixHQUN0QixHQUF3QixpQkFBYkEsRUFBSzFNLE1BQXNDLGlCQUFYME0sRUFBS3pKLEdBQzlDLE1BQU0sSUFBSWlDLFdBQVcsMENBQ3ZCLE9BQU8sSUFBSWtoQixFQUFZMVosRUFBSzFNLEtBQU0wTSxFQUFLekosR0FBSTBELEVBQU9nRyxhQUFhRCxFQUFLL0IsUSxFQTdDaEQsQ0FBUyxJQWlEakMsR0FBS21ZLE9BQU8sVUFBVyxJQUd2QixJQUFhLEdBQWMsWUFFekIsV0FBWTlpQixFQUFNaUQsRUFBSTBILEdBQ3BCbUMsT0FBTSxNQUNONVQsS0FBSzhHLEtBQU9BLEVBQ1o5RyxLQUFLK0osR0FBS0EsRUFDVi9KLEtBQUt5UixLQUFPQSxFLDBHQUdkeVgsTUFBQSxTQUFNdmEsRyxXQUNBc2UsRUFBV3RlLEVBQUkzSCxNQUFNaEgsS0FBSzhHLEtBQU05RyxLQUFLK0osSUFDckMvQyxFQUFRLElBQUkySyxFQUFNc2EsR0FBWWdCLEVBQVN6bkIsU0FBUyxTQUFBcUYsR0FDbEQsT0FBT0EsRUFBSzRHLEtBQUt6UixFQUFLeVIsS0FBSzlCLGNBQWM5RSxFQUFLc0UsV0FDNUM4ZCxFQUFTNUMsVUFBVzRDLEVBQVM3TixTQUNqQyxPQUFPMEssR0FBV0UsWUFBWXJiLEVBQUszTyxLQUFLOEcsS0FBTTlHLEtBQUsrSixHQUFJL0MsSSxZQUd6RHdnQixPQUFBLFdBQ0UsT0FBTyxJQUFJLEdBQVl4bkIsS0FBSzhHLEtBQU05RyxLQUFLK0osR0FBSS9KLEtBQUt5UixPLFlBR2xEbk4sSUFBQSxTQUFJNGpCLEdBQ0Z0ZSxJQUFJOUMsRUFBT29oQixFQUFRckIsVUFBVTdtQixLQUFLOEcsS0FBTSxHQUFJaUQsRUFBS21lLEVBQVFyQixVQUFVN21CLEtBQUsrSixJQUFLLEdBQzdFLE9BQUlqRCxFQUFLd2YsU0FBV3ZjLEVBQUd1YyxTQUFXeGYsRUFBS21ELEtBQU9GLEVBQUdFLElBQVksS0FDdEQsSUFBSWtqQixFQUFlcm1CLEVBQUttRCxJQUFLRixFQUFHRSxJQUFLakssS0FBS3lSLE8sWUFHbkRnWSxNQUFBLFNBQU14ZSxHQUNKLEdBQUlBLGFBQWlCa2lCLEdBQ2pCbGlCLEVBQU13RyxLQUFLM0YsR0FBRzlMLEtBQUt5UixPQUNuQnpSLEtBQUs4RyxNQUFRbUUsRUFBTWxCLElBQU0vSixLQUFLK0osSUFBTWtCLEVBQU1uRSxLQUM1QyxPQUFPLElBQUlxbUIsRUFBZWpsQixLQUFLb0MsSUFBSXRLLEtBQUs4RyxLQUFNbUUsRUFBTW5FLE1BQzFCb0IsS0FBS21DLElBQUlySyxLQUFLK0osR0FBSWtCLEVBQU1sQixJQUFLL0osS0FBS3lSLE8sWUFHaEVsRSxPQUFBLFdBQ0UsTUFBTyxDQUFDb2MsU0FBVSxhQUFjbFksS0FBTXpSLEtBQUt5UixLQUFLbEUsU0FDeEN6RyxLQUFNOUcsS0FBSzhHLEtBQU1pRCxHQUFJL0osS0FBSytKLEtBR3BDLEVBQU95RCxTQUFBLFNBQVNDLEVBQVErRixHQUN0QixHQUF3QixpQkFBYkEsRUFBSzFNLE1BQXNDLGlCQUFYME0sRUFBS3pKLEdBQzlDLE1BQU0sSUFBSWlDLFdBQVcsNkNBQ3ZCLE9BQU8sSUFBSW1oQixFQUFlM1osRUFBSzFNLEtBQU0wTSxFQUFLekosR0FBSTBELEVBQU9nRyxhQUFhRCxFQUFLL0IsUSxFQTNDaEQsQ0FBUyxJWnhEN0IsU0FBUzJiLEdBQVl6ZSxFQUFLN0gsRUFBTWlELEVBQVcvQyxHQUNoRCxRLFVBRDBDRixRLFVBQWM2SyxFQUFNakcsT0FDMUQ1RSxHQUFRaUQsSUFBTy9DLEVBQU1zQyxLQUFNLE9BQU8sS0FFdENNLElBQUl1RSxFQUFRUSxFQUFJNEIsUUFBUXpKLEdBQU9nSyxFQUFNbkMsRUFBSTRCLFFBQVF4RyxHQUVqRCxHQUFJc2pCLEdBQWNsZixFQUFPMkMsRUFBSzlKLEdBQVEsT0FBTyxJQUFJLEdBQVlGLEVBQU1pRCxFQUFJL0MsR0FDdkU0QyxJQUVJMGpCLEVBK0ROLFNBQWlCbmYsRUFBT29mLEdBQ3RCLE1BckJGLFNBQVNDLEVBQWFyZixFQUFPSyxFQUFPK2UsRUFBUUUsR0FDMUM3akIsSUFBSXBFLEVBQVVtRSxFQUFTK0IsTUFBTzBULEVBQVUsRUFBR3NPLEVBQWFILEVBQU8vZSxHQUMvRCxHQUFJTCxFQUFNSyxNQUFRQSxFQUFPLENBQ3ZCNUUsSUFBSTRDLEVBQVFnaEIsRUFBYXJmLEVBQU9LLEVBQVEsRUFBRytlLEVBQVFFLEdBQWVDLEdBQ2xFdE8sRUFBVTVTLEVBQU00UyxRQUFVLEVBQzFCNVosRUFBVW1FLEVBQVM3QyxLQUFLcUgsRUFBTXRELEtBQUsyRCxFQUFRLEdBQUduSixLQUFLbUgsRUFBTWhILFVBR3ZEa29CLElBQ0Zsb0IsRUFBVUEsRUFBUWdFLE9BQU9ra0IsRUFBV2xvQixTQUNwQzRaLEVBQVVzTyxFQUFXdE8sU0FFbkJxTyxJQUNGam9CLEVBQVVBLEVBQVFnRSxPQUFPMkUsRUFBTXRELEtBQUsyRCxHQUFPNkQsZUFBZWxFLEVBQU1TLFdBQVdKLElBQVEySCxXQUFXeE0sRUFBUytCLE9BQU8sSUFDOUcwVCxFQUFVLEdBR1osTUFBTyxDQUFDNVosVUFBUzRaLFdBSVFvTyxDQUFhcmYsRUFBTyxFQUFHb2YsR0FBUSxHQUFuRC9uQixFQUFBLEVBQUFBLFFBQVM0WixFQUFBLEVBQUFBLFFBQ2QsT0FBTyxJQUFJek4sRUFBTW5NLEVBQVMySSxFQUFNSyxNQUFPNFEsR0FBVyxHQWpFakN1TyxDQUFReGYsRUE2TTNCLFNBQW9CQSxFQUFPbkgsR0FFekIsSUFEQTRDLElBQUlna0IsRUFBVyxJQUFJLEdBQVN6ZixHQUNuQjBmLEVBQU8sRUFBRzdtQixFQUFNc0MsTUFBUXVrQixHQUFRLEVBQUdBLElBQVEsQ0FDbERqa0IsSUFBSTlLLEVBQVE4dUIsRUFBU0UsV0FBVzltQixFQUFNeEIsUUFBU3dCLEVBQU1xakIsVUFBV3JqQixFQUFNb1ksUUFBU3lPLEdBQ25FLEdBQVJBLEdBQWEvdUIsR0FBU2tJLEdBQVNsSSxFQUFNd0ssT0FBTXVrQixFQUFPLEdBQ3REN21CLEVBQVFsSSxFQUVWLEtBQU84dUIsRUFBU2hPLEtBQUtqZCxRQUFRaXJCLEVBQVNHLFlBQ3RDLE9BQU9ILEVBQVNMLE9Bdk5ILENBQVdwZixFQUFPbkgsSUFHM0JnbkIsRUFBU0MsR0FBUzlmLEVBQU8yQyxFQUFLd2MsR0FDbEMsSUFBS1UsRUFBUSxPQUFPLEtBQ3BCLEdBQUlWLEVBQVdoa0IsTUFBUTBrQixFQUFPMWtCLE1BbUtoQyxTQUFxQjZFLEVBQU8yQyxFQUFLOUosR0FDL0IsSUFBSzhKLEVBQUkxTixPQUFPNk8sWUFBYSxPQUFPLEVBRXBDckksSUFLSTBJLEVBTEFsUCxFQUFTNEQsRUFBTW9ZLFFBZ0JyQixTQUFtQjVaLEVBQVNnSixHQUMxQixJQUFLNUUsSUFBSS9MLEVBQUksRUFBR0EsRUFBSTJRLEVBQU8zUSxJQUFLMkgsRUFBVUEsRUFBUTJGLFVBQVUzRixRQUM1RCxPQUFPQSxFQUFRMkYsVUFsQmMraUIsQ0FBVWxuQixFQUFNeEIsUUFBU3dCLEVBQU1vWSxTQUN0RGpSLEVBQU10RCxLQUFLc0QsRUFBTUssT0FBU3hILEVBQU1xakIsVUFBWXJqQixFQUFNb1ksVUFDeEQsSUFBS2hjLEVBQU82TyxZQUFhLE9BQU8sRUFDaEMsSUFBS3JJLElBQUkvTCxFQUFJaVQsRUFBSWxGLFFBQVMvTixFQUFJaVQsRUFBSTFOLE9BQU8ySSxXQUFZbE8sSUFDbkQsSUFBS3VGLEVBQU9DLEtBQUswUCxZQUFZakMsRUFBSTFOLE9BQU84RyxNQUFNck0sR0FBR3NSLE9BQVEsT0FBTyxFQUU5RG5JLEVBQU1vWSxRQUNSOU0sRUFBUWxQLEVBQU9pUCxlQUFlalAsRUFBTzJJLGFBRXJDdUcsRUFBUWxQLEVBQU9pUCxlQUFlalAsRUFBTzJJLFlBQ2pDL0UsRUFBTXNDLE9BQU1nSixFQUFRQSxFQUFNRSxjQUFjeEwsRUFBTXhCLFFBQVN3QixFQUFNcWpCLFVBQVksRUFBSSxLQUduRixPQURBL1gsRUFBUUEsRUFBTUUsY0FBYzFCLEVBQUkxTixPQUFPb0MsUUFBU3NMLEVBQUlsRixXQUNwQzBHLEVBQU1RLFNBbkxnQnFiLENBQVloZ0IsRUFBTzJDLEVBQUt3YyxHQUFhLENBRXpFLElBREExakIsSUFBSXpMLEVBQUkyUyxFQUFJdEMsTUFBT08sRUFBUStCLEVBQUkvQixNQUFNNVEsR0FDOUJBLEVBQUksR0FBSzRRLEdBQVMrQixFQUFJM0csTUFBTWhNLE1BQU00USxFQUN6Q25GLElBQUl3a0IsRUFBY0gsR0FBUzlmLEVBQU9RLEVBQUk0QixRQUFReEIsR0FBUXVlLEdBQ3RELEdBQUljLEVBQ0YsT0FBTyxJQUFJLEdBQWtCdG5CLEVBQU1pSSxFQUFPaEYsRUFBSStHLEVBQUkzRyxNQUFPaWtCLEVBQWFkLEVBQVdoa0IsTUFFckYsT0FBTzBrQixFQUFPMWtCLE1BQVF4QyxHQUFRaUQsRUFBSyxJQUFJLEdBQVlqRCxFQUFNaUQsRUFBSWlrQixHQUFVLEtBMER6RSxTQUFTSyxHQUFhN29CLEVBQVNwQyxFQUFRK0ssRUFBTzJDLEVBQUt0QyxFQUFPNmIsRUFBV2pMLEdBQ25FeFYsSUFBSTBJLEVBQU9nYyxFQUFROW9CLEVBQVF1RyxXQUFZd2lCLEVBQWFELEdBQVNsUCxFQUFVLEVBQUksRUFBSSxHQUMzRS9YLEVBQWFnakIsRUFBWSxFQUFJam5CLEVBQVMrSyxFQUFNdEQsS0FBSzJELEdBRW5EOEQsRUFERStYLEVBQVksRUFDTmhqQixFQUFXZ0wsZUFBZWtjLEdBQ2xCLEdBQVRELEdBQWNsUCxFQUFVLEVBQ3ZCL1gsRUFBV2dMLGVBQWVnWSxFQUFZbGMsRUFBTXZDLE1BQU00QyxHQUFTTCxFQUFNUyxXQUFXSixJQUU1RW5ILEVBQVdnTCxlQUFlbEUsRUFBTVMsV0FBV0osSUFDaERnRSxjQUFjaE4sRUFBUzhvQixFQUFRLEdBQUtqRSxFQUFZLEVBQUksRUFBR2tFLEdBRTVEM2tCLElBQUk0a0IsRUFBUzFkLEVBQUlqRyxLQUFLMkQsR0FDdEIsR0FBSTRRLEVBQVUsR0FBSzVRLEVBQVFzQyxFQUFJdEMsTUFBTyxDQUNwQzVFLElBQUltRixFQUFReWYsRUFBT2hwQixRQUFRaUcsV0FBV3FGLEVBQUlsQyxXQUFXSixJQUFRMUYsV0FBV3RELEVBQVEyRixXQUM1RXNqQixFQUFXbmMsRUFBTTZELFdBQVdwSCxHQUFPLEdBSXZDLEdBRkkwZixHQUFZQSxFQUFTbmxCLE1BQVErZ0IsRUFBWSxHQUFjLEdBQVRpRSxJQUFZRyxFQUFXLE1BRXJFQSxFQUFVLENBQ1o3a0IsSUFBSTRDLEVBQVE2aEIsR0FBYTdvQixFQUFRMkYsVUFBVTNGLFFBQVNBLEVBQVEyRixVQUFXZ0QsRUFBTzJDLEVBQ3JEdEMsRUFBUSxFQUFZLEdBQVQ4ZixFQUFhakUsRUFBWSxHQUFLLEVBQUdqTCxFQUFVLEdBQy9FLEdBQUk1UyxFQUFPLENBQ1Q1QyxJQUFJc0IsRUFBTzFGLEVBQVEyRixVQUFVOUYsS0FBS21ILEdBQ2xDLE9BQUlpaUIsRUFBU25sQixLQUNKOUQsRUFBUWlHLFdBQVcsRUFBRzZpQixFQUFRLEdBQUc5a0IsT0FBT2lsQixHQUFVMWxCLFNBQVNtQyxHQUUzRDFGLEVBQVFtRyxhQUFhMmlCLEVBQVEsRUFBR3BqQixLQUkzQ2tVLEVBQVUsSUFDWjlNLEVBQVFBLEVBQU1XLFdBQW9CLEdBQVRxYixHQUFjakUsRUFBWSxFQUFJbGMsRUFBTXRELEtBQUsyRCxFQUFRLEdBQUtoSixFQUFRMkYsV0FBVzlILE9BSXBHdUcsSUFBSThrQixFQUFVNWQsRUFBSWxGLE1BQU00QyxHQUN4QixHQUFJa2dCLEdBQVdGLEVBQU96aUIsYUFBZXlpQixFQUFPbnJCLEtBQUs4UCxrQkFBa0IvUCxFQUFPQyxNQUFPLE9BQU8sS0FFeEYsSUFEQXVHLElBQUk2a0IsRUFBV25jLEVBQU02RCxXQUFXcVksRUFBT2hwQixTQUFTLEVBQU1rcEIsR0FDN0M3d0IsRUFBSTZ3QixFQUFTRCxHQUFZNXdCLEVBQUkyd0IsRUFBT2hwQixRQUFRdUcsV0FBWWxPLElBQzFEd0osRUFBV2hFLEtBQUswUCxZQUFZeWIsRUFBT2hwQixRQUFRMEUsTUFBTXJNLEdBQUdzUixTQUFRc2YsRUFBVyxNQUM5RSxJQUFLQSxFQUFVLE9BQU8sS0FFdEIsR0FBSXJQLEVBQVUsRUFBRyxDQUNmeFYsSUFBSStrQixFQVVSLFNBQVNDLEVBQWUvakIsRUFBTXVVLEVBQVNqUixFQUFPSyxFQUFPNmIsR0FDbkR6Z0IsSUFBSTBJLEVBQU85TSxFQUFVcUYsRUFBS3JGLFFBQVM4b0IsRUFBUTlvQixFQUFRdUcsV0FFakR1RyxFQURFK1gsR0FBYSxFQUNQbGMsRUFBTXRELEtBQUsyRCxHQUFPNkQsZUFBZWxFLEVBQU1TLFdBQVdKLElBQ3ZEZ0UsY0FBY2hOLEVBQVM2a0IsRUFBWSxFQUFJLEVBQUksRUFBR2lFLEdBRXpDempCLEVBQUt3SCxlQUFlaWMsR0FFOUIsR0FBSWxQLEVBQVUsRUFBRyxDQUNmeFYsSUFBSStrQixFQUFTQyxFQUFlcHBCLEVBQVEyRixVQUFXaVUsRUFBVSxFQUFHalIsRUFBT0ssRUFBUSxFQUN0QyxHQUFUOGYsRUFBYWpFLEVBQVksR0FBSyxHQUMxRDdrQixFQUFVQSxFQUFRbUcsYUFBYTJpQixFQUFRLEVBQUdLLEdBRzVDLE9BQU85akIsRUFBS3hGLEtBQUtHLEVBQVFnRSxPQUFPOEksRUFBTTZELFdBQVd4TSxFQUFTK0IsT0FBTyxLQXhCbERrakIsQ0FBZXBwQixFQUFRMkYsVUFBV2lVLEVBQVUsRUFBR2pSLEVBQU9LLEVBQVEsRUFDdEMsR0FBVDhmLEVBQWFqRSxFQUFZLEdBQUssR0FDMUQ3a0IsRUFBVUEsRUFBUW1HLGFBQWEyaUIsRUFBUSxFQUFHSyxHQUs1QyxPQUhBbnBCLEVBQVVBLEVBQVFnRSxPQUFPaWxCLEdBQ3JCM2QsRUFBSXRDLE1BQVFBLElBQ2RoSixFQUFVQSxFQUFRdUQsU0FxQnRCLFNBQVM4bEIsRUFBaUIvZCxFQUFLdEMsR0FDN0I1RSxJQUFJaUIsRUFBT2lHLEVBQUlqRyxLQUFLMkQsR0FDaEIwUSxFQUFPclUsRUFBS3dILGVBQWUsR0FBRzhELFdBQVd0TCxFQUFLckYsU0FBUyxFQUFNc0wsRUFBSWxGLE1BQU00QyxJQUN2RXNDLEVBQUl0QyxNQUFRQSxJQUFPMFEsRUFBT0EsRUFBS25XLFNBQVM4bEIsRUFBaUIvZCxFQUFLdEMsRUFBUSxLQUMxRSxPQUFPM0QsRUFBS3hGLEtBQUs2WixHQXpCWTJQLENBQWlCL2QsRUFBS3RDLEVBQVEsS0FDcERoSixFQXFDVCxTQUFTeW9CLEdBQVM5ZixFQUFPMkMsRUFBSzlKLEdBQzVCNEMsSUFBSW9rQixFQUFTSyxHQUFhcm5CLEVBQU14QixRQUFTMkksRUFBTXRELEtBQUssR0FBSXNELEVBQU8yQyxFQUFLLEVBQUc5SixFQUFNcWpCLFVBQVdyakIsRUFBTW9ZLFNBQzlGLE9BQUs0TyxFQVpQLFNBQXdCeG9CLEVBQVM2a0IsRUFBV2pMLEdBQzFDLEtBQU9pTCxFQUFZLEdBQUtqTCxFQUFVLEdBQTJCLEdBQXRCNVosRUFBUXVHLFlBQzdDdkcsRUFBVUEsRUFBUTZGLFdBQVc3RixRQUM3QjZrQixJQUNBakwsSUFFRixPQUFPLElBQUl6TixFQUFNbk0sRUFBUzZrQixFQUFXakwsR0FPOUIwUCxDQUFlZCxFQUFRaG5CLEVBQU1xakIsVUFBV3ZaLEVBQUl0QyxPQUQvQixLQUl0QixTQUFTNmUsR0FBY2xmLEVBQU8yQyxFQUFLOUosR0FDakMsT0FBUUEsRUFBTXFqQixZQUFjcmpCLEVBQU1vWSxTQUFXalIsRUFBTS9ELFNBQVcwRyxFQUFJMUcsU0FDaEUrRCxFQUFNL0ssT0FBT3NQLFdBQVd2RSxFQUFNdkMsUUFBU2tGLEVBQUlsRixRQUFTNUUsRUFBTXhCLFNZcEU5RCxHQUFLb2tCLE9BQU8sYUFBYyxJYjFHMUIsR0FBVW5xQixVQUFVc3ZCLFFBQVUsU0FBU2pvQixFQUFNaUQsRUFBSTBILEcsV0FDM0N1ZCxFQUFVLEdBQUlDLEVBQVEsR0FBSUMsRUFBVyxLQUFNQyxFQUFTLEtBMEJ4RCxPQXpCQW52QixLQUFLMk8sSUFBSTdFLGFBQWFoRCxFQUFNaUQsR0FBSSxTQUFDYyxFQUFNWixFQUFLN0csR0FDMUMsR0FBS3lILEVBQUtpRixTQUFWLENBQ0FsRyxJQUFJdUYsRUFBUXRFLEVBQUtzRSxNQUNqQixJQUFLc0MsRUFBSy9CLFFBQVFQLElBQVUvTCxFQUFPQyxLQUFLbVcsZUFBZS9ILEVBQUtwTyxNQUFPLENBSWpFLElBSEF1RyxJQUFJUSxFQUFRbEMsS0FBS21DLElBQUlKLEVBQUtuRCxHQUFPcUQsRUFBTWpDLEtBQUtvQyxJQUFJTCxFQUFNWSxFQUFLaEIsU0FBVUUsR0FDakVxbEIsRUFBUzNkLEVBQUtpTyxTQUFTdlEsR0FFbEJ0UixFQUFJLEVBQUdBLEVBQUlzUixFQUFNeE0sT0FBUTlFLElBQzNCc1IsRUFBTXRSLEdBQUc2UixRQUFRMGYsS0FDaEJGLEdBQVlBLEVBQVNubEIsSUFBTUssR0FBUzhrQixFQUFTemQsS0FBSzNGLEdBQUdxRCxFQUFNdFIsSUFDN0RxeEIsRUFBU25sQixHQUFLSSxFQUVkNmtCLEVBQVE3ckIsS0FBSytyQixFQUFXLElBQUksR0FBZTlrQixFQUFPRCxFQUFLZ0YsRUFBTXRSLE1BSS9Ec3hCLEdBQVVBLEVBQU9wbEIsSUFBTUssRUFDekIra0IsRUFBT3BsQixHQUFLSSxFQUVaOGtCLEVBQU05ckIsS0FBS2dzQixFQUFTLElBQUksR0FBWS9rQixFQUFPRCxFQUFLc0gsU0FJdER1ZCxFQUFRN2xCLFNBQVEsU0FBQXZKLEdBQUUsT0FBR0ksRUFBSytvQixLQUFLbnBCLE1BQy9CcXZCLEVBQU05bEIsU0FBUSxTQUFBdkosR0FBRSxPQUFHSSxFQUFLK29CLEtBQUtucEIsTUFDdEJJLE1BUVQsR0FBVVAsVUFBVTR2QixXQUFhLFNBQVN2b0IsRUFBTWlELEVBQUkwSCxHLDBCQUFPLE1BQ3pEN0gsSUFBSTBsQixFQUFVLEdBQUl2RyxFQUFPLEVBK0J6QixPQTlCQS9vQixLQUFLMk8sSUFBSTdFLGFBQWFoRCxFQUFNaUQsR0FBSSxTQUFDYyxFQUFNWixHQUNyQyxHQUFLWSxFQUFLaUYsU0FBVixDQUNBaVosSUFDQW5mLElBQUkybEIsRUFBVyxLQUNmLEdBQUk5ZCxhQUFnQnFJLEVBQVUsQ0FDNUJsUSxJQUFJckIsRUFBUWtKLEVBQUsvQixRQUFRN0UsRUFBS3NFLE9BQzFCNUcsSUFBT2duQixFQUFXLENBQUNobkIsU0FDZGtKLEVBQ0xBLEVBQUsvQixRQUFRN0UsRUFBS3NFLFNBQVFvZ0IsRUFBVyxDQUFDOWQsSUFFMUM4ZCxFQUFXMWtCLEVBQUtzRSxNQUVsQixHQUFJb2dCLEdBQVlBLEVBQVM1c0IsT0FFdkIsSUFEQWlILElBQUlPLEVBQU1qQyxLQUFLb0MsSUFBSUwsRUFBTVksRUFBS2hCLFNBQVVFLEdBQy9CbE0sRUFBSSxFQUFHQSxFQUFJMHhCLEVBQVM1c0IsT0FBUTlFLElBQUssQ0FFeEMsSUFEQStMLElBQUlxUixFQUFRc1UsRUFBUzF4QixHQUFJMEssU0FDaEJnRSxFQUFJLEVBQUdBLEVBQUkraUIsRUFBUTNzQixPQUFRNEosSUFBSyxDQUN2QzNDLElBQUkzTCxFQUFJcXhCLEVBQVEvaUIsR0FDWnRPLEVBQUU4cUIsTUFBUUEsRUFBTyxHQUFLOU4sRUFBTW5QLEdBQUd3akIsRUFBUS9pQixHQUFHME8sU0FBUTFTLEVBQVF0SyxHQUU1RHNLLEdBQ0ZBLEVBQU13QixHQUFLSSxFQUNYNUIsRUFBTXdnQixLQUFPQSxHQUVidUcsRUFBUW5zQixLQUFLLENBQUM4WCxRQUFPblUsS0FBTW9CLEtBQUttQyxJQUFJSixFQUFLbkQsR0FBT2lELEdBQUlJLEVBQUs0ZSxjQUtqRXVHLEVBQVFubUIsU0FBUSxTQUFBbEwsR0FBRSxPQUFHK0IsRUFBSytvQixLQUFLLElBQUksR0FBZTlxQixFQUFFNkksS0FBTTdJLEVBQUU4TCxHQUFJOUwsRUFBRWdkLFdBQzNEamIsTUFRVCxHQUFVUCxVQUFVaXRCLGtCQUFvQixTQUFTemlCLEVBQUt1bEIsRUFBWWxkLFEsVUFBUWtkLEVBQVdqZCxjQUduRixJQUZBM0ksSUFBSWlCLEVBQU83SyxLQUFLMk8sSUFBSWlELE9BQU8zSCxHQUN2QndsQixFQUFXLEdBQUkvWixFQUFNekwsRUFBTSxFQUN0QnBNLEVBQUksRUFBR0EsRUFBSWdOLEVBQUtrQixXQUFZbE8sSUFBSyxDQUN4QytMLElBQUlNLEVBQVFXLEVBQUtYLE1BQU1yTSxHQUFJc00sRUFBTXVMLEVBQU14TCxFQUFNTCxTQUN6QzZsQixFQUFVcGQsRUFBTVcsVUFBVS9JLEVBQU03RyxLQUFNNkcsRUFBTTZELE9BQ2hELEdBQUsyaEIsRUFFRSxDQUNMcGQsRUFBUW9kLEVBQ1IsSUFBSzlsQixJQUFJMkMsRUFBSSxFQUFHQSxFQUFJckMsRUFBTWlGLE1BQU14TSxPQUFRNEosSUFBVWlqQixFQUFXaFcsZUFBZXRQLEVBQU1pRixNQUFNNUMsR0FBR2xKLE9BQ3pGckQsS0FBSytvQixLQUFLLElBQUksR0FBZXJULEVBQUt2TCxFQUFLRCxFQUFNaUYsTUFBTTVDLFVBSnJEa2pCLEVBQVN0c0IsS0FBSyxJQUFJLEdBQVl1UyxFQUFLdkwsRUFBS3dILEVBQU1qRyxRQU1oRGdLLEVBQU12TCxFQUVSLElBQUttSSxFQUFNUSxTQUFVLENBQ25CbEosSUFBSXNWLEVBQU81TSxFQUFNNkQsV0FBV3hNLEVBQVMrQixPQUFPLEdBQzVDMUwsS0FBSzZILFFBQVE2TixFQUFLQSxFQUFLLElBQUkvRCxFQUFNdU4sRUFBTSxFQUFHLElBRTVDLElBQUt0VixJQUFJL0wsRUFBSTR4QixFQUFTOXNCLE9BQVMsRUFBRzlFLEdBQUssRUFBR0EsSUFBS21DLEtBQUsrb0IsS0FBSzBHLEVBQVM1eEIsSUFDbEUsT0FBT21DLE1DcEVULEdBQVVQLFVBQVVvSSxRQUFVLFNBQVNmLEVBQU1pRCxFQUFXL0MsUSxVQUFORixRLFVBQWM2SyxFQUFNakcsT0FDcEU5QixJQUFJbWYsRUFBT3FFLEdBQVlwdEIsS0FBSzJPLElBQUs3SCxFQUFNaUQsRUFBSS9DLEdBRTNDLE9BREkraEIsR0FBTS9vQixLQUFLK29CLEtBQUtBLEdBQ2Ivb0IsTUFNVCxHQUFVUCxVQUFVc3RCLFlBQWMsU0FBU2ptQixFQUFNaUQsRUFBSXZFLEdBQ25ELE9BQU94RixLQUFLNkgsUUFBUWYsRUFBTWlELEVBQUksSUFBSTRILEVBQU1oSSxFQUFTN0MsS0FBS3RCLEdBQVUsRUFBRyxLQUtyRSxHQUFVL0YsVUFBVWt3QixPQUFTLFNBQVM3b0IsRUFBTWlELEdBQzFDLE9BQU8vSixLQUFLNkgsUUFBUWYsRUFBTWlELEVBQUk0SCxFQUFNakcsUUFLdEMsR0FBVWpNLFVBQVV5YyxPQUFTLFNBQVNqUyxFQUFLekUsR0FDekMsT0FBT3hGLEtBQUsrc0IsWUFBWTlpQixFQUFLQSxFQUFLekUsSUFxTHBDLElBQU0sR0FDSixTQUFZb21CLEdBRVY1ckIsS0FBSzRmLEtBQU8sR0FDWixJQUFLaFcsSUFBSXpMLEVBQUksRUFBR0EsR0FBS3l0QixFQUFLcGQsTUFBT3JRLElBQUssQ0FDdEMsSUFBTWlGLEVBQVN3b0IsRUFBSy9nQixLQUFLMU0sR0FBSW1VLEVBQVFsUCxFQUFPaVAsZUFBZXVaLEVBQUtoZCxXQUFXelEsSUFDekU2QixLQUFLNGYsS0FBS3pjLEtBQUssQ0FBQ0MsU0FBUWtQLFFBQU85TSxRQUFTbUUsRUFBUytCLE1BQU9ra0IsU0FBUyxFQUFPeFEsUUFBUyxFQUFHNVEsTUFBT3JRLElBRTdGNkIsS0FBS3V0QixPQUFTLElBZ0lsQixTQUFTc0MsR0FBZWhsQixFQUFNd2YsRUFBV2pMLEdBQ3ZDeFYsSUFBSXBFLEVBQVVxRixFQUFLckYsUUFDbkIsR0FBSTZrQixFQUFZLEVBQUcsQ0FDakJ6Z0IsSUFBSXdCLEVBQVF5a0IsR0FBZWhsQixFQUFLUSxXQUFZZ2YsRUFBWSxFQUFzQixHQUFuQnhmLEVBQUtrQixXQUFrQnFULEVBQVUsRUFBSSxHQUNoRzVaLEVBQVVxRixFQUFLckYsUUFBUW1HLGFBQWEsRUFBR1AsR0FFekN4QixJQUFJc1YsRUFBT3JVLEVBQUt4SCxLQUFLa1AsYUFBYTRELFdBQVczUSxFQUFvQixHQUFYNFosR0FDdEQsT0FBT3ZVLEVBQUt4RixLQUFLNlosRUFBSzFWLE9BQU9oRSxJQXlHL0IsU0FBU3NxQixHQUFjbkwsRUFBVW5XLEVBQU91aEIsRUFBU0MsRUFBUzVzQixHQUN4RCxHQUFJb0wsRUFBUXVoQixFQUFTLENBQ25Cbm1CLElBQUl3QixFQUFRdVosRUFBU3RaLFdBQ3JCc1osRUFBV0EsRUFBU2haLGFBQWEsRUFBR1AsRUFBTS9GLEtBQUt5cUIsR0FBYzFrQixFQUFNNUYsUUFBU2dKLEVBQVEsRUFBR3VoQixFQUFTQyxFQUFTNWtCLEtBRTNHLEdBQUlvRCxFQUFRd2hCLEVBQVMsQ0FDbkJwbUIsSUFBSTBJLEVBQVFsUCxFQUFPaVAsZUFBZSxHQUM5QmpJLEVBQVFrSSxFQUFNNkQsV0FBV3dPLEdBQVVuYixPQUFPbWIsR0FDOUNBLEVBQVd2YSxFQUFNWixPQUFPOEksRUFBTUUsY0FBY3BJLEdBQU8rTCxXQUFXeE0sRUFBUytCLE9BQU8sSUFFaEYsT0FBT2laLEVBMENULFNBQVNzTCxHQUFjOWhCLEVBQU8yQyxHQUU1QixJQURBbEgsSUFBSUgsRUFBUyxHQUNKdEwsRUFEbUIrSixLQUFLb0MsSUFBSTZELEVBQU1LLE1BQU9zQyxFQUFJdEMsT0FDL0JyUSxHQUFLLEVBQUdBLElBQUssQ0FDbEN5TCxJQUFJUSxFQUFRK0QsRUFBTS9ELE1BQU1qTSxHQUN4QixHQUFJaU0sRUFBUStELEVBQU1sRSxLQUFPa0UsRUFBTUssTUFBUXJRLElBQ25DMlMsRUFBSTNHLElBQUloTSxHQUFLMlMsRUFBSTdHLEtBQU82RyxFQUFJdEMsTUFBUXJRLElBQ3BDZ1EsRUFBTXRELEtBQUsxTSxHQUFHa0YsS0FBS21NLEtBQUt5YixXQUN4Qm5hLEVBQUlqRyxLQUFLMU0sR0FBR2tGLEtBQUttTSxLQUFLeWIsVUFBVyxNQUNqQzdnQixHQUFTMEcsRUFBSTFHLE1BQU1qTSxJQUFJc0wsRUFBT3RHLEtBQUtoRixHQUV6QyxPQUFPc0wsRUFwU1QsYUFBRXFrQixXQUFBLFNBQVduSixFQUFVMEYsRUFBV2pMLEVBQVN5TyxFQUFNenFCLEdBQzdDLEdBQUlpbkIsRUFBWSxFQUFHLENBQ2pCemdCLElBQUl3QixFQUFRdVosRUFBU3RaLFdBQ2pCbUIsRUFBUXhNLEtBQUs4dEIsV0FBVzFpQixFQUFNNUYsUUFBUzBDLEtBQUttQyxJQUFJLEVBQUdnZ0IsRUFBWSxHQUN2Q2pMLEdBQWtDLEdBQXZCdUYsRUFBUzVZLFdBQWtCcVQsRUFBVSxFQUFJLEVBQ3RELEVBQVFoVSxHQUM5Qm9CLEVBQU1oSCxTQUFXNEYsRUFBTTVGLFVBQ3JCZ0gsRUFBTWhILFFBQVE4RCxNQUNoQnFiLEVBQVdBLEVBQVNoWixhQUFhLEVBQUdQLEVBQU0vRixLQUFLbUgsRUFBTWhILFVBQ3JENmtCLEVBQVk3ZCxFQUFNNmQsVUFBWSxJQUVILEdBQXZCMUYsRUFBUzVZLGFBQWlCcVQsRUFBVSxHQUN4Q3VGLEVBQVdBLEVBQVNsWixXQUFXLEdBQ2pDLEVBQWMsSUFJbEI3QixJQUFJSCxFQUFTekosS0FBS2t3QixhQUFhdkwsRUFBVTBGLEVBQVdqTCxFQUFTeU8sRUFBTXpxQixHQUNuRSxHQUFJeXFCLEVBQU8sR0FBS3BrQixFQUFPSCxNQUFxQixHQUFiK2dCLEVBQWdCLENBQzdDemdCLElBQUlNLEVBQVFULEVBQU9qRSxRQUFRNkYsV0FBWThrQixFQUFzQyxHQUE3QjFtQixFQUFPakUsUUFBUXVHLFdBQ2pFLEtBQU9ta0IsYUFBYWhtQixFQUFNMUUsUUFBUyxFQUFHNFosR0FBVytRLEVBQVMvUSxFQUFVLEVBQUksRUFBR3lPLEVBQU0zakIsR0FDakYsRUFBV2ltQixFQUFTeG1CLEVBQVMrQixNQUFRLElBQUlpRyxFQUFNbEksRUFBT2pFLFFBQVFpRyxXQUFXLEdBQUksRUFBRzJULEdBRWhGLE9BQU8zVixHQUdYLGFBQUV5bUIsYUFBQSxTQUFhdkwsRUFBVTBGLEVBQVdqTCxFQUFTeU8sRUFBTXpxQixHQUdqRCxJQUZFd0csSUFBSS9MLEVBQUksRUFFREEsRUFBSThtQixFQUFTNVksV0FBWWxPLElBQUssQ0FHbkMsSUFGRixJQUFNcU0sRUFBUXlhLEVBQVN6YSxNQUFNck0sR0FBSTB2QixHQUFTLEVBQU9yaUIsRUFBT3JOLEdBQUs4bUIsRUFBUzVZLFdBQWEsRUFFeEU1TixFQUFJNkIsS0FBSzRmLEtBQUtqZCxPQUFTLEVBQUd4RSxHQUFLLEVBQUdBLElBQUssQ0FDaEQsSUFBTXloQixFQUFPNWYsS0FBSzRmLEtBQUt6aEIsR0FBSWdoQixPQUFBLEVBS3pCLEdBQUkwTyxFQUFPLElBQU0xTyxFQUFPUyxFQUFLdE4sTUFBTXFFLGFBQWF6TSxFQUFNN0csVUFDaERELElBQVUrYixFQUFLeGMsUUFBVXdjLEVBQUtBLEVBQUt4YyxPQUFTLElBQU1TLEVBQU9DLE1BQU8sQ0FDcEUsS0FBT3JELEtBQUs0ZixLQUFLamQsT0FBUyxFQUFJeEUsR0FBRzZCLEtBQUsrdEIsWUFDdEMsSUFBS25rQixJQUFJd21CLEVBQUksRUFBR0EsRUFBSWpSLEVBQUt4YyxPQUFReXRCLElBQy9CeFEsRUFBS3ROLE1BQVFzTixFQUFLdE4sTUFBTVcsVUFBVWtNLEVBQUtpUixJQUN2Q2p5QixJQUNGLEVBQVMsQ0FBQ2lGLE9BQVErYixFQUFLaVIsR0FBR2p4QixTQUNoQm1ULE1BQU82TSxFQUFLaVIsR0FBRzdkLGFBQ2YvTSxRQUFTbUUsRUFBUytCLE1BQU9ra0IsU0FBUyxFQUFNeFEsUUFBUyxFQUFHNVEsTUFBT3JRLEVBQUlpeUIsR0FDdkVwd0IsS0FBSzRmLEtBQUt6YyxLQUFLeWMsR0FLbkJoVyxJQUFJMEksRUFBUXNOLEVBQUt0TixNQUFNVyxVQUFVL0ksRUFBTTdHLE1BQ3pDLElBQU9pUCxFQUFPLENBQ1YxSSxJQUFJc1YsRUFBT1UsRUFBS3ROLE1BQU02RCxXQUFXeE0sRUFBUzdDLEtBQUtvRCxJQUNqRCxJQUFNZ1YsRUFNRyxJQUFJOWIsR0FBVXdjLEVBQUt0TixNQUFNVyxVQUFVN1AsRUFBT0MsTUFHL0MsTUFFQSxTQVZBLElBQUt1RyxJQUFJMkMsRUFBSSxFQUFHQSxFQUFJMlMsRUFBS25ULFdBQVlRLElBQUssQ0FDMUMsSUFBTThqQixFQUFLblIsRUFBS2hWLE1BQU1xQyxHQUN0QixLQUFPK2pCLFFBQVExUSxFQUFNeVEsRUFBSSxHQUN6QixFQUFVelEsRUFBS3ROLE1BQU1FLGNBQWM2ZCxJQWF2QyxLQUFPcndCLEtBQUs0ZixLQUFLamQsT0FBUyxFQUFJeEUsR0FBRzZCLEtBQUsrdEIsWUFFdEM3akIsRUFBUUEsRUFBTXVILEtBQUttTyxFQUFLeGMsT0FBT0MsS0FBS3FXLGFBQWF4UCxFQUFNaUYsUUFDbkRrYixJQUNGbmdCLEVBQVEybEIsR0FBZTNsQixFQUFPbWdCLEVBQVduZixFQUFPa1UsRUFBVSxHQUM1RCxFQUFjLEdBR2RwZixLQUFLc3dCLFFBQVExUSxFQUFNMVYsRUFBT2dCLEVBQU9rVSxFQUFVLEdBQzNDUSxFQUFLdE4sTUFBUUEsRUFDVHBILElBQU1rVSxFQUFVLEdBQ3RCLEdBQVcsRUFDVCxNQUlGLElBQUttTyxFQUFRLE1BVWYsT0FMSXZ0QixLQUFLNGYsS0FBS2pkLE9BQVMsSUFDbEI5RSxFQUFJLEdBQUtBLEdBQUs4bUIsRUFBUzVZLFlBQ3pCLEdBQVkvTCxLQUFLNGYsS0FBSzVmLEtBQUs0ZixLQUFLamQsT0FBUyxHQUFHUyxPQUFPQyxNQUFRRCxFQUFPQyxPQUNuRXJELEtBQUsrdEIsWUFFQSxJQUFJcGMsRUFBTWdULEVBQVNsWixXQUFXNU4sR0FBSXdzQixFQUFXakwsSUFHeEQsYUFBRWtSLFFBQUEsU0FBUTFRLEVBQU0vVSxFQUFNdVUsR0FxQ3RCLElBQTBCdUYsRUFBVW5XLEVBcENoQ29SLEVBQUtwYSxTQW9DaUJtZixFQXBDVS9FLEVBQUtwYSxRQW9DTGdKLEVBcENjb1IsRUFBS1IsUUFxQzlDNVEsRUFBUW1XLEVBQVNoWixhQUFhZ1osRUFBUzVZLFdBQWEsRUFYN0QsU0FBU3drQixFQUFhMWxCLEVBQU0yRCxHQUMxQjVFLElBQUlwRSxFQUFVcUYsRUFBS3JGLFFBQ25CLEdBQUlnSixFQUFRLEVBQUcsQ0FDYjVFLElBQUlzQixFQUFPcWxCLEVBQWExbEIsRUFBS00sVUFBV3FELEVBQVEsR0FDaERoSixFQUFVcUYsRUFBS3JGLFFBQVFtRyxhQUFhZCxFQUFLa0IsV0FBYSxFQUFHYixHQUUzRHRCLElBQUlzVixFQUFPclUsRUFBS3dILGVBQWV4SCxFQUFLa0IsWUFBWW9LLFdBQVd4TSxFQUFTK0IsT0FBTyxHQUMzRSxPQUFPYixFQUFLeEYsS0FBS0csRUFBUWdFLE9BQU8wVixJQUk4QnFSLENBQWE1TCxFQUFTeFosVUFBV3FELElBQVVtVyxHQXJDM0M1YixTQUFTOEIsR0FDckUrVSxFQUFLUixRQUFVQSxHQUduQixhQUFFMk8sVUFBQSxXQUNBLElBQU1uTyxFQUFPNWYsS0FBSzRmLEtBQUtwSSxNQUNJLEdBQXJCb0ksRUFBS3BhLFFBQVE4RCxPQUVOc1csRUFBS2dRLFFBQ2Q1dkIsS0FBS3N3QixRQUFRdHdCLEtBQUs0ZixLQUFLNWYsS0FBSzRmLEtBQUtqZCxPQUFTLEdBQUlpZCxFQUFLeGMsT0FBT2lDLEtBQUt1YSxFQUFLcGEsU0FBVW9hLEVBQUtSLFFBQVUsR0FFL0YsS0FBT21PLE9BQU8zTixFQUFLcFIsT0FBUyxDQUFDQSxNQUFPb1IsRUFBS3BSLE1BQU9oSixRQUFTb2EsRUFBS3BhLFFBQVM0WixRQUFTUSxFQUFLUixXQTZDekYsR0FBVTNmLFVBQVUrd0IsYUFBZSxTQUFTMXBCLEVBQU1pRCxFQUFJL0MsR0FDcEQsSUFBS0EsRUFBTXNDLEtBQU0sT0FBT3RKLEtBQUt5d0IsWUFBWTNwQixFQUFNaUQsR0FFL0NILElBQUl1RSxFQUFRbk8sS0FBSzJPLElBQUk0QixRQUFRekosR0FBT2dLLEVBQU05USxLQUFLMk8sSUFBSTRCLFFBQVF4RyxHQUMzRCxHQUFJc2pCLEdBQWNsZixFQUFPMkMsRUFBSzlKLEdBQzVCLE9BQU9oSCxLQUFLK29CLEtBQUssSUFBSSxHQUFZamlCLEVBQU1pRCxFQUFJL0MsSUFFN0M0QyxJQUFJOG1CLEVBQWVULEdBQWM5aEIsRUFBT25PLEtBQUsyTyxJQUFJNEIsUUFBUXhHLElBRVosR0FBekMybUIsRUFBYUEsRUFBYS90QixPQUFTLElBQVMrdEIsRUFBYWxaLE1BRzdENU4sSUFBSSttQixJQUFvQnhpQixFQUFNSyxNQUFRLEdBQ3RDa2lCLEVBQWFqWixRQUFRa1osR0FLckIsSUFBSy9tQixJQUFJekwsRUFBSWdRLEVBQU1LLE1BQU92RSxFQUFNa0UsRUFBTWxFLElBQU0sRUFBRzlMLEVBQUksRUFBR0EsSUFBSzhMLElBQU8sQ0FDaEVMLElBQUk0RixFQUFPckIsRUFBTXRELEtBQUsxTSxHQUFHa0YsS0FBS21NLEtBQzlCLEdBQUlBLEVBQUtvaEIsVUFBWXBoQixFQUFLeWIsVUFBVyxNQUNqQ3lGLEVBQWE1YixRQUFRM1csSUFBTSxFQUFHd3lCLEVBQWtCeHlCLEVBQzNDZ1EsRUFBTVcsT0FBTzNRLElBQU04TCxHQUFLeW1CLEVBQWE3bkIsT0FBTyxFQUFHLEdBQUkxSyxHQU85RCxJQUhBeUwsSUFBSWluQixFQUF1QkgsRUFBYTViLFFBQVE2YixHQUU1Q0csRUFBWSxHQUFJQyxFQUFpQi9wQixFQUFNcWpCLFVBQ2xDN2tCLEVBQVV3QixFQUFNeEIsUUFBUzNILEVBQUksR0FBSUEsSUFBSyxDQUM3QytMLElBQUlpQixFQUFPckYsRUFBUTZGLFdBRW5CLEdBREF5bEIsRUFBVTN0QixLQUFLMEgsR0FDWGhOLEdBQUttSixFQUFNcWpCLFVBQVcsTUFDMUI3a0IsRUFBVXFGLEVBQUtyRixRQUlidXJCLEVBQWlCLEdBQUtELEVBQVVDLEVBQWlCLEdBQUcxdEIsS0FBS21NLEtBQUtvaEIsVUFDOUR6aUIsRUFBTXRELEtBQUtnbUIsR0FBc0J4dEIsTUFBUXl0QixFQUFVQyxFQUFpQixHQUFHMXRCLEtBQ3pFMHRCLEdBQWtCLEVBQ1hBLEdBQWtCLEdBQUtELEVBQVVDLEVBQWlCLEdBQUc5ZSxhQUFlNmUsRUFBVUMsRUFBaUIsR0FBRzF0QixLQUFLbU0sS0FBS29oQixVQUM1R3ppQixFQUFNdEQsS0FBS2dtQixHQUFzQnh0QixNQUFReXRCLEVBQVVDLEVBQWlCLEdBQUcxdEIsT0FDOUUwdEIsR0FBa0IsR0FFcEIsSUFBS25uQixJQUFJMkMsRUFBSXZGLEVBQU1xakIsVUFBVzlkLEdBQUssRUFBR0EsSUFBSyxDQUN6QzNDLElBQUlvbkIsR0FBYXprQixFQUFJd2tCLEVBQWlCLElBQU0vcEIsRUFBTXFqQixVQUFZLEdBQzFEbk8sRUFBUzRVLEVBQVVFLEdBQ3ZCLEdBQUs5VSxFQUNMLElBQUt0UyxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJNnlCLEVBQWEvdEIsT0FBUTlFLElBQUssQ0FHNUMrTCxJQUFJcW5CLEVBQWNQLEdBQWM3eUIsRUFBSWd6QixHQUF3QkgsRUFBYS90QixRQUFTdXVCLEdBQVMsRUFDdkZELEVBQWMsSUFBS0MsR0FBUyxFQUFPRCxHQUFlQSxHQUN0RHJuQixJQUFJeEcsRUFBUytLLEVBQU10RCxLQUFLb21CLEVBQWMsR0FBSXJsQixFQUFRdUMsRUFBTXZDLE1BQU1xbEIsRUFBYyxHQUM1RSxHQUFJN3RCLEVBQU80UCxlQUFlcEgsRUFBT0EsRUFBT3NRLEVBQU83WSxLQUFNNlksRUFBTy9NLE9BQzFELE9BQU9uUCxLQUFLNkgsUUFBUXNHLEVBQU1XLE9BQU9taUIsR0FBY0MsRUFBU3BnQixFQUFJL0IsTUFBTWtpQixHQUFlbG5CLEVBQzdELElBQUk0SCxFQUFNbWUsR0FBYzlvQixFQUFNeEIsUUFBUyxFQUFHd0IsRUFBTXFqQixVQUFXMkcsR0FDakRBLEVBQVdocUIsRUFBTW9ZLFdBS3JELElBREF4VixJQUFJdW5CLEVBQWFueEIsS0FBSzRvQixNQUFNam1CLE9BQ25COUUsRUFBSTZ5QixFQUFhL3RCLE9BQVMsRUFBRzlFLEdBQUssSUFDekNtQyxLQUFLNkgsUUFBUWYsRUFBTWlELEVBQUkvQyxLQUNuQmhILEtBQUs0b0IsTUFBTWptQixPQUFTd3VCLElBRm9CdHpCLElBQUssQ0FHakQrTCxJQUFJNEUsRUFBUWtpQixFQUFhN3lCLEdBQ3JCQSxFQUFJLElBQ1JpSixFQUFPcUgsRUFBTVcsT0FBT04sR0FBUXpFLEVBQUsrRyxFQUFJL0IsTUFBTVAsSUFFN0MsT0FBT3hPLE1Bd0JULEdBQVVQLFVBQVUyeEIsaUJBQW1CLFNBQVN0cUIsRUFBTWlELEVBQUljLEdBQ3hELElBQUtBLEVBQUtpRixVQUFZaEosR0FBUWlELEdBQU0vSixLQUFLMk8sSUFBSTRCLFFBQVF6SixHQUFNMUQsT0FBT29DLFFBQVE4RCxLQUFNLENBQzlFTSxJQUFJeW5CLEVXelFELFNBQXFCMWlCLEVBQUsxRSxFQUFLeUosR0FDcEM5SixJQUFJZ2lCLEVBQU9qZCxFQUFJNEIsUUFBUXRHLEdBQ3ZCLEdBQUkyaEIsRUFBS3hvQixPQUFPNFAsZUFBZTRZLEVBQUtoZ0IsUUFBU2dnQixFQUFLaGdCLFFBQVM4SCxHQUFXLE9BQU96SixFQUU3RSxHQUF5QixHQUFyQjJoQixFQUFLcmQsYUFDUCxJQUFLM0UsSUFBSXpMLEVBQUl5dEIsRUFBS3BkLE1BQVEsRUFBR3JRLEdBQUssRUFBR0EsSUFBSyxDQUN4Q3lMLElBQUlnQyxFQUFRZ2dCLEVBQUtoZ0IsTUFBTXpOLEdBQ3ZCLEdBQUl5dEIsRUFBSy9nQixLQUFLMU0sR0FBRzZVLGVBQWVwSCxFQUFPQSxFQUFPOEgsR0FBVyxPQUFPa1ksRUFBSzljLE9BQU8zUSxFQUFJLEdBQ2hGLEdBQUl5TixFQUFRLEVBQUcsT0FBTyxLQUUxQixHQUFJZ2dCLEVBQUtyZCxjQUFnQnFkLEVBQUt4b0IsT0FBT29DLFFBQVE4RCxLQUMzQyxJQUFLTSxJQUFJekwsRUFBSXl0QixFQUFLcGQsTUFBUSxFQUFHclEsR0FBSyxFQUFHQSxJQUFLLENBQ3hDeUwsSUFBSWdDLEVBQVFnZ0IsRUFBS2hkLFdBQVd6USxHQUM1QixHQUFJeXRCLEVBQUsvZ0IsS0FBSzFNLEdBQUc2VSxlQUFlcEgsRUFBT0EsRUFBTzhILEdBQVcsT0FBT2tZLEVBQUs3YyxNQUFNNVEsRUFBSSxHQUMvRSxHQUFJeU4sRUFBUWdnQixFQUFLL2dCLEtBQUsxTSxHQUFHNE4sV0FBWSxPQUFPLE1YMlBsQ3VsQixDQUFZdHhCLEtBQUsyTyxJQUFLN0gsRUFBTStELEVBQUt4SCxNQUNoQyxNQUFUZ3VCLElBQWV2cUIsRUFBT2lELEVBQUtzbkIsR0FFakMsT0FBT3J4QixLQUFLd3dCLGFBQWExcEIsRUFBTWlELEVBQUksSUFBSTRILEVBQU1oSSxFQUFTN0MsS0FBSytELEdBQU8sRUFBRyxLQU12RSxHQUFVcEwsVUFBVWd4QixZQUFjLFNBQVMzcEIsRUFBTWlELEdBRy9DLElBRkFILElBQUl1RSxFQUFRbk8sS0FBSzJPLElBQUk0QixRQUFRekosR0FBT2dLLEVBQU05USxLQUFLMk8sSUFBSTRCLFFBQVF4RyxHQUN2RHduQixFQUFVdEIsR0FBYzloQixFQUFPMkMsR0FDMUJqVCxFQUFJLEVBQUdBLEVBQUkwekIsRUFBUTV1QixPQUFROUUsSUFBSyxDQUN2QytMLElBQUk0RSxFQUFRK2lCLEVBQVExekIsR0FBSXFOLEVBQU9yTixHQUFLMHpCLEVBQVE1dUIsT0FBUyxFQUNyRCxHQUFLdUksR0FBaUIsR0FBVHNELEdBQWVMLEVBQU10RCxLQUFLMkQsR0FBT25MLEtBQUtrUCxhQUFhTyxTQUM5RCxPQUFPOVMsS0FBSzJ2QixPQUFPeGhCLEVBQU0vRCxNQUFNb0UsR0FBUXNDLEVBQUkzRyxJQUFJcUUsSUFDakQsR0FBSUEsRUFBUSxJQUFNdEQsR0FBUWlELEVBQU10RCxLQUFLMkQsRUFBUSxHQUFHa0UsV0FBV3ZFLEVBQU12QyxNQUFNNEMsRUFBUSxHQUFJc0MsRUFBSWxDLFdBQVdKLEVBQVEsS0FDeEcsT0FBT3hPLEtBQUsydkIsT0FBT3hoQixFQUFNVyxPQUFPTixHQUFRc0MsRUFBSS9CLE1BQU1QLElBRXRELElBQUs1RSxJQUFJekwsRUFBSSxFQUFHQSxHQUFLZ1EsRUFBTUssT0FBU3JRLEdBQUsyUyxFQUFJdEMsTUFBT3JRLElBQ2xELEdBQUkySSxFQUFPcUgsRUFBTS9ELE1BQU1qTSxJQUFNZ1EsRUFBTUssTUFBUXJRLEdBQUs0TCxFQUFLb0UsRUFBTWhFLElBQUloTSxJQUFNMlMsRUFBSTNHLElBQUloTSxHQUFLNEwsR0FBTStHLEVBQUl0QyxNQUFRclEsRUFDbEcsT0FBTzZCLEtBQUsydkIsT0FBT3hoQixFQUFNVyxPQUFPM1EsR0FBSTRMLEdBRXhDLE9BQU8vSixLQUFLMnZCLE9BQU83b0IsRUFBTWlELElhamhCM0JpRSxJQUFNLEdBQWMsT0FBTyxPQUFPLE1BSXJCLEdBS1gsU0FBWSxFQUFTLEVBQU8sR0FHNUIsS0FBTyxPQUFTLEdBQVUsQ0FBQyxJQUFJLEdBQWUsRUFBUSxJQUFJLEdBQVEsRUFBUSxJQUFJLEtBSTVFLEtBQUssUUFBVSxFQUlmLEtBQUssTUFBUSxHLHVLQUtqQixHQUFNLHNCQUFXLE9BQU8sS0FBSyxRQUFRLEtBSXJDLEdBQU0sb0JBQVMsT0FBTyxLQUFLLE1BQU0sS0FJakMsR0FBTSxvQkFBUyxPQUFPLEtBQUssTUFBTSxLQUlqQyxHQUFNLGtCQUFPLE9BQU8sS0FBSyxJQUFJLEtBSTdCLEdBQU0scUJBQ0osT0FBUyxLQUFLLE9BQU8sR0FBRyxPQUsxQixHQUFNLG1CQUNKLE9BQVMsS0FBSyxPQUFPLEdBQUcsS0FLMUIsR0FBTSxxQkFFRixJQURBcEUsSUFBSSxFQUFTLEtBQUssT0FDVCxFQUFJLEVBQUcsRUFBSSxFQUFPLE9BQVEsSUFDakMsR0FBSSxFQUFPLEdBQUcsTUFBTSxLQUFPLEVBQU8sR0FBRyxJQUFJLElBQUssT0FBTyxFQUN2RCxPQUFPLEdBWVgsYUFBRSxtQkFDQSxPQUFTLEtBQUssTUFBTSxLQUFLLEdBQUcsTUFBTSxLQUFLLEtBQU0sS0FBSyxJQUFJLElBTXhELGFBQUUsaUJBQVEsRUFBSSxRLFVBQVUsRUFBTSxPQUsxQixJQURBQSxJQUFJLEVBQVcsRUFBUSxRQUFRLFVBQVcsRUFBYSxLQUM5QyxFQUFJLEVBQUcsRUFBSSxFQUFRLFFBQVMsSUFDckMsRUFBZSxFQUNiLEVBQVcsRUFBUyxVQUl0QixJQURBQSxJQUFJLEVBQVUsRUFBRyxNQUFNLE9BQVEsRUFBUyxLQUFLLE9BQ3BDL0wsRUFBSSxFQUFHQSxFQUFJLEVBQU8sT0FBUUEsSUFBSyxDQUN4QyxNQUFxQixFQUFPQSxHQUFyQixVQUFPLFFBQWtCLEVBQVUsRUFBRyxRQUFRLE1BQU0sR0FDekQsRUFBRyxhQUFhLEVBQVEsSUFBSSxFQUFNLEtBQU0sRUFBUSxJQUFJLEVBQUksS0FBTUEsRUFBSSxFQUFNLE1BQVEsR0FDdkUsR0FBTEEsR0FDRixHQUF3QixFQUFJLEdBQVUsRUFBVyxFQUFTLFNBQVcsR0FBYyxFQUFXLGNBQWdCLEVBQUksS0FPMUgsYUFBRSxxQkFBWSxFQUFJLEdBRWQsSUFEQStMLElBQUksRUFBVSxFQUFHLE1BQU0sT0FBUSxFQUFTLEtBQUssT0FDcEMsRUFBSSxFQUFHLEVBQUksRUFBTyxPQUFRLElBQUssQ0FDeEMsTUFBcUIsRUFBTyxHQUFyQixVQUFPLFFBQWtCLEVBQVUsRUFBRyxRQUFRLE1BQU0sR0FDckQsRUFBTyxFQUFRLElBQUksRUFBTSxLQUFNLEVBQUssRUFBUSxJQUFJLEVBQUksS0FDcEQsRUFDRixFQUFHLFlBQVksRUFBTSxJQUV2QixFQUFLLGlCQUFpQixFQUFNLEVBQUksR0FDOUIsR0FBd0IsRUFBSSxFQUFTLEVBQUssVUFBWSxFQUFJLE1BaUJsRSxHQUFTLGtCQUFTLEVBQU0sRUFBSyxHQUN6QkEsSUFBSSxFQUFRLEVBQUssT0FBTyxjQUFnQixJQUFJLEdBQWMsR0FDcEQsR0FBZ0IsRUFBSyxLQUFLLEdBQUksRUFBSyxPQUFRLEVBQUssSUFBSyxFQUFLLFFBQVMsRUFBSyxHQUM5RSxHQUFJLEVBQU8sT0FBTyxFQUVsQixJQUFLQSxJQUFJLEVBQVEsRUFBSyxNQUFRLEVBQUcsR0FBUyxFQUFHLElBQVMsQ0FDcERBLElBQUksRUFBUSxFQUFNLEVBQ1osR0FBZ0IsRUFBSyxLQUFLLEdBQUksRUFBSyxLQUFLLEdBQVEsRUFBSyxPQUFPLEVBQVEsR0FBSSxFQUFLLE1BQU0sR0FBUSxFQUFLLEdBQ2hHLEdBQWdCLEVBQUssS0FBSyxHQUFJLEVBQUssS0FBSyxHQUFRLEVBQUssTUFBTSxFQUFRLEdBQUksRUFBSyxNQUFNLEdBQVMsRUFBRyxFQUFLLEdBQ3pHLEdBQUksRUFBTyxPQUFPLElBUXRCLEdBQU8sY0FBSyxFQUFNLEdBQ2hCLFksVUFEdUIsR0FDaEIsS0FBSyxTQUFTLEVBQU0sSUFBUyxLQUFLLFNBQVMsR0FBTyxJQUFTLElBQUksR0FBYSxFQUFLLEtBQUssS0FRL0YsR0FBTyxpQkFBUSxHQUNiLE9BQU8sR0FBZ0IsRUFBSyxFQUFLLEVBQUcsRUFBRyxJQUFNLElBQUksR0FBYSxJQU1oRSxHQUFPLGVBQU0sR0FDYixPQUFTLEdBQWdCLEVBQUssRUFBSyxFQUFJLFFBQVEsS0FBTSxFQUFJLFlBQWEsSUFBTSxJQUFJLEdBQWEsSUFNN0YsR0FBTyxrQkFBUyxFQUFLLEdBQ25CLElBQUssSUFBUyxFQUFLLEtBQU0sTUFBTSxJQUFJLFdBQVcsd0NBQ2hELElBQU0sRUFBTSxHQUFZLEVBQUssTUFDM0IsSUFBSyxFQUFLLE1BQU0sSUFBSSxXQUFVLHFCQUFzQixFQUFLLEtBQUksWUFDL0QsT0FBUyxFQUFJLFNBQVMsRUFBSyxJQVEzQixHQUFPLGdCQUFPLEVBQUksR0FDaEIsR0FBSSxLQUFNLEdBQWEsTUFBTSxJQUFJLFdBQVcsc0NBQXdDLEdBR3BGLE9BRkEsR0FBWSxHQUFNLEVBQ2xCLEVBQWUsVUFBVSxPQUFTLEVBQzNCLEdBV1gsYUFBRSx1QkFDRSxPQUFPLEdBQWMsUUFBUSxLQUFLLFFBQVMsS0FBSyxPQUFPLGUseUNBUTNELEdBQVUsVUFBVSxTQUFVLEVBaUI5QixJQUFhLEdBRVgsU0FBWSxFQUFPLEdBR2pCLEtBQUssTUFBUSxFQUdiLEtBQUssSUFBTSxHQVFGLEdBQWEsWUFHeEIsV0FBWSxFQUFTLFEsVUFBUSxHQUMzQmdLLE9BQUssS0FBQyxFQUFTLEcsZ0lBTWpCLEVBQUksdUJBQVksT0FBTyxLQUFLLFFBQVEsS0FBTyxLQUFLLE1BQU0sSUFBTSxLQUFLLE1BQVEsTSxZQUV6RSxhQUFJLEVBQUssR0FDUGhLLElBQUksRUFBUSxFQUFJLFFBQVEsRUFBUSxJQUFJLEtBQUssT0FDekMsSUFBSyxFQUFNLE9BQU8sY0FBZSxPQUFPLEVBQVUsS0FBSyxHQUN2REEsSUFBSSxFQUFVLEVBQUksUUFBUSxFQUFRLElBQUksS0FBSyxTQUMzQyxPQUFPLElBQUksRUFBYyxFQUFRLE9BQU8sY0FBZ0IsRUFBVSxFQUFPLEksWUFHM0UsaUJBQVEsRUFBSSxHQUVWLFEsVUFGb0IsRUFBTSxPQUMxQmdLLFlBQU0sYUFBTyxLQUFDLEVBQUksR0FDZCxHQUFXLEVBQU0sTUFBTyxDQUMxQmhLLElBQUksRUFBUSxLQUFLLE1BQU0sWUFBWSxLQUFLLEtBQ3BDLEdBQU8sRUFBRyxZQUFZLEssWUFJOUIsWUFBRyxHQUNELE9BQU8sYUFBaUIsR0FBaUIsRUFBTSxRQUFVLEtBQUssUUFBVSxFQUFNLE1BQVEsS0FBSyxNLFlBRzdGLHVCQUNFLE9BQU8sSUFBSSxHQUFhLEtBQUssT0FBUSxLQUFLLE8sWUFHNUMsa0JBQ0UsTUFBTyxDQUFDLEtBQU0sT0FBUSxPQUFRLEtBQUssT0FBUSxLQUFNLEtBQUssT0FHeEQsRUFBTyxrQkFBUyxFQUFLLEdBQ25CLEdBQTBCLGlCQUFmLEVBQUssUUFBMEMsaUJBQWIsRUFBSyxLQUNoRCxNQUFNLElBQUksV0FBVyw0Q0FDdkIsT0FBTyxJQUFJLEVBQWMsRUFBSSxRQUFRLEVBQUssUUFBUyxFQUFJLFFBQVEsRUFBSyxRQUt0RSxFQUFPLGdCQUFPLEVBQUssRUFBUSxRLFVBQU8sR0FDaENBLElBQUksRUFBVSxFQUFJLFFBQVEsR0FDMUIsT0FBTyxJQUFJLEtBQUssRUFBUyxHQUFRLEVBQVMsRUFBVSxFQUFJLFFBQVEsS0FVbEUsRUFBTyxpQkFBUSxFQUFTLEVBQU8sR0FDN0JBLElBQUksRUFBTyxFQUFRLElBQU0sRUFBTSxJQUUvQixHQURLLElBQVEsSUFBTSxFQUFPLEdBQVEsRUFBSSxHQUFLLElBQ3RDLEVBQU0sT0FBTyxjQUFlLENBQy9CQSxJQUFJLEVBQVEsRUFBVSxTQUFTLEVBQU8sR0FBTSxJQUFTLEVBQVUsU0FBUyxHQUFRLEdBQU0sR0FDdEYsSUFBSSxFQUNDLE9BQU8sRUFBVSxLQUFLLEVBQU8sR0FEdkIsRUFBUSxFQUFNLE1BVzNCLE9BUkssRUFBUSxPQUFPLGdCQUNOLEdBQVIsSUFHRixHQUFXLEVBQVUsU0FBUyxHQUFVLEdBQU0sSUFBUyxFQUFVLFNBQVMsRUFBUyxHQUFNLElBQU8sU0FDbkYsSUFBTSxFQUFNLEtBQVMsRUFBTyxLQUh6QyxFQUFVLEdBTVAsSUFBSSxFQUFjLEVBQVMsSSx5Q0EzRVosQ0FBUyxJQStFbkMsR0FBVSxPQUFPLE9BQVEsSUFFekIsSUFBTSxHQUNKLFNBQVksRUFBUSxHQUNsQixLQUFLLE9BQVMsRUFDZCxLQUFLLEtBQU8sR0FFaEIsYUFBRSxhQUFJLEdBQ0osT0FBUyxJQUFJLEdBQWEsRUFBUSxJQUFJLEtBQUssUUFBUyxFQUFRLElBQUksS0FBSyxRQUV2RSxhQUFFLGlCQUFRLEdBQ1IsT0FBUyxHQUFjLFFBQVEsRUFBSSxRQUFRLEtBQUssUUFBUyxFQUFJLFFBQVEsS0FBSyxRQVM1RSxJQUFhLEdBQWEsWUFJeEIsV0FBWSxHQUNWQSxJQUFJLEVBQU8sRUFBSyxVQUNaLEVBQU8sRUFBSyxLQUFLLEdBQUcsUUFBUSxFQUFLLElBQU0sRUFBSyxVQUNoRGdLLE9BQUssS0FBQyxFQUFNLEdBRVosS0FBSyxLQUFPLEUsMEdBR2QsYUFBSSxFQUFLLEdBQ1AsTUFBcUIsRUFBUSxVQUFVLEtBQUssUUFBdkMsWUFBUyxRQUNWLEVBQU8sRUFBSSxRQUFRLEdBQ3ZCLE9BQUksRUFBZ0IsRUFBVSxLQUFLLEdBQzVCLElBQUksRUFBYyxJLFlBRzNCLG1CQUNFLE9BQU8sSUFBSSxFQUFNLEVBQVMsS0FBSyxLQUFLLE1BQU8sRUFBRyxJLFlBR2hELFlBQUcsR0FDRCxPQUFPLGFBQWlCLEdBQWlCLEVBQU0sUUFBVSxLQUFLLFEsWUFHaEUsa0JBQ0UsTUFBTyxDQUFDLEtBQU0sT0FBUSxPQUFRLEtBQUssUyxZQUdyQyx1QkFBZ0IsT0FBTyxJQUFJLEdBQWEsS0FBSyxTQUU3QyxFQUFPLGtCQUFTLEVBQUssR0FDbkIsR0FBMEIsaUJBQWYsRUFBSyxPQUNkLE1BQU0sSUFBSSxXQUFXLDRDQUN2QixPQUFPLElBQUksRUFBYyxFQUFJLFFBQVEsRUFBSyxVQUs1QyxFQUFPLGdCQUFPLEVBQUssR0FDakIsT0FBTyxJQUFJLEtBQUssRUFBSSxRQUFRLEtBTTlCLEVBQU8sc0JBQWEsR0FDbEIsT0FBUSxFQUFLLFNBQXdDLElBQTlCLEVBQUssS0FBSyxLQUFLLFksRUFqRGhCLENBQVMsSUFxRG5DLEdBQWMsVUFBVSxTQUFVLEVBRWxDLEdBQVUsT0FBTyxPQUFRLElBRXpCLElBQU0sR0FDSixTQUFZLEdBQ1YsS0FBSyxPQUFTLEdBRWxCLGFBQUUsYUFBSSxHQUNKLE1BQXVCLEVBQVEsVUFBVSxLQUFLLFFBQXZDLFlBQVMsUUFDZCxPQUFPLEVBQVUsSUFBSSxHQUFhLEVBQUssR0FBTyxJQUFJLEdBQWEsSUFFbkUsYUFBRSxpQkFBUSxHQUNOaEssSUFBSSxFQUFPLEVBQUksUUFBUSxLQUFLLFFBQVMsRUFBTyxFQUFLLFVBQ2pELE9BQUksR0FBUSxHQUFjLGFBQWEsR0FBYyxJQUFJLEdBQWMsR0FDaEUsR0FBVSxLQUFLLElBUTFCLElBQWEsR0FBWSxZQUd2QixXQUFZLEdBQ1ZnSyxPQUFLLEtBQUMsRUFBSSxRQUFRLEdBQUksRUFBSSxRQUFRLEVBQUksUUFBUSxPLDBHQUdoRCxrQkFBVyxNQUFPLENBQUMsS0FBTSxRQUV6QixFQUFPLGtCQUFTLEdBQU8sT0FBTyxJQUFJLEVBQWEsSSxZQUUvQyxhQUFJLEdBQU8sT0FBTyxJQUFJLEVBQWEsSSxZQUVuQyxZQUFHLEdBQVMsT0FBTyxhQUFpQixHLFlBRXBDLHVCQUFnQixPQUFPLEksRUFmQSxDQUFTLElBa0JsQyxHQUFVLE9BQU8sTUFBTyxJQUV4QjVGLElBQU0sR0FBYyxDQUNsQixlQUFRLE9BQU8sTUFDZixpQkFBUSxHQUFPLE9BQU8sSUFBSSxHQUFhLEtBUXpDLFNBQVMsR0FBZ0IsRUFBSyxFQUFNLEVBQUssRUFBTyxFQUFLLEdBQ25ELEdBQUksRUFBSyxjQUFlLE9BQU8sR0FBYyxPQUFPLEVBQUssR0FDekQsSUFBS3BFLElBQUksRUFBSSxHQUFTLEVBQU0sRUFBSSxFQUFJLEdBQUksRUFBTSxFQUFJLEVBQUksRUFBSyxXQUFhLEdBQUssRUFBRyxHQUFLLEVBQUssQ0FDeEZBLElBQUksRUFBUSxFQUFLLE1BQU0sR0FDdkIsR0FBSyxFQUFNLFFBR0osSUFBSyxHQUFRLEdBQWMsYUFBYSxHQUM3QyxPQUFPLEdBQWMsT0FBTyxFQUFLLEdBQU8sRUFBTSxFQUFJLEVBQU0sU0FBVyxRQUpsRCxDQUNqQkEsSUFBSSxFQUFRLEdBQWdCLEVBQUssRUFBTyxFQUFNLEVBQUssRUFBTSxFQUFJLEVBQU0sV0FBYSxFQUFHLEVBQUssR0FDeEYsR0FBSSxFQUFPLE9BQU8sRUFJcEIsR0FBTyxFQUFNLFNBQVcsR0FJNUIsU0FBUyxHQUF3QixFQUFJLEVBQVUsR0FDN0NBLElBQUksRUFBTyxFQUFHLE1BQU0sT0FBUyxFQUM3QixLQUFJLEVBQU8sR0FBWCxDQUNBQSxJQUVpQyxFQUY3QixFQUFPLEVBQUcsTUFBTSxHQUNwQixHQUFNLGFBQWdCLElBQWUsYUFBZ0IsR0FDM0MsRUFBRyxRQUFRLEtBQUssR0FDdEIsU0FBTyxTQUFFLEVBQU8sRUFBSyxFQUFVLEdBQXVCLE1BQVAsSUFBYSxFQUFNLE1BQ3RFLEVBQUcsYUFBYSxHQUFVLEtBQUssRUFBRyxJQUFJLFFBQVEsR0FBTSxLQzFjdERvRSxJQW1CYSxHQUFXLFlBQ3RCLFdBQVlpSCxHQUNWckIsT0FBTSxLQUFBcUIsRUFBTXRHLEtBSVozTyxLQUFLd3hCLEtBQU8xcEIsS0FBS0csTUFDakJqSSxLQUFLeXhCLGFBQWV4YyxFQUFNeWMsVUFFMUIxeEIsS0FBSzJ4QixnQkFBa0IsRUFHdkIzeEIsS0FBSzR4QixZQUFjM2MsRUFBTTJjLFlBR3pCNXhCLEtBQUs2eEIsUUFBVSxFQUVmN3hCLEtBQUs4eEIsS0FBT3Z6QixPQUFPWSxPQUFPLE0saVFBUTVCLEVBQUl1eUIsVUFBQSxlQUtGLE9BSkkxeEIsS0FBSzJ4QixnQkFBa0IzeEIsS0FBSzRvQixNQUFNam1CLFNBQ3BDM0MsS0FBS3l4QixhQUFlenhCLEtBQUt5eEIsYUFBYW50QixJQUFJdEUsS0FBSzJPLElBQUszTyxLQUFLa29CLFFBQVFsaEIsTUFBTWhILEtBQUsyeEIsa0JBQzVFM3hCLEtBQUsyeEIsZ0JBQWtCM3hCLEtBQUs0b0IsTUFBTWptQixRQUU3QjNDLEtBQUt5eEIsYyxZQU1kTSxhQUFBLFNBQWFMLEdBQ1gsR0FBSUEsRUFBVXZqQixNQUFNUSxLQUFPM08sS0FBSzJPLElBQzlCLE1BQU0sSUFBSTNDLFdBQVcsdUVBS3ZCLE9BSkFoTSxLQUFLeXhCLGFBQWVDLEVBQ3BCMXhCLEtBQUsyeEIsZ0JBQWtCM3hCLEtBQUs0b0IsTUFBTWptQixPQUNsQzNDLEtBQUs2eEIsU0FBeUMsR0E1RDlCLEVBNERBN3hCLEtBQUs2eEIsU0FDckI3eEIsS0FBSzR4QixZQUFjLEtBQ1o1eEIsTUFLVCxFQUFJZ3lCLGFBQUEsZUFDRixPQXBFZ0IsRUFvRVJoeUIsS0FBSzZ4QixTQUF5QixHLFlBS3hDSSxlQUFBLFNBQWU5aUIsR0FHYixPQUZBblAsS0FBSzR4QixZQUFjemlCLEVBQ25CblAsS0FBSzZ4QixTQTNFOEIsRUE0RTVCN3hCLE0sWUFPVGt5QixZQUFBLFNBQVkvaUIsR0FHVixPQUZLQyxFQUFLb0MsUUFBUXhSLEtBQUs0eEIsYUFBZTV4QixLQUFLMHhCLFVBQVV2akIsTUFBTWdCLFFBQVNBLElBQ2xFblAsS0FBS2l5QixlQUFlOWlCLEdBQ2ZuUCxNLFlBS1RteUIsY0FBQSxTQUFjMWdCLEdBQ1osT0FBT3pSLEtBQUtreUIsWUFBWXpnQixFQUFLaU8sU0FBUzFmLEtBQUs0eEIsYUFBZTV4QixLQUFLMHhCLFVBQVVVLE1BQU1qakIsVyxZQUtqRmtqQixpQkFBQSxTQUFpQjVnQixHQUNmLE9BQU96UixLQUFLa3lCLFlBQVl6Z0IsRUFBSzlCLGNBQWMzUCxLQUFLNHhCLGFBQWU1eEIsS0FBSzB4QixVQUFVVSxNQUFNampCLFdBS3RGLEVBQUltakIsZUFBQSxlQUNGLE9BeEdtQyxFQXdHM0J0eUIsS0FBSzZ4QixTQUEyQixHLFlBRzFDMUksUUFBQSxTQUFRSixFQUFNcGEsR0FDWmlGLFlBQU11VixRQUFBLEtBQVEsS0FBQUosRUFBTXBhLEdBQ3BCM08sS0FBSzZ4QixTQUF5QixFQUFmN3hCLEtBQUs2eEIsUUFDcEI3eEIsS0FBSzR4QixZQUFjLE0sWUFLckJXLFFBQUEsU0FBUWYsR0FFTixPQURBeHhCLEtBQUt3eEIsS0FBT0EsRUFDTHh4QixNLFlBS1R3eUIsaUJBQUEsU0FBaUJ4ckIsR0FFZixPQURBaEgsS0FBSzB4QixVQUFVN3BCLFFBQVE3SCxLQUFNZ0gsR0FDdEJoSCxNLFlBT1R5eUIscUJBQUEsU0FBcUI1bkIsRUFBTTZuQixHQUN6QjlvQixJQUFJOG5CLEVBQVkxeEIsS0FBSzB4QixVQUlyQixPQUhxQixJQUFqQmdCLElBQ0Y3bkIsRUFBT0EsRUFBSzRHLEtBQUt6UixLQUFLNHhCLGNBQWdCRixFQUFVaG1CLE1BQVFnbUIsRUFBVXZqQixNQUFNZ0IsUUFBV3VpQixFQUFVdmpCLE1BQU15QixZQUFZOGhCLEVBQVU1Z0IsTUFBUTFCLEVBQUtDLFFBQ3hJcWlCLEVBQVUzRSxZQUFZL3NCLEtBQU02SyxHQUNyQjdLLE0sWUFLVDJ5QixnQkFBQSxXQUVFLE9BREEzeUIsS0FBSzB4QixVQUFVN3BCLFFBQVE3SCxNQUNoQkEsTSxZQU1UNHlCLFdBQUEsU0FBV2pvQixFQUFNN0QsRUFBTWlELFEsVUFBS2pELEdBQzFCOEMsSUFBSTZELEVBQVN6TixLQUFLMk8sSUFBSXRMLEtBQUtvSyxPQUMzQixHQUFZLE1BQVIzRyxFQUNGLE9BQUs2RCxFQUNFM0ssS0FBS3l5QixxQkFBcUJobEIsRUFBTzlDLEtBQUtBLElBQU8sR0FEbEMzSyxLQUFLMnlCLGtCQUd2QixJQUFLaG9CLEVBQU0sT0FBTzNLLEtBQUt5d0IsWUFBWTNwQixFQUFNaUQsR0FDekNILElBQUl1RixFQUFRblAsS0FBSzR4QixZQUNqQixJQUFLemlCLEVBQU8sQ0FDVnZGLElBQUl1RSxFQUFRbk8sS0FBSzJPLElBQUk0QixRQUFRekosR0FDN0JxSSxFQUFRcEYsR0FBTWpELEVBQU9xSCxFQUFNZ0IsUUFBVWhCLEVBQU15QixZQUFZNVAsS0FBSzJPLElBQUk0QixRQUFReEcsSUFJMUUsT0FGQS9KLEtBQUtveEIsaUJBQWlCdHFCLEVBQU1pRCxFQUFJMEQsRUFBTzlDLEtBQUtBLEVBQU13RSxJQUM3Q25QLEtBQUsweEIsVUFBVWhtQixPQUFPMUwsS0FBSyt4QixhQUFhLEdBQVVjLEtBQUs3eUIsS0FBSzB4QixVQUFVNWdCLE1BQ3BFOVEsTSxZQU9YOHlCLFFBQUEsU0FBUTF6QixFQUFLTixHQUVYLE9BREFrQixLQUFLOHhCLEtBQW1CLGlCQUFQMXlCLEVBQWtCQSxFQUFNQSxFQUFJQSxLQUFPTixFQUM3Q2tCLE0sWUFLVCt5QixRQUFBLFNBQVEzekIsR0FDTixPQUFPWSxLQUFLOHhCLEtBQW1CLGlCQUFQMXlCLEVBQWtCQSxFQUFNQSxFQUFJQSxNQU10RCxFQUFJNHpCLFVBQUEsZUFDRixJQUFLcHBCLElBQUkySixLQUFLdlQsS0FBSzh4QixLQUFNLE9BQU8sRUFDaEMsT0FBTyxHLFlBTVRtQixlQUFBLFdBRUUsT0FEQWp6QixLQUFLNnhCLFNBak1rRCxFQWtNaEQ3eEIsTUFHVCxFQUFJa3pCLGlCQUFBLGVBQ0YsT0F0TXVELEVBc00vQ2x6QixLQUFLNnhCLFNBQTRCLEcseUNBbkxyQixDQUFTLElDbEJqQyxTQUFTeHlCLEdBQUsrSixFQUFHVCxHQUNmLE9BQVFBLEdBQVNTLEVBQVFBLEVBQUUvSixLQUFLc0osR0FBWFMsRUFHdkIsSUFBTStwQixHQUNKLFNBQVkvMEIsRUFBTWcxQixFQUFNenFCLEdBQ3RCM0ksS0FBSzVCLEtBQU9BLEVBQ2QsS0FBT2kxQixLQUFPaDBCLEdBQUsrekIsRUFBS0MsS0FBTTFxQixHQUM5QixLQUFPdWdCLE1BQVE3cEIsR0FBSyt6QixFQUFLbEssTUFBT3ZnQixJQUk1QjJxQixHQUFhLENBQ2pCLElBQUlILEdBQVUsTUFBTyxDQUNuQkUsS0FBQSxTQUFLRSxHQUFVLE9BQU9BLEVBQU81a0IsS0FBTzRrQixFQUFPOWxCLE9BQU8rTSxZQUFZOUQsaUJBQzlEd1MsTUFBQSxTQUFNc0ssR0FBTSxPQUFPQSxFQUFHN2tCLE9BR3hCLElBQUl3a0IsR0FBVSxZQUFhLENBQ3pCRSxLQUFBLFNBQUtFLEVBQVF0WixHQUFZLE9BQU9zWixFQUFPN0IsV0FBYSxHQUFVK0IsUUFBUXhaLEVBQVN0TCxNQUMvRXVhLE1BQUEsU0FBTXNLLEdBQU0sT0FBT0EsRUFBRzlCLGFBR3hCLElBQUl5QixHQUFVLGNBQWUsQ0FDM0JFLEtBQUEsU0FBS0UsR0FBVSxPQUFPQSxFQUFPM0IsYUFBZSxNQUM1QzFJLE1BQUEsU0FBTXNLLEVBQUlFLEVBQVFDLEVBQU0xZSxHQUFTLE9BQU9BLEVBQU15YyxVQUFVa0MsUUFBVUosRUFBRzVCLFlBQWMsUUFHckYsSUFBSXVCLEdBQVUsb0JBQXFCLENBQ2pDRSxLQUFBLFdBQVMsT0FBTyxHQUNoQm5LLE1BQUEsU0FBTXNLLEVBQUlLLEdBQVEsT0FBT0wsRUFBR04saUJBQW1CVyxFQUFPLEVBQUlBLE1BTXhEQyxHQUNKLFNBQVlybUIsRUFBUXNtQixHLFdBQ2xCL3pCLEtBQUt5TixPQUFTQSxFQUNkek4sS0FBS2cwQixPQUFTVixHQUFXbnVCLFNBQ3pCbkYsS0FBSyt6QixRQUFVLEdBQ2pCLEtBQU9FLGFBQWUxMUIsT0FBT1ksT0FBTyxNQUM5QjQwQixHQUFTQSxFQUFRNXFCLFNBQVEsU0FBQStxQixHQUM3QixHQUFNbDBCLEVBQUtpMEIsYUFBYUMsRUFBTzkwQixLQUMzQixNQUFNLElBQUk0TSxXQUFXLGlEQUFtRGtvQixFQUFPOTBCLElBQU0sS0FDdkZZLEVBQUsrekIsUUFBUTV3QixLQUFLK3dCLEdBQ3BCLEVBQU9ELGFBQWFDLEVBQU85MEIsS0FBTzgwQixFQUM1QkEsRUFBTzFrQixLQUFLeUYsT0FDZGpWLEVBQUtnMEIsT0FBTzd3QixLQUFLLElBQUlnd0IsR0FBVWUsRUFBTzkwQixJQUFLODBCLEVBQU8xa0IsS0FBS3lGLE1BQU9pZixRQVl6REMsR0FDWCxTQUFZWixHQUNWdnpCLEtBQUt1ekIsT0FBU0EsRyw2RUFlbEJubEIsR0FBTVgsT0FBQSxlQUNGLE9BQU96TixLQUFLdXpCLE9BQU85bEIsUUFLdkJXLEdBQU0ybEIsUUFBQSxlQUNGLE9BQU8vekIsS0FBS3V6QixPQUFPUSxTQUt2QixhQUFFN0ssTUFBQSxTQUFNc0ssR0FDTixPQUFTeHpCLEtBQUtvMEIsaUJBQWlCWixHQUFJdmUsT0FJckMsYUFBRW9mLGtCQUFBLFNBQWtCYixFQUFJMVIsUSxXQUFVLEdBQ2hDLElBQU9sWSxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJbUMsS0FBS3V6QixPQUFPUSxRQUFRcHhCLE9BQVE5RSxJQUFLLEdBQUlBLEdBQUtpa0IsRUFBUSxDQUN0RSxJQUFNb1MsRUFBU2wwQixLQUFLdXpCLE9BQU9RLFFBQVFsMkIsR0FDbkMsR0FBTXEyQixFQUFPMWtCLEtBQUs2a0Isb0JBQXNCSCxFQUFPMWtCLEtBQUs2a0Isa0JBQWtCcjJCLEtBQUtrMkIsRUFBUVYsRUFBSXh6QixNQUNuRixPQUFPLEVBRVgsT0FBTyxHQVNYLGFBQUVvMEIsaUJBQUEsU0FBaUJFLEdBQ2YsSUFBS3QwQixLQUFLcTBCLGtCQUFrQkMsR0FBUyxNQUFPLENBQUNyZixNQUFPalYsS0FBTXUwQixhQUFjLElBTWpFLElBSlAzcUIsSUFBSTRxQixFQUFNLENBQUNGLEdBQVNHLEVBQVd6MEIsS0FBSzAwQixXQUFXSixHQUFTamUsRUFBTyxPQUkvQyxDQUVkLElBREF6TSxJQUFJK3FCLEdBQVUsRUFDTDkyQixFQUFJLEVBQUdBLEVBQUltQyxLQUFLdXpCLE9BQU9RLFFBQVFweEIsT0FBUTlFLElBQUssQ0FDckQsSUFBTXEyQixFQUFTbDBCLEtBQUt1ekIsT0FBT1EsUUFBUWwyQixHQUNqQyxHQUFJcTJCLEVBQU8xa0IsS0FBS29sQixrQkFBbUIsQ0FDbkMsSUFBTXQxQixFQUFJK1csRUFBT0EsRUFBS3hZLEdBQUd5QixFQUFJLEVBQUd1MUIsRUFBV3hlLEVBQU9BLEVBQUt4WSxHQUFHb1gsTUFBUWpWLEtBQzVEd3pCLEVBQUtsMEIsRUFBSWsxQixFQUFJN3hCLFFBQ2YsRUFBUzZNLEtBQUtvbEIsa0JBQWtCNTJCLEtBQUtrMkIsRUFBUTUwQixFQUFJazFCLEVBQUl4dEIsTUFBTTFILEdBQUtrMUIsRUFBS0ssRUFBVUosR0FDbkYsR0FBTWpCLEdBQU1pQixFQUFTSixrQkFBa0JiLEVBQUkzMUIsR0FBSSxDQUU3QyxHQURFMjFCLEVBQUdWLFFBQVEsc0JBQXVCd0IsSUFDN0JqZSxFQUFNLENBQ1gsRUFBUyxHQUNQLElBQUt6TSxJQUFJMkMsRUFBSSxFQUFHQSxFQUFJdk0sS0FBS3V6QixPQUFPUSxRQUFRcHhCLE9BQVE0SixJQUM5QzhKLEVBQUtsVCxLQUFLb0osRUFBSTFPLEVBQUksQ0FBQ29YLE1BQU93ZixFQUFVbjFCLEVBQUdrMUIsRUFBSTd4QixRQUFVLENBQUNzUyxNQUFPalYsS0FBTVYsRUFBRyxJQUUxRWsxQixFQUFJcnhCLEtBQUtxd0IsR0FDVGlCLEVBQVdBLEVBQVNDLFdBQVdsQixHQUNqQyxHQUFZLEVBRVJuZCxJQUFNQSxFQUFLeFksR0FBSyxDQUFDb1gsTUFBT3dmLEVBQVVuMUIsRUFBR2sxQixFQUFJN3hCLFVBR2pELElBQUtneUIsRUFBUyxNQUFPLENBQUMxZixNQUFPd2YsRUFBVUYsYUFBY0MsS0FLM0QsYUFBRUUsV0FBQSxTQUFXbEIsR0FDVCxJQUFLQSxFQUFHMWtCLE9BQU9oRCxHQUFHOUwsS0FBSzJPLEtBQU0sTUFBTSxJQUFJM0MsV0FBVyxxQ0FFbEQsSUFEQXBDLElBQUlrckIsRUFBYyxJQUFJWCxHQUFZbjBCLEtBQUt1ekIsUUFBU1MsRUFBU2gwQixLQUFLdXpCLE9BQU9TLE9BQzVEbjJCLEVBQUksRUFBR0EsRUFBSW0yQixFQUFPcnhCLE9BQVE5RSxJQUFLLENBQ3RDK0wsSUFBSW1yQixFQUFRZixFQUFPbjJCLEdBQ3JCLEVBQWNrM0IsRUFBTTMyQixNQUFRMjJCLEVBQU03TCxNQUFNc0ssRUFBSXh6QixLQUFLKzBCLEVBQU0zMkIsTUFBTzRCLEtBQU04MEIsR0FFdEUsSUFBT2xyQixJQUFJL0wsRUFBSSxFQUFHQSxFQUFJbTNCLEdBQWVyeUIsT0FBUTlFLElBQUttM0IsR0FBZW4zQixHQUFHbUMsS0FBTXd6QixFQUFJc0IsR0FDNUUsT0FBT0EsR0FLWDFtQixHQUFNb2xCLEdBQUEsZUFBTyxPQUFPLElBQUksR0FBWXh6QixPQXFCbEMsR0FBT2IsT0FBQSxTQUFPbzBCLEdBR1osSUFGRixJQUFNMEIsRUFBVSxJQUFJbkIsR0FBY1AsRUFBTzlsQixRQUFVOGxCLEVBQU81a0IsSUFBSXRMLEtBQUtvSyxPQUFROGxCLEVBQU9RLFNBQzVFOVosRUFBVyxJQUFJa2EsR0FBWWMsR0FDdEJwM0IsRUFBSSxFQUFHQSxFQUFJbzNCLEVBQVFqQixPQUFPcnhCLE9BQVE5RSxJQUN6Q29jLEVBQVNnYixFQUFRakIsT0FBT24yQixHQUFHTyxNQUFRNjJCLEVBQVFqQixPQUFPbjJCLEdBQUd3MUIsS0FBS0UsRUFBUXRaLEdBQ3BFLE9BQU9BLEdBa0JYLGFBQUVpYixZQUFBLFNBQVkzQixHQUdWLElBRkEzcEIsSUFBSXFyQixFQUFVLElBQUluQixHQUFjUCxFQUFPOWxCLFFBQVV6TixLQUFLeU4sT0FBUThsQixFQUFPUSxTQUNqRUMsRUFBU2lCLEVBQVFqQixPQUFRL1osRUFBVyxJQUFJa2EsR0FBWWMsR0FDL0NwM0IsRUFBSSxFQUFHQSxFQUFJbTJCLEVBQU9yeEIsT0FBUTlFLElBQUssQ0FDeEMsSUFBTU8sRUFBTzQxQixFQUFPbjJCLEdBQUdPLEtBQ3ZCLEVBQVdBLEdBQVE0QixLQUFLTixlQUFldEIsR0FBUTRCLEtBQUs1QixHQUFRNDFCLEVBQU9uMkIsR0FBR3cxQixLQUFLRSxFQUFRdFosR0FFbkYsT0FBT0EsR0FTWCxhQUFFMU0sT0FBQSxTQUFPNG5CLEdBQ1AsSUFBTTFyQixFQUFTLENBQUNrRixJQUFLM08sS0FBSzJPLElBQUlwQixTQUFVbWtCLFVBQVcxeEIsS0FBSzB4QixVQUFVbmtCLFVBRWhFLEdBREl2TixLQUFLNHhCLGNBQWFub0IsRUFBT21vQixZQUFjNXhCLEtBQUs0eEIsWUFBWXR0QixLQUFJLFNBQUFyRyxHQUFFLE9BQUdBLEVBQUVzUCxhQUNuRTRuQixHQUF1QyxpQkFBaEJBLEVBQTBCLElBQUt2ckIsSUFBSUYsS0FBUXlyQixFQUFjLENBQ2xGLEdBQVksT0FBUnpyQixHQUF5QixhQUFSQSxFQUNuQixNQUFNLElBQUlzQyxXQUFXLHNEQUN2QnBDLElBQUlzcUIsRUFBU2lCLEVBQWF6ckIsR0FBT3VMLEVBQVFpZixFQUFPMWtCLEtBQUt5RixNQUNqREEsR0FBU0EsRUFBTTFILFNBQVE5RCxFQUFPQyxHQUFRdUwsRUFBTTFILE9BQU92UCxLQUFLazJCLEVBQVFsMEIsS0FBS2swQixFQUFPOTBCLE9BRWxGLE9BQU9xSyxHQWlCWCxHQUFTK0QsU0FBQSxTQUFTK2xCLEVBQVEvZixFQUFNMmhCLEdBQzlCLElBQU8zaEIsRUFBTSxNQUFNLElBQUl4SCxXQUFXLDBDQUNsQyxJQUFPdW5CLEVBQU85bEIsT0FBUSxNQUFNLElBQUl6QixXQUFXLDBDQUN6Q3BDLElBQUlxckIsRUFBVSxJQUFJbkIsR0FBY1AsRUFBTzlsQixPQUFROGxCLEVBQU9RLFNBQ2xEOVosRUFBVyxJQUFJa2EsR0FBWWMsR0FxQi9CLE9BcEJGLEVBQVVqQixPQUFPN3FCLFNBQVEsU0FBQTRyQixHQUNyQixHQUFrQixPQUFkQSxFQUFNMzJCLEtBQ1I2YixFQUFTdEwsSUFBTXdDLEVBQUszRCxTQUFTK2xCLEVBQU85bEIsT0FBUStGLEVBQUs3RSxVQUM1QyxHQUFrQixhQUFkb21CLEVBQU0zMkIsS0FDZjZiLEVBQVN5WCxVQUFZLEdBQVVsa0IsU0FBU3lNLEVBQVN0TCxJQUFLNkUsRUFBS2tlLGdCQUN0RCxHQUFrQixlQUFkcUQsRUFBTTMyQixLQUNYb1YsRUFBS29lLGNBQWEzWCxFQUFTMlgsWUFBY3BlLEVBQUtvZSxZQUFZdHRCLElBQUlpdkIsRUFBTzlsQixPQUFPZ0csbUJBQzNFLENBQ1AsR0FBTTBoQixFQUFjLElBQUt2ckIsSUFBSUYsS0FBUXlyQixFQUFjLENBQy9DdnJCLElBQUlzcUIsRUFBU2lCLEVBQWF6ckIsR0FBT3VMLEVBQVFpZixFQUFPMWtCLEtBQUt5RixNQUNyRCxHQUFJaWYsRUFBTzkwQixLQUFPMjFCLEVBQU0zMkIsTUFBUTZXLEdBQVNBLEVBQU16SCxVQUMzQ2pQLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3dWLEVBQU05SixHQUc3QyxZQURGLEVBQVdxckIsRUFBTTMyQixNQUFRNlcsRUFBTXpILFNBQVN4UCxLQUFLazJCLEVBQVFYLEVBQVEvZixFQUFLOUosR0FBT3VRLElBSTNFQSxFQUFTOGEsRUFBTTMyQixNQUFRMjJCLEVBQU0xQixLQUFLRSxFQUFRdFosT0FHdkNBLEdBU1QsR0FBT21iLGlCQUFBLFNBQWlCaHNCLEdBQ3RCNHJCLEdBQWU3eEIsS0FBS2lHLElBRXRCLEdBQU9pc0Isb0JBQUEsU0FBb0Jqc0IsR0FDM0IsSUFBTWIsRUFBUXlzQixHQUFlbGdCLFFBQVExTCxHQUMvQmIsR0FBUyxHQUFHeXNCLEdBQWVuc0IsT0FBT04sRUFBTyxJLHlDQUlqRHlGLElBQU1nbkIsR0FBaUIsR0NuT3ZCLElBQWFNLEdBR1gsU0FBWTlsQixHQUdWeFAsS0FBS3UxQixNQUFRLEdBQ1QvbEIsRUFBSytsQixPQXBCYixTQUFTQyxFQUFVbGlCLEVBQUszSyxFQUFNaU8sR0FDNUIsSUFBS2hOLElBQUlGLEtBQVE0SixFQUFLLENBQ3BCMUosSUFBSThFLEVBQU00RSxFQUFJNUosR0FDVmdGLGFBQWUrbUIsU0FBVS9tQixFQUFNQSxFQUFJclAsS0FBS3NKLEdBQzNCLG1CQUFSZSxJQUEyQmdGLEVBQU04bUIsRUFBVTltQixFQUFLL0YsRUFBTSxLQUMvRGlPLEVBQU9sTixHQUFRZ0YsRUFFakIsT0FBT2tJLEVBYVc0ZSxDQUFVaG1CLEVBQUsrbEIsTUFBT3YxQixLQUFNQSxLQUFLdTFCLE9BR2pEdjFCLEtBQUt3UCxLQUFPQSxFQUNaeFAsS0FBS1osSUFBTW9RLEVBQUtwUSxJQUFNb1EsRUFBS3BRLElBQUlBLElBQU1zMkIsR0FBVSxXQUtuRCxhQUFFQyxTQUFBLFNBQVMxZ0IsR0FBUyxPQUFPQSxFQUFNalYsS0FBS1osTUE2QnRDNE8sSUFBTTRuQixHQUFPcjNCLE9BQU9ZLE9BQU8sTUFFM0IsU0FBU3UyQixHQUFVdDNCLEdBQ2pCLE9BQUlBLEtBQVF3M0IsR0FBYXgzQixFQUFPLE9BQVF3M0IsR0FBS3gzQixJQUM3Q3czQixHQUFLeDNCLEdBQVEsRUFDTkEsRUFBTyxLQU9oQixJQUFheTNCLEdBR1gsU0FBWXozQixRLFVBQU8sT0FBUzRCLEtBQUtaLElBQU1zMkIsR0FBVXQzQixJQUtuRCxhQUFFTSxJQUFBLFNBQUl1VyxHQUFTLE9BQU9BLEVBQU1zZSxPQUFPVSxhQUFhajBCLEtBQUtaLE1BSXJELGFBQUV1MkIsU0FBQSxTQUFTMWdCLEdBQVMsT0FBT0EsRUFBTWpWLEtBQUtaLE1DcEl0QzRPLElBQU0sR0FBUyxHQUdmLEdBQXdCLG9CQUFiOG5CLFdBQStDLG9CQUFaOTBCLFNBQXlCLENBQ3JFZ04sSUFBTStuQixHQUFVLGNBQWMxVyxLQUFLeVcsVUFBVUUsV0FDdkNDLEdBQVksVUFBVXBlLEtBQUtpZSxVQUFVRSxXQUNyQ0UsR0FBVSx3Q0FBd0M3VyxLQUFLeVcsVUFBVUUsV0FFdkUsR0FBT0csSUFBTSxNQUFNdGUsS0FBS2llLFVBQVV0ekIsVUFDbENvSCxJQUFJd3NCLEdBQUssR0FBT0EsTUFBUUgsSUFBYUMsSUFBV0gsSUFDaEQsR0FBT00sV0FBYUosR0FBWWoxQixTQUFTczFCLGNBQWdCLEVBQUlKLElBQVdBLEdBQVEsR0FBS0gsSUFBV0EsR0FBUSxHQUFLLEtBQzdHLEdBQU9RLE9BQVNILElBQU0sZ0JBQWdCdmUsS0FBS2llLFVBQVVFLFdBQ3JELEdBQU9RLGNBQWdCLEdBQU9ELFNBQVcsaUJBQWlCbFgsS0FBS3lXLFVBQVVFLFlBQWMsQ0FBQyxFQUFHLElBQUksR0FDL0Zwc0IsSUFBSTZzQixJQUFVTCxJQUFNLGdCQUFnQi9XLEtBQUt5VyxVQUFVRSxXQUNuRCxHQUFPUyxTQUFXQSxHQUNsQixHQUFPQyxlQUFpQkQsS0FBV0EsR0FBTyxHQUMxQyxHQUFPRSxLQUFPUCxJQUFNLGNBQWN2ZSxLQUFLaWUsVUFBVUUsWUFBYyxjQUFjbmUsS0FBS2llLFVBQVVFLFdBQzVGLEdBQU9ZLFFBQVUsYUFBYS9lLEtBQUtpZSxVQUFVRSxXQUM3QyxHQUFPYSxRQUFVVCxJQUFNLHFCQUFzQnAxQixTQUFTODFCLGdCQUFnQjdiLE1BQ3RFLEdBQU84YixPQUFTLGlCQUFpQmxmLEtBQUtpZSxVQUFVa0IsUUFDaEQsR0FBT0MsZUFBaUIsR0FBT0osVUFBWSx1QkFBdUJ4WCxLQUFLeVcsVUFBVUUsWUFBYyxDQUFDLEVBQUcsSUFBSSxHQ2xCbEdob0IsSUFBTWtwQixHQUFXLFNBQVNyc0IsR0FDL0IsSUFBSyxJQUFJZSxFQUFRLEdBQUlBLElBRW5CLEtBREFmLEVBQU9BLEVBQUt1VyxpQkFDRCxPQUFPeFYsR0FJVHZFLEdBQWEsU0FBU3dELEdBQ2pDakIsSUFBSXhHLEVBQVN5SCxFQUFLeEQsV0FDbEIsT0FBT2pFLEdBQTZCLElBQW5CQSxFQUFPc1EsU0FBaUJ0USxFQUFPK3pCLEtBQU8vekIsR0FHNUNnMEIsR0FBWSxTQUFTdnNCLEVBQU0vRCxFQUFNaUQsR0FDNUNILElBQUlvaEIsRUFBUWhxQixTQUFTcTJCLGNBR3JCLE9BRkFyTSxFQUFNc00sT0FBT3pzQixFQUFZLE1BQU5kLEVBQWFjLEVBQUtxVyxVQUFVdmUsT0FBU29ILEdBQ3hEaWhCLEVBQU11TSxTQUFTMXNCLEVBQU0vRCxHQUFRLEdBQ3RCa2tCLEdBTUl3TSxHQUF1QixTQUFTM3NCLEVBQU00c0IsRUFBS0MsRUFBWUMsR0FDbEUsT0FBT0QsSUFBZUUsR0FBUS9zQixFQUFNNHNCLEVBQUtDLEVBQVlDLEdBQVksSUFDM0NDLEdBQVEvc0IsRUFBTTRzQixFQUFLQyxFQUFZQyxFQUFXLEtBRzVERSxHQUFlLGdDQUVyQixTQUFTRCxHQUFRL3NCLEVBQU00c0IsRUFBS0MsRUFBWUMsRUFBV0csR0FDakQsT0FBUyxDQUNQLEdBQUlqdEIsR0FBUTZzQixHQUFjRCxHQUFPRSxFQUFXLE9BQU8sRUFDbkQsR0FBSUYsSUFBUUssRUFBTSxFQUFJLEVBQUlqdUIsR0FBU2dCLElBQVEsQ0FDekNqQixJQUFJeEcsRUFBU3lILEVBQUt4RCxXQUNsQixHQUF1QixHQUFuQmpFLEVBQU9zUSxVQUFpQnFrQixHQUFhbHRCLElBQVNndEIsR0FBYWhnQixLQUFLaE4sRUFBS3dXLFdBQXFDLFNBQXhCeFcsRUFBS210QixnQkFDekYsT0FBTyxFQUNUUCxFQUFNUCxHQUFTcnNCLElBQVNpdEIsRUFBTSxFQUFJLEVBQUksR0FDdENqdEIsRUFBT3pILE1BQ0YsSUFBcUIsR0FBakJ5SCxFQUFLNkksU0FLZCxPQUFPLEVBSFAsR0FBNEIsVUFENUI3SSxFQUFPQSxFQUFLZ1ksV0FBVzRVLEdBQU9LLEVBQU0sR0FBSyxFQUFJLEtBQ3BDRSxnQkFBNEIsT0FBTyxFQUM1Q1AsRUFBTUssRUFBTSxFQUFJanVCLEdBQVNnQixHQUFRLElBT2hDLFNBQVNoQixHQUFTZ0IsR0FDdkIsT0FBd0IsR0FBakJBLEVBQUs2SSxTQUFnQjdJLEVBQUtxVyxVQUFVdmUsT0FBU2tJLEVBQUtnWSxXQUFXbGdCLE9BY3RFLFNBQVNvMUIsR0FBYTdjLEdBRXBCLElBREF0UixJQUFJd3BCLEVBQ0sxZCxFQUFNd0YsRUFBS3hGLEtBQStCMGQsRUFBTzFkLEVBQUl1aUIsWUFBckN2aUIsRUFBTUEsRUFBSXJPLFlBQ25DLE9BQU8rckIsR0FBUUEsRUFBS3ZvQixNQUFRdW9CLEVBQUt2b0IsS0FBS0csVUFBWW9vQixFQUFLbFksS0FBT0EsR0FBT2tZLEVBQUszUSxZQUFjdkgsR0FLbkZsTixJQUFNa3FCLEdBQXFCLFNBQVNDLEdBQ3pDdnVCLElBQUl3dUIsRUFBWUQsRUFBT0UsWUFHdkIsT0FGSUQsR0FBYUUsR0FBUTdCLFFBQVUwQixFQUFPSSxhQUFlSixFQUFPSyxXQUFXLEdBQUdKLFlBQzVFQSxHQUFZLEdBQ1BBLEdBR0YsU0FBU0ssR0FBU0MsRUFBU3Q1QixHQUNoQ3dLLElBQUloSixFQUFRSSxTQUFTMjNCLFlBQVksU0FJakMsT0FIQS8zQixFQUFNZzRCLFVBQVUsV0FBVyxHQUFNLEdBQ2pDaDRCLEVBQU04M0IsUUFBVUEsRUFDaEI5M0IsRUFBTXhCLElBQU13QixFQUFNaTRCLEtBQU96NUIsRUFDbEJ3QixFQ2xGVCxTQUFTazRCLEdBQVdDLEdBQ2xCLE1BQU8sQ0FBQ0MsS0FBTSxFQUFHQyxNQUFPRixFQUFJRyxXQUNwQjNZLElBQUssRUFBRzRZLE9BQVFKLEVBQUlLLGFBRzlCLFNBQVNDLEdBQVF2NkIsRUFBT3c2QixHQUN0QixNQUF1QixpQkFBVHg2QixFQUFvQkEsRUFBUUEsRUFBTXc2QixHQUczQyxTQUFTQyxHQUFtQkMsRUFBTUMsRUFBTUMsR0FHN0MsSUFGQTl2QixJQUFJK3ZCLEVBQWtCSCxFQUFLSSxTQUFTLG9CQUFzQixFQUFHQyxFQUFlTCxFQUFLSSxTQUFTLGlCQUFtQixFQUN6R2pyQixFQUFNNnFCLEVBQUt0ZSxJQUFJa0gsY0FBZTJXLEVBQU1wcUIsRUFBSW1yQixZQUNuQzEyQixFQUFTczJCLEdBQVlGLEVBQUt0ZSxJQUM1QjlYLEVBRGtDQSxFQUFTaUUsR0FBV2pFLEdBRTNELEdBQXVCLEdBQW5CQSxFQUFPc1EsU0FBWCxDQUNBOUosSUFBSW13QixFQUFRMzJCLEdBQVV1TCxFQUFJcXJCLE1BQTJCLEdBQW5CNTJCLEVBQU9zUSxTQUNyQ3VtQixFQUFXRixFQUFRakIsR0FBV0MsR0FBTzMxQixFQUFPODJCLHdCQUM1Q0MsRUFBUSxFQUFHQyxFQUFRLEVBa0J2QixHQWpCSVgsRUFBS2xaLElBQU0wWixFQUFTMVosSUFBTThZLEdBQVFNLEVBQWlCLE9BQ3JEUyxJQUFVSCxFQUFTMVosSUFBTWtaLEVBQUtsWixJQUFNOFksR0FBUVEsRUFBYyxRQUNuREosRUFBS04sT0FBU2MsRUFBU2QsT0FBU0UsR0FBUU0sRUFBaUIsWUFDaEVTLEVBQVFYLEVBQUtOLE9BQVNjLEVBQVNkLE9BQVNFLEdBQVFRLEVBQWMsV0FDNURKLEVBQUtULEtBQU9pQixFQUFTakIsS0FBT0ssR0FBUU0sRUFBaUIsUUFDdkRRLElBQVVGLEVBQVNqQixLQUFPUyxFQUFLVCxLQUFPSyxHQUFRUSxFQUFjLFNBQ3JESixFQUFLUixNQUFRZ0IsRUFBU2hCLE1BQVFJLEdBQVFNLEVBQWlCLFdBQzlEUSxFQUFRVixFQUFLUixNQUFRZ0IsRUFBU2hCLE1BQVFJLEdBQVFRLEVBQWMsV0FDMURNLEdBQVNDLEtBQ1BMLEVBQ0ZoQixFQUFJc0IsU0FBU0YsRUFBT0MsSUFFaEJBLElBQU9oM0IsRUFBT2szQixXQUFhRixHQUMzQkQsSUFBTy8yQixFQUFPbTNCLFlBQWNKLEdBQ2hDVixFQUFPLENBQUNULEtBQU1TLEVBQUtULEtBQU9tQixFQUFPNVosSUFBS2taLEVBQUtsWixJQUFNNlosRUFBT25CLE1BQU9RLEVBQUtSLE1BQVFrQixFQUFPaEIsT0FBUU0sRUFBS04sT0FBU2lCLEtBR3pHTCxFQUFPLE9BeUJmLFNBQVNTLEdBQVl0ZixHQUVuQixJQURBdFIsSUFBSTZ3QixFQUFRLEdBQUk5ckIsRUFBTXVNLEVBQUlrSCxjQUNuQmxILElBQ0x1ZixFQUFNdDNCLEtBQUssQ0FBQytYLE1BQUtxRixJQUFLckYsRUFBSW9mLFVBQVd0QixLQUFNOWQsRUFBSXFmLGFBQzNDcmYsR0FBT3ZNLEdBRkR1TSxFQUFNN1QsR0FBVzZULElBSTdCLE9BQU91ZixFQVVULFNBQVNDLEdBQW1CRCxFQUFPRSxHQUNqQyxJQUFLL3dCLElBQUkvTCxFQUFJLEVBQUdBLEVBQUk0OEIsRUFBTTkzQixPQUFROUUsSUFBSyxDQUNyQyxNQUF1QjQ4QixFQUFNNThCLEdBQXhCcWQsRUFBQSxFQUFBQSxJQUFLcUYsRUFBQSxFQUFBQSxJQUFLeVksRUFBQSxFQUFBQSxLQUNYOWQsRUFBSW9mLFdBQWEvWixFQUFNb2EsSUFBTXpmLEVBQUlvZixVQUFZL1osRUFBTW9hLEdBQ25EemYsRUFBSXFmLFlBQWN2QixJQUFNOWQsRUFBSXFmLFdBQWF2QixJQUlqRHB2QixJQUFJZ3hCLEdBQXlCLEtBb0I3QixTQUFTQyxHQUFpQmh3QixFQUFNaXdCLEdBRzlCLElBRkFseEIsSUFBSW14QixFQUEwQkMsRUFBakJDLEVBQVksSUFBb0JodEIsRUFBUyxFQUNsRGl0QixFQUFTSixFQUFPdmEsSUFBSzRhLEVBQVNMLEVBQU92YSxJQUNoQ3JXLEVBQVFXLEVBQUtRLFdBQVkrdkIsRUFBYSxFQUFHbHhCLEVBQU9BLEVBQVFBLEVBQU15WCxZQUFheVosSUFBYyxDQUNoR3h4QixJQUFJeXhCLE9BQUEsRUFDSixHQUFzQixHQUFsQm54QixFQUFNd0osU0FBZTJuQixFQUFRbnhCLEVBQU1veEIscUJBQ2xDLElBQXNCLEdBQWxCcHhCLEVBQU13SixTQUNWLFNBRHlCMm5CLEVBQVFqRSxHQUFVbHRCLEdBQU9veEIsaUJBR3ZELElBQUsxeEIsSUFBSS9MLEVBQUksRUFBR0EsRUFBSXc5QixFQUFNMTRCLE9BQVE5RSxJQUFLLENBQ3JDK0wsSUFBSTZ2QixFQUFPNEIsRUFBTXg5QixHQUNqQixHQUFJNDdCLEVBQUtsWixLQUFPMmEsR0FBVXpCLEVBQUtOLFFBQVVnQyxFQUFRLENBQy9DRCxFQUFTaHpCLEtBQUttQyxJQUFJb3ZCLEVBQUtOLE9BQVErQixHQUMvQkMsRUFBU2p6QixLQUFLb0MsSUFBSW12QixFQUFLbFosSUFBSzRhLEdBQzVCdnhCLElBQUkyeEIsRUFBSzlCLEVBQUtULEtBQU84QixFQUFPOUIsS0FBT1MsRUFBS1QsS0FBTzhCLEVBQU85QixLQUNoRFMsRUFBS1IsTUFBUTZCLEVBQU85QixLQUFPOEIsRUFBTzlCLEtBQU9TLEVBQUtSLE1BQVEsRUFDNUQsR0FBSXNDLEVBQUtOLEVBQVcsQ0FDbEJGLEVBQVU3d0IsRUFDVit3QixFQUFZTSxFQUNaUCxFQUFnQk8sR0FBMEIsR0FBcEJSLEVBQVFybkIsU0FBZ0IsQ0FBQ3NsQixLQUFNUyxFQUFLUixNQUFRNkIsRUFBTzlCLEtBQU9TLEVBQUtSLE1BQVFRLEVBQUtULEtBQU16WSxJQUFLdWEsRUFBT3ZhLEtBQU91YSxFQUNyRyxHQUFsQjV3QixFQUFNd0osVUFBaUI2bkIsSUFDekJ0dEIsRUFBU210QixHQUFjTixFQUFPOUIsT0FBU1MsRUFBS1QsS0FBT1MsRUFBS1IsT0FBUyxFQUFJLEVBQUksSUFDM0UsV0FHQzhCLElBQVlELEVBQU85QixNQUFRUyxFQUFLUixPQUFTNkIsRUFBT3ZhLEtBQU9rWixFQUFLbFosS0FDaER1YSxFQUFPOUIsTUFBUVMsRUFBS1QsTUFBUThCLEVBQU92YSxLQUFPa1osRUFBS04sVUFDOURsckIsRUFBU210QixFQUFhLElBRzVCLE9BQUlMLEdBQStCLEdBQXBCQSxFQUFRcm5CLFNBS3pCLFNBQTBCN0ksRUFBTWl3QixHQUc5QixJQUZBbHhCLElBQUk0eEIsRUFBTTN3QixFQUFLcVcsVUFBVXZlLE9BQ3JCcW9CLEVBQVFocUIsU0FBU3EyQixjQUNaeDVCLEVBQUksRUFBR0EsRUFBSTI5QixFQUFLMzlCLElBQUssQ0FDNUJtdEIsRUFBTXNNLE9BQU96c0IsRUFBTWhOLEVBQUksR0FDdkJtdEIsRUFBTXVNLFNBQVMxc0IsRUFBTWhOLEdBQ3JCK0wsSUFBSTZ2QixFQUFPZ0MsR0FBV3pRLEVBQU8sR0FDN0IsR0FBSXlPLEVBQUtsWixLQUFPa1osRUFBS04sUUFDakJ1QyxHQUFPWixFQUFRckIsR0FDakIsTUFBTyxDQUFDNXVCLE9BQU1vRCxPQUFRcFEsR0FBS2k5QixFQUFPOUIsT0FBU1MsRUFBS1QsS0FBT1MsRUFBS1IsT0FBUyxFQUFJLEVBQUksSUFFakYsTUFBTyxDQUFDcHVCLE9BQU1vRCxPQUFRLEdBaEJ1QjB0QixDQUFpQlosRUFBU0MsSUFDbEVELEdBQVlFLEdBQWlDLEdBQXBCRixFQUFRcm5CLFNBQXVCLENBQUM3SSxPQUFNb0QsVUFDN0Q0c0IsR0FBaUJFLEVBQVNDLEdBaUJuQyxTQUFTVSxHQUFPWixFQUFRckIsR0FDdEIsT0FBT3FCLEVBQU85QixNQUFRUyxFQUFLVCxLQUFPLEdBQUs4QixFQUFPOUIsTUFBUVMsRUFBS1IsTUFBUSxHQUNqRTZCLEVBQU92YSxLQUFPa1osRUFBS2xaLElBQU0sR0FBS3VhLEVBQU92YSxLQUFPa1osRUFBS04sT0FBUyxFQTZEdkQsU0FBU3lDLEdBQVlwQyxFQUFNc0IsRyxRQUNWandCLEVBQU1vRCxFQUF4QjR0QixFQUFPckMsRUFBS3FDLEtBQ2hCLEdBQUlBLEVBQUtDLHVCQUNQLElBQ0VseUIsSUFBSUssRUFBTTR4QixFQUFLQyx1QkFBdUJoQixFQUFPOUIsS0FBTThCLEVBQU92YSxLQUN0RHRXLElBQW1CWSxHQUFkLEVBQThCWixHQUFoQixXQUFNZ0UsRUFBQSxFQUFBQSxRQUM3QixNQUFPc0YsSUFFWCxJQUFLMUksR0FBUWd4QixFQUFLRSxvQkFBcUIsQ0FDckNueUIsSUFBSW9oQixFQUFRNlEsRUFBS0Usb0JBQW9CakIsRUFBTzlCLEtBQU04QixFQUFPdmEsS0FDckR5SyxJQUF5Qm5nQixHQUFsQixFQUErQ21nQixHQUE3QixlQUFtQi9jLEVBQUEsZUFHbERyRSxJQUE4REssRUFBMUQreEIsRUFBTUgsRUFBS0ksaUJBQWlCbkIsRUFBTzlCLEtBQU04QixFQUFPdmEsSUFBTSxHQUMxRCxJQUFLeWIsSUFBUXhDLEVBQUt0ZSxJQUFJdUksU0FBeUIsR0FBaEJ1WSxFQUFJdG9CLFNBQWdCc29CLEVBQUkzMEIsV0FBYTIwQixHQUFNLENBQ3hFcHlCLElBQUlzeUIsRUFBTTFDLEVBQUt0ZSxJQUFJZ2Ysd0JBQ25CLElBQUt3QixHQUFPWixFQUFRb0IsR0FBTSxPQUFPLEtBRWpDLEtBREFGLEVBcENKLFNBQVNDLEVBQWlCLzBCLEVBQVM0ekIsRUFBUW9CLEdBQ3pDdHlCLElBQUk0eEIsRUFBTXQwQixFQUFRMmIsV0FBV2xnQixPQUM3QixHQUFJNjRCLEdBQU9VLEVBQUkzYixJQUFNMmIsRUFBSS9DLE9BQ3ZCLElBQUt2dkIsSUFBSXV5QixFQUFTajBCLEtBQUttQyxJQUFJLEVBQUduQyxLQUFLb0MsSUFBSWt4QixFQUFNLEVBQUd0ekIsS0FBS0UsTUFBTW96QixHQUFPVixFQUFPdmEsSUFBTTJiLEVBQUkzYixNQUFRMmIsRUFBSS9DLE9BQVMrQyxFQUFJM2IsTUFBUSxJQUFLMWlCLEVBQUlzK0IsSUFBVSxDQUNySXZ5QixJQUFJTSxFQUFRaEQsRUFBUTJiLFdBQVdobEIsR0FDL0IsR0FBc0IsR0FBbEJxTSxFQUFNd0osU0FFUixJQURBOUosSUFBSXl4QixFQUFRbnhCLEVBQU1veEIsaUJBQ1QvdUIsRUFBSSxFQUFHQSxFQUFJOHVCLEVBQU0xNEIsT0FBUTRKLElBQUssQ0FDckMzQyxJQUFJNnZCLEVBQU80QixFQUFNOXVCLEdBQ2pCLEdBQUltdkIsR0FBT1osRUFBUXJCLEdBQU8sT0FBT3dDLEVBQWlCL3hCLEVBQU80d0IsRUFBUXJCLEdBR3JFLElBQUs1N0IsR0FBS0EsRUFBSSxHQUFLMjlCLElBQVFXLEVBQVEsTUFHdkMsT0FBT2oxQixFQXFCQyswQixDQUFpQnpDLEVBQUt0ZSxJQUFLNGYsRUFBUW9CLElBQy9CLE9BQU8sS0FHbkIsR0FEQUYsRUE5RUYsU0FBc0I5Z0IsRUFBSzRmLEdBQ3pCbHhCLElBQUl4RyxFQUFTOFgsRUFBSTdULFdBQ2pCLE9BQUlqRSxHQUFVLFFBQVF5VSxLQUFLelUsRUFBT2llLFdBQWF5WixFQUFPOUIsS0FBTzlkLEVBQUlnZix3QkFBd0JsQixLQUNoRjUxQixFQUNGOFgsRUEwRURraEIsQ0FBYUosRUFBS2xCLEdBQ3BCandCLEVBQU0sQ0FDUixHQUFJeXRCLEdBQVEvQixPQUEwQixHQUFqQjFyQixFQUFLNkksV0FHeEJ6RixFQUFTL0YsS0FBS29DLElBQUkyRCxFQUFRcEQsRUFBS2dZLFdBQVdsZ0IsU0FHN0JrSSxFQUFLZ1ksV0FBV2xnQixPQUFRLENBQ25DaUgsSUFBb0NzeUIsRUFBaENuc0IsRUFBT2xGLEVBQUtnWSxXQUFXNVUsR0FDTixPQUFqQjhCLEVBQUtzUixXQUFzQjZhLEVBQU1uc0IsRUFBS21xQix5QkFBeUJqQixPQUFTNkIsRUFBTzlCLE1BQy9Fa0QsRUFBSS9DLE9BQVMyQixFQUFPdmEsS0FDdEJ0UyxJQUtGcEQsR0FBUTJ1QixFQUFLdGUsS0FBT2pOLEdBQVVwRCxFQUFLZ1ksV0FBV2xnQixPQUFTLEdBQWdDLEdBQTNCa0ksRUFBS00sVUFBVXVJLFVBQzNFb25CLEVBQU92YSxJQUFNMVYsRUFBS00sVUFBVSt1Qix3QkFBd0JmLE9BQ3REbHZCLEVBQU11dkIsRUFBS3ZrQixNQUFNdEcsSUFBSW5KLFFBQVE4RCxLQUlaLEdBQVYyRSxHQUFnQyxHQUFqQnBELEVBQUs2SSxVQUF5RCxNQUF4QzdJLEVBQUtnWSxXQUFXNVUsRUFBUyxHQUFHb1QsV0FDeEVwWCxFQXRGTixTQUFzQnV2QixFQUFNM3VCLEVBQU1vRCxFQUFRNnNCLEdBUXhDLElBREFseEIsSUFBSXl5QixHQUFXLEVBQ04zbUIsRUFBTTdLLEVBQ1Q2SyxHQUFPOGpCLEVBQUt0ZSxLQURLLENBRXJCdFIsSUFBSXdwQixFQUFPb0csRUFBSzhDLFFBQVFDLFlBQVk3bUIsR0FBSyxHQUN6QyxJQUFLMGQsRUFBTSxPQUFPLEtBQ2xCLEdBQUlBLEVBQUt2b0IsS0FBS0csU0FBV29vQixFQUFLaHdCLE9BQVEsQ0FDcEN3RyxJQUFJNnZCLEVBQU9yRyxFQUFLbFksSUFBSWdmLHdCQUNwQixHQUFJVCxFQUFLVCxLQUFPOEIsRUFBTzlCLE1BQVFTLEVBQUtsWixJQUFNdWEsRUFBT3ZhLElBQUs4YixFQUFVakosRUFBS29KLGNBQ2hFLE1BQUkvQyxFQUFLUixNQUFRNkIsRUFBTzlCLE1BQVFTLEVBQUtOLE9BQVMyQixFQUFPdmEsS0FDckQsTUFEMEQ4YixFQUFVakosRUFBS3FKLFVBR2hGL21CLEVBQU0wZCxFQUFLbFksSUFBSTdULFdBRWpCLE9BQU9nMUIsR0FBVyxFQUFJQSxFQUFVN0MsRUFBSzhDLFFBQVFJLFdBQVc3eEIsRUFBTW9ELEdBa0VwRDB1QixDQUFhbkQsRUFBTTN1QixFQUFNb0QsRUFBUTZzQixJQUVoQyxNQUFQN3dCLElBQWFBLEVBakduQixTQUF3QnV2QixFQUFNd0MsRUFBS2xCLEdBQ2pDLE1BQXFCRCxHQUFpQm1CLEVBQUtsQixHQUF0Q2p3QixFQUFBLEVBQUFBLEtBQU1vRCxFQUFBLEVBQUFBLE9BQXlDMnVCLEdBQVEsRUFDNUQsR0FBcUIsR0FBakIveEIsRUFBSzZJLFdBQWtCN0ksRUFBS1EsV0FBWSxDQUMxQ3pCLElBQUk2dkIsRUFBTzV1QixFQUFLcXZCLHdCQUNoQjBDLEVBQU9uRCxFQUFLVCxNQUFRUyxFQUFLUixPQUFTNkIsRUFBTzlCLE1BQVFTLEVBQUtULEtBQU9TLEVBQUtSLE9BQVMsRUFBSSxHQUFLLEVBRXRGLE9BQU9PLEVBQUs4QyxRQUFRSSxXQUFXN3hCLEVBQU1vRCxFQUFRMnVCLEdBMkZ0QkMsQ0FBZXJELEVBQU13QyxFQUFLbEIsSUFFakRseEIsSUFBSXdwQixFQUFPb0csRUFBSzhDLFFBQVFDLFlBQVlQLEdBQUssR0FDekMsTUFBTyxDQUFDL3hCLE1BQUtxaEIsT0FBUThILEVBQU9BLEVBQUswSixXQUFhMUosRUFBSzJKLFFBQVUsR0FHL0QsU0FBU3RCLEdBQVdsOEIsRUFBUXE5QixHQUMxQmh6QixJQUFJeXhCLEVBQVE5N0IsRUFBTys3QixpQkFDbkIsT0FBUUQsRUFBTTE0QixPQUEwQzA0QixFQUFNdUIsRUFBTyxFQUFJLEVBQUl2QixFQUFNMTRCLE9BQVMsR0FBckVwRCxFQUFPMjZCLHdCQU16QixTQUFTOEMsR0FBWXhELEVBQU12dkIsR0FDaEMsTUFBcUJ1dkIsRUFBSzhDLFFBQVFXLFdBQVdoekIsR0FBeENZLEVBQUEsRUFBQUEsS0FBTW9ELEVBQUEsRUFBQUEsT0FHWCxHQUFxQixHQUFqQnBELEVBQUs2SSxXQUFrQjRrQixHQUFRN0IsUUFBVTZCLEdBQVEvQixPQUFRLENBQzNEM3NCLElBQUk2dkIsRUFBT2dDLEdBQVdyRSxHQUFVdnNCLEVBQU1vRCxFQUFRQSxHQUFTLEdBSXZELEdBQUlxcUIsR0FBUS9CLE9BQVN0b0IsR0FBVSxLQUFLNEosS0FBS2hOLEVBQUtxVyxVQUFValQsRUFBUyxLQUFPQSxFQUFTcEQsRUFBS3FXLFVBQVV2ZSxPQUFRLENBQ3RHaUgsSUFBSXN6QixFQUFhekIsR0FBV3JFLEdBQVV2c0IsRUFBTW9ELEVBQVMsRUFBR0EsRUFBUyxJQUFLLEdBQ3RFLEdBQUkvRixLQUFLaTFCLElBQUlELEVBQVdsRSxLQUFPUyxFQUFLVCxNQUFRLEdBQUtrRSxFQUFXM2MsS0FBT2taLEVBQUtsWixJQUFLLENBQzNFM1csSUFBSXd6QixFQUFZM0IsR0FBV3JFLEdBQVV2c0IsRUFBTW9ELEVBQVFBLEVBQVMsSUFBSyxHQUNqRSxPQUFPb3ZCLEdBQVNELEVBQVdBLEVBQVVwRSxLQUFPa0UsRUFBV2xFLE9BRzNELE9BQU9TLEVBR1QsR0FBcUIsR0FBakI1dUIsRUFBSzZJLFdBQWtCOGxCLEVBQUt2a0IsTUFBTXRHLElBQUk0QixRQUFRdEcsR0FBSzdHLE9BQU8rTSxjQUFlLENBRTNFdkcsSUFBZ0I2dkIsRUFBWmxaLEdBQU0sRUFDVixHQUFJdFMsRUFBU3BELEVBQUtnWSxXQUFXbGdCLE9BQVEsQ0FDbkNpSCxJQUFJbUYsRUFBUWxFLEVBQUtnWSxXQUFXNVUsR0FDTixHQUFsQmMsRUFBTTJFLFdBQWUrbEIsRUFBTzFxQixFQUFNbXJCLHlCQUV4QyxJQUFLVCxHQUFReHJCLEVBQVEsQ0FDbkJyRSxJQUFJa0YsRUFBU2pFLEVBQUtnWSxXQUFXNVUsRUFBUyxHQUNmLEdBQW5CYSxFQUFPNEUsV0FBaUIrbEIsRUFBTzNxQixFQUFPb3JCLHdCQUF5QjNaLEdBQU0sR0FFM0UsT0FzQ0osU0FBa0JrWixFQUFNbFosR0FDdEIsR0FBbUIsR0FBZmtaLEVBQUtsMkIsT0FBYSxPQUFPazJCLEVBQzdCN3ZCLElBQUkwekIsRUFBSS9jLEVBQU1rWixFQUFLbFosSUFBTWtaLEVBQUtOLE9BQzlCLE1BQU8sQ0FBQzVZLElBQUsrYyxFQUFHbkUsT0FBUW1FLEVBQUd0RSxLQUFNUyxFQUFLVCxLQUFNQyxNQUFPUSxFQUFLUixPQXpDL0NzRSxDQUFTOUQsR0FBUTV1QixFQUFLcXZCLHdCQUF5QjNaLEdBU3hELElBQUszVyxJQUFJa3VCLEdBQU8sRUFBR0EsRUFBTSxFQUFHQSxHQUFPLEVBQ2pDLEdBQUlBLEVBQU0sR0FBSzdwQixFQUFRLENBQ3JCckUsSUFBSWlxQixPQUFBLEVBQU1qZCxFQUEwQixHQUFqQi9MLEVBQUs2SSxTQUFnQjBqQixHQUFVdnNCLEVBQU1vRCxFQUFTLEVBQUdBLEdBQ2IsSUFBaEQ0bEIsRUFBT2hwQixFQUFLZ1ksV0FBVzVVLEVBQVMsSUFBSXlGLFNBQWdCMGpCLEdBQVV2RCxHQUM5QyxHQUFqQkEsRUFBS25nQixVQUFrQyxNQUFqQm1nQixFQUFLeFMsU0FBbUJ3UyxFQUFPLEtBQzNELEdBQUlqZCxFQUFRLENBQ1ZoTixJQUFJNnZCLEVBQU9nQyxHQUFXN2tCLEVBQVEsR0FDOUIsR0FBSTZpQixFQUFLbFosSUFBTWtaLEVBQUtOLE9BQVEsT0FBT2tFLEdBQVM1RCxHQUFNLFNBRS9DLEdBQUkzQixFQUFNLEdBQUs3cEIsRUFBU3BFLEdBQVNnQixHQUFPLENBQzdDakIsSUFBSW1HLE9BQUEsRUFBTTZHLEVBQTBCLEdBQWpCL0wsRUFBSzZJLFNBQWdCMGpCLEdBQVV2c0IsRUFBTW9ELEVBQVFBLEVBQVMsR0FDdEIsSUFBNUM4QixFQUFPbEYsRUFBS2dZLFdBQVc1VSxJQUFTeUYsU0FBZ0IwakIsR0FBVXJuQixHQUMxQyxHQUFqQkEsRUFBSzJELFNBQWdCM0QsRUFBTyxLQUNsQyxHQUFJNkcsRUFBUSxDQUNWaE4sSUFBSTZ2QixFQUFPZ0MsR0FBVzdrQixHQUFTLEdBQy9CLEdBQUk2aUIsRUFBS2xaLElBQU1rWixFQUFLTixPQUFRLE9BQU9rRSxHQUFTNUQsR0FBTSxJQUt4RCxPQUFPNEQsR0FBUzVCLEdBQTRCLEdBQWpCNXdCLEVBQUs2SSxTQUFnQjBqQixHQUFVdnNCLEdBQVFBLEVBQU0sSUFBSSxHQUc5RSxTQUFTd3lCLEdBQVM1RCxFQUFNVCxHQUN0QixHQUFrQixHQUFkUyxFQUFLbjJCLE1BQVksT0FBT20yQixFQUM1Qjd2QixJQUFJNHpCLEVBQUl4RSxFQUFPUyxFQUFLVCxLQUFPUyxFQUFLUixNQUNoQyxNQUFPLENBQUMxWSxJQUFLa1osRUFBS2xaLElBQUs0WSxPQUFRTSxFQUFLTixPQUFRSCxLQUFNd0UsRUFBR3ZFLE1BQU91RSxHQVM5RCxTQUFTQyxHQUFpQmpFLEVBQU12a0IsRUFBTzdMLEdBQ3JDUSxJQUFJOHpCLEVBQVlsRSxFQUFLdmtCLE1BQU84QixFQUFTeWlCLEVBQUtxQyxLQUFLOEIsY0FDM0NELEdBQWF6b0IsR0FBT3VrQixFQUFLb0UsWUFBWTNvQixHQUNyQzhCLEdBQVV5aUIsRUFBS3RlLEtBQUtzZSxFQUFLcUUsUUFDN0IsSUFDRSxPQUFPejBCLElBQ1AsUUFDSXMwQixHQUFhem9CLEdBQU91a0IsRUFBS29FLFlBQVlGLEdBQ3JDM21CLEdBQVV5aUIsRUFBS3RlLEtBQUtuRSxFQUFPOG1CLFNBa0NuQzd2QixJQUFNOHZCLEdBQVcsa0JBZ0NqQmwwQixJQUFJbTBCLEdBQWMsS0FBTUMsR0FBWSxLQUFNQyxJQUFlLEVBQ2xELFNBQVNDLEdBQWUxRSxFQUFNdmtCLEVBQU82aUIsR0FDMUMsT0FBSWlHLElBQWU5b0IsR0FBUytvQixJQUFhbEcsRUFBWW1HLElBQ3JERixHQUFjOW9CLEVBQU8rb0IsR0FBWWxHLEVBQzFCbUcsR0FBc0IsTUFBUG5HLEdBQXNCLFFBQVBBLEVBL0R2QyxTQUFnQzBCLEVBQU12a0IsRUFBTzZpQixHQUMzQ2x1QixJQUFJdTBCLEVBQU1scEIsRUFBTXljLFVBQ1o5RixFQUFjLE1BQVBrTSxFQUFjcUcsRUFBSUMsUUFBUTl6QixJQUFJNnpCLEVBQUkvTCxPQUFTK0wsRUFBSUMsUUFBUS96QixJQUFJOHpCLEVBQUkvTCxPQUMxRSxPQUFPcUwsR0FBaUJqRSxFQUFNdmtCLEdBQU8sV0FFbkMsSUFEQSxJQUFXaUcsRUFBT3NlLEVBQUs4QyxRQUFRVyxXQUFXclIsRUFBSzNoQixLQUFwQyxPQUNGLENBQ1BMLElBQUl5MEIsRUFBVTdFLEVBQUs4QyxRQUFRQyxZQUFZcmhCLEdBQUssR0FDNUMsSUFBS21qQixFQUFTLE1BQ2QsR0FBSUEsRUFBUXh6QixLQUFLRyxRQUFTLENBQUVrUSxFQUFNbWpCLEVBQVFuakIsSUFBSyxNQUMvQ0EsRUFBTW1qQixFQUFRbmpCLElBQUk3VCxXQUdwQixJQURBdUMsSUFBSWt4QixFQUFTa0MsR0FBWXhELEVBQU01TixFQUFLM2hCLEtBQzNCQyxFQUFRZ1IsRUFBSTdQLFdBQVluQixFQUFPQSxFQUFRQSxFQUFNeVgsWUFBYSxDQUNqRS9YLElBQUkwMEIsT0FBQSxFQUNKLEdBQXNCLEdBQWxCcDBCLEVBQU13SixTQUFlNHFCLEVBQVFwMEIsRUFBTW94QixxQkFDbEMsSUFBc0IsR0FBbEJweEIsRUFBTXdKLFNBQ1YsU0FEeUI0cUIsRUFBUWxILEdBQVVsdEIsRUFBTyxFQUFHQSxFQUFNZ1gsVUFBVXZlLFFBQVEyNEIsaUJBRWxGLElBQUsxeEIsSUFBSS9MLEVBQUksRUFBR0EsRUFBSXlnQyxFQUFNMzdCLE9BQVE5RSxJQUFLLENBQ3JDK0wsSUFBSXN5QixFQUFNb0MsRUFBTXpnQyxHQUNoQixHQUFJcStCLEVBQUkvQyxPQUFTK0MsRUFBSTNiLE1BQWUsTUFBUHVYLEVBQWNvRSxFQUFJL0MsT0FBUzJCLEVBQU92YSxJQUFNLEVBQUkyYixFQUFJM2IsSUFBTXVhLEVBQU8zQixPQUFTLEdBQ2pHLE9BQU8sR0FHYixPQUFPLEtBeUNMb0YsQ0FBdUIvRSxFQUFNdmtCLEVBQU82aUIsR0FuQzFDLFNBQWtDMEIsRUFBTXZrQixFQUFPNmlCLEdBQzdDLElBQUsxRixFQUFTbmQsRUFBTXljLFVBQWZVLE1BQ0wsSUFBS0EsRUFBTWh2QixPQUFPNk8sWUFBYSxPQUFPLEVBQ3RDckksSUFBSXFFLEVBQVNta0IsRUFBTTdqQixhQUFja2xCLEdBQVd4bEIsRUFBUXV3QixFQUFRdndCLEdBQVVta0IsRUFBTWh2QixPQUFPb0MsUUFBUThELEtBQ3ZGNjBCLEVBQU1NLGVBR1YsT0FBS1gsR0FBU2ptQixLQUFLdWEsRUFBTWh2QixPQUFPaU8sY0FBaUI4c0IsRUFBSU8sT0FHOUNqQixHQUFpQmpFLEVBQU12a0IsR0FBTyxXQU1uQ3JMLElBQUkrMEIsRUFBV1IsRUFBSTNGLFdBQVcsR0FBSW9HLEVBQVVULEVBQUlVLFVBQVdDLEVBQVNYLEVBQUlZLFlBQ3BFQyxFQUFlYixFQUFJYyxlQUN2QmQsRUFBSU8sT0FBTyxPQUFRNUcsRUFBSyxhQUN4Qmx1QixJQUNJSCxJQURZMm9CLEVBQU01akIsTUFBUWdyQixFQUFLOEMsUUFBUTRDLFlBQVk5TSxFQUFNdGpCLFVBQVkwcUIsRUFBS3RlLEtBQ3REdUksU0FBbUMsR0FBMUIwYSxFQUFJVSxVQUFVbnJCLFNBQWdCeXFCLEVBQUlVLFVBQVlWLEVBQUlVLFVBQVV4M0IsYUFDeEZ1M0IsR0FBV1QsRUFBSVUsV0FBYUMsR0FBVVgsRUFBSVksWUFLL0MsT0FIQVosRUFBSWdCLGtCQUNKaEIsRUFBSWlCLFNBQVNULEdBQ08sTUFBaEJLLElBQXNCYixFQUFJYyxlQUFpQkQsR0FDeEN2MUIsS0FsQk8sUUFBUHF1QixHQUF3QixZQUFQQSxFQUFvQnJFLEVBQVUrSyxFQTRCcERhLENBQXlCN0YsRUFBTXZrQixFQUFPNmlCLElDM1Y1QzlwQixJQUlNLEdBRUosU0FBWTVLLEVBQVFtQyxFQUFVMlYsRUFBS3VILEdBQ2pDemlCLEtBQUtvRCxPQUFTQSxFQUNkcEQsS0FBS3VGLFNBQVdBLEVBQ2hCdkYsS0FBS2tiLElBQU1BLEVBR1hBLEVBQUkrYyxXQUFhajRCLEtBR2pCQSxLQUFLeWlCLFdBQWFBLEVBQ2xCemlCLEtBQUtzL0IsTUFoQlMsRyxtT0FxQmxCLGFBQUVDLGNBQUEsV0FBa0IsT0FBTyxHQUMzQixhQUFFQyxZQUFBLFdBQWdCLE9BQU8sR0FDekIsYUFBRUMsWUFBQSxXQUFnQixPQUFPLEdBQ3pCLGFBQUVDLFlBQUEsV0FBZ0IsT0FBTyxHQUV2QixHQUFJQyxlQUFBLGVBQW1CLE9BQU8sR0FNaEMsYUFBRUMsVUFBQSxXQUFjLE9BQU8sTUFLdkIsYUFBRUMsVUFBQSxXQUFjLE9BQU8sR0FHdkIsR0FBTXYyQixLQUFBLGVBRUosSUFERU0sSUFBSU4sRUFBTyxFQUNGekwsRUFBSSxFQUFHQSxFQUFJbUMsS0FBS3VGLFNBQVM1QyxPQUFROUUsSUFBS3lMLEdBQVF0SixLQUFLdUYsU0FBUzFILEdBQUd5TCxLQUN4RSxPQUFPQSxHQUtULEdBQUl5ekIsT0FBQSxlQUFXLE9BQU8sR0FFeEIsYUFBRStDLFFBQUEsV0FDRTkvQixLQUFLb0QsT0FBUyxLQUNWcEQsS0FBS2tiLElBQUkrYyxZQUFjajRCLE9BQU1BLEtBQUtrYixJQUFJK2MsV0FBYSxNQUN2RCxJQUFLcnVCLElBQUkvTCxFQUFJLEVBQUdBLEVBQUltQyxLQUFLdUYsU0FBUzVDLE9BQVE5RSxJQUN4Q21DLEtBQUt1RixTQUFTMUgsR0FBR2lpQyxXQUd2QixhQUFFQyxlQUFBLFNBQWU3MUIsR0FDZixJQUFPTixJQUFJL0wsRUFBSSxFQUFHb00sRUFBTWpLLEtBQUs4OEIsV0FBWWovQixFQUFJbUMsS0FBS3VGLFNBQVM1QyxPQUFROUUsSUFBSyxDQUN0RSxJQUFNNlgsRUFBTTFWLEtBQUt1RixTQUFTMUgsR0FDeEIsR0FBSTZYLEdBQU94TCxFQUFPLE9BQU9ELEVBQ3pCQSxHQUFPeUwsRUFBSXBNLE9BSWpCLEdBQU1rekIsVUFBQSxlQUNKLE9BQVN4OEIsS0FBS29ELE9BQU8yOEIsZUFBZS8vQixPQUd0QyxHQUFNODhCLFdBQUEsZUFDRixPQUFPOThCLEtBQUtvRCxPQUFTcEQsS0FBS29ELE9BQU8yOEIsZUFBZS8vQixNQUFRQSxLQUFLKzhCLE9BQVMsR0FHMUUsR0FBTU4sU0FBQSxlQUNGLE9BQU96OEIsS0FBS3c4QixVQUFZeDhCLEtBQUtzSixNQUdqQyxHQUFNMDJCLFNBQUEsZUFDRixPQUFPaGdDLEtBQUs4OEIsV0FBYTk4QixLQUFLc0osS0FBTyxFQUFJdEosS0FBSys4QixRQUlsRCxhQUFFa0QsZ0JBQUEsU0FBZ0Iva0IsRUFBS2pOLEVBQVEydUIsR0FHN0IsR0FBTTU4QixLQUFLeWlCLFlBQWN6aUIsS0FBS3lpQixXQUFXZ0IsU0FBeUIsR0FBaEJ2SSxFQUFJeEgsU0FBZ0J3SCxFQUFNQSxFQUFJN1QsWUFBYSxDQUN6RixHQUFJdTFCLEVBQU8sRUFBRyxDQUNaaHpCLElBQUlzMkIsRUFBVzlNLEVBQ2YsR0FBSWxZLEdBQU9sYixLQUFLeWlCLFdBQ2hCLEVBQWN2SCxFQUFJMkgsV0FBVzVVLEVBQVMsT0FDL0IsQ0FDTCxLQUFPaU4sRUFBSTdULFlBQWNySCxLQUFLeWlCLFlBQVl2SCxFQUFNQSxFQUFJN1QsV0FDcEQ2NEIsRUFBWWhsQixFQUFJa0csZ0JBRXBCLEtBQVM4ZSxNQUFnQjlNLEVBQU84TSxFQUFVakksYUFBZTdFLEVBQUtod0IsUUFBVXBELE9BQU9rZ0MsRUFBWUEsRUFBVTllLGdCQUNuRyxPQUFPOGUsRUFBWWxnQyxLQUFLKy9CLGVBQWUzTSxHQUFRQSxFQUFLOXBCLEtBQU90SixLQUFLODhCLFdBRWhFbHpCLElBQUl1MkIsRUFBVS9NLEVBQ2QsR0FBSWxZLEdBQU9sYixLQUFLeWlCLFdBQ2QwZCxFQUFXamxCLEVBQUkySCxXQUFXNVUsT0FDckIsQ0FDTCxLQUFPaU4sRUFBSTdULFlBQWNySCxLQUFLeWlCLFlBQVl2SCxFQUFNQSxFQUFJN1QsV0FDcEQ4NEIsRUFBV2psQixFQUFJeUcsWUFFbkIsS0FBU3dlLE1BQWUvTSxFQUFPK00sRUFBU2xJLGFBQWU3RSxFQUFLaHdCLFFBQVVwRCxPQUFPbWdDLEVBQVdBLEVBQVN4ZSxZQUMvRixPQUFPd2UsRUFBV25nQyxLQUFLKy9CLGVBQWUzTSxHQUFRcHpCLEtBQUtnZ0MsU0FNekQsSUFBTXhCLEVBQ04sR0FBTXgrQixLQUFLeWlCLFlBQWN6aUIsS0FBS3lpQixZQUFjemlCLEtBQUtrYixLQUFPbGIsS0FBS2tiLElBQUl1SSxTQUFTempCLEtBQUt5aUIsWUFDN0UsRUFBeUQsRUFBL0N2SCxFQUFJd0ksd0JBQXdCMWpCLEtBQUt5aUIsaUJBQ3BDLEdBQUl6aUIsS0FBS2tiLElBQUk3UCxXQUFZLENBQzlCLEdBQWMsR0FBVjRDLEVBQWEsSUFBS3JFLElBQUkwTSxFQUFTNEUsR0FBTTVFLEVBQVNBLEVBQU9qUCxXQUFZLENBQ25FLEdBQUlpUCxHQUFVdFcsS0FBS2tiLElBQUssQ0FBRXNqQixHQUFRLEVBQU8sTUFDM0MsR0FBTWxvQixFQUFPalAsV0FBV2dFLFlBQWNpTCxFQUFRLE1BRWhELEdBQWUsTUFBVGtvQixHQUFpQnZ3QixHQUFVaU4sRUFBSTJILFdBQVdsZ0IsT0FBUSxJQUFLaUgsSUFBSTBNLEVBQVM0RSxHQUFNNUUsRUFBU0EsRUFBT2pQLFdBQVksQ0FDeEcsR0FBSWlQLEdBQVV0VyxLQUFLa2IsSUFBSyxDQUFFc2pCLEdBQVEsRUFBTSxNQUMxQyxHQUFNbG9CLEVBQU9qUCxXQUFXOEQsV0FBYW1MLEVBQVEsT0FHL0MsT0FBaUIsTUFBVGtvQixFQUFnQjVCLEVBQU8sRUFBSTRCLEdBQVN4K0IsS0FBS2dnQyxTQUFXaGdDLEtBQUs4OEIsWUFLckUsYUFBRVAsWUFBQSxTQUFZcmhCLEVBQUtrbEIsR0FDZixJQUFLeDJCLElBQUl3QixHQUFRLEVBQU1zSyxFQUFNd0YsRUFBS3hGLEVBQUtBLEVBQU1BLEVBQUlyTyxXQUFZLENBQzdELElBQU0rckIsRUFBT3B6QixLQUFLcWdDLFFBQVEzcUIsR0FDMUIsR0FBTTBkLEtBQVVnTixHQUFhaE4sRUFBS3ZvQixNQUFPLENBRXJDLElBQUlPLElBQVNnb0IsRUFBS2tOLFVBQXNDLEdBQXpCbE4sRUFBS2tOLFFBQVE1c0IsU0FBZ0IwZixFQUFLa04sUUFBUTdjLFNBQVN2SSxHQUFPa1ksRUFBS2tOLFNBQVdwbEIsR0FDcEcsT0FBT2tZLEVBRG1HaG9CLEdBQVEsS0FNL0gsYUFBRWkxQixRQUFBLFNBQVFubEIsR0FFUixJQURFdFIsSUFBSXdwQixFQUFPbFksRUFBSStjLFdBQ052aUIsRUFBTTBkLEVBQU0xZCxFQUFLQSxFQUFNQSxFQUFJdFMsT0FBUSxHQUFJc1MsR0FBTzFWLEtBQU0sT0FBT296QixHQUd4RSxhQUFFc0osV0FBQSxTQUFXeGhCLEVBQUtqTixFQUFRMnVCLEdBQ3RCLElBQUtoekIsSUFBSXdOLEVBQU84RCxHQUFNOUQsRUFBT0EsRUFBSy9QLFdBQVksQ0FDOUMsSUFBTStyQixFQUFPcHpCLEtBQUtxZ0MsUUFBUWpwQixHQUN4QixHQUFJZ2MsRUFBTSxPQUFPQSxFQUFLNk0sZ0JBQWdCL2tCLEVBQUtqTixFQUFRMnVCLEtBT3pELGFBQUUyRCxPQUFBLFNBQU90MkIsR0FDUCxJQUFPTCxJQUFJL0wsRUFBSSxFQUFHb1EsRUFBUyxFQUFHcFEsRUFBSW1DLEtBQUt1RixTQUFTNUMsT0FBUTlFLElBQUssQ0FDekQrTCxJQUFJTSxFQUFRbEssS0FBS3VGLFNBQVMxSCxHQUFJc00sRUFBTThELEVBQVMvRCxFQUFNWixLQUNyRCxHQUFNMkUsR0FBVWhFLEdBQU9FLEdBQU84RCxFQUFRLENBQ2xDLE1BQVEvRCxFQUFNNnlCLFFBQVU3eUIsRUFBTTNFLFNBQVM1QyxRQUFRdUgsRUFBUUEsRUFBTTNFLFNBQVMsR0FDdEUsT0FBTzJFLEVBRVQsR0FBSUQsRUFBTUUsRUFBSyxPQUFPRCxFQUFNcTJCLE9BQU90MkIsRUFBTWdFLEVBQVMvRCxFQUFNNnlCLFFBQzFELEVBQVc1eUIsSUFLZixhQUFFOHlCLFdBQUEsU0FBV2h6QixHQUNULElBQUtqSyxLQUFLeWlCLFdBQVksTUFBTyxDQUFDNVgsS0FBTTdLLEtBQUtrYixJQUFLak4sT0FBUSxHQUN0RCxJQUFLckUsSUFBSXFFLEVBQVMsRUFBR3BRLEVBQUksR0FBSUEsSUFBSyxDQUNoQyxHQUFJb1EsR0FBVWhFLEVBQUssQ0FDakIsS0FBT3BNLEVBQUltQyxLQUFLdUYsU0FBUzVDLFNBQVczQyxLQUFLdUYsU0FBUzFILEdBQUc4aEMsZ0JBQWtCMy9CLEtBQUt1RixTQUFTMUgsR0FBR3FkLElBQUk3VCxZQUFjckgsS0FBS3lpQixhQUFhNWtCLElBQzVILE1BQU8sQ0FBQ2dOLEtBQU03SyxLQUFLeWlCLFdBQ1h4VSxPQUFRcFEsR0FBS21DLEtBQUt1RixTQUFTNUMsT0FBUzNDLEtBQUt5aUIsV0FBV0ksV0FBV2xnQixPQUFTdTBCLEdBQVNsM0IsS0FBS3VGLFNBQVMxSCxHQUFHcWQsTUFFNUcsR0FBSXJkLEdBQUttQyxLQUFLdUYsU0FBUzVDLE9BQVEsTUFBTSxJQUFJOFAsTUFBTSxvQkFBc0J4SSxHQUNyRUwsSUFBSU0sRUFBUWxLLEtBQUt1RixTQUFTMUgsR0FBSXNNLEVBQU04RCxFQUFTL0QsRUFBTVosS0FDbkQsR0FBSVcsRUFBTUUsRUFBSyxPQUFPRCxFQUFNK3lCLFdBQVdoekIsRUFBTWdFLEVBQVMvRCxFQUFNNnlCLFFBQzlELEVBQVc1eUIsSUFNZixhQUFFcTJCLFdBQUEsU0FBVzE1QixFQUFNaUQsRUFBSThKLEdBQ25CLFEsVUFEMEIsR0FDRSxHQUF4QjdULEtBQUt1RixTQUFTNUMsT0FDaEIsTUFBTyxDQUFDa0ksS0FBTTdLLEtBQUt5aUIsV0FBWTNiLE9BQU1pRCxLQUFJMDJCLFdBQVksRUFBR0MsU0FBVTFnQyxLQUFLeWlCLFdBQVdJLFdBQVdsZ0IsUUFHL0YsSUFERixJQUFNODlCLEdBQWMsRUFBR0MsR0FBWSxFQUN4Qnp5QixFQUFTNEYsRUFBTWhXLEVBQUksR0FBSUEsSUFBSyxDQUNuQytMLElBQUlNLEVBQVFsSyxLQUFLdUYsU0FBUzFILEdBQUlzTSxFQUFNOEQsRUFBUy9ELEVBQU1aLEtBQ3JELElBQXFCLEdBQWZtM0IsR0FBb0IzNUIsR0FBUXFELEVBQUssQ0FDckMsSUFBTXcyQixFQUFZMXlCLEVBQVMvRCxFQUFNNnlCLE9BRS9CLEdBQUlqMkIsR0FBUTY1QixHQUFhNTJCLEdBQU1JLEVBQU1ELEVBQU02eUIsUUFBVTd5QixFQUFNVyxNQUN2RFgsRUFBTXVZLFlBQWN6aUIsS0FBS3lpQixXQUFXZ0IsU0FBU3ZaLEVBQU11WSxZQUNyRCxPQUFPdlksRUFBTXMyQixXQUFXMTVCLEVBQU1pRCxFQUFJNDJCLEdBRXRDLEVBQVMxeUIsRUFDUCxJQUFLckUsSUFBSTJDLEVBQUkxTyxFQUFHME8sRUFBSSxFQUFHQSxJQUFLLENBQzVCLElBQU1zbkIsRUFBTzd6QixLQUFLdUYsU0FBU2dILEVBQUksR0FDL0IsR0FBTXNuQixFQUFLdnFCLE1BQVF1cUIsRUFBSzNZLElBQUk3VCxZQUFjckgsS0FBS3lpQixhQUFlb1IsRUFBSytNLGFBQWEsR0FBSSxDQUNsRixFQUFlMUosR0FBU3JELEVBQUszWSxLQUFPLEVBQ2xDLE1BRUZwVSxHQUFRK3NCLEVBQUt2cUIsTUFFSSxHQUFmbTNCLElBQWtCQSxFQUFhLEdBRXZDLEdBQU1BLEdBQWMsR0FBSzEyQixHQUFNSSxFQUFLLENBQ2xDLEVBQU9BLEVBQ0wsSUFBS1AsSUFBSTJDLEVBQUkxTyxFQUFJLEVBQUcwTyxFQUFJdk0sS0FBS3VGLFNBQVM1QyxPQUFRNEosSUFBSyxDQUNuRCxJQUFNd0QsRUFBTy9QLEtBQUt1RixTQUFTZ0gsR0FDM0IsR0FBTXdELEVBQUt6RyxNQUFReUcsRUFBS21MLElBQUk3VCxZQUFjckgsS0FBS3lpQixhQUFlMVMsRUFBSzZ3QixjQUFjLEdBQUksQ0FDakZGLEVBQVd4SixHQUFTbm5CLEVBQUttTCxLQUN6QixNQUVGblIsR0FBTWdHLEVBQUt6RyxNQUVJLEdBQWJvM0IsSUFBZ0JBLEVBQVcxZ0MsS0FBS3lpQixXQUFXSSxXQUFXbGdCLFFBQzFELE1BRUosRUFBV3dILEVBRVgsTUFBTyxDQUFDVSxLQUFNN0ssS0FBS3lpQixXQUFZM2IsT0FBTWlELEtBQUkwMkIsYUFBWUMsYUFHekQsYUFBRUUsYUFBQSxTQUFhdEgsR0FDWCxHQUFJdDVCLEtBQUsrOEIsU0FBVy84QixLQUFLeWlCLGFBQWV6aUIsS0FBS3VGLFNBQVM1QyxPQUFRLE9BQU8sRUFDdkUsSUFBTXVILEVBQVFsSyxLQUFLdUYsU0FBUyt6QixFQUFPLEVBQUksRUFBSXQ1QixLQUFLdUYsU0FBUzVDLE9BQVMsR0FDaEUsT0FBcUIsR0FBZHVILEVBQU1aLE1BQWFZLEVBQU0wMkIsYUFBYXRILElBSWpELGFBQUU0RixZQUFBLFNBQVlqMUIsR0FDWixNQUF1QmpLLEtBQUtpOUIsV0FBV2h6QixHQUFoQ1ksRUFBQSxFQUFBQSxLQUFNb0QsRUFBQSxFQUFBQSxPQUNYLEdBQXFCLEdBQWpCcEQsRUFBSzZJLFVBQWlCekYsR0FBVXBELEVBQUtnWSxXQUFXbGdCLE9BQ2xELE1BQU0sSUFBSXFKLFdBQVcscUJBQXVCL0IsR0FDOUMsT0FBT1ksRUFBS2dZLFdBQVc1VSxJQVMzQixhQUFFOGpCLGFBQUEsU0FBYThPLEVBQVFyaUIsRUFBTXFkLEVBQU1pRixHQUdqQyxJQURBLElBQU1oNkIsRUFBT29CLEtBQUtvQyxJQUFJdTJCLEVBQVFyaUIsR0FBT3pVLEVBQUs3QixLQUFLbUMsSUFBSXcyQixFQUFRcmlCLEdBQ2hEM2dCLEVBQUksRUFBR29RLEVBQVMsRUFBR3BRLEVBQUltQyxLQUFLdUYsU0FBUzVDLE9BQVE5RSxJQUFLLENBQ3pEK0wsSUFBSU0sRUFBUWxLLEtBQUt1RixTQUFTMUgsR0FBSXNNLEVBQU04RCxFQUFTL0QsRUFBTVosS0FDbkQsR0FBSXhDLEVBQU9tSCxHQUFVbEUsRUFBS0ksRUFDeEIsT0FBT0QsRUFBTTZuQixhQUFhOE8sRUFBUzV5QixFQUFTL0QsRUFBTTZ5QixPQUFRdmUsRUFBT3ZRLEVBQVMvRCxFQUFNNnlCLE9BQVFsQixFQUFNaUYsR0FDbEcsRUFBVzMyQixFQUdYUCxJQUFJbTNCLEVBQVkvZ0MsS0FBS2k5QixXQUFXNEQsR0FBU0csRUFBVWhoQyxLQUFLaTlCLFdBQVd6ZSxHQUMvRDJaLEVBQVMwRCxFQUFLNEMsZUFBZ0J6VCxFQUFRaHFCLFNBQVNxMkIsY0FDckQsR0FBT3lKLElBQ0R0SixHQUFxQnVKLEVBQVVsMkIsS0FBTWsyQixFQUFVOXlCLE9BQVFrcUIsRUFBTzhJLFdBQVk5SSxFQUFPK0ksZ0JBQ2pGMUosR0FBcUJ3SixFQUFRbjJCLEtBQU1tMkIsRUFBUS95QixPQUFRa3FCLEVBQU8wRyxVQUFXMUcsRUFBTzRHLGFBRmxGLENBUUUsR0FBSTVHLEVBQU9nSixPQUNYLEVBQVE3SixPQUFPeUosRUFBVWwyQixLQUFNazJCLEVBQVU5eUIsUUFDdkMrYyxFQUFNb1csVUFBUyxPQUNWLENBQ1AsR0FBTVAsRUFBU3JpQixFQUFNLENBQUU1VSxJQUFJMkYsRUFBTXd4QixFQUFXQSxFQUFZQyxFQUFTQSxFQUFVenhCLEVBQzNFLEVBQVErbkIsT0FBTzBKLEVBQVFuMkIsS0FBTW0yQixFQUFRL3lCLFFBQ3JDLEVBQVFzcEIsU0FBU3dKLEVBQVVsMkIsS0FBTWsyQixFQUFVOXlCLFFBRTdDLEVBQVNreEIsa0JBQ1BoSCxFQUFPaUgsU0FBU3BVLEdBQ1ptTixFQUFPZ0osUUFDVGhKLEVBQU9nSixPQUFPSCxFQUFRbjJCLEtBQU1tMkIsRUFBUS95QixVQUkxQyxhQUFFb3pCLGVBQUEsU0FBZUMsR0FDZixPQUFVdGhDLEtBQUt5aUIsWUFBK0IsYUFBakI2ZSxFQUFTaitCLE1BR3hDLEdBQU1rK0IsWUFBQSxlQUNKLE9BQVN2aEMsS0FBS3lpQixZQUFjemlCLEtBQUt5aUIsWUFBY3ppQixLQUFLa2IsTUFBUWxiLEtBQUtrYixJQUFJdUksU0FBU3pqQixLQUFLeWlCLGFBS3JGLGFBQUUrZSxVQUFBLFNBQVUxNkIsRUFBTWlELEdBQ2hCLElBQU9ILElBQUlxRSxFQUFTLEVBQUdwUSxFQUFJLEVBQUdBLEVBQUltQyxLQUFLdUYsU0FBUzVDLE9BQVE5RSxJQUFLLENBQ3pEK0wsSUFBSU0sRUFBUWxLLEtBQUt1RixTQUFTMUgsR0FBSXNNLEVBQU04RCxFQUFTL0QsRUFBTVosS0FDckQsR0FBTTJFLEdBQVU5RCxFQUFNckQsR0FBUXFELEdBQU9KLEdBQU1rRSxFQUFTbkgsRUFBT3FELEdBQU9KLEVBQUtrRSxFQUFRLENBQzNFckUsSUFBSTYzQixFQUFjeHpCLEVBQVMvRCxFQUFNNnlCLE9BQVEyRSxFQUFZdjNCLEVBQU1ELEVBQU02eUIsT0FDbkUsR0FBTWoyQixHQUFRMjZCLEdBQWUxM0IsR0FBTTIzQixFQUsvQixPQUpBMWhDLEtBQUtzL0IsTUFBUXg0QixHQUFRbUgsR0FBVWxFLEdBQU1JLEVBM1NPLEVBQW5CLE9BNFNyQnJELEdBQVEyNkIsR0FBZTEzQixHQUFNMjNCLElBQzVCeDNCLEVBQU1xM0IsYUFBZXIzQixFQUFNZ1IsSUFBSTdULFlBQWNySCxLQUFLeWlCLFdBQ2xEdlksRUFBTXMzQixVQUFVMTZCLEVBQU8yNkIsRUFBYTEzQixFQUFLMDNCLEdBRHNCdjNCLEVBQU1vMUIsTUE3U2QsR0FpVDVEcDFCLEVBQU1vMUIsTUFqVHNELEVBb1RsRSxFQUFXbjFCLEVBRVhuSyxLQUFLcy9CLE1BdFQ2QyxHQXlUdEQsYUFBRXFDLGlCQUFBLFdBRUUsSUFBSy8zQixJQUFJaUIsRUFBTzdLLEtBQUtvRCxPQUFReUgsRUFBTUEsRUFBT0EsRUFBS3pILE9BQVEsQ0FFakR5SCxFQUFLeTBCLE1BN1R1QyxJQTZUeEJ6MEIsRUFBS3kwQixNQTdUbUIsSyx5Q0FvVXREdHhCLElBQU00ekIsR0FBVSxHQUlWQyxHQUFjLFlBRWxCLFdBQVl6K0IsRUFBUTArQixFQUFRdEksRUFBTXZ2QixHQUNoQ0wsSUFBSWpCLEVBQU11UyxFQUFNNG1CLEVBQU96K0IsS0FBS29oQixNQUs1QixHQUprQixtQkFBUHZKLElBQW1CQSxFQUFNQSxFQUFJc2UsR0FBTSxXQUM1QyxPQUFLN3dCLEVBQ0RBLEVBQUt2RixPQUFldUYsRUFBS3ZGLE9BQU8yOEIsZUFBZXAzQixRQUFuRCxFQURrQnNCLE9BR2Y2M0IsRUFBT3orQixLQUFLbU0sS0FBS3V5QixJQUFLLENBQ3pCLEdBQW9CLEdBQWhCN21CLEVBQUl4SCxTQUFlLENBQ3JCOUosSUFBSXVWLEVBQU9uZSxTQUFTcUYsY0FBYyxRQUNsQzhZLEVBQUt0WSxZQUFZcVUsR0FDakJBLEVBQU1pRSxFQUVSakUsRUFBSThjLGlCQUFrQixFQUN0QjljLEVBQUk4bUIsVUFBVWhkLElBQUksc0JBRXBCcFIsT0FBTSxLQUFBeFEsRUFBUXcrQixHQUFTMW1CLEVBQUssTUFDNUJsYixLQUFLOGhDLE9BQVNBLEVBQ2RuNUIsRUFBTzNJLEssdUlBR1QsRUFBSTIvQixlQUFBLGVBQ0YsT0FBTzMvQixLQUFLOGhDLE9BQU96K0IsS0FBS2kyQixLQUFPLEcsWUFHakNpRyxjQUFBLFNBQWN1QyxHQUNaLE9BbldjLEdBbVdQOWhDLEtBQUtzL0IsT0FBc0J3QyxFQUFPeitCLEtBQUt5SSxHQUFHOUwsS0FBSzhoQyxPQUFPeitCLE8sWUFHL0R1OEIsVUFBQSxXQUFjLE1BQU8sQ0FBQzlkLFFBQVEsSSxZQUU5QitkLFVBQUEsU0FBVWovQixHQUNSZ0osSUFBSXE0QixFQUFPamlDLEtBQUs4aEMsT0FBT3R5QixLQUFLcXdCLFVBQzVCLFFBQU9vQyxHQUFPQSxFQUFLcmhDLEksWUFHckJ5Z0MsZUFBQSxTQUFlQyxHQUNiLE1BQXdCLGFBQWpCQSxFQUFTaitCLE1BQXVCckQsS0FBSzhoQyxPQUFPdHlCLEtBQUsweUIsaUIseUNBdEN4QyxDQUFTLElBMEN2QkMsR0FBbUIsWUFDdkIsV0FBWS8rQixFQUFROFgsRUFBS2tuQixFQUFTejNCLEdBQ2hDaUosT0FBTSxLQUFBeFEsRUFBUXcrQixHQUFTMW1CLEVBQUssTUFDNUJsYixLQUFLb2lDLFFBQVVBLEVBQ2ZwaUMsS0FBSzJLLEtBQU9BLEUsNkhBR2QsRUFBSXJCLEtBQUEsZUFBUyxPQUFPdEosS0FBSzJLLEtBQUtoSSxRLFlBRTlCczlCLGdCQUFBLFNBQWdCL2tCLEVBQUtqTixHQUNuQixPQUFJaU4sR0FBT2xiLEtBQUtvaUMsUUFBZ0JwaUMsS0FBSzg4QixZQUFjN3VCLEVBQVNqTyxLQUFLc0osS0FBTyxHQUNqRXRKLEtBQUs4OEIsV0FBYTd1QixHLFlBRzNCZ3ZCLFdBQUEsU0FBV2h6QixHQUNULE1BQU8sQ0FBQ1ksS0FBTTdLLEtBQUtvaUMsUUFBU24wQixPQUFRaEUsSSxZQUd0Q28zQixlQUFBLFNBQWVnQixHQUNiLE1BQW9CLGtCQUFiQSxFQUFJaC9CLE1BQTRCZy9CLEVBQUl6ckIsT0FBT3NLLFdBQWFtaEIsRUFBSUMsVSx5Q0FuQjlDLENBQVMsSUE0QjVCLEdBQVksWUFFaEIsV0FBWWwvQixFQUFRcU8sRUFBTXlKLEVBQUt1SCxHQUM3QjdPLE9BQU0sS0FBQXhRLEVBQVEsR0FBSThYLEVBQUt1SCxHQUN2QnppQixLQUFLeVIsS0FBT0EsRSw4RkFHZCxFQUFPdFMsT0FBQSxTQUFPaUUsRUFBUXFPLEVBQU00RixFQUFRbWlCLEdBQ2xDNXZCLElBQUkyNEIsRUFBUy9JLEVBQUtnSixVQUFVL3dCLEVBQUtwTyxLQUFLakYsTUFDbENvUixFQUFPK3lCLEdBQVVBLEVBQU85d0IsRUFBTStuQixFQUFNbmlCLEdBR3hDLE9BRks3SCxHQUFTQSxFQUFLMEwsTUFDakIxTCxFQUFPK1UsR0FBY2EsV0FBV3BrQixTQUFVeVEsRUFBS3BPLEtBQUttTSxLQUFLaVYsTUFBTWhULEVBQU00RixLQUNoRSxJQUFJb3JCLEVBQWFyL0IsRUFBUXFPLEVBQU1qQyxFQUFLMEwsSUFBSzFMLEVBQUtpVCxZQUFjalQsRUFBSzBMLE0sWUFHMUUwa0IsVUFBQSxXQUFjLE1BQU8sQ0FBQ251QixLQUFNelIsS0FBS3lSLEtBQUtwTyxLQUFLakYsS0FBTTJQLE1BQU8vTixLQUFLeVIsS0FBSzFELE1BQU8yVSxlQUFnQjFpQixLQUFLeWlCLGEsWUFFOUYrYyxZQUFBLFNBQVkvdEIsR0FBUSxPQS9aZ0QsR0ErWnpDelIsS0FBS3MvQixPQUF1QnQvQixLQUFLeVIsS0FBSzNGLEdBQUcyRixJLFlBRXBFK3ZCLFVBQUEsU0FBVTE2QixFQUFNaUQsR0FHZCxHQUZBNkosWUFBTTR0QixVQUFBLEtBQVUsS0FBQTE2QixFQUFNaUQsR0FsYVIsR0FvYVYvSixLQUFLcy9CLE1BQW9CLENBRTNCLElBREExMUIsSUFBSXhHLEVBQVNwRCxLQUFLb0QsUUFDVkEsRUFBT3lILE1BQU16SCxFQUFTQSxFQUFPQSxPQUNqQ0EsRUFBT2s4QixNQUFRdC9CLEtBQUtzL0IsUUFBT2w4QixFQUFPazhCLE1BQVF0L0IsS0FBS3MvQixPQUNuRHQvQixLQUFLcy9CLE1BeGFPLEksWUE0YWhCdDRCLE1BQUEsU0FBTUYsRUFBTWlELEVBQUl5dkIsR0FDZDV2QixJQUFJdkUsRUFBT285QixFQUFhdGpDLE9BQU9hLEtBQUtvRCxPQUFRcEQsS0FBS3lSLE1BQU0sRUFBTStuQixHQUN6RDFyQixFQUFROU4sS0FBS3VGLFNBQVUrRCxFQUFPdEosS0FBS3NKLEtBQ25DUyxFQUFLVCxJQUFNd0UsRUFBUTQwQixHQUFhNTBCLEVBQU8vRCxFQUFJVCxFQUFNa3dCLElBQ2pEMXlCLEVBQU8sSUFBR2dILEVBQVE0MEIsR0FBYTUwQixFQUFPLEVBQUdoSCxFQUFNMHlCLElBQ25ELElBQUs1dkIsSUFBSS9MLEVBQUksRUFBR0EsRUFBSWlRLEVBQU1uTCxPQUFROUUsSUFBS2lRLEVBQU1qUSxHQUFHdUYsT0FBU2lDLEVBRXpELE9BREFBLEVBQUtFLFNBQVd1SSxFQUNUekksRyxFQXJDTyxDQUFTLElBNENyQixHQUFZLFlBRWhCLFdBQVlqQyxFQUFReUgsRUFBTTgzQixFQUFXQyxFQUFXMW5CLEVBQUt1SCxFQUFZNmQsRUFBUzlHLEVBQU12dkIsR0FDOUUySixPQUFNLEtBQUF4USxFQUFReUgsRUFBS0UsT0FBUzYyQixHQUFVLEdBQUkxbUIsRUFBS3VILEdBQy9DemlCLEtBQUtzZ0MsUUFBVUEsRUFDZnRnQyxLQUFLNkssS0FBT0EsRUFDWjdLLEtBQUsyaUMsVUFBWUEsRUFDakIzaUMsS0FBSzRpQyxVQUFZQSxFQUNibmdCLEdBQVl6aUIsS0FBSzZpQyxlQUFlckosRUFBTXZ2QixHLHNKQVk1QyxFQUFPOUssT0FBQSxTQUFPaUUsRUFBUXlILEVBQU04M0IsRUFBV0MsRUFBV3BKLEVBQU12dkIsRyxNQUNUNjRCLEVBQXpDUCxFQUFTL0ksRUFBS2dKLFVBQVUzM0IsRUFBS3hILEtBQUtqRixNQUNsQ29SLEVBQU8reUIsR0FBVUEsRUFBTzEzQixFQUFNMnVCLEdBQU0sV0FHdEMsT0FBS3NKLEVBQ0RBLEVBQVExL0IsT0FBZTAvQixFQUFRMS9CLE9BQU8yOEIsZUFBZStDLFFBQXpELEVBRHFCNzRCLElBRXBCMDRCLEdBRUN6bkIsRUFBTTFMLEdBQVFBLEVBQUswTCxJQUFLdUgsRUFBYWpULEdBQVFBLEVBQUtpVCxXQUN0RCxHQUFJNVgsRUFBS0MsT0FDUCxHQUFLb1EsR0FDQSxHQUFvQixHQUFoQkEsRUFBSXhILFNBQWUsTUFBTSxJQUFJMUgsV0FBVyxpREFEdkNrUCxFQUFNbGEsU0FBU3FoQixlQUFleFgsRUFBS0YsV0FFbkN1USxJQUNQQSxHQUFGLEVBQXFCcUosR0FBY2EsV0FBV3BrQixTQUFVNkosRUFBS3hILEtBQUttTSxLQUFLaVYsTUFBTTVaLEtBQTNFcVEsSUFBS3VILEVBQUEsRUFBQUEsWUFFTEEsR0FBZTVYLEVBQUtDLFFBQTBCLE1BQWhCb1EsRUFBSW1HLFdBQ2hDbkcsRUFBSTZuQixhQUFhLHFCQUFvQjduQixFQUFJOGMsaUJBQWtCLEdBQzVEbnRCLEVBQUt4SCxLQUFLbU0sS0FBS3d6QixZQUFXOW5CLEVBQUk4bkIsV0FBWSxJQUdoRHA1QixJQUFJMDJCLEVBQVVwbEIsRUFHZCxPQUZBQSxFQUFNK25CLEdBQWUvbkIsRUFBS3luQixFQUFXOTNCLEdBRWpDMkUsRUFDS3N6QixFQUFVLElBQUlJLEdBQW1COS9CLEVBQVF5SCxFQUFNODNCLEVBQVdDLEVBQVcxbkIsRUFBS3VILEVBQVk2ZCxFQUNyRDl3QixFQUFNZ3FCLEVBQU12dkIsRUFBTSxHQUNuRFksRUFBS0MsT0FDTCxJQUFJcTRCLEdBQWEvL0IsRUFBUXlILEVBQU04M0IsRUFBV0MsRUFBVzFuQixFQUFLb2xCLEVBQVM5RyxHQUVuRSxJQUFJNEosRUFBYWhnQyxFQUFReUgsRUFBTTgzQixFQUFXQyxFQUFXMW5CLEVBQUt1SCxFQUFZNmQsRUFBUzlHLEVBQU12dkIsRUFBTSxJLFlBR3RHMjFCLFVBQUEsVyxXQUVFLEdBQUk1L0IsS0FBSzZLLEtBQUt4SCxLQUFLbU0sS0FBSzZ6QixjQUFlLE9BQU8sS0FLOUN6NUIsSUFBSW1SLEVBQU8sQ0FBQ2xRLEtBQU03SyxLQUFLNkssS0FBS3hILEtBQUtqRixLQUFNMlAsTUFBTy9OLEtBQUs2SyxLQUFLa0QsT0FJeEQsT0FISS9OLEtBQUs2SyxLQUFLeEgsS0FBS21NLEtBQUtxcEIsT0FBTTlkLEVBQUs4RCxtQkFBcUIsUUFDcEQ3ZSxLQUFLeWlCLGFBQWV6aUIsS0FBS3VoQyxZQUFheG1CLEVBQUsySCxlQUFpQjFpQixLQUFLeWlCLFdBQ2hFMUgsRUFBS3lILFdBQWEsV0FBRyxPQUFHeGlCLEVBQUt5aUIsV0FBYTlZLEVBQVMrQixNQUFRMUwsRUFBSzZLLEtBQUtyRixTQUNuRXVWLEcsWUFHVDBrQixZQUFBLFNBQVk1MEIsRUFBTTgzQixFQUFXQyxHQUMzQixPQTlmYyxHQThmUDVpQyxLQUFLcy9CLE9BQXNCejBCLEVBQUtpQixHQUFHOUwsS0FBSzZLLE9BQzdDeTRCLEdBQWNYLEVBQVczaUMsS0FBSzJpQyxZQUFjQyxFQUFVOTJCLEdBQUc5TCxLQUFLNGlDLFlBR2xFLEVBQUl0NUIsS0FBQSxlQUFTLE9BQU90SixLQUFLNkssS0FBS2hCLFVBRTlCLEVBQUlrekIsT0FBQSxlQUFXLE9BQU8vOEIsS0FBSzZLLEtBQUtFLE9BQVMsRUFBSSxHLFlBTTdDODNCLGVBQUEsU0FBZXJKLEVBQU12dkIsRyxXQUNmb04sRUFBU3JYLEtBQUs2SyxLQUFLc0YsY0FBZXNuQixFQUFNeHRCLEVBQ3hDczVCLEVBQWNsc0IsR0FBVW1pQixFQUFLZ0ssV0FBYXhqQyxLQUFLeWpDLHFCQUFxQmpLLEVBQU12dkIsR0FDMUV5NUIsRUFBVSxJQUFJQyxHQUFnQjNqQyxLQUFNdWpDLEdBQWVBLEVBQVkxNEIsT0FraUJ2RSxTQUFrQnpILEVBQVF3Z0MsRUFBTUMsRUFBVUMsR0FDeENsNkIsSUFBSW02QixFQUFTSCxFQUFLRyxPQUFPM2dDLEdBQVM2SyxFQUFTLEVBRTNDLEdBQXFCLEdBQWpCODFCLEVBQU9waEMsT0FBYSxDQUN0QixJQUFLaUgsSUFBSS9MLEVBQUksRUFBR0EsRUFBSXVGLEVBQU8ySSxXQUFZbE8sSUFBSyxDQUMxQytMLElBQUlNLEVBQVE5RyxFQUFPOEcsTUFBTXJNLEdBQ3pCaW1DLEVBQU81NUIsRUFBTzY1QixFQUFRSCxFQUFLSSxTQUFTLzFCLEVBQVEvRCxHQUFRck0sR0FDcERvUSxHQUFVL0QsRUFBTUwsU0FFbEIsT0FJRixJQURBRCxJQUFJcTZCLEVBQVksRUFBR2x0QixFQUFTLEdBQUltdEIsRUFBVyxLQUNsQ0MsRUFBYyxJQUFLLENBQzFCLEdBQUlGLEVBQVlGLEVBQU9waEMsUUFBVW9oQyxFQUFPRSxHQUFXbDZCLElBQU1rRSxFQUFRLENBRS9ELElBREFyRSxJQUFJazRCLEVBQVNpQyxFQUFPRSxLQUFjRyxPQUFBLEVBQzNCSCxFQUFZRixFQUFPcGhDLFFBQVVvaEMsRUFBT0UsR0FBV2w2QixJQUFNa0UsSUFDekRtMkIsSUFBWUEsRUFBVSxDQUFDdEMsS0FBVTMrQixLQUFLNGdDLEVBQU9FLE1BQ2hELEdBQUlHLEVBQVMsQ0FDWEEsRUFBUXorQixLQUFLMCtCLElBQ2IsSUFBS3o2QixJQUFJL0wsRUFBSSxFQUFHQSxFQUFJdW1DLEVBQVF6aEMsT0FBUTlFLElBQUtnbUMsRUFBU08sRUFBUXZtQyxHQUFJc21DLElBQWVELFFBRTdFTCxFQUFTL0IsRUFBUXFDLElBQWVELEdBSXBDdDZCLElBQUlNLFNBQU8wQixPQUFBLEVBQ1gsR0FBSXM0QixFQUNGdDRCLEdBQVMsRUFDVDFCLEVBQVFnNkIsRUFDUkEsRUFBVyxTQUNOLE1BQUlDLEVBQWMvZ0MsRUFBTzJJLFlBSTlCLE1BSEFILEVBQVF1NEIsRUFDUmo2QixFQUFROUcsRUFBTzhHLE1BQU1pNkIsS0FLdkIsSUFBS3Y2QixJQUFJL0wsRUFBSSxFQUFHQSxFQUFJa1osRUFBT3BVLE9BQVE5RSxJQUFTa1osRUFBT2xaLEdBQUdrTSxJQUFNa0UsR0FBUThJLEVBQU9sTyxPQUFPaEwsSUFBSyxHQUN2RixLQUFPb21DLEVBQVlGLEVBQU9waEMsUUFBVW9oQyxFQUFPRSxHQUFXbjlCLE1BQVFtSCxHQUFROEksRUFBTzVULEtBQUs0Z0MsRUFBT0UsTUFFekZyNkIsSUFBSU8sRUFBTThELEVBQVMvRCxFQUFNTCxTQUN6QixHQUFJSyxFQUFNWSxPQUFRLENBQ2hCbEIsSUFBSTA2QixFQUFRbjZCLEVBQ1I4NUIsRUFBWUYsRUFBT3BoQyxRQUFVb2hDLEVBQU9FLEdBQVduOUIsS0FBT3c5QixJQUFPQSxFQUFRUCxFQUFPRSxHQUFXbjlCLE1BQzNGLElBQUs4QyxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJa1osRUFBT3BVLE9BQVE5RSxJQUFTa1osRUFBT2xaLEdBQUdrTSxHQUFLdTZCLElBQU9BLEVBQVF2dEIsRUFBT2xaLEdBQUdrTSxJQUNoRnU2QixFQUFRbjZCLElBQ1YrNUIsRUFBV2g2QixFQUFNc0IsSUFBSTg0QixFQUFRcjJCLEdBQzdCL0QsRUFBUUEsRUFBTXNCLElBQUksRUFBRzg0QixFQUFRcjJCLEdBQzdCOUQsRUFBTW02QixFQUNOMTRCLEdBQVMsR0FJYms0QixFQUFPNTVCLEVBQU82TSxFQUFPcFUsT0FBU29VLEVBQU8vUCxRQUFVNDZCLEdBQVNnQyxFQUFLSSxTQUFTLzFCLEVBQVEvRCxHQUFRMEIsR0FDdEZxQyxFQUFTOUQsR0F4bEJUbzZCLENBQVN2a0MsS0FBSzZLLEtBQU03SyxLQUFLNGlDLFdBQVcsU0FBQ2QsRUFBUWprQyxFQUFHMm1DLEdBQzFDMUMsRUFBT3R5QixLQUFLTCxNQUNkdTBCLEVBQVFlLFlBQVkzQyxFQUFPdHlCLEtBQUtMLE1BQU9rSSxFQUFRbWlCLEdBQ3hDc0ksRUFBT3orQixLQUFLaTJCLE1BQVEsSUFBTWtMLEdBQ2pDZCxFQUFRZSxZQUFZNW1DLEdBQUttQyxFQUFLNkssS0FBS2tCLFdBQWFxRCxFQUFLQyxLQUFPclAsRUFBSzZLLEtBQUtYLE1BQU1yTSxHQUFHc1IsTUFBT2tJLEVBQVFtaUIsR0FHaEdrSyxFQUFRZ0IsWUFBWTVDLEVBQVF0SSxFQUFNL0IsTUFDakMsU0FBQ3Z0QixFQUFPeTRCLEVBQVdDLEVBQVcva0MsR0FFL0I2bEMsRUFBUWUsWUFBWXY2QixFQUFNaUYsTUFBT2tJLEVBQVFtaUIsR0FHekNrSyxFQUFRaUIsY0FBY3o2QixFQUFPeTRCLEVBQVdDLEVBQVcva0MsSUFFakQ2bEMsRUFBUWtCLGVBQWUxNkIsRUFBT3k0QixFQUFXQyxFQUFXcEosRUFBTTM3QixJQUUxRDZsQyxFQUFRcFQsUUFBUXBtQixFQUFPeTRCLEVBQVdDLEVBQVdwSixFQUFNL0IsR0FDckRBLEdBQU92dEIsRUFBTUwsWUFHZjY1QixFQUFRZSxZQUFZN0MsR0FBU3ZxQixFQUFRbWlCLEdBQ2pDeDVCLEtBQUs2SyxLQUFLb0gsYUFBYXl4QixFQUFRbUIsb0JBQ25DbkIsRUFBUW9CLGVBR0pwQixFQUFRcUIsU0F4aUJzQyxHQXdpQjNCL2tDLEtBQUtzL0IsU0FFdEJpRSxHQUFhdmpDLEtBQUtnbEMsd0JBQXdCeEwsRUFBTStKLEdBQ3BEdmpDLEtBQUtpbEMsbUIsWUFJVEEsZUFBQSxZQTRNRixTQUFTQyxFQUFZQyxFQUFXQyxHQUU5QixJQURBeDdCLElBQUlzUixFQUFNaXFCLEVBQVU5NUIsV0FDWHhOLEVBQUksRUFBR0EsRUFBSXVuQyxFQUFNemlDLE9BQVE5RSxJQUFLLENBQ3JDK0wsSUFBSXdwQixFQUFPZ1MsRUFBTXZuQyxHQUFJd25DLEVBQVdqUyxFQUFLbFksSUFDckMsR0FBSW1xQixFQUFTaCtCLFlBQWM4OUIsRUFBVyxDQUNwQyxLQUFPRSxHQUFZbnFCLEdBQUtBLEVBQU1vcUIsR0FBR3BxQixHQUNqQ0EsRUFBTUEsRUFBSXlHLGlCQUVWd2pCLEVBQVVJLGFBQWFGLEVBQVVucUIsR0FFbkMsR0FBSWtZLGFBQWdCLEdBQWMsQ0FDaEN4cEIsSUFBSUssRUFBTWlSLEVBQU1BLEVBQUlrRyxnQkFBa0IrakIsRUFBVWg2QixVQUNoRCs1QixFQUFZOVIsRUFBSzNRLFdBQVkyUSxFQUFLN3RCLFVBQ2xDMlYsRUFBTWpSLEVBQU1BLEVBQUkwWCxZQUFjd2pCLEVBQVU5NUIsWUFHNUMsS0FBTzZQLEdBQUtBLEVBQU1vcUIsR0FBR3BxQixHQTNObkJncUIsQ0FBWWxsQyxLQUFLeWlCLFdBQVl6aUIsS0FBS3VGLFVBQzlCK3lCLEdBQVEzQixLQTJqQmhCLFNBQWtCemIsR0FDaEIsR0FBb0IsTUFBaEJBLEVBQUltRyxVQUFvQyxNQUFoQm5HLEVBQUltRyxTQUFrQixDQUNoRHpYLElBQUk0N0IsRUFBU3RxQixFQUFJRCxNQUFNd3FCLFFBQ3ZCdnFCLEVBQUlELE1BQU13cUIsUUFBVUQsRUFBUyxrQ0FDN0IvakMsT0FBT2lrQyxpQkFBaUJ4cUIsR0FBS3lxQixVQUM3QnpxQixFQUFJRCxNQUFNd3FCLFFBQVVELEdBaGtCSEksQ0FBUzVsQyxLQUFLa2IsTSxZQUdqQ3VvQixxQkFBQSxTQUFxQmpLLEVBQU12dkIsR0FJekIsTUFBaUJ1dkIsRUFBS3ZrQixNQUFNeWMsVUFBdkI1cUIsRUFBQSxFQUFBQSxLQUFNaUQsRUFBQSxFQUFBQSxHQUNYLE9BQU15dkIsRUFBS3ZrQixNQUFNeWMscUJBQXFCLEtBQWtCNXFCLEVBQU9tRCxHQUFPRixFQUFLRSxFQUFNakssS0FBSzZLLEtBQUtyRixRQUFROEQsTUFBbkcsQ0FDQU0sSUFBSXUwQixFQUFNM0UsRUFBS3FDLEtBQUs0QyxlQUNoQjlhLEVBMGpCUixTQUF3QjlZLEVBQU1vRCxHQUM1QixPQUFTLENBQ1AsR0FBcUIsR0FBakJwRCxFQUFLNkksU0FBZSxPQUFPN0ksRUFDL0IsR0FBcUIsR0FBakJBLEVBQUs2SSxVQUFpQnpGLEVBQVMsRUFBRyxDQUNwQyxHQUFJcEQsRUFBS2dZLFdBQVdsZ0IsT0FBU3NMLEdBQThDLEdBQXBDcEQsRUFBS2dZLFdBQVc1VSxHQUFReUYsU0FDN0QsT0FBTzdJLEVBQUtnWSxXQUFXNVUsR0FDekJwRCxFQUFPQSxFQUFLZ1ksV0FBVzVVLEVBQVMsR0FDaENBLEVBQVNwRSxHQUFTZ0IsT0FDYixNQUFxQixHQUFqQkEsRUFBSzZJLFVBQWlCekYsRUFBU3BELEVBQUtnWSxXQUFXbGdCLFFBSXhELE9BQU8sS0FIUGtJLEVBQU9BLEVBQUtnWSxXQUFXNVUsR0FDdkJBLEVBQVMsSUFwa0JJNDNCLENBQWUxSCxFQUFJVSxVQUFXVixFQUFJWSxhQUNqRCxHQUFLcGIsR0FBYTNqQixLQUFLa2IsSUFBSXVJLFNBQVNFLEVBQVN0YyxZQUE3QyxDQUtBdUMsSUFBSWUsRUFBT2daLEVBQVN6QyxVQUNoQjRrQixFQXFrQlIsU0FBNEI5dkIsRUFBTXJMLEVBQU03RCxFQUFNaUQsR0FDNUMsSUFBS0gsSUFBSS9MLEVBQUksRUFBR29NLEVBQU0sRUFBR3BNLEVBQUltWSxFQUFLakssWUFBYzlCLEdBQU9GLEdBQUssQ0FDMURILElBQUlNLEVBQVE4TCxFQUFLOUwsTUFBTXJNLEtBQU1rb0MsRUFBYTk3QixFQUUxQyxHQURBQSxHQUFPQyxFQUFNTCxTQUNSSyxFQUFNWSxPQUFYLENBRUEsSUFEQWxCLElBQUkwRyxFQUFNcEcsRUFBTVMsS0FDVDlNLEVBQUltWSxFQUFLakssWUFBWSxDQUMxQm5DLElBQUltRyxFQUFPaUcsRUFBSzlMLE1BQU1yTSxLQUV0QixHQURBb00sR0FBTzhGLEVBQUtsRyxVQUNQa0csRUFBS2pGLE9BQVEsTUFDbEJ3RixHQUFPUCxFQUFLcEYsS0FFZCxHQUFJVixHQUFPbkQsRUFBTSxDQUNmOEMsSUFBSXJCLEVBQVErSCxFQUFJZ1UsWUFBWTNaLEVBQU1aLEVBQUtnOEIsR0FDdkMsR0FBSXg5QixHQUFTLEdBQUtBLEVBQVFvQyxFQUFLaEksT0FBU29qQyxHQUFjai9CLEVBQ3BELE9BQU9pL0IsRUFBYXg5QixJQUcxQixPQUFRLEVBdmxCUXk5QixDQUFtQmhtQyxLQUFLNkssS0FBS3JGLFFBQVNtRixFQUFNN0QsRUFBT21ELEVBQUtGLEVBQUtFLEdBRTNFLE9BQU82N0IsRUFBVSxFQUFJLEtBQU8sQ0FBQ2o3QixLQUFNOFksRUFBVTFaLElBQUs2N0IsRUFBU243QixXLFlBRzdEcTZCLHdCQUFBLFNBQXdCeEwsRUFBTSxHLDhCQUU1QixJQUFJeDVCLEtBQUtxZ0MsUUFBUXgxQixHQUFqQixDQUlBLElBREFqQixJQUFJZ1EsRUFBVS9PLEVBRVIrTyxFQUFRdlMsWUFBY3JILEtBQUt5aUIsV0FEekI3SSxFQUFVQSxFQUFRdlMsV0FBWSxDQUVwQyxLQUFPdVMsRUFBUXdILGlCQUFpQnhILEVBQVF2UyxXQUFXQyxZQUFZc1MsRUFBUXdILGlCQUN2RSxLQUFPeEgsRUFBUStILGFBQWEvSCxFQUFRdlMsV0FBV0MsWUFBWXNTLEVBQVErSCxhQUMvRC9ILEVBQVFxZSxhQUFZcmUsRUFBUXFlLFdBQWEsTUFFL0NydUIsSUFBSXdwQixFQUFPLElBQUkrTyxHQUFvQm5pQyxLQUFNNFosRUFBUy9PLEVBQU1GLEdBQ3hENnVCLEVBQUt5TSxpQkFBaUI5aUMsS0FBS2l3QixHQUczQnB6QixLQUFLdUYsU0FBV205QixHQUFhMWlDLEtBQUt1RixTQUFVMEUsRUFBS0EsRUFBTVUsRUFBS2hJLE9BQVE2MkIsRUFBTXBHLEssWUFNNUUzcUIsT0FBQSxTQUFPb0MsRUFBTTgzQixFQUFXQyxFQUFXcEosR0FDakMsUUE5bEJrRSxHQThsQjlEeDVCLEtBQUtzL0IsUUFDSnowQixFQUFLUyxXQUFXdEwsS0FBSzZLLFNBQzFCN0ssS0FBS2ttQyxZQUFZcjdCLEVBQU04M0IsRUFBV0MsRUFBV3BKLElBQ3RDLEksWUFHVDBNLFlBQUEsU0FBWXI3QixFQUFNODNCLEVBQVdDLEVBQVdwSixHQUN0Q3g1QixLQUFLbW1DLGdCQUFnQnhELEdBQ3JCM2lDLEtBQUs2SyxLQUFPQSxFQUNaN0ssS0FBSzRpQyxVQUFZQSxFQUNiNWlDLEtBQUt5aUIsWUFBWXppQixLQUFLNmlDLGVBQWVySixFQUFNeDVCLEtBQUs4OEIsWUFDcEQ5OEIsS0FBS3MvQixNQXptQlMsRyxZQTRtQmhCNkcsZ0JBQUEsU0FBZ0J4RCxHQUNkLElBQUlXLEdBQWNYLEVBQVczaUMsS0FBSzJpQyxXQUFsQyxDQUNBLzRCLElBQUl3OEIsRUFBcUMsR0FBekJwbUMsS0FBS3NnQyxRQUFRNXNCLFNBQ3pCMnlCLEVBQVNybUMsS0FBS2tiLElBQ2xCbGIsS0FBS2tiLElBQU1vckIsR0FBZXRtQyxLQUFLa2IsSUFBS2xiLEtBQUtzZ0MsUUFDZmlHLEdBQWlCdm1DLEtBQUsyaUMsVUFBVzNpQyxLQUFLNkssS0FBTXU3QixHQUM1Q0csR0FBaUI1RCxFQUFXM2lDLEtBQUs2SyxLQUFNdTdCLElBQzdEcG1DLEtBQUtrYixLQUFPbXJCLElBQ2RBLEVBQU9wTyxXQUFhLEtBQ3BCajRCLEtBQUtrYixJQUFJK2MsV0FBYWo0QixNQUV4QkEsS0FBSzJpQyxVQUFZQSxJLFlBSW5CNkQsV0FBQSxXQUNFeG1DLEtBQUtzZ0MsUUFBUTBCLFVBQVVoZCxJQUFJLDZCQUN2QmhsQixLQUFLeWlCLFlBQWV6aUIsS0FBSzZLLEtBQUt4SCxLQUFLbU0sS0FBS3d6QixZQUFXaGpDLEtBQUtrYixJQUFJOG5CLFdBQVksSSxZQUk5RXlELGFBQUEsV0FDRXptQyxLQUFLc2dDLFFBQVEwQixVQUFVcDVCLE9BQU8sNkJBQzFCNUksS0FBS3lpQixZQUFlemlCLEtBQUs2SyxLQUFLeEgsS0FBS21NLEtBQUt3ekIsWUFBV2hqQyxLQUFLa2IsSUFBSThuQixXQUFZLEkseUNBek05RCxDQUFTLElBK01wQixTQUFTMEQsR0FBWS8zQixFQUFLZzBCLEVBQVdDLEVBQVcxbkIsRUFBS3NlLEdBRTFELE9BREF5SixHQUFlL25CLEVBQUt5bkIsRUFBV2gwQixHQUN4QixJQUFJLEdBQWEsS0FBTUEsRUFBS2cwQixFQUFXQyxFQUFXMW5CLEVBQUtBLEVBQUtBLEVBQUtzZSxFQUFNLEdBR2hGLElBQU0ySixHQUFZLFlBQ2hCLFdBQVkvL0IsRUFBUXlILEVBQU04M0IsRUFBV0MsRUFBVzFuQixFQUFLb2xCLEVBQVM5RyxHQUM1RDVsQixPQUFNLEtBQUF4USxFQUFReUgsRUFBTTgzQixFQUFXQyxFQUFXMW5CLEVBQUssS0FBTW9sQixFQUFTOUcsRywwR0FHaEVvRyxVQUFBLFdBQ0UsTUFBTyxDQUFDN2QsS0FBTS9oQixLQUFLc2dDLFFBQVFqNUIsYUFBYyxJLFlBRzNDb0IsT0FBQSxTQUFPb0MsRUFBTTgzQixHQUNYLFFBeHBCa0UsR0F3cEI5RDNpQyxLQUFLcy9CLE9BeHBCSyxHQXdwQm1CdC9CLEtBQUtzL0IsUUFBdUJ0L0IsS0FBSzJtQyxhQUM3RDk3QixFQUFLUyxXQUFXdEwsS0FBSzZLLFNBQzFCN0ssS0FBS21tQyxnQkFBZ0J4RCxHQTFwQlAsR0EycEJUM2lDLEtBQUtzL0IsT0FBc0J6MEIsRUFBS0YsTUFBUTNLLEtBQUs2SyxLQUFLRixNQUFTRSxFQUFLRixNQUFRM0ssS0FBS3NnQyxRQUFRcGYsWUFDeEZsaEIsS0FBS3NnQyxRQUFRcGYsVUFBWXJXLEVBQUtGLE1BQ2hDM0ssS0FBSzZLLEtBQU9BLEVBQ1o3SyxLQUFLcy9CLE1BOXBCUyxHQStwQlAsSSxZQUdUcUgsU0FBQSxXQUVFLElBREEvOEIsSUFBSXU3QixFQUFZbmxDLEtBQUtvRCxPQUFPcWYsV0FDbkJuakIsRUFBSVUsS0FBS3NnQyxRQUFTaGhDLEVBQUdBLEVBQUlBLEVBQUUrSCxXQUFZLEdBQUkvSCxHQUFLNmxDLEVBQVcsT0FBTyxFQUMzRSxPQUFPLEcsWUFHVGxJLFdBQUEsU0FBV2h6QixHQUNULE1BQU8sQ0FBQ1ksS0FBTTdLLEtBQUtzZ0MsUUFBU3J5QixPQUFRaEUsSSxZQUd0Q2cyQixnQkFBQSxTQUFnQi9rQixFQUFLak4sRUFBUTJ1QixHQUMzQixPQUFJMWhCLEdBQU9sYixLQUFLc2dDLFFBQWdCdGdDLEtBQUs4OEIsV0FBYTUwQixLQUFLb0MsSUFBSTJELEVBQVFqTyxLQUFLNkssS0FBS0YsS0FBS2hJLFFBQzNFaVIsWUFBTXFzQixnQkFBQSxLQUFnQixLQUFBL2tCLEVBQUtqTixFQUFRMnVCLEksWUFHNUN5RSxlQUFBLFNBQWVDLEdBQ2IsTUFBd0IsaUJBQWpCQSxFQUFTaitCLE1BQTRDLGFBQWpCaStCLEVBQVNqK0IsTSxZQUd0RDJELE1BQUEsU0FBTUYsRUFBTWlELEVBQUl5dkIsR0FDZDV2QixJQUFJaUIsRUFBTzdLLEtBQUs2SyxLQUFLVyxJQUFJMUUsRUFBTWlELEdBQUttUixFQUFNbGEsU0FBU3FoQixlQUFleFgsRUFBS0YsTUFDdkUsT0FBTyxJQUFJdzRCLEVBQWFuakMsS0FBS29ELE9BQVF5SCxFQUFNN0ssS0FBSzJpQyxVQUFXM2lDLEtBQUs0aUMsVUFBVzFuQixFQUFLQSxFQUFLc2UsSSxFQXpDdkUsQ0FBUyxJQStDckJvTixHQUFjLFksK0lBQ2xCaEgsVUFBQSxXQUFjLE1BQU8sQ0FBQzlkLFFBQVEsSSxZQUM5QjRkLFlBQUEsV0FBZ0IsT0EvckJBLEdBK3JCTzEvQixLQUFLcy9CLE8sRUFGVixDQUFTLElBUXZCNEQsR0FBa0IsWUFFdEIsV0FBWTkvQixFQUFReUgsRUFBTTgzQixFQUFXQyxFQUFXMW5CLEVBQUt1SCxFQUFZNmQsRUFBUzl3QixFQUFNZ3FCLEVBQU12dkIsR0FDcEYySixPQUFNLEtBQUF4USxFQUFReUgsRUFBTTgzQixFQUFXQyxFQUFXMW5CLEVBQUt1SCxFQUFZNmQsRUFBUzlHLEVBQU12dkIsR0FDMUVqSyxLQUFLd1AsS0FBT0EsRSwwR0FNZC9HLE9BQUEsU0FBT29DLEVBQU04M0IsRUFBV0MsRUFBV3BKLEdBQ2pDLEdBaHRCa0UsR0FndEI5RHg1QixLQUFLcy9CLE1BQXFCLE9BQU8sRUFDckMsR0FBSXQvQixLQUFLd1AsS0FBSy9HLE9BQVEsQ0FDcEJtQixJQUFJSCxFQUFTekosS0FBS3dQLEtBQUsvRyxPQUFPb0MsRUFBTTgzQixHQUVwQyxPQURJbDVCLEdBQVF6SixLQUFLa21DLFlBQVlyN0IsRUFBTTgzQixFQUFXQyxFQUFXcEosR0FDbEQvdkIsRUFDRixTQUFLekosS0FBS3lpQixhQUFlNVgsRUFBS0UsU0FHNUI2SSxZQUFNbkwsT0FBQSxLQUFPLEtBQUFvQyxFQUFNODNCLEVBQVdDLEVBQVdwSixJLFlBSXBEZ04sV0FBQSxXQUNFeG1DLEtBQUt3UCxLQUFLZzNCLFdBQWF4bUMsS0FBS3dQLEtBQUtnM0IsYUFBZTV5QixZQUFNNHlCLFdBQUEsS0FBVyxPLFlBR25FQyxhQUFBLFdBQ0V6bUMsS0FBS3dQLEtBQUtpM0IsYUFBZXptQyxLQUFLd1AsS0FBS2kzQixlQUFpQjd5QixZQUFNNnlCLGFBQUEsS0FBYSxPLFlBR3pFMVUsYUFBQSxTQUFhOE8sRUFBUXJpQixFQUFNcWQsRUFBTWlGLEdBQy9COWdDLEtBQUt3UCxLQUFLdWlCLGFBQWUveEIsS0FBS3dQLEtBQUt1aUIsYUFBYThPLEVBQVFyaUIsRUFBTXFkLEdBQzFEam9CLFlBQU1tZSxhQUFBLEtBQWEsS0FBQThPLEVBQVFyaUIsRUFBTXFkLEVBQU1pRixJLFlBRzdDaEIsUUFBQSxXQUNNOS9CLEtBQUt3UCxLQUFLc3dCLFNBQVM5L0IsS0FBS3dQLEtBQUtzd0IsVUFDakNsc0IsWUFBTWtzQixRQUFBLEtBQVEsTyxZQUdoQkQsVUFBQSxTQUFVai9CLEdBQ1IsUUFBT1osS0FBS3dQLEtBQUtxd0IsV0FBWTcvQixLQUFLd1AsS0FBS3F3QixVQUFVai9CLEksWUFHbkR5Z0MsZUFBQSxTQUFlQyxHQUNiLE9BQU90aEMsS0FBS3dQLEtBQUs2eEIsZUFBaUJyaEMsS0FBS3dQLEtBQUs2eEIsZUFBZUMsR0FBWTF0QixZQUFNeXRCLGVBQUEsS0FBZSxLQUFBQyxJLEVBOUN4RSxDQUFTLElBeUVqQyxTQUFTdUYsR0FBZXhsQixHQUNsQkEsSUFBVXJoQixLQUFLcWhCLFNBQVdBLEdBRWhDd2xCLEdBQWVwbkMsVUFBWWxCLE9BQU9ZLE9BQU8sTUFFekM2TyxJQUFNODRCLEdBQVMsQ0FBQyxJQUFJRCxJQUVwQixTQUFTTixHQUFpQjVELEVBQVc5M0IsRUFBTXU3QixHQUN6QyxHQUF3QixHQUFwQnpELEVBQVVoZ0MsT0FBYSxPQUFPbWtDLEdBSWxDLElBRkFsOUIsSUFBSTJXLEVBQU02bEIsRUFBWVUsR0FBTyxHQUFLLElBQUlELEdBQWdCcDlCLEVBQVMsQ0FBQzhXLEdBRXZEMWlCLEVBQUksRUFBR0EsRUFBSThrQyxFQUFVaGdDLE9BQVE5RSxJQUFLLENBQ3pDK0wsSUFBSW1FLEVBQVE0MEIsRUFBVTlrQyxHQUFHd0YsS0FBSzBLLE1BQU8ySCxFQUFNNkssRUFDM0MsR0FBS3hTLEVBSUwsSUFBS25FLElBQUl4TCxLQUhMMlAsRUFBTXNULFVBQ1I1WCxFQUFPdEcsS0FBS3VTLEVBQU0sSUFBSW14QixHQUFlOTRCLEVBQU1zVCxXQUU1QnRULEVBQU8sQ0FDdEJuRSxJQUFJOEUsRUFBTVgsRUFBTTNQLEdBQ0wsTUFBUHNRLElBQ0EwM0IsR0FBOEIsR0FBakIzOEIsRUFBTzlHLFFBQ3RCOEcsRUFBT3RHLEtBQUt1UyxFQUFNNkssRUFBTSxJQUFJc21CLEdBQWVoOEIsRUFBS2lGLFNBQVcsT0FBUyxRQUMxRCxTQUFSMVIsRUFBaUJzWCxFQUFJcXhCLE9BQVNyeEIsRUFBSXF4QixNQUFRcnhCLEVBQUlxeEIsTUFBUSxJQUFNLElBQU1yNEIsRUFDckQsU0FBUnRRLEVBQWlCc1gsRUFBSXVGLE9BQVN2RixFQUFJdUYsTUFBUXZGLEVBQUl1RixNQUFRLElBQU0sSUFBTXZNLEVBQzFELFlBQVJ0USxJQUFvQnNYLEVBQUl0WCxHQUFRc1EsS0FJN0MsT0FBT2pGLEVBR1QsU0FBUzY4QixHQUFlVSxFQUFVMUcsRUFBUzJHLEVBQWNDLEdBRXZELEdBQUlELEdBQWdCSCxJQUFVSSxHQUFlSixHQUFRLE9BQU94RyxFQUc1RCxJQURBMTJCLElBQUl1OUIsRUFBUzdHLEVBQ0p6aUMsRUFBSSxFQUFHQSxFQUFJcXBDLEVBQVl2a0MsT0FBUTlFLElBQUssQ0FDM0MrTCxJQUFJZzZCLEVBQU9zRCxFQUFZcnBDLEdBQUlnMkIsRUFBT29ULEVBQWFwcEMsR0FDL0MsR0FBSUEsRUFBRyxDQUNMK0wsSUFBSXhHLE9BQUEsRUFDQXl3QixHQUFRQSxFQUFLeFMsVUFBWXVpQixFQUFLdmlCLFVBQVk4bEIsR0FBVUgsSUFDbkQ1akMsRUFBUytqQyxFQUFPOS9CLGFBQWVqRSxFQUFPcWlCLFFBQVFoRSxlQUFpQm1pQixFQUFLdmlCLFlBR3ZFamUsRUFBU3BDLFNBQVNxRixjQUFjdTlCLEVBQUt2aUIsV0FDOUJ4YSxZQUFZc2dDLEdBQ25CdFQsRUFBT2lULEdBQU8sSUFKZEssRUFBUy9qQyxFQVFiZ2tDLEdBQWdCRCxFQUFRdFQsR0FBUWlULEdBQU8sR0FBSWxELEdBRTdDLE9BQU91RCxFQUdULFNBQVNDLEdBQWdCbHNCLEVBQUsyWSxFQUFNbmUsR0FDbEMsSUFBSzlMLElBQUl4TCxLQUFReTFCLEVBQ0gsU0FBUnoxQixHQUEyQixTQUFSQSxHQUEyQixZQUFSQSxHQUF3QkEsS0FBUXNYLEdBQ3hFd0YsRUFBSW1zQixnQkFBZ0JqcEMsR0FDeEIsSUFBS3dMLElBQUl4TCxLQUFRc1gsRUFDSCxTQUFSdFgsR0FBMkIsU0FBUkEsR0FBMkIsWUFBUkEsR0FBc0JzWCxFQUFJdFgsSUFBU3kxQixFQUFLejFCLElBQ2hGOGMsRUFBSTJLLGFBQWF6bkIsRUFBTXNYLEVBQUl0WCxJQUMvQixHQUFJeTFCLEVBQUtrVCxPQUFTcnhCLEVBQUlxeEIsTUFBTyxDQUczQixJQUZBbjlCLElBQUkwOUIsRUFBV3pULEVBQUtrVCxNQUFRbFQsRUFBS2tULE1BQU14dkIsTUFBTSxLQUFPcXFCLEdBQ2hEMkYsRUFBVTd4QixFQUFJcXhCLE1BQVFyeEIsRUFBSXF4QixNQUFNeHZCLE1BQU0sS0FBT3FxQixHQUN4Qy9qQyxFQUFJLEVBQUdBLEVBQUl5cEMsRUFBUzNrQyxPQUFROUUsS0FBMEMsR0FBakMwcEMsRUFBUXp5QixRQUFRd3lCLEVBQVN6cEMsS0FDckVxZCxFQUFJOG1CLFVBQVVwNUIsT0FBTzArQixFQUFTenBDLElBQ2hDLElBQUsrTCxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJMHBDLEVBQVE1a0MsT0FBUTlFLEtBQTBDLEdBQWpDeXBDLEVBQVN4eUIsUUFBUXl5QixFQUFRMXBDLEtBQ3BFcWQsRUFBSThtQixVQUFVaGQsSUFBSXVpQixFQUFRMXBDLElBRTlCLEdBQUlnMkIsRUFBSzVZLE9BQVN2RixFQUFJdUYsTUFBTyxDQUMzQixHQUFJNFksRUFBSzVZLE1BRVAsSUFEQXJSLElBQTRGM0wsRUFBeEZ5TCxFQUFPLGdGQUNKekwsRUFBSXlMLEVBQUsyVixLQUFLd1UsRUFBSzVZLFFBQ3hCQyxFQUFJRCxNQUFNdXNCLGVBQWV2cEMsRUFBRSxJQUUzQnlYLEVBQUl1RixRQUNOQyxFQUFJRCxNQUFNd3FCLFNBQVcvdkIsRUFBSXVGLFFBSS9CLFNBQVNnb0IsR0FBZS9uQixFQUFLMG9CLEVBQU0vNEIsR0FDakMsT0FBT3k3QixHQUFlcHJCLEVBQUtBLEVBQUs0ckIsR0FBUVAsR0FBaUIzQyxFQUFNLzRCLEVBQXNCLEdBQWhCcVEsRUFBSXhILFdBSTNFLFNBQVM0dkIsR0FBY24zQixFQUFHQyxHQUN4QixHQUFJRCxFQUFFeEosUUFBVXlKLEVBQUV6SixPQUFRLE9BQU8sRUFDakMsSUFBS2lILElBQUkvTCxFQUFJLEVBQUdBLEVBQUlzTyxFQUFFeEosT0FBUTlFLElBQUssSUFBS3NPLEVBQUV0TyxHQUFHd0YsS0FBS3lJLEdBQUdNLEVBQUV2TyxHQUFHd0YsTUFBTyxPQUFPLEVBQ3hFLE9BQU8sRUFJVCxTQUFTaWlDLEdBQUdwcUIsR0FDVnRSLElBQUltRyxFQUFPbUwsRUFBSXlHLFlBRWYsT0FEQXpHLEVBQUk3VCxXQUFXQyxZQUFZNFQsR0FDcEJuTCxFQUtULElBQU00ekIsR0FFSixTQUFZcGpCLEVBQUtrbkIsR0FDZnpuQyxLQUFLdWdCLElBQU1BLEVBQ1h2Z0IsS0FBSzBuQyxLQUFPRCxFQUdaem5DLEtBQUs0TCxNQUFRLEVBR2I1TCxLQUFLeTZCLE1BQVEsR0FFYno2QixLQUFLK2tDLFNBQVUsRUFFZm43QixJQUFJc1UsRUEwSlIsU0FBa0JsSSxFQUFNb3ZCLEdBRXRCLElBREF4N0IsSUFBSUgsRUFBUyxHQUFJVSxFQUFNNkwsRUFBS2pLLFdBQ25CbE8sRUFBSXVuQyxFQUFNemlDLE9BQVMsRUFBR3dILEVBQU0sR0FBS3RNLEdBQUssRUFBR0EsSUFBSyxDQUNyRCtMLElBQUl3cEIsRUFBT2dTLEVBQU12bkMsR0FBSWdOLEVBQU91b0IsRUFBS3ZvQixLQUNqQyxHQUFLQSxFQUFMLENBQ0EsR0FBSUEsR0FBUW1MLEVBQUs5TCxNQUFNQyxFQUFNLEdBQUksTUFDakNWLEVBQU90RyxLQUFLaXdCLEtBQ1ZqcEIsR0FFSixNQUFPLENBQUMyRCxNQUFPckUsRUFBT3lOLFVBQVdqSixPQUFROUQsR0FuSzdCdzlCLENBQVNwbkIsRUFBSTFWLEtBQUtyRixRQUFTK2EsRUFBSWhiLFVBQ3pDdkYsS0FBSzRuQyxXQUFhMXBCLEVBQUlwUSxNQUN0QjlOLEtBQUs2bkMsZUFBaUIzcEIsRUFBSWpRLFFBb0s5QixTQUFTbzJCLEdBQVlsNEIsRUFBR0MsR0FBSyxPQUFPRCxFQUFFOUksS0FBS2kyQixLQUFPbHRCLEVBQUUvSSxLQUFLaTJCLEtBeUh6RCxTQUFTb0osR0FBYTUwQixFQUFPaEgsRUFBTWlELEVBQUl5dkIsRUFBTTdtQixHQUUzQyxJQURBL0ksSUFBSUgsRUFBUyxHQUNKNUwsRUFBSSxFQUFHNDVCLEVBQU0sRUFBRzU1QixFQUFJaVEsRUFBTW5MLE9BQVE5RSxJQUFLLENBQzlDK0wsSUFBSU0sRUFBUTRELEVBQU1qUSxHQUFJdU0sRUFBUXF0QixFQUFLdHRCLEVBQU1zdEIsR0FBT3Z0QixFQUFNWixLQUNsRGMsR0FBU0wsR0FBTUksR0FBT3JELEVBQ3hCMkMsRUFBT3RHLEtBQUsrRyxJQUVSRSxFQUFRdEQsR0FBTTJDLEVBQU90RyxLQUFLK0csRUFBTWxELE1BQU0sRUFBR0YsRUFBT3NELEVBQU9vdkIsSUFDdkQ3bUIsSUFDRmxKLEVBQU90RyxLQUFLd1AsR0FDWkEsRUFBYyxNQUVaeEksRUFBTUosR0FBSU4sRUFBT3RHLEtBQUsrRyxFQUFNbEQsTUFBTStDLEVBQUtLLEVBQU9GLEVBQU1aLEtBQU1rd0IsS0FHbEUsT0FBTy92QixFQ2x3Q1QsU0FBU3ErQixHQUFtQjd5QixFQUFPNmlCLEdBQ2pDLE1BQXVCN2lCLEVBQU15YyxVQUF4QjBNLEVBQUEsRUFBQUEsUUFBU2hNLEVBQUEsRUFBQUEsTUFDVjJWLEVBQVFqUSxFQUFNLEVBQUlzRyxFQUFRL3pCLElBQUkrbkIsR0FBU2dNLEVBQVE5ekIsSUFBSThuQixHQUNuRDRWLEVBQVVELEVBQU0za0MsT0FBTytNLGNBQXdCNDNCLEVBQU12NUIsTUFBUXlHLEVBQU10RyxJQUFJNEIsUUFBUXVuQixFQUFNLEVBQUlpUSxFQUFNaDVCLFFBQVVnNUIsRUFBTWo1QixVQUFZLEtBQXBGaTVCLEVBQzNDLE9BQU9DLEdBQVUsR0FBVUMsU0FBU0QsRUFBUWxRLEdBRzlDLFNBQVMsR0FBTTBCLEVBQU0yRSxHQUVuQixPQURBM0UsRUFBSzBPLFNBQVMxTyxFQUFLdmtCLE1BQU11ZSxHQUFHekIsYUFBYW9NLEdBQUtsTCxtQkFDdkMsRUFHVCxTQUFTa1YsR0FBbUIzTyxFQUFNMUIsRUFBS3NRLEdBQ3JDeCtCLElBQUl1MEIsRUFBTTNFLEVBQUt2a0IsTUFBTXljLFVBQ3JCLEdBQUl5TSxhQUFlLEdBQWUsQ0FDaEMsSUFBS0EsRUFBSXp5QixPQUFTMDhCLEVBQUt0ekIsUUFBUSxNQUFRLEVBQ3JDLE9BQU8sRUFDRixHQUFJMGtCLEVBQUswRSxlQUFlcEcsRUFBTSxFQUFJLFFBQVUsUUFBUyxDQUMxRGx1QixJQUFJbUcsRUFBTyszQixHQUFtQnRPLEVBQUt2a0IsTUFBTzZpQixHQUMxQyxTQUFJL25CLEdBQVNBLGFBQWdCLEtBQXVCLEdBQU15cEIsRUFBTXpwQixHQUdoRW5HLElBQXNHd3BCLEVBQWxHaEIsRUFBUStMLEVBQUkvTCxNQUFPdm5CLEVBQU91bkIsRUFBTXZqQixXQUFhLEtBQU9pcEIsRUFBTSxFQUFJMUYsRUFBTWxqQixXQUFha2pCLEVBQU1wakIsVUFDM0YsSUFBS25FLEdBQVFBLEVBQUtDLE9BQVEsT0FBTyxFQUNqQ2xCLElBQUl5K0IsRUFBVXZRLEVBQU0sRUFBSTFGLEVBQU1ub0IsSUFBTVksRUFBS2hCLFNBQVd1b0IsRUFBTW5vQixJQUMxRCxTQUFNWSxFQUFLcUgsU0FBV2toQixFQUFPb0csRUFBSzhDLFFBQVFpRSxPQUFPOEgsTUFBY2pWLEVBQUszUSxjQUNoRSxHQUFjNmxCLGFBQWF6OUIsR0FDdEIsR0FBTTJ1QixFQUFNLElBQUksR0FBYzFCLEVBQU0sRUFBSTBCLEVBQUt2a0IsTUFBTXRHLElBQUk0QixRQUFRNmhCLEVBQU1ub0IsSUFBTVksRUFBS2hCLFVBQVl1b0IsTUFDMUZrRyxHQUFRekIsUUFJVixHQUFNMkMsRUFBTSxJQUFJLEdBQWNBLEVBQUt2a0IsTUFBTXRHLElBQUk0QixRQUFRdW5CLEVBQU0sRUFBSXVRLEVBQVVBLEVBQVV4OUIsRUFBS2hCLGFBSzlGLEdBQUlzMEIsYUFBZSxJQUFpQkEsRUFBSXR6QixLQUFLaUYsU0FDbEQsT0FBTyxHQUFNMHBCLEVBQU0sSUFBSSxHQUFjMUIsRUFBTSxFQUFJcUcsRUFBSXJ0QixJQUFNcXRCLEVBQUlod0IsUUFFN0R2RSxJQUFJbUcsRUFBTyszQixHQUFtQnRPLEVBQUt2a0IsTUFBTzZpQixHQUMxQyxRQUFJL25CLEdBQWEsR0FBTXlwQixFQUFNenBCLEdBS2pDLFNBQVN3NEIsR0FBUTE5QixHQUNmLE9BQXdCLEdBQWpCQSxFQUFLNkksU0FBZ0I3SSxFQUFLcVcsVUFBVXZlLE9BQVNrSSxFQUFLZ1ksV0FBV2xnQixPQUd0RSxTQUFTNmxDLEdBQVl0dEIsR0FDbkJ0UixJQUFJd3BCLEVBQU9sWSxFQUFJK2MsV0FDZixPQUFPN0UsR0FBcUIsR0FBYkEsRUFBSzlwQixPQUFjNFIsRUFBSXlHLGFBQStCLE1BQWhCekcsRUFBSW1HLFVBSzNELFNBQVNvbkIsR0FBcUJqUCxHQUM1QjV2QixJQUFJdTBCLEVBQU0zRSxFQUFLcUMsS0FBSzRDLGVBQ2hCNXpCLEVBQU9zekIsRUFBSVUsVUFBVzV3QixFQUFTa3dCLEVBQUlZLFlBQ3ZDLEdBQUtsMEIsRUFBTCxDQUNBakIsSUFBSTgrQixFQUFVQyxFQUFZN0gsR0FBUSxFQUtsQyxJQURJeEksR0FBUS9CLE9BQTBCLEdBQWpCMXJCLEVBQUs2SSxVQUFpQnpGLEVBQVNzNkIsR0FBUTE5QixJQUFTMjlCLEdBQVkzOUIsRUFBS2dZLFdBQVc1VSxNQUFVNnlCLEdBQVEsS0FFakgsR0FBSTd5QixFQUFTLEVBQUcsQ0FDZCxHQUFxQixHQUFqQnBELEVBQUs2SSxTQUNQLE1BRUE5SixJQUFJa0YsRUFBU2pFLEVBQUtnWSxXQUFXNVUsRUFBUyxHQUN0QyxHQUFJdTZCLEdBQVkxNUIsR0FDZDQ1QixFQUFXNzlCLEVBQ1g4OUIsSUFBZTE2QixNQUNWLElBQXVCLEdBQW5CYSxFQUFPNEUsU0FHWCxNQURMekYsR0FEQXBELEVBQU9pRSxHQUNPb1MsVUFBVXZlLFlBR3ZCLElBQUlpbUMsR0FBWS85QixHQUNyQixNQUdBLElBREFqQixJQUFJaXFCLEVBQU9ocEIsRUFBS3VXLGdCQUNUeVMsR0FBUTJVLEdBQVkzVSxJQUN6QjZVLEVBQVc3OUIsRUFBS3hELFdBQ2hCc2hDLEVBQWF6UixHQUFTckQsR0FDdEJBLEVBQU9BLEVBQUt6UyxnQkFFZCxHQUFLeVMsRUFNSDVsQixFQUFTczZCLEdBRFQxOUIsRUFBT2dwQixPQUxFLENBRVQsSUFEQWhwQixFQUFPQSxFQUFLeEQsYUFDQW15QixFQUFLdGUsSUFBSyxNQUN0QmpOLEVBQVMsR0FPWDZ5QixFQUFPK0gsR0FBWXJQLEVBQU0yRSxFQUFLdHpCLEVBQU1vRCxHQUMvQnk2QixHQUFVRyxHQUFZclAsRUFBTTJFLEVBQUt1SyxFQUFVQyxJQUt0RCxTQUFTRyxHQUFzQnRQLEdBQzdCNXZCLElBQUl1MEIsRUFBTTNFLEVBQUtxQyxLQUFLNEMsZUFDaEI1ekIsRUFBT3N6QixFQUFJVSxVQUFXNXdCLEVBQVNrd0IsRUFBSVksWUFDdkMsR0FBS2wwQixFQUFMLENBR0EsSUFGQWpCLElBQ0k4K0IsRUFBVUMsRUFEVm5OLEVBQU0rTSxHQUFRMTlCLEtBR2hCLEdBQUlvRCxFQUFTdXRCLEVBQUssQ0FDaEIsR0FBcUIsR0FBakIzd0IsRUFBSzZJLFNBQWUsTUFFeEIsSUFBSTgwQixHQURRMzlCLEVBQUtnWSxXQUFXNVUsSUFLdkIsTUFISHk2QixFQUFXNzlCLEVBQ1g4OUIsSUFBZTE2QixNQUdaLElBQUkyNkIsR0FBWS85QixHQUNyQixNQUdBLElBREFqQixJQUFJbUcsRUFBT2xGLEVBQUs4VyxZQUNUNVIsR0FBUXk0QixHQUFZejRCLElBQ3pCMjRCLEVBQVczNEIsRUFBSzFJLFdBQ2hCc2hDLEVBQWF6UixHQUFTbm5CLEdBQVEsRUFDOUJBLEVBQU9BLEVBQUs0UixZQUVkLEdBQUs1UixFQU1IOUIsRUFBUyxFQUNUdXRCLEVBQU0rTSxHQUZOMTlCLEVBQU9rRixPQUxFLENBRVQsSUFEQWxGLEVBQU9BLEVBQUt4RCxhQUNBbXlCLEVBQUt0ZSxJQUFLLE1BQ3RCak4sRUFBU3V0QixFQUFNLEdBUWpCa04sR0FBVUcsR0FBWXJQLEVBQU0yRSxFQUFLdUssRUFBVUMsSUFHakQsU0FBU0MsR0FBWTF0QixHQUNuQnRSLElBQUl3cEIsRUFBT2xZLEVBQUkrYyxXQUNmLE9BQU83RSxHQUFRQSxFQUFLdm9CLE1BQVF1b0IsRUFBS3ZvQixLQUFLRyxRQUd4QyxTQUFTNjlCLEdBQVlyUCxFQUFNMkUsRUFBS3R6QixFQUFNb0QsR0FDcEMsR0FBSWlxQixHQUFtQmlHLEdBQU0sQ0FDM0J2MEIsSUFBSW9oQixFQUFRaHFCLFNBQVNxMkIsY0FDckJyTSxFQUFNc00sT0FBT3pzQixFQUFNb0QsR0FDbkIrYyxFQUFNdU0sU0FBUzFzQixFQUFNb0QsR0FDckJrd0IsRUFBSWdCLGtCQUNKaEIsRUFBSWlCLFNBQVNwVSxRQUNKbVQsRUFBSWdELFFBQ2JoRCxFQUFJZ0QsT0FBT3QyQixFQUFNb0QsR0FFbkJ1ckIsRUFBS3VQLFlBQVlDLGtCQU9uQixTQUFTQyxHQUFpQnpQLEVBQU0xQixFQUFLc1EsR0FDbkN4K0IsSUFBSXUwQixFQUFNM0UsRUFBS3ZrQixNQUFNeWMsVUFDckIsR0FBSXlNLGFBQWUsS0FBa0JBLEVBQUl6eUIsT0FBUzA4QixFQUFLdHpCLFFBQVEsTUFBUSxFQUFHLE9BQU8sRUFDakYsY0FBWWhFLEVBQUEsRUFBQUEsSUFFWixJQUFLM0MsRUFBTS9LLE9BQU8rTSxlQUFpQnFwQixFQUFLMEUsZUFBZXBHLEVBQU0sRUFBSSxLQUFPLFFBQVMsQ0FDL0VsdUIsSUFBSW1HLEVBQU8rM0IsR0FBbUJ0TyxFQUFLdmtCLE1BQU82aUIsR0FDMUMsR0FBSS9uQixHQUFTQSxhQUFnQixHQUMzQixPQUFPLEdBQU15cEIsRUFBTXpwQixHQUV2QixJQUFLNUIsRUFBTS9LLE9BQU8rTSxjQUFlLENBQy9CdkcsSUFBSXMvQixFQUFTLEdBQVVqQixTQUFTblEsRUFBTSxFQUFJM3BCLEVBQVEyQyxFQUFLZ25CLEdBQ3ZELE9BQU9vUixHQUFTLEdBQU0xUCxFQUFNMFAsR0FFOUIsT0FBTyxFQUdULFNBQVNDLEdBQTJCM1AsRUFBTTFCLEdBQ3hDLEtBQU0wQixFQUFLdmtCLE1BQU15YyxxQkFBcUIsSUFBZ0IsT0FBTyxFQUM3RCxNQUE4QjhILEVBQUt2a0IsTUFBTXljLFVBQXBDVSxFQUFBLEVBQUFBLE1BQU9nTSxFQUFBLEVBQUFBLFFBQVMxeUIsRUFBQSxFQUFBQSxNQUNyQixJQUFLMG1CLEVBQU0vaEIsV0FBVyt0QixHQUFVLE9BQU8sRUFDdkMsSUFBSzF5QixFQUFPLE9BQU8sRUFDbkIsR0FBSTh0QixFQUFLMEUsZUFBZXBHLEVBQU0sRUFBSSxVQUFZLFlBQWEsT0FBTyxFQUNsRWx1QixJQUFJdy9CLEdBQVloWCxFQUFNdmpCLGFBQWVpcEIsRUFBTSxFQUFJMUYsRUFBTWxqQixXQUFha2pCLEVBQU1wakIsV0FDeEUsR0FBSW82QixJQUFhQSxFQUFTdCtCLE9BQVEsQ0FDaENsQixJQUFJNHBCLEVBQUtnRyxFQUFLdmtCLE1BQU11ZSxHQUlwQixPQUhJc0UsRUFBTSxFQUFHdEUsRUFBRzdELE9BQU95QyxFQUFNbm9CLElBQU1tL0IsRUFBU3YvQixTQUFVdW9CLEVBQU1ub0IsS0FDdkR1cEIsRUFBRzdELE9BQU95QyxFQUFNbm9CLElBQUttb0IsRUFBTW5vQixJQUFNbS9CLEVBQVN2L0IsVUFDL0MydkIsRUFBSzBPLFNBQVMxVSxJQUNQLEVBRVQsT0FBTyxFQUdULFNBQVM2VixHQUFlN1AsRUFBTTN1QixFQUFNb0ssR0FDbEN1a0IsRUFBS3VQLFlBQVk5RyxPQUNqQnAzQixFQUFLbXRCLGdCQUFrQi9pQixFQUN2QnVrQixFQUFLdVAsWUFBWTMrQixRQWtDWixTQUFTay9CLEdBQWU5UCxFQUFNNTRCLEdBQ25DZ0osSUFBSWl2QixFQUFPajRCLEVBQU04M0IsUUFBUzBQLEVBVjVCLFNBQWlCeG5DLEdBQ2ZnSixJQUFJSCxFQUFTLEdBS2IsT0FKSTdJLEVBQU0yb0MsVUFBUzkvQixHQUFVLEtBQ3pCN0ksRUFBTTRvQyxVQUFTLy9CLEdBQVUsS0FDekI3SSxFQUFNNm9DLFNBQVFoZ0MsR0FBVSxLQUN4QjdJLEVBQU04b0MsV0FBVWpnQyxHQUFVLEtBQ3ZCQSxFQUkwQmtnQyxDQUFRL29DLEdBQ3pDLE9BQVksR0FBUmk0QixHQUFjUCxHQUFRbkMsS0FBZSxJQUFSMEMsR0FBc0IsS0FBUnVQLEVBQ3RDZSxHQUEyQjNQLEdBQU8sSUFBTWlQLEdBQXFCalAsR0FDbkQsSUFBUlgsR0FBZVAsR0FBUW5DLEtBQWUsSUFBUjBDLEdBQXNCLEtBQVJ1UCxFQUM5Q2UsR0FBMkIzUCxFQUFNLElBQU1zUCxHQUFzQnRQLEdBQ2xELElBQVJYLElBQWVQLEdBQVEzQixLQUFnQixJQUFSa0MsSUFFeEIsSUFBUkEsRUFDRnNQLEdBQW1CM08sR0FBTyxFQUFHNE8sSUFBU0ssR0FBcUJqUCxHQUNqRCxJQUFSWCxFQUNGc1AsR0FBbUIzTyxFQUFNLEVBQUc0TyxJQUFTVSxHQUFzQnRQLEdBQ2pELElBQVJYLEVBQ0ZvUSxHQUFpQnpQLEdBQU8sRUFBRzRPLElBQVNLLEdBQXFCalAsR0FDL0MsSUFBUlgsRUF6Q2IsU0FBNEJXLEdBQzFCLEdBQUtsQixHQUFRN0IsVUFBVStDLEVBQUt2a0IsTUFBTXljLFVBQVVVLE1BQU03akIsYUFBZSxHQUFqRSxDQUNBLE1BQStCaXJCLEVBQUtxQyxLQUFLNEMsZUFBcENJLEVBQUEsRUFBQUEsVUFBV0UsRUFBQSxFQUFBQSxZQUNoQixHQUFJRixHQUFtQyxHQUF0QkEsRUFBVW5yQixVQUFnQyxHQUFmcXJCLEdBQ3hDRixFQUFVeHpCLFlBQXNELFNBQXhDd3pCLEVBQVV4ekIsV0FBVzJzQixnQkFBNEIsQ0FDM0VwdUIsSUFBSU0sRUFBUTIwQixFQUFVeHpCLFdBQ3RCZytCLEdBQWU3UCxFQUFNdHZCLEdBQU8sR0FDNUI5RSxZQUFXLFdBQUcsT0FBR2lrQyxHQUFlN1AsRUFBTXR2QixHQUFPLEtBQVEsTUFtQzlDMC9CLENBQW1CcFEsSUFBU3lQLEdBQWlCelAsRUFBTSxFQUFHNE8sSUFBU1UsR0FBc0J0UCxHQUNuRjRPLElBQVM5UCxHQUFRbkMsSUFBTSxJQUFNLE9BQ3BCLElBQVIwQyxHQUFzQixJQUFSQSxHQUFzQixJQUFSQSxHQUFzQixJQUFSQSxJUjVQakQsU0FBU2dSLEdBQWlCclEsRUFBTXI0QixHQUNyQ3lJLElBRytCdzBCLEVBQVMxTSxFQUhwQ3lHLEVBQVNxQixFQUFLcUMsS0FBSzRDLGVBQWdCOXZCLEVBQU02cUIsRUFBS3ZrQixNQUFNdEcsSUFDcEQ0dEIsRUFBYy9DLEVBQUs4QyxRQUFRQyxZQUFZcEUsRUFBTzBHLFdBQVlpTCxFQUFXdk4sR0FBbUMsR0FBcEJBLEVBQVlqekIsS0FDaEdrVixFQUFPZ2IsRUFBSzhDLFFBQVFJLFdBQVd2RSxFQUFPMEcsVUFBVzFHLEVBQU80RyxhQUN4RDNNLEVBQVF6akIsRUFBSTRCLFFBQVFpTyxHQUN4QixHQUFJMFosR0FBbUJDLEdBQVMsQ0FFOUIsSUFEQWlHLEVBQVVoTSxFQUNIbUssSUFBZ0JBLEVBQVkxeEIsTUFBTTB4QixFQUFjQSxFQUFZbjVCLE9BQ25FLEdBQUltNUIsR0FBZUEsRUFBWTF4QixLQUFLcUgsUUFBVSxHQUFjbzJCLGFBQWEvTCxFQUFZMXhCLE9BQVMweEIsRUFBWW41QixVQUNqR201QixFQUFZMXhCLEtBQUtpRixXS3dDdkIsU0FBa0JqRixFQUFNb0QsRUFBUTdLLEdBQ3JDLElBQUt3RyxJQUFJNnBCLEVBQW9CLEdBQVZ4bEIsRUFBYXV3QixFQUFRdndCLEdBQVVwRSxHQUFTZ0IsR0FBTzRvQixHQUFXK0ssR0FBUSxDQUNuRixHQUFJM3pCLEdBQVF6SCxFQUFRLE9BQU8sRUFDM0J3RyxJQUFJZ0MsRUFBUXNyQixHQUFTcnNCLEdBRXJCLEtBREFBLEVBQU9BLEVBQUt4RCxZQUNELE9BQU8sRUFDbEJvc0IsRUFBVUEsR0FBb0IsR0FBVDduQixFQUNyQjR5QixFQUFRQSxHQUFTNXlCLEdBQVMvQixHQUFTZ0IsSUwvQ0drL0IsQ0FBUzVSLEVBQU8wRyxVQUFXMUcsRUFBTzRHLFlBQWF4QyxFQUFZcmhCLE1BQU8sQ0FDdEd0UixJQUFJSyxFQUFNc3lCLEVBQVlDLFVBQ3RCOUssRUFBWSxJQUFJLEdBQWNsVCxHQUFRdlUsRUFBTW1vQixFQUFRempCLEVBQUk0QixRQUFRdEcsVUFHbEVtMEIsRUFBVXp2QixFQUFJNEIsUUFBUWlwQixFQUFLOEMsUUFBUUksV0FBV3ZFLEVBQU84SSxXQUFZOUksRUFBTytJLGVBR3JFeFAsSUFFSEEsRUFBWXNZLEdBQWlCeFEsRUFBTTRFLEVBQVNoTSxFQUR2QixXQUFWanhCLEdBQXdCcTRCLEVBQUt2a0IsTUFBTXljLFVBQVVsVCxLQUFPNFQsRUFBTW5vQixNQUFRNi9CLEVBQVksR0FBSyxJQUdoRyxPQUFPcFksRUFHRixTQUFTdVksR0FBZXpRLEVBQU1zSCxHQUNuQ2wzQixJQUFJdTBCLEVBQU0zRSxFQUFLdmtCLE1BQU15YyxVQUdyQixHQUZBd1ksR0FBa0IxUSxFQUFNMkUsR0FFcEIzRSxFQUFLMlEsU0FBWTNRLEVBQUs0USxXQUFlQyxHQUFhN1EsSUFBU3g0QixTQUFTMjhCLGNBQWNsYSxTQUFTK1YsRUFBS3RlLEtBQXBHLENBSUEsR0FGQXNlLEVBQUt1UCxZQUFZdUIsc0JBRWI5USxFQUFLK1EsZUFvRVgsU0FBNkIvUSxHQUMzQjV2QixJQUFJdXVCLEVBQVNxQixFQUFLcUMsS0FBSzRDLGVBQWdCelQsRUFBUWhxQixTQUFTcTJCLGNBQ3BEeHNCLEVBQU8ydUIsRUFBSytRLGNBQWNydkIsSUFBS3N2QixFQUF1QixPQUFqQjMvQixFQUFLd1csU0FDMUNtcEIsRUFBS3hmLEVBQU1zTSxPQUFPenNCLEVBQUt4RCxXQUFZNnZCLEdBQVNyc0IsR0FBUSxHQUNuRG1nQixFQUFNc00sT0FBT3pzQixFQUFNLEdBQ3hCbWdCLEVBQU1vVyxVQUFTLEdBQ2ZqSixFQUFPZ0gsa0JBQ1BoSCxFQUFPaUgsU0FBU3BVLElBTVh3ZixJQUFRaFIsRUFBS3ZrQixNQUFNeWMsVUFBVStZLFNBQVduUyxHQUFRbEMsSUFBTWtDLEdBQVFqQyxZQUFjLEtBQy9FeHJCLEVBQUt6RCxVQUFXLEVBQ2hCeUQsRUFBS3pELFVBQVcsR0FsRmhCc2pDLENBQW9CbFIsT0FDZixDQUNMLElBQTBCbVIsRUFBbUJDLEVBQTdDLFdBQWFwc0IsRUFBQSxFQUFBQSxNQUNUcXNCLElBQW1DMU0sYUFBZSxLQUMvQ0EsRUFBSWh3QixNQUFNL0ssT0FBTytNLGdCQUNwQnc2QixFQUFvQkcsR0FBd0J0UixFQUFNMkUsRUFBSXIzQixPQUNuRHEzQixFQUFJenlCLE9BQVV5eUIsRUFBSWh3QixNQUFNL0ssT0FBTytNLGdCQUNsQ3k2QixFQUFrQkUsR0FBd0J0UixFQUFNMkUsRUFBSXAwQixNQUV4RHl2QixFQUFLOEMsUUFBUXZLLGFBQWE4TyxFQUFRcmlCLEVBQU1nYixFQUFLcUMsS0FBTWlGLEdBQy9DK0osS0FDRUYsR0FBbUJJLEdBQWNKLEdBQ2pDQyxHQUFpQkcsR0FBY0gsSUFFakN6TSxFQUFJc00sUUFDTmpSLEVBQUt0ZSxJQUFJOG1CLFVBQVVwNUIsT0FBTyw2QkFDakJpNEIsR0FBVXJpQixJQUNuQmdiLEVBQUt0ZSxJQUFJOG1CLFVBQVVoZCxJQUFJLDZCQUNuQixzQkFBdUJoa0IsVUFvQ2pDLFNBQXNDdzRCLEdBQ3BDNXZCLElBQUkrRSxFQUFNNnFCLEVBQUt0ZSxJQUFJa0gsY0FDbkJ6VCxFQUFJcThCLG9CQUFvQixrQkFBbUJ4UixFQUFLeVIsb0JBQ2hEcmhDLElBQUl1dUIsRUFBU3FCLEVBQUtxQyxLQUFLNEMsZUFDbkI1ekIsRUFBT3N0QixFQUFPOEksV0FBWWh6QixFQUFTa3FCLEVBQU8rSSxhQUM5Q3Z5QixFQUFJbk4saUJBQWlCLGtCQUFtQmc0QixFQUFLeVIsbUJBQXFCLFdBQzVEOVMsRUFBTzhJLFlBQWNwMkIsR0FBUXN0QixFQUFPK0ksY0FBZ0JqekIsSUFDdERVLEVBQUlxOEIsb0JBQW9CLGtCQUFtQnhSLEVBQUt5UixvQkFDaER6UixFQUFLdGUsSUFBSThtQixVQUFVcDVCLE9BQU8sZ0NBNUNXc2lDLENBQTZCMVIsSUFJdEVBLEVBQUt1UCxZQUFZQyxrQkFDakJ4UCxFQUFLdVAsWUFBWW9DLG9CT2c2Qm5CLGFBQUVDLFlBQUEsU0FBWXgvQixHQUNWLE9BQU9BLEdBQVM1TCxLQUFLNm5DLGVBQWlCN25DLEtBQUs0bkMsV0FBV2g4QixFQUFRNUwsS0FBSzZuQyxnQkFBa0IsTUFLekYsYUFBRXdELGVBQUEsU0FBZWpoQyxFQUFPRCxHQUNwQixHQUFJQyxHQUFTRCxFQUFiLENBQ0YsSUFBT1AsSUFBSS9MLEVBQUl1TSxFQUFPdk0sRUFBSXNNLEVBQUt0TSxJQUFLbUMsS0FBS3VnQixJQUFJaGIsU0FBUzFILEdBQUdpaUMsVUFDdkQ5L0IsS0FBS3VnQixJQUFJaGIsU0FBU3NELE9BQU91QixFQUFPRCxFQUFNQyxHQUN0Q3BLLEtBQUsra0MsU0FBVSxJQUluQixhQUFFRCxZQUFBLFdBQ0U5a0MsS0FBS3FyQyxlQUFlcnJDLEtBQUs0TCxNQUFPNUwsS0FBS3VnQixJQUFJaGIsU0FBUzVDLFNBTXRELGFBQUU4aEMsWUFBQSxTQUFZdDFCLEVBQU9rSSxFQUFRbWlCLEdBRzNCLElBRkU1dkIsSUFBSWliLEVBQU8sRUFBR3JXLEVBQVF4TyxLQUFLeTZCLE1BQU05M0IsUUFBVSxFQUN2QzJvQyxFQUFVcGpDLEtBQUtvQyxJQUFJa0UsRUFBT1csRUFBTXhNLFFBQzdCa2lCLEVBQU95bUIsSUFDTnptQixHQUFRclcsRUFBUSxFQUFJeE8sS0FBS3VnQixJQUFNdmdCLEtBQUt5NkIsTUFBTzVWLEVBQU8sR0FBTSxJQUFJMmEsWUFBWXJ3QixFQUFNMFYsTUFBNkMsSUFBbkMxVixFQUFNMFYsR0FBTXhoQixLQUFLbU0sS0FBS3VWLFVBQ3BIRixJQUVGLEtBQU9BLEVBQU9yVyxHQUNkLEtBQU9zMkIsY0FDTDlrQyxLQUFLdWdCLElBQUkrZSxNQXI2QkcsRUFzNkJkLEtBQU8xekIsTUFBUTVMLEtBQUt5NkIsTUFBTWpqQixNQUMxQixLQUFPK0ksSUFBTXZnQixLQUFLeTZCLE1BQU1qakIsTUFDdEJoSixJQUVGLEtBQU9BLEVBQVFXLEVBQU14TSxRQUFRLENBQzNCM0MsS0FBS3k2QixNQUFNdDNCLEtBQUtuRCxLQUFLdWdCLElBQUt2Z0IsS0FBSzRMLE1BQVEsR0FFdkMsSUFEQWhDLElBQUlyQixHQUFTLEVBQ0oxSyxFQUFJbUMsS0FBSzRMLE1BQU8vTixFQUFJcUssS0FBS29DLElBQUl0SyxLQUFLNEwsTUFBUSxFQUFHNUwsS0FBS3VnQixJQUFJaGIsU0FBUzVDLFFBQVM5RSxJQUNqRixHQUFNbUMsS0FBS3VnQixJQUFJaGIsU0FBUzFILEdBQUcyaEMsWUFBWXJ3QixFQUFNWCxJQUFTLENBQUVqRyxFQUFRMUssRUFBRyxNQUVuRSxHQUFJMEssR0FBUyxFQUNQQSxFQUFRdkksS0FBSzRMLFFBQ2Y1TCxLQUFLK2tDLFNBQVUsRUFDakIsS0FBT3NHLGVBQWVyckMsS0FBSzRMLE1BQU9yRCxJQUVsQ3ZJLEtBQUt1Z0IsSUFBTXZnQixLQUFLdWdCLElBQUloYixTQUFTdkYsS0FBSzRMLFdBQzdCLENBQ1AsSUFBTTIvQixFQUFXLEdBQWFwc0MsT0FBT2EsS0FBS3VnQixJQUFLcFIsRUFBTVgsR0FBUTZJLEVBQVFtaUIsR0FDbkV4NUIsS0FBS3VnQixJQUFJaGIsU0FBU3NELE9BQU83SSxLQUFLNEwsTUFBTyxFQUFHMi9CLEdBQ3hDdnJDLEtBQUt1Z0IsSUFBTWdyQixFQUNYdnJDLEtBQUsra0MsU0FBVSxFQUVqQi9rQyxLQUFLNEwsTUFBUSxFQUNiNEMsTUFPTixhQUFFbTJCLGNBQUEsU0FBYzk1QixFQUFNODNCLEVBQVdDLEVBQVdoM0IsR0FDeENoQyxJQUFJckIsR0FBUyxFQUFHby9CLEVBQVcvN0IsRUFBUSxPQUFJcEQsRUFBWXhJLEtBQUtvckMsWUFBWXgvQixHQUFRckcsRUFBV3ZGLEtBQUt1Z0IsSUFBSWhiLFNBQ2hHLEdBQUlvaUMsR0FBWUEsRUFBU2xJLFlBQVk1MEIsRUFBTTgzQixFQUFXQyxHQUNwRHI2QixFQUFRaEQsRUFBU3VQLFFBQVE2eUIsUUFFekIsSUFBSy85QixJQUFJL0wsRUFBSW1DLEtBQUs0TCxNQUFPcWUsRUFBSS9oQixLQUFLb0MsSUFBSS9FLEVBQVM1QyxPQUFROUUsRUFBSSxHQUFJQSxFQUFJb3NCLEVBQUdwc0IsSUFBSyxDQUN6RStMLElBQUlNLEVBQVEzRSxFQUFTMUgsR0FDdkIsR0FBTXFNLEVBQU11MUIsWUFBWTUwQixFQUFNODNCLEVBQVdDLElBQWM1aUMsS0FBSzRuQyxXQUFXOXlCLFFBQVE1SyxHQUFTLEVBQUcsQ0FDekYsRUFBVXJNLEVBQ1IsT0FJTixRQUFJMEssRUFBUSxLQUNkLEtBQU84aUMsZUFBZXJyQyxLQUFLNEwsTUFBT3JELEdBQ2xDLEtBQU9xRCxTQUNFLElBTVgsYUFBRWc1QixlQUFBLFNBQWUvNUIsRUFBTTgzQixFQUFXQyxFQUFXcEosRUFBTTV0QixHQUMvQyxHQUFJNUwsS0FBSzRMLE9BQVM1TCxLQUFLdWdCLElBQUloYixTQUFTNUMsT0FBUSxPQUFPLEVBQ25EaUgsSUFBSW1HLEVBQU8vUCxLQUFLdWdCLElBQUloYixTQUFTdkYsS0FBSzRMLE9BQ2xDLEdBQUltRSxhQUFnQixHQUFjLENBQ2xDLElBQU00M0IsRUFBVzNuQyxLQUFLNG5DLFdBQVc5eUIsUUFBUS9FLEdBQ3ZDLEdBQUk0M0IsR0FBWSxHQUFLQSxFQUFXM25DLEtBQUs2bkMsZ0JBQWtCajhCLEVBQU8sT0FBTyxFQUNyRWhDLElBQUk0aEMsRUFBVXo3QixFQUFLbUwsSUFRbkIsS0FIYWxiLEtBQUswbkMsT0FBUzhELEdBQVd4ckMsS0FBSzBuQyxNQUE0QixHQUFwQjhELEVBQVE5M0IsVUFBaUI4M0IsRUFBUS9uQixTQUFTempCLEtBQUswbkMsS0FBS3JnQyxnQkFDakd3RCxFQUFLQyxRQUFVaUYsRUFBS2xGLE1BQVFrRixFQUFLbEYsS0FBS0MsUUFBVWlGLEVBQUt1d0IsUUFBUXBmLFdBQWFyVyxFQUFLRixNQXQrQnJCLEdBdStCMURvRixFQUFLdXZCLE9BQXVCZ0UsR0FBY1gsRUFBVzV5QixFQUFLNHlCLGNBQ2pENXlCLEVBQUt0SCxPQUFPb0MsRUFBTTgzQixFQUFXQyxFQUFXcEosR0FHckQsT0FGSXpwQixFQUFLbUwsS0FBT3N3QixJQUFTeHJDLEtBQUsra0MsU0FBVSxHQUMxQyxLQUFPbjVCLFNBQ0UsRUFHWCxPQUFPLEdBS1gsYUFBRTBrQixRQUFBLFNBQVF6bEIsRUFBTTgzQixFQUFXQyxFQUFXcEosRUFBTXZ2QixHQUN4Q2pLLEtBQUt1Z0IsSUFBSWhiLFNBQVNzRCxPQUFPN0ksS0FBSzRMLFFBQVMsRUFBRyxHQUFhek0sT0FBT2EsS0FBS3VnQixJQUFLMVYsRUFBTTgzQixFQUFXQyxFQUFXcEosRUFBTXZ2QixJQUMxR2pLLEtBQUsra0MsU0FBVSxHQUduQixhQUFFTCxZQUFBLFNBQVk1QyxFQUFRdEksRUFBTXZ2QixHQUN4QixHQUFJakssS0FBSzRMLE1BQVE1TCxLQUFLdWdCLElBQUloYixTQUFTNUMsUUFBVTNDLEtBQUt1Z0IsSUFBSWhiLFNBQVN2RixLQUFLNEwsT0FBTzJ6QixjQUFjdUMsR0FDekYsS0FBT2wyQixZQUNBLENBQ0xoQyxJQUFJd3BCLEVBQU8sSUFBSXlPLEdBQWU3aEMsS0FBS3VnQixJQUFLdWhCLEVBQVF0SSxFQUFNdnZCLEdBQ3REakssS0FBS3VnQixJQUFJaGIsU0FBU3NELE9BQU83SSxLQUFLNEwsUUFBUyxFQUFHd25CLEdBQzFDcHpCLEtBQUsra0MsU0FBVSxJQU1yQixhQUFFRixrQkFBQSxXQUVFLElBREFqN0IsSUFBSXVCLEVBQVluTCxLQUFLdWdCLElBQUloYixTQUFTdkYsS0FBSzRMLE1BQVEsR0FDeENULGFBQXFCLElBQWNBLEVBQVlBLEVBQVU1RixTQUFTNEYsRUFBVTVGLFNBQVM1QyxPQUFTLEdBRXZHLElBQU93SSxLQUNDQSxhQUFxQmc0QixLQUN6QixNQUFRdHJCLEtBQUsxTSxFQUFVTixLQUFLRixNQUM5QixHQUFNM0ssS0FBSzRMLE1BQVE1TCxLQUFLdWdCLElBQUloYixTQUFTNUMsUUFBVTNDLEtBQUt1Z0IsSUFBSWhiLFNBQVN2RixLQUFLNEwsT0FBTzh6QixjQUMzRSxLQUFPOXpCLFlBQ0EsQ0FDUCxJQUFNc1AsRUFBTWxhLFNBQVNxRixjQUFjLE1BQ2pDckcsS0FBS3VnQixJQUFJaGIsU0FBU3NELE9BQU83SSxLQUFLNEwsUUFBUyxFQUFHLElBQUlnN0IsR0FBZTVtQyxLQUFLdWdCLElBQUtxaEIsR0FBUzFtQixFQUFLLE9BQ3JGbGIsS0FBSytrQyxTQUFVLElQbGlDdkIvMkIsSUFBTTY4QixHQUFnQ3ZTLEdBQVF2QixRQUFVdUIsR0FBUTdCLFFBQVU2QixHQUFRNUIsZUFBaUIsR0FFbkcsU0FBU29VLEdBQXdCdFIsRUFBTXZ2QixHQUNyQyxNQUFxQnV2QixFQUFLOEMsUUFBUVcsV0FBV2h6QixHQUF4Q1ksRUFBQSxFQUFBQSxLQUFNb0QsRUFBQSxFQUFBQSxPQUNQYyxFQUFRZCxFQUFTcEQsRUFBS2dZLFdBQVdsZ0IsT0FBU2tJLEVBQUtnWSxXQUFXNVUsR0FBVSxLQUNwRWEsRUFBU2IsRUFBU3BELEVBQUtnWSxXQUFXNVUsRUFBUyxHQUFLLEtBQ3BELEdBQUlxcUIsR0FBUXZCLFFBQVVob0IsR0FBa0MsU0FBekJBLEVBQU1pcEIsZ0JBQTRCLE9BQU95VCxHQUFZMThCLEdBQ3BGLEtBQU1BLEdBQWtDLFNBQXpCQSxFQUFNaXBCLGlCQUFpQ2xwQixHQUFvQyxTQUExQkEsRUFBT2twQixpQkFBNkIsQ0FDbEcsR0FBSWpwQixFQUFPLE9BQU8wOEIsR0FBWTE4QixHQUN6QixHQUFJRCxFQUFRLE9BQU8yOEIsR0FBWTM4QixJQUl4QyxTQUFTMjhCLEdBQVl2a0MsR0FHbkIsT0FGQUEsRUFBUTh3QixnQkFBa0IsT0FDdEJNLEdBQVF2QixRQUFVN3ZCLEVBQVE4N0IsWUFBYTk3QixFQUFRODdCLFdBQVksRUFBTzk3QixFQUFRd2tDLGNBQWUsR0FDdEZ4a0MsRUFHVCxTQUFTNmpDLEdBQWM3akMsR0FDckJBLEVBQVE4d0IsZ0JBQWtCLFFBQ3RCOXdCLEVBQVF3a0MsZUFBZ0J4a0MsRUFBUTg3QixXQUFZLEVBQU05N0IsRUFBUXdrQyxhQUFlLE1BbUN4RSxTQUFTeEIsR0FBa0IxUSxFQUFNMkUsR0FDdEMsR0FBSUEsYUFBZSxHQUFlLENBQ2hDdjBCLElBQUl3cEIsRUFBT29HLEVBQUs4QyxRQUFRaUUsT0FBT3BDLEVBQUlyM0IsTUFDL0Jzc0IsR0FBUW9HLEVBQUttUyx1QkFDZkMsR0FBbUJwUyxHQUNmcEcsR0FBTUEsRUFBS29ULGFBQ2ZoTixFQUFLbVMscUJBQXVCdlksUUFHOUJ3WSxHQUFtQnBTLEdBS3ZCLFNBQVNvUyxHQUFtQnBTLEdBQ3RCQSxFQUFLbVMsdUJBQ0huUyxFQUFLbVMscUJBQXFCdm9DLFFBQzVCbzJCLEVBQUttUyxxQkFBcUJsRixlQUM1QmpOLEVBQUttUyxxQkFBdUIsTUFJekIsU0FBUzNCLEdBQWlCeFEsRUFBTTRFLEVBQVNoTSxFQUFPd0ssR0FDckQsT0FBT3BELEVBQUtJLFNBQVMsMEJBQTBCLFNBQUF4d0IsR0FBRSxPQUFHQSxFQUFFb3dCLEVBQU00RSxFQUFTaE0sT0FDaEUsR0FBY3laLFFBQVF6TixFQUFTaE0sRUFBT3dLLEdBUXRDLFNBQVN5TixHQUFhN1EsR0FDM0I1dkIsSUFBSXUwQixFQUFNM0UsRUFBS3FDLEtBQUs0QyxlQUNwQixJQUFLTixFQUFJOEMsV0FBWSxPQUFPLEVBQzVCLElBSUUsT0FBT3pILEVBQUt0ZSxJQUFJdUksU0FBb0MsR0FBM0IwYSxFQUFJOEMsV0FBV3Z0QixTQUFnQnlxQixFQUFJOEMsV0FBVzU1QixXQUFhODJCLEVBQUk4QyxjQUNyRnpILEVBQUsyUSxVQUFZM1EsRUFBS3RlLElBQUl1SSxTQUFtQyxHQUExQjBhLEVBQUlVLFVBQVVuckIsU0FBZ0J5cUIsRUFBSVUsVUFBVXgzQixXQUFhODJCLEVBQUlVLFlBQ25HLE1BQU10ckIsR0FDTixPQUFPLEdTL0dYLFNBQVNzTyxHQUFhM0csR0FDcEJ0UixJQUFJd3BCLEVBQU9sWSxFQUFJK2MsV0FDZixHQUFJN0UsRUFDRixPQUFPQSxFQUFLd00sWUFDUCxHQUFvQixNQUFoQjFrQixFQUFJbUcsVUFBb0JuRyxFQUFJN1QsV0FBWSxDQUlqRCxHQUFJaXhCLEdBQVF2QixRQUFVLGFBQWFsZixLQUFLcUQsRUFBSTdULFdBQVdnYSxVQUFXLENBQ2hFelgsSUFBSW1ZLEVBQU8vZ0IsU0FBU3FGLGNBQWMsT0FFbEMsT0FEQTBiLEVBQUtsYixZQUFZN0YsU0FBU3FGLGNBQWMsT0FDakMsQ0FBQzBiLFFBQ0gsR0FBSTdHLEVBQUk3VCxXQUFXOEQsV0FBYStQLEdBQU9vZCxHQUFRdkIsUUFBVSxnQkFBZ0JsZixLQUFLcUQsRUFBSTdULFdBQVdnYSxVQUNsRyxNQUFPLENBQUNTLFFBQVEsUUFFYixHQUFvQixPQUFoQjVHLEVBQUltRyxVQUFxQm5HLEVBQUl3RixhQUFhLG9CQUNuRCxNQUFPLENBQUNvQixRQUFRLEdBSWIsU0FBU2dxQixHQUFjdFMsRUFBTTF5QixFQUFNaUQsRUFBSWdpQyxFQUFVQyxHQUN0RCxHQUFJbGxDLEVBQU8sRUFBWCxDQUNFOEMsSUFBSXpJLEVBQVNxNEIsRUFBS3lTLGtCQUFvQm5rQyxLQUFLRyxNQUFRLEdBQUt1eEIsRUFBSzBTLG9CQUFzQixLQUMvRUMsRUFBU3RDLEdBQWlCclEsRUFBTXI0QixHQUNwQyxJQUFLcTRCLEVBQUt2a0IsTUFBTXljLFVBQVU1bEIsR0FBR3FnQyxHQUFTLENBQ3BDdmlDLElBQUk0cEIsRUFBS2dHLEVBQUt2a0IsTUFBTXVlLEdBQUd6QixhQUFhb2EsR0FDdEIsV0FBVmhyQyxFQUFxQnF5QixFQUFHVixRQUFRLFdBQVcsR0FDNUIsT0FBVjN4QixHQUFpQnF5QixFQUFHUCxpQkFDN0J1RyxFQUFLME8sU0FBUzFVLFFBUGxCLENBWUE1cEIsSUFBSXdpQyxFQUFVNVMsRUFBS3ZrQixNQUFNdEcsSUFBSTRCLFFBQVF6SixHQUNqQ3VsQyxFQUFTRCxFQUFRcDhCLFlBQVlqRyxHQUNqQ2pELEVBQU9zbEMsRUFBUXQ5QixPQUFPdTlCLEVBQVMsR0FDL0J0aUMsRUFBS3l2QixFQUFLdmtCLE1BQU10RyxJQUFJNEIsUUFBUXhHLEdBQUlnRixNQUFNczlCLEVBQVMsR0FFL0N6aUMsSUFJSTBpQyxFQUFjQyxFQUpkcE8sRUFBTTNFLEVBQUt2a0IsTUFBTXljLFVBQ2pCcHdCLEVBakZOLFNBQXNCazRCLEVBQU1nVCxFQUFPQyxHQUNqQyxNQUFxRGpULEVBQUs4QyxRQUFRa0UsV0FBV2dNLEVBQU9DLEdBQXpFcnBDLEVBQUEsT0FBUXE5QixFQUFBLEVBQUFBLFdBQVlDLEVBQUEsRUFBQUEsU0FBVTU1QixFQUFBLEVBQUFBLEtBQU1pRCxFQUFBLEVBQUFBLEdBRTNDb3VCLEVBQVNxQixFQUFLcUMsS0FBSzRDLGVBQWdCeDNCLEVBQU8sS0FBTTQ1QixFQUFTMUksRUFBTzhJLFdBUXBFLEdBUElKLEdBQVVySCxFQUFLdGUsSUFBSXVJLFNBQTRCLEdBQW5Cb2QsRUFBT250QixTQUFnQm10QixFQUFTQSxFQUFPeDVCLGNBQ3JFSixFQUFPLENBQUMsQ0FBQzRELEtBQU1nMkIsRUFBUTV5QixPQUFRa3FCLEVBQU8rSSxlQUNqQ2hKLEdBQW1CQyxJQUN0Qmx4QixFQUFLOUQsS0FBSyxDQUFDMEgsS0FBTXN0QixFQUFPMEcsVUFBVzV3QixPQUFRa3FCLEVBQU80RyxlQUlsRHpHLEdBQVE3QixRQUErQixJQUFyQitDLEVBQUtrVCxZQUN6QixJQUFLOWlDLElBQUk2dEIsRUFBTWlKLEVBQVVqSixFQUFNZ0osRUFBWWhKLElBQU8sQ0FDaEQ3dEIsSUFBSWlCLEVBQU96SCxFQUFPeWYsV0FBVzRVLEVBQU0sR0FBSXJFLEVBQU92b0IsRUFBS290QixXQUNuRCxHQUFxQixNQUFqQnB0QixFQUFLNkksV0FBcUIwZixFQUFNLENBQUVzTixFQUFXakosRUFBSyxNQUN0RCxJQUFLckUsR0FBUUEsRUFBSzlwQixLQUFNLE1BRzVCTSxJQUFJK2lDLEVBQVduVCxFQUFLdmtCLE1BQU10RyxJQUN0QmdSLEVBQVM2WixFQUFLSSxTQUFTLGNBQWdCamYsR0FBVTBCLFdBQVdtZCxFQUFLdmtCLE1BQU14SCxRQUN2RVUsRUFBUXcrQixFQUFTcDhCLFFBQVF6SixHQUV6QnEzQixFQUFNLEtBQU14dkIsRUFBTWdSLEVBQU9yZSxNQUFNOEIsRUFBUSxDQUN6Q3dXLFFBQVN6TCxFQUFNL0ssT0FDZjRjLFNBQVU3UixFQUFNL0ssT0FBT2lQLGVBQWVsRSxFQUFNdkMsU0FDNUMyWCxTQUFTLEVBQ1R6YyxLQUFNMjVCLEVBQ04xMkIsR0FBSTIyQixFQUNKN2hCLG9CQUFvQjFRLEVBQU0vSyxPQUFPQyxLQUFLbU0sS0FBS3FwQixNQUFPLE9BQ2xEK1QsaUJBQWlCLEVBQ2pCM3NCLGNBQWVoWixFLGFBQ2Y0YSxHQUNBMUcsUUFBU2hOLElBRVgsR0FBSWxILEdBQXVCLE1BQWZBLEVBQUssR0FBR2dELElBQWEsQ0FDL0JMLElBQUlpM0IsRUFBUzU1QixFQUFLLEdBQUdnRCxJQUFLdVUsRUFBT3ZYLEVBQUssSUFBTUEsRUFBSyxHQUFHZ0QsSUFDeEMsTUFBUnVVLElBQWNBLEVBQU9xaUIsR0FDekIxQyxFQUFNLENBQUMwQyxPQUFRQSxFQUFTLzVCLEVBQU0wWCxLQUFNQSxFQUFPMVgsR0FFN0MsTUFBTyxDQUFDNkgsTUFBS3d2QixNQUFLcjNCLE9BQU1pRCxNQTBDWjhpQyxDQUFhclQsRUFBTTF5QixFQUFNaUQsR0FFakM0RSxFQUFNNnFCLEVBQUt2a0IsTUFBTXRHLElBQUttK0IsRUFBVW4rQixFQUFJM0gsTUFBTTFGLEVBQU13RixLQUFNeEYsRUFBTXlJLElBR3ZDLElBQXJCeXZCLEVBQUtrVCxhQUFxQjVrQyxLQUFLRyxNQUFRLElBQU11eEIsRUFBS3VULGlCQUNwRFQsRUFBZTlTLEVBQUt2a0IsTUFBTXljLFVBQVUzbkIsR0FDcEN3aUMsRUFBZ0IsUUFFaEJELEVBQWU5UyxFQUFLdmtCLE1BQU15YyxVQUFVNXFCLEtBQ3BDeWxDLEVBQWdCLFNBRWxCL1MsRUFBS2tULFlBQWMsS0FFbkI5aUMsSUFBSW9qQyxFQWdMTixTQUFrQjdnQyxFQUFHQyxFQUFHbkMsRUFBS3FpQyxFQUFjQyxHQUN6QzNpQyxJQUFJUSxFQUFRK0IsRUFBRUQsY0FBY0UsRUFBR25DLEdBQy9CLEdBQWEsTUFBVEcsRUFBZSxPQUFPLEtBQzFCLE1BQXlCK0IsRUFBRU0sWUFBWUwsRUFBR25DLEVBQU1rQyxFQUFFN0MsS0FBTVcsRUFBTW1DLEVBQUU5QyxNQUF4RDJqQyxFQUFBLElBQVNDLEVBQUEsSUFDakIsR0FBcUIsT0FBakJYLEVBQXdCLENBQzFCM2lDLElBQUl1akMsRUFBU2psQyxLQUFLbUMsSUFBSSxFQUFHRCxFQUFRbEMsS0FBS29DLElBQUkyaUMsRUFBTUMsSUFDaERaLEdBQWdCVyxFQUFPRSxFQUFTL2lDLEVBRWxDLEdBQUk2aUMsRUFBTzdpQyxHQUFTK0IsRUFBRTdDLEtBQU84QyxFQUFFOUMsS0FBTSxDQUduQzRqQyxHQURBOWlDLEdBRFdraUMsR0FBZ0JsaUMsR0FBU2tpQyxHQUFnQlcsRUFBTzdpQyxFQUFRa2lDLEVBQWUsSUFFbEVZLEVBQU9ELEdBQ3ZCQSxFQUFPN2lDLE9BQ0YsR0FBSThpQyxFQUFPOWlDLEVBQU8sQ0FHdkI2aUMsR0FEQTdpQyxHQURXa2lDLEdBQWdCbGlDLEdBQVNraUMsR0FBZ0JZLEVBQU85aUMsRUFBUWtpQyxFQUFlLElBRWxFVyxFQUFPQyxHQUN2QkEsRUFBTzlpQyxFQUVULE1BQU8sQ0FBQ0EsUUFBTzZpQyxPQUFNQyxRQW5NUkUsQ0FBU04sRUFBUXRuQyxRQUFTbEUsRUFBTXFOLElBQUluSixRQUFTbEUsRUFBTXdGLEtBQU13bEMsRUFBY0MsR0FDcEYsSUFBS1MsRUFBUSxDQUNYLEtBQUlqQixHQUFZNU4sYUFBZSxLQUFrQkEsRUFBSXp5QixPQUFTeXlCLEVBQUkvTCxNQUFNL2hCLFdBQVc4dEIsRUFBSUMsV0FDbEY1RSxFQUFLZ0ssV0FBZWxpQyxFQUFNNjhCLEtBQU83OEIsRUFBTTY4QixJQUFJMEMsUUFBVXYvQixFQUFNNjhCLElBQUkzZixLQUU3RCxDQUNMLEdBQUlsZCxFQUFNNjhCLElBQUssQ0FDYnYwQixJQUFJdTBCLEVBQU1rUCxHQUFpQjdULEVBQU1BLEVBQUt2a0IsTUFBTXRHLElBQUtyTixFQUFNNjhCLEtBQ25EQSxJQUFRQSxFQUFJcnlCLEdBQUcwdEIsRUFBS3ZrQixNQUFNeWMsWUFBWThILEVBQUswTyxTQUFTMU8sRUFBS3ZrQixNQUFNdWUsR0FBR3pCLGFBQWFvTSxJQUVyRixPQU5BNk8sRUFBUyxDQUFDNWlDLE1BQU8rekIsRUFBSXIzQixLQUFNbW1DLEtBQU05TyxFQUFJcDBCLEdBQUltakMsS0FBTS9PLEVBQUlwMEIsSUFTdkR5dkIsRUFBSzhULGlCQUlEOVQsRUFBS3ZrQixNQUFNeWMsVUFBVTVxQixLQUFPMHlCLEVBQUt2a0IsTUFBTXljLFVBQVUzbkIsSUFDakRpakMsRUFBTzVpQyxPQUFTNGlDLEVBQU9FLE1BQ3ZCMVQsRUFBS3ZrQixNQUFNeWMscUJBQXFCLEtBQzlCc2IsRUFBTzVpQyxNQUFRb3ZCLEVBQUt2a0IsTUFBTXljLFVBQVU1cUIsTUFBUWttQyxFQUFPNWlDLE9BQVNvdkIsRUFBS3ZrQixNQUFNeWMsVUFBVTVxQixLQUFPLEVBQzFGa21DLEVBQU81aUMsTUFBUW92QixFQUFLdmtCLE1BQU15YyxVQUFVNXFCLEtBQzNCa21DLEVBQU9DLEtBQU96VCxFQUFLdmtCLE1BQU15YyxVQUFVM25CLElBQU1pakMsRUFBT0MsTUFBUXpULEVBQUt2a0IsTUFBTXljLFVBQVUzbkIsR0FBSyxJQUMzRmlqQyxFQUFPRSxNQUFTMVQsRUFBS3ZrQixNQUFNeWMsVUFBVTNuQixHQUFLaWpDLEVBQU9DLEtBQ2pERCxFQUFPQyxLQUFPelQsRUFBS3ZrQixNQUFNeWMsVUFBVTNuQixLQU9uQ3V1QixHQUFRbEMsSUFBTWtDLEdBQVFqQyxZQUFjLElBQU0yVyxFQUFPRSxNQUFRRixFQUFPNWlDLE1BQVEsR0FDeEU0aUMsRUFBT0MsTUFBUUQsRUFBTzVpQyxPQUFTNGlDLEVBQU81aUMsTUFBUTlJLEVBQU13RixNQUNtQyxNQUF2RnhGLEVBQU1xTixJQUFJbkUsWUFBWXdpQyxFQUFPNWlDLE1BQVE5SSxFQUFNd0YsS0FBTyxFQUFHa21DLEVBQU81aUMsTUFBUTlJLEVBQU13RixLQUFPLEtBQ25Ga21DLEVBQU81aUMsUUFDUDRpQyxFQUFPQyxPQUNQRCxFQUFPRSxRQUdUdGpDLElBRUkyakMsRUFGQXAvQixFQUFRN00sRUFBTXFOLElBQUlvRCxlQUFlaTdCLEVBQU81aUMsTUFBUTlJLEVBQU13RixNQUN0RGdLLEVBQU14UCxFQUFNcU4sSUFBSW9ELGVBQWVpN0IsRUFBT0UsS0FBTzVyQyxFQUFNd0YsTUFJdkQsSUFBTXd4QixHQUFRM0IsS0FBTzZDLEVBQUtnVSxhQUFlMWxDLEtBQUtHLE1BQVEsT0FDOUNrRyxFQUFNa0MsV0FBV1MsSUFBUWs3QixFQUFXcG9CLE1BQUssU0FBQXRrQixHQUFFLE1BQWlCLE9BQWRBLEVBQUUraEIsZUFDakRsVCxFQUFNa0MsV0FBV1MsSUFBUTNDLEVBQU1sRSxJQUFNM0ksRUFBTXFOLElBQUluSixRQUFROEQsT0FDdkRpa0MsRUFBVSxHQUFVdEYsU0FBUzNtQyxFQUFNcU4sSUFBSTRCLFFBQVFwQyxFQUFNbEUsSUFBTSxHQUFJLEdBQUcsS0FDbkVzakMsRUFBUS91QixNQUFRMU4sRUFBSTdHLE1BQ3RCdXZCLEVBQUtJLFNBQVMsaUJBQWlCLFNBQUF4d0IsR0FBRSxPQUFHQSxFQUFFb3dCLEVBQU1mLEdBQVMsR0FBSSxhQUMzRGUsRUFBS2dVLGFBQWUsT0FJdEIsR0FBSWhVLEVBQUt2a0IsTUFBTXljLFVBQVVtUCxPQUFTbU0sRUFBTzVpQyxPQW1GM0MsU0FBdUJxakMsRUFBS3JqQyxFQUFPRCxFQUFLdWpDLEVBQVdDLEdBQ2pELElBQUtELEVBQVV0cUMsT0FBTzZPLGFBRWxCOUgsRUFBTUMsR0FBU3VqQyxFQUFRMWpDLElBQU15akMsRUFBVXpqQyxLQUV2QzJqQyxHQUFzQkYsR0FBVyxHQUFNLEdBQVNDLEVBQVExakMsSUFDMUQsT0FBTyxFQUVUTCxJQUFJbytCLEVBQVN5RixFQUFJbDlCLFFBQVFuRyxHQUV6QixHQUFJNDlCLEVBQU96NUIsYUFBZXk1QixFQUFPNWtDLE9BQU9vQyxRQUFROEQsT0FBUzArQixFQUFPNWtDLE9BQU82TyxZQUNyRSxPQUFPLEVBQ1RySSxJQUFJaWtDLEVBQVFKLEVBQUlsOUIsUUFBUXE5QixHQUFzQjVGLEdBQVEsR0FBTSxJQUU1RCxJQUFLNkYsRUFBTXpxQyxPQUFPNk8sYUFBZTQ3QixFQUFNNWpDLElBQU1FLEdBQ3pDeWpDLEdBQXNCQyxHQUFPLEdBQU0sR0FBUzFqQyxFQUM5QyxPQUFPLEVBR1QsT0FBT3VqQyxFQUFVdHFDLE9BQU9vQyxRQUFRZ0csSUFBSWtpQyxFQUFVbi9CLGNBQWN6QyxHQUFHK2hDLEVBQU16cUMsT0FBT29DLFNBckd4RXNvQyxDQUFjbi9CLEVBQUtxK0IsRUFBTzVpQyxNQUFPNGlDLEVBQU9DLEtBQU05K0IsRUFBTzJDLElBQ3JEMG9CLEVBQUtJLFNBQVMsaUJBQWlCLFNBQUF4d0IsR0FBRSxPQUFHQSxFQUFFb3dCLEVBQU1mLEdBQVMsRUFBRyxpQkFDdERILEdBQVExQixTQUFXMEIsR0FBUTdCLFFBQVErQyxFQUFLdVAsWUFBWWdGLCtCQUgxRCxDQU9BbmtDLElBRUk0cEIsRUFBSTVCLEVBQWFvYyxFQUFZQyxFQUY3QkMsRUFBU2xCLEVBQU81aUMsTUFBTytqQyxFQUFPbkIsRUFBT0MsS0FHekMsR0FBSTkrQixFQUFNa0MsV0FBV1MsSUFBUTNDLEVBQU0vSyxPQUFPK00sY0FDeEMsR0FBSWhDLEVBQU1sRSxLQUFPNkcsRUFBSTdHLElBR2ZxdUIsR0FBUWxDLElBQU1rQyxHQUFRakMsWUFBYyxJQUE0QixHQUF0QmxvQixFQUFNSSxlQUNsRGlyQixFQUFLdVAsWUFBWWdGLDJCQUNqQjNvQyxZQUFXLFdBQUcsT0FBRzZrQyxHQUFlelEsS0FBTyxLQUV6Q2hHLEVBQUtnRyxFQUFLdmtCLE1BQU11ZSxHQUFHN0QsT0FBT3VlLEVBQVFDLEdBQ2xDdmMsRUFBY2pqQixFQUFJNEIsUUFBUXk4QixFQUFPNWlDLE9BQU93RixZQUFZakIsRUFBSTRCLFFBQVF5OEIsRUFBT0MsWUFDbEUsR0FDTEQsRUFBT0MsTUFBUUQsRUFBT0UsT0FBU2UsRUFBU3QvQixFQUFJNEIsUUFBUXk4QixFQUFPNWlDLFVBQzFENGpDLEVBd0NQLFNBQXNCdDRCLEVBQUttZSxHQUd6QixJQUZBanFCLElBQzJDdkcsRUFBTW9PLEVBQU1oSixFQURuRDJsQyxFQUFXMTRCLEVBQUlySyxXQUFXOEQsTUFBT2svQixFQUFZeGEsRUFBS3hvQixXQUFXOEQsTUFDN0Q4ZixFQUFRbWYsRUFBVXBmLEVBQVVxZixFQUN2Qnh3QyxFQUFJLEVBQUdBLEVBQUl3d0MsRUFBVTFyQyxPQUFROUUsSUFBS294QixFQUFRb2YsRUFBVXh3QyxHQUFHOFIsY0FBY3NmLEdBQzlFLElBQUtybEIsSUFBSS9MLEVBQUksRUFBR0EsRUFBSXV3QyxFQUFTenJDLE9BQVE5RSxJQUFLbXhCLEVBQVVvZixFQUFTdndDLEdBQUc4UixjQUFjcWYsR0FDOUUsR0FBb0IsR0FBaEJDLEVBQU10c0IsUUFBaUMsR0FBbEJxc0IsRUFBUXJzQixPQUMvQjhPLEVBQU93ZCxFQUFNLEdBQ2I1ckIsRUFBTyxNQUNQb0YsRUFBUyxTQUFBb0MsR0FBSyxPQUFHQSxFQUFLNEcsS0FBS0EsRUFBS2lPLFNBQVM3VSxFQUFLc0UsYUFDekMsSUFBb0IsR0FBaEI4ZixFQUFNdHNCLFFBQWlDLEdBQWxCcXNCLEVBQVFyc0IsT0FLdEMsT0FBTyxLQUpQOE8sRUFBT3VkLEVBQVEsR0FDZjNyQixFQUFPLFNBQ1BvRixFQUFTLFNBQUFvQyxHQUFLLE9BQUdBLEVBQUs0RyxLQUFLQSxFQUFLOUIsY0FBYzlFLEVBQUtzRSxTQUtyRCxJQURBdkYsSUFBSWlvQixFQUFVLEdBQ0xoMEIsRUFBSSxFQUFHQSxFQUFJZzJCLEVBQUs5bkIsV0FBWWxPLElBQUtnMEIsRUFBUTF1QixLQUFLc0YsRUFBT29yQixFQUFLM3BCLE1BQU1yTSxLQUN6RSxHQUFJOEwsRUFBUzdDLEtBQUsrcUIsR0FBUy9sQixHQUFHNEosR0FBTSxNQUFPLENBQUNqRSxPQUFNcE8sUUExRGhDaXJDLENBQWFuZ0MsRUFBTS9LLE9BQU9vQyxRQUFRZ0csSUFBSTJDLEVBQU1JLGFBQWN1QyxFQUFJdkMsY0FDakQwL0IsRUFBTzdxQyxPQUFPb0MsUUFBUWdHLElBQUl5aUMsRUFBTzEvQixhQUFjeStCLEVBQU9DLEtBQU9nQixFQUFPN2pDLFdBRS9Gb3BCLEVBQUtnRyxFQUFLdmtCLE1BQU11ZSxHQUNPLE9BQW5Cd2EsRUFBVzNxQyxLQUFlbXdCLEVBQUd6RSxRQUFRbWYsRUFBUUMsRUFBTUgsRUFBV3Y4QixNQUM3RCtoQixFQUFHbkUsV0FBVzZlLEVBQVFDLEVBQU1ILEVBQVd2OEIsV0FDdkMsR0FBSXRELEVBQU0vSyxPQUFPOEcsTUFBTWlFLEVBQU12QyxTQUFTZCxRQUFVcUQsRUFBTXZDLFNBQVdrRixFQUFJbEYsU0FBV2tGLEVBQUlqQyxXQUFhLEVBQUksR0FBSSxDQUU5R2pGLElBQUllLEVBQU93RCxFQUFNL0ssT0FBT29ILFlBQVkyRCxFQUFNSSxhQUFjdUMsRUFBSXZDLGNBQzVELEdBQUlpckIsRUFBS0ksU0FBUyxtQkFBbUIsU0FBQXh3QixHQUFFLE9BQUdBLEVBQUVvd0IsRUFBTTBVLEVBQVFDLEVBQU14akMsTUFBUSxPQUN4RTZvQixFQUFLZ0csRUFBS3ZrQixNQUFNdWUsR0FBR1osV0FBV2pvQixFQUFNdWpDLEVBQVFDLEdBTWhELEdBRkszYSxJQUNIQSxFQUFLZ0csRUFBS3ZrQixNQUFNdWUsR0FBRzNyQixRQUFRcW1DLEVBQVFDLEVBQU03c0MsRUFBTXFOLElBQUkzSCxNQUFNZ21DLEVBQU81aUMsTUFBUTlJLEVBQU13RixLQUFNa21DLEVBQU9FLEtBQU81ckMsRUFBTXdGLFFBQ3RHeEYsRUFBTTY4QixJQUFLLENBQ2J2MEIsSUFBSXUwQixFQUFNa1AsR0FBaUI3VCxFQUFNaEcsRUFBRzdrQixJQUFLck4sRUFBTTY4QixLQU0zQ0EsS0FBUzdGLEdBQVE3QixRQUFVNkIsR0FBUTFCLFNBQVc0QyxFQUFLZ0ssV0FBYXJGLEVBQUl6eUIsT0FBU3l5QixFQUFJM2YsTUFBUTB2QixHQUNoRjVWLEdBQVFsQyxJQUFNK0gsRUFBSXp5QixPQUFTeXlCLEVBQUkzZixNQUFRMHZCLElBQ2xEMWEsRUFBR3pCLGFBQWFvTSxHQUVoQnZNLEdBQWE0QixFQUFHdEIsWUFBWU4sR0FDaEM0SCxFQUFLME8sU0FBUzFVLEVBQUdQLG9CQUduQixTQUFTb2EsR0FBaUI3VCxFQUFNN3FCLEVBQUs0L0IsR0FDbkMsT0FBSXJtQyxLQUFLbUMsSUFBSWtrQyxFQUFVMU4sT0FBUTBOLEVBQVUvdkIsTUFBUTdQLEVBQUluSixRQUFROEQsS0FBYSxLQUNuRTBnQyxHQUFpQnhRLEVBQU03cUIsRUFBSTRCLFFBQVFnK0IsRUFBVTFOLFFBQVNseUIsRUFBSTRCLFFBQVFnK0IsRUFBVS92QixPQWtEckYsU0FBU292QixHQUFzQmhpQixFQUFNNGlCLEVBQVNDLEdBRTVDLElBREE3a0MsSUFBSTRFLEVBQVFvZCxFQUFLcGQsTUFBT3JFLEVBQU1xa0MsRUFBVTVpQixFQUFLemhCLE1BQVF5aEIsRUFBSzNoQixJQUNuRHVFLEVBQVEsSUFBTWdnQyxHQUFXNWlCLEVBQUtoZCxXQUFXSixJQUFVb2QsRUFBSy9nQixLQUFLMkQsR0FBT3pDLGFBQ3pFeUMsSUFDQXJFLElBQ0Fxa0MsR0FBVSxFQUVaLEdBQUlDLEVBRUYsSUFEQTdrQyxJQUFJbUcsRUFBTzZiLEVBQUsvZ0IsS0FBSzJELEdBQU92QyxXQUFXMmYsRUFBS2hkLFdBQVdKLElBQ2hEdUIsSUFBU0EsRUFBS2hGLFFBQ25CZ0YsRUFBT0EsRUFBSzFFLFdBQ1psQixJQUdKLE9BQU9BLEVDdlJGLFNBQVN1a0MsR0FBc0JsVixFQUFNeHlCLEdBRTFDLElBREE0QyxJQUFJdVIsRUFBVSxHQUFLM1YsRUFBQSxFQUFBQSxRQUFTNmtCLEVBQUEsRUFBQUEsVUFBV2pMLEVBQUEsRUFBQUEsUUFDaENpTCxFQUFZLEdBQUtqTCxFQUFVLEdBQTJCLEdBQXRCNVosRUFBUXVHLFlBQW9ELEdBQWpDdkcsRUFBUTZGLFdBQVdVLFlBQWlCLENBQ3BHc2UsSUFDQWpMLElBQ0F4VixJQUFJaUIsRUFBT3JGLEVBQVE2RixXQUNuQjhQLEVBQVFoWSxLQUFLMEgsRUFBS3hILEtBQUtqRixLQUFNeU0sRUFBS3hILEtBQUt5UyxtQkFBcUJqTCxFQUFLa0QsTUFBUSxNQUN6RXZJLEVBQVVxRixFQUFLckYsUUFHakJvRSxJQUFJK2tDLEVBQWFuVixFQUFLSSxTQUFTLHdCQUEwQnJWLEdBQWNsSSxXQUFXbWQsRUFBS3ZrQixNQUFNeEgsUUFDekZrQixFQUFNaWdDLEtBQWV6dkIsRUFBT3hRLEVBQUl0SSxjQUFjLE9BQ2xEOFksRUFBS3RZLFlBQVk4bkMsRUFBV2pxQixrQkFBa0JsZixFQUFTLENBQUN4RSxTQUFVMk4sS0FHbEUsSUFEQS9FLElBQWtDdzhCLEVBQTlCLzZCLEVBQWE4VCxFQUFLOVQsV0FDZkEsR0FBcUMsR0FBdkJBLEVBQVdxSSxXQUFrQjB5QixFQUFZeUksR0FBUXhqQyxFQUFXZ1csU0FBU0ksaUJBQWlCLENBQ3pHLElBQUs3WCxJQUFJL0wsRUFBSXVvQyxFQUFVempDLE9BQVMsRUFBRzlFLEdBQUssRUFBR0EsSUFBSyxDQUU5QyxJQURBK0wsSUFBSWdtQixFQUFVamhCLEVBQUl0SSxjQUFjKy9CLEVBQVV2b0MsSUFDbkNzaEIsRUFBSzlULFlBQVl1a0IsRUFBUS9vQixZQUFZc1ksRUFBSzlULFlBQ2pEOFQsRUFBS3RZLFlBQVkrb0IsR0FFbkJ2a0IsRUFBYThULEVBQUs5VCxXQVNwQixPQU5JQSxHQUFxQyxHQUF2QkEsRUFBV3FJLFVBQzNCckksRUFBV3dhLGFBQWEsZ0JBQW9Cd0UsRUFBUyxJQUFJakwsRUFBTyxJQUFJL2QsS0FBSzZCLFVBQVVpWSxJQUs5RSxDQUFDRCxJQUFLaUUsRUFBTXhVLEtBSFI2dUIsRUFBS0ksU0FBUywyQkFBMkIsU0FBQXh3QixHQUFFLE9BQUdBLEVBQUVwQyxPQUN2REEsRUFBTXhCLFFBQVFnRixZQUFZLEVBQUd4RCxFQUFNeEIsUUFBUThELEtBQU0sU0FPaEQsU0FBU3dsQyxHQUFtQnRWLEVBQU03dUIsRUFBTW9rQyxFQUFNQyxFQUFXOXFCLEdBQzlEdGEsSUFBSXNSLEVBQThDbFUsRUFBekNpb0MsRUFBUy9xQixFQUFTOWdCLE9BQU9DLEtBQUttTSxLQUFLcXBCLEtBQzVDLElBQUtrVyxJQUFTcGtDLEVBQU0sT0FBTyxLQUMzQmYsSUFBSXNsQyxFQUFTdmtDLElBQVNxa0MsR0FBYUMsSUFBV0YsR0FDOUMsR0FBSUcsRUFBUSxDQUVWLEdBREExVixFQUFLSSxTQUFTLHVCQUF1QixTQUFBeHdCLEdBQU91QixFQUFPdkIsRUFBRXVCLE1BQ2pEc2tDLEVBQVEsT0FBTyxJQUFJdDlCLEVBQU1oSSxFQUFTN0MsS0FBSzB5QixFQUFLdmtCLE1BQU14SCxPQUFPOUMsS0FBS0EsSUFBUSxFQUFHLEdBQzdFZixJQUFJdWxDLEVBQVMzVixFQUFLSSxTQUFTLHVCQUF1QixTQUFBeHdCLEdBQUUsT0FBR0EsRUFBRXVCLEVBQU11WixNQUMzRGlyQixFQUNGbm9DLEVBQVFtb0MsR0FFUmowQixFQUFNbGEsU0FBU3FGLGNBQWMsT0FDN0JzRSxFQUFLa1csT0FBT3RKLE1BQU0saUJBQWlCcE8sU0FBUSxTQUFBZ2EsR0FDekNqSSxFQUFJclUsWUFBWTdGLFNBQVNxRixjQUFjLE1BQU1nTCxZQUFjOFIsV0FJL0RxVyxFQUFLSSxTQUFTLHVCQUF1QixTQUFBeHdCLEdBQU8ybEMsRUFBTzNsQyxFQUFFMmxDLE1BQ3JEN3pCLEVBaUhKLFNBQWtCNnpCLEdBQ2hCbmxDLElBQUl3bEMsRUFBUSxxQkFBcUIvdkIsS0FBSzB2QixHQUNsQ0ssSUFBT0wsRUFBT0EsRUFBSy9uQyxNQUFNb29DLEVBQU0sR0FBR3pzQyxTQUN0Q2lILElBQytEdVYsRUFEM0Q2YyxFQUFNNFMsS0FBY3ZvQyxjQUFjLE9BQ2xDZ3BDLEVBQVcsb0NBQW9DaHdCLEtBQUswdkIsR0FBYXZnQyxFQUFRLEdBQ3pFMlEsRUFBT2t3QixHQUFZUixHQUFRUSxFQUFTLEdBQUc1dEIsa0JBQ3pDc3RCLEVBQU81dkIsRUFBSzdhLEtBQUksU0FBQWhGLEdBQUUsTUFBRyxJQUFNQSxFQUFJLE9BQUtnTyxLQUFLLElBQU15aEMsRUFBTzV2QixFQUFLN2EsS0FBSSxTQUFBaEYsR0FBRSxNQUFHLEtBQU9BLEVBQUksT0FBSzRYLFVBQVU1SixLQUFLLElBQ25Ha0IsRUFBUTJRLEVBQUt4YyxRQUVmcTVCLEVBQUlzVCxVQUFZUCxFQUNoQixJQUFLbmxDLElBQUkvTCxFQUFJLEVBQUdBLEVBQUkyUSxFQUFPM1EsSUFBS20rQixFQUFNQSxFQUFJM3dCLFdBQzFDLE9BQU8yd0IsRUE1SEN1VCxDQUFTUixHQUdqQm5sQyxJQUFJNGxDLEVBQWN0MEIsR0FBT0EsRUFBSXlILGNBQWMsbUJBQ3ZDOHNCLEVBQVlELEdBQWUsb0JBQW9CbndCLEtBQUttd0IsRUFBWTl1QixhQUFhLGtCQUNqRixJQUFLMVosRUFBTyxDQUNWNEMsSUFBSStWLEVBQVM2WixFQUFLSSxTQUFTLG9CQUFzQkosRUFBS0ksU0FBUyxjQUFnQmpmLEdBQVUwQixXQUFXbWQsRUFBS3ZrQixNQUFNeEgsUUFDL0d6RyxFQUFRMlksRUFBT3BFLFdBQVdMLEVBQUssQ0FBQzJELHNCQUF1QnF3QixJQUFVTyxHQUFZdDBCLFFBQVMrSSxJQVF4RixPQUxFbGQsRUFERXlvQyxFQXNITixTQUFvQnpvQyxFQUFPbVUsR0FDekIsSUFBS25VLEVBQU1zQyxLQUFNLE9BQU90QyxFQUN4QjRDLElBQW1EZ0UsRUFBL0NILEVBQVN6RyxFQUFNeEIsUUFBUTZGLFdBQVdoSSxLQUFLb0ssT0FDM0MsSUFBTUcsRUFBUXZNLEtBQUtDLE1BQU02WixHQUN6QixNQUFNOE8sR0FBSyxPQUFPampCLEVBRWxCLElBREEsZ0JBQWNxakIsRUFBQSxFQUFBQSxVQUFXakwsRUFBQSxFQUFBQSxRQUNoQnZoQixFQUFJK1AsRUFBTWpMLE9BQVMsRUFBRzlFLEdBQUssRUFBR0EsR0FBSyxFQUFHLENBQzdDK0wsSUFBSXZHLEVBQU9vSyxFQUFPSyxNQUFNRixFQUFNL1AsSUFDOUIsSUFBS3dGLEdBQVFBLEVBQUt5UyxtQkFBb0IsTUFDdEN0USxFQUFVbUUsRUFBUzdDLEtBQUt6RCxFQUFLbEUsT0FBT3lPLEVBQU0vUCxFQUFJLEdBQUkySCxJQUNsRDZrQixJQUFhakwsSUFFZixPQUFPLElBQUl6TixFQUFNbk0sRUFBUzZrQixFQUFXakwsR0FqSTNCc3dCLENBMkVaLFNBQW9CMW9DLEVBQU9xakIsRUFBV2pMLEdBQ2hDaUwsRUFBWXJqQixFQUFNcWpCLFlBQ3BCcmpCLEVBQVEsSUFBSTJLLEVBQU1nK0IsR0FBVzNvQyxFQUFNeEIsU0FBVSxFQUFHNmtCLEVBQVdyakIsRUFBTXFqQixVQUFXLEVBQUdyakIsRUFBTW9ZLFNBQVVpTCxFQUFXcmpCLEVBQU1vWSxVQUM5R0EsRUFBVXBZLEVBQU1vWSxVQUNsQnBZLEVBQVEsSUFBSTJLLEVBQU1nK0IsR0FBVzNvQyxFQUFNeEIsUUFBUyxFQUFHNFosRUFBU3BZLEVBQU1vWSxRQUFTLEVBQUcsR0FBSXBZLEVBQU1xakIsVUFBV2pMLElBQ2pHLE9BQU9wWSxFQWhGYzRvQyxDQUFXNW9DLEdBQVF5b0MsRUFBVSxJQUFLQSxFQUFVLElBQUtBLEVBQVUsSUFFdEU5OUIsRUFBTTZKLFFBY2xCLFNBQTJCbUosRUFBVVQsR0FDbkMsR0FBSVMsRUFBUzVZLFdBQWEsRUFBRyxPQUFPNFksRUFDcEMsSSxrQkFDRS9hLElBQ0kwSSxFQURTNFIsRUFBU3JaLEtBQUsxTSxHQUNSa1UsZUFBZTZSLEVBQVN0WSxNQUFNek4sSUFDN0MweEMsT0FBQSxFQUFVcG1DLEVBQVMsR0FldkIsR0FkQWtiLEVBQVN4YixTQUFRLFNBQUEwQixHQUNmLEdBQUtwQixFQUFMLENBQ0FHLElBQTBDa21DLEVBQXRDM3dCLEVBQU83TSxFQUFNcUUsYUFBYTlMLEVBQUt4SCxNQUNuQyxJQUFLOGIsRUFBTSxPQUFPMVYsRUFBUyxLQUMzQixHQUFJcW1DLEVBQVNybUMsRUFBTzlHLFFBQVVrdEMsRUFBU2x0QyxRQXVCN0MsU0FBU290QyxFQUFhNXdCLEVBQU0wd0IsRUFBVWhsQyxFQUFNbWxDLEVBQVN4aEMsR0FDbkQsR0FBSUEsRUFBUTJRLEVBQUt4YyxRQUFVNkwsRUFBUXFoQyxFQUFTbHRDLFFBQVV3YyxFQUFLM1EsSUFBVXFoQyxFQUFTcmhDLEdBQVEsQ0FDcEY1RSxJQUFJNEMsRUFBUXVqQyxFQUFhNXdCLEVBQU0wd0IsRUFBVWhsQyxFQUFNbWxDLEVBQVE3a0MsVUFBV3FELEVBQVEsR0FDMUUsR0FBSWhDLEVBQU8sT0FBT3dqQyxFQUFRM3FDLEtBQUsycUMsRUFBUXhxQyxRQUFRbUcsYUFBYXFrQyxFQUFRamtDLFdBQWEsRUFBR1MsSUFFcEYsR0FEWXdqQyxFQUFRMzlCLGVBQWUyOUIsRUFBUWprQyxZQUNqQ2tILFVBQVV6RSxHQUFTMlEsRUFBS3hjLE9BQVMsRUFBSWtJLEVBQUt4SCxLQUFPOGIsRUFBSzNRLEVBQVEsSUFDdEUsT0FBT3doQyxFQUFRM3FDLEtBQUsycUMsRUFBUXhxQyxRQUFRZ0UsT0FBT0csRUFBUzdDLEtBQUttcEMsR0FBYXBsQyxFQUFNc1UsRUFBTTNRLEVBQVEsT0E3QnpDdWhDLENBQWE1d0IsRUFBTTB3QixFQUFVaGxDLEVBQU1wQixFQUFPQSxFQUFPOUcsT0FBUyxHQUFJLEdBQzdHOEcsRUFBT0EsRUFBTzlHLE9BQVMsR0FBS210QyxNQUN2QixDQUNEcm1DLEVBQU85RyxTQUFROEcsRUFBT0EsRUFBTzlHLE9BQVMsR0E4QmxELFNBQVN1dEMsRUFBV3JsQyxFQUFNMkQsR0FDeEIsR0FBYSxHQUFUQSxFQUFZLE9BQU8zRCxFQUN2QmpCLElBQUkrYSxFQUFXOVosRUFBS3JGLFFBQVFtRyxhQUFhZCxFQUFLa0IsV0FBYSxFQUFHbWtDLEVBQVdybEMsRUFBS00sVUFBV3FELEVBQVEsSUFDN0YwUSxFQUFPclUsRUFBS3dILGVBQWV4SCxFQUFLa0IsWUFBWW9LLFdBQVd4TSxFQUFTK0IsT0FBTyxHQUMzRSxPQUFPYixFQUFLeEYsS0FBS3NmLEVBQVNuYixPQUFPMFYsSUFsQ29CZ3hCLENBQVd6bUMsRUFBT0EsRUFBTzlHLE9BQVMsR0FBSWt0QyxFQUFTbHRDLFNBQzlGaUgsSUFBSXVtQyxFQUFVRixHQUFhcGxDLEVBQU1zVSxHQUNqQzFWLEVBQU90RyxLQUFLZ3RDLEdBQ1o3OUIsRUFBUUEsRUFBTVcsVUFBVWs5QixFQUFROXNDLEtBQU04c0MsRUFBUXBpQyxPQUM5QzhoQyxFQUFXMXdCLE9BR1gxVixFQUFRLE1BQU8sQ0FBUCxFQUFPRSxFQUFTN0MsS0FBSzJDLEtBbEIxQnRMLEVBQUkrbEIsRUFBUzFWLE1BQU9yUSxHQUFLLEVBQUdBLElBQUssQywyQkFvQjFDLE9BQU93bUIsRUFwQ2lCeXJCLENBQWtCcHBDLEVBQU14QixRQUFTMGUsSUFBVyxHQUVwRXNWLEVBQUtJLFNBQVMsbUJBQW1CLFNBQUF4d0IsR0FBT3BDLEVBQVFvQyxFQUFFcEMsTUFDM0NBLEVBb0NULFNBQVNpcEMsR0FBYXBsQyxFQUFNc1UsRUFBTXJZLFEsVUFBTyxHQUN2QyxJQUFLOEMsSUFBSS9MLEVBQUlzaEIsRUFBS3hjLE9BQVMsRUFBRzlFLEdBQUtpSixFQUFNakosSUFDdkNnTixFQUFPc1UsRUFBS3RoQixHQUFHc0IsT0FBTyxLQUFNd0ssRUFBUzdDLEtBQUsrRCxJQUM1QyxPQUFPQSxFQXNCVCxTQUFTOGtDLEdBQVdockIsRUFBVTJVLEVBQU14eUIsRUFBTWlELEVBQUl5RSxFQUFPNFEsR0FDbkR4VixJQUFJaUIsRUFBT3l1QixFQUFPLEVBQUkzVSxFQUFTdFosV0FBYXNaLEVBQVN4WixVQUFXcUIsRUFBUTNCLEVBQUtyRixRQUs3RSxPQUpJZ0osRUFBUXpFLEVBQUssSUFBR3lDLEVBQVFtakMsR0FBV25qQyxFQUFPOHNCLEVBQU14eUIsRUFBTWlELEVBQUl5RSxFQUFRLEVBQUc0USxJQUNyRTVRLEdBQVMxSCxJQUNYMEYsRUFBUThzQixFQUFPLEVBQUl6dUIsRUFBS3dILGVBQWUsR0FBRzhELFdBQVczSixFQUFPbVksRUFBUzVZLFdBQWEsR0FBS3FULEdBQVc1USxHQUFPaEYsT0FBT2dELEdBQzVHQSxFQUFNaEQsT0FBT3FCLEVBQUt3SCxlQUFleEgsRUFBS2tCLFlBQVlvSyxXQUFXeE0sRUFBUytCLE9BQU8sS0FDNUVpWixFQUFTaFosYUFBYTJ0QixFQUFPLEVBQUksRUFBSTNVLEVBQVM1WSxXQUFhLEVBQUdsQixFQUFLeEYsS0FBS21ILElBY2pGd0IsSUFBTTZnQyxHQUFVLENBQ2R3QixNQUFPLENBQUMsU0FDUkMsTUFBTyxDQUFDLFNBQ1JqeUIsTUFBTyxDQUFDLFNBQ1JreUIsUUFBUyxDQUFDLFNBQ1ZDLFNBQVUsQ0FBQyxTQUNYQyxJQUFLLENBQUMsUUFBUyxZQUNmamQsR0FBSSxDQUFDLFFBQVMsU0FDZGtkLEdBQUksQ0FBQyxRQUFTLFFBQVMsTUFDdkJDLEdBQUksQ0FBQyxRQUFTLFFBQVMsT0FHckJDLEdBQWUsS0FDbkIsU0FBU2hDLEtBQ1AsT0FBT2dDLEtBQWlCQSxHQUFlNXZDLFNBQVM2dkMsZUFBZUMsbUJBQW1CLFVDaktwRjlpQyxJQUFNK2lDLEdBQWlCLENBQ3JCQyxXQUFXLEVBQ1hDLGVBQWUsRUFDZkMsdUJBQXVCLEVBQ3ZCQyxZQUFZLEVBQ1pDLG1CQUFtQixFQUNuQkMsU0FBUyxHQUdMQyxHQUFjaFosR0FBUWxDLElBQU1rQyxHQUFRakMsWUFBYyxHQUVsRGtiLEdBQ0osV0FDRXZ4QyxLQUFLaWhDLFdBQWFqaEMsS0FBS2toQyxhQUFlbGhDLEtBQUs2K0IsVUFBWTcrQixLQUFLKytCLFlBQWMsTUFHOUUsYUFBRWhxQixJQUFBLFNBQUlvcEIsR0FDRm4rQixLQUFLaWhDLFdBQWE5QyxFQUFJOEMsV0FBWWpoQyxLQUFLa2hDLGFBQWUvQyxFQUFJK0MsYUFDMURsaEMsS0FBSzYrQixVQUFZVixFQUFJVSxVQUFXNytCLEtBQUsrK0IsWUFBY1osRUFBSVksYUFHM0QsYUFBRWp6QixHQUFBLFNBQUdxeUIsR0FDRCxPQUFPQSxFQUFJOEMsWUFBY2poQyxLQUFLaWhDLFlBQWM5QyxFQUFJK0MsY0FBZ0JsaEMsS0FBS2toQyxjQUNuRS9DLEVBQUlVLFdBQWE3K0IsS0FBSzYrQixXQUFhVixFQUFJWSxhQUFlLytCLEtBQUsrK0IsYUFJMUQsSUFBTXlTLEdBQ1gsU0FBWWhZLEVBQU1pWSxHLFdBQ2hCenhDLEtBQUt3NUIsS0FBT0EsRUFDWng1QixLQUFLeXhDLGdCQUFrQkEsRUFDdkJ6eEMsS0FBSzB4QyxNQUFRLEdBQ2IxeEMsS0FBSzJ4QyxjQUFlLEVBQ3BCM3hDLEtBQUs0eEMsU0FBV253QyxPQUFPb3dDLGtCQUNyQixJQUFJcHdDLE9BQU9vd0Msa0JBQWlCLFNBQUFDLEdBQzVCLElBQU9sb0MsSUFBSS9MLEVBQUksRUFBR0EsRUFBSWkwQyxFQUFVbnZDLE9BQVE5RSxJQUFLbUMsRUFBSzB4QyxNQUFNdnVDLEtBQUsydUMsRUFBVWowQyxJQUtqRXk2QixHQUFRbEMsSUFBTWtDLEdBQVFqQyxZQUFjLElBQU15YixFQUFVbHVCLE1BQ3hELFNBQUUzbEIsR0FBRSxNQUFhLGFBQVZBLEVBQUVvRixNQUF1QnBGLEVBQUU4ekMsYUFBYXB2QyxRQUM5QixpQkFBVjFFLEVBQUVvRixNQUEyQnBGLEVBQUVxa0MsU0FBUzMvQixPQUFTMUUsRUFBRTJZLE9BQU9zSyxVQUFVdmUsVUFDekUzQyxFQUFLZ3lDLFlBRUxoeUMsRUFBS2l5QyxXQUVYanlDLEtBQUtreUMsaUJBQW1CLElBQUlYLEdBQ3hCRCxLQUNGdHhDLEtBQUtteUMsV0FBYSxTQUFBbG9CLEdBQ2xCLEVBQU95bkIsTUFBTXZ1QyxLQUFLLENBQUN5VCxPQUFRcVQsRUFBRXJULE9BQVF2VCxLQUFNLGdCQUFpQmkvQixTQUFVclksRUFBRW1vQixZQUN4RSxFQUFPSixjQUdYLEtBQU9LLGtCQUFvQnJ5QyxLQUFLcXlDLGtCQUFrQmh6QyxLQUFLVyxNQUNyREEsS0FBS3N5Qyw2QkFBOEIsR0FHdkMsYUFBRU4sVUFBQSxXLFdBQ09oeUMsS0FBSzJ4QyxlQUNSM3hDLEtBQUsyeEMsY0FBZSxFQUN0QixPQUFTdnNDLFlBQVcsV0FBUXBGLEVBQUsyeEMsY0FBZSxFQUFPM3hDLEVBQUtpeUMsVUFBVyxNQUkzRSxhQUFFN25DLE1BQUEsV0FDTXBLLEtBQUs0eEMsVUFDUDV4QyxLQUFLNHhDLFNBQVNXLFFBQVF2eUMsS0FBS3c1QixLQUFLdGUsSUFBSzYxQixJQUNuQ08sSUFDRnR4QyxLQUFLdzVCLEtBQUt0ZSxJQUFJMVosaUJBQWlCLDJCQUE0QnhCLEtBQUtteUMsWUFDcEUsS0FBT2hILG9CQUdULGFBQUVsSixLQUFBLFcsV0FDRSxHQUFJamlDLEtBQUs0eEMsU0FBVSxDQUNuQixJQUFNWSxFQUFPeHlDLEtBQUs0eEMsU0FBU2EsY0FDekIsR0FBSUQsRUFBSzd2QyxPQUFRLENBQ2pCLElBQU9pSCxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJMjBDLEVBQUs3dkMsT0FBUTlFLElBQUttQyxLQUFLMHhDLE1BQU12dUMsS0FBS3F2QyxFQUFLMzBDLElBQzNENEQsT0FBTzJELFlBQVcsV0FBRyxPQUFHcEYsRUFBS2l5QyxVQUFTLElBRXhDanlDLEtBQUs0eEMsU0FBU2MsYUFFWnBCLElBQWF0eEMsS0FBS3c1QixLQUFLdGUsSUFBSTh2QixvQkFBb0IsMkJBQTRCaHJDLEtBQUtteUMsWUFDdEYsS0FBTzdILHVCQUdULGFBQUVhLGlCQUFBLFdBQ0VuckMsS0FBS3c1QixLQUFLdGUsSUFBSWtILGNBQWM1Z0IsaUJBQWlCLGtCQUFtQnhCLEtBQUtxeUMsb0JBR3pFLGFBQUUvSCxvQkFBQSxXQUNFdHFDLEtBQUt3NUIsS0FBS3RlLElBQUlrSCxjQUFjNG9CLG9CQUFvQixrQkFBbUJockMsS0FBS3F5QyxvQkFHNUUsYUFBRXRFLHlCQUFBLFcsV0FDRS90QyxLQUFLc3lDLDZCQUE4QixFQUNyQyxZQUFhLFdBQUcsT0FBR3R5QyxFQUFLc3lDLDZCQUE4QixJQUFPLEtBRy9ELGFBQUVELGtCQUFBLFdBQ0EsTVgrQ21DN1ksRVcvQ1B4NUIsS0FBS3c1QixNWGdEeEIyUSxVQUFZM1EsRUFBS3FDLEtBQUs4QixlQUFpQm5FLEVBQUt0ZSxNQUM5Q212QixHQUFhN1EsR1dqRHBCLENYK0NLLElBQThCQSxFVzlDbkMsR0FBTXg1QixLQUFLc3lDLDRCQUE2QixPQUFPckksR0FBZWpxQyxLQUFLdzVCLE1BSW5FLEdBQU1sQixHQUFRbEMsSUFBTWtDLEdBQVFqQyxZQUFjLEtBQU9yMkIsS0FBS3c1QixLQUFLdmtCLE1BQU15YyxVQUFVaG1CLE1BQU8sQ0FDaEYsSUFBTXl5QixFQUFNbitCLEtBQUt3NUIsS0FBS3FDLEtBQUs0QyxlQUUzQixHQUFNTixFQUFJVSxXQUFhckgsR0FBcUIyRyxFQUFJVSxVQUFXVixFQUFJWSxZQUFhWixFQUFJOEMsV0FBWTlDLEVBQUkrQyxjQUM1RixPQUFPbGhDLEtBQUtneUMsWUFFbEIsS0FBT0MsVUFHVCxhQUFFakosZ0JBQUEsV0FDRWhwQyxLQUFLa3lDLGlCQUFpQm45QixJQUFJL1UsS0FBS3c1QixLQUFLcUMsS0FBSzRDLGlCQUc3QyxhQUFFa1Usc0JBQUEsU0FBc0J4VSxHQUN0QixHQUF3QixHQUFsQkEsRUFBSTVGLFdBQWlCLE9BQU8sRUFDbEMsSUFBTXFhLEVBQVl6VSxFQUFJM0YsV0FBVyxHQUFHcWEsd0JBQzlCemYsRUFBT3B6QixLQUFLdzVCLEtBQUs4QyxRQUFRQyxZQUFZcVcsR0FDM0MsT0FBTXhmLEdBQVFBLEVBQUtpTyxlQUFlLENBQUNoK0IsS0FBTSxZQUFhdVQsT0FBOEIsR0FBdEJnOEIsRUFBVWwvQixTQUFnQmsvQixFQUFVdnJDLFdBQWF1ckMsS0FDN0csS0FBTzVKLG1CQUNFLFFBRlgsR0FNRixhQUFFaUosTUFBQSxXQUNFLEdBQUtqeUMsS0FBS3c1QixLQUFLOEMsVUFBV3Q4QixLQUFLMnhDLGFBQS9CLENBQ0EvbkMsSUFBSWtvQyxFQUFZOXhDLEtBQUs0eEMsU0FBVzV4QyxLQUFLNHhDLFNBQVNhLGNBQWdCLEdBQzFEenlDLEtBQUsweEMsTUFBTS91QyxTQUNmLEVBQWMzQyxLQUFLMHhDLE1BQU12c0MsT0FBTzJzQyxHQUM5Qjl4QyxLQUFLMHhDLE1BQU0vdUMsT0FBUyxHQUd4QixJQUFNdzdCLEVBQU1uK0IsS0FBS3c1QixLQUFLcUMsS0FBSzRDLGVBQ3JCME4sR0FBVW5zQyxLQUFLc3lDLDhCQUFnQ3R5QyxLQUFLa3lDLGlCQUFpQnBtQyxHQUFHcXlCLElBQVFrTSxHQUFhcnFDLEtBQUt3NUIsUUFBVXg1QixLQUFLMnlDLHNCQUFzQnhVLEdBRXZJcjNCLEdBQVEsRUFBR2lELEdBQU0sRUFBR2dpQyxHQUFXLEVBQU85YyxFQUFRLEdBQ2xELEdBQUlqdkIsS0FBS3c1QixLQUFLMlEsU0FDWixJQUFLdmdDLElBQUkvTCxFQUFJLEVBQUdBLEVBQUlpMEMsRUFBVW52QyxPQUFROUUsSUFBSyxDQUN6QytMLElBQUlILEVBQVN6SixLQUFLOHlDLGlCQUFpQmhCLEVBQVVqMEMsR0FBSW94QixHQUM3Q3hsQixJQUNGM0MsRUFBT0EsRUFBTyxFQUFJMkMsRUFBTzNDLEtBQU9vQixLQUFLb0MsSUFBSWIsRUFBTzNDLEtBQU1BLEdBQ3REaUQsRUFBS0EsRUFBSyxFQUFJTixFQUFPTSxHQUFLN0IsS0FBS21DLElBQUlaLEVBQU9NLEdBQUlBLEdBQzFDTixFQUFPc2lDLFdBQWEvckMsS0FBS3c1QixLQUFLZ0ssWUFBV3VJLEdBQVcsSUFLaEUsR0FBTXpULEdBQVEvQixPQUFTdEgsRUFBTXRzQixPQUFTLEVBQUcsQ0FDckNpSCxJQUFJbXBDLEVBQU05akIsRUFBTS9zQixRQUFPLFNBQUE1QyxHQUFFLE1BQWlCLE1BQWRBLEVBQUUraEIsWUFDOUIsR0FBa0IsR0FBZDB4QixFQUFJcHdDLE9BQWEsQ0FDckIsV0FBVXlKLEVBQUEsS0FDSkQsRUFBRTlFLFlBQWM4RSxFQUFFOUUsV0FBV0EsWUFBYytFLEVBQUUvRSxXQUFZK0UsRUFBRXhELFNBQzFEdUQsRUFBRXZELFdBSVA5QixHQUFRLEdBQUtxbEMsS0FDWHJsQyxHQUFRLElBQ1osS0FBTzB5QixLQUFLOEMsUUFBUWtGLFVBQVUxNkIsRUFBTWlELEdBeUQxQyxTQUFrQnl2QixHQUNoQixHQUFJd1osR0FBWSxPQUNoQkEsSUFBYSxFQUNnQyxVQUF6Q3ROLGlCQUFpQmxNLEVBQUt0ZSxLQUFLKzNCLFlBQzdCcHlDLFFBQWMsS0FBRSw0S0E1RFpxeUMsQ0FBU2x6QyxLQUFLdzVCLE9BRWxCLEtBQU9pWSxnQkFBZ0IzcUMsRUFBTWlELEVBQUlnaUMsRUFBVTljLEdBQ3JDanZCLEtBQUt3NUIsS0FBSzhDLFFBQVFnRCxNQUFPdC9CLEtBQUt3NUIsS0FBS29FLFlBQVk1OUIsS0FBS3c1QixLQUFLdmtCLE9BQ25EalYsS0FBS2t5QyxpQkFBaUJwbUMsR0FBR3F5QixJQUFNOEwsR0FBZWpxQyxLQUFLdzVCLFNBSW5FLGFBQUVzWixpQkFBQSxTQUFpQnpRLEVBQUtwVCxHQUVwQixHQUFJQSxFQUFNbmEsUUFBUXV0QixFQUFJenJCLFNBQVcsRUFBRyxPQUFPLEtBQzNDaE4sSUFBSXdwQixFQUFPcHpCLEtBQUt3NUIsS0FBSzhDLFFBQVFDLFlBQVk4RixFQUFJenJCLFFBQzdDLEdBQWdCLGNBQVp5ckIsRUFBSWgvQixPQUNIK3ZCLEdBQVFwekIsS0FBS3c1QixLQUFLOEMsU0FBZ0MsbUJBQXJCK0YsRUFBSThRLGVBRVgsU0FBckI5USxFQUFJOFEsZ0JBQTZCOVEsRUFBSUMsV0FBYUQsRUFBSXpyQixPQUFPOEosYUFBYSxVQUM5RSxPQUFPLEtBQ1QsSUFBSzBTLEdBQVFBLEVBQUtpTyxlQUFlZ0IsR0FBTSxPQUFPLEtBRTlDLEdBQWdCLGFBQVpBLEVBQUloL0IsS0FBcUIsQ0FDM0J1RyxJQUFJaXFCLEVBQU93TyxFQUFJamhCLGdCQUFpQnJSLEVBQU9zeUIsRUFBSTFnQixZQUMzQyxHQUFJMlcsR0FBUWxDLElBQU1rQyxHQUFRakMsWUFBYyxJQUFNZ00sRUFBSTJKLFdBQVdycEMsT0FHM0QsSUFBS2lILElBQUkvTCxFQUFJLEVBQUdBLEVBQUl3a0MsRUFBSTJKLFdBQVdycEMsT0FBUTlFLElBQUssQ0FDaEQsTUFBdUN3a0MsRUFBSTJKLFdBQVdudUMsR0FBL0N1akIsRUFBQSxFQUFBQSxnQkFBaUJPLEVBQUEsRUFBQUEsY0FDakJQLEdBQW1CM2QsTUFBTWhFLFVBQVVxVixRQUFROVcsS0FBS3FrQyxFQUFJMkosV0FBWTVxQixHQUFtQixLQUFHeVMsRUFBT3pTLEtBQzdGTyxHQUFlbGUsTUFBTWhFLFVBQVVxVixRQUFROVcsS0FBS3FrQyxFQUFJMkosV0FBWXJxQixHQUFlLEtBQUc1UixFQUFPNFIsR0FROUYsSUFMQS9YLElBQUk2MkIsRUFBYTVNLEdBQVFBLEVBQUt4c0IsWUFBY2c3QixFQUFJenJCLE9BQzFDc2dCLEdBQVNyRCxHQUFRLEVBQUksRUFDdkIvc0IsRUFBT3NzQixFQUFLNk0sZ0JBQWdCb0MsRUFBSXpyQixPQUFRNnBCLEdBQWEsR0FDckRDLEVBQVczd0IsR0FBUUEsRUFBSzFJLFlBQWNnN0IsRUFBSXpyQixPQUN4Q3NnQixHQUFTbm5CLEdBQVFzeUIsRUFBSXpyQixPQUFPaU0sV0FBV2xnQixPQUNwQzlFLEVBQUksRUFBR0EsRUFBSXdrQyxFQUFJMkosV0FBV3JwQyxPQUFROUUsSUFBS294QixFQUFNOXJCLEtBQUtrL0IsRUFBSTJKLFdBQVdudUMsSUFFMUUsTUFBTyxDQUFDaUosT0FBTWlELEdBRExxcEIsRUFBSzZNLGdCQUFnQm9DLEVBQUl6ckIsT0FBUThwQixFQUFVLElBRS9DLE1BQWdCLGNBQVoyQixFQUFJaC9CLEtBQ04sQ0FBQ3lELEtBQU1zc0IsRUFBSzBKLFdBQWExSixFQUFLMkosT0FBUWh6QixHQUFJcXBCLEVBQUs0TSxTQUFXNU0sRUFBSzJKLFFBRS9ELENBQ0xqMkIsS0FBTXNzQixFQUFLMEosV0FDWC95QixHQUFJcXBCLEVBQUs0TSxTQUtYLFNBQVlxQyxFQUFJenJCLE9BQU9zSyxXQUFhbWhCLEVBQUlDLFdBTTlDMTRCLElBQUlvcEMsSUFBYSxFQy9NakJobEMsSUFBTW9sQyxHQUFXLEdBQUlDLEdBQWUsR0F3Q3BDLFNBQVNDLEdBQW1COVosRUFBTXI0QixHQUNoQ3E0QixFQUFLMFMsb0JBQXNCL3FDLEVBQzNCcTRCLEVBQUt5UyxrQkFBb0Jua0MsS0FBS0csTUFVekIsU0FBU3NyQyxHQUFnQi9aLEdBQzlCQSxFQUFLSSxTQUFTLG1CQUFtQixTQUFBNFosR0FDL0IsSUFBSzVwQyxJQUFJdkcsS0FBUW13QyxFQUFzQmhhLEVBQUtpYSxjQUFjcHdDLElBQ3hEbTJCLEVBQUt0ZSxJQUFJMVosaUJBQWlCNkIsRUFBTW0yQixFQUFLaWEsY0FBY3B3QyxHQUFRLFNBQUF6QyxHQUFNLE9BQUc4eUMsR0FBaUJsYSxFQUFNNTRCLFFBSWpHLFNBQVM4eUMsR0FBaUJsYSxFQUFNNTRCLEdBQzlCLE9BQU80NEIsRUFBS0ksU0FBUyxtQkFBbUIsU0FBQXdaLEdBQ3RDeHBDLElBQUkrcEMsRUFBVVAsRUFBU3h5QyxFQUFNeUMsTUFDN0IsUUFBT3N3QyxJQUFVQSxFQUFRbmEsRUFBTTU0QixJQUFVQSxFQUFNZ3pDLHFCQTJEbkQsU0FBU0MsR0FBWWp6QyxHQUFTLE1BQU8sQ0FBQ280QixLQUFNcDRCLEVBQU1rekMsUUFBU3Z6QixJQUFLM2YsRUFBTW16QyxTQU90RSxTQUFTQyxHQUFvQnhhLEVBQU15YSxFQUFVaHFDLEVBQUtxaEIsRUFBUTFxQixHQUN4RCxJQUFlLEdBQVgwcUIsRUFBYyxPQUFPLEVBRXpCLElBREExaEIsSUFBSWdpQixFQUFPNE4sRUFBS3ZrQixNQUFNdEcsSUFBSTRCLFFBQVErYSxHLGNBRWhDLEdBQUlrTyxFQUFLSSxTQUFTcWEsR0FBVSxTQUFBN3FDLEdBQUUsT0FBR3ZMLEVBQUkrdEIsRUFBS3BkLE1BQVFwRixFQUFFb3dCLEVBQU12dkIsRUFBSzJoQixFQUFLNWMsVUFBVzRjLEVBQUs5YyxPQUFPalIsR0FBSStDLEdBQU8sR0FDcER3SSxFQUFFb3dCLEVBQU12dkIsRUFBSzJoQixFQUFLL2dCLEtBQUtoTixHQUFJK3RCLEVBQUs5YyxPQUFPalIsR0FBSStDLEdBQU8sTUFDbEcsTUFBTyxDQUFQLEdBQU8sSUFIRi9DLEVBQUkrdEIsRUFBS3BkLE1BQVEsRUFBRzNRLEVBQUksRUFBR0EsSUFBSyxDLDJCQUt6QyxPQUFPLEVBR1QsU0FBU3EyQyxHQUFnQjFhLEVBQU05SCxFQUFXdndCLEdBQ25DcTRCLEVBQUsyYSxTQUFTM2EsRUFBS3FFLFFBQ3hCajBCLElBQUk0cEIsRUFBS2dHLEVBQUt2a0IsTUFBTXVlLEdBQUd6QixhQUFhTCxHQUN0QixXQUFWdndCLEdBQXFCcXlCLEVBQUdWLFFBQVEsV0FBVyxHQUMvQzBHLEVBQUswTyxTQUFTMVUsR0F1Q2hCLFNBQVM0Z0IsR0FBa0I1YSxFQUFNdnZCLEVBQUtxaEIsRUFBUTFxQixFQUFPNGxDLEdBQ25ELE9BQU93TixHQUFvQnhhLEVBQU0sZ0JBQWlCdnZCLEVBQUtxaEIsRUFBUTFxQixJQUM3RDQ0QixFQUFLSSxTQUFTLGVBQWUsU0FBQXh3QixHQUFFLE9BQUdBLEVBQUVvd0IsRUFBTXZ2QixFQUFLckosUUFDOUM0bEMsRUE3QkwsU0FBMkJoTixFQUFNbE8sR0FDL0IsSUFBZSxHQUFYQSxFQUFjLE9BQU8sRUFDekIxaEIsSUFBZ0N5cUMsRUFBY0MsRUFBMUNuVyxFQUFNM0UsRUFBS3ZrQixNQUFNeWMsVUFDakJ5TSxhQUFlLEtBQWVrVyxFQUFlbFcsRUFBSXR6QixNQUdyRCxJQURBakIsSUFBSWdpQixFQUFPNE4sRUFBS3ZrQixNQUFNdEcsSUFBSTRCLFFBQVErYSxHQUN6Qnp0QixFQUFJK3RCLEVBQUtwZCxNQUFRLEVBQUczUSxFQUFJLEVBQUdBLElBQUssQ0FDdkMrTCxJQUFJaUIsRUFBT2hOLEVBQUkrdEIsRUFBS3BkLE1BQVFvZCxFQUFLNWMsVUFBWTRjLEVBQUsvZ0IsS0FBS2hOLEdBQ3ZELEdBQUksR0FBY3lxQyxhQUFhejlCLEdBQU8sQ0FHbEN5cEMsRUFGRUQsR0FBZ0JsVyxFQUFJaHdCLE1BQU1LLE1BQVEsR0FDbEMzUSxHQUFLc2dDLEVBQUlod0IsTUFBTUssT0FBU29kLEVBQUs5YyxPQUFPcXZCLEVBQUlod0IsTUFBTUssTUFBUSxJQUFNMnZCLEVBQUlod0IsTUFBTWxFLElBQzdEMmhCLEVBQUs5YyxPQUFPcXZCLEVBQUlod0IsTUFBTUssT0FFdEJvZCxFQUFLOWMsT0FBT2pSLEdBQ3pCLE9BSUosT0FBZ0IsTUFBWnkyQyxJQUNGSixHQUFnQjFhLEVBQU0sR0FBY3I2QixPQUFPcTZCLEVBQUt2a0IsTUFBTXRHLElBQUsybEMsR0FBVyxZQUMvRCxHQVNPQyxDQUFrQi9hLEVBQU1sTyxHQXZDMUMsU0FBMkJrTyxFQUFNbE8sR0FDL0IsSUFBZSxHQUFYQSxFQUFjLE9BQU8sRUFDekIxaEIsSUFBSWdpQixFQUFPNE4sRUFBS3ZrQixNQUFNdEcsSUFBSTRCLFFBQVErYSxHQUFTemdCLEVBQU8rZ0IsRUFBSzVjLFVBQ3ZELFNBQUluRSxHQUFRQSxFQUFLcUgsUUFBVSxHQUFjbzJCLGFBQWF6OUIsTUFDcERxcEMsR0FBZ0IxYSxFQUFNLElBQUksR0FBYzVOLEdBQU8sWUFDeEMsR0FrQ3lDNG9CLENBQWtCaGIsRUFBTWxPLElBRzVFLFNBQVNtcEIsR0FBa0JqYixFQUFNdnZCLEVBQUtxaEIsRUFBUTFxQixHQUM1QyxPQUFPb3pDLEdBQW9CeGEsRUFBTSxzQkFBdUJ2dkIsRUFBS3FoQixFQUFRMXFCLElBQ25FNDRCLEVBQUtJLFNBQVMscUJBQXFCLFNBQUF4d0IsR0FBRSxPQUFHQSxFQUFFb3dCLEVBQU12dkIsRUFBS3JKLE1BR3pELFNBQVM4ekMsR0FBa0JsYixFQUFNdnZCLEVBQUtxaEIsRUFBUTFxQixHQUM1QyxPQUFPb3pDLEdBQW9CeGEsRUFBTSxzQkFBdUJ2dkIsRUFBS3FoQixFQUFRMXFCLElBQ25FNDRCLEVBQUtJLFNBQVMscUJBQXFCLFNBQUF4d0IsR0FBRSxPQUFHQSxFQUFFb3dCLEVBQU12dkIsRUFBS3JKLE9BSXpELFNBQTRCNDRCLEVBQU1sTyxHQUNoQzFoQixJQUFJK0UsRUFBTTZxQixFQUFLdmtCLE1BQU10RyxJQUNyQixJQUFlLEdBQVgyYyxFQUNGLFFBQUkzYyxFQUFJd0IsZ0JBQ04rakMsR0FBZ0IxYSxFQUFNLEdBQWNyNkIsT0FBT3dQLEVBQUssRUFBR0EsRUFBSW5KLFFBQVE4RCxNQUFPLFlBQy9ELEdBTVgsSUFEQU0sSUFBSWdpQixFQUFPamQsRUFBSTRCLFFBQVErYSxHQUNkenRCLEVBQUkrdEIsRUFBS3BkLE1BQVEsRUFBRzNRLEVBQUksRUFBR0EsSUFBSyxDQUN2QytMLElBQUlpQixFQUFPaE4sRUFBSSt0QixFQUFLcGQsTUFBUW9kLEVBQUs1YyxVQUFZNGMsRUFBSy9nQixLQUFLaE4sR0FDbkR3cUMsRUFBVXpjLEVBQUs5YyxPQUFPalIsR0FDMUIsR0FBSWdOLEVBQUtzRixjQUNQK2pDLEdBQWdCMWEsRUFBTSxHQUFjcjZCLE9BQU93UCxFQUFLMDVCLEVBQVUsRUFBR0EsRUFBVSxFQUFJeDlCLEVBQUtyRixRQUFROEQsTUFBTyxlQUM1RixLQUFJLEdBQWNnL0IsYUFBYXo5QixHQUdsQyxTQUZBcXBDLEdBQWdCMWEsRUFBTSxHQUFjcjZCLE9BQU93UCxFQUFLMDVCLEdBQVUsV0FHNUQsT0FBTyxHQXZCUHNNLENBQW1CbmIsRUFBTWxPLEdBMkI3QixTQUFTc3BCLEdBQWNwYixHQUNyQixPQUFPcWIsR0FBZXJiLEdBOUl4QjZaLEdBQWF5QixRQUFVLFNBQUN0YixFQUFNNTRCLEdBQzVCNDRCLEVBQUtrUSxTQUE0QixJQUFqQjlvQyxFQUFNODNCLFNBQWlCOTNCLEVBQU04b0MsU0FDekNxTCxHQUFvQnZiLEVBQU01NEIsS0FDOUI0NEIsRUFBS2tULFlBQWM5ckMsRUFBTTgzQixRQUN6QmMsRUFBS3VULGdCQUFrQmpsQyxLQUFLRyxPQUt4QnF3QixHQUFRM0IsS0FBd0IsSUFBakIvMUIsRUFBTTgzQixTQUFrQjkzQixFQUFNMm9DLFNBQVkzb0MsRUFBTTZvQyxRQUFXN29DLEVBQU00b0MsUUFFM0VoUSxFQUFLSSxTQUFTLGlCQUFpQixTQUFBeHdCLEdBQUUsT0FBR0EsRUFBRW93QixFQUFNNTRCLE9BQVcwb0MsR0FBZTlQLEVBQU01NEIsR0FDbkZBLEVBQU1vMEMsaUJBRU4xQixHQUFtQjlaLEVBQU0sT0FKekJBLEVBQUtnVSxhQUFlMWxDLEtBQUtHLFFBTzdCb3JDLEdBQWE0QixNQUFRLFNBQUN6YixFQUFNdlAsR0FDVCxJQUFiQSxFQUFFeU8sVUFBZWMsRUFBS2tRLFVBQVcsSUFHdkMySixHQUFhNkIsU0FBVyxTQUFDMWIsRUFBTTU0QixHQUM3QixLQUFJbTBDLEdBQW9CdmIsRUFBTTU0QixLQUFXQSxFQUFNdTBDLFVBQzNDdjBDLEVBQU0yb0MsVUFBWTNvQyxFQUFNNm9DLFFBQVVuUixHQUFRbkMsS0FBT3YxQixFQUFNNG9DLFNBRTNELEdBQUloUSxFQUFLSSxTQUFTLGtCQUFrQixTQUFBeHdCLEdBQUUsT0FBR0EsRUFBRW93QixFQUFNNTRCLE1BQy9DQSxFQUFNbzBDLHFCQURSLENBS0FwckMsSUFBSXUwQixFQUFNM0UsRUFBS3ZrQixNQUFNeWMsVUFDckIsS0FBTXlNLGFBQWUsSUFBbUJBLEVBQUlod0IsTUFBTWtDLFdBQVc4dEIsRUFBSXJ0QixNQUFNLENBQ3JFbEgsSUFBSWUsRUFBT3lxQyxPQUFPQyxhQUFhejBDLEVBQU11MEMsVUFDaEMzYixFQUFLSSxTQUFTLG1CQUFtQixTQUFBeHdCLEdBQUUsT0FBR0EsRUFBRW93QixFQUFNMkUsRUFBSWh3QixNQUFNbEUsSUFBS2swQixFQUFJcnRCLElBQUk3RyxJQUFLVSxPQUM3RTZ1QixFQUFLME8sU0FBUzFPLEVBQUt2a0IsTUFBTXVlLEdBQUdaLFdBQVdqb0IsR0FBTXNvQixrQkFDL0NyeUIsRUFBTW8wQyxvQkE4R1ZobkMsSUFBTXNuQyxHQUFxQmhkLEdBQVFuQyxJQUFNLFVBQVksVUFFckRpZCxHQUFTbUMsVUFBWSxTQUFDL2IsRUFBTTU0QixHQUMxQjQ0QixFQUFLa1EsU0FBVzlvQyxFQUFNOG9DLFNBQ3RCOS9CLElBQUk0ckMsRUFBVVosR0FBY3BiLEdBQ3hCdnhCLEVBQU1ILEtBQUtHLE1BQU81RSxFQUFPLGNBQ3pCNEUsRUFBTXV4QixFQUFLaWMsVUFBVWprQixLQUFPLEtBOUdsQyxTQUFnQjV3QixFQUFPODBDLEdBQ3JCOXJDLElBQUkyeEIsRUFBS21hLEVBQU1sWSxFQUFJNThCLEVBQU1rekMsUUFBUzZCLEVBQUtELEVBQU1wWSxFQUFJMThCLEVBQU1tekMsUUFDdkQsT0FBT3hZLEVBQUtBLEVBQUtvYSxFQUFLQSxFQUFLLElBNEdZQyxDQUFPaDFDLEVBQU80NEIsRUFBS2ljLGFBQWU3MEMsRUFBTTAwQyxNQUNsRCxlQUF2QjliLEVBQUtpYyxVQUFVcHlDLEtBQXVCQSxFQUFPLGNBQ2pCLGVBQXZCbTJCLEVBQUtpYyxVQUFVcHlDLE9BQXVCQSxFQUFPLGdCQUV4RG0yQixFQUFLaWMsVUFBWSxDQUFDamtCLEtBQU12cEIsRUFBS3UxQixFQUFHNThCLEVBQU1rekMsUUFBU3hXLEVBQUcxOEIsRUFBTW16QyxRQUFTMXdDLFFBRWpFdUcsSUFBSUssRUFBTXV2QixFQUFLb0MsWUFBWWlZLEdBQVlqekMsSUFDbENxSixJQUVPLGVBQVI1RyxFQUNGbTJCLEVBQUtxYyxVQUFZLElBQUksR0FBVXJjLEVBQU12dkIsRUFBS3JKLEVBQU80MEMsSUFDakMsZUFBUm55QyxFQUF3Qm94QyxHQUFvQkMsSUFBbUJsYixFQUFNdnZCLEVBQUlBLElBQUtBLEVBQUlxaEIsT0FBUTFxQixHQUNsR0EsRUFBTW8wQyxpQkFFTjFCLEdBQW1COVosRUFBTSxhQUc3QixJQUFNLEdBQ0osU0FBWUEsRUFBTXZ2QixFQUFLckosRUFBTzQwQyxHLElBU3hCOWQsRUFBWW9lLEUsT0FDaEIsR0FUQTkxQyxLQUFLdzVCLEtBQU9BLEVBQ2QsS0FBT21ULFNBQVduVCxFQUFLdmtCLE1BQU10RyxJQUMzQjNPLEtBQUtpSyxJQUFNQSxFQUNYakssS0FBS1ksTUFBUUEsRUFDYlosS0FBS3cxQyxRQUFVQSxFQUNmeDFDLEtBQUt3bUMsV0FBYTVsQyxFQUFNMDBDLElBQ3hCdDFDLEtBQUsrMUMsYUFBZW4xQyxFQUFNOG9DLFNBR3RCei9CLEVBQUlxaEIsUUFBVSxFQUNoQm9NLEVBQWE4QixFQUFLdmtCLE1BQU10RyxJQUFJaUQsT0FBTzNILEVBQUlxaEIsUUFDdkN3cUIsRUFBWTdyQyxFQUFJcWhCLFdBQ1gsQ0FDTDFoQixJQUFJZ2lCLEVBQU80TixFQUFLdmtCLE1BQU10RyxJQUFJNEIsUUFBUXRHLEVBQUlBLEtBQ3RDeXRCLEVBQWE5TCxFQUFLeG9CLE9BQ3BCLEVBQWN3b0IsRUFBS3BkLE1BQVFvZCxFQUFLOWMsU0FBVyxFQUczQzlPLEtBQUtnMkMsVUFBWSxLQUVuQixJQUFRcC9CLEVBQVM0K0IsRUFBVSxLQUFPNTBDLEVBQU1nVyxPQUNoQ3EvQixFQUFhci9CLEVBQVM0aUIsRUFBSzhDLFFBQVFDLFlBQVkzbEIsR0FBUSxHQUFRLEtBQ3ZFLEtBQU9BLE9BQVNxL0IsRUFBYUEsRUFBVy82QixJQUFNLE1BRXhDd2MsRUFBV3IwQixLQUFLbU0sS0FBS3d6QixZQUFpRCxJQUFwQ3RMLEVBQVdyMEIsS0FBS21NLEtBQUswbUMsWUFDdkQxYyxFQUFLdmtCLE1BQU15YyxxQkFBcUIsSUFBaUJva0IsR0FBYXRjLEVBQUt2a0IsTUFBTXljLFVBQVU1cUIsUUFDckY5RyxLQUFLZzJDLFVBQVksQ0FBQ25yQyxLQUFNNnNCLEVBQ1IsSUFBT29lLEVBQ1AsUUFBVzkxQyxLQUFLNFcsU0FBVzVXLEtBQUs0VyxPQUFPb3NCLFVBQ3JDbVQsY0FBZW4yQyxLQUFLNFcsUUFBVTBoQixHQUFRL0IsUUFBVXYyQixLQUFLNFcsT0FBT21zQixhQUFhLHFCQUV6Ri9pQyxLQUFLNFcsUUFBVTVXLEtBQUtnMkMsWUFBY2gyQyxLQUFLZzJDLFVBQVVJLFNBQVdwMkMsS0FBS2cyQyxVQUFVRyxpQkFDN0VuMkMsS0FBS3c1QixLQUFLdVAsWUFBWTlHLE9BQ2xCamlDLEtBQUtnMkMsVUFBVUksVUFBU3AyQyxLQUFLNFcsT0FBT29zQixXQUFZLEdBQ2hEaGpDLEtBQUtnMkMsVUFBVUcsZUFDakIvd0MsWUFBVyxXQUFHLE9BQUdwRixFQUFLNFcsT0FBT2lQLGFBQWEsa0JBQW1CLFdBQVUsSUFDekU3bEIsS0FBS3c1QixLQUFLdVAsWUFBWTMrQixTQUcxQixFQUFPeXhCLEtBQUtyNkIsaUJBQWlCLFVBQVd4QixLQUFLcTJDLEdBQUtyMkMsS0FBS3EyQyxHQUFHaDNDLEtBQUtXLE9BQy9ELEVBQU82N0IsS0FBS3I2QixpQkFBaUIsWUFBYXhCLEtBQUtzMkMsS0FBT3QyQyxLQUFLczJDLEtBQUtqM0MsS0FBS1csT0FDbkVzekMsR0FBbUI5WixFQUFNLFlBNEQ3QixTQUFTdWIsR0FBb0J2YixFQUFNNTRCLEdBQ2pDLFFBQUk0NEIsRUFBS2dLLGNBV0xsTCxHQUFRdkIsUUFBVTd1QixLQUFLaTFCLElBQUl2OEIsRUFBTTIxQyxVQUFZL2MsRUFBS2dkLG9CQUFzQixPQUMxRWhkLEVBQUtnZCxvQkFBc0IsS0FDcEIsR0F2RVgsYUFBRUMsS0FBQSxXQUNFejJDLEtBQUt3NUIsS0FBS3FDLEtBQUttUCxvQkFBb0IsVUFBV2hyQyxLQUFLcTJDLElBQ25EcjJDLEtBQUt3NUIsS0FBS3FDLEtBQUttUCxvQkFBb0IsWUFBYWhyQyxLQUFLczJDLE1BQ2pEdDJDLEtBQUtnMkMsV0FBYWgyQyxLQUFLNFcsU0FDekI1VyxLQUFLdzVCLEtBQUt1UCxZQUFZOUcsT0FDbEJqaUMsS0FBS2cyQyxVQUFVSSxVQUFTcDJDLEtBQUs0VyxPQUFPb3NCLFdBQVksR0FDaERoakMsS0FBS2cyQyxVQUFVRyxlQUFlbjJDLEtBQUs0VyxPQUFPeXdCLGdCQUFnQixtQkFDOURybkMsS0FBS3c1QixLQUFLdVAsWUFBWTMrQixTQUV4QnBLLEtBQUt3NUIsS0FBS3FjLFVBQVksTUFHMUIsYUFBRVEsR0FBQSxTQUFHejFDLEdBR0gsR0FGQSxLQUFPNjFDLE9BRUF6MkMsS0FBS3c1QixLQUFLdGUsSUFBSXVJLFNBQWtDLEdBQXpCN2lCLEVBQU1nVyxPQUFPbEQsU0FBZ0I5UyxFQUFNZ1csT0FBT3ZQLFdBQWF6RyxFQUFNZ1csUUFBM0YsQ0FHRWhOLElBQUlLLEVBQU1qSyxLQUFLaUssSUFDWGpLLEtBQUt3NUIsS0FBS3ZrQixNQUFNdEcsS0FBTzNPLEtBQUsyc0MsV0FBVTFpQyxFQUFNakssS0FBS3c1QixLQUFLb0MsWUFBWWlZLEdBQVlqekMsS0FFOUVaLEtBQUsrMUMsZUFBaUI5ckMsRUFDeEJxcEMsR0FBbUJ0ekMsS0FBS3c1QixLQUFNLFdBQ3JCNGEsR0FBa0JwMEMsS0FBS3c1QixLQUFNdnZCLEVBQUlBLElBQUtBLEVBQUlxaEIsT0FBUTFxQixFQUFPWixLQUFLd21DLFlBQ3pFLEVBQVF3TyxrQkFDR2gxQyxLQUFLdzFDLFdBUUpsZCxHQUFRN0IsUUFBWXoyQixLQUFLdzVCLEtBQUt2a0IsTUFBTXljLHFCQUFxQixJQUN4RHpuQixFQUFJQSxLQUFPakssS0FBS3c1QixLQUFLdmtCLE1BQU15YyxVQUFVNXFCLE1BQVFtRCxFQUFJQSxLQUFPakssS0FBS3c1QixLQUFLdmtCLE1BQU15YyxVQUFVM25CLElBSTdGdXBDLEdBQW1CdHpDLEtBQUt3NUIsS0FBTSxZQUhoQyxHQUFrQng1QixLQUFLdzVCLEtBQU0sR0FBVTNHLEtBQUs3eUIsS0FBS3c1QixLQUFLdmtCLE1BQU10RyxJQUFJNEIsUUFBUXRHLEVBQUlBLE1BQU8sV0FDbkYsRUFBUStxQyxvQkFNWixhQUFFc0IsS0FBQSxTQUFLMTFDLElBQ0VaLEtBQUsrMUMsZUFBaUI3dEMsS0FBS2kxQixJQUFJbjlCLEtBQUtZLE1BQU00OEIsRUFBSTU4QixFQUFNa3pDLFNBQVcsR0FDekM1ckMsS0FBS2kxQixJQUFJbjlCLEtBQUtZLE1BQU0wOEIsRUFBSTE4QixFQUFNbXpDLFNBQVcsS0FDbEUvekMsS0FBSysxQyxjQUFlLEdBQ3RCekMsR0FBbUJ0ekMsS0FBS3c1QixLQUFNLFlBSWxDNFosR0FBU3NELFVBQVksU0FBQWxkLEdBQ25Cb2IsR0FBY3BiLEdBQ2Q4WixHQUFtQjlaLEVBQU0sWUFHM0I0WixHQUFTdUQsWUFBYyxTQUFBbmQsR0FBSyxPQUFHb2IsR0FBY3BiLElBc0I3Q3hyQixJQUFNNG9DLEdBQXFCdGUsR0FBUTFCLFFBQVUsS0FBUSxFQTZDckQsU0FBU2lnQixHQUFtQnJkLEVBQU1zZCxHQUNoQzl5QyxhQUFhdzFCLEVBQUt1ZCxrQkFDZEQsR0FBUyxJQUFHdGQsRUFBS3VkLGlCQUFtQjN4QyxZQUFXLFdBQUcsT0FBR3l2QyxHQUFlcmIsS0FBT3NkLElBRzFFLFNBQVNqQyxHQUFlcmIsRUFBTXdkLEdBRW5DLElBREF4ZCxFQUFLZ0ssV0FBWSxFQUNWaEssRUFBS3lNLGlCQUFpQnRqQyxPQUFTLEdBQUc2MkIsRUFBS3lNLGlCQUFpQnp1QixNQUFNbXFCLG1CQUNyRSxTQUFJcVYsSUFBZXhkLEVBQUs4QyxRQUFRZ0QsU0FDOUI5RixFQUFLb0UsWUFBWXBFLEVBQUt2a0IsUUFDZixHQXJEWG8rQixHQUFhNEQsaUJBQW1CNUQsR0FBYTZELGtCQUFvQixTQUFBMWQsR0FDL0QsSUFBS0EsRUFBS2dLLFVBQVcsQ0FDbkJoSyxFQUFLdVAsWUFBWWtKLFFBQ2pCLGNBQW9Ccm1CLEVBQU8zVyxFQUFNeWMsVUFBVXZqQixNQUMzQyxHQUFJOEcsRUFBTXljLFVBQVVobUIsUUFDZnVKLEVBQU0yYyxjQUFpQmhHLEVBQUsvYyxZQUFjK2MsRUFBS3JkLGNBQWdCcWQsRUFBSzFjLFdBQVdDLE1BQU15VSxNQUFLLFNBQUEzbEIsR0FBRSxPQUE2QixJQUExQkEsRUFBRW9GLEtBQUttTSxLQUFLQyxjQUU5RytwQixFQUFLMmQsV0FBYTNkLEVBQUt2a0IsTUFBTTJjLGFBQWVoRyxFQUFLemMsUUFDakQwbEMsR0FBZXJiLEdBQU0sR0FDckJBLEVBQUsyZCxXQUFhLFVBTWxCLEdBSkF0QyxHQUFlcmIsR0FJWGxCLEdBQVEvQixPQUFTdGhCLEVBQU15YyxVQUFVaG1CLE9BQVNrZ0IsRUFBS3JkLGVBQWlCcWQsRUFBSy9jLFlBQWMrYyxFQUFLMWMsV0FBV0MsTUFBTXhNLE9BRTNHLElBREFpSCxJQUFJdTBCLEVBQU0zRSxFQUFLcUMsS0FBSzRDLGVBQ1g1ekIsRUFBT3N6QixFQUFJVSxVQUFXNXdCLEVBQVNrd0IsRUFBSVksWUFBYWwwQixHQUF5QixHQUFqQkEsRUFBSzZJLFVBQTJCLEdBQVZ6RixHQUFjLENBQ25HckUsSUFBSWtGLEVBQVNiLEVBQVMsRUFBSXBELEVBQUtNLFVBQVlOLEVBQUtnWSxXQUFXNVUsRUFBUyxHQUNwRSxJQUFLYSxFQUFRLE1BQ2IsR0FBdUIsR0FBbkJBLEVBQU80RSxTQUFlLENBQ3hCeXFCLEVBQUlpRCxTQUFTdHlCLEVBQVFBLEVBQU9vUyxVQUFVdmUsUUFDdEMsTUFFQWtJLEVBQU9pRSxFQUNQYixHQUFVLEVBS2xCdXJCLEVBQUtnSyxXQUFZLEVBRW5CcVQsR0FBbUJyZCxFQUFNb2QsS0FHM0J2RCxHQUFhK0QsZUFBaUIsU0FBQzVkLEVBQU01NEIsR0FDL0I0NEIsRUFBS2dLLFlBQ1BoSyxFQUFLZ0ssV0FBWSxFQUNqQmhLLEVBQUtnZCxtQkFBcUI1MUMsRUFBTTIxQyxVQUNoQ00sR0FBbUJyZCxFQUFNLE1BMkM3QnhyQixJQUFNcXBDLEdBQXNCL2UsR0FBUWxDLElBQU1rQyxHQUFRakMsV0FBYSxJQUN4RGlDLEdBQVEzQixLQUFPMkIsR0FBUXJCLGVBQWlCLElBdUMvQyxTQUFTcWdCLEdBQVE5ZCxFQUFNN3VCLEVBQU1va0MsRUFBTTlrQixHQUNqQ3JnQixJQUFJNUMsRUFBUThuQyxHQUFtQnRWLEVBQU03dUIsRUFBTW9rQyxFQUFNdlYsRUFBS2tRLFNBQVVsUSxFQUFLdmtCLE1BQU15YyxVQUFVdmpCLE9BQ3JGLElBQUlxckIsRUFBS0ksU0FBUyxlQUFlLFNBQUF4d0IsR0FBRSxPQUFHQSxFQUFFb3dCLEVBQU12UCxFQUFHampCLEdBQVMySyxFQUFNakcsV0FBWTFFLEVBQTVFLENBRUE0QyxJQUFJMnRDLEVBdkJOLFNBQXlCdndDLEdBQ3ZCLE9BQTBCLEdBQW5CQSxFQUFNcWpCLFdBQW1DLEdBQWpCcmpCLEVBQU1vWSxTQUE0QyxHQUE1QnBZLEVBQU14QixRQUFRdUcsV0FBa0IvRSxFQUFNeEIsUUFBUTZGLFdBQWEsS0FzQi9GbXNDLENBQWdCeHdDLEdBQzdCd3NCLEVBQUsrakIsRUFBYS9kLEVBQUt2a0IsTUFBTXVlLEdBQUdmLHFCQUFxQjhrQixFQUFZL2QsRUFBS2tRLFVBQVlsUSxFQUFLdmtCLE1BQU11ZSxHQUFHaEIsaUJBQWlCeHJCLEdBQ3JId3lCLEVBQUswTyxTQUFTMVUsRUFBR1AsaUJBQWlCSCxRQUFRLFNBQVMsR0FBTUEsUUFBUSxVQUFXLFdBM0M5RXNnQixHQUFTL3RDLEtBQU9ndUMsR0FBYTduQyxJQUFNLFNBQUNndUIsRUFBTXZQLEdBQ3hDcmdCLElBQUl1MEIsRUFBTTNFLEVBQUt2a0IsTUFBTXljLFVBQVdsbUIsRUFBZ0IsT0FBVnllLEVBQUU1bUIsS0FDeEMsSUFBSTg2QixFQUFJenlCLE1BQVIsQ0FHQTlCLElBQUk3SSxFQUFPczJDLEdBQXFCLEtBQU9wdEIsRUFBRXd0QixjLEVBQ0EvSSxHQUFzQmxWLEVBQW5EMkUsRUFBSTM0QixXQUFZMFYsRUFBQSxFQUFBQSxJQUFLdlEsRUFBQSxFQUFBQSxLQUM3QjVKLEdBQ0ZrcEIsRUFBRStxQixpQkFDRmowQyxFQUFLMjJDLFlBQ0wzMkMsRUFBSzQyQyxRQUFRLFlBQWF6OEIsRUFBSW8wQixXQUM5QnZ1QyxFQUFLNDJDLFFBQVEsYUFBY2h0QyxJQXRDL0IsU0FBcUI2dUIsRUFBTXRlLEdBR3pCdFIsSUFBSStFLEVBQU02cUIsRUFBS3RlLElBQUlrSCxjQUNmakQsRUFBT3hRLEVBQUlxckIsS0FBS256QixZQUFZOEgsRUFBSXRJLGNBQWMsUUFDbEQ4WSxFQUFLdFksWUFBWXFVLEdBQ2pCaUUsRUFBS2xFLE1BQU13cUIsUUFBVSw2Q0FDckI3N0IsSUFBSXUwQixFQUFNTSxlQUFnQnpULEVBQVFyYyxFQUFJMG9CLGNBQ3RDck0sRUFBTTRzQixtQkFBbUIxOEIsR0FJekJzZSxFQUFLdGUsSUFBSTI4QixPQUNUMVosRUFBSWdCLGtCQUNKaEIsRUFBSWlCLFNBQVNwVSxHQUNiNWxCLFlBQVcsV0FDVHVKLEVBQUlxckIsS0FBSzF5QixZQUFZNlgsR0FDckJxYSxFQUFLcUUsVUFDSixJQXNCRGlhLENBQVl0ZSxFQUFNdGUsR0FFaEIxUCxHQUFLZ3VCLEVBQUswTyxTQUFTMU8sRUFBS3ZrQixNQUFNdWUsR0FBR2Isa0JBQWtCTSxpQkFBaUJILFFBQVEsVUFBVyxVQStCN0Z1Z0IsR0FBYTBFLE1BQVEsU0FBQ3ZlLEVBQU12UCxHQUMxQnJnQixJQUFJN0ksRUFBT3MyQyxHQUFxQixLQUFPcHRCLEVBQUV3dEIsY0FDckMxSSxFQUFPaHVDLEdBQVFBLEVBQUtpM0MsUUFBUSxhQUFjcnRDLEVBQU81SixHQUFRQSxFQUFLaTNDLFFBQVEsY0FDdEVqM0MsSUFBU2d1QyxHQUFRcGtDLEdBQVE1SixFQUFLazNDLE1BQU10MUMsU0FDdEMyMEMsR0FBUTlkLEVBQU03dUIsRUFBTW9rQyxFQUFNOWtCLEdBQzFCQSxFQUFFK3FCLGtCQTdCTixTQUFzQnhiLEVBQU12UCxHQUMxQnJnQixJQUFJK0UsRUFBTTZxQixFQUFLdGUsSUFBSWtILGNBQ2Y0c0IsRUFBWXhWLEVBQUtrUSxVQUFZbFEsRUFBS3ZrQixNQUFNeWMsVUFBVXZqQixNQUFNL0ssT0FBT0MsS0FBS21NLEtBQUtxcEIsS0FDekVqaUIsRUFBU2pJLEVBQUlxckIsS0FBS256QixZQUFZOEgsRUFBSXRJLGNBQWMyb0MsRUFBWSxXQUFhLFFBQ3hFQSxJQUFXcDRCLEVBQU9vaEIsZ0JBQWtCLFFBQ3pDcGhCLEVBQU9xRSxNQUFNd3FCLFFBQVUsNkNBQ3ZCN3VCLEVBQU9pbkIsUUFDUHo0QixZQUFXLFdBQ1RvMEIsRUFBS3FFLFFBQ0xsdkIsRUFBSXFyQixLQUFLMXlCLFlBQVlzUCxHQUNqQm80QixFQUFXc0ksR0FBUTlkLEVBQU01aUIsRUFBTzlYLE1BQU8sS0FBTW1yQixHQUM1Q3F0QixHQUFROWQsRUFBTTVpQixFQUFPdkYsWUFBYXVGLEVBQU8wNEIsVUFBV3JsQixLQUN4RCxJQW1CRGl1QixDQUFhMWUsRUFBTXZQLElBSXZCLElBQU1rdUIsR0FDSixTQUFZbnhDLEVBQU9zdkMsR0FDakJ0MkMsS0FBS2dILE1BQVFBLEVBQ2JoSCxLQUFLczJDLEtBQU9BLEdBSVY4QixHQUFtQjlmLEdBQVFuQyxJQUFNLFNBQVcsVUFzSGxELElBQUt2c0IsSUFBSSxNQXBIVHdwQyxHQUFTaUYsVUFBWSxTQUFDN2UsRUFBTXZQLEdBQzFCcmdCLElBQUlpc0MsRUFBWXJjLEVBQUtxYyxVQUVyQixHQURJQSxHQUFXQSxFQUFVWSxPQUNwQnhzQixFQUFFcXVCLGFBQVAsQ0FFQTF1QyxJQUFJdTBCLEVBQU0zRSxFQUFLdmtCLE1BQU15YyxVQUNqQnpuQixFQUFNazBCLEVBQUl6eUIsTUFBUSxLQUFPOHRCLEVBQUtvQyxZQUFZaVksR0FBWTVwQixJQUMxRCxHQUFJaGdCLEdBQU9BLEVBQUlBLEtBQU9rMEIsRUFBSXIzQixNQUFRbUQsRUFBSUEsTUFBUWswQixhQUFlLEdBQWdCQSxFQUFJcDBCLEdBQUssRUFBR28wQixFQUFJcDBCLFVBRXRGLEdBQUk4ckMsR0FBYUEsRUFBVUcsVUFDaEN4YyxFQUFLME8sU0FBUzFPLEVBQUt2a0IsTUFBTXVlLEdBQUd6QixhQUFhLEdBQWM1eUIsT0FBT3E2QixFQUFLdmtCLE1BQU10RyxJQUFLa25DLEVBQVVHLFVBQVUvckMsWUFDN0YsR0FBSWdnQixFQUFFclQsUUFBK0IsR0FBckJxVCxFQUFFclQsT0FBT2xELFNBQWUsQ0FDN0M5SixJQUFJd3BCLEVBQU9vRyxFQUFLOEMsUUFBUUMsWUFBWXRTLEVBQUVyVCxRQUFRLEdBQzlDLElBQUt3YyxJQUFTQSxFQUFLdm9CLEtBQUt4SCxLQUFLbU0sS0FBS3d6QixXQUFhNVAsR0FBUW9HLEVBQUs4QyxRQUFTLE9BQ3JFOUMsRUFBSzBPLFNBQVMxTyxFQUFLdmtCLE1BQU11ZSxHQUFHekIsYUFBYSxHQUFjNXlCLE9BQU9xNkIsRUFBS3ZrQixNQUFNdEcsSUFBS3lrQixFQUFLb0osYUFFckY1eUIsSUFBSTVDLEVBQVF3eUIsRUFBS3ZrQixNQUFNeWMsVUFBVWxzQixVLEVBQXlCa3BDLEdBQXNCbFYsRUFBTXh5QixHQUF6Q2tVLEVBQUEsRUFBQUEsSUFBS3ZRLEVBQUEsRUFBQUEsS0FDbERzZixFQUFFcXVCLGFBQWFaLFlBQ2Z6dEIsRUFBRXF1QixhQUFhWCxRQUFRTixHQUFxQixPQUFTLFlBQWFuOEIsRUFBSW8wQixXQUNqRStILElBQW9CcHRCLEVBQUVxdUIsYUFBYVgsUUFBUSxhQUFjaHRDLEdBQzlENnVCLEVBQUsrZSxTQUFXLElBQUlKLEdBQVNueEMsR0FBUWlqQixFQUFFbXVCLE9BR3pDaEYsR0FBU29GLFFBQVUsU0FBQWhmLEdBQ2pCLzNCLE9BQU8yRCxZQUFXLFdBQUcsT0FBR28wQixFQUFLK2UsU0FBVyxPQUFNLEtBR2hEbEYsR0FBYW9GLFNBQVdwRixHQUFhcUYsVUFBWSxTQUFDbmxDLEVBQUcwVyxHQUFHLE9BQUdBLEVBQUUrcUIsa0JBRTdEM0IsR0FBYXNGLEtBQU8sU0FBQ25mLEVBQU12UCxHQUN6QnJnQixJQUFJMnVDLEVBQVcvZSxFQUFLK2UsU0FHcEIsR0FGQS9lLEVBQUsrZSxTQUFXLEtBRVh0dUIsRUFBRXF1QixhQUFQLENBRUExdUMsSUFBSWd2QyxFQUFXcGYsRUFBS29DLFlBQVlpWSxHQUFZNXBCLElBQzVDLEdBQUsydUIsRUFBTCxDQUNBaHZDLElBQUlpdkMsRUFBU3JmLEVBQUt2a0IsTUFBTXRHLElBQUk0QixRQUFRcW9DLEVBQVMzdUMsS0FDN0MsR0FBSzR1QyxFQUFMLENBQ0FqdkMsSUFBSTVDLEVBQVF1eEMsR0FBWUEsRUFBU3Z4QyxPQUM3QjhuQyxHQUFtQnRWLEVBQU12UCxFQUFFcXVCLGFBQWFOLFFBQVFYLEdBQXFCLE9BQVMsY0FDM0RBLEdBQXFCLEtBQU9wdEIsRUFBRXF1QixhQUFhTixRQUFRLGNBQWMsRUFBT2EsR0FDL0YsR0FBSzd4QyxJQUVMaWpCLEVBQUUrcUIsa0JBQ0V4YixFQUFLSSxTQUFTLGNBQWMsU0FBQXh3QixHQUFFLE9BQUdBLEVBQUVvd0IsRUFBTXZQLEVBQUdqakIsRUFBT3V4QyxHQUFZQSxFQUFTakMsVUFBNUUsQ0FDQTFzQyxJQUFJa3ZDLEVBQVk5eEMsRWQvVFgsU0FBbUIySCxFQUFLMUUsRUFBS2pELEdBQ2xDNEMsSUFBSWdpQixFQUFPamQsRUFBSTRCLFFBQVF0RyxHQUN2QixJQUFLakQsRUFBTXhCLFFBQVE4RCxLQUFNLE9BQU9XLEVBRWhDLElBREFMLElBQUlwRSxFQUFVd0IsRUFBTXhCLFFBQ1gzSCxFQUFJLEVBQUdBLEVBQUltSixFQUFNcWpCLFVBQVd4c0IsSUFBSzJILEVBQVVBLEVBQVE2RixXQUFXN0YsUUFDdkUsSUFBS29FLElBQUlpa0IsRUFBTyxFQUFHQSxJQUE0QixHQUFuQjdtQixFQUFNcWpCLFdBQWtCcmpCLEVBQU1zQyxLQUFPLEVBQUksR0FBSXVrQixJQUN2RSxJQUFLamtCLElBQUl6TCxFQUFJeXRCLEVBQUtwZCxNQUFPclEsR0FBSyxFQUFHQSxJQUFLLENBQ3BDeUwsSUFBSWd6QixFQUFPeitCLEdBQUt5dEIsRUFBS3BkLE1BQVEsRUFBSW9kLEVBQUszaEIsTUFBUTJoQixFQUFLeGhCLE1BQU1qTSxFQUFJLEdBQUt5dEIsRUFBS3poQixJQUFJaE0sRUFBSSxJQUFNLEdBQUssRUFBSSxFQUMxRjI2QyxFQUFZbHRCLEVBQUtoZ0IsTUFBTXpOLElBQU15K0IsRUFBTyxFQUFJLEVBQUksR0FDaEQsR0FBWSxHQUFSL08sRUFDRWpDLEVBQUsvZ0IsS0FBSzFNLEdBQUd1VSxXQUFXb21DLEVBQVdBLEVBQVd0ekMsR0FDOUNvbUIsRUFBSy9nQixLQUFLMU0sR0FBR2tVLGVBQWV5bUMsR0FBV25pQyxhQUFhblIsRUFBUTZGLFdBQVdoSSxNQUMzRSxPQUFlLEdBQVJ1NUIsRUFBWWhSLEVBQUszaEIsSUFBTTJ5QixFQUFPLEVBQUloUixFQUFLOWMsT0FBTzNRLEVBQUksR0FBS3l0QixFQUFLN2MsTUFBTTVRLEVBQUksR0FHbkYsT0FBTyxLY2dUaUI0NkMsQ0FBVXZmLEVBQUt2a0IsTUFBTXRHLElBQUtrcUMsRUFBTzV1QyxJQUFLakQsR0FBUzZ4QyxFQUFPNXVDLElBQzdELE1BQWI2dUMsSUFBbUJBLEVBQVlELEVBQU81dUMsS0FFMUNMLElBQUk0cEIsRUFBS2dHLEVBQUt2a0IsTUFBTXVlLEdBQ2hCK2tCLEdBQVlBLEVBQVNqQyxNQUFNOWlCLEVBQUdiLGtCQUVsQy9vQixJQUFJSyxFQUFNdXBCLEVBQUd0TCxRQUFRNWpCLElBQUl3MEMsR0FDckJFLEVBQTRCLEdBQW5CaHlDLEVBQU1xakIsV0FBbUMsR0FBakJyakIsRUFBTW9ZLFNBQTRDLEdBQTVCcFksRUFBTXhCLFFBQVF1RyxXQUNyRWt0QyxFQUFlemxCLEVBQUc3a0IsSUFLdEIsR0FKSXFxQyxFQUNGeGxCLEVBQUdwQyxpQkFBaUJubkIsRUFBS0EsRUFBS2pELEVBQU14QixRQUFRNkYsWUFFNUNtb0IsRUFBR2hELGFBQWF2bUIsRUFBS0EsRUFBS2pELElBQ3hCd3NCLEVBQUc3a0IsSUFBSTdDLEdBQUdtdEMsR0FBZCxDQUVBcnZDLElBQUlnaUIsRUFBTzRILEVBQUc3a0IsSUFBSTRCLFFBQVF0RyxHQUN0Qit1QyxHQUFVLEdBQWMxUSxhQUFhdGhDLEVBQU14QixRQUFRNkYsYUFDbkR1Z0IsRUFBSzVjLFdBQWE0YyxFQUFLNWMsVUFBVTFELFdBQVd0RSxFQUFNeEIsUUFBUTZGLFlBQzVEbW9CLEVBQUd6QixhQUFhLElBQUksR0FBY25HLElBRWxDNEgsRUFBR3pCLGFBQWFpWSxHQUFpQnhRLEVBQU01TixFQUFNNEgsRUFBRzdrQixJQUFJNEIsUUFBUWlqQixFQUFHdEwsUUFBUTVqQixJQUFJdzBDLE1BQzdFdGYsRUFBS3FFLFFBQ0xyRSxFQUFLME8sU0FBUzFVLEVBQUdWLFFBQVEsVUFBVyxlQUd0Q3NnQixHQUFTdlYsTUFBUSxTQUFBckUsR0FDVkEsRUFBSzJhLFVBQ1IzYSxFQUFLdVAsWUFBWTlHLE9BQ2pCekksRUFBS3RlLElBQUk4bUIsVUFBVWhkLElBQUksdUJBQ3ZCd1UsRUFBS3VQLFlBQVkzK0IsUUFDakJvdkIsRUFBSzJhLFNBQVUsRUFDZi91QyxZQUFXLFdBQ0xvMEIsRUFBSzhDLFNBQVc5QyxFQUFLNFEsYUFBZTVRLEVBQUt1UCxZQUFZbUosaUJBQWlCcG1DLEdBQUcwdEIsRUFBS3FDLEtBQUs0QyxpQkFDckZ3TCxHQUFlelEsS0FDaEIsTUFJUDRaLEdBQVN5RSxLQUFPLFNBQUFyZSxHQUNWQSxFQUFLMmEsVUFDUDNhLEVBQUt1UCxZQUFZOUcsT0FDakJ6SSxFQUFLdGUsSUFBSThtQixVQUFVcDVCLE9BQU8sdUJBQzFCNHdCLEVBQUt1UCxZQUFZMytCLFFBQ2pCb3ZCLEVBQUt1UCxZQUFZbUosaUJBQWlCbjlCLElBQUksSUFDdEN5a0IsRUFBSzJhLFNBQVUsSUFJbkJmLEdBQVM4RixZQUFjLFNBQUMxZixFQUFNNTRCLEdBTTVCLEdBQUkwM0IsR0FBUTdCLFFBQVU2QixHQUFRMUIsU0FBOEIseUJBQW5CaDJCLEVBQU11NEMsVUFBc0MsQ0FDOUUsSUFBQTdMLEVBQUEsRUFBQUEsZUFDTGxvQyxZQUFXLFdBQ1QsR0FBSW8wQixFQUFLOFQsZ0JBQWtCQSxJQUUzQjlULEVBQUt0ZSxJQUFJMjhCLE9BQ1RyZSxFQUFLcUUsU0FDRHJFLEVBQUtJLFNBQVMsaUJBQWlCLFNBQUF4d0IsR0FBRSxPQUFHQSxFQUFFb3dCLEVBQU1mLEdBQVMsRUFBRyxrQkFBNUQsQ0FDQSxJQUFLN0UsRUFBVzRGLEVBQUt2a0IsTUFBTXljLFVBQXRCa0MsUUFFREEsR0FBV0EsRUFBUTNwQixJQUFNLEdBQUd1dkIsRUFBSzBPLFNBQVMxTyxFQUFLdmtCLE1BQU11ZSxHQUFHN0QsT0FBT2lFLEVBQVEzcEIsSUFBTSxFQUFHMnBCLEVBQVEzcEIsS0FBS2dwQixxQkFDaEcsTUFLVW9nQixHQUFjRCxHQUFTLElBQVFDLEdBQWEsSUNocEI3RCxTQUFTK0YsR0FBWWp0QyxFQUFHQyxHQUN0QixHQUFJRCxHQUFLQyxFQUFHLE9BQU8sRUFDbkIsSUFBS3hDLElBQUlqSyxLQUFLd00sRUFBRyxHQUFJQSxFQUFFeE0sS0FBT3lNLEVBQUV6TSxHQUFJLE9BQU8sRUFDM0MsSUFBS2lLLElBQUlqSyxLQUFLeU0sRUFBRyxLQUFNek0sS0FBS3dNLEdBQUksT0FBTyxFQUN2QyxPQUFPLEVBR1QsSUFBTWt0QyxHQUNKLFNBQVk1MEIsRUFBT2pWLEdBQ2pCeFAsS0FBS3dQLEtBQU9BLEdBQVE4cEMsR0FDdEIsS0FBT2hnQixLQUFPdDVCLEtBQUt3UCxLQUFLOHBCLE1BQVEsRUFDOUJ0NUIsS0FBS3lrQixNQUFRQSxHQUdqQixhQUFFbmdCLElBQUEsU0FBSTRqQixFQUFTcXhCLEVBQU10ckMsRUFBUXVyQyxHQUMzQixNQUF1QnR4QixFQUFRckIsVUFBVTB5QixFQUFLenlDLEtBQU8weUMsRUFBV3g1QyxLQUFLczVCLEtBQU8sR0FBSyxFQUFJLEdBQTlFcnZCLEVBQUEsRUFBQUEsSUFDTCxPQURVLEVBQUFxYyxRQUNPLEtBQU8sSUFBSW16QixHQUFXeHZDLEVBQU1nRSxFQUFRaEUsRUFBTWdFLEVBQVFqTyxPQUd2RSxhQUFFMDVDLE1BQUEsV0FBVSxPQUFPLEdBRW5CLGFBQUU1dEMsR0FBQSxTQUFHYixHQUNILE9BQVNqTCxNQUFRaUwsR0FDWkEsYUFBaUJvdUMsS0FDaEJyNUMsS0FBS3dQLEtBQUtwUSxLQUFPWSxLQUFLd1AsS0FBS3BRLEtBQU82TCxFQUFNdUUsS0FBS3BRLEtBQzdDWSxLQUFLeWtCLE9BQVN4WixFQUFNd1osT0FBUzIwQixHQUFZcDVDLEtBQUt3UCxLQUFNdkUsRUFBTXVFLFFBSWxFLElBQU1tcUMsR0FDSixTQUFZNXJDLEVBQU95QixHQUNqQnhQLEtBQUt3UCxLQUFPQSxHQUFROHBDLEdBQ3BCdDVDLEtBQUsrTixNQUFRQSxHQUdqQixhQUFFekosSUFBQSxTQUFJNGpCLEVBQVNxeEIsRUFBTXRyQyxFQUFRdXJDLEdBQzNCLElBQU0xeUMsRUFBT29oQixFQUFRNWpCLElBQUlpMUMsRUFBS3p5QyxLQUFPMHlDLEVBQVd4NUMsS0FBS3dQLEtBQUtvcUMsZ0JBQWtCLEVBQUksR0FBSzNyQyxFQUMvRWxFLEVBQUttZSxFQUFRNWpCLElBQUlpMUMsRUFBS3h2QyxHQUFLeXZDLEVBQVd4NUMsS0FBS3dQLEtBQUtxcUMsYUFBZSxHQUFLLEdBQUs1ckMsRUFDN0UsT0FBT25ILEdBQVFpRCxFQUFLLEtBQU8sSUFBSTB2QyxHQUFXM3lDLEVBQU1pRCxFQUFJL0osT0FHeEQsYUFBRTA1QyxNQUFBLFNBQU1ubUMsRUFBR2dtQyxHQUFRLE9BQU9BLEVBQUt6eUMsS0FBT3l5QyxFQUFLeHZDLElBRTNDLGFBQUUrQixHQUFBLFNBQUdiLEdBQ0gsT0FBU2pMLE1BQVFpTCxHQUNaQSxhQUFpQjB1QyxJQUFjUCxHQUFZcDVDLEtBQUsrTixNQUFPOUMsRUFBTThDLFFBQy9ELEdBQWMvTixLQUFLd1AsS0FBTXZFLEVBQU11RSxPQUdsQyxHQUFPc3FDLEdBQUEsU0FBR1AsR0FBUSxPQUFPQSxFQUFLbDJDLGdCQUFnQnMyQyxJQUdoRCxJQUFNLEdBQ0osU0FBWTVyQyxFQUFPeUIsR0FDakJ4UCxLQUFLd1AsS0FBT0EsR0FBUThwQyxHQUNwQnQ1QyxLQUFLK04sTUFBUUEsR0FHakIsYUFBRXpKLElBQUEsU0FBSTRqQixFQUFTcXhCLEVBQU10ckMsRUFBUXVyQyxHQUN6QjV2QyxJQUFJOUMsRUFBT29oQixFQUFRckIsVUFBVTB5QixFQUFLenlDLEtBQU8weUMsRUFBVyxHQUNwRCxHQUFJMXlDLEVBQUt3ZixRQUFTLE9BQU8sS0FDekIxYyxJQUFJRyxFQUFLbWUsRUFBUXJCLFVBQVUweUIsRUFBS3h2QyxHQUFLeXZDLEdBQVksR0FDakQsT0FBSXp2QyxFQUFHdWMsU0FBV3ZjLEVBQUdFLEtBQU9uRCxFQUFLbUQsSUFBWSxLQUN0QyxJQUFJd3ZDLEdBQVczeUMsRUFBS21ELElBQU1nRSxFQUFRbEUsRUFBR0UsSUFBTWdFLEVBQVFqTyxPQUc5RCxhQUFFMDVDLE1BQUEsU0FBTTd1QyxFQUFNMHVDLEdBQ1osTUFBd0IxdUMsRUFBS3JGLFFBQVF5SCxVQUFVc3NDLEVBQUt6eUMsTUFBN0M4RSxFQUFBLEVBQUFBLE1BQU9xQyxFQUFBLEVBQUFBLE9BQ2QsT0FBU0EsR0FBVXNyQyxFQUFLenlDLE1BQVFtSCxFQUFTcEQsRUFBS1gsTUFBTTBCLEdBQU8vQixVQUFZMHZDLEVBQUt4dkMsSUFHOUUsYUFBRStCLEdBQUEsU0FBR2IsR0FDSCxPQUFTakwsTUFBUWlMLEdBQ1pBLGFBQWlCLElBQVltdUMsR0FBWXA1QyxLQUFLK04sTUFBTzlDLEVBQU04QyxRQUM3RCxHQUFjL04sS0FBS3dQLEtBQU12RSxFQUFNdUUsT0FPcEMsSUFBYWlxQyxHQUNYLFNBQVkzeUMsRUFBTWlELEVBQUkxRyxHQUdwQnJELEtBQUs4RyxLQUFPQSxFQUlaOUcsS0FBSytKLEdBQUtBLEVBQ1YvSixLQUFLcUQsS0FBT0EsRyw0QkFHaEIsYUFBRWdDLEtBQUEsU0FBS3lCLEVBQU1pRCxHQUNYLE9BQVMsSUFBSTB2QyxHQUFXM3lDLEVBQU1pRCxFQUFJL0osS0FBS3FELE9BR3pDLGFBQUV5SSxHQUFBLFNBQUdiLEdBQ0gsT0FBU2pMLEtBQUtxRCxLQUFLeUksR0FBR2IsRUFBTTVILE9BQVNyRCxLQUFLOEcsTUFBUW1FLEVBQU1uRSxNQUFROUcsS0FBSytKLElBQU1rQixFQUFNbEIsSUFHbkYsYUFBRXpGLElBQUEsU0FBSTRqQixFQUFTamEsRUFBUXVyQyxHQUNuQixPQUFPeDVDLEtBQUtxRCxLQUFLaUIsSUFBSTRqQixFQUFTbG9CLEtBQU1pTyxFQUFRdXJDLElBb0RoRCxHQUFTMVgsT0FBQSxTQUFPNzNCLEVBQUt3YSxFQUFPalYsR0FDeEIsT0FBTyxJQUFJaXFDLEdBQVd4dkMsRUFBS0EsRUFBSyxJQUFJb3ZDLEdBQVc1MEIsRUFBT2pWLEtBb0IxRCxHQUFTNkgsT0FBQSxTQUFPdlEsRUFBTWlELEVBQUlnRSxFQUFPeUIsR0FDN0IsT0FBTyxJQUFJaXFDLEdBQVczeUMsRUFBTWlELEVBQUksSUFBSTR2QyxHQUFXNXJDLEVBQU95QixLQVkxRCxHQUFTM0UsS0FBQSxTQUFLL0QsRUFBTWlELEVBQUlnRSxFQUFPeUIsR0FDM0IsT0FBTyxJQUFJaXFDLEdBQVczeUMsRUFBTWlELEVBQUksSUFBSSxHQUFTZ0UsRUFBT3lCLEtBTXhEcEIsR0FBTW9CLEtBQUEsZUFBUyxPQUFPeFAsS0FBS3FELEtBQUttTSxNLHlDQW1CaEN4QixJQUFNcUIsR0FBTyxHQUFJaXFDLEdBQVMsR0FNYlMsR0FDWCxTQUFZQyxFQUFPejBDLEdBQ2pCdkYsS0FBS2c2QyxNQUFRQSxHQUFTQSxFQUFNcjNDLE9BQVNxM0MsRUFBUTNxQyxHQUM3Q3JQLEtBQUt1RixTQUFXQSxHQUFZQSxFQUFTNUMsT0FBUzRDLEVBQVc4SixJQU0zRCxHQUFPbFEsT0FBQSxTQUFPd1AsRUFBS3NyQyxHQUNqQixPQUFPQSxFQUFZdDNDLE9BQVN1M0MsR0FBVUQsRUFBYXRyQyxFQUFLLEVBQUcycUMsSUFBVSxJQVV6RSxhQUFFcnlDLEtBQUEsU0FBS21ELEVBQU9ELEVBQUtnd0MsR0FDZnZ3QyxJQUFJSCxFQUFTLEdBRWIsT0FERixLQUFPMndDLFVBQW1CLE1BQVRod0MsRUFBZ0IsRUFBSUEsRUFBYyxNQUFQRCxFQUFjLElBQU1BLEVBQUtWLEVBQVEsRUFBRzB3QyxHQUN2RTF3QyxHQUdYLGFBQUUyd0MsVUFBQSxTQUFVaHdDLEVBQU9ELEVBQUtWLEVBQVF3RSxFQUFRa3NDLEdBQ3BDLElBQUt2d0MsSUFBSS9MLEVBQUksRUFBR0EsRUFBSW1DLEtBQUtnNkMsTUFBTXIzQyxPQUFROUUsSUFBSyxDQUM1QyxJQUFNMDdDLEVBQU92NUMsS0FBS2c2QyxNQUFNbjhDLEdBQ2xCMDdDLEVBQUt6eUMsTUFBUXFELEdBQU9vdkMsRUFBS3h2QyxJQUFNSyxLQUFXK3ZDLEdBQWFBLEVBQVVaLEVBQUsvcEMsUUFDeEUvRixFQUFPdEcsS0FBS28yQyxFQUFLbDBDLEtBQUtrMEMsRUFBS3p5QyxLQUFPbUgsRUFBUXNyQyxFQUFLeHZDLEdBQUtrRSxJQUV4RCxJQUFLckUsSUFBSS9MLEVBQUksRUFBR0EsRUFBSW1DLEtBQUt1RixTQUFTNUMsT0FBUTlFLEdBQUssRUFDL0MsR0FBTW1DLEtBQUt1RixTQUFTMUgsR0FBS3NNLEdBQU9uSyxLQUFLdUYsU0FBUzFILEVBQUksR0FBS3VNLEVBQU8sQ0FDNUQsSUFBTWl3QyxFQUFXcjZDLEtBQUt1RixTQUFTMUgsR0FBSyxFQUNwQyxLQUFPMEgsU0FBUzFILEVBQUksR0FBR3U4QyxVQUFVaHdDLEVBQVFpd0MsRUFBVWx3QyxFQUFNa3dDLEVBQVU1d0MsRUFBUXdFLEVBQVNvc0MsRUFBVUYsS0FlcEcsYUFBRTcxQyxJQUFBLFNBQUk0akIsRUFBU3ZaLEVBQUtrTCxHQUNoQixPQUFJN1osTUFBUSxJQUFnQyxHQUF2QmtvQixFQUFRUixLQUFLL2tCLE9BQW9CM0MsS0FDL0NBLEtBQUtzNkMsU0FBU3B5QixFQUFTdlosRUFBSyxFQUFHLEVBQUdrTCxHQUFXeS9CLEtBR3hELGFBQUVnQixTQUFBLFNBQVNweUIsRUFBU3JkLEVBQU1vRCxFQUFRdXJDLEVBQVczL0IsR0FFekMsSUFERixJQUFNMGdDLEVBQ0sxOEMsRUFBSSxFQUFHQSxFQUFJbUMsS0FBS2c2QyxNQUFNcjNDLE9BQVE5RSxJQUFLLENBQzFDK0wsSUFBSXZGLEVBQVNyRSxLQUFLZzZDLE1BQU1uOEMsR0FBR3lHLElBQUk0akIsRUFBU2phLEVBQVF1ckMsR0FDNUNuMUMsR0FBVUEsRUFBT2hCLEtBQUtxMkMsTUFBTTd1QyxFQUFNeEcsSUFBVWsyQyxJQUFhQSxFQUFXLEtBQUtwM0MsS0FBS2tCLEdBQ3pFd1YsRUFBUTJnQyxVQUFVM2dDLEVBQVEyZ0MsU0FBU3g2QyxLQUFLZzZDLE1BQU1uOEMsR0FBRzJSLE1BRzVELE9BQUl4UCxLQUFLdUYsU0FBUzVDLE9Ba010QixTQUFxQjgzQyxFQUFhRixFQUFVcnlCLEVBQVNyZCxFQUFNb0QsRUFBUXVyQyxFQUFXMy9CLEdBaUI1RSxJQWhCQWpRLElBQUlyRSxFQUFXazFDLEVBQVl6ekMsUUFJdkJpUSxFQUFRLFNBQUNxUSxFQUFVb3pCLEVBQVFuekIsRUFBVW96QixHQUN2QyxJQUFLL3dDLElBQUkvTCxFQUFJLEVBQUdBLEVBQUkwSCxFQUFTNUMsT0FBUTlFLEdBQUssRUFBRyxDQUMzQytMLElBQUlPLEVBQU01RSxFQUFTMUgsRUFBSSxHQUFJKzhDLE9BQUEsR0FDZixHQUFSendDLEdBQWFtZCxFQUFXbmQsRUFBTXF2QyxJQUM5QmtCLEdBQVVuMUMsRUFBUzFILEdBQUsyN0MsRUFDMUJqMEMsRUFBUzFILEVBQUksSUFBTSxHQUNWKzhDLEVBQVNELEVBQVNwekIsR0FBYW16QixFQUFTcHpCLElBQWFreUIsRUFBWXZyQyxNQUMxRTFJLEVBQVMxSCxJQUFNKzhDLEVBQ2ZyMUMsRUFBUzFILEVBQUksSUFBTSs4QyxNQUloQi84QyxFQUFJLEVBQUdBLEVBQUlxcUIsRUFBUVIsS0FBSy9rQixPQUFROUUsSUFBS3FxQixFQUFRUixLQUFLN3BCLEdBQUdzTCxRQUFROE4sR0FLdEUsSUFEQXJOLElBQUlpeEMsR0FBYyxFQUNUaDlDLEVBQUksRUFBR0EsRUFBSTBILEVBQVM1QyxPQUFROUUsR0FBSyxFQUFHLElBQXdCLEdBQXBCMEgsRUFBUzFILEVBQUksR0FBVSxDQUN0RStMLElBQUk5QyxFQUFPb2hCLEVBQVE1akIsSUFBSWlCLEVBQVMxSCxHQUFLMjdDLEdBQVlzQixFQUFZaDBDLEVBQU9tSCxFQUNwRSxHQUFJNnNDLEVBQVksR0FBS0EsR0FBYWp3QyxFQUFLckYsUUFBUThELEtBQU0sQ0FDbkR1eEMsR0FBYyxFQUNkLFNBR0ZqeEMsSUFBMERteEMsRUFBakQ3eUIsRUFBUTVqQixJQUFJbTJDLEVBQVk1OEMsRUFBSSxHQUFLMjdDLEdBQVksR0FBbUJ2ckMsRUFDekUsRUFBbUNwRCxFQUFLckYsUUFBUXlILFVBQVU2dEMsR0FBckRsdkMsRUFBQSxFQUFBQSxNQUFlb3ZDLEVBQUEsU0FDaEJDLEVBQVlwd0MsRUFBS29CLFdBQVdMLEdBQ2hDLEdBQUlxdkMsR0FBYUQsR0FBZUYsR0FBYUUsRUFBY0MsRUFBVXB4QyxVQUFZa3hDLEVBQVMsQ0FDeEZueEMsSUFBSXZGLEVBQVNrQixFQUFTMUgsRUFBSSxHQUFHeThDLFNBQVNweUIsRUFBUyt5QixFQUFXbjBDLEVBQU8sRUFBR3ZCLEVBQVMxSCxHQUFLMjdDLEVBQVksRUFBRzMvQixHQUM3RnhWLEdBQVUsSUFDWmtCLEVBQVMxSCxHQUFLaTlDLEVBQ2R2MUMsRUFBUzFILEVBQUksR0FBS2s5QyxFQUNsQngxQyxFQUFTMUgsRUFBSSxHQUFLd0csSUFFbEJrQixFQUFTMUgsRUFBSSxJQUFNLEVBQ25CZzlDLEdBQWMsUUFHaEJBLEdBQWMsRUFLbEIsR0FBSUEsRUFBYSxDQUNmanhDLElBRUkrTyxFQUFRdWhDLEdBMEJoQixTQUEwQzMwQyxFQUFVazFDLEVBQWFSLEVBQWEveEIsRUFBU2phLEVBQVF1ckMsRUFBVzMvQixHQUV4RyxTQUFTcWhDLEVBQU9ubUMsRUFBS3lrQyxHQUNuQixJQUFLNXZDLElBQUkvTCxFQUFJLEVBQUdBLEVBQUlrWCxFQUFJaWxDLE1BQU1yM0MsT0FBUTlFLElBQUssQ0FDekMrTCxJQUFJdkYsRUFBUzBRLEVBQUlpbEMsTUFBTW44QyxHQUFHeUcsSUFBSTRqQixFQUFTamEsRUFBUXVyQyxHQUMzQ24xQyxFQUFRNDFDLEVBQVk5MkMsS0FBS2tCLEdBQ3BCd1YsRUFBUTJnQyxVQUFVM2dDLEVBQVEyZ0MsU0FBU3psQyxFQUFJaWxDLE1BQU1uOEMsR0FBRzJSLE1BRTNELElBQUs1RixJQUFJL0wsRUFBSSxFQUFHQSxFQUFJa1gsRUFBSXhQLFNBQVM1QyxPQUFROUUsR0FBSyxFQUM1Q3E5QyxFQUFPbm1DLEVBQUl4UCxTQUFTMUgsRUFBSSxHQUFJa1gsRUFBSXhQLFNBQVMxSCxHQUFLMjdDLEVBQVksR0FFOUQsSUFBSzV2QyxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJMEgsRUFBUzVDLE9BQVE5RSxHQUFLLEdBQTJCLEdBQXBCMEgsRUFBUzFILEVBQUksSUFDNURxOUMsRUFBTzMxQyxFQUFTMUgsRUFBSSxHQUFJNDhDLEVBQVk1OEMsR0FBSzI3QyxFQUFZLEdBRXZELE9BQU9TLEVBMUNha0IsQ0FBaUM1MUMsRUFBVWsxQyxFQUFhRixHQUFZLEdBQUlyeUIsRUFDdkNqYSxFQUFRdXJDLEVBQVczL0IsR0FDbkNoUCxFQUFNLEVBQUdnUCxHQUM1QzBnQyxFQUFXNWhDLEVBQU1xaEMsTUFDakIsSUFBS3B3QyxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJMEgsRUFBUzVDLE9BQVE5RSxHQUFLLEVBQU8wSCxFQUFTMUgsRUFBSSxHQUFLLElBQ2pFMEgsRUFBU3NELE9BQU9oTCxFQUFHLEdBQ25CQSxHQUFLLEdBRVAsSUFBSytMLElBQUkvTCxFQUFJLEVBQUcwTyxFQUFJLEVBQUcxTyxFQUFJOGEsRUFBTXBULFNBQVM1QyxPQUFROUUsR0FBSyxFQUFHLENBRXhELElBREErTCxJQUFJOUMsRUFBTzZSLEVBQU1wVCxTQUFTMUgsR0FDbkIwTyxFQUFJaEgsRUFBUzVDLFFBQVU0QyxFQUFTZ0gsR0FBS3pGLEdBQU15RixHQUFLLEVBQ3ZEaEgsRUFBU3NELE9BQU8wRCxFQUFHLEVBQUdvTSxFQUFNcFQsU0FBUzFILEdBQUk4YSxFQUFNcFQsU0FBUzFILEVBQUksR0FBSThhLEVBQU1wVCxTQUFTMUgsRUFBSSxLQUl2RixPQUFPLElBQUlrOEMsR0FBY1EsR0FBWUEsRUFBUzUwQyxLQUFLeTFDLElBQVE3MUMsR0FqUWhEODFDLENBQVlyN0MsS0FBS3VGLFNBQVVnMUMsRUFBVXJ5QixFQUFTcmQsRUFBTW9ELEVBQVF1ckMsRUFBVzMvQixHQUV2RTBnQyxFQUFXLElBQUlSLEdBQWNRLEVBQVM1MEMsS0FBS3kxQyxLQUFVLElBT2xFLGFBQUVwMkIsSUFBQSxTQUFJclcsRUFBS3NyQyxHQUNQLE9BQUtBLEVBQVl0M0MsT0FDYjNDLE1BQVEsR0FBYys1QyxHQUFjNTZDLE9BQU93UCxFQUFLc3JDLEdBQzdDajZDLEtBQUtzN0MsU0FBUzNzQyxFQUFLc3JDLEVBQWEsR0FGUGo2QyxNQUtwQyxhQUFFczdDLFNBQUEsU0FBUzNzQyxFQUFLc3JDLEVBQWFoc0MsRyxJQUNyQjFJLEUsT0FBVTYxQixFQUFhLEVBQzdCLEVBQU1qeUIsU0FBUSxTQUFDOHhDLEVBQVdELEdBQ3hCLElBQXlDenlDLEVBQW5DZ3pDLEVBQWFQLEVBQWMvc0MsRUFDL0IsR0FBTTFGLEVBQVFpekMsR0FBaUJ2QixFQUFhZ0IsRUFBV00sR0FBdkQsQ0FHQSxJQURLaDJDLElBQVVBLEVBQVd2RixFQUFLdUYsU0FBU3lCLFNBQ2pDbzBCLEVBQWE3MUIsRUFBUzVDLFFBQVU0QyxFQUFTNjFCLEdBQWM0ZixHQUFhNWYsR0FBYyxFQUNyRjcxQixFQUFTNjFCLElBQWU0ZixFQUMxQnoxQyxFQUFTNjFCLEVBQWEsR0FBSzcxQixFQUFTNjFCLEVBQWEsR0FBR2tnQixTQUFTTCxFQUFXMXlDLEVBQU9nekMsRUFBYSxHQUU1RmgyQyxFQUFTc0QsT0FBT3V5QixFQUFZLEVBQUc0ZixFQUFhQSxFQUFjQyxFQUFVcHhDLFNBQVVxd0MsR0FBVTN4QyxFQUFPMHlDLEVBQVdNLEVBQWEsRUFBR2pDLEtBQzlILEdBQWdCLE1BR2hCMXZDLElBQUlvd0MsRUFBUXlCLEdBQVVyZ0IsRUFBYXNnQixHQUFhekIsR0FBZUEsR0FBY2hzQyxHQUMvRSxPQUFTLElBQUk4ckMsR0FBY0MsRUFBTXIzQyxPQUFTM0MsS0FBS2c2QyxNQUFNNzBDLE9BQU82MEMsR0FBT3IwQyxLQUFLeTFDLElBQVNwN0MsS0FBS2c2QyxNQUMzRHowQyxHQUFZdkYsS0FBS3VGLFdBTTlDLGFBQUVxRCxPQUFBLFNBQU9xeEMsR0FDTCxPQUEwQixHQUF0QkEsRUFBWXQzQyxRQUFlM0MsTUFBUSxHQUFjQSxLQUM5Q0EsS0FBSzI3QyxZQUFZMUIsRUFBYSxJQUd6QyxhQUFFMEIsWUFBQSxTQUFZMUIsRUFBYWhzQyxHQUV2QixJQURBckUsSUFBSXJFLEVBQVd2RixLQUFLdUYsU0FBVXkwQyxFQUFRaDZDLEtBQUtnNkMsTUFDbENuOEMsRUFBSSxFQUFHQSxFQUFJMEgsRUFBUzVDLE9BQVE5RSxHQUFLLEVBQUcsQ0FFN0MsSUFEQSxJQUFNMEssT0FBQSxFQUFPekIsRUFBT3ZCLEVBQVMxSCxHQUFLb1EsRUFBUWxFLEVBQUt4RSxFQUFTMUgsRUFBSSxHQUFLb1EsRUFDdEQxQixFQUFJLEVBQUdndEMsT0FBQSxFQUFNaHRDLEVBQUkwdEMsRUFBWXQzQyxPQUFRNEosS0FBU2d0QyxFQUFPVSxFQUFZMXRDLEtBQ3BFZ3RDLEVBQUt6eUMsS0FBT0EsR0FBUXl5QyxFQUFLeHZDLEdBQUtBLElBQ2hDa3dDLEVBQVkxdEMsR0FBSyxNQUNmaEUsSUFBVUEsRUFBUSxLQUFLcEYsS0FBS28yQyxJQUdsQyxHQUFLaHhDLEVBQUwsQ0FDSWhELEdBQVl2RixLQUFLdUYsV0FBVUEsRUFBV3ZGLEtBQUt1RixTQUFTeUIsU0FDeEQ0QyxJQUFJb2xCLEVBQVV6cEIsRUFBUzFILEVBQUksR0FBRzg5QyxZQUFZcHpDLEVBQU96QixFQUFPLEdBQ3BEa29CLEdBQVcsR0FDYnpwQixFQUFTMUgsRUFBSSxHQUFLbXhCLEdBRWxCenBCLEVBQVNzRCxPQUFPaEwsRUFBRyxHQUNyQixHQUFPLElBR1QsR0FBSW04QyxFQUFNcjNDLE9BQVEsSUFBS2lILElBQUkvTCxFQUFJLEVBQUcwN0MsU0FBTTE3QyxFQUFJbzhDLEVBQVl0M0MsT0FBUTlFLElBQUssR0FBSTA3QyxFQUFPVSxFQUFZcDhDLEdBQzFGLElBQUsrTCxJQUFJMkMsRUFBSSxFQUFHQSxFQUFJeXRDLEVBQU1yM0MsT0FBUTRKLElBQVN5dEMsRUFBTXp0QyxHQUFHbEosS0FBS3lJLEdBQUd5dEMsRUFBS2wyQyxRQUMzRDIyQyxHQUFTaDZDLEtBQUtnNkMsUUFBT0EsRUFBUWg2QyxLQUFLZzZDLE1BQU1oekMsU0FDOUMsRUFBUTZCLE9BQU8wRCxJQUFLLElBR3RCLE9BQUloSCxHQUFZdkYsS0FBS3VGLFVBQVl5MEMsR0FBU2g2QyxLQUFLZzZDLE1BQWNoNkMsS0FDdERnNkMsRUFBTXIzQyxRQUFVNEMsRUFBUzVDLE9BQVMsSUFBSW8zQyxHQUFjQyxFQUFPejBDLEdBQVksSUFHbEYsYUFBRXkrQixTQUFBLFNBQVMvMUIsRUFBUXBELEdBQ2YsR0FBSTdLLE1BQVEsR0FBTyxPQUFPQSxLQUM1QixHQUFNNkssRUFBS0UsT0FBUSxPQUFPZ3ZDLEdBQWNydUMsTUFHdEMsSUFEQTlCLElBQUlNLEVBQU84dkMsRUFDRm44QyxFQUFJLEVBQUdBLEVBQUltQyxLQUFLdUYsU0FBUzVDLE9BQVE5RSxHQUFLLEVBQUcsR0FBSW1DLEtBQUt1RixTQUFTMUgsSUFBTW9RLEVBQVEsQ0FDNUVqTyxLQUFLdUYsU0FBUzFILElBQU1vUSxJQUFRL0QsRUFBUWxLLEtBQUt1RixTQUFTMUgsRUFBSSxJQUMxRCxNQUdGLElBREErTCxJQUFJUSxFQUFRNkQsRUFBUyxFQUFHOUQsRUFBTUMsRUFBUVMsRUFBS3JGLFFBQVE4RCxLQUMxQ3pMLEVBQUksRUFBR0EsRUFBSW1DLEtBQUtnNkMsTUFBTXIzQyxPQUFROUUsSUFBSyxDQUM1QyxJQUFNKzlDLEVBQU01N0MsS0FBS2c2QyxNQUFNbjhDLEdBQ3ZCLEdBQU0rOUMsRUFBSTkwQyxLQUFPcUQsR0FBT3l4QyxFQUFJN3hDLEdBQUtLLEdBQVV3eEMsRUFBSXY0QyxnQkFBZ0JzMkMsR0FBYSxDQUN4RS92QyxJQUFJOUMsRUFBT29CLEtBQUttQyxJQUFJRCxFQUFPd3hDLEVBQUk5MEMsTUFBUXNELEVBQU9MLEVBQUs3QixLQUFLb0MsSUFBSUgsRUFBS3l4QyxFQUFJN3hDLElBQU1LLEVBQ3ZFdEQsRUFBT2lELElBQUtpd0MsSUFBVUEsRUFBUSxLQUFLNzJDLEtBQUt5NEMsRUFBSXYyQyxLQUFLeUIsRUFBTWlELEtBR2pFLEdBQU1pd0MsRUFBTyxDQUNUcHdDLElBQUlpeUMsRUFBVyxJQUFJOUIsR0FBY0MsRUFBTXIwQyxLQUFLeTFDLEtBQzVDLE9BQU9seEMsRUFBUSxJQUFJNHhDLEdBQWdCLENBQUNELEVBQVUzeEMsSUFBVTJ4QyxFQUU1RCxPQUFTM3hDLEdBQVMsSUFHcEIsYUFBRTRCLEdBQUEsU0FBR2IsR0FDRCxHQUFJakwsTUFBUWlMLEVBQU8sT0FBTyxFQUMxQixLQUFNQSxhQUFpQjh1QyxLQUNyQixLQUFPQyxNQUFNcjNDLFFBQVVzSSxFQUFNK3VDLE1BQU1yM0MsUUFDakMzQyxLQUFLdUYsU0FBUzVDLFFBQVVzSSxFQUFNMUYsU0FBUzVDLE9BQVEsT0FBTyxFQUMxRCxJQUFLaUgsSUFBSS9MLEVBQUksRUFBR0EsRUFBSW1DLEtBQUtnNkMsTUFBTXIzQyxPQUFROUUsSUFDckMsSUFBS21DLEtBQUtnNkMsTUFBTW44QyxHQUFHaU8sR0FBR2IsRUFBTSt1QyxNQUFNbjhDLElBQUssT0FBTyxFQUNoRCxJQUFLK0wsSUFBSS9MLEVBQUksRUFBR0EsRUFBSW1DLEtBQUt1RixTQUFTNUMsT0FBUTlFLEdBQUssRUFDN0MsR0FBSW1DLEtBQUt1RixTQUFTMUgsSUFBTW9OLEVBQU0xRixTQUFTMUgsSUFDbkNtQyxLQUFLdUYsU0FBUzFILEVBQUksSUFBTW9OLEVBQU0xRixTQUFTMUgsRUFBSSxLQUMxQ21DLEtBQUt1RixTQUFTMUgsRUFBSSxHQUFHaU8sR0FBR2IsRUFBTTFGLFNBQVMxSCxFQUFJLElBQUssT0FBTyxFQUM5RCxPQUFPLEdBR1gsYUFBRWttQyxPQUFBLFNBQU9sNUIsR0FDUCxPQUFTa3hDLEdBQWMvN0MsS0FBS2c4QyxZQUFZbnhDLEtBRzFDLGFBQUVteEMsWUFBQSxTQUFZbnhDLEdBQ1YsR0FBSTdLLE1BQVEsR0FBTyxPQUFPcVAsR0FDNUIsR0FBTXhFLEVBQUtzRixnQkFBa0JuUSxLQUFLZzZDLE1BQU1wMkIsS0FBSysxQixHQUFXRyxJQUFLLE9BQU85NUMsS0FBS2c2QyxNQUV2RSxJQURBcHdDLElBQUlILEVBQVMsR0FDSjVMLEVBQUksRUFBR0EsRUFBSW1DLEtBQUtnNkMsTUFBTXIzQyxPQUFROUUsSUFDL0JtQyxLQUFLZzZDLE1BQU1uOEMsR0FBR3dGLGdCQUFnQnMyQyxJQUNsQ2x3QyxFQUFPdEcsS0FBS25ELEtBQUtnNkMsTUFBTW44QyxJQUUzQixPQUFPNEwsR0FJWHVFLElBQU0sR0FBUSxJQUFJK3JDLEdBSWxCQSxHQUFjcnVDLE1BQVEsR0FFdEJxdUMsR0FBY2dDLGNBQWdCQSxHQUs5QixJQUFNRCxHQUNKLFNBQVlHLEdBQ1ZqOEMsS0FBS2k4QyxRQUFVQSxHQXdIbkIsU0FBU1IsR0FBVVMsRUFBT2p1QyxHQUN4QixJQUFLQSxJQUFXaXVDLEVBQU12NUMsT0FBUSxPQUFPdTVDLEVBRXJDLElBREF0eUMsSUFBSUgsRUFBUyxHQUNKNUwsRUFBSSxFQUFHQSxFQUFJcStDLEVBQU12NUMsT0FBUTlFLElBQUssQ0FDckMrTCxJQUFJMnZDLEVBQU8yQyxFQUFNcitDLEdBQ2pCNEwsRUFBT3RHLEtBQUssSUFBSXMyQyxHQUFXRixFQUFLenlDLEtBQU9tSCxFQUFRc3JDLEVBQUt4dkMsR0FBS2tFLEVBQVFzckMsRUFBS2wyQyxPQUV4RSxPQUFPb0csRUFvQlQsU0FBUyt4QyxHQUFpQlUsRUFBT3J4QyxFQUFNb0QsR0FDckMsR0FBSXBELEVBQUtFLE9BQVEsT0FBTyxLQUV4QixJQURBbkIsSUFBSU8sRUFBTThELEVBQVNwRCxFQUFLaEIsU0FBVXRCLEVBQVEsS0FDakMxSyxFQUFJLEVBQUcwN0MsT0FBQSxFQUFNMTdDLEVBQUlxK0MsRUFBTXY1QyxPQUFROUUsS0FDakMwN0MsRUFBTzJDLEVBQU1yK0MsS0FBTzA3QyxFQUFLenlDLEtBQU9tSCxHQUFVc3JDLEVBQUt4dkMsR0FBS0ksS0FDckQ1QixJQUFVQSxFQUFRLEtBQUtwRixLQUFLbzJDLEdBQzlCMkMsRUFBTXIrQyxHQUFLLE1BR2YsT0FBTzBLLEVBR1QsU0FBU216QyxHQUFhOXRDLEdBRXBCLElBREFoRSxJQUFJSCxFQUFTLEdBQ0o1TCxFQUFJLEVBQUdBLEVBQUkrUCxFQUFNakwsT0FBUTlFLElBQ2hCLE1BQVorUCxFQUFNL1AsSUFBWTRMLEVBQU90RyxLQUFLeUssRUFBTS9QLElBQzFDLE9BQU80TCxFQVFULFNBQVN5d0MsR0FBVWdDLEVBQU9yeEMsRUFBTW9ELEVBQVE0TCxHQUN0Q2pRLElBQUlyRSxFQUFXLEdBQUk0MkMsR0FBVyxFQUM5QnR4QyxFQUFLMUIsU0FBUSxTQUFDOHhDLEVBQVdtQixHQUN2Qnh5QyxJQUFJckIsRUFBUWl6QyxHQUFpQlUsRUFBT2pCLEVBQVdtQixFQUFhbnVDLEdBQzVELEdBQUkxRixFQUFPLENBQ1Q0ekMsR0FBVyxFQUNYdnlDLElBQUl5bkMsRUFBVTZJLEdBQVUzeEMsRUFBTzB5QyxFQUFXaHRDLEVBQVNtdUMsRUFBYSxFQUFHdmlDLEdBQy9EdzNCLEdBQVcsSUFDYjlyQyxFQUFTcEMsS0FBS2k1QyxFQUFZQSxFQUFhbkIsRUFBVXB4QyxTQUFVd25DLE9BSWpFLElBREF6bkMsSUFBSW02QixFQUFTMFgsR0FBVVUsRUFBV1QsR0FBYVEsR0FBU0EsR0FBUWp1QyxHQUFRdEksS0FBS3kxQyxJQUNwRXY5QyxFQUFJLEVBQUdBLEVBQUlrbUMsRUFBT3BoQyxPQUFROUUsSUFBVWttQyxFQUFPbG1DLEdBQUd3RixLQUFLcTJDLE1BQU03dUMsRUFBTWs1QixFQUFPbG1DLE1BQ3pFZ2MsRUFBUTJnQyxVQUFVM2dDLEVBQVEyZ0MsU0FBU3pXLEVBQU9sbUMsR0FBRzJSLE1BQ2pEdTBCLEVBQU9sN0IsT0FBT2hMLElBQUssSUFFckIsT0FBT2ttQyxFQUFPcGhDLFFBQVU0QyxFQUFTNUMsT0FBUyxJQUFJbzNDLEdBQWNoVyxFQUFReCtCLEdBQVksR0FPbEYsU0FBUzYxQyxHQUFNanZDLEVBQUdDLEdBQ2hCLE9BQU9ELEVBQUVyRixLQUFPc0YsRUFBRXRGLE1BQVFxRixFQUFFcEMsR0FBS3FDLEVBQUVyQyxHQVFyQyxTQUFTZ3lDLEdBQWNHLEdBRXJCLElBREF0eUMsSUFBSXl5QyxFQUFVSCxFQUNMcitDLEVBQUksRUFBR0EsRUFBSXcrQyxFQUFRMTVDLE9BQVMsRUFBRzlFLElBQUssQ0FDM0MrTCxJQUFJMnZDLEVBQU84QyxFQUFReCtDLEdBQ25CLEdBQUkwN0MsRUFBS3p5QyxNQUFReXlDLEVBQUt4dkMsR0FBSSxJQUFLSCxJQUFJMkMsRUFBSTFPLEVBQUksRUFBRzBPLEVBQUk4dkMsRUFBUTE1QyxPQUFRNEosSUFBSyxDQUNyRTNDLElBQUltRyxFQUFPc3NDLEVBQVE5dkMsR0FDbkIsR0FBSXdELEVBQUtqSixNQUFReXlDLEVBQUt6eUMsS0FBdEIsQ0FVTWlKLEVBQUtqSixLQUFPeXlDLEVBQUt4dkMsS0FDZnN5QyxHQUFXSCxJQUFPRyxFQUFVSCxFQUFNbDFDLFNBR3RDcTFDLEVBQVF4K0MsR0FBSzA3QyxFQUFLbDBDLEtBQUtrMEMsRUFBS3p5QyxLQUFNaUosRUFBS2pKLE1BQ3ZDdzFDLEdBQVlELEVBQVM5dkMsRUFBR2d0QyxFQUFLbDBDLEtBQUswSyxFQUFLakosS0FBTXl5QyxFQUFLeHZDLE1BRXBELE1BaEJJZ0csRUFBS2hHLElBQU13dkMsRUFBS3h2QyxLQUNkc3lDLEdBQVdILElBQU9HLEVBQVVILEVBQU1sMUMsU0FHdENxMUMsRUFBUTl2QyxHQUFLd0QsRUFBSzFLLEtBQUswSyxFQUFLakosS0FBTXl5QyxFQUFLeHZDLElBQ3ZDdXlDLEdBQVlELEVBQVM5dkMsRUFBSSxFQUFHd0QsRUFBSzFLLEtBQUtrMEMsRUFBS3h2QyxHQUFJZ0csRUFBS2hHLE9BZTVELE9BQU9zeUMsRUFHVCxTQUFTQyxHQUFZMXVDLEVBQU8vUCxFQUFHK2xDLEdBQzdCLEtBQU8vbEMsRUFBSStQLEVBQU1qTCxRQUFVeTRDLEdBQU14WCxFQUFNaDJCLEVBQU0vUCxJQUFNLEdBQUdBLElBQ3REK1AsRUFBTS9FLE9BQU9oTCxFQUFHLEVBQUcrbEMsR0FLZCxTQUFTMlksR0FBZ0IvaUIsR0FDOUI1dkIsSUFBSXJCLEVBQVEsR0FPWixPQU5BaXhCLEVBQUtJLFNBQVMsZUFBZSxTQUFBeHdCLEdBQzNCUSxJQUFJSCxFQUFTTCxFQUFFb3dCLEVBQUt2a0IsT0FDaEJ4TCxHQUFVQSxHQUFVLElBQU9sQixFQUFNcEYsS0FBS3NHLE1BRXhDK3ZCLEVBQUsrUSxlQUNQaGlDLEVBQU1wRixLQUFLNDJDLEdBQWM1NkMsT0FBT3E2QixFQUFLdmtCLE1BQU10RyxJQUFLLENBQUM2cUIsRUFBSytRLGNBQWMzRyxRQUMvRGtZLEdBQWdCaDFDLEtBQUt5QixHQXJQOUIsYUFBRXk3QixTQUFBLFNBQVMvMUIsRUFBUS9ELEdBQ2pCLEdBQU1BLEVBQU1hLE9BQVEsT0FBT2d2QyxHQUFjcnVDLE1BRXZDLElBREE5QixJQUFJckIsRUFBUSxHQUNIMUssRUFBSSxFQUFHQSxFQUFJbUMsS0FBS2k4QyxRQUFRdDVDLE9BQVE5RSxJQUFLLENBQzVDK0wsSUFBSUgsRUFBU3pKLEtBQUtpOEMsUUFBUXArQyxHQUFHbW1DLFNBQVMvMUIsRUFBUS9ELEdBQzFDVCxHQUFVLEtBQ1ZBLGFBQWtCcXlDLEdBQWlCdnpDLEVBQVFBLEVBQU1wRCxPQUFPc0UsRUFBT3d5QyxTQUM5RDF6QyxFQUFNcEYsS0FBS3NHLElBRWxCLE9BQU9xeUMsR0FBZ0JoMUMsS0FBS3lCLElBR2hDLGFBQUV1RCxHQUFBLFNBQUdiLEdBQ0QsS0FBTUEsYUFBaUI2d0MsS0FDbkI3d0MsRUFBTWd4QyxRQUFRdDVDLFFBQVUzQyxLQUFLaThDLFFBQVF0NUMsT0FBUSxPQUFPLEVBQ3hELElBQUtpSCxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJbUMsS0FBS2k4QyxRQUFRdDVDLE9BQVE5RSxJQUN2QyxJQUFLbUMsS0FBS2k4QyxRQUFRcCtDLEdBQUdpTyxHQUFHYixFQUFNZ3hDLFFBQVFwK0MsSUFBSyxPQUFPLEVBQ3BELE9BQU8sR0FHWCxhQUFFa21DLE9BQUEsU0FBT2w1QixHQUVMLElBREFqQixJQUFJSCxFQUFRK3lDLEdBQVMsRUFDWjMrQyxFQUFJLEVBQUdBLEVBQUltQyxLQUFLaThDLFFBQVF0NUMsT0FBUTlFLElBQUssQ0FDNUMrTCxJQUFJbTZCLEVBQVMvakMsS0FBS2k4QyxRQUFRcCtDLEdBQUdtK0MsWUFBWW54QyxHQUN6QyxHQUFLazVCLEVBQU9waEMsT0FDZCxHQUFPOEcsRUFFRSxDQUNEK3lDLElBQ0YveUMsRUFBU0EsRUFBT3pDLFFBQ2xCLEdBQVcsR0FFYixJQUFPNEMsSUFBSTJDLEVBQUksRUFBR0EsRUFBSXczQixFQUFPcGhDLE9BQVE0SixJQUFLOUMsRUFBT3RHLEtBQUs0Z0MsRUFBT3gzQixTQU43RCxFQUFXdzNCLEVBU2IsT0FBT3Q2QixFQUFTc3lDLEdBQWNTLEVBQVMveUMsRUFBU0EsRUFBTzlELEtBQUt5MUMsS0FBVS9yQyxJQU14RSxHQUFPdkksS0FBQSxTQUFLbTFDLEdBQ1osT0FBVUEsRUFBUXQ1QyxRQUNkLEtBQUssRUFBRyxPQUFPLEdBQ2YsS0FBSyxFQUFHLE9BQU9zNUMsRUFBUSxHQUN2QixRQUFTLE9BQU8sSUFBSUgsR0FBZ0JHLEtDcmMxQyxJQUFhUSxHQU9YLFNBQVl4ekMsRUFBT3NzQixHQUNqQnYxQixLQUFLMDhDLE9BQVNubkIsRUFHZHYxQixLQUFLaVYsTUFBUXNnQixFQUFNdGdCLE1BRXJCLEtBQU9pekIsU0FBV2xvQyxLQUFLa29DLFNBQVM3b0MsS0FBS1csTUFFbkNBLEtBQUsyOEMsTUFBUSxLQUNiMzhDLEtBQUttMEMsU0FBVSxFQUtmbjBDLEtBQUtrYixJQUFPalMsR0FBU0EsRUFBTTJ6QyxPQUFVNTdDLFNBQVNxRixjQUFjLE9BQ3hENEMsSUFDRUEsRUFBTXBDLFlBQWFvQyxFQUFNcEMsWUFBWTdHLEtBQUtrYixLQUNyQ2pTLEVBQU1pZ0IsTUFBT2pnQixFQUFNakosS0FBS2tiLEtBQ3hCalMsRUFBTTJ6QyxRQUFPNThDLEtBQUs2OEMsU0FBVSxJQUt2Qzc4QyxLQUFLbXFDLFNBQVcyUyxHQUFZOThDLE1BQzVCQSxLQUFLbTNDLFdBQWEsS0FDbEJuM0MsS0FBS3VxQyxjQUFnQixLQUN2QixHQUFzQnZxQyxNQUNwQkEsS0FBS3dpQyxVQUFZdWEsR0FBZS84QyxNQUNsQyxLQUFPczhCLFFBQVVvSyxHQUFZMW1DLEtBQUtpVixNQUFNdEcsSUFBS3F1QyxHQUFlaDlDLE1BQU91OEMsR0FBZ0J2OEMsTUFBT0EsS0FBS2tiLElBQUtsYixNQUVsR0EsS0FBSzJyQyxxQkFBdUIsS0FLNUIzckMsS0FBS3U0QyxTQUFXLEtGN0NiLFNBQW1CL2UsR0FDeEJBLEVBQUtrUSxVQUFXLEVBQ2hCbFEsRUFBS3FjLFVBQVksS0FDakJyYyxFQUFLa1QsWUFBYyxLQUNuQmxULEVBQUt1VCxnQkFBa0IsRUFDdkJ2VCxFQUFLaWMsVUFBWSxDQUFDamtCLEtBQU0sRUFBR2dNLEVBQUcsRUFBR0YsRUFBRyxFQUFHajZCLEtBQU0sSUFDN0NtMkIsRUFBSzBTLG9CQUFzQixLQUMzQjFTLEVBQUt5UyxrQkFBb0IsRUFFekJ6UyxFQUFLZ1UsYUFBZSxFQUVwQmhVLEVBQUtnSyxXQUFZLEVBQ2pCaEssRUFBS3VkLGlCQUFtQixLQUN4QnZkLEVBQUt5TSxpQkFBbUIsR0FDeEJ6TSxFQUFLZ2Qsb0JBQXNCLElBRTNCaGQsRUFBS3VQLFlBQWMsSUFBSXlJLEdBQVloWSxHQUFNLFNBQUMxeUIsRUFBTWlELEVBQUlnaUMsRUFBVTljLEdBQU8sT0FBRzZjLEdBQWN0UyxFQUFNMXlCLEVBQU1pRCxFQUFJZ2lDLEVBQVU5YyxNQUNoSHVLLEVBQUt1UCxZQUFZMytCLFFBRWpCb3ZCLEVBQUs4VCxlQUFpQixFQUV0QjlULEVBQUtpYSxjQUFnQmwxQyxPQUFPWSxPQUFPLE0sa0JBRWpDeUssSUFBSStwQyxFQUFVUCxHQUFTeHlDLEdBQ3ZCNDRCLEVBQUt0ZSxJQUFJMVosaUJBQWlCWixFQUFPNDRCLEVBQUtpYSxjQUFjN3lDLEdBQVMsU0FBQUEsSUF3Q2pFLFNBQTRCNDRCLEVBQU01NEIsR0FDaEMsSUFBS0EsRUFBTXE4QyxRQUFTLE9BQU8sRUFDM0IsR0FBSXI4QyxFQUFNZ3pDLGlCQUFrQixPQUFPLEVBQ25DLElBQUtocUMsSUFBSWlCLEVBQU9qSyxFQUFNZ1csT0FBUS9MLEdBQVEydUIsRUFBS3RlLElBQUtyUSxFQUFPQSxFQUFLeEQsV0FDMUQsSUFBS3dELEdBQXlCLElBQWpCQSxFQUFLNkksVUFDYjdJLEVBQUtvdEIsWUFBY3B0QixFQUFLb3RCLFdBQVc0SCxVQUFVai9CLEdBQ2hELE9BQU8sRUFDWCxPQUFPLEVBOUNDczhDLENBQW1CMWpCLEVBQU01NEIsSUFBVzh5QyxHQUFpQmxhLEVBQU01NEIsS0FDMUQ0NEIsRUFBSzJRLFVBQWN2cEMsRUFBTXlDLFFBQVFnd0MsSUFDcENNLEVBQVFuYSxFQUFNNTRCLE1BTHBCLElBQUtnSixJQUFJaEosS0FBU3d5QyxHQUFVLEVBQUYsR0FXdEI5YSxHQUFRdkIsUUFBUXlDLEVBQUt0ZSxJQUFJMVosaUJBQWlCLFNBQVMsV0FBRyxPQUFHLFFBRTdEK3hDLEdBQWdCL1osR0VZaEIsQ0FBWXg1QixNQUVWQSxLQUFLbTlDLFlBQWMsR0FDckIsS0FBT0MscUIsb0RBa1NULFNBQVNKLEdBQWV4akIsR0FDdEI1dkIsSUFBSW1FLEVBQVF4UCxPQUFPWSxPQUFPLE1BYzFCLE9BYkE0TyxFQUFNZzVCLE1BQVEsY0FDZGg1QixFQUFNc3ZDLGdCQUFrQmpJLE9BQU81YixFQUFLMlEsVUFFcEMzUSxFQUFLSSxTQUFTLGNBQWMsU0FBQTk2QixHQUUxQixHQURvQixtQkFBVEEsSUFBcUJBLEVBQVFBLEVBQU0wNkIsRUFBS3ZrQixRQUMvQ25XLEVBQU8sSUFBSzhLLElBQUkyTyxLQUFRelosRUFDZCxTQUFSeVosRUFDRnhLLEVBQU1nNUIsT0FBUyxJQUFNam9DLEVBQU15WixHQUNuQnhLLEVBQU13SyxJQUFpQixtQkFBUkEsR0FBcUMsWUFBUkEsSUFDcER4SyxFQUFNd0ssR0FBUTY4QixPQUFPdDJDLEVBQU15WixRQUkxQixDQUFDa2hDLEdBQVc1dUMsS0FBSyxFQUFHMnVCLEVBQUt2a0IsTUFBTXRHLElBQUluSixRQUFROEQsS0FBTXlFLElBRzFELFNBQVN1dkMsR0FBb0I5akIsR0FDM0IsTUFBZ0NBLEVBQUt2a0IsTUFBTXljLFVBQXRDVSxFQUFBLEVBQUFBLE1BQU9nTSxFQUFBLEVBQUFBLFFBQVNxTSxFQUFBLEVBQUFBLFFBQ3JCLEdBQUlqUixFQUFLMmQsV0FBWSxDQUNuQnZ0QyxJQUFJc1IsRUFBTWxhLFNBQVNxRixjQUFjLE9BQ2pDNlUsRUFBSTJLLGFBQWEsbUJBQW9CLFFBQ3JDMlQsRUFBSytRLGNBQWdCLENBQUNydkIsTUFBSzBvQixLQUFNNlYsR0FBVzNYLE9BQU8xUCxFQUFNbm9CLElBQUtpUixFQUFLLENBQUM2bUIsS0FBSyxFQUFNNXlCLE1BQU9xcUIsRUFBSzJkLG1CQUN0RixHQUFJMU0sR0FBV3JZLEVBQU1ub0IsS0FBT20wQixFQUFRbjBCLElBQ3pDdXZCLEVBQUsrUSxjQUFnQixTQUNoQixDQUNMM2dDLElBQUlzUixHQUNDc2UsRUFBSytRLGVBQWlCL1EsRUFBSytRLGNBQWNydkIsSUFBSTJILFdBQVdsZ0IsU0FDM0R1WSxFQUFNbGEsU0FBU3FGLGNBQWMsUUFDekI0VSxNQUFNc2lDLFNBQVcsV0FDckJyaUMsRUFBSUQsTUFBTStkLEtBQU8sYUFDUlEsRUFBSytRLGNBQWMzRyxLQUFLMzVCLEtBQU9tb0IsRUFBTW5vQixNQUM5Q2lSLEVBQU1zZSxFQUFLK1EsY0FBY3J2QixLQUV2QkEsSUFDRnNlLEVBQUsrUSxjQUFnQixDQUFDcnZCLE1BQUswb0IsS0FBTTZWLEdBQVczWCxPQUFPMVAsRUFBTW5vQixJQUFLaVIsRUFBSyxDQUFDNm1CLEtBQUssT0FJL0UsU0FBUythLEdBQVl0akIsR0FDbkIsT0FBUUEsRUFBS0ksU0FBUyxZQUFZLFNBQUE5NkIsR0FBTSxPQUF5QixJQUF0QkEsRUFBTTA2QixFQUFLdmtCLFVBUXhELFNBQVM4bkMsR0FBZXZqQixHQUN0QjV2QixJQUFJSCxFQUFTLEdBS2IsT0FKQSt2QixFQUFLSSxTQUFTLGFBQWEsU0FBQXRtQixHQUN6QixJQUFLMUosSUFBSUYsS0FBUTRKLEVBQVUvVSxPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt5TCxFQUFRQyxLQUN0RUQsRUFBT0MsR0FBUTRKLEVBQUk1SixPQUVoQkQsRUEvVVQyRSxHQUFNbW5CLE1BQUEsZUFDSixHQUFNdjFCLEtBQUswOEMsT0FBT3puQyxPQUFTalYsS0FBS2lWLE1BQU8sQ0FDbkNyTCxJQUFJaXFCLEVBQU83ekIsS0FBSzA4QyxPQUVoQixJQUFLOXlDLElBQUl4TCxLQURUNEIsS0FBSzA4QyxPQUFTLEdBQ0c3b0IsRUFBTTd6QixLQUFLMDhDLE9BQU90K0MsR0FBUXkxQixFQUFLejFCLEdBQ2xELEtBQU9zK0MsT0FBT3puQyxNQUFRalYsS0FBS2lWLE1BRTdCLE9BQVNqVixLQUFLMDhDLFFBTWhCLGFBQUVqMEMsT0FBQSxTQUFPOHNCLEdBQ0RBLEVBQU1pb0IsaUJBQW1CeDlDLEtBQUswOEMsT0FBT2MsaUJBQWlCakssR0FBZ0J2ekMsTUFDMUVBLEtBQUswOEMsT0FBU25uQixFQUNoQixLQUFPa29CLGlCQUFpQmxvQixFQUFNdGdCLE9BQU8sSUFPdkMsYUFBRXlvQyxTQUFBLFNBQVNub0IsR0FDUDNyQixJQUFJaW9CLEVBQVUsR0FDZCxJQUFLam9CLElBQUl4TCxLQUFRNEIsS0FBSzA4QyxPQUFRN3FCLEVBQVF6ekIsR0FBUTRCLEtBQUswOEMsT0FBT3QrQyxHQUUxRCxJQUFLd0wsSUFBSXhMLEtBRFR5ekIsRUFBUTVjLE1BQVFqVixLQUFLaVYsTUFDSnNnQixFQUFPMUQsRUFBUXp6QixHQUFRbTNCLEVBQU1uM0IsR0FDOUM0QixLQUFLeUksT0FBT29wQixJQU1oQixhQUFFK0wsWUFBQSxTQUFZM29CLEdBQ1ZqVixLQUFLeTlDLGlCQUFpQnhvQyxFQUFPalYsS0FBS2lWLE1BQU04ZSxTQUFXOWUsRUFBTThlLFVBRzdELGFBQUUwcEIsaUJBQUEsU0FBaUJ4b0MsRUFBTzBvQyxHLFdBQ2xCOXBCLEVBQU83ekIsS0FBS2lWLE1BQU8yb0MsR0FBUyxFQUVsQyxHQURFNTlDLEtBQUtpVixNQUFRQSxFQUNUMG9DLEVBQWMsQ0FDaEIvekMsSUFBSTQ0QixFQUFZdWEsR0FBZS84QyxPQXdTckMsU0FBMEJtTSxFQUFHQyxHQUMzQnhDLElBQUlpMEMsRUFBSyxFQUFHQyxFQUFLLEVBQ2pCLElBQUtsMEMsSUFBSUYsS0FBUXlDLEVBQUcsQ0FDbEIsR0FBSUEsRUFBRXpDLElBQVMwQyxFQUFFMUMsR0FBTyxPQUFPLEVBQy9CbTBDLElBRUYsSUFBS2owQyxJQUFJMkosS0FBS25ILEVBQUcweEMsSUFDakIsT0FBT0QsR0FBTUMsR0E5U0xDLENBQWlCdmIsRUFBV3hpQyxLQUFLd2lDLGFBQ25DeGlDLEtBQUt3aUMsVUFBWUEsRUFDbkIsR0FBVyxHQUViLEdBQWtCeGlDLE1BR2xCQSxLQUFLbXFDLFNBQVcyUyxHQUFZOThDLE1BQzlCLEdBQXNCQSxNQUNwQjRKLElkMEMrQjR2QixFQUM3QnVILEVBQ0E1SSxFY29PMkI2bEIsRUFBTUMsRUFDakN6dkMsRVJ2VXlCLEUsTUFDekIwdkMsRVFxREV0YixFQUFZMlosR0FBZ0J2OEMsTUFBTzJpQyxFQUFZcWEsR0FBZWg5QyxNQUU5RG0rQyxFQUFTUixFQUFlLFFBQ3RCMW9DLEVBQU1tcEMsa0JBQW9CdnFCLEVBQUt1cUIsa0JBQW9CLGVBQWlCLFdBQ3RFQyxFQUFZVCxJQUFXNTlDLEtBQUtzOEIsUUFBUW1ELFlBQVl4cUIsRUFBTXRHLElBQUtnMEIsRUFBV0MsR0FDdEUwYixFQUFZRCxJQUFjcHBDLEVBQU15YyxVQUFVNWxCLEdBQUcrbkIsRUFBS25DLFdBQ2xENnNCLEVBQXlCLFlBQVZKLEdBQXdCRyxHQUE4QyxNQUFqQ3QrQyxLQUFLa2IsSUFBSUQsTUFBTXVqQyxnQlJ4RnBFLFNBQXdCaGxCLEdBRzdCLElBRkE1dkIsSUFDSTYwQyxFQUFRQyxFQURSamxCLEVBQU9ELEVBQUt0ZSxJQUFJZ2Ysd0JBQXlCeWtCLEVBQVN6MkMsS0FBS21DLElBQUksRUFBR292QixFQUFLbFosS0FFOURpZCxHQUFLL0QsRUFBS1QsS0FBT1MsRUFBS1IsT0FBUyxFQUFHcUUsRUFBSXFoQixFQUFTLEVBQ25EcmhCLEVBQUlwMUIsS0FBS29DLElBQUk4dUIsWUFBYUssRUFBS04sUUFBU21FLEdBQUssRUFBRyxDQUNuRDF6QixJQUFJc1IsRUFBTXNlLEVBQUtxQyxLQUFLSSxpQkFBaUJ1QixFQUFHRixHQUN4QyxHQUFJcGlCLEdBQU9zZSxFQUFLdGUsS0FBUXNlLEVBQUt0ZSxJQUFJdUksU0FBU3ZJLEdBQTFDLENBQ0F0UixJQUFJZzFDLEVBQVkxakMsRUFBSWdmLHdCQUNwQixHQUFJMGtCLEVBQVVyK0IsS0FBT28rQixFQUFTLEdBQUksQ0FDaENGLEVBQVN2akMsRUFDVHdqQyxFQUFTRSxFQUFVcitCLElBQ25CLFFBR0osTUFBTyxDQUFDaytCLFNBQVFDLFNBQVFqa0IsTUFBT0QsR0FBWWhCLEVBQUt0ZSxNUTBFbUQyakMsQ0FBZTcrQyxNQUVsSCxHQUFNcytDLEVBQVcsQ0FDYnQrQyxLQUFLK29DLFlBQVk5RyxPQU1qQnI0QixJQUFJazFDLEVBQWlCVCxJQUFjL2xCLEdBQVFsQyxJQUFNa0MsR0FBUTdCLFVBQ3BENUMsRUFBS25DLFVBQVVobUIsUUFBVXVKLEVBQU15YyxVQUFVaG1CLFFBZ1FuQnN5QyxFQWhRb0RucUIsRUFBS25DLFVBZ1FuRHVzQixFQWhROERocEMsRUFBTXljLFVBaVFyR2xqQixFQUFRdEcsS0FBS29DLElBQUkwekMsRUFBSzVmLFFBQVFwdUIsWUFBWWd1QyxFQUFLeC9CLE1BQU95L0IsRUFBSzdmLFFBQVFwdUIsWUFBWWl1QyxFQUFLei9CLE9BQ2pGdy9CLEVBQUs1ZixRQUFRdnpCLEtBQUsyRCxJQUFVeXZDLEVBQUs3ZixRQUFRdnpCLEtBQUsyRCxJQWpRN0M2dkMsS0FDRVQsR0FBVzU5QyxLQUFLczhCLFFBQVE3ekIsT0FBT3dNLEVBQU10RyxJQUFLZzBCLEVBQVdDLEVBQVc1aUMsUUFDbEVBLEtBQUtzOEIsUUFBUXdELFVBQ2I5L0IsS0FBS3M4QixRQUFVb0ssR0FBWXp4QixFQUFNdEcsSUFBS2cwQixFQUFXQyxFQUFXNWlDLEtBQUtrYixJQUFLbGIsUUFPdEU4K0MsS0FDRTkrQyxLQUFLNjFDLFdBQWE3MUMsS0FBSytvQyxZQUFZbUosaUJBQWlCcG1DLEdBQUc5TCxLQUFLNjdCLEtBQUs0QyxrQmRjMUNqRixFY2RnRng1QixLZGU3RytnQyxFQUFZdkgsRUFBSzhDLFFBQVFXLFdBQVd6RCxFQUFLdmtCLE1BQU15YyxVQUFVbVAsUUFDekQxSSxFQUFTcUIsRUFBS3FDLEtBQUs0QyxlQUNoQmpILEdBQXFCdUosRUFBVWwyQixLQUFNazJCLEVBQVU5eUIsT0FBUWtxQixFQUFPOEksV0FBWTlJLEVBQU8rSSxnQmNoQmxGK0ksR0FBZWpxQyxLQUFNOCtDLElBRXJCNVUsR0FBa0JscUMsS0FBTWlWLEVBQU15YyxXQUM5QjF4QixLQUFLK29DLFlBQVlDLG1CQUVuQmhwQyxLQUFLK29DLFlBQVkzK0IsUUFLbkIsR0FGQXBLLEtBQUtvOUMsa0JBQWtCdnBCLEdBRVQsU0FBVnNxQixFQUNGbitDLEtBQUtrYixJQUFJb2YsVUFBWSxPQUNoQixHQUFjLGdCQUFWNmpCLEVBQTBCLENBQ3JDLElBQU16a0IsRUFBVzE1QixLQUFLNjdCLEtBQUs0QyxlQUFlSSxVQUNwQzcrQixLQUFLNDVCLFNBQVMsMkJBQTJCLFNBQUF4d0IsR0FBRSxPQUFHQSxFQUFFcEosUUFFM0NpVixFQUFNeWMscUJBQXFCLEdBQ2xDNkgsR0FBbUJ2NUIsS0FBTUEsS0FBS3M4QixRQUFRNEMsWUFBWWpxQixFQUFNeWMsVUFBVTVxQixNQUFNb3pCLHdCQUF5QlIsR0FFakdILEdBQW1CdjVCLEtBQU1BLEtBQUtnOUIsWUFBWS9uQixFQUFNeWMsVUFBVWxULE1BQU9rYixTQUMxRDZrQixJLEdSdkdnQixFUXdHVkEsRyw0QlJ2R2ZMLEVBQVlPLEVBQVNBLEVBQU92a0Isd0JBQXdCM1osSUFBTSxFQUM5RG1hLEdBQW1CRCxFQUFvQixHQUFieWpCLEVBQWlCLEVBQUlBLEVBQVlRLEtRMEc3RCxhQUFFSyxtQkFBQSxXQUVFLElBREYsSUFBTXZsQixFQUNHQSxFQUFPeDVCLEtBQUttOUMsWUFBWTNsQyxPQUFXZ2lCLEVBQUtzRyxTQUFTdEcsRUFBS3NHLFdBR2pFLGFBQUVzZCxrQkFBQSxTQUFrQjRCLEdBQ2hCLEdBQUtBLEdBQWFBLEVBQVVqckIsU0FBVy96QixLQUFLaVYsTUFBTThlLFFBT2hELElBQUtucUIsSUFBSS9MLEVBQUksRUFBR0EsRUFBSW1DLEtBQUttOUMsWUFBWXg2QyxPQUFROUUsSUFBSyxDQUNsRCxJQUFNb2hELEVBQWFqL0MsS0FBS205QyxZQUFZdC9DLEdBQzlCb2hELEVBQVd4MkMsUUFBUXcyQyxFQUFXeDJDLE9BQU96SSxLQUFNZy9DLE9BVFEsQ0FDM0QsS0FBT0QscUJBQ0wsSUFBS24xQyxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJbUMsS0FBS2lWLE1BQU04ZSxRQUFRcHhCLE9BQVE5RSxJQUFLLENBQ3BELElBQU1xMkIsRUFBU2wwQixLQUFLaVYsTUFBTThlLFFBQVFsMkIsR0FDNUJxMkIsRUFBTzFrQixLQUFLZ3FCLE1BQU14NUIsS0FBS205QyxZQUFZaDZDLEtBQUsrd0IsRUFBTzFrQixLQUFLZ3FCLEtBQUt4NUIsVUFpQnJFLGFBQUU0NUIsU0FBQSxTQUFTcWEsRUFBVTdxQyxHQUNqQlEsSUFBaUQ5SyxFQUE3QzRLLEVBQU8xSixLQUFLMDhDLFFBQVUxOEMsS0FBSzA4QyxPQUFPekksR0FDdEMsR0FBWSxNQUFSdnFDLElBQWlCNUssRUFBUXNLLEVBQUlBLEVBQUVNLEdBQVFBLEdBQU8sT0FBTzVLLEVBQzNELElBQU1pMUIsRUFBVS96QixLQUFLaVYsTUFBTThlLFFBQ3pCLEdBQUlBLEVBQVMsSUFBS25xQixJQUFJL0wsRUFBSSxFQUFHQSxFQUFJazJCLEVBQVFweEIsT0FBUTlFLElBQUssQ0FDcEQrTCxJQUFJRixFQUFPcXFCLEVBQVFsMkIsR0FBRzAzQixNQUFNMGUsR0FDNUIsR0FBWSxNQUFSdnFDLElBQWlCNUssRUFBUXNLLEVBQUlBLEVBQUVNLEdBQVFBLEdBQU8sT0FBTzVLLElBTS9ELGFBQUVzckMsU0FBQSxXQUNBLE9BQVNwcUMsS0FBSzY3QixLQUFLOEIsZUFBaUIzOUIsS0FBS2tiLEtBSzNDLGFBQUUyaUIsTUFBQSxXQUNFNzlCLEtBQUsrb0MsWUFBWTlHLE9BQ2JqaUMsS0FBS21xQyxVUjNJTixTQUE0Qmp2QixHQUNqQyxHQUFJQSxFQUFJZ2tDLFVBQVcsT0FBT2hrQyxFQUFJZ2tDLFlBQzlCLEdBQUl0a0IsR0FBd0IsT0FBTzFmLEVBQUkyaUIsTUFBTWpELElBRTdDaHhCLElBQUl1MUMsRUFBUzNrQixHQUFZdGYsR0FDekJBLEVBQUkyaUIsTUFBZ0MsTUFBMUJqRCxHQUFpQyxDQUN6QyxvQkFFRSxPQURBQSxHQUF5QixDQUFDd2tCLGVBQWUsSUFDbEMsU0FFUDUyQyxHQUNDb3lCLEtBQ0hBLElBQXlCLEVBQ3pCRixHQUFtQnlrQixFQUFRLElROEhSRSxDQUFtQnIvQyxLQUFLa2IsS0FDN0MsR0FBaUJsYixNQUNmQSxLQUFLK29DLFlBQVkzK0IsU0FRckJnRSxHQUFNeXRCLEtBQUEsZUFDRmp5QixJQUFJK0csRUFBUzNRLEtBQUsyOEMsTUFDcEIsR0FBZ0IsTUFBVmhzQyxFQUFnQixJQUFLL0csSUFBSTBNLEVBQVN0VyxLQUFLa2IsSUFBSTdULFdBQVlpUCxFQUFRQSxFQUFTQSxFQUFPalAsV0FDakYsR0FBdUIsR0FBbkJpUCxFQUFPNUMsVUFBcUMsSUFBbkI0QyxFQUFPNUMsVUFBa0I0QyxFQUFPNmdCLEtBRTNELE9BREs3Z0IsRUFBT21vQixlQUFjbGdDLE9BQU8rZ0QsZUFBZWhwQyxHQUFRbW9CLGFBQWUsV0FBRyxPQUFHejlCLFNBQVN5OUIsaUJBQy9FeitCLEtBQUsyOEMsTUFBUXJtQyxFQUcxQixPQUFTM0YsR0FBVTNQLFVBV3JCLGFBQUU0NkIsWUFBQSxTQUFZZCxHQUNWLE9BQU9jLEdBQVk1N0IsS0FBTTg2QixJQU83QixhQUFFa0MsWUFBQSxTQUFZL3lCLEdBQ1YsT0FBTyt5QixHQUFZaDlCLEtBQU1pSyxJQVE3QixhQUFFczFDLFNBQUEsU0FBU3QxQyxHQUNULE9BQVNqSyxLQUFLczhCLFFBQVFXLFdBQVdoekIsSUFZbkMsYUFBRXEyQixRQUFBLFNBQVFyMkIsR0FDUixJQUFNbXBCLEVBQU9wekIsS0FBS3M4QixRQUFRaUUsT0FBT3QyQixHQUMvQixPQUFPbXBCLEVBQU9BLEVBQUtrTixRQUFVLE1BWWpDLGFBQUVrZixTQUFBLFNBQVMzMEMsRUFBTW9ELEVBQVEydUIsUSxXQUFRLEdBQzdCaHpCLElBQUlLLEVBQU1qSyxLQUFLczhCLFFBQVFJLFdBQVc3eEIsRUFBTW9ELEVBQVEydUIsR0FDbEQsR0FBYSxNQUFQM3lCLEVBQWEsTUFBTSxJQUFJK0IsV0FBVyxzQ0FDdEMsT0FBTy9CLEdBVVgsYUFBRWkwQixlQUFBLFNBQWVwRyxFQUFLN2lCLEdBQ2xCLE9BQU9pcEIsR0FBZWwrQixLQUFNaVYsR0FBU2pWLEtBQUtpVixNQUFPNmlCLElBTXJELGFBQUVnSSxRQUFBLFdBQ085L0IsS0FBS3M4QixXRnhRUCxTQUFzQjlDLEdBRTNCLElBQUs1dkIsSUFBSXZHLEtBRFRtMkIsRUFBS3VQLFlBQVk5RyxPQUNBekksRUFBS2lhLGNBQ3BCamEsRUFBS3RlLElBQUk4dkIsb0JBQW9CM25DLEVBQU1tMkIsRUFBS2lhLGNBQWNwd0MsSUFDeERXLGFBQWF3MUIsRUFBS3VkLGtCRXFRbEIsQ0FBZS8yQyxNQUNmLEtBQU8rK0MscUJBQ0QvK0MsS0FBSzY4QyxTQUNULEtBQU92Z0IsUUFBUTd6QixPQUFPekksS0FBS2lWLE1BQU10RyxJQUFLLEdBQUk0dEMsR0FBZ0J2OEMsTUFBT0EsTUFDL0RBLEtBQUtrYixJQUFJN0osWUFBYyxJQUNkclIsS0FBS2tiLElBQUk3VCxZQUNwQixLQUFPNlQsSUFBSTdULFdBQVdDLFlBQVl0SCxLQUFLa2IsS0FFdkNsYixLQUFLczhCLFFBQVF3RCxVQUNiOS9CLEtBQUtzOEIsUUFBVSxPQUluQixhQUFFbWpCLGNBQUEsU0FBYzcrQyxHQUNaLE9GeFBHLFNBQXVCNDRCLEVBQU01NEIsR0FDN0I4eUMsR0FBaUJsYSxFQUFNNTRCLEtBQVV3eUMsR0FBU3h5QyxFQUFNeUMsUUFDaERtMkIsRUFBSzJRLFVBQWN2cEMsRUFBTXlDLFFBQVFnd0MsSUFDcENELEdBQVN4eUMsRUFBTXlDLE1BQU1tMkIsRUFBTTU0QixHRXFQcEI2K0MsQ0FBY3ovQyxLQUFNWSxJQVcvQixhQUFFc25DLFNBQUEsU0FBUzFVLEdBQ1QsSUFBTWtzQixFQUFzQjEvQyxLQUFLMDhDLE9BQU9nRCxvQkFDbENBLEVBQXFCQSxFQUFvQjFoRCxLQUFLZ0MsS0FBTXd6QixHQUNuRHh6QixLQUFLNDlCLFlBQVk1OUIsS0FBS2lWLE1BQU1pVSxNQUFNc0ssSyx5Q0NoVzNDLElBS0ltc0IsR0FBZSxhQUVuQkEsR0FBYWxnRCxVQUFVK0osT0FBUyxTQUFpQnlCLEdBQy9DLE9BQUtBLEVBQU10SSxRQUNYc0ksRUFBUTAwQyxHQUFhNzRDLEtBQUttRSxJQUVqQmpMLEtBQUsyQyxRQUFVc0ksR0FDckJBLEVBQU10SSxPQVpVLEtBWWlCM0MsS0FBSzQvQyxXQUFXMzBDLElBQ2pEakwsS0FBSzJDLE9BYlcsS0FhZ0JzSSxFQUFNNDBDLFlBQVk3L0MsT0FDbkRBLEtBQUs4L0MsWUFBWTcwQyxJQU5TakwsTUFXOUIyL0MsR0FBYWxnRCxVQUFVNEosUUFBVSxTQUFrQjRCLEdBQ2pELE9BQUtBLEVBQU10SSxPQUNKZzlDLEdBQWE3NEMsS0FBS21FLEdBQU96QixPQUFPeEosTUFEWEEsTUFJOUIyL0MsR0FBYWxnRCxVQUFVcWdELFlBQWMsU0FBc0I3MEMsR0FDekQsT0FBTyxJQUFJODBDLEdBQU8vL0MsS0FBTWlMLElBSzFCMDBDLEdBQWFsZ0QsVUFBVXVILE1BQVEsU0FBZ0JGLEVBQU1pRCxHQUluRCxZQUhnQixJQUFUakQsSUFBa0JBLEVBQU8sUUFDbEIsSUFBUGlELElBQWdCQSxFQUFLL0osS0FBSzJDLFFBRTdCbUUsR0FBUWlELEVBQWE0MUMsR0FBYWowQyxNQUMvQjFMLEtBQUtnZ0QsV0FBVzkzQyxLQUFLbUMsSUFBSSxFQUFHdkQsR0FBT29CLEtBQUtvQyxJQUFJdEssS0FBSzJDLE9BQVFvSCxLQUtsRTQxQyxHQUFhbGdELFVBQVVmLElBQU0sU0FBY2IsR0FDekMsS0FBSUEsRUFBSSxHQUFLQSxHQUFLbUMsS0FBSzJDLFFBQ3ZCLE9BQU8zQyxLQUFLaWdELFNBQVNwaUQsSUFRdkI4aEQsR0FBYWxnRCxVQUFVMEosUUFBVSxTQUFrQkMsRUFBR3RDLEVBQU1pRCxRQUMxQyxJQUFUakQsSUFBa0JBLEVBQU8sUUFDbEIsSUFBUGlELElBQWdCQSxFQUFLL0osS0FBSzJDLFFBRTdCbUUsR0FBUWlELEVBQ1IvSixLQUFLa2dELGFBQWE5MkMsRUFBR3RDLEVBQU1pRCxFQUFJLEdBRS9CL0osS0FBS21nRCxxQkFBcUIvMkMsRUFBR3RDLEVBQU1pRCxFQUFJLElBTTdDNDFDLEdBQWFsZ0QsVUFBVTZFLElBQU0sU0FBYzhFLEVBQUd0QyxFQUFNaUQsUUFDbEMsSUFBVGpELElBQWtCQSxFQUFPLFFBQ2xCLElBQVBpRCxJQUFnQkEsRUFBSy9KLEtBQUsyQyxRQUVqQyxJQUFJOEcsRUFBUyxHQUViLE9BREF6SixLQUFLbUosU0FBUSxTQUFVNnlCLEVBQUtuK0IsR0FBSyxPQUFPNEwsRUFBT3RHLEtBQUtpRyxFQUFFNHlCLEVBQUtuK0IsTUFBUWlKLEVBQU1pRCxHQUNsRU4sR0FNVGsyQyxHQUFhNzRDLEtBQU8sU0FBZXM1QyxHQUNqQyxPQUFJQSxhQUFrQlQsR0FBdUJTLEVBQ3RDQSxHQUFVQSxFQUFPejlDLE9BQVMsSUFBSTA5QyxHQUFLRCxHQUFVVCxHQUFhajBDLE9BR25FLElBQUkyMEMsR0FBcUIsU0FBVVYsR0FDakMsU0FBU1UsRUFBS0QsR0FDWlQsRUFBYTNoRCxLQUFLZ0MsTUFDbEJBLEtBQUtvZ0QsT0FBU0EsRUFHWFQsSUFBZVUsRUFBS3g0QixVQUFZODNCLEdBQ3JDVSxFQUFLNWdELFVBQVlsQixPQUFPWSxPQUFRd2dELEdBQWdCQSxFQUFhbGdELFdBQzdENGdELEVBQUs1Z0QsVUFBVTZJLFlBQWMrM0MsRUFFN0IsSUFBSWp5QyxFQUFxQixDQUFFekwsT0FBUSxDQUFFMjlDLGNBQWMsR0FBTzl4QyxNQUFPLENBQUU4eEMsY0FBYyxJQXlDakYsT0F2Q0FELEVBQUs1Z0QsVUFBVThnRCxRQUFVLFdBQ3ZCLE9BQU92Z0QsS0FBS29nRCxRQUdkQyxFQUFLNWdELFVBQVV1Z0QsV0FBYSxTQUFxQmw1QyxFQUFNaUQsR0FDckQsT0FBWSxHQUFSakQsR0FBYWlELEdBQU0vSixLQUFLMkMsT0FBaUIzQyxLQUN0QyxJQUFJcWdELEVBQUtyZ0QsS0FBS29nRCxPQUFPcDVDLE1BQU1GLEVBQU1pRCxLQUcxQ3MyQyxFQUFLNWdELFVBQVV3Z0QsU0FBVyxTQUFtQnBpRCxHQUMzQyxPQUFPbUMsS0FBS29nRCxPQUFPdmlELElBR3JCd2lELEVBQUs1Z0QsVUFBVXlnRCxhQUFlLFNBQXVCOTJDLEVBQUd0QyxFQUFNaUQsRUFBSUssR0FDaEUsSUFBSyxJQUFJdk0sRUFBSWlKLEVBQU1qSixFQUFJa00sRUFBSWxNLElBQ3ZCLElBQXFDLElBQWpDdUwsRUFBRXBKLEtBQUtvZ0QsT0FBT3ZpRCxHQUFJdU0sRUFBUXZNLEdBQWdCLE9BQU8sR0FHM0R3aUQsRUFBSzVnRCxVQUFVMGdELHFCQUF1QixTQUErQi8yQyxFQUFHdEMsRUFBTWlELEVBQUlLLEdBQ2hGLElBQUssSUFBSXZNLEVBQUlpSixFQUFPLEVBQUdqSixHQUFLa00sRUFBSWxNLElBQzVCLElBQXFDLElBQWpDdUwsRUFBRXBKLEtBQUtvZ0QsT0FBT3ZpRCxHQUFJdU0sRUFBUXZNLEdBQWdCLE9BQU8sR0FHM0R3aUQsRUFBSzVnRCxVQUFVbWdELFdBQWEsU0FBcUIzMEMsR0FDL0MsR0FBSWpMLEtBQUsyQyxPQUFTc0ksRUFBTXRJLFFBcEhQLElBcUhiLE9BQU8sSUFBSTA5QyxFQUFLcmdELEtBQUtvZ0QsT0FBT2o3QyxPQUFPOEYsRUFBTXMxQyxhQUcvQ0YsRUFBSzVnRCxVQUFVb2dELFlBQWMsU0FBc0I1MEMsR0FDakQsR0FBSWpMLEtBQUsyQyxPQUFTc0ksRUFBTXRJLFFBekhQLElBMEhiLE9BQU8sSUFBSTA5QyxFQUFLcDFDLEVBQU1zMUMsVUFBVXA3QyxPQUFPbkYsS0FBS29nRCxVQUdsRGh5QyxFQUFtQnpMLE9BQU9qRSxJQUFNLFdBQWMsT0FBT3NCLEtBQUtvZ0QsT0FBT3o5QyxRQUVqRXlMLEVBQW1CSSxNQUFNOVAsSUFBTSxXQUFjLE9BQU8sR0FFcERILE9BQU9paUQsaUJBQWtCSCxFQUFLNWdELFVBQVcyTyxHQUVsQ2l5QyxFQW5EZSxDQW9EdEJWLElBSUZBLEdBQWFqMEMsTUFBUSxJQUFJMjBDLEdBQUssSUFFOUIsSUFBSU4sR0FBdUIsU0FBVUosR0FDbkMsU0FBU0ksRUFBTy9tQixFQUFNQyxHQUNwQjBtQixFQUFhM2hELEtBQUtnQyxNQUNsQkEsS0FBS2c1QixLQUFPQSxFQUNaaDVCLEtBQUtpNUIsTUFBUUEsRUFDYmo1QixLQUFLMkMsT0FBU3EyQixFQUFLcjJCLE9BQVNzMkIsRUFBTXQyQixPQUNsQzNDLEtBQUt3TyxNQUFRdEcsS0FBS21DLElBQUkydUIsRUFBS3hxQixNQUFPeXFCLEVBQU16cUIsT0FBUyxFQTJEbkQsT0F4REtteEMsSUFBZUksRUFBT2w0QixVQUFZODNCLEdBQ3ZDSSxFQUFPdGdELFVBQVlsQixPQUFPWSxPQUFRd2dELEdBQWdCQSxFQUFhbGdELFdBQy9Ec2dELEVBQU90Z0QsVUFBVTZJLFlBQWN5M0MsRUFFL0JBLEVBQU90Z0QsVUFBVThnRCxRQUFVLFdBQ3pCLE9BQU92Z0QsS0FBS2c1QixLQUFLdW5CLFVBQVVwN0MsT0FBT25GLEtBQUtpNUIsTUFBTXNuQixZQUcvQ1IsRUFBT3RnRCxVQUFVd2dELFNBQVcsU0FBbUJwaUQsR0FDN0MsT0FBT0EsRUFBSW1DLEtBQUtnNUIsS0FBS3IyQixPQUFTM0MsS0FBS2c1QixLQUFLdDZCLElBQUliLEdBQUttQyxLQUFLaTVCLE1BQU12NkIsSUFBSWIsRUFBSW1DLEtBQUtnNUIsS0FBS3IyQixTQUdoRm85QyxFQUFPdGdELFVBQVV5Z0QsYUFBZSxTQUF1QjkyQyxFQUFHdEMsRUFBTWlELEVBQUlLLEdBQ2xFLElBQUlxMkMsRUFBVXpnRCxLQUFLZzVCLEtBQUtyMkIsT0FDeEIsUUFBSW1FLEVBQU8yNUMsSUFDMkQsSUFBbEV6Z0QsS0FBS2c1QixLQUFLa25CLGFBQWE5MkMsRUFBR3RDLEVBQU1vQixLQUFLb0MsSUFBSVAsRUFBSTAyQyxHQUFVcjJDLFFBRXZETCxFQUFLMDJDLElBQzZHLElBQWxIemdELEtBQUtpNUIsTUFBTWluQixhQUFhOTJDLEVBQUdsQixLQUFLbUMsSUFBSXZELEVBQU8yNUMsRUFBUyxHQUFJdjRDLEtBQUtvQyxJQUFJdEssS0FBSzJDLE9BQVFvSCxHQUFNMDJDLEVBQVNyMkMsRUFBUXEyQyxVQUR6RyxJQUtGVixFQUFPdGdELFVBQVUwZ0QscUJBQXVCLFNBQStCLzJDLEVBQUd0QyxFQUFNaUQsRUFBSUssR0FDbEYsSUFBSXEyQyxFQUFVemdELEtBQUtnNUIsS0FBS3IyQixPQUN4QixRQUFJbUUsRUFBTzI1QyxJQUNrRyxJQUF6R3pnRCxLQUFLaTVCLE1BQU1rbkIscUJBQXFCLzJDLEVBQUd0QyxFQUFPMjVDLEVBQVN2NEMsS0FBS21DLElBQUlOLEVBQUkwMkMsR0FBV0EsRUFBU3IyQyxFQUFRcTJDLFFBRTVGMTJDLEVBQUswMkMsSUFDcUUsSUFBMUV6Z0QsS0FBS2c1QixLQUFLbW5CLHFCQUFxQi8yQyxFQUFHbEIsS0FBS29DLElBQUl4RCxFQUFNMjVDLEdBQVUxMkMsRUFBSUssVUFEbkUsSUFLRjIxQyxFQUFPdGdELFVBQVV1Z0QsV0FBYSxTQUFxQmw1QyxFQUFNaUQsR0FDdkQsR0FBWSxHQUFSakQsR0FBYWlELEdBQU0vSixLQUFLMkMsT0FBVSxPQUFPM0MsS0FDN0MsSUFBSXlnRCxFQUFVemdELEtBQUtnNUIsS0FBS3IyQixPQUN4QixPQUFJb0gsR0FBTTAyQyxFQUFrQnpnRCxLQUFLZzVCLEtBQUtoeUIsTUFBTUYsRUFBTWlELEdBQzlDakQsR0FBUTI1QyxFQUFrQnpnRCxLQUFLaTVCLE1BQU1qeUIsTUFBTUYsRUFBTzI1QyxFQUFTMTJDLEVBQUswMkMsR0FDN0R6Z0QsS0FBS2c1QixLQUFLaHlCLE1BQU1GLEVBQU0yNUMsR0FBU2ozQyxPQUFPeEosS0FBS2k1QixNQUFNanlCLE1BQU0sRUFBRytDLEVBQUswMkMsS0FHeEVWLEVBQU90Z0QsVUFBVW1nRCxXQUFhLFNBQXFCMzBDLEdBQ2pELElBQUl1QixFQUFReE0sS0FBS2k1QixNQUFNMm1CLFdBQVczMEMsR0FDbEMsR0FBSXVCLEVBQVMsT0FBTyxJQUFJdXpDLEVBQU8vL0MsS0FBS2c1QixLQUFNeHNCLElBRzVDdXpDLEVBQU90Z0QsVUFBVW9nRCxZQUFjLFNBQXNCNTBDLEdBQ25ELElBQUl1QixFQUFReE0sS0FBS2c1QixLQUFLNm1CLFlBQVk1MEMsR0FDbEMsR0FBSXVCLEVBQVMsT0FBTyxJQUFJdXpDLEVBQU92ekMsRUFBT3hNLEtBQUtpNUIsUUFHN0M4bUIsRUFBT3RnRCxVQUFVcWdELFlBQWMsU0FBc0I3MEMsR0FDbkQsT0FBSWpMLEtBQUtnNUIsS0FBS3hxQixPQUFTdEcsS0FBS21DLElBQUlySyxLQUFLaTVCLE1BQU16cUIsTUFBT3ZELEVBQU11RCxPQUFTLEVBQ3RELElBQUl1eEMsRUFBTy8vQyxLQUFLZzVCLEtBQU0sSUFBSSttQixFQUFPLy9DLEtBQUtpNUIsTUFBT2h1QixJQUNqRCxJQUFJODBDLEVBQU8vL0MsS0FBTWlMLElBR25CODBDLEVBakVpQixDQWtFeEJKLElBSWEsR0FGSUEsR0N2TGJlLEdBQ0osU0FBWTk4QyxFQUFPKzhDLEdBQ2pCM2dELEtBQUs0RCxNQUFRQSxFQUNiNUQsS0FBSzJnRCxXQUFhQSxHQU10QixhQUFFQyxTQUFBLFNBQVMzckMsRUFBTzRyQyxHLFdBQ2hCLEdBQXlCLEdBQW5CN2dELEtBQUsyZ0QsV0FBaUIsT0FBTyxLQUduQyxJQURBLElBTU1HLEVBQU90MEIsRUFOUHJpQixFQUFNbkssS0FBSzRELE1BQU1qQixRQUNid0gsSUFBTyxDQUVmLEdBRGFuSyxLQUFLNEQsTUFBTWxGLElBQUl5TCxFQUFNLEdBQ3ZCdW5CLFVBQVcsR0FBSXZuQixFQUFLLE9BSTNCMDJDLElBQ0ZDLEVBQVE5Z0QsS0FBSytnRCxVQUFVNTJDLEVBQUtuSyxLQUFLNEQsTUFBTWpCLFFBQ3ZDNnBCLEVBQVVzMEIsRUFBTXA1QixLQUFLL2tCLFFBRXZCaUgsSUFDSThuQixFQUFXc3ZCLEVBRFhDLEVBQVloc0MsRUFBTXVlLEdBRWxCMHRCLEVBQVcsR0FBSWw0QyxFQUFZLEdBa0MvQixPQWhDRixLQUFPcEYsTUFBTXVGLFNBQVEsU0FBQ3RGLEVBQU1oRyxHQUN4QixJQUFLZ0csRUFBS2tsQixLQU9SLE9BTksrM0IsSUFDTCxFQUFVOWdELEVBQUsrZ0QsVUFBVTUyQyxFQUFLdE0sRUFBSSxHQUNoQzJ1QixFQUFVczBCLEVBQU1wNUIsS0FBSy9rQixRQUV2QjZwQixTQUNBeGpCLEVBQVU3RixLQUFLVSxHQUluQixHQUFNaTlDLEVBQU8sQ0FDWCxFQUFZMzlDLEtBQUssSUFBSWcrQyxHQUFLdDlDLEVBQUtTLE1BQzdCc0YsSUFBZ0R0RixFQUE1Q3lrQixFQUFPbGxCLEVBQUtrbEIsS0FBS3prQixJQUFJdzhDLEVBQU05NUMsTUFBTXdsQixJQUVqQ3pELEdBQVFrNEIsRUFBVWo0QixVQUFVRCxHQUFNcGEsTUFDcENySyxFQUFNMjhDLEVBQVUvNEIsUUFBUVIsS0FBS3U1QixFQUFVLzRCLFFBQVFSLEtBQUsva0IsT0FBUyxHQUMvRCxFQUFXUSxLQUFLLElBQUlnK0MsR0FBSzc4QyxFQUFLLEtBQU0sS0FBTTQ4QyxFQUFTditDLE9BQVNxRyxFQUFVckcsVUFFdEU2cEIsSUFDSWxvQixHQUFLdzhDLEVBQU1oNUIsVUFBVXhqQixFQUFLa29CLFFBRTlCeTBCLEVBQVVqNEIsVUFBVW5sQixFQUFLa2xCLE1BRzNCLE9BQUlsbEIsRUFBSzZ0QixXQUNULEVBQWNvdkIsRUFBUWo5QyxFQUFLNnRCLFVBQVVwdEIsSUFBSXc4QyxFQUFNOTVDLE1BQU13bEIsSUFBWTNvQixFQUFLNnRCLFVBQ3BFc3ZCLEVBQVksSUFBSU4sR0FBTzFnRCxFQUFLNEQsTUFBTW9ELE1BQU0sRUFBR21ELEdBQUtYLE9BQU9SLEVBQVVrTyxVQUFVL1IsT0FBTys3QyxJQUFZbGhELEVBQUsyZ0QsV0FBYSxJQUN6RyxRQUhULElBS0MzZ0QsS0FBSzRELE1BQU1qQixPQUFRLEdBRWYsQ0FBQ3ErQyxZQUFXQyxZQUFXdnZCLGNBS2xDLGFBQUUwdkIsYUFBQSxTQUFhSCxFQUFXdnZCLEVBQVcydkIsRUFBYVIsR0FJOUMsSUFIRixJQUFNUyxFQUFXLEdBQUlYLEVBQWEzZ0QsS0FBSzJnRCxXQUNqQ1ksRUFBV3ZoRCxLQUFLNEQsTUFBTzQ5QyxHQUFZWCxHQUFpQlUsRUFBUzUrQyxPQUFTNCtDLEVBQVM3aUQsSUFBSTZpRCxFQUFTNStDLE9BQVMsR0FBSyxLQUVyRzlFLEVBQUksRUFBR0EsRUFBSW9qRCxFQUFVcjRCLE1BQU1qbUIsT0FBUTlFLElBQUssQ0FDL0MrTCxJQUNpRTYzQyxFQUQ3RDE0QixFQUFPazRCLEVBQVVyNEIsTUFBTS9xQixHQUFHMnBCLE9BQU95NUIsRUFBVXA0QixLQUFLaHJCLElBQ2hEZ0csRUFBTyxJQUFJczlDLEdBQUtGLEVBQVUvNEIsUUFBUVIsS0FBSzdwQixHQUFJa3JCLEVBQU0ySSxJQUNqRCt2QixFQUFTRCxHQUFZQSxFQUFTLzNCLE1BQU01bEIsTUFDeEMsRUFBUzQ5QyxFQUNINWpELEVBQUd5akQsRUFBUzlwQyxNQUNYK3BDLEVBQVdBLEVBQVN2NkMsTUFBTSxFQUFHdTZDLEVBQVM1K0MsT0FBUyxJQUV0RDIrQyxFQUFTbitDLEtBQUtVLEdBQ1Y2dEIsSUFDRml2QixJQUNGLEVBQWMsTUFFVEUsSUFBZVcsRUFBVzM5QyxHQUVuQyxJQTJHb0JELEVBQU90RSxFQUN2Qm9pRCxFQTVHRUMsRUFBV2hCLEVBQWFVLEVBQVk3eUMsTUFLeEMsT0FKSW16QyxFQUFXQyxLQTBHVXRpRCxFQXpHV3FpRCxHQXlHbEIvOUMsRUF6R1EyOUMsR0EyR3RCcDRDLFNBQVEsU0FBQ3RGLEVBQU1oRyxHQUNuQixHQUFJZ0csRUFBSzZ0QixXQUFxQixHQUFQcHlCLElBRXJCLE9BREFvaUQsRUFBVzdqRCxHQUNKLEtBOUdQMGpELEVBaUhHMzlDLEVBQU1vRCxNQUFNMDZDLEdBaEhqQixHQUFnQkMsR0FFVCxJQUFJakIsR0FBT2EsRUFBUy8zQyxPQUFPODNDLEdBQVdYLElBR2pELGFBQUVJLFVBQUEsU0FBVWo2QyxFQUFNaUQsR0FDZEgsSUFBSThkLEVBQU8sSUFBSUQsR0FNZixPQUxGLEtBQU83akIsTUFBTXVGLFNBQVEsU0FBQ3RGLEVBQU1oRyxHQUN4QitMLElBQUlpNEMsRUFBaUMsTUFBckJoK0MsRUFBS2krQyxjQUF3QmprRCxFQUFJZ0csRUFBS2krQyxjQUFnQmg3QyxFQUNoRTRnQixFQUFLQSxLQUFLL2tCLE9BQVNrQixFQUFLaStDLGFBQWUsS0FDL0MsRUFBT2g2QixVQUFVamtCLEVBQUtTLElBQUt1OUMsS0FDeEIvNkMsRUFBTWlELEdBQ0YyZCxHQUdYLGFBQUVxNkIsUUFBQSxTQUFRbjBDLEdBQ1IsT0FBeUIsR0FBbkI1TixLQUFLMmdELFdBQXdCM2dELEtBQzFCLElBQUkwZ0QsR0FBTzFnRCxLQUFLNEQsTUFBTTRGLE9BQU9vRSxFQUFNdEosS0FBSSxTQUFBQSxHQUFJLE9BQUcsSUFBSTY4QyxHQUFLNzhDLE9BQVF0RSxLQUFLMmdELGFBUS9FLGFBQUVxQixRQUFBLFNBQVFDLEVBQWtCQyxHQUN4QixJQUFLbGlELEtBQUsyZ0QsV0FBWSxPQUFPM2dELEtBRS9CLElBQU1taUQsRUFBZSxHQUFJLzNDLEVBQVFsQyxLQUFLbUMsSUFBSSxFQUFHckssS0FBSzRELE1BQU1qQixPQUFTdS9DLEdBRTNEaDZCLEVBQVUrNUIsRUFBaUIvNUIsUUFDM0JrNkIsRUFBV0gsRUFBaUJyNUIsTUFBTWptQixPQUNsQ2crQyxFQUFhM2dELEtBQUsyZ0QsV0FDeEIsS0FBTy84QyxNQUFNdUYsU0FBUSxTQUFBdEYsR0FBY0EsRUFBSzZ0QixXQUFXaXZCLE1BQWdCdjJDLEdBRWpFUixJQUFJeTRDLEVBQVdILEVBQ2pCLEtBQU90K0MsTUFBTXVGLFNBQVEsU0FBQXRGLEdBQ25CLElBQU1vRyxFQUFNaWUsRUFBUUcsWUFBWWc2QixHQUM5QixHQUFXLE1BQVBwNEMsRUFBSixDQUNGLEVBQWEvQixLQUFLb0MsSUFBSTgzQyxFQUFVbjRDLEdBQ2hDLElBQU0zRixFQUFNNGpCLEVBQVFSLEtBQUt6ZCxHQUN2QixHQUFJcEcsRUFBS2tsQixLQUFNLENBQ2JuZixJQUFJbWYsRUFBT2s1QixFQUFpQnI1QixNQUFNM2UsR0FBS3VkLE9BQU95NkIsRUFBaUJwNUIsS0FBSzVlLElBQ2hFeW5CLEVBQVk3dEIsRUFBSzZ0QixXQUFhN3RCLEVBQUs2dEIsVUFBVXB0QixJQUFJNGpCLEVBQVFsaEIsTUFBTXE3QyxFQUFXLEVBQUdwNEMsSUFDN0V5bkIsR0FBV2l2QixJQUNmd0IsRUFBYWgvQyxLQUFLLElBQUlnK0MsR0FBSzc4QyxFQUFLeWtCLEVBQU0ySSxTQUV4QyxFQUFldnVCLEtBQUssSUFBSWcrQyxHQUFLNzhDLE9BRTVCOEYsR0FHSCxJQURBUixJQUFJMDRDLEVBQVUsR0FDTHprRCxFQUFJcWtELEVBQWNya0QsRUFBSXVrRCxFQUFVdmtELElBQ3ZDeWtELEVBQVFuL0MsS0FBSyxJQUFJZytDLEdBQUtqNUIsRUFBUVIsS0FBSzdwQixLQUN2QyxJQUFNK0YsRUFBUTVELEtBQUs0RCxNQUFNb0QsTUFBTSxFQUFHb0QsR0FBT1osT0FBTzg0QyxHQUFTOTRDLE9BQU8yNEMsR0FDMURJLEVBQVMsSUFBSTdCLEdBQU85OEMsRUFBTys4QyxHQUkvQixPQUZJNEIsRUFBT0MsaUJBakpTLE1Ba0psQkQsRUFBU0EsRUFBT0UsU0FBU3ppRCxLQUFLNEQsTUFBTWpCLE9BQVN3L0MsRUFBYXgvQyxTQUNyRDQvQyxHQUdYLGFBQUVDLGVBQUEsV0FDRTU0QyxJQUFJMGtCLEVBQVEsRUFFWixPQURBdHVCLEtBQUs0RCxNQUFNdUYsU0FBUSxTQUFBdEYsR0FBZUEsRUFBS2tsQixNQUFNdUYsT0FDdENBLEdBU1gsYUFBRW0wQixTQUFBLFNBQVNyK0IsUSxVQUFPcGtCLEtBQUs0RCxNQUFNakIsUUFDekJpSCxJQUFJazNDLEVBQVE5Z0QsS0FBSytnRCxVQUFVLEVBQUczOEIsR0FBT29JLEVBQVVzMEIsRUFBTXA1QixLQUFLL2tCLE9BQ3REaUIsRUFBUSxHQUFJOCtDLEVBQVMsRUFzQnpCLE9BckJGLEtBQU85K0MsTUFBTXVGLFNBQVEsU0FBQ3RGLEVBQU1oRyxHQUN4QixHQUFJQSxHQUFLdW1CLEVBQ1B4Z0IsRUFBTVQsS0FBS1UsR0FDUEEsRUFBSzZ0QixXQUFXZ3hCLFNBQ2YsR0FBSTcrQyxFQUFLa2xCLEtBQU0sQ0FDdEIsSUFBTUEsRUFBT2xsQixFQUFLa2xCLEtBQUt6a0IsSUFBSXc4QyxFQUFNOTVDLE1BQU13bEIsSUFBV2xvQixFQUFNeWtCLEdBQVFBLEVBQUtNLFNBR3JFLEdBRkVtRCxJQUNJbG9CLEdBQUt3OEMsRUFBTWg1QixVQUFVeGpCLEVBQUtrb0IsR0FDMUJ6RCxFQUFNLENBQ1YsSUFBTTJJLEVBQVk3dEIsRUFBSzZ0QixXQUFhN3RCLEVBQUs2dEIsVUFBVXB0QixJQUFJdzhDLEVBQU05NUMsTUFBTXdsQixJQUM3RGtGLEdBQVdneEIsSUFDakIsSUFBeURqQixFQUFuRGtCLEVBQVUsSUFBSXhCLEdBQUs3OEMsRUFBSWtqQixTQUFVdUIsRUFBTTJJLEdBQW9CeG1CLEVBQU90SCxFQUFNakIsT0FBUyxHQUNqRjgrQyxFQUFTNzlDLEVBQU1qQixRQUFVaUIsRUFBTXNILEdBQU11ZSxNQUFNazVCLElBQzdDLytDLEVBQU1zSCxHQUFRdTJDLEVBRWQ3OUMsRUFBTVQsS0FBS3cvQyxTQUVOOStDLEVBQUtTLEtBQ2Rrb0IsTUFFRHhzQixLQUFLNEQsTUFBTWpCLE9BQVEsR0FDZixJQUFJKzlDLEdBQU8sR0FBYTU1QyxLQUFLbEQsRUFBTXNULFdBQVl3ckMsSUFJMURoQyxHQUFPaDFDLE1BQVEsSUFBSWcxQyxHQUFPLEdBQWFoMUMsTUFBTyxHQWE5QyxJQUFNeTFDLEdBQ0osU0FBWTc4QyxFQUFLeWtCLEVBQU0ySSxFQUFXb3dCLEdBRWhDOWhELEtBQUtzRSxJQUFNQSxFQUVYdEUsS0FBSytvQixLQUFPQSxFQUlaL29CLEtBQUsweEIsVUFBWUEsRUFHakIxeEIsS0FBSzhoRCxhQUFlQSxHQUd4QixhQUFFcjRCLE1BQUEsU0FBTXhlLEdBQ0osR0FBSWpMLEtBQUsrb0IsTUFBUTlkLEVBQU04ZCxPQUFTOWQsRUFBTXltQixVQUFXLENBQy9DOW5CLElBQUltZixFQUFPOWQsRUFBTThkLEtBQUtVLE1BQU16cEIsS0FBSytvQixNQUNuQyxHQUFNQSxFQUFNLE9BQU8sSUFBSW80QixHQUFLcDRCLEVBQUtNLFNBQVM3QixTQUFVdUIsRUFBTS9vQixLQUFLMHhCLGFBUW5FLElBQWFreEIsR0FDWCxTQUFZbk0sRUFBTW9NLEVBQVFDLEVBQVlDLEdBQ3BDL2lELEtBQUt5MkMsS0FBT0EsRUFDWnoyQyxLQUFLNmlELE9BQVNBLEVBQ2Q3aUQsS0FBSzhpRCxXQUFhQSxFQUNsQjlpRCxLQUFLK2lELFNBQVdBLEdBSWRuQixHQUFpQixHQXNEdkIsU0FBU29CLEdBQVUxK0MsR0FDakJzRixJQUFJSCxFQUFTLEdBRWIsT0FEQW5GLEVBQUk2RSxTQUFRLFNBQUM4NUMsRUFBT0MsRUFBS3A4QyxFQUFNaUQsR0FBSSxPQUFHTixFQUFPdEcsS0FBSzJELEVBQU1pRCxNQUNqRE4sRUFHVCxTQUFTMDVDLEdBQVUxOEIsRUFBUXlCLEdBQ3pCLElBQUt6QixFQUFRLE9BQU8sS0FFcEIsSUFEQTdjLElBQUlILEVBQVMsR0FDSjVMLEVBQUksRUFBR0EsRUFBSTRvQixFQUFPOWpCLE9BQVE5RSxHQUFLLEVBQUcsQ0FDekMrTCxJQUFJOUMsRUFBT29oQixFQUFRNWpCLElBQUltaUIsRUFBTzVvQixHQUFJLEdBQUlrTSxFQUFLbWUsRUFBUTVqQixJQUFJbWlCLEVBQU81b0IsRUFBSSxJQUFLLEdBQ25FaUosR0FBUWlELEdBQUlOLEVBQU90RyxLQUFLMkQsRUFBTWlELEdBRXBDLE9BQU9OLEVBTVQsU0FBUzI1QyxHQUFnQkMsRUFBU3B1QyxFQUFPaXpCLEVBQVVvYixHQUNqRDE1QyxJQUFJaTNDLEVBQWdCMEMsR0FBa0J0dUMsR0FBUW9zQyxFQUFjbUMsR0FBVzlrRCxJQUFJdVcsR0FBT3pGLEtBQUsrakIsT0FDbkYvYixHQUFPOHJDLEVBQU9ELEVBQVFSLE9BQVNRLEVBQVE1TSxNQUFNbUssU0FBUzNyQyxFQUFPNHJDLEdBQ2pFLEdBQUtycEMsRUFBTCxDQUVBNU4sSUFBSThuQixFQUFZbGEsRUFBSWthLFVBQVVuaEIsUUFBUWlILEVBQUl5cEMsVUFBVXR5QyxLQUNoRHNnQixHQUFTcTBCLEVBQU9ELEVBQVE1TSxLQUFPNE0sRUFBUVIsUUFBUXpCLGFBQWE1cEMsRUFBSXlwQyxVQUFXaHNDLEVBQU15YyxVQUFVK3hCLGNBQy9CcEMsRUFBYVIsR0FFekU2QyxFQUFVLElBQUlkLEdBQWFVLEVBQU9yMEIsRUFBUXpYLEVBQUl3cEMsVUFBV3NDLEVBQU85ckMsRUFBSXdwQyxVQUFZL3hCLEVBQU8sS0FBTSxHQUNqR2laLEVBQVMxd0IsRUFBSXlwQyxVQUFVbHZCLGFBQWFMLEdBQVdvQixRQUFRMHdCLEdBQVksQ0FBQ0YsT0FBTUssYUFBY0QsSUFBVXp3QixtQkFHcEdycEIsSUFBSWc2QyxJQUFzQixFQUFPQyxHQUE2QixLQUs5RCxTQUFTTixHQUFrQnR1QyxHQUN6QnJMLElBQUltcUIsRUFBVTllLEVBQU04ZSxRQUNwQixHQUFJOHZCLElBQThCOXZCLEVBQVMsQ0FDekM2dkIsSUFBc0IsRUFDdEJDLEdBQTZCOXZCLEVBQzdCLElBQUtucUIsSUFBSS9MLEVBQUksRUFBR0EsRUFBSWsyQixFQUFRcHhCLE9BQVE5RSxJQUFLLEdBQUlrMkIsRUFBUWwyQixHQUFHMlIsS0FBS3MwQyxxQkFBc0IsQ0FDakZGLElBQXNCLEVBQ3RCLE9BR0osT0FBT0EsR0FXVDUxQyxJQUFNdzFDLEdBQWEsSUFBSTN0QixHQUFVLFdBQzNCa3VCLEdBQWtCLElBQUlsdUIsR0FBVSxnQkFzQi9CLFNBQVMsR0FBUXRDLEdBR3RCLE9BRkFBLEVBQVMsQ0FBQy9rQixNQUFPK2tCLEdBQVVBLEVBQU8va0IsT0FBUyxJQUNqQ3cxQyxjQUFlendCLEdBQVVBLEVBQU95d0IsZUFBaUIsS0FDcEQsSUFBSTF1QixHQUFPLENBQ2hCbDJCLElBQUtva0QsR0FFTHZ1QyxNQUFPLENBQ0xvZSxLQUFBLFdBQ0UsT0FBTyxJQUFJdXZCLEdBQWFsQyxHQUFPaDFDLE1BQU9nMUMsR0FBT2gxQyxNQUFPLEtBQU0sSUFFNUR3ZCxNQUFBLFNBQU1zSyxFQUFJeXdCLEVBQU1odkMsR0FDZCxPQTlJUixTQUEwQm91QyxFQUFTcHVDLEVBQU91ZSxFQUFJM1osR0FDNUNqUSxJQUF3Q280QyxFQUFwQ2tDLEVBQVkxd0IsRUFBR1QsUUFBUXl3QixJQUMzQixHQUFJVSxFQUFXLE9BQU9BLEVBQVVQLGFBRTVCbndCLEVBQUdULFFBQVFneEIsTUFBa0JWLEVBQVUsSUFBSVQsR0FBYVMsRUFBUTVNLEtBQU00TSxFQUFRUixPQUFRLEtBQU0sSUFFaEdqNUMsSUFBSXU2QyxFQUFXM3dCLEVBQUdULFFBQVEsdUJBRTFCLEdBQXVCLEdBQW5CUyxFQUFHNUssTUFBTWptQixPQUNYLE9BQU8wZ0QsRUFDRixHQUFJYyxHQUFZQSxFQUFTcHhCLFFBQVF5d0IsSUFDdEMsT0FBSVcsRUFBU3B4QixRQUFReXdCLElBQVlGLEtBQ3hCLElBQUlWLEdBQWFTLEVBQVE1TSxLQUFLMkssYUFBYTV0QixFQUFJLEtBQU0zWixFQUFTMHBDLEdBQWtCdHVDLElBQy9Eb3VDLEVBQVFSLE9BQVFHLEdBQVV4dkIsRUFBR3RMLFFBQVFSLEtBQUs4TCxFQUFHNUssTUFBTWptQixPQUFTLElBQUswZ0QsRUFBUU4sVUFFMUYsSUFBSUgsR0FBYVMsRUFBUTVNLEtBQU00TSxFQUFRUixPQUFPekIsYUFBYTV0QixFQUFJLEtBQU0zWixFQUFTMHBDLEdBQWtCdHVDLElBQy9FLEtBQU1vdUMsRUFBUU4sVUFDbkMsSUFBbUMsSUFBL0J2dkIsRUFBR1QsUUFBUSxpQkFBK0JveEIsSUFBaUQsSUFBckNBLEVBQVNweEIsUUFBUSxnQkFRM0UsT0FBSWl2QixFQUFVeHVCLEVBQUdULFFBQVEsWUFHdkIsSUFBSTZ2QixHQUFhUyxFQUFRNU0sS0FBS3VMLFFBQVF4dUIsRUFBSXd1QixHQUN6QnFCLEVBQVFSLE9BQU9iLFFBQVF4dUIsRUFBSXd1QixHQUMzQm1CLEdBQVVFLEVBQVFQLFdBQVl0dkIsRUFBR3RMLFNBQVVtN0IsRUFBUU4sVUFFcEUsSUFBSUgsR0FBYVMsRUFBUTVNLEtBQUtzTCxRQUFRdnVCLEVBQUd0TCxRQUFRUixNQUNoQzI3QixFQUFRUixPQUFPZCxRQUFRdnVCLEVBQUd0TCxRQUFRUixNQUNsQ3k3QixHQUFVRSxFQUFRUCxXQUFZdHZCLEVBQUd0TCxTQUFVbTdCLEVBQVFOLFVBZjNFbjVDLElBQUl3NkMsRUFBK0IsR0FBcEJmLEVBQVFOLFdBQWtCb0IsSUFBYWQsRUFBUU4sVUFBWXZ2QixFQUFHaEMsTUFBUSxHQUFLM1gsRUFBUW1xQyxnQkFtQnRHLFNBQXNCL0MsRUFBVzZCLEdBQy9CLElBQUtBLEVBQVksT0FBTyxFQUN4QixJQUFLN0IsRUFBVTczQixXQUFZLE9BQU8sRUFDbEN4ZixJQUFJeTZDLEdBQVcsRUFNZixPQUxBcEQsRUFBVS80QixRQUFRUixLQUFLLEdBQUd2ZSxTQUFRLFNBQUNpQixFQUFPRCxHQUN4QyxJQUFLUCxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJaWxELEVBQVduZ0QsT0FBUTlFLEdBQUssRUFDdEN1TSxHQUFTMDRDLEVBQVdqbEQsRUFBSSxJQUFNc00sR0FBTzI0QyxFQUFXamxELEtBQ2xEd21ELEdBQVcsTUFFVkEsRUEzQmtEQyxDQUFhOXdCLEVBQUk2dkIsRUFBUVAsYUFDNUVBLEVBQWFxQixFQUFXaEIsR0FBVUUsRUFBUVAsV0FBWXR2QixFQUFHdEwsU0FBVzg2QixHQUFVeHZCLEVBQUd0TCxRQUFRUixLQUFLOEwsRUFBRzVLLE1BQU1qbUIsT0FBUyxJQUNwSCxPQUFPLElBQUlpZ0QsR0FBYVMsRUFBUTVNLEtBQUsySyxhQUFhNXRCLEVBQUk0d0IsRUFBV252QyxFQUFNeWMsVUFBVSt4QixjQUFnQixLQUMvQzVwQyxFQUFTMHBDLEdBQWtCdHVDLElBQ3JEeXJDLEdBQU9oMUMsTUFBT28zQyxFQUFZdHZCLEVBQUdoQyxNQXNIMUM0QyxDQUFpQjZ2QixFQUFNaHZDLEVBQU91ZSxFQUFJRCxLLE9BSTdDQSxJQU1HLFNBQVNneEIsR0FBS3R2QyxFQUFPaXpCLEdBQzFCdCtCLElBQUlxNkMsRUFBT1QsR0FBVzd0QixTQUFTMWdCLEdBQy9CLFNBQUtndkMsR0FBZ0MsR0FBeEJBLEVBQUt4TixLQUFLa0ssY0FDbkJ6WSxHQUFVa2IsR0FBZ0JhLEVBQU1odkMsRUFBT2l6QixHQUFVLElBQzlDLEdBS0YsU0FBU29iLEdBQUtydUMsRUFBT2l6QixHQUMxQnQrQixJQUFJcTZDLEVBQU9ULEdBQVc3dEIsU0FBUzFnQixHQUMvQixTQUFLZ3ZDLEdBQWtDLEdBQTFCQSxFQUFLcEIsT0FBT2xDLGNBQ3JCelksR0FBVWtiLEdBQWdCYSxFQUFNaHZDLEVBQU9pekIsR0FBVSxJQUM5QyxHQ3RhVCxJQUFhc2MsR0FnQlgsU0FBWWx5QyxFQUFPcWhDLEdBTXJCLElBQXVCMy9CLEVBTG5CaFUsS0FBS3NTLE1BQVFBLEVBQ2J0UyxLQUFLMnpDLFFBQTRCLGlCQUFYQSxHQUlIMy9CLEVBSnVDMi9CLEVBS3JELFNBQVMxK0IsRUFBTzNDLEVBQU9sSSxFQUFPRCxHQUNuQ1AsSUFBSXNTLEVBQVNsSSxFQUNiLEdBQUkxQixFQUFNLEdBQUksQ0FDWjFJLElBQUlxRSxFQUFTcUUsRUFBTSxHQUFHZ1MsWUFBWWhTLEVBQU0sSUFDeEM0SixHQUFVNUosRUFBTSxHQUFHdEwsTUFBTWlILEVBQVNxRSxFQUFNLEdBQUczUCxRQUUzQ2lILElBQUk2NkMsR0FESnI2QyxHQUFTNkQsR0FDWTlELEVBQ2pCczZDLEVBQVMsSUFDWHZvQyxFQUFTNUosRUFBTSxHQUFHdEwsTUFBTWlILEVBQVN3MkMsRUFBUXgyQyxHQUFVaU8sRUFDbkQ5UixFQUFRRCxHQUdaLE9BQU84SyxFQUFNdWUsR0FBR1osV0FBVzFXLEVBQVE5UixFQUFPRCxLQWpCMkJ3cEMsR0F5RHpFLFNBQVMrUSxHQUFJbHJCLEVBQU0xeUIsRUFBTWlELEVBQUlZLEVBQU1pUSxFQUFPc1osR0FDeEMsR0FBSXNGLEVBQUtnSyxVQUFXLE9BQU8sRUFDM0I1NUIsSUFBSXFMLEVBQVF1a0IsRUFBS3ZrQixNQUFPOUcsRUFBUThHLEVBQU10RyxJQUFJNEIsUUFBUXpKLEdBQ2xELEdBQUlxSCxFQUFNL0ssT0FBT0MsS0FBS21NLEtBQUtxcEIsS0FBTSxPQUFPLEVBR3hDLElBRkFqdkIsSUFBSSs2QyxFQUFheDJDLEVBQU0vSyxPQUFPb0gsWUFBWXRDLEtBQUttQyxJQUFJLEVBQUc4RCxFQUFNSSxhQXhDNUMsS0F3Q3VFSixFQUFNSSxhQUNuRCxLQUFNLEtBQVk1RCxFQUNuRDlNLEVBQUksRUFBR0EsRUFBSStjLEVBQU1qWSxPQUFROUUsSUFBSyxDQUNyQytMLElBQUkwSSxFQUFRc0ksRUFBTS9jLEdBQUd5VSxNQUFNK00sS0FBS3NsQyxHQUM1Qm54QixFQUFLbGhCLEdBQVNzSSxFQUFNL2MsR0FBRzgxQyxRQUFRMStCLEVBQU8zQyxFQUFPeEwsR0FBUXdMLEVBQU0sR0FBRzNQLE9BQVNnSSxFQUFLaEksUUFBU29ILEdBQ3pGLEdBQUt5cEIsRUFFTCxPQURBZ0csRUFBSzBPLFNBQVMxVSxFQUFHVixRQUFRb0IsRUFBUSxDQUFDK3NCLFVBQVd6dEIsRUFBSTFzQixPQUFNaUQsS0FBSVksV0FDcEQsRUFFVCxPQUFPLEVDM0ZhLElBQUk2NUMsR0FBVSxNQUFPLEtBQS9CLElBRUNJLEdBQVcsSUFBSUosR0FBVSxVQUFXLEtBV3BDSyxHQUFjLENBVEksSUFBSUwsR0FBVSx1Q0FBd0MsS0FFckQsSUFBSUEsR0FBVSxLQUFNLEtBRXJCLElBQUlBLEdBQVUsdUNBQXdDLEtBRXJELElBQUlBLEdBQVUsS0FBTSxNQ1ZwRHgyQyxJQUFNODJDLEdBQVEsQ0FBQyxLQUFNLEdBQUlDLEdBQVEsQ0FBQyxLQUFNLEdBQUlDLEdBQVEsQ0FBQyxLQUFNLEdBTzlDQyxHQUFjLENBQ3pCbDNDLE1BQU8sQ0FBQ20zQyxNQUFPLENBQUN6c0MsUUFBUyxJQUN6QjJELFNBQVUsQ0FBQyxDQUFDcEIsSUFBSyxLQUFNYyxTQUFBLFNBQVNaLEdBQzlCLE1BQU8sQ0FBQ2dxQyxNQUFPaHFDLEVBQUk2bkIsYUFBYSxVQUFZN25CLEVBQUl3RixhQUFhLFNBQVcsTUFFMUUrRCxNQUFBLFNBQU01WixHQUNKLE9BQTJCLEdBQXBCQSxFQUFLa0QsTUFBTW0zQyxNQUFhSixHQUFRLENBQUMsS0FBTSxDQUFDMTZDLE1BQU9TLEVBQUtrRCxNQUFNbTNDLE9BQVEsS0FNaEVDLEdBQWEsQ0FDeEIvb0MsU0FBVSxDQUFDLENBQUNwQixJQUFLLE9BQ2pCeUosTUFBQSxXQUFVLE9BQU9zZ0MsS0FLTkssR0FBVyxDQUN0QmhwQyxTQUFVLENBQUMsQ0FBQ3BCLElBQUssT0FDakJ5SixNQUFBLFdBQVUsT0FBT3VnQyxJQUNqQnAwQixVQUFVLEdBb0NMLFNBQVN5MEIsR0FBV0MsRUFBVXYzQyxHQUNuQyxPQUFPLFNBQVNrSCxFQUFPaXpCLEdBQ3JCLE1BQW1CanpCLEVBQU15YyxVQUFwQnZqQixFQUFBLEVBQUFBLE1BQU8yQyxFQUFBLEVBQUFBLElBQ1JrYSxFQUFRN2MsRUFBTThCLFdBQVdhLEdBQU15MEMsR0FBUyxFQUFPQyxFQUFheDZCLEVBQ2hFLElBQUtBLEVBQU8sT0FBTyxFQUVuQixHQUFJQSxFQUFNeGMsT0FBUyxHQUFLTCxFQUFNdEQsS0FBS21nQixFQUFNeGMsTUFBUSxHQUFHbkwsS0FBSzhQLGtCQUFrQm15QyxJQUFpQyxHQUFwQnQ2QixFQUFNaGEsV0FBaUIsQ0FFN0csR0FBb0MsR0FBaEM3QyxFQUFNdkMsTUFBTW9mLEVBQU14YyxNQUFRLEdBQVMsT0FBTyxFQUM5QzVFLElBQUk2N0MsRUFBVXh3QyxFQUFNdEcsSUFBSTRCLFFBQVF5YSxFQUFNNWdCLE1BQVEsR0FDOUNvN0MsRUFBYSxJQUFJcDFDLEVBQVVxMUMsRUFBU0EsRUFBU3o2QixFQUFNeGMsT0FDL0N3YyxFQUFNL1osU0FBVytaLEVBQU01bkIsT0FBTzJJLGFBQ2hDaWYsRUFBUSxJQUFJNWEsRUFBVWpDLEVBQU84RyxFQUFNdEcsSUFBSTRCLFFBQVFPLEVBQUkzRyxJQUFJNmdCLEVBQU14YyxRQUFTd2MsRUFBTXhjLFFBQzlFKzJDLEdBQVMsRUFFWDM3QyxJQUFJdVYsRUFBT3hJLEdBQWE2dUMsRUFBWUYsRUFBVXYzQyxFQUFPaWQsR0FDckQsUUFBSzdMLElBQ0Qrb0IsR0FBVUEsRUFLbEIsU0FBc0IxVSxFQUFJeEksRUFBT3NCLEVBQVVvNUIsRUFBWUosR0FFckQsSUFEQTE3QyxJQUFJcEUsRUFBVW1FLEVBQVMrQixNQUNkN04sRUFBSXl1QixFQUFTM3BCLE9BQVMsRUFBRzlFLEdBQUssRUFBR0EsSUFDeEMySCxFQUFVbUUsRUFBUzdDLEtBQUt3bEIsRUFBU3p1QixHQUFHd0YsS0FBS2xFLE9BQU9tdEIsRUFBU3p1QixHQUFHa1EsTUFBT3ZJLElBRXJFZ3VCLEVBQUd6SyxLQUFLLElBQUksR0FBa0JpQyxFQUFNNWdCLE9BQVNzN0MsRUFBYSxFQUFJLEdBQUkxNkIsRUFBTTdnQixJQUFLNmdCLEVBQU01Z0IsTUFBTzRnQixFQUFNN2dCLElBQ2xFLElBQUl3SCxFQUFNbk0sRUFBUyxFQUFHLEdBQUk4bUIsRUFBUzNwQixRQUFRLElBR3pFLElBREFpSCxJQUFJckIsRUFBUSxFQUNIMUssRUFBSSxFQUFHQSxFQUFJeXVCLEVBQVMzcEIsT0FBUTlFLElBQVN5dUIsRUFBU3p1QixHQUFHd0YsTUFBUWlpRCxJQUFVLzhDLEVBQVExSyxFQUFJLEdBSXhGLElBSEErTCxJQUFJKzdDLEVBQWFyNUIsRUFBUzNwQixPQUFTNEYsRUFFL0JxOUMsRUFBVzU2QixFQUFNNWdCLE1BQVFraUIsRUFBUzNwQixRQUFVK2lELEVBQWEsRUFBSSxHQUFJdGlELEVBQVM0bkIsRUFBTTVuQixPQUMzRXZGLEVBQUltdEIsRUFBTWhhLFdBQVlpWixFQUFJZSxFQUFNL1osU0FBVTdGLEdBQVEsRUFBTXZOLEVBQUlvc0IsRUFBR3BzQixJQUFLdU4sR0FBUSxHQUM5RUEsR0FBU3NnQixHQUFTOEgsRUFBRzdrQixJQUFLaTNDLEVBQVVELEtBQ3ZDbnlCLEVBQUdqYyxNQUFNcXVDLEVBQVVELEdBQ25CQyxHQUFZLEVBQUlELEdBRWxCQyxHQUFZeGlELEVBQU84RyxNQUFNck0sR0FBR2dNLFNBRTlCLE9BQU8ycEIsRUF6QmtCcXlCLENBQWE1d0MsRUFBTXVlLEdBQUl4SSxFQUFPN0wsRUFBTW9tQyxFQUFRRCxHQUFVcnlCLG1CQUN0RSxJQW9FSixTQUFTNnlCLEdBQWFDLEdBQzNCLE9BQU8sU0FBUzl3QyxFQUFPaXpCLEdBQ3JCLE1BQW1CanpCLEVBQU15YyxVQUFwQnZqQixFQUFBLEVBQUFBLE1BQU8yQyxFQUFBLEVBQUFBLElBQ1JrYSxFQUFRN2MsRUFBTThCLFdBQVdhLEdBQUssU0FBQWpHLEdBQUssT0FBR0EsRUFBS2tCLFlBQWNsQixFQUFLUSxXQUFXaEksTUFBUTBpRCxLQUNyRixRQUFLLzZCLEtBQ0FrZCxJQUNELzVCLEVBQU10RCxLQUFLbWdCLEVBQU14YyxNQUFRLEdBQUduTCxNQUFRMGlELEVBTzVDLFNBQXlCOXdDLEVBQU9pekIsRUFBVTZkLEVBQVUvNkIsR0FDbERwaEIsSUFBSTRwQixFQUFLdmUsRUFBTXVlLEdBQUlycEIsRUFBTTZnQixFQUFNN2dCLElBQUs2N0MsRUFBWWg3QixFQUFNbGEsSUFBSTNHLElBQUk2Z0IsRUFBTXhjLE9BQ2hFckUsRUFBTTY3QyxJQUdSeHlCLEVBQUd6SyxLQUFLLElBQUksR0FBa0I1ZSxFQUFNLEVBQUc2N0MsRUFBVzc3QyxFQUFLNjdDLEVBQ3pCLElBQUlyMEMsRUFBTWhJLEVBQVM3QyxLQUFLaS9DLEVBQVM1bUQsT0FBTyxLQUFNNnJCLEVBQU01bkIsT0FBT2lDLFNBQVUsRUFBRyxHQUFJLEdBQUcsSUFDN0cybEIsRUFBUSxJQUFJNWEsRUFBVW9qQixFQUFHN2tCLElBQUk0QixRQUFReWEsRUFBTTdjLE1BQU1sRSxLQUFNdXBCLEVBQUc3a0IsSUFBSTRCLFFBQVF5MUMsR0FBWWg3QixFQUFNeGMsUUFHMUYsT0FEQTA1QixFQUFTMVUsRUFBR3RILEtBQUtsQixFQUFPRCxHQUFXQyxJQUFRaUksbUJBQ3BDLEVBaEJJZ3pCLENBQWdCaHhDLEVBQU9pekIsRUFBVTZkLEVBQVUvNkIsR0FtQnhELFNBQXVCL1YsRUFBT2l6QixFQUFVbGQsR0FHdEMsSUFGQXBoQixJQUFJNHBCLEVBQUt2ZSxFQUFNdWUsR0FBSTB5QixFQUFPbDdCLEVBQU01bkIsT0FFdkI2RyxFQUFNK2dCLEVBQU03Z0IsSUFBS3RNLEVBQUltdEIsRUFBTS9aLFNBQVcsRUFBR2daLEVBQUllLEVBQU1oYSxXQUFZblQsRUFBSW9zQixFQUFHcHNCLElBQzdFb00sR0FBT2k4QyxFQUFLaDhDLE1BQU1yTSxHQUFHZ00sU0FDckIycEIsRUFBRzdELE9BQU8xbEIsRUFBTSxFQUFHQSxFQUFNLEdBRTNCTCxJQUFJbytCLEVBQVN4VSxFQUFHN2tCLElBQUk0QixRQUFReWEsRUFBTTVnQixPQUFRdkcsRUFBT21rQyxFQUFPaDVCLFVBQ3BEeWtCLEVBQThCLEdBQXBCekksRUFBTWhhLFdBQWlCd3RCLEVBQVF4VCxFQUFNL1osVUFBWWkxQyxFQUFLbjZDLFdBQ2hFM0ksRUFBUzRrQyxFQUFPbjlCLE1BQU0sR0FBSXM3QyxFQUFjbmUsRUFBT3A4QixPQUFPLEdBQzFELElBQUt4SSxFQUFPc1AsV0FBV3l6QyxHQUFlMXlCLEVBQVUsRUFBSSxHQUFJMHlCLEVBQWMsRUFDL0N0aUQsRUFBSzJCLFFBQVFnRSxPQUFPZzFCLEVBQVE3MEIsRUFBUytCLE1BQVEvQixFQUFTN0MsS0FBS28vQyxLQUNoRixPQUFPLEVBQ1R0OEMsSUFBSVEsRUFBUTQ5QixFQUFPLzlCLElBQUtFLEVBQU1DLEVBQVF2RyxFQUFLZ0csU0FTM0MsT0FMQTJwQixFQUFHekssS0FBSyxJQUFJLEdBQWtCM2UsR0FBU3FwQixFQUFVLEVBQUksR0FBSXRwQixHQUFPcTBCLEVBQVEsRUFBSSxHQUFJcDBCLEVBQVEsRUFBR0QsRUFBTSxFQUNuRSxJQUFJd0gsR0FBTzhoQixFQUFVOXBCLEVBQVMrQixNQUFRL0IsRUFBUzdDLEtBQUtvL0MsRUFBSzdnRCxLQUFLc0UsRUFBUytCLFNBQzVEbEMsT0FBT2cxQixFQUFRNzBCLEVBQVMrQixNQUFRL0IsRUFBUzdDLEtBQUtvL0MsRUFBSzdnRCxLQUFLc0UsRUFBUytCLFNBQ2xFK25CLEVBQVUsRUFBSSxFQUFHK0ssRUFBUSxFQUFJLEdBQUkvSyxFQUFVLEVBQUksSUFDdkZ5VSxFQUFTMVUsRUFBR1AsbUJBQ0wsRUF2Q0ltekIsQ0FBY254QyxFQUFPaXpCLEVBQVVsZCxNQ2pLNUNoZCxJQUFNcTRDLEdBQU8sQ0FBQyxJQUFLLEdBQUlDLEdBQWdCLENBQUMsYUFBYyxHQUFJQyxHQUFRLENBQUMsTUFDN0RDLEdBQVMsQ0FBQyxNQUFPLENBQUMsT0FBUSxJQUFLQyxHQUFRLENBQUMsTUFzR3hDQyxHQUFRLENBQUMsS0FBTSxHQUFJQyxHQUFZLENBQUMsU0FBVSxHQUFJQyxHQUFVLENBQUMsT0FBUSxHQUcxRCxHQUFRLENBSW5CeGdELEtBQU0sQ0FDSjJILE1BQU8sQ0FDTHZILEtBQU0sR0FDTmtZLE1BQU8sQ0FBQ2pHLFFBQVMsT0FFbkJoSixXQUFXLEVBQ1gyTSxTQUFVLENBQUMsQ0FBQ3BCLElBQUssVUFBV2MsU0FBQSxTQUFTWixHQUNuQyxNQUFPLENBQUMxVSxLQUFNMFUsRUFBSXdGLGFBQWEsUUFBU2hDLE1BQU94RCxFQUFJd0YsYUFBYSxhQUVsRStELE1BQUEsU0FBTTVaLEdBQVEsTUFBb0JBLEVBQUtrRCxNQUFPLE1BQU8sQ0FBQyxJQUFLLENBQUN2SCxLQUF6QyxFQUFBQSxLQUErQ2tZLE1BQXpDLEVBQUFBLE9BQWlELEtBSzVFbW9DLEdBQUksQ0FDRnpxQyxTQUFVLENBQUMsQ0FBQ3BCLElBQUssS0FBTSxDQUFDQSxJQUFLLE1BQU8sQ0FBQ0MsTUFBTyxzQkFDNUN3SixNQUFBLFdBQVUsT0FBT2lpQyxLQUtuQkksT0FBUSxDQUNOMXFDLFNBQVUsQ0FBQyxDQUFDcEIsSUFBSyxVQUlOLENBQUNBLElBQUssSUFBS2MsU0FBVSxTQUFBalIsR0FBSyxNQUE0QixVQUF6QkEsRUFBS29RLE1BQU04ckMsWUFBMEIsT0FDbEUsQ0FBQzlyQyxNQUFPLGNBQWVhLFNBQVUsU0FBQWhkLEdBQU0sTUFBRyw0QkFBNEIrWSxLQUFLL1ksSUFBVSxRQUNoRzJsQixNQUFBLFdBQVUsT0FBT2tpQyxLQUluQjl0QixLQUFNLENBQ0p6YyxTQUFVLENBQUMsQ0FBQ3BCLElBQUssU0FDakJ5SixNQUFBLFdBQVUsT0FBT21pQyxNQVlDLElBQUksRUFBTyxDQUFDOTRDLE1BdkpiLENBRW5CYSxJQUFLLENBQ0huSixRQUFTLFVBS1h3aEQsVUFBVyxDQUNUeGhELFFBQVMsVUFDVDBULE1BQU8sUUFDUGtELFNBQVUsQ0FBQyxDQUFDcEIsSUFBSyxNQUNqQnlKLE1BQUEsV0FBVSxPQUFPNGhDLEtBSW5CMXBDLFdBQVksQ0FDVm5YLFFBQVMsU0FDVDBULE1BQU8sUUFDUDBYLFVBQVUsRUFDVnhVLFNBQVUsQ0FBQyxDQUFDcEIsSUFBSyxlQUNqQnlKLE1BQUEsV0FBVSxPQUFPNmhDLEtBSW5CVyxnQkFBaUIsQ0FDZi90QyxNQUFPLFFBQ1BrRCxTQUFVLENBQUMsQ0FBQ3BCLElBQUssT0FDakJ5SixNQUFBLFdBQVUsT0FBTzhoQyxLQU1uQlcsUUFBUyxDQUNQbjVDLE1BQU8sQ0FBQ3NXLE1BQU8sQ0FBQzVMLFFBQVMsSUFDekJqVCxRQUFTLFVBQ1QwVCxNQUFPLFFBQ1AwWCxVQUFVLEVBQ1Z4VSxTQUFVLENBQUMsQ0FBQ3BCLElBQUssS0FBTWpOLE1BQU8sQ0FBQ3NXLE1BQU8sSUFDM0IsQ0FBQ3JKLElBQUssS0FBTWpOLE1BQU8sQ0FBQ3NXLE1BQU8sSUFDM0IsQ0FBQ3JKLElBQUssS0FBTWpOLE1BQU8sQ0FBQ3NXLE1BQU8sSUFDM0IsQ0FBQ3JKLElBQUssS0FBTWpOLE1BQU8sQ0FBQ3NXLE1BQU8sSUFDM0IsQ0FBQ3JKLElBQUssS0FBTWpOLE1BQU8sQ0FBQ3NXLE1BQU8sSUFDM0IsQ0FBQ3JKLElBQUssS0FBTWpOLE1BQU8sQ0FBQ3NXLE1BQU8sS0FDdENJLE1BQUEsU0FBTTVaLEdBQVEsTUFBTyxDQUFDLElBQU1BLEVBQUtrRCxNQUFNc1csTUFBTyxLQU1oRDhpQyxXQUFZLENBQ1YzaEQsUUFBUyxRQUNUMkosTUFBTyxHQUNQK0osTUFBTyxRQUNQMmYsTUFBTSxFQUNOakksVUFBVSxFQUNWeFUsU0FBVSxDQUFDLENBQUNwQixJQUFLLE1BQU82RCxtQkFBb0IsU0FDNUM0RixNQUFBLFdBQVUsT0FBTytoQyxLQUluQjc3QyxLQUFNLENBQ0p1TyxNQUFPLFVBTVRrdUMsTUFBTyxDQUNML3ZDLFFBQVEsRUFDUnRKLE1BQU8sQ0FDTHM1QyxJQUFLLEdBQ0xDLElBQUssQ0FBQzd1QyxRQUFTLE1BQ2ZpRyxNQUFPLENBQUNqRyxRQUFTLE9BRW5CUyxNQUFPLFNBQ1A4cEIsV0FBVyxFQUNYNW1CLFNBQVUsQ0FBQyxDQUFDcEIsSUFBSyxXQUFZYyxTQUFBLFNBQVNaLEdBQ3BDLE1BQU8sQ0FDTG1zQyxJQUFLbnNDLEVBQUl3RixhQUFhLE9BQ3RCaEMsTUFBT3hELEVBQUl3RixhQUFhLFNBQ3hCNG1DLElBQUtwc0MsRUFBSXdGLGFBQWEsV0FHMUIrRCxNQUFBLFNBQU01WixHQUFRLE1BQXdCQSxFQUFLa0QsTUFBTyxNQUFPLENBQUMsTUFBTyxDQUFDczVDLElBQS9DLEVBQUFBLElBQW9EQyxJQUEvQyxFQUFBQSxJQUFvRDVvQyxNQUEvQyxFQUFBQSxVQUkvQjZvQyxXQUFZLENBQ1Zsd0MsUUFBUSxFQUNSNkIsTUFBTyxTQUNQZzlCLFlBQVksRUFDWjk1QixTQUFVLENBQUMsQ0FBQ3BCLElBQUssT0FDakJ5SixNQUFBLFdBQVUsT0FBT2dpQyxNQXlEb0J0M0MsTUFBQSxLQ3BKekMsTUFrQk1xNEMsR0FBeUIsQ0FDN0JoaUQsUUFBUyxVQUNUb3JCLFVBQVUsRUFDVjFYLE1BQU8sUUFDUHVMLE1BQU01WixHQUNHLENBQ0wsS0FDQSxDQUFFLE1BekJXLGFBMEJiLEdBR0p1UixTQUFVLENBQ1IsQ0FDRXBCLElBQUssUUFLTHlzQyxHQUF5QixDQUM3QmppRCxRQUFTLFVBQ1RvckIsVUFBVSxFQUNWMVgsTUFBTyxRQUNQdUwsTUFBTTVaLEdBQ0csQ0FDTCxLQUNBLENBQUUsTUEzQ1csYUE0Q2IsR0FHSnVSLFNBQVUsQ0FBQyxDQUFFcEIsSUFBSyxRQXlHUCxHQUFTLElBQUksRUE1Q2IsQ0FDWGxOLE1BQU8sQ0FDTGEsSUE1R3NCLENBQ3hCbkosUUFBUyxTQUNUaWYsTUFBTTVaLEdBQ0csQ0FDTCxPQUNBLENBQUUsTUFQVyxhQVFiLEdBR0p1UixTQUFVLENBQ1IsQ0FDRXBCLElBQUssVUFtR1Bnc0MsVUE5RDRCLENBQzlCeGhELFFBQVMsVUFDVDBULE1BQU8sUUFDUC9KLE1BQU8sSUFDUHNWLE1BQU01WixHQUNHLENBQ0wsSUFDQSxDQUFFLE1BekRXLGFBMERiLEdBR0p1UixTQUFVLENBQUMsQ0FBRXBCLElBQUssT0FvRGhCMHNDLGVBakRnQyxDQUNsQzM1QyxNQUFPLENBQ0w0NUMsUUFBUyxDQUNQbHZDLFNBQVMsSUFHYmpULFFBQVMsVUFDVG9yQixVQUFVLEVBQ1YxWCxNQUFPLFFBQ1AvSixNQUFPLElBQ1BzVixNQUFNNVosR0FDRyxDQUNMLE1BQ0EsQ0FBRSxNQUFTLGtCQUNYLENBQ0UsUSxlQUVFeEgsS0FBTSxZQUNGd0gsRUFBS2tELE1BQU00NUMsU0FBVyxDQUFFQSxRQUFTLFVBR3pDLENBQ0UsSUFDQSxJQUlOdnJDLFNBQVUsQ0FBQyxDQUNUc0csZUFBZ0IsSUFDaEIxSCxJQUFLLHFCQUNMYyxTQUFTalIsSUFHQSxDQUNMODhDLFVBRmE5OEMsRUFBcUI4WCxjQUFjLFNBRVRnbEMsYUFnQjNDQyxlQUFnQixPQUFGLHdCQUNUekMsSUFBVSxDQUNiMy9DLFFBQVMsYUFDVDBULE1BQU8sVUFFVDJ1QyxhQUFjLE9BQUYsd0JBQ1A1QyxJQUFXLENBQ2R6L0MsUUFBUyxhQUNUMFQsTUFBTyxVQUVUNHVDLFVBQVcsT0FBRix3QkFDSjFDLElBQVEsQ0FDWDUvQyxRQUFTLGVBRVh1aUQsU0FBVVAsR0FDVlEsU0FBVVAsR0FDVjk4QyxLQTFCdUIsQ0FDekJ1TyxNQUFPLFdBMkJQL0osTUFBTyxDQUNML0ksS0FBTSxPQUFGLHdCQUNDLEdBQU1BLE1BQUksQ0FDYnFKLFdBQVcsSUFFYm8zQyxHQUFJLE9BQUYsd0JBQ0csR0FBTUEsSUFBRSxDQUNYcDNDLFdBQVcsSUFFYnEzQyxPQUFRLE9BQUYsd0JBQ0QsR0FBTUEsUUFBTSxDQUNmcjNDLFdBQVcsSUFFYm9wQixLQUFNLE9BQUYsd0JBQ0MsR0FBTUEsTUFBSSxDQUNicHBCLFdBQVcsT0NsSmpCLFNBQVN3NEMsR0FBaUIvcEQsRUFBV3ViLEdBQ25DLE9BQU8sSUFBSStxQyxHQUFVLElBQUkwRCxPQUFPLEdBQUdocUQsU0FBU0EsS0FBTSxDQUFDK1csRUFBTzNDLEVBQU9sSSxFQUFPRCxLQUN0RSxNQUFPb0osRUFBRzVJLEdBQVEySCxHQUNaLEdBQUVraEIsR0FBT3ZlLEVBQ2YsSUFBS3RLLEVBQ0gsT0FHRixNQUFNdzlDLEVBQWdCbHpDLEVBQU10RyxJQUFJNEIsUUFBUW5HLEdBQU93RixZQUFZcUYsRUFBTXRHLElBQUk0QixRQUFRcEcsSUFDN0UsT0FBT3FwQixFQUFHcEMsaUJBQWlCaG5CLEVBQU9ELEVBQUssR0FBT1EsS0FBS0EsRUFBTSxJQUNwRHc5QyxFQUNIMXVDLEVBQVN0YSxjQUtmLFNBQVNpcEQsR0FBYUMsRUFBZ0IvQyxHQUNwQyxPQUFPLElBQUlkLEdBQVUsSUFBSTBELE9BQU8sSUFBSUcsR0FBVyxDQUFDcHpDLEVBQU8zQyxFQUFPbEksRUFBT0QsS0FDbkUsTUFBTSxNQUFFZ0UsR0FBVThHLEVBQU15YyxVQUN4QixHQUFJdmpCLEVBQU1LLE1BQVEsRUFDaEIsT0FHRixNQUFNLEdBQUVnbEIsR0FBT3ZlLEVBR2YsT0FGQXVlLEVBQUdwQyxpQkFBaUJobkIsRUFBT0QsRUFBS203QyxFQUFTNXVDLGlCQUN6QzhjLEVBQUd6QixhQUFhLEdBQVVjLEtBQUtXLEVBQUc3a0IsSUFBSTRCLFFBQVFuRyxLQUN2Q29wQixJQUlKLE1BQU04MEIsSUxVYyxHS1ZnQixDQUN6QzF0QyxNQUFPLElBQ0ZpcUMsR0FDSEQsSUNIbUMyRCxHRElaLE1DSm9CNzBDLEdESWIsR0FBTzVGLE1BQU1rNkMsU0NIdEMsSUFBSXhELEdBQVUrRCxJQUFRLFNBQUN0ekMsRUFBTzNDLEVBQU9sSSxFQUFPRCxHQUNqRFAsSUFBSW8rQixFQUFTL3lCLEVBQU10RyxJQUFJNEIsUUFBUW5HLEdBQzNCMkQsRUFBUStOLGNBQW9CMlosU0FBVzNaLEdBQVN4SixHQUFTd0osR0FDN0QsT0FBS2tzQixFQUFPbjlCLE1BQU0sR0FBR21JLGVBQWVnMUIsRUFBT3A4QixPQUFPLEdBQUlvOEIsRUFBT3A1QixZQUFZLEdBQUk4RSxJQUN0RXVCLEVBQU11ZSxHQUNWN0QsT0FBT3ZsQixFQUFPRCxHQUNkb2lCLGFBQWFuaUIsRUFBT0EsRUFBT3NKLEdBQVUzRixHQUh1RCxTREMvRms2QyxHQUFpQixJQUFLLEdBQU85NEMsTUFBTTBwQixNQUNuQ292QixHQUFpQixTQUFVLEdBQU85NEMsTUFBTTIzQyxRQUN4Q21CLEdBQWlCLE1BQU8sR0FBTzk0QyxNQUFNMDNDLElBQ3JDdUIsR0FBYSxNQUFPLEdBQU90NkMsTUFBTSs1QyxjQUNqQ08sR0FBYSxLQUFNLEdBQU90NkMsTUFBTTg1QyxrQixZTEU5QjF6QixHQUFTLElBQUlvQixHQUFPLENBQ3RCcmdCLE1BQU8sQ0FDTG9lLEtBQUEsV0FBUyxPQUFPLE1BQ2hCbkssTUFBQSxTQUFNc0ssRUFBSUssR0FDUmpxQixJQUFJdTFDLEVBQVMzckIsRUFBR1QsUUFBUS95QixNQUN4QixPQUFJbS9DLElBQ0czckIsRUFBR3hCLGNBQWdCd0IsRUFBR3BLLFdBQWEsS0FBT3lLLEtBSXJEMEIsTUFBTyxDQUNMaXpCLGdCQUFBLFNBQWdCaHZCLEVBQU0xeUIsRUFBTWlELEVBQUlZLEdBQzlCLE9BQU8rNUMsR0FBSWxyQixFQUFNMXlCLEVBQU1pRCxFQUFJWSxFQUFNaVEsR0FBT3NaLEtBRTFDc3BCLGdCQUFpQixDQUNmcEcsZUFBZ0IsU0FBQzVkLEdBQ2ZwMEIsWUFBVyxXQUNULElBQUt3dUIsRUFBVzRGLEVBQUt2a0IsTUFBTXljLFVBQXRCa0MsUUFDREEsR0FBUzh3QixHQUFJbHJCLEVBQU01RixFQUFRM3BCLElBQUsycEIsRUFBUTNwQixJQUFLLEdBQUkyUSxHQUFPc1osVUFNcEV1MEIsY0FBYyxLQXpCWCxJQUFvQixHLEdBQ3JCdjBCLEdNWGlDcTBCLEdBQVE3MEMsR0FBVW9JLEdDbkNsRCxTQUFTNlcsR0FBZ0IxZCxFQUFPaXpCLEdBQ3JDLE9BQUlqekIsRUFBTXljLFVBQVVobUIsUUFDaEJ3OEIsR0FBVUEsRUFBU2p6QixFQUFNdWUsR0FBR2Isa0JBQWtCTSxtQkFDM0MsR0FzRFQsU0FBU3kxQixHQUFZNzlDLEVBQU15dUIsR0FDekIsS0FBT3p1QixFQUFNQSxFQUFnQixTQUFSeXVCLEVBQWtCenVCLEVBQUtRLFdBQWFSLEVBQUtNLFVBQzVELEdBQUlOLEVBQUtvSCxZQUFhLE9BQU8sRUFDL0IsT0FBTyxFQXVCVCxTQUFTMDJDLEdBQWMvOEIsR0FDckIsSUFBS0EsRUFBS3hvQixPQUFPQyxLQUFLbU0sS0FBS3liLFVBQVcsSUFBS3JoQixJQUFJL0wsRUFBSSt0QixFQUFLcGQsTUFBUSxFQUFHM1EsR0FBSyxFQUFHQSxJQUFLLENBQzlFLEdBQUkrdEIsRUFBS2hnQixNQUFNL04sR0FBSyxFQUFHLE9BQU8rdEIsRUFBS2pkLElBQUk0QixRQUFRcWIsRUFBSzljLE9BQU9qUixFQUFJLElBQy9ELEdBQUkrdEIsRUFBSy9nQixLQUFLaE4sR0FBR3dGLEtBQUttTSxLQUFLeWIsVUFBVyxNQUV4QyxPQUFPLEtBa0VULFNBQVMyOUIsR0FBYWg5QixHQUNwQixJQUFLQSxFQUFLeG9CLE9BQU9DLEtBQUttTSxLQUFLeWIsVUFBVyxJQUFLcmhCLElBQUkvTCxFQUFJK3RCLEVBQUtwZCxNQUFRLEVBQUczUSxHQUFLLEVBQUdBLElBQUssQ0FDOUUrTCxJQUFJeEcsRUFBU3dvQixFQUFLL2dCLEtBQUtoTixHQUN2QixHQUFJK3RCLEVBQUtoZ0IsTUFBTS9OLEdBQUssRUFBSXVGLEVBQU8ySSxXQUFZLE9BQU82ZixFQUFLamQsSUFBSTRCLFFBQVFxYixFQUFLN2MsTUFBTWxSLEVBQUksSUFDbEYsR0FBSXVGLEVBQU9DLEtBQUttTSxLQUFLeWIsVUFBVyxNQUVsQyxPQUFPLEtBK0RULFNBQVM0OUIsR0FBZXYyQyxHQUN0QixJQUFLMUksSUFBSS9MLEVBQUksRUFBR0EsRUFBSXlVLEVBQU02RSxVQUFXdFosSUFBSyxDQUN4QyxJQUFLd0YsRUFBUWlQLEVBQU1tRCxLQUFLNVgsR0FBbkJ3RixLQUNMLEdBQUlBLEVBQUs0TyxjQUFnQjVPLEVBQUt5UyxtQkFBb0IsT0FBT3pTLEVBRTNELE9BQU8sS0EyREYsU0FBU3lsRCxHQUFXN3pDLEVBQU9pekIsR0FDaEMsTUFBbUJqekIsRUFBTXljLFVBQXBCdmpCLEVBQUEsRUFBQUEsTUFBTzJDLEVBQUEsRUFBQUEsSUFDWixHQUFJbUUsRUFBTXljLHFCQUFxQixJQUFpQnpjLEVBQU15YyxVQUFVN21CLEtBQUtHLFFBQ25FLFNBQUttRCxFQUFNSSxlQUFpQm1kLEdBQVN6VyxFQUFNdEcsSUFBS1IsRUFBTWxFLFFBQ2xEaStCLEdBQVVBLEVBQVNqekIsRUFBTXVlLEdBQUdqYyxNQUFNcEosRUFBTWxFLEtBQUtncEIsbUJBQzFDLEdBR1QsSUFBSzlrQixFQUFNL0ssT0FBTzRILFFBQVMsT0FBTyxFQUVsQyxHQUFJazlCLEVBQVUsQ0FDWnQrQixJQUFJNDBCLEVBQVExdEIsRUFBSXZDLGNBQWdCdUMsRUFBSTFOLE9BQU9vQyxRQUFROEQsS0FDL0NrcUIsRUFBS3ZlLEVBQU11ZSxHQUNYdmUsRUFBTXljLHFCQUFxQixJQUFlOEIsRUFBR2Isa0JBQ2pEL29CLElBQUl1YSxFQUF1QixHQUFmaFcsRUFBTUssTUFBYSxLQUFPcTZDLEdBQWUxNkMsRUFBTXRELE1BQU0sR0FBR3dILGVBQWVsRSxFQUFNUyxZQUFZLEtBQ2pHMkgsRUFBUWlvQixHQUFTcmEsRUFBUSxDQUFDLENBQUM5Z0IsS0FBTThnQixJQUFVLEtBQzNDNGtDLEVBQU1yOUIsR0FBUzhILEVBQUc3a0IsSUFBSzZrQixFQUFHdEwsUUFBUTVqQixJQUFJNkosRUFBTWxFLEtBQU0sRUFBR3NNLEdBQ3BEQSxHQUFVd3lDLElBQU9yOUIsR0FBUzhILEVBQUc3a0IsSUFBSzZrQixFQUFHdEwsUUFBUTVqQixJQUFJNkosRUFBTWxFLEtBQU0sRUFBR2thLEdBQVMsQ0FBQyxDQUFDOWdCLEtBQU04Z0IsT0FDcEY1TixFQUFRLENBQUMsQ0FBQ2xULEtBQU04Z0IsSUFDaEI0a0MsR0FBTSxHQUVKQSxJQUNGdjFCLEVBQUdqYyxNQUFNaWMsRUFBR3RMLFFBQVE1akIsSUFBSTZKLEVBQU1sRSxLQUFNLEVBQUdzTSxHQUNsQ2lvQixHQUFVcndCLEVBQU1JLGNBQWdCSixFQUFNL0ssT0FBT0MsTUFBUThnQixJQUN0RGhXLEVBQU10RCxNQUFNLEdBQUc2SCxXQUFXdkUsRUFBTXZDLE9BQU8sR0FBSXVDLEVBQU1TLFlBQVksR0FBSWpGLEVBQVM3QyxLQUFLcWQsRUFBTWhsQixTQUFVZ1AsRUFBTS9LLFVBQ3ZHb3dCLEVBQUczRyxjQUFjMkcsRUFBR3RMLFFBQVE1akIsSUFBSTZKLEVBQU1XLFVBQVdxVixJQUVyRCtqQixFQUFTMVUsRUFBR1Asa0JBRWQsT0FBTyxFQWtEVCxTQUFTKzFCLEdBQWMvekMsRUFBT2cwQyxFQUFNL2dCLEdBQ2xDdCtCLElBQXNEcy9DLEVBQU01MkMsRUFBeER4RCxFQUFTbTZDLEVBQUsvNUMsV0FBWUgsRUFBUWs2QyxFQUFLajZDLFVBQzNDLEdBQUlGLEVBQU96TCxLQUFLbU0sS0FBS3liLFdBQWFsYyxFQUFNMUwsS0FBS21NLEtBQUt5YixVQUFXLE9BQU8sRUFDcEUsR0FwQkYsU0FBd0JoVyxFQUFPMlcsRUFBTXNjLEdBQ25DdCtCLElBQUlrRixFQUFTOGMsRUFBSzFjLFdBQVlILEVBQVE2YyxFQUFLNWMsVUFBV3BELEVBQVFnZ0IsRUFBS2hnQixRQUNuRSxTQUFLa0QsR0FBV0MsR0FBVUQsRUFBT3pMLEtBQUs4UCxrQkFBa0JwRSxFQUFNMUwsVUFDekR5TCxFQUFPdEosUUFBUThELE1BQVFzaUIsRUFBS3hvQixPQUFPc1AsV0FBVzlHLEVBQVEsRUFBR0EsSUFDeERzOEIsR0FBVUEsRUFBU2p6QixFQUFNdWUsR0FBRzdELE9BQU8vRCxFQUFLM2hCLElBQU02RSxFQUFPakYsU0FBVStoQixFQUFLM2hCLEtBQUtncEIsbUJBQ3RFLE1BRUpySCxFQUFLeG9CLE9BQU9zUCxXQUFXOUcsRUFBT0EsRUFBUSxLQUFRbUQsRUFBTWtELGNBQWUrWixHQUFRL1csRUFBTXRHLElBQUtpZCxFQUFLM2hCLFFBRTVGaStCLEdBQ0ZBLEVBQVNqekIsRUFBTXVlLEdBQ0w5RyxrQkFBa0JkLEVBQUszaEIsSUFBSzZFLEVBQU96TCxLQUFNeUwsRUFBT3VELGVBQWV2RCxFQUFPL0MsYUFDdEV1QixLQUFLc2UsRUFBSzNoQixLQUNWZ3BCLG1CQUNMLElBTUhrMkIsQ0FBZWwwQyxFQUFPZzBDLEVBQU0vZ0IsR0FBVyxPQUFPLEVBRWxELEdBQUkrZ0IsRUFBSzdsRCxPQUFPc1AsV0FBV3UyQyxFQUFLcjlDLFFBQVNxOUMsRUFBS3I5QyxRQUFVLEtBQ25EczlDLEdBQVE1MkMsRUFBUXhELEVBQU91RCxlQUFldkQsRUFBTy9DLGFBQWE0SyxhQUFhNUgsRUFBTTFMLFFBQzlFaVAsRUFBTVcsVUFBVWkyQyxFQUFLLElBQU1uNkMsRUFBTTFMLE1BQU15UCxTQUFVLENBQ25ELEdBQUlvMUIsRUFBVSxDQUVaLElBREF0K0IsSUFBSU8sRUFBTTgrQyxFQUFLaC9DLElBQU04RSxFQUFNbEYsU0FBVXNWLEVBQU94VixFQUFTK0IsTUFDNUM3TixFQUFJcXJELEVBQUt2bUQsT0FBUyxFQUFHOUUsR0FBSyxFQUFHQSxJQUNwQ3NoQixFQUFPeFYsRUFBUzdDLEtBQUtvaUQsRUFBS3JyRCxHQUFHc0IsT0FBTyxLQUFNZ2dCLElBQzVDQSxFQUFPeFYsRUFBUzdDLEtBQUtnSSxFQUFPekosS0FBSzhaLElBQ2pDdlYsSUFBSTRwQixFQUFLdmUsRUFBTXVlLEdBQUd6SyxLQUFLLElBQUksR0FBa0JrZ0MsRUFBS2gvQyxJQUFNLEVBQUdFLEVBQUs4K0MsRUFBS2gvQyxJQUFLRSxFQUFLLElBQUl3SCxFQUFNd04sRUFBTSxFQUFHLEdBQUkrcEMsRUFBS3ZtRCxRQUFRLElBQy9HeW1ELEVBQVNqL0MsRUFBTSxFQUFJKytDLEVBQUt2bUQsT0FDeEJxcEIsR0FBUXdILEVBQUc3a0IsSUFBS3k2QyxJQUFTNTFCLEVBQUdsbUIsS0FBSzg3QyxHQUNyQ2xoQixFQUFTMVUsRUFBR1Asa0JBRWQsT0FBTyxFQUdUcnBCLElBQUl5L0MsRUFBVyxHQUFVcGhCLFNBQVNnaEIsRUFBTSxHQUNwQ2orQixFQUFRcStCLEdBQVlBLEVBQVNsN0MsTUFBTThCLFdBQVdvNUMsRUFBU3Y0QyxLQUFNOEYsRUFBU29VLEdBQVNELEdBQVdDLEdBQzlGLE9BQWMsTUFBVnBVLEdBQWtCQSxHQUFVcXlDLEVBQUt6NkMsUUFDL0IwNUIsR0FBVUEsRUFBU2p6QixFQUFNdWUsR0FBR3RILEtBQUtsQixFQUFPcFUsR0FBUXFjLG1CQUM3QyxHQXFKSixTQUFTcTJCLEssdURBQ2QsT0FBTyxTQUFTcjBDLEVBQU9pekIsRUFBVTFPLEdBQy9CLElBQUs1dkIsSUFBSS9MLEVBQUksRUFBR0EsRUFBSTByRCxFQUFTNW1ELE9BQVE5RSxJQUNuQyxHQUFJMHJELEVBQVMxckQsR0FBR29YLEVBQU9pekIsRUFBVTFPLEdBQU8sT0FBTyxFQUNqRCxPQUFPLEdBSVg1dkIsSUFBSTQvQyxHQUFZRixHQUFjMzJCLElBdGhCdkIsU0FBc0IxZCxFQUFPaXpCLEVBQVUxTyxHQUM1QyxJQUFLNUYsRUFBVzNlLEVBQU15YyxVQUFqQmtDLFFBQ0wsSUFBS0EsSUFBWTRGLEdBQVFBLEVBQUswRSxlQUFlLFdBQVlqcEIsR0FDakMyZSxFQUFRcmxCLGFBQWUsR0FDN0MsT0FBTyxFQUVUM0UsSUFBSXEvQyxFQUFPTixHQUFjLzBCLEdBR3pCLElBQUtxMUIsRUFBTSxDQUNUci9DLElBQUlvaEIsRUFBUTRJLEVBQVEzakIsYUFBYzJHLEVBQVNvVSxHQUFTRCxHQUFXQyxHQUMvRCxPQUFjLE1BQVZwVSxJQUNBc3hCLEdBQVVBLEVBQVNqekIsRUFBTXVlLEdBQUd0SCxLQUFLbEIsRUFBT3BVLEdBQVFxYyxtQkFDN0MsR0FHVHJwQixJQUFJa0YsRUFBU202QyxFQUFLLzVDLFdBRWxCLElBQUtKLEVBQU96TCxLQUFLbU0sS0FBS3liLFdBQWErOUIsR0FBYy96QyxFQUFPZzBDLEVBQU0vZ0IsR0FDNUQsT0FBTyxFQUlULEdBQW1DLEdBQS9CdFUsRUFBUXh3QixPQUFPb0MsUUFBUThELE9BQ3RCby9DLEdBQVk1NUMsRUFBUSxRQUFVLEdBQWN3NUIsYUFBYXg1QixJQUFVLENBQ3RFLEdBQUlvNUIsRUFBVSxDQUNadCtCLElBQUk0cEIsRUFBS3ZlLEVBQU11ZSxHQUFHL0MsWUFBWW1ELEVBQVE5a0IsU0FBVThrQixFQUFRN2tCLFNBQ3hEeWtCLEVBQUd6QixhQUFhMjJCLEdBQVk1NUMsRUFBUSxPQUFTLEdBQVVtNUIsU0FBU3pVLEVBQUc3a0IsSUFBSTRCLFFBQVFpakIsRUFBR3RMLFFBQVE1akIsSUFBSTJrRCxFQUFLaC9DLEtBQU0sS0FBTSxHQUM3RixHQUFjOUssT0FBT3EwQixFQUFHN2tCLElBQUtzNkMsRUFBS2gvQyxJQUFNNkUsRUFBT2pGLFdBQ2pFcStCLEVBQVMxVSxFQUFHUCxrQkFFZCxPQUFPLEVBSVQsU0FBSW5rQixFQUFPb0QsUUFBVSsyQyxFQUFLejZDLE9BQVNvbEIsRUFBUXBsQixNQUFRLEtBQzdDMDVCLEdBQVVBLEVBQVNqekIsRUFBTXVlLEdBQUc3RCxPQUFPczVCLEVBQUtoL0MsSUFBTTZFLEVBQU9qRixTQUFVby9DLEVBQUtoL0MsS0FBS2dwQixtQkFDdEUsTUFtQkosU0FBNEJoZSxFQUFPaXpCLEVBQVUxTyxHQUNsRCxJQUFLNUYsRUFBVzNlLEVBQU15YyxVQUFqQmtDLFFBQ0wsSUFBS0EsSUFBWTRGLEdBQVFBLEVBQUswRSxlQUFlLFdBQVlqcEIsR0FDakMyZSxFQUFRcmxCLGFBQWUsR0FDN0MsT0FBTyxFQUVUM0UsSUFBSXEvQyxFQUFPTixHQUFjLzBCLEdBQVUvb0IsRUFBT28rQyxHQUFRQSxFQUFLLzVDLFdBQ3ZELFNBQUtyRSxJQUFTLEdBQWN5OUIsYUFBYXo5QixNQUNyQ3E5QixHQUNGQSxFQUFTanpCLEVBQU11ZSxHQUFHekIsYUFBYSxHQUFjNXlCLE9BQU84VixFQUFNdEcsSUFBS3M2QyxFQUFLaC9DLElBQU1ZLEVBQUtoQixXQUFXb3BCLG1CQUNyRixNQXFkTHcyQixHQUFNSCxHQUFjMzJCLElBcGNqQixTQUFxQjFkLEVBQU9pekIsRUFBVTFPLEdBQzNDLElBQUs1RixFQUFXM2UsRUFBTXljLFVBQWpCa0MsUUFDTCxJQUFLQSxJQUFZNEYsR0FBUUEsRUFBSzBFLGVBQWUsVUFBV2pwQixHQUNoQzJlLEVBQVFybEIsYUFBZXFsQixFQUFReHdCLE9BQU9vQyxRQUFROEQsTUFDcEUsT0FBTyxFQUVUTSxJQUFJcS9DLEVBQU9MLEdBQWFoMUIsR0FHeEIsSUFBS3ExQixFQUFNLE9BQU8sRUFFbEJyL0MsSUFBSW1GLEVBQVFrNkMsRUFBS2o2QyxVQUVqQixHQUFJZzZDLEdBQWMvekMsRUFBT2cwQyxFQUFNL2dCLEdBQVcsT0FBTyxFQUlqRCxHQUFtQyxHQUEvQnRVLEVBQVF4d0IsT0FBT29DLFFBQVE4RCxPQUN0Qm8vQyxHQUFZMzVDLEVBQU8sVUFBWSxHQUFjdTVCLGFBQWF2NUIsSUFBUyxDQUN0RSxHQUFJbTVCLEVBQVUsQ0FDWnQrQixJQUFJNHBCLEVBQUt2ZSxFQUFNdWUsR0FBRy9DLFlBQVltRCxFQUFROWtCLFNBQVU4a0IsRUFBUTdrQixTQUN4RHlrQixFQUFHekIsYUFBYTIyQixHQUFZMzVDLEVBQU8sU0FBVyxHQUFVazVCLFNBQVN6VSxFQUFHN2tCLElBQUk0QixRQUFRaWpCLEVBQUd0TCxRQUFRNWpCLElBQUkya0QsRUFBS2gvQyxNQUFPLEdBQ3pGLEdBQWM5SyxPQUFPcTBCLEVBQUc3a0IsSUFBSzZrQixFQUFHdEwsUUFBUTVqQixJQUFJMmtELEVBQUtoL0MsT0FDbkVpK0IsRUFBUzFVLEVBQUdQLGtCQUVkLE9BQU8sRUFJVCxTQUFJbGtCLEVBQU1tRCxRQUFVKzJDLEVBQUt6NkMsT0FBU29sQixFQUFRcGxCLE1BQVEsS0FDNUMwNUIsR0FBVUEsRUFBU2p6QixFQUFNdWUsR0FBRzdELE9BQU9zNUIsRUFBS2gvQyxJQUFLZy9DLEVBQUtoL0MsSUFBTThFLEVBQU1sRixVQUFVb3BCLG1CQUNyRSxNQWFKLFNBQTJCaGUsRUFBT2l6QixFQUFVMU8sR0FDakQsSUFBSzVGLEVBQVczZSxFQUFNeWMsVUFBakJrQyxRQUNMLElBQUtBLElBQVk0RixHQUFRQSxFQUFLMEUsZUFBZSxVQUFXanBCLEdBQ2hDMmUsRUFBUXJsQixhQUFlcWxCLEVBQVF4d0IsT0FBT29DLFFBQVE4RCxNQUNwRSxPQUFPLEVBRVRNLElBQUlxL0MsRUFBT0wsR0FBYWgxQixHQUFVL29CLEVBQU9vK0MsR0FBUUEsRUFBS2o2QyxVQUN0RCxTQUFLbkUsSUFBUyxHQUFjeTlCLGFBQWF6OUIsTUFDckNxOUIsR0FDRkEsRUFBU2p6QixFQUFNdWUsR0FBR3pCLGFBQWEsR0FBYzV5QixPQUFPOFYsRUFBTXRHLElBQUtzNkMsRUFBS2gvQyxNQUFNZ3BCLG1CQUNyRSxNQTJaRXkyQixHQUFlLENBQ3hCLE1BQVNKLElBM1ZKLFNBQXVCcjBDLEVBQU9pekIsR0FDbkMsTUFBdUJqekIsRUFBTXljLFVBQXhCVSxFQUFBLEVBQUFBLE1BQU9nTSxFQUFBLEVBQUFBLFFBQ1osU0FBS2hNLEVBQU1odkIsT0FBT0MsS0FBS21NLEtBQUtxcEIsT0FBU3pHLEVBQU0vaEIsV0FBVyt0QixNQUNsRDhKLEdBQVVBLEVBQVNqekIsRUFBTXVlLEdBQUdaLFdBQVcsTUFBTUssbUJBQzFDLE1BK0JGLFNBQTZCaGUsRUFBT2l6QixHQUN6QyxNQUFtQmp6QixFQUFNeWMsVUFBcEJ2akIsRUFBQSxFQUFBQSxNQUFPMkMsRUFBQSxFQUFBQSxJQUNaLEdBQUkzQyxFQUFNL0ssT0FBTytNLGVBQWlCVyxFQUFJMU4sT0FBTytNLGNBQWUsT0FBTyxFQUNuRXZHLElBQUl2RyxFQUFPd2xELEdBQWUxNkMsRUFBTS9LLE9BQU9pUCxlQUFldkIsRUFBSWxDLGVBQzFELElBQUt2TCxJQUFTQSxFQUFLNE8sWUFBYSxPQUFPLEVBQ3ZDLEdBQUlpMkIsRUFBVSxDQUNadCtCLElBQUkwdkIsSUFBU25yQixFQUFNSSxjQUFnQnVDLEVBQUlsRixRQUFVa0YsRUFBSTFOLE9BQU8ySSxXQUFhb0MsRUFBUTJDLEdBQUs3RyxJQUNsRnVwQixFQUFLdmUsRUFBTXVlLEdBQUd0WCxPQUFPb2QsRUFBTWoyQixFQUFLcVQsaUJBQ3BDOGMsRUFBR3pCLGFBQWEsR0FBYzV5QixPQUFPcTBCLEVBQUc3a0IsSUFBSzJxQixFQUFPLElBQ3BENE8sRUFBUzFVLEVBQUdQLGtCQUVkLE9BQU8sS0FNRixTQUF3QmhlLEVBQU9pekIsR0FDcEMsSUFBS3RVLEVBQVczZSxFQUFNeWMsVUFBakJrQyxRQUNMLElBQUtBLEdBQVdBLEVBQVF4d0IsT0FBT29DLFFBQVE4RCxLQUFNLE9BQU8sRUFDcEQsR0FBSXNxQixFQUFRcGxCLE1BQVEsR0FBS29sQixFQUFRN2tCLFNBQVc2a0IsRUFBUXpwQixLQUFLLEdBQUksQ0FDM0RQLElBQUlrRixFQUFTOGtCLEVBQVE5a0IsU0FDckIsR0FBSTRjLEdBQVN6VyxFQUFNdEcsSUFBS0csR0FFdEIsT0FESW81QixHQUFVQSxFQUFTanpCLEVBQU11ZSxHQUFHamMsTUFBTXpJLEdBQVFta0IsbUJBQ3ZDLEVBR1hycEIsSUFBSW9oQixFQUFRNEksRUFBUTNqQixhQUFjMkcsRUFBU29VLEdBQVNELEdBQVdDLEdBQy9ELE9BQWMsTUFBVnBVLElBQ0FzeEIsR0FBVUEsRUFBU2p6QixFQUFNdWUsR0FBR3RILEtBQUtsQixFQUFPcFUsR0FBUXFjLG1CQUM3QyxLQTBSb0U2MUIsSUFDM0UsWUF6VUssU0FBa0I3ekMsRUFBT2l6QixHQUM5QixNQUF1Qmp6QixFQUFNeWMsVUFBeEJVLEVBQUEsRUFBQUEsTUFBT2dNLEVBQUEsRUFBQUEsUUFDWixJQUFLaE0sRUFBTWh2QixPQUFPQyxLQUFLbU0sS0FBS3FwQixPQUFTekcsRUFBTS9oQixXQUFXK3RCLEdBQVUsT0FBTyxFQUN2RXgwQixJQUFJKy9DLEVBQVF2M0IsRUFBTXZuQixNQUFNLEdBQUlrRSxFQUFRcWpCLEVBQU14akIsWUFBWSxHQUFJdkwsRUFBT3dsRCxHQUFlYyxFQUFNdDNDLGVBQWV0RCxJQUNyRyxJQUFLNDZDLEVBQU0zMkMsZUFBZWpFLEVBQU9BLEVBQU8xTCxHQUFPLE9BQU8sRUFDdEQsR0FBSTZrQyxFQUFVLENBQ1p0K0IsSUFBSUssRUFBTW1vQixFQUFNcmpCLFFBQVN5a0IsRUFBS3ZlLEVBQU11ZSxHQUFHekcsWUFBWTlpQixFQUFLQSxFQUFLNUcsRUFBS3FULGlCQUNsRThjLEVBQUd6QixhQUFhLEdBQVVjLEtBQUtXLEVBQUc3a0IsSUFBSTRCLFFBQVF0RyxHQUFNLElBQ3BEaStCLEVBQVMxVSxFQUFHUCxrQkFFZCxPQUFPLEdBZ1VQLFVBQWF1MkIsR0FDYixnQkFBaUJBLEdBQ2pCLE9BQVVDLEdBQ1YsYUFBY0EsR0FDZCxRQWpPSyxTQUFtQngwQyxFQUFPaXpCLEdBRS9CLE9BRElBLEdBQVVBLEVBQVNqekIsRUFBTXVlLEdBQUd6QixhQUFhLElBQUk2M0IsR0FBYTMwQyxFQUFNdEcsUUFDN0QsSUF1T0VrN0MsR0FBZ0IsQ0FDekIsU0FBVUgsR0FBd0IsVUFDbEMsZ0JBQWlCQSxHQUFhLGlCQUM5QixTQUFVQSxHQUFxQixPQUMvQixxQkFBc0JBLEdBQWEsY0FDbkMsYUFBY0EsR0FBYSxjQUMzQixRQUFTQSxHQUFhLGVBRXhCLElBQUs5L0MsSUFBSXhLLE1BQU9zcUQsR0FBY0csR0FBY3pxRCxJQUFPc3FELEdBQWF0cUQsSUFHaEU0TyxJQU9XODdDLElBUHFCLG9CQUFiaDBCLFVBQTJCLE1BQU1qZSxLQUFLaWUsVUFBVXR6QixVQUMxQyxvQkFBTnVuRCxJQUFxQyxVQUFqQkEsR0FBR3ZuRCxZQU1acW5ELEdBQWdCSCxHQzdnQjlDLE1BQU1NLEdBU0osWUFDRUMsR0FDQSxVQUNFQyxFQUFTLFFBQ1RDLEVBQU8sS0FDUHgvQyxFQUFJLElBQ0p4RSxJQVJJLEtBQUFpa0QsUUFBVSxTQXVDWCxLQUFBdHFCLFFBQVUsS0FDZjkvQixLQUFLcXFELFdBQVdyZixvQkFBb0IsUUFBU2hyQyxLQUFLc3FELGVBQ2xEdHFELEtBQUt1cUQsVUFBVXZmLG9CQUFvQixRQUFTaHJDLEtBQUt3cUQsY0FDakR4cUQsS0FBS3lxRCxTQUFTemYsb0JBQW9CLFFBQVNockMsS0FBSzBxRCxhQUNoRDFwRCxTQUFTZ3FDLG9CQUFvQixVQUFXaHJDLEtBQUsycUQscUJBQzdDM3FELEtBQUtpcUQsR0FBR2pvQixVQUFVcDVCLE9BQU81SSxLQUFLb3FELFVBR3hCLEtBQUFFLGNBQWdCLEtBQ3RCdHFELEtBQUtrcUQsVUFBVSxDQUNidi9DLEtBQU0zSyxLQUFLNHFELFVBQVU5ckQsTUFDckJxSCxJQUFLbkcsS0FBSzZxRCxTQUFTL3JELFFBR3JCa0IsS0FBSzgvQixXQUdDLEtBQUE0cUIsWUFBYyxLQUNwQjFxRCxLQUFLbXFELFVBQ0xucUQsS0FBSzgvQixXQUdDLEtBQUEwcUIsYUFBZSxLQUNyQnhxRCxLQUFLOC9CLFdBR0MsS0FBQTZxQixvQkFBdUIxZ0MsSUFDN0IsTUFBTTZnQyxFQUFzQixLQUFaN2dDLEVBQUU4Z0MsTUFDbEIsR0FDRS9wRCxTQUFTMjhCLGdCQUFrQjM5QixLQUFLNHFELFdBQy9CNXBELFNBQVMyOEIsZ0JBQWtCMzlCLEtBQUs2cUQsVUFBWUMsRUFHN0MsWUFEQTlxRCxLQUFLc3FELGdCQUdPcmdDLEVBQUU4Z0MsTUFDQSxLQUFaOWdDLEVBQUU4Z0MsT0FDSi9xRCxLQUFLd3FELGdCQUlELEtBQUFRLGtCQUFxQi9nQyxLQUM0QixJQUFuRGpxQixLQUFLaXJELFFBQVF4bkMsU0FBU3dHLEVBQUVyVCxTQUMxQjVXLEtBQUs4L0IsV0FsRVA5L0IsS0FBS2lxRCxHQUFLQSxFQUNWanFELEtBQUs0cUQsVUFBVTlyRCxNQUFRa0IsS0FBSzJLLEtBQU9BLEVBQ25DM0ssS0FBSzZxRCxTQUFTL3JELE1BQVFrQixLQUFLbUcsSUFBTUEsRUFDakNuRyxLQUFLa3JELFlBQVkxa0QsS0FBT0wsRUFDeEJuRyxLQUFLa3FELFVBQVlBLEVBQ2pCbHFELEtBQUttcUQsUUFBVUEsRUFDZm5xRCxLQUFLaXJELFFBQVVoQixFQUFHdG5DLGNBQWMsVUFFNUJ3bkMsRUFDRm5xRCxLQUFLeXFELFNBQVN6b0IsVUFBVWhkLElBQUlobEIsS0FBS29xRCxTQUVqQ3BxRCxLQUFLeXFELFNBQVN6b0IsVUFBVXA1QixPQUFPNUksS0FBS29xRCxTQUd0Q3BxRCxLQUFLaXFELEdBQUdqb0IsVUFBVWhkLElBQUlobEIsS0FBS29xRCxTQUMzQnBxRCxLQUFLcXFELFdBQVc3b0QsaUJBQWlCLFFBQVN4QixLQUFLc3FELGVBQy9DdHFELEtBQUt1cUQsVUFBVS9vRCxpQkFBaUIsUUFBU3hCLEtBQUt3cUQsY0FDOUN4cUQsS0FBS3lxRCxTQUFTanBELGlCQUFpQixRQUFTeEIsS0FBSzBxRCxhQUM3QzFwRCxTQUFTUSxpQkFBaUIsVUFBV3hCLEtBQUsycUQscUJBQzFDM3BELFNBQVNRLGlCQUFpQixRQUFTeEIsS0FBS2dyRCxtQkFDeENockQsS0FBSzZxRCxTQUFTaHRCLFFBa0RoQixnQkFDRSxPQUFPNzlCLEtBQUtpcUQsR0FBR3RuQyxjQUFjLGNBRy9CLGVBQ0UsT0FBTzNpQixLQUFLaXFELEdBQUd0bkMsY0FBYyxhQUcvQixrQkFDRSxPQUFPM2lCLEtBQUtpcUQsR0FBR3RuQyxjQUFjLG9CQUcvQixpQkFDRSxPQUFPM2lCLEtBQUtpcUQsR0FBR3RuQyxjQUFjLGtCQUcvQixnQkFDRSxPQUFPM2lCLEtBQUtpcUQsR0FBR3RuQyxjQUFjLGlCQUcvQixlQUNFLE9BQU8zaUIsS0FBS2lxRCxHQUFHdG5DLGNBQWMsaUJBSTFCLE1BQU0sV0FBc0IyUyxHQXdLakMsWUFBWTYxQixFQUFvQkMsR0FDOUJ4M0MsTUFBTSxDQUNKNGxCLEtBQU82eEIsSUFDTHJyRCxLQUFLdzVCLEtBQU82eEIsRUFDWnJyRCxLQUFLb3JELFFBQVVBLEVBQ2ZwckQsS0FBS21yRCxVQUFZQSxFQUVqQkEsRUFBVTNwRCxpQkFBaUIsUUFBU3hCLEtBQUtzckQsb0JBRWxDLENBQ0x4ckIsUUFBUyxLLE1BQ1BxckIsRUFBVW5nQixvQkFBb0IsUUFBU2hyQyxLQUFLc3JELG9CQUM1Q3RyRCxLQUFLdXJELDJCQUNLLFFBQVYsRUFBQXZyRCxLQUFLd3JELGFBQUssU0FBRTFyQixXQUVkcjNCLE9BQVEsQ0FBQyt3QixFQUFNaXlCLEtBQ2J6ckQsS0FBS3VyRCwyQkFDTHZyRCxLQUFLMHJELHVCQUF1Qmx5QixFQUFLdmtCLFVBSXZDc2dCLE1BQU8sQ0FDTG8yQixjQUFlLENBQUNueUIsRUFBTXZQLEtBQ3BCLE1BQU0yaEMsRUFBa0IsS0FBWjNoQyxFQUFFOGdDLE1BQ1JjLEVBQVU1aEMsRUFBRXNmLFFBQ2xCLEdBQUlxaUIsR0FBT0MsRUFFVCxPQURBN3JELEtBQUs4ckQsdUJBQ0UsRUFHVCxNQUFNQyxFQUFrQixLQUFaOWhDLEVBQUU4Z0MsTUFDUmlCLEVBQVMvaEMsRUFBRXVmLFFBQ2pCLEdBQUl1aUIsR0FBT0MsRUFLVCxPQUpBaHNELEtBQUtpc0QsV0FDSCxHQUFPbitDLE1BQU04NUMsZUFDYixHQUFPOTVDLE1BQU1nNkMsWUFFUixFQUlULEdBRHdCLEtBQVo3OUIsRUFBRThnQyxPQUNIYyxFQUtULE9BSkE3ckQsS0FBS2lzRCxXQUNILEdBQU9uK0MsTUFBTTg1QyxlQUNiLEdBQU85NUMsTUFBTWc2QyxZQUVSLEVBSVQsR0FEd0IsS0FBWjc5QixFQUFFOGdDLE9BQ0hjLEVBRVQsT0FEQTdyRCxLQUFLaXNELFdBQVcsR0FBT24rQyxNQUFNKzVDLGFBQWMsR0FBTy81QyxNQUFNZzZDLFlBQ2pELEVBSVQsR0FEMkIsTUFBWjc5QixFQUFFOGdDLE9BQ0hjLEVBRVosT0FEQTdyRCxLQUFLa3NELGVBQWVsc0QsS0FBS3c1QixLQUFLdmtCLE1BQU9qVixLQUFLdzVCLEtBQUswTyxXQUN4QyxFQUlULEdBRHdCLEtBQVpqZSxFQUFFOGdDLE9BQ0hjLEVBRVQsT0FEQTdyRCxLQUFLbXNELGNBQWMsR0FBT3IrQyxNQUFNazVDLFlBQ3pCLEVBR1QsTUFBTW9GLEVBQXNCLEtBQVpuaUMsRUFBRThnQyxNQUNsQixHQUFJYyxHQUFXTyxFQUNiLE9BaFo4QixTQUN4Q24zQyxFQUNBaXpCLEdBRUEsTUFBTSxNQUFFLzVCLEVBQUssSUFBRTJDLEdBQVFtRSxFQUFNeWMsVUFFdkJ6aEIsRUFBYTlCLEVBQU04QixXQUFXYSxHQUVwQyxJQUFJdTdDLEdBQWEsRUFDakIsSUFDRSxJQUFJemdELEVBQVFxRSxFQUFXZSxXQUFZOUcsRUFBUStGLEVBQVc3TSxPQUFPOEcsTUFBTTBCLEdBQ25FQSxFQUFRcUUsRUFBV2dCLFNBQ25CckYsR0FBUyxFQUNULENBQ0EsR0FBSTFCLEVBQU03RyxPQUFTLEdBQU95SyxNQUFNNDVDLGVBQzlCLE9BQU8sRUFFVCxHQUFJeDlDLEVBQU02RCxNQUFNNDVDLFFBQVMsQ0FDdkIwRSxHQUFhLEVBQ2IsT0FJSixJQUFLbmtCLEVBQ0gsT0FBTyxFQUdULE1BQU0sR0FBRTFVLEdBQU92ZSxFQUNmLElBQ0UsSUFBSXJKLEVBQVFxRSxFQUFXZSxXQUNyQjlHLEVBQVErRixFQUFXN00sT0FBTzhHLE1BQU0wQixHQUNoQzNCLEVBQU1nRyxFQUFXN0YsTUFDbkJ3QixFQUFRcUUsRUFBV2dCLFNBQ25CckYsR0FBUyxFQUVUNG5CLEVBQUczRyxjQUFjNWlCLE9BQUt6QixFQUFXLENBQUVtL0MsU0FBUzBFLElBQzVDcGlELEdBQU9DLEVBQU1MLFNBSWYsT0FEQXErQixFQUFTMVUsSUFDRixFQXdXVTg0QixDQUNMdHNELEtBQUt3NUIsS0FBS3ZrQixNQUNWalYsS0FBS3c1QixLQUFLME8sVUFJZCxNQUFNcWtCLEVBQWtCLEtBQVp0aUMsRUFBRThnQyxNQUNkLEdBQUlpQixHQUFVTyxFQUNaLE9BQU9oSSxHQUFLdmtELEtBQUt3NUIsS0FBS3ZrQixNQUFPalYsS0FBS3c1QixLQUFLME8sVUFHekMsTUFBTXNrQixFQUFrQixLQUFadmlDLEVBQUU4Z0MsTUFDZCxHQUFJaUIsR0FBVVEsRUFDWixPQUFPbEosR0FBS3RqRCxLQUFLdzVCLEtBQUt2a0IsTUFBT2pWLEtBQUt3NUIsS0FBSzBPLFVBR3pDLE1BQU11a0IsRUFBa0IsS0FBWnhpQyxFQUFFOGdDLE1BQ2QsR0FBSWlCLEdBQVVTLEVBRVosT0FEQXpzRCxLQUFLMHNELFdBQVcsR0FBT3Y5QyxNQUFNMDNDLEtBQ3RCLEVBR1QsTUFBTThGLEVBQWtCLEtBQVoxaUMsRUFBRThnQyxNQUNkLEdBQUlpQixHQUFVVyxFQUVaLE9BREEzc0QsS0FBSzBzRCxXQUFXLEdBQU92OUMsTUFBTTIzQyxTQUN0QixFQUdULE1BQU04RixFQUFzQixNQUFaM2lDLEVBQUU4Z0MsTUFDbEIsR0FBSWlCLEdBQVVZLEVBRVosT0FEQTVzRCxLQUFLMHNELFdBQVcsR0FBT3Y5QyxNQUFNMHBCLE9BQ3RCLEVBR1QsTUFBTWcwQixFQUFrQixLQUFaNWlDLEVBQUU4Z0MsTUFDZCxTQUFJaUIsSUFBVWEsS0FDWjdzRCxLQUFLOHNELGtCQUFrQjlzRCxLQUFLdzVCLEtBQUt2a0IsTUFBT2pWLEtBQUt3NUIsS0FBSzBPLFdBQzNDLE9BNVFULEtBQUFpa0IsY0FBaUJ6NEMsSUFDdkIsSUFBSSxTQUFFdzBCLEVBQVEsTUFBRWp6QixHQUFValYsS0FBS3c1QixNQUMzQixHQUFFaEcsR0FBT3ZlLEVBQ2IsTUFBTSxNQUFFOUcsRUFBSyxJQUFFMkMsRUFBRyxLQUFFaEssRUFBSSxHQUFFaUQsR0FBT2tMLEVBQU15YyxVQUNuQ2hlLElBQWEsR0FBTzVGLE1BQU04NUMsZ0JBQzVCOUIsR0FBYSxHQUFPaDRDLE1BQU1nNkMsVUFBMUJoQyxDQUFxQzd3QyxFQUFPaXpCLEtBRTNDQSxXQUFVanpCLFNBQVVqVixLQUFLdzVCLFFBQ3pCaEcsTUFBT3ZlLEdBQ1Z1ZSxFQUFHakgsYUFBYXpsQixFQUFNaUQsRUFBSTJKLEdBQzFCdzBCLEVBQVMxVSxHQUNUeHpCLEtBQUt3NUIsS0FBS3FFLFNBR0osS0FBQXF1QixlQUFpQixDQUFDajNDLEVBQW9CaXpCLEtBQzVDLE1BQU0sVUFBRXhXLEdBQWN6YyxFQUN0QixJQUFLeWMsRUFBVWhtQixNQUNiLE9BRUYsTUFDRXlDLE9BQ0UvSyxRQUFRLEtBQUVDLEtBRVZxdUIsRUFDSixJQUFJblMsRUFFRkEsRUFERWxjLElBQVMsR0FBT3lLLE1BQU1rNkMsU0FDYixHQUFPbDZDLE1BQU1pNkMsU0FDZjFrRCxJQUFTLEdBQU95SyxNQUFNaTZDLFNBQ3BCLEdBQU9qNkMsTUFBTWs1QyxVQUViLEdBQU9sNUMsTUFBTWs2QyxTQUUxQmhvRCxLQUFLbXNELGNBQWM1c0MsSUFHYixLQUFBMHNDLFdBQWEsQ0FBQzNHLEVBQW9CUyxLQUN4QyxNQUNFOXdDLE9BQ0V5YyxXQUFXLE1BQUV2akIsRUFBSyxJQUFFMkMsR0FBSyxHQUN6QjBpQixJQUVBeHpCLEtBQUt3NUIsS0FNVCxHQUp1QnJyQixFQUFNOEIsV0FDM0JhLEVBQ0NqRyxHQUFTQSxFQUFLeEgsT0FBU2lpRCxHQUUxQixDQUNFLE1BQU0sU0FBRXBkLEVBQVEsTUFBRWp6QixHQUFValYsS0FBS3c1QixLQUVqQ3NzQixHQUFhQyxFQUFiRCxDQUF1Qjd3QyxFQUFPaXpCLE9BRXpCLENBQ0wsTUFBTWo0QixFQUFhOUIsRUFBTThCLFdBQVdhLEdBQ3BDLElBQ0UsSUFBSWxGLEVBQVFxRSxFQUFXZSxXQUN2QnBGLEVBQVFxRSxFQUFXZ0IsU0FDbkJyRixHQUFTLEVBRVQsR0FBSXFFLEVBQVc3TSxPQUFPOEcsTUFBTTBCLEdBQU92SSxPQUFTaWlELEVBRTFDLE9BS0p0bEQsS0FBS21zRCxjQUFjLEdBQU9yK0MsTUFBTWs1QyxXQUNoQyxNQUFNLFNBQUU5ZSxFQUFRLE1BQUVqekIsR0FBVWpWLEtBQUt3NUIsS0FDakM2ckIsR0FBV0MsRUFBWEQsQ0FBcUJwd0MsRUFBT2l6QixLQUl4QixLQUFBNGpCLG9CQUFzQixLQUM1QixNQUFNLFNBQUU1akIsRUFBUSxNQUFFanpCLEdBQVVqVixLQUFLdzVCLE1BQzNCLElBQUU3cUIsRUFBRyxHQUFFNmtCLEdBQU92ZSxHQUNkLE1BQUU5RyxFQUFLLElBQUUyQyxHQUFRbUUsRUFBTXljLFVBQ3ZCemhCLEVBQWE5QixFQUFNOEIsV0FBV2EsR0FFcEMsSUFDRSxJQUFJbEYsRUFBUXFFLEVBQVdlLFdBQ3ZCcEYsRUFBUXFFLEVBQVdnQixTQUNuQnJGLEdBQVMsRUFFVCxHQUFJcUUsRUFBVzdNLE9BQU84RyxNQUFNMEIsR0FBT3ZJLE9BQVMsR0FBT3lLLE1BQU00NUMsZUFFdkQsWUFEQTFuRCxLQUFLbXNELGNBQWMsR0FBT3IrQyxNQUFNazVDLFdBSXBDaG5ELEtBQUttc0QsY0FBYyxHQUFPcitDLE1BQU00NUMsaUJBRzFCLEtBQUFvRixrQkFBNkIsQ0FBQzczQyxFQUFPaXpCLEtBQzNDLE1BQU0sSUFBRXY1QixFQUFHLFVBQUUraUIsR0FBY3pjLEdBQ3JCLE1BQUU5RyxFQUFLLElBQUUyQyxHQUFRNGdCLEVBQ2pCcTdCLEVBQWtCNStDLEVBQ3JCZ0IsUUFDQWxJLEtBQU13SyxHQUFTQSxFQUFLcE8sT0FBUyxHQUFPOEwsTUFBTS9JLE1BQ3ZDNG1ELEVBQWdCbDhDLEVBQ25CM0IsUUFDQWxJLEtBQU13SyxHQUFTQSxFQUFLcE8sT0FBUyxHQUFPOEwsTUFBTS9JLE1BQ3ZDNm1ELEVBQXdCRixHQUFtQkMsRUFFakQsR0FBSXQ3QixFQUFVaG1CLFFBQVV1aEQsRUFDdEIsT0FBTyxFQUVULEdBQUlGLElBQW9CQyxFQUN0QixPQUFPLEVBRVQsSUFBSzlrQixFQUNILE9BQU8sRUFHVCxNQUFNejJCLEVBQU9zN0MsRUFDYixJQUFJNWlELEVBQUtDLEVBQU9PLEVBQU14RSxFQUN0QixHQUFJc0wsRUFBTSxDQUNSLE1BQU1rUyxFQUFXeFYsRUFBTS9LLE9BQU93TyxPQUM1QnpELEVBQU1JLGFBQWVKLEVBQU1VLFlBRTdCekUsRUFBUStELEVBQU1sRSxJQUFNa0UsRUFBTVUsV0FDMUIxRSxFQUFNQyxFQUFRdVosRUFBUzlaLFNBQ3ZCYyxFQUFPZ1osRUFBU2haLEtBQ2hCeEUsRUFBTXNMLEVBQUsxRCxNQUFNdkgsS0FDakIsTUFBTTBtRCxFQUFlLElBQUksR0FDdkJ2K0MsRUFBSTRCLFFBQVFuRyxHQUNadUUsRUFBSTRCLFFBQVFwRyxJQUVkKzlCLEVBQVNqekIsRUFBTXVlLEdBQUd6QixhQUFhbTdCLFNBRS9CL2lELEVBQU0yRyxFQUFJN0csSUFDVkcsRUFBUStELEVBQU1sRSxJQUNkVSxFQUFPc0ssRUFBTXRHLElBQUluRSxZQUFZMkQsRUFBTWxFLElBQUs2RyxFQUFJN0csS0FDNUM5RCxFQUFNLEdBR1IsTUFBTWdrRCxFQUNKMTRDLEdBQ0EsS0FDRXpSLEtBQUt3NUIsS0FBSzBPLFNBQ1Jsb0MsS0FBS3c1QixLQUFLdmtCLE1BQU11ZSxHQUFHekssS0FBSyxJQUFJLEdBQWUzZSxFQUFPRCxFQUFLc0gsTUFnQjdELE9BYkF6UixLQUFLd3JELE1BQVEsSUFBSXhCLEdBQVVocUQsS0FBS29yRCxRQUFTLENBQ3ZDakIsVUFDQUQsVUFBVyxFQUFHdi9DLE9BQU14RSxVQUNsQixNQUFNc0wsRUFBTyxHQUFPdEMsTUFBTS9JLEtBQUtqSCxPQUFPLENBQUVxSCxLQUFNTCxJQUN4Q3dkLEVBQVcsR0FBT2haLEtBQUtBLEVBQU0sQ0FBQzhHLElBQ3BDelIsS0FBS3c1QixLQUFLME8sU0FDUmxvQyxLQUFLdzVCLEtBQUt2a0IsTUFBTXVlLEdBQUdmLHFCQUFxQjlPLEdBQVUsS0FHdERoWixPQUNBeEUsU0FHSyxHQUdELEtBQUF1bUQsV0FBY2o3QyxJRHlHakIsSUFBb0JnSSxFQUFVMUwsR0FBVjBMLEVDeEdaaEksRUR5R04sU0FBU3dELEVBQU9pekIsR0FDckIsTUFBK0JqekIsRUFBTXljLFVBQWhDaG1CLEVBQUEsRUFBQUEsTUFBT2tvQixFQUFBLEVBQUFBLFFBQVNuTixFQUFBLEVBQUFBLE9BQ3JCLEdBQUsvYSxJQUFVa29CLElBeEJuQixTQUFxQmpsQixFQUFLOFgsRUFBUXBqQixHQUNoQyxJLGtCQUNFLE1BQW1Cb2pCLEVBQU81b0IsR0FBckJzUSxFQUFBLEVBQUFBLE1BQU8yQyxFQUFBLEVBQUFBLElBQ1JpNEMsRUFBcUIsR0FBZjU2QyxFQUFNSyxPQUFhRyxFQUFJdEwsS0FBS21XLGVBQWVuVyxHQUtyRCxHQUpBc0wsRUFBSTdFLGFBQWFxRSxFQUFNbEUsSUFBSzZHLEVBQUk3RyxLQUFLLFNBQUFZLEdBQ25DLEdBQUlrK0MsRUFBSyxPQUFPLEVBQ2hCQSxFQUFNbCtDLEVBQUtzRixlQUFpQnRGLEVBQUt4SCxLQUFLbVcsZUFBZW5XLE1BRW5EMGxELEVBQUssTUFBTyxDQUFQLEdBQU8sSUFQVGxyRCxFQUFJLEVBQUdBLEVBQUk0b0IsRUFBTzlqQixPQUFROUUsSUFBSyxDLDJCQVN4QyxPQUFPLEVBY3VCc3ZELENBQVlsNEMsRUFBTXRHLElBQUs4WCxFQUFRaE4sR0FBVyxPQUFPLEVBQzdFLEdBQUl5dUIsRUFDRixHQUFJdFUsRUFDRW5hLEVBQVMvSixRQUFRdUYsRUFBTTJjLGFBQWVnQyxFQUFRemtCLFNBQ2hEKzRCLEVBQVNqekIsRUFBTXVlLEdBQUduQixpQkFBaUI1WSxJQUVuQ3l1QixFQUFTanpCLEVBQU11ZSxHQUFHckIsY0FBYzFZLEVBQVN0YSxPQUFPNE8sU0FDN0MsQ0FFTCxJQURBbkUsSUFBSXdqRCxHQUFNLEVBQU81NUIsRUFBS3ZlLEVBQU11ZSxHQUNuQjMxQixFQUFJLEdBQUl1dkQsR0FBT3Z2RCxFQUFJNG9CLEVBQU85akIsT0FBUTlFLElBQUssQ0FDOUMsTUFBbUI0b0IsRUFBTzVvQixHQUFyQnNRLEVBQUEsRUFBQUEsTUFBTzJDLEVBQUEsRUFBQUEsSUFDWnM4QyxFQUFNbjRDLEVBQU10RyxJQUFJcUQsYUFBYTdELEVBQU1sRSxJQUFLNkcsRUFBSTdHLElBQUt3UCxHQUVuRCxJQUFLN1AsSUFBSS9MLEVBQUksRUFBR0EsRUFBSTRvQixFQUFPOWpCLE9BQVE5RSxJQUFLLENBQ3RDLE1BQW1CNG9CLEVBQU81b0IsR0FBckIsSUFBQXNRLE1BQU8sSUFBQTJDLElBQ1JzOEMsRUFBSzU1QixFQUFHbkUsV0FBV2xoQixFQUFNbEUsSUFBSzZHLEVBQUk3RyxJQUFLd1AsR0FDdEMrWixFQUFHekUsUUFBUTVnQixFQUFNbEUsSUFBSzZHLEVBQUk3RyxJQUFLd1AsRUFBU3RhLE9BQU80TyxJQUV0RG02QixFQUFTMVUsRUFBR1Asa0JBR2hCLE9BQU8sSUNoSVVqekIsS0FBS3c1QixLQUFLdmtCLE1BQU9qVixLQUFLdzVCLEtBQUswTyxVQUM1Q2xvQyxLQUFLdzVCLEtBQUtxRSxTQXNIWixLQUFBMHRCLHlCQUEyQixLQUNKdnJELEtBQUttckQsVUFBVWtDLGlCQUFpQixhQUN4Q2xrRCxRQUFTbWtELElBQ3BCQSxFQUFJdHJCLFVBQVVwNUIsT0FBTyxlQUl6QixLQUFBOGlELHVCQUEwQnoyQyxJQUN4QixNQUFNczRDLEVBQWdCdnRELEtBQUt3dEQsdUJBQXVCdjRDLEdBQzlDczRDLEdBQ0ZBLEVBQWNwa0QsUUFBU29QLElBQ3JCLE1BQU0rMEMsRUFBTXR0RCxLQUFLbXJELFVBQVV4b0MsY0FBYyxnQkFBZ0JwSyxNQUNyRCswQyxHQUNGQSxFQUFJdHJCLFVBQVVoZCxJQUFJLGVBTTFCLEtBQUF5b0MsMEJBQTZCeDRDLElBQzNCLElBQUtBLEVBQU15YyxVQUNULE9BR0YsTUFBTWpvQixFQUFTLElBRVQsTUFBRTBFLEVBQUssSUFBRTJDLEVBQUcsUUFBRXRMLEdBQVl5UCxFQUFNeWMsVUFDaEN6aEIsRUFBYTlCLEVBQU04QixXQUN2QmEsRUFDQ2pHLEdBQVNBLEVBQUt4SCxPQUFTLEdBQU95SyxNQUFNZzZDLFdBR3ZDLElBQUk0RixFQUFXLEtBQ2YsSUFDRSxJQUFJOWhELEVBQVFxRSxFQUFXZSxXQUN2QnBGLEVBQVFxRSxFQUFXZ0IsU0FDbkJyRixHQUFTLEVBQ1QsQ0FDQSxNQUFNMUIsRUFBUStGLEVBQVc3TSxPQUFPOEcsTUFBTTBCLEdBQ2hDK2hELEVBQ0p6akQsRUFBTTdHLE9BQVMsR0FBT3lLLE1BQU1nNkMsVUFDeEI3M0MsRUFBVzdNLE9BQU9DLEtBQ2xCNkcsRUFBTTdHLEtBRVosR0FBaUIsT0FBYnFxRCxHQUlKLEdBQUlBLElBQWFDLEVBQWEsQ0FDNUJELEVBQVcsS0FDWCxZQUxBQSxFQUFXQyxFQVFmbGtELEVBQU90RyxLQUFLdXFELEdBRVosTUFBTXYrQyxFQUFRaEIsRUFBTXlCLFlBQVlrQixHQUtoQyxPQUpJM0IsR0FDRjFGLEVBQU90RyxRQUFRZ00sRUFBTTdLLElBQUttTixHQUFTQSxFQUFLcE8sT0FHbkNvRyxHQUdULEtBQUErakQsdUJBQTBCdjRDLElBQ3hCLE1BQU92QixLQUFhazZDLEdBQWE1dEQsS0FBS3l0RCwwQkFBMEJ4NEMsR0FDMUR4TCxFQUFTLEdBR2YsT0FBUWlLLEdBQ04sS0FBSyxHQUFPNUYsTUFBTWk2QyxTQUNsQixLQUFLLEdBQU9qNkMsTUFBTWs2QyxTQUNoQnYrQyxFQUFPdEcsS0FBSyxXQUNaLE1BRUYsS0FBSyxHQUFPMkssTUFBTWs1QyxVQUNoQnY5QyxFQUFPdEcsS0FBSyxhQUNaLE1BRUYsS0FBSyxHQUFPMkssTUFBTTg1QyxlQUNoQm4rQyxFQUFPdEcsS0FBSyxrQkFDWixNQUVGLEtBQUssR0FBTzJLLE1BQU0rNUMsYUFDaEJwK0MsRUFBT3RHLEtBQUssZ0JBQ1osTUFFRixLQUFLLEdBQU8ySyxNQUFNNDVDLGVBQ2hCaitDLEVBQU90RyxLQUFLLGtCQUNaLE1BRUYsUUFDRXNHLEVBQU90RyxLQUFLLE1Bd0JoQixPQXJCQXlxRCxFQUFVemtELFFBQVNzUSxJQUNqQixPQUFRQSxHQUNOLEtBQUssR0FBT3RLLE1BQU0vSSxLQUNoQnFELEVBQU90RyxLQUFLLFFBQ1osTUFFRixLQUFLLEdBQU9nTSxNQUFNMDNDLEdBQ2hCcDlDLEVBQU90RyxLQUFLLE1BQ1osTUFFRixLQUFLLEdBQU9nTSxNQUFNMjNDLE9BQ2hCcjlDLEVBQU90RyxLQUFLLFVBQ1osTUFFRixLQUFLLEdBQU9nTSxNQUFNMHBCLEtBQ2hCcHZCLEVBQU90RyxLQUFLLFdBTVhzRyxHQUdULEtBQUE2aEQsbUJBQXNCcmhDLElBQ3BCLE1BQ000akMsRUFEUzVqQyxFQUFFclQsT0FDS21rQixRQUFRLGlCQUMxQjh5QixHQUNGN3RELEtBQUs4dEQsWUFBWUQsRUFBT250QyxhQTVqQkosaUJBZ2tCeEIsS0FBQW90QyxZQUFlQyxJQUNiLE9BQVFBLEdBQ04sSUFBSyxPQUNIeEosR0FBS3ZrRCxLQUFLdzVCLEtBQUt2a0IsTUFBT2pWLEtBQUt3NUIsS0FBSzBPLFVBQ2hDLE1BRUYsSUFBSyxPQUNIb2IsR0FBS3RqRCxLQUFLdzVCLEtBQUt2a0IsTUFBT2pWLEtBQUt3NUIsS0FBSzBPLFVBQ2hDLE1BRUYsSUFBSyxZQUNIbG9DLEtBQUttc0QsY0FBYyxHQUFPcitDLE1BQU1rNUMsV0FDaEMsTUFFRixJQUFLLFVBQ0hobkQsS0FBS2tzRCxlQUFlbHNELEtBQUt3NUIsS0FBS3ZrQixNQUFPalYsS0FBS3c1QixLQUFLME8sVUFDL0MsTUFFRixJQUFLLGlCQUNIbG9DLEtBQUtpc0QsV0FBVyxHQUFPbitDLE1BQU04NUMsZUFBZ0IsR0FBTzk1QyxNQUFNZzZDLFdBQzFELE1BRUYsSUFBSyxlQUNIOW5ELEtBQUtpc0QsV0FBVyxHQUFPbitDLE1BQU0rNUMsYUFBYyxHQUFPLzVDLE1BQU1nNkMsV0FDeEQsTUFFRixJQUFLLGlCQUNIOW5ELEtBQUs4ckQsc0JBQ0wsTUFFRixJQUFLLFNBQ0wsSUFBSyxLQUNMLElBQUssT0FDSDlyRCxLQUFLMHNELFdBQVcsR0FBT3Y5QyxNQUFNNCtDLElBQzdCLE1BRUYsSUFBSyxPQUNIL3RELEtBQUs4c0Qsa0JBQWtCOXNELEtBQUt3NUIsS0FBS3ZrQixNQUFPalYsS0FBS3c1QixLQUFLME8sYUMzbkIxRCxJQUFJdmdDLEdBQW1DLG9CQUFWSixRQUF5QkEsT0FBT0ksaUJBQW1CSixPQUFPSSxnQkFBZ0J0SSxLQUFLa0ksU0FBOEIsb0JBQVpDLFVBQThELG1CQUE1QkEsU0FBU0csaUJBQWlDSCxTQUFTRyxnQkFBZ0J0SSxLQUFLbUksVUFDcE93bUQsR0FBUSxJQUFJQyxXQUFXLElBRVosU0FBU0MsS0FDdEIsSUFBS3ZtRCxHQUNILE1BQU0sSUFBSThLLE1BQU0sNEdBR2xCLE9BQU85SyxHQUFnQnFtRCxJQ1B6QixJQUZBLElBQUlHLEdBQVksR0FFUCxHQUFJLEVBQUcsR0FBSSxNQUFPLEdBQ3pCQSxHQUFVLEtBQU0sR0FBSSxLQUFPdm9ELFNBQVMsSUFBSXdvRCxPQUFPLEdBVWxDLE9BUGYsU0FBcUIzbUQsRUFBS3dHLEdBQ3hCLElBQUlwUSxFQUFJb1EsR0FBVSxFQUNkb2dELEVBQU1GLEdBRVYsTUFBTyxDQUFDRSxFQUFJNW1ELEVBQUk1SixNQUFPd3dELEVBQUk1bUQsRUFBSTVKLE1BQU93d0QsRUFBSTVtRCxFQUFJNUosTUFBT3d3RCxFQUFJNW1ELEVBQUk1SixNQUFPLElBQUt3d0QsRUFBSTVtRCxFQUFJNUosTUFBT3d3RCxFQUFJNW1ELEVBQUk1SixNQUFPLElBQUt3d0QsRUFBSTVtRCxFQUFJNUosTUFBT3d3RCxFQUFJNW1ELEVBQUk1SixNQUFPLElBQUt3d0QsRUFBSTVtRCxFQUFJNUosTUFBT3d3RCxFQUFJNW1ELEVBQUk1SixNQUFPLElBQUt3d0QsRUFBSTVtRCxFQUFJNUosTUFBT3d3RCxFQUFJNW1ELEVBQUk1SixNQUFPd3dELEVBQUk1bUQsRUFBSTVKLE1BQU93d0QsRUFBSTVtRCxFQUFJNUosTUFBT3d3RCxFQUFJNW1ELEVBQUk1SixNQUFPd3dELEVBQUk1bUQsRUFBSTVKLE9BQU95UCxLQUFLLEtDWXBRLE9BdkJmLFNBQVl1TSxFQUFTcFMsRUFBS3dHLEdBQ3hCLElBQUlwUSxFQUFJNEosR0FBT3dHLEdBQVUsRUFFSCxpQkFBWDRMLElBQ1RwUyxFQUFrQixXQUFab1MsRUFBdUIsSUFBSXBXLE1BQU0sSUFBTSxLQUM3Q29XLEVBQVUsTUFJWixJQUFJeTBDLEdBREp6MEMsRUFBVUEsR0FBVyxJQUNGMVIsU0FBVzBSLEVBQVFxMEMsS0FBT0EsTUFLN0MsR0FIQUksRUFBSyxHQUFlLEdBQVZBLEVBQUssR0FBWSxHQUMzQkEsRUFBSyxHQUFlLEdBQVZBLEVBQUssR0FBWSxJQUV2QjdtRCxFQUNGLElBQUssSUFBSThtRCxFQUFLLEVBQUdBLEVBQUssS0FBTUEsRUFDMUI5bUQsRUFBSTVKLEVBQUkwd0QsR0FBTUQsRUFBS0MsR0FJdkIsT0FBTzltRCxHQUFPLEdBQVk2bUQsSSxvQkNoQjVCLFNBQVNFLEdBQXFCM3FELEdBSTVCLE9BSGVBLEdBQ1ZBLEVBQUsyQixTQUNMM0IsRUFBSzJCLFFBTGEsK0JBTU4sS0FHbkIsU0FBU2lwRCxHQUFRNXFELEdBQ2YsT0FBSUEsRUFDS0EsRUFBS3BCLEtBRVAsS0FtQlQsTUFBTSxHQWdCSixjQUlFLElBQUlpc0QsRUFkRSxLQUFBQyxNQUFjLEtBb0V0QixLQUFBQyxvQkFBc0IsQ0FBQ0MsRUFBVUMsS0FDM0JELEVBQVNFLG1CQUdOTixHQUFRSSxLQUFjSixHQUFRSyxJQXRGekMsU0FBd0JqckQsR0FDdEIsTUFBTTJCLEVBQVVncEQsR0FBcUIzcUQsR0FDckMsT0FBSTJCLEdBQVdBLEVBQVF3cEQsWUFDZHhwRCxFQUFRd3BELFlBRVYsS0FrRkFDLENBQWVKLEtBQWM3dUQsS0FBS2t2RCxLQTlEdkNsdkQsS0FBS2t2RCxJQUFNLEtBQ1hsdkQsS0FBS212RCxXQUFhLEdBR2xCbnZELEtBQUtvdkQsT0FBUyxJQUFJQyxRQUFROStDLElBQWFtK0MsRUFBcUJuK0MsSUFFNUR2USxLQUFLc3ZELGlCQUFtQixJQUFJLEtBQzFCLENBQUMsQ0FBRWx4RCxLQUFNLHdCQUNULEtBQ0U0QixLQUFLc3ZELGlCQUFpQkMsa0JBQWtCMXJELElBQ3RDaEQsUUFBUTJ1RCxNQUFNLDRCQUE2QjNyRCxHQUUzQyxNQUFNNHJELEVBQWdCenZELEtBQUs0dUQsb0JBQW9CL3FELEVBQU03RCxLQUFLMnVELE9BRTFEM3VELEtBQUsydUQsTUFBUTlxRCxFQUVUNHJELEdBQ0Z6dkQsS0FBS212RCxXQUFXaG1ELFFBQVF1bUQsSUFDdEJBLEVBQVM3ckQsS0FJYjZxRCxRQU1SLGdCQUNFLE9BOURKLFNBQWdCN3FELEdBQ2QsTUFBTTJCLEVBQVVncEQsR0FBcUIzcUQsR0FDckMsT0FBSTJCLEdBQVdBLEVBQVFtSixJQUNkbkosRUFBUW1KLElBRVYsS0F5REVnaEQsQ0FBTzN2RCxLQUFLMnVELE9BR3JCLFNBQVNyc0QsR0FFUCxPQURBdEMsS0FBS212RCxXQUFXaHNELEtBQUtiLEdBQ2QsS0FDTHRDLEtBQUttdkQsV0FBYW52RCxLQUFLbXZELFdBQVdqdEQsT0FBT3d0RCxHQUFZQSxJQUFhcHRELElBSXRFLFFBQ0UsT0FBT3RDLEtBQUtvdkQsT0FHZCxTQUFTUSxHQUNQLE1BQU1DLEVBQVMsT0FBSCx3QkFDUDd2RCxLQUFLMnVELE9BQUssQ0FDYm5wRCxRQUFTLE9BQUYsd0JBQ0Z4RixLQUFLMnVELE1BQU1ucEQsU0FBTyxDQUNyQiw2QkFBb0IsQ0FDbEJtSixJQUFLaWhELEVBQ0xaLFlBQWFodkQsS0FBS2t2RCxTQUl4Qmx2RCxLQUFLc3ZELGlCQUFpQlEsb0JBQW9CRCxJQXRFckMsR0FBQUUsaUJBQW1CLDZCQUVYLEdBQUFDLGNBQWdCLEdBZ0YxQixNQUFNQyxHQUFTLElBQUksRyx3RkNwSDFCLE1BRWEsR0FBcUQsQ0FDaEUsZUFBZXBsRCxFQUFNMnVCLEVBQU0wMkIsR0FDekIsTUFBTXB6QyxFQUFNOWIsU0FBU3FGLGNBQWMsT0FDbkN5VyxFQUFJa2xCLFVBQVVoZCxJQUFJLGtCQUVsQixNQUFNbXJDLEVBQVdudkQsU0FBU3FGLGNBQWMsT0FDeEM4cEQsRUFBU251QixVQUFVaGQsSUFBSSxZQUNuQm5hLEVBQUtrRCxNQUFNNDVDLFNBQ2J3SSxFQUFTbnVCLFVBQVVoZCxJQVZVLGNBVzdCbXJDLEVBQVM3Z0IsVUFBWSxNQUVyQjZnQixFQUFTN2dCLFVBQVksS0FFdkI2Z0IsRUFBU240QixnQkFBa0IsUUFFM0IsTUFBTXI0QixFQUFJcUIsU0FBU3FGLGNBQWMsS0FFakN5VyxFQUFJalcsWUFBWXNwRCxHQUNoQnJ6QyxFQUFJalcsWUFBWWxILEdBRWhCLE1BQU15d0QsRUFBZ0J4dkQsSUFDcEIsTUFBTSxjQUFFeXZELEVBQWEsT0FBRXo1QyxHQUFXaFcsRUFDOUJ5dkQsSUFBa0JGLEdBS0R2NUMsSUFBVzRpQixFQUFLdGUsS0FHbkNzZSxFQUFLcUUsU0FJSHl5QixFQUFnQjF2RCxJQUNwQixJQUFnRCxJQUE1Q3V2RCxFQUFTMXNDLFNBQVM3aUIsRUFBTWdXLFFBQzFCLE9BRUYsTUFBTSt3QyxFQUFVd0ksRUFBU251QixVQUFVdmUsU0F4Q04sZUF5Q3ZCLEdBQUUrUCxHQUFPZ0csRUFBS3ZrQixNQUNkaEwsRUFBT2ltRCxJQUNiMThCLEVBQUczRyxjQUFjNWlCLE9BQUt6QixFQUFXLENBQUVtL0MsU0FBVUEsSUFDN0NudUIsRUFBSzBPLFNBQVMxVSxJQU1oQixPQUhBZ0csRUFBS3RlLElBQUkxWixpQkFBaUIsT0FBUTR1RCxHQUNsQzUyQixFQUFLdGUsSUFBSTFaLGlCQUFpQixRQUFTOHVELEdBRTVCLENBQ0xwMUMsSUFBSzRCLEVBQ0wyRixXQUFZOWlCLEVBQ1osVUFDRTY1QixFQUFLdGUsSUFBSTh2QixvQkFBb0IsT0FBUW9sQixHQUNyQzUyQixFQUFLdGUsSUFBSTh2QixvQkFBb0IsUUFBU3NsQixPQ21DOUMsSUE5RkEsSUFBSXo4QyxHQUFPLENBQ1QwOEMsRUFBRyxZQUNIQyxFQUFHLE1BQ0hDLEdBQUksUUFDSkMsR0FBSSxVQUNKQyxHQUFJLFFBQ0pDLEdBQUksUUFDSkMsR0FBSSxVQUNKQyxHQUFJLE1BQ0pDLEdBQUksV0FDSkMsR0FBSSxTQUNKQyxHQUFJLElBQ0pDLEdBQUksU0FDSkMsR0FBSSxXQUNKQyxHQUFJLE1BQ0pDLEdBQUksT0FDSkMsR0FBSSxZQUNKQyxHQUFJLFVBQ0pDLEdBQUksYUFDSkMsR0FBSSxZQUNKQyxHQUFJLGNBQ0pDLEdBQUksU0FDSkMsR0FBSSxTQUNKQyxHQUFJLElBQ0pDLEdBQUksSUFDSkMsR0FBSSxPQUNKQyxHQUFJLE9BQ0pDLElBQUssSUFDTEMsSUFBSyxJQUNMQyxJQUFLLElBQ0xDLElBQUssSUFDTEMsSUFBSyxJQUNMQyxJQUFLLElBQ0xDLElBQUssVUFDTEMsSUFBSyxhQUNMQyxJQUFLLFFBQ0xDLElBQUssUUFDTEMsSUFBSyxVQUNMQyxJQUFLLFVBQ0xDLElBQUssTUFDTEMsSUFBSyxNQUNMQyxJQUFLLElBQ0xDLElBQUssSUFDTEMsSUFBSyxJQUNMQyxJQUFLLElBQ0xDLElBQUssSUFDTEMsSUFBSyxJQUNMQyxJQUFLLElBQ0xDLElBQUssSUFDTEMsSUFBSyxJQUNMQyxJQUFLLEtBQ0xDLElBQUssSUFDTEMsSUFBSyxJQUNMQyxJQUFLLEtBRUhDLEdBQVMvL0MsR0FFVG9ELEdBQVEsQ0FDVjQ4QyxHQUFJLElBQ0pDLEdBQUksSUFDSkMsR0FBSSxJQUNKQyxHQUFJLElBQ0pDLEdBQUksSUFDSkMsR0FBSSxJQUNKQyxHQUFJLElBQ0pDLEdBQUksSUFDSkMsR0FBSSxJQUNKQyxHQUFJLElBQ0p6QyxHQUFJLElBQ0pDLEdBQUksSUFDSmlCLElBQUssSUFDTEMsSUFBSyxJQUNMQyxJQUFLLElBQ0xDLElBQUssSUFDTEMsSUFBSyxJQUNMQyxJQUFLLElBQ0xDLElBQUssSUFDTEMsSUFBSyxJQUNMQyxJQUFLLElBQ0xDLElBQUssSUFDTEMsSUFBSyxJQUNMQyxJQUFLLElBQ0xDLElBQUssS0FJSCxHQUE2QixvQkFBYjc5QixXQUE0QixnQkFBZ0J6VyxLQUFLeVcsVUFBVUUsV0FDM0VlLEdBQTZCLG9CQUFiakIsV0FBNEIsaUJBQWlCamUsS0FBS2llLFVBQVVrQixRQUM1RVQsR0FBNEIsb0JBQWJULFdBQTRCLGFBQWFqZSxLQUFLaWUsVUFBVUUsV0FDdkUsR0FBMEIsb0JBQWJGLFdBQTRCLE1BQU1qZSxLQUFLaWUsVUFBVXR6QixVQUM5RCxHQUF5QixvQkFBYnN6QixXQUE0QixnREFBZ0R6VyxLQUFLeVcsVUFBVUUsV0FDdkd1K0IsR0FBc0IsS0FBVyxLQUFRLEdBQU8sR0FBSyxLQUFPaCtCLElBQVMsR0FHaEUsR0FBSSxFQUFHLEdBQUksR0FBSSxLQUFLMWlCLEdBQUssR0FBSyxJQUFLQSxHQUFLLEdBQUssSUFBS3VoQyxPQUFPLElBR2xFLElBQVMsR0FBSSxFQUFHLElBQUssR0FBSSxLQUFLdmhDLEdBQUssR0FBSSxLQUFPLElBQU0sR0FHcEQsSUFBUyxHQUFJLEdBQUksSUFBSyxHQUFJLEtBQ3hCQSxHQUFLLElBQUt1aEMsT0FBT0MsYUFBYSxHQUFJLElBQ2xDcCtCLEdBQU0sSUFBS20rQixPQUFPQyxhQUFhLElBSWpDLElBQUssSUFBSXhjLE1BQVFobEIsR0FBV29ELEdBQU12WCxlQUFlbTVCLE1BQU81aEIsR0FBTTRoQixJQUFRaGxCLEdBQUtnbEIsS0FFM0UsSUFBSTI3QixHQUFVLFNBQVM1ekQsR0FHckIsSUFFSXhDLElBRlltMkQsS0FBd0IzekQsRUFBTTJvQyxTQUFXM29DLEVBQU02b0MsUUFBVTdvQyxFQUFNNG9DLFdBQzVFelMsSUFBVSxLQUFPbjJCLEVBQU04b0MsVUFBWTlvQyxFQUFNeEIsS0FBMkIsR0FBcEJ3QixFQUFNeEIsSUFBSXVELFNBQ25DL0IsRUFBTXhCLE1BQzdCd0IsRUFBTThvQyxTQUFXenlCLEdBQVFwRCxJQUFNalQsRUFBTTgzQixVQUN0QzkzQixFQUFNeEIsS0FBTyxlQVNmLE1BUFksT0FBUmhCLElBQWVBLEVBQU8sVUFDZCxPQUFSQSxJQUFlQSxFQUFPLFVBRWQsUUFBUkEsSUFBZ0JBLEVBQU8sYUFDZixNQUFSQSxJQUFjQSxFQUFPLFdBQ2IsU0FBUkEsSUFBaUJBLEVBQU8sY0FDaEIsUUFBUkEsSUFBZ0JBLEVBQU8sYUFDcEJBLEdDdkhILEdBQTBCLG9CQUFiMDNCLFdBQTJCLE1BQU1qZSxLQUFLaWUsVUFBVXR6QixVQUVuRSxTQUFTaXlELEdBQWlCcjJELEdBQ3hCd0wsSUFFSTA5QyxFQUFLb04sRUFBTXo5QyxFQUFPNmEsRUFGbEJqTyxFQUFRemxCLEVBQUttWixNQUFNLFVBQVc5TixFQUFTb2EsRUFBTUEsRUFBTWxoQixPQUFTLEdBQ2xELFNBQVY4RyxJQUFtQkEsRUFBUyxLQUVoQyxJQUFLRyxJQUFJL0wsRUFBSSxFQUFHQSxFQUFJZ21CLEVBQU1saEIsT0FBUyxFQUFHOUUsSUFBSyxDQUN6QytMLElBQUkrcUQsRUFBTTl3QyxFQUFNaG1CLEdBQ2hCLEdBQUksa0JBQWtCZ2EsS0FBSzg4QyxHQUFNN2lDLEdBQU8sT0FDbkMsR0FBSSxZQUFZamEsS0FBSzg4QyxHQUFNck4sR0FBTSxPQUNqQyxHQUFJLHNCQUFzQnp2QyxLQUFLODhDLEdBQU1ELEdBQU8sT0FDNUMsR0FBSSxjQUFjNzhDLEtBQUs4OEMsR0FBTTE5QyxHQUFRLE1BQ3JDLEtBQUksU0FBU1ksS0FBSzg4QyxHQUNsQixNQUFNLElBQUlsaUQsTUFBTSwrQkFBaUNraUQsR0FEbkIsR0FBSzdpQyxHQUFPLEVBQVc0aUMsR0FBTyxHQU9uRSxPQUpJcE4sSUFBSzc5QyxFQUFTLE9BQVNBLEdBQ3ZCaXJELElBQU1qckQsRUFBUyxRQUFVQSxHQUN6QnFvQixJQUFNcm9CLEVBQVMsUUFBVUEsR0FDekJ3TixJQUFPeE4sRUFBUyxTQUFXQSxHQUN4QkEsRUFTVCxTQUFTbXJELEdBQVV4MkQsRUFBTXdDLEVBQU9xVyxHQUs5QixPQUpJclcsRUFBTTZvQyxTQUFRcnJDLEVBQU8sT0FBU0EsR0FDOUJ3QyxFQUFNMm9DLFVBQVNuckMsRUFBTyxRQUFVQSxHQUNoQ3dDLEVBQU00b0MsVUFBU3ByQyxFQUFPLFFBQVVBLElBQ3RCLElBQVY2WSxHQUFtQnJXLEVBQU04b0MsV0FBVXRyQyxFQUFPLFNBQVdBLEdBQ2xEQSxFQWlDRixTQUFTeTJELEdBQU9DLEdBQ3JCLE9BQU8sSUFBSXgvQixHQUFPLENBQUNDLE1BQU8sQ0FBQ28yQixjQUFlb0osR0FBZUQsTUFPcEQsU0FBU0MsR0FBZUQsR0FDN0JsckQsSUFBSXRGLEVBckROLFNBQW1CQSxHQUNqQnNGLElBQUl2RSxFQUFPOUcsT0FBT1ksT0FBTyxNQUN6QixJQUFLeUssSUFBSUYsS0FBUXBGLEVBQUtlLEVBQUtvdkQsR0FBaUIvcUQsSUFBU3BGLEVBQUlvRixHQUN6RCxPQUFPckUsRUFrREcydkQsQ0FBVUYsR0FDcEIsT0FBTyxTQUFTdDdCLEVBQU01NEIsR0FDcEJnSixJQUFxRXFyRCxFQUFqRTcyRCxFQUFPbzJELEdBQVE1ekQsR0FBUXMwRCxFQUF3QixHQUFmOTJELEVBQUt1RSxRQUF1QixLQUFSdkUsRUFDcEQrMkQsRUFBUzd3RCxFQUFJc3dELEdBQVV4MkQsRUFBTXdDLEdBQVFzMEQsSUFDekMsR0FBSUMsR0FBVUEsRUFBTzM3QixFQUFLdmtCLE1BQU91a0IsRUFBSzBPLFNBQVUxTyxHQUFPLE9BQU8sRUFDOUQsR0FBSTA3QixJQUFXdDBELEVBQU04b0MsVUFBWTlvQyxFQUFNNm9DLFFBQVU3b0MsRUFBTTRvQyxXQUNsRHlyQixFQUFXLEdBQUtyMEQsRUFBTTgzQixXQUFhdThCLEdBQVk3MkQsRUFBTSxDQUN4RHdMLElBQUl3ckQsRUFBVzl3RCxFQUFJc3dELEdBQVVLLEVBQVVyMEQsR0FBTyxJQUM5QyxHQUFJdzBELEdBQVlBLEVBQVM1N0IsRUFBS3ZrQixNQUFPdWtCLEVBQUswTyxTQUFVMU8sR0FBTyxPQUFPLE9BQzdELEdBQUkwN0IsR0FBVXQwRCxFQUFNOG9DLFNBQVUsQ0FDbkM5L0IsSUFBSXlyRCxFQUFZL3dELEVBQUlzd0QsR0FBVXgyRCxFQUFNd0MsR0FBTyxJQUMzQyxHQUFJeTBELEdBQWFBLEVBQVU3N0IsRUFBS3ZrQixNQUFPdWtCLEVBQUswTyxTQUFVMU8sR0FBTyxPQUFPLEVBRXRFLE9BQU8sR0N0RkosTUFBTTg3QixHQUEwQixDQUNyQ1QsR0FBTyxDQUNMVSxPZDJHMEJ4UCxHYzNHTCxHQUFPajRDLE1BQU1nNkMsVWQ0RzdCLFNBQVM3eUMsRUFBT2l6QixHQUNyQixNQUF5Qmp6QixFQUFNeWMsVUFBMUJ2akIsRUFBQSxFQUFBQSxNQUFPMkMsRUFBQSxFQUFBQSxJQUFLakcsRUFBQSxFQUFBQSxLQUNqQixHQUFLQSxHQUFRQSxFQUFLRyxTQUFZbUQsRUFBTUssTUFBUSxJQUFNTCxFQUFNa0MsV0FBV1MsR0FBTSxPQUFPLEVBQ2hGbEgsSUFBSTRyRCxFQUFjcm5ELEVBQU10RCxNQUFNLEdBQzlCLEdBQUkycUQsRUFBWW55RCxNQUFRMGlELEdBQVUsT0FBTyxFQUN6QyxHQUFpQyxHQUE3QjUzQyxFQUFNL0ssT0FBT29DLFFBQVE4RCxLQUFXLENBSWxDLEdBQW1CLEdBQWY2RSxFQUFNSyxPQUFjTCxFQUFNdEQsTUFBTSxHQUFHeEgsTUFBUTBpRCxJQUMzQzUzQyxFQUFNdkMsT0FBTyxJQUFNdUMsRUFBTXRELE1BQU0sR0FBR2tCLFdBQWEsRUFBRyxPQUFPLEVBQzdELEdBQUltOEIsRUFBVSxDQUlaLElBSEF0K0IsSUFBSXVWLEVBQU94VixFQUFTK0IsTUFBTytwRCxFQUFXdG5ELEVBQU12QyxPQUFPLEdBQUssRUFHL0N6TixFQUFJZ1EsRUFBTUssT0FBU2luRCxFQUFXLEVBQUksR0FBSXQzRCxHQUFLZ1EsRUFBTUssTUFBUSxFQUFHclEsSUFDbkVnaEIsRUFBT3hWLEVBQVM3QyxLQUFLcUgsRUFBTXRELEtBQUsxTSxHQUFHa0gsS0FBSzhaLElBRTFDQSxFQUFPQSxFQUFLM1YsT0FBT0csRUFBUzdDLEtBQUtpL0MsR0FBU3J2QyxrQkFDMUM5TSxJQUFJNHBCLEVBQUt2ZSxFQUFNdWUsR0FBRzNyQixRQUFRc0csRUFBTVcsT0FBTzJtRCxFQUFXLE1BQVEsR0FBSXRuRCxFQUFNWSxPQUFPLEdBQUksSUFBSTRDLEVBQU13TixFQUFNczJDLEVBQVcsRUFBSSxFQUFHLElBQ2pIamlDLEVBQUd6QixhQUFhOWMsRUFBTXljLFVBQVVwcEIsWUFBWXVxQixLQUFLVyxFQUFHN2tCLElBQUk0QixRQUFRcEMsRUFBTWxFLEtBQU93ckQsRUFBVyxFQUFJLE1BQzVGdnRCLEVBQVMxVSxFQUFHUCxrQkFFZCxPQUFPLEVBRVRycEIsSUFBSTJWLEVBQVd6TyxFQUFJN0csS0FBT2tFLEVBQU1oRSxNQUFRcXJELEVBQVluakQsZUFBZSxHQUFHNEQsWUFBYyxLQUNoRnVkLEVBQUt2ZSxFQUFNdWUsR0FBRzdELE9BQU94aEIsRUFBTWxFLElBQUs2RyxFQUFJN0csS0FDcENzTSxFQUFRZ0osR0FBWSxDQUFDLEtBQU0sQ0FBQ2xjLEtBQU1rYyxJQUN0QyxRQUFLbU0sR0FBUzhILEVBQUc3a0IsSUFBS1IsRUFBTWxFLElBQUssRUFBR3NNLEtBQ2hDMnhCLEdBQVVBLEVBQVMxVSxFQUFHamMsTUFBTXBKLEVBQU1sRSxJQUFLLEVBQUdzTSxHQUFPMGMsbUJBQzlDLE9jeElUNGhDLEdBQU8sQ0FDTCxNQUFNNS9DLEVBQU9pekIsR0FDWCxNQUFReFcsV0FBVyxNQUFFdmpCLEVBQUssS0FBRXJILEdBQU0sR0FBRTBzQixHQUFPdmUsRUFDM0MsR0FBSTlHLEVBQU0vSyxPQUFPQyxPQUFTLEdBQU95SyxNQUFNNDVDLGVBQ3JDLE9BQU8sRUFFVGwwQixFQUFHYixrQkFDSCxNQUFNK2lDLEVBQVlsaUMsRUFBRzdrQixJQUFJNEIsUUFBUXpKLEdBQ2pDLEdBQWtDLElBQTlCNHVELEVBQVV0eUQsT0FBT3lHLFNBQWUsQ0FDbEMsTUFBTThyRCxFQUFXRCxFQUFVenJELElBSTNCLE9BRkF1cEIsRUFBR3pHLFlBQVk0b0MsRUFBVyxFQUFHQSxFQUFXLEVBQUcsR0FBTzduRCxNQUFNazVDLFVBQVV0d0MsaUJBQ2xFd3hCLEVBQVMxVSxJQUNGLEVBT1QsT0FMQUEsRUFBR2pjLE1BQU16USxPQUFNMEIsRUFBVyxDQUFDLENBQ3pCbkYsS0FBTSxHQUFPeUssTUFBTTQ1QyxlQUNuQjM1QyxNQUFPLENBQUU0NUMsU0FBUyxNQUVwQnpmLEVBQVMxVSxJQUNGLEtBR1hxaEMsR0FBTy9LLEtka0ZGLElBQXVCL0QsRyx1U2VqRzlCLFNBQVM2UCxLQUNQLE9BQU8zRixHQUFPNEYsVUFDVixHQUFPbm9ELGFBQWF1aUQsR0FBTzRGLFdBQzNCLEdBQU9yN0MsWUFBWTlELGlCQUd6QixXLHlDQUNRdTVDLEdBQU82RixRQUViLE1BQU10OEIsRUFBUS8zQixPQUFPKzNCLEtBQU8sSUFBSWlqQixHQUM5Qno3QyxTQUFTMmhCLGNBQWMsV0FDdkIsQ0FDRTFOLE1BQU9rZixHQUFZaDFCLE9BQU8sQ0FDeEJ3UCxJQUFLaW5ELEtBQ0w3aEMsUUFBUyxJQUNKdWhDLEdBQ0gsSUFBSSxHQUNGdDBELFNBQVMyaEIsY0FBYyxZQUN2QjNoQixTQUFTMmhCLGNBQWMsZ0JBRXpCLElBQUkyUyxHQUFPLENBQ1RDLE1BQU8sQ0FDTGlOLFVBQUEsTUFHSjhsQixHQUNBLFFBR0osb0JBQW9COTBCLEdBQ2xCLE1BQU16akIsRUFBT3lwQixFQUFLdmtCLE1BQU1pVSxNQUFNc0ssR0FDOUJnRyxFQUFLb0UsWUFBWTd0QixHQUNqQmtnRCxHQUFPOEYsU0FBU2htRCxFQUFLcEIsSUFBSXBCLGFBSy9CMGlELEdBQU8rRixTQUFVcm5ELElBQ2YsTUFBTW9sQixFQUFVeUYsRUFBS3ZrQixNQUFNOGUsUUFBUTd4QixPQUFPZ3lCLEdBQVdBLGFBQWtCLEtBQW1CLEdBRTFGc0YsRUFBS2trQixTQUFTLENBQ1p6b0MsTUFBT2tmLEdBQVloMUIsT0FBTyxDQUN4QndQLElBQUtpbkQsS0FDTDdoQyxRQUFTLElBQUlBLEVBQVMsSUFBSSxHQUN4Qi95QixTQUFTMmhCLGNBQWMsWUFDdkIzaEIsU0FBUzJoQixjQUFjLDBCQU9qQzBRIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMik7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xOSAzSDVjLTEuMTEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjExIDAgMi0uOSAyLTJWNWMwLTEuMS0uODktMi0yLTJ6bS05IDE0bC01LTUgMS40MS0xLjQxTDEwIDE0LjE3bDcuNTktNy41OUwxOSA4bC05IDl6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTE5IDV2MTRINVY1aDE0bTAtMkg1Yy0xLjEgMC0yIC45LTIgMnYxNGMwIDEuMS45IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6XFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk0wIDBoMjR2MjRIMFYwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk05LjQgMTYuNkw0LjggMTJsNC42LTQuNkw4IDZsLTYgNiA2IDYgMS40LTEuNHptNS4yIDBsNC42LTQuNi00LjYtNC42TDE2IDZsNiA2LTYgNi0xLjQtMS40elxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk0xNS42IDEwLjc5Yy45Ny0uNjcgMS42NS0xLjc3IDEuNjUtMi43OSAwLTIuMjYtMS43NS00LTQtNEg3djE0aDcuMDRjMi4wOSAwIDMuNzEtMS43IDMuNzEtMy43OSAwLTEuNTItLjg2LTIuODItMi4xNS0zLjQyek0xMCA2LjVoM2MuODMgMCAxLjUuNjcgMS41IDEuNXMtLjY3IDEuNS0xLjUgMS41aC0zdi0zem0zLjUgOUgxMHYtM2gzLjVjLjgzIDAgMS41LjY3IDEuNSAxLjVzLS42NyAxLjUtMS41IDEuNXpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xMCA0djNoMi4yMWwtMy40MiA4SDZ2M2g4di0zaC0yLjIxbDMuNDItOEgxOFY0elxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk00IDEwLjVjLS44MyAwLTEuNS42Ny0xLjUgMS41cy42NyAxLjUgMS41IDEuNSAxLjUtLjY3IDEuNS0xLjUtLjY3LTEuNS0xLjUtMS41em0wLTZjLS44MyAwLTEuNS42Ny0xLjUgMS41UzMuMTcgNy41IDQgNy41IDUuNSA2LjgzIDUuNSA2IDQuODMgNC41IDQgNC41em0wIDEyYy0uODMgMC0xLjUuNjgtMS41IDEuNXMuNjggMS41IDEuNSAxLjUgMS41LS42OCAxLjUtMS41LS42Ny0xLjUtMS41LTEuNXpNNyAxOWgxNHYtMkg3djJ6bTAtNmgxNHYtMkg3djJ6bTAtOHYyaDE0VjVIN3pcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDI0djI0SDBWMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj48cGF0aCBkPVxcXCJNMiAxN2gydi41SDN2MWgxdi41SDJ2MWgzdi00SDJ2MXptMS05aDFWNEgydjFoMXYzem0tMSAzaDEuOEwyIDEzLjF2LjloM3YtMUgzLjJMNSAxMC45VjEwSDJ2MXptNS02djJoMTRWNUg3em0wIDE0aDE0di0ySDd2MnptMC02aDE0di0ySDd2MnpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDI0djI0SDB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk05IDR2M2g1djEyaDNWN2g1VjRIOXptLTYgOGgzdjdoM3YtN2gzVjlIM3YzelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk0wIDBoMjR2MjRIMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMy45IDEyYzAtMS43MSAxLjM5LTMuMSAzLjEtMy4xaDRWN0g3Yy0yLjc2IDAtNSAyLjI0LTUgNXMyLjI0IDUgNSA1aDR2LTEuOUg3Yy0xLjcxIDAtMy4xLTEuMzktMy4xLTMuMXpNOCAxM2g4di0ySDh2MnptOS02aC00djEuOWg0YzEuNzEgMCAzLjEgMS4zOSAzLjEgMy4xcy0xLjM5IDMuMS0zLjEgMy4xaC00VjE3aDRjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTV6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTMgMThoMTJ2LTJIM3Yyek0zIDZ2MmgxOFY2SDN6bTAgN2gxOHYtMkgzdjJ6XFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwVjB6XFxcIiBmaWxsPVxcXCJub25lXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+PHBhdGggZD1cXFwiTTAgMGgyNHYyNEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xOSAxOUg1VjVoN1YzSDVjLTEuMTEgMC0yIC45LTIgMnYxNGMwIDEuMS44OSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMnYtN2gtMnY3ek0xNCAzdjJoMy41OWwtOS44MyA5LjgzIDEuNDEgMS40MUwxOSA2LjQxVjEwaDJWM2gtN3pcXFwiPjwvcGF0aD48L3N2Zz5cIiIsImNsYXNzIENvbXBvbmVudE1hbmFnZXIge1xuXG4gIGNvbnN0cnVjdG9yKHBlcm1pc3Npb25zLCBvblJlYWR5KSB7XG4gICAgdGhpcy5zZW50TWVzc2FnZXMgPSBbXTtcbiAgICB0aGlzLm1lc3NhZ2VRdWV1ZSA9IFtdO1xuICAgIHRoaXMubG9nZ2luZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmFjY2VwdHNUaGVtZXMgPSB0cnVlO1xuICAgIHRoaXMuYWN0aXZlVGhlbWVzID0gW107XG5cbiAgICB0aGlzLmluaXRpYWxQZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25zO1xuICAgIHRoaXMub25SZWFkeUNhbGxiYWNrID0gb25SZWFkeTtcblxuICAgIHRoaXMuY29hbGxlc2VkU2F2aW5nID0gdHJ1ZTtcbiAgICB0aGlzLmNvYWxsZXNlZFNhdmluZ0RlbGF5ID0gMjUwO1xuXG4gICAgdGhpcy5yZWdpc3Rlck1lc3NhZ2VIYW5kbGVyKCk7XG4gIH1cblxuICByZWdpc3Rlck1lc3NhZ2VIYW5kbGVyKCkge1xuICAgIGxldCBtZXNzYWdlSGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKHRoaXMubG9nZ2luZ0VuYWJsZWQpIHsgY29uc29sZS5sb2coXCJDb21wb25lbnRzIEFQSSBNZXNzYWdlIHJlY2VpdmVkOlwiLCBldmVudC5kYXRhKX1cblxuICAgICAgLy8gV2UgZG9uJ3QgaGF2ZSBhY2Nlc3MgdG8gd2luZG93LnBhcmVudC5vcmlnaW4gZHVlIHRvIGNyb3NzLWRvbWFpbiByZXN0cmljdGlvbnMuXG4gICAgICAvLyBDaGVjayByZWZlcnJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBkZWZlciB0byBjaGVja2luZyBmb3IgZmlyc3QtcnVuIHZhbHVlLlxuICAgICAgLy8gQ3JhZnQgVVJMIG9iamVjdHMgc28gdGhhdCBleGFtcGxlLmNvbSA9PT0gZXhhbXBsZS5jb20vXG4gICAgICBpZihkb2N1bWVudC5yZWZlcnJlcikge1xuICAgICAgICBsZXQgcmVmZXJyZXIgPSBuZXcgVVJMKGRvY3VtZW50LnJlZmVycmVyKS5vcmlnaW47XG4gICAgICAgIGxldCBldmVudE9yaWdpbiA9IG5ldyBVUkwoZXZlbnQub3JpZ2luKS5vcmlnaW47XG4gICAgICAgIGlmKHJlZmVycmVyICE9PSBldmVudE9yaWdpbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgZmlyc3QgbWVzc2FnZSB3aWxsIGJlIHRoZSBtb3N0IHJlbGlhYmxlIG9uZSwgc28gd2Ugd29uJ3QgY2hhbmdlIGl0IGFmdGVyIGFueSBzdWJzZXF1ZW50IGV2ZW50cyxcbiAgICAgIC8vIGluIGNhc2UgeW91IHJlY2VpdmUgYW4gZXZlbnQgZnJvbSBhbm90aGVyIHdpbmRvdy5cbiAgICAgIGlmKCF0aGlzLm9yaWdpbikge1xuICAgICAgICB0aGlzLm9yaWdpbiA9IGV2ZW50Lm9yaWdpbjtcbiAgICAgIH0gZWxzZSBpZihldmVudC5vcmlnaW4gIT09IHRoaXMub3JpZ2luKSB7XG4gICAgICAgIC8vIElmIGV2ZW50IG9yaWdpbiBkb2Vzbid0IG1hdGNoIGZpcnN0LXJ1biB2YWx1ZSwgcmV0dXJuLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIE1vYmlsZSBlbnZpcm9ubWVudCBzZW5kcyBkYXRhIGFzIEpTT04gc3RyaW5nXG4gICAgICBsZXQgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICBsZXQgcGFyc2VkRGF0YSA9IHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiID8gSlNPTi5wYXJzZShkYXRhKSA6IGRhdGE7XG4gICAgICB0aGlzLmhhbmRsZU1lc3NhZ2UocGFyc2VkRGF0YSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgIE1vYmlsZSAoUmVhY3QgTmF0aXZlKSB1c2VzIGBkb2N1bWVudGAsIHdlYi9kZXNrdG9wIHVzZXMgYHdpbmRvd2AuYWRkRXZlbnRMaXN0ZW5lclxuICAgICAgZm9yIHBvc3RNZXNzYWdlIEFQSSB0byB3b3JrIHByb3Blcmx5LlxuXG4gICAgICBVcGRhdGUgTWF5IDIwMTk6XG4gICAgICBBcyBwYXJ0IG9mIHRyYW5zaXRpb25pbmcgUmVhY3QgTmF0aXZlIHdlYnZpZXcgaW50byB0aGUgY29tbXVuaXR5IHBhY2thZ2UsXG4gICAgICB3ZSdsbCBub3cgb25seSBuZWVkIHRvIHVzZSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lci5cblxuICAgICAgSG93ZXZlciwgd2Ugd2FudCB0byBtYWludGFpbiBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGZvciBNb2JpbGUgPCB2My4wLjUsIHNvIHdlJ2xsIGtlZXAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lclxuXG4gICAgICBBbHNvLCBldmVuIHdpdGggdGhlIG5ldyB2ZXJzaW9uIG9mIHJlYWN0LW5hdGl2ZS13ZWJ2aWV3LCBBbmRyb2lkIG1heSBzdGlsbCByZXF1aXJlIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgKHdoaWxlIGlPUyBzdGlsbCBvbmx5IHJlcXVpcmVzIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKVxuICAgICAgaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LW5hdGl2ZS1jb21tdW5pdHkvcmVhY3QtbmF0aXZlLXdlYnZpZXcvaXNzdWVzLzMyMyNpc3N1ZWNvbW1lbnQtNDY3NzY3OTMzXG4gICAgICovXG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIG1lc3NhZ2VIYW5kbGVyKGV2ZW50KTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBtZXNzYWdlSGFuZGxlcihldmVudCk7XG4gICAgfSwgZmFsc2UpO1xuICB9XG5cbiAgaGFuZGxlTWVzc2FnZShwYXlsb2FkKSB7XG4gICAgaWYocGF5bG9hZC5hY3Rpb24gPT09IFwiY29tcG9uZW50LXJlZ2lzdGVyZWRcIikge1xuICAgICAgdGhpcy5zZXNzaW9uS2V5ID0gcGF5bG9hZC5zZXNzaW9uS2V5O1xuICAgICAgdGhpcy5jb21wb25lbnREYXRhID0gcGF5bG9hZC5jb21wb25lbnREYXRhO1xuXG4gICAgICB0aGlzLm9uUmVhZHkocGF5bG9hZC5kYXRhKTtcblxuICAgICAgaWYodGhpcy5sb2dnaW5nRW5hYmxlZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbXBvbmVudCBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCB3aXRoIHBheWxvYWQ6XCIsIHBheWxvYWQpO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmKHBheWxvYWQuYWN0aW9uID09PSBcInRoZW1lc1wiKSB7XG4gICAgICBpZih0aGlzLmFjY2VwdHNUaGVtZXMpIHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVRoZW1lcyhwYXlsb2FkLmRhdGEudGhlbWVzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBlbHNlIGlmKHBheWxvYWQub3JpZ2luYWwpIHtcbiAgICAgIC8vIGdldCBjYWxsYmFjayBmcm9tIHF1ZXVlXG4gICAgICB2YXIgb3JpZ2luYWxNZXNzYWdlID0gdGhpcy5zZW50TWVzc2FnZXMuZmlsdGVyKGZ1bmN0aW9uKG1lc3NhZ2Upe1xuICAgICAgICByZXR1cm4gbWVzc2FnZS5tZXNzYWdlSWQgPT09IHBheWxvYWQub3JpZ2luYWwubWVzc2FnZUlkO1xuICAgICAgfSlbMF07XG5cbiAgICAgIGlmKCFvcmlnaW5hbE1lc3NhZ2UpIHtcbiAgICAgICAgLy8gQ29ubmVjdGlvbiBtdXN0IGhhdmUgYmVlbiByZXNldC4gQWxlcnQgdGhlIHVzZXIuXG4gICAgICAgIGFsZXJ0KFwiVGhpcyBleHRlbnNpb24gaXMgYXR0ZW1wdGluZyB0byBjb21tdW5pY2F0ZSB3aXRoIFN0YW5kYXJkIE5vdGVzLCBidXQgYW4gZXJyb3IgaXMgcHJldmVudGluZyBpdCBmcm9tIGRvaW5nIHNvLiBQbGVhc2UgcmVzdGFydCB0aGlzIGV4dGVuc2lvbiBhbmQgdHJ5IGFnYWluLlwiKVxuICAgICAgfVxuXG4gICAgICBpZihvcmlnaW5hbE1lc3NhZ2UuY2FsbGJhY2spIHtcbiAgICAgICAgb3JpZ2luYWxNZXNzYWdlLmNhbGxiYWNrKHBheWxvYWQuZGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25SZWFkeShkYXRhKSB7XG4gICAgdGhpcy5lbnZpcm9ubWVudCA9IGRhdGEuZW52aXJvbm1lbnQ7XG4gICAgdGhpcy5wbGF0Zm9ybSA9IGRhdGEucGxhdGZvcm07XG4gICAgdGhpcy51dWlkID0gZGF0YS51dWlkO1xuICAgIHRoaXMuaXNNb2JpbGUgPSB0aGlzLmVudmlyb25tZW50ID09IFwibW9iaWxlXCI7XG5cbiAgICBpZih0aGlzLmluaXRpYWxQZXJtaXNzaW9ucyAmJiB0aGlzLmluaXRpYWxQZXJtaXNzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnJlcXVlc3RQZXJtaXNzaW9ucyh0aGlzLmluaXRpYWxQZXJtaXNzaW9ucyk7XG4gICAgfVxuXG4gICAgZm9yKHZhciBtZXNzYWdlIG9mIHRoaXMubWVzc2FnZVF1ZXVlKSB7XG4gICAgICB0aGlzLnBvc3RNZXNzYWdlKG1lc3NhZ2UuYWN0aW9uLCBtZXNzYWdlLmRhdGEsIG1lc3NhZ2UuY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107XG5cbiAgICBpZih0aGlzLmxvZ2dpbmdFbmFibGVkKSB7IGNvbnNvbGUubG9nKFwib25SZWFkeURhdGFcIiwgZGF0YSk7IH1cblxuICAgIHRoaXMuYWN0aXZhdGVUaGVtZXMoZGF0YS5hY3RpdmVUaGVtZVVybHMgfHwgW10pO1xuXG4gICAgaWYodGhpcy5vblJlYWR5Q2FsbGJhY2spIHtcbiAgICAgIHRoaXMub25SZWFkeUNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U2VsZkNvbXBvbmVudFVVSUQoKSB7XG4gICAgcmV0dXJuIHRoaXMudXVpZDtcbiAgfVxuXG4gIGlzUnVubmluZ0luRGVza3RvcEFwcGxpY2F0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmVudmlyb25tZW50ID09PSBcImRlc2t0b3BcIjtcbiAgfVxuXG4gIHNldENvbXBvbmVudERhdGFWYWx1ZUZvcktleShrZXksIHZhbHVlKSB7XG4gICAgdGhpcy5jb21wb25lbnREYXRhW2tleV0gPSB2YWx1ZTtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwic2V0LWNvbXBvbmVudC1kYXRhXCIsIHtjb21wb25lbnREYXRhOiB0aGlzLmNvbXBvbmVudERhdGF9LCBmdW5jdGlvbihkYXRhKXt9KTtcbiAgfVxuXG4gIGNsZWFyQ29tcG9uZW50RGF0YSgpIHtcbiAgICB0aGlzLmNvbXBvbmVudERhdGEgPSB7fTtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwic2V0LWNvbXBvbmVudC1kYXRhXCIsIHtjb21wb25lbnREYXRhOiB0aGlzLmNvbXBvbmVudERhdGF9LCBmdW5jdGlvbihkYXRhKXt9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERhdGFWYWx1ZUZvcktleShrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnREYXRhW2tleV07XG4gIH1cblxuICBwb3N0TWVzc2FnZShhY3Rpb24sIGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgaWYoIXRoaXMuc2Vzc2lvbktleSkge1xuICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaCh7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBtZXNzYWdlID0ge1xuICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgbWVzc2FnZUlkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLFxuICAgICAgc2Vzc2lvbktleTogdGhpcy5zZXNzaW9uS2V5LFxuICAgICAgYXBpOiBcImNvbXBvbmVudFwiXG4gICAgfVxuXG4gICAgdmFyIHNlbnRNZXNzYWdlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XG4gICAgc2VudE1lc3NhZ2UuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLnNlbnRNZXNzYWdlcy5wdXNoKHNlbnRNZXNzYWdlKTtcblxuICAgIC8vIE1vYmlsZSAoUmVhY3QgTmF0aXZlKSByZXF1aXJlcyBhIHN0cmluZyBmb3IgdGhlIHBvc3RNZXNzYWdlIEFQSS5cbiAgICBpZih0aGlzLmlzTW9iaWxlKSB7XG4gICAgICBtZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgaWYodGhpcy5sb2dnaW5nRW5hYmxlZCkge1xuICAgICAgY29uc29sZS5sb2coXCJQb3N0aW5nIG1lc3NhZ2U6XCIsIG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UobWVzc2FnZSwgdGhpcy5vcmlnaW4pO1xuICB9XG5cbiAgc2V0U2l6ZSh0eXBlLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgdGhpcy5wb3N0TWVzc2FnZShcInNldC1zaXplXCIsIHt0eXBlOiB0eXBlLCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0fSwgZnVuY3Rpb24oZGF0YSl7XG5cbiAgICB9KVxuICB9XG5cbiAgcmVxdWVzdFBlcm1pc3Npb25zKHBlcm1pc3Npb25zLCBjYWxsYmFjaykge1xuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJyZXF1ZXN0LXBlcm1pc3Npb25zXCIsIHtwZXJtaXNzaW9uczogcGVybWlzc2lvbnN9LCBmdW5jdGlvbihkYXRhKXtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHN0cmVhbUl0ZW1zKGNvbnRlbnRUeXBlcywgY2FsbGJhY2spIHtcbiAgICBpZighQXJyYXkuaXNBcnJheShjb250ZW50VHlwZXMpKSB7XG4gICAgICBjb250ZW50VHlwZXMgPSBbY29udGVudFR5cGVzXTtcbiAgICB9XG4gICAgdGhpcy5wb3N0TWVzc2FnZShcInN0cmVhbS1pdGVtc1wiLCB7Y29udGVudF90eXBlczogY29udGVudFR5cGVzfSwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICBjYWxsYmFjayhkYXRhLml0ZW1zKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9XG5cbiAgc3RyZWFtQ29udGV4dEl0ZW0oY2FsbGJhY2spIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwic3RyZWFtLWNvbnRleHQtaXRlbVwiLCBudWxsLCAoZGF0YSkgPT4ge1xuICAgICAgbGV0IGl0ZW0gPSBkYXRhLml0ZW07XG4gICAgICAvKlxuICAgICAgICBJZiB0aGlzIGlzIGEgbmV3IGNvbnRleHQgaXRlbSB0aGFuIHRoZSBjb250ZXh0IGl0ZW0gdGhlIGNvbXBvbmVudCB3YXMgY3VycmVudGx5IGVudGVydGFpbmluZyxcbiAgICAgICAgd2Ugd2FudCB0byBpbW1lZGlhdGVseSBjb21taXQgYW55IHBlbmRpbmcgc2F2ZXMsIGJlY2F1c2UgaWYgeW91IHNlbmQgdGhlIG5ldyBjb250ZXh0IGl0ZW0gdG8gdGhlXG4gICAgICAgIGNvbXBvbmVudCBiZWZvcmUgaXQgaGFzIGNvbW1pdGVkIGl0cyBwcmVzYXZlLCBpdCB3aWxsIGVuZCB1cCBmaXJzdCByZXBsYWNpbmcgdGhlIFVJIHdpdGggbmV3IGNvbnRleHQgaXRlbSxcbiAgICAgICAgYW5kIHdoZW4gdGhlIGRlYm91bmNlciBleGVjdXRlcyB0byByZWFkIHRoZSBjb21wb25lbnQgVUksIGl0IHdpbGwgYmUgcmVhZGluZyB0aGUgbmV3IFVJIGZvciB0aGUgcHJldmlvdXMgaXRlbS5cbiAgICAgICovXG4gICAgICBsZXQgaXNOZXdJdGVtID0gIXRoaXMubGFzdFN0cmVhbWVkSXRlbSB8fCB0aGlzLmxhc3RTdHJlYW1lZEl0ZW0udXVpZCAhPT0gaXRlbS51dWlkO1xuICAgICAgaWYoaXNOZXdJdGVtICYmIHRoaXMucGVuZGluZ1NhdmVUaW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdTYXZlVGltZW91dCk7XG4gICAgICAgIHRoaXMuX3BlcmZvcm1TYXZpbmdPZkl0ZW1zKHRoaXMucGVuZGluZ1NhdmVQYXJhbXMpO1xuICAgICAgICB0aGlzLnBlbmRpbmdTYXZlVGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ1NhdmVQYXJhbXMgPSBudWxsO1xuICAgICAgfVxuICAgICAgdGhpcy5sYXN0U3RyZWFtZWRJdGVtID0gaXRlbTtcbiAgICAgIGNhbGxiYWNrKHRoaXMubGFzdFN0cmVhbWVkSXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBzZWxlY3RJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwic2VsZWN0LWl0ZW1cIiwge2l0ZW06IHRoaXMuanNvbk9iamVjdEZvckl0ZW0oaXRlbSl9KTtcbiAgfVxuXG4gIGNyZWF0ZUl0ZW0oaXRlbSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwiY3JlYXRlLWl0ZW1cIiwge2l0ZW06IHRoaXMuanNvbk9iamVjdEZvckl0ZW0oaXRlbSl9LCBmdW5jdGlvbihkYXRhKXtcbiAgICAgIHZhciBpdGVtID0gZGF0YS5pdGVtO1xuXG4gICAgICAvLyBBIHByZXZpb3VzIHZlcnNpb24gb2YgdGhlIFNOIGFwcCBoYWQgYW4gaXNzdWUgd2hlcmUgdGhlIGl0ZW0gaW4gdGhlIHJlcGx5IHRvIGNyZWF0ZS1pdGVtXG4gICAgICAvLyB3b3VsZCBiZSBuZXN0ZWQgaW5zaWRlIFwiaXRlbXNcIiBhbmQgbm90IFwiaXRlbVwiLiBTbyBoYW5kbGUgYm90aCBjYXNlcyBoZXJlLlxuICAgICAgaWYoIWl0ZW0gJiYgZGF0YS5pdGVtcyAmJiBkYXRhLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaXRlbSA9IGRhdGEuaXRlbXNbMF07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYXNzb2NpYXRlSXRlbShpdGVtKTtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGl0ZW0pO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH1cblxuICBjcmVhdGVJdGVtcyhpdGVtcywgY2FsbGJhY2spIHtcbiAgICBsZXQgbWFwcGVkID0gaXRlbXMubWFwKChpdGVtKSA9PiB7cmV0dXJuIHRoaXMuanNvbk9iamVjdEZvckl0ZW0oaXRlbSl9KTtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwiY3JlYXRlLWl0ZW1zXCIsIHtpdGVtczogbWFwcGVkfSwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhkYXRhLml0ZW1zKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9XG5cbiAgYXNzb2NpYXRlSXRlbShpdGVtKSB7XG4gICAgdGhpcy5wb3N0TWVzc2FnZShcImFzc29jaWF0ZS1pdGVtXCIsIHtpdGVtOiB0aGlzLmpzb25PYmplY3RGb3JJdGVtKGl0ZW0pfSk7XG4gIH1cblxuICBkZWFzc29jaWF0ZUl0ZW0oaXRlbSkge1xuICAgIHRoaXMucG9zdE1lc3NhZ2UoXCJkZWFzc29jaWF0ZS1pdGVtXCIsIHtpdGVtOiB0aGlzLmpzb25PYmplY3RGb3JJdGVtKGl0ZW0pfSk7XG4gIH1cblxuICBjbGVhclNlbGVjdGlvbigpIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwiY2xlYXItc2VsZWN0aW9uXCIsIHtjb250ZW50X3R5cGU6IFwiVGFnXCJ9KTtcbiAgfVxuXG4gIGRlbGV0ZUl0ZW0oaXRlbSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmRlbGV0ZUl0ZW1zKFtpdGVtXSwgY2FsbGJhY2spO1xuICB9XG5cbiAgZGVsZXRlSXRlbXMoaXRlbXMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgIGl0ZW1zOiBpdGVtcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHJldHVybiB0aGlzLmpzb25PYmplY3RGb3JJdGVtKGl0ZW0pO1xuICAgICAgfS5iaW5kKHRoaXMpKVxuICAgIH07XG5cbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwiZGVsZXRlLWl0ZW1zXCIsIHBhcmFtcywgKGRhdGEpID0+IHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGRhdGEpO1xuICAgIH0pO1xuICB9XG5cbiAgc2VuZEN1c3RvbUV2ZW50KGFjdGlvbiwgZGF0YSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLnBvc3RNZXNzYWdlKGFjdGlvbiwgZGF0YSwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhkYXRhKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9XG5cbiAgc2F2ZUl0ZW0oaXRlbSwgY2FsbGJhY2ssIHNraXBEZWJvdW5jZXIgPSBmYWxzZSkge1xuICAgIHRoaXMuc2F2ZUl0ZW1zKFtpdGVtXSwgY2FsbGJhY2ssIHNraXBEZWJvdW5jZXIpO1xuICB9XG5cbiAgLyogUHJlc2F2ZSBhbGxvd3MgY2xpZW50cyB0byBwZXJmb3JtIGFueSBhY3Rpb25zIGxhc3Qgc2Vjb25kIGJlZm9yZSB0aGUgc2F2ZSBhY3R1YWxseSBvY2N1cnMgKGxpa2Ugc2V0dGluZyBwcmV2aWV3cykuXG4gICAgIFNhdmVzIGRlYm91bmNlIGJ5IGRlZmF1bHQsIHNvIGlmIGEgY2xpZW50IG5lZWRzIHRvIGNvbXB1dGUgYSBwcm9wZXJ0eSBvbiBhbiBpdGVtIGJlZm9yZSBzYXZpbmcsIGl0J3MgYmVzdCB0b1xuICAgICBob29rIGludG8gdGhlIGRlYm91bmNlIGN5Y2xlIHNvIHRoYXQgY2xpZW50cyBkb24ndCBoYXZlIHRvIGltcGxlbWVudCB0aGVpciBvd24gZGVib3VuY2luZy5cbiAgICovXG5cbiAgc2F2ZUl0ZW1XaXRoUHJlc2F2ZShpdGVtLCBwcmVzYXZlLCBjYWxsYmFjaykge1xuICAgIHRoaXMuc2F2ZUl0ZW1zV2l0aFByZXNhdmUoW2l0ZW1dLCBwcmVzYXZlLCBjYWxsYmFjayk7XG4gIH1cblxuICBzYXZlSXRlbXNXaXRoUHJlc2F2ZShpdGVtcywgcHJlc2F2ZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLnNhdmVJdGVtcyhpdGVtcywgY2FsbGJhY2ssIGZhbHNlLCBwcmVzYXZlKTtcbiAgfVxuXG4gIF9wZXJmb3JtU2F2aW5nT2ZJdGVtcyh7aXRlbXMsIHByZXNhdmUsIGNhbGxiYWNrfSkge1xuICAgIC8vIHByZXNhdmUgYmxvY2sgYWxsb3dzIGNsaWVudCB0byBnYWluIHRoZSBiZW5lZml0IG9mIHBlcmZvcm1pbmcgc29tZXRoaW5nIGluIHRoZSBkZWJvdW5jZSBjeWNsZS5cbiAgICBwcmVzYXZlICYmIHByZXNhdmUoKTtcblxuICAgIGxldCBtYXBwZWRJdGVtcyA9IFtdO1xuICAgIGZvcihsZXQgaXRlbSBvZiBpdGVtcykge1xuICAgICAgbWFwcGVkSXRlbXMucHVzaCh0aGlzLmpzb25PYmplY3RGb3JJdGVtKGl0ZW0pKTtcbiAgICB9XG5cbiAgICB0aGlzLnBvc3RNZXNzYWdlKFwic2F2ZS1pdGVtc1wiLCB7aXRlbXM6IG1hcHBlZEl0ZW1zfSwgKGRhdGEpID0+IHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKlxuICBza2lwRGVib3VuY2VyIGFsbG93cyBzYXZlcyB0byBnbyB0aHJvdWdoIHJpZ2h0IGF3YXkgcmF0aGVyIHRoYW4gd2FpdGluZyBmb3IgdGltZW91dC5cbiAgVGhpcyBzaG91bGQgYmUgdXNlZCB3aGVuIHNhdmluZyBpdGVtcyB2aWEgb3RoZXIgbWVhbnMgYmVzaWRlcyBrZXlzdHJva2VzLlxuICAqL1xuICBzYXZlSXRlbXMoaXRlbXMsIGNhbGxiYWNrLCBza2lwRGVib3VuY2VyID0gZmFsc2UsIHByZXNhdmUpIHtcblxuICAgIC8vIFdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgd2hlbiB3ZSBjbGVhciBhIHBlbmRpbmcgc2F2ZSB0aW1lb3V0LFxuICAgIC8vIHdlIGNhcnJ5IG92ZXIgdGhvc2UgcGVuZGluZyBpdGVtcyBpbnRvIHRoZSBuZXcgc2F2ZS5cbiAgICBpZighdGhpcy5wZW5kaW5nU2F2ZUl0ZW1zKSB7IHRoaXMucGVuZGluZ1NhdmVJdGVtcyA9IFtdO31cblxuICAgIGlmKHRoaXMuY29hbGxlc2VkU2F2aW5nID09IHRydWUgJiYgIXNraXBEZWJvdW5jZXIpIHtcbiAgICAgIGlmKHRoaXMucGVuZGluZ1NhdmVUaW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdTYXZlVGltZW91dCk7XG4gICAgICB9XG5cbiAgICAgIGxldCBpbmNvbWluZ0lkcyA9IGl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS51dWlkKTtcblxuICAgICAgLy8gUmVwbGFjZSBhbnkgZXhpc3Rpbmcgc2F2ZSBpdGVtcyB3aXRoIGluY29taW5nIHZhbHVlc1xuICAgICAgLy8gT25seSBrZWVwIGl0ZW1zIGhlcmUgd2hvIGFyZSBub3QgaW4gaW5jb21pbmdJZHNcbiAgICAgIGxldCBwcmVleGlzdGluZ0l0ZW1zID0gdGhpcy5wZW5kaW5nU2F2ZUl0ZW1zLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gIWluY29taW5nSWRzLmluY2x1ZGVzKGl0ZW0udXVpZCk7XG4gICAgICB9KVxuXG4gICAgICAgIC8vIEFkZCBuZXcgaXRlbXMsIG5vdyB0aGF0IHdlJ3ZlIG1hZGUgc3VyZSBpdCdzIGNsZWFyZWQgb2YgaW5jb21pbmcgaXRlbXMuXG4gICAgICB0aGlzLnBlbmRpbmdTYXZlSXRlbXMgPSBwcmVleGlzdGluZ0l0ZW1zLmNvbmNhdChpdGVtcyk7XG5cbiAgICAgIC8vIFdlJ2xsIHBvdGVudGlhbGx5IG5lZWQgdG8gY29tbWl0IGVhcmx5IGlmIHN0cmVhbS1jb250ZXh0LWl0ZW0gbWVzc2FnZSBjb21lcyBpblxuICAgICAgdGhpcy5wZW5kaW5nU2F2ZVBhcmFtcyA9IHtcbiAgICAgICAgaXRlbXM6IHRoaXMucGVuZGluZ1NhdmVJdGVtcyxcbiAgICAgICAgcHJlc2F2ZTogcHJlc2F2ZSxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrXG4gICAgICB9XG5cbiAgICAgIHRoaXMucGVuZGluZ1NhdmVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuX3BlcmZvcm1TYXZpbmdPZkl0ZW1zKHRoaXMucGVuZGluZ1NhdmVQYXJhbXMpO1xuICAgICAgICB0aGlzLnBlbmRpbmdTYXZlSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5wZW5kaW5nU2F2ZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmdTYXZlUGFyYW1zID0gbnVsbDtcbiAgICAgIH0sIHRoaXMuY29hbGxlc2VkU2F2aW5nRGVsYXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9wZXJmb3JtU2F2aW5nT2ZJdGVtcyh7aXRlbXMsIHByZXNhdmUsIGNhbGxiYWNrfSk7XG4gICAgfVxuICB9XG5cbiAganNvbk9iamVjdEZvckl0ZW0oaXRlbSkge1xuICAgIHZhciBjb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7XG4gICAgY29weS5jaGlsZHJlbiA9IG51bGw7XG4gICAgY29weS5wYXJlbnQgPSBudWxsO1xuICAgIHJldHVybiBjb3B5O1xuICB9XG5cbiAgZ2V0SXRlbUFwcERhdGFWYWx1ZShpdGVtLCBrZXkpIHtcbiAgICBsZXQgQXBwRG9tYWluID0gXCJvcmcuc3RhbmRhcmRub3Rlcy5zblwiO1xuICAgIHZhciBkYXRhID0gaXRlbS5jb250ZW50LmFwcERhdGEgJiYgaXRlbS5jb250ZW50LmFwcERhdGFbQXBwRG9tYWluXTtcbiAgICBpZihkYXRhKSB7XG4gICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKiBUaGVtZXMgKi9cblxuICBhY3RpdmF0ZVRoZW1lcyhpbmNvbWluZ1VybHMpIHtcbiAgICBpZih0aGlzLmxvZ2dpbmdFbmFibGVkKSB7IGNvbnNvbGUubG9nKFwiSW5jb21pbmcgdGhlbWVzXCIsIGluY29taW5nVXJscyk7IH1cbiAgICBpZih0aGlzLmFjdGl2ZVRoZW1lcy5zb3J0KCkudG9TdHJpbmcoKSA9PSBpbmNvbWluZ1VybHMuc29ydCgpLnRvU3RyaW5nKCkpIHtcbiAgICAgIC8vIGluY29taW5nIGFyZSBzYW1lIGFzIGFjdGl2ZSwgZG8gbm90aGluZ1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB0aGVtZXNUb0FjdGl2YXRlID0gaW5jb21pbmdVcmxzIHx8IFtdO1xuICAgIGxldCB0aGVtZXNUb0RlYWN0aXZhdGUgPSBbXTtcblxuICAgIGZvcih2YXIgYWN0aXZlVXJsIG9mIHRoaXMuYWN0aXZlVGhlbWVzKSB7XG4gICAgICBpZighaW5jb21pbmdVcmxzLmluY2x1ZGVzKGFjdGl2ZVVybCkpIHtcbiAgICAgICAgLy8gYWN0aXZlIG5vdCBwcmVzZW50IGluIGluY29taW5nLCBkZWFjdGl2YXRlIGl0XG4gICAgICAgIHRoZW1lc1RvRGVhY3RpdmF0ZS5wdXNoKGFjdGl2ZVVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBhbHJlYWR5IHByZXNlbnQgaW4gYWN0aXZlIHRoZW1lcywgcmVtb3ZlIGl0IGZyb20gdGhlbWVzVG9BY3RpdmF0ZVxuICAgICAgICB0aGVtZXNUb0FjdGl2YXRlID0gdGhlbWVzVG9BY3RpdmF0ZS5maWx0ZXIoKGNhbmRpZGF0ZSkgPT4ge1xuICAgICAgICAgIHJldHVybiBjYW5kaWRhdGUgIT0gYWN0aXZlVXJsO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmKHRoaXMubG9nZ2luZ0VuYWJsZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRGVhY3RpdmF0aW5nIHRoZW1lczpcIiwgdGhlbWVzVG9EZWFjdGl2YXRlKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiQWN0aXZhdGluZyB0aGVtZXM6XCIsIHRoZW1lc1RvQWN0aXZhdGUpO1xuICAgIH1cblxuICAgIGZvcih2YXIgdGhlbWUgb2YgdGhlbWVzVG9EZWFjdGl2YXRlKSB7XG4gICAgICB0aGlzLmRlYWN0aXZhdGVUaGVtZSh0aGVtZSk7XG4gICAgfVxuXG4gICAgdGhpcy5hY3RpdmVUaGVtZXMgPSBpbmNvbWluZ1VybHM7XG5cbiAgICBmb3IodmFyIHVybCBvZiB0aGVtZXNUb0FjdGl2YXRlKSB7XG4gICAgICBpZighdXJsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgbGluay5pZCA9IGJ0b2EodXJsKTtcbiAgICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICAgIGxpbmsudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgICAgIGxpbmsucmVsID0gXCJzdHlsZXNoZWV0XCI7XG4gICAgICBsaW5rLm1lZGlhID0gXCJzY3JlZW4scHJpbnRcIjtcbiAgICAgIGxpbmsuY2xhc3NOYW1lID0gXCJjdXN0b20tdGhlbWVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICB9XG4gIH1cblxuICB0aGVtZUVsZW1lbnRGb3JVcmwodXJsKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY3VzdG9tLXRoZW1lXCIpKS5zbGljZSgpO1xuICAgIHJldHVybiBlbGVtZW50cy5maW5kKChlbGVtZW50KSA9PiB7XG4gICAgICAvLyBXZSB1c2VkIHRvIHNlYXJjaCBoZXJlIGJ5IGBocmVmYCwgYnV0IG9uIGRlc2t0b3AsIHdpdGggbG9jYWwgZmlsZTovLyB1cmxzLCB0aGF0IGRpZG4ndCB3b3JrIGZvciBzb21lIHJlYXNvbi5cbiAgICAgIHJldHVybiBlbGVtZW50LmlkID09IGJ0b2EodXJsKTtcbiAgICB9KVxuICB9XG5cbiAgZGVhY3RpdmF0ZVRoZW1lKHVybCkge1xuICAgIGxldCBlbGVtZW50ID0gdGhpcy50aGVtZUVsZW1lbnRGb3JVcmwodXJsKTtcbiAgICBpZihlbGVtZW50KSB7XG4gICAgICBlbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICAvKiBUaGVtZSBjYWNoaW5nIGlzIGN1cnJlbnRseSBkaXNhYmxlZC4gTWlnaHQgYmUgZW5hYmxlZCBpbiB0aGUgZnV0dXJlIGlmIG5lY2Nlc3NhcnkuICovXG4gIC8qXG4gIGFjdGl2YXRlQ2FjaGVkVGhlbWVzKCkge1xuICAgIGxldCB0aGVtZXMgPSB0aGlzLmdldENhY2hlZFRoZW1lVXJscygpO1xuICAgIGxldCB3cml0ZVRvQ2FjaGUgPSBmYWxzZTtcbiAgICBpZih0aGlzLmxvZ2dpbmdFbmFibGVkKSB7IGNvbnNvbGUubG9nKFwiQWN0aXZhdGluZyBjYWNoZWQgdGhlbWVzXCIsIHRoZW1lcyk7IH1cbiAgICB0aGlzLmFjdGl2YXRlVGhlbWVzKHRoZW1lcywgd3JpdGVUb0NhY2hlKTtcbiAgfVxuXG4gIGNhY2hlVGhlbWVVcmxzKHVybHMpIHtcbiAgICBpZih0aGlzLmxvZ2dpbmdFbmFibGVkKSB7IGNvbnNvbGUubG9nKFwiQ2FjaGluZyB0aGVtZSB1cmxzXCIsIHVybHMpOyB9XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjYWNoZWRUaGVtZVVybHNcIiwgSlNPTi5zdHJpbmdpZnkodXJscykpO1xuICB9XG5cbiAgZGVjYWNoZVRoZW1lVXJscygpIHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImNhY2hlZFRoZW1lVXJsc1wiKTtcbiAgfVxuXG4gIGdldENhY2hlZFRoZW1lVXJscygpIHtcbiAgICBsZXQgdXJscyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2FjaGVkVGhlbWVVcmxzXCIpO1xuICAgIGlmKHVybHMpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHVybHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG4gICovXG5cblxuICAvKiBVdGlsaXRpZXMgKi9cblxuXG4gIGdlbmVyYXRlVVVJRCgpIHtcbiAgICB2YXIgY3J5cHRvID0gd2luZG93LmNyeXB0byB8fCB3aW5kb3cubXNDcnlwdG87XG4gICAgaWYoY3J5cHRvKSB7XG4gICAgICB2YXIgYnVmID0gbmV3IFVpbnQzMkFycmF5KDQpO1xuICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhidWYpO1xuICAgICAgdmFyIGlkeCA9IC0xO1xuICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xuICAgICAgICAgIGlkeCsrO1xuICAgICAgICAgIHZhciByID0gKGJ1ZltpZHg+PjNdID4+ICgoaWR4JTgpKjQpKSYxNTtcbiAgICAgICAgICB2YXIgdiA9IGMgPT0gJ3gnID8gciA6IChyJjB4M3wweDgpO1xuICAgICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgaWYod2luZG93LnBlcmZvcm1hbmNlICYmIHR5cGVvZiB3aW5kb3cucGVyZm9ybWFuY2Uubm93ID09PSBcImZ1bmN0aW9uXCIpe1xuICAgICAgICBkICs9IHBlcmZvcm1hbmNlLm5vdygpOyAvL3VzZSBoaWdoLXByZWNpc2lvbiB0aW1lciBpZiBhdmFpbGFibGVcbiAgICAgIH1cbiAgICAgIHZhciB1dWlkID0gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XG4gICAgICAgIHZhciByID0gKGQgKyBNYXRoLnJhbmRvbSgpKjE2KSUxNiB8IDA7XG4gICAgICAgIGQgPSBNYXRoLmZsb29yKGQvMTYpO1xuICAgICAgICByZXR1cm4gKGM9PSd4JyA/IHIgOiAociYweDN8MHg4KSkudG9TdHJpbmcoMTYpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdXVpZDtcbiAgICB9XG4gIH1cbn1cblxuXG5pZih0eXBlb2YgbW9kdWxlICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBDb21wb25lbnRNYW5hZ2VyO1xufVxuXG5pZih3aW5kb3cpIHtcbiAgd2luZG93LkNvbXBvbmVudE1hbmFnZXIgPSBDb21wb25lbnRNYW5hZ2VyO1xufVxuIiwiLy8gOjotIFBlcnNpc3RlbnQgZGF0YSBzdHJ1Y3R1cmUgcmVwcmVzZW50aW5nIGFuIG9yZGVyZWQgbWFwcGluZyBmcm9tXG4vLyBzdHJpbmdzIHRvIHZhbHVlcywgd2l0aCBzb21lIGNvbnZlbmllbnQgdXBkYXRlIG1ldGhvZHMuXG5mdW5jdGlvbiBPcmRlcmVkTWFwKGNvbnRlbnQpIHtcbiAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbn1cblxuT3JkZXJlZE1hcC5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBPcmRlcmVkTWFwLFxuXG4gIGZpbmQ6IGZ1bmN0aW9uKGtleSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb250ZW50Lmxlbmd0aDsgaSArPSAyKVxuICAgICAgaWYgKHRoaXMuY29udGVudFtpXSA9PT0ga2V5KSByZXR1cm4gaVxuICAgIHJldHVybiAtMVxuICB9LFxuXG4gIC8vIDo6IChzdHJpbmcpIOKGkiA/YW55XG4gIC8vIFJldHJpZXZlIHRoZSB2YWx1ZSBzdG9yZWQgdW5kZXIgYGtleWAsIG9yIHJldHVybiB1bmRlZmluZWQgd2hlblxuICAvLyBubyBzdWNoIGtleSBleGlzdHMuXG4gIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGZvdW5kID0gdGhpcy5maW5kKGtleSk7XG4gICAgcmV0dXJuIGZvdW5kID09IC0xID8gdW5kZWZpbmVkIDogdGhpcy5jb250ZW50W2ZvdW5kICsgMV1cbiAgfSxcblxuICAvLyA6OiAoc3RyaW5nLCBhbnksID9zdHJpbmcpIOKGkiBPcmRlcmVkTWFwXG4gIC8vIENyZWF0ZSBhIG5ldyBtYXAgYnkgcmVwbGFjaW5nIHRoZSB2YWx1ZSBvZiBga2V5YCB3aXRoIGEgbmV3XG4gIC8vIHZhbHVlLCBvciBhZGRpbmcgYSBiaW5kaW5nIHRvIHRoZSBlbmQgb2YgdGhlIG1hcC4gSWYgYG5ld0tleWAgaXNcbiAgLy8gZ2l2ZW4sIHRoZSBrZXkgb2YgdGhlIGJpbmRpbmcgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoYXQga2V5LlxuICB1cGRhdGU6IGZ1bmN0aW9uKGtleSwgdmFsdWUsIG5ld0tleSkge1xuICAgIHZhciBzZWxmID0gbmV3S2V5ICYmIG5ld0tleSAhPSBrZXkgPyB0aGlzLnJlbW92ZShuZXdLZXkpIDogdGhpcztcbiAgICB2YXIgZm91bmQgPSBzZWxmLmZpbmQoa2V5KSwgY29udGVudCA9IHNlbGYuY29udGVudC5zbGljZSgpO1xuICAgIGlmIChmb3VuZCA9PSAtMSkge1xuICAgICAgY29udGVudC5wdXNoKG5ld0tleSB8fCBrZXksIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGVudFtmb3VuZCArIDFdID0gdmFsdWU7XG4gICAgICBpZiAobmV3S2V5KSBjb250ZW50W2ZvdW5kXSA9IG5ld0tleTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwKGNvbnRlbnQpXG4gIH0sXG5cbiAgLy8gOjogKHN0cmluZykg4oaSIE9yZGVyZWRNYXBcbiAgLy8gUmV0dXJuIGEgbWFwIHdpdGggdGhlIGdpdmVuIGtleSByZW1vdmVkLCBpZiBpdCBleGlzdGVkLlxuICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZChrZXkpO1xuICAgIGlmIChmb3VuZCA9PSAtMSkgcmV0dXJuIHRoaXNcbiAgICB2YXIgY29udGVudCA9IHRoaXMuY29udGVudC5zbGljZSgpO1xuICAgIGNvbnRlbnQuc3BsaWNlKGZvdW5kLCAyKTtcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAoY29udGVudClcbiAgfSxcblxuICAvLyA6OiAoc3RyaW5nLCBhbnkpIOKGkiBPcmRlcmVkTWFwXG4gIC8vIEFkZCBhIG5ldyBrZXkgdG8gdGhlIHN0YXJ0IG9mIHRoZSBtYXAuXG4gIGFkZFRvU3RhcnQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAoW2tleSwgdmFsdWVdLmNvbmNhdCh0aGlzLnJlbW92ZShrZXkpLmNvbnRlbnQpKVxuICB9LFxuXG4gIC8vIDo6IChzdHJpbmcsIGFueSkg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQWRkIGEgbmV3IGtleSB0byB0aGUgZW5kIG9mIHRoZSBtYXAuXG4gIGFkZFRvRW5kOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgdmFyIGNvbnRlbnQgPSB0aGlzLnJlbW92ZShrZXkpLmNvbnRlbnQuc2xpY2UoKTtcbiAgICBjb250ZW50LnB1c2goa2V5LCB2YWx1ZSk7XG4gICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwKGNvbnRlbnQpXG4gIH0sXG5cbiAgLy8gOjogKHN0cmluZywgc3RyaW5nLCBhbnkpIOKGkiBPcmRlcmVkTWFwXG4gIC8vIEFkZCBhIGtleSBhZnRlciB0aGUgZ2l2ZW4ga2V5LiBJZiBgcGxhY2VgIGlzIG5vdCBmb3VuZCwgdGhlIG5ld1xuICAvLyBrZXkgaXMgYWRkZWQgdG8gdGhlIGVuZC5cbiAgYWRkQmVmb3JlOiBmdW5jdGlvbihwbGFjZSwga2V5LCB2YWx1ZSkge1xuICAgIHZhciB3aXRob3V0ID0gdGhpcy5yZW1vdmUoa2V5KSwgY29udGVudCA9IHdpdGhvdXQuY29udGVudC5zbGljZSgpO1xuICAgIHZhciBmb3VuZCA9IHdpdGhvdXQuZmluZChwbGFjZSk7XG4gICAgY29udGVudC5zcGxpY2UoZm91bmQgPT0gLTEgPyBjb250ZW50Lmxlbmd0aCA6IGZvdW5kLCAwLCBrZXksIHZhbHVlKTtcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAoY29udGVudClcbiAgfSxcblxuICAvLyA6OiAoKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSlcbiAgLy8gQ2FsbCB0aGUgZ2l2ZW4gZnVuY3Rpb24gZm9yIGVhY2gga2V5L3ZhbHVlIHBhaXIgaW4gdGhlIG1hcCwgaW5cbiAgLy8gb3JkZXIuXG4gIGZvckVhY2g6IGZ1bmN0aW9uKGYpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29udGVudC5sZW5ndGg7IGkgKz0gMilcbiAgICAgIGYodGhpcy5jb250ZW50W2ldLCB0aGlzLmNvbnRlbnRbaSArIDFdKTtcbiAgfSxcblxuICAvLyA6OiAodW5pb248T2JqZWN0LCBPcmRlcmVkTWFwPikg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQ3JlYXRlIGEgbmV3IG1hcCBieSBwcmVwZW5kaW5nIHRoZSBrZXlzIGluIHRoaXMgbWFwIHRoYXQgZG9uJ3RcbiAgLy8gYXBwZWFyIGluIGBtYXBgIGJlZm9yZSB0aGUga2V5cyBpbiBgbWFwYC5cbiAgcHJlcGVuZDogZnVuY3Rpb24obWFwKSB7XG4gICAgbWFwID0gT3JkZXJlZE1hcC5mcm9tKG1hcCk7XG4gICAgaWYgKCFtYXAuc2l6ZSkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAobWFwLmNvbnRlbnQuY29uY2F0KHRoaXMuc3VidHJhY3QobWFwKS5jb250ZW50KSlcbiAgfSxcblxuICAvLyA6OiAodW5pb248T2JqZWN0LCBPcmRlcmVkTWFwPikg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQ3JlYXRlIGEgbmV3IG1hcCBieSBhcHBlbmRpbmcgdGhlIGtleXMgaW4gdGhpcyBtYXAgdGhhdCBkb24ndFxuICAvLyBhcHBlYXIgaW4gYG1hcGAgYWZ0ZXIgdGhlIGtleXMgaW4gYG1hcGAuXG4gIGFwcGVuZDogZnVuY3Rpb24obWFwKSB7XG4gICAgbWFwID0gT3JkZXJlZE1hcC5mcm9tKG1hcCk7XG4gICAgaWYgKCFtYXAuc2l6ZSkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXAodGhpcy5zdWJ0cmFjdChtYXApLmNvbnRlbnQuY29uY2F0KG1hcC5jb250ZW50KSlcbiAgfSxcblxuICAvLyA6OiAodW5pb248T2JqZWN0LCBPcmRlcmVkTWFwPikg4oaSIE9yZGVyZWRNYXBcbiAgLy8gQ3JlYXRlIGEgbWFwIGNvbnRhaW5pbmcgYWxsIHRoZSBrZXlzIGluIHRoaXMgbWFwIHRoYXQgZG9uJ3RcbiAgLy8gYXBwZWFyIGluIGBtYXBgLlxuICBzdWJ0cmFjdDogZnVuY3Rpb24obWFwKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXM7XG4gICAgbWFwID0gT3JkZXJlZE1hcC5mcm9tKG1hcCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXAuY29udGVudC5sZW5ndGg7IGkgKz0gMilcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZW1vdmUobWFwLmNvbnRlbnRbaV0pO1xuICAgIHJldHVybiByZXN1bHRcbiAgfSxcblxuICAvLyA6OiBudW1iZXJcbiAgLy8gVGhlIGFtb3VudCBvZiBrZXlzIGluIHRoaXMgbWFwLlxuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aCA+PiAxXG4gIH1cbn07XG5cbi8vIDo6ICg/dW5pb248T2JqZWN0LCBPcmRlcmVkTWFwPikg4oaSIE9yZGVyZWRNYXBcbi8vIFJldHVybiBhIG1hcCB3aXRoIHRoZSBnaXZlbiBjb250ZW50LiBJZiBudWxsLCBjcmVhdGUgYW4gZW1wdHlcbi8vIG1hcC4gSWYgZ2l2ZW4gYW4gb3JkZXJlZCBtYXAsIHJldHVybiB0aGF0IG1hcCBpdHNlbGYuIElmIGdpdmVuIGFuXG4vLyBvYmplY3QsIGNyZWF0ZSBhIG1hcCBmcm9tIHRoZSBvYmplY3QncyBwcm9wZXJ0aWVzLlxuT3JkZXJlZE1hcC5mcm9tID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgT3JkZXJlZE1hcCkgcmV0dXJuIHZhbHVlXG4gIHZhciBjb250ZW50ID0gW107XG4gIGlmICh2YWx1ZSkgZm9yICh2YXIgcHJvcCBpbiB2YWx1ZSkgY29udGVudC5wdXNoKHByb3AsIHZhbHVlW3Byb3BdKTtcbiAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwKGNvbnRlbnQpXG59O1xuXG52YXIgb3JkZXJlZG1hcCA9IE9yZGVyZWRNYXA7XG5cbmV4cG9ydCBkZWZhdWx0IG9yZGVyZWRtYXA7XG4iLCJpbXBvcnQge2ZpbmREaWZmU3RhcnQsIGZpbmREaWZmRW5kfSBmcm9tIFwiLi9kaWZmXCJcblxuLy8gOjotIEEgZnJhZ21lbnQgcmVwcmVzZW50cyBhIG5vZGUncyBjb2xsZWN0aW9uIG9mIGNoaWxkIG5vZGVzLlxuLy9cbi8vIExpa2Ugbm9kZXMsIGZyYWdtZW50cyBhcmUgcGVyc2lzdGVudCBkYXRhIHN0cnVjdHVyZXMsIGFuZCB5b3Vcbi8vIHNob3VsZCBub3QgbXV0YXRlIHRoZW0gb3IgdGhlaXIgY29udGVudC4gUmF0aGVyLCB5b3UgY3JlYXRlIG5ld1xuLy8gaW5zdGFuY2VzIHdoZW5ldmVyIG5lZWRlZC4gVGhlIEFQSSB0cmllcyB0byBtYWtlIHRoaXMgZWFzeS5cbmV4cG9ydCBjbGFzcyBGcmFnbWVudCB7XG4gIGNvbnN0cnVjdG9yKGNvbnRlbnQsIHNpemUpIHtcbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50XG4gICAgLy8gOjogbnVtYmVyXG4gICAgLy8gVGhlIHNpemUgb2YgdGhlIGZyYWdtZW50LCB3aGljaCBpcyB0aGUgdG90YWwgb2YgdGhlIHNpemUgb2YgaXRzXG4gICAgLy8gY29udGVudCBub2Rlcy5cbiAgICB0aGlzLnNpemUgPSBzaXplIHx8IDBcbiAgICBpZiAoc2l6ZSA9PSBudWxsKSBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRlbnQubGVuZ3RoOyBpKyspXG4gICAgICB0aGlzLnNpemUgKz0gY29udGVudFtpXS5ub2RlU2l6ZVxuICB9XG5cbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCAobm9kZTogTm9kZSwgc3RhcnQ6IG51bWJlciwgcGFyZW50OiBOb2RlLCBpbmRleDogbnVtYmVyKSDihpIgP2Jvb2wsID9udW1iZXIpXG4gIC8vIEludm9rZSBhIGNhbGxiYWNrIGZvciBhbGwgZGVzY2VuZGFudCBub2RlcyBiZXR3ZWVuIHRoZSBnaXZlbiB0d29cbiAgLy8gcG9zaXRpb25zIChyZWxhdGl2ZSB0byBzdGFydCBvZiB0aGlzIGZyYWdtZW50KS4gRG9lc24ndCBkZXNjZW5kXG4gIC8vIGludG8gYSBub2RlIHdoZW4gdGhlIGNhbGxiYWNrIHJldHVybnMgYGZhbHNlYC5cbiAgbm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBmLCBub2RlU3RhcnQgPSAwLCBwYXJlbnQpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDsgcG9zIDwgdG87IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gdGhpcy5jb250ZW50W2ldLCBlbmQgPSBwb3MgKyBjaGlsZC5ub2RlU2l6ZVxuICAgICAgaWYgKGVuZCA+IGZyb20gJiYgZihjaGlsZCwgbm9kZVN0YXJ0ICsgcG9zLCBwYXJlbnQsIGkpICE9PSBmYWxzZSAmJiBjaGlsZC5jb250ZW50LnNpemUpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gcG9zICsgMVxuICAgICAgICBjaGlsZC5ub2Rlc0JldHdlZW4oTWF0aC5tYXgoMCwgZnJvbSAtIHN0YXJ0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGNoaWxkLmNvbnRlbnQuc2l6ZSwgdG8gLSBzdGFydCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBmLCBub2RlU3RhcnQgKyBzdGFydClcbiAgICAgIH1cbiAgICAgIHBvcyA9IGVuZFxuICAgIH1cbiAgfVxuXG4gIC8vIDo6ICgobm9kZTogTm9kZSwgcG9zOiBudW1iZXIsIHBhcmVudDogTm9kZSkg4oaSID9ib29sKVxuICAvLyBDYWxsIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgZXZlcnkgZGVzY2VuZGFudCBub2RlLiBUaGUgY2FsbGJhY2tcbiAgLy8gbWF5IHJldHVybiBgZmFsc2VgIHRvIHByZXZlbnQgdHJhdmVyc2FsIG9mIGEgZ2l2ZW4gbm9kZSdzIGNoaWxkcmVuLlxuICBkZXNjZW5kYW50cyhmKSB7XG4gICAgdGhpcy5ub2Rlc0JldHdlZW4oMCwgdGhpcy5zaXplLCBmKVxuICB9XG5cbiAgLy8gOiAobnVtYmVyLCBudW1iZXIsID9zdHJpbmcsID9zdHJpbmcpIOKGkiBzdHJpbmdcbiAgdGV4dEJldHdlZW4oZnJvbSwgdG8sIGJsb2NrU2VwYXJhdG9yLCBsZWFmVGV4dCkge1xuICAgIGxldCB0ZXh0ID0gXCJcIiwgc2VwYXJhdGVkID0gdHJ1ZVxuICAgIHRoaXMubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCAobm9kZSwgcG9zKSA9PiB7XG4gICAgICBpZiAobm9kZS5pc1RleHQpIHtcbiAgICAgICAgdGV4dCArPSBub2RlLnRleHQuc2xpY2UoTWF0aC5tYXgoZnJvbSwgcG9zKSAtIHBvcywgdG8gLSBwb3MpXG4gICAgICAgIHNlcGFyYXRlZCA9ICFibG9ja1NlcGFyYXRvclxuICAgICAgfSBlbHNlIGlmIChub2RlLmlzTGVhZiAmJiBsZWFmVGV4dCkge1xuICAgICAgICB0ZXh0ICs9IGxlYWZUZXh0XG4gICAgICAgIHNlcGFyYXRlZCA9ICFibG9ja1NlcGFyYXRvclxuICAgICAgfSBlbHNlIGlmICghc2VwYXJhdGVkICYmIG5vZGUuaXNCbG9jaykge1xuICAgICAgICB0ZXh0ICs9IGJsb2NrU2VwYXJhdG9yXG4gICAgICAgIHNlcGFyYXRlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9LCAwKVxuICAgIHJldHVybiB0ZXh0XG4gIH1cblxuICAvLyA6OiAoRnJhZ21lbnQpIOKGkiBGcmFnbWVudFxuICAvLyBDcmVhdGUgYSBuZXcgZnJhZ21lbnQgY29udGFpbmluZyB0aGUgY29tYmluZWQgY29udGVudCBvZiB0aGlzXG4gIC8vIGZyYWdtZW50IGFuZCB0aGUgb3RoZXIuXG4gIGFwcGVuZChvdGhlcikge1xuICAgIGlmICghb3RoZXIuc2l6ZSkgcmV0dXJuIHRoaXNcbiAgICBpZiAoIXRoaXMuc2l6ZSkgcmV0dXJuIG90aGVyXG4gICAgbGV0IGxhc3QgPSB0aGlzLmxhc3RDaGlsZCwgZmlyc3QgPSBvdGhlci5maXJzdENoaWxkLCBjb250ZW50ID0gdGhpcy5jb250ZW50LnNsaWNlKCksIGkgPSAwXG4gICAgaWYgKGxhc3QuaXNUZXh0ICYmIGxhc3Quc2FtZU1hcmt1cChmaXJzdCkpIHtcbiAgICAgIGNvbnRlbnRbY29udGVudC5sZW5ndGggLSAxXSA9IGxhc3Qud2l0aFRleHQobGFzdC50ZXh0ICsgZmlyc3QudGV4dClcbiAgICAgIGkgPSAxXG4gICAgfVxuICAgIGZvciAoOyBpIDwgb3RoZXIuY29udGVudC5sZW5ndGg7IGkrKykgY29udGVudC5wdXNoKG90aGVyLmNvbnRlbnRbaV0pXG4gICAgcmV0dXJuIG5ldyBGcmFnbWVudChjb250ZW50LCB0aGlzLnNpemUgKyBvdGhlci5zaXplKVxuICB9XG5cbiAgLy8gOjogKG51bWJlciwgP251bWJlcikg4oaSIEZyYWdtZW50XG4gIC8vIEN1dCBvdXQgdGhlIHN1Yi1mcmFnbWVudCBiZXR3ZWVuIHRoZSB0d28gZ2l2ZW4gcG9zaXRpb25zLlxuICBjdXQoZnJvbSwgdG8pIHtcbiAgICBpZiAodG8gPT0gbnVsbCkgdG8gPSB0aGlzLnNpemVcbiAgICBpZiAoZnJvbSA9PSAwICYmIHRvID09IHRoaXMuc2l6ZSkgcmV0dXJuIHRoaXNcbiAgICBsZXQgcmVzdWx0ID0gW10sIHNpemUgPSAwXG4gICAgaWYgKHRvID4gZnJvbSkgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7IHBvcyA8IHRvOyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IHRoaXMuY29udGVudFtpXSwgZW5kID0gcG9zICsgY2hpbGQubm9kZVNpemVcbiAgICAgIGlmIChlbmQgPiBmcm9tKSB7XG4gICAgICAgIGlmIChwb3MgPCBmcm9tIHx8IGVuZCA+IHRvKSB7XG4gICAgICAgICAgaWYgKGNoaWxkLmlzVGV4dClcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGQuY3V0KE1hdGgubWF4KDAsIGZyb20gLSBwb3MpLCBNYXRoLm1pbihjaGlsZC50ZXh0Lmxlbmd0aCwgdG8gLSBwb3MpKVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNoaWxkID0gY2hpbGQuY3V0KE1hdGgubWF4KDAsIGZyb20gLSBwb3MgLSAxKSwgTWF0aC5taW4oY2hpbGQuY29udGVudC5zaXplLCB0byAtIHBvcyAtIDEpKVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wdXNoKGNoaWxkKVxuICAgICAgICBzaXplICs9IGNoaWxkLm5vZGVTaXplXG4gICAgICB9XG4gICAgICBwb3MgPSBlbmRcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGcmFnbWVudChyZXN1bHQsIHNpemUpXG4gIH1cblxuICBjdXRCeUluZGV4KGZyb20sIHRvKSB7XG4gICAgaWYgKGZyb20gPT0gdG8pIHJldHVybiBGcmFnbWVudC5lbXB0eVxuICAgIGlmIChmcm9tID09IDAgJiYgdG8gPT0gdGhpcy5jb250ZW50Lmxlbmd0aCkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gbmV3IEZyYWdtZW50KHRoaXMuY29udGVudC5zbGljZShmcm9tLCB0bykpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyLCBOb2RlKSDihpIgRnJhZ21lbnRcbiAgLy8gQ3JlYXRlIGEgbmV3IGZyYWdtZW50IGluIHdoaWNoIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleCBpc1xuICAvLyByZXBsYWNlZCBieSB0aGUgZ2l2ZW4gbm9kZS5cbiAgcmVwbGFjZUNoaWxkKGluZGV4LCBub2RlKSB7XG4gICAgbGV0IGN1cnJlbnQgPSB0aGlzLmNvbnRlbnRbaW5kZXhdXG4gICAgaWYgKGN1cnJlbnQgPT0gbm9kZSkgcmV0dXJuIHRoaXNcbiAgICBsZXQgY29weSA9IHRoaXMuY29udGVudC5zbGljZSgpXG4gICAgbGV0IHNpemUgPSB0aGlzLnNpemUgKyBub2RlLm5vZGVTaXplIC0gY3VycmVudC5ub2RlU2l6ZVxuICAgIGNvcHlbaW5kZXhdID0gbm9kZVxuICAgIHJldHVybiBuZXcgRnJhZ21lbnQoY29weSwgc2l6ZSlcbiAgfVxuXG4gIC8vIDogKE5vZGUpIOKGkiBGcmFnbWVudFxuICAvLyBDcmVhdGUgYSBuZXcgZnJhZ21lbnQgYnkgcHJlcGVuZGluZyB0aGUgZ2l2ZW4gbm9kZSB0byB0aGlzXG4gIC8vIGZyYWdtZW50LlxuICBhZGRUb1N0YXJ0KG5vZGUpIHtcbiAgICByZXR1cm4gbmV3IEZyYWdtZW50KFtub2RlXS5jb25jYXQodGhpcy5jb250ZW50KSwgdGhpcy5zaXplICsgbm9kZS5ub2RlU2l6ZSlcbiAgfVxuXG4gIC8vIDogKE5vZGUpIOKGkiBGcmFnbWVudFxuICAvLyBDcmVhdGUgYSBuZXcgZnJhZ21lbnQgYnkgYXBwZW5kaW5nIHRoZSBnaXZlbiBub2RlIHRvIHRoaXNcbiAgLy8gZnJhZ21lbnQuXG4gIGFkZFRvRW5kKG5vZGUpIHtcbiAgICByZXR1cm4gbmV3IEZyYWdtZW50KHRoaXMuY29udGVudC5jb25jYXQobm9kZSksIHRoaXMuc2l6ZSArIG5vZGUubm9kZVNpemUpXG4gIH1cblxuICAvLyA6OiAoRnJhZ21lbnQpIOKGkiBib29sXG4gIC8vIENvbXBhcmUgdGhpcyBmcmFnbWVudCB0byBhbm90aGVyIG9uZS5cbiAgZXEob3RoZXIpIHtcbiAgICBpZiAodGhpcy5jb250ZW50Lmxlbmd0aCAhPSBvdGhlci5jb250ZW50Lmxlbmd0aCkgcmV0dXJuIGZhbHNlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbnRlbnQubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoIXRoaXMuY29udGVudFtpXS5lcShvdGhlci5jb250ZW50W2ldKSkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIDo6ID9Ob2RlXG4gIC8vIFRoZSBmaXJzdCBjaGlsZCBvZiB0aGUgZnJhZ21lbnQsIG9yIGBudWxsYCBpZiBpdCBpcyBlbXB0eS5cbiAgZ2V0IGZpcnN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoID8gdGhpcy5jb250ZW50WzBdIDogbnVsbCB9XG5cbiAgLy8gOjogP05vZGVcbiAgLy8gVGhlIGxhc3QgY2hpbGQgb2YgdGhlIGZyYWdtZW50LCBvciBgbnVsbGAgaWYgaXQgaXMgZW1wdHkuXG4gIGdldCBsYXN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoID8gdGhpcy5jb250ZW50W3RoaXMuY29udGVudC5sZW5ndGggLSAxXSA6IG51bGwgfVxuXG4gIC8vIDo6IG51bWJlclxuICAvLyBUaGUgbnVtYmVyIG9mIGNoaWxkIG5vZGVzIGluIHRoaXMgZnJhZ21lbnQuXG4gIGdldCBjaGlsZENvdW50KCkgeyByZXR1cm4gdGhpcy5jb250ZW50Lmxlbmd0aCB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSIE5vZGVcbiAgLy8gR2V0IHRoZSBjaGlsZCBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC4gUmFpc2UgYW4gZXJyb3Igd2hlbiB0aGVcbiAgLy8gaW5kZXggaXMgb3V0IG9mIHJhbmdlLlxuICBjaGlsZChpbmRleCkge1xuICAgIGxldCBmb3VuZCA9IHRoaXMuY29udGVudFtpbmRleF1cbiAgICBpZiAoIWZvdW5kKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IFwiICsgaW5kZXggKyBcIiBvdXQgb2YgcmFuZ2UgZm9yIFwiICsgdGhpcylcbiAgICByZXR1cm4gZm91bmRcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiA/Tm9kZVxuICAvLyBHZXQgdGhlIGNoaWxkIG5vZGUgYXQgdGhlIGdpdmVuIGluZGV4LCBpZiBpdCBleGlzdHMuXG4gIG1heWJlQ2hpbGQoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50W2luZGV4XVxuICB9XG5cbiAgLy8gOjogKChub2RlOiBOb2RlLCBvZmZzZXQ6IG51bWJlciwgaW5kZXg6IG51bWJlcikpXG4gIC8vIENhbGwgYGZgIGZvciBldmVyeSBjaGlsZCBub2RlLCBwYXNzaW5nIHRoZSBub2RlLCBpdHMgb2Zmc2V0XG4gIC8vIGludG8gdGhpcyBwYXJlbnQgbm9kZSwgYW5kIGl0cyBpbmRleC5cbiAgZm9yRWFjaChmKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIHAgPSAwOyBpIDwgdGhpcy5jb250ZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGQgPSB0aGlzLmNvbnRlbnRbaV1cbiAgICAgIGYoY2hpbGQsIHAsIGkpXG4gICAgICBwICs9IGNoaWxkLm5vZGVTaXplXG4gICAgfVxuICB9XG5cbiAgLy8gOjogKEZyYWdtZW50KSDihpIgP251bWJlclxuICAvLyBGaW5kIHRoZSBmaXJzdCBwb3NpdGlvbiBhdCB3aGljaCB0aGlzIGZyYWdtZW50IGFuZCBhbm90aGVyXG4gIC8vIGZyYWdtZW50IGRpZmZlciwgb3IgYG51bGxgIGlmIHRoZXkgYXJlIHRoZSBzYW1lLlxuICBmaW5kRGlmZlN0YXJ0KG90aGVyLCBwb3MgPSAwKSB7XG4gICAgcmV0dXJuIGZpbmREaWZmU3RhcnQodGhpcywgb3RoZXIsIHBvcylcbiAgfVxuXG4gIC8vIDo6IChGcmFnbWVudCkg4oaSID97YTogbnVtYmVyLCBiOiBudW1iZXJ9XG4gIC8vIEZpbmQgdGhlIGZpcnN0IHBvc2l0aW9uLCBzZWFyY2hpbmcgZnJvbSB0aGUgZW5kLCBhdCB3aGljaCB0aGlzXG4gIC8vIGZyYWdtZW50IGFuZCB0aGUgZ2l2ZW4gZnJhZ21lbnQgZGlmZmVyLCBvciBgbnVsbGAgaWYgdGhleSBhcmUgdGhlXG4gIC8vIHNhbWUuIFNpbmNlIHRoaXMgcG9zaXRpb24gd2lsbCBub3QgYmUgdGhlIHNhbWUgaW4gYm90aCBub2RlcywgYW5cbiAgLy8gb2JqZWN0IHdpdGggdHdvIHNlcGFyYXRlIHBvc2l0aW9ucyBpcyByZXR1cm5lZC5cbiAgZmluZERpZmZFbmQob3RoZXIsIHBvcyA9IHRoaXMuc2l6ZSwgb3RoZXJQb3MgPSBvdGhlci5zaXplKSB7XG4gICAgcmV0dXJuIGZpbmREaWZmRW5kKHRoaXMsIG90aGVyLCBwb3MsIG90aGVyUG9zKVxuICB9XG5cbiAgLy8gOiAobnVtYmVyLCA/bnVtYmVyKSDihpIge2luZGV4OiBudW1iZXIsIG9mZnNldDogbnVtYmVyfVxuICAvLyBGaW5kIHRoZSBpbmRleCBhbmQgaW5uZXIgb2Zmc2V0IGNvcnJlc3BvbmRpbmcgdG8gYSBnaXZlbiByZWxhdGl2ZVxuICAvLyBwb3NpdGlvbiBpbiB0aGlzIGZyYWdtZW50LiBUaGUgcmVzdWx0IG9iamVjdCB3aWxsIGJlIHJldXNlZFxuICAvLyAob3ZlcndyaXR0ZW4pIHRoZSBuZXh0IHRpbWUgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZC4gKE5vdCBwdWJsaWMuKVxuICBmaW5kSW5kZXgocG9zLCByb3VuZCA9IC0xKSB7XG4gICAgaWYgKHBvcyA9PSAwKSByZXR1cm4gcmV0SW5kZXgoMCwgcG9zKVxuICAgIGlmIChwb3MgPT0gdGhpcy5zaXplKSByZXR1cm4gcmV0SW5kZXgodGhpcy5jb250ZW50Lmxlbmd0aCwgcG9zKVxuICAgIGlmIChwb3MgPiB0aGlzLnNpemUgfHwgcG9zIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFBvc2l0aW9uICR7cG9zfSBvdXRzaWRlIG9mIGZyYWdtZW50ICgke3RoaXN9KWApXG4gICAgZm9yIChsZXQgaSA9IDAsIGN1clBvcyA9IDA7OyBpKyspIHtcbiAgICAgIGxldCBjdXIgPSB0aGlzLmNoaWxkKGkpLCBlbmQgPSBjdXJQb3MgKyBjdXIubm9kZVNpemVcbiAgICAgIGlmIChlbmQgPj0gcG9zKSB7XG4gICAgICAgIGlmIChlbmQgPT0gcG9zIHx8IHJvdW5kID4gMCkgcmV0dXJuIHJldEluZGV4KGkgKyAxLCBlbmQpXG4gICAgICAgIHJldHVybiByZXRJbmRleChpLCBjdXJQb3MpXG4gICAgICB9XG4gICAgICBjdXJQb3MgPSBlbmRcbiAgICB9XG4gIH1cblxuICAvLyA6OiAoKSDihpIgc3RyaW5nXG4gIC8vIFJldHVybiBhIGRlYnVnZ2luZyBzdHJpbmcgdGhhdCBkZXNjcmliZXMgdGhpcyBmcmFnbWVudC5cbiAgdG9TdHJpbmcoKSB7IHJldHVybiBcIjxcIiArIHRoaXMudG9TdHJpbmdJbm5lcigpICsgXCI+XCIgfVxuXG4gIHRvU3RyaW5nSW5uZXIoKSB7IHJldHVybiB0aGlzLmNvbnRlbnQuam9pbihcIiwgXCIpIH1cblxuICAvLyA6OiAoKSDihpIgP09iamVjdFxuICAvLyBDcmVhdGUgYSBKU09OLXNlcmlhbGl6ZWFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBmcmFnbWVudC5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQubGVuZ3RoID8gdGhpcy5jb250ZW50Lm1hcChuID0+IG4udG9KU09OKCkpIDogbnVsbFxuICB9XG5cbiAgLy8gOjogKFNjaGVtYSwgP09iamVjdCkg4oaSIEZyYWdtZW50XG4gIC8vIERlc2VyaWFsaXplIGEgZnJhZ21lbnQgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi5cbiAgc3RhdGljIGZyb21KU09OKHNjaGVtYSwgdmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gRnJhZ21lbnQuZW1wdHlcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIEZyYWdtZW50LmZyb21KU09OXCIpXG4gICAgcmV0dXJuIG5ldyBGcmFnbWVudCh2YWx1ZS5tYXAoc2NoZW1hLm5vZGVGcm9tSlNPTikpXG4gIH1cblxuICAvLyA6OiAoW05vZGVdKSDihpIgRnJhZ21lbnRcbiAgLy8gQnVpbGQgYSBmcmFnbWVudCBmcm9tIGFuIGFycmF5IG9mIG5vZGVzLiBFbnN1cmVzIHRoYXQgYWRqYWNlbnRcbiAgLy8gdGV4dCBub2RlcyB3aXRoIHRoZSBzYW1lIG1hcmtzIGFyZSBqb2luZWQgdG9nZXRoZXIuXG4gIHN0YXRpYyBmcm9tQXJyYXkoYXJyYXkpIHtcbiAgICBpZiAoIWFycmF5Lmxlbmd0aCkgcmV0dXJuIEZyYWdtZW50LmVtcHR5XG4gICAgbGV0IGpvaW5lZCwgc2l6ZSA9IDBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbm9kZSA9IGFycmF5W2ldXG4gICAgICBzaXplICs9IG5vZGUubm9kZVNpemVcbiAgICAgIGlmIChpICYmIG5vZGUuaXNUZXh0ICYmIGFycmF5W2kgLSAxXS5zYW1lTWFya3VwKG5vZGUpKSB7XG4gICAgICAgIGlmICgham9pbmVkKSBqb2luZWQgPSBhcnJheS5zbGljZSgwLCBpKVxuICAgICAgICBqb2luZWRbam9pbmVkLmxlbmd0aCAtIDFdID0gbm9kZS53aXRoVGV4dChqb2luZWRbam9pbmVkLmxlbmd0aCAtIDFdLnRleHQgKyBub2RlLnRleHQpXG4gICAgICB9IGVsc2UgaWYgKGpvaW5lZCkge1xuICAgICAgICBqb2luZWQucHVzaChub2RlKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEZyYWdtZW50KGpvaW5lZCB8fCBhcnJheSwgc2l6ZSlcbiAgfVxuXG4gIC8vIDo6ICg/dW5pb248RnJhZ21lbnQsIE5vZGUsIFtOb2RlXT4pIOKGkiBGcmFnbWVudFxuICAvLyBDcmVhdGUgYSBmcmFnbWVudCBmcm9tIHNvbWV0aGluZyB0aGF0IGNhbiBiZSBpbnRlcnByZXRlZCBhcyBhIHNldFxuICAvLyBvZiBub2Rlcy4gRm9yIGBudWxsYCwgaXQgcmV0dXJucyB0aGUgZW1wdHkgZnJhZ21lbnQuIEZvciBhXG4gIC8vIGZyYWdtZW50LCB0aGUgZnJhZ21lbnQgaXRzZWxmLiBGb3IgYSBub2RlIG9yIGFycmF5IG9mIG5vZGVzLCBhXG4gIC8vIGZyYWdtZW50IGNvbnRhaW5pbmcgdGhvc2Ugbm9kZXMuXG4gIHN0YXRpYyBmcm9tKG5vZGVzKSB7XG4gICAgaWYgKCFub2RlcykgcmV0dXJuIEZyYWdtZW50LmVtcHR5XG4gICAgaWYgKG5vZGVzIGluc3RhbmNlb2YgRnJhZ21lbnQpIHJldHVybiBub2Rlc1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGVzKSkgcmV0dXJuIHRoaXMuZnJvbUFycmF5KG5vZGVzKVxuICAgIGlmIChub2Rlcy5hdHRycykgcmV0dXJuIG5ldyBGcmFnbWVudChbbm9kZXNdLCBub2Rlcy5ub2RlU2l6ZSlcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkNhbiBub3QgY29udmVydCBcIiArIG5vZGVzICsgXCIgdG8gYSBGcmFnbWVudFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAobm9kZXMubm9kZXNCZXR3ZWVuID8gXCIgKGxvb2tzIGxpa2UgbXVsdGlwbGUgdmVyc2lvbnMgb2YgcHJvc2VtaXJyb3ItbW9kZWwgd2VyZSBsb2FkZWQpXCIgOiBcIlwiKSlcbiAgfVxufVxuXG5jb25zdCBmb3VuZCA9IHtpbmRleDogMCwgb2Zmc2V0OiAwfVxuZnVuY3Rpb24gcmV0SW5kZXgoaW5kZXgsIG9mZnNldCkge1xuICBmb3VuZC5pbmRleCA9IGluZGV4XG4gIGZvdW5kLm9mZnNldCA9IG9mZnNldFxuICByZXR1cm4gZm91bmRcbn1cblxuLy8gOjogRnJhZ21lbnRcbi8vIEFuIGVtcHR5IGZyYWdtZW50LiBJbnRlbmRlZCB0byBiZSByZXVzZWQgd2hlbmV2ZXIgYSBub2RlIGRvZXNuJ3Rcbi8vIGNvbnRhaW4gYW55dGhpbmcgKHJhdGhlciB0aGFuIGFsbG9jYXRpbmcgYSBuZXcgZW1wdHkgZnJhZ21lbnQgZm9yXG4vLyBlYWNoIGxlYWYgbm9kZSkuXG5GcmFnbWVudC5lbXB0eSA9IG5ldyBGcmFnbWVudChbXSwgMClcbiIsImV4cG9ydCBmdW5jdGlvbiBmaW5kRGlmZlN0YXJ0KGEsIGIsIHBvcykge1xuICBmb3IgKGxldCBpID0gMDs7IGkrKykge1xuICAgIGlmIChpID09IGEuY2hpbGRDb3VudCB8fCBpID09IGIuY2hpbGRDb3VudClcbiAgICAgIHJldHVybiBhLmNoaWxkQ291bnQgPT0gYi5jaGlsZENvdW50ID8gbnVsbCA6IHBvc1xuXG4gICAgbGV0IGNoaWxkQSA9IGEuY2hpbGQoaSksIGNoaWxkQiA9IGIuY2hpbGQoaSlcbiAgICBpZiAoY2hpbGRBID09IGNoaWxkQikgeyBwb3MgKz0gY2hpbGRBLm5vZGVTaXplOyBjb250aW51ZSB9XG5cbiAgICBpZiAoIWNoaWxkQS5zYW1lTWFya3VwKGNoaWxkQikpIHJldHVybiBwb3NcblxuICAgIGlmIChjaGlsZEEuaXNUZXh0ICYmIGNoaWxkQS50ZXh0ICE9IGNoaWxkQi50ZXh0KSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgY2hpbGRBLnRleHRbal0gPT0gY2hpbGRCLnRleHRbal07IGorKylcbiAgICAgICAgcG9zKytcbiAgICAgIHJldHVybiBwb3NcbiAgICB9XG4gICAgaWYgKGNoaWxkQS5jb250ZW50LnNpemUgfHwgY2hpbGRCLmNvbnRlbnQuc2l6ZSkge1xuICAgICAgbGV0IGlubmVyID0gZmluZERpZmZTdGFydChjaGlsZEEuY29udGVudCwgY2hpbGRCLmNvbnRlbnQsIHBvcyArIDEpXG4gICAgICBpZiAoaW5uZXIgIT0gbnVsbCkgcmV0dXJuIGlubmVyXG4gICAgfVxuICAgIHBvcyArPSBjaGlsZEEubm9kZVNpemVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZERpZmZFbmQoYSwgYiwgcG9zQSwgcG9zQikge1xuICBmb3IgKGxldCBpQSA9IGEuY2hpbGRDb3VudCwgaUIgPSBiLmNoaWxkQ291bnQ7Oykge1xuICAgIGlmIChpQSA9PSAwIHx8IGlCID09IDApXG4gICAgICByZXR1cm4gaUEgPT0gaUIgPyBudWxsIDoge2E6IHBvc0EsIGI6IHBvc0J9XG5cbiAgICBsZXQgY2hpbGRBID0gYS5jaGlsZCgtLWlBKSwgY2hpbGRCID0gYi5jaGlsZCgtLWlCKSwgc2l6ZSA9IGNoaWxkQS5ub2RlU2l6ZVxuICAgIGlmIChjaGlsZEEgPT0gY2hpbGRCKSB7XG4gICAgICBwb3NBIC09IHNpemU7IHBvc0IgLT0gc2l6ZVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBpZiAoIWNoaWxkQS5zYW1lTWFya3VwKGNoaWxkQikpIHJldHVybiB7YTogcG9zQSwgYjogcG9zQn1cblxuICAgIGlmIChjaGlsZEEuaXNUZXh0ICYmIGNoaWxkQS50ZXh0ICE9IGNoaWxkQi50ZXh0KSB7XG4gICAgICBsZXQgc2FtZSA9IDAsIG1pblNpemUgPSBNYXRoLm1pbihjaGlsZEEudGV4dC5sZW5ndGgsIGNoaWxkQi50ZXh0Lmxlbmd0aClcbiAgICAgIHdoaWxlIChzYW1lIDwgbWluU2l6ZSAmJiBjaGlsZEEudGV4dFtjaGlsZEEudGV4dC5sZW5ndGggLSBzYW1lIC0gMV0gPT0gY2hpbGRCLnRleHRbY2hpbGRCLnRleHQubGVuZ3RoIC0gc2FtZSAtIDFdKSB7XG4gICAgICAgIHNhbWUrKzsgcG9zQS0tOyBwb3NCLS1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7YTogcG9zQSwgYjogcG9zQn1cbiAgICB9XG4gICAgaWYgKGNoaWxkQS5jb250ZW50LnNpemUgfHwgY2hpbGRCLmNvbnRlbnQuc2l6ZSkge1xuICAgICAgbGV0IGlubmVyID0gZmluZERpZmZFbmQoY2hpbGRBLmNvbnRlbnQsIGNoaWxkQi5jb250ZW50LCBwb3NBIC0gMSwgcG9zQiAtIDEpXG4gICAgICBpZiAoaW5uZXIpIHJldHVybiBpbm5lclxuICAgIH1cbiAgICBwb3NBIC09IHNpemU7IHBvc0IgLT0gc2l6ZVxuICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY29tcGFyZURlZXAoYSwgYikge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWVcbiAgaWYgKCEoYSAmJiB0eXBlb2YgYSA9PSBcIm9iamVjdFwiKSB8fFxuICAgICAgIShiICYmIHR5cGVvZiBiID09IFwib2JqZWN0XCIpKSByZXR1cm4gZmFsc2VcbiAgbGV0IGFycmF5ID0gQXJyYXkuaXNBcnJheShhKVxuICBpZiAoQXJyYXkuaXNBcnJheShiKSAhPSBhcnJheSkgcmV0dXJuIGZhbHNlXG4gIGlmIChhcnJheSkge1xuICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSBpZiAoIWNvbXBhcmVEZWVwKGFbaV0sIGJbaV0pKSByZXR1cm4gZmFsc2VcbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBwIGluIGEpIGlmICghKHAgaW4gYikgfHwgIWNvbXBhcmVEZWVwKGFbcF0sIGJbcF0pKSByZXR1cm4gZmFsc2VcbiAgICBmb3IgKGxldCBwIGluIGIpIGlmICghKHAgaW4gYSkpIHJldHVybiBmYWxzZVxuICB9XG4gIHJldHVybiB0cnVlXG59XG4iLCJpbXBvcnQge01hcmtUeXBlLCBTbGljZSwgRnJhZ21lbnR9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5cbmltcG9ydCB7VHJhbnNmb3JtfSBmcm9tIFwiLi90cmFuc2Zvcm1cIlxuaW1wb3J0IHtBZGRNYXJrU3RlcCwgUmVtb3ZlTWFya1N0ZXB9IGZyb20gXCIuL21hcmtfc3RlcFwiXG5pbXBvcnQge1JlcGxhY2VTdGVwfSBmcm9tIFwiLi9yZXBsYWNlX3N0ZXBcIlxuXG4vLyA6OiAobnVtYmVyLCBudW1iZXIsIE1hcmspIOKGkiB0aGlzXG4vLyBBZGQgdGhlIGdpdmVuIG1hcmsgdG8gdGhlIGlubGluZSBjb250ZW50IGJldHdlZW4gYGZyb21gIGFuZCBgdG9gLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5hZGRNYXJrID0gZnVuY3Rpb24oZnJvbSwgdG8sIG1hcmspIHtcbiAgbGV0IHJlbW92ZWQgPSBbXSwgYWRkZWQgPSBbXSwgcmVtb3ZpbmcgPSBudWxsLCBhZGRpbmcgPSBudWxsXG4gIHRoaXMuZG9jLm5vZGVzQmV0d2Vlbihmcm9tLCB0bywgKG5vZGUsIHBvcywgcGFyZW50KSA9PiB7XG4gICAgaWYgKCFub2RlLmlzSW5saW5lKSByZXR1cm5cbiAgICBsZXQgbWFya3MgPSBub2RlLm1hcmtzXG4gICAgaWYgKCFtYXJrLmlzSW5TZXQobWFya3MpICYmIHBhcmVudC50eXBlLmFsbG93c01hcmtUeXBlKG1hcmsudHlwZSkpIHtcbiAgICAgIGxldCBzdGFydCA9IE1hdGgubWF4KHBvcywgZnJvbSksIGVuZCA9IE1hdGgubWluKHBvcyArIG5vZGUubm9kZVNpemUsIHRvKVxuICAgICAgbGV0IG5ld1NldCA9IG1hcmsuYWRkVG9TZXQobWFya3MpXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFtYXJrc1tpXS5pc0luU2V0KG5ld1NldCkpIHtcbiAgICAgICAgICBpZiAocmVtb3ZpbmcgJiYgcmVtb3ZpbmcudG8gPT0gc3RhcnQgJiYgcmVtb3ZpbmcubWFyay5lcShtYXJrc1tpXSkpXG4gICAgICAgICAgICByZW1vdmluZy50byA9IGVuZFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJlbW92ZWQucHVzaChyZW1vdmluZyA9IG5ldyBSZW1vdmVNYXJrU3RlcChzdGFydCwgZW5kLCBtYXJrc1tpXSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGFkZGluZyAmJiBhZGRpbmcudG8gPT0gc3RhcnQpXG4gICAgICAgIGFkZGluZy50byA9IGVuZFxuICAgICAgZWxzZVxuICAgICAgICBhZGRlZC5wdXNoKGFkZGluZyA9IG5ldyBBZGRNYXJrU3RlcChzdGFydCwgZW5kLCBtYXJrKSlcbiAgICB9XG4gIH0pXG5cbiAgcmVtb3ZlZC5mb3JFYWNoKHMgPT4gdGhpcy5zdGVwKHMpKVxuICBhZGRlZC5mb3JFYWNoKHMgPT4gdGhpcy5zdGVwKHMpKVxuICByZXR1cm4gdGhpc1xufVxuXG4vLyA6OiAobnVtYmVyLCBudW1iZXIsID91bmlvbjxNYXJrLCBNYXJrVHlwZT4pIOKGkiB0aGlzXG4vLyBSZW1vdmUgbWFya3MgZnJvbSBpbmxpbmUgbm9kZXMgYmV0d2VlbiBgZnJvbWAgYW5kIGB0b2AuIFdoZW4gYG1hcmtgXG4vLyBpcyBhIHNpbmdsZSBtYXJrLCByZW1vdmUgcHJlY2lzZWx5IHRoYXQgbWFyay4gV2hlbiBpdCBpcyBhIG1hcmsgdHlwZSxcbi8vIHJlbW92ZSBhbGwgbWFya3Mgb2YgdGhhdCB0eXBlLiBXaGVuIGl0IGlzIG51bGwsIHJlbW92ZSBhbGwgbWFya3Mgb2Zcbi8vIGFueSB0eXBlLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5yZW1vdmVNYXJrID0gZnVuY3Rpb24oZnJvbSwgdG8sIG1hcmsgPSBudWxsKSB7XG4gIGxldCBtYXRjaGVkID0gW10sIHN0ZXAgPSAwXG4gIHRoaXMuZG9jLm5vZGVzQmV0d2Vlbihmcm9tLCB0bywgKG5vZGUsIHBvcykgPT4ge1xuICAgIGlmICghbm9kZS5pc0lubGluZSkgcmV0dXJuXG4gICAgc3RlcCsrXG4gICAgbGV0IHRvUmVtb3ZlID0gbnVsbFxuICAgIGlmIChtYXJrIGluc3RhbmNlb2YgTWFya1R5cGUpIHtcbiAgICAgIGxldCBmb3VuZCA9IG1hcmsuaXNJblNldChub2RlLm1hcmtzKVxuICAgICAgaWYgKGZvdW5kKSB0b1JlbW92ZSA9IFtmb3VuZF1cbiAgICB9IGVsc2UgaWYgKG1hcmspIHtcbiAgICAgIGlmIChtYXJrLmlzSW5TZXQobm9kZS5tYXJrcykpIHRvUmVtb3ZlID0gW21hcmtdXG4gICAgfSBlbHNlIHtcbiAgICAgIHRvUmVtb3ZlID0gbm9kZS5tYXJrc1xuICAgIH1cbiAgICBpZiAodG9SZW1vdmUgJiYgdG9SZW1vdmUubGVuZ3RoKSB7XG4gICAgICBsZXQgZW5kID0gTWF0aC5taW4ocG9zICsgbm9kZS5ub2RlU2l6ZSwgdG8pXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvUmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzdHlsZSA9IHRvUmVtb3ZlW2ldLCBmb3VuZFxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1hdGNoZWQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBsZXQgbSA9IG1hdGNoZWRbal1cbiAgICAgICAgICBpZiAobS5zdGVwID09IHN0ZXAgLSAxICYmIHN0eWxlLmVxKG1hdGNoZWRbal0uc3R5bGUpKSBmb3VuZCA9IG1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICBmb3VuZC50byA9IGVuZFxuICAgICAgICAgIGZvdW5kLnN0ZXAgPSBzdGVwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF0Y2hlZC5wdXNoKHtzdHlsZSwgZnJvbTogTWF0aC5tYXgocG9zLCBmcm9tKSwgdG86IGVuZCwgc3RlcH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIG1hdGNoZWQuZm9yRWFjaChtID0+IHRoaXMuc3RlcChuZXcgUmVtb3ZlTWFya1N0ZXAobS5mcm9tLCBtLnRvLCBtLnN0eWxlKSkpXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIDo6IChudW1iZXIsIE5vZGVUeXBlLCA/Q29udGVudE1hdGNoKSDihpIgdGhpc1xuLy8gUmVtb3ZlcyBhbGwgbWFya3MgYW5kIG5vZGVzIGZyb20gdGhlIGNvbnRlbnQgb2YgdGhlIG5vZGUgYXQgYHBvc2Bcbi8vIHRoYXQgZG9uJ3QgbWF0Y2ggdGhlIGdpdmVuIG5ldyBwYXJlbnQgbm9kZSB0eXBlLiBBY2NlcHRzIGFuXG4vLyBvcHRpb25hbCBzdGFydGluZyBbY29udGVudCBtYXRjaF0oI21vZGVsLkNvbnRlbnRNYXRjaCkgYXMgdGhpcmRcbi8vIGFyZ3VtZW50LlxuVHJhbnNmb3JtLnByb3RvdHlwZS5jbGVhckluY29tcGF0aWJsZSA9IGZ1bmN0aW9uKHBvcywgcGFyZW50VHlwZSwgbWF0Y2ggPSBwYXJlbnRUeXBlLmNvbnRlbnRNYXRjaCkge1xuICBsZXQgbm9kZSA9IHRoaXMuZG9jLm5vZGVBdChwb3MpXG4gIGxldCBkZWxTdGVwcyA9IFtdLCBjdXIgPSBwb3MgKyAxXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5jaGlsZENvdW50OyBpKyspIHtcbiAgICBsZXQgY2hpbGQgPSBub2RlLmNoaWxkKGkpLCBlbmQgPSBjdXIgKyBjaGlsZC5ub2RlU2l6ZVxuICAgIGxldCBhbGxvd2VkID0gbWF0Y2gubWF0Y2hUeXBlKGNoaWxkLnR5cGUsIGNoaWxkLmF0dHJzKVxuICAgIGlmICghYWxsb3dlZCkge1xuICAgICAgZGVsU3RlcHMucHVzaChuZXcgUmVwbGFjZVN0ZXAoY3VyLCBlbmQsIFNsaWNlLmVtcHR5KSlcbiAgICB9IGVsc2Uge1xuICAgICAgbWF0Y2ggPSBhbGxvd2VkXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoaWxkLm1hcmtzLmxlbmd0aDsgaisrKSBpZiAoIXBhcmVudFR5cGUuYWxsb3dzTWFya1R5cGUoY2hpbGQubWFya3Nbal0udHlwZSkpXG4gICAgICAgIHRoaXMuc3RlcChuZXcgUmVtb3ZlTWFya1N0ZXAoY3VyLCBlbmQsIGNoaWxkLm1hcmtzW2pdKSlcbiAgICB9XG4gICAgY3VyID0gZW5kXG4gIH1cbiAgaWYgKCFtYXRjaC52YWxpZEVuZCkge1xuICAgIGxldCBmaWxsID0gbWF0Y2guZmlsbEJlZm9yZShGcmFnbWVudC5lbXB0eSwgdHJ1ZSlcbiAgICB0aGlzLnJlcGxhY2UoY3VyLCBjdXIsIG5ldyBTbGljZShmaWxsLCAwLCAwKSlcbiAgfVxuICBmb3IgKGxldCBpID0gZGVsU3RlcHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHRoaXMuc3RlcChkZWxTdGVwc1tpXSlcbiAgcmV0dXJuIHRoaXNcbn1cbiIsImltcG9ydCB7RnJhZ21lbnQsIFNsaWNlfSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuXG5pbXBvcnQge1JlcGxhY2VTdGVwLCBSZXBsYWNlQXJvdW5kU3RlcH0gZnJvbSBcIi4vcmVwbGFjZV9zdGVwXCJcbmltcG9ydCB7VHJhbnNmb3JtfSBmcm9tIFwiLi90cmFuc2Zvcm1cIlxuaW1wb3J0IHtpbnNlcnRQb2ludH0gZnJvbSBcIi4vc3RydWN0dXJlXCJcblxuLy8gOjogKE5vZGUsIG51bWJlciwgP251bWJlciwgP1NsaWNlKSDihpIgP1N0ZXBcbi8vIOKAmEZpdOKAmSBhIHNsaWNlIGludG8gYSBnaXZlbiBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQsIHByb2R1Y2luZyBhXG4vLyBbc3RlcF0oI3RyYW5zZm9ybS5TdGVwKSB0aGF0IGluc2VydHMgaXQuIFdpbGwgcmV0dXJuIG51bGwgaWZcbi8vIHRoZXJlJ3Mgbm8gbWVhbmluZ2Z1bCB3YXkgdG8gaW5zZXJ0IHRoZSBzbGljZSBoZXJlLCBvciBpbnNlcnRpbmcgaXRcbi8vIHdvdWxkIGJlIGEgbm8tb3AgKGFuIGVtcHR5IHNsaWNlIG92ZXIgYW4gZW1wdHkgcmFuZ2UpLlxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VTdGVwKGRvYywgZnJvbSwgdG8gPSBmcm9tLCBzbGljZSA9IFNsaWNlLmVtcHR5KSB7XG4gIGlmIChmcm9tID09IHRvICYmICFzbGljZS5zaXplKSByZXR1cm4gbnVsbFxuXG4gIGxldCAkZnJvbSA9IGRvYy5yZXNvbHZlKGZyb20pLCAkdG8gPSBkb2MucmVzb2x2ZSh0bylcbiAgLy8gT3B0aW1pemF0aW9uIC0tIGF2b2lkIHdvcmsgaWYgaXQncyBvYnZpb3VzIHRoYXQgaXQncyBub3QgbmVlZGVkLlxuICBpZiAoZml0c1RyaXZpYWxseSgkZnJvbSwgJHRvLCBzbGljZSkpIHJldHVybiBuZXcgUmVwbGFjZVN0ZXAoZnJvbSwgdG8sIHNsaWNlKVxuICBsZXQgcGxhY2VkID0gcGxhY2VTbGljZSgkZnJvbSwgc2xpY2UpXG5cbiAgbGV0IGZpdHRlZExlZnQgPSBmaXRMZWZ0KCRmcm9tLCBwbGFjZWQpXG4gIGxldCBmaXR0ZWQgPSBmaXRSaWdodCgkZnJvbSwgJHRvLCBmaXR0ZWRMZWZ0KVxuICBpZiAoIWZpdHRlZCkgcmV0dXJuIG51bGxcbiAgaWYgKGZpdHRlZExlZnQuc2l6ZSAhPSBmaXR0ZWQuc2l6ZSAmJiBjYW5Nb3ZlVGV4dCgkZnJvbSwgJHRvLCBmaXR0ZWRMZWZ0KSkge1xuICAgIGxldCBkID0gJHRvLmRlcHRoLCBhZnRlciA9ICR0by5hZnRlcihkKVxuICAgIHdoaWxlIChkID4gMSAmJiBhZnRlciA9PSAkdG8uZW5kKC0tZCkpICsrYWZ0ZXJcbiAgICBsZXQgZml0dGVkQWZ0ZXIgPSBmaXRSaWdodCgkZnJvbSwgZG9jLnJlc29sdmUoYWZ0ZXIpLCBmaXR0ZWRMZWZ0KVxuICAgIGlmIChmaXR0ZWRBZnRlcilcbiAgICAgIHJldHVybiBuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoZnJvbSwgYWZ0ZXIsIHRvLCAkdG8uZW5kKCksIGZpdHRlZEFmdGVyLCBmaXR0ZWRMZWZ0LnNpemUpXG4gIH1cbiAgcmV0dXJuIGZpdHRlZC5zaXplIHx8IGZyb20gIT0gdG8gPyBuZXcgUmVwbGFjZVN0ZXAoZnJvbSwgdG8sIGZpdHRlZCkgOiBudWxsXG59XG5cbi8vIDo6IChudW1iZXIsID9udW1iZXIsID9TbGljZSkg4oaSIHRoaXNcbi8vIFJlcGxhY2UgdGhlIHBhcnQgb2YgdGhlIGRvY3VtZW50IGJldHdlZW4gYGZyb21gIGFuZCBgdG9gIHdpdGggdGhlXG4vLyBnaXZlbiBgc2xpY2VgLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24oZnJvbSwgdG8gPSBmcm9tLCBzbGljZSA9IFNsaWNlLmVtcHR5KSB7XG4gIGxldCBzdGVwID0gcmVwbGFjZVN0ZXAodGhpcy5kb2MsIGZyb20sIHRvLCBzbGljZSlcbiAgaWYgKHN0ZXApIHRoaXMuc3RlcChzdGVwKVxuICByZXR1cm4gdGhpc1xufVxuXG4vLyA6OiAobnVtYmVyLCBudW1iZXIsIHVuaW9uPEZyYWdtZW50LCBOb2RlLCBbTm9kZV0+KSDihpIgdGhpc1xuLy8gUmVwbGFjZSB0aGUgZ2l2ZW4gcmFuZ2Ugd2l0aCB0aGUgZ2l2ZW4gY29udGVudCwgd2hpY2ggbWF5IGJlIGFcbi8vIGZyYWdtZW50LCBub2RlLCBvciBhcnJheSBvZiBub2Rlcy5cblRyYW5zZm9ybS5wcm90b3R5cGUucmVwbGFjZVdpdGggPSBmdW5jdGlvbihmcm9tLCB0bywgY29udGVudCkge1xuICByZXR1cm4gdGhpcy5yZXBsYWNlKGZyb20sIHRvLCBuZXcgU2xpY2UoRnJhZ21lbnQuZnJvbShjb250ZW50KSwgMCwgMCkpXG59XG5cbi8vIDo6IChudW1iZXIsIG51bWJlcikg4oaSIHRoaXNcbi8vIERlbGV0ZSB0aGUgY29udGVudCBiZXR3ZWVuIHRoZSBnaXZlbiBwb3NpdGlvbnMuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gIHJldHVybiB0aGlzLnJlcGxhY2UoZnJvbSwgdG8sIFNsaWNlLmVtcHR5KVxufVxuXG4vLyA6OiAobnVtYmVyLCB1bmlvbjxGcmFnbWVudCwgTm9kZSwgW05vZGVdPikg4oaSIHRoaXNcbi8vIEluc2VydCB0aGUgZ2l2ZW4gY29udGVudCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG5UcmFuc2Zvcm0ucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uKHBvcywgY29udGVudCkge1xuICByZXR1cm4gdGhpcy5yZXBsYWNlV2l0aChwb3MsIHBvcywgY29udGVudClcbn1cblxuXG5cbmZ1bmN0aW9uIGZpdExlZnRJbm5lcigkZnJvbSwgZGVwdGgsIHBsYWNlZCwgcGxhY2VkQmVsb3cpIHtcbiAgbGV0IGNvbnRlbnQgPSBGcmFnbWVudC5lbXB0eSwgb3BlbkVuZCA9IDAsIHBsYWNlZEhlcmUgPSBwbGFjZWRbZGVwdGhdXG4gIGlmICgkZnJvbS5kZXB0aCA+IGRlcHRoKSB7XG4gICAgbGV0IGlubmVyID0gZml0TGVmdElubmVyKCRmcm9tLCBkZXB0aCArIDEsIHBsYWNlZCwgcGxhY2VkQmVsb3cgfHwgcGxhY2VkSGVyZSlcbiAgICBvcGVuRW5kID0gaW5uZXIub3BlbkVuZCArIDFcbiAgICBjb250ZW50ID0gRnJhZ21lbnQuZnJvbSgkZnJvbS5ub2RlKGRlcHRoICsgMSkuY29weShpbm5lci5jb250ZW50KSlcbiAgfVxuXG4gIGlmIChwbGFjZWRIZXJlKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQuYXBwZW5kKHBsYWNlZEhlcmUuY29udGVudClcbiAgICBvcGVuRW5kID0gcGxhY2VkSGVyZS5vcGVuRW5kXG4gIH1cbiAgaWYgKHBsYWNlZEJlbG93KSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQuYXBwZW5kKCRmcm9tLm5vZGUoZGVwdGgpLmNvbnRlbnRNYXRjaEF0KCRmcm9tLmluZGV4QWZ0ZXIoZGVwdGgpKS5maWxsQmVmb3JlKEZyYWdtZW50LmVtcHR5LCB0cnVlKSlcbiAgICBvcGVuRW5kID0gMFxuICB9XG5cbiAgcmV0dXJuIHtjb250ZW50LCBvcGVuRW5kfVxufVxuXG5mdW5jdGlvbiBmaXRMZWZ0KCRmcm9tLCBwbGFjZWQpIHtcbiAgbGV0IHtjb250ZW50LCBvcGVuRW5kfSA9IGZpdExlZnRJbm5lcigkZnJvbSwgMCwgcGxhY2VkLCBmYWxzZSlcbiAgcmV0dXJuIG5ldyBTbGljZShjb250ZW50LCAkZnJvbS5kZXB0aCwgb3BlbkVuZCB8fCAwKVxufVxuXG5mdW5jdGlvbiBmaXRSaWdodEpvaW4oY29udGVudCwgcGFyZW50LCAkZnJvbSwgJHRvLCBkZXB0aCwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gIGxldCBtYXRjaCwgY291bnQgPSBjb250ZW50LmNoaWxkQ291bnQsIG1hdGNoQ291bnQgPSBjb3VudCAtIChvcGVuRW5kID4gMCA/IDEgOiAwKVxuICBsZXQgcGFyZW50Tm9kZSA9IG9wZW5TdGFydCA8IDAgPyBwYXJlbnQgOiAkZnJvbS5ub2RlKGRlcHRoKVxuICBpZiAob3BlblN0YXJ0IDwgMClcbiAgICBtYXRjaCA9IHBhcmVudE5vZGUuY29udGVudE1hdGNoQXQobWF0Y2hDb3VudClcbiAgZWxzZSBpZiAoY291bnQgPT0gMSAmJiBvcGVuRW5kID4gMClcbiAgICBtYXRjaCA9IHBhcmVudE5vZGUuY29udGVudE1hdGNoQXQob3BlblN0YXJ0ID8gJGZyb20uaW5kZXgoZGVwdGgpIDogJGZyb20uaW5kZXhBZnRlcihkZXB0aCkpXG4gIGVsc2VcbiAgICBtYXRjaCA9IHBhcmVudE5vZGUuY29udGVudE1hdGNoQXQoJGZyb20uaW5kZXhBZnRlcihkZXB0aCkpXG4gICAgICAubWF0Y2hGcmFnbWVudChjb250ZW50LCBjb3VudCA+IDAgJiYgb3BlblN0YXJ0ID8gMSA6IDAsIG1hdGNoQ291bnQpXG5cbiAgbGV0IHRvTm9kZSA9ICR0by5ub2RlKGRlcHRoKVxuICBpZiAob3BlbkVuZCA+IDAgJiYgZGVwdGggPCAkdG8uZGVwdGgpIHtcbiAgICBsZXQgYWZ0ZXIgPSB0b05vZGUuY29udGVudC5jdXRCeUluZGV4KCR0by5pbmRleEFmdGVyKGRlcHRoKSkuYWRkVG9TdGFydChjb250ZW50Lmxhc3RDaGlsZClcbiAgICBsZXQgam9pbmFibGUgPSBtYXRjaC5maWxsQmVmb3JlKGFmdGVyLCB0cnVlKVxuICAgIC8vIENhbid0IGluc2VydCBjb250ZW50IGlmIHRoZXJlJ3MgYSBzaW5nbGUgbm9kZSBzdHJldGNoZWQgYWNyb3NzIHRoaXMgZ2FwXG4gICAgaWYgKGpvaW5hYmxlICYmIGpvaW5hYmxlLnNpemUgJiYgb3BlblN0YXJ0ID4gMCAmJiBjb3VudCA9PSAxKSBqb2luYWJsZSA9IG51bGxcblxuICAgIGlmIChqb2luYWJsZSkge1xuICAgICAgbGV0IGlubmVyID0gZml0UmlnaHRKb2luKGNvbnRlbnQubGFzdENoaWxkLmNvbnRlbnQsIGNvbnRlbnQubGFzdENoaWxkLCAkZnJvbSwgJHRvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHRoICsgMSwgY291bnQgPT0gMSA/IG9wZW5TdGFydCAtIDEgOiAtMSwgb3BlbkVuZCAtIDEpXG4gICAgICBpZiAoaW5uZXIpIHtcbiAgICAgICAgbGV0IGxhc3QgPSBjb250ZW50Lmxhc3RDaGlsZC5jb3B5KGlubmVyKVxuICAgICAgICBpZiAoam9pbmFibGUuc2l6ZSlcbiAgICAgICAgICByZXR1cm4gY29udGVudC5jdXRCeUluZGV4KDAsIGNvdW50IC0gMSkuYXBwZW5kKGpvaW5hYmxlKS5hZGRUb0VuZChsYXN0KVxuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZUNoaWxkKGNvdW50IC0gMSwgbGFzdClcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKG9wZW5FbmQgPiAwKVxuICAgIG1hdGNoID0gbWF0Y2gubWF0Y2hUeXBlKChjb3VudCA9PSAxICYmIG9wZW5TdGFydCA+IDAgPyAkZnJvbS5ub2RlKGRlcHRoICsgMSkgOiBjb250ZW50Lmxhc3RDaGlsZCkudHlwZSlcblxuICAvLyBJZiB3ZSdyZSBoZXJlLCB0aGUgbmV4dCBsZXZlbCBjYW4ndCBiZSBqb2luZWQsIHNvIHdlIHNlZSB3aGF0XG4gIC8vIGhhcHBlbnMgaWYgd2UgbGVhdmUgaXQgb3Blbi5cbiAgbGV0IHRvSW5kZXggPSAkdG8uaW5kZXgoZGVwdGgpXG4gIGlmICh0b0luZGV4ID09IHRvTm9kZS5jaGlsZENvdW50ICYmICF0b05vZGUudHlwZS5jb21wYXRpYmxlQ29udGVudChwYXJlbnQudHlwZSkpIHJldHVybiBudWxsXG4gIGxldCBqb2luYWJsZSA9IG1hdGNoLmZpbGxCZWZvcmUodG9Ob2RlLmNvbnRlbnQsIHRydWUsIHRvSW5kZXgpXG4gIGZvciAobGV0IGkgPSB0b0luZGV4OyBqb2luYWJsZSAmJiBpIDwgdG9Ob2RlLmNvbnRlbnQuY2hpbGRDb3VudDsgaSsrKVxuICAgIGlmICghcGFyZW50Tm9kZS50eXBlLmFsbG93c01hcmtzKHRvTm9kZS5jb250ZW50LmNoaWxkKGkpLm1hcmtzKSkgam9pbmFibGUgPSBudWxsXG4gIGlmICgham9pbmFibGUpIHJldHVybiBudWxsXG5cbiAgaWYgKG9wZW5FbmQgPiAwKSB7XG4gICAgbGV0IGNsb3NlZCA9IGZpdFJpZ2h0Q2xvc2VkKGNvbnRlbnQubGFzdENoaWxkLCBvcGVuRW5kIC0gMSwgJGZyb20sIGRlcHRoICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgPT0gMSA/IG9wZW5TdGFydCAtIDEgOiAtMSlcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQ2hpbGQoY291bnQgLSAxLCBjbG9zZWQpXG4gIH1cbiAgY29udGVudCA9IGNvbnRlbnQuYXBwZW5kKGpvaW5hYmxlKVxuICBpZiAoJHRvLmRlcHRoID4gZGVwdGgpXG4gICAgY29udGVudCA9IGNvbnRlbnQuYWRkVG9FbmQoZml0UmlnaHRTZXBhcmF0ZSgkdG8sIGRlcHRoICsgMSkpXG4gIHJldHVybiBjb250ZW50XG59XG5cbmZ1bmN0aW9uIGZpdFJpZ2h0Q2xvc2VkKG5vZGUsIG9wZW5FbmQsICRmcm9tLCBkZXB0aCwgb3BlblN0YXJ0KSB7XG4gIGxldCBtYXRjaCwgY29udGVudCA9IG5vZGUuY29udGVudCwgY291bnQgPSBjb250ZW50LmNoaWxkQ291bnRcbiAgaWYgKG9wZW5TdGFydCA+PSAwKVxuICAgIG1hdGNoID0gJGZyb20ubm9kZShkZXB0aCkuY29udGVudE1hdGNoQXQoJGZyb20uaW5kZXhBZnRlcihkZXB0aCkpXG4gICAgICAubWF0Y2hGcmFnbWVudChjb250ZW50LCBvcGVuU3RhcnQgPiAwID8gMSA6IDAsIGNvdW50KVxuICBlbHNlXG4gICAgbWF0Y2ggPSBub2RlLmNvbnRlbnRNYXRjaEF0KGNvdW50KVxuXG4gIGlmIChvcGVuRW5kID4gMCkge1xuICAgIGxldCBjbG9zZWQgPSBmaXRSaWdodENsb3NlZChjb250ZW50Lmxhc3RDaGlsZCwgb3BlbkVuZCAtIDEsICRmcm9tLCBkZXB0aCArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ID09IDEgPyBvcGVuU3RhcnQgLSAxIDogLTEpXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUNoaWxkKGNvdW50IC0gMSwgY2xvc2VkKVxuICB9XG5cbiAgcmV0dXJuIG5vZGUuY29weShjb250ZW50LmFwcGVuZChtYXRjaC5maWxsQmVmb3JlKEZyYWdtZW50LmVtcHR5LCB0cnVlKSkpXG59XG5cbmZ1bmN0aW9uIGZpdFJpZ2h0U2VwYXJhdGUoJHRvLCBkZXB0aCkge1xuICBsZXQgbm9kZSA9ICR0by5ub2RlKGRlcHRoKVxuICBsZXQgZmlsbCA9IG5vZGUuY29udGVudE1hdGNoQXQoMCkuZmlsbEJlZm9yZShub2RlLmNvbnRlbnQsIHRydWUsICR0by5pbmRleChkZXB0aCkpXG4gIGlmICgkdG8uZGVwdGggPiBkZXB0aCkgZmlsbCA9IGZpbGwuYWRkVG9FbmQoZml0UmlnaHRTZXBhcmF0ZSgkdG8sIGRlcHRoICsgMSkpXG4gIHJldHVybiBub2RlLmNvcHkoZmlsbClcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplU2xpY2UoY29udGVudCwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gIHdoaWxlIChvcGVuU3RhcnQgPiAwICYmIG9wZW5FbmQgPiAwICYmIGNvbnRlbnQuY2hpbGRDb3VudCA9PSAxKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQuZmlyc3RDaGlsZC5jb250ZW50XG4gICAgb3BlblN0YXJ0LS1cbiAgICBvcGVuRW5kLS1cbiAgfVxuICByZXR1cm4gbmV3IFNsaWNlKGNvbnRlbnQsIG9wZW5TdGFydCwgb3BlbkVuZClcbn1cblxuLy8gOiAoUmVzb2x2ZWRQb3MsIFJlc29sdmVkUG9zLCBudW1iZXIsIFNsaWNlKSDihpIgU2xpY2VcbmZ1bmN0aW9uIGZpdFJpZ2h0KCRmcm9tLCAkdG8sIHNsaWNlKSB7XG4gIGxldCBmaXR0ZWQgPSBmaXRSaWdodEpvaW4oc2xpY2UuY29udGVudCwgJGZyb20ubm9kZSgwKSwgJGZyb20sICR0bywgMCwgc2xpY2Uub3BlblN0YXJ0LCBzbGljZS5vcGVuRW5kKVxuICBpZiAoIWZpdHRlZCkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIG5vcm1hbGl6ZVNsaWNlKGZpdHRlZCwgc2xpY2Uub3BlblN0YXJ0LCAkdG8uZGVwdGgpXG59XG5cbmZ1bmN0aW9uIGZpdHNUcml2aWFsbHkoJGZyb20sICR0bywgc2xpY2UpIHtcbiAgcmV0dXJuICFzbGljZS5vcGVuU3RhcnQgJiYgIXNsaWNlLm9wZW5FbmQgJiYgJGZyb20uc3RhcnQoKSA9PSAkdG8uc3RhcnQoKSAmJlxuICAgICRmcm9tLnBhcmVudC5jYW5SZXBsYWNlKCRmcm9tLmluZGV4KCksICR0by5pbmRleCgpLCBzbGljZS5jb250ZW50KVxufVxuXG5mdW5jdGlvbiBjYW5Nb3ZlVGV4dCgkZnJvbSwgJHRvLCBzbGljZSkge1xuICBpZiAoISR0by5wYXJlbnQuaXNUZXh0YmxvY2spIHJldHVybiBmYWxzZVxuXG4gIGxldCBwYXJlbnQgPSBzbGljZS5vcGVuRW5kID8gbm9kZVJpZ2h0KHNsaWNlLmNvbnRlbnQsIHNsaWNlLm9wZW5FbmQpXG4gICAgICA6ICRmcm9tLm5vZGUoJGZyb20uZGVwdGggLSAoc2xpY2Uub3BlblN0YXJ0IC0gc2xpY2Uub3BlbkVuZCkpXG4gIGlmICghcGFyZW50LmlzVGV4dGJsb2NrKSByZXR1cm4gZmFsc2VcbiAgZm9yIChsZXQgaSA9ICR0by5pbmRleCgpOyBpIDwgJHRvLnBhcmVudC5jaGlsZENvdW50OyBpKyspXG4gICAgaWYgKCFwYXJlbnQudHlwZS5hbGxvd3NNYXJrcygkdG8ucGFyZW50LmNoaWxkKGkpLm1hcmtzKSkgcmV0dXJuIGZhbHNlXG4gIGxldCBtYXRjaFxuICBpZiAoc2xpY2Uub3BlbkVuZCkge1xuICAgIG1hdGNoID0gcGFyZW50LmNvbnRlbnRNYXRjaEF0KHBhcmVudC5jaGlsZENvdW50KVxuICB9IGVsc2Uge1xuICAgIG1hdGNoID0gcGFyZW50LmNvbnRlbnRNYXRjaEF0KHBhcmVudC5jaGlsZENvdW50KVxuICAgIGlmIChzbGljZS5zaXplKSBtYXRjaCA9IG1hdGNoLm1hdGNoRnJhZ21lbnQoc2xpY2UuY29udGVudCwgc2xpY2Uub3BlblN0YXJ0ID8gMSA6IDApXG4gIH1cbiAgbWF0Y2ggPSBtYXRjaC5tYXRjaEZyYWdtZW50KCR0by5wYXJlbnQuY29udGVudCwgJHRvLmluZGV4KCkpXG4gIHJldHVybiBtYXRjaCAmJiBtYXRjaC52YWxpZEVuZFxufVxuXG5mdW5jdGlvbiBub2RlUmlnaHQoY29udGVudCwgZGVwdGgpIHtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBkZXB0aDsgaSsrKSBjb250ZW50ID0gY29udGVudC5sYXN0Q2hpbGQuY29udGVudFxuICByZXR1cm4gY29udGVudC5sYXN0Q2hpbGRcbn1cblxuLy8gQWxnb3JpdGhtIGZvciAncGxhY2luZycgdGhlIGVsZW1lbnRzIG9mIGEgc2xpY2UgaW50byBhIGdhcDpcbi8vXG4vLyBXZSBjb25zaWRlciB0aGUgY29udGVudCBvZiBlYWNoIG5vZGUgdGhhdCBpcyBvcGVuIHRvIHRoZSBsZWZ0IHRvIGJlXG4vLyBpbmRlcGVuZGVudGx5IHBsYWNlYWJsZS4gSS5lLiBpbiA8cChcImZvb1wiKSwgcChcImJhclwiKT4sIHdoZW4gdGhlXG4vLyBwYXJhZ3JhcGggb24gdGhlIGxlZnQgaXMgb3BlbiwgXCJmb29cIiBjYW4gYmUgcGxhY2VkIChzb21ld2hlcmUgb25cbi8vIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIHJlcGxhY2VtZW50IGdhcCkgaW5kZXBlbmRlbnRseSBmcm9tIHAoXCJiYXJcIikuXG4vL1xuLy8gU28gcGxhY2VTbGljZSBzcGxpdHMgdXAgYSBzbGljZSBpbnRvIGEgbnVtYmVyIG9mIHN1Yi1zbGljZXMsXG4vLyBhbG9uZyB3aXRoIGluZm9ybWF0aW9uIG9uIHdoZXJlIHRoZXkgY2FuIGJlIHBsYWNlZCBvbiB0aGUgZ2l2ZW5cbi8vIGxlZnQtc2lkZSBlZGdlLiBJdCB3b3JrcyBieSB3YWxraW5nIHRoZSBvcGVuIHNpZGUgb2YgdGhlIHNsaWNlLFxuLy8gZnJvbSB0aGUgaW5zaWRlIG91dCwgYW5kIHRyeWluZyB0byBmaW5kIGEgbGFuZGluZyBzcG90IGZvciBlYWNoXG4vLyBlbGVtZW50LCBieSBzaW11bHRhbmVvdXNseSBzY2FubmluZyBvdmVyIHRoZSBnYXAgc2lkZS4gV2hlbiBub1xuLy8gcGxhY2UgaXMgZm91bmQgZm9yIGFuIG9wZW4gbm9kZSdzIGNvbnRlbnQsIGl0IGlzIGxlZnQgaW4gdGhhdCBub2RlLlxuXG4vLyA6IChSZXNvbHZlZFBvcywgU2xpY2UpIOKGkiBbe2NvbnRlbnQ6IEZyYWdtZW50LCBvcGVuRW5kOiBudW1iZXIsIGRlcHRoOiBudW1iZXJ9XVxuZnVuY3Rpb24gcGxhY2VTbGljZSgkZnJvbSwgc2xpY2UpIHtcbiAgbGV0IGZyb250aWVyID0gbmV3IEZyb250aWVyKCRmcm9tKVxuICBmb3IgKGxldCBwYXNzID0gMTsgc2xpY2Uuc2l6ZSAmJiBwYXNzIDw9IDM7IHBhc3MrKykge1xuICAgIGxldCB2YWx1ZSA9IGZyb250aWVyLnBsYWNlU2xpY2Uoc2xpY2UuY29udGVudCwgc2xpY2Uub3BlblN0YXJ0LCBzbGljZS5vcGVuRW5kLCBwYXNzKVxuICAgIGlmIChwYXNzID09IDMgJiYgdmFsdWUgIT0gc2xpY2UgJiYgdmFsdWUuc2l6ZSkgcGFzcyA9IDAgLy8gUmVzdGFydCBpZiB0aGUgM3JkIHBhc3MgbWFkZSBwcm9ncmVzcyBidXQgbGVmdCBjb250ZW50XG4gICAgc2xpY2UgPSB2YWx1ZVxuICB9XG4gIHdoaWxlIChmcm9udGllci5vcGVuLmxlbmd0aCkgZnJvbnRpZXIuY2xvc2VOb2RlKClcbiAgcmV0dXJuIGZyb250aWVyLnBsYWNlZFxufVxuXG4vLyBIZWxwZXIgY2xhc3MgdGhhdCBtb2RlbHMgdGhlIG9wZW4gc2lkZSBvZiB0aGUgaW5zZXJ0IHBvc2l0aW9uLFxuLy8ga2VlcGluZyB0cmFjayBvZiB0aGUgY29udGVudCBtYXRjaCBhbmQgYWxyZWFkeSBpbnNlcnRlZCBjb250ZW50XG4vLyBhdCBlYWNoIGRlcHRoLlxuY2xhc3MgRnJvbnRpZXIge1xuICBjb25zdHJ1Y3RvcigkcG9zKSB7XG4gICAgLy8gOiBbe3BhcmVudDogTm9kZSwgbWF0Y2g6IENvbnRlbnRNYXRjaCwgY29udGVudDogRnJhZ21lbnQsIHdyYXBwZXI6IGJvb2wsIG9wZW5FbmQ6IG51bWJlciwgZGVwdGg6IG51bWJlcn1dXG4gICAgdGhpcy5vcGVuID0gW11cbiAgICBmb3IgKGxldCBkID0gMDsgZCA8PSAkcG9zLmRlcHRoOyBkKyspIHtcbiAgICAgIGxldCBwYXJlbnQgPSAkcG9zLm5vZGUoZCksIG1hdGNoID0gcGFyZW50LmNvbnRlbnRNYXRjaEF0KCRwb3MuaW5kZXhBZnRlcihkKSlcbiAgICAgIHRoaXMub3Blbi5wdXNoKHtwYXJlbnQsIG1hdGNoLCBjb250ZW50OiBGcmFnbWVudC5lbXB0eSwgd3JhcHBlcjogZmFsc2UsIG9wZW5FbmQ6IDAsIGRlcHRoOiBkfSlcbiAgICB9XG4gICAgdGhpcy5wbGFjZWQgPSBbXVxuICB9XG5cbiAgLy8gOiAoRnJhZ21lbnQsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsID9Ob2RlKSDihpIgU2xpY2VcbiAgLy8gVHJpZXMgdG8gcGxhY2UgdGhlIGNvbnRlbnQgb2YgdGhlIGdpdmVuIHNsaWNlLCBhbmQgcmV0dXJucyBhXG4gIC8vIHNsaWNlIGNvbnRhaW5pbmcgdW5wbGFjZWQgY29udGVudC5cbiAgLy9cbiAgLy8gcGFzcyAxOiB0cnkgdG8gZml0IGRpcmVjdGx5XG4gIC8vIHBhc3MgMjogYWxsb3cgd3JhcHBlciBub2RlcyB0byBiZSBpbnRyb2R1Y2VkXG4gIC8vIHBhc3MgMzogYWxsb3cgdW53cmFwcGluZyBvZiBub2RlcyB0aGF0IGFyZW4ndCBvcGVuXG4gIHBsYWNlU2xpY2UoZnJhZ21lbnQsIG9wZW5TdGFydCwgb3BlbkVuZCwgcGFzcywgcGFyZW50KSB7XG4gICAgaWYgKG9wZW5TdGFydCA+IDApIHtcbiAgICAgIGxldCBmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGRcbiAgICAgIGxldCBpbm5lciA9IHRoaXMucGxhY2VTbGljZShmaXJzdC5jb250ZW50LCBNYXRoLm1heCgwLCBvcGVuU3RhcnQgLSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuRW5kICYmIGZyYWdtZW50LmNoaWxkQ291bnQgPT0gMSA/IG9wZW5FbmQgLSAxIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzLCBmaXJzdClcbiAgICAgIGlmIChpbm5lci5jb250ZW50ICE9IGZpcnN0LmNvbnRlbnQpIHtcbiAgICAgICAgaWYgKGlubmVyLmNvbnRlbnQuc2l6ZSkge1xuICAgICAgICAgIGZyYWdtZW50ID0gZnJhZ21lbnQucmVwbGFjZUNoaWxkKDAsIGZpcnN0LmNvcHkoaW5uZXIuY29udGVudCkpXG4gICAgICAgICAgb3BlblN0YXJ0ID0gaW5uZXIub3BlblN0YXJ0ICsgMVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChmcmFnbWVudC5jaGlsZENvdW50ID09IDEpIG9wZW5FbmQgPSAwXG4gICAgICAgICAgZnJhZ21lbnQgPSBmcmFnbWVudC5jdXRCeUluZGV4KDEpXG4gICAgICAgICAgb3BlblN0YXJ0ID0gMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSB0aGlzLnBsYWNlQ29udGVudChmcmFnbWVudCwgb3BlblN0YXJ0LCBvcGVuRW5kLCBwYXNzLCBwYXJlbnQpXG4gICAgaWYgKHBhc3MgPiAyICYmIHJlc3VsdC5zaXplICYmIG9wZW5TdGFydCA9PSAwKSB7XG4gICAgICBsZXQgY2hpbGQgPSByZXN1bHQuY29udGVudC5maXJzdENoaWxkLCBzaW5nbGUgPSByZXN1bHQuY29udGVudC5jaGlsZENvdW50ID09IDFcbiAgICAgIHRoaXMucGxhY2VDb250ZW50KGNoaWxkLmNvbnRlbnQsIDAsIG9wZW5FbmQgJiYgc2luZ2xlID8gb3BlbkVuZCAtIDEgOiAwLCBwYXNzLCBjaGlsZClcbiAgICAgIHJlc3VsdCA9IHNpbmdsZSA/IEZyYWdtZW50LmVtcHR5IDogbmV3IFNsaWNlKHJlc3VsdC5jb250ZW50LmN1dEJ5SW5kZXgoMSksIDAsIG9wZW5FbmQpXG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHBsYWNlQ29udGVudChmcmFnbWVudCwgb3BlblN0YXJ0LCBvcGVuRW5kLCBwYXNzLCBwYXJlbnQpIHtcbiAgICBsZXQgaSA9IDBcbiAgICAvLyBHbyBvdmVyIHRoZSBmcmFnbWVudCdzIGNoaWxkcmVuXG4gICAgZm9yICg7IGkgPCBmcmFnbWVudC5jaGlsZENvdW50OyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IGZyYWdtZW50LmNoaWxkKGkpLCBwbGFjZWQgPSBmYWxzZSwgbGFzdCA9IGkgPT0gZnJhZ21lbnQuY2hpbGRDb3VudCAtIDFcbiAgICAgIC8vIFRyeSBlYWNoIG9wZW4gbm9kZSBpbiB0dXJuLCBzdGFydGluZyBmcm9tIHRoZSBpbm5lcm1vc3RcbiAgICAgIGZvciAobGV0IGQgPSB0aGlzLm9wZW4ubGVuZ3RoIC0gMTsgZCA+PSAwOyBkLS0pIHtcbiAgICAgICAgbGV0IG9wZW4gPSB0aGlzLm9wZW5bZF0sIHdyYXBcblxuICAgICAgICAvLyBJZiBwYXNzID4gMSwgaXQgaXMgYWxsb3dlZCB0byB3cmFwIHRoZSBub2RlIHRvIGhlbHAgZmluZCBhXG4gICAgICAgIC8vIGZpdCwgc28gaWYgZmluZFdyYXBwaW5nIHJldHVybnMgc29tZXRoaW5nLCB3ZSBhZGQgb3BlblxuICAgICAgICAvLyBub2RlcyB0byB0aGUgZnJvbnRpZXIgZm9yIHRoYXQgd3JhcHBpbmcuXG4gICAgICAgIGlmIChwYXNzID4gMSAmJiAod3JhcCA9IG9wZW4ubWF0Y2guZmluZFdyYXBwaW5nKGNoaWxkLnR5cGUpKSAmJlxuICAgICAgICAgICAgIShwYXJlbnQgJiYgd3JhcC5sZW5ndGggJiYgd3JhcFt3cmFwLmxlbmd0aCAtIDFdID09IHBhcmVudC50eXBlKSkge1xuICAgICAgICAgIHdoaWxlICh0aGlzLm9wZW4ubGVuZ3RoIC0gMSA+IGQpIHRoaXMuY2xvc2VOb2RlKClcbiAgICAgICAgICBmb3IgKGxldCB3ID0gMDsgdyA8IHdyYXAubGVuZ3RoOyB3KyspIHtcbiAgICAgICAgICAgIG9wZW4ubWF0Y2ggPSBvcGVuLm1hdGNoLm1hdGNoVHlwZSh3cmFwW3ddKVxuICAgICAgICAgICAgZCsrXG4gICAgICAgICAgICBvcGVuID0ge3BhcmVudDogd3JhcFt3XS5jcmVhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2g6IHdyYXBbd10uY29udGVudE1hdGNoLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBGcmFnbWVudC5lbXB0eSwgd3JhcHBlcjogdHJ1ZSwgb3BlbkVuZDogMCwgZGVwdGg6IGQgKyB3fVxuICAgICAgICAgICAgdGhpcy5vcGVuLnB1c2gob3BlbilcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWUgaWYgdGhlIGNoaWxkIGZpdHMgaGVyZVxuICAgICAgICBsZXQgbWF0Y2ggPSBvcGVuLm1hdGNoLm1hdGNoVHlwZShjaGlsZC50eXBlKVxuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgbGV0IGZpbGwgPSBvcGVuLm1hdGNoLmZpbGxCZWZvcmUoRnJhZ21lbnQuZnJvbShjaGlsZCkpXG4gICAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZmlsbC5jaGlsZENvdW50OyBqKyspIHtcbiAgICAgICAgICAgICAgbGV0IGNoID0gZmlsbC5jaGlsZChqKVxuICAgICAgICAgICAgICB0aGlzLmFkZE5vZGUob3BlbiwgY2gsIDApXG4gICAgICAgICAgICAgIG1hdGNoID0gb3Blbi5tYXRjaC5tYXRjaEZyYWdtZW50KGNoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW50ICYmIG9wZW4ubWF0Y2gubWF0Y2hUeXBlKHBhcmVudC50eXBlKSkge1xuICAgICAgICAgICAgLy8gRG9uJ3QgY29udGludWUgbG9va2luZyBmdXJ0aGVyIHVwIGlmIHRoZSBwYXJlbnQgbm9kZVxuICAgICAgICAgICAgLy8gd291bGQgZml0IGhlcmUuXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsb3NlIG9wZW4gbm9kZXMgYWJvdmUgdGhpcyBvbmUsIHNpbmNlIHdlJ3JlIHN0YXJ0aW5nIHRvXG4gICAgICAgIC8vIGFkZCB0byB0aGlzLlxuICAgICAgICB3aGlsZSAodGhpcy5vcGVuLmxlbmd0aCAtIDEgPiBkKSB0aGlzLmNsb3NlTm9kZSgpXG4gICAgICAgIC8vIFN0cmlwIG1hcmtzIGZyb20gdGhlIGNoaWxkIG9yIGNsb3NlIGl0cyBzdGFydCB3aGVuIG5lY2Vzc2FyeVxuICAgICAgICBjaGlsZCA9IGNoaWxkLm1hcmsob3Blbi5wYXJlbnQudHlwZS5hbGxvd2VkTWFya3MoY2hpbGQubWFya3MpKVxuICAgICAgICBpZiAob3BlblN0YXJ0KSB7XG4gICAgICAgICAgY2hpbGQgPSBjbG9zZU5vZGVTdGFydChjaGlsZCwgb3BlblN0YXJ0LCBsYXN0ID8gb3BlbkVuZCA6IDApXG4gICAgICAgICAgb3BlblN0YXJ0ID0gMFxuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCB0aGUgY2hpbGQgdG8gdGhpcyBvcGVuIG5vZGUgYW5kIGFkanVzdCBpdHMgbWV0YWRhdGFcbiAgICAgICAgdGhpcy5hZGROb2RlKG9wZW4sIGNoaWxkLCBsYXN0ID8gb3BlbkVuZCA6IDApXG4gICAgICAgIG9wZW4ubWF0Y2ggPSBtYXRjaFxuICAgICAgICBpZiAobGFzdCkgb3BlbkVuZCA9IDBcbiAgICAgICAgcGxhY2VkID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgLy8gQXMgc29vbiBhcyB3ZSd2ZSBmYWlsZWQgdG8gcGxhY2UgYSBub2RlIHdlIHN0b3AgbG9va2luZyBhdFxuICAgICAgLy8gbGF0ZXIgbm9kZXNcbiAgICAgIGlmICghcGxhY2VkKSBicmVha1xuICAgIH1cbiAgICAvLyBDbG9zZSB0aGUgY3VycmVudCBvcGVuIG5vZGUgaWYgaXQncyBub3QgdGhlIHRoZSByb290IGFuZCB3ZVxuICAgIC8vIGVpdGhlciBwbGFjZWQgdXAgdG8gdGhlIGVuZCBvZiB0aGUgbm9kZSBvciB0aGUgdGhlIGN1cnJlbnRcbiAgICAvLyBzbGljZSBkZXB0aCdzIG5vZGUgdHlwZSBtYXRjaGVzIHRoZSBvcGVuIG5vZGUncyB0eXBlXG4gICAgaWYgKHRoaXMub3Blbi5sZW5ndGggPiAxICYmXG4gICAgICAgIChpID4gMCAmJiBpID09IGZyYWdtZW50LmNoaWxkQ291bnQgfHxcbiAgICAgICAgIHBhcmVudCAmJiB0aGlzLm9wZW5bdGhpcy5vcGVuLmxlbmd0aCAtIDFdLnBhcmVudC50eXBlID09IHBhcmVudC50eXBlKSlcbiAgICAgIHRoaXMuY2xvc2VOb2RlKClcblxuICAgIHJldHVybiBuZXcgU2xpY2UoZnJhZ21lbnQuY3V0QnlJbmRleChpKSwgb3BlblN0YXJ0LCBvcGVuRW5kKVxuICB9XG5cbiAgYWRkTm9kZShvcGVuLCBub2RlLCBvcGVuRW5kKSB7XG4gICAgb3Blbi5jb250ZW50ID0gY2xvc2VGcmFnbWVudEVuZChvcGVuLmNvbnRlbnQsIG9wZW4ub3BlbkVuZCkuYWRkVG9FbmQobm9kZSlcbiAgICBvcGVuLm9wZW5FbmQgPSBvcGVuRW5kXG4gIH1cblxuICBjbG9zZU5vZGUoKSB7XG4gICAgbGV0IG9wZW4gPSB0aGlzLm9wZW4ucG9wKClcbiAgICBpZiAob3Blbi5jb250ZW50LnNpemUgPT0gMCkge1xuICAgICAgLy8gTm90aGluZyBoZXJlXG4gICAgfSBlbHNlIGlmIChvcGVuLndyYXBwZXIpIHtcbiAgICAgIHRoaXMuYWRkTm9kZSh0aGlzLm9wZW5bdGhpcy5vcGVuLmxlbmd0aCAtIDFdLCBvcGVuLnBhcmVudC5jb3B5KG9wZW4uY29udGVudCksIG9wZW4ub3BlbkVuZCArIDEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGxhY2VkW29wZW4uZGVwdGhdID0ge2RlcHRoOiBvcGVuLmRlcHRoLCBjb250ZW50OiBvcGVuLmNvbnRlbnQsIG9wZW5FbmQ6IG9wZW4ub3BlbkVuZH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvc2VOb2RlU3RhcnQobm9kZSwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gIGxldCBjb250ZW50ID0gbm9kZS5jb250ZW50XG4gIGlmIChvcGVuU3RhcnQgPiAxKSB7XG4gICAgbGV0IGZpcnN0ID0gY2xvc2VOb2RlU3RhcnQobm9kZS5maXJzdENoaWxkLCBvcGVuU3RhcnQgLSAxLCBub2RlLmNoaWxkQ291bnQgPT0gMSA/IG9wZW5FbmQgLSAxIDogMClcbiAgICBjb250ZW50ID0gbm9kZS5jb250ZW50LnJlcGxhY2VDaGlsZCgwLCBmaXJzdClcbiAgfVxuICBsZXQgZmlsbCA9IG5vZGUudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShjb250ZW50LCBvcGVuRW5kID09IDApXG4gIHJldHVybiBub2RlLmNvcHkoZmlsbC5hcHBlbmQoY29udGVudCkpXG59XG5cbmZ1bmN0aW9uIGNsb3NlTm9kZUVuZChub2RlLCBkZXB0aCkge1xuICBsZXQgY29udGVudCA9IG5vZGUuY29udGVudFxuICBpZiAoZGVwdGggPiAxKSB7XG4gICAgbGV0IGxhc3QgPSBjbG9zZU5vZGVFbmQobm9kZS5sYXN0Q2hpbGQsIGRlcHRoIC0gMSlcbiAgICBjb250ZW50ID0gbm9kZS5jb250ZW50LnJlcGxhY2VDaGlsZChub2RlLmNoaWxkQ291bnQgLSAxLCBsYXN0KVxuICB9XG4gIGxldCBmaWxsID0gbm9kZS5jb250ZW50TWF0Y2hBdChub2RlLmNoaWxkQ291bnQpLmZpbGxCZWZvcmUoRnJhZ21lbnQuZW1wdHksIHRydWUpXG4gIHJldHVybiBub2RlLmNvcHkoY29udGVudC5hcHBlbmQoZmlsbCkpXG59XG5cbmZ1bmN0aW9uIGNsb3NlRnJhZ21lbnRFbmQoZnJhZ21lbnQsIGRlcHRoKSB7XG4gIHJldHVybiBkZXB0aCA/IGZyYWdtZW50LnJlcGxhY2VDaGlsZChmcmFnbWVudC5jaGlsZENvdW50IC0gMSwgY2xvc2VOb2RlRW5kKGZyYWdtZW50Lmxhc3RDaGlsZCwgZGVwdGgpKSA6IGZyYWdtZW50XG59XG5cbi8vIDo6IChudW1iZXIsIG51bWJlciwgU2xpY2UpIOKGkiB0aGlzXG4vLyBSZXBsYWNlIGEgcmFuZ2Ugb2YgdGhlIGRvY3VtZW50IHdpdGggYSBnaXZlbiBzbGljZSwgdXNpbmcgYGZyb21gLFxuLy8gYHRvYCwgYW5kIHRoZSBzbGljZSdzIFtgb3BlblN0YXJ0YF0oI21vZGVsLlNsaWNlLm9wZW5TdGFydCkgcHJvcGVydHlcbi8vIGFzIGhpbnRzLCByYXRoZXIgdGhhbiBmaXhlZCBzdGFydCBhbmQgZW5kIHBvaW50cy4gVGhpcyBtZXRob2QgbWF5XG4vLyBncm93IHRoZSByZXBsYWNlZCBhcmVhIG9yIGNsb3NlIG9wZW4gbm9kZXMgaW4gdGhlIHNsaWNlIGluIG9yZGVyIHRvXG4vLyBnZXQgYSBmaXQgdGhhdCBpcyBtb3JlIGluIGxpbmUgd2l0aCBXWVNJV1lHIGV4cGVjdGF0aW9ucywgYnlcbi8vIGRyb3BwaW5nIGZ1bGx5IGNvdmVyZWQgcGFyZW50IG5vZGVzIG9mIHRoZSByZXBsYWNlZCByZWdpb24gd2hlblxuLy8gdGhleSBhcmUgbWFya2VkIFtub24tZGVmaW5pbmddKCNtb2RlbC5Ob2RlU3BlYy5kZWZpbmluZyksIG9yXG4vLyBpbmNsdWRpbmcgYW4gb3BlbiBwYXJlbnQgbm9kZSBmcm9tIHRoZSBzbGljZSB0aGF0IF9pc18gbWFya2VkIGFzXG4vLyBbZGVmaW5pbmddKCNtb2RlbC5Ob2RlU3BlYy5kZWZpbmluZykuXG4vL1xuLy8gVGhpcyBpcyB0aGUgbWV0aG9kLCBmb3IgZXhhbXBsZSwgdG8gaGFuZGxlIHBhc3RlLiBUaGUgc2ltaWxhclxuLy8gW2ByZXBsYWNlYF0oI3RyYW5zZm9ybS5UcmFuc2Zvcm0ucmVwbGFjZSkgbWV0aG9kIGlzIGEgbW9yZVxuLy8gcHJpbWl0aXZlIHRvb2wgd2hpY2ggd2lsbCBfbm90XyBtb3ZlIHRoZSBzdGFydCBhbmQgZW5kIG9mIGl0cyBnaXZlblxuLy8gcmFuZ2UsIGFuZCBpcyB1c2VmdWwgaW4gc2l0dWF0aW9ucyB3aGVyZSB5b3UgbmVlZCBtb3JlIHByZWNpc2Vcbi8vIGNvbnRyb2wgb3ZlciB3aGF0IGhhcHBlbnMuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnJlcGxhY2VSYW5nZSA9IGZ1bmN0aW9uKGZyb20sIHRvLCBzbGljZSkge1xuICBpZiAoIXNsaWNlLnNpemUpIHJldHVybiB0aGlzLmRlbGV0ZVJhbmdlKGZyb20sIHRvKVxuXG4gIGxldCAkZnJvbSA9IHRoaXMuZG9jLnJlc29sdmUoZnJvbSksICR0byA9IHRoaXMuZG9jLnJlc29sdmUodG8pXG4gIGlmIChmaXRzVHJpdmlhbGx5KCRmcm9tLCAkdG8sIHNsaWNlKSlcbiAgICByZXR1cm4gdGhpcy5zdGVwKG5ldyBSZXBsYWNlU3RlcChmcm9tLCB0bywgc2xpY2UpKVxuXG4gIGxldCB0YXJnZXREZXB0aHMgPSBjb3ZlcmVkRGVwdGhzKCRmcm9tLCB0aGlzLmRvYy5yZXNvbHZlKHRvKSlcbiAgLy8gQ2FuJ3QgcmVwbGFjZSB0aGUgd2hvbGUgZG9jdW1lbnQsIHNvIHJlbW92ZSAwIGlmIGl0J3MgcHJlc2VudFxuICBpZiAodGFyZ2V0RGVwdGhzW3RhcmdldERlcHRocy5sZW5ndGggLSAxXSA9PSAwKSB0YXJnZXREZXB0aHMucG9wKClcbiAgLy8gTmVnYXRpdmUgbnVtYmVycyByZXByZXNlbnQgbm90IGV4cGFuc2lvbiBvdmVyIHRoZSB3aG9sZSBub2RlIGF0XG4gIC8vIHRoYXQgZGVwdGgsIGJ1dCByZXBsYWNpbmcgZnJvbSAkZnJvbS5iZWZvcmUoLUQpIHRvICR0by5wb3MuXG4gIGxldCBwcmVmZXJyZWRUYXJnZXQgPSAtKCRmcm9tLmRlcHRoICsgMSlcbiAgdGFyZ2V0RGVwdGhzLnVuc2hpZnQocHJlZmVycmVkVGFyZ2V0KVxuICAvLyBUaGlzIGxvb3AgcGlja3MgYSBwcmVmZXJyZWQgdGFyZ2V0IGRlcHRoLCBpZiBvbmUgb2YgdGhlIGNvdmVyaW5nXG4gIC8vIGRlcHRocyBpcyBub3Qgb3V0c2lkZSBvZiBhIGRlZmluaW5nIG5vZGUsIGFuZCBhZGRzIG5lZ2F0aXZlXG4gIC8vIGRlcHRocyBmb3IgYW55IGRlcHRoIHRoYXQgaGFzICRmcm9tIGF0IGl0cyBzdGFydCBhbmQgZG9lcyBub3RcbiAgLy8gY3Jvc3MgYSBkZWZpbmluZyBub2RlLlxuICBmb3IgKGxldCBkID0gJGZyb20uZGVwdGgsIHBvcyA9ICRmcm9tLnBvcyAtIDE7IGQgPiAwOyBkLS0sIHBvcy0tKSB7XG4gICAgbGV0IHNwZWMgPSAkZnJvbS5ub2RlKGQpLnR5cGUuc3BlY1xuICAgIGlmIChzcGVjLmRlZmluaW5nIHx8IHNwZWMuaXNvbGF0aW5nKSBicmVha1xuICAgIGlmICh0YXJnZXREZXB0aHMuaW5kZXhPZihkKSA+IC0xKSBwcmVmZXJyZWRUYXJnZXQgPSBkXG4gICAgZWxzZSBpZiAoJGZyb20uYmVmb3JlKGQpID09IHBvcykgdGFyZ2V0RGVwdGhzLnNwbGljZSgxLCAwLCAtZClcbiAgfVxuICAvLyBUcnkgdG8gZml0IGVhY2ggcG9zc2libGUgZGVwdGggb2YgdGhlIHNsaWNlIGludG8gZWFjaCBwb3NzaWJsZVxuICAvLyB0YXJnZXQgZGVwdGgsIHN0YXJ0aW5nIHdpdGggdGhlIHByZWZlcnJlZCBkZXB0aHMuXG4gIGxldCBwcmVmZXJyZWRUYXJnZXRJbmRleCA9IHRhcmdldERlcHRocy5pbmRleE9mKHByZWZlcnJlZFRhcmdldClcblxuICBsZXQgbGVmdE5vZGVzID0gW10sIHByZWZlcnJlZERlcHRoID0gc2xpY2Uub3BlblN0YXJ0XG4gIGZvciAobGV0IGNvbnRlbnQgPSBzbGljZS5jb250ZW50LCBpID0gMDs7IGkrKykge1xuICAgIGxldCBub2RlID0gY29udGVudC5maXJzdENoaWxkXG4gICAgbGVmdE5vZGVzLnB1c2gobm9kZSlcbiAgICBpZiAoaSA9PSBzbGljZS5vcGVuU3RhcnQpIGJyZWFrXG4gICAgY29udGVudCA9IG5vZGUuY29udGVudFxuICB9XG4gIC8vIEJhY2sgdXAgaWYgdGhlIG5vZGUgZGlyZWN0bHkgYWJvdmUgb3BlblN0YXJ0LCBvciB0aGUgbm9kZSBhYm92ZVxuICAvLyB0aGF0IHNlcGFyYXRlZCBvbmx5IGJ5IGEgbm9uLWRlZmluaW5nIHRleHRibG9jayBub2RlLCBpcyBkZWZpbmluZy5cbiAgaWYgKHByZWZlcnJlZERlcHRoID4gMCAmJiBsZWZ0Tm9kZXNbcHJlZmVycmVkRGVwdGggLSAxXS50eXBlLnNwZWMuZGVmaW5pbmcgJiZcbiAgICAgICRmcm9tLm5vZGUocHJlZmVycmVkVGFyZ2V0SW5kZXgpLnR5cGUgIT0gbGVmdE5vZGVzW3ByZWZlcnJlZERlcHRoIC0gMV0udHlwZSlcbiAgICBwcmVmZXJyZWREZXB0aCAtPSAxXG4gIGVsc2UgaWYgKHByZWZlcnJlZERlcHRoID49IDIgJiYgbGVmdE5vZGVzW3ByZWZlcnJlZERlcHRoIC0gMV0uaXNUZXh0YmxvY2sgJiYgbGVmdE5vZGVzW3ByZWZlcnJlZERlcHRoIC0gMl0udHlwZS5zcGVjLmRlZmluaW5nICYmXG4gICAgICAgICAgICRmcm9tLm5vZGUocHJlZmVycmVkVGFyZ2V0SW5kZXgpLnR5cGUgIT0gbGVmdE5vZGVzW3ByZWZlcnJlZERlcHRoIC0gMl0udHlwZSlcbiAgICBwcmVmZXJyZWREZXB0aCAtPSAyXG5cbiAgZm9yIChsZXQgaiA9IHNsaWNlLm9wZW5TdGFydDsgaiA+PSAwOyBqLS0pIHtcbiAgICBsZXQgb3BlbkRlcHRoID0gKGogKyBwcmVmZXJyZWREZXB0aCArIDEpICUgKHNsaWNlLm9wZW5TdGFydCArIDEpXG4gICAgbGV0IGluc2VydCA9IGxlZnROb2Rlc1tvcGVuRGVwdGhdXG4gICAgaWYgKCFpbnNlcnQpIGNvbnRpbnVlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXJnZXREZXB0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIExvb3Agb3ZlciBwb3NzaWJsZSBleHBhbnNpb24gbGV2ZWxzLCBzdGFydGluZyB3aXRoIHRoZVxuICAgICAgLy8gcHJlZmVycmVkIG9uZVxuICAgICAgbGV0IHRhcmdldERlcHRoID0gdGFyZ2V0RGVwdGhzWyhpICsgcHJlZmVycmVkVGFyZ2V0SW5kZXgpICUgdGFyZ2V0RGVwdGhzLmxlbmd0aF0sIGV4cGFuZCA9IHRydWVcbiAgICAgIGlmICh0YXJnZXREZXB0aCA8IDApIHsgZXhwYW5kID0gZmFsc2U7IHRhcmdldERlcHRoID0gLXRhcmdldERlcHRoIH1cbiAgICAgIGxldCBwYXJlbnQgPSAkZnJvbS5ub2RlKHRhcmdldERlcHRoIC0gMSksIGluZGV4ID0gJGZyb20uaW5kZXgodGFyZ2V0RGVwdGggLSAxKVxuICAgICAgaWYgKHBhcmVudC5jYW5SZXBsYWNlV2l0aChpbmRleCwgaW5kZXgsIGluc2VydC50eXBlLCBpbnNlcnQubWFya3MpKVxuICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKCRmcm9tLmJlZm9yZSh0YXJnZXREZXB0aCksIGV4cGFuZCA/ICR0by5hZnRlcih0YXJnZXREZXB0aCkgOiB0byxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2xpY2UoY2xvc2VGcmFnbWVudChzbGljZS5jb250ZW50LCAwLCBzbGljZS5vcGVuU3RhcnQsIG9wZW5EZXB0aCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5EZXB0aCwgc2xpY2Uub3BlbkVuZCkpXG4gICAgfVxuICB9XG5cbiAgbGV0IHN0YXJ0U3RlcHMgPSB0aGlzLnN0ZXBzLmxlbmd0aFxuICBmb3IgKGxldCBpID0gdGFyZ2V0RGVwdGhzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdGhpcy5yZXBsYWNlKGZyb20sIHRvLCBzbGljZSlcbiAgICBpZiAodGhpcy5zdGVwcy5sZW5ndGggPiBzdGFydFN0ZXBzKSBicmVha1xuICAgIGxldCBkZXB0aCA9IHRhcmdldERlcHRoc1tpXVxuICAgIGlmIChpIDwgMCkgY29udGludWVcbiAgICBmcm9tID0gJGZyb20uYmVmb3JlKGRlcHRoKTsgdG8gPSAkdG8uYWZ0ZXIoZGVwdGgpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuZnVuY3Rpb24gY2xvc2VGcmFnbWVudChmcmFnbWVudCwgZGVwdGgsIG9sZE9wZW4sIG5ld09wZW4sIHBhcmVudCkge1xuICBpZiAoZGVwdGggPCBvbGRPcGVuKSB7XG4gICAgbGV0IGZpcnN0ID0gZnJhZ21lbnQuZmlyc3RDaGlsZFxuICAgIGZyYWdtZW50ID0gZnJhZ21lbnQucmVwbGFjZUNoaWxkKDAsIGZpcnN0LmNvcHkoY2xvc2VGcmFnbWVudChmaXJzdC5jb250ZW50LCBkZXB0aCArIDEsIG9sZE9wZW4sIG5ld09wZW4sIGZpcnN0KSkpXG4gIH1cbiAgaWYgKGRlcHRoID4gbmV3T3Blbikge1xuICAgIGxldCBtYXRjaCA9IHBhcmVudC5jb250ZW50TWF0Y2hBdCgwKVxuICAgIGxldCBzdGFydCA9IG1hdGNoLmZpbGxCZWZvcmUoZnJhZ21lbnQpLmFwcGVuZChmcmFnbWVudClcbiAgICBmcmFnbWVudCA9IHN0YXJ0LmFwcGVuZChtYXRjaC5tYXRjaEZyYWdtZW50KHN0YXJ0KS5maWxsQmVmb3JlKEZyYWdtZW50LmVtcHR5LCB0cnVlKSlcbiAgfVxuICByZXR1cm4gZnJhZ21lbnRcbn1cblxuLy8gOjogKG51bWJlciwgbnVtYmVyLCBOb2RlKSDihpIgdGhpc1xuLy8gUmVwbGFjZSB0aGUgZ2l2ZW4gcmFuZ2Ugd2l0aCBhIG5vZGUsIGJ1dCB1c2UgYGZyb21gIGFuZCBgdG9gIGFzXG4vLyBoaW50cywgcmF0aGVyIHRoYW4gcHJlY2lzZSBwb3NpdGlvbnMuIFdoZW4gZnJvbSBhbmQgdG8gYXJlIHRoZSBzYW1lXG4vLyBhbmQgYXJlIGF0IHRoZSBzdGFydCBvciBlbmQgb2YgYSBwYXJlbnQgbm9kZSBpbiB3aGljaCB0aGUgZ2l2ZW5cbi8vIG5vZGUgZG9lc24ndCBmaXQsIHRoaXMgbWV0aG9kIG1heSBfbW92ZV8gdGhlbSBvdXQgdG93YXJkcyBhIHBhcmVudFxuLy8gdGhhdCBkb2VzIGFsbG93IHRoZSBnaXZlbiBub2RlIHRvIGJlIHBsYWNlZC4gV2hlbiB0aGUgZ2l2ZW4gcmFuZ2Vcbi8vIGNvbXBsZXRlbHkgY292ZXJzIGEgcGFyZW50IG5vZGUsIHRoaXMgbWV0aG9kIG1heSBjb21wbGV0ZWx5IHJlcGxhY2Vcbi8vIHRoYXQgcGFyZW50IG5vZGUuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnJlcGxhY2VSYW5nZVdpdGggPSBmdW5jdGlvbihmcm9tLCB0bywgbm9kZSkge1xuICBpZiAoIW5vZGUuaXNJbmxpbmUgJiYgZnJvbSA9PSB0byAmJiB0aGlzLmRvYy5yZXNvbHZlKGZyb20pLnBhcmVudC5jb250ZW50LnNpemUpIHtcbiAgICBsZXQgcG9pbnQgPSBpbnNlcnRQb2ludCh0aGlzLmRvYywgZnJvbSwgbm9kZS50eXBlKVxuICAgIGlmIChwb2ludCAhPSBudWxsKSBmcm9tID0gdG8gPSBwb2ludFxuICB9XG4gIHJldHVybiB0aGlzLnJlcGxhY2VSYW5nZShmcm9tLCB0bywgbmV3IFNsaWNlKEZyYWdtZW50LmZyb20obm9kZSksIDAsIDApKVxufVxuXG4vLyA6OiAobnVtYmVyLCBudW1iZXIpIOKGkiB0aGlzXG4vLyBEZWxldGUgdGhlIGdpdmVuIHJhbmdlLCBleHBhbmRpbmcgaXQgdG8gY292ZXIgZnVsbHkgY292ZXJlZFxuLy8gcGFyZW50IG5vZGVzIHVudGlsIGEgdmFsaWQgcmVwbGFjZSBpcyBmb3VuZC5cblRyYW5zZm9ybS5wcm90b3R5cGUuZGVsZXRlUmFuZ2UgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICBsZXQgJGZyb20gPSB0aGlzLmRvYy5yZXNvbHZlKGZyb20pLCAkdG8gPSB0aGlzLmRvYy5yZXNvbHZlKHRvKVxuICBsZXQgY292ZXJlZCA9IGNvdmVyZWREZXB0aHMoJGZyb20sICR0bylcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3ZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGRlcHRoID0gY292ZXJlZFtpXSwgbGFzdCA9IGkgPT0gY292ZXJlZC5sZW5ndGggLSAxXG4gICAgaWYgKChsYXN0ICYmIGRlcHRoID09IDApIHx8ICRmcm9tLm5vZGUoZGVwdGgpLnR5cGUuY29udGVudE1hdGNoLnZhbGlkRW5kKVxuICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKCRmcm9tLnN0YXJ0KGRlcHRoKSwgJHRvLmVuZChkZXB0aCkpXG4gICAgaWYgKGRlcHRoID4gMCAmJiAobGFzdCB8fCAkZnJvbS5ub2RlKGRlcHRoIC0gMSkuY2FuUmVwbGFjZSgkZnJvbS5pbmRleChkZXB0aCAtIDEpLCAkdG8uaW5kZXhBZnRlcihkZXB0aCAtIDEpKSkpXG4gICAgICByZXR1cm4gdGhpcy5kZWxldGUoJGZyb20uYmVmb3JlKGRlcHRoKSwgJHRvLmFmdGVyKGRlcHRoKSlcbiAgfVxuICBmb3IgKGxldCBkID0gMTsgZCA8PSAkZnJvbS5kZXB0aCAmJiBkIDw9ICR0by5kZXB0aDsgZCsrKSB7XG4gICAgaWYgKGZyb20gLSAkZnJvbS5zdGFydChkKSA9PSAkZnJvbS5kZXB0aCAtIGQgJiYgdG8gPiAkZnJvbS5lbmQoZCkgJiYgJHRvLmVuZChkKSAtIHRvICE9ICR0by5kZXB0aCAtIGQpXG4gICAgICByZXR1cm4gdGhpcy5kZWxldGUoJGZyb20uYmVmb3JlKGQpLCB0bylcbiAgfVxuICByZXR1cm4gdGhpcy5kZWxldGUoZnJvbSwgdG8pXG59XG5cbi8vIDogKFJlc29sdmVkUG9zLCBSZXNvbHZlZFBvcykg4oaSIFtudW1iZXJdXG4vLyBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCBkZXB0aHMgZm9yIHdoaWNoICRmcm9tIC0gJHRvIHNwYW5zIHRoZVxuLy8gd2hvbGUgY29udGVudCBvZiB0aGUgbm9kZXMgYXQgdGhhdCBkZXB0aC5cbmZ1bmN0aW9uIGNvdmVyZWREZXB0aHMoJGZyb20sICR0bykge1xuICBsZXQgcmVzdWx0ID0gW10sIG1pbkRlcHRoID0gTWF0aC5taW4oJGZyb20uZGVwdGgsICR0by5kZXB0aClcbiAgZm9yIChsZXQgZCA9IG1pbkRlcHRoOyBkID49IDA7IGQtLSkge1xuICAgIGxldCBzdGFydCA9ICRmcm9tLnN0YXJ0KGQpXG4gICAgaWYgKHN0YXJ0IDwgJGZyb20ucG9zIC0gKCRmcm9tLmRlcHRoIC0gZCkgfHxcbiAgICAgICAgJHRvLmVuZChkKSA+ICR0by5wb3MgKyAoJHRvLmRlcHRoIC0gZCkgfHxcbiAgICAgICAgJGZyb20ubm9kZShkKS50eXBlLnNwZWMuaXNvbGF0aW5nIHx8XG4gICAgICAgICR0by5ub2RlKGQpLnR5cGUuc3BlYy5pc29sYXRpbmcpIGJyZWFrXG4gICAgaWYgKHN0YXJ0ID09ICR0by5zdGFydChkKSkgcmVzdWx0LnB1c2goZClcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG4iLCJpbXBvcnQge01hcmt9IGZyb20gXCIuL21hcmtcIlxuXG4vLyA6Oi0gWW91IGNhbiBbX3Jlc29sdmVfXSgjbW9kZWwuTm9kZS5yZXNvbHZlKSBhIHBvc2l0aW9uIHRvIGdldCBtb3JlXG4vLyBpbmZvcm1hdGlvbiBhYm91dCBpdC4gT2JqZWN0cyBvZiB0aGlzIGNsYXNzIHJlcHJlc2VudCBzdWNoIGFcbi8vIHJlc29sdmVkIHBvc2l0aW9uLCBwcm92aWRpbmcgdmFyaW91cyBwaWVjZXMgb2YgY29udGV4dCBpbmZvcm1hdGlvbixcbi8vIGFuZCBzb21lIGhlbHBlciBtZXRob2RzLlxuLy9cbi8vIFRocm91Z2hvdXQgdGhpcyBpbnRlcmZhY2UsIG1ldGhvZHMgdGhhdCB0YWtlIGFuIG9wdGlvbmFsIGBkZXB0aGBcbi8vIHBhcmFtZXRlciB3aWxsIGludGVycHJldCB1bmRlZmluZWQgYXMgYHRoaXMuZGVwdGhgIGFuZCBuZWdhdGl2ZVxuLy8gbnVtYmVycyBhcyBgdGhpcy5kZXB0aCArIHZhbHVlYC5cbmV4cG9ydCBjbGFzcyBSZXNvbHZlZFBvcyB7XG4gIGNvbnN0cnVjdG9yKHBvcywgcGF0aCwgcGFyZW50T2Zmc2V0KSB7XG4gICAgLy8gOjogbnVtYmVyIFRoZSBwb3NpdGlvbiB0aGF0IHdhcyByZXNvbHZlZC5cbiAgICB0aGlzLnBvcyA9IHBvc1xuICAgIHRoaXMucGF0aCA9IHBhdGhcbiAgICAvLyA6OiBudW1iZXJcbiAgICAvLyBUaGUgbnVtYmVyIG9mIGxldmVscyB0aGUgcGFyZW50IG5vZGUgaXMgZnJvbSB0aGUgcm9vdC4gSWYgdGhpc1xuICAgIC8vIHBvc2l0aW9uIHBvaW50cyBkaXJlY3RseSBpbnRvIHRoZSByb290IG5vZGUsIGl0IGlzIDAuIElmIGl0XG4gICAgLy8gcG9pbnRzIGludG8gYSB0b3AtbGV2ZWwgcGFyYWdyYXBoLCAxLCBhbmQgc28gb24uXG4gICAgdGhpcy5kZXB0aCA9IHBhdGgubGVuZ3RoIC8gMyAtIDFcbiAgICAvLyA6OiBudW1iZXIgVGhlIG9mZnNldCB0aGlzIHBvc2l0aW9uIGhhcyBpbnRvIGl0cyBwYXJlbnQgbm9kZS5cbiAgICB0aGlzLnBhcmVudE9mZnNldCA9IHBhcmVudE9mZnNldFxuICB9XG5cbiAgcmVzb2x2ZURlcHRoKHZhbCkge1xuICAgIGlmICh2YWwgPT0gbnVsbCkgcmV0dXJuIHRoaXMuZGVwdGhcbiAgICBpZiAodmFsIDwgMCkgcmV0dXJuIHRoaXMuZGVwdGggKyB2YWxcbiAgICByZXR1cm4gdmFsXG4gIH1cblxuICAvLyA6OiBOb2RlXG4gIC8vIFRoZSBwYXJlbnQgbm9kZSB0aGF0IHRoZSBwb3NpdGlvbiBwb2ludHMgaW50by4gTm90ZSB0aGF0IGV2ZW4gaWZcbiAgLy8gYSBwb3NpdGlvbiBwb2ludHMgaW50byBhIHRleHQgbm9kZSwgdGhhdCBub2RlIGlzIG5vdCBjb25zaWRlcmVkXG4gIC8vIHRoZSBwYXJlbnTigJR0ZXh0IG5vZGVzIGFyZSDigJhmbGF04oCZIGluIHRoaXMgbW9kZWwsIGFuZCBoYXZlIG5vIGNvbnRlbnQuXG4gIGdldCBwYXJlbnQoKSB7IHJldHVybiB0aGlzLm5vZGUodGhpcy5kZXB0aCkgfVxuXG4gIC8vIDo6IE5vZGVcbiAgLy8gVGhlIHJvb3Qgbm9kZSBpbiB3aGljaCB0aGUgcG9zaXRpb24gd2FzIHJlc29sdmVkLlxuICBnZXQgZG9jKCkgeyByZXR1cm4gdGhpcy5ub2RlKDApIH1cblxuICAvLyA6OiAoP251bWJlcikg4oaSIE5vZGVcbiAgLy8gVGhlIGFuY2VzdG9yIG5vZGUgYXQgdGhlIGdpdmVuIGxldmVsLiBgcC5ub2RlKHAuZGVwdGgpYCBpcyB0aGVcbiAgLy8gc2FtZSBhcyBgcC5wYXJlbnRgLlxuICBub2RlKGRlcHRoKSB7IHJldHVybiB0aGlzLnBhdGhbdGhpcy5yZXNvbHZlRGVwdGgoZGVwdGgpICogM10gfVxuXG4gIC8vIDo6ICg/bnVtYmVyKSDihpIgbnVtYmVyXG4gIC8vIFRoZSBpbmRleCBpbnRvIHRoZSBhbmNlc3RvciBhdCB0aGUgZ2l2ZW4gbGV2ZWwuIElmIHRoaXMgcG9pbnRzIGF0XG4gIC8vIHRoZSAzcmQgbm9kZSBpbiB0aGUgMm5kIHBhcmFncmFwaCBvbiB0aGUgdG9wIGxldmVsLCBmb3IgZXhhbXBsZSxcbiAgLy8gYHAuaW5kZXgoMClgIGlzIDEgYW5kIGBwLmluZGV4KDEpYCBpcyAyLlxuICBpbmRleChkZXB0aCkgeyByZXR1cm4gdGhpcy5wYXRoW3RoaXMucmVzb2x2ZURlcHRoKGRlcHRoKSAqIDMgKyAxXSB9XG5cbiAgLy8gOjogKD9udW1iZXIpIOKGkiBudW1iZXJcbiAgLy8gVGhlIGluZGV4IHBvaW50aW5nIGFmdGVyIHRoaXMgcG9zaXRpb24gaW50byB0aGUgYW5jZXN0b3IgYXQgdGhlXG4gIC8vIGdpdmVuIGxldmVsLlxuICBpbmRleEFmdGVyKGRlcHRoKSB7XG4gICAgZGVwdGggPSB0aGlzLnJlc29sdmVEZXB0aChkZXB0aClcbiAgICByZXR1cm4gdGhpcy5pbmRleChkZXB0aCkgKyAoZGVwdGggPT0gdGhpcy5kZXB0aCAmJiAhdGhpcy50ZXh0T2Zmc2V0ID8gMCA6IDEpXG4gIH1cblxuICAvLyA6OiAoP251bWJlcikg4oaSIG51bWJlclxuICAvLyBUaGUgKGFic29sdXRlKSBwb3NpdGlvbiBhdCB0aGUgc3RhcnQgb2YgdGhlIG5vZGUgYXQgdGhlIGdpdmVuXG4gIC8vIGxldmVsLlxuICBzdGFydChkZXB0aCkge1xuICAgIGRlcHRoID0gdGhpcy5yZXNvbHZlRGVwdGgoZGVwdGgpXG4gICAgcmV0dXJuIGRlcHRoID09IDAgPyAwIDogdGhpcy5wYXRoW2RlcHRoICogMyAtIDFdICsgMVxuICB9XG5cbiAgLy8gOjogKD9udW1iZXIpIOKGkiBudW1iZXJcbiAgLy8gVGhlIChhYnNvbHV0ZSkgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgbm9kZSBhdCB0aGUgZ2l2ZW5cbiAgLy8gbGV2ZWwuXG4gIGVuZChkZXB0aCkge1xuICAgIGRlcHRoID0gdGhpcy5yZXNvbHZlRGVwdGgoZGVwdGgpXG4gICAgcmV0dXJuIHRoaXMuc3RhcnQoZGVwdGgpICsgdGhpcy5ub2RlKGRlcHRoKS5jb250ZW50LnNpemVcbiAgfVxuXG4gIC8vIDo6ICg/bnVtYmVyKSDihpIgbnVtYmVyXG4gIC8vIFRoZSAoYWJzb2x1dGUpIHBvc2l0aW9uIGRpcmVjdGx5IGJlZm9yZSB0aGUgd3JhcHBpbmcgbm9kZSBhdCB0aGVcbiAgLy8gZ2l2ZW4gbGV2ZWwsIG9yLCB3aGVuIGBkZXB0aGAgaXMgYHRoaXMuZGVwdGggKyAxYCwgdGhlIG9yaWdpbmFsXG4gIC8vIHBvc2l0aW9uLlxuICBiZWZvcmUoZGVwdGgpIHtcbiAgICBkZXB0aCA9IHRoaXMucmVzb2x2ZURlcHRoKGRlcHRoKVxuICAgIGlmICghZGVwdGgpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlcmUgaXMgbm8gcG9zaXRpb24gYmVmb3JlIHRoZSB0b3AtbGV2ZWwgbm9kZVwiKVxuICAgIHJldHVybiBkZXB0aCA9PSB0aGlzLmRlcHRoICsgMSA/IHRoaXMucG9zIDogdGhpcy5wYXRoW2RlcHRoICogMyAtIDFdXG4gIH1cblxuICAvLyA6OiAoP251bWJlcikg4oaSIG51bWJlclxuICAvLyBUaGUgKGFic29sdXRlKSBwb3NpdGlvbiBkaXJlY3RseSBhZnRlciB0aGUgd3JhcHBpbmcgbm9kZSBhdCB0aGVcbiAgLy8gZ2l2ZW4gbGV2ZWwsIG9yIHRoZSBvcmlnaW5hbCBwb3NpdGlvbiB3aGVuIGBkZXB0aGAgaXMgYHRoaXMuZGVwdGggKyAxYC5cbiAgYWZ0ZXIoZGVwdGgpIHtcbiAgICBkZXB0aCA9IHRoaXMucmVzb2x2ZURlcHRoKGRlcHRoKVxuICAgIGlmICghZGVwdGgpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlcmUgaXMgbm8gcG9zaXRpb24gYWZ0ZXIgdGhlIHRvcC1sZXZlbCBub2RlXCIpXG4gICAgcmV0dXJuIGRlcHRoID09IHRoaXMuZGVwdGggKyAxID8gdGhpcy5wb3MgOiB0aGlzLnBhdGhbZGVwdGggKiAzIC0gMV0gKyB0aGlzLnBhdGhbZGVwdGggKiAzXS5ub2RlU2l6ZVxuICB9XG5cbiAgLy8gOjogbnVtYmVyXG4gIC8vIFdoZW4gdGhpcyBwb3NpdGlvbiBwb2ludHMgaW50byBhIHRleHQgbm9kZSwgdGhpcyByZXR1cm5zIHRoZVxuICAvLyBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBwb3NpdGlvbiBhbmQgdGhlIHN0YXJ0IG9mIHRoZSB0ZXh0IG5vZGUuXG4gIC8vIFdpbGwgYmUgemVybyBmb3IgcG9zaXRpb25zIHRoYXQgcG9pbnQgYmV0d2VlbiBub2Rlcy5cbiAgZ2V0IHRleHRPZmZzZXQoKSB7IHJldHVybiB0aGlzLnBvcyAtIHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV0gfVxuXG4gIC8vIDo6ID9Ob2RlXG4gIC8vIEdldCB0aGUgbm9kZSBkaXJlY3RseSBhZnRlciB0aGUgcG9zaXRpb24sIGlmIGFueS4gSWYgdGhlIHBvc2l0aW9uXG4gIC8vIHBvaW50cyBpbnRvIGEgdGV4dCBub2RlLCBvbmx5IHRoZSBwYXJ0IG9mIHRoYXQgbm9kZSBhZnRlciB0aGVcbiAgLy8gcG9zaXRpb24gaXMgcmV0dXJuZWQuXG4gIGdldCBub2RlQWZ0ZXIoKSB7XG4gICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50LCBpbmRleCA9IHRoaXMuaW5kZXgodGhpcy5kZXB0aClcbiAgICBpZiAoaW5kZXggPT0gcGFyZW50LmNoaWxkQ291bnQpIHJldHVybiBudWxsXG4gICAgbGV0IGRPZmYgPSB0aGlzLnBvcyAtIHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV0sIGNoaWxkID0gcGFyZW50LmNoaWxkKGluZGV4KVxuICAgIHJldHVybiBkT2ZmID8gcGFyZW50LmNoaWxkKGluZGV4KS5jdXQoZE9mZikgOiBjaGlsZFxuICB9XG5cbiAgLy8gOjogP05vZGVcbiAgLy8gR2V0IHRoZSBub2RlIGRpcmVjdGx5IGJlZm9yZSB0aGUgcG9zaXRpb24sIGlmIGFueS4gSWYgdGhlXG4gIC8vIHBvc2l0aW9uIHBvaW50cyBpbnRvIGEgdGV4dCBub2RlLCBvbmx5IHRoZSBwYXJ0IG9mIHRoYXQgbm9kZVxuICAvLyBiZWZvcmUgdGhlIHBvc2l0aW9uIGlzIHJldHVybmVkLlxuICBnZXQgbm9kZUJlZm9yZSgpIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzLmluZGV4KHRoaXMuZGVwdGgpXG4gICAgbGV0IGRPZmYgPSB0aGlzLnBvcyAtIHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV1cbiAgICBpZiAoZE9mZikgcmV0dXJuIHRoaXMucGFyZW50LmNoaWxkKGluZGV4KS5jdXQoMCwgZE9mZilcbiAgICByZXR1cm4gaW5kZXggPT0gMCA/IG51bGwgOiB0aGlzLnBhcmVudC5jaGlsZChpbmRleCAtIDEpXG4gIH1cblxuICAvLyA6OiAoKSDihpIgW01hcmtdXG4gIC8vIEdldCB0aGUgbWFya3MgYXQgdGhpcyBwb3NpdGlvbiwgZmFjdG9yaW5nIGluIHRoZSBzdXJyb3VuZGluZ1xuICAvLyBtYXJrcycgW2BpbmNsdXNpdmVgXSgjbW9kZWwuTWFya1NwZWMuaW5jbHVzaXZlKSBwcm9wZXJ0eS4gSWYgdGhlXG4gIC8vIHBvc2l0aW9uIGlzIGF0IHRoZSBzdGFydCBvZiBhIG5vbi1lbXB0eSBub2RlLCB0aGUgbWFya3Mgb2YgdGhlXG4gIC8vIG5vZGUgYWZ0ZXIgaXQgKGlmIGFueSkgYXJlIHJldHVybmVkLlxuICBtYXJrcygpIHtcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5wYXJlbnQsIGluZGV4ID0gdGhpcy5pbmRleCgpXG5cbiAgICAvLyBJbiBhbiBlbXB0eSBwYXJlbnQsIHJldHVybiB0aGUgZW1wdHkgYXJyYXlcbiAgICBpZiAocGFyZW50LmNvbnRlbnQuc2l6ZSA9PSAwKSByZXR1cm4gTWFyay5ub25lXG5cbiAgICAvLyBXaGVuIGluc2lkZSBhIHRleHQgbm9kZSwganVzdCByZXR1cm4gdGhlIHRleHQgbm9kZSdzIG1hcmtzXG4gICAgaWYgKHRoaXMudGV4dE9mZnNldCkgcmV0dXJuIHBhcmVudC5jaGlsZChpbmRleCkubWFya3NcblxuICAgIGxldCBtYWluID0gcGFyZW50Lm1heWJlQ2hpbGQoaW5kZXggLSAxKSwgb3RoZXIgPSBwYXJlbnQubWF5YmVDaGlsZChpbmRleClcbiAgICAvLyBJZiB0aGUgYGFmdGVyYCBmbGFnIGlzIHRydWUgb2YgdGhlcmUgaXMgbm8gbm9kZSBiZWZvcmUsIG1ha2VcbiAgICAvLyB0aGUgbm9kZSBhZnRlciB0aGlzIHBvc2l0aW9uIHRoZSBtYWluIHJlZmVyZW5jZS5cbiAgICBpZiAoIW1haW4pIHsgbGV0IHRtcCA9IG1haW47IG1haW4gPSBvdGhlcjsgb3RoZXIgPSB0bXAgfVxuXG4gICAgLy8gVXNlIGFsbCBtYXJrcyBpbiB0aGUgbWFpbiBub2RlLCBleGNlcHQgdGhvc2UgdGhhdCBoYXZlXG4gICAgLy8gYGluY2x1c2l2ZWAgc2V0IHRvIGZhbHNlIGFuZCBhcmUgbm90IHByZXNlbnQgaW4gdGhlIG90aGVyIG5vZGUuXG4gICAgbGV0IG1hcmtzID0gbWFpbi5tYXJrc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyBpKyspXG4gICAgICBpZiAobWFya3NbaV0udHlwZS5zcGVjLmluY2x1c2l2ZSA9PT0gZmFsc2UgJiYgKCFvdGhlciB8fCAhbWFya3NbaV0uaXNJblNldChvdGhlci5tYXJrcykpKVxuICAgICAgICBtYXJrcyA9IG1hcmtzW2ktLV0ucmVtb3ZlRnJvbVNldChtYXJrcylcblxuICAgIHJldHVybiBtYXJrc1xuICB9XG5cbiAgLy8gOjogKFJlc29sdmVkUG9zKSDihpIgP1tNYXJrXVxuICAvLyBHZXQgdGhlIG1hcmtzIGFmdGVyIHRoZSBjdXJyZW50IHBvc2l0aW9uLCBpZiBhbnksIGV4Y2VwdCB0aG9zZVxuICAvLyB0aGF0IGFyZSBub24taW5jbHVzaXZlIGFuZCBub3QgcHJlc2VudCBhdCBwb3NpdGlvbiBgJGVuZGAuIFRoaXNcbiAgLy8gaXMgbW9zdGx5IHVzZWZ1bCBmb3IgZ2V0dGluZyB0aGUgc2V0IG9mIG1hcmtzIHRvIHByZXNlcnZlIGFmdGVyIGFcbiAgLy8gZGVsZXRpb24uIFdpbGwgcmV0dXJuIGBudWxsYCBpZiB0aGlzIHBvc2l0aW9uIGlzIGF0IHRoZSBlbmQgb2ZcbiAgLy8gaXRzIHBhcmVudCBub2RlIG9yIGl0cyBwYXJlbnQgbm9kZSBpc24ndCBhIHRleHRibG9jayAoaW4gd2hpY2hcbiAgLy8gY2FzZSBubyBtYXJrcyBzaG91bGQgYmUgcHJlc2VydmVkKS5cbiAgbWFya3NBY3Jvc3MoJGVuZCkge1xuICAgIGxldCBhZnRlciA9IHRoaXMucGFyZW50Lm1heWJlQ2hpbGQodGhpcy5pbmRleCgpKVxuICAgIGlmICghYWZ0ZXIgfHwgIWFmdGVyLmlzSW5saW5lKSByZXR1cm4gbnVsbFxuXG4gICAgbGV0IG1hcmtzID0gYWZ0ZXIubWFya3MsIG5leHQgPSAkZW5kLnBhcmVudC5tYXliZUNoaWxkKCRlbmQuaW5kZXgoKSlcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtzLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKG1hcmtzW2ldLnR5cGUuc3BlYy5pbmNsdXNpdmUgPT09IGZhbHNlICYmICghbmV4dCB8fCAhbWFya3NbaV0uaXNJblNldChuZXh0Lm1hcmtzKSkpXG4gICAgICAgIG1hcmtzID0gbWFya3NbaS0tXS5yZW1vdmVGcm9tU2V0KG1hcmtzKVxuICAgIHJldHVybiBtYXJrc1xuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSIG51bWJlclxuICAvLyBUaGUgZGVwdGggdXAgdG8gd2hpY2ggdGhpcyBwb3NpdGlvbiBhbmQgdGhlIGdpdmVuIChub24tcmVzb2x2ZWQpXG4gIC8vIHBvc2l0aW9uIHNoYXJlIHRoZSBzYW1lIHBhcmVudCBub2Rlcy5cbiAgc2hhcmVkRGVwdGgocG9zKSB7XG4gICAgZm9yIChsZXQgZGVwdGggPSB0aGlzLmRlcHRoOyBkZXB0aCA+IDA7IGRlcHRoLS0pXG4gICAgICBpZiAodGhpcy5zdGFydChkZXB0aCkgPD0gcG9zICYmIHRoaXMuZW5kKGRlcHRoKSA+PSBwb3MpIHJldHVybiBkZXB0aFxuICAgIHJldHVybiAwXG4gIH1cblxuICAvLyA6OiAoP1Jlc29sdmVkUG9zLCA/KE5vZGUpIOKGkiBib29sKSDihpIgP05vZGVSYW5nZVxuICAvLyBSZXR1cm5zIGEgcmFuZ2UgYmFzZWQgb24gdGhlIHBsYWNlIHdoZXJlIHRoaXMgcG9zaXRpb24gYW5kIHRoZVxuICAvLyBnaXZlbiBwb3NpdGlvbiBkaXZlcmdlIGFyb3VuZCBibG9jayBjb250ZW50LiBJZiBib3RoIHBvaW50IGludG9cbiAgLy8gdGhlIHNhbWUgdGV4dGJsb2NrLCBmb3IgZXhhbXBsZSwgYSByYW5nZSBhcm91bmQgdGhhdCB0ZXh0YmxvY2tcbiAgLy8gd2lsbCBiZSByZXR1cm5lZC4gSWYgdGhleSBwb2ludCBpbnRvIGRpZmZlcmVudCBibG9ja3MsIHRoZSByYW5nZVxuICAvLyBhcm91bmQgdGhvc2UgYmxvY2tzIGluIHRoZWlyIHNoYXJlZCBhbmNlc3RvciBpcyByZXR1cm5lZC4gWW91IGNhblxuICAvLyBwYXNzIGluIGFuIG9wdGlvbmFsIHByZWRpY2F0ZSB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggYSBwYXJlbnRcbiAgLy8gbm9kZSB0byBzZWUgaWYgYSByYW5nZSBpbnRvIHRoYXQgcGFyZW50IGlzIGFjY2VwdGFibGUuXG4gIGJsb2NrUmFuZ2Uob3RoZXIgPSB0aGlzLCBwcmVkKSB7XG4gICAgaWYgKG90aGVyLnBvcyA8IHRoaXMucG9zKSByZXR1cm4gb3RoZXIuYmxvY2tSYW5nZSh0aGlzKVxuICAgIGZvciAobGV0IGQgPSB0aGlzLmRlcHRoIC0gKHRoaXMucGFyZW50LmlubGluZUNvbnRlbnQgfHwgdGhpcy5wb3MgPT0gb3RoZXIucG9zID8gMSA6IDApOyBkID49IDA7IGQtLSlcbiAgICAgIGlmIChvdGhlci5wb3MgPD0gdGhpcy5lbmQoZCkgJiYgKCFwcmVkIHx8IHByZWQodGhpcy5ub2RlKGQpKSkpXG4gICAgICAgIHJldHVybiBuZXcgTm9kZVJhbmdlKHRoaXMsIG90aGVyLCBkKVxuICB9XG5cbiAgLy8gOjogKFJlc29sdmVkUG9zKSDihpIgYm9vbFxuICAvLyBRdWVyeSB3aGV0aGVyIHRoZSBnaXZlbiBwb3NpdGlvbiBzaGFyZXMgdGhlIHNhbWUgcGFyZW50IG5vZGUuXG4gIHNhbWVQYXJlbnQob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5wb3MgLSB0aGlzLnBhcmVudE9mZnNldCA9PSBvdGhlci5wb3MgLSBvdGhlci5wYXJlbnRPZmZzZXRcbiAgfVxuXG4gIC8vIDo6IChSZXNvbHZlZFBvcykg4oaSIFJlc29sdmVkUG9zXG4gIC8vIFJldHVybiB0aGUgZ3JlYXRlciBvZiB0aGlzIGFuZCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gIG1heChvdGhlcikge1xuICAgIHJldHVybiBvdGhlci5wb3MgPiB0aGlzLnBvcyA/IG90aGVyIDogdGhpc1xuICB9XG5cbiAgLy8gOjogKFJlc29sdmVkUG9zKSDihpIgUmVzb2x2ZWRQb3NcbiAgLy8gUmV0dXJuIHRoZSBzbWFsbGVyIG9mIHRoaXMgYW5kIHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgbWluKG90aGVyKSB7XG4gICAgcmV0dXJuIG90aGVyLnBvcyA8IHRoaXMucG9zID8gb3RoZXIgOiB0aGlzXG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICBsZXQgc3RyID0gXCJcIlxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRoaXMuZGVwdGg7IGkrKylcbiAgICAgIHN0ciArPSAoc3RyID8gXCIvXCIgOiBcIlwiKSArIHRoaXMubm9kZShpKS50eXBlLm5hbWUgKyBcIl9cIiArIHRoaXMuaW5kZXgoaSAtIDEpXG4gICAgcmV0dXJuIHN0ciArIFwiOlwiICsgdGhpcy5wYXJlbnRPZmZzZXRcbiAgfVxuXG4gIHN0YXRpYyByZXNvbHZlKGRvYywgcG9zKSB7XG4gICAgaWYgKCEocG9zID49IDAgJiYgcG9zIDw9IGRvYy5jb250ZW50LnNpemUpKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlBvc2l0aW9uIFwiICsgcG9zICsgXCIgb3V0IG9mIHJhbmdlXCIpXG4gICAgbGV0IHBhdGggPSBbXVxuICAgIGxldCBzdGFydCA9IDAsIHBhcmVudE9mZnNldCA9IHBvc1xuICAgIGZvciAobGV0IG5vZGUgPSBkb2M7Oykge1xuICAgICAgbGV0IHtpbmRleCwgb2Zmc2V0fSA9IG5vZGUuY29udGVudC5maW5kSW5kZXgocGFyZW50T2Zmc2V0KVxuICAgICAgbGV0IHJlbSA9IHBhcmVudE9mZnNldCAtIG9mZnNldFxuICAgICAgcGF0aC5wdXNoKG5vZGUsIGluZGV4LCBzdGFydCArIG9mZnNldClcbiAgICAgIGlmICghcmVtKSBicmVha1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGQoaW5kZXgpXG4gICAgICBpZiAobm9kZS5pc1RleHQpIGJyZWFrXG4gICAgICBwYXJlbnRPZmZzZXQgPSByZW0gLSAxXG4gICAgICBzdGFydCArPSBvZmZzZXQgKyAxXG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVzb2x2ZWRQb3MocG9zLCBwYXRoLCBwYXJlbnRPZmZzZXQpXG4gIH1cblxuICBzdGF0aWMgcmVzb2x2ZUNhY2hlZChkb2MsIHBvcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzb2x2ZUNhY2hlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2FjaGVkID0gcmVzb2x2ZUNhY2hlW2ldXG4gICAgICBpZiAoY2FjaGVkLnBvcyA9PSBwb3MgJiYgY2FjaGVkLmRvYyA9PSBkb2MpIHJldHVybiBjYWNoZWRcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IHJlc29sdmVDYWNoZVtyZXNvbHZlQ2FjaGVQb3NdID0gUmVzb2x2ZWRQb3MucmVzb2x2ZShkb2MsIHBvcylcbiAgICByZXNvbHZlQ2FjaGVQb3MgPSAocmVzb2x2ZUNhY2hlUG9zICsgMSkgJSByZXNvbHZlQ2FjaGVTaXplXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG59XG5cbmxldCByZXNvbHZlQ2FjaGUgPSBbXSwgcmVzb2x2ZUNhY2hlUG9zID0gMCwgcmVzb2x2ZUNhY2hlU2l6ZSA9IDEyXG5cbi8vIDo6LSBSZXByZXNlbnRzIGEgZmxhdCByYW5nZSBvZiBjb250ZW50LCBpLmUuIG9uZSB0aGF0IHN0YXJ0cyBhbmRcbi8vIGVuZHMgaW4gdGhlIHNhbWUgbm9kZS5cbmV4cG9ydCBjbGFzcyBOb2RlUmFuZ2Uge1xuICAvLyA6OiAoUmVzb2x2ZWRQb3MsIFJlc29sdmVkUG9zLCBudW1iZXIpXG4gIC8vIENvbnN0cnVjdCBhIG5vZGUgcmFuZ2UuIGAkZnJvbWAgYW5kIGAkdG9gIHNob3VsZCBwb2ludCBpbnRvIHRoZVxuICAvLyBzYW1lIG5vZGUgdW50aWwgYXQgbGVhc3QgdGhlIGdpdmVuIGBkZXB0aGAsIHNpbmNlIGEgbm9kZSByYW5nZVxuICAvLyBkZW5vdGVzIGFuIGFkamFjZW50IHNldCBvZiBub2RlcyBpbiBhIHNpbmdsZSBwYXJlbnQgbm9kZS5cbiAgY29uc3RydWN0b3IoJGZyb20sICR0bywgZGVwdGgpIHtcbiAgICAvLyA6OiBSZXNvbHZlZFBvcyBBIHJlc29sdmVkIHBvc2l0aW9uIGFsb25nIHRoZSBzdGFydCBvZiB0aGVcbiAgICAvLyBjb250ZW50LiBNYXkgaGF2ZSBhIGBkZXB0aGAgZ3JlYXRlciB0aGFuIHRoaXMgb2JqZWN0J3MgYGRlcHRoYFxuICAgIC8vIHByb3BlcnR5LCBzaW5jZSB0aGVzZSBhcmUgdGhlIHBvc2l0aW9ucyB0aGF0IHdlcmUgdXNlZCB0b1xuICAgIC8vIGNvbXB1dGUgdGhlIHJhbmdlLCBub3QgcmUtcmVzb2x2ZWQgcG9zaXRpb25zIGRpcmVjdGx5IGF0IGl0c1xuICAgIC8vIGJvdW5kYXJpZXMuXG4gICAgdGhpcy4kZnJvbSA9ICRmcm9tXG4gICAgLy8gOjogUmVzb2x2ZWRQb3MgQSBwb3NpdGlvbiBhbG9uZyB0aGUgZW5kIG9mIHRoZSBjb250ZW50LiBTZWVcbiAgICAvLyBjYXZlYXQgZm9yIFtgJGZyb21gXSgjbW9kZWwuTm9kZVJhbmdlLiRmcm9tKS5cbiAgICB0aGlzLiR0byA9ICR0b1xuICAgIC8vIDo6IG51bWJlciBUaGUgZGVwdGggb2YgdGhlIG5vZGUgdGhhdCB0aGlzIHJhbmdlIHBvaW50cyBpbnRvLlxuICAgIHRoaXMuZGVwdGggPSBkZXB0aFxuICB9XG5cbiAgLy8gOjogbnVtYmVyIFRoZSBwb3NpdGlvbiBhdCB0aGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICBnZXQgc3RhcnQoKSB7IHJldHVybiB0aGlzLiRmcm9tLmJlZm9yZSh0aGlzLmRlcHRoICsgMSkgfVxuICAvLyA6OiBudW1iZXIgVGhlIHBvc2l0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICBnZXQgZW5kKCkgeyByZXR1cm4gdGhpcy4kdG8uYWZ0ZXIodGhpcy5kZXB0aCArIDEpIH1cblxuICAvLyA6OiBOb2RlIFRoZSBwYXJlbnQgbm9kZSB0aGF0IHRoZSByYW5nZSBwb2ludHMgaW50by5cbiAgZ2V0IHBhcmVudCgpIHsgcmV0dXJuIHRoaXMuJGZyb20ubm9kZSh0aGlzLmRlcHRoKSB9XG4gIC8vIDo6IG51bWJlciBUaGUgc3RhcnQgaW5kZXggb2YgdGhlIHJhbmdlIGluIHRoZSBwYXJlbnQgbm9kZS5cbiAgZ2V0IHN0YXJ0SW5kZXgoKSB7IHJldHVybiB0aGlzLiRmcm9tLmluZGV4KHRoaXMuZGVwdGgpIH1cbiAgLy8gOjogbnVtYmVyIFRoZSBlbmQgaW5kZXggb2YgdGhlIHJhbmdlIGluIHRoZSBwYXJlbnQgbm9kZS5cbiAgZ2V0IGVuZEluZGV4KCkgeyByZXR1cm4gdGhpcy4kdG8uaW5kZXhBZnRlcih0aGlzLmRlcHRoKSB9XG59XG4iLCJpbXBvcnQge0ZyYWdtZW50fSBmcm9tIFwiLi9mcmFnbWVudFwiXG5pbXBvcnQge01hcmt9IGZyb20gXCIuL21hcmtcIlxuaW1wb3J0IHtTbGljZSwgcmVwbGFjZX0gZnJvbSBcIi4vcmVwbGFjZVwiXG5pbXBvcnQge1Jlc29sdmVkUG9zfSBmcm9tIFwiLi9yZXNvbHZlZHBvc1wiXG5pbXBvcnQge2NvbXBhcmVEZWVwfSBmcm9tIFwiLi9jb21wYXJlZGVlcFwiXG5cbmNvbnN0IGVtcHR5QXR0cnMgPSBPYmplY3QuY3JlYXRlKG51bGwpXG5cbi8vIDo6LSBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBub2RlIGluIHRoZSB0cmVlIHRoYXQgbWFrZXMgdXAgYVxuLy8gUHJvc2VNaXJyb3IgZG9jdW1lbnQuIFNvIGEgZG9jdW1lbnQgaXMgYW4gaW5zdGFuY2Ugb2YgYE5vZGVgLCB3aXRoXG4vLyBjaGlsZHJlbiB0aGF0IGFyZSBhbHNvIGluc3RhbmNlcyBvZiBgTm9kZWAuXG4vL1xuLy8gTm9kZXMgYXJlIHBlcnNpc3RlbnQgZGF0YSBzdHJ1Y3R1cmVzLiBJbnN0ZWFkIG9mIGNoYW5naW5nIHRoZW0sIHlvdVxuLy8gY3JlYXRlIG5ldyBvbmVzIHdpdGggdGhlIGNvbnRlbnQgeW91IHdhbnQuIE9sZCBvbmVzIGtlZXAgcG9pbnRpbmdcbi8vIGF0IHRoZSBvbGQgZG9jdW1lbnQgc2hhcGUuIFRoaXMgaXMgbWFkZSBjaGVhcGVyIGJ5IHNoYXJpbmdcbi8vIHN0cnVjdHVyZSBiZXR3ZWVuIHRoZSBvbGQgYW5kIG5ldyBkYXRhIGFzIG11Y2ggYXMgcG9zc2libGUsIHdoaWNoIGFcbi8vIHRyZWUgc2hhcGUgbGlrZSB0aGlzICh3aXRob3V0IGJhY2sgcG9pbnRlcnMpIG1ha2VzIGVhc3kuXG4vL1xuLy8gKipEbyBub3QqKiBkaXJlY3RseSBtdXRhdGUgdGhlIHByb3BlcnRpZXMgb2YgYSBgTm9kZWAgb2JqZWN0LiBTZWVcbi8vIFt0aGUgZ3VpZGVdKC9kb2NzL2d1aWRlLyNkb2MpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuZXhwb3J0IGNsYXNzIE5vZGUge1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBhdHRycywgY29udGVudCwgbWFya3MpIHtcbiAgICAvLyA6OiBOb2RlVHlwZVxuICAgIC8vIFRoZSB0eXBlIG9mIG5vZGUgdGhhdCB0aGlzIGlzLlxuICAgIHRoaXMudHlwZSA9IHR5cGVcblxuICAgIC8vIDo6IE9iamVjdFxuICAgIC8vIEFuIG9iamVjdCBtYXBwaW5nIGF0dHJpYnV0ZSBuYW1lcyB0byB2YWx1ZXMuIFRoZSBraW5kIG9mXG4gICAgLy8gYXR0cmlidXRlcyBhbGxvd2VkIGFuZCByZXF1aXJlZCBhcmVcbiAgICAvLyBbZGV0ZXJtaW5lZF0oI21vZGVsLk5vZGVTcGVjLmF0dHJzKSBieSB0aGUgbm9kZSB0eXBlLlxuICAgIHRoaXMuYXR0cnMgPSBhdHRyc1xuXG4gICAgLy8gOjogRnJhZ21lbnRcbiAgICAvLyBBIGNvbnRhaW5lciBob2xkaW5nIHRoZSBub2RlJ3MgY2hpbGRyZW4uXG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudCB8fCBGcmFnbWVudC5lbXB0eVxuXG4gICAgLy8gOjogW01hcmtdXG4gICAgLy8gVGhlIG1hcmtzICh0aGluZ3MgbGlrZSB3aGV0aGVyIGl0IGlzIGVtcGhhc2l6ZWQgb3IgcGFydCBvZiBhXG4gICAgLy8gbGluaykgYXBwbGllZCB0byB0aGlzIG5vZGUuXG4gICAgdGhpcy5tYXJrcyA9IG1hcmtzIHx8IE1hcmsubm9uZVxuICB9XG5cbiAgLy8gdGV4dDo6ID9zdHJpbmdcbiAgLy8gRm9yIHRleHQgbm9kZXMsIHRoaXMgY29udGFpbnMgdGhlIG5vZGUncyB0ZXh0IGNvbnRlbnQuXG5cbiAgLy8gOjogbnVtYmVyXG4gIC8vIFRoZSBzaXplIG9mIHRoaXMgbm9kZSwgYXMgZGVmaW5lZCBieSB0aGUgaW50ZWdlci1iYXNlZCBbaW5kZXhpbmdcbiAgLy8gc2NoZW1lXSgvZG9jcy9ndWlkZS8jZG9jLmluZGV4aW5nKS4gRm9yIHRleHQgbm9kZXMsIHRoaXMgaXMgdGhlXG4gIC8vIGFtb3VudCBvZiBjaGFyYWN0ZXJzLiBGb3Igb3RoZXIgbGVhZiBub2RlcywgaXQgaXMgb25lLiBGb3JcbiAgLy8gbm9uLWxlYWYgbm9kZXMsIGl0IGlzIHRoZSBzaXplIG9mIHRoZSBjb250ZW50IHBsdXMgdHdvICh0aGUgc3RhcnRcbiAgLy8gYW5kIGVuZCB0b2tlbikuXG4gIGdldCBub2RlU2l6ZSgpIHsgcmV0dXJuIHRoaXMuaXNMZWFmID8gMSA6IDIgKyB0aGlzLmNvbnRlbnQuc2l6ZSB9XG5cbiAgLy8gOjogbnVtYmVyXG4gIC8vIFRoZSBudW1iZXIgb2YgY2hpbGRyZW4gdGhhdCB0aGUgbm9kZSBoYXMuXG4gIGdldCBjaGlsZENvdW50KCkgeyByZXR1cm4gdGhpcy5jb250ZW50LmNoaWxkQ291bnQgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiBOb2RlXG4gIC8vIEdldCB0aGUgY2hpbGQgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguIFJhaXNlcyBhbiBlcnJvciB3aGVuIHRoZVxuICAvLyBpbmRleCBpcyBvdXQgb2YgcmFuZ2UuXG4gIGNoaWxkKGluZGV4KSB7IHJldHVybiB0aGlzLmNvbnRlbnQuY2hpbGQoaW5kZXgpIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIgP05vZGVcbiAgLy8gR2V0IHRoZSBjaGlsZCBub2RlIGF0IHRoZSBnaXZlbiBpbmRleCwgaWYgaXQgZXhpc3RzLlxuICBtYXliZUNoaWxkKGluZGV4KSB7IHJldHVybiB0aGlzLmNvbnRlbnQubWF5YmVDaGlsZChpbmRleCkgfVxuXG4gIC8vIDo6ICgobm9kZTogTm9kZSwgb2Zmc2V0OiBudW1iZXIsIGluZGV4OiBudW1iZXIpKVxuICAvLyBDYWxsIGBmYCBmb3IgZXZlcnkgY2hpbGQgbm9kZSwgcGFzc2luZyB0aGUgbm9kZSwgaXRzIG9mZnNldFxuICAvLyBpbnRvIHRoaXMgcGFyZW50IG5vZGUsIGFuZCBpdHMgaW5kZXguXG4gIGZvckVhY2goZikgeyB0aGlzLmNvbnRlbnQuZm9yRWFjaChmKSB9XG5cbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCAobm9kZTogTm9kZSwgcG9zOiBudW1iZXIsIHBhcmVudDogTm9kZSwgaW5kZXg6IG51bWJlcikg4oaSID9ib29sLCA/bnVtYmVyKVxuICAvLyBJbnZva2UgYSBjYWxsYmFjayBmb3IgYWxsIGRlc2NlbmRhbnQgbm9kZXMgcmVjdXJzaXZlbHkgYmV0d2VlblxuICAvLyB0aGUgZ2l2ZW4gdHdvIHBvc2l0aW9ucyB0aGF0IGFyZSByZWxhdGl2ZSB0byBzdGFydCBvZiB0aGlzIG5vZGUnc1xuICAvLyBjb250ZW50LiBUaGUgY2FsbGJhY2sgaXMgaW52b2tlZCB3aXRoIHRoZSBub2RlLCBpdHNcbiAgLy8gcGFyZW50LXJlbGF0aXZlIHBvc2l0aW9uLCBpdHMgcGFyZW50IG5vZGUsIGFuZCBpdHMgY2hpbGQgaW5kZXguXG4gIC8vIFdoZW4gdGhlIGNhbGxiYWNrIHJldHVybnMgZmFsc2UgZm9yIGEgZ2l2ZW4gbm9kZSwgdGhhdCBub2RlJ3NcbiAgLy8gY2hpbGRyZW4gd2lsbCBub3QgYmUgcmVjdXJzZWQgb3Zlci4gVGhlIGxhc3QgcGFyYW1ldGVyIGNhbiBiZVxuICAvLyB1c2VkIHRvIHNwZWNpZnkgYSBzdGFydGluZyBwb3NpdGlvbiB0byBjb3VudCBmcm9tLlxuICBub2Rlc0JldHdlZW4oZnJvbSwgdG8sIGYsIHN0YXJ0UG9zID0gMCkge1xuICAgIHRoaXMuY29udGVudC5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIGYsIHN0YXJ0UG9zLCB0aGlzKVxuICB9XG5cbiAgLy8gOjogKChub2RlOiBOb2RlLCBwb3M6IG51bWJlciwgcGFyZW50OiBOb2RlKSDihpIgP2Jvb2wpXG4gIC8vIENhbGwgdGhlIGdpdmVuIGNhbGxiYWNrIGZvciBldmVyeSBkZXNjZW5kYW50IG5vZGUuIERvZXNuJ3RcbiAgLy8gZGVzY2VuZCBpbnRvIGEgbm9kZSB3aGVuIHRoZSBjYWxsYmFjayByZXR1cm5zIGBmYWxzZWAuXG4gIGRlc2NlbmRhbnRzKGYpIHtcbiAgICB0aGlzLm5vZGVzQmV0d2VlbigwLCB0aGlzLmNvbnRlbnQuc2l6ZSwgZilcbiAgfVxuXG4gIC8vIDo6IHN0cmluZ1xuICAvLyBDb25jYXRlbmF0ZXMgYWxsIHRoZSB0ZXh0IG5vZGVzIGZvdW5kIGluIHRoaXMgZnJhZ21lbnQgYW5kIGl0c1xuICAvLyBjaGlsZHJlbi5cbiAgZ2V0IHRleHRDb250ZW50KCkgeyByZXR1cm4gdGhpcy50ZXh0QmV0d2VlbigwLCB0aGlzLmNvbnRlbnQuc2l6ZSwgXCJcIikgfVxuXG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgP3N0cmluZywgP3N0cmluZykg4oaSIHN0cmluZ1xuICAvLyBHZXQgYWxsIHRleHQgYmV0d2VlbiBwb3NpdGlvbnMgYGZyb21gIGFuZCBgdG9gLiBXaGVuXG4gIC8vIGBibG9ja1NlcGFyYXRvcmAgaXMgZ2l2ZW4sIGl0IHdpbGwgYmUgaW5zZXJ0ZWQgd2hlbmV2ZXIgYSBuZXdcbiAgLy8gYmxvY2sgbm9kZSBpcyBzdGFydGVkLiBXaGVuIGBsZWFmVGV4dGAgaXMgZ2l2ZW4sIGl0J2xsIGJlXG4gIC8vIGluc2VydGVkIGZvciBldmVyeSBub24tdGV4dCBsZWFmIG5vZGUgZW5jb3VudGVyZWQuXG4gIHRleHRCZXR3ZWVuKGZyb20sIHRvLCBibG9ja1NlcGFyYXRvciwgbGVhZlRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LnRleHRCZXR3ZWVuKGZyb20sIHRvLCBibG9ja1NlcGFyYXRvciwgbGVhZlRleHQpXG4gIH1cblxuICAvLyA6OiA/Tm9kZVxuICAvLyBSZXR1cm5zIHRoaXMgbm9kZSdzIGZpcnN0IGNoaWxkLCBvciBgbnVsbGAgaWYgdGhlcmUgYXJlIG5vXG4gIC8vIGNoaWxkcmVuLlxuICBnZXQgZmlyc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMuY29udGVudC5maXJzdENoaWxkIH1cblxuICAvLyA6OiA/Tm9kZVxuICAvLyBSZXR1cm5zIHRoaXMgbm9kZSdzIGxhc3QgY2hpbGQsIG9yIGBudWxsYCBpZiB0aGVyZSBhcmUgbm9cbiAgLy8gY2hpbGRyZW4uXG4gIGdldCBsYXN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmNvbnRlbnQubGFzdENoaWxkIH1cblxuICAvLyA6OiAoTm9kZSkg4oaSIGJvb2xcbiAgLy8gVGVzdCB3aGV0aGVyIHR3byBub2RlcyByZXByZXNlbnQgdGhlIHNhbWUgcGllY2Ugb2YgZG9jdW1lbnQuXG4gIGVxKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHwgKHRoaXMuc2FtZU1hcmt1cChvdGhlcikgJiYgdGhpcy5jb250ZW50LmVxKG90aGVyLmNvbnRlbnQpKVxuICB9XG5cbiAgLy8gOjogKE5vZGUpIOKGkiBib29sXG4gIC8vIENvbXBhcmUgdGhlIG1hcmt1cCAodHlwZSwgYXR0cmlidXRlcywgYW5kIG1hcmtzKSBvZiB0aGlzIG5vZGUgdG9cbiAgLy8gdGhvc2Ugb2YgYW5vdGhlci4gUmV0dXJucyBgdHJ1ZWAgaWYgYm90aCBoYXZlIHRoZSBzYW1lIG1hcmt1cC5cbiAgc2FtZU1hcmt1cChvdGhlcikge1xuICAgIHJldHVybiB0aGlzLmhhc01hcmt1cChvdGhlci50eXBlLCBvdGhlci5hdHRycywgb3RoZXIubWFya3MpXG4gIH1cblxuICAvLyA6OiAoTm9kZVR5cGUsID9PYmplY3QsID9bTWFya10pIOKGkiBib29sXG4gIC8vIENoZWNrIHdoZXRoZXIgdGhpcyBub2RlJ3MgbWFya3VwIGNvcnJlc3BvbmQgdG8gdGhlIGdpdmVuIHR5cGUsXG4gIC8vIGF0dHJpYnV0ZXMsIGFuZCBtYXJrcy5cbiAgaGFzTWFya3VwKHR5cGUsIGF0dHJzLCBtYXJrcykge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT0gdHlwZSAmJlxuICAgICAgY29tcGFyZURlZXAodGhpcy5hdHRycywgYXR0cnMgfHwgdHlwZS5kZWZhdWx0QXR0cnMgfHwgZW1wdHlBdHRycykgJiZcbiAgICAgIE1hcmsuc2FtZVNldCh0aGlzLm1hcmtzLCBtYXJrcyB8fCBNYXJrLm5vbmUpXG4gIH1cblxuICAvLyA6OiAoP0ZyYWdtZW50KSDihpIgTm9kZVxuICAvLyBDcmVhdGUgYSBuZXcgbm9kZSB3aXRoIHRoZSBzYW1lIG1hcmt1cCBhcyB0aGlzIG5vZGUsIGNvbnRhaW5pbmdcbiAgLy8gdGhlIGdpdmVuIGNvbnRlbnQgKG9yIGVtcHR5LCBpZiBubyBjb250ZW50IGlzIGdpdmVuKS5cbiAgY29weShjb250ZW50ID0gbnVsbCkge1xuICAgIGlmIChjb250ZW50ID09IHRoaXMuY29udGVudCkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy50eXBlLCB0aGlzLmF0dHJzLCBjb250ZW50LCB0aGlzLm1hcmtzKVxuICB9XG5cbiAgLy8gOjogKFtNYXJrXSkg4oaSIE5vZGVcbiAgLy8gQ3JlYXRlIGEgY29weSBvZiB0aGlzIG5vZGUsIHdpdGggdGhlIGdpdmVuIHNldCBvZiBtYXJrcyBpbnN0ZWFkXG4gIC8vIG9mIHRoZSBub2RlJ3Mgb3duIG1hcmtzLlxuICBtYXJrKG1hcmtzKSB7XG4gICAgcmV0dXJuIG1hcmtzID09IHRoaXMubWFya3MgPyB0aGlzIDogbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy50eXBlLCB0aGlzLmF0dHJzLCB0aGlzLmNvbnRlbnQsIG1hcmtzKVxuICB9XG5cbiAgLy8gOjogKG51bWJlciwgP251bWJlcikg4oaSIE5vZGVcbiAgLy8gQ3JlYXRlIGEgY29weSBvZiB0aGlzIG5vZGUgd2l0aCBvbmx5IHRoZSBjb250ZW50IGJldHdlZW4gdGhlXG4gIC8vIGdpdmVuIHBvc2l0aW9ucy4gSWYgYHRvYCBpcyBub3QgZ2l2ZW4sIGl0IGRlZmF1bHRzIHRvIHRoZSBlbmQgb2ZcbiAgLy8gdGhlIG5vZGUuXG4gIGN1dChmcm9tLCB0bykge1xuICAgIGlmIChmcm9tID09IDAgJiYgdG8gPT0gdGhpcy5jb250ZW50LnNpemUpIHJldHVybiB0aGlzXG4gICAgcmV0dXJuIHRoaXMuY29weSh0aGlzLmNvbnRlbnQuY3V0KGZyb20sIHRvKSlcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIsID9udW1iZXIpIOKGkiBTbGljZVxuICAvLyBDdXQgb3V0IHRoZSBwYXJ0IG9mIHRoZSBkb2N1bWVudCBiZXR3ZWVuIHRoZSBnaXZlbiBwb3NpdGlvbnMsIGFuZFxuICAvLyByZXR1cm4gaXQgYXMgYSBgU2xpY2VgIG9iamVjdC5cbiAgc2xpY2UoZnJvbSwgdG8gPSB0aGlzLmNvbnRlbnQuc2l6ZSwgaW5jbHVkZVBhcmVudHMgPSBmYWxzZSkge1xuICAgIGlmIChmcm9tID09IHRvKSByZXR1cm4gU2xpY2UuZW1wdHlcblxuICAgIGxldCAkZnJvbSA9IHRoaXMucmVzb2x2ZShmcm9tKSwgJHRvID0gdGhpcy5yZXNvbHZlKHRvKVxuICAgIGxldCBkZXB0aCA9IGluY2x1ZGVQYXJlbnRzID8gMCA6ICRmcm9tLnNoYXJlZERlcHRoKHRvKVxuICAgIGxldCBzdGFydCA9ICRmcm9tLnN0YXJ0KGRlcHRoKSwgbm9kZSA9ICRmcm9tLm5vZGUoZGVwdGgpXG4gICAgbGV0IGNvbnRlbnQgPSBub2RlLmNvbnRlbnQuY3V0KCRmcm9tLnBvcyAtIHN0YXJ0LCAkdG8ucG9zIC0gc3RhcnQpXG4gICAgcmV0dXJuIG5ldyBTbGljZShjb250ZW50LCAkZnJvbS5kZXB0aCAtIGRlcHRoLCAkdG8uZGVwdGggLSBkZXB0aClcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgU2xpY2UpIOKGkiBOb2RlXG4gIC8vIFJlcGxhY2UgdGhlIHBhcnQgb2YgdGhlIGRvY3VtZW50IGJldHdlZW4gdGhlIGdpdmVuIHBvc2l0aW9ucyB3aXRoXG4gIC8vIHRoZSBnaXZlbiBzbGljZS4gVGhlIHNsaWNlIG11c3QgJ2ZpdCcsIG1lYW5pbmcgaXRzIG9wZW4gc2lkZXNcbiAgLy8gbXVzdCBiZSBhYmxlIHRvIGNvbm5lY3QgdG8gdGhlIHN1cnJvdW5kaW5nIGNvbnRlbnQsIGFuZCBpdHNcbiAgLy8gY29udGVudCBub2RlcyBtdXN0IGJlIHZhbGlkIGNoaWxkcmVuIGZvciB0aGUgbm9kZSB0aGV5IGFyZSBwbGFjZWRcbiAgLy8gaW50by4gSWYgYW55IG9mIHRoaXMgaXMgdmlvbGF0ZWQsIGFuIGVycm9yIG9mIHR5cGVcbiAgLy8gW2BSZXBsYWNlRXJyb3JgXSgjbW9kZWwuUmVwbGFjZUVycm9yKSBpcyB0aHJvd24uXG4gIHJlcGxhY2UoZnJvbSwgdG8sIHNsaWNlKSB7XG4gICAgcmV0dXJuIHJlcGxhY2UodGhpcy5yZXNvbHZlKGZyb20pLCB0aGlzLnJlc29sdmUodG8pLCBzbGljZSlcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiA/Tm9kZVxuICAvLyBGaW5kIHRoZSBub2RlIGRpcmVjdGx5IGFmdGVyIHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgbm9kZUF0KHBvcykge1xuICAgIGZvciAobGV0IG5vZGUgPSB0aGlzOzspIHtcbiAgICAgIGxldCB7aW5kZXgsIG9mZnNldH0gPSBub2RlLmNvbnRlbnQuZmluZEluZGV4KHBvcylcbiAgICAgIG5vZGUgPSBub2RlLm1heWJlQ2hpbGQoaW5kZXgpXG4gICAgICBpZiAoIW5vZGUpIHJldHVybiBudWxsXG4gICAgICBpZiAob2Zmc2V0ID09IHBvcyB8fCBub2RlLmlzVGV4dCkgcmV0dXJuIG5vZGVcbiAgICAgIHBvcyAtPSBvZmZzZXQgKyAxXG4gICAgfVxuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSIHtub2RlOiA/Tm9kZSwgaW5kZXg6IG51bWJlciwgb2Zmc2V0OiBudW1iZXJ9XG4gIC8vIEZpbmQgdGhlIChkaXJlY3QpIGNoaWxkIG5vZGUgYWZ0ZXIgdGhlIGdpdmVuIG9mZnNldCwgaWYgYW55LFxuICAvLyBhbmQgcmV0dXJuIGl0IGFsb25nIHdpdGggaXRzIGluZGV4IGFuZCBvZmZzZXQgcmVsYXRpdmUgdG8gdGhpc1xuICAvLyBub2RlLlxuICBjaGlsZEFmdGVyKHBvcykge1xuICAgIGxldCB7aW5kZXgsIG9mZnNldH0gPSB0aGlzLmNvbnRlbnQuZmluZEluZGV4KHBvcylcbiAgICByZXR1cm4ge25vZGU6IHRoaXMuY29udGVudC5tYXliZUNoaWxkKGluZGV4KSwgaW5kZXgsIG9mZnNldH1cbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiB7bm9kZTogP05vZGUsIGluZGV4OiBudW1iZXIsIG9mZnNldDogbnVtYmVyfVxuICAvLyBGaW5kIHRoZSAoZGlyZWN0KSBjaGlsZCBub2RlIGJlZm9yZSB0aGUgZ2l2ZW4gb2Zmc2V0LCBpZiBhbnksXG4gIC8vIGFuZCByZXR1cm4gaXQgYWxvbmcgd2l0aCBpdHMgaW5kZXggYW5kIG9mZnNldCByZWxhdGl2ZSB0byB0aGlzXG4gIC8vIG5vZGUuXG4gIGNoaWxkQmVmb3JlKHBvcykge1xuICAgIGlmIChwb3MgPT0gMCkgcmV0dXJuIHtub2RlOiBudWxsLCBpbmRleDogMCwgb2Zmc2V0OiAwfVxuICAgIGxldCB7aW5kZXgsIG9mZnNldH0gPSB0aGlzLmNvbnRlbnQuZmluZEluZGV4KHBvcylcbiAgICBpZiAob2Zmc2V0IDwgcG9zKSByZXR1cm4ge25vZGU6IHRoaXMuY29udGVudC5jaGlsZChpbmRleCksIGluZGV4LCBvZmZzZXR9XG4gICAgbGV0IG5vZGUgPSB0aGlzLmNvbnRlbnQuY2hpbGQoaW5kZXggLSAxKVxuICAgIHJldHVybiB7bm9kZSwgaW5kZXg6IGluZGV4IC0gMSwgb2Zmc2V0OiBvZmZzZXQgLSBub2RlLm5vZGVTaXplfVxuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSIFJlc29sdmVkUG9zXG4gIC8vIFJlc29sdmUgdGhlIGdpdmVuIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudCwgcmV0dXJuaW5nIGFuXG4gIC8vIFtvYmplY3RdKCNtb2RlbC5SZXNvbHZlZFBvcykgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCBpdHMgY29udGV4dC5cbiAgcmVzb2x2ZShwb3MpIHsgcmV0dXJuIFJlc29sdmVkUG9zLnJlc29sdmVDYWNoZWQodGhpcywgcG9zKSB9XG5cbiAgcmVzb2x2ZU5vQ2FjaGUocG9zKSB7IHJldHVybiBSZXNvbHZlZFBvcy5yZXNvbHZlKHRoaXMsIHBvcykgfVxuXG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgTWFya1R5cGUpIOKGkiBib29sXG4gIC8vIFRlc3Qgd2hldGhlciBhIG1hcmsgb2YgdGhlIGdpdmVuIHR5cGUgb2NjdXJzIGluIHRoaXMgZG9jdW1lbnRcbiAgLy8gYmV0d2VlbiB0aGUgdHdvIGdpdmVuIHBvc2l0aW9ucy5cbiAgcmFuZ2VIYXNNYXJrKGZyb20sIHRvLCB0eXBlKSB7XG4gICAgbGV0IGZvdW5kID0gZmFsc2VcbiAgICBpZiAodG8gPiBmcm9tKSB0aGlzLm5vZGVzQmV0d2Vlbihmcm9tLCB0bywgbm9kZSA9PiB7XG4gICAgICBpZiAodHlwZS5pc0luU2V0KG5vZGUubWFya3MpKSBmb3VuZCA9IHRydWVcbiAgICAgIHJldHVybiAhZm91bmRcbiAgICB9KVxuICAgIHJldHVybiBmb3VuZFxuICB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBUcnVlIHdoZW4gdGhpcyBpcyBhIGJsb2NrIChub24taW5saW5lIG5vZGUpXG4gIGdldCBpc0Jsb2NrKCkgeyByZXR1cm4gdGhpcy50eXBlLmlzQmxvY2sgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSB3aGVuIHRoaXMgaXMgYSB0ZXh0YmxvY2sgbm9kZSwgYSBibG9jayBub2RlIHdpdGggaW5saW5lXG4gIC8vIGNvbnRlbnQuXG4gIGdldCBpc1RleHRibG9jaygpIHsgcmV0dXJuIHRoaXMudHlwZS5pc1RleHRibG9jayB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBUcnVlIHdoZW4gdGhpcyBub2RlIGFsbG93cyBpbmxpbmUgY29udGVudC5cbiAgZ2V0IGlubGluZUNvbnRlbnQoKSB7IHJldHVybiB0aGlzLnR5cGUuaW5saW5lQ29udGVudCB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBUcnVlIHdoZW4gdGhpcyBpcyBhbiBpbmxpbmUgbm9kZSAoYSB0ZXh0IG5vZGUgb3IgYSBub2RlIHRoYXQgY2FuXG4gIC8vIGFwcGVhciBhbW9uZyB0ZXh0KS5cbiAgZ2V0IGlzSW5saW5lKCkgeyByZXR1cm4gdGhpcy50eXBlLmlzSW5saW5lIH1cblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgd2hlbiB0aGlzIGlzIGEgdGV4dCBub2RlLlxuICBnZXQgaXNUZXh0KCkgeyByZXR1cm4gdGhpcy50eXBlLmlzVGV4dCB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBUcnVlIHdoZW4gdGhpcyBpcyBhIGxlYWYgbm9kZS5cbiAgZ2V0IGlzTGVhZigpIHsgcmV0dXJuIHRoaXMudHlwZS5pc0xlYWYgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSB3aGVuIHRoaXMgaXMgYW4gYXRvbSwgaS5lLiB3aGVuIGl0IGRvZXMgbm90IGhhdmUgZGlyZWN0bHlcbiAgLy8gZWRpdGFibGUgY29udGVudC4gVGhpcyBpcyB1c3VhbGx5IHRoZSBzYW1lIGFzIGBpc0xlYWZgLCBidXQgY2FuXG4gIC8vIGJlIGNvbmZpZ3VyZWQgd2l0aCB0aGUgW2BhdG9tYCBwcm9wZXJ0eV0oI21vZGVsLk5vZGVTcGVjLmF0b20pIG9uXG4gIC8vIGEgbm9kZSdzIHNwZWMgKHR5cGljYWxseSB1c2VkIHdoZW4gdGhlIG5vZGUgaXMgZGlzcGxheWVkIGFzIGFuXG4gIC8vIHVuZWRpdGFibGUgW25vZGUgdmlld10oI3ZpZXcuTm9kZVZpZXcpKS5cbiAgZ2V0IGlzQXRvbSgpIHsgcmV0dXJuIHRoaXMudHlwZS5pc0F0b20gfVxuXG4gIC8vIDo6ICgpIOKGkiBzdHJpbmdcbiAgLy8gUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgbm9kZSBmb3IgZGVidWdnaW5nXG4gIC8vIHB1cnBvc2VzLlxuICB0b1N0cmluZygpIHtcbiAgICBpZiAodGhpcy50eXBlLnNwZWMudG9EZWJ1Z1N0cmluZykgcmV0dXJuIHRoaXMudHlwZS5zcGVjLnRvRGVidWdTdHJpbmcodGhpcylcbiAgICBsZXQgbmFtZSA9IHRoaXMudHlwZS5uYW1lXG4gICAgaWYgKHRoaXMuY29udGVudC5zaXplKVxuICAgICAgbmFtZSArPSBcIihcIiArIHRoaXMuY29udGVudC50b1N0cmluZ0lubmVyKCkgKyBcIilcIlxuICAgIHJldHVybiB3cmFwTWFya3ModGhpcy5tYXJrcywgbmFtZSlcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiBDb250ZW50TWF0Y2hcbiAgLy8gR2V0IHRoZSBjb250ZW50IG1hdGNoIGluIHRoaXMgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG4gIGNvbnRlbnRNYXRjaEF0KGluZGV4KSB7XG4gICAgbGV0IG1hdGNoID0gdGhpcy50eXBlLmNvbnRlbnRNYXRjaC5tYXRjaEZyYWdtZW50KHRoaXMuY29udGVudCwgMCwgaW5kZXgpXG4gICAgaWYgKCFtYXRjaCkgdGhyb3cgbmV3IEVycm9yKFwiQ2FsbGVkIGNvbnRlbnRNYXRjaEF0IG9uIGEgbm9kZSB3aXRoIGludmFsaWQgY29udGVudFwiKVxuICAgIHJldHVybiBtYXRjaFxuICB9XG5cbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCA/RnJhZ21lbnQsID9udW1iZXIsID9udW1iZXIpIOKGkiBib29sXG4gIC8vIFRlc3Qgd2hldGhlciByZXBsYWNpbmcgdGhlIHJhbmdlIGJldHdlZW4gYGZyb21gIGFuZCBgdG9gIChieVxuICAvLyBjaGlsZCBpbmRleCkgd2l0aCB0aGUgZ2l2ZW4gcmVwbGFjZW1lbnQgZnJhZ21lbnQgKHdoaWNoIGRlZmF1bHRzXG4gIC8vIHRvIHRoZSBlbXB0eSBmcmFnbWVudCkgd291bGQgbGVhdmUgdGhlIG5vZGUncyBjb250ZW50IHZhbGlkLiBZb3VcbiAgLy8gY2FuIG9wdGlvbmFsbHkgcGFzcyBgc3RhcnRgIGFuZCBgZW5kYCBpbmRpY2VzIGludG8gdGhlXG4gIC8vIHJlcGxhY2VtZW50IGZyYWdtZW50LlxuICBjYW5SZXBsYWNlKGZyb20sIHRvLCByZXBsYWNlbWVudCA9IEZyYWdtZW50LmVtcHR5LCBzdGFydCA9IDAsIGVuZCA9IHJlcGxhY2VtZW50LmNoaWxkQ291bnQpIHtcbiAgICBsZXQgb25lID0gdGhpcy5jb250ZW50TWF0Y2hBdChmcm9tKS5tYXRjaEZyYWdtZW50KHJlcGxhY2VtZW50LCBzdGFydCwgZW5kKVxuICAgIGxldCB0d28gPSBvbmUgJiYgb25lLm1hdGNoRnJhZ21lbnQodGhpcy5jb250ZW50LCB0bylcbiAgICBpZiAoIXR3byB8fCAhdHdvLnZhbGlkRW5kKSByZXR1cm4gZmFsc2VcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykgaWYgKCF0aGlzLnR5cGUuYWxsb3dzTWFya3MocmVwbGFjZW1lbnQuY2hpbGQoaSkubWFya3MpKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCBOb2RlVHlwZSwgP1tNYXJrXSkg4oaSIGJvb2xcbiAgLy8gVGVzdCB3aGV0aGVyIHJlcGxhY2luZyB0aGUgcmFuZ2UgYGZyb21gIHRvIGB0b2AgKGJ5IGluZGV4KSB3aXRoIGFcbiAgLy8gbm9kZSBvZiB0aGUgZ2l2ZW4gdHlwZSB3b3VsZCBsZWF2ZSB0aGUgbm9kZSdzIGNvbnRlbnQgdmFsaWQuXG4gIGNhblJlcGxhY2VXaXRoKGZyb20sIHRvLCB0eXBlLCBtYXJrcykge1xuICAgIGlmIChtYXJrcyAmJiAhdGhpcy50eXBlLmFsbG93c01hcmtzKG1hcmtzKSkgcmV0dXJuIGZhbHNlXG4gICAgbGV0IHN0YXJ0ID0gdGhpcy5jb250ZW50TWF0Y2hBdChmcm9tKS5tYXRjaFR5cGUodHlwZSlcbiAgICBsZXQgZW5kID0gc3RhcnQgJiYgc3RhcnQubWF0Y2hGcmFnbWVudCh0aGlzLmNvbnRlbnQsIHRvKVxuICAgIHJldHVybiBlbmQgPyBlbmQudmFsaWRFbmQgOiBmYWxzZVxuICB9XG5cbiAgLy8gOjogKE5vZGUpIOKGkiBib29sXG4gIC8vIFRlc3Qgd2hldGhlciB0aGUgZ2l2ZW4gbm9kZSdzIGNvbnRlbnQgY291bGQgYmUgYXBwZW5kZWQgdG8gdGhpc1xuICAvLyBub2RlLiBJZiB0aGF0IG5vZGUgaXMgZW1wdHksIHRoaXMgd2lsbCBvbmx5IHJldHVybiB0cnVlIGlmIHRoZXJlXG4gIC8vIGlzIGF0IGxlYXN0IG9uZSBub2RlIHR5cGUgdGhhdCBjYW4gYXBwZWFyIGluIGJvdGggbm9kZXMgKHRvIGF2b2lkXG4gIC8vIG1lcmdpbmcgY29tcGxldGVseSBpbmNvbXBhdGlibGUgbm9kZXMpLlxuICBjYW5BcHBlbmQob3RoZXIpIHtcbiAgICBpZiAob3RoZXIuY29udGVudC5zaXplKSByZXR1cm4gdGhpcy5jYW5SZXBsYWNlKHRoaXMuY2hpbGRDb3VudCwgdGhpcy5jaGlsZENvdW50LCBvdGhlci5jb250ZW50KVxuICAgIGVsc2UgcmV0dXJuIHRoaXMudHlwZS5jb21wYXRpYmxlQ29udGVudChvdGhlci50eXBlKVxuICB9XG5cbiAgLy8gOjogKClcbiAgLy8gQ2hlY2sgd2hldGhlciB0aGlzIG5vZGUgYW5kIGl0cyBkZXNjZW5kYW50cyBjb25mb3JtIHRvIHRoZVxuICAvLyBzY2hlbWEsIGFuZCByYWlzZSBlcnJvciB3aGVuIHRoZXkgZG8gbm90LlxuICBjaGVjaygpIHtcbiAgICBpZiAoIXRoaXMudHlwZS52YWxpZENvbnRlbnQodGhpcy5jb250ZW50KSlcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBJbnZhbGlkIGNvbnRlbnQgZm9yIG5vZGUgJHt0aGlzLnR5cGUubmFtZX06ICR7dGhpcy5jb250ZW50LnRvU3RyaW5nKCkuc2xpY2UoMCwgNTApfWApXG4gICAgdGhpcy5jb250ZW50LmZvckVhY2gobm9kZSA9PiBub2RlLmNoZWNrKCkpXG4gIH1cblxuICAvLyA6OiAoKSDihpIgT2JqZWN0XG4gIC8vIFJldHVybiBhIEpTT04tc2VyaWFsaXplYWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gIHRvSlNPTigpIHtcbiAgICBsZXQgb2JqID0ge3R5cGU6IHRoaXMudHlwZS5uYW1lfVxuICAgIGZvciAobGV0IF8gaW4gdGhpcy5hdHRycykge1xuICAgICAgb2JqLmF0dHJzID0gdGhpcy5hdHRyc1xuICAgICAgYnJlYWtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29udGVudC5zaXplKVxuICAgICAgb2JqLmNvbnRlbnQgPSB0aGlzLmNvbnRlbnQudG9KU09OKClcbiAgICBpZiAodGhpcy5tYXJrcy5sZW5ndGgpXG4gICAgICBvYmoubWFya3MgPSB0aGlzLm1hcmtzLm1hcChuID0+IG4udG9KU09OKCkpXG4gICAgcmV0dXJuIG9ialxuICB9XG5cbiAgLy8gOjogKFNjaGVtYSwgT2JqZWN0KSDihpIgTm9kZVxuICAvLyBEZXNlcmlhbGl6ZSBhIG5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi5cbiAgc3RhdGljIGZyb21KU09OKHNjaGVtYSwganNvbikge1xuICAgIGlmICghanNvbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGlucHV0IGZvciBOb2RlLmZyb21KU09OXCIpXG4gICAgbGV0IG1hcmtzID0gbnVsbFxuICAgIGlmIChqc29uLm1hcmtzKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoanNvbi5tYXJrcykpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBtYXJrIGRhdGEgZm9yIE5vZGUuZnJvbUpTT05cIilcbiAgICAgIG1hcmtzID0ganNvbi5tYXJrcy5tYXAoc2NoZW1hLm1hcmtGcm9tSlNPTilcbiAgICB9XG4gICAgaWYgKGpzb24udHlwZSA9PSBcInRleHRcIikge1xuICAgICAgaWYgKHR5cGVvZiBqc29uLnRleHQgIT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHRleHQgbm9kZSBpbiBKU09OXCIpXG4gICAgICByZXR1cm4gc2NoZW1hLnRleHQoanNvbi50ZXh0LCBtYXJrcylcbiAgICB9XG4gICAgbGV0IGNvbnRlbnQgPSBGcmFnbWVudC5mcm9tSlNPTihzY2hlbWEsIGpzb24uY29udGVudClcbiAgICByZXR1cm4gc2NoZW1hLm5vZGVUeXBlKGpzb24udHlwZSkuY3JlYXRlKGpzb24uYXR0cnMsIGNvbnRlbnQsIG1hcmtzKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0Tm9kZSBleHRlbmRzIE5vZGUge1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBhdHRycywgY29udGVudCwgbWFya3MpIHtcbiAgICBzdXBlcih0eXBlLCBhdHRycywgbnVsbCwgbWFya3MpXG5cbiAgICBpZiAoIWNvbnRlbnQpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiRW1wdHkgdGV4dCBub2RlcyBhcmUgbm90IGFsbG93ZWRcIilcblxuICAgIHRoaXMudGV4dCA9IGNvbnRlbnRcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGlmICh0aGlzLnR5cGUuc3BlYy50b0RlYnVnU3RyaW5nKSByZXR1cm4gdGhpcy50eXBlLnNwZWMudG9EZWJ1Z1N0cmluZyh0aGlzKVxuICAgIHJldHVybiB3cmFwTWFya3ModGhpcy5tYXJrcywgSlNPTi5zdHJpbmdpZnkodGhpcy50ZXh0KSlcbiAgfVxuXG4gIGdldCB0ZXh0Q29udGVudCgpIHsgcmV0dXJuIHRoaXMudGV4dCB9XG5cbiAgdGV4dEJldHdlZW4oZnJvbSwgdG8pIHsgcmV0dXJuIHRoaXMudGV4dC5zbGljZShmcm9tLCB0bykgfVxuXG4gIGdldCBub2RlU2l6ZSgpIHsgcmV0dXJuIHRoaXMudGV4dC5sZW5ndGggfVxuXG4gIG1hcmsobWFya3MpIHtcbiAgICByZXR1cm4gbWFya3MgPT0gdGhpcy5tYXJrcyA/IHRoaXMgOiBuZXcgVGV4dE5vZGUodGhpcy50eXBlLCB0aGlzLmF0dHJzLCB0aGlzLnRleHQsIG1hcmtzKVxuICB9XG5cbiAgd2l0aFRleHQodGV4dCkge1xuICAgIGlmICh0ZXh0ID09IHRoaXMudGV4dCkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gbmV3IFRleHROb2RlKHRoaXMudHlwZSwgdGhpcy5hdHRycywgdGV4dCwgdGhpcy5tYXJrcylcbiAgfVxuXG4gIGN1dChmcm9tID0gMCwgdG8gPSB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgaWYgKGZyb20gPT0gMCAmJiB0byA9PSB0aGlzLnRleHQubGVuZ3RoKSByZXR1cm4gdGhpc1xuICAgIHJldHVybiB0aGlzLndpdGhUZXh0KHRoaXMudGV4dC5zbGljZShmcm9tLCB0bykpXG4gIH1cblxuICBlcShvdGhlcikge1xuICAgIHJldHVybiB0aGlzLnNhbWVNYXJrdXAob3RoZXIpICYmIHRoaXMudGV4dCA9PSBvdGhlci50ZXh0XG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgbGV0IGJhc2UgPSBzdXBlci50b0pTT04oKVxuICAgIGJhc2UudGV4dCA9IHRoaXMudGV4dFxuICAgIHJldHVybiBiYXNlXG4gIH1cbn1cblxuZnVuY3Rpb24gd3JhcE1hcmtzKG1hcmtzLCBzdHIpIHtcbiAgZm9yIChsZXQgaSA9IG1hcmtzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgIHN0ciA9IG1hcmtzW2ldLnR5cGUubmFtZSArIFwiKFwiICsgc3RyICsgXCIpXCJcbiAgcmV0dXJuIHN0clxufVxuIiwiaW1wb3J0IHtGcmFnbWVudH0gZnJvbSBcIi4vZnJhZ21lbnRcIlxuXG4vLyA6Oi0gSW5zdGFuY2VzIG9mIHRoaXMgY2xhc3MgcmVwcmVzZW50IGEgbWF0Y2ggc3RhdGUgb2YgYSBub2RlXG4vLyB0eXBlJ3MgW2NvbnRlbnQgZXhwcmVzc2lvbl0oI21vZGVsLk5vZGVTcGVjLmNvbnRlbnQpLCBhbmQgY2FuIGJlXG4vLyB1c2VkIHRvIGZpbmQgb3V0IHdoZXRoZXIgZnVydGhlciBjb250ZW50IG1hdGNoZXMgaGVyZSwgYW5kIHdoZXRoZXJcbi8vIGEgZ2l2ZW4gcG9zaXRpb24gaXMgYSB2YWxpZCBlbmQgb2YgdGhlIG5vZGUuXG5leHBvcnQgY2xhc3MgQ29udGVudE1hdGNoIHtcbiAgY29uc3RydWN0b3IodmFsaWRFbmQpIHtcbiAgICAvLyA6OiBib29sXG4gICAgLy8gVHJ1ZSB3aGVuIHRoaXMgbWF0Y2ggc3RhdGUgcmVwcmVzZW50cyBhIHZhbGlkIGVuZCBvZiB0aGUgbm9kZS5cbiAgICB0aGlzLnZhbGlkRW5kID0gdmFsaWRFbmRcbiAgICB0aGlzLm5leHQgPSBbXVxuICAgIHRoaXMud3JhcENhY2hlID0gW11cbiAgfVxuXG4gIHN0YXRpYyBwYXJzZShzdHJpbmcsIG5vZGVUeXBlcykge1xuICAgIGxldCBzdHJlYW0gPSBuZXcgVG9rZW5TdHJlYW0oc3RyaW5nLCBub2RlVHlwZXMpXG4gICAgaWYgKHN0cmVhbS5uZXh0ID09IG51bGwpIHJldHVybiBDb250ZW50TWF0Y2guZW1wdHlcbiAgICBsZXQgZXhwciA9IHBhcnNlRXhwcihzdHJlYW0pXG4gICAgaWYgKHN0cmVhbS5uZXh0KSBzdHJlYW0uZXJyKFwiVW5leHBlY3RlZCB0cmFpbGluZyB0ZXh0XCIpXG4gICAgbGV0IG1hdGNoID0gZGZhKG5mYShleHByKSlcbiAgICBjaGVja0ZvckRlYWRFbmRzKG1hdGNoLCBzdHJlYW0pXG4gICAgcmV0dXJuIG1hdGNoXG4gIH1cblxuICAvLyA6OiAoTm9kZVR5cGUpIOKGkiA/Q29udGVudE1hdGNoXG4gIC8vIE1hdGNoIGEgbm9kZSB0eXBlLCByZXR1cm5pbmcgYSBtYXRjaCBhZnRlciB0aGF0IG5vZGUgaWZcbiAgLy8gc3VjY2Vzc2Z1bC5cbiAgbWF0Y2hUeXBlKHR5cGUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubmV4dC5sZW5ndGg7IGkgKz0gMilcbiAgICAgIGlmICh0aGlzLm5leHRbaV0gPT0gdHlwZSkgcmV0dXJuIHRoaXMubmV4dFtpICsgMV1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgLy8gOjogKEZyYWdtZW50LCA/bnVtYmVyLCA/bnVtYmVyKSDihpIgP0NvbnRlbnRNYXRjaFxuICAvLyBUcnkgdG8gbWF0Y2ggYSBmcmFnbWVudC4gUmV0dXJucyB0aGUgcmVzdWx0aW5nIG1hdGNoIHdoZW5cbiAgLy8gc3VjY2Vzc2Z1bC5cbiAgbWF0Y2hGcmFnbWVudChmcmFnLCBzdGFydCA9IDAsIGVuZCA9IGZyYWcuY2hpbGRDb3VudCkge1xuICAgIGxldCBjdXIgPSB0aGlzXG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBjdXIgJiYgaSA8IGVuZDsgaSsrKVxuICAgICAgY3VyID0gY3VyLm1hdGNoVHlwZShmcmFnLmNoaWxkKGkpLnR5cGUpXG4gICAgcmV0dXJuIGN1clxuICB9XG5cbiAgZ2V0IGlubGluZUNvbnRlbnQoKSB7XG4gICAgbGV0IGZpcnN0ID0gdGhpcy5uZXh0WzBdXG4gICAgcmV0dXJuIGZpcnN0ID8gZmlyc3QuaXNJbmxpbmUgOiBmYWxzZVxuICB9XG5cbiAgLy8gOjogP05vZGVUeXBlXG4gIC8vIEdldCB0aGUgZmlyc3QgbWF0Y2hpbmcgbm9kZSB0eXBlIGF0IHRoaXMgbWF0Y2ggcG9zaXRpb24gdGhhdCBjYW5cbiAgLy8gYmUgZ2VuZXJhdGVkLlxuICBnZXQgZGVmYXVsdFR5cGUoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5leHQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIGxldCB0eXBlID0gdGhpcy5uZXh0W2ldXG4gICAgICBpZiAoISh0eXBlLmlzVGV4dCB8fCB0eXBlLmhhc1JlcXVpcmVkQXR0cnMoKSkpIHJldHVybiB0eXBlXG4gICAgfVxuICB9XG5cbiAgY29tcGF0aWJsZShvdGhlcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uZXh0Lmxlbmd0aDsgaSArPSAyKVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBvdGhlci5uZXh0Lmxlbmd0aDsgaiArPSAyKVxuICAgICAgICBpZiAodGhpcy5uZXh0W2ldID09IG90aGVyLm5leHRbal0pIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyA6OiAoRnJhZ21lbnQsIGJvb2wsID9udW1iZXIpIOKGkiA/RnJhZ21lbnRcbiAgLy8gVHJ5IHRvIG1hdGNoIHRoZSBnaXZlbiBmcmFnbWVudCwgYW5kIGlmIHRoYXQgZmFpbHMsIHNlZSBpZiBpdCBjYW5cbiAgLy8gYmUgbWFkZSB0byBtYXRjaCBieSBpbnNlcnRpbmcgbm9kZXMgaW4gZnJvbnQgb2YgaXQuIFdoZW5cbiAgLy8gc3VjY2Vzc2Z1bCwgcmV0dXJuIGEgZnJhZ21lbnQgb2YgaW5zZXJ0ZWQgbm9kZXMgKHdoaWNoIG1heSBiZVxuICAvLyBlbXB0eSBpZiBub3RoaW5nIGhhZCB0byBiZSBpbnNlcnRlZCkuIFdoZW4gYHRvRW5kYCBpcyB0cnVlLCBvbmx5XG4gIC8vIHJldHVybiBhIGZyYWdtZW50IGlmIHRoZSByZXN1bHRpbmcgbWF0Y2ggZ29lcyB0byB0aGUgZW5kIG9mIHRoZVxuICAvLyBjb250ZW50IGV4cHJlc3Npb24uXG4gIGZpbGxCZWZvcmUoYWZ0ZXIsIHRvRW5kID0gZmFsc2UsIHN0YXJ0SW5kZXggPSAwKSB7XG4gICAgbGV0IHNlZW4gPSBbdGhpc11cbiAgICBmdW5jdGlvbiBzZWFyY2gobWF0Y2gsIHR5cGVzKSB7XG4gICAgICBsZXQgZmluaXNoZWQgPSBtYXRjaC5tYXRjaEZyYWdtZW50KGFmdGVyLCBzdGFydEluZGV4KVxuICAgICAgaWYgKGZpbmlzaGVkICYmICghdG9FbmQgfHwgZmluaXNoZWQudmFsaWRFbmQpKVxuICAgICAgICByZXR1cm4gRnJhZ21lbnQuZnJvbSh0eXBlcy5tYXAodHAgPT4gdHAuY3JlYXRlQW5kRmlsbCgpKSlcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRjaC5uZXh0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGxldCB0eXBlID0gbWF0Y2gubmV4dFtpXSwgbmV4dCA9IG1hdGNoLm5leHRbaSArIDFdXG4gICAgICAgIGlmICghKHR5cGUuaXNUZXh0IHx8IHR5cGUuaGFzUmVxdWlyZWRBdHRycygpKSAmJiBzZWVuLmluZGV4T2YobmV4dCkgPT0gLTEpIHtcbiAgICAgICAgICBzZWVuLnB1c2gobmV4dClcbiAgICAgICAgICBsZXQgZm91bmQgPSBzZWFyY2gobmV4dCwgdHlwZXMuY29uY2F0KHR5cGUpKVxuICAgICAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGZvdW5kXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2VhcmNoKHRoaXMsIFtdKVxuICB9XG5cbiAgLy8gOjogKE5vZGVUeXBlKSDihpIgP1tOb2RlVHlwZV1cbiAgLy8gRmluZCBhIHNldCBvZiB3cmFwcGluZyBub2RlIHR5cGVzIHRoYXQgd291bGQgYWxsb3cgYSBub2RlIG9mIHRoZVxuICAvLyBnaXZlbiB0eXBlIHRvIGFwcGVhciBhdCB0aGlzIHBvc2l0aW9uLiBUaGUgcmVzdWx0IG1heSBiZSBlbXB0eVxuICAvLyAod2hlbiBpdCBmaXRzIGRpcmVjdGx5KSBhbmQgd2lsbCBiZSBudWxsIHdoZW4gbm8gc3VjaCB3cmFwcGluZ1xuICAvLyBleGlzdHMuXG4gIGZpbmRXcmFwcGluZyh0YXJnZXQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMud3JhcENhY2hlLmxlbmd0aDsgaSArPSAyKVxuICAgICAgaWYgKHRoaXMud3JhcENhY2hlW2ldID09IHRhcmdldCkgcmV0dXJuIHRoaXMud3JhcENhY2hlW2kgKyAxXVxuICAgIGxldCBjb21wdXRlZCA9IHRoaXMuY29tcHV0ZVdyYXBwaW5nKHRhcmdldClcbiAgICB0aGlzLndyYXBDYWNoZS5wdXNoKHRhcmdldCwgY29tcHV0ZWQpXG4gICAgcmV0dXJuIGNvbXB1dGVkXG4gIH1cblxuICBjb21wdXRlV3JhcHBpbmcodGFyZ2V0KSB7XG4gICAgbGV0IHNlZW4gPSBPYmplY3QuY3JlYXRlKG51bGwpLCBhY3RpdmUgPSBbe21hdGNoOiB0aGlzLCB0eXBlOiBudWxsLCB2aWE6IG51bGx9XVxuICAgIHdoaWxlIChhY3RpdmUubGVuZ3RoKSB7XG4gICAgICBsZXQgY3VycmVudCA9IGFjdGl2ZS5zaGlmdCgpLCBtYXRjaCA9IGN1cnJlbnQubWF0Y2hcbiAgICAgIGlmIChtYXRjaC5tYXRjaFR5cGUodGFyZ2V0KSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW11cbiAgICAgICAgZm9yIChsZXQgb2JqID0gY3VycmVudDsgb2JqLnR5cGU7IG9iaiA9IG9iai52aWEpXG4gICAgICAgICAgcmVzdWx0LnB1c2gob2JqLnR5cGUpXG4gICAgICAgIHJldHVybiByZXN1bHQucmV2ZXJzZSgpXG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGNoLm5leHQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgbGV0IHR5cGUgPSBtYXRjaC5uZXh0W2ldXG4gICAgICAgIGlmICghdHlwZS5pc0xlYWYgJiYgIXR5cGUuaGFzUmVxdWlyZWRBdHRycygpICYmICEodHlwZS5uYW1lIGluIHNlZW4pICYmICghY3VycmVudC50eXBlIHx8IG1hdGNoLm5leHRbaSArIDFdLnZhbGlkRW5kKSkge1xuICAgICAgICAgIGFjdGl2ZS5wdXNoKHttYXRjaDogdHlwZS5jb250ZW50TWF0Y2gsIHR5cGUsIHZpYTogY3VycmVudH0pXG4gICAgICAgICAgc2Vlblt0eXBlLm5hbWVdID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gOjogbnVtYmVyXG4gIC8vIFRoZSBudW1iZXIgb2Ygb3V0Z29pbmcgZWRnZXMgdGhpcyBub2RlIGhhcyBpbiB0aGUgZmluaXRlXG4gIC8vIGF1dG9tYXRvbiB0aGF0IGRlc2NyaWJlcyB0aGUgY29udGVudCBleHByZXNzaW9uLlxuICBnZXQgZWRnZUNvdW50KCkge1xuICAgIHJldHVybiB0aGlzLm5leHQubGVuZ3RoID4+IDFcbiAgfVxuXG4gIC8vIDo6IChudW1iZXIpIOKGkiB7dHlwZTogTm9kZVR5cGUsIG5leHQ6IENvbnRlbnRNYXRjaH1cbiAgLy8gR2V0IHRoZSBfbl/igIt0aCBvdXRnb2luZyBlZGdlIGZyb20gdGhpcyBub2RlIGluIHRoZSBmaW5pdGVcbiAgLy8gYXV0b21hdG9uIHRoYXQgZGVzY3JpYmVzIHRoZSBjb250ZW50IGV4cHJlc3Npb24uXG4gIGVkZ2Uobikge1xuICAgIGxldCBpID0gbiA8PCAxXG4gICAgaWYgKGkgPj0gdGhpcy5uZXh0Lmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFRoZXJlJ3Mgbm8gJHtufXRoIGVkZ2UgaW4gdGhpcyBjb250ZW50IG1hdGNoYClcbiAgICByZXR1cm4ge3R5cGU6IHRoaXMubmV4dFtpXSwgbmV4dDogdGhpcy5uZXh0W2kgKyAxXX1cbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGxldCBzZWVuID0gW11cbiAgICBmdW5jdGlvbiBzY2FuKG0pIHtcbiAgICAgIHNlZW4ucHVzaChtKVxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBtLm5leHQubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgIGlmIChzZWVuLmluZGV4T2YobS5uZXh0W2ldKSA9PSAtMSkgc2NhbihtLm5leHRbaV0pXG4gICAgfVxuICAgIHNjYW4odGhpcylcbiAgICByZXR1cm4gc2Vlbi5tYXAoKG0sIGkpID0+IHtcbiAgICAgIGxldCBvdXQgPSBpICsgKG0udmFsaWRFbmQgPyBcIipcIiA6IFwiIFwiKSArIFwiIFwiXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG0ubmV4dC5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAgb3V0ICs9IChpID8gXCIsIFwiIDogXCJcIikgKyBtLm5leHRbaV0ubmFtZSArIFwiLT5cIiArIHNlZW4uaW5kZXhPZihtLm5leHRbaSArIDFdKVxuICAgICAgcmV0dXJuIG91dFxuICAgIH0pLmpvaW4oXCJcXG5cIilcbiAgfVxufVxuXG5Db250ZW50TWF0Y2guZW1wdHkgPSBuZXcgQ29udGVudE1hdGNoKHRydWUpXG5cbmNsYXNzIFRva2VuU3RyZWFtIHtcbiAgY29uc3RydWN0b3Ioc3RyaW5nLCBub2RlVHlwZXMpIHtcbiAgICB0aGlzLnN0cmluZyA9IHN0cmluZ1xuICAgIHRoaXMubm9kZVR5cGVzID0gbm9kZVR5cGVzXG4gICAgdGhpcy5pbmxpbmUgPSBudWxsXG4gICAgdGhpcy5wb3MgPSAwXG4gICAgdGhpcy50b2tlbnMgPSBzdHJpbmcuc3BsaXQoL1xccyooPz1cXGJ8XFxXfCQpLylcbiAgICBpZiAodGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoIC0gMV0gPT0gXCJcIikgdGhpcy50b2tlbnMucG9wKClcbiAgICBpZiAodGhpcy50b2tlbnNbMF0gPT0gXCJcIikgdGhpcy50b2tlbnMudW5zaGlmdCgpXG4gIH1cblxuICBnZXQgbmV4dCgpIHsgcmV0dXJuIHRoaXMudG9rZW5zW3RoaXMucG9zXSB9XG5cbiAgZWF0KHRvaykgeyByZXR1cm4gdGhpcy5uZXh0ID09IHRvayAmJiAodGhpcy5wb3MrKyB8fCB0cnVlKSB9XG5cbiAgZXJyKHN0cikgeyB0aHJvdyBuZXcgU3ludGF4RXJyb3Ioc3RyICsgXCIgKGluIGNvbnRlbnQgZXhwcmVzc2lvbiAnXCIgKyB0aGlzLnN0cmluZyArIFwiJylcIikgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUV4cHIoc3RyZWFtKSB7XG4gIGxldCBleHBycyA9IFtdXG4gIGRvIHsgZXhwcnMucHVzaChwYXJzZUV4cHJTZXEoc3RyZWFtKSkgfVxuICB3aGlsZSAoc3RyZWFtLmVhdChcInxcIikpXG4gIHJldHVybiBleHBycy5sZW5ndGggPT0gMSA/IGV4cHJzWzBdIDoge3R5cGU6IFwiY2hvaWNlXCIsIGV4cHJzfVxufVxuXG5mdW5jdGlvbiBwYXJzZUV4cHJTZXEoc3RyZWFtKSB7XG4gIGxldCBleHBycyA9IFtdXG4gIGRvIHsgZXhwcnMucHVzaChwYXJzZUV4cHJTdWJzY3JpcHQoc3RyZWFtKSkgfVxuICB3aGlsZSAoc3RyZWFtLm5leHQgJiYgc3RyZWFtLm5leHQgIT0gXCIpXCIgJiYgc3RyZWFtLm5leHQgIT0gXCJ8XCIpXG4gIHJldHVybiBleHBycy5sZW5ndGggPT0gMSA/IGV4cHJzWzBdIDoge3R5cGU6IFwic2VxXCIsIGV4cHJzfVxufVxuXG5mdW5jdGlvbiBwYXJzZUV4cHJTdWJzY3JpcHQoc3RyZWFtKSB7XG4gIGxldCBleHByID0gcGFyc2VFeHByQXRvbShzdHJlYW0pXG4gIGZvciAoOzspIHtcbiAgICBpZiAoc3RyZWFtLmVhdChcIitcIikpXG4gICAgICBleHByID0ge3R5cGU6IFwicGx1c1wiLCBleHByfVxuICAgIGVsc2UgaWYgKHN0cmVhbS5lYXQoXCIqXCIpKVxuICAgICAgZXhwciA9IHt0eXBlOiBcInN0YXJcIiwgZXhwcn1cbiAgICBlbHNlIGlmIChzdHJlYW0uZWF0KFwiP1wiKSlcbiAgICAgIGV4cHIgPSB7dHlwZTogXCJvcHRcIiwgZXhwcn1cbiAgICBlbHNlIGlmIChzdHJlYW0uZWF0KFwie1wiKSlcbiAgICAgIGV4cHIgPSBwYXJzZUV4cHJSYW5nZShzdHJlYW0sIGV4cHIpXG4gICAgZWxzZSBicmVha1xuICB9XG4gIHJldHVybiBleHByXG59XG5cbmZ1bmN0aW9uIHBhcnNlTnVtKHN0cmVhbSkge1xuICBpZiAoL1xcRC8udGVzdChzdHJlYW0ubmV4dCkpIHN0cmVhbS5lcnIoXCJFeHBlY3RlZCBudW1iZXIsIGdvdCAnXCIgKyBzdHJlYW0ubmV4dCArIFwiJ1wiKVxuICBsZXQgcmVzdWx0ID0gTnVtYmVyKHN0cmVhbS5uZXh0KVxuICBzdHJlYW0ucG9zKytcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBwYXJzZUV4cHJSYW5nZShzdHJlYW0sIGV4cHIpIHtcbiAgbGV0IG1pbiA9IHBhcnNlTnVtKHN0cmVhbSksIG1heCA9IG1pblxuICBpZiAoc3RyZWFtLmVhdChcIixcIikpIHtcbiAgICBpZiAoc3RyZWFtLm5leHQgIT0gXCJ9XCIpIG1heCA9IHBhcnNlTnVtKHN0cmVhbSlcbiAgICBlbHNlIG1heCA9IC0xXG4gIH1cbiAgaWYgKCFzdHJlYW0uZWF0KFwifVwiKSkgc3RyZWFtLmVycihcIlVuY2xvc2VkIGJyYWNlZCByYW5nZVwiKVxuICByZXR1cm4ge3R5cGU6IFwicmFuZ2VcIiwgbWluLCBtYXgsIGV4cHJ9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVOYW1lKHN0cmVhbSwgbmFtZSkge1xuICBsZXQgdHlwZXMgPSBzdHJlYW0ubm9kZVR5cGVzLCB0eXBlID0gdHlwZXNbbmFtZV1cbiAgaWYgKHR5cGUpIHJldHVybiBbdHlwZV1cbiAgbGV0IHJlc3VsdCA9IFtdXG4gIGZvciAobGV0IHR5cGVOYW1lIGluIHR5cGVzKSB7XG4gICAgbGV0IHR5cGUgPSB0eXBlc1t0eXBlTmFtZV1cbiAgICBpZiAodHlwZS5ncm91cHMuaW5kZXhPZihuYW1lKSA+IC0xKSByZXN1bHQucHVzaCh0eXBlKVxuICB9XG4gIGlmIChyZXN1bHQubGVuZ3RoID09IDApIHN0cmVhbS5lcnIoXCJObyBub2RlIHR5cGUgb3IgZ3JvdXAgJ1wiICsgbmFtZSArIFwiJyBmb3VuZFwiKVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIHBhcnNlRXhwckF0b20oc3RyZWFtKSB7XG4gIGlmIChzdHJlYW0uZWF0KFwiKFwiKSkge1xuICAgIGxldCBleHByID0gcGFyc2VFeHByKHN0cmVhbSlcbiAgICBpZiAoIXN0cmVhbS5lYXQoXCIpXCIpKSBzdHJlYW0uZXJyKFwiTWlzc2luZyBjbG9zaW5nIHBhcmVuXCIpXG4gICAgcmV0dXJuIGV4cHJcbiAgfSBlbHNlIGlmICghL1xcVy8udGVzdChzdHJlYW0ubmV4dCkpIHtcbiAgICBsZXQgZXhwcnMgPSByZXNvbHZlTmFtZShzdHJlYW0sIHN0cmVhbS5uZXh0KS5tYXAodHlwZSA9PiB7XG4gICAgICBpZiAoc3RyZWFtLmlubGluZSA9PSBudWxsKSBzdHJlYW0uaW5saW5lID0gdHlwZS5pc0lubGluZVxuICAgICAgZWxzZSBpZiAoc3RyZWFtLmlubGluZSAhPSB0eXBlLmlzSW5saW5lKSBzdHJlYW0uZXJyKFwiTWl4aW5nIGlubGluZSBhbmQgYmxvY2sgY29udGVudFwiKVxuICAgICAgcmV0dXJuIHt0eXBlOiBcIm5hbWVcIiwgdmFsdWU6IHR5cGV9XG4gICAgfSlcbiAgICBzdHJlYW0ucG9zKytcbiAgICByZXR1cm4gZXhwcnMubGVuZ3RoID09IDEgPyBleHByc1swXSA6IHt0eXBlOiBcImNob2ljZVwiLCBleHByc31cbiAgfSBlbHNlIHtcbiAgICBzdHJlYW0uZXJyKFwiVW5leHBlY3RlZCB0b2tlbiAnXCIgKyBzdHJlYW0ubmV4dCArIFwiJ1wiKVxuICB9XG59XG5cbi8vIFRoZSBjb2RlIGJlbG93IGhlbHBzIGNvbXBpbGUgYSByZWd1bGFyLWV4cHJlc3Npb24tbGlrZSBsYW5ndWFnZVxuLy8gaW50byBhIGRldGVybWluaXN0aWMgZmluaXRlIGF1dG9tYXRvbi4gRm9yIGEgZ29vZCBpbnRyb2R1Y3Rpb24gdG9cbi8vIHRoZXNlIGNvbmNlcHRzLCBzZWUgaHR0cHM6Ly9zd3RjaC5jb20vfnJzYy9yZWdleHAvcmVnZXhwMS5odG1sXG5cbi8vIDogKE9iamVjdCkg4oaSIFtbe3Rlcm06ID9hbnksIHRvOiBudW1iZXJ9XV1cbi8vIENvbnN0cnVjdCBhbiBORkEgZnJvbSBhbiBleHByZXNzaW9uIGFzIHJldHVybmVkIGJ5IHRoZSBwYXJzZXIuIFRoZVxuLy8gTkZBIGlzIHJlcHJlc2VudGVkIGFzIGFuIGFycmF5IG9mIHN0YXRlcywgd2hpY2ggYXJlIHRoZW1zZWx2ZXNcbi8vIGFycmF5cyBvZiBlZGdlcywgd2hpY2ggYXJlIGB7dGVybSwgdG99YCBvYmplY3RzLiBUaGUgZmlyc3Qgc3RhdGUgaXNcbi8vIHRoZSBlbnRyeSBzdGF0ZSBhbmQgdGhlIGxhc3Qgbm9kZSBpcyB0aGUgc3VjY2VzcyBzdGF0ZS5cbi8vXG4vLyBOb3RlIHRoYXQgdW5saWtlIHR5cGljYWwgTkZBcywgdGhlIGVkZ2Ugb3JkZXJpbmcgaW4gdGhpcyBvbmUgaXNcbi8vIHNpZ25pZmljYW50LCBpbiB0aGF0IGl0IGlzIHVzZWQgdG8gY29udHJ1Y3QgZmlsbGVyIGNvbnRlbnQgd2hlblxuLy8gbmVjZXNzYXJ5LlxuZnVuY3Rpb24gbmZhKGV4cHIpIHtcbiAgbGV0IG5mYSA9IFtbXV1cbiAgY29ubmVjdChjb21waWxlKGV4cHIsIDApLCBub2RlKCkpXG4gIHJldHVybiBuZmFcblxuICBmdW5jdGlvbiBub2RlKCkgeyByZXR1cm4gbmZhLnB1c2goW10pIC0gMSB9XG4gIGZ1bmN0aW9uIGVkZ2UoZnJvbSwgdG8sIHRlcm0pIHtcbiAgICBsZXQgZWRnZSA9IHt0ZXJtLCB0b31cbiAgICBuZmFbZnJvbV0ucHVzaChlZGdlKVxuICAgIHJldHVybiBlZGdlXG4gIH1cbiAgZnVuY3Rpb24gY29ubmVjdChlZGdlcywgdG8pIHsgZWRnZXMuZm9yRWFjaChlZGdlID0+IGVkZ2UudG8gPSB0bykgfVxuXG4gIGZ1bmN0aW9uIGNvbXBpbGUoZXhwciwgZnJvbSkge1xuICAgIGlmIChleHByLnR5cGUgPT0gXCJjaG9pY2VcIikge1xuICAgICAgcmV0dXJuIGV4cHIuZXhwcnMucmVkdWNlKChvdXQsIGV4cHIpID0+IG91dC5jb25jYXQoY29tcGlsZShleHByLCBmcm9tKSksIFtdKVxuICAgIH0gZWxzZSBpZiAoZXhwci50eXBlID09IFwic2VxXCIpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgIGxldCBuZXh0ID0gY29tcGlsZShleHByLmV4cHJzW2ldLCBmcm9tKVxuICAgICAgICBpZiAoaSA9PSBleHByLmV4cHJzLmxlbmd0aCAtIDEpIHJldHVybiBuZXh0XG4gICAgICAgIGNvbm5lY3QobmV4dCwgZnJvbSA9IG5vZGUoKSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV4cHIudHlwZSA9PSBcInN0YXJcIikge1xuICAgICAgbGV0IGxvb3AgPSBub2RlKClcbiAgICAgIGVkZ2UoZnJvbSwgbG9vcClcbiAgICAgIGNvbm5lY3QoY29tcGlsZShleHByLmV4cHIsIGxvb3ApLCBsb29wKVxuICAgICAgcmV0dXJuIFtlZGdlKGxvb3ApXVxuICAgIH0gZWxzZSBpZiAoZXhwci50eXBlID09IFwicGx1c1wiKSB7XG4gICAgICBsZXQgbG9vcCA9IG5vZGUoKVxuICAgICAgY29ubmVjdChjb21waWxlKGV4cHIuZXhwciwgZnJvbSksIGxvb3ApXG4gICAgICBjb25uZWN0KGNvbXBpbGUoZXhwci5leHByLCBsb29wKSwgbG9vcClcbiAgICAgIHJldHVybiBbZWRnZShsb29wKV1cbiAgICB9IGVsc2UgaWYgKGV4cHIudHlwZSA9PSBcIm9wdFwiKSB7XG4gICAgICByZXR1cm4gW2VkZ2UoZnJvbSldLmNvbmNhdChjb21waWxlKGV4cHIuZXhwciwgZnJvbSkpXG4gICAgfSBlbHNlIGlmIChleHByLnR5cGUgPT0gXCJyYW5nZVwiKSB7XG4gICAgICBsZXQgY3VyID0gZnJvbVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHByLm1pbjsgaSsrKSB7XG4gICAgICAgIGxldCBuZXh0ID0gbm9kZSgpXG4gICAgICAgIGNvbm5lY3QoY29tcGlsZShleHByLmV4cHIsIGN1ciksIG5leHQpXG4gICAgICAgIGN1ciA9IG5leHRcbiAgICAgIH1cbiAgICAgIGlmIChleHByLm1heCA9PSAtMSkge1xuICAgICAgICBjb25uZWN0KGNvbXBpbGUoZXhwci5leHByLCBjdXIpLCBjdXIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gZXhwci5taW47IGkgPCBleHByLm1heDsgaSsrKSB7XG4gICAgICAgICAgbGV0IG5leHQgPSBub2RlKClcbiAgICAgICAgICBlZGdlKGN1ciwgbmV4dClcbiAgICAgICAgICBjb25uZWN0KGNvbXBpbGUoZXhwci5leHByLCBjdXIpLCBuZXh0KVxuICAgICAgICAgIGN1ciA9IG5leHRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFtlZGdlKGN1cildXG4gICAgfSBlbHNlIGlmIChleHByLnR5cGUgPT0gXCJuYW1lXCIpIHtcbiAgICAgIHJldHVybiBbZWRnZShmcm9tLCBudWxsLCBleHByLnZhbHVlKV1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY21wKGEsIGIpIHsgcmV0dXJuIGIgLSBhIH1cblxuLy8gR2V0IHRoZSBzZXQgb2Ygbm9kZXMgcmVhY2hhYmxlIGJ5IG51bGwgZWRnZXMgZnJvbSBgbm9kZWAuIE9taXRcbi8vIG5vZGVzIHdpdGggb25seSBhIHNpbmdsZSBudWxsLW91dC1lZGdlLCBzaW5jZSB0aGV5IG1heSBsZWFkIHRvXG4vLyBuZWVkbGVzcyBkdXBsaWNhdGVkIG5vZGVzLlxuZnVuY3Rpb24gbnVsbEZyb20obmZhLCBub2RlKSB7XG4gIGxldCByZXN1bHQgPSBbXVxuICBzY2FuKG5vZGUpXG4gIHJldHVybiByZXN1bHQuc29ydChjbXApXG5cbiAgZnVuY3Rpb24gc2Nhbihub2RlKSB7XG4gICAgbGV0IGVkZ2VzID0gbmZhW25vZGVdXG4gICAgaWYgKGVkZ2VzLmxlbmd0aCA9PSAxICYmICFlZGdlc1swXS50ZXJtKSByZXR1cm4gc2NhbihlZGdlc1swXS50bylcbiAgICByZXN1bHQucHVzaChub2RlKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWRnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB7dGVybSwgdG99ID0gZWRnZXNbaV1cbiAgICAgIGlmICghdGVybSAmJiByZXN1bHQuaW5kZXhPZih0bykgPT0gLTEpIHNjYW4odG8pXG4gICAgfVxuICB9XG59XG5cbi8vIDogKFtbe3Rlcm06ID9hbnksIHRvOiBudW1iZXJ9XV0pIOKGkiBDb250ZW50TWF0Y2hcbi8vIENvbXBpbGVzIGFuIE5GQSBhcyBwcm9kdWNlZCBieSBgbmZhYCBpbnRvIGEgREZBLCBtb2RlbGVkIGFzIGEgc2V0XG4vLyBvZiBzdGF0ZSBvYmplY3RzIChgQ29udGVudE1hdGNoYCBpbnN0YW5jZXMpIHdpdGggdHJhbnNpdGlvbnNcbi8vIGJldHdlZW4gdGhlbS5cbmZ1bmN0aW9uIGRmYShuZmEpIHtcbiAgbGV0IGxhYmVsZWQgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gIHJldHVybiBleHBsb3JlKG51bGxGcm9tKG5mYSwgMCkpXG5cbiAgZnVuY3Rpb24gZXhwbG9yZShzdGF0ZXMpIHtcbiAgICBsZXQgb3V0ID0gW11cbiAgICBzdGF0ZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgIG5mYVtub2RlXS5mb3JFYWNoKCh7dGVybSwgdG99KSA9PiB7XG4gICAgICAgIGlmICghdGVybSkgcmV0dXJuXG4gICAgICAgIGxldCBrbm93biA9IG91dC5pbmRleE9mKHRlcm0pLCBzZXQgPSBrbm93biA+IC0xICYmIG91dFtrbm93biArIDFdXG4gICAgICAgIG51bGxGcm9tKG5mYSwgdG8pLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgaWYgKCFzZXQpIG91dC5wdXNoKHRlcm0sIHNldCA9IFtdKVxuICAgICAgICAgIGlmIChzZXQuaW5kZXhPZihub2RlKSA9PSAtMSkgc2V0LnB1c2gobm9kZSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgICBsZXQgc3RhdGUgPSBsYWJlbGVkW3N0YXRlcy5qb2luKFwiLFwiKV0gPSBuZXcgQ29udGVudE1hdGNoKHN0YXRlcy5pbmRleE9mKG5mYS5sZW5ndGggLSAxKSA+IC0xKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBsZXQgc3RhdGVzID0gb3V0W2kgKyAxXS5zb3J0KGNtcClcbiAgICAgIHN0YXRlLm5leHQucHVzaChvdXRbaV0sIGxhYmVsZWRbc3RhdGVzLmpvaW4oXCIsXCIpXSB8fCBleHBsb3JlKHN0YXRlcykpXG4gICAgfVxuICAgIHJldHVybiBzdGF0ZVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9yRGVhZEVuZHMobWF0Y2gsIHN0cmVhbSkge1xuICBmb3IgKGxldCBpID0gMCwgd29yayA9IFttYXRjaF07IGkgPCB3b3JrLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHN0YXRlID0gd29ya1tpXSwgZGVhZCA9ICFzdGF0ZS52YWxpZEVuZCwgbm9kZXMgPSBbXVxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgc3RhdGUubmV4dC5sZW5ndGg7IGogKz0gMikge1xuICAgICAgbGV0IG5vZGUgPSBzdGF0ZS5uZXh0W2pdLCBuZXh0ID0gc3RhdGUubmV4dFtqICsgMV1cbiAgICAgIG5vZGVzLnB1c2gobm9kZS5uYW1lKVxuICAgICAgaWYgKGRlYWQgJiYgIShub2RlLmlzVGV4dCB8fCBub2RlLmhhc1JlcXVpcmVkQXR0cnMoKSkpIGRlYWQgPSBmYWxzZVxuICAgICAgaWYgKHdvcmsuaW5kZXhPZihuZXh0KSA9PSAtMSkgd29yay5wdXNoKG5leHQpXG4gICAgfVxuICAgIGlmIChkZWFkKSBzdHJlYW0uZXJyKFwiT25seSBub24tZ2VuZXJhdGFibGUgbm9kZXMgKFwiICsgbm9kZXMuam9pbihcIiwgXCIpICsgXCIpIGluIGEgcmVxdWlyZWQgcG9zaXRpb25cIilcbiAgfVxufVxuIiwiaW1wb3J0IE9yZGVyZWRNYXAgZnJvbSBcIm9yZGVyZWRtYXBcIlxuXG5pbXBvcnQge05vZGUsIFRleHROb2RlfSBmcm9tIFwiLi9ub2RlXCJcbmltcG9ydCB7RnJhZ21lbnR9IGZyb20gXCIuL2ZyYWdtZW50XCJcbmltcG9ydCB7TWFya30gZnJvbSBcIi4vbWFya1wiXG5pbXBvcnQge0NvbnRlbnRNYXRjaH0gZnJvbSBcIi4vY29udGVudFwiXG5cbi8vIEZvciBub2RlIHR5cGVzIHdoZXJlIGFsbCBhdHRycyBoYXZlIGEgZGVmYXVsdCB2YWx1ZSAob3Igd2hpY2ggZG9uJ3Rcbi8vIGhhdmUgYW55IGF0dHJpYnV0ZXMpLCBidWlsZCB1cCBhIHNpbmdsZSByZXVzYWJsZSBkZWZhdWx0IGF0dHJpYnV0ZVxuLy8gb2JqZWN0LCBhbmQgdXNlIGl0IGZvciBhbGwgbm9kZXMgdGhhdCBkb24ndCBzcGVjaWZ5IHNwZWNpZmljXG4vLyBhdHRyaWJ1dGVzLlxuZnVuY3Rpb24gZGVmYXVsdEF0dHJzKGF0dHJzKSB7XG4gIGxldCBkZWZhdWx0cyA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgZm9yIChsZXQgYXR0ck5hbWUgaW4gYXR0cnMpIHtcbiAgICBsZXQgYXR0ciA9IGF0dHJzW2F0dHJOYW1lXVxuICAgIGlmICghYXR0ci5oYXNEZWZhdWx0KSByZXR1cm4gbnVsbFxuICAgIGRlZmF1bHRzW2F0dHJOYW1lXSA9IGF0dHIuZGVmYXVsdFxuICB9XG4gIHJldHVybiBkZWZhdWx0c1xufVxuXG5mdW5jdGlvbiBjb21wdXRlQXR0cnMoYXR0cnMsIHZhbHVlKSB7XG4gIGxldCBidWlsdCA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgZm9yIChsZXQgbmFtZSBpbiBhdHRycykge1xuICAgIGxldCBnaXZlbiA9IHZhbHVlICYmIHZhbHVlW25hbWVdXG4gICAgaWYgKGdpdmVuID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBhdHRyID0gYXR0cnNbbmFtZV1cbiAgICAgIGlmIChhdHRyLmhhc0RlZmF1bHQpIGdpdmVuID0gYXR0ci5kZWZhdWx0XG4gICAgICBlbHNlIHRocm93IG5ldyBSYW5nZUVycm9yKFwiTm8gdmFsdWUgc3VwcGxpZWQgZm9yIGF0dHJpYnV0ZSBcIiArIG5hbWUpXG4gICAgfVxuICAgIGJ1aWx0W25hbWVdID0gZ2l2ZW5cbiAgfVxuICByZXR1cm4gYnVpbHRcbn1cblxuZnVuY3Rpb24gaW5pdEF0dHJzKGF0dHJzKSB7XG4gIGxldCByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gIGlmIChhdHRycykgZm9yIChsZXQgbmFtZSBpbiBhdHRycykgcmVzdWx0W25hbWVdID0gbmV3IEF0dHJpYnV0ZShhdHRyc1tuYW1lXSlcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLyA6Oi0gTm9kZSB0eXBlcyBhcmUgb2JqZWN0cyBhbGxvY2F0ZWQgb25jZSBwZXIgYFNjaGVtYWAgYW5kIHVzZWQgdG9cbi8vIFt0YWddKCNtb2RlbC5Ob2RlLnR5cGUpIGBOb2RlYCBpbnN0YW5jZXMuIFRoZXkgY29udGFpbiBpbmZvcm1hdGlvblxuLy8gYWJvdXQgdGhlIG5vZGUgdHlwZSwgc3VjaCBhcyBpdHMgbmFtZSBhbmQgd2hhdCBraW5kIG9mIG5vZGUgaXRcbi8vIHJlcHJlc2VudHMuXG5leHBvcnQgY2xhc3MgTm9kZVR5cGUge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBzY2hlbWEsIHNwZWMpIHtcbiAgICAvLyA6OiBzdHJpbmdcbiAgICAvLyBUaGUgbmFtZSB0aGUgbm9kZSB0eXBlIGhhcyBpbiB0aGlzIHNjaGVtYS5cbiAgICB0aGlzLm5hbWUgPSBuYW1lXG5cbiAgICAvLyA6OiBTY2hlbWFcbiAgICAvLyBBIGxpbmsgYmFjayB0byB0aGUgYFNjaGVtYWAgdGhlIG5vZGUgdHlwZSBiZWxvbmdzIHRvLlxuICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hXG5cbiAgICAvLyA6OiBOb2RlU3BlY1xuICAgIC8vIFRoZSBzcGVjIHRoYXQgdGhpcyB0eXBlIGlzIGJhc2VkIG9uXG4gICAgdGhpcy5zcGVjID0gc3BlY1xuXG4gICAgdGhpcy5ncm91cHMgPSBzcGVjLmdyb3VwID8gc3BlYy5ncm91cC5zcGxpdChcIiBcIikgOiBbXVxuICAgIHRoaXMuYXR0cnMgPSBpbml0QXR0cnMoc3BlYy5hdHRycylcblxuICAgIHRoaXMuZGVmYXVsdEF0dHJzID0gZGVmYXVsdEF0dHJzKHRoaXMuYXR0cnMpXG5cbiAgICAvLyA6OiBDb250ZW50TWF0Y2hcbiAgICAvLyBUaGUgc3RhcnRpbmcgbWF0Y2ggb2YgdGhlIG5vZGUgdHlwZSdzIGNvbnRlbnQgZXhwcmVzc2lvbi5cbiAgICB0aGlzLmNvbnRlbnRNYXRjaCA9IG51bGxcblxuICAgIC8vIDogP1tNYXJrVHlwZV1cbiAgICAvLyBUaGUgc2V0IG9mIG1hcmtzIGFsbG93ZWQgaW4gdGhpcyBub2RlLiBgbnVsbGAgbWVhbnMgYWxsIG1hcmtzXG4gICAgLy8gYXJlIGFsbG93ZWQuXG4gICAgdGhpcy5tYXJrU2V0ID0gbnVsbFxuXG4gICAgLy8gOjogYm9vbFxuICAgIC8vIFRydWUgaWYgdGhpcyBub2RlIHR5cGUgaGFzIGlubGluZSBjb250ZW50LlxuICAgIHRoaXMuaW5saW5lQ29udGVudCA9IG51bGxcblxuICAgIC8vIDo6IGJvb2xcbiAgICAvLyBUcnVlIGlmIHRoaXMgaXMgYSBibG9jayB0eXBlXG4gICAgdGhpcy5pc0Jsb2NrID0gIShzcGVjLmlubGluZSB8fCBuYW1lID09IFwidGV4dFwiKVxuXG4gICAgLy8gOjogYm9vbFxuICAgIC8vIFRydWUgaWYgdGhpcyBpcyB0aGUgdGV4dCBub2RlIHR5cGUuXG4gICAgdGhpcy5pc1RleHQgPSBuYW1lID09IFwidGV4dFwiXG4gIH1cblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgaWYgdGhpcyBpcyBhbiBpbmxpbmUgdHlwZS5cbiAgZ2V0IGlzSW5saW5lKCkgeyByZXR1cm4gIXRoaXMuaXNCbG9jayB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBUcnVlIGlmIHRoaXMgaXMgYSB0ZXh0YmxvY2sgdHlwZSwgYSBibG9jayB0aGF0IGNvbnRhaW5zIGlubGluZVxuICAvLyBjb250ZW50LlxuICBnZXQgaXNUZXh0YmxvY2soKSB7IHJldHVybiB0aGlzLmlzQmxvY2sgJiYgdGhpcy5pbmxpbmVDb250ZW50IH1cblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgZm9yIG5vZGUgdHlwZXMgdGhhdCBhbGxvdyBubyBjb250ZW50LlxuICBnZXQgaXNMZWFmKCkgeyByZXR1cm4gdGhpcy5jb250ZW50TWF0Y2ggPT0gQ29udGVudE1hdGNoLmVtcHR5IH1cblxuICAvLyA6OiBib29sXG4gIC8vIFRydWUgd2hlbiB0aGlzIG5vZGUgaXMgYW4gYXRvbSwgaS5lLiB3aGVuIGl0IGRvZXMgbm90IGhhdmVcbiAgLy8gZGlyZWN0bHkgZWRpdGFibGUgY29udGVudC5cbiAgZ2V0IGlzQXRvbSgpIHsgcmV0dXJuIHRoaXMuaXNMZWFmIHx8IHRoaXMuc3BlYy5hdG9tIH1cblxuICAvLyA6OiAoKSDihpIgYm9vbFxuICAvLyBUZWxscyB5b3Ugd2hldGhlciB0aGlzIG5vZGUgdHlwZSBoYXMgYW55IHJlcXVpcmVkIGF0dHJpYnV0ZXMuXG4gIGhhc1JlcXVpcmVkQXR0cnMoKSB7XG4gICAgZm9yIChsZXQgbiBpbiB0aGlzLmF0dHJzKSBpZiAodGhpcy5hdHRyc1tuXS5pc1JlcXVpcmVkKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgY29tcGF0aWJsZUNvbnRlbnQob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcyA9PSBvdGhlciB8fCB0aGlzLmNvbnRlbnRNYXRjaC5jb21wYXRpYmxlKG90aGVyLmNvbnRlbnRNYXRjaClcbiAgfVxuXG4gIGNvbXB1dGVBdHRycyhhdHRycykge1xuICAgIGlmICghYXR0cnMgJiYgdGhpcy5kZWZhdWx0QXR0cnMpIHJldHVybiB0aGlzLmRlZmF1bHRBdHRyc1xuICAgIGVsc2UgcmV0dXJuIGNvbXB1dGVBdHRycyh0aGlzLmF0dHJzLCBhdHRycylcbiAgfVxuXG4gIC8vIDo6ICg/T2JqZWN0LCA/dW5pb248RnJhZ21lbnQsIE5vZGUsIFtOb2RlXT4sID9bTWFya10pIOKGkiBOb2RlXG4gIC8vIENyZWF0ZSBhIGBOb2RlYCBvZiB0aGlzIHR5cGUuIFRoZSBnaXZlbiBhdHRyaWJ1dGVzIGFyZVxuICAvLyBjaGVja2VkIGFuZCBkZWZhdWx0ZWQgKHlvdSBjYW4gcGFzcyBgbnVsbGAgdG8gdXNlIHRoZSB0eXBlJ3NcbiAgLy8gZGVmYXVsdHMgZW50aXJlbHksIGlmIG5vIHJlcXVpcmVkIGF0dHJpYnV0ZXMgZXhpc3QpLiBgY29udGVudGBcbiAgLy8gbWF5IGJlIGEgYEZyYWdtZW50YCwgYSBub2RlLCBhbiBhcnJheSBvZiBub2Rlcywgb3JcbiAgLy8gYG51bGxgLiBTaW1pbGFybHkgYG1hcmtzYCBtYXkgYmUgYG51bGxgIHRvIGRlZmF1bHQgdG8gdGhlIGVtcHR5XG4gIC8vIHNldCBvZiBtYXJrcy5cbiAgY3JlYXRlKGF0dHJzLCBjb250ZW50LCBtYXJrcykge1xuICAgIGlmICh0aGlzLmlzVGV4dCkgdGhyb3cgbmV3IEVycm9yKFwiTm9kZVR5cGUuY3JlYXRlIGNhbid0IGNvbnN0cnVjdCB0ZXh0IG5vZGVzXCIpXG4gICAgcmV0dXJuIG5ldyBOb2RlKHRoaXMsIHRoaXMuY29tcHV0ZUF0dHJzKGF0dHJzKSwgRnJhZ21lbnQuZnJvbShjb250ZW50KSwgTWFyay5zZXRGcm9tKG1hcmtzKSlcbiAgfVxuXG4gIC8vIDo6ICg/T2JqZWN0LCA/dW5pb248RnJhZ21lbnQsIE5vZGUsIFtOb2RlXT4sID9bTWFya10pIOKGkiBOb2RlXG4gIC8vIExpa2UgW2BjcmVhdGVgXSgjbW9kZWwuTm9kZVR5cGUuY3JlYXRlKSwgYnV0IGNoZWNrIHRoZSBnaXZlbiBjb250ZW50XG4gIC8vIGFnYWluc3QgdGhlIG5vZGUgdHlwZSdzIGNvbnRlbnQgcmVzdHJpY3Rpb25zLCBhbmQgdGhyb3cgYW4gZXJyb3JcbiAgLy8gaWYgaXQgZG9lc24ndCBtYXRjaC5cbiAgY3JlYXRlQ2hlY2tlZChhdHRycywgY29udGVudCwgbWFya3MpIHtcbiAgICBjb250ZW50ID0gRnJhZ21lbnQuZnJvbShjb250ZW50KVxuICAgIGlmICghdGhpcy52YWxpZENvbnRlbnQoY29udGVudCkpXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgY29udGVudCBmb3Igbm9kZSBcIiArIHRoaXMubmFtZSlcbiAgICByZXR1cm4gbmV3IE5vZGUodGhpcywgdGhpcy5jb21wdXRlQXR0cnMoYXR0cnMpLCBjb250ZW50LCBNYXJrLnNldEZyb20obWFya3MpKVxuICB9XG5cbiAgLy8gOjogKD9PYmplY3QsID91bmlvbjxGcmFnbWVudCwgTm9kZSwgW05vZGVdPiwgP1tNYXJrXSkg4oaSID9Ob2RlXG4gIC8vIExpa2UgW2BjcmVhdGVgXSgjbW9kZWwuTm9kZVR5cGUuY3JlYXRlKSwgYnV0IHNlZSBpZiBpdCBpcyBuZWNlc3NhcnkgdG9cbiAgLy8gYWRkIG5vZGVzIHRvIHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIGdpdmVuIGZyYWdtZW50IHRvIG1ha2UgaXRcbiAgLy8gZml0IHRoZSBub2RlLiBJZiBubyBmaXR0aW5nIHdyYXBwaW5nIGNhbiBiZSBmb3VuZCwgcmV0dXJuIG51bGwuXG4gIC8vIE5vdGUgdGhhdCwgZHVlIHRvIHRoZSBmYWN0IHRoYXQgcmVxdWlyZWQgbm9kZXMgY2FuIGFsd2F5cyBiZVxuICAvLyBjcmVhdGVkLCB0aGlzIHdpbGwgYWx3YXlzIHN1Y2NlZWQgaWYgeW91IHBhc3MgbnVsbCBvclxuICAvLyBgRnJhZ21lbnQuZW1wdHlgIGFzIGNvbnRlbnQuXG4gIGNyZWF0ZUFuZEZpbGwoYXR0cnMsIGNvbnRlbnQsIG1hcmtzKSB7XG4gICAgYXR0cnMgPSB0aGlzLmNvbXB1dGVBdHRycyhhdHRycylcbiAgICBjb250ZW50ID0gRnJhZ21lbnQuZnJvbShjb250ZW50KVxuICAgIGlmIChjb250ZW50LnNpemUpIHtcbiAgICAgIGxldCBiZWZvcmUgPSB0aGlzLmNvbnRlbnRNYXRjaC5maWxsQmVmb3JlKGNvbnRlbnQpXG4gICAgICBpZiAoIWJlZm9yZSkgcmV0dXJuIG51bGxcbiAgICAgIGNvbnRlbnQgPSBiZWZvcmUuYXBwZW5kKGNvbnRlbnQpXG4gICAgfVxuICAgIGxldCBhZnRlciA9IHRoaXMuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQoY29udGVudCkuZmlsbEJlZm9yZShGcmFnbWVudC5lbXB0eSwgdHJ1ZSlcbiAgICBpZiAoIWFmdGVyKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiBuZXcgTm9kZSh0aGlzLCBhdHRycywgY29udGVudC5hcHBlbmQoYWZ0ZXIpLCBNYXJrLnNldEZyb20obWFya3MpKVxuICB9XG5cbiAgLy8gOjogKEZyYWdtZW50KSDihpIgYm9vbFxuICAvLyBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGZyYWdtZW50IGlzIHZhbGlkIGNvbnRlbnQgZm9yIHRoaXMgbm9kZVxuICAvLyB0eXBlIHdpdGggdGhlIGdpdmVuIGF0dHJpYnV0ZXMuXG4gIHZhbGlkQ29udGVudChjb250ZW50KSB7XG4gICAgbGV0IHJlc3VsdCA9IHRoaXMuY29udGVudE1hdGNoLm1hdGNoRnJhZ21lbnQoY29udGVudClcbiAgICBpZiAoIXJlc3VsdCB8fCAhcmVzdWx0LnZhbGlkRW5kKSByZXR1cm4gZmFsc2VcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRlbnQuY2hpbGRDb3VudDsgaSsrKVxuICAgICAgaWYgKCF0aGlzLmFsbG93c01hcmtzKGNvbnRlbnQuY2hpbGQoaSkubWFya3MpKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gOjogKE1hcmtUeXBlKSDihpIgYm9vbFxuICAvLyBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiBtYXJrIHR5cGUgaXMgYWxsb3dlZCBpbiB0aGlzIG5vZGUuXG4gIGFsbG93c01hcmtUeXBlKG1hcmtUeXBlKSB7XG4gICAgcmV0dXJuIHRoaXMubWFya1NldCA9PSBudWxsIHx8IHRoaXMubWFya1NldC5pbmRleE9mKG1hcmtUeXBlKSA+IC0xXG4gIH1cblxuICAvLyA6OiAoW01hcmtdKSDihpIgYm9vbFxuICAvLyBUZXN0IHdoZXRoZXIgdGhlIGdpdmVuIHNldCBvZiBtYXJrcyBhcmUgYWxsb3dlZCBpbiB0aGlzIG5vZGUuXG4gIGFsbG93c01hcmtzKG1hcmtzKSB7XG4gICAgaWYgKHRoaXMubWFya1NldCA9PSBudWxsKSByZXR1cm4gdHJ1ZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyBpKyspIGlmICghdGhpcy5hbGxvd3NNYXJrVHlwZShtYXJrc1tpXS50eXBlKSkgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8vIDo6IChbTWFya10pIOKGkiBbTWFya11cbiAgLy8gUmVtb3ZlcyB0aGUgbWFya3MgdGhhdCBhcmUgbm90IGFsbG93ZWQgaW4gdGhpcyBub2RlIGZyb20gdGhlIGdpdmVuIHNldC5cbiAgYWxsb3dlZE1hcmtzKG1hcmtzKSB7XG4gICAgaWYgKHRoaXMubWFya1NldCA9PSBudWxsKSByZXR1cm4gbWFya3NcbiAgICBsZXQgY29weVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5hbGxvd3NNYXJrVHlwZShtYXJrc1tpXS50eXBlKSkge1xuICAgICAgICBpZiAoIWNvcHkpIGNvcHkgPSBtYXJrcy5zbGljZSgwLCBpKVxuICAgICAgfSBlbHNlIGlmIChjb3B5KSB7XG4gICAgICAgIGNvcHkucHVzaChtYXJrc1tpXSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICFjb3B5ID8gbWFya3MgOiBjb3B5Lmxlbmd0aCA/IGNvcHkgOiBNYXJrLmVtcHR5XG4gIH1cblxuICBzdGF0aWMgY29tcGlsZShub2Rlcywgc2NoZW1hKSB7XG4gICAgbGV0IHJlc3VsdCA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgICBub2Rlcy5mb3JFYWNoKChuYW1lLCBzcGVjKSA9PiByZXN1bHRbbmFtZV0gPSBuZXcgTm9kZVR5cGUobmFtZSwgc2NoZW1hLCBzcGVjKSlcblxuICAgIGxldCB0b3BUeXBlID0gc2NoZW1hLnNwZWMudG9wTm9kZSB8fCBcImRvY1wiXG4gICAgaWYgKCFyZXN1bHRbdG9wVHlwZV0pIHRocm93IG5ldyBSYW5nZUVycm9yKFwiU2NoZW1hIGlzIG1pc3NpbmcgaXRzIHRvcCBub2RlIHR5cGUgKCdcIiArIHRvcFR5cGUgKyBcIicpXCIpXG4gICAgaWYgKCFyZXN1bHQudGV4dCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJFdmVyeSBzY2hlbWEgbmVlZHMgYSAndGV4dCcgdHlwZVwiKVxuICAgIGZvciAobGV0IF8gaW4gcmVzdWx0LnRleHQuYXR0cnMpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlIHRleHQgbm9kZSB0eXBlIHNob3VsZCBub3QgaGF2ZSBhdHRyaWJ1dGVzXCIpXG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cblxuLy8gQXR0cmlidXRlIGRlc2NyaXB0b3JzXG5cbmNsYXNzIEF0dHJpYnV0ZSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLmhhc0RlZmF1bHQgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgXCJkZWZhdWx0XCIpXG4gICAgdGhpcy5kZWZhdWx0ID0gb3B0aW9ucy5kZWZhdWx0XG4gIH1cblxuICBnZXQgaXNSZXF1aXJlZCgpIHtcbiAgICByZXR1cm4gIXRoaXMuaGFzRGVmYXVsdFxuICB9XG59XG5cbi8vIE1hcmtzXG5cbi8vIDo6LSBMaWtlIG5vZGVzLCBtYXJrcyAod2hpY2ggYXJlIGFzc29jaWF0ZWQgd2l0aCBub2RlcyB0byBzaWduaWZ5XG4vLyB0aGluZ3MgbGlrZSBlbXBoYXNpcyBvciBiZWluZyBwYXJ0IG9mIGEgbGluaykgYXJlXG4vLyBbdGFnZ2VkXSgjbW9kZWwuTWFyay50eXBlKSB3aXRoIHR5cGUgb2JqZWN0cywgd2hpY2ggYXJlXG4vLyBpbnN0YW50aWF0ZWQgb25jZSBwZXIgYFNjaGVtYWAuXG5leHBvcnQgY2xhc3MgTWFya1R5cGUge1xuICBjb25zdHJ1Y3RvcihuYW1lLCByYW5rLCBzY2hlbWEsIHNwZWMpIHtcbiAgICAvLyA6OiBzdHJpbmdcbiAgICAvLyBUaGUgbmFtZSBvZiB0aGUgbWFyayB0eXBlLlxuICAgIHRoaXMubmFtZSA9IG5hbWVcblxuICAgIC8vIDo6IFNjaGVtYVxuICAgIC8vIFRoZSBzY2hlbWEgdGhhdCB0aGlzIG1hcmsgdHlwZSBpbnN0YW5jZSBpcyBwYXJ0IG9mLlxuICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hXG5cbiAgICAvLyA6OiBNYXJrU3BlY1xuICAgIC8vIFRoZSBzcGVjIG9uIHdoaWNoIHRoZSB0eXBlIGlzIGJhc2VkLlxuICAgIHRoaXMuc3BlYyA9IHNwZWNcblxuICAgIHRoaXMuYXR0cnMgPSBpbml0QXR0cnMoc3BlYy5hdHRycylcblxuICAgIHRoaXMucmFuayA9IHJhbmtcbiAgICB0aGlzLmV4Y2x1ZGVkID0gbnVsbFxuICAgIGxldCBkZWZhdWx0cyA9IGRlZmF1bHRBdHRycyh0aGlzLmF0dHJzKVxuICAgIHRoaXMuaW5zdGFuY2UgPSBkZWZhdWx0cyAmJiBuZXcgTWFyayh0aGlzLCBkZWZhdWx0cylcbiAgfVxuXG4gIC8vIDo6ICg/T2JqZWN0KSDihpIgTWFya1xuICAvLyBDcmVhdGUgYSBtYXJrIG9mIHRoaXMgdHlwZS4gYGF0dHJzYCBtYXkgYmUgYG51bGxgIG9yIGFuIG9iamVjdFxuICAvLyBjb250YWluaW5nIG9ubHkgc29tZSBvZiB0aGUgbWFyaydzIGF0dHJpYnV0ZXMuIFRoZSBvdGhlcnMsIGlmXG4gIC8vIHRoZXkgaGF2ZSBkZWZhdWx0cywgd2lsbCBiZSBhZGRlZC5cbiAgY3JlYXRlKGF0dHJzKSB7XG4gICAgaWYgKCFhdHRycyAmJiB0aGlzLmluc3RhbmNlKSByZXR1cm4gdGhpcy5pbnN0YW5jZVxuICAgIHJldHVybiBuZXcgTWFyayh0aGlzLCBjb21wdXRlQXR0cnModGhpcy5hdHRycywgYXR0cnMpKVxuICB9XG5cbiAgc3RhdGljIGNvbXBpbGUobWFya3MsIHNjaGVtYSkge1xuICAgIGxldCByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpLCByYW5rID0gMFxuICAgIG1hcmtzLmZvckVhY2goKG5hbWUsIHNwZWMpID0+IHJlc3VsdFtuYW1lXSA9IG5ldyBNYXJrVHlwZShuYW1lLCByYW5rKyssIHNjaGVtYSwgc3BlYykpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLy8gOjogKFtNYXJrXSkg4oaSIFtNYXJrXVxuICAvLyBXaGVuIHRoZXJlIGlzIGEgbWFyayBvZiB0aGlzIHR5cGUgaW4gdGhlIGdpdmVuIHNldCwgYSBuZXcgc2V0XG4gIC8vIHdpdGhvdXQgaXQgaXMgcmV0dXJuZWQuIE90aGVyd2lzZSwgdGhlIGlucHV0IHNldCBpcyByZXR1cm5lZC5cbiAgcmVtb3ZlRnJvbVNldChzZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChzZXRbaV0udHlwZSA9PSB0aGlzKVxuICAgICAgICByZXR1cm4gc2V0LnNsaWNlKDAsIGkpLmNvbmNhdChzZXQuc2xpY2UoaSArIDEpKVxuICAgIHJldHVybiBzZXRcbiAgfVxuXG4gIC8vIDo6IChbTWFya10pIOKGkiA/TWFya1xuICAvLyBUZXN0cyB3aGV0aGVyIHRoZXJlIGlzIGEgbWFyayBvZiB0aGlzIHR5cGUgaW4gdGhlIGdpdmVuIHNldC5cbiAgaXNJblNldChzZXQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChzZXRbaV0udHlwZSA9PSB0aGlzKSByZXR1cm4gc2V0W2ldXG4gIH1cblxuICAvLyA6OiAoTWFya1R5cGUpIOKGkiBib29sXG4gIC8vIFF1ZXJpZXMgd2hldGhlciBhIGdpdmVuIG1hcmsgdHlwZSBpc1xuICAvLyBbZXhjbHVkZWRdKCNtb2RlbC5NYXJrU3BlYy5leGNsdWRlcykgYnkgdGhpcyBvbmUuXG4gIGV4Y2x1ZGVzKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhjbHVkZWQuaW5kZXhPZihvdGhlcikgPiAtMVxuICB9XG59XG5cbi8vIFNjaGVtYVNwZWM6OiBpbnRlcmZhY2Vcbi8vIEFuIG9iamVjdCBkZXNjcmliaW5nIGEgc2NoZW1hLCBhcyBwYXNzZWQgdG8gdGhlIFtgU2NoZW1hYF0oI21vZGVsLlNjaGVtYSlcbi8vIGNvbnN0cnVjdG9yLlxuLy9cbi8vICAgbm9kZXM6OiB1bmlvbjxPYmplY3Q8Tm9kZVNwZWM+LCBPcmRlcmVkTWFwPE5vZGVTcGVjPj5cbi8vICAgVGhlIG5vZGUgdHlwZXMgaW4gdGhpcyBzY2hlbWEuIE1hcHMgbmFtZXMgdG9cbi8vICAgW2BOb2RlU3BlY2BdKCNtb2RlbC5Ob2RlU3BlYykgb2JqZWN0cyB0aGF0IGRlc2NyaWJlIHRoZSBub2RlIHR5cGVcbi8vICAgYXNzb2NpYXRlZCB3aXRoIHRoYXQgbmFtZS4gVGhlaXIgb3JkZXIgaXMgc2lnbmlmaWNhbnTigJRpdFxuLy8gICBkZXRlcm1pbmVzIHdoaWNoIFtwYXJzZSBydWxlc10oI21vZGVsLk5vZGVTcGVjLnBhcnNlRE9NKSB0YWtlXG4vLyAgIHByZWNlZGVuY2UgYnkgZGVmYXVsdCwgYW5kIHdoaWNoIG5vZGVzIGNvbWUgZmlyc3QgaW4gYSBnaXZlblxuLy8gICBbZ3JvdXBdKCNtb2RlbC5Ob2RlU3BlYy5ncm91cCkuXG4vL1xuLy8gICBtYXJrczo6ID91bmlvbjxPYmplY3Q8TWFya1NwZWM+LCBPcmRlcmVkTWFwPE1hcmtTcGVjPj5cbi8vICAgVGhlIG1hcmsgdHlwZXMgdGhhdCBleGlzdCBpbiB0aGlzIHNjaGVtYS4gVGhlIG9yZGVyIGluIHdoaWNoIHRoZXlcbi8vICAgYXJlIHByb3ZpZGVkIGRldGVybWluZXMgdGhlIG9yZGVyIGluIHdoaWNoIFttYXJrXG4vLyAgIHNldHNdKCNtb2RlbC5NYXJrLmFkZFRvU2V0KSBhcmUgc29ydGVkIGFuZCBpbiB3aGljaCBbcGFyc2Vcbi8vICAgcnVsZXNdKCNtb2RlbC5NYXJrU3BlYy5wYXJzZURPTSkgYXJlIHRyaWVkLlxuLy9cbi8vICAgdG9wTm9kZTo6ID9zdHJpbmdcbi8vICAgVGhlIG5hbWUgb2YgdGhlIGRlZmF1bHQgdG9wLWxldmVsIG5vZGUgZm9yIHRoZSBzY2hlbWEuIERlZmF1bHRzXG4vLyAgIHRvIGBcImRvY1wiYC5cblxuLy8gTm9kZVNwZWM6OiBpbnRlcmZhY2Vcbi8vXG4vLyAgIGNvbnRlbnQ6OiA/c3RyaW5nXG4vLyAgIFRoZSBjb250ZW50IGV4cHJlc3Npb24gZm9yIHRoaXMgbm9kZSwgYXMgZGVzY3JpYmVkIGluIHRoZSBbc2NoZW1hXG4vLyAgIGd1aWRlXSgvZG9jcy9ndWlkZS8jc2NoZW1hLmNvbnRlbnRfZXhwcmVzc2lvbnMpLiBXaGVuIG5vdCBnaXZlbixcbi8vICAgdGhlIG5vZGUgZG9lcyBub3QgYWxsb3cgYW55IGNvbnRlbnQuXG4vL1xuLy8gICBtYXJrczo6ID9zdHJpbmdcbi8vICAgVGhlIG1hcmtzIHRoYXQgYXJlIGFsbG93ZWQgaW5zaWRlIG9mIHRoaXMgbm9kZS4gTWF5IGJlIGFcbi8vICAgc3BhY2Utc2VwYXJhdGVkIHN0cmluZyByZWZlcnJpbmcgdG8gbWFyayBuYW1lcyBvciBncm91cHMsIGBcIl9cImBcbi8vICAgdG8gZXhwbGljaXRseSBhbGxvdyBhbGwgbWFya3MsIG9yIGBcIlwiYCB0byBkaXNhbGxvdyBtYXJrcy4gV2hlblxuLy8gICBub3QgZ2l2ZW4sIG5vZGVzIHdpdGggaW5saW5lIGNvbnRlbnQgZGVmYXVsdCB0byBhbGxvd2luZyBhbGxcbi8vICAgbWFya3MsIG90aGVyIG5vZGVzIGRlZmF1bHQgdG8gbm90IGFsbG93aW5nIG1hcmtzLlxuLy9cbi8vICAgZ3JvdXA6OiA/c3RyaW5nXG4vLyAgIFRoZSBncm91cCBvciBzcGFjZS1zZXBhcmF0ZWQgZ3JvdXBzIHRvIHdoaWNoIHRoaXMgbm9kZSBiZWxvbmdzLFxuLy8gICB3aGljaCBjYW4gYmUgcmVmZXJyZWQgdG8gaW4gdGhlIGNvbnRlbnQgZXhwcmVzc2lvbnMgZm9yIHRoZVxuLy8gICBzY2hlbWEuXG4vL1xuLy8gICBpbmxpbmU6OiA/Ym9vbFxuLy8gICBTaG91bGQgYmUgc2V0IHRvIHRydWUgZm9yIGlubGluZSBub2Rlcy4gKEltcGxpZWQgZm9yIHRleHQgbm9kZXMuKVxuLy9cbi8vICAgYXRvbTo6ID9ib29sXG4vLyAgIENhbiBiZSBzZXQgdG8gdHJ1ZSB0byBpbmRpY2F0ZSB0aGF0LCB0aG91Z2ggdGhpcyBpc24ndCBhIFtsZWFmXG4vLyAgIG5vZGVdKCNtb2RlbC5Ob2RlVHlwZS5pc0xlYWYpLCBpdCBkb2Vzbid0IGhhdmUgZGlyZWN0bHkgZWRpdGFibGVcbi8vICAgY29udGVudCBhbmQgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYSBzaW5nbGUgdW5pdCBpbiB0aGUgdmlldy5cbi8vXG4vLyAgIGF0dHJzOjogP09iamVjdDxBdHRyaWJ1dGVTcGVjPlxuLy8gICBUaGUgYXR0cmlidXRlcyB0aGF0IG5vZGVzIG9mIHRoaXMgdHlwZSBnZXQuXG4vL1xuLy8gICBzZWxlY3RhYmxlOjogP2Jvb2xcbi8vICAgQ29udHJvbHMgd2hldGhlciBub2RlcyBvZiB0aGlzIHR5cGUgY2FuIGJlIHNlbGVjdGVkIGFzIGEgW25vZGVcbi8vICAgc2VsZWN0aW9uXSgjc3RhdGUuTm9kZVNlbGVjdGlvbikuIERlZmF1bHRzIHRvIHRydWUgZm9yIG5vbi10ZXh0XG4vLyAgIG5vZGVzLlxuLy9cbi8vICAgZHJhZ2dhYmxlOjogP2Jvb2xcbi8vICAgRGV0ZXJtaW5lcyB3aGV0aGVyIG5vZGVzIG9mIHRoaXMgdHlwZSBjYW4gYmUgZHJhZ2dlZCB3aXRob3V0XG4vLyAgIGJlaW5nIHNlbGVjdGVkLiBEZWZhdWx0cyB0byBmYWxzZS5cbi8vXG4vLyAgIGNvZGU6OiA/Ym9vbFxuLy8gICBDYW4gYmUgdXNlZCB0byBpbmRpY2F0ZSB0aGF0IHRoaXMgbm9kZSBjb250YWlucyBjb2RlLCB3aGljaFxuLy8gICBjYXVzZXMgc29tZSBjb21tYW5kcyB0byBiZWhhdmUgZGlmZmVyZW50bHkuXG4vL1xuLy8gICBkZWZpbmluZzo6ID9ib29sXG4vLyAgIERldGVybWluZXMgd2hldGhlciB0aGlzIG5vZGUgaXMgY29uc2lkZXJlZCBhbiBpbXBvcnRhbnQgcGFyZW50XG4vLyAgIG5vZGUgZHVyaW5nIHJlcGxhY2Ugb3BlcmF0aW9ucyAoc3VjaCBhcyBwYXN0ZSkuIE5vbi1kZWZpbmluZyAodGhlXG4vLyAgIGRlZmF1bHQpIG5vZGVzIGdldCBkcm9wcGVkIHdoZW4gdGhlaXIgZW50aXJlIGNvbnRlbnQgaXMgcmVwbGFjZWQsXG4vLyAgIHdoZXJlYXMgZGVmaW5pbmcgbm9kZXMgcGVyc2lzdCBhbmQgd3JhcCB0aGUgaW5zZXJ0ZWQgY29udGVudC5cbi8vICAgTGlrZXdpc2UsIGluIF9pbnNlcnRlZF8gY29udGVudCB0aGUgZGVmaW5pbmcgcGFyZW50cyBvZiB0aGVcbi8vICAgY29udGVudCBhcmUgcHJlc2VydmVkIHdoZW4gcG9zc2libGUuIFR5cGljYWxseSxcbi8vICAgbm9uLWRlZmF1bHQtcGFyYWdyYXBoIHRleHRibG9jayB0eXBlcywgYW5kIHBvc3NpYmx5IGxpc3QgaXRlbXMsXG4vLyAgIGFyZSBtYXJrZWQgYXMgZGVmaW5pbmcuXG4vL1xuLy8gICBpc29sYXRpbmc6OiA/Ym9vbFxuLy8gICBXaGVuIGVuYWJsZWQgKGRlZmF1bHQgaXMgZmFsc2UpLCB0aGUgc2lkZXMgb2Ygbm9kZXMgb2YgdGhpcyB0eXBlXG4vLyAgIGNvdW50IGFzIGJvdW5kYXJpZXMgdGhhdCByZWd1bGFyIGVkaXRpbmcgb3BlcmF0aW9ucywgbGlrZVxuLy8gICBiYWNrc3BhY2luZyBvciBsaWZ0aW5nLCB3b24ndCBjcm9zcy4gQW4gZXhhbXBsZSBvZiBhIG5vZGUgdGhhdFxuLy8gICBzaG91bGQgcHJvYmFibHkgaGF2ZSB0aGlzIGVuYWJsZWQgaXMgYSB0YWJsZSBjZWxsLlxuLy9cbi8vICAgdG9ET006OiA/KG5vZGU6IE5vZGUpIOKGkiBET01PdXRwdXRTcGVjXG4vLyAgIERlZmluZXMgdGhlIGRlZmF1bHQgd2F5IGEgbm9kZSBvZiB0aGlzIHR5cGUgc2hvdWxkIGJlIHNlcmlhbGl6ZWRcbi8vICAgdG8gRE9NL0hUTUwgKGFzIHVzZWQgYnlcbi8vICAgW2BET01TZXJpYWxpemVyLmZyb21TY2hlbWFgXSgjbW9kZWwuRE9NU2VyaWFsaXplcl5mcm9tU2NoZW1hKSkuXG4vLyAgIFNob3VsZCByZXR1cm4gYSBET00gbm9kZSBvciBhbiBbYXJyYXlcbi8vICAgc3RydWN0dXJlXSgjbW9kZWwuRE9NT3V0cHV0U3BlYykgdGhhdCBkZXNjcmliZXMgb25lLCB3aXRoIGFuXG4vLyAgIG9wdGlvbmFsIG51bWJlciB6ZXJvICjigJxob2xl4oCdKSBpbiBpdCB0byBpbmRpY2F0ZSB3aGVyZSB0aGUgbm9kZSdzXG4vLyAgIGNvbnRlbnQgc2hvdWxkIGJlIGluc2VydGVkLlxuLy9cbi8vICAgRm9yIHRleHQgbm9kZXMsIHRoZSBkZWZhdWx0IGlzIHRvIGNyZWF0ZSBhIHRleHQgRE9NIG5vZGUuIFRob3VnaFxuLy8gICBpdCBpcyBwb3NzaWJsZSB0byBjcmVhdGUgYSBzZXJpYWxpemVyIHdoZXJlIHRleHQgaXMgcmVuZGVyZWRcbi8vICAgZGlmZmVyZW50bHksIHRoaXMgaXMgbm90IHN1cHBvcnRlZCBpbnNpZGUgdGhlIGVkaXRvciwgc28geW91XG4vLyAgIHNob3VsZG4ndCBvdmVycmlkZSB0aGF0IGluIHlvdXIgdGV4dCBub2RlIHNwZWMuXG4vL1xuLy8gICBwYXJzZURPTTo6ID9bUGFyc2VSdWxlXVxuLy8gICBBc3NvY2lhdGVzIERPTSBwYXJzZXIgaW5mb3JtYXRpb24gd2l0aCB0aGlzIG5vZGUsIHdoaWNoIGNhbiBiZVxuLy8gICB1c2VkIGJ5IFtgRE9NUGFyc2VyLmZyb21TY2hlbWFgXSgjbW9kZWwuRE9NUGFyc2VyXmZyb21TY2hlbWEpIHRvXG4vLyAgIGF1dG9tYXRpY2FsbHkgZGVyaXZlIGEgcGFyc2VyLiBUaGUgYG5vZGVgIGZpZWxkIGluIHRoZSBydWxlcyBpc1xuLy8gICBpbXBsaWVkICh0aGUgbmFtZSBvZiB0aGlzIG5vZGUgd2lsbCBiZSBmaWxsZWQgaW4gYXV0b21hdGljYWxseSkuXG4vLyAgIElmIHlvdSBzdXBwbHkgeW91ciBvd24gcGFyc2VyLCB5b3UgZG8gbm90IG5lZWQgdG8gYWxzbyBzcGVjaWZ5XG4vLyAgIHBhcnNpbmcgcnVsZXMgaW4geW91ciBzY2hlbWEuXG4vL1xuLy8gICB0b0RlYnVnU3RyaW5nOjogPyhub2RlOiBOb2RlKSAtPiBzdHJpbmdcbi8vICAgRGVmaW5lcyB0aGUgZGVmYXVsdCB3YXkgYSBub2RlIG9mIHRoaXMgdHlwZSBzaG91bGQgYmUgc2VyaWFsaXplZFxuLy8gICB0byBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBmb3IgZGVidWdnaW5nIChlLmcuIGluIGVycm9yIG1lc3NhZ2VzKS5cblxuLy8gTWFya1NwZWM6OiBpbnRlcmZhY2Vcbi8vXG4vLyAgIGF0dHJzOjogP09iamVjdDxBdHRyaWJ1dGVTcGVjPlxuLy8gICBUaGUgYXR0cmlidXRlcyB0aGF0IG1hcmtzIG9mIHRoaXMgdHlwZSBnZXQuXG4vL1xuLy8gICBpbmNsdXNpdmU6OiA/Ym9vbFxuLy8gICBXaGV0aGVyIHRoaXMgbWFyayBzaG91bGQgYmUgYWN0aXZlIHdoZW4gdGhlIGN1cnNvciBpcyBwb3NpdGlvbmVkXG4vLyAgIGF0IGl0cyBlbmQgKG9yIGF0IGl0cyBzdGFydCB3aGVuIHRoYXQgaXMgYWxzbyB0aGUgc3RhcnQgb2YgdGhlXG4vLyAgIHBhcmVudCBub2RlKS4gRGVmYXVsdHMgdG8gdHJ1ZS5cbi8vXG4vLyAgIGV4Y2x1ZGVzOjogP3N0cmluZ1xuLy8gICBEZXRlcm1pbmVzIHdoaWNoIG90aGVyIG1hcmtzIHRoaXMgbWFyayBjYW4gY29leGlzdCB3aXRoLiBTaG91bGRcbi8vICAgYmUgYSBzcGFjZS1zZXBhcmF0ZWQgc3RyaW5ncyBuYW1pbmcgb3RoZXIgbWFya3Mgb3IgZ3JvdXBzIG9mIG1hcmtzLlxuLy8gICBXaGVuIGEgbWFyayBpcyBbYWRkZWRdKCNtb2RlbC5NYXJrLmFkZFRvU2V0KSB0byBhIHNldCwgYWxsIG1hcmtzXG4vLyAgIHRoYXQgaXQgZXhjbHVkZXMgYXJlIHJlbW92ZWQgaW4gdGhlIHByb2Nlc3MuIElmIHRoZSBzZXQgY29udGFpbnNcbi8vICAgYW55IG1hcmsgdGhhdCBleGNsdWRlcyB0aGUgbmV3IG1hcmsgYnV0IGlzIG5vdCwgaXRzZWxmLCBleGNsdWRlZFxuLy8gICBieSB0aGUgbmV3IG1hcmssIHRoZSBtYXJrIGNhbiBub3QgYmUgYWRkZWQgYW4gdGhlIHNldC4gWW91IGNhblxuLy8gICB1c2UgdGhlIHZhbHVlIGBcIl9cImAgdG8gaW5kaWNhdGUgdGhhdCB0aGUgbWFyayBleGNsdWRlcyBhbGxcbi8vICAgbWFya3MgaW4gdGhlIHNjaGVtYS5cbi8vXG4vLyAgIERlZmF1bHRzIHRvIG9ubHkgYmVpbmcgZXhjbHVzaXZlIHdpdGggbWFya3Mgb2YgdGhlIHNhbWUgdHlwZS4gWW91XG4vLyAgIGNhbiBzZXQgaXQgdG8gYW4gZW1wdHkgc3RyaW5nIChvciBhbnkgc3RyaW5nIG5vdCBjb250YWluaW5nIHRoZVxuLy8gICBtYXJrJ3Mgb3duIG5hbWUpIHRvIGFsbG93IG11bHRpcGxlIG1hcmtzIG9mIGEgZ2l2ZW4gdHlwZSB0b1xuLy8gICBjb2V4aXN0IChhcyBsb25nIGFzIHRoZXkgaGF2ZSBkaWZmZXJlbnQgYXR0cmlidXRlcykuXG4vL1xuLy8gICBncm91cDo6ID9zdHJpbmdcbi8vICAgVGhlIGdyb3VwIG9yIHNwYWNlLXNlcGFyYXRlZCBncm91cHMgdG8gd2hpY2ggdGhpcyBtYXJrIGJlbG9uZ3MuXG4vL1xuLy8gICBzcGFubmluZzo6ID9ib29sXG4vLyAgIERldGVybWluZXMgd2hldGhlciBtYXJrcyBvZiB0aGlzIHR5cGUgY2FuIHNwYW4gbXVsdGlwbGUgYWRqYWNlbnRcbi8vICAgbm9kZXMgd2hlbiBzZXJpYWxpemVkIHRvIERPTS9IVE1MLiBEZWZhdWx0cyB0byB0cnVlLlxuLy9cbi8vICAgdG9ET006OiA/KG1hcms6IE1hcmssIGlubGluZTogYm9vbCkg4oaSIERPTU91dHB1dFNwZWNcbi8vICAgRGVmaW5lcyB0aGUgZGVmYXVsdCB3YXkgbWFya3Mgb2YgdGhpcyB0eXBlIHNob3VsZCBiZSBzZXJpYWxpemVkXG4vLyAgIHRvIERPTS9IVE1MLiBXaGVuIHRoZSByZXN1bHRpbmcgc3BlYyBjb250YWlucyBhIGhvbGUsIHRoYXQgaXNcbi8vICAgd2hlcmUgdGhlIG1hcmtlZCBjb250ZW50IGlzIHBsYWNlZC4gT3RoZXJ3aXNlLCBpdCBpcyBhcHBlbmRlZCB0b1xuLy8gICB0aGUgdG9wIG5vZGUuXG4vL1xuLy8gICBwYXJzZURPTTo6ID9bUGFyc2VSdWxlXVxuLy8gICBBc3NvY2lhdGVzIERPTSBwYXJzZXIgaW5mb3JtYXRpb24gd2l0aCB0aGlzIG1hcmsgKHNlZSB0aGVcbi8vICAgY29ycmVzcG9uZGluZyBbbm9kZSBzcGVjIGZpZWxkXSgjbW9kZWwuTm9kZVNwZWMucGFyc2VET00pKS4gVGhlXG4vLyAgIGBtYXJrYCBmaWVsZCBpbiB0aGUgcnVsZXMgaXMgaW1wbGllZC5cblxuLy8gQXR0cmlidXRlU3BlYzo6IGludGVyZmFjZVxuLy9cbi8vIFVzZWQgdG8gW2RlZmluZV0oI21vZGVsLk5vZGVTcGVjLmF0dHJzKSBhdHRyaWJ1dGVzIG9uIG5vZGVzIG9yXG4vLyBtYXJrcy5cbi8vXG4vLyAgIGRlZmF1bHQ6OiA/YW55XG4vLyAgIFRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGlzIGF0dHJpYnV0ZSwgdG8gdXNlIHdoZW4gbm8gZXhwbGljaXRcbi8vICAgdmFsdWUgaXMgcHJvdmlkZWQuIEF0dHJpYnV0ZXMgdGhhdCBoYXZlIG5vIGRlZmF1bHQgbXVzdCBiZVxuLy8gICBwcm92aWRlZCB3aGVuZXZlciBhIG5vZGUgb3IgbWFyayBvZiBhIHR5cGUgdGhhdCBoYXMgdGhlbSBpc1xuLy8gICBjcmVhdGVkLlxuXG4vLyA6Oi0gQSBkb2N1bWVudCBzY2hlbWEuIEhvbGRzIFtub2RlXSgjbW9kZWwuTm9kZVR5cGUpIGFuZCBbbWFya1xuLy8gdHlwZV0oI21vZGVsLk1hcmtUeXBlKSBvYmplY3RzIGZvciB0aGUgbm9kZXMgYW5kIG1hcmtzIHRoYXQgbWF5XG4vLyBvY2N1ciBpbiBjb25mb3JtaW5nIGRvY3VtZW50cywgYW5kIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yXG4vLyBjcmVhdGluZyBhbmQgZGVzZXJpYWxpemluZyBzdWNoIGRvY3VtZW50cy5cbmV4cG9ydCBjbGFzcyBTY2hlbWEge1xuICAvLyA6OiAoU2NoZW1hU3BlYylcbiAgLy8gQ29uc3RydWN0IGEgc2NoZW1hIGZyb20gYSBzY2hlbWEgW3NwZWNpZmljYXRpb25dKCNtb2RlbC5TY2hlbWFTcGVjKS5cbiAgY29uc3RydWN0b3Ioc3BlYykge1xuICAgIC8vIDo6IFNjaGVtYVNwZWNcbiAgICAvLyBUaGUgW3NwZWNdKCNtb2RlbC5TY2hlbWFTcGVjKSBvbiB3aGljaCB0aGUgc2NoZW1hIGlzIGJhc2VkLFxuICAgIC8vIHdpdGggdGhlIGFkZGVkIGd1YXJhbnRlZSB0aGF0IGl0cyBgbm9kZXNgIGFuZCBgbWFya3NgXG4gICAgLy8gcHJvcGVydGllcyBhcmVcbiAgICAvLyBbYE9yZGVyZWRNYXBgXShodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9vcmRlcmVkbWFwKSBpbnN0YW5jZXNcbiAgICAvLyAobm90IHJhdyBvYmplY3RzKS5cbiAgICB0aGlzLnNwZWMgPSB7fVxuICAgIGZvciAobGV0IHByb3AgaW4gc3BlYykgdGhpcy5zcGVjW3Byb3BdID0gc3BlY1twcm9wXVxuICAgIHRoaXMuc3BlYy5ub2RlcyA9IE9yZGVyZWRNYXAuZnJvbShzcGVjLm5vZGVzKVxuICAgIHRoaXMuc3BlYy5tYXJrcyA9IE9yZGVyZWRNYXAuZnJvbShzcGVjLm1hcmtzKVxuXG4gICAgLy8gOjogT2JqZWN0PE5vZGVUeXBlPlxuICAgIC8vIEFuIG9iamVjdCBtYXBwaW5nIHRoZSBzY2hlbWEncyBub2RlIG5hbWVzIHRvIG5vZGUgdHlwZSBvYmplY3RzLlxuICAgIHRoaXMubm9kZXMgPSBOb2RlVHlwZS5jb21waWxlKHRoaXMuc3BlYy5ub2RlcywgdGhpcylcblxuICAgIC8vIDo6IE9iamVjdDxNYXJrVHlwZT5cbiAgICAvLyBBIG1hcCBmcm9tIG1hcmsgbmFtZXMgdG8gbWFyayB0eXBlIG9iamVjdHMuXG4gICAgdGhpcy5tYXJrcyA9IE1hcmtUeXBlLmNvbXBpbGUodGhpcy5zcGVjLm1hcmtzLCB0aGlzKVxuXG4gICAgbGV0IGNvbnRlbnRFeHByQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gICAgZm9yIChsZXQgcHJvcCBpbiB0aGlzLm5vZGVzKSB7XG4gICAgICBpZiAocHJvcCBpbiB0aGlzLm1hcmtzKVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihwcm9wICsgXCIgY2FuIG5vdCBiZSBib3RoIGEgbm9kZSBhbmQgYSBtYXJrXCIpXG4gICAgICBsZXQgdHlwZSA9IHRoaXMubm9kZXNbcHJvcF0sIGNvbnRlbnRFeHByID0gdHlwZS5zcGVjLmNvbnRlbnQgfHwgXCJcIiwgbWFya0V4cHIgPSB0eXBlLnNwZWMubWFya3NcbiAgICAgIHR5cGUuY29udGVudE1hdGNoID0gY29udGVudEV4cHJDYWNoZVtjb250ZW50RXhwcl0gfHxcbiAgICAgICAgKGNvbnRlbnRFeHByQ2FjaGVbY29udGVudEV4cHJdID0gQ29udGVudE1hdGNoLnBhcnNlKGNvbnRlbnRFeHByLCB0aGlzLm5vZGVzKSlcbiAgICAgIHR5cGUuaW5saW5lQ29udGVudCA9IHR5cGUuY29udGVudE1hdGNoLmlubGluZUNvbnRlbnRcbiAgICAgIHR5cGUubWFya1NldCA9IG1hcmtFeHByID09IFwiX1wiID8gbnVsbCA6XG4gICAgICAgIG1hcmtFeHByID8gZ2F0aGVyTWFya3ModGhpcywgbWFya0V4cHIuc3BsaXQoXCIgXCIpKSA6XG4gICAgICAgIG1hcmtFeHByID09IFwiXCIgfHwgIXR5cGUuaW5saW5lQ29udGVudCA/IFtdIDogbnVsbFxuICAgIH1cbiAgICBmb3IgKGxldCBwcm9wIGluIHRoaXMubWFya3MpIHtcbiAgICAgIGxldCB0eXBlID0gdGhpcy5tYXJrc1twcm9wXSwgZXhjbCA9IHR5cGUuc3BlYy5leGNsdWRlc1xuICAgICAgdHlwZS5leGNsdWRlZCA9IGV4Y2wgPT0gbnVsbCA/IFt0eXBlXSA6IGV4Y2wgPT0gXCJcIiA/IFtdIDogZ2F0aGVyTWFya3ModGhpcywgZXhjbC5zcGxpdChcIiBcIikpXG4gICAgfVxuXG4gICAgdGhpcy5ub2RlRnJvbUpTT04gPSB0aGlzLm5vZGVGcm9tSlNPTi5iaW5kKHRoaXMpXG4gICAgdGhpcy5tYXJrRnJvbUpTT04gPSB0aGlzLm1hcmtGcm9tSlNPTi5iaW5kKHRoaXMpXG5cbiAgICAvLyA6OiBOb2RlVHlwZVxuICAgIC8vIFRoZSB0eXBlIG9mIHRoZSBbZGVmYXVsdCB0b3Agbm9kZV0oI21vZGVsLlNjaGVtYVNwZWMudG9wTm9kZSlcbiAgICAvLyBmb3IgdGhpcyBzY2hlbWEuXG4gICAgdGhpcy50b3BOb2RlVHlwZSA9IHRoaXMubm9kZXNbdGhpcy5zcGVjLnRvcE5vZGUgfHwgXCJkb2NcIl1cblxuICAgIC8vIDo6IE9iamVjdFxuICAgIC8vIEFuIG9iamVjdCBmb3Igc3RvcmluZyB3aGF0ZXZlciB2YWx1ZXMgbW9kdWxlcyBtYXkgd2FudCB0b1xuICAgIC8vIGNvbXB1dGUgYW5kIGNhY2hlIHBlciBzY2hlbWEuIChJZiB5b3Ugd2FudCB0byBzdG9yZSBzb21ldGhpbmdcbiAgICAvLyBpbiBpdCwgdHJ5IHRvIHVzZSBwcm9wZXJ0eSBuYW1lcyB1bmxpa2VseSB0byBjbGFzaC4pXG4gICAgdGhpcy5jYWNoZWQgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gICAgdGhpcy5jYWNoZWQud3JhcHBpbmdzID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICB9XG5cbiAgLy8gOjogKHVuaW9uPHN0cmluZywgTm9kZVR5cGU+LCA/T2JqZWN0LCA/dW5pb248RnJhZ21lbnQsIE5vZGUsIFtOb2RlXT4sID9bTWFya10pIOKGkiBOb2RlXG4gIC8vIENyZWF0ZSBhIG5vZGUgaW4gdGhpcyBzY2hlbWEuIFRoZSBgdHlwZWAgbWF5IGJlIGEgc3RyaW5nIG9yIGFcbiAgLy8gYE5vZGVUeXBlYCBpbnN0YW5jZS4gQXR0cmlidXRlcyB3aWxsIGJlIGV4dGVuZGVkXG4gIC8vIHdpdGggZGVmYXVsdHMsIGBjb250ZW50YCBtYXkgYmUgYSBgRnJhZ21lbnRgLFxuICAvLyBgbnVsbGAsIGEgYE5vZGVgLCBvciBhbiBhcnJheSBvZiBub2Rlcy5cbiAgbm9kZSh0eXBlLCBhdHRycywgY29udGVudCwgbWFya3MpIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT0gXCJzdHJpbmdcIilcbiAgICAgIHR5cGUgPSB0aGlzLm5vZGVUeXBlKHR5cGUpXG4gICAgZWxzZSBpZiAoISh0eXBlIGluc3RhbmNlb2YgTm9kZVR5cGUpKVxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIG5vZGUgdHlwZTogXCIgKyB0eXBlKVxuICAgIGVsc2UgaWYgKHR5cGUuc2NoZW1hICE9IHRoaXMpXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk5vZGUgdHlwZSBmcm9tIGRpZmZlcmVudCBzY2hlbWEgdXNlZCAoXCIgKyB0eXBlLm5hbWUgKyBcIilcIilcblxuICAgIHJldHVybiB0eXBlLmNyZWF0ZUNoZWNrZWQoYXR0cnMsIGNvbnRlbnQsIG1hcmtzKVxuICB9XG5cbiAgLy8gOjogKHN0cmluZywgP1tNYXJrXSkg4oaSIE5vZGVcbiAgLy8gQ3JlYXRlIGEgdGV4dCBub2RlIGluIHRoZSBzY2hlbWEuIEVtcHR5IHRleHQgbm9kZXMgYXJlIG5vdFxuICAvLyBhbGxvd2VkLlxuICB0ZXh0KHRleHQsIG1hcmtzKSB7XG4gICAgbGV0IHR5cGUgPSB0aGlzLm5vZGVzLnRleHRcbiAgICByZXR1cm4gbmV3IFRleHROb2RlKHR5cGUsIHR5cGUuZGVmYXVsdEF0dHJzLCB0ZXh0LCBNYXJrLnNldEZyb20obWFya3MpKVxuICB9XG5cbiAgLy8gOjogKHVuaW9uPHN0cmluZywgTWFya1R5cGU+LCA/T2JqZWN0KSDihpIgTWFya1xuICAvLyBDcmVhdGUgYSBtYXJrIHdpdGggdGhlIGdpdmVuIHR5cGUgYW5kIGF0dHJpYnV0ZXMuXG4gIG1hcmsodHlwZSwgYXR0cnMpIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT0gXCJzdHJpbmdcIikgdHlwZSA9IHRoaXMubWFya3NbdHlwZV1cbiAgICByZXR1cm4gdHlwZS5jcmVhdGUoYXR0cnMpXG4gIH1cblxuICAvLyA6OiAoT2JqZWN0KSDihpIgTm9kZVxuICAvLyBEZXNlcmlhbGl6ZSBhIG5vZGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi4gVGhpcyBtZXRob2QgaXNcbiAgLy8gYm91bmQuXG4gIG5vZGVGcm9tSlNPTihqc29uKSB7XG4gICAgcmV0dXJuIE5vZGUuZnJvbUpTT04odGhpcywganNvbilcbiAgfVxuXG4gIC8vIDo6IChPYmplY3QpIOKGkiBNYXJrXG4gIC8vIERlc2VyaWFsaXplIGEgbWFyayBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uLiBUaGlzIG1ldGhvZCBpc1xuICAvLyBib3VuZC5cbiAgbWFya0Zyb21KU09OKGpzb24pIHtcbiAgICByZXR1cm4gTWFyay5mcm9tSlNPTih0aGlzLCBqc29uKVxuICB9XG5cbiAgbm9kZVR5cGUobmFtZSkge1xuICAgIGxldCBmb3VuZCA9IHRoaXMubm9kZXNbbmFtZV1cbiAgICBpZiAoIWZvdW5kKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlVua25vd24gbm9kZSB0eXBlOiBcIiArIG5hbWUpXG4gICAgcmV0dXJuIGZvdW5kXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2F0aGVyTWFya3Moc2NoZW1hLCBtYXJrcykge1xuICBsZXQgZm91bmQgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG5hbWUgPSBtYXJrc1tpXSwgbWFyayA9IHNjaGVtYS5tYXJrc1tuYW1lXSwgb2sgPSBtYXJrXG4gICAgaWYgKG1hcmspIHtcbiAgICAgIGZvdW5kLnB1c2gobWFyaylcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgcHJvcCBpbiBzY2hlbWEubWFya3MpIHtcbiAgICAgICAgbGV0IG1hcmsgPSBzY2hlbWEubWFya3NbcHJvcF1cbiAgICAgICAgaWYgKG5hbWUgPT0gXCJfXCIgfHwgKG1hcmsuc3BlYy5ncm91cCAmJiBtYXJrLnNwZWMuZ3JvdXAuc3BsaXQoXCIgXCIpLmluZGV4T2YobmFtZSkgPiAtMSkpXG4gICAgICAgICAgZm91bmQucHVzaChvayA9IG1hcmspXG4gICAgICB9XG4gICAgfVxuICAgIGlmICghb2spIHRocm93IG5ldyBTeW50YXhFcnJvcihcIlVua25vd24gbWFyayB0eXBlOiAnXCIgKyBtYXJrc1tpXSArIFwiJ1wiKVxuICB9XG4gIHJldHVybiBmb3VuZFxufVxuIiwiaW1wb3J0IHtGcmFnbWVudH0gZnJvbSBcIi4vZnJhZ21lbnRcIlxuaW1wb3J0IHtTbGljZX0gZnJvbSBcIi4vcmVwbGFjZVwiXG5pbXBvcnQge01hcmt9IGZyb20gXCIuL21hcmtcIlxuXG4vLyBQYXJzZU9wdGlvbnM6OiBpbnRlcmZhY2Vcbi8vIFRoZXNlIGFyZSB0aGUgb3B0aW9ucyByZWNvZ25pemVkIGJ5IHRoZVxuLy8gW2BwYXJzZWBdKCNtb2RlbC5ET01QYXJzZXIucGFyc2UpIGFuZFxuLy8gW2BwYXJzZVNsaWNlYF0oI21vZGVsLkRPTVBhcnNlci5wYXJzZVNsaWNlKSBtZXRob2RzLlxuLy9cbi8vICAgcHJlc2VydmVXaGl0ZXNwYWNlOjogP3VuaW9uPGJvb2wsIFwiZnVsbFwiPlxuLy8gICBCeSBkZWZhdWx0LCB3aGl0ZXNwYWNlIGlzIGNvbGxhcHNlZCBhcyBwZXIgSFRNTCdzIHJ1bGVzLiBQYXNzXG4vLyAgIGB0cnVlYCB0byBwcmVzZXJ2ZSB3aGl0ZXNwYWNlLCBidXQgbm9ybWFsaXplIG5ld2xpbmVzIHRvXG4vLyAgIHNwYWNlcywgYW5kIGBcImZ1bGxcImAgdG8gcHJlc2VydmUgd2hpdGVzcGFjZSBlbnRpcmVseS5cbi8vXG4vLyAgIGZpbmRQb3NpdGlvbnM6OiA/W3tub2RlOiBkb20uTm9kZSwgb2Zmc2V0OiBudW1iZXJ9XVxuLy8gICBXaGVuIGdpdmVuLCB0aGUgcGFyc2VyIHdpbGwsIGJlc2lkZSBwYXJzaW5nIHRoZSBjb250ZW50LFxuLy8gICByZWNvcmQgdGhlIGRvY3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgZ2l2ZW4gRE9NIHBvc2l0aW9ucy4gSXRcbi8vICAgd2lsbCBkbyBzbyBieSB3cml0aW5nIHRvIHRoZSBvYmplY3RzLCBhZGRpbmcgYSBgcG9zYCBwcm9wZXJ0eVxuLy8gICB0aGF0IGhvbGRzIHRoZSBkb2N1bWVudCBwb3NpdGlvbi4gRE9NIHBvc2l0aW9ucyB0aGF0IGFyZSBub3Rcbi8vICAgaW4gdGhlIHBhcnNlZCBjb250ZW50IHdpbGwgbm90IGJlIHdyaXR0ZW4gdG8uXG4vL1xuLy8gICBmcm9tOjogP251bWJlclxuLy8gICBUaGUgY2hpbGQgbm9kZSBpbmRleCB0byBzdGFydCBwYXJzaW5nIGZyb20uXG4vL1xuLy8gICB0bzo6ID9udW1iZXJcbi8vICAgVGhlIGNoaWxkIG5vZGUgaW5kZXggdG8gc3RvcCBwYXJzaW5nIGF0LlxuLy9cbi8vICAgdG9wTm9kZTo6ID9Ob2RlXG4vLyAgIEJ5IGRlZmF1bHQsIHRoZSBjb250ZW50IGlzIHBhcnNlZCBpbnRvIHRoZSBzY2hlbWEncyBkZWZhdWx0XG4vLyAgIFt0b3Agbm9kZSB0eXBlXSgjbW9kZWwuU2NoZW1hLnRvcE5vZGVUeXBlKS4gWW91IGNhbiBwYXNzIHRoaXNcbi8vICAgb3B0aW9uIHRvIHVzZSB0aGUgdHlwZSBhbmQgYXR0cmlidXRlcyBmcm9tIGEgZGlmZmVyZW50IG5vZGVcbi8vICAgYXMgdGhlIHRvcCBjb250YWluZXIuXG4vL1xuLy8gICB0b3BNYXRjaDo6ID9Db250ZW50TWF0Y2hcbi8vICAgUHJvdmlkZSB0aGUgc3RhcnRpbmcgY29udGVudCBtYXRjaCB0aGF0IGNvbnRlbnQgcGFyc2VkIGludG8gdGhlXG4vLyAgIHRvcCBub2RlIGlzIG1hdGNoZWQgYWdhaW5zdC5cbi8vXG4vLyAgIGNvbnRleHQ6OiA/UmVzb2x2ZWRQb3Ncbi8vICAgQSBzZXQgb2YgYWRkaXRpb25hbCBub2RlcyB0byBjb3VudCBhc1xuLy8gICBbY29udGV4dF0oI21vZGVsLlBhcnNlUnVsZS5jb250ZXh0KSB3aGVuIHBhcnNpbmcsIGFib3ZlIHRoZVxuLy8gICBnaXZlbiBbdG9wIG5vZGVdKCNtb2RlbC5QYXJzZU9wdGlvbnMudG9wTm9kZSkuXG5cbi8vIFBhcnNlUnVsZTo6IGludGVyZmFjZVxuLy8gQSB2YWx1ZSB0aGF0IGRlc2NyaWJlcyBob3cgdG8gcGFyc2UgYSBnaXZlbiBET00gbm9kZSBvciBpbmxpbmVcbi8vIHN0eWxlIGFzIGEgUHJvc2VNaXJyb3Igbm9kZSBvciBtYXJrLlxuLy9cbi8vICAgdGFnOjogP3N0cmluZ1xuLy8gICBBIENTUyBzZWxlY3RvciBkZXNjcmliaW5nIHRoZSBraW5kIG9mIERPTSBlbGVtZW50cyB0byBtYXRjaC4gQVxuLy8gICBzaW5nbGUgcnVsZSBzaG91bGQgaGF2ZSBfZWl0aGVyXyBhIGB0YWdgIG9yIGEgYHN0eWxlYCBwcm9wZXJ0eS5cbi8vXG4vLyAgIG5hbWVzcGFjZTo6ID9zdHJpbmdcbi8vICAgVGhlIG5hbWVzcGFjZSB0byBtYXRjaC4gVGhpcyBzaG91bGQgYmUgdXNlZCB3aXRoIGB0YWdgLlxuLy8gICBOb2RlcyBhcmUgb25seSBtYXRjaGVkIHdoZW4gdGhlIG5hbWVzcGFjZSBtYXRjaGVzIG9yIHRoaXMgcHJvcGVydHlcbi8vICAgaXMgbnVsbC5cbi8vXG4vLyAgIHN0eWxlOjogP3N0cmluZ1xuLy8gICBBIENTUyBwcm9wZXJ0eSBuYW1lIHRvIG1hdGNoLiBXaGVuIGdpdmVuLCB0aGlzIHJ1bGUgbWF0Y2hlc1xuLy8gICBpbmxpbmUgc3R5bGVzIHRoYXQgbGlzdCB0aGF0IHByb3BlcnR5LiBNYXkgYWxzbyBoYXZlIHRoZSBmb3JtXG4vLyAgIGBcInByb3BlcnR5PXZhbHVlXCJgLCBpbiB3aGljaCBjYXNlIHRoZSBydWxlIG9ubHkgbWF0Y2hlcyBpZiB0aGVcbi8vICAgcHJvcGVyeSdzIHZhbHVlIGV4YWN0bHkgbWF0Y2hlcyB0aGUgZ2l2ZW4gdmFsdWUuIChGb3IgbW9yZVxuLy8gICBjb21wbGljYXRlZCBmaWx0ZXJzLCB1c2UgW2BnZXRBdHRyc2BdKCNtb2RlbC5QYXJzZVJ1bGUuZ2V0QXR0cnMpXG4vLyAgIGFuZCByZXR1cm4gZmFsc2UgdG8gaW5kaWNhdGUgdGhhdCB0aGUgbWF0Y2ggZmFpbGVkLilcbi8vXG4vLyAgIHByaW9yaXR5OjogP251bWJlclxuLy8gICBDYW4gYmUgdXNlZCB0byBjaGFuZ2UgdGhlIG9yZGVyIGluIHdoaWNoIHRoZSBwYXJzZSBydWxlcyBpbiBhXG4vLyAgIHNjaGVtYSBhcmUgdHJpZWQuIFRob3NlIHdpdGggaGlnaGVyIHByaW9yaXR5IGNvbWUgZmlyc3QuIFJ1bGVzXG4vLyAgIHdpdGhvdXQgYSBwcmlvcml0eSBhcmUgY291bnRlZCBhcyBoYXZpbmcgcHJpb3JpdHkgNTAuIFRoaXNcbi8vICAgcHJvcGVydHkgaXMgb25seSBtZWFuaW5nZnVsIGluIGEgc2NoZW1h4oCUd2hlbiBkaXJlY3RseVxuLy8gICBjb25zdHJ1Y3RpbmcgYSBwYXJzZXIsIHRoZSBvcmRlciBvZiB0aGUgcnVsZSBhcnJheSBpcyB1c2VkLlxuLy9cbi8vICAgY29udGV4dDo6ID9zdHJpbmdcbi8vICAgV2hlbiBnaXZlbiwgcmVzdHJpY3RzIHRoaXMgcnVsZSB0byBvbmx5IG1hdGNoIHdoZW4gdGhlIGN1cnJlbnRcbi8vICAgY29udGV4dOKAlHRoZSBwYXJlbnQgbm9kZXMgaW50byB3aGljaCB0aGUgY29udGVudCBpcyBiZWluZ1xuLy8gICBwYXJzZWTigJRtYXRjaGVzIHRoaXMgZXhwcmVzc2lvbi4gU2hvdWxkIGNvbnRhaW4gb25lIG9yIG1vcmUgbm9kZVxuLy8gICBuYW1lcyBvciBub2RlIGdyb3VwIG5hbWVzIGZvbGxvd2VkIGJ5IHNpbmdsZSBvciBkb3VibGUgc2xhc2hlcy5cbi8vICAgRm9yIGV4YW1wbGUgYFwicGFyYWdyYXBoL1wiYCBtZWFucyB0aGUgcnVsZSBvbmx5IG1hdGNoZXMgd2hlbiB0aGVcbi8vICAgcGFyZW50IG5vZGUgaXMgYSBwYXJhZ3JhcGgsIGBcImJsb2NrcXVvdGUvcGFyYWdyYXBoL1wiYCByZXN0cmljdHNcbi8vICAgaXQgdG8gYmUgaW4gYSBwYXJhZ3JhcGggdGhhdCBpcyBpbnNpZGUgYSBibG9ja3F1b3RlLCBhbmRcbi8vICAgYFwic2VjdGlvbi8vXCJgIG1hdGNoZXMgYW55IHBvc2l0aW9uIGluc2lkZSBhIHNlY3Rpb27igJRhIGRvdWJsZVxuLy8gICBzbGFzaCBtYXRjaGVzIGFueSBzZXF1ZW5jZSBvZiBhbmNlc3RvciBub2Rlcy4gVG8gYWxsb3cgbXVsdGlwbGVcbi8vICAgZGlmZmVyZW50IGNvbnRleHRzLCB0aGV5IGNhbiBiZSBzZXBhcmF0ZWQgYnkgYSBwaXBlIChgfGApXG4vLyAgIGNoYXJhY3RlciwgYXMgaW4gYFwiYmxvY2txdW90ZS98bGlzdF9pdGVtL1wiYC5cbi8vXG4vLyAgIG5vZGU6OiA/c3RyaW5nXG4vLyAgIFRoZSBuYW1lIG9mIHRoZSBub2RlIHR5cGUgdG8gY3JlYXRlIHdoZW4gdGhpcyBydWxlIG1hdGNoZXMuIE9ubHlcbi8vICAgdmFsaWQgZm9yIHJ1bGVzIHdpdGggYSBgdGFnYCBwcm9wZXJ0eSwgbm90IGZvciBzdHlsZSBydWxlcy4gRWFjaFxuLy8gICBydWxlIHNob3VsZCBoYXZlIG9uZSBvZiBhIGBub2RlYCwgYG1hcmtgLCBvciBgaWdub3JlYCBwcm9wZXJ0eVxuLy8gICAoZXhjZXB0IHdoZW4gaXQgYXBwZWFycyBpbiBhIFtub2RlXSgjbW9kZWwuTm9kZVNwZWMucGFyc2VET00pIG9yXG4vLyAgIFttYXJrIHNwZWNdKCNtb2RlbC5NYXJrU3BlYy5wYXJzZURPTSksIGluIHdoaWNoIGNhc2UgdGhlIGBub2RlYFxuLy8gICBvciBgbWFya2AgcHJvcGVydHkgd2lsbCBiZSBkZXJpdmVkIGZyb20gaXRzIHBvc2l0aW9uKS5cbi8vXG4vLyAgIG1hcms6OiA/c3RyaW5nXG4vLyAgIFRoZSBuYW1lIG9mIHRoZSBtYXJrIHR5cGUgdG8gd3JhcCB0aGUgbWF0Y2hlZCBjb250ZW50IGluLlxuLy9cbi8vICAgaWdub3JlOjogP2Jvb2xcbi8vICAgV2hlbiB0cnVlLCBpZ25vcmUgY29udGVudCB0aGF0IG1hdGNoZXMgdGhpcyBydWxlLlxuLy9cbi8vICAgc2tpcDo6ID9ib29sXG4vLyAgIFdoZW4gdHJ1ZSwgaWdub3JlIHRoZSBub2RlIHRoYXQgbWF0Y2hlcyB0aGlzIHJ1bGUsIGJ1dCBkbyBwYXJzZVxuLy8gICBpdHMgY29udGVudC5cbi8vXG4vLyAgIGF0dHJzOjogP09iamVjdFxuLy8gICBBdHRyaWJ1dGVzIGZvciB0aGUgbm9kZSBvciBtYXJrIGNyZWF0ZWQgYnkgdGhpcyBydWxlLiBXaGVuXG4vLyAgIGBnZXRBdHRyc2AgaXMgcHJvdmlkZWQsIGl0IHRha2VzIHByZWNlZGVuY2UuXG4vL1xuLy8gICBnZXRBdHRyczo6ID8odW5pb248ZG9tLk5vZGUsIHN0cmluZz4pIOKGkiA/dW5pb248T2JqZWN0LCBmYWxzZT5cbi8vICAgQSBmdW5jdGlvbiB1c2VkIHRvIGNvbXB1dGUgdGhlIGF0dHJpYnV0ZXMgZm9yIHRoZSBub2RlIG9yIG1hcmtcbi8vICAgY3JlYXRlZCBieSB0aGlzIHJ1bGUuIENhbiBhbHNvIGJlIHVzZWQgdG8gZGVzY3JpYmUgZnVydGhlclxuLy8gICBjb25kaXRpb25zIHRoZSBET00gZWxlbWVudCBvciBzdHlsZSBtdXN0IG1hdGNoLiBXaGVuIGl0IHJldHVybnNcbi8vICAgYGZhbHNlYCwgdGhlIHJ1bGUgd29uJ3QgbWF0Y2guIFdoZW4gaXQgcmV0dXJucyBudWxsIG9yIHVuZGVmaW5lZCxcbi8vICAgdGhhdCBpcyBpbnRlcnByZXRlZCBhcyBhbiBlbXB0eS9kZWZhdWx0IHNldCBvZiBhdHRyaWJ1dGVzLlxuLy9cbi8vICAgQ2FsbGVkIHdpdGggYSBET00gRWxlbWVudCBmb3IgYHRhZ2AgcnVsZXMsIGFuZCB3aXRoIGEgc3RyaW5nICh0aGVcbi8vICAgc3R5bGUncyB2YWx1ZSkgZm9yIGBzdHlsZWAgcnVsZXMuXG4vL1xuLy8gICBjb250ZW50RWxlbWVudDo6ID91bmlvbjxzdHJpbmcsIChkb20uTm9kZSkg4oaSIGRvbS5Ob2RlPlxuLy8gICBGb3IgYHRhZ2AgcnVsZXMgdGhhdCBwcm9kdWNlIG5vbi1sZWFmIG5vZGVzIG9yIG1hcmtzLCBieSBkZWZhdWx0XG4vLyAgIHRoZSBjb250ZW50IG9mIHRoZSBET00gZWxlbWVudCBpcyBwYXJzZWQgYXMgY29udGVudCBvZiB0aGUgbWFya1xuLy8gICBvciBub2RlLiBJZiB0aGUgY2hpbGQgbm9kZXMgYXJlIGluIGEgZGVzY2VuZGVudCBub2RlLCB0aGlzIG1heSBiZVxuLy8gICBhIENTUyBzZWxlY3RvciBzdHJpbmcgdGhhdCB0aGUgcGFyc2VyIG11c3QgdXNlIHRvIGZpbmQgdGhlIGFjdHVhbFxuLy8gICBjb250ZW50IGVsZW1lbnQsIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBhY3R1YWwgY29udGVudFxuLy8gICBlbGVtZW50IHRvIHRoZSBwYXJzZXIuXG4vL1xuLy8gICBnZXRDb250ZW50OjogPyhkb20uTm9kZSwgc2NoZW1hOiBTY2hlbWEpIOKGkiBGcmFnbWVudFxuLy8gICBDYW4gYmUgdXNlZCB0byBvdmVycmlkZSB0aGUgY29udGVudCBvZiBhIG1hdGNoZWQgbm9kZS4gV2hlblxuLy8gICBwcmVzZW50LCBpbnN0ZWFkIG9mIHBhcnNpbmcgdGhlIG5vZGUncyBjaGlsZCBub2RlcywgdGhlIHJlc3VsdCBvZlxuLy8gICB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQuXG4vL1xuLy8gICBwcmVzZXJ2ZVdoaXRlc3BhY2U6OiA/dW5pb248Ym9vbCwgXCJmdWxsXCI+XG4vLyAgIENvbnRyb2xzIHdoZXRoZXIgd2hpdGVzcGFjZSBzaG91bGQgYmUgcHJlc2VydmVkIHdoZW4gcGFyc2luZyB0aGVcbi8vICAgY29udGVudCBpbnNpZGUgdGhlIG1hdGNoZWQgZWxlbWVudC4gYGZhbHNlYCBtZWFucyB3aGl0ZXNwYWNlIG1heVxuLy8gICBiZSBjb2xsYXBzZWQsIGB0cnVlYCBtZWFucyB0aGF0IHdoaXRlc3BhY2Ugc2hvdWxkIGJlIHByZXNlcnZlZFxuLy8gICBidXQgbmV3bGluZXMgbm9ybWFsaXplZCB0byBzcGFjZXMsIGFuZCBgXCJmdWxsXCJgIG1lYW5zIHRoYXRcbi8vICAgbmV3bGluZXMgc2hvdWxkIGFsc28gYmUgcHJlc2VydmVkLlxuXG4vLyA6Oi0gQSBET00gcGFyc2VyIHJlcHJlc2VudHMgYSBzdHJhdGVneSBmb3IgcGFyc2luZyBET00gY29udGVudCBpbnRvXG4vLyBhIFByb3NlTWlycm9yIGRvY3VtZW50IGNvbmZvcm1pbmcgdG8gYSBnaXZlbiBzY2hlbWEuIEl0cyBiZWhhdmlvclxuLy8gaXMgZGVmaW5lZCBieSBhbiBhcnJheSBvZiBbcnVsZXNdKCNtb2RlbC5QYXJzZVJ1bGUpLlxuZXhwb3J0IGNsYXNzIERPTVBhcnNlciB7XG4gIC8vIDo6IChTY2hlbWEsIFtQYXJzZVJ1bGVdKVxuICAvLyBDcmVhdGUgYSBwYXJzZXIgdGhhdCB0YXJnZXRzIHRoZSBnaXZlbiBzY2hlbWEsIHVzaW5nIHRoZSBnaXZlblxuICAvLyBwYXJzaW5nIHJ1bGVzLlxuICBjb25zdHJ1Y3RvcihzY2hlbWEsIHJ1bGVzKSB7XG4gICAgLy8gOjogU2NoZW1hXG4gICAgLy8gVGhlIHNjaGVtYSBpbnRvIHdoaWNoIHRoZSBwYXJzZXIgcGFyc2VzLlxuICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hXG4gICAgLy8gOjogW1BhcnNlUnVsZV1cbiAgICAvLyBUaGUgc2V0IG9mIFtwYXJzZSBydWxlc10oI21vZGVsLlBhcnNlUnVsZSkgdGhhdCB0aGUgcGFyc2VyXG4gICAgLy8gdXNlcywgaW4gb3JkZXIgb2YgcHJlY2VkZW5jZS5cbiAgICB0aGlzLnJ1bGVzID0gcnVsZXNcbiAgICB0aGlzLnRhZ3MgPSBbXVxuICAgIHRoaXMuc3R5bGVzID0gW11cblxuICAgIHJ1bGVzLmZvckVhY2gocnVsZSA9PiB7XG4gICAgICBpZiAocnVsZS50YWcpIHRoaXMudGFncy5wdXNoKHJ1bGUpXG4gICAgICBlbHNlIGlmIChydWxlLnN0eWxlKSB0aGlzLnN0eWxlcy5wdXNoKHJ1bGUpXG4gICAgfSlcbiAgfVxuXG4gIC8vIDo6IChkb20uTm9kZSwgP1BhcnNlT3B0aW9ucykg4oaSIE5vZGVcbiAgLy8gUGFyc2UgYSBkb2N1bWVudCBmcm9tIHRoZSBjb250ZW50IG9mIGEgRE9NIG5vZGUuXG4gIHBhcnNlKGRvbSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGNvbnRleHQgPSBuZXcgUGFyc2VDb250ZXh0KHRoaXMsIG9wdGlvbnMsIGZhbHNlKVxuICAgIGNvbnRleHQuYWRkQWxsKGRvbSwgbnVsbCwgb3B0aW9ucy5mcm9tLCBvcHRpb25zLnRvKVxuICAgIHJldHVybiBjb250ZXh0LmZpbmlzaCgpXG4gIH1cblxuICAvLyA6OiAoZG9tLk5vZGUsID9QYXJzZU9wdGlvbnMpIOKGkiBTbGljZVxuICAvLyBQYXJzZXMgdGhlIGNvbnRlbnQgb2YgdGhlIGdpdmVuIERPTSBub2RlLCBsaWtlXG4gIC8vIFtgcGFyc2VgXSgjbW9kZWwuRE9NUGFyc2VyLnBhcnNlKSwgYW5kIHRha2VzIHRoZSBzYW1lIHNldCBvZlxuICAvLyBvcHRpb25zLiBCdXQgdW5saWtlIHRoYXQgbWV0aG9kLCB3aGljaCBwcm9kdWNlcyBhIHdob2xlIG5vZGUsXG4gIC8vIHRoaXMgb25lIHJldHVybnMgYSBzbGljZSB0aGF0IGlzIG9wZW4gYXQgdGhlIHNpZGVzLCBtZWFuaW5nIHRoYXRcbiAgLy8gdGhlIHNjaGVtYSBjb25zdHJhaW50cyBhcmVuJ3QgYXBwbGllZCB0byB0aGUgc3RhcnQgb2Ygbm9kZXMgdG9cbiAgLy8gdGhlIGxlZnQgb2YgdGhlIGlucHV0IGFuZCB0aGUgZW5kIG9mIG5vZGVzIGF0IHRoZSBlbmQuXG4gIHBhcnNlU2xpY2UoZG9tLCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgY29udGV4dCA9IG5ldyBQYXJzZUNvbnRleHQodGhpcywgb3B0aW9ucywgdHJ1ZSlcbiAgICBjb250ZXh0LmFkZEFsbChkb20sIG51bGwsIG9wdGlvbnMuZnJvbSwgb3B0aW9ucy50bylcbiAgICByZXR1cm4gU2xpY2UubWF4T3Blbihjb250ZXh0LmZpbmlzaCgpKVxuICB9XG5cbiAgbWF0Y2hUYWcoZG9tLCBjb250ZXh0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBydWxlID0gdGhpcy50YWdzW2ldXG4gICAgICBpZiAobWF0Y2hlcyhkb20sIHJ1bGUudGFnKSAmJlxuICAgICAgICAgIChydWxlLm5hbWVzcGFjZSA9PT0gdW5kZWZpbmVkIHx8IGRvbS5uYW1lc3BhY2VVUkkgPT0gcnVsZS5uYW1lc3BhY2UpICYmXG4gICAgICAgICAgKCFydWxlLmNvbnRleHQgfHwgY29udGV4dC5tYXRjaGVzQ29udGV4dChydWxlLmNvbnRleHQpKSkge1xuICAgICAgICBpZiAocnVsZS5nZXRBdHRycykge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBydWxlLmdldEF0dHJzKGRvbSlcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkgY29udGludWVcbiAgICAgICAgICBydWxlLmF0dHJzID0gcmVzdWx0XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bGVcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBtYXRjaFN0eWxlKHByb3AsIHZhbHVlLCBjb250ZXh0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHJ1bGUgPSB0aGlzLnN0eWxlc1tpXVxuICAgICAgaWYgKHJ1bGUuc3R5bGUuaW5kZXhPZihwcm9wKSAhPSAwIHx8XG4gICAgICAgICAgcnVsZS5jb250ZXh0ICYmICFjb250ZXh0Lm1hdGNoZXNDb250ZXh0KHJ1bGUuY29udGV4dCkgfHxcbiAgICAgICAgICAvLyBUZXN0IHRoYXQgdGhlIHN0eWxlIHN0cmluZyBlaXRoZXIgcHJlY2lzZWx5IG1hdGNoZXMgdGhlIHByb3AsXG4gICAgICAgICAgLy8gb3IgaGFzIGFuICc9JyBzaWduIGFmdGVyIHRoZSBwcm9wLCBmb2xsb3dlZCBieSB0aGUgZ2l2ZW5cbiAgICAgICAgICAvLyB2YWx1ZS5cbiAgICAgICAgICBydWxlLnN0eWxlLmxlbmd0aCA+IHByb3AubGVuZ3RoICYmXG4gICAgICAgICAgKHJ1bGUuc3R5bGUuY2hhckNvZGVBdChwcm9wLmxlbmd0aCkgIT0gNjEgfHwgcnVsZS5zdHlsZS5zbGljZShwcm9wLmxlbmd0aCArIDEpICE9IHZhbHVlKSlcbiAgICAgICAgY29udGludWVcbiAgICAgIGlmIChydWxlLmdldEF0dHJzKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBydWxlLmdldEF0dHJzKHZhbHVlKVxuICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkgY29udGludWVcbiAgICAgICAgcnVsZS5hdHRycyA9IHJlc3VsdFxuICAgICAgfVxuICAgICAgcmV0dXJuIHJ1bGVcbiAgICB9XG4gIH1cblxuICAvLyA6IChTY2hlbWEpIOKGkiBbUGFyc2VSdWxlXVxuICBzdGF0aWMgc2NoZW1hUnVsZXMoc2NoZW1hKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdXG4gICAgZnVuY3Rpb24gaW5zZXJ0KHJ1bGUpIHtcbiAgICAgIGxldCBwcmlvcml0eSA9IHJ1bGUucHJpb3JpdHkgPT0gbnVsbCA/IDUwIDogcnVsZS5wcmlvcml0eSwgaSA9IDBcbiAgICAgIGZvciAoOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBuZXh0ID0gcmVzdWx0W2ldLCBuZXh0UHJpb3JpdHkgPSBuZXh0LnByaW9yaXR5ID09IG51bGwgPyA1MCA6IG5leHQucHJpb3JpdHlcbiAgICAgICAgaWYgKG5leHRQcmlvcml0eSA8IHByaW9yaXR5KSBicmVha1xuICAgICAgfVxuICAgICAgcmVzdWx0LnNwbGljZShpLCAwLCBydWxlKVxuICAgIH1cblxuICAgIGZvciAobGV0IG5hbWUgaW4gc2NoZW1hLm1hcmtzKSB7XG4gICAgICBsZXQgcnVsZXMgPSBzY2hlbWEubWFya3NbbmFtZV0uc3BlYy5wYXJzZURPTVxuICAgICAgaWYgKHJ1bGVzKSBydWxlcy5mb3JFYWNoKHJ1bGUgPT4ge1xuICAgICAgICBpbnNlcnQocnVsZSA9IGNvcHkocnVsZSkpXG4gICAgICAgIHJ1bGUubWFyayA9IG5hbWVcbiAgICAgIH0pXG4gICAgfVxuICAgIGZvciAobGV0IG5hbWUgaW4gc2NoZW1hLm5vZGVzKSB7XG4gICAgICBsZXQgcnVsZXMgPSBzY2hlbWEubm9kZXNbbmFtZV0uc3BlYy5wYXJzZURPTVxuICAgICAgaWYgKHJ1bGVzKSBydWxlcy5mb3JFYWNoKHJ1bGUgPT4ge1xuICAgICAgICBpbnNlcnQocnVsZSA9IGNvcHkocnVsZSkpXG4gICAgICAgIHJ1bGUubm9kZSA9IG5hbWVcbiAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8vIDo6IChTY2hlbWEpIOKGkiBET01QYXJzZXJcbiAgLy8gQ29uc3RydWN0IGEgRE9NIHBhcnNlciB1c2luZyB0aGUgcGFyc2luZyBydWxlcyBsaXN0ZWQgaW4gYVxuICAvLyBzY2hlbWEncyBbbm9kZSBzcGVjc10oI21vZGVsLk5vZGVTcGVjLnBhcnNlRE9NKSwgcmVvcmRlcmVkIGJ5XG4gIC8vIFtwcmlvcml0eV0oI21vZGVsLlBhcnNlUnVsZS5wcmlvcml0eSkuXG4gIHN0YXRpYyBmcm9tU2NoZW1hKHNjaGVtYSkge1xuICAgIHJldHVybiBzY2hlbWEuY2FjaGVkLmRvbVBhcnNlciB8fFxuICAgICAgKHNjaGVtYS5jYWNoZWQuZG9tUGFyc2VyID0gbmV3IERPTVBhcnNlcihzY2hlbWEsIERPTVBhcnNlci5zY2hlbWFSdWxlcyhzY2hlbWEpKSlcbiAgfVxufVxuXG4vLyA6IE9iamVjdDxib29sPiBUaGUgYmxvY2stbGV2ZWwgdGFncyBpbiBIVE1MNVxuY29uc3QgYmxvY2tUYWdzID0ge1xuICBhZGRyZXNzOiB0cnVlLCBhcnRpY2xlOiB0cnVlLCBhc2lkZTogdHJ1ZSwgYmxvY2txdW90ZTogdHJ1ZSwgY2FudmFzOiB0cnVlLFxuICBkZDogdHJ1ZSwgZGl2OiB0cnVlLCBkbDogdHJ1ZSwgZmllbGRzZXQ6IHRydWUsIGZpZ2NhcHRpb246IHRydWUsIGZpZ3VyZTogdHJ1ZSxcbiAgZm9vdGVyOiB0cnVlLCBmb3JtOiB0cnVlLCBoMTogdHJ1ZSwgaDI6IHRydWUsIGgzOiB0cnVlLCBoNDogdHJ1ZSwgaDU6IHRydWUsXG4gIGg2OiB0cnVlLCBoZWFkZXI6IHRydWUsIGhncm91cDogdHJ1ZSwgaHI6IHRydWUsIGxpOiB0cnVlLCBub3NjcmlwdDogdHJ1ZSwgb2w6IHRydWUsXG4gIG91dHB1dDogdHJ1ZSwgcDogdHJ1ZSwgcHJlOiB0cnVlLCBzZWN0aW9uOiB0cnVlLCB0YWJsZTogdHJ1ZSwgdGZvb3Q6IHRydWUsIHVsOiB0cnVlXG59XG5cbi8vIDogT2JqZWN0PGJvb2w+IFRoZSB0YWdzIHRoYXQgd2Ugbm9ybWFsbHkgaWdub3JlLlxuY29uc3QgaWdub3JlVGFncyA9IHtcbiAgaGVhZDogdHJ1ZSwgbm9zY3JpcHQ6IHRydWUsIG9iamVjdDogdHJ1ZSwgc2NyaXB0OiB0cnVlLCBzdHlsZTogdHJ1ZSwgdGl0bGU6IHRydWVcbn1cblxuLy8gOiBPYmplY3Q8Ym9vbD4gTGlzdCB0YWdzLlxuY29uc3QgbGlzdFRhZ3MgPSB7b2w6IHRydWUsIHVsOiB0cnVlfVxuXG4vLyBVc2luZyBhIGJpdGZpZWxkIGZvciBub2RlIGNvbnRleHQgb3B0aW9uc1xuY29uc3QgT1BUX1BSRVNFUlZFX1dTID0gMSwgT1BUX1BSRVNFUlZFX1dTX0ZVTEwgPSAyLCBPUFRfT1BFTl9MRUZUID0gNFxuXG5mdW5jdGlvbiB3c09wdGlvbnNGb3IocHJlc2VydmVXaGl0ZXNwYWNlKSB7XG4gIHJldHVybiAocHJlc2VydmVXaGl0ZXNwYWNlID8gT1BUX1BSRVNFUlZFX1dTIDogMCkgfCAocHJlc2VydmVXaGl0ZXNwYWNlID09PSBcImZ1bGxcIiA/IE9QVF9QUkVTRVJWRV9XU19GVUxMIDogMClcbn1cblxuY2xhc3MgTm9kZUNvbnRleHQge1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBhdHRycywgbWFya3MsIHBlbmRpbmdNYXJrcywgc29saWQsIG1hdGNoLCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIHRoaXMuYXR0cnMgPSBhdHRyc1xuICAgIHRoaXMuc29saWQgPSBzb2xpZFxuICAgIHRoaXMubWF0Y2ggPSBtYXRjaCB8fCAob3B0aW9ucyAmIE9QVF9PUEVOX0xFRlQgPyBudWxsIDogdHlwZS5jb250ZW50TWF0Y2gpXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICAgIHRoaXMuY29udGVudCA9IFtdXG4gICAgLy8gTWFya3MgYXBwbGllZCB0byB0aGlzIG5vZGUgaXRzZWxmXG4gICAgdGhpcy5tYXJrcyA9IG1hcmtzXG4gICAgLy8gTWFya3MgYXBwbGllZCB0byBpdHMgY2hpbGRyZW5cbiAgICB0aGlzLmFjdGl2ZU1hcmtzID0gTWFyay5ub25lXG4gICAgLy8gTWFya3MgdGhhdCBjYW4ndCBhcHBseSBoZXJlLCBidXQgd2lsbCBiZSB1c2VkIGluIGNoaWxkcmVuIGlmIHBvc3NpYmxlXG4gICAgdGhpcy5wZW5kaW5nTWFya3MgPSBwZW5kaW5nTWFya3NcbiAgfVxuXG4gIGZpbmRXcmFwcGluZyhub2RlKSB7XG4gICAgaWYgKCF0aGlzLm1hdGNoKSB7XG4gICAgICBpZiAoIXRoaXMudHlwZSkgcmV0dXJuIFtdXG4gICAgICBsZXQgZmlsbCA9IHRoaXMudHlwZS5jb250ZW50TWF0Y2guZmlsbEJlZm9yZShGcmFnbWVudC5mcm9tKG5vZGUpKVxuICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgdGhpcy5tYXRjaCA9IHRoaXMudHlwZS5jb250ZW50TWF0Y2gubWF0Y2hGcmFnbWVudChmaWxsKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy50eXBlLmNvbnRlbnRNYXRjaCwgd3JhcFxuICAgICAgICBpZiAod3JhcCA9IHN0YXJ0LmZpbmRXcmFwcGluZyhub2RlLnR5cGUpKSB7XG4gICAgICAgICAgdGhpcy5tYXRjaCA9IHN0YXJ0XG4gICAgICAgICAgcmV0dXJuIHdyYXBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm1hdGNoLmZpbmRXcmFwcGluZyhub2RlLnR5cGUpXG4gIH1cblxuICBmaW5pc2gob3BlbkVuZCkge1xuICAgIGlmICghKHRoaXMub3B0aW9ucyAmIE9QVF9QUkVTRVJWRV9XUykpIHsgLy8gU3RyaXAgdHJhaWxpbmcgd2hpdGVzcGFjZVxuICAgICAgbGV0IGxhc3QgPSB0aGlzLmNvbnRlbnRbdGhpcy5jb250ZW50Lmxlbmd0aCAtIDFdLCBtXG4gICAgICBpZiAobGFzdCAmJiBsYXN0LmlzVGV4dCAmJiAobSA9IC9bIFxcdFxcclxcblxcdTAwMGNdKyQvLmV4ZWMobGFzdC50ZXh0KSkpIHtcbiAgICAgICAgaWYgKGxhc3QudGV4dC5sZW5ndGggPT0gbVswXS5sZW5ndGgpIHRoaXMuY29udGVudC5wb3AoKVxuICAgICAgICBlbHNlIHRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMV0gPSBsYXN0LndpdGhUZXh0KGxhc3QudGV4dC5zbGljZSgwLCBsYXN0LnRleHQubGVuZ3RoIC0gbVswXS5sZW5ndGgpKVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgY29udGVudCA9IEZyYWdtZW50LmZyb20odGhpcy5jb250ZW50KVxuICAgIGlmICghb3BlbkVuZCAmJiB0aGlzLm1hdGNoKVxuICAgICAgY29udGVudCA9IGNvbnRlbnQuYXBwZW5kKHRoaXMubWF0Y2guZmlsbEJlZm9yZShGcmFnbWVudC5lbXB0eSwgdHJ1ZSkpXG4gICAgcmV0dXJuIHRoaXMudHlwZSA/IHRoaXMudHlwZS5jcmVhdGUodGhpcy5hdHRycywgY29udGVudCwgdGhpcy5tYXJrcykgOiBjb250ZW50XG4gIH1cblxuICBhcHBseVBlbmRpbmcobmV4dFR5cGUpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgcGVuZGluZyA9IHRoaXMucGVuZGluZ01hcmtzOyBpIDwgcGVuZGluZy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG1hcmsgPSBwZW5kaW5nW2ldXG4gICAgICBpZiAoKHRoaXMudHlwZSA/IHRoaXMudHlwZS5hbGxvd3NNYXJrVHlwZShtYXJrLnR5cGUpIDogbWFya01heUFwcGx5KG1hcmsudHlwZSwgbmV4dFR5cGUpKSAmJlxuICAgICAgICAgICFtYXJrLmlzSW5TZXQodGhpcy5hY3RpdmVNYXJrcykpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVNYXJrcyA9IG1hcmsuYWRkVG9TZXQodGhpcy5hY3RpdmVNYXJrcylcbiAgICAgICAgdGhpcy5wZW5kaW5nTWFya3MgPSBtYXJrLnJlbW92ZUZyb21TZXQodGhpcy5wZW5kaW5nTWFya3MpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIFBhcnNlQ29udGV4dCB7XG4gIC8vIDogKERPTVBhcnNlciwgT2JqZWN0KVxuICBjb25zdHJ1Y3RvcihwYXJzZXIsIG9wdGlvbnMsIG9wZW4pIHtcbiAgICAvLyA6IERPTVBhcnNlciBUaGUgcGFyc2VyIHdlIGFyZSB1c2luZy5cbiAgICB0aGlzLnBhcnNlciA9IHBhcnNlclxuICAgIC8vIDogT2JqZWN0IFRoZSBvcHRpb25zIHBhc3NlZCB0byB0aGlzIHBhcnNlLlxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLmlzT3BlbiA9IG9wZW5cbiAgICBsZXQgdG9wTm9kZSA9IG9wdGlvbnMudG9wTm9kZSwgdG9wQ29udGV4dFxuICAgIGxldCB0b3BPcHRpb25zID0gd3NPcHRpb25zRm9yKG9wdGlvbnMucHJlc2VydmVXaGl0ZXNwYWNlKSB8IChvcGVuID8gT1BUX09QRU5fTEVGVCA6IDApXG4gICAgaWYgKHRvcE5vZGUpXG4gICAgICB0b3BDb250ZXh0ID0gbmV3IE5vZGVDb250ZXh0KHRvcE5vZGUudHlwZSwgdG9wTm9kZS5hdHRycywgTWFyay5ub25lLCBNYXJrLm5vbmUsIHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMudG9wTWF0Y2ggfHwgdG9wTm9kZS50eXBlLmNvbnRlbnRNYXRjaCwgdG9wT3B0aW9ucylcbiAgICBlbHNlIGlmIChvcGVuKVxuICAgICAgdG9wQ29udGV4dCA9IG5ldyBOb2RlQ29udGV4dChudWxsLCBudWxsLCBNYXJrLm5vbmUsIE1hcmsubm9uZSwgdHJ1ZSwgbnVsbCwgdG9wT3B0aW9ucylcbiAgICBlbHNlXG4gICAgICB0b3BDb250ZXh0ID0gbmV3IE5vZGVDb250ZXh0KHBhcnNlci5zY2hlbWEudG9wTm9kZVR5cGUsIG51bGwsIE1hcmsubm9uZSwgTWFyay5ub25lLCB0cnVlLCBudWxsLCB0b3BPcHRpb25zKVxuICAgIHRoaXMubm9kZXMgPSBbdG9wQ29udGV4dF1cbiAgICAvLyA6IFtNYXJrXSBUaGUgY3VycmVudCBzZXQgb2YgbWFya3NcbiAgICB0aGlzLm9wZW4gPSAwXG4gICAgdGhpcy5maW5kID0gb3B0aW9ucy5maW5kUG9zaXRpb25zXG4gICAgdGhpcy5uZWVkc0Jsb2NrID0gZmFsc2VcbiAgfVxuXG4gIGdldCB0b3AoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXNbdGhpcy5vcGVuXVxuICB9XG5cbiAgLy8gOiAoZG9tLk5vZGUpXG4gIC8vIEFkZCBhIERPTSBub2RlIHRvIHRoZSBjb250ZW50LiBUZXh0IGlzIGluc2VydGVkIGFzIHRleHQgbm9kZSxcbiAgLy8gb3RoZXJ3aXNlLCB0aGUgbm9kZSBpcyBwYXNzZWQgdG8gYGFkZEVsZW1lbnRgIG9yLCBpZiBpdCBoYXMgYVxuICAvLyBgc3R5bGVgIGF0dHJpYnV0ZSwgYGFkZEVsZW1lbnRXaXRoU3R5bGVzYC5cbiAgYWRkRE9NKGRvbSkge1xuICAgIGlmIChkb20ubm9kZVR5cGUgPT0gMykge1xuICAgICAgdGhpcy5hZGRUZXh0Tm9kZShkb20pXG4gICAgfSBlbHNlIGlmIChkb20ubm9kZVR5cGUgPT0gMSkge1xuICAgICAgbGV0IHN0eWxlID0gZG9tLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpXG4gICAgICBsZXQgbWFya3MgPSBzdHlsZSA/IHRoaXMucmVhZFN0eWxlcyhwYXJzZVN0eWxlcyhzdHlsZSkpIDogbnVsbCwgdG9wID0gdGhpcy50b3BcbiAgICAgIGlmIChtYXJrcyAhPSBudWxsKSBmb3IgKGxldCBpID0gMDsgaSA8IG1hcmtzLmxlbmd0aDsgaSsrKSB0aGlzLmFkZFBlbmRpbmdNYXJrKG1hcmtzW2ldKVxuICAgICAgdGhpcy5hZGRFbGVtZW50KGRvbSlcbiAgICAgIGlmIChtYXJrcyAhPSBudWxsKSBmb3IgKGxldCBpID0gMDsgaSA8IG1hcmtzLmxlbmd0aDsgaSsrKSB0aGlzLnJlbW92ZVBlbmRpbmdNYXJrKG1hcmtzW2ldLCB0b3ApXG4gICAgfVxuICB9XG5cbiAgYWRkVGV4dE5vZGUoZG9tKSB7XG4gICAgbGV0IHZhbHVlID0gZG9tLm5vZGVWYWx1ZVxuICAgIGxldCB0b3AgPSB0aGlzLnRvcFxuICAgIGlmICgodG9wLnR5cGUgPyB0b3AudHlwZS5pbmxpbmVDb250ZW50IDogdG9wLmNvbnRlbnQubGVuZ3RoICYmIHRvcC5jb250ZW50WzBdLmlzSW5saW5lKSB8fCAvW14gXFx0XFxyXFxuXFx1MDAwY10vLnRlc3QodmFsdWUpKSB7XG4gICAgICBpZiAoISh0b3Aub3B0aW9ucyAmIE9QVF9QUkVTRVJWRV9XUykpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9bIFxcdFxcclxcblxcdTAwMGNdKy9nLCBcIiBcIilcbiAgICAgICAgLy8gSWYgdGhpcyBzdGFydHMgd2l0aCB3aGl0ZXNwYWNlLCBhbmQgdGhlcmUgaXMgbm8gbm9kZSBiZWZvcmUgaXQsIG9yXG4gICAgICAgIC8vIGEgaGFyZCBicmVhaywgb3IgYSB0ZXh0IG5vZGUgdGhhdCBlbmRzIHdpdGggd2hpdGVzcGFjZSwgc3RyaXAgdGhlXG4gICAgICAgIC8vIGxlYWRpbmcgc3BhY2UuXG4gICAgICAgIGlmICgvXlsgXFx0XFxyXFxuXFx1MDAwY10vLnRlc3QodmFsdWUpICYmIHRoaXMub3BlbiA9PSB0aGlzLm5vZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBsZXQgbm9kZUJlZm9yZSA9IHRvcC5jb250ZW50W3RvcC5jb250ZW50Lmxlbmd0aCAtIDFdXG4gICAgICAgICAgbGV0IGRvbU5vZGVCZWZvcmUgPSBkb20ucHJldmlvdXNTaWJsaW5nXG4gICAgICAgICAgaWYgKCFub2RlQmVmb3JlIHx8XG4gICAgICAgICAgICAgIChkb21Ob2RlQmVmb3JlICYmIGRvbU5vZGVCZWZvcmUubm9kZU5hbWUgPT0gJ0JSJykgfHxcbiAgICAgICAgICAgICAgKG5vZGVCZWZvcmUuaXNUZXh0ICYmIC9bIFxcdFxcclxcblxcdTAwMGNdJC8udGVzdChub2RlQmVmb3JlLnRleHQpKSlcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2UoMSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghKHRvcC5vcHRpb25zICYgT1BUX1BSRVNFUlZFX1dTX0ZVTEwpKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxyP1xcbnxcXHIvZywgXCIgXCIpXG4gICAgICB9XG4gICAgICBpZiAodmFsdWUpIHRoaXMuaW5zZXJ0Tm9kZSh0aGlzLnBhcnNlci5zY2hlbWEudGV4dCh2YWx1ZSkpXG4gICAgICB0aGlzLmZpbmRJblRleHQoZG9tKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZpbmRJbnNpZGUoZG9tKVxuICAgIH1cbiAgfVxuXG4gIC8vIDogKGRvbS5FbGVtZW50KVxuICAvLyBUcnkgdG8gZmluZCBhIGhhbmRsZXIgZm9yIHRoZSBnaXZlbiB0YWcgYW5kIHVzZSB0aGF0IHRvIHBhcnNlLiBJZlxuICAvLyBub25lIGlzIGZvdW5kLCB0aGUgZWxlbWVudCdzIGNvbnRlbnQgbm9kZXMgYXJlIGFkZGVkIGRpcmVjdGx5LlxuICBhZGRFbGVtZW50KGRvbSkge1xuICAgIGxldCBuYW1lID0gZG9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKClcbiAgICBpZiAobGlzdFRhZ3MuaGFzT3duUHJvcGVydHkobmFtZSkpIG5vcm1hbGl6ZUxpc3QoZG9tKVxuICAgIGxldCBydWxlID0gKHRoaXMub3B0aW9ucy5ydWxlRnJvbU5vZGUgJiYgdGhpcy5vcHRpb25zLnJ1bGVGcm9tTm9kZShkb20pKSB8fCB0aGlzLnBhcnNlci5tYXRjaFRhZyhkb20sIHRoaXMpXG4gICAgaWYgKHJ1bGUgPyBydWxlLmlnbm9yZSA6IGlnbm9yZVRhZ3MuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIHRoaXMuZmluZEluc2lkZShkb20pXG4gICAgfSBlbHNlIGlmICghcnVsZSB8fCBydWxlLnNraXApIHtcbiAgICAgIGlmIChydWxlICYmIHJ1bGUuc2tpcC5ub2RlVHlwZSkgZG9tID0gcnVsZS5za2lwXG4gICAgICBsZXQgc3luYywgdG9wID0gdGhpcy50b3AsIG9sZE5lZWRzQmxvY2sgPSB0aGlzLm5lZWRzQmxvY2tcbiAgICAgIGlmIChibG9ja1RhZ3MuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgc3luYyA9IHRydWVcbiAgICAgICAgaWYgKCF0b3AudHlwZSkgdGhpcy5uZWVkc0Jsb2NrID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmICghZG9tLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdGhpcy5sZWFmRmFsbGJhY2soZG9tKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHRoaXMuYWRkQWxsKGRvbSlcbiAgICAgIGlmIChzeW5jKSB0aGlzLnN5bmModG9wKVxuICAgICAgdGhpcy5uZWVkc0Jsb2NrID0gb2xkTmVlZHNCbG9ja1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZEVsZW1lbnRCeVJ1bGUoZG9tLCBydWxlKVxuICAgIH1cbiAgfVxuXG4gIC8vIENhbGxlZCBmb3IgbGVhZiBET00gbm9kZXMgdGhhdCB3b3VsZCBvdGhlcndpc2UgYmUgaWdub3JlZFxuICBsZWFmRmFsbGJhY2soZG9tKSB7XG4gICAgaWYgKGRvbS5ub2RlTmFtZSA9PSBcIkJSXCIgJiYgdGhpcy50b3AudHlwZSAmJiB0aGlzLnRvcC50eXBlLmlubGluZUNvbnRlbnQpXG4gICAgICB0aGlzLmFkZFRleHROb2RlKGRvbS5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXFxuXCIpKVxuICB9XG5cbiAgLy8gUnVuIGFueSBzdHlsZSBwYXJzZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBub2RlJ3Mgc3R5bGVzLiBFaXRoZXJcbiAgLy8gcmV0dXJuIGFuIGFycmF5IG9mIG1hcmtzLCBvciBudWxsIHRvIGluZGljYXRlIHNvbWUgb2YgdGhlIHN0eWxlc1xuICAvLyBoYWQgYSBydWxlIHdpdGggYGlnbm9yZWAgc2V0LlxuICByZWFkU3R5bGVzKHN0eWxlcykge1xuICAgIGxldCBtYXJrcyA9IE1hcmsubm9uZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICBsZXQgcnVsZSA9IHRoaXMucGFyc2VyLm1hdGNoU3R5bGUoc3R5bGVzW2ldLCBzdHlsZXNbaSArIDFdLCB0aGlzKVxuICAgICAgaWYgKCFydWxlKSBjb250aW51ZVxuICAgICAgaWYgKHJ1bGUuaWdub3JlKSByZXR1cm4gbnVsbFxuICAgICAgbWFya3MgPSB0aGlzLnBhcnNlci5zY2hlbWEubWFya3NbcnVsZS5tYXJrXS5jcmVhdGUocnVsZS5hdHRycykuYWRkVG9TZXQobWFya3MpXG4gICAgfVxuICAgIHJldHVybiBtYXJrc1xuICB9XG5cbiAgLy8gOiAoZG9tLkVsZW1lbnQsIFBhcnNlUnVsZSkg4oaSIGJvb2xcbiAgLy8gTG9vayB1cCBhIGhhbmRsZXIgZm9yIHRoZSBnaXZlbiBub2RlLiBJZiBub25lIGFyZSBmb3VuZCwgcmV0dXJuXG4gIC8vIGZhbHNlLiBPdGhlcndpc2UsIGFwcGx5IGl0LCB1c2UgaXRzIHJldHVybiB2YWx1ZSB0byBkcml2ZSB0aGUgd2F5XG4gIC8vIHRoZSBub2RlJ3MgY29udGVudCBpcyB3cmFwcGVkLCBhbmQgcmV0dXJuIHRydWUuXG4gIGFkZEVsZW1lbnRCeVJ1bGUoZG9tLCBydWxlKSB7XG4gICAgbGV0IHN5bmMsIG5vZGVUeXBlLCBtYXJrVHlwZSwgbWFya1xuICAgIGlmIChydWxlLm5vZGUpIHtcbiAgICAgIG5vZGVUeXBlID0gdGhpcy5wYXJzZXIuc2NoZW1hLm5vZGVzW3J1bGUubm9kZV1cbiAgICAgIGlmICghbm9kZVR5cGUuaXNMZWFmKSB7XG4gICAgICAgIHN5bmMgPSB0aGlzLmVudGVyKG5vZGVUeXBlLCBydWxlLmF0dHJzLCBydWxlLnByZXNlcnZlV2hpdGVzcGFjZSlcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaW5zZXJ0Tm9kZShub2RlVHlwZS5jcmVhdGUocnVsZS5hdHRycykpKSB7XG4gICAgICAgIHRoaXMubGVhZkZhbGxiYWNrKGRvbSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbWFya1R5cGUgPSB0aGlzLnBhcnNlci5zY2hlbWEubWFya3NbcnVsZS5tYXJrXVxuICAgICAgbWFyayA9IG1hcmtUeXBlLmNyZWF0ZShydWxlLmF0dHJzKVxuICAgICAgdGhpcy5hZGRQZW5kaW5nTWFyayhtYXJrKVxuICAgIH1cbiAgICBsZXQgc3RhcnRJbiA9IHRoaXMudG9wXG5cbiAgICBpZiAobm9kZVR5cGUgJiYgbm9kZVR5cGUuaXNMZWFmKSB7XG4gICAgICB0aGlzLmZpbmRJbnNpZGUoZG9tKVxuICAgIH0gZWxzZSBpZiAocnVsZS5nZXRDb250ZW50KSB7XG4gICAgICB0aGlzLmZpbmRJbnNpZGUoZG9tKVxuICAgICAgcnVsZS5nZXRDb250ZW50KGRvbSwgdGhpcy5wYXJzZXIuc2NoZW1hKS5mb3JFYWNoKG5vZGUgPT4gdGhpcy5pbnNlcnROb2RlKG5vZGUpKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgY29udGVudERPTSA9IHJ1bGUuY29udGVudEVsZW1lbnRcbiAgICAgIGlmICh0eXBlb2YgY29udGVudERPTSA9PSBcInN0cmluZ1wiKSBjb250ZW50RE9NID0gZG9tLnF1ZXJ5U2VsZWN0b3IoY29udGVudERPTSlcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBjb250ZW50RE9NID09IFwiZnVuY3Rpb25cIikgY29udGVudERPTSA9IGNvbnRlbnRET00oZG9tKVxuICAgICAgaWYgKCFjb250ZW50RE9NKSBjb250ZW50RE9NID0gZG9tXG4gICAgICB0aGlzLmZpbmRBcm91bmQoZG9tLCBjb250ZW50RE9NLCB0cnVlKVxuICAgICAgdGhpcy5hZGRBbGwoY29udGVudERPTSwgc3luYylcbiAgICB9XG4gICAgaWYgKHN5bmMpIHsgdGhpcy5zeW5jKHN0YXJ0SW4pOyB0aGlzLm9wZW4tLSB9XG4gICAgaWYgKG1hcmspIHRoaXMucmVtb3ZlUGVuZGluZ01hcmsobWFyaywgc3RhcnRJbilcbiAgfVxuXG4gIC8vIDogKGRvbS5Ob2RlLCA/Tm9kZUJ1aWxkZXIsID9udW1iZXIsID9udW1iZXIpXG4gIC8vIEFkZCBhbGwgY2hpbGQgbm9kZXMgYmV0d2VlbiBgc3RhcnRJbmRleGAgYW5kIGBlbmRJbmRleGAgKG9yIHRoZVxuICAvLyB3aG9sZSBub2RlLCBpZiBub3QgZ2l2ZW4pLiBJZiBgc3luY2AgaXMgcGFzc2VkLCB1c2UgaXQgdG9cbiAgLy8gc3luY2hyb25pemUgYWZ0ZXIgZXZlcnkgYmxvY2sgZWxlbWVudC5cbiAgYWRkQWxsKHBhcmVudCwgc3luYywgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICBsZXQgaW5kZXggPSBzdGFydEluZGV4IHx8IDBcbiAgICBmb3IgKGxldCBkb20gPSBzdGFydEluZGV4ID8gcGFyZW50LmNoaWxkTm9kZXNbc3RhcnRJbmRleF0gOiBwYXJlbnQuZmlyc3RDaGlsZCxcbiAgICAgICAgICAgICBlbmQgPSBlbmRJbmRleCA9PSBudWxsID8gbnVsbCA6IHBhcmVudC5jaGlsZE5vZGVzW2VuZEluZGV4XTtcbiAgICAgICAgIGRvbSAhPSBlbmQ7IGRvbSA9IGRvbS5uZXh0U2libGluZywgKytpbmRleCkge1xuICAgICAgdGhpcy5maW5kQXRQb2ludChwYXJlbnQsIGluZGV4KVxuICAgICAgdGhpcy5hZGRET00oZG9tKVxuICAgICAgaWYgKHN5bmMgJiYgYmxvY2tUYWdzLmhhc093blByb3BlcnR5KGRvbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSlcbiAgICAgICAgdGhpcy5zeW5jKHN5bmMpXG4gICAgfVxuICAgIHRoaXMuZmluZEF0UG9pbnQocGFyZW50LCBpbmRleClcbiAgfVxuXG4gIC8vIFRyeSB0byBmaW5kIGEgd2F5IHRvIGZpdCB0aGUgZ2l2ZW4gbm9kZSB0eXBlIGludG8gdGhlIGN1cnJlbnRcbiAgLy8gY29udGV4dC4gTWF5IGFkZCBpbnRlcm1lZGlhdGUgd3JhcHBlcnMgYW5kL29yIGxlYXZlIG5vbi1zb2xpZFxuICAvLyBub2RlcyB0aGF0IHdlJ3JlIGluLlxuICBmaW5kUGxhY2Uobm9kZSkge1xuICAgIGxldCByb3V0ZSwgc3luY1xuICAgIGZvciAobGV0IGRlcHRoID0gdGhpcy5vcGVuOyBkZXB0aCA+PSAwOyBkZXB0aC0tKSB7XG4gICAgICBsZXQgY3ggPSB0aGlzLm5vZGVzW2RlcHRoXVxuICAgICAgbGV0IGZvdW5kID0gY3guZmluZFdyYXBwaW5nKG5vZGUpXG4gICAgICBpZiAoZm91bmQgJiYgKCFyb3V0ZSB8fCByb3V0ZS5sZW5ndGggPiBmb3VuZC5sZW5ndGgpKSB7XG4gICAgICAgIHJvdXRlID0gZm91bmRcbiAgICAgICAgc3luYyA9IGN4XG4gICAgICAgIGlmICghZm91bmQubGVuZ3RoKSBicmVha1xuICAgICAgfVxuICAgICAgaWYgKGN4LnNvbGlkKSBicmVha1xuICAgIH1cbiAgICBpZiAoIXJvdXRlKSByZXR1cm4gZmFsc2VcbiAgICB0aGlzLnN5bmMoc3luYylcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvdXRlLmxlbmd0aDsgaSsrKVxuICAgICAgdGhpcy5lbnRlcklubmVyKHJvdXRlW2ldLCBudWxsLCBmYWxzZSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gOiAoTm9kZSkg4oaSID9Ob2RlXG4gIC8vIFRyeSB0byBpbnNlcnQgdGhlIGdpdmVuIG5vZGUsIGFkanVzdGluZyB0aGUgY29udGV4dCB3aGVuIG5lZWRlZC5cbiAgaW5zZXJ0Tm9kZShub2RlKSB7XG4gICAgaWYgKG5vZGUuaXNJbmxpbmUgJiYgdGhpcy5uZWVkc0Jsb2NrICYmICF0aGlzLnRvcC50eXBlKSB7XG4gICAgICBsZXQgYmxvY2sgPSB0aGlzLnRleHRibG9ja0Zyb21Db250ZXh0KClcbiAgICAgIGlmIChibG9jaykgdGhpcy5lbnRlcklubmVyKGJsb2NrKVxuICAgIH1cbiAgICBpZiAodGhpcy5maW5kUGxhY2Uobm9kZSkpIHtcbiAgICAgIHRoaXMuY2xvc2VFeHRyYSgpXG4gICAgICBsZXQgdG9wID0gdGhpcy50b3BcbiAgICAgIHRvcC5hcHBseVBlbmRpbmcobm9kZS50eXBlKVxuICAgICAgaWYgKHRvcC5tYXRjaCkgdG9wLm1hdGNoID0gdG9wLm1hdGNoLm1hdGNoVHlwZShub2RlLnR5cGUpXG4gICAgICBsZXQgbWFya3MgPSB0b3AuYWN0aXZlTWFya3NcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5tYXJrcy5sZW5ndGg7IGkrKylcbiAgICAgICAgaWYgKCF0b3AudHlwZSB8fCB0b3AudHlwZS5hbGxvd3NNYXJrVHlwZShub2RlLm1hcmtzW2ldLnR5cGUpKVxuICAgICAgICAgIG1hcmtzID0gbm9kZS5tYXJrc1tpXS5hZGRUb1NldChtYXJrcylcbiAgICAgIHRvcC5jb250ZW50LnB1c2gobm9kZS5tYXJrKG1hcmtzKSlcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gOiAoTm9kZVR5cGUsID9PYmplY3QpIOKGkiBib29sXG4gIC8vIFRyeSB0byBzdGFydCBhIG5vZGUgb2YgdGhlIGdpdmVuIHR5cGUsIGFkanVzdGluZyB0aGUgY29udGV4dCB3aGVuXG4gIC8vIG5lY2Vzc2FyeS5cbiAgZW50ZXIodHlwZSwgYXR0cnMsIHByZXNlcnZlV1MpIHtcbiAgICBsZXQgb2sgPSB0aGlzLmZpbmRQbGFjZSh0eXBlLmNyZWF0ZShhdHRycykpXG4gICAgaWYgKG9rKSB0aGlzLmVudGVySW5uZXIodHlwZSwgYXR0cnMsIHRydWUsIHByZXNlcnZlV1MpXG4gICAgcmV0dXJuIG9rXG4gIH1cblxuICAvLyBPcGVuIGEgbm9kZSBvZiB0aGUgZ2l2ZW4gdHlwZVxuICBlbnRlcklubmVyKHR5cGUsIGF0dHJzLCBzb2xpZCwgcHJlc2VydmVXUykge1xuICAgIHRoaXMuY2xvc2VFeHRyYSgpXG4gICAgbGV0IHRvcCA9IHRoaXMudG9wXG4gICAgdG9wLmFwcGx5UGVuZGluZyh0eXBlKVxuICAgIHRvcC5tYXRjaCA9IHRvcC5tYXRjaCAmJiB0b3AubWF0Y2gubWF0Y2hUeXBlKHR5cGUsIGF0dHJzKVxuICAgIGxldCBvcHRpb25zID0gcHJlc2VydmVXUyA9PSBudWxsID8gdG9wLm9wdGlvbnMgJiB+T1BUX09QRU5fTEVGVCA6IHdzT3B0aW9uc0ZvcihwcmVzZXJ2ZVdTKVxuICAgIGlmICgodG9wLm9wdGlvbnMgJiBPUFRfT1BFTl9MRUZUKSAmJiB0b3AuY29udGVudC5sZW5ndGggPT0gMCkgb3B0aW9ucyB8PSBPUFRfT1BFTl9MRUZUXG4gICAgdGhpcy5ub2Rlcy5wdXNoKG5ldyBOb2RlQ29udGV4dCh0eXBlLCBhdHRycywgdG9wLmFjdGl2ZU1hcmtzLCB0b3AucGVuZGluZ01hcmtzLCBzb2xpZCwgbnVsbCwgb3B0aW9ucykpXG4gICAgdGhpcy5vcGVuKytcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSBhbGwgbm9kZXMgYWJvdmUgdGhpcy5vcGVuIGFyZSBmaW5pc2hlZCBhbmQgYWRkZWQgdG9cbiAgLy8gdGhlaXIgcGFyZW50c1xuICBjbG9zZUV4dHJhKG9wZW5FbmQpIHtcbiAgICBsZXQgaSA9IHRoaXMubm9kZXMubGVuZ3RoIC0gMVxuICAgIGlmIChpID4gdGhpcy5vcGVuKSB7XG4gICAgICBmb3IgKDsgaSA+IHRoaXMub3BlbjsgaS0tKSB0aGlzLm5vZGVzW2kgLSAxXS5jb250ZW50LnB1c2godGhpcy5ub2Rlc1tpXS5maW5pc2gob3BlbkVuZCkpXG4gICAgICB0aGlzLm5vZGVzLmxlbmd0aCA9IHRoaXMub3BlbiArIDFcbiAgICB9XG4gIH1cblxuICBmaW5pc2goKSB7XG4gICAgdGhpcy5vcGVuID0gMFxuICAgIHRoaXMuY2xvc2VFeHRyYSh0aGlzLmlzT3BlbilcbiAgICByZXR1cm4gdGhpcy5ub2Rlc1swXS5maW5pc2godGhpcy5pc09wZW4gfHwgdGhpcy5vcHRpb25zLnRvcE9wZW4pXG4gIH1cblxuICBzeW5jKHRvKSB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMub3BlbjsgaSA+PSAwOyBpLS0pIGlmICh0aGlzLm5vZGVzW2ldID09IHRvKSB7XG4gICAgICB0aGlzLm9wZW4gPSBpXG4gICAgICByZXR1cm5cbiAgICB9XG4gIH1cblxuICBnZXQgY3VycmVudFBvcygpIHtcbiAgICB0aGlzLmNsb3NlRXh0cmEoKVxuICAgIGxldCBwb3MgPSAwXG4gICAgZm9yIChsZXQgaSA9IHRoaXMub3BlbjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGxldCBjb250ZW50ID0gdGhpcy5ub2Rlc1tpXS5jb250ZW50XG4gICAgICBmb3IgKGxldCBqID0gY29udGVudC5sZW5ndGggLSAxOyBqID49IDA7IGotLSlcbiAgICAgICAgcG9zICs9IGNvbnRlbnRbal0ubm9kZVNpemVcbiAgICAgIGlmIChpKSBwb3MrK1xuICAgIH1cbiAgICByZXR1cm4gcG9zXG4gIH1cblxuICBmaW5kQXRQb2ludChwYXJlbnQsIG9mZnNldCkge1xuICAgIGlmICh0aGlzLmZpbmQpIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maW5kLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5maW5kW2ldLm5vZGUgPT0gcGFyZW50ICYmIHRoaXMuZmluZFtpXS5vZmZzZXQgPT0gb2Zmc2V0KVxuICAgICAgICB0aGlzLmZpbmRbaV0ucG9zID0gdGhpcy5jdXJyZW50UG9zXG4gICAgfVxuICB9XG5cbiAgZmluZEluc2lkZShwYXJlbnQpIHtcbiAgICBpZiAodGhpcy5maW5kKSBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmluZC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuZmluZFtpXS5wb3MgPT0gbnVsbCAmJiBwYXJlbnQubm9kZVR5cGUgPT0gMSAmJiBwYXJlbnQuY29udGFpbnModGhpcy5maW5kW2ldLm5vZGUpKVxuICAgICAgICB0aGlzLmZpbmRbaV0ucG9zID0gdGhpcy5jdXJyZW50UG9zXG4gICAgfVxuICB9XG5cbiAgZmluZEFyb3VuZChwYXJlbnQsIGNvbnRlbnQsIGJlZm9yZSkge1xuICAgIGlmIChwYXJlbnQgIT0gY29udGVudCAmJiB0aGlzLmZpbmQpIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maW5kLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5maW5kW2ldLnBvcyA9PSBudWxsICYmIHBhcmVudC5ub2RlVHlwZSA9PSAxICYmIHBhcmVudC5jb250YWlucyh0aGlzLmZpbmRbaV0ubm9kZSkpIHtcbiAgICAgICAgbGV0IHBvcyA9IGNvbnRlbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24odGhpcy5maW5kW2ldLm5vZGUpXG4gICAgICAgIGlmIChwb3MgJiAoYmVmb3JlID8gMiA6IDQpKVxuICAgICAgICAgIHRoaXMuZmluZFtpXS5wb3MgPSB0aGlzLmN1cnJlbnRQb3NcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmaW5kSW5UZXh0KHRleHROb2RlKSB7XG4gICAgaWYgKHRoaXMuZmluZCkgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbmQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmZpbmRbaV0ubm9kZSA9PSB0ZXh0Tm9kZSlcbiAgICAgICAgdGhpcy5maW5kW2ldLnBvcyA9IHRoaXMuY3VycmVudFBvcyAtICh0ZXh0Tm9kZS5ub2RlVmFsdWUubGVuZ3RoIC0gdGhpcy5maW5kW2ldLm9mZnNldClcbiAgICB9XG4gIH1cblxuICAvLyA6IChzdHJpbmcpIOKGkiBib29sXG4gIC8vIERldGVybWluZXMgd2hldGhlciB0aGUgZ2l2ZW4gW2NvbnRleHRcbiAgLy8gc3RyaW5nXSgjUGFyc2VSdWxlLmNvbnRleHQpIG1hdGNoZXMgdGhpcyBjb250ZXh0LlxuICBtYXRjaGVzQ29udGV4dChjb250ZXh0KSB7XG4gICAgaWYgKGNvbnRleHQuaW5kZXhPZihcInxcIikgPiAtMSlcbiAgICAgIHJldHVybiBjb250ZXh0LnNwbGl0KC9cXHMqXFx8XFxzKi8pLnNvbWUodGhpcy5tYXRjaGVzQ29udGV4dCwgdGhpcylcblxuICAgIGxldCBwYXJ0cyA9IGNvbnRleHQuc3BsaXQoXCIvXCIpXG4gICAgbGV0IG9wdGlvbiA9IHRoaXMub3B0aW9ucy5jb250ZXh0XG4gICAgbGV0IHVzZVJvb3QgPSAhdGhpcy5pc09wZW4gJiYgKCFvcHRpb24gfHwgb3B0aW9uLnBhcmVudC50eXBlID09IHRoaXMubm9kZXNbMF0udHlwZSlcbiAgICBsZXQgbWluRGVwdGggPSAtKG9wdGlvbiA/IG9wdGlvbi5kZXB0aCArIDEgOiAwKSArICh1c2VSb290ID8gMCA6IDEpXG4gICAgbGV0IG1hdGNoID0gKGksIGRlcHRoKSA9PiB7XG4gICAgICBmb3IgKDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgbGV0IHBhcnQgPSBwYXJ0c1tpXVxuICAgICAgICBpZiAocGFydCA9PSBcIlwiKSB7XG4gICAgICAgICAgaWYgKGkgPT0gcGFydHMubGVuZ3RoIC0gMSB8fCBpID09IDApIGNvbnRpbnVlXG4gICAgICAgICAgZm9yICg7IGRlcHRoID49IG1pbkRlcHRoOyBkZXB0aC0tKVxuICAgICAgICAgICAgaWYgKG1hdGNoKGkgLSAxLCBkZXB0aCkpIHJldHVybiB0cnVlXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IG5leHQgPSBkZXB0aCA+IDAgfHwgKGRlcHRoID09IDAgJiYgdXNlUm9vdCkgPyB0aGlzLm5vZGVzW2RlcHRoXS50eXBlXG4gICAgICAgICAgICAgIDogb3B0aW9uICYmIGRlcHRoID49IG1pbkRlcHRoID8gb3B0aW9uLm5vZGUoZGVwdGggLSBtaW5EZXB0aCkudHlwZVxuICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICBpZiAoIW5leHQgfHwgKG5leHQubmFtZSAhPSBwYXJ0ICYmIG5leHQuZ3JvdXBzLmluZGV4T2YocGFydCkgPT0gLTEpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgZGVwdGgtLVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gbWF0Y2gocGFydHMubGVuZ3RoIC0gMSwgdGhpcy5vcGVuKVxuICB9XG5cbiAgdGV4dGJsb2NrRnJvbUNvbnRleHQoKSB7XG4gICAgbGV0ICRjb250ZXh0ID0gdGhpcy5vcHRpb25zLmNvbnRleHRcbiAgICBpZiAoJGNvbnRleHQpIGZvciAobGV0IGQgPSAkY29udGV4dC5kZXB0aDsgZCA+PSAwOyBkLS0pIHtcbiAgICAgIGxldCBkZWZsdCA9ICRjb250ZXh0Lm5vZGUoZCkuY29udGVudE1hdGNoQXQoJGNvbnRleHQuaW5kZXhBZnRlcihkKSkuZGVmYXVsdFR5cGVcbiAgICAgIGlmIChkZWZsdCAmJiBkZWZsdC5pc1RleHRibG9jayAmJiBkZWZsdC5kZWZhdWx0QXR0cnMpIHJldHVybiBkZWZsdFxuICAgIH1cbiAgICBmb3IgKGxldCBuYW1lIGluIHRoaXMucGFyc2VyLnNjaGVtYS5ub2Rlcykge1xuICAgICAgbGV0IHR5cGUgPSB0aGlzLnBhcnNlci5zY2hlbWEubm9kZXNbbmFtZV1cbiAgICAgIGlmICh0eXBlLmlzVGV4dGJsb2NrICYmIHR5cGUuZGVmYXVsdEF0dHJzKSByZXR1cm4gdHlwZVxuICAgIH1cbiAgfVxuXG4gIGFkZFBlbmRpbmdNYXJrKG1hcmspIHtcbiAgICB0aGlzLnRvcC5wZW5kaW5nTWFya3MgPSBtYXJrLmFkZFRvU2V0KHRoaXMudG9wLnBlbmRpbmdNYXJrcylcbiAgfVxuXG4gIHJlbW92ZVBlbmRpbmdNYXJrKG1hcmssIHVwdG8pIHtcbiAgICBmb3IgKGxldCBkZXB0aCA9IHRoaXMub3BlbjsgZGVwdGggPj0gMDsgZGVwdGgtLSkge1xuICAgICAgbGV0IGxldmVsID0gdGhpcy5ub2Rlc1tkZXB0aF1cbiAgICAgIGxldCBmb3VuZCA9IGxldmVsLnBlbmRpbmdNYXJrcy5sYXN0SW5kZXhPZihtYXJrKVxuICAgICAgaWYgKGZvdW5kID4gLTEpIGxldmVsLnBlbmRpbmdNYXJrcyA9IG1hcmsucmVtb3ZlRnJvbVNldChsZXZlbC5wZW5kaW5nTWFya3MpXG4gICAgICBlbHNlIGxldmVsLmFjdGl2ZU1hcmtzID0gbWFyay5yZW1vdmVGcm9tU2V0KGxldmVsLmFjdGl2ZU1hcmtzKVxuICAgICAgaWYgKGxldmVsID09IHVwdG8pIGJyZWFrXG4gICAgfVxuICB9XG59XG5cbi8vIEtsdWRnZSB0byB3b3JrIGFyb3VuZCBkaXJlY3RseSBuZXN0ZWQgbGlzdCBub2RlcyBwcm9kdWNlZCBieSBzb21lXG4vLyB0b29scyBhbmQgYWxsb3dlZCBieSBicm93c2VycyB0byBtZWFuIHRoYXQgdGhlIG5lc3RlZCBsaXN0IGlzXG4vLyBhY3R1YWxseSBwYXJ0IG9mIHRoZSBsaXN0IGl0ZW0gYWJvdmUgaXQuXG5mdW5jdGlvbiBub3JtYWxpemVMaXN0KGRvbSkge1xuICBmb3IgKGxldCBjaGlsZCA9IGRvbS5maXJzdENoaWxkLCBwcmV2SXRlbSA9IG51bGw7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XG4gICAgbGV0IG5hbWUgPSBjaGlsZC5ub2RlVHlwZSA9PSAxID8gY2hpbGQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA6IG51bGxcbiAgICBpZiAobmFtZSAmJiBsaXN0VGFncy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBwcmV2SXRlbSkge1xuICAgICAgcHJldkl0ZW0uYXBwZW5kQ2hpbGQoY2hpbGQpXG4gICAgICBjaGlsZCA9IHByZXZJdGVtXG4gICAgfSBlbHNlIGlmIChuYW1lID09IFwibGlcIikge1xuICAgICAgcHJldkl0ZW0gPSBjaGlsZFxuICAgIH0gZWxzZSBpZiAobmFtZSkge1xuICAgICAgcHJldkl0ZW0gPSBudWxsXG4gICAgfVxuICB9XG59XG5cbi8vIEFwcGx5IGEgQ1NTIHNlbGVjdG9yLlxuZnVuY3Rpb24gbWF0Y2hlcyhkb20sIHNlbGVjdG9yKSB7XG4gIHJldHVybiAoZG9tLm1hdGNoZXMgfHwgZG9tLm1zTWF0Y2hlc1NlbGVjdG9yIHx8IGRvbS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgZG9tLm1vek1hdGNoZXNTZWxlY3RvcikuY2FsbChkb20sIHNlbGVjdG9yKVxufVxuXG4vLyA6IChzdHJpbmcpIOKGkiBbc3RyaW5nXVxuLy8gVG9rZW5pemUgYSBzdHlsZSBhdHRyaWJ1dGUgaW50byBwcm9wZXJ0eS92YWx1ZSBwYWlycy5cbmZ1bmN0aW9uIHBhcnNlU3R5bGVzKHN0eWxlKSB7XG4gIGxldCByZSA9IC9cXHMqKFtcXHctXSspXFxzKjpcXHMqKFteO10rKS9nLCBtLCByZXN1bHQgPSBbXVxuICB3aGlsZSAobSA9IHJlLmV4ZWMoc3R5bGUpKSByZXN1bHQucHVzaChtWzFdLCBtWzJdLnRyaW0oKSlcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBjb3B5KG9iaikge1xuICBsZXQgY29weSA9IHt9XG4gIGZvciAobGV0IHByb3AgaW4gb2JqKSBjb3B5W3Byb3BdID0gb2JqW3Byb3BdXG4gIHJldHVybiBjb3B5XG59XG5cbi8vIFVzZWQgd2hlbiBmaW5kaW5nIGEgbWFyayBhdCB0aGUgdG9wIGxldmVsIG9mIGEgZnJhZ21lbnQgcGFyc2UuXG4vLyBDaGVja3Mgd2hldGhlciBpdCB3b3VsZCBiZSByZWFzb25hYmxlIHRvIGFwcGx5IGEgZ2l2ZW4gbWFyayB0eXBlIHRvXG4vLyBhIGdpdmVuIG5vZGUsIGJ5IGxvb2tpbmcgYXQgdGhlIHdheSB0aGUgbWFyayBvY2N1cnMgaW4gdGhlIHNjaGVtYS5cbmZ1bmN0aW9uIG1hcmtNYXlBcHBseShtYXJrVHlwZSwgbm9kZVR5cGUpIHtcbiAgbGV0IG5vZGVzID0gbm9kZVR5cGUuc2NoZW1hLm5vZGVzXG4gIGZvciAobGV0IG5hbWUgaW4gbm9kZXMpIHtcbiAgICBsZXQgcGFyZW50ID0gbm9kZXNbbmFtZV1cbiAgICBpZiAoIXBhcmVudC5hbGxvd3NNYXJrVHlwZShtYXJrVHlwZSkpIGNvbnRpbnVlXG4gICAgbGV0IHNlZW4gPSBbXSwgc2NhbiA9IG1hdGNoID0+IHtcbiAgICAgIHNlZW4ucHVzaChtYXRjaClcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2guZWRnZUNvdW50OyBpKyspIHtcbiAgICAgICAgbGV0IHt0eXBlLCBuZXh0fSA9IG1hdGNoLmVkZ2UoaSlcbiAgICAgICAgaWYgKHR5cGUgPT0gbm9kZVR5cGUpIHJldHVybiB0cnVlXG4gICAgICAgIGlmIChzZWVuLmluZGV4T2YobmV4dCkgPCAwICYmIHNjYW4obmV4dCkpIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzY2FuKHBhcmVudC5jb250ZW50TWF0Y2gpKSByZXR1cm4gdHJ1ZVxuICB9XG59XG4iLCIvLyBET01PdXRwdXRTcGVjOjogaW50ZXJmYWNlXG4vLyBBIGRlc2NyaXB0aW9uIG9mIGEgRE9NIHN0cnVjdHVyZS4gQ2FuIGJlIGVpdGhlciBhIHN0cmluZywgd2hpY2ggaXNcbi8vIGludGVycHJldGVkIGFzIGEgdGV4dCBub2RlLCBhIERPTSBub2RlLCB3aGljaCBpcyBpbnRlcnByZXRlZCBhc1xuLy8gaXRzZWxmLCBvciBhbiBhcnJheS5cbi8vXG4vLyBBbiBhcnJheSBkZXNjcmliZXMgYSBET00gZWxlbWVudC4gVGhlIGZpcnN0IHZhbHVlIGluIHRoZSBhcnJheVxuLy8gc2hvdWxkIGJlIGEgc3RyaW5n4oCUdGhlIG5hbWUgb2YgdGhlIERPTSBlbGVtZW50LCBvcHRpb25hbGx5IHByZWZpeGVkXG4vLyBieSBhIG5hbWVzcGFjZSBVUkwgYW5kIGEgc3BhY2UuIElmIHRoZSBzZWNvbmQgZWxlbWVudCBpcyBwbGFpblxuLy8gb2JqZWN0LCBpdCBpcyBpbnRlcnByZXRlZCBhcyBhIHNldCBvZiBhdHRyaWJ1dGVzIGZvciB0aGUgZWxlbWVudC5cbi8vIEFueSBlbGVtZW50cyBhZnRlciB0aGF0IChpbmNsdWRpbmcgdGhlIDJuZCBpZiBpdCdzIG5vdCBhbiBhdHRyaWJ1dGVcbi8vIG9iamVjdCkgYXJlIGludGVycHJldGVkIGFzIGNoaWxkcmVuIG9mIHRoZSBET00gZWxlbWVudHMsIGFuZCBtdXN0XG4vLyBlaXRoZXIgYmUgdmFsaWQgYERPTU91dHB1dFNwZWNgIHZhbHVlcywgb3IgdGhlIG51bWJlciB6ZXJvLlxuLy9cbi8vIFRoZSBudW1iZXIgemVybyAocHJvbm91bmNlZCDigJxob2xl4oCdKSBpcyB1c2VkIHRvIGluZGljYXRlIHRoZSBwbGFjZVxuLy8gd2hlcmUgYSBub2RlJ3MgY2hpbGQgbm9kZXMgc2hvdWxkIGJlIGluc2VydGVkLiBJZiBpdCBvY2N1cnMgaW4gYW5cbi8vIG91dHB1dCBzcGVjLCBpdCBzaG91bGQgYmUgdGhlIG9ubHkgY2hpbGQgZWxlbWVudCBpbiBpdHMgcGFyZW50XG4vLyBub2RlLlxuXG4vLyA6Oi0gQSBET00gc2VyaWFsaXplciBrbm93cyBob3cgdG8gY29udmVydCBQcm9zZU1pcnJvciBub2RlcyBhbmRcbi8vIG1hcmtzIG9mIHZhcmlvdXMgdHlwZXMgdG8gRE9NIG5vZGVzLlxuZXhwb3J0IGNsYXNzIERPTVNlcmlhbGl6ZXIge1xuICAvLyA6OiAoT2JqZWN0PChub2RlOiBOb2RlKSDihpIgRE9NT3V0cHV0U3BlYz4sIE9iamVjdDw/KG1hcms6IE1hcmssIGlubGluZTogYm9vbCkg4oaSIERPTU91dHB1dFNwZWM+KVxuICAvLyBDcmVhdGUgYSBzZXJpYWxpemVyLiBgbm9kZXNgIHNob3VsZCBtYXAgbm9kZSBuYW1lcyB0byBmdW5jdGlvbnNcbiAgLy8gdGhhdCB0YWtlIGEgbm9kZSBhbmQgcmV0dXJuIGEgZGVzY3JpcHRpb24gb2YgdGhlIGNvcnJlc3BvbmRpbmdcbiAgLy8gRE9NLiBgbWFya3NgIGRvZXMgdGhlIHNhbWUgZm9yIG1hcmsgbmFtZXMsIGJ1dCBhbHNvIGdldHMgYW5cbiAgLy8gYXJndW1lbnQgdGhhdCB0ZWxscyBpdCB3aGV0aGVyIHRoZSBtYXJrJ3MgY29udGVudCBpcyBibG9jayBvclxuICAvLyBpbmxpbmUgY29udGVudCAoZm9yIHR5cGljYWwgdXNlLCBpdCdsbCBhbHdheXMgYmUgaW5saW5lKS4gQSBtYXJrXG4gIC8vIHNlcmlhbGl6ZXIgbWF5IGJlIGBudWxsYCB0byBpbmRpY2F0ZSB0aGF0IG1hcmtzIG9mIHRoYXQgdHlwZVxuICAvLyBzaG91bGQgbm90IGJlIHNlcmlhbGl6ZWQuXG4gIGNvbnN0cnVjdG9yKG5vZGVzLCBtYXJrcykge1xuICAgIC8vIDo6IE9iamVjdDwobm9kZTogTm9kZSkg4oaSIERPTU91dHB1dFNwZWM+XG4gICAgLy8gVGhlIG5vZGUgc2VyaWFsaXphdGlvbiBmdW5jdGlvbnMuXG4gICAgdGhpcy5ub2RlcyA9IG5vZGVzIHx8IHt9XG4gICAgLy8gOjogT2JqZWN0PD8obWFyazogTWFyaywgaW5saW5lOiBib29sKSDihpIgRE9NT3V0cHV0U3BlYz5cbiAgICAvLyBUaGUgbWFyayBzZXJpYWxpemF0aW9uIGZ1bmN0aW9ucy5cbiAgICB0aGlzLm1hcmtzID0gbWFya3MgfHwge31cbiAgfVxuXG4gIC8vIDo6IChGcmFnbWVudCwgP09iamVjdCkg4oaSIGRvbS5Eb2N1bWVudEZyYWdtZW50XG4gIC8vIFNlcmlhbGl6ZSB0aGUgY29udGVudCBvZiB0aGlzIGZyYWdtZW50IHRvIGEgRE9NIGZyYWdtZW50LiBXaGVuXG4gIC8vIG5vdCBpbiB0aGUgYnJvd3NlciwgdGhlIGBkb2N1bWVudGAgb3B0aW9uLCBjb250YWluaW5nIGEgRE9NXG4gIC8vIGRvY3VtZW50LCBzaG91bGQgYmUgcGFzc2VkIHNvIHRoYXQgdGhlIHNlcmlhbGl6ZXIgY2FuIGNyZWF0ZVxuICAvLyBub2Rlcy5cbiAgc2VyaWFsaXplRnJhZ21lbnQoZnJhZ21lbnQsIG9wdGlvbnMgPSB7fSwgdGFyZ2V0KSB7XG4gICAgaWYgKCF0YXJnZXQpIHRhcmdldCA9IGRvYyhvcHRpb25zKS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KClcblxuICAgIGxldCB0b3AgPSB0YXJnZXQsIGFjdGl2ZSA9IG51bGxcbiAgICBmcmFnbWVudC5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgaWYgKGFjdGl2ZSB8fCBub2RlLm1hcmtzLmxlbmd0aCkge1xuICAgICAgICBpZiAoIWFjdGl2ZSkgYWN0aXZlID0gW11cbiAgICAgICAgbGV0IGtlZXAgPSAwLCByZW5kZXJlZCA9IDBcbiAgICAgICAgd2hpbGUgKGtlZXAgPCBhY3RpdmUubGVuZ3RoICYmIHJlbmRlcmVkIDwgbm9kZS5tYXJrcy5sZW5ndGgpIHtcbiAgICAgICAgICBsZXQgbmV4dCA9IG5vZGUubWFya3NbcmVuZGVyZWRdXG4gICAgICAgICAgaWYgKCF0aGlzLm1hcmtzW25leHQudHlwZS5uYW1lXSkgeyByZW5kZXJlZCsrOyBjb250aW51ZSB9XG4gICAgICAgICAgaWYgKCFuZXh0LmVxKGFjdGl2ZVtrZWVwXSkgfHwgbmV4dC50eXBlLnNwZWMuc3Bhbm5pbmcgPT09IGZhbHNlKSBicmVha1xuICAgICAgICAgIGtlZXAgKz0gMjsgcmVuZGVyZWQrK1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChrZWVwIDwgYWN0aXZlLmxlbmd0aCkge1xuICAgICAgICAgIHRvcCA9IGFjdGl2ZS5wb3AoKVxuICAgICAgICAgIGFjdGl2ZS5wb3AoKVxuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChyZW5kZXJlZCA8IG5vZGUubWFya3MubGVuZ3RoKSB7XG4gICAgICAgICAgbGV0IGFkZCA9IG5vZGUubWFya3NbcmVuZGVyZWQrK11cbiAgICAgICAgICBsZXQgbWFya0RPTSA9IHRoaXMuc2VyaWFsaXplTWFyayhhZGQsIG5vZGUuaXNJbmxpbmUsIG9wdGlvbnMpXG4gICAgICAgICAgaWYgKG1hcmtET00pIHtcbiAgICAgICAgICAgIGFjdGl2ZS5wdXNoKGFkZCwgdG9wKVxuICAgICAgICAgICAgdG9wLmFwcGVuZENoaWxkKG1hcmtET00uZG9tKVxuICAgICAgICAgICAgdG9wID0gbWFya0RPTS5jb250ZW50RE9NIHx8IG1hcmtET00uZG9tXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0b3AuYXBwZW5kQ2hpbGQodGhpcy5zZXJpYWxpemVOb2RlKG5vZGUsIG9wdGlvbnMpKVxuICAgIH0pXG5cbiAgICByZXR1cm4gdGFyZ2V0XG4gIH1cblxuICAvLyA6OiAoTm9kZSwgP09iamVjdCkg4oaSIGRvbS5Ob2RlXG4gIC8vIFNlcmlhbGl6ZSB0aGlzIG5vZGUgdG8gYSBET00gbm9kZS4gVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4geW91XG4gIC8vIG5lZWQgdG8gc2VyaWFsaXplIGEgcGFydCBvZiBhIGRvY3VtZW50LCBhcyBvcHBvc2VkIHRvIHRoZSB3aG9sZVxuICAvLyBkb2N1bWVudC4gVG8gc2VyaWFsaXplIGEgd2hvbGUgZG9jdW1lbnQsIHVzZVxuICAvLyBbYHNlcmlhbGl6ZUZyYWdtZW50YF0oI21vZGVsLkRPTVNlcmlhbGl6ZXIuc2VyaWFsaXplRnJhZ21lbnQpIG9uXG4gIC8vIGl0cyBbY29udGVudF0oI21vZGVsLk5vZGUuY29udGVudCkuXG4gIHNlcmlhbGl6ZU5vZGUobm9kZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IHtkb20sIGNvbnRlbnRET019ID1cbiAgICAgICAgRE9NU2VyaWFsaXplci5yZW5kZXJTcGVjKGRvYyhvcHRpb25zKSwgdGhpcy5ub2Rlc1tub2RlLnR5cGUubmFtZV0obm9kZSkpXG4gICAgaWYgKGNvbnRlbnRET00pIHtcbiAgICAgIGlmIChub2RlLmlzTGVhZilcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDb250ZW50IGhvbGUgbm90IGFsbG93ZWQgaW4gYSBsZWFmIG5vZGUgc3BlY1wiKVxuICAgICAgaWYgKG9wdGlvbnMub25Db250ZW50KVxuICAgICAgICBvcHRpb25zLm9uQ29udGVudChub2RlLCBjb250ZW50RE9NLCBvcHRpb25zKVxuICAgICAgZWxzZVxuICAgICAgICB0aGlzLnNlcmlhbGl6ZUZyYWdtZW50KG5vZGUuY29udGVudCwgb3B0aW9ucywgY29udGVudERPTSlcbiAgICB9XG4gICAgcmV0dXJuIGRvbVxuICB9XG5cbiAgc2VyaWFsaXplTm9kZUFuZE1hcmtzKG5vZGUsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBkb20gPSB0aGlzLnNlcmlhbGl6ZU5vZGUobm9kZSwgb3B0aW9ucylcbiAgICBmb3IgKGxldCBpID0gbm9kZS5tYXJrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IHdyYXAgPSB0aGlzLnNlcmlhbGl6ZU1hcmsobm9kZS5tYXJrc1tpXSwgbm9kZS5pc0lubGluZSwgb3B0aW9ucylcbiAgICAgIGlmICh3cmFwKSB7XG4gICAgICAgIDsod3JhcC5jb250ZW50RE9NIHx8IHdyYXAuZG9tKS5hcHBlbmRDaGlsZChkb20pXG4gICAgICAgIGRvbSA9IHdyYXAuZG9tXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkb21cbiAgfVxuXG4gIHNlcmlhbGl6ZU1hcmsobWFyaywgaW5saW5lLCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgdG9ET00gPSB0aGlzLm1hcmtzW21hcmsudHlwZS5uYW1lXVxuICAgIHJldHVybiB0b0RPTSAmJiBET01TZXJpYWxpemVyLnJlbmRlclNwZWMoZG9jKG9wdGlvbnMpLCB0b0RPTShtYXJrLCBpbmxpbmUpKVxuICB9XG5cbiAgLy8gOjogKGRvbS5Eb2N1bWVudCwgRE9NT3V0cHV0U3BlYykg4oaSIHtkb206IGRvbS5Ob2RlLCBjb250ZW50RE9NOiA/ZG9tLk5vZGV9XG4gIC8vIFJlbmRlciBhbiBbb3V0cHV0IHNwZWNdKCNtb2RlbC5ET01PdXRwdXRTcGVjKSB0byBhIERPTSBub2RlLiBJZlxuICAvLyB0aGUgc3BlYyBoYXMgYSBob2xlICh6ZXJvKSBpbiBpdCwgYGNvbnRlbnRET01gIHdpbGwgcG9pbnQgYXQgdGhlXG4gIC8vIG5vZGUgd2l0aCB0aGUgaG9sZS5cbiAgc3RhdGljIHJlbmRlclNwZWMoZG9jLCBzdHJ1Y3R1cmUsIHhtbE5TID0gbnVsbCkge1xuICAgIGlmICh0eXBlb2Ygc3RydWN0dXJlID09IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4ge2RvbTogZG9jLmNyZWF0ZVRleHROb2RlKHN0cnVjdHVyZSl9XG4gICAgaWYgKHN0cnVjdHVyZS5ub2RlVHlwZSAhPSBudWxsKVxuICAgICAgcmV0dXJuIHtkb206IHN0cnVjdHVyZX1cbiAgICBsZXQgdGFnTmFtZSA9IHN0cnVjdHVyZVswXSwgc3BhY2UgPSB0YWdOYW1lLmluZGV4T2YoXCIgXCIpXG4gICAgaWYgKHNwYWNlID4gMCkge1xuICAgICAgeG1sTlMgPSB0YWdOYW1lLnNsaWNlKDAsIHNwYWNlKVxuICAgICAgdGFnTmFtZSA9IHRhZ05hbWUuc2xpY2Uoc3BhY2UgKyAxKVxuICAgIH1cbiAgICBsZXQgY29udGVudERPTSA9IG51bGwsIGRvbSA9IHhtbE5TID8gZG9jLmNyZWF0ZUVsZW1lbnROUyh4bWxOUywgdGFnTmFtZSkgOiBkb2MuY3JlYXRlRWxlbWVudCh0YWdOYW1lKVxuICAgIGxldCBhdHRycyA9IHN0cnVjdHVyZVsxXSwgc3RhcnQgPSAxXG4gICAgaWYgKGF0dHJzICYmIHR5cGVvZiBhdHRycyA9PSBcIm9iamVjdFwiICYmIGF0dHJzLm5vZGVUeXBlID09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoYXR0cnMpKSB7XG4gICAgICBzdGFydCA9IDJcbiAgICAgIGZvciAobGV0IG5hbWUgaW4gYXR0cnMpIGlmIChhdHRyc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgIGxldCBzcGFjZSA9IG5hbWUuaW5kZXhPZihcIiBcIilcbiAgICAgICAgaWYgKHNwYWNlID4gMCkgZG9tLnNldEF0dHJpYnV0ZU5TKG5hbWUuc2xpY2UoMCwgc3BhY2UpLCBuYW1lLnNsaWNlKHNwYWNlICsgMSksIGF0dHJzW25hbWVdKVxuICAgICAgICBlbHNlIGRvbS5zZXRBdHRyaWJ1dGUobmFtZSwgYXR0cnNbbmFtZV0pXG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IHN0cnVjdHVyZS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gc3RydWN0dXJlW2ldXG4gICAgICBpZiAoY2hpbGQgPT09IDApIHtcbiAgICAgICAgaWYgKGkgPCBzdHJ1Y3R1cmUubGVuZ3RoIC0gMSB8fCBpID4gc3RhcnQpXG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDb250ZW50IGhvbGUgbXVzdCBiZSB0aGUgb25seSBjaGlsZCBvZiBpdHMgcGFyZW50IG5vZGVcIilcbiAgICAgICAgcmV0dXJuIHtkb20sIGNvbnRlbnRET006IGRvbX1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCB7ZG9tOiBpbm5lciwgY29udGVudERPTTogaW5uZXJDb250ZW50fSA9IERPTVNlcmlhbGl6ZXIucmVuZGVyU3BlYyhkb2MsIGNoaWxkLCB4bWxOUylcbiAgICAgICAgZG9tLmFwcGVuZENoaWxkKGlubmVyKVxuICAgICAgICBpZiAoaW5uZXJDb250ZW50KSB7XG4gICAgICAgICAgaWYgKGNvbnRlbnRET00pIHRocm93IG5ldyBSYW5nZUVycm9yKFwiTXVsdGlwbGUgY29udGVudCBob2xlc1wiKVxuICAgICAgICAgIGNvbnRlbnRET00gPSBpbm5lckNvbnRlbnRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge2RvbSwgY29udGVudERPTX1cbiAgfVxuXG4gIC8vIDo6IChTY2hlbWEpIOKGkiBET01TZXJpYWxpemVyXG4gIC8vIEJ1aWxkIGEgc2VyaWFsaXplciB1c2luZyB0aGUgW2B0b0RPTWBdKCNtb2RlbC5Ob2RlU3BlYy50b0RPTSlcbiAgLy8gcHJvcGVydGllcyBpbiBhIHNjaGVtYSdzIG5vZGUgYW5kIG1hcmsgc3BlY3MuXG4gIHN0YXRpYyBmcm9tU2NoZW1hKHNjaGVtYSkge1xuICAgIHJldHVybiBzY2hlbWEuY2FjaGVkLmRvbVNlcmlhbGl6ZXIgfHxcbiAgICAgIChzY2hlbWEuY2FjaGVkLmRvbVNlcmlhbGl6ZXIgPSBuZXcgRE9NU2VyaWFsaXplcih0aGlzLm5vZGVzRnJvbVNjaGVtYShzY2hlbWEpLCB0aGlzLm1hcmtzRnJvbVNjaGVtYShzY2hlbWEpKSlcbiAgfVxuXG4gIC8vIDogKFNjaGVtYSkg4oaSIE9iamVjdDwobm9kZTogTm9kZSkg4oaSIERPTU91dHB1dFNwZWM+XG4gIC8vIEdhdGhlciB0aGUgc2VyaWFsaXplcnMgaW4gYSBzY2hlbWEncyBub2RlIHNwZWNzIGludG8gYW4gb2JqZWN0LlxuICAvLyBUaGlzIGNhbiBiZSB1c2VmdWwgYXMgYSBiYXNlIHRvIGJ1aWxkIGEgY3VzdG9tIHNlcmlhbGl6ZXIgZnJvbS5cbiAgc3RhdGljIG5vZGVzRnJvbVNjaGVtYShzY2hlbWEpIHtcbiAgICBsZXQgcmVzdWx0ID0gZ2F0aGVyVG9ET00oc2NoZW1hLm5vZGVzKVxuICAgIGlmICghcmVzdWx0LnRleHQpIHJlc3VsdC50ZXh0ID0gbm9kZSA9PiBub2RlLnRleHRcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyA6IChTY2hlbWEpIOKGkiBPYmplY3Q8KG1hcms6IE1hcmspIOKGkiBET01PdXRwdXRTcGVjPlxuICAvLyBHYXRoZXIgdGhlIHNlcmlhbGl6ZXJzIGluIGEgc2NoZW1hJ3MgbWFyayBzcGVjcyBpbnRvIGFuIG9iamVjdC5cbiAgc3RhdGljIG1hcmtzRnJvbVNjaGVtYShzY2hlbWEpIHtcbiAgICByZXR1cm4gZ2F0aGVyVG9ET00oc2NoZW1hLm1hcmtzKVxuICB9XG59XG5cbmZ1bmN0aW9uIGdhdGhlclRvRE9NKG9iaikge1xuICBsZXQgcmVzdWx0ID0ge31cbiAgZm9yIChsZXQgbmFtZSBpbiBvYmopIHtcbiAgICBsZXQgdG9ET00gPSBvYmpbbmFtZV0uc3BlYy50b0RPTVxuICAgIGlmICh0b0RPTSkgcmVzdWx0W25hbWVdID0gdG9ET01cbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIGRvYyhvcHRpb25zKSB7XG4gIC8vIGRlY2xhcmUgZ2xvYmFsOiB3aW5kb3dcbiAgcmV0dXJuIG9wdGlvbnMuZG9jdW1lbnQgfHwgd2luZG93LmRvY3VtZW50XG59XG4iLCIvLyBNYXBwYWJsZTo6IGludGVyZmFjZVxuLy8gVGhlcmUgYXJlIHNldmVyYWwgdGhpbmdzIHRoYXQgcG9zaXRpb25zIGNhbiBiZSBtYXBwZWQgdGhyb3VnaC5cbi8vIFN1Y2ggb2JqZWN0cyBjb25mb3JtIHRvIHRoaXMgaW50ZXJmYWNlLlxuLy9cbi8vICAgbWFwOjogKHBvczogbnVtYmVyLCBhc3NvYzogP251bWJlcikg4oaSIG51bWJlclxuLy8gICBNYXAgYSBwb3NpdGlvbiB0aHJvdWdoIHRoaXMgb2JqZWN0LiBXaGVuIGdpdmVuLCBgYXNzb2NgIChzaG91bGRcbi8vICAgYmUgLTEgb3IgMSwgZGVmYXVsdHMgdG8gMSkgZGV0ZXJtaW5lcyB3aXRoIHdoaWNoIHNpZGUgdGhlXG4vLyAgIHBvc2l0aW9uIGlzIGFzc29jaWF0ZWQsIHdoaWNoIGRldGVybWluZXMgaW4gd2hpY2ggZGlyZWN0aW9uIHRvXG4vLyAgIG1vdmUgd2hlbiBhIGNodW5rIG9mIGNvbnRlbnQgaXMgaW5zZXJ0ZWQgYXQgdGhlIG1hcHBlZCBwb3NpdGlvbi5cbi8vXG4vLyAgIG1hcFJlc3VsdDo6IChwb3M6IG51bWJlciwgYXNzb2M6ID9udW1iZXIpIOKGkiBNYXBSZXN1bHRcbi8vICAgTWFwIGEgcG9zaXRpb24sIGFuZCByZXR1cm4gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWRkaXRpb25hbFxuLy8gICBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbWFwcGluZy4gVGhlIHJlc3VsdCdzIGBkZWxldGVkYCBmaWVsZCB0ZWxsc1xuLy8gICB5b3Ugd2hldGhlciB0aGUgcG9zaXRpb24gd2FzIGRlbGV0ZWQgKGNvbXBsZXRlbHkgZW5jbG9zZWQgaW4gYVxuLy8gICByZXBsYWNlZCByYW5nZSkgZHVyaW5nIHRoZSBtYXBwaW5nLiBXaGVuIGNvbnRlbnQgb24gb25seSBvbmUgc2lkZVxuLy8gICBpcyBkZWxldGVkLCB0aGUgcG9zaXRpb24gaXRzZWxmIGlzIG9ubHkgY29uc2lkZXJlZCBkZWxldGVkIHdoZW5cbi8vICAgYGFzc29jYCBwb2ludHMgaW4gdGhlIGRpcmVjdGlvbiBvZiB0aGUgZGVsZXRlZCBjb250ZW50LlxuXG4vLyBSZWNvdmVyeSB2YWx1ZXMgZW5jb2RlIGEgcmFuZ2UgaW5kZXggYW5kIGFuIG9mZnNldC4gVGhleSBhcmVcbi8vIHJlcHJlc2VudGVkIGFzIG51bWJlcnMsIGJlY2F1c2UgdG9ucyBvZiB0aGVtIHdpbGwgYmUgY3JlYXRlZCB3aGVuXG4vLyBtYXBwaW5nLCBmb3IgZXhhbXBsZSwgYSBsYXJnZSBudW1iZXIgb2YgZGVjb3JhdGlvbnMuIFRoZSBudW1iZXInc1xuLy8gbG93ZXIgMTYgYml0cyBwcm92aWRlIHRoZSBpbmRleCwgdGhlIHJlbWFpbmluZyBiaXRzIHRoZSBvZmZzZXQuXG4vL1xuLy8gTm90ZTogV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYml0IHNoaWZ0IG9wZXJhdG9ycyB0byBlbi0gYW5kXG4vLyBkZWNvZGUgdGhlc2UsIHNpbmNlIHRob3NlIGNsaXAgdG8gMzIgYml0cywgd2hpY2ggd2UgbWlnaHQgaW4gcmFyZVxuLy8gY2FzZXMgd2FudCB0byBvdmVyZmxvdy4gQSA2NC1iaXQgZmxvYXQgY2FuIHJlcHJlc2VudCA0OC1iaXRcbi8vIGludGVnZXJzIHByZWNpc2VseS5cblxuY29uc3QgbG93ZXIxNiA9IDB4ZmZmZlxuY29uc3QgZmFjdG9yMTYgPSBNYXRoLnBvdygyLCAxNilcblxuZnVuY3Rpb24gbWFrZVJlY292ZXIoaW5kZXgsIG9mZnNldCkgeyByZXR1cm4gaW5kZXggKyBvZmZzZXQgKiBmYWN0b3IxNiB9XG5mdW5jdGlvbiByZWNvdmVySW5kZXgodmFsdWUpIHsgcmV0dXJuIHZhbHVlICYgbG93ZXIxNiB9XG5mdW5jdGlvbiByZWNvdmVyT2Zmc2V0KHZhbHVlKSB7IHJldHVybiAodmFsdWUgLSAodmFsdWUgJiBsb3dlcjE2KSkgLyBmYWN0b3IxNiB9XG5cbi8vIDo6LSBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGEgbWFwcGVkIHBvc2l0aW9uIHdpdGggZXh0cmFcbi8vIGluZm9ybWF0aW9uLlxuZXhwb3J0IGNsYXNzIE1hcFJlc3VsdCB7XG4gIGNvbnN0cnVjdG9yKHBvcywgZGVsZXRlZCA9IGZhbHNlLCByZWNvdmVyID0gbnVsbCkge1xuICAgIC8vIDo6IG51bWJlciBUaGUgbWFwcGVkIHZlcnNpb24gb2YgdGhlIHBvc2l0aW9uLlxuICAgIHRoaXMucG9zID0gcG9zXG4gICAgLy8gOjogYm9vbCBUZWxscyB5b3Ugd2hldGhlciB0aGUgcG9zaXRpb24gd2FzIGRlbGV0ZWQsIHRoYXQgaXMsXG4gICAgLy8gd2hldGhlciB0aGUgc3RlcCByZW1vdmVkIGl0cyBzdXJyb3VuZGluZ3MgZnJvbSB0aGUgZG9jdW1lbnQuXG4gICAgdGhpcy5kZWxldGVkID0gZGVsZXRlZFxuICAgIHRoaXMucmVjb3ZlciA9IHJlY292ZXJcbiAgfVxufVxuXG4vLyA6OiBjbGFzcyBleHRlbmRzIE1hcHBhYmxlXG4vLyBBIG1hcCBkZXNjcmliaW5nIHRoZSBkZWxldGlvbnMgYW5kIGluc2VydGlvbnMgbWFkZSBieSBhIHN0ZXAsIHdoaWNoXG4vLyBjYW4gYmUgdXNlZCB0byBmaW5kIHRoZSBjb3JyZXNwb25kZW5jZSBiZXR3ZWVuIHBvc2l0aW9ucyBpbiB0aGVcbi8vIHByZS1zdGVwIHZlcnNpb24gb2YgYSBkb2N1bWVudCBhbmQgdGhlIHNhbWUgcG9zaXRpb24gaW4gdGhlXG4vLyBwb3N0LXN0ZXAgdmVyc2lvbi5cbmV4cG9ydCBjbGFzcyBTdGVwTWFwIHtcbiAgLy8gOjogKFtudW1iZXJdKVxuICAvLyBDcmVhdGUgYSBwb3NpdGlvbiBtYXAuIFRoZSBtb2RpZmljYXRpb25zIHRvIHRoZSBkb2N1bWVudCBhcmVcbiAgLy8gcmVwcmVzZW50ZWQgYXMgYW4gYXJyYXkgb2YgbnVtYmVycywgaW4gd2hpY2ggZWFjaCBncm91cCBvZiB0aHJlZVxuICAvLyByZXByZXNlbnRzIGEgbW9kaWZpZWQgY2h1bmsgYXMgYFtzdGFydCwgb2xkU2l6ZSwgbmV3U2l6ZV1gLlxuICBjb25zdHJ1Y3RvcihyYW5nZXMsIGludmVydGVkID0gZmFsc2UpIHtcbiAgICB0aGlzLnJhbmdlcyA9IHJhbmdlc1xuICAgIHRoaXMuaW52ZXJ0ZWQgPSBpbnZlcnRlZFxuICB9XG5cbiAgcmVjb3Zlcih2YWx1ZSkge1xuICAgIGxldCBkaWZmID0gMCwgaW5kZXggPSByZWNvdmVySW5kZXgodmFsdWUpXG4gICAgaWYgKCF0aGlzLmludmVydGVkKSBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4OyBpKyspXG4gICAgICBkaWZmICs9IHRoaXMucmFuZ2VzW2kgKiAzICsgMl0gLSB0aGlzLnJhbmdlc1tpICogMyArIDFdXG4gICAgcmV0dXJuIHRoaXMucmFuZ2VzW2luZGV4ICogM10gKyBkaWZmICsgcmVjb3Zlck9mZnNldCh2YWx1ZSlcbiAgfVxuXG4gIC8vIDogKG51bWJlciwgP251bWJlcikg4oaSIE1hcFJlc3VsdFxuICBtYXBSZXN1bHQocG9zLCBhc3NvYyA9IDEpIHsgcmV0dXJuIHRoaXMuX21hcChwb3MsIGFzc29jLCBmYWxzZSkgfVxuXG4gIC8vIDogKG51bWJlciwgP251bWJlcikg4oaSIG51bWJlclxuICBtYXAocG9zLCBhc3NvYyA9IDEpIHsgcmV0dXJuIHRoaXMuX21hcChwb3MsIGFzc29jLCB0cnVlKSB9XG5cbiAgX21hcChwb3MsIGFzc29jLCBzaW1wbGUpIHtcbiAgICBsZXQgZGlmZiA9IDAsIG9sZEluZGV4ID0gdGhpcy5pbnZlcnRlZCA/IDIgOiAxLCBuZXdJbmRleCA9IHRoaXMuaW52ZXJ0ZWQgPyAxIDogMlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgIGxldCBzdGFydCA9IHRoaXMucmFuZ2VzW2ldIC0gKHRoaXMuaW52ZXJ0ZWQgPyBkaWZmIDogMClcbiAgICAgIGlmIChzdGFydCA+IHBvcykgYnJlYWtcbiAgICAgIGxldCBvbGRTaXplID0gdGhpcy5yYW5nZXNbaSArIG9sZEluZGV4XSwgbmV3U2l6ZSA9IHRoaXMucmFuZ2VzW2kgKyBuZXdJbmRleF0sIGVuZCA9IHN0YXJ0ICsgb2xkU2l6ZVxuICAgICAgaWYgKHBvcyA8PSBlbmQpIHtcbiAgICAgICAgbGV0IHNpZGUgPSAhb2xkU2l6ZSA/IGFzc29jIDogcG9zID09IHN0YXJ0ID8gLTEgOiBwb3MgPT0gZW5kID8gMSA6IGFzc29jXG4gICAgICAgIGxldCByZXN1bHQgPSBzdGFydCArIGRpZmYgKyAoc2lkZSA8IDAgPyAwIDogbmV3U2l6ZSlcbiAgICAgICAgaWYgKHNpbXBsZSkgcmV0dXJuIHJlc3VsdFxuICAgICAgICBsZXQgcmVjb3ZlciA9IG1ha2VSZWNvdmVyKGkgLyAzLCBwb3MgLSBzdGFydClcbiAgICAgICAgcmV0dXJuIG5ldyBNYXBSZXN1bHQocmVzdWx0LCBhc3NvYyA8IDAgPyBwb3MgIT0gc3RhcnQgOiBwb3MgIT0gZW5kLCByZWNvdmVyKVxuICAgICAgfVxuICAgICAgZGlmZiArPSBuZXdTaXplIC0gb2xkU2l6ZVxuICAgIH1cbiAgICByZXR1cm4gc2ltcGxlID8gcG9zICsgZGlmZiA6IG5ldyBNYXBSZXN1bHQocG9zICsgZGlmZilcbiAgfVxuXG4gIHRvdWNoZXMocG9zLCByZWNvdmVyKSB7XG4gICAgbGV0IGRpZmYgPSAwLCBpbmRleCA9IHJlY292ZXJJbmRleChyZWNvdmVyKVxuICAgIGxldCBvbGRJbmRleCA9IHRoaXMuaW52ZXJ0ZWQgPyAyIDogMSwgbmV3SW5kZXggPSB0aGlzLmludmVydGVkID8gMSA6IDJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICBsZXQgc3RhcnQgPSB0aGlzLnJhbmdlc1tpXSAtICh0aGlzLmludmVydGVkID8gZGlmZiA6IDApXG4gICAgICBpZiAoc3RhcnQgPiBwb3MpIGJyZWFrXG4gICAgICBsZXQgb2xkU2l6ZSA9IHRoaXMucmFuZ2VzW2kgKyBvbGRJbmRleF0sIGVuZCA9IHN0YXJ0ICsgb2xkU2l6ZVxuICAgICAgaWYgKHBvcyA8PSBlbmQgJiYgaSA9PSBpbmRleCAqIDMpIHJldHVybiB0cnVlXG4gICAgICBkaWZmICs9IHRoaXMucmFuZ2VzW2kgKyBuZXdJbmRleF0gLSBvbGRTaXplXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gOjogKChvbGRTdGFydDogbnVtYmVyLCBvbGRFbmQ6IG51bWJlciwgbmV3U3RhcnQ6IG51bWJlciwgbmV3RW5kOiBudW1iZXIpKVxuICAvLyBDYWxscyB0aGUgZ2l2ZW4gZnVuY3Rpb24gb24gZWFjaCBvZiB0aGUgY2hhbmdlZCByYW5nZXMgaW5jbHVkZWQgaW5cbiAgLy8gdGhpcyBtYXAuXG4gIGZvckVhY2goZikge1xuICAgIGxldCBvbGRJbmRleCA9IHRoaXMuaW52ZXJ0ZWQgPyAyIDogMSwgbmV3SW5kZXggPSB0aGlzLmludmVydGVkID8gMSA6IDJcbiAgICBmb3IgKGxldCBpID0gMCwgZGlmZiA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5yYW5nZXNbaV0sIG9sZFN0YXJ0ID0gc3RhcnQgLSAodGhpcy5pbnZlcnRlZCA/IGRpZmYgOiAwKSwgbmV3U3RhcnQgPSBzdGFydCArICh0aGlzLmludmVydGVkID8gMCA6IGRpZmYpXG4gICAgICBsZXQgb2xkU2l6ZSA9IHRoaXMucmFuZ2VzW2kgKyBvbGRJbmRleF0sIG5ld1NpemUgPSB0aGlzLnJhbmdlc1tpICsgbmV3SW5kZXhdXG4gICAgICBmKG9sZFN0YXJ0LCBvbGRTdGFydCArIG9sZFNpemUsIG5ld1N0YXJ0LCBuZXdTdGFydCArIG5ld1NpemUpXG4gICAgICBkaWZmICs9IG5ld1NpemUgLSBvbGRTaXplXG4gICAgfVxuICB9XG5cbiAgLy8gOjogKCkg4oaSIFN0ZXBNYXBcbiAgLy8gQ3JlYXRlIGFuIGludmVydGVkIHZlcnNpb24gb2YgdGhpcyBtYXAuIFRoZSByZXN1bHQgY2FuIGJlIHVzZWQgdG9cbiAgLy8gbWFwIHBvc2l0aW9ucyBpbiB0aGUgcG9zdC1zdGVwIGRvY3VtZW50IHRvIHRoZSBwcmUtc3RlcCBkb2N1bWVudC5cbiAgaW52ZXJ0KCkge1xuICAgIHJldHVybiBuZXcgU3RlcE1hcCh0aGlzLnJhbmdlcywgIXRoaXMuaW52ZXJ0ZWQpXG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gKHRoaXMuaW52ZXJ0ZWQgPyBcIi1cIiA6IFwiXCIpICsgSlNPTi5zdHJpbmdpZnkodGhpcy5yYW5nZXMpXG4gIH1cblxuICAvLyA6OiAobjogbnVtYmVyKSDihpIgU3RlcE1hcFxuICAvLyBDcmVhdGUgYSBtYXAgdGhhdCBtb3ZlcyBhbGwgcG9zaXRpb25zIGJ5IG9mZnNldCBgbmAgKHdoaWNoIG1heSBiZVxuICAvLyBuZWdhdGl2ZSkuIFRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIGFwcGx5aW5nIHN0ZXBzIG1lYW50IGZvciBhXG4gIC8vIHN1Yi1kb2N1bWVudCB0byBhIGxhcmdlciBkb2N1bWVudCwgb3IgdmljZS12ZXJzYS5cbiAgc3RhdGljIG9mZnNldChuKSB7XG4gICAgcmV0dXJuIG4gPT0gMCA/IFN0ZXBNYXAuZW1wdHkgOiBuZXcgU3RlcE1hcChuIDwgMCA/IFswLCAtbiwgMF0gOiBbMCwgMCwgbl0pXG4gIH1cbn1cblxuU3RlcE1hcC5lbXB0eSA9IG5ldyBTdGVwTWFwKFtdKVxuXG4vLyA6OiBjbGFzcyBleHRlbmRzIE1hcHBhYmxlXG4vLyBBIG1hcHBpbmcgcmVwcmVzZW50cyBhIHBpcGVsaW5lIG9mIHplcm8gb3IgbW9yZSBbc3RlcFxuLy8gbWFwc10oI3RyYW5zZm9ybS5TdGVwTWFwKS4gSXQgaGFzIHNwZWNpYWwgcHJvdmlzaW9ucyBmb3IgbG9zc2xlc3NseVxuLy8gaGFuZGxpbmcgbWFwcGluZyBwb3NpdGlvbnMgdGhyb3VnaCBhIHNlcmllcyBvZiBzdGVwcyBpbiB3aGljaCBzb21lXG4vLyBzdGVwcyBhcmUgaW52ZXJ0ZWQgdmVyc2lvbnMgb2YgZWFybGllciBzdGVwcy4gKFRoaXMgY29tZXMgdXAgd2hlblxuLy8g4oCYW3JlYmFzaW5nXSgvZG9jcy9ndWlkZS8jdHJhbnNmb3JtLnJlYmFzaW5nKeKAmSBzdGVwcyBmb3Jcbi8vIGNvbGxhYm9yYXRpb24gb3IgaGlzdG9yeSBtYW5hZ2VtZW50LilcbmV4cG9ydCBjbGFzcyBNYXBwaW5nIHtcbiAgLy8gOjogKD9bU3RlcE1hcF0pXG4gIC8vIENyZWF0ZSBhIG5ldyBtYXBwaW5nIHdpdGggdGhlIGdpdmVuIHBvc2l0aW9uIG1hcHMuXG4gIGNvbnN0cnVjdG9yKG1hcHMsIG1pcnJvciwgZnJvbSwgdG8pIHtcbiAgICAvLyA6OiBbU3RlcE1hcF1cbiAgICAvLyBUaGUgc3RlcCBtYXBzIGluIHRoaXMgbWFwcGluZy5cbiAgICB0aGlzLm1hcHMgPSBtYXBzIHx8IFtdXG4gICAgLy8gOjogbnVtYmVyXG4gICAgLy8gVGhlIHN0YXJ0aW5nIHBvc2l0aW9uIGluIHRoZSBgbWFwc2AgYXJyYXksIHVzZWQgd2hlbiBgbWFwYCBvclxuICAgIC8vIGBtYXBSZXN1bHRgIGlzIGNhbGxlZC5cbiAgICB0aGlzLmZyb20gPSBmcm9tIHx8IDBcbiAgICAvLyA6OiBudW1iZXJcbiAgICAvLyBUaGUgZW5kIHBvc2l0aW9uIGluIHRoZSBgbWFwc2AgYXJyYXkuXG4gICAgdGhpcy50byA9IHRvID09IG51bGwgPyB0aGlzLm1hcHMubGVuZ3RoIDogdG9cbiAgICB0aGlzLm1pcnJvciA9IG1pcnJvclxuICB9XG5cbiAgLy8gOjogKD9udW1iZXIsID9udW1iZXIpIOKGkiBNYXBwaW5nXG4gIC8vIENyZWF0ZSBhIG1hcHBpbmcgdGhhdCBtYXBzIG9ubHkgdGhyb3VnaCBhIHBhcnQgb2YgdGhpcyBvbmUuXG4gIHNsaWNlKGZyb20gPSAwLCB0byA9IHRoaXMubWFwcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbmV3IE1hcHBpbmcodGhpcy5tYXBzLCB0aGlzLm1pcnJvciwgZnJvbSwgdG8pXG4gIH1cblxuICBjb3B5KCkge1xuICAgIHJldHVybiBuZXcgTWFwcGluZyh0aGlzLm1hcHMuc2xpY2UoKSwgdGhpcy5taXJyb3IgJiYgdGhpcy5taXJyb3Iuc2xpY2UoKSwgdGhpcy5mcm9tLCB0aGlzLnRvKVxuICB9XG5cbiAgLy8gOjogKFN0ZXBNYXAsID9udW1iZXIpXG4gIC8vIEFkZCBhIHN0ZXAgbWFwIHRvIHRoZSBlbmQgb2YgdGhpcyBtYXBwaW5nLiBJZiBgbWlycm9yc2AgaXNcbiAgLy8gZ2l2ZW4sIGl0IHNob3VsZCBiZSB0aGUgaW5kZXggb2YgdGhlIHN0ZXAgbWFwIHRoYXQgaXMgdGhlIG1pcnJvclxuICAvLyBpbWFnZSBvZiB0aGlzIG9uZS5cbiAgYXBwZW5kTWFwKG1hcCwgbWlycm9ycykge1xuICAgIHRoaXMudG8gPSB0aGlzLm1hcHMucHVzaChtYXApXG4gICAgaWYgKG1pcnJvcnMgIT0gbnVsbCkgdGhpcy5zZXRNaXJyb3IodGhpcy5tYXBzLmxlbmd0aCAtIDEsIG1pcnJvcnMpXG4gIH1cblxuICAvLyA6OiAoTWFwcGluZylcbiAgLy8gQWRkIGFsbCB0aGUgc3RlcCBtYXBzIGluIGEgZ2l2ZW4gbWFwcGluZyB0byB0aGlzIG9uZSAocHJlc2VydmluZ1xuICAvLyBtaXJyb3JpbmcgaW5mb3JtYXRpb24pLlxuICBhcHBlbmRNYXBwaW5nKG1hcHBpbmcpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgc3RhcnRTaXplID0gdGhpcy5tYXBzLmxlbmd0aDsgaSA8IG1hcHBpbmcubWFwcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG1pcnIgPSBtYXBwaW5nLmdldE1pcnJvcihpKVxuICAgICAgdGhpcy5hcHBlbmRNYXAobWFwcGluZy5tYXBzW2ldLCBtaXJyICE9IG51bGwgJiYgbWlyciA8IGkgPyBzdGFydFNpemUgKyBtaXJyIDogbnVsbClcbiAgICB9XG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIgP251bWJlclxuICAvLyBGaW5kcyB0aGUgb2Zmc2V0IG9mIHRoZSBzdGVwIG1hcCB0aGF0IG1pcnJvcnMgdGhlIG1hcCBhdCB0aGVcbiAgLy8gZ2l2ZW4gb2Zmc2V0LCBpbiB0aGlzIG1hcHBpbmcgKGFzIHBlciB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvXG4gIC8vIGBhcHBlbmRNYXBgKS5cbiAgZ2V0TWlycm9yKG4pIHtcbiAgICBpZiAodGhpcy5taXJyb3IpIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5taXJyb3IubGVuZ3RoOyBpKyspXG4gICAgICBpZiAodGhpcy5taXJyb3JbaV0gPT0gbikgcmV0dXJuIHRoaXMubWlycm9yW2kgKyAoaSAlIDIgPyAtMSA6IDEpXVxuICB9XG5cbiAgc2V0TWlycm9yKG4sIG0pIHtcbiAgICBpZiAoIXRoaXMubWlycm9yKSB0aGlzLm1pcnJvciA9IFtdXG4gICAgdGhpcy5taXJyb3IucHVzaChuLCBtKVxuICB9XG5cbiAgLy8gOjogKE1hcHBpbmcpXG4gIC8vIEFwcGVuZCB0aGUgaW52ZXJzZSBvZiB0aGUgZ2l2ZW4gbWFwcGluZyB0byB0aGlzIG9uZS5cbiAgYXBwZW5kTWFwcGluZ0ludmVydGVkKG1hcHBpbmcpIHtcbiAgICBmb3IgKGxldCBpID0gbWFwcGluZy5tYXBzLmxlbmd0aCAtIDEsIHRvdGFsU2l6ZSA9IHRoaXMubWFwcy5sZW5ndGggKyBtYXBwaW5nLm1hcHMubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IG1pcnIgPSBtYXBwaW5nLmdldE1pcnJvcihpKVxuICAgICAgdGhpcy5hcHBlbmRNYXAobWFwcGluZy5tYXBzW2ldLmludmVydCgpLCBtaXJyICE9IG51bGwgJiYgbWlyciA+IGkgPyB0b3RhbFNpemUgLSBtaXJyIC0gMSA6IG51bGwpXG4gICAgfVxuICB9XG5cbiAgLy8gOjogKCkg4oaSIE1hcHBpbmdcbiAgLy8gQ3JlYXRlIGFuIGludmVydGVkIHZlcnNpb24gb2YgdGhpcyBtYXBwaW5nLlxuICBpbnZlcnQoKSB7XG4gICAgbGV0IGludmVyc2UgPSBuZXcgTWFwcGluZ1xuICAgIGludmVyc2UuYXBwZW5kTWFwcGluZ0ludmVydGVkKHRoaXMpXG4gICAgcmV0dXJuIGludmVyc2VcbiAgfVxuXG4gIC8vIDogKG51bWJlciwgP251bWJlcikg4oaSIG51bWJlclxuICAvLyBNYXAgYSBwb3NpdGlvbiB0aHJvdWdoIHRoaXMgbWFwcGluZy5cbiAgbWFwKHBvcywgYXNzb2MgPSAxKSB7XG4gICAgaWYgKHRoaXMubWlycm9yKSByZXR1cm4gdGhpcy5fbWFwKHBvcywgYXNzb2MsIHRydWUpXG4gICAgZm9yIChsZXQgaSA9IHRoaXMuZnJvbTsgaSA8IHRoaXMudG87IGkrKylcbiAgICAgIHBvcyA9IHRoaXMubWFwc1tpXS5tYXAocG9zLCBhc3NvYylcbiAgICByZXR1cm4gcG9zXG4gIH1cblxuICAvLyA6IChudW1iZXIsID9udW1iZXIpIOKGkiBNYXBSZXN1bHRcbiAgLy8gTWFwIGEgcG9zaXRpb24gdGhyb3VnaCB0aGlzIG1hcHBpbmcsIHJldHVybmluZyBhIG1hcHBpbmdcbiAgLy8gcmVzdWx0LlxuICBtYXBSZXN1bHQocG9zLCBhc3NvYyA9IDEpIHsgcmV0dXJuIHRoaXMuX21hcChwb3MsIGFzc29jLCBmYWxzZSkgfVxuXG4gIF9tYXAocG9zLCBhc3NvYywgc2ltcGxlKSB7XG4gICAgbGV0IGRlbGV0ZWQgPSBmYWxzZSwgcmVjb3ZlcmFibGVzID0gbnVsbFxuXG4gICAgZm9yIChsZXQgaSA9IHRoaXMuZnJvbTsgaSA8IHRoaXMudG87IGkrKykge1xuICAgICAgbGV0IG1hcCA9IHRoaXMubWFwc1tpXSwgcmVjID0gcmVjb3ZlcmFibGVzICYmIHJlY292ZXJhYmxlc1tpXVxuICAgICAgaWYgKHJlYyAhPSBudWxsICYmIG1hcC50b3VjaGVzKHBvcywgcmVjKSkge1xuICAgICAgICBwb3MgPSBtYXAucmVjb3ZlcihyZWMpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGxldCByZXN1bHQgPSBtYXAubWFwUmVzdWx0KHBvcywgYXNzb2MpXG4gICAgICBpZiAocmVzdWx0LnJlY292ZXIgIT0gbnVsbCkge1xuICAgICAgICBsZXQgY29yciA9IHRoaXMuZ2V0TWlycm9yKGkpXG4gICAgICAgIGlmIChjb3JyICE9IG51bGwgJiYgY29yciA+IGkgJiYgY29yciA8IHRoaXMudG8pIHtcbiAgICAgICAgICBpZiAocmVzdWx0LmRlbGV0ZWQpIHtcbiAgICAgICAgICAgIGkgPSBjb3JyXG4gICAgICAgICAgICBwb3MgPSB0aGlzLm1hcHNbY29ycl0ucmVjb3ZlcihyZXN1bHQucmVjb3ZlcilcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIDsocmVjb3ZlcmFibGVzIHx8IChyZWNvdmVyYWJsZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpKSlbY29ycl0gPSByZXN1bHQucmVjb3ZlclxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocmVzdWx0LmRlbGV0ZWQpIGRlbGV0ZWQgPSB0cnVlXG4gICAgICBwb3MgPSByZXN1bHQucG9zXG4gICAgfVxuXG4gICAgcmV0dXJuIHNpbXBsZSA/IHBvcyA6IG5ldyBNYXBSZXN1bHQocG9zLCBkZWxldGVkKVxuICB9XG59XG4iLCJpbXBvcnQge01hcHBpbmd9IGZyb20gXCIuL21hcFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBUcmFuc2Zvcm1FcnJvcihtZXNzYWdlKSB7XG4gIGxldCBlcnIgPSBFcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UpXG4gIGVyci5fX3Byb3RvX18gPSBUcmFuc2Zvcm1FcnJvci5wcm90b3R5cGVcbiAgcmV0dXJuIGVyclxufVxuXG5UcmFuc2Zvcm1FcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSlcblRyYW5zZm9ybUVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRyYW5zZm9ybUVycm9yXG5UcmFuc2Zvcm1FcnJvci5wcm90b3R5cGUubmFtZSA9IFwiVHJhbnNmb3JtRXJyb3JcIlxuXG4vLyA6Oi0gQWJzdHJhY3Rpb24gdG8gYnVpbGQgdXAgYW5kIHRyYWNrIGFuIGFycmF5IG9mXG4vLyBbc3RlcHNdKCN0cmFuc2Zvcm0uU3RlcCkgcmVwcmVzZW50aW5nIGEgZG9jdW1lbnQgdHJhbnNmb3JtYXRpb24uXG4vL1xuLy8gTW9zdCB0cmFuc2Zvcm1pbmcgbWV0aG9kcyByZXR1cm4gdGhlIGBUcmFuc2Zvcm1gIG9iamVjdCBpdHNlbGYsIHNvXG4vLyB0aGF0IHRoZXkgY2FuIGJlIGNoYWluZWQuXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtIHtcbiAgLy8gOjogKE5vZGUpXG4gIC8vIENyZWF0ZSBhIHRyYW5zZm9ybSB0aGF0IHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiBkb2N1bWVudC5cbiAgY29uc3RydWN0b3IoZG9jKSB7XG4gICAgLy8gOjogTm9kZVxuICAgIC8vIFRoZSBjdXJyZW50IGRvY3VtZW50ICh0aGUgcmVzdWx0IG9mIGFwcGx5aW5nIHRoZSBzdGVwcyBpbiB0aGVcbiAgICAvLyB0cmFuc2Zvcm0pLlxuICAgIHRoaXMuZG9jID0gZG9jXG4gICAgLy8gOjogW1N0ZXBdXG4gICAgLy8gVGhlIHN0ZXBzIGluIHRoaXMgdHJhbnNmb3JtLlxuICAgIHRoaXMuc3RlcHMgPSBbXVxuICAgIC8vIDo6IFtOb2RlXVxuICAgIC8vIFRoZSBkb2N1bWVudHMgYmVmb3JlIGVhY2ggb2YgdGhlIHN0ZXBzLlxuICAgIHRoaXMuZG9jcyA9IFtdXG4gICAgLy8gOjogTWFwcGluZ1xuICAgIC8vIEEgbWFwcGluZyB3aXRoIHRoZSBtYXBzIGZvciBlYWNoIG9mIHRoZSBzdGVwcyBpbiB0aGlzIHRyYW5zZm9ybS5cbiAgICB0aGlzLm1hcHBpbmcgPSBuZXcgTWFwcGluZ1xuICB9XG5cbiAgLy8gOjogTm9kZSBUaGUgc3RhcnRpbmcgZG9jdW1lbnQuXG4gIGdldCBiZWZvcmUoKSB7IHJldHVybiB0aGlzLmRvY3MubGVuZ3RoID8gdGhpcy5kb2NzWzBdIDogdGhpcy5kb2MgfVxuXG4gIC8vIDo6IChzdGVwOiBTdGVwKSDihpIgdGhpc1xuICAvLyBBcHBseSBhIG5ldyBzdGVwIGluIHRoaXMgdHJhbnNmb3JtLCBzYXZpbmcgdGhlIHJlc3VsdC4gVGhyb3dzIGFuXG4gIC8vIGVycm9yIHdoZW4gdGhlIHN0ZXAgZmFpbHMuXG4gIHN0ZXAob2JqZWN0KSB7XG4gICAgbGV0IHJlc3VsdCA9IHRoaXMubWF5YmVTdGVwKG9iamVjdClcbiAgICBpZiAocmVzdWx0LmZhaWxlZCkgdGhyb3cgbmV3IFRyYW5zZm9ybUVycm9yKHJlc3VsdC5mYWlsZWQpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIDo6IChTdGVwKSDihpIgU3RlcFJlc3VsdFxuICAvLyBUcnkgdG8gYXBwbHkgYSBzdGVwIGluIHRoaXMgdHJhbnNmb3JtYXRpb24sIGlnbm9yaW5nIGl0IGlmIGl0XG4gIC8vIGZhaWxzLiBSZXR1cm5zIHRoZSBzdGVwIHJlc3VsdC5cbiAgbWF5YmVTdGVwKHN0ZXApIHtcbiAgICBsZXQgcmVzdWx0ID0gc3RlcC5hcHBseSh0aGlzLmRvYylcbiAgICBpZiAoIXJlc3VsdC5mYWlsZWQpIHRoaXMuYWRkU3RlcChzdGVwLCByZXN1bHQuZG9jKVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gVHJ1ZSB3aGVuIHRoZSBkb2N1bWVudCBoYXMgYmVlbiBjaGFuZ2VkICh3aGVuIHRoZXJlIGFyZSBhbnlcbiAgLy8gc3RlcHMpLlxuICBnZXQgZG9jQ2hhbmdlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwcy5sZW5ndGggPiAwXG4gIH1cblxuICBhZGRTdGVwKHN0ZXAsIGRvYykge1xuICAgIHRoaXMuZG9jcy5wdXNoKHRoaXMuZG9jKVxuICAgIHRoaXMuc3RlcHMucHVzaChzdGVwKVxuICAgIHRoaXMubWFwcGluZy5hcHBlbmRNYXAoc3RlcC5nZXRNYXAoKSlcbiAgICB0aGlzLmRvYyA9IGRvY1xuICB9XG59XG4iLCJpbXBvcnQge1JlcGxhY2VFcnJvcn0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcblxuaW1wb3J0IHtTdGVwTWFwfSBmcm9tIFwiLi9tYXBcIlxuXG5mdW5jdGlvbiBtdXN0T3ZlcnJpZGUoKSB7IHRocm93IG5ldyBFcnJvcihcIk92ZXJyaWRlIG1lXCIpIH1cblxuY29uc3Qgc3RlcHNCeUlEID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG4vLyA6Oi0gQSBzdGVwIG9iamVjdCByZXByZXNlbnRzIGFuIGF0b21pYyBjaGFuZ2UuIEl0IGdlbmVyYWxseSBhcHBsaWVzXG4vLyBvbmx5IHRvIHRoZSBkb2N1bWVudCBpdCB3YXMgY3JlYXRlZCBmb3IsIHNpbmNlIHRoZSBwb3NpdGlvbnNcbi8vIHN0b3JlZCBpbiBpdCB3aWxsIG9ubHkgbWFrZSBzZW5zZSBmb3IgdGhhdCBkb2N1bWVudC5cbi8vXG4vLyBOZXcgc3RlcHMgYXJlIGRlZmluZWQgYnkgY3JlYXRpbmcgY2xhc3NlcyB0aGF0IGV4dGVuZCBgU3RlcGAsXG4vLyBvdmVycmlkaW5nIHRoZSBgYXBwbHlgLCBgaW52ZXJ0YCwgYG1hcGAsIGBnZXRNYXBgIGFuZCBgZnJvbUpTT05gXG4vLyBtZXRob2RzLCBhbmQgcmVnaXN0ZXJpbmcgeW91ciBjbGFzcyB3aXRoIGEgdW5pcXVlXG4vLyBKU09OLXNlcmlhbGl6YXRpb24gaWRlbnRpZmllciB1c2luZ1xuLy8gW2BTdGVwLmpzb25JRGBdKCN0cmFuc2Zvcm0uU3RlcF5qc29uSUQpLlxuZXhwb3J0IGNsYXNzIFN0ZXAge1xuICAvLyA6OiAoZG9jOiBOb2RlKSDihpIgU3RlcFJlc3VsdFxuICAvLyBBcHBsaWVzIHRoaXMgc3RlcCB0byB0aGUgZ2l2ZW4gZG9jdW1lbnQsIHJldHVybmluZyBhIHJlc3VsdFxuICAvLyBvYmplY3QgdGhhdCBlaXRoZXIgaW5kaWNhdGVzIGZhaWx1cmUsIGlmIHRoZSBzdGVwIGNhbiBub3QgYmVcbiAgLy8gYXBwbGllZCB0byB0aGlzIGRvY3VtZW50LCBvciBpbmRpY2F0ZXMgc3VjY2VzcyBieSBjb250YWluaW5nIGFcbiAgLy8gdHJhbnNmb3JtZWQgZG9jdW1lbnQuXG4gIGFwcGx5KF9kb2MpIHsgcmV0dXJuIG11c3RPdmVycmlkZSgpIH1cblxuICAvLyA6OiAoKSDihpIgU3RlcE1hcFxuICAvLyBHZXQgdGhlIHN0ZXAgbWFwIHRoYXQgcmVwcmVzZW50cyB0aGUgY2hhbmdlcyBtYWRlIGJ5IHRoaXMgc3RlcCxcbiAgLy8gYW5kIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHRyYW5zZm9ybSBiZXR3ZWVuIHBvc2l0aW9ucyBpbiB0aGUgb2xkXG4gIC8vIGFuZCB0aGUgbmV3IGRvY3VtZW50LlxuICBnZXRNYXAoKSB7IHJldHVybiBTdGVwTWFwLmVtcHR5IH1cblxuICAvLyA6OiAoZG9jOiBOb2RlKSDihpIgU3RlcFxuICAvLyBDcmVhdGUgYW4gaW52ZXJ0ZWQgdmVyc2lvbiBvZiB0aGlzIHN0ZXAuIE5lZWRzIHRoZSBkb2N1bWVudCBhcyBpdFxuICAvLyB3YXMgYmVmb3JlIHRoZSBzdGVwIGFzIGFyZ3VtZW50LlxuICBpbnZlcnQoX2RvYykgeyByZXR1cm4gbXVzdE92ZXJyaWRlKCkgfVxuXG4gIC8vIDo6IChtYXBwaW5nOiBNYXBwYWJsZSkg4oaSID9TdGVwXG4gIC8vIE1hcCB0aGlzIHN0ZXAgdGhyb3VnaCBhIG1hcHBhYmxlIHRoaW5nLCByZXR1cm5pbmcgZWl0aGVyIGFcbiAgLy8gdmVyc2lvbiBvZiB0aGF0IHN0ZXAgd2l0aCBpdHMgcG9zaXRpb25zIGFkanVzdGVkLCBvciBgbnVsbGAgaWZcbiAgLy8gdGhlIHN0ZXAgd2FzIGVudGlyZWx5IGRlbGV0ZWQgYnkgdGhlIG1hcHBpbmcuXG4gIG1hcChfbWFwcGluZykgeyByZXR1cm4gbXVzdE92ZXJyaWRlKCkgfVxuXG4gIC8vIDo6IChvdGhlcjogU3RlcCkg4oaSID9TdGVwXG4gIC8vIFRyeSB0byBtZXJnZSB0aGlzIHN0ZXAgd2l0aCBhbm90aGVyIG9uZSwgdG8gYmUgYXBwbGllZCBkaXJlY3RseVxuICAvLyBhZnRlciBpdC4gUmV0dXJucyB0aGUgbWVyZ2VkIHN0ZXAgd2hlbiBwb3NzaWJsZSwgbnVsbCBpZiB0aGVcbiAgLy8gc3RlcHMgY2FuJ3QgYmUgbWVyZ2VkLlxuICBtZXJnZShfb3RoZXIpIHsgcmV0dXJuIG51bGwgfVxuXG4gIC8vIDo6ICgpIOKGkiBPYmplY3RcbiAgLy8gQ3JlYXRlIGEgSlNPTi1zZXJpYWxpemVhYmxlIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgc3RlcC4gV2hlblxuICAvLyBkZWZpbmluZyB0aGlzIGZvciBhIGN1c3RvbSBzdWJjbGFzcywgbWFrZSBzdXJlIHRoZSByZXN1bHQgb2JqZWN0XG4gIC8vIGluY2x1ZGVzIHRoZSBzdGVwIHR5cGUncyBbSlNPTiBpZF0oI3RyYW5zZm9ybS5TdGVwXmpzb25JRCkgdW5kZXJcbiAgLy8gdGhlIGBzdGVwVHlwZWAgcHJvcGVydHkuXG4gIHRvSlNPTigpIHsgcmV0dXJuIG11c3RPdmVycmlkZSgpIH1cblxuICAvLyA6OiAoU2NoZW1hLCBPYmplY3QpIOKGkiBTdGVwXG4gIC8vIERlc2VyaWFsaXplIGEgc3RlcCBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uLiBXaWxsIGNhbGxcbiAgLy8gdGhyb3VnaCB0byB0aGUgc3RlcCBjbGFzcycgb3duIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgbWV0aG9kLlxuICBzdGF0aWMgZnJvbUpTT04oc2NoZW1hLCBqc29uKSB7XG4gICAgaWYgKCFqc29uIHx8ICFqc29uLnN0ZXBUeXBlKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIFN0ZXAuZnJvbUpTT05cIilcbiAgICBsZXQgdHlwZSA9IHN0ZXBzQnlJRFtqc29uLnN0ZXBUeXBlXVxuICAgIGlmICghdHlwZSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYE5vIHN0ZXAgdHlwZSAke2pzb24uc3RlcFR5cGV9IGRlZmluZWRgKVxuICAgIHJldHVybiB0eXBlLmZyb21KU09OKHNjaGVtYSwganNvbilcbiAgfVxuXG4gIC8vIDo6IChzdHJpbmcsIGNvbnN0cnVjdG9yPFN0ZXA+KVxuICAvLyBUbyBiZSBhYmxlIHRvIHNlcmlhbGl6ZSBzdGVwcyB0byBKU09OLCBlYWNoIHN0ZXAgbmVlZHMgYSBzdHJpbmdcbiAgLy8gSUQgdG8gYXR0YWNoIHRvIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uLiBVc2UgdGhpcyBtZXRob2QgdG9cbiAgLy8gcmVnaXN0ZXIgYW4gSUQgZm9yIHlvdXIgc3RlcCBjbGFzc2VzLiBUcnkgdG8gcGljayBzb21ldGhpbmdcbiAgLy8gdGhhdCdzIHVubGlrZWx5IHRvIGNsYXNoIHdpdGggc3RlcHMgZnJvbSBvdGhlciBtb2R1bGVzLlxuICBzdGF0aWMganNvbklEKGlkLCBzdGVwQ2xhc3MpIHtcbiAgICBpZiAoaWQgaW4gc3RlcHNCeUlEKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkR1cGxpY2F0ZSB1c2Ugb2Ygc3RlcCBKU09OIElEIFwiICsgaWQpXG4gICAgc3RlcHNCeUlEW2lkXSA9IHN0ZXBDbGFzc1xuICAgIHN0ZXBDbGFzcy5wcm90b3R5cGUuanNvbklEID0gaWRcbiAgICByZXR1cm4gc3RlcENsYXNzXG4gIH1cbn1cblxuLy8gOjotIFRoZSByZXN1bHQgb2YgW2FwcGx5aW5nXSgjdHJhbnNmb3JtLlN0ZXAuYXBwbHkpIGEgc3RlcC4gQ29udGFpbnMgZWl0aGVyIGFcbi8vIG5ldyBkb2N1bWVudCBvciBhIGZhaWx1cmUgdmFsdWUuXG5leHBvcnQgY2xhc3MgU3RlcFJlc3VsdCB7XG4gIC8vIDogKD9Ob2RlLCA/c3RyaW5nKVxuICBjb25zdHJ1Y3Rvcihkb2MsIGZhaWxlZCkge1xuICAgIC8vIDo6ID9Ob2RlIFRoZSB0cmFuc2Zvcm1lZCBkb2N1bWVudC5cbiAgICB0aGlzLmRvYyA9IGRvY1xuICAgIC8vIDo6ID9zdHJpbmcgVGV4dCBwcm92aWRpbmcgaW5mb3JtYXRpb24gYWJvdXQgYSBmYWlsZWQgc3RlcC5cbiAgICB0aGlzLmZhaWxlZCA9IGZhaWxlZFxuICB9XG5cbiAgLy8gOjogKE5vZGUpIOKGkiBTdGVwUmVzdWx0XG4gIC8vIENyZWF0ZSBhIHN1Y2Nlc3NmdWwgc3RlcCByZXN1bHQuXG4gIHN0YXRpYyBvayhkb2MpIHsgcmV0dXJuIG5ldyBTdGVwUmVzdWx0KGRvYywgbnVsbCkgfVxuXG4gIC8vIDo6IChzdHJpbmcpIOKGkiBTdGVwUmVzdWx0XG4gIC8vIENyZWF0ZSBhIGZhaWxlZCBzdGVwIHJlc3VsdC5cbiAgc3RhdGljIGZhaWwobWVzc2FnZSkgeyByZXR1cm4gbmV3IFN0ZXBSZXN1bHQobnVsbCwgbWVzc2FnZSkgfVxuXG4gIC8vIDo6IChOb2RlLCBudW1iZXIsIG51bWJlciwgU2xpY2UpIOKGkiBTdGVwUmVzdWx0XG4gIC8vIENhbGwgW2BOb2RlLnJlcGxhY2VgXSgjbW9kZWwuTm9kZS5yZXBsYWNlKSB3aXRoIHRoZSBnaXZlblxuICAvLyBhcmd1bWVudHMuIENyZWF0ZSBhIHN1Y2Nlc3NmdWwgcmVzdWx0IGlmIGl0IHN1Y2NlZWRzLCBhbmQgYVxuICAvLyBmYWlsZWQgb25lIGlmIGl0IHRocm93cyBhIGBSZXBsYWNlRXJyb3JgLlxuICBzdGF0aWMgZnJvbVJlcGxhY2UoZG9jLCBmcm9tLCB0bywgc2xpY2UpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIFN0ZXBSZXN1bHQub2soZG9jLnJlcGxhY2UoZnJvbSwgdG8sIHNsaWNlKSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIFJlcGxhY2VFcnJvcikgcmV0dXJuIFN0ZXBSZXN1bHQuZmFpbChlLm1lc3NhZ2UpXG4gICAgICB0aHJvdyBlXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge1NsaWNlfSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuXG5pbXBvcnQge1N0ZXAsIFN0ZXBSZXN1bHR9IGZyb20gXCIuL3N0ZXBcIlxuaW1wb3J0IHtTdGVwTWFwfSBmcm9tIFwiLi9tYXBcIlxuXG4vLyA6Oi0gUmVwbGFjZSBhIHBhcnQgb2YgdGhlIGRvY3VtZW50IHdpdGggYSBzbGljZSBvZiBuZXcgY29udGVudC5cbmV4cG9ydCBjbGFzcyBSZXBsYWNlU3RlcCBleHRlbmRzIFN0ZXAge1xuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsIFNsaWNlLCA/Ym9vbClcbiAgLy8gVGhlIGdpdmVuIGBzbGljZWAgc2hvdWxkIGZpdCB0aGUgJ2dhcCcgYmV0d2VlbiBgZnJvbWAgYW5kXG4gIC8vIGB0b2DigJR0aGUgZGVwdGhzIG11c3QgbGluZSB1cCwgYW5kIHRoZSBzdXJyb3VuZGluZyBub2RlcyBtdXN0IGJlXG4gIC8vIGFibGUgdG8gYmUgam9pbmVkIHdpdGggdGhlIG9wZW4gc2lkZXMgb2YgdGhlIHNsaWNlLiBXaGVuXG4gIC8vIGBzdHJ1Y3R1cmVgIGlzIHRydWUsIHRoZSBzdGVwIHdpbGwgZmFpbCBpZiB0aGUgY29udGVudCBiZXR3ZWVuXG4gIC8vIGZyb20gYW5kIHRvIGlzIG5vdCBqdXN0IGEgc2VxdWVuY2Ugb2YgY2xvc2luZyBhbmQgdGhlbiBvcGVuaW5nXG4gIC8vIHRva2VucyAodGhpcyBpcyB0byBndWFyZCBhZ2FpbnN0IHJlYmFzZWQgcmVwbGFjZSBzdGVwc1xuICAvLyBvdmVyd3JpdGluZyBzb21ldGhpbmcgdGhleSB3ZXJlbid0IHN1cHBvc2VkIHRvKS5cbiAgY29uc3RydWN0b3IoZnJvbSwgdG8sIHNsaWNlLCBzdHJ1Y3R1cmUpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5mcm9tID0gZnJvbVxuICAgIHRoaXMudG8gPSB0b1xuICAgIHRoaXMuc2xpY2UgPSBzbGljZVxuICAgIHRoaXMuc3RydWN0dXJlID0gISFzdHJ1Y3R1cmVcbiAgfVxuXG4gIGFwcGx5KGRvYykge1xuICAgIGlmICh0aGlzLnN0cnVjdHVyZSAmJiBjb250ZW50QmV0d2Vlbihkb2MsIHRoaXMuZnJvbSwgdGhpcy50bykpXG4gICAgICByZXR1cm4gU3RlcFJlc3VsdC5mYWlsKFwiU3RydWN0dXJlIHJlcGxhY2Ugd291bGQgb3ZlcndyaXRlIGNvbnRlbnRcIilcbiAgICByZXR1cm4gU3RlcFJlc3VsdC5mcm9tUmVwbGFjZShkb2MsIHRoaXMuZnJvbSwgdGhpcy50bywgdGhpcy5zbGljZSlcbiAgfVxuXG4gIGdldE1hcCgpIHtcbiAgICByZXR1cm4gbmV3IFN0ZXBNYXAoW3RoaXMuZnJvbSwgdGhpcy50byAtIHRoaXMuZnJvbSwgdGhpcy5zbGljZS5zaXplXSlcbiAgfVxuXG4gIGludmVydChkb2MpIHtcbiAgICByZXR1cm4gbmV3IFJlcGxhY2VTdGVwKHRoaXMuZnJvbSwgdGhpcy5mcm9tICsgdGhpcy5zbGljZS5zaXplLCBkb2Muc2xpY2UodGhpcy5mcm9tLCB0aGlzLnRvKSlcbiAgfVxuXG4gIG1hcChtYXBwaW5nKSB7XG4gICAgbGV0IGZyb20gPSBtYXBwaW5nLm1hcFJlc3VsdCh0aGlzLmZyb20sIDEpLCB0byA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMudG8sIC0xKVxuICAgIGlmIChmcm9tLmRlbGV0ZWQgJiYgdG8uZGVsZXRlZCkgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gbmV3IFJlcGxhY2VTdGVwKGZyb20ucG9zLCBNYXRoLm1heChmcm9tLnBvcywgdG8ucG9zKSwgdGhpcy5zbGljZSlcbiAgfVxuXG4gIG1lcmdlKG90aGVyKSB7XG4gICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBSZXBsYWNlU3RlcCkgfHwgb3RoZXIuc3RydWN0dXJlICE9IHRoaXMuc3RydWN0dXJlKSByZXR1cm4gbnVsbFxuXG4gICAgaWYgKHRoaXMuZnJvbSArIHRoaXMuc2xpY2Uuc2l6ZSA9PSBvdGhlci5mcm9tICYmICF0aGlzLnNsaWNlLm9wZW5FbmQgJiYgIW90aGVyLnNsaWNlLm9wZW5TdGFydCkge1xuICAgICAgbGV0IHNsaWNlID0gdGhpcy5zbGljZS5zaXplICsgb3RoZXIuc2xpY2Uuc2l6ZSA9PSAwID8gU2xpY2UuZW1wdHlcbiAgICAgICAgICA6IG5ldyBTbGljZSh0aGlzLnNsaWNlLmNvbnRlbnQuYXBwZW5kKG90aGVyLnNsaWNlLmNvbnRlbnQpLCB0aGlzLnNsaWNlLm9wZW5TdGFydCwgb3RoZXIuc2xpY2Uub3BlbkVuZClcbiAgICAgIHJldHVybiBuZXcgUmVwbGFjZVN0ZXAodGhpcy5mcm9tLCB0aGlzLnRvICsgKG90aGVyLnRvIC0gb3RoZXIuZnJvbSksIHNsaWNlLCB0aGlzLnN0cnVjdHVyZSlcbiAgICB9IGVsc2UgaWYgKG90aGVyLnRvID09IHRoaXMuZnJvbSAmJiAhdGhpcy5zbGljZS5vcGVuU3RhcnQgJiYgIW90aGVyLnNsaWNlLm9wZW5FbmQpIHtcbiAgICAgIGxldCBzbGljZSA9IHRoaXMuc2xpY2Uuc2l6ZSArIG90aGVyLnNsaWNlLnNpemUgPT0gMCA/IFNsaWNlLmVtcHR5XG4gICAgICAgICAgOiBuZXcgU2xpY2Uob3RoZXIuc2xpY2UuY29udGVudC5hcHBlbmQodGhpcy5zbGljZS5jb250ZW50KSwgb3RoZXIuc2xpY2Uub3BlblN0YXJ0LCB0aGlzLnNsaWNlLm9wZW5FbmQpXG4gICAgICByZXR1cm4gbmV3IFJlcGxhY2VTdGVwKG90aGVyLmZyb20sIHRoaXMudG8sIHNsaWNlLCB0aGlzLnN0cnVjdHVyZSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgbGV0IGpzb24gPSB7c3RlcFR5cGU6IFwicmVwbGFjZVwiLCBmcm9tOiB0aGlzLmZyb20sIHRvOiB0aGlzLnRvfVxuICAgIGlmICh0aGlzLnNsaWNlLnNpemUpIGpzb24uc2xpY2UgPSB0aGlzLnNsaWNlLnRvSlNPTigpXG4gICAgaWYgKHRoaXMuc3RydWN0dXJlKSBqc29uLnN0cnVjdHVyZSA9IHRydWVcbiAgICByZXR1cm4ganNvblxuICB9XG5cbiAgc3RhdGljIGZyb21KU09OKHNjaGVtYSwganNvbikge1xuICAgIGlmICh0eXBlb2YganNvbi5mcm9tICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIGpzb24udG8gIT0gXCJudW1iZXJcIilcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBpbnB1dCBmb3IgUmVwbGFjZVN0ZXAuZnJvbUpTT05cIilcbiAgICByZXR1cm4gbmV3IFJlcGxhY2VTdGVwKGpzb24uZnJvbSwganNvbi50bywgU2xpY2UuZnJvbUpTT04oc2NoZW1hLCBqc29uLnNsaWNlKSwgISFqc29uLnN0cnVjdHVyZSlcbiAgfVxufVxuXG5TdGVwLmpzb25JRChcInJlcGxhY2VcIiwgUmVwbGFjZVN0ZXApXG5cbi8vIDo6LSBSZXBsYWNlIGEgcGFydCBvZiB0aGUgZG9jdW1lbnQgd2l0aCBhIHNsaWNlIG9mIGNvbnRlbnQsIGJ1dFxuLy8gcHJlc2VydmUgYSByYW5nZSBvZiB0aGUgcmVwbGFjZWQgY29udGVudCBieSBtb3ZpbmcgaXQgaW50byB0aGVcbi8vIHNsaWNlLlxuZXhwb3J0IGNsYXNzIFJlcGxhY2VBcm91bmRTdGVwIGV4dGVuZHMgU3RlcCB7XG4gIC8vIDo6IChudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIFNsaWNlLCBudW1iZXIsID9ib29sKVxuICAvLyBDcmVhdGUgYSByZXBsYWNlLWFyb3VuZCBzdGVwIHdpdGggdGhlIGdpdmVuIHJhbmdlIGFuZCBnYXAuXG4gIC8vIGBpbnNlcnRgIHNob3VsZCBiZSB0aGUgcG9pbnQgaW4gdGhlIHNsaWNlIGludG8gd2hpY2ggdGhlIGNvbnRlbnRcbiAgLy8gb2YgdGhlIGdhcCBzaG91bGQgYmUgbW92ZWQuIGBzdHJ1Y3R1cmVgIGhhcyB0aGUgc2FtZSBtZWFuaW5nIGFzXG4gIC8vIGl0IGhhcyBpbiB0aGUgW2BSZXBsYWNlU3RlcGBdKCN0cmFuc2Zvcm0uUmVwbGFjZVN0ZXApIGNsYXNzLlxuICBjb25zdHJ1Y3Rvcihmcm9tLCB0bywgZ2FwRnJvbSwgZ2FwVG8sIHNsaWNlLCBpbnNlcnQsIHN0cnVjdHVyZSkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLmZyb20gPSBmcm9tXG4gICAgdGhpcy50byA9IHRvXG4gICAgdGhpcy5nYXBGcm9tID0gZ2FwRnJvbVxuICAgIHRoaXMuZ2FwVG8gPSBnYXBUb1xuICAgIHRoaXMuc2xpY2UgPSBzbGljZVxuICAgIHRoaXMuaW5zZXJ0ID0gaW5zZXJ0XG4gICAgdGhpcy5zdHJ1Y3R1cmUgPSAhIXN0cnVjdHVyZVxuICB9XG5cbiAgYXBwbHkoZG9jKSB7XG4gICAgaWYgKHRoaXMuc3RydWN0dXJlICYmIChjb250ZW50QmV0d2Vlbihkb2MsIHRoaXMuZnJvbSwgdGhpcy5nYXBGcm9tKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudEJldHdlZW4oZG9jLCB0aGlzLmdhcFRvLCB0aGlzLnRvKSkpXG4gICAgICByZXR1cm4gU3RlcFJlc3VsdC5mYWlsKFwiU3RydWN0dXJlIGdhcC1yZXBsYWNlIHdvdWxkIG92ZXJ3cml0ZSBjb250ZW50XCIpXG5cbiAgICBsZXQgZ2FwID0gZG9jLnNsaWNlKHRoaXMuZ2FwRnJvbSwgdGhpcy5nYXBUbylcbiAgICBpZiAoZ2FwLm9wZW5TdGFydCB8fCBnYXAub3BlbkVuZClcbiAgICAgIHJldHVybiBTdGVwUmVzdWx0LmZhaWwoXCJHYXAgaXMgbm90IGEgZmxhdCByYW5nZVwiKVxuICAgIGxldCBpbnNlcnRlZCA9IHRoaXMuc2xpY2UuaW5zZXJ0QXQodGhpcy5pbnNlcnQsIGdhcC5jb250ZW50KVxuICAgIGlmICghaW5zZXJ0ZWQpIHJldHVybiBTdGVwUmVzdWx0LmZhaWwoXCJDb250ZW50IGRvZXMgbm90IGZpdCBpbiBnYXBcIilcbiAgICByZXR1cm4gU3RlcFJlc3VsdC5mcm9tUmVwbGFjZShkb2MsIHRoaXMuZnJvbSwgdGhpcy50bywgaW5zZXJ0ZWQpXG4gIH1cblxuICBnZXRNYXAoKSB7XG4gICAgcmV0dXJuIG5ldyBTdGVwTWFwKFt0aGlzLmZyb20sIHRoaXMuZ2FwRnJvbSAtIHRoaXMuZnJvbSwgdGhpcy5pbnNlcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhcFRvLCB0aGlzLnRvIC0gdGhpcy5nYXBUbywgdGhpcy5zbGljZS5zaXplIC0gdGhpcy5pbnNlcnRdKVxuICB9XG5cbiAgaW52ZXJ0KGRvYykge1xuICAgIGxldCBnYXAgPSB0aGlzLmdhcFRvIC0gdGhpcy5nYXBGcm9tXG4gICAgcmV0dXJuIG5ldyBSZXBsYWNlQXJvdW5kU3RlcCh0aGlzLmZyb20sIHRoaXMuZnJvbSArIHRoaXMuc2xpY2Uuc2l6ZSArIGdhcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJvbSArIHRoaXMuaW5zZXJ0LCB0aGlzLmZyb20gKyB0aGlzLmluc2VydCArIGdhcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5zbGljZSh0aGlzLmZyb20sIHRoaXMudG8pLnJlbW92ZUJldHdlZW4odGhpcy5nYXBGcm9tIC0gdGhpcy5mcm9tLCB0aGlzLmdhcFRvIC0gdGhpcy5mcm9tKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FwRnJvbSAtIHRoaXMuZnJvbSwgdGhpcy5zdHJ1Y3R1cmUpXG4gIH1cblxuICBtYXAobWFwcGluZykge1xuICAgIGxldCBmcm9tID0gbWFwcGluZy5tYXBSZXN1bHQodGhpcy5mcm9tLCAxKSwgdG8gPSBtYXBwaW5nLm1hcFJlc3VsdCh0aGlzLnRvLCAtMSlcbiAgICBsZXQgZ2FwRnJvbSA9IG1hcHBpbmcubWFwKHRoaXMuZ2FwRnJvbSwgLTEpLCBnYXBUbyA9IG1hcHBpbmcubWFwKHRoaXMuZ2FwVG8sIDEpXG4gICAgaWYgKChmcm9tLmRlbGV0ZWQgJiYgdG8uZGVsZXRlZCkgfHwgZ2FwRnJvbSA8IGZyb20ucG9zIHx8IGdhcFRvID4gdG8ucG9zKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiBuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoZnJvbS5wb3MsIHRvLnBvcywgZ2FwRnJvbSwgZ2FwVG8sIHRoaXMuc2xpY2UsIHRoaXMuaW5zZXJ0LCB0aGlzLnN0cnVjdHVyZSlcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICBsZXQganNvbiA9IHtzdGVwVHlwZTogXCJyZXBsYWNlQXJvdW5kXCIsIGZyb206IHRoaXMuZnJvbSwgdG86IHRoaXMudG8sXG4gICAgICAgICAgICAgICAgZ2FwRnJvbTogdGhpcy5nYXBGcm9tLCBnYXBUbzogdGhpcy5nYXBUbywgaW5zZXJ0OiB0aGlzLmluc2VydH1cbiAgICBpZiAodGhpcy5zbGljZS5zaXplKSBqc29uLnNsaWNlID0gdGhpcy5zbGljZS50b0pTT04oKVxuICAgIGlmICh0aGlzLnN0cnVjdHVyZSkganNvbi5zdHJ1Y3R1cmUgPSB0cnVlXG4gICAgcmV0dXJuIGpzb25cbiAgfVxuXG4gIHN0YXRpYyBmcm9tSlNPTihzY2hlbWEsIGpzb24pIHtcbiAgICBpZiAodHlwZW9mIGpzb24uZnJvbSAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiBqc29uLnRvICE9IFwibnVtYmVyXCIgfHxcbiAgICAgICAgdHlwZW9mIGpzb24uZ2FwRnJvbSAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiBqc29uLmdhcFRvICE9IFwibnVtYmVyXCIgfHwgdHlwZW9mIGpzb24uaW5zZXJ0ICE9IFwibnVtYmVyXCIpXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIFJlcGxhY2VBcm91bmRTdGVwLmZyb21KU09OXCIpXG4gICAgcmV0dXJuIG5ldyBSZXBsYWNlQXJvdW5kU3RlcChqc29uLmZyb20sIGpzb24udG8sIGpzb24uZ2FwRnJvbSwganNvbi5nYXBUbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNsaWNlLmZyb21KU09OKHNjaGVtYSwganNvbi5zbGljZSksIGpzb24uaW5zZXJ0LCAhIWpzb24uc3RydWN0dXJlKVxuICB9XG59XG5cblN0ZXAuanNvbklEKFwicmVwbGFjZUFyb3VuZFwiLCBSZXBsYWNlQXJvdW5kU3RlcClcblxuZnVuY3Rpb24gY29udGVudEJldHdlZW4oZG9jLCBmcm9tLCB0bykge1xuICBsZXQgJGZyb20gPSBkb2MucmVzb2x2ZShmcm9tKSwgZGlzdCA9IHRvIC0gZnJvbSwgZGVwdGggPSAkZnJvbS5kZXB0aFxuICB3aGlsZSAoZGlzdCA+IDAgJiYgZGVwdGggPiAwICYmICRmcm9tLmluZGV4QWZ0ZXIoZGVwdGgpID09ICRmcm9tLm5vZGUoZGVwdGgpLmNoaWxkQ291bnQpIHtcbiAgICBkZXB0aC0tXG4gICAgZGlzdC0tXG4gIH1cbiAgaWYgKGRpc3QgPiAwKSB7XG4gICAgbGV0IG5leHQgPSAkZnJvbS5ub2RlKGRlcHRoKS5tYXliZUNoaWxkKCRmcm9tLmluZGV4QWZ0ZXIoZGVwdGgpKVxuICAgIHdoaWxlIChkaXN0ID4gMCkge1xuICAgICAgaWYgKCFuZXh0IHx8IG5leHQuaXNMZWFmKSByZXR1cm4gdHJ1ZVxuICAgICAgbmV4dCA9IG5leHQuZmlyc3RDaGlsZFxuICAgICAgZGlzdC0tXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuIiwiaW1wb3J0IHtTbGljZSwgRnJhZ21lbnR9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5cbmltcG9ydCB7VHJhbnNmb3JtfSBmcm9tIFwiLi90cmFuc2Zvcm1cIlxuaW1wb3J0IHtSZXBsYWNlU3RlcCwgUmVwbGFjZUFyb3VuZFN0ZXB9IGZyb20gXCIuL3JlcGxhY2Vfc3RlcFwiXG5cbmZ1bmN0aW9uIGNhbkN1dChub2RlLCBzdGFydCwgZW5kKSB7XG4gIHJldHVybiAoc3RhcnQgPT0gMCB8fCBub2RlLmNhblJlcGxhY2Uoc3RhcnQsIG5vZGUuY2hpbGRDb3VudCkpICYmXG4gICAgKGVuZCA9PSBub2RlLmNoaWxkQ291bnQgfHwgbm9kZS5jYW5SZXBsYWNlKDAsIGVuZCkpXG59XG5cbi8vIDo6IChOb2RlUmFuZ2UpIOKGkiA/bnVtYmVyXG4vLyBUcnkgdG8gZmluZCBhIHRhcmdldCBkZXB0aCB0byB3aGljaCB0aGUgY29udGVudCBpbiB0aGUgZ2l2ZW4gcmFuZ2Vcbi8vIGNhbiBiZSBsaWZ0ZWQuIFdpbGwgbm90IGdvIGFjcm9zc1xuLy8gW2lzb2xhdGluZ10oI21vZGVsLk5vZGVTcGVjLmlzb2xhdGluZykgcGFyZW50IG5vZGVzLlxuZXhwb3J0IGZ1bmN0aW9uIGxpZnRUYXJnZXQocmFuZ2UpIHtcbiAgbGV0IHBhcmVudCA9IHJhbmdlLnBhcmVudFxuICBsZXQgY29udGVudCA9IHBhcmVudC5jb250ZW50LmN1dEJ5SW5kZXgocmFuZ2Uuc3RhcnRJbmRleCwgcmFuZ2UuZW5kSW5kZXgpXG4gIGZvciAobGV0IGRlcHRoID0gcmFuZ2UuZGVwdGg7OyAtLWRlcHRoKSB7XG4gICAgbGV0IG5vZGUgPSByYW5nZS4kZnJvbS5ub2RlKGRlcHRoKVxuICAgIGxldCBpbmRleCA9IHJhbmdlLiRmcm9tLmluZGV4KGRlcHRoKSwgZW5kSW5kZXggPSByYW5nZS4kdG8uaW5kZXhBZnRlcihkZXB0aClcbiAgICBpZiAoZGVwdGggPCByYW5nZS5kZXB0aCAmJiBub2RlLmNhblJlcGxhY2UoaW5kZXgsIGVuZEluZGV4LCBjb250ZW50KSlcbiAgICAgIHJldHVybiBkZXB0aFxuICAgIGlmIChkZXB0aCA9PSAwIHx8IG5vZGUudHlwZS5zcGVjLmlzb2xhdGluZyB8fCAhY2FuQ3V0KG5vZGUsIGluZGV4LCBlbmRJbmRleCkpIGJyZWFrXG4gIH1cbn1cblxuLy8gOjogKE5vZGVSYW5nZSwgbnVtYmVyKSDihpIgdGhpc1xuLy8gU3BsaXQgdGhlIGNvbnRlbnQgaW4gdGhlIGdpdmVuIHJhbmdlIG9mZiBmcm9tIGl0cyBwYXJlbnQsIGlmIHRoZXJlXG4vLyBpcyBzaWJsaW5nIGNvbnRlbnQgYmVmb3JlIG9yIGFmdGVyIGl0LCBhbmQgbW92ZSBpdCB1cCB0aGUgdHJlZSB0b1xuLy8gdGhlIGRlcHRoIHNwZWNpZmllZCBieSBgdGFyZ2V0YC4gWW91J2xsIHByb2JhYmx5IHdhbnQgdG8gdXNlXG4vLyBbYGxpZnRUYXJnZXRgXSgjdHJhbnNmb3JtLmxpZnRUYXJnZXQpIHRvIGNvbXB1dGUgYHRhcmdldGAsIHRvIG1ha2Vcbi8vIHN1cmUgdGhlIGxpZnQgaXMgdmFsaWQuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbihyYW5nZSwgdGFyZ2V0KSB7XG4gIGxldCB7JGZyb20sICR0bywgZGVwdGh9ID0gcmFuZ2VcblxuICBsZXQgZ2FwU3RhcnQgPSAkZnJvbS5iZWZvcmUoZGVwdGggKyAxKSwgZ2FwRW5kID0gJHRvLmFmdGVyKGRlcHRoICsgMSlcbiAgbGV0IHN0YXJ0ID0gZ2FwU3RhcnQsIGVuZCA9IGdhcEVuZFxuXG4gIGxldCBiZWZvcmUgPSBGcmFnbWVudC5lbXB0eSwgb3BlblN0YXJ0ID0gMFxuICBmb3IgKGxldCBkID0gZGVwdGgsIHNwbGl0dGluZyA9IGZhbHNlOyBkID4gdGFyZ2V0OyBkLS0pXG4gICAgaWYgKHNwbGl0dGluZyB8fCAkZnJvbS5pbmRleChkKSA+IDApIHtcbiAgICAgIHNwbGl0dGluZyA9IHRydWVcbiAgICAgIGJlZm9yZSA9IEZyYWdtZW50LmZyb20oJGZyb20ubm9kZShkKS5jb3B5KGJlZm9yZSkpXG4gICAgICBvcGVuU3RhcnQrK1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydC0tXG4gICAgfVxuICBsZXQgYWZ0ZXIgPSBGcmFnbWVudC5lbXB0eSwgb3BlbkVuZCA9IDBcbiAgZm9yIChsZXQgZCA9IGRlcHRoLCBzcGxpdHRpbmcgPSBmYWxzZTsgZCA+IHRhcmdldDsgZC0tKVxuICAgIGlmIChzcGxpdHRpbmcgfHwgJHRvLmFmdGVyKGQgKyAxKSA8ICR0by5lbmQoZCkpIHtcbiAgICAgIHNwbGl0dGluZyA9IHRydWVcbiAgICAgIGFmdGVyID0gRnJhZ21lbnQuZnJvbSgkdG8ubm9kZShkKS5jb3B5KGFmdGVyKSlcbiAgICAgIG9wZW5FbmQrK1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmQrK1xuICAgIH1cblxuICByZXR1cm4gdGhpcy5zdGVwKG5ldyBSZXBsYWNlQXJvdW5kU3RlcChzdGFydCwgZW5kLCBnYXBTdGFydCwgZ2FwRW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2xpY2UoYmVmb3JlLmFwcGVuZChhZnRlciksIG9wZW5TdGFydCwgb3BlbkVuZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZS5zaXplIC0gb3BlblN0YXJ0LCB0cnVlKSlcbn1cblxuLy8gOjogKE5vZGVSYW5nZSwgTm9kZVR5cGUsID9PYmplY3QsID9Ob2RlUmFuZ2UpIOKGkiA/W3t0eXBlOiBOb2RlVHlwZSwgYXR0cnM6ID9PYmplY3R9XVxuLy8gVHJ5IHRvIGZpbmQgYSB2YWxpZCB3YXkgdG8gd3JhcCB0aGUgY29udGVudCBpbiB0aGUgZ2l2ZW4gcmFuZ2UgaW4gYVxuLy8gbm9kZSBvZiB0aGUgZ2l2ZW4gdHlwZS4gTWF5IGludHJvZHVjZSBleHRyYSBub2RlcyBhcm91bmQgYW5kIGluc2lkZVxuLy8gdGhlIHdyYXBwZXIgbm9kZSwgaWYgbmVjZXNzYXJ5LiBSZXR1cm5zIG51bGwgaWYgbm8gdmFsaWQgd3JhcHBpbmdcbi8vIGNvdWxkIGJlIGZvdW5kLiBXaGVuIGBpbm5lclJhbmdlYCBpcyBnaXZlbiwgdGhhdCByYW5nZSdzIGNvbnRlbnQgaXNcbi8vIHVzZWQgYXMgdGhlIGNvbnRlbnQgdG8gZml0IGludG8gdGhlIHdyYXBwaW5nLCBpbnN0ZWFkIG9mIHRoZVxuLy8gY29udGVudCBvZiBgcmFuZ2VgLlxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRXcmFwcGluZyhyYW5nZSwgbm9kZVR5cGUsIGF0dHJzLCBpbm5lclJhbmdlID0gcmFuZ2UpIHtcbiAgbGV0IGFyb3VuZCA9IGZpbmRXcmFwcGluZ091dHNpZGUocmFuZ2UsIG5vZGVUeXBlKVxuICBsZXQgaW5uZXIgPSBhcm91bmQgJiYgZmluZFdyYXBwaW5nSW5zaWRlKGlubmVyUmFuZ2UsIG5vZGVUeXBlKVxuICBpZiAoIWlubmVyKSByZXR1cm4gbnVsbFxuICByZXR1cm4gYXJvdW5kLm1hcCh3aXRoQXR0cnMpLmNvbmNhdCh7dHlwZTogbm9kZVR5cGUsIGF0dHJzfSkuY29uY2F0KGlubmVyLm1hcCh3aXRoQXR0cnMpKVxufVxuXG5mdW5jdGlvbiB3aXRoQXR0cnModHlwZSkgeyByZXR1cm4ge3R5cGUsIGF0dHJzOiBudWxsfSB9XG5cbmZ1bmN0aW9uIGZpbmRXcmFwcGluZ091dHNpZGUocmFuZ2UsIHR5cGUpIHtcbiAgbGV0IHtwYXJlbnQsIHN0YXJ0SW5kZXgsIGVuZEluZGV4fSA9IHJhbmdlXG4gIGxldCBhcm91bmQgPSBwYXJlbnQuY29udGVudE1hdGNoQXQoc3RhcnRJbmRleCkuZmluZFdyYXBwaW5nKHR5cGUpXG4gIGlmICghYXJvdW5kKSByZXR1cm4gbnVsbFxuICBsZXQgb3V0ZXIgPSBhcm91bmQubGVuZ3RoID8gYXJvdW5kWzBdIDogdHlwZVxuICByZXR1cm4gcGFyZW50LmNhblJlcGxhY2VXaXRoKHN0YXJ0SW5kZXgsIGVuZEluZGV4LCBvdXRlcikgPyBhcm91bmQgOiBudWxsXG59XG5cbmZ1bmN0aW9uIGZpbmRXcmFwcGluZ0luc2lkZShyYW5nZSwgdHlwZSkge1xuICBsZXQge3BhcmVudCwgc3RhcnRJbmRleCwgZW5kSW5kZXh9ID0gcmFuZ2VcbiAgbGV0IGlubmVyID0gcGFyZW50LmNoaWxkKHN0YXJ0SW5kZXgpXG4gIGxldCBpbnNpZGUgPSB0eXBlLmNvbnRlbnRNYXRjaC5maW5kV3JhcHBpbmcoaW5uZXIudHlwZSlcbiAgaWYgKCFpbnNpZGUpIHJldHVybiBudWxsXG4gIGxldCBsYXN0VHlwZSA9IGluc2lkZS5sZW5ndGggPyBpbnNpZGVbaW5zaWRlLmxlbmd0aCAtIDFdIDogdHlwZVxuICBsZXQgaW5uZXJNYXRjaCA9IGxhc3RUeXBlLmNvbnRlbnRNYXRjaFxuICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaW5uZXJNYXRjaCAmJiBpIDwgZW5kSW5kZXg7IGkrKylcbiAgICBpbm5lck1hdGNoID0gaW5uZXJNYXRjaC5tYXRjaFR5cGUocGFyZW50LmNoaWxkKGkpLnR5cGUpXG4gIGlmICghaW5uZXJNYXRjaCB8fCAhaW5uZXJNYXRjaC52YWxpZEVuZCkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIGluc2lkZVxufVxuXG4vLyA6OiAoTm9kZVJhbmdlLCBbe3R5cGU6IE5vZGVUeXBlLCBhdHRyczogP09iamVjdH1dKSDihpIgdGhpc1xuLy8gV3JhcCB0aGUgZ2l2ZW4gW3JhbmdlXSgjbW9kZWwuTm9kZVJhbmdlKSBpbiB0aGUgZ2l2ZW4gc2V0IG9mIHdyYXBwZXJzLlxuLy8gVGhlIHdyYXBwZXJzIGFyZSBhc3N1bWVkIHRvIGJlIHZhbGlkIGluIHRoaXMgcG9zaXRpb24sIGFuZCBzaG91bGRcbi8vIHByb2JhYmx5IGJlIGNvbXB1dGVkIHdpdGggW2BmaW5kV3JhcHBpbmdgXSgjdHJhbnNmb3JtLmZpbmRXcmFwcGluZykuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbihyYW5nZSwgd3JhcHBlcnMpIHtcbiAgbGV0IGNvbnRlbnQgPSBGcmFnbWVudC5lbXB0eVxuICBmb3IgKGxldCBpID0gd3JhcHBlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgY29udGVudCA9IEZyYWdtZW50LmZyb20od3JhcHBlcnNbaV0udHlwZS5jcmVhdGUod3JhcHBlcnNbaV0uYXR0cnMsIGNvbnRlbnQpKVxuXG4gIGxldCBzdGFydCA9IHJhbmdlLnN0YXJ0LCBlbmQgPSByYW5nZS5lbmRcbiAgcmV0dXJuIHRoaXMuc3RlcChuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoc3RhcnQsIGVuZCwgc3RhcnQsIGVuZCwgbmV3IFNsaWNlKGNvbnRlbnQsIDAsIDApLCB3cmFwcGVycy5sZW5ndGgsIHRydWUpKVxufVxuXG4vLyA6OiAobnVtYmVyLCA/bnVtYmVyLCBOb2RlVHlwZSwgP09iamVjdCkg4oaSIHRoaXNcbi8vIFNldCB0aGUgdHlwZSBvZiBhbGwgdGV4dGJsb2NrcyAocGFydGx5KSBiZXR3ZWVuIGBmcm9tYCBhbmQgYHRvYCB0b1xuLy8gdGhlIGdpdmVuIG5vZGUgdHlwZSB3aXRoIHRoZSBnaXZlbiBhdHRyaWJ1dGVzLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5zZXRCbG9ja1R5cGUgPSBmdW5jdGlvbihmcm9tLCB0byA9IGZyb20sIHR5cGUsIGF0dHJzKSB7XG4gIGlmICghdHlwZS5pc1RleHRibG9jaykgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUeXBlIGdpdmVuIHRvIHNldEJsb2NrVHlwZSBzaG91bGQgYmUgYSB0ZXh0YmxvY2tcIilcbiAgbGV0IG1hcEZyb20gPSB0aGlzLnN0ZXBzLmxlbmd0aFxuICB0aGlzLmRvYy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIChub2RlLCBwb3MpID0+IHtcbiAgICBpZiAobm9kZS5pc1RleHRibG9jayAmJiAhbm9kZS5oYXNNYXJrdXAodHlwZSwgYXR0cnMpICYmIGNhbkNoYW5nZVR5cGUodGhpcy5kb2MsIHRoaXMubWFwcGluZy5zbGljZShtYXBGcm9tKS5tYXAocG9zKSwgdHlwZSkpIHtcbiAgICAgIC8vIEVuc3VyZSBhbGwgbWFya3VwIHRoYXQgaXNuJ3QgYWxsb3dlZCBpbiB0aGUgbmV3IG5vZGUgdHlwZSBpcyBjbGVhcmVkXG4gICAgICB0aGlzLmNsZWFySW5jb21wYXRpYmxlKHRoaXMubWFwcGluZy5zbGljZShtYXBGcm9tKS5tYXAocG9zLCAxKSwgdHlwZSlcbiAgICAgIGxldCBtYXBwaW5nID0gdGhpcy5tYXBwaW5nLnNsaWNlKG1hcEZyb20pXG4gICAgICBsZXQgc3RhcnRNID0gbWFwcGluZy5tYXAocG9zLCAxKSwgZW5kTSA9IG1hcHBpbmcubWFwKHBvcyArIG5vZGUubm9kZVNpemUsIDEpXG4gICAgICB0aGlzLnN0ZXAobmV3IFJlcGxhY2VBcm91bmRTdGVwKHN0YXJ0TSwgZW5kTSwgc3RhcnRNICsgMSwgZW5kTSAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTbGljZShGcmFnbWVudC5mcm9tKHR5cGUuY3JlYXRlKGF0dHJzLCBudWxsLCBub2RlLm1hcmtzKSksIDAsIDApLCAxLCB0cnVlKSlcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHRoaXNcbn1cblxuZnVuY3Rpb24gY2FuQ2hhbmdlVHlwZShkb2MsIHBvcywgdHlwZSkge1xuICBsZXQgJHBvcyA9IGRvYy5yZXNvbHZlKHBvcyksIGluZGV4ID0gJHBvcy5pbmRleCgpXG4gIHJldHVybiAkcG9zLnBhcmVudC5jYW5SZXBsYWNlV2l0aChpbmRleCwgaW5kZXggKyAxLCB0eXBlKVxufVxuXG4vLyA6OiAobnVtYmVyLCA/Tm9kZVR5cGUsID9PYmplY3QsID9bTWFya10pIOKGkiB0aGlzXG4vLyBDaGFuZ2UgdGhlIHR5cGUsIGF0dHJpYnV0ZXMsIGFuZC9vciBtYXJrcyBvZiB0aGUgbm9kZSBhdCBgcG9zYC5cbi8vIFdoZW4gYHR5cGVgIGlzbid0IGdpdmVuLCB0aGUgZXhpc3Rpbmcgbm9kZSB0eXBlIGlzIHByZXNlcnZlZCxcblRyYW5zZm9ybS5wcm90b3R5cGUuc2V0Tm9kZU1hcmt1cCA9IGZ1bmN0aW9uKHBvcywgdHlwZSwgYXR0cnMsIG1hcmtzKSB7XG4gIGxldCBub2RlID0gdGhpcy5kb2Mubm9kZUF0KHBvcylcbiAgaWYgKCFub2RlKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk5vIG5vZGUgYXQgZ2l2ZW4gcG9zaXRpb25cIilcbiAgaWYgKCF0eXBlKSB0eXBlID0gbm9kZS50eXBlXG4gIGxldCBuZXdOb2RlID0gdHlwZS5jcmVhdGUoYXR0cnMsIG51bGwsIG1hcmtzIHx8IG5vZGUubWFya3MpXG4gIGlmIChub2RlLmlzTGVhZilcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlV2l0aChwb3MsIHBvcyArIG5vZGUubm9kZVNpemUsIG5ld05vZGUpXG5cbiAgaWYgKCF0eXBlLnZhbGlkQ29udGVudChub2RlLmNvbnRlbnQpKVxuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBjb250ZW50IGZvciBub2RlIHR5cGUgXCIgKyB0eXBlLm5hbWUpXG5cbiAgcmV0dXJuIHRoaXMuc3RlcChuZXcgUmVwbGFjZUFyb3VuZFN0ZXAocG9zLCBwb3MgKyBub2RlLm5vZGVTaXplLCBwb3MgKyAxLCBwb3MgKyBub2RlLm5vZGVTaXplIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWNlKEZyYWdtZW50LmZyb20obmV3Tm9kZSksIDAsIDApLCAxLCB0cnVlKSlcbn1cblxuLy8gOjogKE5vZGUsIG51bWJlciwgbnVtYmVyLCA/Wz97dHlwZTogTm9kZVR5cGUsIGF0dHJzOiA/T2JqZWN0fV0pIOKGkiBib29sXG4vLyBDaGVjayB3aGV0aGVyIHNwbGl0dGluZyBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gaXMgYWxsb3dlZC5cbmV4cG9ydCBmdW5jdGlvbiBjYW5TcGxpdChkb2MsIHBvcywgZGVwdGggPSAxLCB0eXBlc0FmdGVyKSB7XG4gIGxldCAkcG9zID0gZG9jLnJlc29sdmUocG9zKSwgYmFzZSA9ICRwb3MuZGVwdGggLSBkZXB0aFxuICBsZXQgaW5uZXJUeXBlID0gKHR5cGVzQWZ0ZXIgJiYgdHlwZXNBZnRlclt0eXBlc0FmdGVyLmxlbmd0aCAtIDFdKSB8fCAkcG9zLnBhcmVudFxuICBpZiAoYmFzZSA8IDAgfHwgJHBvcy5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZyB8fFxuICAgICAgISRwb3MucGFyZW50LmNhblJlcGxhY2UoJHBvcy5pbmRleCgpLCAkcG9zLnBhcmVudC5jaGlsZENvdW50KSB8fFxuICAgICAgIWlubmVyVHlwZS50eXBlLnZhbGlkQ29udGVudCgkcG9zLnBhcmVudC5jb250ZW50LmN1dEJ5SW5kZXgoJHBvcy5pbmRleCgpLCAkcG9zLnBhcmVudC5jaGlsZENvdW50KSkpXG4gICAgcmV0dXJuIGZhbHNlXG4gIGZvciAobGV0IGQgPSAkcG9zLmRlcHRoIC0gMSwgaSA9IGRlcHRoIC0gMjsgZCA+IGJhc2U7IGQtLSwgaS0tKSB7XG4gICAgbGV0IG5vZGUgPSAkcG9zLm5vZGUoZCksIGluZGV4ID0gJHBvcy5pbmRleChkKVxuICAgIGlmIChub2RlLnR5cGUuc3BlYy5pc29sYXRpbmcpIHJldHVybiBmYWxzZVxuICAgIGxldCByZXN0ID0gbm9kZS5jb250ZW50LmN1dEJ5SW5kZXgoaW5kZXgsIG5vZGUuY2hpbGRDb3VudClcbiAgICBsZXQgYWZ0ZXIgPSAodHlwZXNBZnRlciAmJiB0eXBlc0FmdGVyW2ldKSB8fCBub2RlXG4gICAgaWYgKGFmdGVyICE9IG5vZGUpIHJlc3QgPSByZXN0LnJlcGxhY2VDaGlsZCgwLCBhZnRlci50eXBlLmNyZWF0ZShhZnRlci5hdHRycykpXG4gICAgaWYgKCFub2RlLmNhblJlcGxhY2UoaW5kZXggKyAxLCBub2RlLmNoaWxkQ291bnQpIHx8ICFhZnRlci50eXBlLnZhbGlkQ29udGVudChyZXN0KSlcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG4gIGxldCBpbmRleCA9ICRwb3MuaW5kZXhBZnRlcihiYXNlKVxuICBsZXQgYmFzZVR5cGUgPSB0eXBlc0FmdGVyICYmIHR5cGVzQWZ0ZXJbMF1cbiAgcmV0dXJuICRwb3Mubm9kZShiYXNlKS5jYW5SZXBsYWNlV2l0aChpbmRleCwgaW5kZXgsIGJhc2VUeXBlID8gYmFzZVR5cGUudHlwZSA6ICRwb3Mubm9kZShiYXNlICsgMSkudHlwZSlcbn1cblxuLy8gOjogKG51bWJlciwgP251bWJlciwgP1s/e3R5cGU6IE5vZGVUeXBlLCBhdHRyczogP09iamVjdH1dKSDihpIgdGhpc1xuLy8gU3BsaXQgdGhlIG5vZGUgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLCBhbmQgb3B0aW9uYWxseSwgaWYgYGRlcHRoYCBpc1xuLy8gZ3JlYXRlciB0aGFuIG9uZSwgYW55IG51bWJlciBvZiBub2RlcyBhYm92ZSB0aGF0LiBCeSBkZWZhdWx0LCB0aGVcbi8vIHBhcnRzIHNwbGl0IG9mZiB3aWxsIGluaGVyaXQgdGhlIG5vZGUgdHlwZSBvZiB0aGUgb3JpZ2luYWwgbm9kZS5cbi8vIFRoaXMgY2FuIGJlIGNoYW5nZWQgYnkgcGFzc2luZyBhbiBhcnJheSBvZiB0eXBlcyBhbmQgYXR0cmlidXRlcyB0b1xuLy8gdXNlIGFmdGVyIHRoZSBzcGxpdC5cblRyYW5zZm9ybS5wcm90b3R5cGUuc3BsaXQgPSBmdW5jdGlvbihwb3MsIGRlcHRoID0gMSwgdHlwZXNBZnRlcikge1xuICBsZXQgJHBvcyA9IHRoaXMuZG9jLnJlc29sdmUocG9zKSwgYmVmb3JlID0gRnJhZ21lbnQuZW1wdHksIGFmdGVyID0gRnJhZ21lbnQuZW1wdHlcbiAgZm9yIChsZXQgZCA9ICRwb3MuZGVwdGgsIGUgPSAkcG9zLmRlcHRoIC0gZGVwdGgsIGkgPSBkZXB0aCAtIDE7IGQgPiBlOyBkLS0sIGktLSkge1xuICAgIGJlZm9yZSA9IEZyYWdtZW50LmZyb20oJHBvcy5ub2RlKGQpLmNvcHkoYmVmb3JlKSlcbiAgICBsZXQgdHlwZUFmdGVyID0gdHlwZXNBZnRlciAmJiB0eXBlc0FmdGVyW2ldXG4gICAgYWZ0ZXIgPSBGcmFnbWVudC5mcm9tKHR5cGVBZnRlciA/IHR5cGVBZnRlci50eXBlLmNyZWF0ZSh0eXBlQWZ0ZXIuYXR0cnMsIGFmdGVyKSA6ICRwb3Mubm9kZShkKS5jb3B5KGFmdGVyKSlcbiAgfVxuICByZXR1cm4gdGhpcy5zdGVwKG5ldyBSZXBsYWNlU3RlcChwb3MsIHBvcywgbmV3IFNsaWNlKGJlZm9yZS5hcHBlbmQoYWZ0ZXIpLCBkZXB0aCwgZGVwdGgpLCB0cnVlKSlcbn1cblxuLy8gOjogKE5vZGUsIG51bWJlcikg4oaSIGJvb2xcbi8vIFRlc3Qgd2hldGhlciB0aGUgYmxvY2tzIGJlZm9yZSBhbmQgYWZ0ZXIgYSBnaXZlbiBwb3NpdGlvbiBjYW4gYmVcbi8vIGpvaW5lZC5cbmV4cG9ydCBmdW5jdGlvbiBjYW5Kb2luKGRvYywgcG9zKSB7XG4gIGxldCAkcG9zID0gZG9jLnJlc29sdmUocG9zKSwgaW5kZXggPSAkcG9zLmluZGV4KClcbiAgcmV0dXJuIGpvaW5hYmxlKCRwb3Mubm9kZUJlZm9yZSwgJHBvcy5ub2RlQWZ0ZXIpICYmXG4gICAgJHBvcy5wYXJlbnQuY2FuUmVwbGFjZShpbmRleCwgaW5kZXggKyAxKVxufVxuXG5mdW5jdGlvbiBqb2luYWJsZShhLCBiKSB7XG4gIHJldHVybiBhICYmIGIgJiYgIWEuaXNMZWFmICYmIGEuY2FuQXBwZW5kKGIpXG59XG5cbi8vIDo6IChOb2RlLCBudW1iZXIsID9udW1iZXIpIOKGkiA/bnVtYmVyXG4vLyBGaW5kIGFuIGFuY2VzdG9yIG9mIHRoZSBnaXZlbiBwb3NpdGlvbiB0aGF0IGNhbiBiZSBqb2luZWQgdG8gdGhlXG4vLyBibG9jayBiZWZvcmUgKG9yIGFmdGVyIGlmIGBkaXJgIGlzIHBvc2l0aXZlKS4gUmV0dXJucyB0aGUgam9pbmFibGVcbi8vIHBvaW50LCBpZiBhbnkuXG5leHBvcnQgZnVuY3Rpb24gam9pblBvaW50KGRvYywgcG9zLCBkaXIgPSAtMSkge1xuICBsZXQgJHBvcyA9IGRvYy5yZXNvbHZlKHBvcylcbiAgZm9yIChsZXQgZCA9ICRwb3MuZGVwdGg7OyBkLS0pIHtcbiAgICBsZXQgYmVmb3JlLCBhZnRlclxuICAgIGlmIChkID09ICRwb3MuZGVwdGgpIHtcbiAgICAgIGJlZm9yZSA9ICRwb3Mubm9kZUJlZm9yZVxuICAgICAgYWZ0ZXIgPSAkcG9zLm5vZGVBZnRlclxuICAgIH0gZWxzZSBpZiAoZGlyID4gMCkge1xuICAgICAgYmVmb3JlID0gJHBvcy5ub2RlKGQgKyAxKVxuICAgICAgYWZ0ZXIgPSAkcG9zLm5vZGUoZCkubWF5YmVDaGlsZCgkcG9zLmluZGV4KGQpICsgMSlcbiAgICB9IGVsc2Uge1xuICAgICAgYmVmb3JlID0gJHBvcy5ub2RlKGQpLm1heWJlQ2hpbGQoJHBvcy5pbmRleChkKSAtIDEpXG4gICAgICBhZnRlciA9ICRwb3Mubm9kZShkICsgMSlcbiAgICB9XG4gICAgaWYgKGJlZm9yZSAmJiAhYmVmb3JlLmlzVGV4dGJsb2NrICYmIGpvaW5hYmxlKGJlZm9yZSwgYWZ0ZXIpKSByZXR1cm4gcG9zXG4gICAgaWYgKGQgPT0gMCkgYnJlYWtcbiAgICBwb3MgPSBkaXIgPCAwID8gJHBvcy5iZWZvcmUoZCkgOiAkcG9zLmFmdGVyKGQpXG4gIH1cbn1cblxuLy8gOjogKG51bWJlciwgP251bWJlcikg4oaSIHRoaXNcbi8vIEpvaW4gdGhlIGJsb2NrcyBhcm91bmQgdGhlIGdpdmVuIHBvc2l0aW9uLiBJZiBkZXB0aCBpcyAyLCB0aGVpclxuLy8gbGFzdCBhbmQgZmlyc3Qgc2libGluZ3MgYXJlIGFsc28gam9pbmVkLCBhbmQgc28gb24uXG5UcmFuc2Zvcm0ucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbihwb3MsIGRlcHRoID0gMSkge1xuICBsZXQgc3RlcCA9IG5ldyBSZXBsYWNlU3RlcChwb3MgLSBkZXB0aCwgcG9zICsgZGVwdGgsIFNsaWNlLmVtcHR5LCB0cnVlKVxuICByZXR1cm4gdGhpcy5zdGVwKHN0ZXApXG59XG5cbi8vIDo6IChOb2RlLCBudW1iZXIsIE5vZGVUeXBlKSDihpIgP251bWJlclxuLy8gVHJ5IHRvIGZpbmQgYSBwb2ludCB3aGVyZSBhIG5vZGUgb2YgdGhlIGdpdmVuIHR5cGUgY2FuIGJlIGluc2VydGVkXG4vLyBuZWFyIGBwb3NgLCBieSBzZWFyY2hpbmcgdXAgdGhlIG5vZGUgaGllcmFyY2h5IHdoZW4gYHBvc2AgaXRzZWxmXG4vLyBpc24ndCBhIHZhbGlkIHBsYWNlIGJ1dCBpcyBhdCB0aGUgc3RhcnQgb3IgZW5kIG9mIGEgbm9kZS4gUmV0dXJuXG4vLyBudWxsIGlmIG5vIHBvc2l0aW9uIHdhcyBmb3VuZC5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRQb2ludChkb2MsIHBvcywgbm9kZVR5cGUpIHtcbiAgbGV0ICRwb3MgPSBkb2MucmVzb2x2ZShwb3MpXG4gIGlmICgkcG9zLnBhcmVudC5jYW5SZXBsYWNlV2l0aCgkcG9zLmluZGV4KCksICRwb3MuaW5kZXgoKSwgbm9kZVR5cGUpKSByZXR1cm4gcG9zXG5cbiAgaWYgKCRwb3MucGFyZW50T2Zmc2V0ID09IDApXG4gICAgZm9yIChsZXQgZCA9ICRwb3MuZGVwdGggLSAxOyBkID49IDA7IGQtLSkge1xuICAgICAgbGV0IGluZGV4ID0gJHBvcy5pbmRleChkKVxuICAgICAgaWYgKCRwb3Mubm9kZShkKS5jYW5SZXBsYWNlV2l0aChpbmRleCwgaW5kZXgsIG5vZGVUeXBlKSkgcmV0dXJuICRwb3MuYmVmb3JlKGQgKyAxKVxuICAgICAgaWYgKGluZGV4ID4gMCkgcmV0dXJuIG51bGxcbiAgICB9XG4gIGlmICgkcG9zLnBhcmVudE9mZnNldCA9PSAkcG9zLnBhcmVudC5jb250ZW50LnNpemUpXG4gICAgZm9yIChsZXQgZCA9ICRwb3MuZGVwdGggLSAxOyBkID49IDA7IGQtLSkge1xuICAgICAgbGV0IGluZGV4ID0gJHBvcy5pbmRleEFmdGVyKGQpXG4gICAgICBpZiAoJHBvcy5ub2RlKGQpLmNhblJlcGxhY2VXaXRoKGluZGV4LCBpbmRleCwgbm9kZVR5cGUpKSByZXR1cm4gJHBvcy5hZnRlcihkICsgMSlcbiAgICAgIGlmIChpbmRleCA8ICRwb3Mubm9kZShkKS5jaGlsZENvdW50KSByZXR1cm4gbnVsbFxuICAgIH1cbn1cblxuLy8gOjogKE5vZGUsIG51bWJlciwgU2xpY2UpIOKGkiA/bnVtYmVyXG4vLyBGaW5kcyBhIHBvc2l0aW9uIGF0IG9yIGFyb3VuZCB0aGUgZ2l2ZW4gcG9zaXRpb24gd2hlcmUgdGhlIGdpdmVuXG4vLyBzbGljZSBjYW4gYmUgaW5zZXJ0ZWQuIFdpbGwgbG9vayBhdCBwYXJlbnQgbm9kZXMnIG5lYXJlc3QgYm91bmRhcnlcbi8vIGFuZCB0cnkgdGhlcmUsIGV2ZW4gaWYgdGhlIG9yaWdpbmFsIHBvc2l0aW9uIHdhc24ndCBkaXJlY3RseSBhdCB0aGVcbi8vIHN0YXJ0IG9yIGVuZCBvZiB0aGF0IG5vZGUuIFJldHVybnMgbnVsbCB3aGVuIG5vIHBvc2l0aW9uIHdhcyBmb3VuZC5cbmV4cG9ydCBmdW5jdGlvbiBkcm9wUG9pbnQoZG9jLCBwb3MsIHNsaWNlKSB7XG4gIGxldCAkcG9zID0gZG9jLnJlc29sdmUocG9zKVxuICBpZiAoIXNsaWNlLmNvbnRlbnQuc2l6ZSkgcmV0dXJuIHBvc1xuICBsZXQgY29udGVudCA9IHNsaWNlLmNvbnRlbnRcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGljZS5vcGVuU3RhcnQ7IGkrKykgY29udGVudCA9IGNvbnRlbnQuZmlyc3RDaGlsZC5jb250ZW50XG4gIGZvciAobGV0IHBhc3MgPSAxOyBwYXNzIDw9IChzbGljZS5vcGVuU3RhcnQgPT0gMCAmJiBzbGljZS5zaXplID8gMiA6IDEpOyBwYXNzKyspIHtcbiAgICBmb3IgKGxldCBkID0gJHBvcy5kZXB0aDsgZCA+PSAwOyBkLS0pIHtcbiAgICAgIGxldCBiaWFzID0gZCA9PSAkcG9zLmRlcHRoID8gMCA6ICRwb3MucG9zIDw9ICgkcG9zLnN0YXJ0KGQgKyAxKSArICRwb3MuZW5kKGQgKyAxKSkgLyAyID8gLTEgOiAxXG4gICAgICBsZXQgaW5zZXJ0UG9zID0gJHBvcy5pbmRleChkKSArIChiaWFzID4gMCA/IDEgOiAwKVxuICAgICAgaWYgKHBhc3MgPT0gMVxuICAgICAgICAgID8gJHBvcy5ub2RlKGQpLmNhblJlcGxhY2UoaW5zZXJ0UG9zLCBpbnNlcnRQb3MsIGNvbnRlbnQpXG4gICAgICAgICAgOiAkcG9zLm5vZGUoZCkuY29udGVudE1hdGNoQXQoaW5zZXJ0UG9zKS5maW5kV3JhcHBpbmcoY29udGVudC5maXJzdENoaWxkLnR5cGUpKVxuICAgICAgICByZXR1cm4gYmlhcyA9PSAwID8gJHBvcy5wb3MgOiBiaWFzIDwgMCA/ICRwb3MuYmVmb3JlKGQgKyAxKSA6ICRwb3MuYWZ0ZXIoZCArIDEpXG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG4iLCJpbXBvcnQge0ZyYWdtZW50LCBTbGljZX0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcbmltcG9ydCB7U3RlcCwgU3RlcFJlc3VsdH0gZnJvbSBcIi4vc3RlcFwiXG5cbmZ1bmN0aW9uIG1hcEZyYWdtZW50KGZyYWdtZW50LCBmLCBwYXJlbnQpIHtcbiAgbGV0IG1hcHBlZCA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhZ21lbnQuY2hpbGRDb3VudDsgaSsrKSB7XG4gICAgbGV0IGNoaWxkID0gZnJhZ21lbnQuY2hpbGQoaSlcbiAgICBpZiAoY2hpbGQuY29udGVudC5zaXplKSBjaGlsZCA9IGNoaWxkLmNvcHkobWFwRnJhZ21lbnQoY2hpbGQuY29udGVudCwgZiwgY2hpbGQpKVxuICAgIGlmIChjaGlsZC5pc0lubGluZSkgY2hpbGQgPSBmKGNoaWxkLCBwYXJlbnQsIGkpXG4gICAgbWFwcGVkLnB1c2goY2hpbGQpXG4gIH1cbiAgcmV0dXJuIEZyYWdtZW50LmZyb21BcnJheShtYXBwZWQpXG59XG5cbi8vIDo6LSBBZGQgYSBtYXJrIHRvIGFsbCBpbmxpbmUgY29udGVudCBiZXR3ZWVuIHR3byBwb3NpdGlvbnMuXG5leHBvcnQgY2xhc3MgQWRkTWFya1N0ZXAgZXh0ZW5kcyBTdGVwIHtcbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCBNYXJrKVxuICBjb25zdHJ1Y3Rvcihmcm9tLCB0bywgbWFyaykge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLmZyb20gPSBmcm9tXG4gICAgdGhpcy50byA9IHRvXG4gICAgdGhpcy5tYXJrID0gbWFya1xuICB9XG5cbiAgYXBwbHkoZG9jKSB7XG4gICAgbGV0IG9sZFNsaWNlID0gZG9jLnNsaWNlKHRoaXMuZnJvbSwgdGhpcy50byksICRmcm9tID0gZG9jLnJlc29sdmUodGhpcy5mcm9tKVxuICAgIGxldCBwYXJlbnQgPSAkZnJvbS5ub2RlKCRmcm9tLnNoYXJlZERlcHRoKHRoaXMudG8pKVxuICAgIGxldCBzbGljZSA9IG5ldyBTbGljZShtYXBGcmFnbWVudChvbGRTbGljZS5jb250ZW50LCAobm9kZSwgcGFyZW50KSA9PiB7XG4gICAgICBpZiAoIXBhcmVudC50eXBlLmFsbG93c01hcmtUeXBlKHRoaXMubWFyay50eXBlKSkgcmV0dXJuIG5vZGVcbiAgICAgIHJldHVybiBub2RlLm1hcmsodGhpcy5tYXJrLmFkZFRvU2V0KG5vZGUubWFya3MpKVxuICAgIH0sIHBhcmVudCksIG9sZFNsaWNlLm9wZW5TdGFydCwgb2xkU2xpY2Uub3BlbkVuZClcbiAgICByZXR1cm4gU3RlcFJlc3VsdC5mcm9tUmVwbGFjZShkb2MsIHRoaXMuZnJvbSwgdGhpcy50bywgc2xpY2UpXG4gIH1cblxuICBpbnZlcnQoKSB7XG4gICAgcmV0dXJuIG5ldyBSZW1vdmVNYXJrU3RlcCh0aGlzLmZyb20sIHRoaXMudG8sIHRoaXMubWFyaylcbiAgfVxuXG4gIG1hcChtYXBwaW5nKSB7XG4gICAgbGV0IGZyb20gPSBtYXBwaW5nLm1hcFJlc3VsdCh0aGlzLmZyb20sIDEpLCB0byA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMudG8sIC0xKVxuICAgIGlmIChmcm9tLmRlbGV0ZWQgJiYgdG8uZGVsZXRlZCB8fCBmcm9tLnBvcyA+PSB0by5wb3MpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIG5ldyBBZGRNYXJrU3RlcChmcm9tLnBvcywgdG8ucG9zLCB0aGlzLm1hcmspXG4gIH1cblxuICBtZXJnZShvdGhlcikge1xuICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIEFkZE1hcmtTdGVwICYmXG4gICAgICAgIG90aGVyLm1hcmsuZXEodGhpcy5tYXJrKSAmJlxuICAgICAgICB0aGlzLmZyb20gPD0gb3RoZXIudG8gJiYgdGhpcy50byA+PSBvdGhlci5mcm9tKVxuICAgICAgcmV0dXJuIG5ldyBBZGRNYXJrU3RlcChNYXRoLm1pbih0aGlzLmZyb20sIG90aGVyLmZyb20pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCh0aGlzLnRvLCBvdGhlci50byksIHRoaXMubWFyaylcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge3N0ZXBUeXBlOiBcImFkZE1hcmtcIiwgbWFyazogdGhpcy5tYXJrLnRvSlNPTigpLFxuICAgICAgICAgICAgZnJvbTogdGhpcy5mcm9tLCB0bzogdGhpcy50b31cbiAgfVxuXG4gIHN0YXRpYyBmcm9tSlNPTihzY2hlbWEsIGpzb24pIHtcbiAgICBpZiAodHlwZW9mIGpzb24uZnJvbSAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiBqc29uLnRvICE9IFwibnVtYmVyXCIpXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIEFkZE1hcmtTdGVwLmZyb21KU09OXCIpXG4gICAgcmV0dXJuIG5ldyBBZGRNYXJrU3RlcChqc29uLmZyb20sIGpzb24udG8sIHNjaGVtYS5tYXJrRnJvbUpTT04oanNvbi5tYXJrKSlcbiAgfVxufVxuXG5TdGVwLmpzb25JRChcImFkZE1hcmtcIiwgQWRkTWFya1N0ZXApXG5cbi8vIDo6LSBSZW1vdmUgYSBtYXJrIGZyb20gYWxsIGlubGluZSBjb250ZW50IGJldHdlZW4gdHdvIHBvc2l0aW9ucy5cbmV4cG9ydCBjbGFzcyBSZW1vdmVNYXJrU3RlcCBleHRlbmRzIFN0ZXAge1xuICAvLyA6OiAobnVtYmVyLCBudW1iZXIsIE1hcmspXG4gIGNvbnN0cnVjdG9yKGZyb20sIHRvLCBtYXJrKSB7XG4gICAgc3VwZXIoKVxuICAgIHRoaXMuZnJvbSA9IGZyb21cbiAgICB0aGlzLnRvID0gdG9cbiAgICB0aGlzLm1hcmsgPSBtYXJrXG4gIH1cblxuICBhcHBseShkb2MpIHtcbiAgICBsZXQgb2xkU2xpY2UgPSBkb2Muc2xpY2UodGhpcy5mcm9tLCB0aGlzLnRvKVxuICAgIGxldCBzbGljZSA9IG5ldyBTbGljZShtYXBGcmFnbWVudChvbGRTbGljZS5jb250ZW50LCBub2RlID0+IHtcbiAgICAgIHJldHVybiBub2RlLm1hcmsodGhpcy5tYXJrLnJlbW92ZUZyb21TZXQobm9kZS5tYXJrcykpXG4gICAgfSksIG9sZFNsaWNlLm9wZW5TdGFydCwgb2xkU2xpY2Uub3BlbkVuZClcbiAgICByZXR1cm4gU3RlcFJlc3VsdC5mcm9tUmVwbGFjZShkb2MsIHRoaXMuZnJvbSwgdGhpcy50bywgc2xpY2UpXG4gIH1cblxuICBpbnZlcnQoKSB7XG4gICAgcmV0dXJuIG5ldyBBZGRNYXJrU3RlcCh0aGlzLmZyb20sIHRoaXMudG8sIHRoaXMubWFyaylcbiAgfVxuXG4gIG1hcChtYXBwaW5nKSB7XG4gICAgbGV0IGZyb20gPSBtYXBwaW5nLm1hcFJlc3VsdCh0aGlzLmZyb20sIDEpLCB0byA9IG1hcHBpbmcubWFwUmVzdWx0KHRoaXMudG8sIC0xKVxuICAgIGlmIChmcm9tLmRlbGV0ZWQgJiYgdG8uZGVsZXRlZCB8fCBmcm9tLnBvcyA+PSB0by5wb3MpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIG5ldyBSZW1vdmVNYXJrU3RlcChmcm9tLnBvcywgdG8ucG9zLCB0aGlzLm1hcmspXG4gIH1cblxuICBtZXJnZShvdGhlcikge1xuICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFJlbW92ZU1hcmtTdGVwICYmXG4gICAgICAgIG90aGVyLm1hcmsuZXEodGhpcy5tYXJrKSAmJlxuICAgICAgICB0aGlzLmZyb20gPD0gb3RoZXIudG8gJiYgdGhpcy50byA+PSBvdGhlci5mcm9tKVxuICAgICAgcmV0dXJuIG5ldyBSZW1vdmVNYXJrU3RlcChNYXRoLm1pbih0aGlzLmZyb20sIG90aGVyLmZyb20pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heCh0aGlzLnRvLCBvdGhlci50byksIHRoaXMubWFyaylcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge3N0ZXBUeXBlOiBcInJlbW92ZU1hcmtcIiwgbWFyazogdGhpcy5tYXJrLnRvSlNPTigpLFxuICAgICAgICAgICAgZnJvbTogdGhpcy5mcm9tLCB0bzogdGhpcy50b31cbiAgfVxuXG4gIHN0YXRpYyBmcm9tSlNPTihzY2hlbWEsIGpzb24pIHtcbiAgICBpZiAodHlwZW9mIGpzb24uZnJvbSAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiBqc29uLnRvICE9IFwibnVtYmVyXCIpXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIFJlbW92ZU1hcmtTdGVwLmZyb21KU09OXCIpXG4gICAgcmV0dXJuIG5ldyBSZW1vdmVNYXJrU3RlcChqc29uLmZyb20sIGpzb24udG8sIHNjaGVtYS5tYXJrRnJvbUpTT04oanNvbi5tYXJrKSlcbiAgfVxufVxuXG5TdGVwLmpzb25JRChcInJlbW92ZU1hcmtcIiwgUmVtb3ZlTWFya1N0ZXApXG4iLCJpbXBvcnQge1RleHRTZWxlY3Rpb24sIE5vZGVTZWxlY3Rpb259IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiXG5cbmltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXJcIlxuaW1wb3J0IHtzZWxlY3Rpb25Db2xsYXBzZWQsIGlzRXF1aXZhbGVudFBvc2l0aW9uLCBkb21JbmRleCwgaXNPbkVkZ2V9IGZyb20gXCIuL2RvbVwiXG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Rpb25Gcm9tRE9NKHZpZXcsIG9yaWdpbikge1xuICBsZXQgZG9tU2VsID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpLCBkb2MgPSB2aWV3LnN0YXRlLmRvY1xuICBsZXQgbmVhcmVzdERlc2MgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MoZG9tU2VsLmZvY3VzTm9kZSksIGluV2lkZ2V0ID0gbmVhcmVzdERlc2MgJiYgbmVhcmVzdERlc2Muc2l6ZSA9PSAwXG4gIGxldCBoZWFkID0gdmlldy5kb2NWaWV3LnBvc0Zyb21ET00oZG9tU2VsLmZvY3VzTm9kZSwgZG9tU2VsLmZvY3VzT2Zmc2V0KVxuICBsZXQgJGhlYWQgPSBkb2MucmVzb2x2ZShoZWFkKSwgJGFuY2hvciwgc2VsZWN0aW9uXG4gIGlmIChzZWxlY3Rpb25Db2xsYXBzZWQoZG9tU2VsKSkge1xuICAgICRhbmNob3IgPSAkaGVhZFxuICAgIHdoaWxlIChuZWFyZXN0RGVzYyAmJiAhbmVhcmVzdERlc2Mubm9kZSkgbmVhcmVzdERlc2MgPSBuZWFyZXN0RGVzYy5wYXJlbnRcbiAgICBpZiAobmVhcmVzdERlc2MgJiYgbmVhcmVzdERlc2Mubm9kZS5pc0F0b20gJiYgTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUobmVhcmVzdERlc2Mubm9kZSkgJiYgbmVhcmVzdERlc2MucGFyZW50XG4gICAgICAgICYmICEobmVhcmVzdERlc2Mubm9kZS5pc0lubGluZSAmJiBpc09uRWRnZShkb21TZWwuZm9jdXNOb2RlLCBkb21TZWwuZm9jdXNPZmZzZXQsIG5lYXJlc3REZXNjLmRvbSkpKSB7XG4gICAgICBsZXQgcG9zID0gbmVhcmVzdERlc2MucG9zQmVmb3JlXG4gICAgICBzZWxlY3Rpb24gPSBuZXcgTm9kZVNlbGVjdGlvbihoZWFkID09IHBvcyA/ICRoZWFkIDogZG9jLnJlc29sdmUocG9zKSlcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgJGFuY2hvciA9IGRvYy5yZXNvbHZlKHZpZXcuZG9jVmlldy5wb3NGcm9tRE9NKGRvbVNlbC5hbmNob3JOb2RlLCBkb21TZWwuYW5jaG9yT2Zmc2V0KSlcbiAgfVxuXG4gIGlmICghc2VsZWN0aW9uKSB7XG4gICAgbGV0IGJpYXMgPSBvcmlnaW4gPT0gXCJwb2ludGVyXCIgfHwgKHZpZXcuc3RhdGUuc2VsZWN0aW9uLmhlYWQgPCAkaGVhZC5wb3MgJiYgIWluV2lkZ2V0KSA/IDEgOiAtMVxuICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbkJldHdlZW4odmlldywgJGFuY2hvciwgJGhlYWQsIGJpYXMpXG4gIH1cbiAgcmV0dXJuIHNlbGVjdGlvblxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0aW9uVG9ET00odmlldywgZm9yY2UpIHtcbiAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uXG4gIHN5bmNOb2RlU2VsZWN0aW9uKHZpZXcsIHNlbClcblxuICBpZiAodmlldy5lZGl0YWJsZSA/ICF2aWV3Lmhhc0ZvY3VzKCkgOiAhKGhhc1NlbGVjdGlvbih2aWV3KSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNvbnRhaW5zKHZpZXcuZG9tKSkpIHJldHVyblxuXG4gIHZpZXcuZG9tT2JzZXJ2ZXIuZGlzY29ubmVjdFNlbGVjdGlvbigpXG5cbiAgaWYgKHZpZXcuY3Vyc29yV3JhcHBlcikge1xuICAgIHNlbGVjdEN1cnNvcldyYXBwZXIodmlldylcbiAgfSBlbHNlIHtcbiAgICBsZXQge2FuY2hvciwgaGVhZH0gPSBzZWwsIHJlc2V0RWRpdGFibGVGcm9tLCByZXNldEVkaXRhYmxlVG9cbiAgICBpZiAoYnJva2VuU2VsZWN0QmV0d2VlblVuZWRpdGFibGUgJiYgIShzZWwgaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uKSkge1xuICAgICAgaWYgKCFzZWwuJGZyb20ucGFyZW50LmlubGluZUNvbnRlbnQpXG4gICAgICAgIHJlc2V0RWRpdGFibGVGcm9tID0gdGVtcG9yYXJpbHlFZGl0YWJsZU5lYXIodmlldywgc2VsLmZyb20pXG4gICAgICBpZiAoIXNlbC5lbXB0eSAmJiAhc2VsLiRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50KVxuICAgICAgICByZXNldEVkaXRhYmxlVG8gPSB0ZW1wb3JhcmlseUVkaXRhYmxlTmVhcih2aWV3LCBzZWwudG8pXG4gICAgfVxuICAgIHZpZXcuZG9jVmlldy5zZXRTZWxlY3Rpb24oYW5jaG9yLCBoZWFkLCB2aWV3LnJvb3QsIGZvcmNlKVxuICAgIGlmIChicm9rZW5TZWxlY3RCZXR3ZWVuVW5lZGl0YWJsZSkge1xuICAgICAgaWYgKHJlc2V0RWRpdGFibGVGcm9tKSByZXNldEVkaXRhYmxlKHJlc2V0RWRpdGFibGVGcm9tKVxuICAgICAgaWYgKHJlc2V0RWRpdGFibGVUbykgcmVzZXRFZGl0YWJsZShyZXNldEVkaXRhYmxlVG8pXG4gICAgfVxuICAgIGlmIChzZWwudmlzaWJsZSkge1xuICAgICAgdmlldy5kb20uY2xhc3NMaXN0LnJlbW92ZShcIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb25cIilcbiAgICB9IGVsc2UgaWYgKGFuY2hvciAhPSBoZWFkKSB7XG4gICAgICB2aWV3LmRvbS5jbGFzc0xpc3QuYWRkKFwiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvblwiKVxuICAgICAgaWYgKFwib25zZWxlY3Rpb25jaGFuZ2VcIiBpbiBkb2N1bWVudCkgcmVtb3ZlQ2xhc3NPblNlbGVjdGlvbkNoYW5nZSh2aWV3KVxuICAgIH1cbiAgfVxuXG4gIHZpZXcuZG9tT2JzZXJ2ZXIuc2V0Q3VyU2VsZWN0aW9uKClcbiAgdmlldy5kb21PYnNlcnZlci5jb25uZWN0U2VsZWN0aW9uKClcbn1cblxuLy8gS2x1ZGdlIHRvIHdvcmsgYXJvdW5kIFdlYmtpdCBub3QgYWxsb3dpbmcgYSBzZWxlY3Rpb24gdG8gc3RhcnQvZW5kXG4vLyBiZXR3ZWVuIG5vbi1lZGl0YWJsZSBibG9jayBub2Rlcy4gV2UgYnJpZWZseSBtYWtlIHNvbWV0aGluZ1xuLy8gZWRpdGFibGUsIHNldCB0aGUgc2VsZWN0aW9uLCB0aGVuIHNldCBpdCB1bmVkaXRhYmxlIGFnYWluLlxuXG5jb25zdCBicm9rZW5TZWxlY3RCZXR3ZWVuVW5lZGl0YWJsZSA9IGJyb3dzZXIuc2FmYXJpIHx8IGJyb3dzZXIuY2hyb21lICYmIGJyb3dzZXIuY2hyb21lX3ZlcnNpb24gPCA2M1xuXG5mdW5jdGlvbiB0ZW1wb3JhcmlseUVkaXRhYmxlTmVhcih2aWV3LCBwb3MpIHtcbiAgbGV0IHtub2RlLCBvZmZzZXR9ID0gdmlldy5kb2NWaWV3LmRvbUZyb21Qb3MocG9zKVxuICBsZXQgYWZ0ZXIgPSBvZmZzZXQgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoID8gbm9kZS5jaGlsZE5vZGVzW29mZnNldF0gOiBudWxsXG4gIGxldCBiZWZvcmUgPSBvZmZzZXQgPyBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV0gOiBudWxsXG4gIGlmIChicm93c2VyLnNhZmFyaSAmJiBhZnRlciAmJiBhZnRlci5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKSByZXR1cm4gc2V0RWRpdGFibGUoYWZ0ZXIpXG4gIGlmICgoIWFmdGVyIHx8IGFmdGVyLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpICYmICghYmVmb3JlIHx8IGJlZm9yZS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKSkge1xuICAgIGlmIChhZnRlcikgcmV0dXJuIHNldEVkaXRhYmxlKGFmdGVyKVxuICAgIGVsc2UgaWYgKGJlZm9yZSkgcmV0dXJuIHNldEVkaXRhYmxlKGJlZm9yZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRFZGl0YWJsZShlbGVtZW50KSB7XG4gIGVsZW1lbnQuY29udGVudEVkaXRhYmxlID0gXCJ0cnVlXCJcbiAgaWYgKGJyb3dzZXIuc2FmYXJpICYmIGVsZW1lbnQuZHJhZ2dhYmxlKSB7IGVsZW1lbnQuZHJhZ2dhYmxlID0gZmFsc2U7IGVsZW1lbnQud2FzRHJhZ2dhYmxlID0gdHJ1ZSB9XG4gIHJldHVybiBlbGVtZW50XG59XG5cbmZ1bmN0aW9uIHJlc2V0RWRpdGFibGUoZWxlbWVudCkge1xuICBlbGVtZW50LmNvbnRlbnRFZGl0YWJsZSA9IFwiZmFsc2VcIlxuICBpZiAoZWxlbWVudC53YXNEcmFnZ2FibGUpIHsgZWxlbWVudC5kcmFnZ2FibGUgPSB0cnVlOyBlbGVtZW50Lndhc0RyYWdnYWJsZSA9IG51bGwgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzc09uU2VsZWN0aW9uQ2hhbmdlKHZpZXcpIHtcbiAgbGV0IGRvYyA9IHZpZXcuZG9tLm93bmVyRG9jdW1lbnRcbiAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgdmlldy5oaWRlU2VsZWN0aW9uR3VhcmQpXG4gIGxldCBkb21TZWwgPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKClcbiAgbGV0IG5vZGUgPSBkb21TZWwuYW5jaG9yTm9kZSwgb2Zmc2V0ID0gZG9tU2VsLmFuY2hvck9mZnNldFxuICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB2aWV3LmhpZGVTZWxlY3Rpb25HdWFyZCA9ICgpID0+IHtcbiAgICBpZiAoZG9tU2VsLmFuY2hvck5vZGUgIT0gbm9kZSB8fCBkb21TZWwuYW5jaG9yT2Zmc2V0ICE9IG9mZnNldCkge1xuICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgdmlldy5oaWRlU2VsZWN0aW9uR3VhcmQpXG4gICAgICB2aWV3LmRvbS5jbGFzc0xpc3QucmVtb3ZlKFwiUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvblwiKVxuICAgIH1cbiAgfSlcbn1cblxuZnVuY3Rpb24gc2VsZWN0Q3Vyc29yV3JhcHBlcih2aWV3KSB7XG4gIGxldCBkb21TZWwgPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKCksIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKVxuICBsZXQgbm9kZSA9IHZpZXcuY3Vyc29yV3JhcHBlci5kb20sIGltZyA9IG5vZGUubm9kZU5hbWUgPT0gXCJJTUdcIlxuICBpZiAoaW1nKSByYW5nZS5zZXRFbmQobm9kZS5wYXJlbnROb2RlLCBkb21JbmRleChub2RlKSArIDEpXG4gIGVsc2UgcmFuZ2Uuc2V0RW5kKG5vZGUsIDApXG4gIHJhbmdlLmNvbGxhcHNlKGZhbHNlKVxuICBkb21TZWwucmVtb3ZlQWxsUmFuZ2VzKClcbiAgZG9tU2VsLmFkZFJhbmdlKHJhbmdlKVxuICAvLyBLbHVkZ2UgdG8ga2lsbCAnY29udHJvbCBzZWxlY3Rpb24nIGluIElFMTEgd2hlbiBzZWxlY3RpbmcgYW5cbiAgLy8gaW52aXNpYmxlIGN1cnNvciB3cmFwcGVyLCBzaW5jZSB0aGF0IHdvdWxkIHJlc3VsdCBpbiB0aG9zZSB3ZWlyZFxuICAvLyByZXNpemUgaGFuZGxlcyBhbmQgYSBzZWxlY3Rpb24gdGhhdCBjb25zaWRlcnMgdGhlIGFic29sdXRlbHlcbiAgLy8gcG9zaXRpb25lZCB3cmFwcGVyLCByYXRoZXIgdGhhbiB0aGUgcm9vdCBlZGl0YWJsZSBub2RlLCB0aGVcbiAgLy8gZm9jdXNlZCBlbGVtZW50LlxuICBpZiAoIWltZyAmJiAhdmlldy5zdGF0ZS5zZWxlY3Rpb24udmlzaWJsZSAmJiBicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMSkge1xuICAgIG5vZGUuZGlzYWJsZWQgPSB0cnVlXG4gICAgbm9kZS5kaXNhYmxlZCA9IGZhbHNlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN5bmNOb2RlU2VsZWN0aW9uKHZpZXcsIHNlbCkge1xuICBpZiAoc2VsIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbikge1xuICAgIGxldCBkZXNjID0gdmlldy5kb2NWaWV3LmRlc2NBdChzZWwuZnJvbSlcbiAgICBpZiAoZGVzYyAhPSB2aWV3Lmxhc3RTZWxlY3RlZFZpZXdEZXNjKSB7XG4gICAgICBjbGVhck5vZGVTZWxlY3Rpb24odmlldylcbiAgICAgIGlmIChkZXNjKSBkZXNjLnNlbGVjdE5vZGUoKVxuICAgICAgdmlldy5sYXN0U2VsZWN0ZWRWaWV3RGVzYyA9IGRlc2NcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2xlYXJOb2RlU2VsZWN0aW9uKHZpZXcpXG4gIH1cbn1cblxuLy8gQ2xlYXIgYWxsIERPTSBzdGF0ZWZ1bG5lc3Mgb2YgdGhlIGxhc3Qgbm9kZSBzZWxlY3Rpb24uXG5mdW5jdGlvbiBjbGVhck5vZGVTZWxlY3Rpb24odmlldykge1xuICBpZiAodmlldy5sYXN0U2VsZWN0ZWRWaWV3RGVzYykge1xuICAgIGlmICh2aWV3Lmxhc3RTZWxlY3RlZFZpZXdEZXNjLnBhcmVudClcbiAgICAgIHZpZXcubGFzdFNlbGVjdGVkVmlld0Rlc2MuZGVzZWxlY3ROb2RlKClcbiAgICB2aWV3Lmxhc3RTZWxlY3RlZFZpZXdEZXNjID0gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Rpb25CZXR3ZWVuKHZpZXcsICRhbmNob3IsICRoZWFkLCBiaWFzKSB7XG4gIHJldHVybiB2aWV3LnNvbWVQcm9wKFwiY3JlYXRlU2VsZWN0aW9uQmV0d2VlblwiLCBmID0+IGYodmlldywgJGFuY2hvciwgJGhlYWQpKVxuICAgIHx8IFRleHRTZWxlY3Rpb24uYmV0d2VlbigkYW5jaG9yLCAkaGVhZCwgYmlhcylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0ZvY3VzQW5kU2VsZWN0aW9uKHZpZXcpIHtcbiAgaWYgKHZpZXcuZWRpdGFibGUgJiYgdmlldy5yb290LmFjdGl2ZUVsZW1lbnQgIT0gdmlldy5kb20pIHJldHVybiBmYWxzZVxuICByZXR1cm4gaGFzU2VsZWN0aW9uKHZpZXcpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNTZWxlY3Rpb24odmlldykge1xuICBsZXQgc2VsID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpXG4gIGlmICghc2VsLmFuY2hvck5vZGUpIHJldHVybiBmYWxzZVxuICB0cnkge1xuICAgIC8vIEZpcmVmb3ggd2lsbCByYWlzZSAncGVybWlzc2lvbiBkZW5pZWQnIGVycm9ycyB3aGVuIGFjY2Vzc2luZ1xuICAgIC8vIHByb3BlcnRpZXMgb2YgYHNlbC5hbmNob3JOb2RlYCB3aGVuIGl0J3MgaW4gYSBnZW5lcmF0ZWQgQ1NTXG4gICAgLy8gZWxlbWVudC5cbiAgICByZXR1cm4gdmlldy5kb20uY29udGFpbnMoc2VsLmFuY2hvck5vZGUubm9kZVR5cGUgPT0gMyA/IHNlbC5hbmNob3JOb2RlLnBhcmVudE5vZGUgOiBzZWwuYW5jaG9yTm9kZSkgJiZcbiAgICAgICh2aWV3LmVkaXRhYmxlIHx8IHZpZXcuZG9tLmNvbnRhaW5zKHNlbC5mb2N1c05vZGUubm9kZVR5cGUgPT0gMyA/IHNlbC5mb2N1c05vZGUucGFyZW50Tm9kZSA6IHNlbC5mb2N1c05vZGUpKVxuICB9IGNhdGNoKF8pIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYW5jaG9ySW5SaWdodFBsYWNlKHZpZXcpIHtcbiAgbGV0IGFuY2hvckRPTSA9IHZpZXcuZG9jVmlldy5kb21Gcm9tUG9zKHZpZXcuc3RhdGUuc2VsZWN0aW9uLmFuY2hvcilcbiAgbGV0IGRvbVNlbCA9IHZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKVxuICByZXR1cm4gaXNFcXVpdmFsZW50UG9zaXRpb24oYW5jaG9yRE9NLm5vZGUsIGFuY2hvckRPTS5vZmZzZXQsIGRvbVNlbC5hbmNob3JOb2RlLCBkb21TZWwuYW5jaG9yT2Zmc2V0KVxufVxuIiwiaW1wb3J0IHtUcmFuc2Zvcm19IGZyb20gXCJwcm9zZW1pcnJvci10cmFuc2Zvcm1cIlxuaW1wb3J0IHtNYXJrfSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL3NlbGVjdGlvblwiXG5cbmNvbnN0IFVQREFURURfU0VMID0gMSwgVVBEQVRFRF9NQVJLUyA9IDIsIFVQREFURURfU0NST0xMID0gNFxuXG4vLyA6Oi0gQW4gZWRpdG9yIHN0YXRlIHRyYW5zYWN0aW9uLCB3aGljaCBjYW4gYmUgYXBwbGllZCB0byBhIHN0YXRlIHRvXG4vLyBjcmVhdGUgYW4gdXBkYXRlZCBzdGF0ZS4gVXNlXG4vLyBbYEVkaXRvclN0YXRlLnRyYF0oI3N0YXRlLkVkaXRvclN0YXRlLnRyKSB0byBjcmVhdGUgYW4gaW5zdGFuY2UuXG4vL1xuLy8gVHJhbnNhY3Rpb25zIHRyYWNrIGNoYW5nZXMgdG8gdGhlIGRvY3VtZW50ICh0aGV5IGFyZSBhIHN1YmNsYXNzIG9mXG4vLyBbYFRyYW5zZm9ybWBdKCN0cmFuc2Zvcm0uVHJhbnNmb3JtKSksIGJ1dCBhbHNvIG90aGVyIHN0YXRlIGNoYW5nZXMsXG4vLyBsaWtlIHNlbGVjdGlvbiB1cGRhdGVzIGFuZCBhZGp1c3RtZW50cyBvZiB0aGUgc2V0IG9mIFtzdG9yZWRcbi8vIG1hcmtzXSgjc3RhdGUuRWRpdG9yU3RhdGUuc3RvcmVkTWFya3MpLiBJbiBhZGRpdGlvbiwgeW91IGNhbiBzdG9yZVxuLy8gbWV0YWRhdGEgcHJvcGVydGllcyBpbiBhIHRyYW5zYWN0aW9uLCB3aGljaCBhcmUgZXh0cmEgcGllY2VzIG9mXG4vLyBpbmZvcm1hdGlvbiB0aGF0IGNsaWVudCBjb2RlIG9yIHBsdWdpbnMgY2FuIHVzZSB0byBkZXNjcmliZSB3aGF0IGFcbi8vIHRyYW5zYWNpb24gcmVwcmVzZW50cywgc28gdGhhdCB0aGV5IGNhbiB1cGRhdGUgdGhlaXIgW293blxuLy8gc3RhdGVdKCNzdGF0ZS5TdGF0ZUZpZWxkKSBhY2NvcmRpbmdseS5cbi8vXG4vLyBUaGUgW2VkaXRvciB2aWV3XSgjdmlldy5FZGl0b3JWaWV3KSB1c2VzIGEgZmV3IG1ldGFkYXRhIHByb3BlcnRpZXM6XG4vLyBpdCB3aWxsIGF0dGFjaCBhIHByb3BlcnR5IGBcInBvaW50ZXJcImAgd2l0aCB0aGUgdmFsdWUgYHRydWVgIHRvXG4vLyBzZWxlY3Rpb24gdHJhbnNhY3Rpb25zIGRpcmVjdGx5IGNhdXNlZCBieSBtb3VzZSBvciB0b3VjaCBpbnB1dCwgYW5kXG4vLyBhIGBcInVpRXZlbnRcImAgcHJvcGVydHkgb2YgdGhhdCBtYXkgYmUgYFwicGFzdGVcImAsIGBcImN1dFwiYCwgb3IgYFwiZHJvcFwiYC5cbmV4cG9ydCBjbGFzcyBUcmFuc2FjdGlvbiBleHRlbmRzIFRyYW5zZm9ybSB7XG4gIGNvbnN0cnVjdG9yKHN0YXRlKSB7XG4gICAgc3VwZXIoc3RhdGUuZG9jKVxuICAgIC8vIDo6IG51bWJlclxuICAgIC8vIFRoZSB0aW1lc3RhbXAgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdHJhbnNhY3Rpb24sIGluIHRoZSBzYW1lXG4gICAgLy8gZm9ybWF0IGFzIGBEYXRlLm5vdygpYC5cbiAgICB0aGlzLnRpbWUgPSBEYXRlLm5vdygpXG4gICAgdGhpcy5jdXJTZWxlY3Rpb24gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgICAvLyBUaGUgc3RlcCBjb3VudCBmb3Igd2hpY2ggdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGlzIHZhbGlkLlxuICAgIHRoaXMuY3VyU2VsZWN0aW9uRm9yID0gMFxuICAgIC8vIDo6ID9bTWFya11cbiAgICAvLyBUaGUgc3RvcmVkIG1hcmtzIHNldCBieSB0aGlzIHRyYW5zYWN0aW9uLCBpZiBhbnkuXG4gICAgdGhpcy5zdG9yZWRNYXJrcyA9IHN0YXRlLnN0b3JlZE1hcmtzXG4gICAgLy8gQml0ZmllbGQgdG8gdHJhY2sgd2hpY2ggYXNwZWN0cyBvZiB0aGUgc3RhdGUgd2VyZSB1cGRhdGVkIGJ5XG4gICAgLy8gdGhpcyB0cmFuc2FjdGlvbi5cbiAgICB0aGlzLnVwZGF0ZWQgPSAwXG4gICAgLy8gT2JqZWN0IHVzZWQgdG8gc3RvcmUgbWV0YWRhdGEgcHJvcGVydGllcyBmb3IgdGhlIHRyYW5zYWN0aW9uLlxuICAgIHRoaXMubWV0YSA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgfVxuXG4gIC8vIDo6IFNlbGVjdGlvblxuICAvLyBUaGUgdHJhbnNhY3Rpb24ncyBjdXJyZW50IHNlbGVjdGlvbi4gVGhpcyBkZWZhdWx0cyB0byB0aGUgZWRpdG9yXG4gIC8vIHNlbGVjdGlvbiBbbWFwcGVkXSgjc3RhdGUuU2VsZWN0aW9uLm1hcCkgdGhyb3VnaCB0aGUgc3RlcHMgaW4gdGhlXG4gIC8vIHRyYW5zYWN0aW9uLCBidXQgY2FuIGJlIG92ZXJ3cml0dGVuIHdpdGhcbiAgLy8gW2BzZXRTZWxlY3Rpb25gXSgjc3RhdGUuVHJhbnNhY3Rpb24uc2V0U2VsZWN0aW9uKS5cbiAgZ2V0IHNlbGVjdGlvbigpIHtcbiAgICBpZiAodGhpcy5jdXJTZWxlY3Rpb25Gb3IgPCB0aGlzLnN0ZXBzLmxlbmd0aCkge1xuICAgICAgdGhpcy5jdXJTZWxlY3Rpb24gPSB0aGlzLmN1clNlbGVjdGlvbi5tYXAodGhpcy5kb2MsIHRoaXMubWFwcGluZy5zbGljZSh0aGlzLmN1clNlbGVjdGlvbkZvcikpXG4gICAgICB0aGlzLmN1clNlbGVjdGlvbkZvciA9IHRoaXMuc3RlcHMubGVuZ3RoXG4gICAgfVxuICAgIHJldHVybiB0aGlzLmN1clNlbGVjdGlvblxuICB9XG5cbiAgLy8gOjogKFNlbGVjdGlvbikg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIFVwZGF0ZSB0aGUgdHJhbnNhY3Rpb24ncyBjdXJyZW50IHNlbGVjdGlvbi4gV2lsbCBkZXRlcm1pbmUgdGhlXG4gIC8vIHNlbGVjdGlvbiB0aGF0IHRoZSBlZGl0b3IgZ2V0cyB3aGVuIHRoZSB0cmFuc2FjdGlvbiBpcyBhcHBsaWVkLlxuICBzZXRTZWxlY3Rpb24oc2VsZWN0aW9uKSB7XG4gICAgaWYgKHNlbGVjdGlvbi4kZnJvbS5kb2MgIT0gdGhpcy5kb2MpXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlNlbGVjdGlvbiBwYXNzZWQgdG8gc2V0U2VsZWN0aW9uIG11c3QgcG9pbnQgYXQgdGhlIGN1cnJlbnQgZG9jdW1lbnRcIilcbiAgICB0aGlzLmN1clNlbGVjdGlvbiA9IHNlbGVjdGlvblxuICAgIHRoaXMuY3VyU2VsZWN0aW9uRm9yID0gdGhpcy5zdGVwcy5sZW5ndGhcbiAgICB0aGlzLnVwZGF0ZWQgPSAodGhpcy51cGRhdGVkIHwgVVBEQVRFRF9TRUwpICYgflVQREFURURfTUFSS1NcbiAgICB0aGlzLnN0b3JlZE1hcmtzID0gbnVsbFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyA6OiBib29sXG4gIC8vIFdoZXRoZXIgdGhlIHNlbGVjdGlvbiB3YXMgZXhwbGljaXRseSB1cGRhdGVkIGJ5IHRoaXMgdHJhbnNhY3Rpb24uXG4gIGdldCBzZWxlY3Rpb25TZXQoKSB7XG4gICAgcmV0dXJuICh0aGlzLnVwZGF0ZWQgJiBVUERBVEVEX1NFTCkgPiAwXG4gIH1cblxuICAvLyA6OiAoP1tNYXJrXSkg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIFNldCB0aGUgY3VycmVudCBzdG9yZWQgbWFya3MuXG4gIHNldFN0b3JlZE1hcmtzKG1hcmtzKSB7XG4gICAgdGhpcy5zdG9yZWRNYXJrcyA9IG1hcmtzXG4gICAgdGhpcy51cGRhdGVkIHw9IFVQREFURURfTUFSS1NcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gOjogKFtNYXJrXSkg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIE1ha2Ugc3VyZSB0aGUgY3VycmVudCBzdG9yZWQgbWFya3Mgb3IsIGlmIHRoYXQgaXMgbnVsbCwgdGhlIG1hcmtzXG4gIC8vIGF0IHRoZSBzZWxlY3Rpb24sIG1hdGNoIHRoZSBnaXZlbiBzZXQgb2YgbWFya3MuIERvZXMgbm90aGluZyBpZlxuICAvLyB0aGlzIGlzIGFscmVhZHkgdGhlIGNhc2UuXG4gIGVuc3VyZU1hcmtzKG1hcmtzKSB7XG4gICAgaWYgKCFNYXJrLnNhbWVTZXQodGhpcy5zdG9yZWRNYXJrcyB8fCB0aGlzLnNlbGVjdGlvbi4kZnJvbS5tYXJrcygpLCBtYXJrcykpXG4gICAgICB0aGlzLnNldFN0b3JlZE1hcmtzKG1hcmtzKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyA6OiAoTWFyaykg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIEFkZCBhIG1hcmsgdG8gdGhlIHNldCBvZiBzdG9yZWQgbWFya3MuXG4gIGFkZFN0b3JlZE1hcmsobWFyaykge1xuICAgIHJldHVybiB0aGlzLmVuc3VyZU1hcmtzKG1hcmsuYWRkVG9TZXQodGhpcy5zdG9yZWRNYXJrcyB8fCB0aGlzLnNlbGVjdGlvbi4kaGVhZC5tYXJrcygpKSlcbiAgfVxuXG4gIC8vIDo6ICh1bmlvbjxNYXJrLCBNYXJrVHlwZT4pIOKGkiBUcmFuc2FjdGlvblxuICAvLyBSZW1vdmUgYSBtYXJrIG9yIG1hcmsgdHlwZSBmcm9tIHRoZSBzZXQgb2Ygc3RvcmVkIG1hcmtzLlxuICByZW1vdmVTdG9yZWRNYXJrKG1hcmspIHtcbiAgICByZXR1cm4gdGhpcy5lbnN1cmVNYXJrcyhtYXJrLnJlbW92ZUZyb21TZXQodGhpcy5zdG9yZWRNYXJrcyB8fCB0aGlzLnNlbGVjdGlvbi4kaGVhZC5tYXJrcygpKSlcbiAgfVxuXG4gIC8vIDo6IGJvb2xcbiAgLy8gV2hldGhlciB0aGUgc3RvcmVkIG1hcmtzIHdlcmUgZXhwbGljaXRseSBzZXQgZm9yIHRoaXMgdHJhbnNhY3Rpb24uXG4gIGdldCBzdG9yZWRNYXJrc1NldCgpIHtcbiAgICByZXR1cm4gKHRoaXMudXBkYXRlZCAmIFVQREFURURfTUFSS1MpID4gMFxuICB9XG5cbiAgYWRkU3RlcChzdGVwLCBkb2MpIHtcbiAgICBzdXBlci5hZGRTdGVwKHN0ZXAsIGRvYylcbiAgICB0aGlzLnVwZGF0ZWQgPSB0aGlzLnVwZGF0ZWQgJiB+VVBEQVRFRF9NQVJLU1xuICAgIHRoaXMuc3RvcmVkTWFya3MgPSBudWxsXG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gVXBkYXRlIHRoZSB0aW1lc3RhbXAgZm9yIHRoZSB0cmFuc2FjdGlvbi5cbiAgc2V0VGltZSh0aW1lKSB7XG4gICAgdGhpcy50aW1lID0gdGltZVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyA6OiAoU2xpY2UpIOKGkiBUcmFuc2FjdGlvblxuICAvLyBSZXBsYWNlIHRoZSBjdXJyZW50IHNlbGVjdGlvbiB3aXRoIHRoZSBnaXZlbiBzbGljZS5cbiAgcmVwbGFjZVNlbGVjdGlvbihzbGljZSkge1xuICAgIHRoaXMuc2VsZWN0aW9uLnJlcGxhY2UodGhpcywgc2xpY2UpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIDo6IChOb2RlLCA/Ym9vbCkg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIFJlcGxhY2UgdGhlIHNlbGVjdGlvbiB3aXRoIHRoZSBnaXZlbiBub2RlLiBXaGVuIGBpbmhlcml0TWFya3NgIGlzXG4gIC8vIHRydWUgYW5kIHRoZSBjb250ZW50IGlzIGlubGluZSwgaXQgaW5oZXJpdHMgdGhlIG1hcmtzIGZyb20gdGhlXG4gIC8vIHBsYWNlIHdoZXJlIGl0IGlzIGluc2VydGVkLlxuICByZXBsYWNlU2VsZWN0aW9uV2l0aChub2RlLCBpbmhlcml0TWFya3MpIHtcbiAgICBsZXQgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb25cbiAgICBpZiAoaW5oZXJpdE1hcmtzICE9PSBmYWxzZSlcbiAgICAgIG5vZGUgPSBub2RlLm1hcmsodGhpcy5zdG9yZWRNYXJrcyB8fCAoc2VsZWN0aW9uLmVtcHR5ID8gc2VsZWN0aW9uLiRmcm9tLm1hcmtzKCkgOiAoc2VsZWN0aW9uLiRmcm9tLm1hcmtzQWNyb3NzKHNlbGVjdGlvbi4kdG8pIHx8IE1hcmsubm9uZSkpKVxuICAgIHNlbGVjdGlvbi5yZXBsYWNlV2l0aCh0aGlzLCBub2RlKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvLyA6OiAoKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gRGVsZXRlIHRoZSBzZWxlY3Rpb24uXG4gIGRlbGV0ZVNlbGVjdGlvbigpIHtcbiAgICB0aGlzLnNlbGVjdGlvbi5yZXBsYWNlKHRoaXMpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIDo6IChzdHJpbmcsIGZyb206ID9udW1iZXIsIHRvOiA/bnVtYmVyKSDihpIgVHJhbnNhY3Rpb25cbiAgLy8gUmVwbGFjZSB0aGUgZ2l2ZW4gcmFuZ2UsIG9yIHRoZSBzZWxlY3Rpb24gaWYgbm8gcmFuZ2UgaXMgZ2l2ZW4sXG4gIC8vIHdpdGggYSB0ZXh0IG5vZGUgY29udGFpbmluZyB0aGUgZ2l2ZW4gc3RyaW5nLlxuICBpbnNlcnRUZXh0KHRleHQsIGZyb20sIHRvID0gZnJvbSkge1xuICAgIGxldCBzY2hlbWEgPSB0aGlzLmRvYy50eXBlLnNjaGVtYVxuICAgIGlmIChmcm9tID09IG51bGwpIHtcbiAgICAgIGlmICghdGV4dCkgcmV0dXJuIHRoaXMuZGVsZXRlU2VsZWN0aW9uKClcbiAgICAgIHJldHVybiB0aGlzLnJlcGxhY2VTZWxlY3Rpb25XaXRoKHNjaGVtYS50ZXh0KHRleHQpLCB0cnVlKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRleHQpIHJldHVybiB0aGlzLmRlbGV0ZVJhbmdlKGZyb20sIHRvKVxuICAgICAgbGV0IG1hcmtzID0gdGhpcy5zdG9yZWRNYXJrc1xuICAgICAgaWYgKCFtYXJrcykge1xuICAgICAgICBsZXQgJGZyb20gPSB0aGlzLmRvYy5yZXNvbHZlKGZyb20pXG4gICAgICAgIG1hcmtzID0gdG8gPT0gZnJvbSA/ICRmcm9tLm1hcmtzKCkgOiAkZnJvbS5tYXJrc0Fjcm9zcyh0aGlzLmRvYy5yZXNvbHZlKHRvKSlcbiAgICAgIH1cbiAgICAgIHRoaXMucmVwbGFjZVJhbmdlV2l0aChmcm9tLCB0bywgc2NoZW1hLnRleHQodGV4dCwgbWFya3MpKVxuICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbi5lbXB0eSkgdGhpcy5zZXRTZWxlY3Rpb24oU2VsZWN0aW9uLm5lYXIodGhpcy5zZWxlY3Rpb24uJHRvKSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICB9XG5cbiAgLy8gOjogKHVuaW9uPHN0cmluZywgUGx1Z2luLCBQbHVnaW5LZXk+LCBhbnkpIOKGkiBUcmFuc2FjdGlvblxuICAvLyBTdG9yZSBhIG1ldGFkYXRhIHByb3BlcnR5IGluIHRoaXMgdHJhbnNhY3Rpb24sIGtleWVkIGVpdGhlciBieVxuICAvLyBuYW1lIG9yIGJ5IHBsdWdpbi5cbiAgc2V0TWV0YShrZXksIHZhbHVlKSB7XG4gICAgdGhpcy5tZXRhW3R5cGVvZiBrZXkgPT0gXCJzdHJpbmdcIiA/IGtleSA6IGtleS5rZXldID0gdmFsdWVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gOjogKHVuaW9uPHN0cmluZywgUGx1Z2luLCBQbHVnaW5LZXk+KSDihpIgYW55XG4gIC8vIFJldHJpZXZlIGEgbWV0YWRhdGEgcHJvcGVydHkgZm9yIGEgZ2l2ZW4gbmFtZSBvciBwbHVnaW4uXG4gIGdldE1ldGEoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMubWV0YVt0eXBlb2Yga2V5ID09IFwic3RyaW5nXCIgPyBrZXkgOiBrZXkua2V5XVxuICB9XG5cbiAgLy8gOjogYm9vbFxuICAvLyBSZXR1cm5zIHRydWUgaWYgdGhpcyB0cmFuc2FjdGlvbiBkb2Vzbid0IGNvbnRhaW4gYW55IG1ldGFkYXRhLFxuICAvLyBhbmQgY2FuIHRodXMgc2FmZWx5IGJlIGV4dGVuZGVkLlxuICBnZXQgaXNHZW5lcmljKCkge1xuICAgIGZvciAobGV0IF8gaW4gdGhpcy5tZXRhKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gOjogKCkg4oaSIFRyYW5zYWN0aW9uXG4gIC8vIEluZGljYXRlIHRoYXQgdGhlIGVkaXRvciBzaG91bGQgc2Nyb2xsIHRoZSBzZWxlY3Rpb24gaW50byB2aWV3XG4gIC8vIHdoZW4gdXBkYXRlZCB0byB0aGUgc3RhdGUgcHJvZHVjZWQgYnkgdGhpcyB0cmFuc2FjdGlvbi5cbiAgc2Nyb2xsSW50b1ZpZXcoKSB7XG4gICAgdGhpcy51cGRhdGVkIHw9IFVQREFURURfU0NST0xMXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGdldCBzY3JvbGxlZEludG9WaWV3KCkge1xuICAgIHJldHVybiAodGhpcy51cGRhdGVkICYgVVBEQVRFRF9TQ1JPTEwpID4gMFxuICB9XG59XG4iLCJpbXBvcnQge05vZGV9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5cbmltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9zZWxlY3Rpb25cIlxuaW1wb3J0IHtUcmFuc2FjdGlvbn0gZnJvbSBcIi4vdHJhbnNhY3Rpb25cIlxuXG5mdW5jdGlvbiBiaW5kKGYsIHNlbGYpIHtcbiAgcmV0dXJuICFzZWxmIHx8ICFmID8gZiA6IGYuYmluZChzZWxmKVxufVxuXG5jbGFzcyBGaWVsZERlc2Mge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBkZXNjLCBzZWxmKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIHRoaXMuaW5pdCA9IGJpbmQoZGVzYy5pbml0LCBzZWxmKVxuICAgIHRoaXMuYXBwbHkgPSBiaW5kKGRlc2MuYXBwbHksIHNlbGYpXG4gIH1cbn1cblxuY29uc3QgYmFzZUZpZWxkcyA9IFtcbiAgbmV3IEZpZWxkRGVzYyhcImRvY1wiLCB7XG4gICAgaW5pdChjb25maWcpIHsgcmV0dXJuIGNvbmZpZy5kb2MgfHwgY29uZmlnLnNjaGVtYS50b3BOb2RlVHlwZS5jcmVhdGVBbmRGaWxsKCkgfSxcbiAgICBhcHBseSh0cikgeyByZXR1cm4gdHIuZG9jIH1cbiAgfSksXG5cbiAgbmV3IEZpZWxkRGVzYyhcInNlbGVjdGlvblwiLCB7XG4gICAgaW5pdChjb25maWcsIGluc3RhbmNlKSB7IHJldHVybiBjb25maWcuc2VsZWN0aW9uIHx8IFNlbGVjdGlvbi5hdFN0YXJ0KGluc3RhbmNlLmRvYykgfSxcbiAgICBhcHBseSh0cikgeyByZXR1cm4gdHIuc2VsZWN0aW9uIH1cbiAgfSksXG5cbiAgbmV3IEZpZWxkRGVzYyhcInN0b3JlZE1hcmtzXCIsIHtcbiAgICBpbml0KGNvbmZpZykgeyByZXR1cm4gY29uZmlnLnN0b3JlZE1hcmtzIHx8IG51bGwgfSxcbiAgICBhcHBseSh0ciwgX21hcmtzLCBfb2xkLCBzdGF0ZSkgeyByZXR1cm4gc3RhdGUuc2VsZWN0aW9uLiRjdXJzb3IgPyB0ci5zdG9yZWRNYXJrcyA6IG51bGwgfVxuICB9KSxcblxuICBuZXcgRmllbGREZXNjKFwic2Nyb2xsVG9TZWxlY3Rpb25cIiwge1xuICAgIGluaXQoKSB7IHJldHVybiAwIH0sXG4gICAgYXBwbHkodHIsIHByZXYpIHsgcmV0dXJuIHRyLnNjcm9sbGVkSW50b1ZpZXcgPyBwcmV2ICsgMSA6IHByZXYgfVxuICB9KVxuXVxuXG4vLyBPYmplY3Qgd3JhcHBpbmcgdGhlIHBhcnQgb2YgYSBzdGF0ZSBvYmplY3QgdGhhdCBzdGF5cyB0aGUgc2FtZVxuLy8gYWNyb3NzIHRyYW5zYWN0aW9ucy4gU3RvcmVkIGluIHRoZSBzdGF0ZSdzIGBjb25maWdgIHByb3BlcnR5LlxuY2xhc3MgQ29uZmlndXJhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHNjaGVtYSwgcGx1Z2lucykge1xuICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hXG4gICAgdGhpcy5maWVsZHMgPSBiYXNlRmllbGRzLmNvbmNhdCgpXG4gICAgdGhpcy5wbHVnaW5zID0gW11cbiAgICB0aGlzLnBsdWdpbnNCeUtleSA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgICBpZiAocGx1Z2lucykgcGx1Z2lucy5mb3JFYWNoKHBsdWdpbiA9PiB7XG4gICAgICBpZiAodGhpcy5wbHVnaW5zQnlLZXlbcGx1Z2luLmtleV0pXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQWRkaW5nIGRpZmZlcmVudCBpbnN0YW5jZXMgb2YgYSBrZXllZCBwbHVnaW4gKFwiICsgcGx1Z2luLmtleSArIFwiKVwiKVxuICAgICAgdGhpcy5wbHVnaW5zLnB1c2gocGx1Z2luKVxuICAgICAgdGhpcy5wbHVnaW5zQnlLZXlbcGx1Z2luLmtleV0gPSBwbHVnaW5cbiAgICAgIGlmIChwbHVnaW4uc3BlYy5zdGF0ZSlcbiAgICAgICAgdGhpcy5maWVsZHMucHVzaChuZXcgRmllbGREZXNjKHBsdWdpbi5rZXksIHBsdWdpbi5zcGVjLnN0YXRlLCBwbHVnaW4pKVxuICAgIH0pXG4gIH1cbn1cblxuLy8gOjotIFRoZSBzdGF0ZSBvZiBhIFByb3NlTWlycm9yIGVkaXRvciBpcyByZXByZXNlbnRlZCBieSBhbiBvYmplY3Rcbi8vIG9mIHRoaXMgdHlwZS4gQSBzdGF0ZSBpcyBhIHBlcnNpc3RlbnQgZGF0YSBzdHJ1Y3R1cmXigJRpdCBpc24ndFxuLy8gdXBkYXRlZCwgYnV0IHJhdGhlciBhIG5ldyBzdGF0ZSB2YWx1ZSBpcyBjb21wdXRlZCBmcm9tIGFuIG9sZCBvbmVcbi8vIHVzaW5nIHRoZSBbYGFwcGx5YF0oI3N0YXRlLkVkaXRvclN0YXRlLmFwcGx5KSBtZXRob2QuXG4vL1xuLy8gQSBzdGF0ZSBob2xkcyBhIG51bWJlciBvZiBidWlsdC1pbiBmaWVsZHMsIGFuZCBwbHVnaW5zIGNhblxuLy8gW2RlZmluZV0oI3N0YXRlLlBsdWdpblNwZWMuc3RhdGUpIGFkZGl0aW9uYWwgZmllbGRzLlxuZXhwb3J0IGNsYXNzIEVkaXRvclN0YXRlIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWdcbiAgfVxuXG4gIC8vIGRvYzo6IE5vZGVcbiAgLy8gVGhlIGN1cnJlbnQgZG9jdW1lbnQuXG5cbiAgLy8gc2VsZWN0aW9uOjogU2VsZWN0aW9uXG4gIC8vIFRoZSBzZWxlY3Rpb24uXG5cbiAgLy8gc3RvcmVkTWFya3M6OiA/W01hcmtdXG4gIC8vIEEgc2V0IG9mIG1hcmtzIHRvIGFwcGx5IHRvIHRoZSBuZXh0IGlucHV0LiBXaWxsIGJlIG51bGwgd2hlblxuICAvLyBubyBleHBsaWNpdCBtYXJrcyBoYXZlIGJlZW4gc2V0LlxuXG4gIC8vIDo6IFNjaGVtYVxuICAvLyBUaGUgc2NoZW1hIG9mIHRoZSBzdGF0ZSdzIGRvY3VtZW50LlxuICBnZXQgc2NoZW1hKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5zY2hlbWFcbiAgfVxuXG4gIC8vIDo6IFtQbHVnaW5dXG4gIC8vIFRoZSBwbHVnaW5zIHRoYXQgYXJlIGFjdGl2ZSBpbiB0aGlzIHN0YXRlLlxuICBnZXQgcGx1Z2lucygpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcucGx1Z2luc1xuICB9XG5cbiAgLy8gOjogKFRyYW5zYWN0aW9uKSDihpIgRWRpdG9yU3RhdGVcbiAgLy8gQXBwbHkgdGhlIGdpdmVuIHRyYW5zYWN0aW9uIHRvIHByb2R1Y2UgYSBuZXcgc3RhdGUuXG4gIGFwcGx5KHRyKSB7XG4gICAgcmV0dXJuIHRoaXMuYXBwbHlUcmFuc2FjdGlvbih0cikuc3RhdGVcbiAgfVxuXG4gIC8vIDogKFRyYW5zYWN0aW9uKSDihpIgYm9vbFxuICBmaWx0ZXJUcmFuc2FjdGlvbih0ciwgaWdub3JlID0gLTEpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoOyBpKyspIGlmIChpICE9IGlnbm9yZSkge1xuICAgICAgbGV0IHBsdWdpbiA9IHRoaXMuY29uZmlnLnBsdWdpbnNbaV1cbiAgICAgIGlmIChwbHVnaW4uc3BlYy5maWx0ZXJUcmFuc2FjdGlvbiAmJiAhcGx1Z2luLnNwZWMuZmlsdGVyVHJhbnNhY3Rpb24uY2FsbChwbHVnaW4sIHRyLCB0aGlzKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyA6OiAoVHJhbnNhY3Rpb24pIOKGkiB7c3RhdGU6IEVkaXRvclN0YXRlLCB0cmFuc2FjdGlvbnM6IFtUcmFuc2FjdGlvbl19XG4gIC8vIFZlcmJvc2UgdmFyaWFudCBvZiBbYGFwcGx5YF0oI3N0YXRlLkVkaXRvclN0YXRlLmFwcGx5KSB0aGF0XG4gIC8vIHJldHVybnMgdGhlIHByZWNpc2UgdHJhbnNhY3Rpb25zIHRoYXQgd2VyZSBhcHBsaWVkICh3aGljaCBtaWdodFxuICAvLyBiZSBpbmZsdWVuY2VkIGJ5IHRoZSBbdHJhbnNhY3Rpb25cbiAgLy8gaG9va3NdKCNzdGF0ZS5QbHVnaW5TcGVjLmZpbHRlclRyYW5zYWN0aW9uKSBvZlxuICAvLyBwbHVnaW5zKSBhbG9uZyB3aXRoIHRoZSBuZXcgc3RhdGUuXG4gIGFwcGx5VHJhbnNhY3Rpb24ocm9vdFRyKSB7XG4gICAgaWYgKCF0aGlzLmZpbHRlclRyYW5zYWN0aW9uKHJvb3RUcikpIHJldHVybiB7c3RhdGU6IHRoaXMsIHRyYW5zYWN0aW9uczogW119XG5cbiAgICBsZXQgdHJzID0gW3Jvb3RUcl0sIG5ld1N0YXRlID0gdGhpcy5hcHBseUlubmVyKHJvb3RUciksIHNlZW4gPSBudWxsXG4gICAgLy8gVGhpcyBsb29wIHJlcGVhdGVkbHkgZ2l2ZXMgcGx1Z2lucyBhIGNoYW5jZSB0byByZXNwb25kIHRvXG4gICAgLy8gdHJhbnNhY3Rpb25zIGFzIG5ldyB0cmFuc2FjdGlvbnMgYXJlIGFkZGVkLCBtYWtpbmcgc3VyZSB0byBvbmx5XG4gICAgLy8gcGFzcyB0aGUgdHJhbnNhY3Rpb25zIHRoZSBwbHVnaW4gZGlkIG5vdCBzZWUgYmVmb3JlLlxuICAgIG91dGVyOiBmb3IgKDs7KSB7XG4gICAgICBsZXQgaGF2ZU5ldyA9IGZhbHNlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZmlnLnBsdWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHBsdWdpbiA9IHRoaXMuY29uZmlnLnBsdWdpbnNbaV1cbiAgICAgICAgaWYgKHBsdWdpbi5zcGVjLmFwcGVuZFRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgbGV0IG4gPSBzZWVuID8gc2VlbltpXS5uIDogMCwgb2xkU3RhdGUgPSBzZWVuID8gc2VlbltpXS5zdGF0ZSA6IHRoaXNcbiAgICAgICAgICBsZXQgdHIgPSBuIDwgdHJzLmxlbmd0aCAmJlxuICAgICAgICAgICAgICBwbHVnaW4uc3BlYy5hcHBlbmRUcmFuc2FjdGlvbi5jYWxsKHBsdWdpbiwgbiA/IHRycy5zbGljZShuKSA6IHRycywgb2xkU3RhdGUsIG5ld1N0YXRlKVxuICAgICAgICAgIGlmICh0ciAmJiBuZXdTdGF0ZS5maWx0ZXJUcmFuc2FjdGlvbih0ciwgaSkpIHtcbiAgICAgICAgICAgIHRyLnNldE1ldGEoXCJhcHBlbmRlZFRyYW5zYWN0aW9uXCIsIHJvb3RUcilcbiAgICAgICAgICAgIGlmICghc2Vlbikge1xuICAgICAgICAgICAgICBzZWVuID0gW11cbiAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmNvbmZpZy5wbHVnaW5zLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIHNlZW4ucHVzaChqIDwgaSA/IHtzdGF0ZTogbmV3U3RhdGUsIG46IHRycy5sZW5ndGh9IDoge3N0YXRlOiB0aGlzLCBuOiAwfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRycy5wdXNoKHRyKVxuICAgICAgICAgICAgbmV3U3RhdGUgPSBuZXdTdGF0ZS5hcHBseUlubmVyKHRyKVxuICAgICAgICAgICAgaGF2ZU5ldyA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlZW4pIHNlZW5baV0gPSB7c3RhdGU6IG5ld1N0YXRlLCBuOiB0cnMubGVuZ3RofVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWhhdmVOZXcpIHJldHVybiB7c3RhdGU6IG5ld1N0YXRlLCB0cmFuc2FjdGlvbnM6IHRyc31cbiAgICB9XG4gIH1cblxuICAvLyA6IChUcmFuc2FjdGlvbikg4oaSIEVkaXRvclN0YXRlXG4gIGFwcGx5SW5uZXIodHIpIHtcbiAgICBpZiAoIXRyLmJlZm9yZS5lcSh0aGlzLmRvYykpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQXBwbHlpbmcgYSBtaXNtYXRjaGVkIHRyYW5zYWN0aW9uXCIpXG4gICAgbGV0IG5ld0luc3RhbmNlID0gbmV3IEVkaXRvclN0YXRlKHRoaXMuY29uZmlnKSwgZmllbGRzID0gdGhpcy5jb25maWcuZmllbGRzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBmaWVsZCA9IGZpZWxkc1tpXVxuICAgICAgbmV3SW5zdGFuY2VbZmllbGQubmFtZV0gPSBmaWVsZC5hcHBseSh0ciwgdGhpc1tmaWVsZC5uYW1lXSwgdGhpcywgbmV3SW5zdGFuY2UpXG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXBwbHlMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIGFwcGx5TGlzdGVuZXJzW2ldKHRoaXMsIHRyLCBuZXdJbnN0YW5jZSlcbiAgICByZXR1cm4gbmV3SW5zdGFuY2VcbiAgfVxuXG4gIC8vIDo6IFRyYW5zYWN0aW9uXG4gIC8vIFN0YXJ0IGEgW3RyYW5zYWN0aW9uXSgjc3RhdGUuVHJhbnNhY3Rpb24pIGZyb20gdGhpcyBzdGF0ZS5cbiAgZ2V0IHRyKCkgeyByZXR1cm4gbmV3IFRyYW5zYWN0aW9uKHRoaXMpIH1cblxuICAvLyA6OiAoT2JqZWN0KSDihpIgRWRpdG9yU3RhdGVcbiAgLy8gQ3JlYXRlIGEgbmV3IHN0YXRlLlxuICAvL1xuICAvLyAgIGNvbmZpZzo6LSBDb25maWd1cmF0aW9uIG9wdGlvbnMuIE11c3QgY29udGFpbiBgc2NoZW1hYCBvciBgZG9jYCAob3IgYm90aCkuXG4gIC8vXG4gIC8vICAgICAgc2NoZW1hOjogP1NjaGVtYVxuICAvLyAgICAgIFRoZSBzY2hlbWEgdG8gdXNlLlxuICAvL1xuICAvLyAgICAgIGRvYzo6ID9Ob2RlXG4gIC8vICAgICAgVGhlIHN0YXJ0aW5nIGRvY3VtZW50LlxuICAvL1xuICAvLyAgICAgIHNlbGVjdGlvbjo6ID9TZWxlY3Rpb25cbiAgLy8gICAgICBBIHZhbGlkIHNlbGVjdGlvbiBpbiB0aGUgZG9jdW1lbnQuXG4gIC8vXG4gIC8vICAgICAgc3RvcmVkTWFya3M6OiA/W01hcmtdXG4gIC8vICAgICAgVGhlIGluaXRpYWwgc2V0IG9mIFtzdG9yZWQgbWFya3NdKCNzdGF0ZS5FZGl0b3JTdGF0ZS5zdG9yZWRNYXJrcykuXG4gIC8vXG4gIC8vICAgICAgcGx1Z2luczo6ID9bUGx1Z2luXVxuICAvLyAgICAgIFRoZSBwbHVnaW5zIHRoYXQgc2hvdWxkIGJlIGFjdGl2ZSBpbiB0aGlzIHN0YXRlLlxuICBzdGF0aWMgY3JlYXRlKGNvbmZpZykge1xuICAgIGxldCAkY29uZmlnID0gbmV3IENvbmZpZ3VyYXRpb24oY29uZmlnLnNjaGVtYSB8fCBjb25maWcuZG9jLnR5cGUuc2NoZW1hLCBjb25maWcucGx1Z2lucylcbiAgICBsZXQgaW5zdGFuY2UgPSBuZXcgRWRpdG9yU3RhdGUoJGNvbmZpZylcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8ICRjb25maWcuZmllbGRzLmxlbmd0aDsgaSsrKVxuICAgICAgaW5zdGFuY2VbJGNvbmZpZy5maWVsZHNbaV0ubmFtZV0gPSAkY29uZmlnLmZpZWxkc1tpXS5pbml0KGNvbmZpZywgaW5zdGFuY2UpXG4gICAgcmV0dXJuIGluc3RhbmNlXG4gIH1cblxuICAvLyA6OiAoT2JqZWN0KSDihpIgRWRpdG9yU3RhdGVcbiAgLy8gQ3JlYXRlIGEgbmV3IHN0YXRlIGJhc2VkIG9uIHRoaXMgb25lLCBidXQgd2l0aCBhbiBhZGp1c3RlZCBzZXQgb2ZcbiAgLy8gYWN0aXZlIHBsdWdpbnMuIFN0YXRlIGZpZWxkcyB0aGF0IGV4aXN0IGluIGJvdGggc2V0cyBvZiBwbHVnaW5zXG4gIC8vIGFyZSBrZXB0IHVuY2hhbmdlZC4gVGhvc2UgdGhhdCBubyBsb25nZXIgZXhpc3QgYXJlIGRyb3BwZWQsIGFuZFxuICAvLyB0aG9zZSB0aGF0IGFyZSBuZXcgYXJlIGluaXRpYWxpemVkIHVzaW5nIHRoZWlyXG4gIC8vIFtgaW5pdGBdKCNzdGF0ZS5TdGF0ZUZpZWxkLmluaXQpIG1ldGhvZCwgcGFzc2luZyBpbiB0aGUgbmV3XG4gIC8vIGNvbmZpZ3VyYXRpb24gb2JqZWN0Li5cbiAgLy9cbiAgLy8gICBjb25maWc6Oi0gY29uZmlndXJhdGlvbiBvcHRpb25zXG4gIC8vXG4gIC8vICAgICBzY2hlbWE6OiA/U2NoZW1hXG4gIC8vICAgICBOZXcgc2NoZW1hIHRvIHVzZS5cbiAgLy9cbiAgLy8gICAgIHBsdWdpbnM6OiA/W1BsdWdpbl1cbiAgLy8gICAgIE5ldyBzZXQgb2YgYWN0aXZlIHBsdWdpbnMuXG4gIHJlY29uZmlndXJlKGNvbmZpZykge1xuICAgIGxldCAkY29uZmlnID0gbmV3IENvbmZpZ3VyYXRpb24oY29uZmlnLnNjaGVtYSB8fCB0aGlzLnNjaGVtYSwgY29uZmlnLnBsdWdpbnMpXG4gICAgbGV0IGZpZWxkcyA9ICRjb25maWcuZmllbGRzLCBpbnN0YW5jZSA9IG5ldyBFZGl0b3JTdGF0ZSgkY29uZmlnKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbmFtZSA9IGZpZWxkc1tpXS5uYW1lXG4gICAgICBpbnN0YW5jZVtuYW1lXSA9IHRoaXMuaGFzT3duUHJvcGVydHkobmFtZSkgPyB0aGlzW25hbWVdIDogZmllbGRzW2ldLmluaXQoY29uZmlnLCBpbnN0YW5jZSlcbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlXG4gIH1cblxuICAvLyA6OiAoP3VuaW9uPE9iamVjdDxQbHVnaW4+LCBzdHJpbmcsIG51bWJlcj4pIOKGkiBPYmplY3RcbiAgLy8gU2VyaWFsaXplIHRoaXMgc3RhdGUgdG8gSlNPTi4gSWYgeW91IHdhbnQgdG8gc2VyaWFsaXplIHRoZSBzdGF0ZVxuICAvLyBvZiBwbHVnaW5zLCBwYXNzIGFuIG9iamVjdCBtYXBwaW5nIHByb3BlcnR5IG5hbWVzIHRvIHVzZSBpbiB0aGVcbiAgLy8gcmVzdWx0aW5nIEpTT04gb2JqZWN0IHRvIHBsdWdpbiBvYmplY3RzLiBUaGUgYXJndW1lbnQgbWF5IGFsc28gYmVcbiAgLy8gYSBzdHJpbmcgb3IgbnVtYmVyLCBpbiB3aGljaCBjYXNlIGl0IGlzIGlnbm9yZWQsIHRvIHN1cHBvcnQgdGhlXG4gIC8vIHdheSBgSlNPTi5zdHJpbmdpZnlgIGNhbGxzIGB0b1N0cmluZ2AgbWV0aG9kcy5cbiAgdG9KU09OKHBsdWdpbkZpZWxkcykge1xuICAgIGxldCByZXN1bHQgPSB7ZG9jOiB0aGlzLmRvYy50b0pTT04oKSwgc2VsZWN0aW9uOiB0aGlzLnNlbGVjdGlvbi50b0pTT04oKX1cbiAgICBpZiAodGhpcy5zdG9yZWRNYXJrcykgcmVzdWx0LnN0b3JlZE1hcmtzID0gdGhpcy5zdG9yZWRNYXJrcy5tYXAobSA9PiBtLnRvSlNPTigpKVxuICAgIGlmIChwbHVnaW5GaWVsZHMgJiYgdHlwZW9mIHBsdWdpbkZpZWxkcyA9PSAnb2JqZWN0JykgZm9yIChsZXQgcHJvcCBpbiBwbHVnaW5GaWVsZHMpIHtcbiAgICAgIGlmIChwcm9wID09IFwiZG9jXCIgfHwgcHJvcCA9PSBcInNlbGVjdGlvblwiKVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRoZSBKU09OIGZpZWxkcyBgZG9jYCBhbmQgYHNlbGVjdGlvbmAgYXJlIHJlc2VydmVkXCIpXG4gICAgICBsZXQgcGx1Z2luID0gcGx1Z2luRmllbGRzW3Byb3BdLCBzdGF0ZSA9IHBsdWdpbi5zcGVjLnN0YXRlXG4gICAgICBpZiAoc3RhdGUgJiYgc3RhdGUudG9KU09OKSByZXN1bHRbcHJvcF0gPSBzdGF0ZS50b0pTT04uY2FsbChwbHVnaW4sIHRoaXNbcGx1Z2luLmtleV0pXG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8vIDo6IChPYmplY3QsIE9iamVjdCwgP09iamVjdDxQbHVnaW4+KSDihpIgRWRpdG9yU3RhdGVcbiAgLy8gRGVzZXJpYWxpemUgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGEgc3RhdGUuIGBjb25maWdgIHNob3VsZFxuICAvLyBoYXZlIGF0IGxlYXN0IGEgYHNjaGVtYWAgZmllbGQsIGFuZCBzaG91bGQgY29udGFpbiBhcnJheSBvZlxuICAvLyBwbHVnaW5zIHRvIGluaXRpYWxpemUgdGhlIHN0YXRlIHdpdGguIGBwbHVnaW5GaWVsZHNgIGNhbiBiZSB1c2VkXG4gIC8vIHRvIGRlc2VyaWFsaXplIHRoZSBzdGF0ZSBvZiBwbHVnaW5zLCBieSBhc3NvY2lhdGluZyBwbHVnaW5cbiAgLy8gaW5zdGFuY2VzIHdpdGggdGhlIHByb3BlcnR5IG5hbWVzIHRoZXkgdXNlIGluIHRoZSBKU09OIG9iamVjdC5cbiAgLy9cbiAgLy8gICBjb25maWc6Oi0gY29uZmlndXJhdGlvbiBvcHRpb25zXG4gIC8vXG4gIC8vICAgICBzY2hlbWE6OiBTY2hlbWFcbiAgLy8gICAgIFRoZSBzY2hlbWEgdG8gdXNlLlxuICAvL1xuICAvLyAgICAgcGx1Z2luczo6ID9bUGx1Z2luXVxuICAvLyAgICAgVGhlIHNldCBvZiBhY3RpdmUgcGx1Z2lucy5cbiAgc3RhdGljIGZyb21KU09OKGNvbmZpZywganNvbiwgcGx1Z2luRmllbGRzKSB7XG4gICAgaWYgKCFqc29uKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgaW5wdXQgZm9yIEVkaXRvclN0YXRlLmZyb21KU09OXCIpXG4gICAgaWYgKCFjb25maWcuc2NoZW1hKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlJlcXVpcmVkIGNvbmZpZyBmaWVsZCAnc2NoZW1hJyBtaXNzaW5nXCIpXG4gICAgbGV0ICRjb25maWcgPSBuZXcgQ29uZmlndXJhdGlvbihjb25maWcuc2NoZW1hLCBjb25maWcucGx1Z2lucylcbiAgICBsZXQgaW5zdGFuY2UgPSBuZXcgRWRpdG9yU3RhdGUoJGNvbmZpZylcbiAgICAkY29uZmlnLmZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICAgIGlmIChmaWVsZC5uYW1lID09IFwiZG9jXCIpIHtcbiAgICAgICAgaW5zdGFuY2UuZG9jID0gTm9kZS5mcm9tSlNPTihjb25maWcuc2NoZW1hLCBqc29uLmRvYylcbiAgICAgIH0gZWxzZSBpZiAoZmllbGQubmFtZSA9PSBcInNlbGVjdGlvblwiKSB7XG4gICAgICAgIGluc3RhbmNlLnNlbGVjdGlvbiA9IFNlbGVjdGlvbi5mcm9tSlNPTihpbnN0YW5jZS5kb2MsIGpzb24uc2VsZWN0aW9uKVxuICAgICAgfSBlbHNlIGlmIChmaWVsZC5uYW1lID09IFwic3RvcmVkTWFya3NcIikge1xuICAgICAgICBpZiAoanNvbi5zdG9yZWRNYXJrcykgaW5zdGFuY2Uuc3RvcmVkTWFya3MgPSBqc29uLnN0b3JlZE1hcmtzLm1hcChjb25maWcuc2NoZW1hLm1hcmtGcm9tSlNPTilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwbHVnaW5GaWVsZHMpIGZvciAobGV0IHByb3AgaW4gcGx1Z2luRmllbGRzKSB7XG4gICAgICAgICAgbGV0IHBsdWdpbiA9IHBsdWdpbkZpZWxkc1twcm9wXSwgc3RhdGUgPSBwbHVnaW4uc3BlYy5zdGF0ZVxuICAgICAgICAgIGlmIChwbHVnaW4ua2V5ID09IGZpZWxkLm5hbWUgJiYgc3RhdGUgJiYgc3RhdGUuZnJvbUpTT04gJiZcbiAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGpzb24sIHByb3ApKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGZpZWxkIGJlbG9uZ3MgdG8gYSBwbHVnaW4gbWFwcGVkIHRvIGEgSlNPTiBmaWVsZCwgcmVhZCBpdCBmcm9tIHRoZXJlLlxuICAgICAgICAgICAgaW5zdGFuY2VbZmllbGQubmFtZV0gPSBzdGF0ZS5mcm9tSlNPTi5jYWxsKHBsdWdpbiwgY29uZmlnLCBqc29uW3Byb3BdLCBpbnN0YW5jZSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZVtmaWVsZC5uYW1lXSA9IGZpZWxkLmluaXQoY29uZmlnLCBpbnN0YW5jZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBpbnN0YW5jZVxuICB9XG5cbiAgLy8gS2x1ZGdlIHRvIGFsbG93IHRoZSB2aWV3IHRvIHRyYWNrIG1hcHBpbmdzIGJldHdlZW4gZGlmZmVyZW50XG4gIC8vIGluc3RhbmNlcyBvZiBhIHN0YXRlLlxuICAvL1xuICAvLyBGSVhNRSB0aGlzIGlzIG5vIGxvbmdlciBuZWVkZWQgYXMgb2YgcHJvc2VtaXJyb3ItdmlldyAxLjkuMCxcbiAgLy8gdGhvdWdoIGR1ZSB0byBiYWNrd2FyZHMtY29tcGF0IHdlIHNob3VsZCBwcm9iYWJseSBrZWVwIGl0IGFyb3VuZFxuICAvLyBmb3IgYSB3aGlsZSAoaWYgb25seSBhcyBhIG5vLW9wKVxuICBzdGF0aWMgYWRkQXBwbHlMaXN0ZW5lcihmKSB7XG4gICAgYXBwbHlMaXN0ZW5lcnMucHVzaChmKVxuICB9XG4gIHN0YXRpYyByZW1vdmVBcHBseUxpc3RlbmVyKGYpIHtcbiAgICBsZXQgZm91bmQgPSBhcHBseUxpc3RlbmVycy5pbmRleE9mKGYpXG4gICAgaWYgKGZvdW5kID4gLTEpIGFwcGx5TGlzdGVuZXJzLnNwbGljZShmb3VuZCwgMSlcbiAgfVxufVxuXG5jb25zdCBhcHBseUxpc3RlbmVycyA9IFtdXG4iLCIvLyBQbHVnaW5TcGVjOjogaW50ZXJmYWNlXG4vL1xuLy8gVGhpcyBpcyB0aGUgdHlwZSBwYXNzZWQgdG8gdGhlIFtgUGx1Z2luYF0oI3N0YXRlLlBsdWdpbilcbi8vIGNvbnN0cnVjdG9yLiBJdCBwcm92aWRlcyBhIGRlZmluaXRpb24gZm9yIGEgcGx1Z2luLlxuLy9cbi8vICAgcHJvcHM6OiA/RWRpdG9yUHJvcHNcbi8vICAgVGhlIFt2aWV3IHByb3BzXSgjdmlldy5FZGl0b3JQcm9wcykgYWRkZWQgYnkgdGhpcyBwbHVnaW4uIFByb3BzXG4vLyAgIHRoYXQgYXJlIGZ1bmN0aW9ucyB3aWxsIGJlIGJvdW5kIHRvIGhhdmUgdGhlIHBsdWdpbiBpbnN0YW5jZSBhc1xuLy8gICB0aGVpciBgdGhpc2AgYmluZGluZy5cbi8vXG4vLyAgIHN0YXRlOjogP1N0YXRlRmllbGQ8YW55PlxuLy8gICBBbGxvd3MgYSBwbHVnaW4gdG8gZGVmaW5lIGEgW3N0YXRlIGZpZWxkXSgjc3RhdGUuU3RhdGVGaWVsZCksIGFuXG4vLyAgIGV4dHJhIHNsb3QgaW4gdGhlIHN0YXRlIG9iamVjdCBpbiB3aGljaCBpdCBjYW4ga2VlcCBpdHMgb3duIGRhdGEuXG4vL1xuLy8gICBrZXk6OiA/UGx1Z2luS2V5XG4vLyAgIENhbiBiZSB1c2VkIHRvIG1ha2UgdGhpcyBhIGtleWVkIHBsdWdpbi4gWW91IGNhbiBoYXZlIG9ubHkgb25lXG4vLyAgIHBsdWdpbiB3aXRoIGEgZ2l2ZW4ga2V5IGluIGEgZ2l2ZW4gc3RhdGUsIGJ1dCBpdCBpcyBwb3NzaWJsZSB0b1xuLy8gICBhY2Nlc3MgdGhlIHBsdWdpbidzIGNvbmZpZ3VyYXRpb24gYW5kIHN0YXRlIHRocm91Z2ggdGhlIGtleSxcbi8vICAgd2l0aG91dCBoYXZpbmcgYWNjZXNzIHRvIHRoZSBwbHVnaW4gaW5zdGFuY2Ugb2JqZWN0LlxuLy9cbi8vICAgdmlldzo6ID8oRWRpdG9yVmlldykg4oaSIE9iamVjdFxuLy8gICBXaGVuIHRoZSBwbHVnaW4gbmVlZHMgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgZWRpdG9yIHZpZXcsIG9yXG4vLyAgIHNldCBzb21ldGhpbmcgdXAgaW4gdGhlIERPTSwgdXNlIHRoaXMgZmllbGQuIFRoZSBmdW5jdGlvblxuLy8gICB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBwbHVnaW4ncyBzdGF0ZSBpcyBhc3NvY2lhdGVkIHdpdGggYW5cbi8vICAgZWRpdG9yIHZpZXcuXG4vL1xuLy8gICAgIHJldHVybjo6LVxuLy8gICAgIFNob3VsZCByZXR1cm4gYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBvcHRpb25hbFxuLy8gICAgIHByb3BlcnRpZXM6XG4vL1xuLy8gICAgICAgdXBkYXRlOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBwcmV2U3RhdGU6IEVkaXRvclN0YXRlKVxuLy8gICAgICAgQ2FsbGVkIHdoZW5ldmVyIHRoZSB2aWV3J3Mgc3RhdGUgaXMgdXBkYXRlZC5cbi8vXG4vLyAgICAgICBkZXN0cm95OjogPygpXG4vLyAgICAgICBDYWxsZWQgd2hlbiB0aGUgdmlldyBpcyBkZXN0cm95ZWQgb3IgcmVjZWl2ZXMgYSBzdGF0ZVxuLy8gICAgICAgd2l0aCBkaWZmZXJlbnQgcGx1Z2lucy5cbi8vXG4vLyAgIGZpbHRlclRyYW5zYWN0aW9uOjogPyhUcmFuc2FjdGlvbiwgRWRpdG9yU3RhdGUpIOKGkiBib29sXG4vLyAgIFdoZW4gcHJlc2VudCwgdGhpcyB3aWxsIGJlIGNhbGxlZCBiZWZvcmUgYSB0cmFuc2FjdGlvbiBpc1xuLy8gICBhcHBsaWVkIGJ5IHRoZSBzdGF0ZSwgYWxsb3dpbmcgdGhlIHBsdWdpbiB0byBjYW5jZWwgaXQgKGJ5XG4vLyAgIHJldHVybmluZyBmYWxzZSkuXG4vL1xuLy8gICBhcHBlbmRUcmFuc2FjdGlvbjo6ID8odHJhbnNhY3Rpb25zOiBbVHJhbnNhY3Rpb25dLCBvbGRTdGF0ZTogRWRpdG9yU3RhdGUsIG5ld1N0YXRlOiBFZGl0b3JTdGF0ZSkg4oaSID9UcmFuc2FjdGlvblxuLy8gICBBbGxvd3MgdGhlIHBsdWdpbiB0byBhcHBlbmQgYW5vdGhlciB0cmFuc2FjdGlvbiB0byBiZSBhcHBsaWVkXG4vLyAgIGFmdGVyIHRoZSBnaXZlbiBhcnJheSBvZiB0cmFuc2FjdGlvbnMuIFdoZW4gYW5vdGhlciBwbHVnaW5cbi8vICAgYXBwZW5kcyBhIHRyYW5zYWN0aW9uIGFmdGVyIHRoaXMgd2FzIGNhbGxlZCwgaXQgaXMgY2FsbGVkIGFnYWluXG4vLyAgIHdpdGggdGhlIG5ldyBzdGF0ZSBhbmQgbmV3IHRyYW5zYWN0aW9uc+KAlGJ1dCBvbmx5IHRoZSBuZXdcbi8vICAgdHJhbnNhY3Rpb25zLCBpLmUuIGl0IHdvbid0IGJlIHBhc3NlZCB0cmFuc2FjdGlvbnMgdGhhdCBpdFxuLy8gICBhbHJlYWR5IHNhdy5cblxuZnVuY3Rpb24gYmluZFByb3BzKG9iaiwgc2VsZiwgdGFyZ2V0KSB7XG4gIGZvciAobGV0IHByb3AgaW4gb2JqKSB7XG4gICAgbGV0IHZhbCA9IG9ialtwcm9wXVxuICAgIGlmICh2YWwgaW5zdGFuY2VvZiBGdW5jdGlvbikgdmFsID0gdmFsLmJpbmQoc2VsZilcbiAgICBlbHNlIGlmIChwcm9wID09IFwiaGFuZGxlRE9NRXZlbnRzXCIpIHZhbCA9IGJpbmRQcm9wcyh2YWwsIHNlbGYsIHt9KVxuICAgIHRhcmdldFtwcm9wXSA9IHZhbFxuICB9XG4gIHJldHVybiB0YXJnZXRcbn1cblxuLy8gOjotIFBsdWdpbnMgYnVuZGxlIGZ1bmN0aW9uYWxpdHkgdGhhdCBjYW4gYmUgYWRkZWQgdG8gYW4gZWRpdG9yLlxuLy8gVGhleSBhcmUgcGFydCBvZiB0aGUgW2VkaXRvciBzdGF0ZV0oI3N0YXRlLkVkaXRvclN0YXRlKSBhbmRcbi8vIG1heSBpbmZsdWVuY2UgdGhhdCBzdGF0ZSBhbmQgdGhlIHZpZXcgdGhhdCBjb250YWlucyBpdC5cbmV4cG9ydCBjbGFzcyBQbHVnaW4ge1xuICAvLyA6OiAoUGx1Z2luU3BlYylcbiAgLy8gQ3JlYXRlIGEgcGx1Z2luLlxuICBjb25zdHJ1Y3RvcihzcGVjKSB7XG4gICAgLy8gOjogRWRpdG9yUHJvcHNcbiAgICAvLyBUaGUgW3Byb3BzXSgjdmlldy5FZGl0b3JQcm9wcykgZXhwb3J0ZWQgYnkgdGhpcyBwbHVnaW4uXG4gICAgdGhpcy5wcm9wcyA9IHt9XG4gICAgaWYgKHNwZWMucHJvcHMpIGJpbmRQcm9wcyhzcGVjLnByb3BzLCB0aGlzLCB0aGlzLnByb3BzKVxuICAgIC8vIDo6IE9iamVjdFxuICAgIC8vIFRoZSBwbHVnaW4ncyBbc3BlYyBvYmplY3RdKCNzdGF0ZS5QbHVnaW5TcGVjKS5cbiAgICB0aGlzLnNwZWMgPSBzcGVjXG4gICAgdGhpcy5rZXkgPSBzcGVjLmtleSA/IHNwZWMua2V5LmtleSA6IGNyZWF0ZUtleShcInBsdWdpblwiKVxuICB9XG5cbiAgLy8gOjogKEVkaXRvclN0YXRlKSDihpIgYW55XG4gIC8vIEV4dHJhY3QgdGhlIHBsdWdpbidzIHN0YXRlIGZpZWxkIGZyb20gYW4gZWRpdG9yIHN0YXRlLlxuICBnZXRTdGF0ZShzdGF0ZSkgeyByZXR1cm4gc3RhdGVbdGhpcy5rZXldIH1cbn1cblxuLy8gU3RhdGVGaWVsZDo6IGludGVyZmFjZTxUPlxuLy8gQSBwbHVnaW4gc3BlYyBtYXkgcHJvdmlkZSBhIHN0YXRlIGZpZWxkICh1bmRlciBpdHNcbi8vIFtgc3RhdGVgXSgjc3RhdGUuUGx1Z2luU3BlYy5zdGF0ZSkgcHJvcGVydHkpIG9mIHRoaXMgdHlwZSwgd2hpY2hcbi8vIGRlc2NyaWJlcyB0aGUgc3RhdGUgaXQgd2FudHMgdG8ga2VlcC4gRnVuY3Rpb25zIHByb3ZpZGVkIGhlcmUgYXJlXG4vLyBhbHdheXMgY2FsbGVkIHdpdGggdGhlIHBsdWdpbiBpbnN0YW5jZSBhcyB0aGVpciBgdGhpc2AgYmluZGluZy5cbi8vXG4vLyAgIGluaXQ6OiAoY29uZmlnOiBPYmplY3QsIGluc3RhbmNlOiBFZGl0b3JTdGF0ZSkg4oaSIFRcbi8vICAgSW5pdGlhbGl6ZSB0aGUgdmFsdWUgb2YgdGhlIGZpZWxkLiBgY29uZmlnYCB3aWxsIGJlIHRoZSBvYmplY3Rcbi8vICAgcGFzc2VkIHRvIFtgRWRpdG9yU3RhdGUuY3JlYXRlYF0oI3N0YXRlLkVkaXRvclN0YXRlXmNyZWF0ZSkuIE5vdGVcbi8vICAgdGhhdCBgaW5zdGFuY2VgIGlzIGEgaGFsZi1pbml0aWFsaXplZCBzdGF0ZSBpbnN0YW5jZSwgYW5kIHdpbGxcbi8vICAgbm90IGhhdmUgdmFsdWVzIGZvciBwbHVnaW4gZmllbGRzIGluaXRpYWxpemVkIGFmdGVyIHRoaXMgb25lLlxuLy9cbi8vICAgYXBwbHk6OiAodHI6IFRyYW5zYWN0aW9uLCB2YWx1ZTogVCwgb2xkU3RhdGU6IEVkaXRvclN0YXRlLCBuZXdTdGF0ZTogRWRpdG9yU3RhdGUpIOKGkiBUXG4vLyAgIEFwcGx5IHRoZSBnaXZlbiB0cmFuc2FjdGlvbiB0byB0aGlzIHN0YXRlIGZpZWxkLCBwcm9kdWNpbmcgYSBuZXdcbi8vICAgZmllbGQgdmFsdWUuIE5vdGUgdGhhdCB0aGUgYG5ld1N0YXRlYCBhcmd1bWVudCBpcyBhZ2FpbiBhIHBhcnRpYWxseVxuLy8gICBjb25zdHJ1Y3RlZCBzdGF0ZSBkb2VzIG5vdCB5ZXQgY29udGFpbiB0aGUgc3RhdGUgZnJvbSBwbHVnaW5zXG4vLyAgIGNvbWluZyBhZnRlciB0aGlzIG9uZS5cbi8vXG4vLyAgIHRvSlNPTjo6ID8odmFsdWU6IFQpIOKGkiAqXG4vLyAgIENvbnZlcnQgdGhpcyBmaWVsZCB0byBKU09OLiBPcHRpb25hbCwgY2FuIGJlIGxlZnQgb2ZmIHRvIGRpc2FibGVcbi8vICAgSlNPTiBzZXJpYWxpemF0aW9uIGZvciB0aGUgZmllbGQuXG4vL1xuLy8gICBmcm9tSlNPTjo6ID8oY29uZmlnOiBPYmplY3QsIHZhbHVlOiAqLCBzdGF0ZTogRWRpdG9yU3RhdGUpIOKGkiBUXG4vLyAgIERlc2VyaWFsaXplIHRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgZmllbGQuIE5vdGUgdGhhdCB0aGVcbi8vICAgYHN0YXRlYCBhcmd1bWVudCBpcyBhZ2FpbiBhIGhhbGYtaW5pdGlhbGl6ZWQgc3RhdGUuXG5cbmNvbnN0IGtleXMgPSBPYmplY3QuY3JlYXRlKG51bGwpXG5cbmZ1bmN0aW9uIGNyZWF0ZUtleShuYW1lKSB7XG4gIGlmIChuYW1lIGluIGtleXMpIHJldHVybiBuYW1lICsgXCIkXCIgKyArK2tleXNbbmFtZV1cbiAga2V5c1tuYW1lXSA9IDBcbiAgcmV0dXJuIG5hbWUgKyBcIiRcIlxufVxuXG4vLyA6Oi0gQSBrZXkgaXMgdXNlZCB0byBbdGFnXSgjc3RhdGUuUGx1Z2luU3BlYy5rZXkpXG4vLyBwbHVnaW5zIGluIGEgd2F5IHRoYXQgbWFrZXMgaXQgcG9zc2libGUgdG8gZmluZCB0aGVtLCBnaXZlbiBhblxuLy8gZWRpdG9yIHN0YXRlLiBBc3NpZ25pbmcgYSBrZXkgZG9lcyBtZWFuIG9ubHkgb25lIHBsdWdpbiBvZiB0aGF0XG4vLyB0eXBlIGNhbiBiZSBhY3RpdmUgaW4gYSBzdGF0ZS5cbmV4cG9ydCBjbGFzcyBQbHVnaW5LZXkge1xuICAvLyA6OiAoP3N0cmluZylcbiAgLy8gQ3JlYXRlIGEgcGx1Z2luIGtleS5cbiAgY29uc3RydWN0b3IobmFtZSA9IFwia2V5XCIpIHsgdGhpcy5rZXkgPSBjcmVhdGVLZXkobmFtZSkgfVxuXG4gIC8vIDo6IChFZGl0b3JTdGF0ZSkg4oaSID9QbHVnaW5cbiAgLy8gR2V0IHRoZSBhY3RpdmUgcGx1Z2luIHdpdGggdGhpcyBrZXksIGlmIGFueSwgZnJvbSBhbiBlZGl0b3JcbiAgLy8gc3RhdGUuXG4gIGdldChzdGF0ZSkgeyByZXR1cm4gc3RhdGUuY29uZmlnLnBsdWdpbnNCeUtleVt0aGlzLmtleV0gfVxuXG4gIC8vIDo6IChFZGl0b3JTdGF0ZSkg4oaSID9hbnlcbiAgLy8gR2V0IHRoZSBwbHVnaW4ncyBzdGF0ZSBmcm9tIGFuIGVkaXRvciBzdGF0ZS5cbiAgZ2V0U3RhdGUoc3RhdGUpIHsgcmV0dXJuIHN0YXRlW3RoaXMua2V5XSB9XG59XG4iLCJjb25zdCByZXN1bHQgPSB7fVxuZXhwb3J0IGRlZmF1bHQgcmVzdWx0XG5cbmlmICh0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGRvY3VtZW50ICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgY29uc3QgaWVfZWRnZSA9IC9FZGdlXFwvKFxcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpXG4gIGNvbnN0IGllX3VwdG8xMCA9IC9NU0lFIFxcZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuICBjb25zdCBpZV8xMXVwID0gL1RyaWRlbnRcXC8oPzpbNy05XXxcXGR7Mix9KVxcLi4qcnY6KFxcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpXG5cbiAgcmVzdWx0Lm1hYyA9IC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKVxuICBsZXQgaWUgPSByZXN1bHQuaWUgPSAhIShpZV91cHRvMTAgfHwgaWVfMTF1cCB8fCBpZV9lZGdlKVxuICByZXN1bHQuaWVfdmVyc2lvbiA9IGllX3VwdG8xMCA/IGRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCA2IDogaWVfMTF1cCA/ICtpZV8xMXVwWzFdIDogaWVfZWRnZSA/ICtpZV9lZGdlWzFdIDogbnVsbFxuICByZXN1bHQuZ2Vja28gPSAhaWUgJiYgL2dlY2tvXFwvKFxcZCspL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuICByZXN1bHQuZ2Vja29fdmVyc2lvbiA9IHJlc3VsdC5nZWNrbyAmJiArKC9GaXJlZm94XFwvKFxcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IFswLCAwXSlbMV1cbiAgbGV0IGNocm9tZSA9ICFpZSAmJiAvQ2hyb21lXFwvKFxcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpXG4gIHJlc3VsdC5jaHJvbWUgPSAhIWNocm9tZVxuICByZXN1bHQuY2hyb21lX3ZlcnNpb24gPSBjaHJvbWUgJiYgK2Nocm9tZVsxXVxuICByZXN1bHQuaW9zID0gIWllICYmIC9BcHBsZVdlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAvTW9iaWxlXFwvXFx3Ky8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuICByZXN1bHQuYW5kcm9pZCA9IC9BbmRyb2lkIFxcZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuICByZXN1bHQud2Via2l0ID0gIWllICYmICdXZWJraXRBcHBlYXJhbmNlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGVcbiAgcmVzdWx0LnNhZmFyaSA9IC9BcHBsZSBDb21wdXRlci8udGVzdChuYXZpZ2F0b3IudmVuZG9yKVxuICByZXN1bHQud2Via2l0X3ZlcnNpb24gPSByZXN1bHQud2Via2l0ICYmICsoL1xcYkFwcGxlV2ViS2l0XFwvKFxcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IFswLCAwXSlbMV1cbn1cbiIsImltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXJcIlxuXG5leHBvcnQgY29uc3QgZG9tSW5kZXggPSBmdW5jdGlvbihub2RlKSB7XG4gIGZvciAodmFyIGluZGV4ID0gMDs7IGluZGV4KyspIHtcbiAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmdcbiAgICBpZiAoIW5vZGUpIHJldHVybiBpbmRleFxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBwYXJlbnROb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlXG4gIHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlID09IDExID8gcGFyZW50Lmhvc3QgOiBwYXJlbnRcbn1cblxuZXhwb3J0IGNvbnN0IHRleHRSYW5nZSA9IGZ1bmN0aW9uKG5vZGUsIGZyb20sIHRvKSB7XG4gIGxldCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKClcbiAgcmFuZ2Uuc2V0RW5kKG5vZGUsIHRvID09IG51bGwgPyBub2RlLm5vZGVWYWx1ZS5sZW5ndGggOiB0bylcbiAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgZnJvbSB8fCAwKVxuICByZXR1cm4gcmFuZ2Vcbn1cblxuLy8gU2NhbnMgZm9yd2FyZCBhbmQgYmFja3dhcmQgdGhyb3VnaCBET00gcG9zaXRpb25zIGVxdWl2YWxlbnQgdG8gdGhlXG4vLyBnaXZlbiBvbmUgdG8gc2VlIGlmIHRoZSB0d28gYXJlIGluIHRoZSBzYW1lIHBsYWNlIChpLmUuIGFmdGVyIGFcbi8vIHRleHQgbm9kZSB2cyBhdCB0aGUgZW5kIG9mIHRoYXQgdGV4dCBub2RlKVxuZXhwb3J0IGNvbnN0IGlzRXF1aXZhbGVudFBvc2l0aW9uID0gZnVuY3Rpb24obm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYpIHtcbiAgcmV0dXJuIHRhcmdldE5vZGUgJiYgKHNjYW5Gb3Iobm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYsIC0xKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbkZvcihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZiwgMSkpXG59XG5cbmNvbnN0IGF0b21FbGVtZW50cyA9IC9eKGltZ3xicnxpbnB1dHx0ZXh0YXJlYXxocikkL2lcblxuZnVuY3Rpb24gc2NhbkZvcihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZiwgZGlyKSB7XG4gIGZvciAoOzspIHtcbiAgICBpZiAobm9kZSA9PSB0YXJnZXROb2RlICYmIG9mZiA9PSB0YXJnZXRPZmYpIHJldHVybiB0cnVlXG4gICAgaWYgKG9mZiA9PSAoZGlyIDwgMCA/IDAgOiBub2RlU2l6ZShub2RlKSkpIHtcbiAgICAgIGxldCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGVcbiAgICAgIGlmIChwYXJlbnQubm9kZVR5cGUgIT0gMSB8fCBoYXNCbG9ja0Rlc2Mobm9kZSkgfHwgYXRvbUVsZW1lbnRzLnRlc3Qobm9kZS5ub2RlTmFtZSkgfHwgbm9kZS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIG9mZiA9IGRvbUluZGV4KG5vZGUpICsgKGRpciA8IDAgPyAwIDogMSlcbiAgICAgIG5vZGUgPSBwYXJlbnRcbiAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGROb2Rlc1tvZmYgKyAoZGlyIDwgMCA/IC0xIDogMCldXG4gICAgICBpZiAobm9kZS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKSByZXR1cm4gZmFsc2VcbiAgICAgIG9mZiA9IGRpciA8IDAgPyBub2RlU2l6ZShub2RlKSA6IDBcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub2RlU2l6ZShub2RlKSB7XG4gIHJldHVybiBub2RlLm5vZGVUeXBlID09IDMgPyBub2RlLm5vZGVWYWx1ZS5sZW5ndGggOiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc09uRWRnZShub2RlLCBvZmZzZXQsIHBhcmVudCkge1xuICBmb3IgKGxldCBhdFN0YXJ0ID0gb2Zmc2V0ID09IDAsIGF0RW5kID0gb2Zmc2V0ID09IG5vZGVTaXplKG5vZGUpOyBhdFN0YXJ0IHx8IGF0RW5kOykge1xuICAgIGlmIChub2RlID09IHBhcmVudCkgcmV0dXJuIHRydWVcbiAgICBsZXQgaW5kZXggPSBkb21JbmRleChub2RlKVxuICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGVcbiAgICBpZiAoIW5vZGUpIHJldHVybiBmYWxzZVxuICAgIGF0U3RhcnQgPSBhdFN0YXJ0ICYmIGluZGV4ID09IDBcbiAgICBhdEVuZCA9IGF0RW5kICYmIGluZGV4ID09IG5vZGVTaXplKG5vZGUpXG4gIH1cbn1cblxuZnVuY3Rpb24gaGFzQmxvY2tEZXNjKGRvbSkge1xuICBsZXQgZGVzY1xuICBmb3IgKGxldCBjdXIgPSBkb207IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUpIGlmIChkZXNjID0gY3VyLnBtVmlld0Rlc2MpIGJyZWFrXG4gIHJldHVybiBkZXNjICYmIGRlc2Mubm9kZSAmJiBkZXNjLm5vZGUuaXNCbG9jayAmJiAoZGVzYy5kb20gPT0gZG9tIHx8IGRlc2MuY29udGVudERPTSA9PSBkb20pXG59XG5cbi8vIFdvcmsgYXJvdW5kIENocm9tZSBpc3N1ZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc1MjNcbi8vIChpc0NvbGxhcHNlZCBpbmFwcHJvcHJpYXRlbHkgcmV0dXJucyB0cnVlIGluIHNoYWRvdyBkb20pXG5leHBvcnQgY29uc3Qgc2VsZWN0aW9uQ29sbGFwc2VkID0gZnVuY3Rpb24oZG9tU2VsKSB7XG4gIGxldCBjb2xsYXBzZWQgPSBkb21TZWwuaXNDb2xsYXBzZWRcbiAgaWYgKGNvbGxhcHNlZCAmJiBicm93c2VyLmNocm9tZSAmJiBkb21TZWwucmFuZ2VDb3VudCAmJiAhZG9tU2VsLmdldFJhbmdlQXQoMCkuY29sbGFwc2VkKVxuICAgIGNvbGxhcHNlZCA9IGZhbHNlXG4gIHJldHVybiBjb2xsYXBzZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtleUV2ZW50KGtleUNvZGUsIGtleSkge1xuICBsZXQgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpXG4gIGV2ZW50LmluaXRFdmVudChcImtleWRvd25cIiwgdHJ1ZSwgdHJ1ZSlcbiAgZXZlbnQua2V5Q29kZSA9IGtleUNvZGVcbiAgZXZlbnQua2V5ID0gZXZlbnQuY29kZSA9IGtleVxuICByZXR1cm4gZXZlbnRcbn1cbiIsImltcG9ydCB7bm9kZVNpemUsIHRleHRSYW5nZSwgcGFyZW50Tm9kZX0gZnJvbSBcIi4vZG9tXCJcbmltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXJcIlxuXG5mdW5jdGlvbiB3aW5kb3dSZWN0KHdpbikge1xuICByZXR1cm4ge2xlZnQ6IDAsIHJpZ2h0OiB3aW4uaW5uZXJXaWR0aCxcbiAgICAgICAgICB0b3A6IDAsIGJvdHRvbTogd2luLmlubmVySGVpZ2h0fVxufVxuXG5mdW5jdGlvbiBnZXRTaWRlKHZhbHVlLCBzaWRlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIiA/IHZhbHVlIDogdmFsdWVbc2lkZV1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFJlY3RJbnRvVmlldyh2aWV3LCByZWN0LCBzdGFydERPTSkge1xuICBsZXQgc2Nyb2xsVGhyZXNob2xkID0gdmlldy5zb21lUHJvcChcInNjcm9sbFRocmVzaG9sZFwiKSB8fCAwLCBzY3JvbGxNYXJnaW4gPSB2aWV3LnNvbWVQcm9wKFwic2Nyb2xsTWFyZ2luXCIpIHx8IDVcbiAgbGV0IGRvYyA9IHZpZXcuZG9tLm93bmVyRG9jdW1lbnQsIHdpbiA9IGRvYy5kZWZhdWx0Vmlld1xuICBmb3IgKGxldCBwYXJlbnQgPSBzdGFydERPTSB8fCB2aWV3LmRvbTs7IHBhcmVudCA9IHBhcmVudE5vZGUocGFyZW50KSkge1xuICAgIGlmICghcGFyZW50KSBicmVha1xuICAgIGlmIChwYXJlbnQubm9kZVR5cGUgIT0gMSkgY29udGludWVcbiAgICBsZXQgYXRUb3AgPSBwYXJlbnQgPT0gZG9jLmJvZHkgfHwgcGFyZW50Lm5vZGVUeXBlICE9IDFcbiAgICBsZXQgYm91bmRpbmcgPSBhdFRvcCA/IHdpbmRvd1JlY3Qod2luKSA6IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGxldCBtb3ZlWCA9IDAsIG1vdmVZID0gMFxuICAgIGlmIChyZWN0LnRvcCA8IGJvdW5kaW5nLnRvcCArIGdldFNpZGUoc2Nyb2xsVGhyZXNob2xkLCBcInRvcFwiKSlcbiAgICAgIG1vdmVZID0gLShib3VuZGluZy50b3AgLSByZWN0LnRvcCArIGdldFNpZGUoc2Nyb2xsTWFyZ2luLCBcInRvcFwiKSlcbiAgICBlbHNlIGlmIChyZWN0LmJvdHRvbSA+IGJvdW5kaW5nLmJvdHRvbSAtIGdldFNpZGUoc2Nyb2xsVGhyZXNob2xkLCBcImJvdHRvbVwiKSlcbiAgICAgIG1vdmVZID0gcmVjdC5ib3R0b20gLSBib3VuZGluZy5ib3R0b20gKyBnZXRTaWRlKHNjcm9sbE1hcmdpbiwgXCJib3R0b21cIilcbiAgICBpZiAocmVjdC5sZWZ0IDwgYm91bmRpbmcubGVmdCArIGdldFNpZGUoc2Nyb2xsVGhyZXNob2xkLCBcImxlZnRcIikpXG4gICAgICBtb3ZlWCA9IC0oYm91bmRpbmcubGVmdCAtIHJlY3QubGVmdCArIGdldFNpZGUoc2Nyb2xsTWFyZ2luLCBcImxlZnRcIikpXG4gICAgZWxzZSBpZiAocmVjdC5yaWdodCA+IGJvdW5kaW5nLnJpZ2h0IC0gZ2V0U2lkZShzY3JvbGxUaHJlc2hvbGQsIFwicmlnaHRcIikpXG4gICAgICBtb3ZlWCA9IHJlY3QucmlnaHQgLSBib3VuZGluZy5yaWdodCArIGdldFNpZGUoc2Nyb2xsTWFyZ2luLCBcInJpZ2h0XCIpXG4gICAgaWYgKG1vdmVYIHx8IG1vdmVZKSB7XG4gICAgICBpZiAoYXRUb3ApIHtcbiAgICAgICAgd2luLnNjcm9sbEJ5KG1vdmVYLCBtb3ZlWSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChtb3ZlWSkgcGFyZW50LnNjcm9sbFRvcCArPSBtb3ZlWVxuICAgICAgICBpZiAobW92ZVgpIHBhcmVudC5zY3JvbGxMZWZ0ICs9IG1vdmVYXG4gICAgICAgIHJlY3QgPSB7bGVmdDogcmVjdC5sZWZ0IC0gbW92ZVgsIHRvcDogcmVjdC50b3AgLSBtb3ZlWSwgcmlnaHQ6IHJlY3QucmlnaHQgLSBtb3ZlWCwgYm90dG9tOiByZWN0LmJvdHRvbSAtIG1vdmVZfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXRUb3ApIGJyZWFrXG4gIH1cbn1cblxuLy8gU3RvcmUgdGhlIHNjcm9sbCBwb3NpdGlvbiBvZiB0aGUgZWRpdG9yJ3MgcGFyZW50IG5vZGVzLCBhbG9uZyB3aXRoXG4vLyB0aGUgdG9wIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgbmVhciB0aGUgdG9wIG9mIHRoZSBlZGl0b3IsIHdoaWNoXG4vLyB3aWxsIGJlIHVzZWQgdG8gbWFrZSBzdXJlIHRoZSB2aXNpYmxlIHZpZXdwb3J0IHJlbWFpbnMgc3RhYmxlIGV2ZW5cbi8vIHdoZW4gdGhlIHNpemUgb2YgdGhlIGNvbnRlbnQgYWJvdmUgY2hhbmdlcy5cbmV4cG9ydCBmdW5jdGlvbiBzdG9yZVNjcm9sbFBvcyh2aWV3KSB7XG4gIGxldCByZWN0ID0gdmlldy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHN0YXJ0WSA9IE1hdGgubWF4KDAsIHJlY3QudG9wKVxuICBsZXQgcmVmRE9NLCByZWZUb3BcbiAgZm9yIChsZXQgeCA9IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIsIHkgPSBzdGFydFkgKyAxO1xuICAgICAgIHkgPCBNYXRoLm1pbihpbm5lckhlaWdodCwgcmVjdC5ib3R0b20pOyB5ICs9IDUpIHtcbiAgICBsZXQgZG9tID0gdmlldy5yb290LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSlcbiAgICBpZiAoZG9tID09IHZpZXcuZG9tIHx8ICF2aWV3LmRvbS5jb250YWlucyhkb20pKSBjb250aW51ZVxuICAgIGxldCBsb2NhbFJlY3QgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBpZiAobG9jYWxSZWN0LnRvcCA+PSBzdGFydFkgLSAyMCkge1xuICAgICAgcmVmRE9NID0gZG9tXG4gICAgICByZWZUb3AgPSBsb2NhbFJlY3QudG9wXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuICByZXR1cm4ge3JlZkRPTSwgcmVmVG9wLCBzdGFjazogc2Nyb2xsU3RhY2sodmlldy5kb20pfVxufVxuXG5mdW5jdGlvbiBzY3JvbGxTdGFjayhkb20pIHtcbiAgbGV0IHN0YWNrID0gW10sIGRvYyA9IGRvbS5vd25lckRvY3VtZW50XG4gIGZvciAoOyBkb207IGRvbSA9IHBhcmVudE5vZGUoZG9tKSkge1xuICAgIHN0YWNrLnB1c2goe2RvbSwgdG9wOiBkb20uc2Nyb2xsVG9wLCBsZWZ0OiBkb20uc2Nyb2xsTGVmdH0pXG4gICAgaWYgKGRvbSA9PSBkb2MpIGJyZWFrXG4gIH1cbiAgcmV0dXJuIHN0YWNrXG59XG5cbi8vIFJlc2V0IHRoZSBzY3JvbGwgcG9zaXRpb24gb2YgdGhlIGVkaXRvcidzIHBhcmVudCBub2RlcyB0byB0aGF0IHdoYXRcbi8vIGl0IHdhcyBiZWZvcmUsIHdoZW4gc3RvcmVTY3JvbGxQb3Mgd2FzIGNhbGxlZC5cbmV4cG9ydCBmdW5jdGlvbiByZXNldFNjcm9sbFBvcyh7cmVmRE9NLCByZWZUb3AsIHN0YWNrfSkge1xuICBsZXQgbmV3UmVmVG9wID0gcmVmRE9NID8gcmVmRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCA6IDBcbiAgcmVzdG9yZVNjcm9sbFN0YWNrKHN0YWNrLCBuZXdSZWZUb3AgPT0gMCA/IDAgOiBuZXdSZWZUb3AgLSByZWZUb3ApXG59XG5cbmZ1bmN0aW9uIHJlc3RvcmVTY3JvbGxTdGFjayhzdGFjaywgZFRvcCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHtkb20sIHRvcCwgbGVmdH0gPSBzdGFja1tpXVxuICAgIGlmIChkb20uc2Nyb2xsVG9wICE9IHRvcCArIGRUb3ApIGRvbS5zY3JvbGxUb3AgPSB0b3AgKyBkVG9wXG4gICAgaWYgKGRvbS5zY3JvbGxMZWZ0ICE9IGxlZnQpIGRvbS5zY3JvbGxMZWZ0ID0gbGVmdFxuICB9XG59XG5cbmxldCBwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkID0gbnVsbFxuLy8gRmVhdHVyZS1kZXRlY3RzIHN1cHBvcnQgZm9yIC5mb2N1cyh7cHJldmVudFNjcm9sbDogdHJ1ZX0pLCBhbmQgdXNlc1xuLy8gYSBmYWxsYmFjayBrbHVkZ2Ugd2hlbiBub3Qgc3VwcG9ydGVkLlxuZXhwb3J0IGZ1bmN0aW9uIGZvY3VzUHJldmVudFNjcm9sbChkb20pIHtcbiAgaWYgKGRvbS5zZXRBY3RpdmUpIHJldHVybiBkb20uc2V0QWN0aXZlKCkgLy8gaW4gSUVcbiAgaWYgKHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQpIHJldHVybiBkb20uZm9jdXMocHJldmVudFNjcm9sbFN1cHBvcnRlZClcblxuICBsZXQgc3RvcmVkID0gc2Nyb2xsU3RhY2soZG9tKVxuICBkb20uZm9jdXMocHJldmVudFNjcm9sbFN1cHBvcnRlZCA9PSBudWxsID8ge1xuICAgIGdldCBwcmV2ZW50U2Nyb2xsKCkge1xuICAgICAgcHJldmVudFNjcm9sbFN1cHBvcnRlZCA9IHtwcmV2ZW50U2Nyb2xsOiB0cnVlfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH0gOiB1bmRlZmluZWQpXG4gIGlmICghcHJldmVudFNjcm9sbFN1cHBvcnRlZCkge1xuICAgIHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPSBmYWxzZVxuICAgIHJlc3RvcmVTY3JvbGxTdGFjayhzdG9yZWQsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZE9mZnNldEluTm9kZShub2RlLCBjb29yZHMpIHtcbiAgbGV0IGNsb3Nlc3QsIGR4Q2xvc2VzdCA9IDJlOCwgY29vcmRzQ2xvc2VzdCwgb2Zmc2V0ID0gMFxuICBsZXQgcm93Qm90ID0gY29vcmRzLnRvcCwgcm93VG9wID0gY29vcmRzLnRvcFxuICBmb3IgKGxldCBjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZCwgY2hpbGRJbmRleCA9IDA7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nLCBjaGlsZEluZGV4KyspIHtcbiAgICBsZXQgcmVjdHNcbiAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMSkgcmVjdHMgPSBjaGlsZC5nZXRDbGllbnRSZWN0cygpXG4gICAgZWxzZSBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMykgcmVjdHMgPSB0ZXh0UmFuZ2UoY2hpbGQpLmdldENsaWVudFJlY3RzKClcbiAgICBlbHNlIGNvbnRpbnVlXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcmVjdCA9IHJlY3RzW2ldXG4gICAgICBpZiAocmVjdC50b3AgPD0gcm93Qm90ICYmIHJlY3QuYm90dG9tID49IHJvd1RvcCkge1xuICAgICAgICByb3dCb3QgPSBNYXRoLm1heChyZWN0LmJvdHRvbSwgcm93Qm90KVxuICAgICAgICByb3dUb3AgPSBNYXRoLm1pbihyZWN0LnRvcCwgcm93VG9wKVxuICAgICAgICBsZXQgZHggPSByZWN0LmxlZnQgPiBjb29yZHMubGVmdCA/IHJlY3QubGVmdCAtIGNvb3Jkcy5sZWZ0XG4gICAgICAgICAgICA6IHJlY3QucmlnaHQgPCBjb29yZHMubGVmdCA/IGNvb3Jkcy5sZWZ0IC0gcmVjdC5yaWdodCA6IDBcbiAgICAgICAgaWYgKGR4IDwgZHhDbG9zZXN0KSB7XG4gICAgICAgICAgY2xvc2VzdCA9IGNoaWxkXG4gICAgICAgICAgZHhDbG9zZXN0ID0gZHhcbiAgICAgICAgICBjb29yZHNDbG9zZXN0ID0gZHggJiYgY2xvc2VzdC5ub2RlVHlwZSA9PSAzID8ge2xlZnQ6IHJlY3QucmlnaHQgPCBjb29yZHMubGVmdCA/IHJlY3QucmlnaHQgOiByZWN0LmxlZnQsIHRvcDogY29vcmRzLnRvcH0gOiBjb29yZHNcbiAgICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMSAmJiBkeClcbiAgICAgICAgICAgIG9mZnNldCA9IGNoaWxkSW5kZXggKyAoY29vcmRzLmxlZnQgPj0gKHJlY3QubGVmdCArIHJlY3QucmlnaHQpIC8gMiA/IDEgOiAwKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghY2xvc2VzdCAmJiAoY29vcmRzLmxlZnQgPj0gcmVjdC5yaWdodCAmJiBjb29yZHMudG9wID49IHJlY3QudG9wIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIGNvb3Jkcy5sZWZ0ID49IHJlY3QubGVmdCAmJiBjb29yZHMudG9wID49IHJlY3QuYm90dG9tKSlcbiAgICAgICAgb2Zmc2V0ID0gY2hpbGRJbmRleCArIDFcbiAgICB9XG4gIH1cbiAgaWYgKGNsb3Nlc3QgJiYgY2xvc2VzdC5ub2RlVHlwZSA9PSAzKSByZXR1cm4gZmluZE9mZnNldEluVGV4dChjbG9zZXN0LCBjb29yZHNDbG9zZXN0KVxuICBpZiAoIWNsb3Nlc3QgfHwgKGR4Q2xvc2VzdCAmJiBjbG9zZXN0Lm5vZGVUeXBlID09IDEpKSByZXR1cm4ge25vZGUsIG9mZnNldH1cbiAgcmV0dXJuIGZpbmRPZmZzZXRJbk5vZGUoY2xvc2VzdCwgY29vcmRzQ2xvc2VzdClcbn1cblxuZnVuY3Rpb24gZmluZE9mZnNldEluVGV4dChub2RlLCBjb29yZHMpIHtcbiAgbGV0IGxlbiA9IG5vZGUubm9kZVZhbHVlLmxlbmd0aFxuICBsZXQgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICByYW5nZS5zZXRFbmQobm9kZSwgaSArIDEpXG4gICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgaSlcbiAgICBsZXQgcmVjdCA9IHNpbmdsZVJlY3QocmFuZ2UsIDEpXG4gICAgaWYgKHJlY3QudG9wID09IHJlY3QuYm90dG9tKSBjb250aW51ZVxuICAgIGlmIChpblJlY3QoY29vcmRzLCByZWN0KSlcbiAgICAgIHJldHVybiB7bm9kZSwgb2Zmc2V0OiBpICsgKGNvb3Jkcy5sZWZ0ID49IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIgPyAxIDogMCl9XG4gIH1cbiAgcmV0dXJuIHtub2RlLCBvZmZzZXQ6IDB9XG59XG5cbmZ1bmN0aW9uIGluUmVjdChjb29yZHMsIHJlY3QpIHtcbiAgcmV0dXJuIGNvb3Jkcy5sZWZ0ID49IHJlY3QubGVmdCAtIDEgJiYgY29vcmRzLmxlZnQgPD0gcmVjdC5yaWdodCArIDEmJlxuICAgIGNvb3Jkcy50b3AgPj0gcmVjdC50b3AgLSAxICYmIGNvb3Jkcy50b3AgPD0gcmVjdC5ib3R0b20gKyAxXG59XG5cbmZ1bmN0aW9uIHRhcmdldEtsdWRnZShkb20sIGNvb3Jkcykge1xuICBsZXQgcGFyZW50ID0gZG9tLnBhcmVudE5vZGVcbiAgaWYgKHBhcmVudCAmJiAvXmxpJC9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSAmJiBjb29yZHMubGVmdCA8IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KVxuICAgIHJldHVybiBwYXJlbnRcbiAgcmV0dXJuIGRvbVxufVxuXG5mdW5jdGlvbiBwb3NGcm9tRWxlbWVudCh2aWV3LCBlbHQsIGNvb3Jkcykge1xuICBsZXQge25vZGUsIG9mZnNldH0gPSBmaW5kT2Zmc2V0SW5Ob2RlKGVsdCwgY29vcmRzKSwgYmlhcyA9IC0xXG4gIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgIW5vZGUuZmlyc3RDaGlsZCkge1xuICAgIGxldCByZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGJpYXMgPSByZWN0LmxlZnQgIT0gcmVjdC5yaWdodCAmJiBjb29yZHMubGVmdCA+IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIgPyAxIDogLTFcbiAgfVxuICByZXR1cm4gdmlldy5kb2NWaWV3LnBvc0Zyb21ET00obm9kZSwgb2Zmc2V0LCBiaWFzKVxufVxuXG5mdW5jdGlvbiBwb3NGcm9tQ2FyZXQodmlldywgbm9kZSwgb2Zmc2V0LCBjb29yZHMpIHtcbiAgLy8gQnJvd3NlciAoaW4gY2FyZXRQb3NpdGlvbi9SYW5nZUZyb21Qb2ludCkgd2lsbCBhZ3Jlc3NpdmVseVxuICAvLyBub3JtYWxpemUgdG93YXJkcyBuZWFyYnkgaW5saW5lIG5vZGVzLiBTaW5jZSB3ZSBhcmUgaW50ZXJlc3RlZCBpblxuICAvLyBwb3NpdGlvbnMgYmV0d2VlbiBibG9jayBub2RlcyB0b28sIHdlIGZpcnN0IHdhbGsgdXAgdGhlIGhpZXJhcmNoeVxuICAvLyBvZiBub2RlcyB0byBzZWUgaWYgdGhlcmUgYXJlIGJsb2NrIG5vZGVzIHRoYXQgdGhlIGNvb3JkaW5hdGVzXG4gIC8vIGZhbGwgb3V0c2lkZSBvZi4gSWYgc28sIHdlIHRha2UgdGhlIHBvc2l0aW9uIGJlZm9yZS9hZnRlciB0aGF0XG4gIC8vIGJsb2NrLiBJZiBub3QsIHdlIGNhbGwgYHBvc0Zyb21ET01gIG9uIHRoZSByYXcgbm9kZS9vZmZzZXQuXG4gIGxldCBvdXRzaWRlID0gLTFcbiAgZm9yIChsZXQgY3VyID0gbm9kZTs7KSB7XG4gICAgaWYgKGN1ciA9PSB2aWV3LmRvbSkgYnJlYWtcbiAgICBsZXQgZGVzYyA9IHZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhjdXIsIHRydWUpXG4gICAgaWYgKCFkZXNjKSByZXR1cm4gbnVsbFxuICAgIGlmIChkZXNjLm5vZGUuaXNCbG9jayAmJiBkZXNjLnBhcmVudCkge1xuICAgICAgbGV0IHJlY3QgPSBkZXNjLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgaWYgKHJlY3QubGVmdCA+IGNvb3Jkcy5sZWZ0IHx8IHJlY3QudG9wID4gY29vcmRzLnRvcCkgb3V0c2lkZSA9IGRlc2MucG9zQmVmb3JlXG4gICAgICBlbHNlIGlmIChyZWN0LnJpZ2h0IDwgY29vcmRzLmxlZnQgfHwgcmVjdC5ib3R0b20gPCBjb29yZHMudG9wKSBvdXRzaWRlID0gZGVzYy5wb3NBZnRlclxuICAgICAgZWxzZSBicmVha1xuICAgIH1cbiAgICBjdXIgPSBkZXNjLmRvbS5wYXJlbnROb2RlXG4gIH1cbiAgcmV0dXJuIG91dHNpZGUgPiAtMSA/IG91dHNpZGUgOiB2aWV3LmRvY1ZpZXcucG9zRnJvbURPTShub2RlLCBvZmZzZXQpXG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRGcm9tUG9pbnQoZWxlbWVudCwgY29vcmRzLCBib3gpIHtcbiAgbGV0IGxlbiA9IGVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGhcbiAgaWYgKGxlbiAmJiBib3gudG9wIDwgYm94LmJvdHRvbSkge1xuICAgIGZvciAobGV0IHN0YXJ0SSA9IE1hdGgubWF4KDAsIE1hdGgubWluKGxlbiAtIDEsIE1hdGguZmxvb3IobGVuICogKGNvb3Jkcy50b3AgLSBib3gudG9wKSAvIChib3guYm90dG9tIC0gYm94LnRvcCkpIC0gMikpLCBpID0gc3RhcnRJOzspIHtcbiAgICAgIGxldCBjaGlsZCA9IGVsZW1lbnQuY2hpbGROb2Rlc1tpXVxuICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgbGV0IHJlY3RzID0gY2hpbGQuZ2V0Q2xpZW50UmVjdHMoKVxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJlY3RzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgbGV0IHJlY3QgPSByZWN0c1tqXVxuICAgICAgICAgIGlmIChpblJlY3QoY29vcmRzLCByZWN0KSkgcmV0dXJuIGVsZW1lbnRGcm9tUG9pbnQoY2hpbGQsIGNvb3JkcywgcmVjdClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKChpID0gKGkgKyAxKSAlIGxlbikgPT0gc3RhcnRJKSBicmVha1xuICAgIH1cbiAgfVxuICByZXR1cm4gZWxlbWVudFxufVxuXG4vLyBHaXZlbiBhbiB4LHkgcG9zaXRpb24gb24gdGhlIGVkaXRvciwgZ2V0IHRoZSBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQuXG5leHBvcnQgZnVuY3Rpb24gcG9zQXRDb29yZHModmlldywgY29vcmRzKSB7XG4gIGxldCByb290ID0gdmlldy5yb290LCBub2RlLCBvZmZzZXRcbiAgaWYgKHJvb3QuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCkge1xuICAgIHRyeSB7IC8vIEZpcmVmb3ggdGhyb3dzIGZvciB0aGlzIGNhbGwgaW4gaGFyZC10by1wcmVkaWN0IGNpcmN1bXN0YW5jZXMgKCM5OTQpXG4gICAgICBsZXQgcG9zID0gcm9vdC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KGNvb3Jkcy5sZWZ0LCBjb29yZHMudG9wKVxuICAgICAgaWYgKHBvcykgKHtvZmZzZXROb2RlOiBub2RlLCBvZmZzZXR9ID0gcG9zKVxuICAgIH0gY2F0Y2ggKF8pIHt9XG4gIH1cbiAgaWYgKCFub2RlICYmIHJvb3QuY2FyZXRSYW5nZUZyb21Qb2ludCkge1xuICAgIGxldCByYW5nZSA9IHJvb3QuY2FyZXRSYW5nZUZyb21Qb2ludChjb29yZHMubGVmdCwgY29vcmRzLnRvcClcbiAgICBpZiAocmFuZ2UpICh7c3RhcnRDb250YWluZXI6IG5vZGUsIHN0YXJ0T2Zmc2V0OiBvZmZzZXR9ID0gcmFuZ2UpXG4gIH1cblxuICBsZXQgZWx0ID0gcm9vdC5lbGVtZW50RnJvbVBvaW50KGNvb3Jkcy5sZWZ0LCBjb29yZHMudG9wICsgMSksIHBvc1xuICBpZiAoIWVsdCB8fCAhdmlldy5kb20uY29udGFpbnMoZWx0Lm5vZGVUeXBlICE9IDEgPyBlbHQucGFyZW50Tm9kZSA6IGVsdCkpIHtcbiAgICBsZXQgYm94ID0gdmlldy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBpZiAoIWluUmVjdChjb29yZHMsIGJveCkpIHJldHVybiBudWxsXG4gICAgZWx0ID0gZWxlbWVudEZyb21Qb2ludCh2aWV3LmRvbSwgY29vcmRzLCBib3gpXG4gICAgaWYgKCFlbHQpIHJldHVybiBudWxsXG4gIH1cbiAgZWx0ID0gdGFyZ2V0S2x1ZGdlKGVsdCwgY29vcmRzKVxuICBpZiAobm9kZSkge1xuICAgIGlmIChicm93c2VyLmdlY2tvICYmIG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgLy8gRmlyZWZveCB3aWxsIHNvbWV0aW1lcyByZXR1cm4gb2Zmc2V0cyBpbnRvIDxpbnB1dD4gbm9kZXMsIHdoaWNoXG4gICAgICAvLyBoYXZlIG5vIGFjdHVhbCBjaGlsZHJlbiwgZnJvbSBjYXJldFBvc2l0aW9uRnJvbVBvaW50ICgjOTUzKVxuICAgICAgb2Zmc2V0ID0gTWF0aC5taW4ob2Zmc2V0LCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKVxuICAgICAgLy8gSXQnbGwgYWxzbyBtb3ZlIHRoZSByZXR1cm5lZCBwb3NpdGlvbiBiZWZvcmUgaW1hZ2Ugbm9kZXMsXG4gICAgICAvLyBldmVuIGlmIHRob3NlIGFyZSBiZWhpbmQgaXQuXG4gICAgICBpZiAob2Zmc2V0IDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICBsZXQgbmV4dCA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdLCBib3hcbiAgICAgICAgaWYgKG5leHQubm9kZU5hbWUgPT0gXCJJTUdcIiAmJiAoYm94ID0gbmV4dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkucmlnaHQgPD0gY29vcmRzLmxlZnQgJiZcbiAgICAgICAgICAgIGJveC5ib3R0b20gPiBjb29yZHMudG9wKVxuICAgICAgICAgIG9mZnNldCsrXG4gICAgICB9XG4gICAgfVxuICAgIC8vIFN1c3BpY2lvdXNseSBzcGVjaWZpYyBrbHVkZ2UgdG8gd29yayBhcm91bmQgY2FyZXQqRnJvbVBvaW50XG4gICAgLy8gbmV2ZXIgcmV0dXJuaW5nIGEgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnRcbiAgICBpZiAobm9kZSA9PSB2aWV3LmRvbSAmJiBvZmZzZXQgPT0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCAtIDEgJiYgbm9kZS5sYXN0Q2hpbGQubm9kZVR5cGUgPT0gMSAmJlxuICAgICAgICBjb29yZHMudG9wID4gbm9kZS5sYXN0Q2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKVxuICAgICAgcG9zID0gdmlldy5zdGF0ZS5kb2MuY29udGVudC5zaXplXG4gICAgLy8gSWdub3JlIHBvc2l0aW9ucyBkaXJlY3RseSBhZnRlciBhIEJSLCBzaW5jZSBjYXJldCpGcm9tUG9pbnRcbiAgICAvLyAncm91bmQgdXAnIHBvc2l0aW9ucyB0aGF0IHdvdWxkIGJlIG1vcmUgYWNjdXJhdGVseSBwbGFjZWRcbiAgICAvLyBiZWZvcmUgdGhlIEJSIG5vZGUuXG4gICAgZWxzZSBpZiAob2Zmc2V0ID09IDAgfHwgbm9kZS5ub2RlVHlwZSAhPSAxIHx8IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXS5ub2RlTmFtZSAhPSBcIkJSXCIpXG4gICAgICBwb3MgPSBwb3NGcm9tQ2FyZXQodmlldywgbm9kZSwgb2Zmc2V0LCBjb29yZHMpXG4gIH1cbiAgaWYgKHBvcyA9PSBudWxsKSBwb3MgPSBwb3NGcm9tRWxlbWVudCh2aWV3LCBlbHQsIGNvb3JkcylcblxuICBsZXQgZGVzYyA9IHZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhlbHQsIHRydWUpXG4gIHJldHVybiB7cG9zLCBpbnNpZGU6IGRlc2MgPyBkZXNjLnBvc0F0U3RhcnQgLSBkZXNjLmJvcmRlciA6IC0xfVxufVxuXG5mdW5jdGlvbiBzaW5nbGVSZWN0KG9iamVjdCwgYmlhcykge1xuICBsZXQgcmVjdHMgPSBvYmplY3QuZ2V0Q2xpZW50UmVjdHMoKVxuICByZXR1cm4gIXJlY3RzLmxlbmd0aCA/IG9iamVjdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IHJlY3RzW2JpYXMgPCAwID8gMCA6IHJlY3RzLmxlbmd0aCAtIDFdXG59XG5cbi8vIDogKEVkaXRvclZpZXcsIG51bWJlcikg4oaSIHtsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyLCByaWdodDogbnVtYmVyLCBib3R0b206IG51bWJlcn1cbi8vIEdpdmVuIGEgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50IG1vZGVsLCBnZXQgYSBib3VuZGluZyBib3ggb2YgdGhlXG4vLyBjaGFyYWN0ZXIgYXQgdGhhdCBwb3NpdGlvbiwgcmVsYXRpdmUgdG8gdGhlIHdpbmRvdy5cbmV4cG9ydCBmdW5jdGlvbiBjb29yZHNBdFBvcyh2aWV3LCBwb3MpIHtcbiAgbGV0IHtub2RlLCBvZmZzZXR9ID0gdmlldy5kb2NWaWV3LmRvbUZyb21Qb3MocG9zKVxuXG4gIC8vIFRoZXNlIGJyb3dzZXJzIHN1cHBvcnQgcXVlcnlpbmcgZW1wdHkgdGV4dCByYW5nZXNcbiAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMyAmJiAoYnJvd3Nlci5jaHJvbWUgfHwgYnJvd3Nlci5nZWNrbykpIHtcbiAgICBsZXQgcmVjdCA9IHNpbmdsZVJlY3QodGV4dFJhbmdlKG5vZGUsIG9mZnNldCwgb2Zmc2V0KSwgMClcbiAgICAvLyBGaXJlZm94IHJldHVybnMgYmFkIHJlc3VsdHMgKHRoZSBwb3NpdGlvbiBiZWZvcmUgdGhlIHNwYWNlKVxuICAgIC8vIHdoZW4gcXVlcnlpbmcgYSBwb3NpdGlvbiBkaXJlY3RseSBhZnRlciBsaW5lLWJyb2tlblxuICAgIC8vIHdoaXRlc3BhY2UuIERldGVjdCB0aGlzIHNpdHVhdGlvbiBhbmQgYW5kIGtsdWRnZSBhcm91bmQgaXRcbiAgICBpZiAoYnJvd3Nlci5nZWNrbyAmJiBvZmZzZXQgJiYgL1xccy8udGVzdChub2RlLm5vZGVWYWx1ZVtvZmZzZXQgLSAxXSkgJiYgb2Zmc2V0IDwgbm9kZS5ub2RlVmFsdWUubGVuZ3RoKSB7XG4gICAgICBsZXQgcmVjdEJlZm9yZSA9IHNpbmdsZVJlY3QodGV4dFJhbmdlKG5vZGUsIG9mZnNldCAtIDEsIG9mZnNldCAtIDEpLCAtMSlcbiAgICAgIGlmIChNYXRoLmFicyhyZWN0QmVmb3JlLmxlZnQgLSByZWN0LmxlZnQpIDwgMSAmJiByZWN0QmVmb3JlLnRvcCA9PSByZWN0LnRvcCkge1xuICAgICAgICBsZXQgcmVjdEFmdGVyID0gc2luZ2xlUmVjdCh0ZXh0UmFuZ2Uobm9kZSwgb2Zmc2V0LCBvZmZzZXQgKyAxKSwgLTEpXG4gICAgICAgIHJldHVybiBmbGF0dGVuVihyZWN0QWZ0ZXIsIHJlY3RBZnRlci5sZWZ0IDwgcmVjdEJlZm9yZS5sZWZ0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVjdFxuICB9XG5cbiAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiAhdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShwb3MpLnBhcmVudC5pbmxpbmVDb250ZW50KSB7XG4gICAgLy8gUmV0dXJuIGEgaG9yaXpvbnRhbCBsaW5lIGluIGJsb2NrIGNvbnRleHRcbiAgICBsZXQgdG9wID0gdHJ1ZSwgcmVjdFxuICAgIGlmIChvZmZzZXQgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBsZXQgYWZ0ZXIgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XVxuICAgICAgaWYgKGFmdGVyLm5vZGVUeXBlID09IDEpIHJlY3QgPSBhZnRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIH1cbiAgICBpZiAoIXJlY3QgJiYgb2Zmc2V0KSB7XG4gICAgICBsZXQgYmVmb3JlID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdXG4gICAgICBpZiAoYmVmb3JlLm5vZGVUeXBlID09IDEpIHsgcmVjdCA9IGJlZm9yZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgdG9wID0gZmFsc2UgfVxuICAgIH1cbiAgICByZXR1cm4gZmxhdHRlbkgocmVjdCB8fCBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0b3ApXG4gIH1cblxuICAvLyBOb3QgRmlyZWZveC9DaHJvbWUsIG9yIG5vdCBpbiBhIHRleHQgbm9kZSwgc28gd2UgaGF2ZSB0byB1c2VcbiAgLy8gYWN0dWFsIGVsZW1lbnQvY2hhcmFjdGVyIHJlY3RhbmdsZXMgdG8gZ2V0IGEgc29sdXRpb24gKHRoaXMgcGFydFxuICAvLyBpcyBub3QgdmVyeSBiaWRpLXNhZmUpXG4gIC8vXG4gIC8vIFRyeSB0aGUgbGVmdCBzaWRlIGZpcnN0LCBmYWxsIGJhY2sgdG8gdGhlIHJpZ2h0IG9uZSBpZiB0aGF0XG4gIC8vIGRvZXNuJ3Qgd29yay5cbiAgZm9yIChsZXQgZGlyID0gLTE7IGRpciA8IDI7IGRpciArPSAyKSB7XG4gICAgaWYgKGRpciA8IDAgJiYgb2Zmc2V0KSB7XG4gICAgICBsZXQgcHJldiwgdGFyZ2V0ID0gbm9kZS5ub2RlVHlwZSA9PSAzID8gdGV4dFJhbmdlKG5vZGUsIG9mZnNldCAtIDEsIG9mZnNldClcbiAgICAgICAgICA6IChwcmV2ID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdKS5ub2RlVHlwZSA9PSAzID8gdGV4dFJhbmdlKHByZXYpXG4gICAgICAgICAgOiBwcmV2Lm5vZGVUeXBlID09IDEgJiYgcHJldi5ub2RlTmFtZSAhPSBcIkJSXCIgPyBwcmV2IDogbnVsbCAvLyBCUiBub2RlcyB0ZW5kIHRvIG9ubHkgcmV0dXJuIHRoZSByZWN0YW5nbGUgYmVmb3JlIHRoZW1cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgbGV0IHJlY3QgPSBzaW5nbGVSZWN0KHRhcmdldCwgMSlcbiAgICAgICAgaWYgKHJlY3QudG9wIDwgcmVjdC5ib3R0b20pIHJldHVybiBmbGF0dGVuVihyZWN0LCBmYWxzZSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpciA+IDAgJiYgb2Zmc2V0IDwgbm9kZVNpemUobm9kZSkpIHtcbiAgICAgIGxldCBuZXh0LCB0YXJnZXQgPSBub2RlLm5vZGVUeXBlID09IDMgPyB0ZXh0UmFuZ2Uobm9kZSwgb2Zmc2V0LCBvZmZzZXQgKyAxKVxuICAgICAgICAgIDogKG5leHQgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XSkubm9kZVR5cGUgPT0gMyA/IHRleHRSYW5nZShuZXh0KVxuICAgICAgICAgIDogbmV4dC5ub2RlVHlwZSA9PSAxID8gbmV4dCA6IG51bGxcbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgbGV0IHJlY3QgPSBzaW5nbGVSZWN0KHRhcmdldCwgLTEpXG4gICAgICAgIGlmIChyZWN0LnRvcCA8IHJlY3QuYm90dG9tKSByZXR1cm4gZmxhdHRlblYocmVjdCwgdHJ1ZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gQWxsIGVsc2UgZmFpbGVkLCBqdXN0IHRyeSB0byBnZXQgYSByZWN0YW5nbGUgZm9yIHRoZSB0YXJnZXQgbm9kZVxuICByZXR1cm4gZmxhdHRlblYoc2luZ2xlUmVjdChub2RlLm5vZGVUeXBlID09IDMgPyB0ZXh0UmFuZ2Uobm9kZSkgOiBub2RlLCAwKSwgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5WKHJlY3QsIGxlZnQpIHtcbiAgaWYgKHJlY3Qud2lkdGggPT0gMCkgcmV0dXJuIHJlY3RcbiAgbGV0IHggPSBsZWZ0ID8gcmVjdC5sZWZ0IDogcmVjdC5yaWdodFxuICByZXR1cm4ge3RvcDogcmVjdC50b3AsIGJvdHRvbTogcmVjdC5ib3R0b20sIGxlZnQ6IHgsIHJpZ2h0OiB4fVxufVxuXG5mdW5jdGlvbiBmbGF0dGVuSChyZWN0LCB0b3ApIHtcbiAgaWYgKHJlY3QuaGVpZ2h0ID09IDApIHJldHVybiByZWN0XG4gIGxldCB5ID0gdG9wID8gcmVjdC50b3AgOiByZWN0LmJvdHRvbVxuICByZXR1cm4ge3RvcDogeSwgYm90dG9tOiB5LCBsZWZ0OiByZWN0LmxlZnQsIHJpZ2h0OiByZWN0LnJpZ2h0fVxufVxuXG5mdW5jdGlvbiB3aXRoRmx1c2hlZFN0YXRlKHZpZXcsIHN0YXRlLCBmKSB7XG4gIGxldCB2aWV3U3RhdGUgPSB2aWV3LnN0YXRlLCBhY3RpdmUgPSB2aWV3LnJvb3QuYWN0aXZlRWxlbWVudFxuICBpZiAodmlld1N0YXRlICE9IHN0YXRlKSB2aWV3LnVwZGF0ZVN0YXRlKHN0YXRlKVxuICBpZiAoYWN0aXZlICE9IHZpZXcuZG9tKSB2aWV3LmZvY3VzKClcbiAgdHJ5IHtcbiAgICByZXR1cm4gZigpXG4gIH0gZmluYWxseSB7XG4gICAgaWYgKHZpZXdTdGF0ZSAhPSBzdGF0ZSkgdmlldy51cGRhdGVTdGF0ZSh2aWV3U3RhdGUpXG4gICAgaWYgKGFjdGl2ZSAhPSB2aWV3LmRvbSkgYWN0aXZlLmZvY3VzKClcbiAgfVxufVxuXG4vLyA6IChFZGl0b3JWaWV3LCBudW1iZXIsIG51bWJlcilcbi8vIFdoZXRoZXIgdmVydGljYWwgcG9zaXRpb24gbW90aW9uIGluIGEgZ2l2ZW4gZGlyZWN0aW9uXG4vLyBmcm9tIGEgcG9zaXRpb24gd291bGQgbGVhdmUgYSB0ZXh0IGJsb2NrLlxuZnVuY3Rpb24gZW5kT2ZUZXh0YmxvY2tWZXJ0aWNhbCh2aWV3LCBzdGF0ZSwgZGlyKSB7XG4gIGxldCBzZWwgPSBzdGF0ZS5zZWxlY3Rpb25cbiAgbGV0ICRwb3MgPSBkaXIgPT0gXCJ1cFwiID8gc2VsLiRhbmNob3IubWluKHNlbC4kaGVhZCkgOiBzZWwuJGFuY2hvci5tYXgoc2VsLiRoZWFkKVxuICByZXR1cm4gd2l0aEZsdXNoZWRTdGF0ZSh2aWV3LCBzdGF0ZSwgKCkgPT4ge1xuICAgIGxldCB7bm9kZTogZG9tfSA9IHZpZXcuZG9jVmlldy5kb21Gcm9tUG9zKCRwb3MucG9zKVxuICAgIGZvciAoOzspIHtcbiAgICAgIGxldCBuZWFyZXN0ID0gdmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGRvbSwgdHJ1ZSlcbiAgICAgIGlmICghbmVhcmVzdCkgYnJlYWtcbiAgICAgIGlmIChuZWFyZXN0Lm5vZGUuaXNCbG9jaykgeyBkb20gPSBuZWFyZXN0LmRvbTsgYnJlYWsgfVxuICAgICAgZG9tID0gbmVhcmVzdC5kb20ucGFyZW50Tm9kZVxuICAgIH1cbiAgICBsZXQgY29vcmRzID0gY29vcmRzQXRQb3ModmlldywgJHBvcy5wb3MpXG4gICAgZm9yIChsZXQgY2hpbGQgPSBkb20uZmlyc3RDaGlsZDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHtcbiAgICAgIGxldCBib3hlc1xuICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDEpIGJveGVzID0gY2hpbGQuZ2V0Q2xpZW50UmVjdHMoKVxuICAgICAgZWxzZSBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMykgYm94ZXMgPSB0ZXh0UmFuZ2UoY2hpbGQsIDAsIGNoaWxkLm5vZGVWYWx1ZS5sZW5ndGgpLmdldENsaWVudFJlY3RzKClcbiAgICAgIGVsc2UgY29udGludWVcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGJveCA9IGJveGVzW2ldXG4gICAgICAgIGlmIChib3guYm90dG9tID4gYm94LnRvcCAmJiAoZGlyID09IFwidXBcIiA/IGJveC5ib3R0b20gPCBjb29yZHMudG9wICsgMSA6IGJveC50b3AgPiBjb29yZHMuYm90dG9tIC0gMSkpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH0pXG59XG5cbmNvbnN0IG1heWJlUlRMID0gL1tcXHUwNTkwLVxcdTA4YWNdL1xuXG5mdW5jdGlvbiBlbmRPZlRleHRibG9ja0hvcml6b250YWwodmlldywgc3RhdGUsIGRpcikge1xuICBsZXQgeyRoZWFkfSA9IHN0YXRlLnNlbGVjdGlvblxuICBpZiAoISRoZWFkLnBhcmVudC5pc1RleHRibG9jaykgcmV0dXJuIGZhbHNlXG4gIGxldCBvZmZzZXQgPSAkaGVhZC5wYXJlbnRPZmZzZXQsIGF0U3RhcnQgPSAhb2Zmc2V0LCBhdEVuZCA9IG9mZnNldCA9PSAkaGVhZC5wYXJlbnQuY29udGVudC5zaXplXG4gIGxldCBzZWwgPSBnZXRTZWxlY3Rpb24oKVxuICAvLyBJZiB0aGUgdGV4dGJsb2NrIGlzIGFsbCBMVFIsIG9yIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydFxuICAvLyBTZWxlY3Rpb24ubW9kaWZ5IChFZGdlKSwgZmFsbCBiYWNrIHRvIGEgcHJpbWl0aXZlIGFwcHJvYWNoXG4gIGlmICghbWF5YmVSVEwudGVzdCgkaGVhZC5wYXJlbnQudGV4dENvbnRlbnQpIHx8ICFzZWwubW9kaWZ5KVxuICAgIHJldHVybiBkaXIgPT0gXCJsZWZ0XCIgfHwgZGlyID09IFwiYmFja3dhcmRcIiA/IGF0U3RhcnQgOiBhdEVuZFxuXG4gIHJldHVybiB3aXRoRmx1c2hlZFN0YXRlKHZpZXcsIHN0YXRlLCAoKSA9PiB7XG4gICAgLy8gVGhpcyBpcyBhIGh1Z2UgaGFjaywgYnV0IGFwcGVhcnMgdG8gYmUgdGhlIGJlc3Qgd2UgY2FuXG4gICAgLy8gY3VycmVudGx5IGRvOiB1c2UgYFNlbGVjdGlvbi5tb2RpZnlgIHRvIG1vdmUgdGhlIHNlbGVjdGlvbiBieVxuICAgIC8vIG9uZSBjaGFyYWN0ZXIsIGFuZCBzZWUgaWYgdGhhdCBtb3ZlcyB0aGUgY3Vyc29yIG91dCBvZiB0aGVcbiAgICAvLyB0ZXh0YmxvY2sgKG9yIGRvZXNuJ3QgbW92ZSBpdCBhdCBhbGwsIHdoZW4gYXQgdGhlIHN0YXJ0L2VuZCBvZlxuICAgIC8vIHRoZSBkb2N1bWVudCkuXG4gICAgbGV0IG9sZFJhbmdlID0gc2VsLmdldFJhbmdlQXQoMCksIG9sZE5vZGUgPSBzZWwuZm9jdXNOb2RlLCBvbGRPZmYgPSBzZWwuZm9jdXNPZmZzZXRcbiAgICBsZXQgb2xkQmlkaUxldmVsID0gc2VsLmNhcmV0QmlkaUxldmVsIC8vIE9ubHkgZm9yIEZpcmVmb3hcbiAgICBzZWwubW9kaWZ5KFwibW92ZVwiLCBkaXIsIFwiY2hhcmFjdGVyXCIpXG4gICAgbGV0IHBhcmVudERPTSA9ICRoZWFkLmRlcHRoID8gdmlldy5kb2NWaWV3LmRvbUFmdGVyUG9zKCRoZWFkLmJlZm9yZSgpKSA6IHZpZXcuZG9tXG4gICAgbGV0IHJlc3VsdCA9ICFwYXJlbnRET00uY29udGFpbnMoc2VsLmZvY3VzTm9kZS5ub2RlVHlwZSA9PSAxID8gc2VsLmZvY3VzTm9kZSA6IHNlbC5mb2N1c05vZGUucGFyZW50Tm9kZSkgfHxcbiAgICAgICAgKG9sZE5vZGUgPT0gc2VsLmZvY3VzTm9kZSAmJiBvbGRPZmYgPT0gc2VsLmZvY3VzT2Zmc2V0KVxuICAgIC8vIFJlc3RvcmUgdGhlIHByZXZpb3VzIHNlbGVjdGlvblxuICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKVxuICAgIHNlbC5hZGRSYW5nZShvbGRSYW5nZSlcbiAgICBpZiAob2xkQmlkaUxldmVsICE9IG51bGwpIHNlbC5jYXJldEJpZGlMZXZlbCA9IG9sZEJpZGlMZXZlbFxuICAgIHJldHVybiByZXN1bHRcbiAgfSlcbn1cblxubGV0IGNhY2hlZFN0YXRlID0gbnVsbCwgY2FjaGVkRGlyID0gbnVsbCwgY2FjaGVkUmVzdWx0ID0gZmFsc2VcbmV4cG9ydCBmdW5jdGlvbiBlbmRPZlRleHRibG9jayh2aWV3LCBzdGF0ZSwgZGlyKSB7XG4gIGlmIChjYWNoZWRTdGF0ZSA9PSBzdGF0ZSAmJiBjYWNoZWREaXIgPT0gZGlyKSByZXR1cm4gY2FjaGVkUmVzdWx0XG4gIGNhY2hlZFN0YXRlID0gc3RhdGU7IGNhY2hlZERpciA9IGRpclxuICByZXR1cm4gY2FjaGVkUmVzdWx0ID0gZGlyID09IFwidXBcIiB8fCBkaXIgPT0gXCJkb3duXCJcbiAgICA/IGVuZE9mVGV4dGJsb2NrVmVydGljYWwodmlldywgc3RhdGUsIGRpcilcbiAgICA6IGVuZE9mVGV4dGJsb2NrSG9yaXpvbnRhbCh2aWV3LCBzdGF0ZSwgZGlyKVxufVxuIiwiaW1wb3J0IHtET01TZXJpYWxpemVyLCBGcmFnbWVudCwgTWFya30gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCJcbmltcG9ydCB7VGV4dFNlbGVjdGlvbn0gZnJvbSBcInByb3NlbWlycm9yLXN0YXRlXCJcblxuaW1wb3J0IHtkb21JbmRleCwgaXNFcXVpdmFsZW50UG9zaXRpb24sIG5vZGVTaXplfSBmcm9tIFwiLi9kb21cIlxuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5cbi8vIE5vZGVWaWV3OjogaW50ZXJmYWNlXG4vL1xuLy8gQnkgZGVmYXVsdCwgZG9jdW1lbnQgbm9kZXMgYXJlIHJlbmRlcmVkIHVzaW5nIHRoZSByZXN1bHQgb2YgdGhlXG4vLyBbYHRvRE9NYF0oI21vZGVsLk5vZGVTcGVjLnRvRE9NKSBtZXRob2Qgb2YgdGhlaXIgc3BlYywgYW5kIG1hbmFnZWRcbi8vIGVudGlyZWx5IGJ5IHRoZSBlZGl0b3IuIEZvciBzb21lIHVzZSBjYXNlcywgc3VjaCBhcyBlbWJlZGRlZFxuLy8gbm9kZS1zcGVjaWZpYyBlZGl0aW5nIGludGVyZmFjZXMsIHlvdSB3YW50IG1vcmUgY29udHJvbCBvdmVyXG4vLyB0aGUgYmVoYXZpb3Igb2YgYSBub2RlJ3MgaW4tZWRpdG9yIHJlcHJlc2VudGF0aW9uLCBhbmQgbmVlZCB0b1xuLy8gW2RlZmluZV0oI3ZpZXcuRWRpdG9yUHJvcHMubm9kZVZpZXdzKSBhIGN1c3RvbSBub2RlIHZpZXcuXG4vL1xuLy8gT2JqZWN0cyByZXR1cm5lZCBhcyBub2RlIHZpZXdzIG11c3QgY29uZm9ybSB0byB0aGlzIGludGVyZmFjZS5cbi8vXG4vLyAgIGRvbTo6ID9kb20uTm9kZVxuLy8gICBUaGUgb3V0ZXIgRE9NIG5vZGUgdGhhdCByZXByZXNlbnRzIHRoZSBkb2N1bWVudCBub2RlLiBXaGVuIG5vdFxuLy8gICBnaXZlbiwgdGhlIGRlZmF1bHQgc3RyYXRlZ3kgaXMgdXNlZCB0byBjcmVhdGUgYSBET00gbm9kZS5cbi8vXG4vLyAgIGNvbnRlbnRET006OiA/ZG9tLk5vZGVcbi8vICAgVGhlIERPTSBub2RlIHRoYXQgc2hvdWxkIGhvbGQgdGhlIG5vZGUncyBjb250ZW50LiBPbmx5IG1lYW5pbmdmdWxcbi8vICAgaWYgdGhlIG5vZGUgdmlldyBhbHNvIGRlZmluZXMgYSBgZG9tYCBwcm9wZXJ0eSBhbmQgaWYgaXRzIG5vZGVcbi8vICAgdHlwZSBpcyBub3QgYSBsZWFmIG5vZGUgdHlwZS4gV2hlbiB0aGlzIGlzIHByZXNlbnQsIFByb3NlTWlycm9yXG4vLyAgIHdpbGwgdGFrZSBjYXJlIG9mIHJlbmRlcmluZyB0aGUgbm9kZSdzIGNoaWxkcmVuIGludG8gaXQuIFdoZW4gaXRcbi8vICAgaXMgbm90IHByZXNlbnQsIHRoZSBub2RlIHZpZXcgaXRzZWxmIGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmdcbi8vICAgKG9yIGRlY2lkaW5nIG5vdCB0byByZW5kZXIpIGl0cyBjaGlsZCBub2Rlcy5cbi8vXG4vLyAgIHVwZGF0ZTo6ID8obm9kZTogTm9kZSwgZGVjb3JhdGlvbnM6IFtEZWNvcmF0aW9uXSkg4oaSIGJvb2xcbi8vICAgV2hlbiBnaXZlbiwgdGhpcyB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB2aWV3IGlzIHVwZGF0aW5nIGl0c2VsZi5cbi8vICAgSXQgd2lsbCBiZSBnaXZlbiBhIG5vZGUgKHBvc3NpYmx5IG9mIGEgZGlmZmVyZW50IHR5cGUpLCBhbmQgYW5cbi8vICAgYXJyYXkgb2YgYWN0aXZlIGRlY29yYXRpb25zICh3aGljaCBhcmUgYXV0b21hdGljYWxseSBkcmF3biwgYW5kXG4vLyAgIHRoZSBub2RlIHZpZXcgbWF5IGlnbm9yZSBpZiBpdCBpc24ndCBpbnRlcmVzdGVkIGluIHRoZW0pLCBhbmRcbi8vICAgc2hvdWxkIHJldHVybiB0cnVlIGlmIGl0IHdhcyBhYmxlIHRvIHVwZGF0ZSB0byB0aGF0IG5vZGUsIGFuZFxuLy8gICBmYWxzZSBvdGhlcndpc2UuIElmIHRoZSBub2RlIHZpZXcgaGFzIGEgYGNvbnRlbnRET01gIHByb3BlcnR5IChvclxuLy8gICBubyBgZG9tYCBwcm9wZXJ0eSksIHVwZGF0aW5nIGl0cyBjaGlsZCBub2RlcyB3aWxsIGJlIGhhbmRsZWQgYnlcbi8vICAgUHJvc2VNaXJyb3IuXG4vL1xuLy8gICBzZWxlY3ROb2RlOjogPygpXG4vLyAgIENhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIHRoZSB3YXkgdGhlIG5vZGUncyBzZWxlY3RlZCBzdGF0dXMgKGFzIGFcbi8vICAgbm9kZSBzZWxlY3Rpb24pIGlzIGRpc3BsYXllZC5cbi8vXG4vLyAgIGRlc2VsZWN0Tm9kZTo6ID8oKVxuLy8gICBXaGVuIGRlZmluaW5nIGEgYHNlbGVjdE5vZGVgIG1ldGhvZCwgeW91IHNob3VsZCBhbHNvIHByb3ZpZGUgYVxuLy8gICBgZGVzZWxlY3ROb2RlYCBtZXRob2QgdG8gcmVtb3ZlIHRoZSBlZmZlY3QgYWdhaW4uXG4vL1xuLy8gICBzZXRTZWxlY3Rpb246OiA/KGFuY2hvcjogbnVtYmVyLCBoZWFkOiBudW1iZXIsIHJvb3Q6IGRvbS5Eb2N1bWVudClcbi8vICAgVGhpcyB3aWxsIGJlIGNhbGxlZCB0byBoYW5kbGUgc2V0dGluZyB0aGUgc2VsZWN0aW9uIGluc2lkZSB0aGVcbi8vICAgbm9kZS4gVGhlIGBhbmNob3JgIGFuZCBgaGVhZGAgcG9zaXRpb25zIGFyZSByZWxhdGl2ZSB0byB0aGUgc3RhcnRcbi8vICAgb2YgdGhlIG5vZGUuIEJ5IGRlZmF1bHQsIGEgRE9NIHNlbGVjdGlvbiB3aWxsIGJlIGNyZWF0ZWQgYmV0d2VlblxuLy8gICB0aGUgRE9NIHBvc2l0aW9ucyBjb3JyZXNwb25kaW5nIHRvIHRob3NlIHBvc2l0aW9ucywgYnV0IGlmIHlvdVxuLy8gICBvdmVycmlkZSBpdCB5b3UgY2FuIGRvIHNvbWV0aGluZyBlbHNlLlxuLy9cbi8vICAgc3RvcEV2ZW50OjogPyhldmVudDogZG9tLkV2ZW50KSDihpIgYm9vbFxuLy8gICBDYW4gYmUgdXNlZCB0byBwcmV2ZW50IHRoZSBlZGl0b3IgdmlldyBmcm9tIHRyeWluZyB0byBoYW5kbGUgc29tZVxuLy8gICBvciBhbGwgRE9NIGV2ZW50cyB0aGF0IGJ1YmJsZSB1cCBmcm9tIHRoZSBub2RlIHZpZXcuIEV2ZW50cyBmb3Jcbi8vICAgd2hpY2ggdGhpcyByZXR1cm5zIHRydWUgYXJlIG5vdCBoYW5kbGVkIGJ5IHRoZSBlZGl0b3IuXG4vL1xuLy8gICBpZ25vcmVNdXRhdGlvbjo6ID8oZG9tLk11dGF0aW9uUmVjb3JkKSDihpIgYm9vbFxuLy8gICBDYWxsZWQgd2hlbiBhIERPTVxuLy8gICBbbXV0YXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NdXRhdGlvbk9ic2VydmVyKVxuLy8gICBvciBhIHNlbGVjdGlvbiBjaGFuZ2UgaGFwcGVucyB3aXRoaW4gdGhlIHZpZXcuIFdoZW4gdGhlIGNoYW5nZSBpc1xuLy8gICBhIHNlbGVjdGlvbiBjaGFuZ2UsIHRoZSByZWNvcmQgd2lsbCBoYXZlIGEgYHR5cGVgIHByb3BlcnR5IG9mXG4vLyAgIGBcInNlbGVjdGlvblwiYCAod2hpY2ggZG9lc24ndCBvY2N1ciBmb3IgbmF0aXZlIG11dGF0aW9uIHJlY29yZHMpLlxuLy8gICBSZXR1cm4gZmFsc2UgaWYgdGhlIGVkaXRvciBzaG91bGQgcmUtcmVhZCB0aGUgc2VsZWN0aW9uIG9yXG4vLyAgIHJlLXBhcnNlIHRoZSByYW5nZSBhcm91bmQgdGhlIG11dGF0aW9uLCB0cnVlIGlmIGl0IGNhbiBzYWZlbHkgYmVcbi8vICAgaWdub3JlZC5cbi8vXG4vLyAgIGRlc3Ryb3k6OiA/KClcbi8vICAgQ2FsbGVkIHdoZW4gdGhlIG5vZGUgdmlldyBpcyByZW1vdmVkIGZyb20gdGhlIGVkaXRvciBvciB0aGUgd2hvbGVcbi8vICAgZWRpdG9yIGlzIGRlc3Ryb3llZC5cblxuLy8gVmlldyBkZXNjcmlwdGlvbnMgYXJlIGRhdGEgc3RydWN0dXJlcyB0aGF0IGRlc2NyaWJlIHRoZSBET00gdGhhdCBpc1xuLy8gdXNlZCB0byByZXByZXNlbnQgdGhlIGVkaXRvcidzIGNvbnRlbnQuIFRoZXkgYXJlIHVzZWQgZm9yOlxuLy9cbi8vIC0gSW5jcmVtZW50YWwgcmVkcmF3aW5nIHdoZW4gdGhlIGRvY3VtZW50IGNoYW5nZXNcbi8vXG4vLyAtIEZpZ3VyaW5nIG91dCB3aGF0IHBhcnQgb2YgdGhlIGRvY3VtZW50IGEgZ2l2ZW4gRE9NIHBvc2l0aW9uXG4vLyAgIGNvcnJlc3BvbmRzIHRvXG4vL1xuLy8gLSBXaXJpbmcgaW4gY3VzdG9tIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgZWRpdGluZyBpbnRlcmZhY2UgZm9yIGFcbi8vICAgZ2l2ZW4gbm9kZVxuLy9cbi8vIFRoZXkgZm9ybSBhIGRvdWJseS1saW5rZWQgbXV0YWJsZSB0cmVlLCBzdGFydGluZyBhdCBgdmlldy5kb2NWaWV3YC5cblxuY29uc3QgTk9UX0RJUlRZID0gMCwgQ0hJTERfRElSVFkgPSAxLCBDT05URU5UX0RJUlRZID0gMiwgTk9ERV9ESVJUWSA9IDNcblxuLy8gU3VwZXJjbGFzcyBmb3IgdGhlIHZhcmlvdXMga2luZHMgb2YgZGVzY3JpcHRpb25zLiBEZWZpbmVzIHRoZWlyXG4vLyBiYXNpYyBzdHJ1Y3R1cmUgYW5kIHNoYXJlZCBtZXRob2RzLlxuY2xhc3MgVmlld0Rlc2Mge1xuICAvLyA6ICg/Vmlld0Rlc2MsIFtWaWV3RGVzY10sIGRvbS5Ob2RlLCA/ZG9tLk5vZGUpXG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgY2hpbGRyZW4sIGRvbSwgY29udGVudERPTSkge1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50XG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuXG4gICAgdGhpcy5kb20gPSBkb21cbiAgICAvLyBBbiBleHBhbmRvIHByb3BlcnR5IG9uIHRoZSBET00gbm9kZSBwcm92aWRlcyBhIGxpbmsgYmFjayB0byBpdHNcbiAgICAvLyBkZXNjcmlwdGlvbi5cbiAgICBkb20ucG1WaWV3RGVzYyA9IHRoaXNcbiAgICAvLyBUaGlzIGlzIHRoZSBub2RlIHRoYXQgaG9sZHMgdGhlIGNoaWxkIHZpZXdzLiBJdCBtYXkgYmUgbnVsbCBmb3JcbiAgICAvLyBkZXNjcyB0aGF0IGRvbid0IGhhdmUgY2hpbGRyZW4uXG4gICAgdGhpcy5jb250ZW50RE9NID0gY29udGVudERPTVxuICAgIHRoaXMuZGlydHkgPSBOT1RfRElSVFlcbiAgfVxuXG4gIC8vIFVzZWQgdG8gY2hlY2sgd2hldGhlciBhIGdpdmVuIGRlc2NyaXB0aW9uIGNvcnJlc3BvbmRzIHRvIGFcbiAgLy8gd2lkZ2V0L21hcmsvbm9kZS5cbiAgbWF0Y2hlc1dpZGdldCgpIHsgcmV0dXJuIGZhbHNlIH1cbiAgbWF0Y2hlc01hcmsoKSB7IHJldHVybiBmYWxzZSB9XG4gIG1hdGNoZXNOb2RlKCkgeyByZXR1cm4gZmFsc2UgfVxuICBtYXRjaGVzSGFjaygpIHsgcmV0dXJuIGZhbHNlIH1cblxuICBnZXQgYmVmb3JlUG9zaXRpb24oKSB7IHJldHVybiBmYWxzZSB9XG5cbiAgLy8gOiAoKSDihpIgP1BhcnNlUnVsZVxuICAvLyBXaGVuIHBhcnNpbmcgaW4tZWRpdG9yIGNvbnRlbnQgKGluIGRvbWNoYW5nZS5qcyksIHdlIGFsbG93XG4gIC8vIGRlc2NyaXB0aW9ucyB0byBkZXRlcm1pbmUgdGhlIHBhcnNlIHJ1bGVzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG9cbiAgLy8gcGFyc2UgdGhlbS5cbiAgcGFyc2VSdWxlKCkgeyByZXR1cm4gbnVsbCB9XG5cbiAgLy8gOiAoZG9tLkV2ZW50KSDihpIgYm9vbFxuICAvLyBVc2VkIGJ5IHRoZSBlZGl0b3IncyBldmVudCBoYW5kbGVyIHRvIGlnbm9yZSBldmVudHMgdGhhdCBjb21lXG4gIC8vIGZyb20gY2VydGFpbiBkZXNjcy5cbiAgc3RvcEV2ZW50KCkgeyByZXR1cm4gZmFsc2UgfVxuXG4gIC8vIFRoZSBzaXplIG9mIHRoZSBjb250ZW50IHJlcHJlc2VudGVkIGJ5IHRoaXMgZGVzYy5cbiAgZ2V0IHNpemUoKSB7XG4gICAgbGV0IHNpemUgPSAwXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSBzaXplICs9IHRoaXMuY2hpbGRyZW5baV0uc2l6ZVxuICAgIHJldHVybiBzaXplXG4gIH1cblxuICAvLyBGb3IgYmxvY2sgbm9kZXMsIHRoaXMgcmVwcmVzZW50cyB0aGUgc3BhY2UgdGFrZW4gdXAgYnkgdGhlaXJcbiAgLy8gc3RhcnQvZW5kIHRva2Vucy5cbiAgZ2V0IGJvcmRlcigpIHsgcmV0dXJuIDAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5wYXJlbnQgPSBudWxsXG4gICAgaWYgKHRoaXMuZG9tLnBtVmlld0Rlc2MgPT0gdGhpcykgdGhpcy5kb20ucG1WaWV3RGVzYyA9IG51bGxcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICB0aGlzLmNoaWxkcmVuW2ldLmRlc3Ryb3koKVxuICB9XG5cbiAgcG9zQmVmb3JlQ2hpbGQoY2hpbGQpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gdGhpcy5wb3NBdFN0YXJ0OyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGN1ciA9IHRoaXMuY2hpbGRyZW5baV1cbiAgICAgIGlmIChjdXIgPT0gY2hpbGQpIHJldHVybiBwb3NcbiAgICAgIHBvcyArPSBjdXIuc2l6ZVxuICAgIH1cbiAgfVxuXG4gIGdldCBwb3NCZWZvcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50LnBvc0JlZm9yZUNoaWxkKHRoaXMpXG4gIH1cblxuICBnZXQgcG9zQXRTdGFydCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5wb3NCZWZvcmVDaGlsZCh0aGlzKSArIHRoaXMuYm9yZGVyIDogMFxuICB9XG5cbiAgZ2V0IHBvc0FmdGVyKCkge1xuICAgIHJldHVybiB0aGlzLnBvc0JlZm9yZSArIHRoaXMuc2l6ZVxuICB9XG5cbiAgZ2V0IHBvc0F0RW5kKCkge1xuICAgIHJldHVybiB0aGlzLnBvc0F0U3RhcnQgKyB0aGlzLnNpemUgLSAyICogdGhpcy5ib3JkZXJcbiAgfVxuXG4gIC8vIDogKGRvbS5Ob2RlLCBudW1iZXIsID9udW1iZXIpIOKGkiBudW1iZXJcbiAgbG9jYWxQb3NGcm9tRE9NKGRvbSwgb2Zmc2V0LCBiaWFzKSB7XG4gICAgLy8gSWYgdGhlIERPTSBwb3NpdGlvbiBpcyBpbiB0aGUgY29udGVudCwgdXNlIHRoZSBjaGlsZCBkZXNjIGFmdGVyXG4gICAgLy8gaXQgdG8gZmlndXJlIG91dCBhIHBvc2l0aW9uLlxuICAgIGlmICh0aGlzLmNvbnRlbnRET00gJiYgdGhpcy5jb250ZW50RE9NLmNvbnRhaW5zKGRvbS5ub2RlVHlwZSA9PSAxID8gZG9tIDogZG9tLnBhcmVudE5vZGUpKSB7XG4gICAgICBpZiAoYmlhcyA8IDApIHtcbiAgICAgICAgbGV0IGRvbUJlZm9yZSwgZGVzY1xuICAgICAgICBpZiAoZG9tID09IHRoaXMuY29udGVudERPTSkge1xuICAgICAgICAgIGRvbUJlZm9yZSA9IGRvbS5jaGlsZE5vZGVzW29mZnNldCAtIDFdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKGRvbS5wYXJlbnROb2RlICE9IHRoaXMuY29udGVudERPTSkgZG9tID0gZG9tLnBhcmVudE5vZGVcbiAgICAgICAgICBkb21CZWZvcmUgPSBkb20ucHJldmlvdXNTaWJsaW5nXG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGRvbUJlZm9yZSAmJiAhKChkZXNjID0gZG9tQmVmb3JlLnBtVmlld0Rlc2MpICYmIGRlc2MucGFyZW50ID09IHRoaXMpKSBkb21CZWZvcmUgPSBkb21CZWZvcmUucHJldmlvdXNTaWJsaW5nXG4gICAgICAgIHJldHVybiBkb21CZWZvcmUgPyB0aGlzLnBvc0JlZm9yZUNoaWxkKGRlc2MpICsgZGVzYy5zaXplIDogdGhpcy5wb3NBdFN0YXJ0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZG9tQWZ0ZXIsIGRlc2NcbiAgICAgICAgaWYgKGRvbSA9PSB0aGlzLmNvbnRlbnRET00pIHtcbiAgICAgICAgICBkb21BZnRlciA9IGRvbS5jaGlsZE5vZGVzW29mZnNldF1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aGlsZSAoZG9tLnBhcmVudE5vZGUgIT0gdGhpcy5jb250ZW50RE9NKSBkb20gPSBkb20ucGFyZW50Tm9kZVxuICAgICAgICAgIGRvbUFmdGVyID0gZG9tLm5leHRTaWJsaW5nXG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGRvbUFmdGVyICYmICEoKGRlc2MgPSBkb21BZnRlci5wbVZpZXdEZXNjKSAmJiBkZXNjLnBhcmVudCA9PSB0aGlzKSkgZG9tQWZ0ZXIgPSBkb21BZnRlci5uZXh0U2libGluZ1xuICAgICAgICByZXR1cm4gZG9tQWZ0ZXIgPyB0aGlzLnBvc0JlZm9yZUNoaWxkKGRlc2MpIDogdGhpcy5wb3NBdEVuZFxuICAgICAgfVxuICAgIH1cbiAgICAvLyBPdGhlcndpc2UsIHVzZSB2YXJpb3VzIGhldXJpc3RpY3MsIGZhbGxpbmcgYmFjayBvbiB0aGUgYmlhc1xuICAgIC8vIHBhcmFtZXRlciwgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gcmV0dXJuIHRoZSBwb3NpdGlvbiBhdCB0aGVcbiAgICAvLyBzdGFydCBvciBhdCB0aGUgZW5kIG9mIHRoaXMgdmlldyBkZXNjLlxuICAgIGxldCBhdEVuZFxuICAgIGlmICh0aGlzLmNvbnRlbnRET00gJiYgdGhpcy5jb250ZW50RE9NICE9IHRoaXMuZG9tICYmIHRoaXMuZG9tLmNvbnRhaW5zKHRoaXMuY29udGVudERPTSkpIHtcbiAgICAgIGF0RW5kID0gZG9tLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHRoaXMuY29udGVudERPTSkgJiAyXG4gICAgfSBlbHNlIGlmICh0aGlzLmRvbS5maXJzdENoaWxkKSB7XG4gICAgICBpZiAob2Zmc2V0ID09IDApIGZvciAobGV0IHNlYXJjaCA9IGRvbTs7IHNlYXJjaCA9IHNlYXJjaC5wYXJlbnROb2RlKSB7XG4gICAgICAgIGlmIChzZWFyY2ggPT0gdGhpcy5kb20pIHsgYXRFbmQgPSBmYWxzZTsgYnJlYWsgfVxuICAgICAgICBpZiAoc2VhcmNoLnBhcmVudE5vZGUuZmlyc3RDaGlsZCAhPSBzZWFyY2gpIGJyZWFrXG4gICAgICB9XG4gICAgICBpZiAoYXRFbmQgPT0gbnVsbCAmJiBvZmZzZXQgPT0gZG9tLmNoaWxkTm9kZXMubGVuZ3RoKSBmb3IgKGxldCBzZWFyY2ggPSBkb207OyBzZWFyY2ggPSBzZWFyY2gucGFyZW50Tm9kZSkge1xuICAgICAgICBpZiAoc2VhcmNoID09IHRoaXMuZG9tKSB7IGF0RW5kID0gdHJ1ZTsgYnJlYWsgfVxuICAgICAgICBpZiAoc2VhcmNoLnBhcmVudE5vZGUubGFzdENoaWxkICE9IHNlYXJjaCkgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChhdEVuZCA9PSBudWxsID8gYmlhcyA+IDAgOiBhdEVuZCkgPyB0aGlzLnBvc0F0RW5kIDogdGhpcy5wb3NBdFN0YXJ0XG4gIH1cblxuICAvLyBTY2FuIHVwIHRoZSBkb20gZmluZGluZyB0aGUgZmlyc3QgZGVzYyB0aGF0IGlzIGEgZGVzY2VuZGFudCBvZlxuICAvLyB0aGlzIG9uZS5cbiAgbmVhcmVzdERlc2MoZG9tLCBvbmx5Tm9kZXMpIHtcbiAgICBmb3IgKGxldCBmaXJzdCA9IHRydWUsIGN1ciA9IGRvbTsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSkge1xuICAgICAgbGV0IGRlc2MgPSB0aGlzLmdldERlc2MoY3VyKVxuICAgICAgaWYgKGRlc2MgJiYgKCFvbmx5Tm9kZXMgfHwgZGVzYy5ub2RlKSkge1xuICAgICAgICAvLyBJZiBkb20gaXMgb3V0c2lkZSBvZiB0aGlzIGRlc2MncyBub2RlRE9NLCBkb24ndCBjb3VudCBpdC5cbiAgICAgICAgaWYgKGZpcnN0ICYmIGRlc2Mubm9kZURPTSAmJiAhKGRlc2Mubm9kZURPTS5ub2RlVHlwZSA9PSAxID8gZGVzYy5ub2RlRE9NLmNvbnRhaW5zKGRvbSkgOiBkZXNjLm5vZGVET00gPT0gZG9tKSkgZmlyc3QgPSBmYWxzZVxuICAgICAgICBlbHNlIHJldHVybiBkZXNjXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0RGVzYyhkb20pIHtcbiAgICBsZXQgZGVzYyA9IGRvbS5wbVZpZXdEZXNjXG4gICAgZm9yIChsZXQgY3VyID0gZGVzYzsgY3VyOyBjdXIgPSBjdXIucGFyZW50KSBpZiAoY3VyID09IHRoaXMpIHJldHVybiBkZXNjXG4gIH1cblxuICBwb3NGcm9tRE9NKGRvbSwgb2Zmc2V0LCBiaWFzKSB7XG4gICAgZm9yIChsZXQgc2NhbiA9IGRvbTs7IHNjYW4gPSBzY2FuLnBhcmVudE5vZGUpIHtcbiAgICAgIGxldCBkZXNjID0gdGhpcy5nZXREZXNjKHNjYW4pXG4gICAgICBpZiAoZGVzYykgcmV0dXJuIGRlc2MubG9jYWxQb3NGcm9tRE9NKGRvbSwgb2Zmc2V0LCBiaWFzKVxuICAgIH1cbiAgfVxuXG4gIC8vIDogKG51bWJlcikg4oaSID9Ob2RlVmlld0Rlc2NcbiAgLy8gRmluZCB0aGUgZGVzYyBmb3IgdGhlIG5vZGUgYWZ0ZXIgdGhlIGdpdmVuIHBvcywgaWYgYW55LiAoV2hlbiBhXG4gIC8vIHBhcmVudCBub2RlIG92ZXJyb2RlIHJlbmRlcmluZywgdGhlcmUgbWlnaHQgbm90IGJlIG9uZS4pXG4gIGRlc2NBdChwb3MpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgb2Zmc2V0ID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIGVuZCA9IG9mZnNldCArIGNoaWxkLnNpemVcbiAgICAgIGlmIChvZmZzZXQgPT0gcG9zICYmIGVuZCAhPSBvZmZzZXQpIHtcbiAgICAgICAgd2hpbGUgKCFjaGlsZC5ib3JkZXIgJiYgY2hpbGQuY2hpbGRyZW4ubGVuZ3RoKSBjaGlsZCA9IGNoaWxkLmNoaWxkcmVuWzBdXG4gICAgICAgIHJldHVybiBjaGlsZFxuICAgICAgfVxuICAgICAgaWYgKHBvcyA8IGVuZCkgcmV0dXJuIGNoaWxkLmRlc2NBdChwb3MgLSBvZmZzZXQgLSBjaGlsZC5ib3JkZXIpXG4gICAgICBvZmZzZXQgPSBlbmRcbiAgICB9XG4gIH1cblxuICAvLyA6IChudW1iZXIpIOKGkiB7bm9kZTogZG9tLk5vZGUsIG9mZnNldDogbnVtYmVyfVxuICBkb21Gcm9tUG9zKHBvcykge1xuICAgIGlmICghdGhpcy5jb250ZW50RE9NKSByZXR1cm4ge25vZGU6IHRoaXMuZG9tLCBvZmZzZXQ6IDB9XG4gICAgZm9yIChsZXQgb2Zmc2V0ID0gMCwgaSA9IDA7OyBpKyspIHtcbiAgICAgIGlmIChvZmZzZXQgPT0gcG9zKSB7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGggJiYgKHRoaXMuY2hpbGRyZW5baV0uYmVmb3JlUG9zaXRpb24gfHwgdGhpcy5jaGlsZHJlbltpXS5kb20ucGFyZW50Tm9kZSAhPSB0aGlzLmNvbnRlbnRET00pKSBpKytcbiAgICAgICAgcmV0dXJuIHtub2RlOiB0aGlzLmNvbnRlbnRET00sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBpID09IHRoaXMuY2hpbGRyZW4ubGVuZ3RoID8gdGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoIDogZG9tSW5kZXgodGhpcy5jaGlsZHJlbltpXS5kb20pfVxuICAgICAgfVxuICAgICAgaWYgKGkgPT0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcG9zaXRpb24gXCIgKyBwb3MpXG4gICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5zaXplXG4gICAgICBpZiAocG9zIDwgZW5kKSByZXR1cm4gY2hpbGQuZG9tRnJvbVBvcyhwb3MgLSBvZmZzZXQgLSBjaGlsZC5ib3JkZXIpXG4gICAgICBvZmZzZXQgPSBlbmRcbiAgICB9XG4gIH1cblxuICAvLyBVc2VkIHRvIGZpbmQgYSBET00gcmFuZ2UgaW4gYSBzaW5nbGUgcGFyZW50IGZvciBhIGdpdmVuIGNoYW5nZWRcbiAgLy8gcmFuZ2UuXG4gIHBhcnNlUmFuZ2UoZnJvbSwgdG8sIGJhc2UgPSAwKSB7XG4gICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09IDApXG4gICAgICByZXR1cm4ge25vZGU6IHRoaXMuY29udGVudERPTSwgZnJvbSwgdG8sIGZyb21PZmZzZXQ6IDAsIHRvT2Zmc2V0OiB0aGlzLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGh9XG5cbiAgICBsZXQgZnJvbU9mZnNldCA9IC0xLCB0b09mZnNldCA9IC0xXG4gICAgZm9yIChsZXQgb2Zmc2V0ID0gYmFzZSwgaSA9IDA7OyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIGVuZCA9IG9mZnNldCArIGNoaWxkLnNpemVcbiAgICAgIGlmIChmcm9tT2Zmc2V0ID09IC0xICYmIGZyb20gPD0gZW5kKSB7XG4gICAgICAgIGxldCBjaGlsZEJhc2UgPSBvZmZzZXQgKyBjaGlsZC5ib3JkZXJcbiAgICAgICAgLy8gRklYTUUgbWF5YmUgZGVzY2VuZCBtYXJrIHZpZXdzIHRvIHBhcnNlIGEgbmFycm93ZXIgcmFuZ2U/XG4gICAgICAgIGlmIChmcm9tID49IGNoaWxkQmFzZSAmJiB0byA8PSBlbmQgLSBjaGlsZC5ib3JkZXIgJiYgY2hpbGQubm9kZSAmJlxuICAgICAgICAgICAgY2hpbGQuY29udGVudERPTSAmJiB0aGlzLmNvbnRlbnRET00uY29udGFpbnMoY2hpbGQuY29udGVudERPTSkpXG4gICAgICAgICAgcmV0dXJuIGNoaWxkLnBhcnNlUmFuZ2UoZnJvbSwgdG8sIGNoaWxkQmFzZSlcblxuICAgICAgICBmcm9tID0gb2Zmc2V0XG4gICAgICAgIGZvciAobGV0IGogPSBpOyBqID4gMDsgai0tKSB7XG4gICAgICAgICAgbGV0IHByZXYgPSB0aGlzLmNoaWxkcmVuW2ogLSAxXVxuICAgICAgICAgIGlmIChwcmV2LnNpemUgJiYgcHJldi5kb20ucGFyZW50Tm9kZSA9PSB0aGlzLmNvbnRlbnRET00gJiYgIXByZXYuZW1wdHlDaGlsZEF0KDEpKSB7XG4gICAgICAgICAgICBmcm9tT2Zmc2V0ID0gZG9tSW5kZXgocHJldi5kb20pICsgMVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnJvbSAtPSBwcmV2LnNpemVcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJvbU9mZnNldCA9PSAtMSkgZnJvbU9mZnNldCA9IDBcbiAgICAgIH1cbiAgICAgIGlmIChmcm9tT2Zmc2V0ID4gLTEgJiYgdG8gPD0gZW5kKSB7XG4gICAgICAgIHRvID0gZW5kXG4gICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMuY2hpbGRyZW5bal1cbiAgICAgICAgICBpZiAobmV4dC5zaXplICYmIG5leHQuZG9tLnBhcmVudE5vZGUgPT0gdGhpcy5jb250ZW50RE9NICYmICFuZXh0LmVtcHR5Q2hpbGRBdCgtMSkpIHtcbiAgICAgICAgICAgIHRvT2Zmc2V0ID0gZG9tSW5kZXgobmV4dC5kb20pXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICB0byArPSBuZXh0LnNpemVcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9PZmZzZXQgPT0gLTEpIHRvT2Zmc2V0ID0gdGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBvZmZzZXQgPSBlbmRcbiAgICB9XG4gICAgcmV0dXJuIHtub2RlOiB0aGlzLmNvbnRlbnRET00sIGZyb20sIHRvLCBmcm9tT2Zmc2V0LCB0b09mZnNldH1cbiAgfVxuXG4gIGVtcHR5Q2hpbGRBdChzaWRlKSB7XG4gICAgaWYgKHRoaXMuYm9yZGVyIHx8ICF0aGlzLmNvbnRlbnRET00gfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoKSByZXR1cm4gZmFsc2VcbiAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW3NpZGUgPCAwID8gMCA6IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV1cbiAgICByZXR1cm4gY2hpbGQuc2l6ZSA9PSAwIHx8IGNoaWxkLmVtcHR5Q2hpbGRBdChzaWRlKVxuICB9XG5cbiAgLy8gOiAobnVtYmVyKSDihpIgZG9tLk5vZGVcbiAgZG9tQWZ0ZXJQb3MocG9zKSB7XG4gICAgbGV0IHtub2RlLCBvZmZzZXR9ID0gdGhpcy5kb21Gcm9tUG9zKHBvcylcbiAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAxIHx8IG9mZnNldCA9PSBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKVxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJObyBub2RlIGFmdGVyIHBvcyBcIiArIHBvcylcbiAgICByZXR1cm4gbm9kZS5jaGlsZE5vZGVzW29mZnNldF1cbiAgfVxuXG4gIC8vIDogKG51bWJlciwgbnVtYmVyLCBkb20uRG9jdW1lbnQpXG4gIC8vIFZpZXcgZGVzY3MgYXJlIHJlc3BvbnNpYmxlIGZvciBzZXR0aW5nIGFueSBzZWxlY3Rpb24gdGhhdCBmYWxsc1xuICAvLyBlbnRpcmVseSBpbnNpZGUgb2YgdGhlbSwgc28gdGhhdCBjdXN0b20gaW1wbGVtZW50YXRpb25zIGNhbiBkb1xuICAvLyBjdXN0b20gdGhpbmdzIHdpdGggdGhlIHNlbGVjdGlvbi4gTm90ZSB0aGF0IHRoaXMgZmFsbHMgYXBhcnQgd2hlblxuICAvLyBhIHNlbGVjdGlvbiBzdGFydHMgaW4gc3VjaCBhIG5vZGUgYW5kIGVuZHMgaW4gYW5vdGhlciwgaW4gd2hpY2hcbiAgLy8gY2FzZSB3ZSBqdXN0IHVzZSB3aGF0ZXZlciBkb21Gcm9tUG9zIHByb2R1Y2VzIGFzIGEgYmVzdCBlZmZvcnQuXG4gIHNldFNlbGVjdGlvbihhbmNob3IsIGhlYWQsIHJvb3QsIGZvcmNlKSB7XG4gICAgLy8gSWYgdGhlIHNlbGVjdGlvbiBmYWxscyBlbnRpcmVseSBpbiBhIGNoaWxkLCBnaXZlIGl0IHRvIHRoYXQgY2hpbGRcbiAgICBsZXQgZnJvbSA9IE1hdGgubWluKGFuY2hvciwgaGVhZCksIHRvID0gTWF0aC5tYXgoYW5jaG9yLCBoZWFkKVxuICAgIGZvciAobGV0IGkgPSAwLCBvZmZzZXQgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gb2Zmc2V0ICsgY2hpbGQuc2l6ZVxuICAgICAgaWYgKGZyb20gPiBvZmZzZXQgJiYgdG8gPCBlbmQpXG4gICAgICAgIHJldHVybiBjaGlsZC5zZXRTZWxlY3Rpb24oYW5jaG9yIC0gb2Zmc2V0IC0gY2hpbGQuYm9yZGVyLCBoZWFkIC0gb2Zmc2V0IC0gY2hpbGQuYm9yZGVyLCByb290LCBmb3JjZSlcbiAgICAgIG9mZnNldCA9IGVuZFxuICAgIH1cblxuICAgIGxldCBhbmNob3JET00gPSB0aGlzLmRvbUZyb21Qb3MoYW5jaG9yKSwgaGVhZERPTSA9IHRoaXMuZG9tRnJvbVBvcyhoZWFkKVxuICAgIGxldCBkb21TZWwgPSByb290LmdldFNlbGVjdGlvbigpLCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKClcbiAgICBpZiAoIWZvcmNlICYmXG4gICAgICAgIGlzRXF1aXZhbGVudFBvc2l0aW9uKGFuY2hvckRPTS5ub2RlLCBhbmNob3JET00ub2Zmc2V0LCBkb21TZWwuYW5jaG9yTm9kZSwgZG9tU2VsLmFuY2hvck9mZnNldCkgJiZcbiAgICAgICAgaXNFcXVpdmFsZW50UG9zaXRpb24oaGVhZERPTS5ub2RlLCBoZWFkRE9NLm9mZnNldCwgZG9tU2VsLmZvY3VzTm9kZSwgZG9tU2VsLmZvY3VzT2Zmc2V0KSlcbiAgICAgIHJldHVyblxuXG4gICAgLy8gU2VsZWN0aW9uLmV4dGVuZCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4gJ2ludmVydGVkJyBzZWxlY3Rpb25cbiAgICAvLyAob25lIHdoZXJlIHRoZSBmb2N1cyBpcyBiZWZvcmUgdGhlIGFuY2hvciksIGJ1dCBub3QgYWxsXG4gICAgLy8gYnJvd3NlcnMgc3VwcG9ydCBpdCB5ZXQuXG4gICAgaWYgKGRvbVNlbC5leHRlbmQpIHtcbiAgICAgIHJhbmdlLnNldEVuZChhbmNob3JET00ubm9kZSwgYW5jaG9yRE9NLm9mZnNldClcbiAgICAgIHJhbmdlLmNvbGxhcHNlKGZhbHNlKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYW5jaG9yID4gaGVhZCkgeyBsZXQgdG1wID0gYW5jaG9yRE9NOyBhbmNob3JET00gPSBoZWFkRE9NOyBoZWFkRE9NID0gdG1wIH1cbiAgICAgIHJhbmdlLnNldEVuZChoZWFkRE9NLm5vZGUsIGhlYWRET00ub2Zmc2V0KVxuICAgICAgcmFuZ2Uuc2V0U3RhcnQoYW5jaG9yRE9NLm5vZGUsIGFuY2hvckRPTS5vZmZzZXQpXG4gICAgfVxuICAgIGRvbVNlbC5yZW1vdmVBbGxSYW5nZXMoKVxuICAgIGRvbVNlbC5hZGRSYW5nZShyYW5nZSlcbiAgICBpZiAoZG9tU2VsLmV4dGVuZClcbiAgICAgIGRvbVNlbC5leHRlbmQoaGVhZERPTS5ub2RlLCBoZWFkRE9NLm9mZnNldClcbiAgfVxuXG4gIC8vIDogKGRvbS5NdXRhdGlvblJlY29yZCkg4oaSIGJvb2xcbiAgaWdub3JlTXV0YXRpb24obXV0YXRpb24pIHtcbiAgICByZXR1cm4gIXRoaXMuY29udGVudERPTSAmJiBtdXRhdGlvbi50eXBlICE9IFwic2VsZWN0aW9uXCJcbiAgfVxuXG4gIGdldCBjb250ZW50TG9zdCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50RE9NICYmIHRoaXMuY29udGVudERPTSAhPSB0aGlzLmRvbSAmJiAhdGhpcy5kb20uY29udGFpbnModGhpcy5jb250ZW50RE9NKVxuICB9XG5cbiAgLy8gUmVtb3ZlIGEgc3VidHJlZSBvZiB0aGUgZWxlbWVudCB0cmVlIHRoYXQgaGFzIGJlZW4gdG91Y2hlZFxuICAvLyBieSBhIERPTSBjaGFuZ2UsIHNvIHRoYXQgdGhlIG5leHQgdXBkYXRlIHdpbGwgcmVkcmF3IGl0LlxuICBtYXJrRGlydHkoZnJvbSwgdG8pIHtcbiAgICBmb3IgKGxldCBvZmZzZXQgPSAwLCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIGVuZCA9IG9mZnNldCArIGNoaWxkLnNpemVcbiAgICAgIGlmIChvZmZzZXQgPT0gZW5kID8gZnJvbSA8PSBlbmQgJiYgdG8gPj0gb2Zmc2V0IDogZnJvbSA8IGVuZCAmJiB0byA+IG9mZnNldCkge1xuICAgICAgICBsZXQgc3RhcnRJbnNpZGUgPSBvZmZzZXQgKyBjaGlsZC5ib3JkZXIsIGVuZEluc2lkZSA9IGVuZCAtIGNoaWxkLmJvcmRlclxuICAgICAgICBpZiAoZnJvbSA+PSBzdGFydEluc2lkZSAmJiB0byA8PSBlbmRJbnNpZGUpIHtcbiAgICAgICAgICB0aGlzLmRpcnR5ID0gZnJvbSA9PSBvZmZzZXQgfHwgdG8gPT0gZW5kID8gQ09OVEVOVF9ESVJUWSA6IENISUxEX0RJUlRZXG4gICAgICAgICAgaWYgKGZyb20gPT0gc3RhcnRJbnNpZGUgJiYgdG8gPT0gZW5kSW5zaWRlICYmXG4gICAgICAgICAgICAgIChjaGlsZC5jb250ZW50TG9zdCB8fCBjaGlsZC5kb20ucGFyZW50Tm9kZSAhPSB0aGlzLmNvbnRlbnRET00pKSBjaGlsZC5kaXJ0eSA9IE5PREVfRElSVFlcbiAgICAgICAgICBlbHNlIGNoaWxkLm1hcmtEaXJ0eShmcm9tIC0gc3RhcnRJbnNpZGUsIHRvIC0gc3RhcnRJbnNpZGUpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hpbGQuZGlydHkgPSBOT0RFX0RJUlRZXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9mZnNldCA9IGVuZFxuICAgIH1cbiAgICB0aGlzLmRpcnR5ID0gQ09OVEVOVF9ESVJUWVxuICB9XG5cbiAgbWFya1BhcmVudHNEaXJ0eSgpIHtcbiAgICBsZXQgbGV2ZWwgPSAxXG4gICAgZm9yIChsZXQgbm9kZSA9IHRoaXMucGFyZW50OyBub2RlOyBub2RlID0gbm9kZS5wYXJlbnQpIHtcbiAgICAgIGxldCBkaXJ0eSA9IGxldmVsID09IDEgPyBDT05URU5UX0RJUlRZIDogQ0hJTERfRElSVFlcbiAgICAgIGlmIChub2RlLmRpcnR5IDwgZGlydHkpIG5vZGUuZGlydHkgPSBkaXJ0eVxuICAgIH1cbiAgfVxufVxuXG4vLyBSZXVzZWQgYXJyYXkgdG8gYXZvaWQgYWxsb2NhdGluZyBmcmVzaCBhcnJheXMgZm9yIHRoaW5ncyB0aGF0IHdpbGxcbi8vIHN0YXkgZW1wdHkgYW55d2F5LlxuY29uc3Qgbm90aGluZyA9IFtdXG5cbi8vIEEgd2lkZ2V0IGRlc2MgcmVwcmVzZW50cyBhIHdpZGdldCBkZWNvcmF0aW9uLCB3aGljaCBpcyBhIERPTSBub2RlXG4vLyBkcmF3biBiZXR3ZWVuIHRoZSBkb2N1bWVudCBub2Rlcy5cbmNsYXNzIFdpZGdldFZpZXdEZXNjIGV4dGVuZHMgVmlld0Rlc2Mge1xuICAvLyA6IChWaWV3RGVzYywgRGVjb3JhdGlvbilcbiAgY29uc3RydWN0b3IocGFyZW50LCB3aWRnZXQsIHZpZXcsIHBvcykge1xuICAgIGxldCBzZWxmLCBkb20gPSB3aWRnZXQudHlwZS50b0RPTVxuICAgIGlmICh0eXBlb2YgZG9tID09IFwiZnVuY3Rpb25cIikgZG9tID0gZG9tKHZpZXcsICgpID0+IHtcbiAgICAgIGlmICghc2VsZikgcmV0dXJuIHBvc1xuICAgICAgaWYgKHNlbGYucGFyZW50KSByZXR1cm4gc2VsZi5wYXJlbnQucG9zQmVmb3JlQ2hpbGQoc2VsZilcbiAgICB9KVxuICAgIGlmICghd2lkZ2V0LnR5cGUuc3BlYy5yYXcpIHtcbiAgICAgIGlmIChkb20ubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICBsZXQgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG4gICAgICAgIHdyYXAuYXBwZW5kQ2hpbGQoZG9tKVxuICAgICAgICBkb20gPSB3cmFwXG4gICAgICB9XG4gICAgICBkb20uY29udGVudEVkaXRhYmxlID0gZmFsc2VcbiAgICAgIGRvbS5jbGFzc0xpc3QuYWRkKFwiUHJvc2VNaXJyb3Itd2lkZ2V0XCIpXG4gICAgfVxuICAgIHN1cGVyKHBhcmVudCwgbm90aGluZywgZG9tLCBudWxsKVxuICAgIHRoaXMud2lkZ2V0ID0gd2lkZ2V0XG4gICAgc2VsZiA9IHRoaXNcbiAgfVxuXG4gIGdldCBiZWZvcmVQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy53aWRnZXQudHlwZS5zaWRlIDwgMFxuICB9XG5cbiAgbWF0Y2hlc1dpZGdldCh3aWRnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5kaXJ0eSA9PSBOT1RfRElSVFkgJiYgd2lkZ2V0LnR5cGUuZXEodGhpcy53aWRnZXQudHlwZSlcbiAgfVxuXG4gIHBhcnNlUnVsZSgpIHsgcmV0dXJuIHtpZ25vcmU6IHRydWV9IH1cblxuICBzdG9wRXZlbnQoZXZlbnQpIHtcbiAgICBsZXQgc3RvcCA9IHRoaXMud2lkZ2V0LnNwZWMuc3RvcEV2ZW50XG4gICAgcmV0dXJuIHN0b3AgPyBzdG9wKGV2ZW50KSA6IGZhbHNlXG4gIH1cblxuICBpZ25vcmVNdXRhdGlvbihtdXRhdGlvbikge1xuICAgIHJldHVybiBtdXRhdGlvbi50eXBlICE9IFwic2VsZWN0aW9uXCIgfHwgdGhpcy53aWRnZXQuc3BlYy5pZ25vcmVTZWxlY3Rpb25cbiAgfVxufVxuXG5jbGFzcyBDb21wb3NpdGlvblZpZXdEZXNjIGV4dGVuZHMgVmlld0Rlc2Mge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIGRvbSwgdGV4dERPTSwgdGV4dCkge1xuICAgIHN1cGVyKHBhcmVudCwgbm90aGluZywgZG9tLCBudWxsKVxuICAgIHRoaXMudGV4dERPTSA9IHRleHRET01cbiAgICB0aGlzLnRleHQgPSB0ZXh0XG4gIH1cblxuICBnZXQgc2l6ZSgpIHsgcmV0dXJuIHRoaXMudGV4dC5sZW5ndGggfVxuXG4gIGxvY2FsUG9zRnJvbURPTShkb20sIG9mZnNldCkge1xuICAgIGlmIChkb20gIT0gdGhpcy50ZXh0RE9NKSByZXR1cm4gdGhpcy5wb3NBdFN0YXJ0ICsgKG9mZnNldCA/IHRoaXMuc2l6ZSA6IDApXG4gICAgcmV0dXJuIHRoaXMucG9zQXRTdGFydCArIG9mZnNldFxuICB9XG5cbiAgZG9tRnJvbVBvcyhwb3MpIHtcbiAgICByZXR1cm4ge25vZGU6IHRoaXMudGV4dERPTSwgb2Zmc2V0OiBwb3N9XG4gIH1cblxuICBpZ25vcmVNdXRhdGlvbihtdXQpIHtcbiAgICByZXR1cm4gbXV0LnR5cGUgPT09ICdjaGFyYWN0ZXJEYXRhJyAmJiBtdXQudGFyZ2V0Lm5vZGVWYWx1ZSA9PSBtdXQub2xkVmFsdWVcbiAgIH1cbn1cblxuLy8gQSBtYXJrIGRlc2MgcmVwcmVzZW50cyBhIG1hcmsuIE1heSBoYXZlIG11bHRpcGxlIGNoaWxkcmVuLFxuLy8gZGVwZW5kaW5nIG9uIGhvdyB0aGUgbWFyayBpcyBzcGxpdC4gTm90ZSB0aGF0IG1hcmtzIGFyZSBkcmF3biB1c2luZ1xuLy8gYSBmaXhlZCBuZXN0aW5nIG9yZGVyLCBmb3Igc2ltcGxpY2l0eSBhbmQgcHJlZGljdGFiaWxpdHksIHNvIGluXG4vLyBzb21lIGNhc2VzIHRoZXkgd2lsbCBiZSBzcGxpdCBtb3JlIG9mdGVuIHRoYW4gd291bGQgYXBwZWFyXG4vLyBuZWNlc3NhcnkuXG5jbGFzcyBNYXJrVmlld0Rlc2MgZXh0ZW5kcyBWaWV3RGVzYyB7XG4gIC8vIDogKFZpZXdEZXNjLCBNYXJrLCBkb20uTm9kZSlcbiAgY29uc3RydWN0b3IocGFyZW50LCBtYXJrLCBkb20sIGNvbnRlbnRET00pIHtcbiAgICBzdXBlcihwYXJlbnQsIFtdLCBkb20sIGNvbnRlbnRET00pXG4gICAgdGhpcy5tYXJrID0gbWFya1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZShwYXJlbnQsIG1hcmssIGlubGluZSwgdmlldykge1xuICAgIGxldCBjdXN0b20gPSB2aWV3Lm5vZGVWaWV3c1ttYXJrLnR5cGUubmFtZV1cbiAgICBsZXQgc3BlYyA9IGN1c3RvbSAmJiBjdXN0b20obWFyaywgdmlldywgaW5saW5lKVxuICAgIGlmICghc3BlYyB8fCAhc3BlYy5kb20pXG4gICAgICBzcGVjID0gRE9NU2VyaWFsaXplci5yZW5kZXJTcGVjKGRvY3VtZW50LCBtYXJrLnR5cGUuc3BlYy50b0RPTShtYXJrLCBpbmxpbmUpKVxuICAgIHJldHVybiBuZXcgTWFya1ZpZXdEZXNjKHBhcmVudCwgbWFyaywgc3BlYy5kb20sIHNwZWMuY29udGVudERPTSB8fCBzcGVjLmRvbSlcbiAgfVxuXG4gIHBhcnNlUnVsZSgpIHsgcmV0dXJuIHttYXJrOiB0aGlzLm1hcmsudHlwZS5uYW1lLCBhdHRyczogdGhpcy5tYXJrLmF0dHJzLCBjb250ZW50RWxlbWVudDogdGhpcy5jb250ZW50RE9NfSB9XG5cbiAgbWF0Y2hlc01hcmsobWFyaykgeyByZXR1cm4gdGhpcy5kaXJ0eSAhPSBOT0RFX0RJUlRZICYmIHRoaXMubWFyay5lcShtYXJrKSB9XG5cbiAgbWFya0RpcnR5KGZyb20sIHRvKSB7XG4gICAgc3VwZXIubWFya0RpcnR5KGZyb20sIHRvKVxuICAgIC8vIE1vdmUgZGlydHkgaW5mbyB0byBuZWFyZXN0IG5vZGUgdmlld1xuICAgIGlmICh0aGlzLmRpcnR5ICE9IE5PVF9ESVJUWSkge1xuICAgICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50XG4gICAgICB3aGlsZSAoIXBhcmVudC5ub2RlKSBwYXJlbnQgPSBwYXJlbnQucGFyZW50XG4gICAgICBpZiAocGFyZW50LmRpcnR5IDwgdGhpcy5kaXJ0eSkgcGFyZW50LmRpcnR5ID0gdGhpcy5kaXJ0eVxuICAgICAgdGhpcy5kaXJ0eSA9IE5PVF9ESVJUWVxuICAgIH1cbiAgfVxuXG4gIHNsaWNlKGZyb20sIHRvLCB2aWV3KSB7XG4gICAgbGV0IGNvcHkgPSBNYXJrVmlld0Rlc2MuY3JlYXRlKHRoaXMucGFyZW50LCB0aGlzLm1hcmssIHRydWUsIHZpZXcpXG4gICAgbGV0IG5vZGVzID0gdGhpcy5jaGlsZHJlbiwgc2l6ZSA9IHRoaXMuc2l6ZVxuICAgIGlmICh0byA8IHNpemUpIG5vZGVzID0gcmVwbGFjZU5vZGVzKG5vZGVzLCB0bywgc2l6ZSwgdmlldylcbiAgICBpZiAoZnJvbSA+IDApIG5vZGVzID0gcmVwbGFjZU5vZGVzKG5vZGVzLCAwLCBmcm9tLCB2aWV3KVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIG5vZGVzW2ldLnBhcmVudCA9IGNvcHlcbiAgICBjb3B5LmNoaWxkcmVuID0gbm9kZXNcbiAgICByZXR1cm4gY29weVxuICB9XG59XG5cbi8vIE5vZGUgdmlldyBkZXNjcyBhcmUgdGhlIG1haW4sIG1vc3QgY29tbW9uIHR5cGUgb2YgdmlldyBkZXNjLCBhbmRcbi8vIGNvcnJlc3BvbmQgdG8gYW4gYWN0dWFsIG5vZGUgaW4gdGhlIGRvY3VtZW50LiBVbmxpa2UgbWFyayBkZXNjcyxcbi8vIHRoZXkgcG9wdWxhdGUgdGhlaXIgY2hpbGQgYXJyYXkgdGhlbXNlbHZlcy5cbmNsYXNzIE5vZGVWaWV3RGVzYyBleHRlbmRzIFZpZXdEZXNjIHtcbiAgLy8gOiAoP1ZpZXdEZXNjLCBOb2RlLCBbRGVjb3JhdGlvbl0sIERlY29yYXRpb25TZXQsIGRvbS5Ob2RlLCA/ZG9tLk5vZGUsIEVkaXRvclZpZXcpXG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgY29udGVudERPTSwgbm9kZURPTSwgdmlldywgcG9zKSB7XG4gICAgc3VwZXIocGFyZW50LCBub2RlLmlzTGVhZiA/IG5vdGhpbmcgOiBbXSwgZG9tLCBjb250ZW50RE9NKVxuICAgIHRoaXMubm9kZURPTSA9IG5vZGVET01cbiAgICB0aGlzLm5vZGUgPSBub2RlXG4gICAgdGhpcy5vdXRlckRlY28gPSBvdXRlckRlY29cbiAgICB0aGlzLmlubmVyRGVjbyA9IGlubmVyRGVjb1xuICAgIGlmIChjb250ZW50RE9NKSB0aGlzLnVwZGF0ZUNoaWxkcmVuKHZpZXcsIHBvcylcbiAgfVxuXG4gIC8vIEJ5IGRlZmF1bHQsIGEgbm9kZSBpcyByZW5kZXJlZCB1c2luZyB0aGUgYHRvRE9NYCBtZXRob2QgZnJvbSB0aGVcbiAgLy8gbm9kZSB0eXBlIHNwZWMuIEJ1dCBjbGllbnQgY29kZSBjYW4gdXNlIHRoZSBgbm9kZVZpZXdzYCBzcGVjIHRvXG4gIC8vIHN1cHBseSBhIGN1c3RvbSBub2RlIHZpZXcsIHdoaWNoIGNhbiBpbmZsdWVuY2UgdmFyaW91cyBhc3BlY3RzIG9mXG4gIC8vIHRoZSB3YXkgdGhlIG5vZGUgd29ya3MuXG4gIC8vXG4gIC8vIChVc2luZyBzdWJjbGFzc2luZyBmb3IgdGhpcyB3YXMgaW50ZW50aW9uYWxseSBkZWNpZGVkIGFnYWluc3QsXG4gIC8vIHNpbmNlIGl0J2QgcmVxdWlyZSBleHBvc2luZyBhIHdob2xlIHNsZXcgb2YgZmlubmlja3lcbiAgLy8gaW1wbGVtZW50YXRpb24gZGV0YWlscyB0byB0aGUgdXNlciBjb2RlIHRoYXQgdGhleSBwcm9iYWJseSB3aWxsXG4gIC8vIG5ldmVyIG5lZWQuKVxuICBzdGF0aWMgY3JlYXRlKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcsIHBvcykge1xuICAgIGxldCBjdXN0b20gPSB2aWV3Lm5vZGVWaWV3c1tub2RlLnR5cGUubmFtZV0sIGRlc2NPYmpcbiAgICBsZXQgc3BlYyA9IGN1c3RvbSAmJiBjdXN0b20obm9kZSwgdmlldywgKCkgPT4ge1xuICAgICAgLy8gKFRoaXMgaXMgYSBmdW5jdGlvbiB0aGF0IGFsbG93cyB0aGUgY3VzdG9tIHZpZXcgdG8gZmluZCBpdHNcbiAgICAgIC8vIG93biBwb3NpdGlvbilcbiAgICAgIGlmICghZGVzY09iaikgcmV0dXJuIHBvc1xuICAgICAgaWYgKGRlc2NPYmoucGFyZW50KSByZXR1cm4gZGVzY09iai5wYXJlbnQucG9zQmVmb3JlQ2hpbGQoZGVzY09iailcbiAgICB9LCBvdXRlckRlY28pXG5cbiAgICBsZXQgZG9tID0gc3BlYyAmJiBzcGVjLmRvbSwgY29udGVudERPTSA9IHNwZWMgJiYgc3BlYy5jb250ZW50RE9NXG4gICAgaWYgKG5vZGUuaXNUZXh0KSB7XG4gICAgICBpZiAoIWRvbSkgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobm9kZS50ZXh0KVxuICAgICAgZWxzZSBpZiAoZG9tLm5vZGVUeXBlICE9IDMpIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGV4dCBtdXN0IGJlIHJlbmRlcmVkIGFzIGEgRE9NIHRleHQgbm9kZVwiKVxuICAgIH0gZWxzZSBpZiAoIWRvbSkge1xuICAgICAgOyh7ZG9tLCBjb250ZW50RE9NfSA9IERPTVNlcmlhbGl6ZXIucmVuZGVyU3BlYyhkb2N1bWVudCwgbm9kZS50eXBlLnNwZWMudG9ET00obm9kZSkpKVxuICAgIH1cbiAgICBpZiAoIWNvbnRlbnRET00gJiYgIW5vZGUuaXNUZXh0ICYmIGRvbS5ub2RlTmFtZSAhPSBcIkJSXCIpIHsgLy8gQ2hyb21lIGdldHMgY29uZnVzZWQgYnkgPGJyIGNvbnRlbnRlZGl0YWJsZT1mYWxzZT5cbiAgICAgIGlmICghZG9tLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSkgZG9tLmNvbnRlbnRFZGl0YWJsZSA9IGZhbHNlXG4gICAgICBpZiAobm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlKSBkb20uZHJhZ2dhYmxlID0gdHJ1ZVxuICAgIH1cblxuICAgIGxldCBub2RlRE9NID0gZG9tXG4gICAgZG9tID0gYXBwbHlPdXRlckRlY28oZG9tLCBvdXRlckRlY28sIG5vZGUpXG5cbiAgICBpZiAoc3BlYylcbiAgICAgIHJldHVybiBkZXNjT2JqID0gbmV3IEN1c3RvbU5vZGVWaWV3RGVzYyhwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIGNvbnRlbnRET00sIG5vZGVET00sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlYywgdmlldywgcG9zICsgMSlcbiAgICBlbHNlIGlmIChub2RlLmlzVGV4dClcbiAgICAgIHJldHVybiBuZXcgVGV4dFZpZXdEZXNjKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgbm9kZURPTSwgdmlldylcbiAgICBlbHNlXG4gICAgICByZXR1cm4gbmV3IE5vZGVWaWV3RGVzYyhwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIGNvbnRlbnRET00sIG5vZGVET00sIHZpZXcsIHBvcyArIDEpXG4gIH1cblxuICBwYXJzZVJ1bGUoKSB7XG4gICAgLy8gRXhwZXJpbWVudGFsIGtsdWRnZSB0byBhbGxvdyBvcHQtaW4gcmUtcGFyc2luZyBvZiBub2Rlc1xuICAgIGlmICh0aGlzLm5vZGUudHlwZS5zcGVjLnJlcGFyc2VJblZpZXcpIHJldHVybiBudWxsXG4gICAgLy8gRklYTUUgdGhlIGFzc3VtcHRpb24gdGhhdCB0aGlzIGNhbiBhbHdheXMgcmV0dXJuIHRoZSBjdXJyZW50XG4gICAgLy8gYXR0cnMgbWVhbnMgdGhhdCBpZiB0aGUgdXNlciBzb21laG93IG1hbmFnZXMgdG8gY2hhbmdlIHRoZVxuICAgIC8vIGF0dHJzIGluIHRoZSBkb20sIHRoYXQgd29uJ3QgYmUgcGlja2VkIHVwLiBOb3QgZW50aXJlbHkgc3VyZVxuICAgIC8vIHdoZXRoZXIgdGhpcyBpcyBhIHByb2JsZW1cbiAgICBsZXQgcnVsZSA9IHtub2RlOiB0aGlzLm5vZGUudHlwZS5uYW1lLCBhdHRyczogdGhpcy5ub2RlLmF0dHJzfVxuICAgIGlmICh0aGlzLm5vZGUudHlwZS5zcGVjLmNvZGUpIHJ1bGUucHJlc2VydmVXaGl0ZXNwYWNlID0gXCJmdWxsXCJcbiAgICBpZiAodGhpcy5jb250ZW50RE9NICYmICF0aGlzLmNvbnRlbnRMb3N0KSBydWxlLmNvbnRlbnRFbGVtZW50ID0gdGhpcy5jb250ZW50RE9NXG4gICAgZWxzZSBydWxlLmdldENvbnRlbnQgPSAoKSA9PiB0aGlzLmNvbnRlbnRET00gPyBGcmFnbWVudC5lbXB0eSA6IHRoaXMubm9kZS5jb250ZW50XG4gICAgcmV0dXJuIHJ1bGVcbiAgfVxuXG4gIG1hdGNoZXNOb2RlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlydHkgPT0gTk9UX0RJUlRZICYmIG5vZGUuZXEodGhpcy5ub2RlKSAmJlxuICAgICAgc2FtZU91dGVyRGVjbyhvdXRlckRlY28sIHRoaXMub3V0ZXJEZWNvKSAmJiBpbm5lckRlY28uZXEodGhpcy5pbm5lckRlY28pXG4gIH1cblxuICBnZXQgc2l6ZSgpIHsgcmV0dXJuIHRoaXMubm9kZS5ub2RlU2l6ZSB9XG5cbiAgZ2V0IGJvcmRlcigpIHsgcmV0dXJuIHRoaXMubm9kZS5pc0xlYWYgPyAwIDogMSB9XG5cbiAgLy8gU3luY3MgYHRoaXMuY2hpbGRyZW5gIHRvIG1hdGNoIGB0aGlzLm5vZGUuY29udGVudGAgYW5kIHRoZSBsb2NhbFxuICAvLyBkZWNvcmF0aW9ucywgcG9zc2libHkgaW50cm9kdWNpbmcgbmVzdGluZyBmb3IgbWFya3MuIFRoZW4sIGluIGFcbiAgLy8gc2VwYXJhdGUgc3RlcCwgc3luY3MgdGhlIERPTSBpbnNpZGUgYHRoaXMuY29udGVudERPTWAgdG9cbiAgLy8gYHRoaXMuY2hpbGRyZW5gLlxuICB1cGRhdGVDaGlsZHJlbih2aWV3LCBwb3MpIHtcbiAgICBsZXQgaW5saW5lID0gdGhpcy5ub2RlLmlubGluZUNvbnRlbnQsIG9mZiA9IHBvc1xuICAgIGxldCBjb21wb3NpdGlvbiA9IGlubGluZSAmJiB2aWV3LmNvbXBvc2luZyAmJiB0aGlzLmxvY2FsQ29tcG9zaXRpb25Ob2RlKHZpZXcsIHBvcylcbiAgICBsZXQgdXBkYXRlciA9IG5ldyBWaWV3VHJlZVVwZGF0ZXIodGhpcywgY29tcG9zaXRpb24gJiYgY29tcG9zaXRpb24ubm9kZSlcbiAgICBpdGVyRGVjbyh0aGlzLm5vZGUsIHRoaXMuaW5uZXJEZWNvLCAod2lkZ2V0LCBpLCBpbnNpZGVOb2RlKSA9PiB7XG4gICAgICBpZiAod2lkZ2V0LnNwZWMubWFya3MpXG4gICAgICAgIHVwZGF0ZXIuc3luY1RvTWFya3Mod2lkZ2V0LnNwZWMubWFya3MsIGlubGluZSwgdmlldylcbiAgICAgIGVsc2UgaWYgKHdpZGdldC50eXBlLnNpZGUgPj0gMCAmJiAhaW5zaWRlTm9kZSlcbiAgICAgICAgdXBkYXRlci5zeW5jVG9NYXJrcyhpID09IHRoaXMubm9kZS5jaGlsZENvdW50ID8gTWFyay5ub25lIDogdGhpcy5ub2RlLmNoaWxkKGkpLm1hcmtzLCBpbmxpbmUsIHZpZXcpXG4gICAgICAvLyBJZiB0aGUgbmV4dCBub2RlIGlzIGEgZGVzYyBtYXRjaGluZyB0aGlzIHdpZGdldCwgcmV1c2UgaXQsXG4gICAgICAvLyBvdGhlcndpc2UgaW5zZXJ0IHRoZSB3aWRnZXQgYXMgYSBuZXcgdmlldyBkZXNjLlxuICAgICAgdXBkYXRlci5wbGFjZVdpZGdldCh3aWRnZXQsIHZpZXcsIG9mZilcbiAgICB9LCAoY2hpbGQsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBpKSA9PiB7XG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIHdyYXBwaW5nIG1hcmsgZGVzY3MgbWF0Y2ggdGhlIG5vZGUncyBtYXJrcy5cbiAgICAgIHVwZGF0ZXIuc3luY1RvTWFya3MoY2hpbGQubWFya3MsIGlubGluZSwgdmlldylcbiAgICAgIC8vIEVpdGhlciBmaW5kIGFuIGV4aXN0aW5nIGRlc2MgdGhhdCBleGFjdGx5IG1hdGNoZXMgdGhpcyBub2RlLFxuICAgICAgLy8gYW5kIGRyb3AgdGhlIGRlc2NzIGJlZm9yZSBpdC5cbiAgICAgIHVwZGF0ZXIuZmluZE5vZGVNYXRjaChjaGlsZCwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGkpIHx8XG4gICAgICAgIC8vIE9yIHRyeSB1cGRhdGluZyB0aGUgbmV4dCBkZXNjIHRvIHJlZmxlY3QgdGhpcyBub2RlLlxuICAgICAgICB1cGRhdGVyLnVwZGF0ZU5leHROb2RlKGNoaWxkLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldywgaSkgfHxcbiAgICAgICAgLy8gT3IganVzdCBhZGQgaXQgYXMgYSBuZXcgZGVzYy5cbiAgICAgICAgdXBkYXRlci5hZGROb2RlKGNoaWxkLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldywgb2ZmKVxuICAgICAgb2ZmICs9IGNoaWxkLm5vZGVTaXplXG4gICAgfSlcbiAgICAvLyBEcm9wIGFsbCByZW1haW5pbmcgZGVzY3MgYWZ0ZXIgdGhlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgdXBkYXRlci5zeW5jVG9NYXJrcyhub3RoaW5nLCBpbmxpbmUsIHZpZXcpXG4gICAgaWYgKHRoaXMubm9kZS5pc1RleHRibG9jaykgdXBkYXRlci5hZGRUZXh0YmxvY2tIYWNrcygpXG4gICAgdXBkYXRlci5kZXN0cm95UmVzdCgpXG5cbiAgICAvLyBTeW5jIHRoZSBET00gaWYgYW55dGhpbmcgY2hhbmdlZFxuICAgIGlmICh1cGRhdGVyLmNoYW5nZWQgfHwgdGhpcy5kaXJ0eSA9PSBDT05URU5UX0RJUlRZKSB7XG4gICAgICAvLyBNYXkgaGF2ZSB0byBwcm90ZWN0IGZvY3VzZWQgRE9NIGZyb20gYmVpbmcgY2hhbmdlZCBpZiBhIGNvbXBvc2l0aW9uIGlzIGFjdGl2ZVxuICAgICAgaWYgKGNvbXBvc2l0aW9uKSB0aGlzLnByb3RlY3RMb2NhbENvbXBvc2l0aW9uKHZpZXcsIGNvbXBvc2l0aW9uKVxuICAgICAgdGhpcy5yZW5kZXJDaGlsZHJlbigpXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyQ2hpbGRyZW4oKSB7XG4gICAgcmVuZGVyRGVzY3ModGhpcy5jb250ZW50RE9NLCB0aGlzLmNoaWxkcmVuLCBOb2RlVmlld0Rlc2MuaXMpXG4gICAgaWYgKGJyb3dzZXIuaW9zKSBpb3NIYWNrcyh0aGlzLmRvbSlcbiAgfVxuXG4gIGxvY2FsQ29tcG9zaXRpb25Ob2RlKHZpZXcsIHBvcykge1xuICAgIC8vIE9ubHkgZG8gc29tZXRoaW5nIGlmIGJvdGggdGhlIHNlbGVjdGlvbiBhbmQgYSBmb2N1c2VkIHRleHQgbm9kZVxuICAgIC8vIGFyZSBpbnNpZGUgb2YgdGhpcyBub2RlLCBhbmQgdGhlIG5vZGUgaXNuJ3QgYWxyZWFkeSBwYXJ0IG9mIGFcbiAgICAvLyB2aWV3IHRoYXQncyBhIGNoaWxkIG9mIHRoaXMgdmlld1xuICAgIGxldCB7ZnJvbSwgdG99ID0gdmlldy5zdGF0ZS5zZWxlY3Rpb25cbiAgICBpZiAoISh2aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24pIHx8IGZyb20gPCBwb3MgfHwgdG8gPiBwb3MgKyB0aGlzLm5vZGUuY29udGVudC5zaXplKSByZXR1cm5cbiAgICBsZXQgc2VsID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpXG4gICAgbGV0IHRleHROb2RlID0gbmVhcmJ5VGV4dE5vZGUoc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KVxuICAgIGlmICghdGV4dE5vZGUgfHwgIXRoaXMuZG9tLmNvbnRhaW5zKHRleHROb2RlLnBhcmVudE5vZGUpKSByZXR1cm5cblxuICAgIC8vIEZpbmQgdGhlIHRleHQgaW4gdGhlIGZvY3VzZWQgbm9kZSBpbiB0aGUgbm9kZSwgc3RvcCBpZiBpdCdzIG5vdFxuICAgIC8vIHRoZXJlIChtYXkgaGF2ZSBiZWVuIG1vZGlmaWVkIHRocm91Z2ggb3RoZXIgbWVhbnMsIGluIHdoaWNoXG4gICAgLy8gY2FzZSBpdCBzaG91bGQgb3ZlcndyaXR0ZW4pXG4gICAgbGV0IHRleHQgPSB0ZXh0Tm9kZS5ub2RlVmFsdWVcbiAgICBsZXQgdGV4dFBvcyA9IGZpbmRUZXh0SW5GcmFnbWVudCh0aGlzLm5vZGUuY29udGVudCwgdGV4dCwgZnJvbSAtIHBvcywgdG8gLSBwb3MpXG5cbiAgICByZXR1cm4gdGV4dFBvcyA8IDAgPyBudWxsIDoge25vZGU6IHRleHROb2RlLCBwb3M6IHRleHRQb3MsIHRleHR9XG4gIH1cblxuICBwcm90ZWN0TG9jYWxDb21wb3NpdGlvbih2aWV3LCB7bm9kZSwgcG9zLCB0ZXh0fSkge1xuICAgIC8vIFRoZSBub2RlIGlzIGFscmVhZHkgcGFydCBvZiBhIGxvY2FsIHZpZXcgZGVzYywgbGVhdmUgaXQgdGhlcmVcbiAgICBpZiAodGhpcy5nZXREZXNjKG5vZGUpKSByZXR1cm5cblxuICAgIC8vIENyZWF0ZSBhIGNvbXBvc2l0aW9uIHZpZXcgZm9yIHRoZSBvcnBoYW5lZCBub2Rlc1xuICAgIGxldCB0b3BOb2RlID0gbm9kZVxuICAgIGZvciAoOzsgdG9wTm9kZSA9IHRvcE5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgaWYgKHRvcE5vZGUucGFyZW50Tm9kZSA9PSB0aGlzLmNvbnRlbnRET00pIGJyZWFrXG4gICAgICB3aGlsZSAodG9wTm9kZS5wcmV2aW91c1NpYmxpbmcpIHRvcE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0b3BOb2RlLnByZXZpb3VzU2libGluZylcbiAgICAgIHdoaWxlICh0b3BOb2RlLm5leHRTaWJsaW5nKSB0b3BOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodG9wTm9kZS5uZXh0U2libGluZylcbiAgICAgIGlmICh0b3BOb2RlLnBtVmlld0Rlc2MpIHRvcE5vZGUucG1WaWV3RGVzYyA9IG51bGxcbiAgICB9XG4gICAgbGV0IGRlc2MgPSBuZXcgQ29tcG9zaXRpb25WaWV3RGVzYyh0aGlzLCB0b3BOb2RlLCBub2RlLCB0ZXh0KVxuICAgIHZpZXcuY29tcG9zaXRpb25Ob2Rlcy5wdXNoKGRlc2MpXG5cbiAgICAvLyBQYXRjaCB1cCB0aGlzLmNoaWxkcmVuIHRvIGNvbnRhaW4gdGhlIGNvbXBvc2l0aW9uIHZpZXdcbiAgICB0aGlzLmNoaWxkcmVuID0gcmVwbGFjZU5vZGVzKHRoaXMuY2hpbGRyZW4sIHBvcywgcG9zICsgdGV4dC5sZW5ndGgsIHZpZXcsIGRlc2MpXG4gIH1cblxuICAvLyA6IChOb2RlLCBbRGVjb3JhdGlvbl0sIERlY29yYXRpb25TZXQsIEVkaXRvclZpZXcpIOKGkiBib29sXG4gIC8vIElmIHRoaXMgZGVzYyBiZSB1cGRhdGVkIHRvIG1hdGNoIHRoZSBnaXZlbiBub2RlIGRlY29yYXRpb24sXG4gIC8vIGRvIHNvIGFuZCByZXR1cm4gdHJ1ZS5cbiAgdXBkYXRlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KSB7XG4gICAgaWYgKHRoaXMuZGlydHkgPT0gTk9ERV9ESVJUWSB8fFxuICAgICAgICAhbm9kZS5zYW1lTWFya3VwKHRoaXMubm9kZSkpIHJldHVybiBmYWxzZVxuICAgIHRoaXMudXBkYXRlSW5uZXIobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHVwZGF0ZUlubmVyKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KSB7XG4gICAgdGhpcy51cGRhdGVPdXRlckRlY28ob3V0ZXJEZWNvKVxuICAgIHRoaXMubm9kZSA9IG5vZGVcbiAgICB0aGlzLmlubmVyRGVjbyA9IGlubmVyRGVjb1xuICAgIGlmICh0aGlzLmNvbnRlbnRET00pIHRoaXMudXBkYXRlQ2hpbGRyZW4odmlldywgdGhpcy5wb3NBdFN0YXJ0KVxuICAgIHRoaXMuZGlydHkgPSBOT1RfRElSVFlcbiAgfVxuXG4gIHVwZGF0ZU91dGVyRGVjbyhvdXRlckRlY28pIHtcbiAgICBpZiAoc2FtZU91dGVyRGVjbyhvdXRlckRlY28sIHRoaXMub3V0ZXJEZWNvKSkgcmV0dXJuXG4gICAgbGV0IG5lZWRzV3JhcCA9IHRoaXMubm9kZURPTS5ub2RlVHlwZSAhPSAxXG4gICAgbGV0IG9sZERPTSA9IHRoaXMuZG9tXG4gICAgdGhpcy5kb20gPSBwYXRjaE91dGVyRGVjbyh0aGlzLmRvbSwgdGhpcy5ub2RlRE9NLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZU91dGVyRGVjbyh0aGlzLm91dGVyRGVjbywgdGhpcy5ub2RlLCBuZWVkc1dyYXApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZU91dGVyRGVjbyhvdXRlckRlY28sIHRoaXMubm9kZSwgbmVlZHNXcmFwKSlcbiAgICBpZiAodGhpcy5kb20gIT0gb2xkRE9NKSB7XG4gICAgICBvbGRET00ucG1WaWV3RGVzYyA9IG51bGxcbiAgICAgIHRoaXMuZG9tLnBtVmlld0Rlc2MgPSB0aGlzXG4gICAgfVxuICAgIHRoaXMub3V0ZXJEZWNvID0gb3V0ZXJEZWNvXG4gIH1cblxuICAvLyBNYXJrIHRoaXMgbm9kZSBhcyBiZWluZyB0aGUgc2VsZWN0ZWQgbm9kZS5cbiAgc2VsZWN0Tm9kZSgpIHtcbiAgICB0aGlzLm5vZGVET00uY2xhc3NMaXN0LmFkZChcIlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZVwiKVxuICAgIGlmICh0aGlzLmNvbnRlbnRET00gfHwgIXRoaXMubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlKSB0aGlzLmRvbS5kcmFnZ2FibGUgPSB0cnVlXG4gIH1cblxuICAvLyBSZW1vdmUgc2VsZWN0ZWQgbm9kZSBtYXJraW5nIGZyb20gdGhpcyBub2RlLlxuICBkZXNlbGVjdE5vZGUoKSB7XG4gICAgdGhpcy5ub2RlRE9NLmNsYXNzTGlzdC5yZW1vdmUoXCJQcm9zZU1pcnJvci1zZWxlY3RlZG5vZGVcIilcbiAgICBpZiAodGhpcy5jb250ZW50RE9NIHx8ICF0aGlzLm5vZGUudHlwZS5zcGVjLmRyYWdnYWJsZSkgdGhpcy5kb20uZHJhZ2dhYmxlID0gZmFsc2VcbiAgfVxufVxuXG4vLyBDcmVhdGUgYSB2aWV3IGRlc2MgZm9yIHRoZSB0b3AtbGV2ZWwgZG9jdW1lbnQgbm9kZSwgdG8gYmUgZXhwb3J0ZWRcbi8vIGFuZCB1c2VkIGJ5IHRoZSB2aWV3IGNsYXNzLlxuZXhwb3J0IGZ1bmN0aW9uIGRvY1ZpZXdEZXNjKGRvYywgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgdmlldykge1xuICBhcHBseU91dGVyRGVjbyhkb20sIG91dGVyRGVjbywgZG9jKVxuICByZXR1cm4gbmV3IE5vZGVWaWV3RGVzYyhudWxsLCBkb2MsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIGRvbSwgZG9tLCB2aWV3LCAwKVxufVxuXG5jbGFzcyBUZXh0Vmlld0Rlc2MgZXh0ZW5kcyBOb2RlVmlld0Rlc2Mge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIG5vZGVET00sIHZpZXcpIHtcbiAgICBzdXBlcihwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIG51bGwsIG5vZGVET00sIHZpZXcpXG4gIH1cblxuICBwYXJzZVJ1bGUoKSB7XG4gICAgcmV0dXJuIHtza2lwOiB0aGlzLm5vZGVET00ucGFyZW50Tm9kZSB8fCB0cnVlfVxuICB9XG5cbiAgdXBkYXRlKG5vZGUsIG91dGVyRGVjbykge1xuICAgIGlmICh0aGlzLmRpcnR5ID09IE5PREVfRElSVFkgfHwgKHRoaXMuZGlydHkgIT0gTk9UX0RJUlRZICYmICF0aGlzLmluUGFyZW50KCkpIHx8XG4gICAgICAgICFub2RlLnNhbWVNYXJrdXAodGhpcy5ub2RlKSkgcmV0dXJuIGZhbHNlXG4gICAgdGhpcy51cGRhdGVPdXRlckRlY28ob3V0ZXJEZWNvKVxuICAgIGlmICgodGhpcy5kaXJ0eSAhPSBOT1RfRElSVFkgfHwgbm9kZS50ZXh0ICE9IHRoaXMubm9kZS50ZXh0KSAmJiBub2RlLnRleHQgIT0gdGhpcy5ub2RlRE9NLm5vZGVWYWx1ZSlcbiAgICAgIHRoaXMubm9kZURPTS5ub2RlVmFsdWUgPSBub2RlLnRleHRcbiAgICB0aGlzLm5vZGUgPSBub2RlXG4gICAgdGhpcy5kaXJ0eSA9IE5PVF9ESVJUWVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBpblBhcmVudCgpIHtcbiAgICBsZXQgcGFyZW50RE9NID0gdGhpcy5wYXJlbnQuY29udGVudERPTVxuICAgIGZvciAobGV0IG4gPSB0aGlzLm5vZGVET007IG47IG4gPSBuLnBhcmVudE5vZGUpIGlmIChuID09IHBhcmVudERPTSkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGRvbUZyb21Qb3MocG9zKSB7XG4gICAgcmV0dXJuIHtub2RlOiB0aGlzLm5vZGVET00sIG9mZnNldDogcG9zfVxuICB9XG5cbiAgbG9jYWxQb3NGcm9tRE9NKGRvbSwgb2Zmc2V0LCBiaWFzKSB7XG4gICAgaWYgKGRvbSA9PSB0aGlzLm5vZGVET00pIHJldHVybiB0aGlzLnBvc0F0U3RhcnQgKyBNYXRoLm1pbihvZmZzZXQsIHRoaXMubm9kZS50ZXh0Lmxlbmd0aClcbiAgICByZXR1cm4gc3VwZXIubG9jYWxQb3NGcm9tRE9NKGRvbSwgb2Zmc2V0LCBiaWFzKVxuICB9XG5cbiAgaWdub3JlTXV0YXRpb24obXV0YXRpb24pIHtcbiAgICByZXR1cm4gbXV0YXRpb24udHlwZSAhPSBcImNoYXJhY3RlckRhdGFcIiAmJiBtdXRhdGlvbi50eXBlICE9IFwic2VsZWN0aW9uXCJcbiAgfVxuXG4gIHNsaWNlKGZyb20sIHRvLCB2aWV3KSB7XG4gICAgbGV0IG5vZGUgPSB0aGlzLm5vZGUuY3V0KGZyb20sIHRvKSwgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobm9kZS50ZXh0KVxuICAgIHJldHVybiBuZXcgVGV4dFZpZXdEZXNjKHRoaXMucGFyZW50LCBub2RlLCB0aGlzLm91dGVyRGVjbywgdGhpcy5pbm5lckRlY28sIGRvbSwgZG9tLCB2aWV3KVxuICB9XG59XG5cbi8vIEEgZHVtbXkgZGVzYyB1c2VkIHRvIHRhZyB0cmFpbGluZyBCUiBvciBzcGFuIG5vZGVzIGNyZWF0ZWQgdG8gd29ya1xuLy8gYXJvdW5kIGNvbnRlbnRFZGl0YWJsZSB0ZXJyaWJsZW5lc3MuXG5jbGFzcyBCUkhhY2tWaWV3RGVzYyBleHRlbmRzIFZpZXdEZXNjIHtcbiAgcGFyc2VSdWxlKCkgeyByZXR1cm4ge2lnbm9yZTogdHJ1ZX0gfVxuICBtYXRjaGVzSGFjaygpIHsgcmV0dXJuIHRoaXMuZGlydHkgPT0gTk9UX0RJUlRZIH1cbn1cblxuLy8gQSBzZXBhcmF0ZSBzdWJjbGFzcyBpcyB1c2VkIGZvciBjdXN0b21pemVkIG5vZGUgdmlld3MsIHNvIHRoYXQgdGhlXG4vLyBleHRyYSBjaGVja3Mgb25seSBoYXZlIHRvIGJlIG1hZGUgZm9yIG5vZGVzIHRoYXQgYXJlIGFjdHVhbGx5XG4vLyBjdXN0b21pemVkLlxuY2xhc3MgQ3VzdG9tTm9kZVZpZXdEZXNjIGV4dGVuZHMgTm9kZVZpZXdEZXNjIHtcbiAgLy8gOiAoP1ZpZXdEZXNjLCBOb2RlLCBbRGVjb3JhdGlvbl0sIERlY29yYXRpb25TZXQsIGRvbS5Ob2RlLCA/ZG9tLk5vZGUsIE5vZGVWaWV3LCBFZGl0b3JWaWV3KVxuICBjb25zdHJ1Y3RvcihwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIGNvbnRlbnRET00sIG5vZGVET00sIHNwZWMsIHZpZXcsIHBvcykge1xuICAgIHN1cGVyKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgY29udGVudERPTSwgbm9kZURPTSwgdmlldywgcG9zKVxuICAgIHRoaXMuc3BlYyA9IHNwZWNcbiAgfVxuXG4gIC8vIEEgY3VzdG9tIGB1cGRhdGVgIG1ldGhvZCBnZXRzIHRvIGRlY2lkZSB3aGV0aGVyIHRoZSB1cGRhdGUgZ29lc1xuICAvLyB0aHJvdWdoLiBJZiBpdCBkb2VzLCBhbmQgdGhlcmUncyBhIGBjb250ZW50RE9NYCBub2RlLCBvdXIgbG9naWNcbiAgLy8gdXBkYXRlcyB0aGUgY2hpbGRyZW4uXG4gIHVwZGF0ZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldykge1xuICAgIGlmICh0aGlzLmRpcnR5ID09IE5PREVfRElSVFkpIHJldHVybiBmYWxzZVxuICAgIGlmICh0aGlzLnNwZWMudXBkYXRlKSB7XG4gICAgICBsZXQgcmVzdWx0ID0gdGhpcy5zcGVjLnVwZGF0ZShub2RlLCBvdXRlckRlY28pXG4gICAgICBpZiAocmVzdWx0KSB0aGlzLnVwZGF0ZUlubmVyKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH0gZWxzZSBpZiAoIXRoaXMuY29udGVudERPTSAmJiAhbm9kZS5pc0xlYWYpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3VwZXIudXBkYXRlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KVxuICAgIH1cbiAgfVxuXG4gIHNlbGVjdE5vZGUoKSB7XG4gICAgdGhpcy5zcGVjLnNlbGVjdE5vZGUgPyB0aGlzLnNwZWMuc2VsZWN0Tm9kZSgpIDogc3VwZXIuc2VsZWN0Tm9kZSgpXG4gIH1cblxuICBkZXNlbGVjdE5vZGUoKSB7XG4gICAgdGhpcy5zcGVjLmRlc2VsZWN0Tm9kZSA/IHRoaXMuc3BlYy5kZXNlbGVjdE5vZGUoKSA6IHN1cGVyLmRlc2VsZWN0Tm9kZSgpXG4gIH1cblxuICBzZXRTZWxlY3Rpb24oYW5jaG9yLCBoZWFkLCByb290LCBmb3JjZSkge1xuICAgIHRoaXMuc3BlYy5zZXRTZWxlY3Rpb24gPyB0aGlzLnNwZWMuc2V0U2VsZWN0aW9uKGFuY2hvciwgaGVhZCwgcm9vdClcbiAgICAgIDogc3VwZXIuc2V0U2VsZWN0aW9uKGFuY2hvciwgaGVhZCwgcm9vdCwgZm9yY2UpXG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLnNwZWMuZGVzdHJveSkgdGhpcy5zcGVjLmRlc3Ryb3koKVxuICAgIHN1cGVyLmRlc3Ryb3koKVxuICB9XG5cbiAgc3RvcEV2ZW50KGV2ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuc3BlYy5zdG9wRXZlbnQgPyB0aGlzLnNwZWMuc3RvcEV2ZW50KGV2ZW50KSA6IGZhbHNlXG4gIH1cblxuICBpZ25vcmVNdXRhdGlvbihtdXRhdGlvbikge1xuICAgIHJldHVybiB0aGlzLnNwZWMuaWdub3JlTXV0YXRpb24gPyB0aGlzLnNwZWMuaWdub3JlTXV0YXRpb24obXV0YXRpb24pIDogc3VwZXIuaWdub3JlTXV0YXRpb24obXV0YXRpb24pXG4gIH1cbn1cblxuLy8gOiAoZG9tLk5vZGUsIFtWaWV3RGVzY10pXG4vLyBTeW5jIHRoZSBjb250ZW50IG9mIHRoZSBnaXZlbiBET00gbm9kZSB3aXRoIHRoZSBub2RlcyBhc3NvY2lhdGVkXG4vLyB3aXRoIHRoZSBnaXZlbiBhcnJheSBvZiB2aWV3IGRlc2NzLCByZWN1cnNpbmcgaW50byBtYXJrIGRlc2NzXG4vLyBiZWNhdXNlIHRoaXMgc2hvdWxkIHN5bmMgdGhlIHN1YnRyZWUgZm9yIGEgd2hvbGUgbm9kZSBhdCBhIHRpbWUuXG5mdW5jdGlvbiByZW5kZXJEZXNjcyhwYXJlbnRET00sIGRlc2NzKSB7XG4gIGxldCBkb20gPSBwYXJlbnRET00uZmlyc3RDaGlsZFxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRlc2NzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGRlc2MgPSBkZXNjc1tpXSwgY2hpbGRET00gPSBkZXNjLmRvbVxuICAgIGlmIChjaGlsZERPTS5wYXJlbnROb2RlID09IHBhcmVudERPTSkge1xuICAgICAgd2hpbGUgKGNoaWxkRE9NICE9IGRvbSkgZG9tID0gcm0oZG9tKVxuICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nXG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmVudERPTS5pbnNlcnRCZWZvcmUoY2hpbGRET00sIGRvbSlcbiAgICB9XG4gICAgaWYgKGRlc2MgaW5zdGFuY2VvZiBNYXJrVmlld0Rlc2MpIHtcbiAgICAgIGxldCBwb3MgPSBkb20gPyBkb20ucHJldmlvdXNTaWJsaW5nIDogcGFyZW50RE9NLmxhc3RDaGlsZFxuICAgICAgcmVuZGVyRGVzY3MoZGVzYy5jb250ZW50RE9NLCBkZXNjLmNoaWxkcmVuKVxuICAgICAgZG9tID0gcG9zID8gcG9zLm5leHRTaWJsaW5nIDogcGFyZW50RE9NLmZpcnN0Q2hpbGRcbiAgICB9XG4gIH1cbiAgd2hpbGUgKGRvbSkgZG9tID0gcm0oZG9tKVxufVxuXG5mdW5jdGlvbiBPdXRlckRlY29MZXZlbChub2RlTmFtZSkge1xuICBpZiAobm9kZU5hbWUpIHRoaXMubm9kZU5hbWUgPSBub2RlTmFtZVxufVxuT3V0ZXJEZWNvTGV2ZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG5jb25zdCBub0RlY28gPSBbbmV3IE91dGVyRGVjb0xldmVsXVxuXG5mdW5jdGlvbiBjb21wdXRlT3V0ZXJEZWNvKG91dGVyRGVjbywgbm9kZSwgbmVlZHNXcmFwKSB7XG4gIGlmIChvdXRlckRlY28ubGVuZ3RoID09IDApIHJldHVybiBub0RlY29cblxuICBsZXQgdG9wID0gbmVlZHNXcmFwID8gbm9EZWNvWzBdIDogbmV3IE91dGVyRGVjb0xldmVsLCByZXN1bHQgPSBbdG9wXVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0ZXJEZWNvLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGF0dHJzID0gb3V0ZXJEZWNvW2ldLnR5cGUuYXR0cnMsIGN1ciA9IHRvcFxuICAgIGlmICghYXR0cnMpIGNvbnRpbnVlXG4gICAgaWYgKGF0dHJzLm5vZGVOYW1lKVxuICAgICAgcmVzdWx0LnB1c2goY3VyID0gbmV3IE91dGVyRGVjb0xldmVsKGF0dHJzLm5vZGVOYW1lKSlcblxuICAgIGZvciAobGV0IG5hbWUgaW4gYXR0cnMpIHtcbiAgICAgIGxldCB2YWwgPSBhdHRyc1tuYW1lXVxuICAgICAgaWYgKHZhbCA9PSBudWxsKSBjb250aW51ZVxuICAgICAgaWYgKG5lZWRzV3JhcCAmJiByZXN1bHQubGVuZ3RoID09IDEpXG4gICAgICAgIHJlc3VsdC5wdXNoKGN1ciA9IHRvcCA9IG5ldyBPdXRlckRlY29MZXZlbChub2RlLmlzSW5saW5lID8gXCJzcGFuXCIgOiBcImRpdlwiKSlcbiAgICAgIGlmIChuYW1lID09IFwiY2xhc3NcIikgY3VyLmNsYXNzID0gKGN1ci5jbGFzcyA/IGN1ci5jbGFzcyArIFwiIFwiIDogXCJcIikgKyB2YWxcbiAgICAgIGVsc2UgaWYgKG5hbWUgPT0gXCJzdHlsZVwiKSBjdXIuc3R5bGUgPSAoY3VyLnN0eWxlID8gY3VyLnN0eWxlICsgXCI7XCIgOiBcIlwiKSArIHZhbFxuICAgICAgZWxzZSBpZiAobmFtZSAhPSBcIm5vZGVOYW1lXCIpIGN1cltuYW1lXSA9IHZhbFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gcGF0Y2hPdXRlckRlY28ob3V0ZXJET00sIG5vZGVET00sIHByZXZDb21wdXRlZCwgY3VyQ29tcHV0ZWQpIHtcbiAgLy8gU2hvcnRjdXQgZm9yIHRyaXZpYWwgY2FzZVxuICBpZiAocHJldkNvbXB1dGVkID09IG5vRGVjbyAmJiBjdXJDb21wdXRlZCA9PSBub0RlY28pIHJldHVybiBub2RlRE9NXG5cbiAgbGV0IGN1ckRPTSA9IG5vZGVET01cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJDb21wdXRlZC5sZW5ndGg7IGkrKykge1xuICAgIGxldCBkZWNvID0gY3VyQ29tcHV0ZWRbaV0sIHByZXYgPSBwcmV2Q29tcHV0ZWRbaV1cbiAgICBpZiAoaSkge1xuICAgICAgbGV0IHBhcmVudFxuICAgICAgaWYgKHByZXYgJiYgcHJldi5ub2RlTmFtZSA9PSBkZWNvLm5vZGVOYW1lICYmIGN1ckRPTSAhPSBvdXRlckRPTSAmJlxuICAgICAgICAgIChwYXJlbnQgPSBjdXJET00ucGFyZW50Tm9kZSkgJiYgcGFyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSBkZWNvLm5vZGVOYW1lKSB7XG4gICAgICAgIGN1ckRPTSA9IHBhcmVudFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChkZWNvLm5vZGVOYW1lKVxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY3VyRE9NKVxuICAgICAgICBwcmV2ID0gbm9EZWNvWzBdXG4gICAgICAgIGN1ckRPTSA9IHBhcmVudFxuICAgICAgfVxuICAgIH1cbiAgICBwYXRjaEF0dHJpYnV0ZXMoY3VyRE9NLCBwcmV2IHx8IG5vRGVjb1swXSwgZGVjbylcbiAgfVxuICByZXR1cm4gY3VyRE9NXG59XG5cbmZ1bmN0aW9uIHBhdGNoQXR0cmlidXRlcyhkb20sIHByZXYsIGN1cikge1xuICBmb3IgKGxldCBuYW1lIGluIHByZXYpXG4gICAgaWYgKG5hbWUgIT0gXCJjbGFzc1wiICYmIG5hbWUgIT0gXCJzdHlsZVwiICYmIG5hbWUgIT0gXCJub2RlTmFtZVwiICYmICEobmFtZSBpbiBjdXIpKVxuICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKVxuICBmb3IgKGxldCBuYW1lIGluIGN1cilcbiAgICBpZiAobmFtZSAhPSBcImNsYXNzXCIgJiYgbmFtZSAhPSBcInN0eWxlXCIgJiYgbmFtZSAhPSBcIm5vZGVOYW1lXCIgJiYgY3VyW25hbWVdICE9IHByZXZbbmFtZV0pXG4gICAgICBkb20uc2V0QXR0cmlidXRlKG5hbWUsIGN1cltuYW1lXSlcbiAgaWYgKHByZXYuY2xhc3MgIT0gY3VyLmNsYXNzKSB7XG4gICAgbGV0IHByZXZMaXN0ID0gcHJldi5jbGFzcyA/IHByZXYuY2xhc3Muc3BsaXQoXCIgXCIpIDogbm90aGluZ1xuICAgIGxldCBjdXJMaXN0ID0gY3VyLmNsYXNzID8gY3VyLmNsYXNzLnNwbGl0KFwiIFwiKSA6IG5vdGhpbmdcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZMaXN0Lmxlbmd0aDsgaSsrKSBpZiAoY3VyTGlzdC5pbmRleE9mKHByZXZMaXN0W2ldKSA9PSAtMSlcbiAgICAgIGRvbS5jbGFzc0xpc3QucmVtb3ZlKHByZXZMaXN0W2ldKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VyTGlzdC5sZW5ndGg7IGkrKykgaWYgKHByZXZMaXN0LmluZGV4T2YoY3VyTGlzdFtpXSkgPT0gLTEpXG4gICAgICBkb20uY2xhc3NMaXN0LmFkZChjdXJMaXN0W2ldKVxuICB9XG4gIGlmIChwcmV2LnN0eWxlICE9IGN1ci5zdHlsZSkge1xuICAgIGlmIChwcmV2LnN0eWxlKSB7XG4gICAgICBsZXQgcHJvcCA9IC9cXHMqKFtcXHdcXC1cXHhhMS1cXHVmZmZmXSspXFxzKjooPzpcIig/OlxcXFwufFteXCJdKSpcInwnKD86XFxcXC58W14nXSkqJ3xcXCguKj9cXCl8W147XSkqL2csIG1cbiAgICAgIHdoaWxlIChtID0gcHJvcC5leGVjKHByZXYuc3R5bGUpKVxuICAgICAgICBkb20uc3R5bGUucmVtb3ZlUHJvcGVydHkobVsxXSlcbiAgICB9XG4gICAgaWYgKGN1ci5zdHlsZSlcbiAgICAgIGRvbS5zdHlsZS5jc3NUZXh0ICs9IGN1ci5zdHlsZVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5T3V0ZXJEZWNvKGRvbSwgZGVjbywgbm9kZSkge1xuICByZXR1cm4gcGF0Y2hPdXRlckRlY28oZG9tLCBkb20sIG5vRGVjbywgY29tcHV0ZU91dGVyRGVjbyhkZWNvLCBub2RlLCBkb20ubm9kZVR5cGUgIT0gMSkpXG59XG5cbi8vIDogKFtEZWNvcmF0aW9uXSwgW0RlY29yYXRpb25dKSDihpIgYm9vbFxuZnVuY3Rpb24gc2FtZU91dGVyRGVjbyhhLCBiKSB7XG4gIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgaWYgKCFhW2ldLnR5cGUuZXEoYltpXS50eXBlKSkgcmV0dXJuIGZhbHNlXG4gIHJldHVybiB0cnVlXG59XG5cbi8vIFJlbW92ZSBhIERPTSBub2RlIGFuZCByZXR1cm4gaXRzIG5leHQgc2libGluZy5cbmZ1bmN0aW9uIHJtKGRvbSkge1xuICBsZXQgbmV4dCA9IGRvbS5uZXh0U2libGluZ1xuICBkb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkb20pXG4gIHJldHVybiBuZXh0XG59XG5cbi8vIEhlbHBlciBjbGFzcyBmb3IgaW5jcmVtZW50YWxseSB1cGRhdGluZyBhIHRyZWUgb2YgbWFyayBkZXNjcyBhbmRcbi8vIHRoZSB3aWRnZXQgYW5kIG5vZGUgZGVzY3MgaW5zaWRlIG9mIHRoZW0uXG5jbGFzcyBWaWV3VHJlZVVwZGF0ZXIge1xuICAvLyA6IChOb2RlVmlld0Rlc2MpXG4gIGNvbnN0cnVjdG9yKHRvcCwgbG9ja2VkTm9kZSkge1xuICAgIHRoaXMudG9wID0gdG9wXG4gICAgdGhpcy5sb2NrID0gbG9ja2VkTm9kZVxuICAgIC8vIEluZGV4IGludG8gYHRoaXMudG9wYCdzIGNoaWxkIGFycmF5LCByZXByZXNlbnRzIHRoZSBjdXJyZW50XG4gICAgLy8gdXBkYXRlIHBvc2l0aW9uLlxuICAgIHRoaXMuaW5kZXggPSAwXG4gICAgLy8gV2hlbiBlbnRlcmluZyBhIG1hcmssIHRoZSBjdXJyZW50IHRvcCBhbmQgaW5kZXggYXJlIHB1c2hlZFxuICAgIC8vIG9udG8gdGhpcy5cbiAgICB0aGlzLnN0YWNrID0gW11cbiAgICAvLyBUcmFja3Mgd2hldGhlciBhbnl0aGluZyB3YXMgY2hhbmdlZFxuICAgIHRoaXMuY2hhbmdlZCA9IGZhbHNlXG5cbiAgICBsZXQgcHJlID0gcHJlTWF0Y2godG9wLm5vZGUuY29udGVudCwgdG9wLmNoaWxkcmVuKVxuICAgIHRoaXMucHJlTWF0Y2hlZCA9IHByZS5ub2Rlc1xuICAgIHRoaXMucHJlTWF0Y2hPZmZzZXQgPSBwcmUub2Zmc2V0XG4gIH1cblxuICBnZXRQcmVNYXRjaChpbmRleCkge1xuICAgIHJldHVybiBpbmRleCA+PSB0aGlzLnByZU1hdGNoT2Zmc2V0ID8gdGhpcy5wcmVNYXRjaGVkW2luZGV4IC0gdGhpcy5wcmVNYXRjaE9mZnNldF0gOiBudWxsXG4gIH1cblxuICAvLyBEZXN0cm95IGFuZCByZW1vdmUgdGhlIGNoaWxkcmVuIGJldHdlZW4gdGhlIGdpdmVuIGluZGljZXMgaW5cbiAgLy8gYHRoaXMudG9wYC5cbiAgZGVzdHJveUJldHdlZW4oc3RhcnQsIGVuZCkge1xuICAgIGlmIChzdGFydCA9PSBlbmQpIHJldHVyblxuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB0aGlzLnRvcC5jaGlsZHJlbltpXS5kZXN0cm95KClcbiAgICB0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0KVxuICAgIHRoaXMuY2hhbmdlZCA9IHRydWVcbiAgfVxuXG4gIC8vIERlc3Ryb3kgYWxsIHJlbWFpbmluZyBjaGlsZHJlbiBpbiBgdGhpcy50b3BgLlxuICBkZXN0cm95UmVzdCgpIHtcbiAgICB0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsIHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aClcbiAgfVxuXG4gIC8vIDogKFtNYXJrXSwgRWRpdG9yVmlldylcbiAgLy8gU3luYyB0aGUgY3VycmVudCBzdGFjayBvZiBtYXJrIGRlc2NzIHdpdGggdGhlIGdpdmVuIGFycmF5IG9mXG4gIC8vIG1hcmtzLCByZXVzaW5nIGV4aXN0aW5nIG1hcmsgZGVzY3Mgd2hlbiBwb3NzaWJsZS5cbiAgc3luY1RvTWFya3MobWFya3MsIGlubGluZSwgdmlldykge1xuICAgIGxldCBrZWVwID0gMCwgZGVwdGggPSB0aGlzLnN0YWNrLmxlbmd0aCA+PiAxXG4gICAgbGV0IG1heEtlZXAgPSBNYXRoLm1pbihkZXB0aCwgbWFya3MubGVuZ3RoKVxuICAgIHdoaWxlIChrZWVwIDwgbWF4S2VlcCAmJlxuICAgICAgICAgICAoa2VlcCA9PSBkZXB0aCAtIDEgPyB0aGlzLnRvcCA6IHRoaXMuc3RhY2tbKGtlZXAgKyAxKSA8PCAxXSkubWF0Y2hlc01hcmsobWFya3Nba2VlcF0pICYmIG1hcmtzW2tlZXBdLnR5cGUuc3BlYy5zcGFubmluZyAhPT0gZmFsc2UpXG4gICAgICBrZWVwKytcblxuICAgIHdoaWxlIChrZWVwIDwgZGVwdGgpIHtcbiAgICAgIHRoaXMuZGVzdHJveVJlc3QoKVxuICAgICAgdGhpcy50b3AuZGlydHkgPSBOT1RfRElSVFlcbiAgICAgIHRoaXMuaW5kZXggPSB0aGlzLnN0YWNrLnBvcCgpXG4gICAgICB0aGlzLnRvcCA9IHRoaXMuc3RhY2sucG9wKClcbiAgICAgIGRlcHRoLS1cbiAgICB9XG4gICAgd2hpbGUgKGRlcHRoIDwgbWFya3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLnN0YWNrLnB1c2godGhpcy50b3AsIHRoaXMuaW5kZXggKyAxKVxuICAgICAgbGV0IGZvdW5kID0gLTFcbiAgICAgIGZvciAobGV0IGkgPSB0aGlzLmluZGV4OyBpIDwgTWF0aC5taW4odGhpcy5pbmRleCArIDMsIHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCk7IGkrKykge1xuICAgICAgICBpZiAodGhpcy50b3AuY2hpbGRyZW5baV0ubWF0Y2hlc01hcmsobWFya3NbZGVwdGhdKSkgeyBmb3VuZCA9IGk7IGJyZWFrIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCA+IC0xKSB7XG4gICAgICAgIGlmIChmb3VuZCA+IHRoaXMuaW5kZXgpIHtcbiAgICAgICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlXG4gICAgICAgICAgdGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LCBmb3VuZClcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvcCA9IHRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbWFya0Rlc2MgPSBNYXJrVmlld0Rlc2MuY3JlYXRlKHRoaXMudG9wLCBtYXJrc1tkZXB0aF0sIGlubGluZSwgdmlldylcbiAgICAgICAgdGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgsIDAsIG1hcmtEZXNjKVxuICAgICAgICB0aGlzLnRvcCA9IG1hcmtEZXNjXG4gICAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWVcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXggPSAwXG4gICAgICBkZXB0aCsrXG4gICAgfVxuICB9XG5cbiAgLy8gOiAoTm9kZSwgW0RlY29yYXRpb25dLCBEZWNvcmF0aW9uU2V0KSDihpIgYm9vbFxuICAvLyBUcnkgdG8gZmluZCBhIG5vZGUgZGVzYyBtYXRjaGluZyB0aGUgZ2l2ZW4gZGF0YS4gU2tpcCBvdmVyIGl0IGFuZFxuICAvLyByZXR1cm4gdHJ1ZSB3aGVuIHN1Y2Nlc3NmdWwuXG4gIGZpbmROb2RlTWF0Y2gobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGluZGV4KSB7XG4gICAgbGV0IGZvdW5kID0gLTEsIHByZU1hdGNoID0gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogdGhpcy5nZXRQcmVNYXRjaChpbmRleCksIGNoaWxkcmVuID0gdGhpcy50b3AuY2hpbGRyZW5cbiAgICBpZiAocHJlTWF0Y2ggJiYgcHJlTWF0Y2gubWF0Y2hlc05vZGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28pKSB7XG4gICAgICBmb3VuZCA9IGNoaWxkcmVuLmluZGV4T2YocHJlTWF0Y2gpXG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSB0aGlzLmluZGV4LCBlID0gTWF0aC5taW4oY2hpbGRyZW4ubGVuZ3RoLCBpICsgNSk7IGkgPCBlOyBpKyspIHtcbiAgICAgICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV1cbiAgICAgICAgaWYgKGNoaWxkLm1hdGNoZXNOb2RlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvKSAmJiB0aGlzLnByZU1hdGNoZWQuaW5kZXhPZihjaGlsZCkgPCAwKSB7XG4gICAgICAgICAgZm91bmQgPSBpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZm91bmQgPCAwKSByZXR1cm4gZmFsc2VcbiAgICB0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsIGZvdW5kKVxuICAgIHRoaXMuaW5kZXgrK1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyA6IChOb2RlLCBbRGVjb3JhdGlvbl0sIERlY29yYXRpb25TZXQsIEVkaXRvclZpZXcsIEZyYWdtZW50LCBudW1iZXIpIOKGkiBib29sXG4gIC8vIFRyeSB0byB1cGRhdGUgdGhlIG5leHQgbm9kZSwgaWYgYW55LCB0byB0aGUgZ2l2ZW4gZGF0YS4gQ2hlY2tzXG4gIC8vIHByZS1tYXRjaGVzIHRvIGF2b2lkIG92ZXJ3cml0aW5nIG5vZGVzIHRoYXQgY291bGQgc3RpbGwgYmUgdXNlZC5cbiAgdXBkYXRlTmV4dE5vZGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcsIGluZGV4KSB7XG4gICAgaWYgKHRoaXMuaW5kZXggPT0gdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKSByZXR1cm4gZmFsc2VcbiAgICBsZXQgbmV4dCA9IHRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdXG4gICAgaWYgKG5leHQgaW5zdGFuY2VvZiBOb2RlVmlld0Rlc2MpIHtcbiAgICAgIGxldCBwcmVNYXRjaCA9IHRoaXMucHJlTWF0Y2hlZC5pbmRleE9mKG5leHQpXG4gICAgICBpZiAocHJlTWF0Y2ggPiAtMSAmJiBwcmVNYXRjaCArIHRoaXMucHJlTWF0Y2hPZmZzZXQgIT0gaW5kZXgpIHJldHVybiBmYWxzZVxuICAgICAgbGV0IG5leHRET00gPSBuZXh0LmRvbVxuXG4gICAgICAvLyBDYW4ndCB1cGRhdGUgaWYgbmV4dERPTSBpcyBvciBjb250YWlucyB0aGlzLmxvY2ssIGV4Y2VwdCBpZlxuICAgICAgLy8gaXQncyBhIHRleHQgbm9kZSB3aG9zZSBjb250ZW50IGFscmVhZHkgbWF0Y2hlcyB0aGUgbmV3IHRleHRcbiAgICAgIC8vIGFuZCB3aG9zZSBkZWNvcmF0aW9ucyBtYXRjaCB0aGUgbmV3IG9uZXMuXG4gICAgICBsZXQgbG9ja2VkID0gdGhpcy5sb2NrICYmIChuZXh0RE9NID09IHRoaXMubG9jayB8fCBuZXh0RE9NLm5vZGVUeXBlID09IDEgJiYgbmV4dERPTS5jb250YWlucyh0aGlzLmxvY2sucGFyZW50Tm9kZSkpICYmXG4gICAgICAgICAgIShub2RlLmlzVGV4dCAmJiBuZXh0Lm5vZGUgJiYgbmV4dC5ub2RlLmlzVGV4dCAmJiBuZXh0Lm5vZGVET00ubm9kZVZhbHVlID09IG5vZGUudGV4dCAmJlxuICAgICAgICAgICAgbmV4dC5kaXJ0eSAhPSBOT0RFX0RJUlRZICYmIHNhbWVPdXRlckRlY28ob3V0ZXJEZWNvLCBuZXh0Lm91dGVyRGVjbykpXG4gICAgICBpZiAoIWxvY2tlZCAmJiBuZXh0LnVwZGF0ZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldykpIHtcbiAgICAgICAgaWYgKG5leHQuZG9tICE9IG5leHRET00pIHRoaXMuY2hhbmdlZCA9IHRydWVcbiAgICAgICAgdGhpcy5pbmRleCsrXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gOiAoTm9kZSwgW0RlY29yYXRpb25dLCBEZWNvcmF0aW9uU2V0LCBFZGl0b3JWaWV3KVxuICAvLyBJbnNlcnQgdGhlIG5vZGUgYXMgYSBuZXdseSBjcmVhdGVkIG5vZGUgZGVzYy5cbiAgYWRkTm9kZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldywgcG9zKSB7XG4gICAgdGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywgMCwgTm9kZVZpZXdEZXNjLmNyZWF0ZSh0aGlzLnRvcCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcsIHBvcykpXG4gICAgdGhpcy5jaGFuZ2VkID0gdHJ1ZVxuICB9XG5cbiAgcGxhY2VXaWRnZXQod2lkZ2V0LCB2aWV3LCBwb3MpIHtcbiAgICBpZiAodGhpcy5pbmRleCA8IHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCAmJiB0aGlzLnRvcC5jaGlsZHJlblt0aGlzLmluZGV4XS5tYXRjaGVzV2lkZ2V0KHdpZGdldCkpIHtcbiAgICAgIHRoaXMuaW5kZXgrK1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZGVzYyA9IG5ldyBXaWRnZXRWaWV3RGVzYyh0aGlzLnRvcCwgd2lkZ2V0LCB2aWV3LCBwb3MpXG4gICAgICB0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLCAwLCBkZXNjKVxuICAgICAgdGhpcy5jaGFuZ2VkID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSBhIHRleHRibG9jayBsb29rcyBhbmQgYmVoYXZlcyBjb3JyZWN0bHkgaW5cbiAgLy8gY29udGVudEVkaXRhYmxlLlxuICBhZGRUZXh0YmxvY2tIYWNrcygpIHtcbiAgICBsZXQgbGFzdENoaWxkID0gdGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleCAtIDFdXG4gICAgd2hpbGUgKGxhc3RDaGlsZCBpbnN0YW5jZW9mIE1hcmtWaWV3RGVzYykgbGFzdENoaWxkID0gbGFzdENoaWxkLmNoaWxkcmVuW2xhc3RDaGlsZC5jaGlsZHJlbi5sZW5ndGggLSAxXVxuXG4gICAgaWYgKCFsYXN0Q2hpbGQgfHwgLy8gRW1wdHkgdGV4dGJsb2NrXG4gICAgICAgICEobGFzdENoaWxkIGluc3RhbmNlb2YgVGV4dFZpZXdEZXNjKSB8fFxuICAgICAgICAvXFxuJC8udGVzdChsYXN0Q2hpbGQubm9kZS50ZXh0KSkge1xuICAgICAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGggJiYgdGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF0ubWF0Y2hlc0hhY2soKSkge1xuICAgICAgICB0aGlzLmluZGV4KytcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIilcbiAgICAgICAgdGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywgMCwgbmV3IEJSSGFja1ZpZXdEZXNjKHRoaXMudG9wLCBub3RoaW5nLCBkb20sIG51bGwpKVxuICAgICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIDogKEZyYWdtZW50LCBbVmlld0Rlc2NdKSDihpIgW1ZpZXdEZXNjXVxuLy8gSXRlcmF0ZSBmcm9tIHRoZSBlbmQgb2YgdGhlIGZyYWdtZW50IGFuZCBhcnJheSBvZiBkZXNjcyB0byBmaW5kXG4vLyBkaXJlY3RseSBtYXRjaGluZyBvbmVzLCBpbiBvcmRlciB0byBhdm9pZCBvdmVyZWFnZXJseSByZXVzaW5nXG4vLyB0aG9zZSBmb3Igb3RoZXIgbm9kZXMuIFJldHVybnMgYW4gYXJyYXkgd2hvc2UgcG9zaXRpb25zIGNvcnJlc3BvbmRcbi8vIHRvIG5vZGUgcG9zaXRpb25zIGluIHRoZSBmcmFnbWVudCwgYW5kIHdob3NlIGVsZW1lbnRzIGFyZSBlaXRoZXJcbi8vIGRlc2NzIG1hdGNoZWQgdG8gdGhlIGNoaWxkIGF0IHRoYXQgaW5kZXgsIG9yIGVtcHR5LlxuZnVuY3Rpb24gcHJlTWF0Y2goZnJhZywgZGVzY3MpIHtcbiAgbGV0IHJlc3VsdCA9IFtdLCBlbmQgPSBmcmFnLmNoaWxkQ291bnRcbiAgZm9yIChsZXQgaSA9IGRlc2NzLmxlbmd0aCAtIDE7IGVuZCA+IDAgJiYgaSA+PSAwOyBpLS0pIHtcbiAgICBsZXQgZGVzYyA9IGRlc2NzW2ldLCBub2RlID0gZGVzYy5ub2RlXG4gICAgaWYgKCFub2RlKSBjb250aW51ZVxuICAgIGlmIChub2RlICE9IGZyYWcuY2hpbGQoZW5kIC0gMSkpIGJyZWFrXG4gICAgcmVzdWx0LnB1c2goZGVzYylcbiAgICAtLWVuZFxuICB9XG4gIHJldHVybiB7bm9kZXM6IHJlc3VsdC5yZXZlcnNlKCksIG9mZnNldDogZW5kfVxufVxuXG5mdW5jdGlvbiBjb21wYXJlU2lkZShhLCBiKSB7IHJldHVybiBhLnR5cGUuc2lkZSAtIGIudHlwZS5zaWRlIH1cblxuLy8gOiAoVmlld0Rlc2MsIERlY29yYXRpb25TZXQsIChEZWNvcmF0aW9uLCBudW1iZXIpLCAoTm9kZSwgW0RlY29yYXRpb25dLCBEZWNvcmF0aW9uU2V0LCBudW1iZXIpKVxuLy8gVGhpcyBmdW5jdGlvbiBhYnN0cmFjdHMgaXRlcmF0aW5nIG92ZXIgdGhlIG5vZGVzIGFuZCBkZWNvcmF0aW9ucyBpblxuLy8gYSBmcmFnbWVudC4gQ2FsbHMgYG9uTm9kZWAgZm9yIGVhY2ggbm9kZSwgd2l0aCBpdHMgbG9jYWwgYW5kIGNoaWxkXG4vLyBkZWNvcmF0aW9ucy4gU3BsaXRzIHRleHQgbm9kZXMgd2hlbiB0aGVyZSBpcyBhIGRlY29yYXRpb24gc3RhcnRpbmdcbi8vIG9yIGVuZGluZyBpbnNpZGUgb2YgdGhlbS4gQ2FsbHMgYG9uV2lkZ2V0YCBmb3IgZWFjaCB3aWRnZXQuXG5mdW5jdGlvbiBpdGVyRGVjbyhwYXJlbnQsIGRlY28sIG9uV2lkZ2V0LCBvbk5vZGUpIHtcbiAgbGV0IGxvY2FscyA9IGRlY28ubG9jYWxzKHBhcmVudCksIG9mZnNldCA9IDBcbiAgLy8gU2ltcGxlLCBjaGVhcCB2YXJpYW50IGZvciB3aGVuIHRoZXJlIGFyZSBubyBsb2NhbCBkZWNvcmF0aW9uc1xuICBpZiAobG9jYWxzLmxlbmd0aCA9PSAwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJlbnQuY2hpbGRDb3VudDsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGQgPSBwYXJlbnQuY2hpbGQoaSlcbiAgICAgIG9uTm9kZShjaGlsZCwgbG9jYWxzLCBkZWNvLmZvckNoaWxkKG9mZnNldCwgY2hpbGQpLCBpKVxuICAgICAgb2Zmc2V0ICs9IGNoaWxkLm5vZGVTaXplXG4gICAgfVxuICAgIHJldHVyblxuICB9XG5cbiAgbGV0IGRlY29JbmRleCA9IDAsIGFjdGl2ZSA9IFtdLCByZXN0Tm9kZSA9IG51bGxcbiAgZm9yIChsZXQgcGFyZW50SW5kZXggPSAwOzspIHtcbiAgICBpZiAoZGVjb0luZGV4IDwgbG9jYWxzLmxlbmd0aCAmJiBsb2NhbHNbZGVjb0luZGV4XS50byA9PSBvZmZzZXQpIHtcbiAgICAgIGxldCB3aWRnZXQgPSBsb2NhbHNbZGVjb0luZGV4KytdLCB3aWRnZXRzXG4gICAgICB3aGlsZSAoZGVjb0luZGV4IDwgbG9jYWxzLmxlbmd0aCAmJiBsb2NhbHNbZGVjb0luZGV4XS50byA9PSBvZmZzZXQpXG4gICAgICAgICh3aWRnZXRzIHx8ICh3aWRnZXRzID0gW3dpZGdldF0pKS5wdXNoKGxvY2Fsc1tkZWNvSW5kZXgrK10pXG4gICAgICBpZiAod2lkZ2V0cykge1xuICAgICAgICB3aWRnZXRzLnNvcnQoY29tcGFyZVNpZGUpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2lkZ2V0cy5sZW5ndGg7IGkrKykgb25XaWRnZXQod2lkZ2V0c1tpXSwgcGFyZW50SW5kZXgsICEhcmVzdE5vZGUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbldpZGdldCh3aWRnZXQsIHBhcmVudEluZGV4LCAhIXJlc3ROb2RlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBjaGlsZCwgaW5kZXhcbiAgICBpZiAocmVzdE5vZGUpIHtcbiAgICAgIGluZGV4ID0gLTFcbiAgICAgIGNoaWxkID0gcmVzdE5vZGVcbiAgICAgIHJlc3ROb2RlID0gbnVsbFxuICAgIH0gZWxzZSBpZiAocGFyZW50SW5kZXggPCBwYXJlbnQuY2hpbGRDb3VudCkge1xuICAgICAgaW5kZXggPSBwYXJlbnRJbmRleFxuICAgICAgY2hpbGQgPSBwYXJlbnQuY2hpbGQocGFyZW50SW5kZXgrKylcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGl2ZS5sZW5ndGg7IGkrKykgaWYgKGFjdGl2ZVtpXS50byA8PSBvZmZzZXQpIGFjdGl2ZS5zcGxpY2UoaS0tLCAxKVxuICAgIHdoaWxlIChkZWNvSW5kZXggPCBsb2NhbHMubGVuZ3RoICYmIGxvY2Fsc1tkZWNvSW5kZXhdLmZyb20gPT0gb2Zmc2V0KSBhY3RpdmUucHVzaChsb2NhbHNbZGVjb0luZGV4KytdKVxuXG4gICAgbGV0IGVuZCA9IG9mZnNldCArIGNoaWxkLm5vZGVTaXplXG4gICAgaWYgKGNoaWxkLmlzVGV4dCkge1xuICAgICAgbGV0IGN1dEF0ID0gZW5kXG4gICAgICBpZiAoZGVjb0luZGV4IDwgbG9jYWxzLmxlbmd0aCAmJiBsb2NhbHNbZGVjb0luZGV4XS5mcm9tIDwgY3V0QXQpIGN1dEF0ID0gbG9jYWxzW2RlY29JbmRleF0uZnJvbVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmUubGVuZ3RoOyBpKyspIGlmIChhY3RpdmVbaV0udG8gPCBjdXRBdCkgY3V0QXQgPSBhY3RpdmVbaV0udG9cbiAgICAgIGlmIChjdXRBdCA8IGVuZCkge1xuICAgICAgICByZXN0Tm9kZSA9IGNoaWxkLmN1dChjdXRBdCAtIG9mZnNldClcbiAgICAgICAgY2hpbGQgPSBjaGlsZC5jdXQoMCwgY3V0QXQgLSBvZmZzZXQpXG4gICAgICAgIGVuZCA9IGN1dEF0XG4gICAgICAgIGluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG5cbiAgICBvbk5vZGUoY2hpbGQsIGFjdGl2ZS5sZW5ndGggPyBhY3RpdmUuc2xpY2UoKSA6IG5vdGhpbmcsIGRlY28uZm9yQ2hpbGQob2Zmc2V0LCBjaGlsZCksIGluZGV4KVxuICAgIG9mZnNldCA9IGVuZFxuICB9XG59XG5cbi8vIExpc3QgbWFya2VycyBpbiBNb2JpbGUgU2FmYXJpIHdpbGwgbXlzdGVyaW91c2x5IGRpc2FwcGVhclxuLy8gc29tZXRpbWVzLiBUaGlzIHdvcmtzIGFyb3VuZCB0aGF0LlxuZnVuY3Rpb24gaW9zSGFja3MoZG9tKSB7XG4gIGlmIChkb20ubm9kZU5hbWUgPT0gXCJVTFwiIHx8IGRvbS5ub2RlTmFtZSA9PSBcIk9MXCIpIHtcbiAgICBsZXQgb2xkQ1NTID0gZG9tLnN0eWxlLmNzc1RleHRcbiAgICBkb20uc3R5bGUuY3NzVGV4dCA9IG9sZENTUyArIFwiOyBsaXN0LXN0eWxlOiBzcXVhcmUgIWltcG9ydGFudFwiXG4gICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9tKS5saXN0U3R5bGVcbiAgICBkb20uc3R5bGUuY3NzVGV4dCA9IG9sZENTU1xuICB9XG59XG5cbmZ1bmN0aW9uIG5lYXJieVRleHROb2RlKG5vZGUsIG9mZnNldCkge1xuICBmb3IgKDs7KSB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykgcmV0dXJuIG5vZGVcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIG9mZnNldCA+IDApIHtcbiAgICAgIGlmIChub2RlLmNoaWxkTm9kZXMubGVuZ3RoID4gb2Zmc2V0ICYmIG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdLm5vZGVUeXBlID09IDMpXG4gICAgICAgIHJldHVybiBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XVxuICAgICAgbm9kZSA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXVxuICAgICAgb2Zmc2V0ID0gbm9kZVNpemUobm9kZSlcbiAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiBvZmZzZXQgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldF1cbiAgICAgIG9mZnNldCA9IDBcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbn1cblxuLy8gRmluZCBhIHBpZWNlIG9mIHRleHQgaW4gYW4gaW5saW5lIGZyYWdtZW50LCBvdmVybGFwcGluZyBmcm9tLXRvXG5mdW5jdGlvbiBmaW5kVGV4dEluRnJhZ21lbnQoZnJhZywgdGV4dCwgZnJvbSwgdG8pIHtcbiAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IDA7IGkgPCBmcmFnLmNoaWxkQ291bnQgJiYgcG9zIDw9IHRvOykge1xuICAgIGxldCBjaGlsZCA9IGZyYWcuY2hpbGQoaSsrKSwgY2hpbGRTdGFydCA9IHBvc1xuICAgIHBvcyArPSBjaGlsZC5ub2RlU2l6ZVxuICAgIGlmICghY2hpbGQuaXNUZXh0KSBjb250aW51ZVxuICAgIGxldCBzdHIgPSBjaGlsZC50ZXh0XG4gICAgd2hpbGUgKGkgPCBmcmFnLmNoaWxkQ291bnQpIHtcbiAgICAgIGxldCBuZXh0ID0gZnJhZy5jaGlsZChpKyspXG4gICAgICBwb3MgKz0gbmV4dC5ub2RlU2l6ZVxuICAgICAgaWYgKCFuZXh0LmlzVGV4dCkgYnJlYWtcbiAgICAgIHN0ciArPSBuZXh0LnRleHRcbiAgICB9XG4gICAgaWYgKHBvcyA+PSBmcm9tKSB7XG4gICAgICBsZXQgZm91bmQgPSBzdHIubGFzdEluZGV4T2YodGV4dCwgdG8gLSBjaGlsZFN0YXJ0KVxuICAgICAgaWYgKGZvdW5kID49IDAgJiYgZm91bmQgKyB0ZXh0Lmxlbmd0aCArIGNoaWxkU3RhcnQgPj0gZnJvbSlcbiAgICAgICAgcmV0dXJuIGNoaWxkU3RhcnQgKyBmb3VuZFxuICAgIH1cbiAgfVxuICByZXR1cm4gLTFcbn1cblxuLy8gUmVwbGFjZSByYW5nZSBmcm9tLXRvIGluIGFuIGFycmF5IG9mIHZpZXcgZGVzY3Mgd2l0aCByZXBsYWNlbWVudFxuLy8gKG1heSBiZSBudWxsIHRvIGp1c3QgZGVsZXRlKS4gVGhpcyBnb2VzIHZlcnkgbXVjaCBhZ2FpbnN0IHRoZSBncmFpblxuLy8gb2YgdGhlIHJlc3Qgb2YgdGhpcyBjb2RlLCB3aGljaCB0ZW5kcyB0byBjcmVhdGUgbm9kZXMgd2l0aCB0aGVcbi8vIHJpZ2h0IHNoYXBlIGluIG9uZSBnbywgcmF0aGVyIHRoYW4gbWVzc2luZyB3aXRoIHRoZW0gYWZ0ZXJcbi8vIGNyZWF0aW9uLCBidXQgaXMgbmVjZXNzYXJ5IGluIHRoZSBjb21wb3NpdGlvbiBoYWNrLlxuZnVuY3Rpb24gcmVwbGFjZU5vZGVzKG5vZGVzLCBmcm9tLCB0bywgdmlldywgcmVwbGFjZW1lbnQpIHtcbiAgbGV0IHJlc3VsdCA9IFtdXG4gIGZvciAobGV0IGkgPSAwLCBvZmYgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgY2hpbGQgPSBub2Rlc1tpXSwgc3RhcnQgPSBvZmYsIGVuZCA9IG9mZiArPSBjaGlsZC5zaXplXG4gICAgaWYgKHN0YXJ0ID49IHRvIHx8IGVuZCA8PSBmcm9tKSB7XG4gICAgICByZXN1bHQucHVzaChjaGlsZClcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0YXJ0IDwgZnJvbSkgcmVzdWx0LnB1c2goY2hpbGQuc2xpY2UoMCwgZnJvbSAtIHN0YXJ0LCB2aWV3KSlcbiAgICAgIGlmIChyZXBsYWNlbWVudCkge1xuICAgICAgICByZXN1bHQucHVzaChyZXBsYWNlbWVudClcbiAgICAgICAgcmVwbGFjZW1lbnQgPSBudWxsXG4gICAgICB9XG4gICAgICBpZiAoZW5kID4gdG8pIHJlc3VsdC5wdXNoKGNoaWxkLnNsaWNlKHRvIC0gc3RhcnQsIGNoaWxkLnNpemUsIHZpZXcpKVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbiwgTm9kZVNlbGVjdGlvbiwgVGV4dFNlbGVjdGlvbn0gZnJvbSBcInByb3NlbWlycm9yLXN0YXRlXCJcbmltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXJcIlxuaW1wb3J0IHtkb21JbmRleCwgc2VsZWN0aW9uQ29sbGFwc2VkfSBmcm9tIFwiLi9kb21cIlxuXG5mdW5jdGlvbiBtb3ZlU2VsZWN0aW9uQmxvY2soc3RhdGUsIGRpcikge1xuICBsZXQgeyRhbmNob3IsICRoZWFkfSA9IHN0YXRlLnNlbGVjdGlvblxuICBsZXQgJHNpZGUgPSBkaXIgPiAwID8gJGFuY2hvci5tYXgoJGhlYWQpIDogJGFuY2hvci5taW4oJGhlYWQpXG4gIGxldCAkc3RhcnQgPSAhJHNpZGUucGFyZW50LmlubGluZUNvbnRlbnQgPyAkc2lkZSA6ICRzaWRlLmRlcHRoID8gc3RhdGUuZG9jLnJlc29sdmUoZGlyID4gMCA/ICRzaWRlLmFmdGVyKCkgOiAkc2lkZS5iZWZvcmUoKSkgOiBudWxsXG4gIHJldHVybiAkc3RhcnQgJiYgU2VsZWN0aW9uLmZpbmRGcm9tKCRzdGFydCwgZGlyKVxufVxuXG5mdW5jdGlvbiBhcHBseSh2aWV3LCBzZWwpIHtcbiAgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihzZWwpLnNjcm9sbEludG9WaWV3KCkpXG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIHNlbGVjdEhvcml6b250YWxseSh2aWV3LCBkaXIsIG1vZHMpIHtcbiAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uXG4gIGlmIChzZWwgaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uKSB7XG4gICAgaWYgKCFzZWwuZW1wdHkgfHwgbW9kcy5pbmRleE9mKFwic1wiKSA+IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2UgaWYgKHZpZXcuZW5kT2ZUZXh0YmxvY2soZGlyID4gMCA/IFwicmlnaHRcIiA6IFwibGVmdFwiKSkge1xuICAgICAgbGV0IG5leHQgPSBtb3ZlU2VsZWN0aW9uQmxvY2sodmlldy5zdGF0ZSwgZGlyKVxuICAgICAgaWYgKG5leHQgJiYgKG5leHQgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uKSkgcmV0dXJuIGFwcGx5KHZpZXcsIG5leHQpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0ICRoZWFkID0gc2VsLiRoZWFkLCBub2RlID0gJGhlYWQudGV4dE9mZnNldCA/IG51bGwgOiBkaXIgPCAwID8gJGhlYWQubm9kZUJlZm9yZSA6ICRoZWFkLm5vZGVBZnRlciwgZGVzY1xuICAgICAgaWYgKCFub2RlIHx8IG5vZGUuaXNUZXh0KSByZXR1cm4gZmFsc2VcbiAgICAgIGxldCBub2RlUG9zID0gZGlyIDwgMCA/ICRoZWFkLnBvcyAtIG5vZGUubm9kZVNpemUgOiAkaGVhZC5wb3NcbiAgICAgIGlmICghKG5vZGUuaXNBdG9tIHx8IChkZXNjID0gdmlldy5kb2NWaWV3LmRlc2NBdChub2RlUG9zKSkgJiYgIWRlc2MuY29udGVudERPTSkpIHJldHVybiBmYWxzZVxuICAgICAgaWYgKE5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBhcHBseSh2aWV3LCBuZXcgTm9kZVNlbGVjdGlvbihkaXIgPCAwID8gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZSgkaGVhZC5wb3MgLSBub2RlLm5vZGVTaXplKSA6ICRoZWFkKSlcbiAgICAgIH0gZWxzZSBpZiAoYnJvd3Nlci53ZWJraXQpIHtcbiAgICAgICAgLy8gQ2hyb21lIGFuZCBTYWZhcmkgd2lsbCBpbnRyb2R1Y2UgZXh0cmEgcG9pbnRsZXNzIGN1cnNvclxuICAgICAgICAvLyBwb3NpdGlvbnMgYXJvdW5kIGlubGluZSB1bmVkaXRhYmxlIG5vZGVzLCBzbyB3ZSBoYXZlIHRvXG4gICAgICAgIC8vIHRha2Ugb3ZlciBhbmQgbW92ZSB0aGUgY3Vyc29yIHBhc3QgdGhlbSAoIzkzNylcbiAgICAgICAgcmV0dXJuIGFwcGx5KHZpZXcsIG5ldyBUZXh0U2VsZWN0aW9uKHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoZGlyIDwgMCA/IG5vZGVQb3MgOiBub2RlUG9zICsgbm9kZS5ub2RlU2l6ZSkpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHNlbCBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24gJiYgc2VsLm5vZGUuaXNJbmxpbmUpIHtcbiAgICByZXR1cm4gYXBwbHkodmlldywgbmV3IFRleHRTZWxlY3Rpb24oZGlyID4gMCA/IHNlbC4kdG8gOiBzZWwuJGZyb20pKVxuICB9IGVsc2Uge1xuICAgIGxldCBuZXh0ID0gbW92ZVNlbGVjdGlvbkJsb2NrKHZpZXcuc3RhdGUsIGRpcilcbiAgICBpZiAobmV4dCkgcmV0dXJuIGFwcGx5KHZpZXcsIG5leHQpXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24gbm9kZUxlbihub2RlKSB7XG4gIHJldHVybiBub2RlLm5vZGVUeXBlID09IDMgPyBub2RlLm5vZGVWYWx1ZS5sZW5ndGggOiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoXG59XG5cbmZ1bmN0aW9uIGlzSWdub3JhYmxlKGRvbSkge1xuICBsZXQgZGVzYyA9IGRvbS5wbVZpZXdEZXNjXG4gIHJldHVybiBkZXNjICYmIGRlc2Muc2l6ZSA9PSAwICYmIChkb20ubmV4dFNpYmxpbmcgfHwgZG9tLm5vZGVOYW1lICE9IFwiQlJcIilcbn1cblxuLy8gTWFrZSBzdXJlIHRoZSBjdXJzb3IgaXNuJ3QgZGlyZWN0bHkgYWZ0ZXIgb25lIG9yIG1vcmUgaWdub3JlZFxuLy8gbm9kZXMsIHdoaWNoIHdpbGwgY29uZnVzZSB0aGUgYnJvd3NlcidzIGN1cnNvciBtb3Rpb24gbG9naWMuXG5mdW5jdGlvbiBza2lwSWdub3JlZE5vZGVzTGVmdCh2aWV3KSB7XG4gIGxldCBzZWwgPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKClcbiAgbGV0IG5vZGUgPSBzZWwuZm9jdXNOb2RlLCBvZmZzZXQgPSBzZWwuZm9jdXNPZmZzZXRcbiAgaWYgKCFub2RlKSByZXR1cm5cbiAgbGV0IG1vdmVOb2RlLCBtb3ZlT2Zmc2V0LCBmb3JjZSA9IGZhbHNlXG4gIC8vIEdlY2tvIHdpbGwgZG8gb2RkIHRoaW5ncyB3aGVuIHRoZSBzZWxlY3Rpb24gaXMgZGlyZWN0bHkgaW4gZnJvbnRcbiAgLy8gb2YgYSBub24tZWRpdGFibGUgbm9kZSwgc28gaW4gdGhhdCBjYXNlLCBtb3ZlIGl0IGludG8gdGhlIG5leHRcbiAgLy8gbm9kZSBpZiBwb3NzaWJsZS4gSXNzdWUgcHJvc2VtaXJyb3IvcHJvc2VtaXJyb3IjODMyLlxuICBpZiAoYnJvd3Nlci5nZWNrbyAmJiBub2RlLm5vZGVUeXBlID09IDEgJiYgb2Zmc2V0IDwgbm9kZUxlbihub2RlKSAmJiBpc0lnbm9yYWJsZShub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XSkpIGZvcmNlID0gdHJ1ZVxuICBmb3IgKDs7KSB7XG4gICAgaWYgKG9mZnNldCA+IDApIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBiZWZvcmUgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV1cbiAgICAgICAgaWYgKGlzSWdub3JhYmxlKGJlZm9yZSkpIHtcbiAgICAgICAgICBtb3ZlTm9kZSA9IG5vZGVcbiAgICAgICAgICBtb3ZlT2Zmc2V0ID0gLS1vZmZzZXRcbiAgICAgICAgfSBlbHNlIGlmIChiZWZvcmUubm9kZVR5cGUgPT0gMykge1xuICAgICAgICAgIG5vZGUgPSBiZWZvcmVcbiAgICAgICAgICBvZmZzZXQgPSBub2RlLm5vZGVWYWx1ZS5sZW5ndGhcbiAgICAgICAgfSBlbHNlIGJyZWFrXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0Jsb2NrTm9kZShub2RlKSkge1xuICAgICAgYnJlYWtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHByZXYgPSBub2RlLnByZXZpb3VzU2libGluZ1xuICAgICAgd2hpbGUgKHByZXYgJiYgaXNJZ25vcmFibGUocHJldikpIHtcbiAgICAgICAgbW92ZU5vZGUgPSBub2RlLnBhcmVudE5vZGVcbiAgICAgICAgbW92ZU9mZnNldCA9IGRvbUluZGV4KHByZXYpXG4gICAgICAgIHByZXYgPSBwcmV2LnByZXZpb3VzU2libGluZ1xuICAgICAgfVxuICAgICAgaWYgKCFwcmV2KSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGVcbiAgICAgICAgaWYgKG5vZGUgPT0gdmlldy5kb20pIGJyZWFrXG4gICAgICAgIG9mZnNldCA9IDBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBwcmV2XG4gICAgICAgIG9mZnNldCA9IG5vZGVMZW4obm9kZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGZvcmNlKSBzZXRTZWxGb2N1cyh2aWV3LCBzZWwsIG5vZGUsIG9mZnNldClcbiAgZWxzZSBpZiAobW92ZU5vZGUpIHNldFNlbEZvY3VzKHZpZXcsIHNlbCwgbW92ZU5vZGUsIG1vdmVPZmZzZXQpXG59XG5cbi8vIE1ha2Ugc3VyZSB0aGUgY3Vyc29yIGlzbid0IGRpcmVjdGx5IGJlZm9yZSBvbmUgb3IgbW9yZSBpZ25vcmVkXG4vLyBub2Rlcy5cbmZ1bmN0aW9uIHNraXBJZ25vcmVkTm9kZXNSaWdodCh2aWV3KSB7XG4gIGxldCBzZWwgPSB2aWV3LnJvb3QuZ2V0U2VsZWN0aW9uKClcbiAgbGV0IG5vZGUgPSBzZWwuZm9jdXNOb2RlLCBvZmZzZXQgPSBzZWwuZm9jdXNPZmZzZXRcbiAgaWYgKCFub2RlKSByZXR1cm5cbiAgbGV0IGxlbiA9IG5vZGVMZW4obm9kZSlcbiAgbGV0IG1vdmVOb2RlLCBtb3ZlT2Zmc2V0XG4gIGZvciAoOzspIHtcbiAgICBpZiAob2Zmc2V0IDwgbGVuKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAxKSBicmVha1xuICAgICAgbGV0IGFmdGVyID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldF1cbiAgICAgIGlmIChpc0lnbm9yYWJsZShhZnRlcikpIHtcbiAgICAgICAgbW92ZU5vZGUgPSBub2RlXG4gICAgICAgIG1vdmVPZmZzZXQgPSArK29mZnNldFxuICAgICAgfVxuICAgICAgZWxzZSBicmVha1xuICAgIH0gZWxzZSBpZiAoaXNCbG9ja05vZGUobm9kZSkpIHtcbiAgICAgIGJyZWFrXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBuZXh0ID0gbm9kZS5uZXh0U2libGluZ1xuICAgICAgd2hpbGUgKG5leHQgJiYgaXNJZ25vcmFibGUobmV4dCkpIHtcbiAgICAgICAgbW92ZU5vZGUgPSBuZXh0LnBhcmVudE5vZGVcbiAgICAgICAgbW92ZU9mZnNldCA9IGRvbUluZGV4KG5leHQpICsgMVxuICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZ1xuICAgICAgfVxuICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGVcbiAgICAgICAgaWYgKG5vZGUgPT0gdmlldy5kb20pIGJyZWFrXG4gICAgICAgIG9mZnNldCA9IGxlbiA9IDBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBuZXh0XG4gICAgICAgIG9mZnNldCA9IDBcbiAgICAgICAgbGVuID0gbm9kZUxlbihub2RlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAobW92ZU5vZGUpIHNldFNlbEZvY3VzKHZpZXcsIHNlbCwgbW92ZU5vZGUsIG1vdmVPZmZzZXQpXG59XG5cbmZ1bmN0aW9uIGlzQmxvY2tOb2RlKGRvbSkge1xuICBsZXQgZGVzYyA9IGRvbS5wbVZpZXdEZXNjXG4gIHJldHVybiBkZXNjICYmIGRlc2Mubm9kZSAmJiBkZXNjLm5vZGUuaXNCbG9ja1xufVxuXG5mdW5jdGlvbiBzZXRTZWxGb2N1cyh2aWV3LCBzZWwsIG5vZGUsIG9mZnNldCkge1xuICBpZiAoc2VsZWN0aW9uQ29sbGFwc2VkKHNlbCkpIHtcbiAgICBsZXQgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpXG4gICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIG9mZnNldClcbiAgICByYW5nZS5zZXRTdGFydChub2RlLCBvZmZzZXQpXG4gICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpXG4gICAgc2VsLmFkZFJhbmdlKHJhbmdlKVxuICB9IGVsc2UgaWYgKHNlbC5leHRlbmQpIHtcbiAgICBzZWwuZXh0ZW5kKG5vZGUsIG9mZnNldClcbiAgfVxuICB2aWV3LmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpXG59XG5cbi8vIDogKEVkaXRvclN0YXRlLCBudW1iZXIpXG4vLyBDaGVjayB3aGV0aGVyIHZlcnRpY2FsIHNlbGVjdGlvbiBtb3Rpb24gd291bGQgaW52b2x2ZSBub2RlXG4vLyBzZWxlY3Rpb25zLiBJZiBzbywgYXBwbHkgaXQgKGlmIG5vdCwgdGhlIHJlc3VsdCBpcyBsZWZ0IHRvIHRoZVxuLy8gYnJvd3NlcilcbmZ1bmN0aW9uIHNlbGVjdFZlcnRpY2FsbHkodmlldywgZGlyLCBtb2RzKSB7XG4gIGxldCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvblxuICBpZiAoc2VsIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbiAmJiAhc2VsLmVtcHR5IHx8IG1vZHMuaW5kZXhPZihcInNcIikgPiAtMSkgcmV0dXJuIGZhbHNlXG4gIGxldCB7JGZyb20sICR0b30gPSBzZWxcblxuICBpZiAoISRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50IHx8IHZpZXcuZW5kT2ZUZXh0YmxvY2soZGlyIDwgMCA/IFwidXBcIiA6IFwiZG93blwiKSkge1xuICAgIGxldCBuZXh0ID0gbW92ZVNlbGVjdGlvbkJsb2NrKHZpZXcuc3RhdGUsIGRpcilcbiAgICBpZiAobmV4dCAmJiAobmV4dCBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24pKVxuICAgICAgcmV0dXJuIGFwcGx5KHZpZXcsIG5leHQpXG4gIH1cbiAgaWYgKCEkZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudCkge1xuICAgIGxldCBiZXlvbmQgPSBTZWxlY3Rpb24uZmluZEZyb20oZGlyIDwgMCA/ICRmcm9tIDogJHRvLCBkaXIpXG4gICAgcmV0dXJuIGJleW9uZCA/IGFwcGx5KHZpZXcsIGJleW9uZCkgOiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHN0b3BOYXRpdmVIb3Jpem9udGFsRGVsZXRlKHZpZXcsIGRpcikge1xuICBpZiAoISh2aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24pKSByZXR1cm4gdHJ1ZVxuICBsZXQgeyRoZWFkLCAkYW5jaG9yLCBlbXB0eX0gPSB2aWV3LnN0YXRlLnNlbGVjdGlvblxuICBpZiAoISRoZWFkLnNhbWVQYXJlbnQoJGFuY2hvcikpIHJldHVybiB0cnVlXG4gIGlmICghZW1wdHkpIHJldHVybiBmYWxzZVxuICBpZiAodmlldy5lbmRPZlRleHRibG9jayhkaXIgPiAwID8gXCJmb3J3YXJkXCIgOiBcImJhY2t3YXJkXCIpKSByZXR1cm4gdHJ1ZVxuICBsZXQgbmV4dE5vZGUgPSAhJGhlYWQudGV4dE9mZnNldCAmJiAoZGlyIDwgMCA/ICRoZWFkLm5vZGVCZWZvcmUgOiAkaGVhZC5ub2RlQWZ0ZXIpXG4gIGlmIChuZXh0Tm9kZSAmJiAhbmV4dE5vZGUuaXNUZXh0KSB7XG4gICAgbGV0IHRyID0gdmlldy5zdGF0ZS50clxuICAgIGlmIChkaXIgPCAwKSB0ci5kZWxldGUoJGhlYWQucG9zIC0gbmV4dE5vZGUubm9kZVNpemUsICRoZWFkLnBvcylcbiAgICBlbHNlIHRyLmRlbGV0ZSgkaGVhZC5wb3MsICRoZWFkLnBvcyArIG5leHROb2RlLm5vZGVTaXplKVxuICAgIHZpZXcuZGlzcGF0Y2godHIpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gc3dpdGNoRWRpdGFibGUodmlldywgbm9kZSwgc3RhdGUpIHtcbiAgdmlldy5kb21PYnNlcnZlci5zdG9wKClcbiAgbm9kZS5jb250ZW50RWRpdGFibGUgPSBzdGF0ZVxuICB2aWV3LmRvbU9ic2VydmVyLnN0YXJ0KClcbn1cblxuLy8gSXNzdWUgIzg2NyAvIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkwMzgyMVxuLy8gSW4gd2hpY2ggQ2hyb21lIGRvZXMgcmVhbGx5IHdyb25nIHRoaW5ncyB3aGVuIHRoZSBkb3duIGFycm93IGlzXG4vLyBwcmVzc2VkIHdoZW4gdGhlIGN1cnNvciBpcyBkaXJlY3RseSBhdCB0aGUgc3RhcnQgb2YgYSB0ZXh0YmxvY2sgYW5kXG4vLyBoYXMgYW4gdW5lZGl0YWJsZSBub2RlIGFmdGVyIGl0XG5mdW5jdGlvbiBjaHJvbWVEb3duQXJyb3dCdWcodmlldykge1xuICBpZiAoIWJyb3dzZXIuY2hyb21lIHx8IHZpZXcuc3RhdGUuc2VsZWN0aW9uLiRoZWFkLnBhcmVudE9mZnNldCA+IDApIHJldHVyblxuICBsZXQge2ZvY3VzTm9kZSwgZm9jdXNPZmZzZXR9ID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpXG4gIGlmIChmb2N1c05vZGUgJiYgZm9jdXNOb2RlLm5vZGVUeXBlID09IDEgJiYgZm9jdXNPZmZzZXQgPT0gMCAmJlxuICAgICAgZm9jdXNOb2RlLmZpcnN0Q2hpbGQgJiYgZm9jdXNOb2RlLmZpcnN0Q2hpbGQuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIikge1xuICAgIGxldCBjaGlsZCA9IGZvY3VzTm9kZS5maXJzdENoaWxkXG4gICAgc3dpdGNoRWRpdGFibGUodmlldywgY2hpbGQsIHRydWUpXG4gICAgc2V0VGltZW91dCgoKSA9PiBzd2l0Y2hFZGl0YWJsZSh2aWV3LCBjaGlsZCwgZmFsc2UpLCAyMClcbiAgfVxufVxuXG4vLyBBIGJhY2tkcm9wIGtleSBtYXBwaW5nIHVzZWQgdG8gbWFrZSBzdXJlIHdlIGFsd2F5cyBzdXBwcmVzcyBrZXlzXG4vLyB0aGF0IGhhdmUgYSBkYW5nZXJvdXMgZGVmYXVsdCBlZmZlY3QsIGV2ZW4gaWYgdGhlIGNvbW1hbmRzIHRoZXkgYXJlXG4vLyBib3VuZCB0byByZXR1cm4gZmFsc2UsIGFuZCB0byBtYWtlIHN1cmUgdGhhdCBjdXJzb3ItbW90aW9uIGtleXNcbi8vIGZpbmQgYSBjdXJzb3IgKGFzIG9wcG9zZWQgdG8gYSBub2RlIHNlbGVjdGlvbikgd2hlbiBwcmVzc2VkLiBGb3Jcbi8vIGN1cnNvci1tb3Rpb24ga2V5cywgdGhlIGNvZGUgaW4gdGhlIGhhbmRsZXJzIGFsc28gdGFrZXMgY2FyZSBvZlxuLy8gYmxvY2sgc2VsZWN0aW9ucy5cblxuZnVuY3Rpb24gZ2V0TW9kcyhldmVudCkge1xuICBsZXQgcmVzdWx0ID0gXCJcIlxuICBpZiAoZXZlbnQuY3RybEtleSkgcmVzdWx0ICs9IFwiY1wiXG4gIGlmIChldmVudC5tZXRhS2V5KSByZXN1bHQgKz0gXCJtXCJcbiAgaWYgKGV2ZW50LmFsdEtleSkgcmVzdWx0ICs9IFwiYVwiXG4gIGlmIChldmVudC5zaGlmdEtleSkgcmVzdWx0ICs9IFwic1wiXG4gIHJldHVybiByZXN1bHRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhcHR1cmVLZXlEb3duKHZpZXcsIGV2ZW50KSB7XG4gIGxldCBjb2RlID0gZXZlbnQua2V5Q29kZSwgbW9kcyA9IGdldE1vZHMoZXZlbnQpXG4gIGlmIChjb2RlID09IDggfHwgKGJyb3dzZXIubWFjICYmIGNvZGUgPT0gNzIgJiYgbW9kcyA9PSBcImNcIikpIHsgLy8gQmFja3NwYWNlLCBDdHJsLWggb24gTWFjXG4gICAgcmV0dXJuIHN0b3BOYXRpdmVIb3Jpem9udGFsRGVsZXRlKHZpZXcsIC0xKSB8fCBza2lwSWdub3JlZE5vZGVzTGVmdCh2aWV3KVxuICB9IGVsc2UgaWYgKGNvZGUgPT0gNDYgfHwgKGJyb3dzZXIubWFjICYmIGNvZGUgPT0gNjggJiYgbW9kcyA9PSBcImNcIikpIHsgLy8gRGVsZXRlLCBDdHJsLWQgb24gTWFjXG4gICAgcmV0dXJuIHN0b3BOYXRpdmVIb3Jpem9udGFsRGVsZXRlKHZpZXcsIDEpIHx8IHNraXBJZ25vcmVkTm9kZXNSaWdodCh2aWV3KVxuICB9IGVsc2UgaWYgKChjb2RlID09IDEzICYmICFicm93c2VyLmlvcykgfHwgY29kZSA9PSAyNykgeyAvLyBFbnRlciAobGV0IHRocm91Z2ggb24gaU9TLCB0byBhdm9pZCBrZXlib2FyZCBzeW5jIGlzc3VlcyksIEVzY1xuICAgIHJldHVybiB0cnVlXG4gIH0gZWxzZSBpZiAoY29kZSA9PSAzNykgeyAvLyBMZWZ0IGFycm93XG4gICAgcmV0dXJuIHNlbGVjdEhvcml6b250YWxseSh2aWV3LCAtMSwgbW9kcykgfHwgc2tpcElnbm9yZWROb2Rlc0xlZnQodmlldylcbiAgfSBlbHNlIGlmIChjb2RlID09IDM5KSB7IC8vIFJpZ2h0IGFycm93XG4gICAgcmV0dXJuIHNlbGVjdEhvcml6b250YWxseSh2aWV3LCAxLCBtb2RzKSB8fCBza2lwSWdub3JlZE5vZGVzUmlnaHQodmlldylcbiAgfSBlbHNlIGlmIChjb2RlID09IDM4KSB7IC8vIFVwIGFycm93XG4gICAgcmV0dXJuIHNlbGVjdFZlcnRpY2FsbHkodmlldywgLTEsIG1vZHMpIHx8IHNraXBJZ25vcmVkTm9kZXNMZWZ0KHZpZXcpXG4gIH0gZWxzZSBpZiAoY29kZSA9PSA0MCkgeyAvLyBEb3duIGFycm93XG4gICAgcmV0dXJuIGNocm9tZURvd25BcnJvd0J1Zyh2aWV3KSB8fCBzZWxlY3RWZXJ0aWNhbGx5KHZpZXcsIDEsIG1vZHMpIHx8IHNraXBJZ25vcmVkTm9kZXNSaWdodCh2aWV3KVxuICB9IGVsc2UgaWYgKG1vZHMgPT0gKGJyb3dzZXIubWFjID8gXCJtXCIgOiBcImNcIikgJiZcbiAgICAgICAgICAgICAoY29kZSA9PSA2NiB8fCBjb2RlID09IDczIHx8IGNvZGUgPT0gODkgfHwgY29kZSA9PSA5MCkpIHsgLy8gTW9kLVtiaXl6XVxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG4iLCJpbXBvcnQge0ZyYWdtZW50LCBET01QYXJzZXJ9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5pbXBvcnQge1NlbGVjdGlvbiwgVGV4dFNlbGVjdGlvbn0gZnJvbSBcInByb3NlbWlycm9yLXN0YXRlXCJcblxuaW1wb3J0IHtzZWxlY3Rpb25CZXR3ZWVuLCBzZWxlY3Rpb25Gcm9tRE9NLCBzZWxlY3Rpb25Ub0RPTX0gZnJvbSBcIi4vc2VsZWN0aW9uXCJcbmltcG9ydCB7c2VsZWN0aW9uQ29sbGFwc2VkLCBrZXlFdmVudH0gZnJvbSBcIi4vZG9tXCJcbmltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXJcIlxuXG4vLyBOb3RlIHRoYXQgYWxsIHJlZmVyZW5jaW5nIGFuZCBwYXJzaW5nIGlzIGRvbmUgd2l0aCB0aGVcbi8vIHN0YXJ0LW9mLW9wZXJhdGlvbiBzZWxlY3Rpb24gYW5kIGRvY3VtZW50LCBzaW5jZSB0aGF0J3MgdGhlIG9uZVxuLy8gdGhhdCB0aGUgRE9NIHJlcHJlc2VudHMuIElmIGFueSBjaGFuZ2VzIGNhbWUgaW4gaW4gdGhlIG1lYW50aW1lLFxuLy8gdGhlIG1vZGlmaWNhdGlvbiBpcyBtYXBwZWQgb3ZlciB0aG9zZSBiZWZvcmUgaXQgaXMgYXBwbGllZCwgaW5cbi8vIHJlYWRET01DaGFuZ2UuXG5cbmZ1bmN0aW9uIHBhcnNlQmV0d2Vlbih2aWV3LCBmcm9tXywgdG9fKSB7XG4gIGxldCB7bm9kZTogcGFyZW50LCBmcm9tT2Zmc2V0LCB0b09mZnNldCwgZnJvbSwgdG99ID0gdmlldy5kb2NWaWV3LnBhcnNlUmFuZ2UoZnJvbV8sIHRvXylcblxuICBsZXQgZG9tU2VsID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpLCBmaW5kID0gbnVsbCwgYW5jaG9yID0gZG9tU2VsLmFuY2hvck5vZGVcbiAgaWYgKGFuY2hvciAmJiB2aWV3LmRvbS5jb250YWlucyhhbmNob3Iubm9kZVR5cGUgPT0gMSA/IGFuY2hvciA6IGFuY2hvci5wYXJlbnROb2RlKSkge1xuICAgIGZpbmQgPSBbe25vZGU6IGFuY2hvciwgb2Zmc2V0OiBkb21TZWwuYW5jaG9yT2Zmc2V0fV1cbiAgICBpZiAoIXNlbGVjdGlvbkNvbGxhcHNlZChkb21TZWwpKVxuICAgICAgZmluZC5wdXNoKHtub2RlOiBkb21TZWwuZm9jdXNOb2RlLCBvZmZzZXQ6IGRvbVNlbC5mb2N1c09mZnNldH0pXG4gIH1cbiAgLy8gV29yayBhcm91bmQgaXNzdWUgaW4gQ2hyb21lIHdoZXJlIGJhY2tzcGFjaW5nIHNvbWV0aW1lcyByZXBsYWNlc1xuICAvLyB0aGUgZGVsZXRlZCBjb250ZW50IHdpdGggYSByYW5kb20gQlIgbm9kZSAoaXNzdWVzICM3OTksICM4MzEpXG4gIGlmIChicm93c2VyLmNocm9tZSAmJiB2aWV3Lmxhc3RLZXlDb2RlID09PSA4KSB7XG4gICAgZm9yIChsZXQgb2ZmID0gdG9PZmZzZXQ7IG9mZiA+IGZyb21PZmZzZXQ7IG9mZi0tKSB7XG4gICAgICBsZXQgbm9kZSA9IHBhcmVudC5jaGlsZE5vZGVzW29mZiAtIDFdLCBkZXNjID0gbm9kZS5wbVZpZXdEZXNjXG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSBcIkJSXCIgJiYgIWRlc2MpIHsgdG9PZmZzZXQgPSBvZmY7IGJyZWFrIH1cbiAgICAgIGlmICghZGVzYyB8fCBkZXNjLnNpemUpIGJyZWFrXG4gICAgfVxuICB9XG4gIGxldCBzdGFydERvYyA9IHZpZXcuc3RhdGUuZG9jXG4gIGxldCBwYXJzZXIgPSB2aWV3LnNvbWVQcm9wKFwiZG9tUGFyc2VyXCIpIHx8IERPTVBhcnNlci5mcm9tU2NoZW1hKHZpZXcuc3RhdGUuc2NoZW1hKVxuICBsZXQgJGZyb20gPSBzdGFydERvYy5yZXNvbHZlKGZyb20pXG5cbiAgbGV0IHNlbCA9IG51bGwsIGRvYyA9IHBhcnNlci5wYXJzZShwYXJlbnQsIHtcbiAgICB0b3BOb2RlOiAkZnJvbS5wYXJlbnQsXG4gICAgdG9wTWF0Y2g6ICRmcm9tLnBhcmVudC5jb250ZW50TWF0Y2hBdCgkZnJvbS5pbmRleCgpKSxcbiAgICB0b3BPcGVuOiB0cnVlLFxuICAgIGZyb206IGZyb21PZmZzZXQsXG4gICAgdG86IHRvT2Zmc2V0LFxuICAgIHByZXNlcnZlV2hpdGVzcGFjZTogJGZyb20ucGFyZW50LnR5cGUuc3BlYy5jb2RlID8gXCJmdWxsXCIgOiB0cnVlLFxuICAgIGVkaXRhYmxlQ29udGVudDogdHJ1ZSxcbiAgICBmaW5kUG9zaXRpb25zOiBmaW5kLFxuICAgIHJ1bGVGcm9tTm9kZSxcbiAgICBjb250ZXh0OiAkZnJvbVxuICB9KVxuICBpZiAoZmluZCAmJiBmaW5kWzBdLnBvcyAhPSBudWxsKSB7XG4gICAgbGV0IGFuY2hvciA9IGZpbmRbMF0ucG9zLCBoZWFkID0gZmluZFsxXSAmJiBmaW5kWzFdLnBvc1xuICAgIGlmIChoZWFkID09IG51bGwpIGhlYWQgPSBhbmNob3JcbiAgICBzZWwgPSB7YW5jaG9yOiBhbmNob3IgKyBmcm9tLCBoZWFkOiBoZWFkICsgZnJvbX1cbiAgfVxuICByZXR1cm4ge2RvYywgc2VsLCBmcm9tLCB0b31cbn1cblxuZnVuY3Rpb24gcnVsZUZyb21Ob2RlKGRvbSkge1xuICBsZXQgZGVzYyA9IGRvbS5wbVZpZXdEZXNjXG4gIGlmIChkZXNjKSB7XG4gICAgcmV0dXJuIGRlc2MucGFyc2VSdWxlKClcbiAgfSBlbHNlIGlmIChkb20ubm9kZU5hbWUgPT0gXCJCUlwiICYmIGRvbS5wYXJlbnROb2RlKSB7XG4gICAgLy8gU2FmYXJpIHJlcGxhY2VzIHRoZSBsaXN0IGl0ZW0gb3IgdGFibGUgY2VsbCB3aXRoIGEgQlJcbiAgICAvLyBkaXJlY3RseSBpbiB0aGUgbGlzdCBub2RlICg/ISkgaWYgeW91IGRlbGV0ZSB0aGUgbGFzdFxuICAgIC8vIGNoYXJhY3RlciBpbiBhIGxpc3QgaXRlbSBvciB0YWJsZSBjZWxsICgjNzA4LCAjODYyKVxuICAgIGlmIChicm93c2VyLnNhZmFyaSAmJiAvXih1bHxvbCkkL2kudGVzdChkb20ucGFyZW50Tm9kZS5ub2RlTmFtZSkpIHtcbiAgICAgIGxldCBza2lwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgc2tpcC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIikpXG4gICAgICByZXR1cm4ge3NraXB9XG4gICAgfSBlbHNlIGlmIChkb20ucGFyZW50Tm9kZS5sYXN0Q2hpbGQgPT0gZG9tIHx8IGJyb3dzZXIuc2FmYXJpICYmIC9eKHRyfHRhYmxlKSQvaS50ZXN0KGRvbS5wYXJlbnROb2RlLm5vZGVOYW1lKSkge1xuICAgICAgcmV0dXJuIHtpZ25vcmU6IHRydWV9XG4gICAgfVxuICB9IGVsc2UgaWYgKGRvbS5ub2RlTmFtZSA9PSBcIklNR1wiICYmIGRvbS5nZXRBdHRyaWJ1dGUoXCJtYXJrLXBsYWNlaG9sZGVyXCIpKSB7XG4gICAgcmV0dXJuIHtpZ25vcmU6IHRydWV9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRET01DaGFuZ2UodmlldywgZnJvbSwgdG8sIHR5cGVPdmVyLCBhZGRlZE5vZGVzKSB7XG4gIGlmIChmcm9tIDwgMCkge1xuICAgIGxldCBvcmlnaW4gPSB2aWV3Lmxhc3RTZWxlY3Rpb25UaW1lID4gRGF0ZS5ub3coKSAtIDUwID8gdmlldy5sYXN0U2VsZWN0aW9uT3JpZ2luIDogbnVsbFxuICAgIGxldCBuZXdTZWwgPSBzZWxlY3Rpb25Gcm9tRE9NKHZpZXcsIG9yaWdpbilcbiAgICBpZiAoIXZpZXcuc3RhdGUuc2VsZWN0aW9uLmVxKG5ld1NlbCkpIHtcbiAgICAgIGxldCB0ciA9IHZpZXcuc3RhdGUudHIuc2V0U2VsZWN0aW9uKG5ld1NlbClcbiAgICAgIGlmIChvcmlnaW4gPT0gXCJwb2ludGVyXCIpIHRyLnNldE1ldGEoXCJwb2ludGVyXCIsIHRydWUpXG4gICAgICBlbHNlIGlmIChvcmlnaW4gPT0gXCJrZXlcIikgdHIuc2Nyb2xsSW50b1ZpZXcoKVxuICAgICAgdmlldy5kaXNwYXRjaCh0cilcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICBsZXQgJGJlZm9yZSA9IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoZnJvbSlcbiAgbGV0IHNoYXJlZCA9ICRiZWZvcmUuc2hhcmVkRGVwdGgodG8pXG4gIGZyb20gPSAkYmVmb3JlLmJlZm9yZShzaGFyZWQgKyAxKVxuICB0byA9IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUodG8pLmFmdGVyKHNoYXJlZCArIDEpXG5cbiAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uXG4gIGxldCBwYXJzZSA9IHBhcnNlQmV0d2Vlbih2aWV3LCBmcm9tLCB0bylcblxuICBsZXQgZG9jID0gdmlldy5zdGF0ZS5kb2MsIGNvbXBhcmUgPSBkb2Muc2xpY2UocGFyc2UuZnJvbSwgcGFyc2UudG8pXG4gIGxldCBwcmVmZXJyZWRQb3MsIHByZWZlcnJlZFNpZGVcbiAgLy8gUHJlZmVyIGFuY2hvcmluZyB0byBlbmQgd2hlbiBCYWNrc3BhY2UgaXMgcHJlc3NlZFxuICBpZiAodmlldy5sYXN0S2V5Q29kZSA9PT0gOCAmJiBEYXRlLm5vdygpIC0gMTAwIDwgdmlldy5sYXN0S2V5Q29kZVRpbWUpIHtcbiAgICBwcmVmZXJyZWRQb3MgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbi50b1xuICAgIHByZWZlcnJlZFNpZGUgPSBcImVuZFwiXG4gIH0gZWxzZSB7XG4gICAgcHJlZmVycmVkUG9zID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbVxuICAgIHByZWZlcnJlZFNpZGUgPSBcInN0YXJ0XCJcbiAgfVxuICB2aWV3Lmxhc3RLZXlDb2RlID0gbnVsbFxuXG4gIGxldCBjaGFuZ2UgPSBmaW5kRGlmZihjb21wYXJlLmNvbnRlbnQsIHBhcnNlLmRvYy5jb250ZW50LCBwYXJzZS5mcm9tLCBwcmVmZXJyZWRQb3MsIHByZWZlcnJlZFNpZGUpXG4gIGlmICghY2hhbmdlKSB7XG4gICAgaWYgKHR5cGVPdmVyICYmIHNlbCBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24gJiYgIXNlbC5lbXB0eSAmJiBzZWwuJGhlYWQuc2FtZVBhcmVudChzZWwuJGFuY2hvcikgJiZcbiAgICAgICAgIXZpZXcuY29tcG9zaW5nICYmICEocGFyc2Uuc2VsICYmIHBhcnNlLnNlbC5hbmNob3IgIT0gcGFyc2Uuc2VsLmhlYWQpKSB7XG4gICAgICBjaGFuZ2UgPSB7c3RhcnQ6IHNlbC5mcm9tLCBlbmRBOiBzZWwudG8sIGVuZEI6IHNlbC50b31cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhcnNlLnNlbCkge1xuICAgICAgICBsZXQgc2VsID0gcmVzb2x2ZVNlbGVjdGlvbih2aWV3LCB2aWV3LnN0YXRlLmRvYywgcGFyc2Uuc2VsKVxuICAgICAgICBpZiAoc2VsICYmICFzZWwuZXEodmlldy5zdGF0ZS5zZWxlY3Rpb24pKSB2aWV3LmRpc3BhdGNoKHZpZXcuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHNlbCkpXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG4gIH1cbiAgdmlldy5kb21DaGFuZ2VDb3VudCsrXG4gIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSBvdmVyd3JpdGluZyBhIHNlbGVjdGlvbiBieSB0eXBpbmcgbWF0Y2hlc1xuICAvLyB0aGUgc3RhcnQgb3IgZW5kIG9mIHRoZSBzZWxlY3RlZCBjb250ZW50LCBjcmVhdGluZyBhIGNoYW5nZVxuICAvLyB0aGF0J3Mgc21hbGxlciB0aGFuIHdoYXQgd2FzIGFjdHVhbGx5IG92ZXJ3cml0dGVuLlxuICBpZiAodmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbSA8IHZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvICYmXG4gICAgICBjaGFuZ2Uuc3RhcnQgPT0gY2hhbmdlLmVuZEIgJiZcbiAgICAgIHZpZXcuc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbikge1xuICAgIGlmIChjaGFuZ2Uuc3RhcnQgPiB2aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tICYmIGNoYW5nZS5zdGFydCA8PSB2aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tICsgMikge1xuICAgICAgY2hhbmdlLnN0YXJ0ID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbVxuICAgIH0gZWxzZSBpZiAoY2hhbmdlLmVuZEEgPCB2aWV3LnN0YXRlLnNlbGVjdGlvbi50byAmJiBjaGFuZ2UuZW5kQSA+PSB2aWV3LnN0YXRlLnNlbGVjdGlvbi50byAtIDIpIHtcbiAgICAgIGNoYW5nZS5lbmRCICs9ICh2aWV3LnN0YXRlLnNlbGVjdGlvbi50byAtIGNoYW5nZS5lbmRBKVxuICAgICAgY2hhbmdlLmVuZEEgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbi50b1xuICAgIH1cbiAgfVxuXG4gIC8vIElFMTEgd2lsbCBpbnNlcnQgYSBub24tYnJlYWtpbmcgc3BhY2UgX2FoZWFkXyBvZiB0aGUgc3BhY2UgYWZ0ZXJcbiAgLy8gdGhlIGN1cnNvciBzcGFjZSB3aGVuIGFkZGluZyBhIHNwYWNlIGJlZm9yZSBhbm90aGVyIHNwYWNlLiBXaGVuXG4gIC8vIHRoYXQgaGFwcGVuZWQsIGFkanVzdCB0aGUgY2hhbmdlIHRvIGNvdmVyIHRoZSBzcGFjZSBpbnN0ZWFkLlxuICBpZiAoYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTEgJiYgY2hhbmdlLmVuZEIgPT0gY2hhbmdlLnN0YXJ0ICsgMSAmJlxuICAgICAgY2hhbmdlLmVuZEEgPT0gY2hhbmdlLnN0YXJ0ICYmIGNoYW5nZS5zdGFydCA+IHBhcnNlLmZyb20gJiZcbiAgICAgIHBhcnNlLmRvYy50ZXh0QmV0d2VlbihjaGFuZ2Uuc3RhcnQgLSBwYXJzZS5mcm9tIC0gMSwgY2hhbmdlLnN0YXJ0IC0gcGFyc2UuZnJvbSArIDEpID09IFwiIFxcdTAwYTBcIikge1xuICAgIGNoYW5nZS5zdGFydC0tXG4gICAgY2hhbmdlLmVuZEEtLVxuICAgIGNoYW5nZS5lbmRCLS1cbiAgfVxuXG4gIGxldCAkZnJvbSA9IHBhcnNlLmRvYy5yZXNvbHZlTm9DYWNoZShjaGFuZ2Uuc3RhcnQgLSBwYXJzZS5mcm9tKVxuICBsZXQgJHRvID0gcGFyc2UuZG9jLnJlc29sdmVOb0NhY2hlKGNoYW5nZS5lbmRCIC0gcGFyc2UuZnJvbSlcbiAgbGV0IG5leHRTZWxcbiAgLy8gSWYgdGhpcyBsb29rcyBsaWtlIHRoZSBlZmZlY3Qgb2YgcHJlc3NpbmcgRW50ZXIgKG9yIHdhcyByZWNvcmRlZFxuICAvLyBhcyBiZWluZyBhbiBpT1MgZW50ZXIgcHJlc3MpLCBqdXN0IGRpc3BhdGNoIGFuIEVudGVyIGtleSBpbnN0ZWFkLlxuICBpZiAoKChicm93c2VyLmlvcyAmJiB2aWV3Lmxhc3RJT1NFbnRlciA+IERhdGUubm93KCkgLSAxMDAgJiZcbiAgICAgICAgKCEkZnJvbS5zYW1lUGFyZW50KCR0bykgfHwgYWRkZWROb2Rlcy5zb21lKG4gPT4gbi5ub2RlTmFtZSA9PSBcIkRJVlwiKSkpIHx8XG4gICAgICAgKCEkZnJvbS5zYW1lUGFyZW50KCR0bykgJiYgJGZyb20ucG9zIDwgcGFyc2UuZG9jLmNvbnRlbnQuc2l6ZSAmJlxuICAgICAgICAobmV4dFNlbCA9IFNlbGVjdGlvbi5maW5kRnJvbShwYXJzZS5kb2MucmVzb2x2ZSgkZnJvbS5wb3MgKyAxKSwgMSwgdHJ1ZSkpICYmXG4gICAgICAgIG5leHRTZWwuaGVhZCA9PSAkdG8ucG9zKSkgJiZcbiAgICAgIHZpZXcuc29tZVByb3AoXCJoYW5kbGVLZXlEb3duXCIsIGYgPT4gZih2aWV3LCBrZXlFdmVudCgxMywgXCJFbnRlclwiKSkpKSB7XG4gICAgdmlldy5sYXN0SU9TRW50ZXIgPSAwXG4gICAgcmV0dXJuXG4gIH1cbiAgLy8gU2FtZSBmb3IgYmFja3NwYWNlXG4gIGlmICh2aWV3LnN0YXRlLnNlbGVjdGlvbi5hbmNob3IgPiBjaGFuZ2Uuc3RhcnQgJiZcbiAgICAgIGxvb2tzTGlrZUpvaW4oZG9jLCBjaGFuZ2Uuc3RhcnQsIGNoYW5nZS5lbmRBLCAkZnJvbSwgJHRvKSAmJlxuICAgICAgdmlldy5zb21lUHJvcChcImhhbmRsZUtleURvd25cIiwgZiA9PiBmKHZpZXcsIGtleUV2ZW50KDgsIFwiQmFja3NwYWNlXCIpKSkpIHtcbiAgICBpZiAoYnJvd3Nlci5hbmRyb2lkICYmIGJyb3dzZXIuY2hyb21lKSB2aWV3LmRvbU9ic2VydmVyLnN1cHByZXNzU2VsZWN0aW9uVXBkYXRlcygpIC8vICM4MjBcbiAgICByZXR1cm5cbiAgfVxuXG4gIGxldCBjaEZyb20gPSBjaGFuZ2Uuc3RhcnQsIGNoVG8gPSBjaGFuZ2UuZW5kQVxuXG4gIGxldCB0ciwgc3RvcmVkTWFya3MsIG1hcmtDaGFuZ2UsICRmcm9tMVxuICBpZiAoJGZyb20uc2FtZVBhcmVudCgkdG8pICYmICRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50KSB7XG4gICAgaWYgKCRmcm9tLnBvcyA9PSAkdG8ucG9zKSB7IC8vIERlbGV0aW9uXG4gICAgICAvLyBJRTExIHNvbWV0aW1lcyB3ZWlyZGx5IG1vdmVzIHRoZSBET00gc2VsZWN0aW9uIGFyb3VuZCBhZnRlclxuICAgICAgLy8gYmFja3NwYWNpbmcgb3V0IHRoZSBmaXJzdCBlbGVtZW50IGluIGEgdGV4dGJsb2NrXG4gICAgICBpZiAoYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTEgJiYgJGZyb20ucGFyZW50T2Zmc2V0ID09IDApIHtcbiAgICAgICAgdmlldy5kb21PYnNlcnZlci5zdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMoKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNlbGVjdGlvblRvRE9NKHZpZXcpLCAyMClcbiAgICAgIH1cbiAgICAgIHRyID0gdmlldy5zdGF0ZS50ci5kZWxldGUoY2hGcm9tLCBjaFRvKVxuICAgICAgc3RvcmVkTWFya3MgPSBkb2MucmVzb2x2ZShjaGFuZ2Uuc3RhcnQpLm1hcmtzQWNyb3NzKGRvYy5yZXNvbHZlKGNoYW5nZS5lbmRBKSlcbiAgICB9IGVsc2UgaWYgKCAvLyBBZGRpbmcgb3IgcmVtb3ZpbmcgYSBtYXJrXG4gICAgICBjaGFuZ2UuZW5kQSA9PSBjaGFuZ2UuZW5kQiAmJiAoJGZyb20xID0gZG9jLnJlc29sdmUoY2hhbmdlLnN0YXJ0KSkgJiZcbiAgICAgIChtYXJrQ2hhbmdlID0gaXNNYXJrQ2hhbmdlKCRmcm9tLnBhcmVudC5jb250ZW50LmN1dCgkZnJvbS5wYXJlbnRPZmZzZXQsICR0by5wYXJlbnRPZmZzZXQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGZyb20xLnBhcmVudC5jb250ZW50LmN1dCgkZnJvbTEucGFyZW50T2Zmc2V0LCBjaGFuZ2UuZW5kQSAtICRmcm9tMS5zdGFydCgpKSkpXG4gICAgKSB7XG4gICAgICB0ciA9IHZpZXcuc3RhdGUudHJcbiAgICAgIGlmIChtYXJrQ2hhbmdlLnR5cGUgPT0gXCJhZGRcIikgdHIuYWRkTWFyayhjaEZyb20sIGNoVG8sIG1hcmtDaGFuZ2UubWFyaylcbiAgICAgIGVsc2UgdHIucmVtb3ZlTWFyayhjaEZyb20sIGNoVG8sIG1hcmtDaGFuZ2UubWFyaylcbiAgICB9IGVsc2UgaWYgKCRmcm9tLnBhcmVudC5jaGlsZCgkZnJvbS5pbmRleCgpKS5pc1RleHQgJiYgJGZyb20uaW5kZXgoKSA9PSAkdG8uaW5kZXgoKSAtICgkdG8udGV4dE9mZnNldCA/IDAgOiAxKSkge1xuICAgICAgLy8gQm90aCBwb3NpdGlvbnMgaW4gdGhlIHNhbWUgdGV4dCBub2RlIC0tIHNpbXBseSBpbnNlcnQgdGV4dFxuICAgICAgbGV0IHRleHQgPSAkZnJvbS5wYXJlbnQudGV4dEJldHdlZW4oJGZyb20ucGFyZW50T2Zmc2V0LCAkdG8ucGFyZW50T2Zmc2V0KVxuICAgICAgaWYgKHZpZXcuc29tZVByb3AoXCJoYW5kbGVUZXh0SW5wdXRcIiwgZiA9PiBmKHZpZXcsIGNoRnJvbSwgY2hUbywgdGV4dCkpKSByZXR1cm5cbiAgICAgIHRyID0gdmlldy5zdGF0ZS50ci5pbnNlcnRUZXh0KHRleHQsIGNoRnJvbSwgY2hUbylcbiAgICB9XG4gIH1cblxuICBpZiAoIXRyKVxuICAgIHRyID0gdmlldy5zdGF0ZS50ci5yZXBsYWNlKGNoRnJvbSwgY2hUbywgcGFyc2UuZG9jLnNsaWNlKGNoYW5nZS5zdGFydCAtIHBhcnNlLmZyb20sIGNoYW5nZS5lbmRCIC0gcGFyc2UuZnJvbSkpXG4gIGlmIChwYXJzZS5zZWwpIHtcbiAgICBsZXQgc2VsID0gcmVzb2x2ZVNlbGVjdGlvbih2aWV3LCB0ci5kb2MsIHBhcnNlLnNlbClcbiAgICAvLyBDaHJvbWUgQW5kcm9pZCB3aWxsIHNvbWV0aW1lcywgZHVyaW5nIGNvbXBvc2l0aW9uLCByZXBvcnQgdGhlXG4gICAgLy8gc2VsZWN0aW9uIGluIHRoZSB3cm9uZyBwbGFjZS4gSWYgaXQgbG9va3MgbGlrZSB0aGF0IGlzXG4gICAgLy8gaGFwcGVuaW5nLCBkb24ndCB1cGRhdGUgdGhlIHNlbGVjdGlvbi5cbiAgICAvLyBFZGdlIGp1c3QgZG9lc24ndCBtb3ZlIHRoZSBjdXJzb3IgZm9yd2FyZCB3aGVuIHlvdSBzdGFydCB0eXBpbmdcbiAgICAvLyBpbiBhbiBlbXB0eSBibG9jayBvciBiZXR3ZWVuIGJyIG5vZGVzLlxuICAgIGlmIChzZWwgJiYgIShicm93c2VyLmNocm9tZSAmJiBicm93c2VyLmFuZHJvaWQgJiYgdmlldy5jb21wb3NpbmcgJiYgc2VsLmVtcHR5ICYmIHNlbC5oZWFkID09IGNoRnJvbSB8fFxuICAgICAgICAgICAgICAgICBicm93c2VyLmllICYmIHNlbC5lbXB0eSAmJiBzZWwuaGVhZCA9PSBjaEZyb20pKVxuICAgICAgdHIuc2V0U2VsZWN0aW9uKHNlbClcbiAgfVxuICBpZiAoc3RvcmVkTWFya3MpIHRyLmVuc3VyZU1hcmtzKHN0b3JlZE1hcmtzKVxuICB2aWV3LmRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpXG59XG5cbmZ1bmN0aW9uIHJlc29sdmVTZWxlY3Rpb24odmlldywgZG9jLCBwYXJzZWRTZWwpIHtcbiAgaWYgKE1hdGgubWF4KHBhcnNlZFNlbC5hbmNob3IsIHBhcnNlZFNlbC5oZWFkKSA+IGRvYy5jb250ZW50LnNpemUpIHJldHVybiBudWxsXG4gIHJldHVybiBzZWxlY3Rpb25CZXR3ZWVuKHZpZXcsIGRvYy5yZXNvbHZlKHBhcnNlZFNlbC5hbmNob3IpLCBkb2MucmVzb2x2ZShwYXJzZWRTZWwuaGVhZCkpXG59XG5cbi8vIDogKEZyYWdtZW50LCBGcmFnbWVudCkg4oaSID97bWFyazogTWFyaywgdHlwZTogc3RyaW5nfVxuLy8gR2l2ZW4gdHdvIHNhbWUtbGVuZ3RoLCBub24tZW1wdHkgZnJhZ21lbnRzIG9mIGlubGluZSBjb250ZW50LFxuLy8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGZpcnN0IGNvdWxkIGJlIGNyZWF0ZWQgZnJvbSB0aGUgc2Vjb25kIGJ5XG4vLyByZW1vdmluZyBvciBhZGRpbmcgYSBzaW5nbGUgbWFyayB0eXBlLlxuZnVuY3Rpb24gaXNNYXJrQ2hhbmdlKGN1ciwgcHJldikge1xuICBsZXQgY3VyTWFya3MgPSBjdXIuZmlyc3RDaGlsZC5tYXJrcywgcHJldk1hcmtzID0gcHJldi5maXJzdENoaWxkLm1hcmtzXG4gIGxldCBhZGRlZCA9IGN1ck1hcmtzLCByZW1vdmVkID0gcHJldk1hcmtzLCB0eXBlLCBtYXJrLCB1cGRhdGVcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2TWFya3MubGVuZ3RoOyBpKyspIGFkZGVkID0gcHJldk1hcmtzW2ldLnJlbW92ZUZyb21TZXQoYWRkZWQpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY3VyTWFya3MubGVuZ3RoOyBpKyspIHJlbW92ZWQgPSBjdXJNYXJrc1tpXS5yZW1vdmVGcm9tU2V0KHJlbW92ZWQpXG4gIGlmIChhZGRlZC5sZW5ndGggPT0gMSAmJiByZW1vdmVkLmxlbmd0aCA9PSAwKSB7XG4gICAgbWFyayA9IGFkZGVkWzBdXG4gICAgdHlwZSA9IFwiYWRkXCJcbiAgICB1cGRhdGUgPSBub2RlID0+IG5vZGUubWFyayhtYXJrLmFkZFRvU2V0KG5vZGUubWFya3MpKVxuICB9IGVsc2UgaWYgKGFkZGVkLmxlbmd0aCA9PSAwICYmIHJlbW92ZWQubGVuZ3RoID09IDEpIHtcbiAgICBtYXJrID0gcmVtb3ZlZFswXVxuICAgIHR5cGUgPSBcInJlbW92ZVwiXG4gICAgdXBkYXRlID0gbm9kZSA9PiBub2RlLm1hcmsobWFyay5yZW1vdmVGcm9tU2V0KG5vZGUubWFya3MpKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgbGV0IHVwZGF0ZWQgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXYuY2hpbGRDb3VudDsgaSsrKSB1cGRhdGVkLnB1c2godXBkYXRlKHByZXYuY2hpbGQoaSkpKVxuICBpZiAoRnJhZ21lbnQuZnJvbSh1cGRhdGVkKS5lcShjdXIpKSByZXR1cm4ge21hcmssIHR5cGV9XG59XG5cbmZ1bmN0aW9uIGxvb2tzTGlrZUpvaW4ob2xkLCBzdGFydCwgZW5kLCAkbmV3U3RhcnQsICRuZXdFbmQpIHtcbiAgaWYgKCEkbmV3U3RhcnQucGFyZW50LmlzVGV4dGJsb2NrIHx8XG4gICAgICAvLyBUaGUgY29udGVudCBtdXN0IGhhdmUgc2hydW5rXG4gICAgICBlbmQgLSBzdGFydCA8PSAkbmV3RW5kLnBvcyAtICRuZXdTdGFydC5wb3MgfHxcbiAgICAgIC8vIG5ld0VuZCBtdXN0IHBvaW50IGRpcmVjdGx5IGF0IG9yIGFmdGVyIHRoZSBlbmQgb2YgdGhlIGJsb2NrIHRoYXQgbmV3U3RhcnQgcG9pbnRzIGludG9cbiAgICAgIHNraXBDbG9zaW5nQW5kT3BlbmluZygkbmV3U3RhcnQsIHRydWUsIGZhbHNlKSA8ICRuZXdFbmQucG9zKVxuICAgIHJldHVybiBmYWxzZVxuXG4gIGxldCAkc3RhcnQgPSBvbGQucmVzb2x2ZShzdGFydClcbiAgLy8gU3RhcnQgbXVzdCBiZSBhdCB0aGUgZW5kIG9mIGEgYmxvY2tcbiAgaWYgKCRzdGFydC5wYXJlbnRPZmZzZXQgPCAkc3RhcnQucGFyZW50LmNvbnRlbnQuc2l6ZSB8fCAhJHN0YXJ0LnBhcmVudC5pc1RleHRibG9jaylcbiAgICByZXR1cm4gZmFsc2VcbiAgbGV0ICRuZXh0ID0gb2xkLnJlc29sdmUoc2tpcENsb3NpbmdBbmRPcGVuaW5nKCRzdGFydCwgdHJ1ZSwgdHJ1ZSkpXG4gIC8vIFRoZSBuZXh0IHRleHRibG9jayBtdXN0IHN0YXJ0IGJlZm9yZSBlbmQgYW5kIGVuZCBuZWFyIGl0XG4gIGlmICghJG5leHQucGFyZW50LmlzVGV4dGJsb2NrIHx8ICRuZXh0LnBvcyA+IGVuZCB8fFxuICAgICAgc2tpcENsb3NpbmdBbmRPcGVuaW5nKCRuZXh0LCB0cnVlLCBmYWxzZSkgPCBlbmQpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgLy8gVGhlIGZyYWdtZW50cyBhZnRlciB0aGUgam9pbiBwb2ludCBtdXN0IG1hdGNoXG4gIHJldHVybiAkbmV3U3RhcnQucGFyZW50LmNvbnRlbnQuY3V0KCRuZXdTdGFydC5wYXJlbnRPZmZzZXQpLmVxKCRuZXh0LnBhcmVudC5jb250ZW50KVxufVxuXG5mdW5jdGlvbiBza2lwQ2xvc2luZ0FuZE9wZW5pbmcoJHBvcywgZnJvbUVuZCwgbWF5T3Blbikge1xuICBsZXQgZGVwdGggPSAkcG9zLmRlcHRoLCBlbmQgPSBmcm9tRW5kID8gJHBvcy5lbmQoKSA6ICRwb3MucG9zXG4gIHdoaWxlIChkZXB0aCA+IDAgJiYgKGZyb21FbmQgfHwgJHBvcy5pbmRleEFmdGVyKGRlcHRoKSA9PSAkcG9zLm5vZGUoZGVwdGgpLmNoaWxkQ291bnQpKSB7XG4gICAgZGVwdGgtLVxuICAgIGVuZCsrXG4gICAgZnJvbUVuZCA9IGZhbHNlXG4gIH1cbiAgaWYgKG1heU9wZW4pIHtcbiAgICBsZXQgbmV4dCA9ICRwb3Mubm9kZShkZXB0aCkubWF5YmVDaGlsZCgkcG9zLmluZGV4QWZ0ZXIoZGVwdGgpKVxuICAgIHdoaWxlIChuZXh0ICYmICFuZXh0LmlzTGVhZikge1xuICAgICAgbmV4dCA9IG5leHQuZmlyc3RDaGlsZFxuICAgICAgZW5kKytcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVuZFxufVxuXG5mdW5jdGlvbiBmaW5kRGlmZihhLCBiLCBwb3MsIHByZWZlcnJlZFBvcywgcHJlZmVycmVkU2lkZSkge1xuICBsZXQgc3RhcnQgPSBhLmZpbmREaWZmU3RhcnQoYiwgcG9zKVxuICBpZiAoc3RhcnQgPT0gbnVsbCkgcmV0dXJuIG51bGxcbiAgbGV0IHthOiBlbmRBLCBiOiBlbmRCfSA9IGEuZmluZERpZmZFbmQoYiwgcG9zICsgYS5zaXplLCBwb3MgKyBiLnNpemUpXG4gIGlmIChwcmVmZXJyZWRTaWRlID09IFwiZW5kXCIpIHtcbiAgICBsZXQgYWRqdXN0ID0gTWF0aC5tYXgoMCwgc3RhcnQgLSBNYXRoLm1pbihlbmRBLCBlbmRCKSlcbiAgICBwcmVmZXJyZWRQb3MgLT0gZW5kQSArIGFkanVzdCAtIHN0YXJ0XG4gIH1cbiAgaWYgKGVuZEEgPCBzdGFydCAmJiBhLnNpemUgPCBiLnNpemUpIHtcbiAgICBsZXQgbW92ZSA9IHByZWZlcnJlZFBvcyA8PSBzdGFydCAmJiBwcmVmZXJyZWRQb3MgPj0gZW5kQSA/IHN0YXJ0IC0gcHJlZmVycmVkUG9zIDogMFxuICAgIHN0YXJ0IC09IG1vdmVcbiAgICBlbmRCID0gc3RhcnQgKyAoZW5kQiAtIGVuZEEpXG4gICAgZW5kQSA9IHN0YXJ0XG4gIH0gZWxzZSBpZiAoZW5kQiA8IHN0YXJ0KSB7XG4gICAgbGV0IG1vdmUgPSBwcmVmZXJyZWRQb3MgPD0gc3RhcnQgJiYgcHJlZmVycmVkUG9zID49IGVuZEIgPyBzdGFydCAtIHByZWZlcnJlZFBvcyA6IDBcbiAgICBzdGFydCAtPSBtb3ZlXG4gICAgZW5kQSA9IHN0YXJ0ICsgKGVuZEEgLSBlbmRCKVxuICAgIGVuZEIgPSBzdGFydFxuICB9XG4gIHJldHVybiB7c3RhcnQsIGVuZEEsIGVuZEJ9XG59XG4iLCJpbXBvcnQge1NsaWNlLCBGcmFnbWVudCwgRE9NUGFyc2VyLCBET01TZXJpYWxpemVyfSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplRm9yQ2xpcGJvYXJkKHZpZXcsIHNsaWNlKSB7XG4gIGxldCBjb250ZXh0ID0gW10sIHtjb250ZW50LCBvcGVuU3RhcnQsIG9wZW5FbmR9ID0gc2xpY2VcbiAgd2hpbGUgKG9wZW5TdGFydCA+IDEgJiYgb3BlbkVuZCA+IDEgJiYgY29udGVudC5jaGlsZENvdW50ID09IDEgJiYgY29udGVudC5maXJzdENoaWxkLmNoaWxkQ291bnQgPT0gMSkge1xuICAgIG9wZW5TdGFydC0tXG4gICAgb3BlbkVuZC0tXG4gICAgbGV0IG5vZGUgPSBjb250ZW50LmZpcnN0Q2hpbGRcbiAgICBjb250ZXh0LnB1c2gobm9kZS50eXBlLm5hbWUsIG5vZGUudHlwZS5oYXNSZXF1aXJlZEF0dHJzKCkgPyBub2RlLmF0dHJzIDogbnVsbClcbiAgICBjb250ZW50ID0gbm9kZS5jb250ZW50XG4gIH1cblxuICBsZXQgc2VyaWFsaXplciA9IHZpZXcuc29tZVByb3AoXCJjbGlwYm9hcmRTZXJpYWxpemVyXCIpIHx8IERPTVNlcmlhbGl6ZXIuZnJvbVNjaGVtYSh2aWV3LnN0YXRlLnNjaGVtYSlcbiAgbGV0IGRvYyA9IGRldGFjaGVkRG9jKCksIHdyYXAgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICB3cmFwLmFwcGVuZENoaWxkKHNlcmlhbGl6ZXIuc2VyaWFsaXplRnJhZ21lbnQoY29udGVudCwge2RvY3VtZW50OiBkb2N9KSlcblxuICBsZXQgZmlyc3RDaGlsZCA9IHdyYXAuZmlyc3RDaGlsZCwgbmVlZHNXcmFwXG4gIHdoaWxlIChmaXJzdENoaWxkICYmIGZpcnN0Q2hpbGQubm9kZVR5cGUgPT0gMSAmJiAobmVlZHNXcmFwID0gd3JhcE1hcFtmaXJzdENoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSkge1xuICAgIGZvciAobGV0IGkgPSBuZWVkc1dyYXAubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGxldCB3cmFwcGVyID0gZG9jLmNyZWF0ZUVsZW1lbnQobmVlZHNXcmFwW2ldKVxuICAgICAgd2hpbGUgKHdyYXAuZmlyc3RDaGlsZCkgd3JhcHBlci5hcHBlbmRDaGlsZCh3cmFwLmZpcnN0Q2hpbGQpXG4gICAgICB3cmFwLmFwcGVuZENoaWxkKHdyYXBwZXIpXG4gICAgfVxuICAgIGZpcnN0Q2hpbGQgPSB3cmFwLmZpcnN0Q2hpbGRcbiAgfVxuXG4gIGlmIChmaXJzdENoaWxkICYmIGZpcnN0Q2hpbGQubm9kZVR5cGUgPT0gMSlcbiAgICBmaXJzdENoaWxkLnNldEF0dHJpYnV0ZShcImRhdGEtcG0tc2xpY2VcIiwgYCR7b3BlblN0YXJ0fSAke29wZW5FbmR9ICR7SlNPTi5zdHJpbmdpZnkoY29udGV4dCl9YClcblxuICBsZXQgdGV4dCA9IHZpZXcuc29tZVByb3AoXCJjbGlwYm9hcmRUZXh0U2VyaWFsaXplclwiLCBmID0+IGYoc2xpY2UpKSB8fFxuICAgICAgc2xpY2UuY29udGVudC50ZXh0QmV0d2VlbigwLCBzbGljZS5jb250ZW50LnNpemUsIFwiXFxuXFxuXCIpXG5cbiAgcmV0dXJuIHtkb206IHdyYXAsIHRleHR9XG59XG5cbi8vIDogKEVkaXRvclZpZXcsIHN0cmluZywgc3RyaW5nLCA/Ym9vbCwgUmVzb2x2ZWRQb3MpIOKGkiA/U2xpY2Vcbi8vIFJlYWQgYSBzbGljZSBvZiBjb250ZW50IGZyb20gdGhlIGNsaXBib2FyZCAob3IgZHJvcCBkYXRhKS5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUZyb21DbGlwYm9hcmQodmlldywgdGV4dCwgaHRtbCwgcGxhaW5UZXh0LCAkY29udGV4dCkge1xuICBsZXQgZG9tLCBpbkNvZGUgPSAkY29udGV4dC5wYXJlbnQudHlwZS5zcGVjLmNvZGUsIHNsaWNlXG4gIGlmICghaHRtbCAmJiAhdGV4dCkgcmV0dXJuIG51bGxcbiAgbGV0IGFzVGV4dCA9IHRleHQgJiYgKHBsYWluVGV4dCB8fCBpbkNvZGUgfHwgIWh0bWwpXG4gIGlmIChhc1RleHQpIHtcbiAgICB2aWV3LnNvbWVQcm9wKFwidHJhbnNmb3JtUGFzdGVkVGV4dFwiLCBmID0+IHsgdGV4dCA9IGYodGV4dCkgfSlcbiAgICBpZiAoaW5Db2RlKSByZXR1cm4gbmV3IFNsaWNlKEZyYWdtZW50LmZyb20odmlldy5zdGF0ZS5zY2hlbWEudGV4dCh0ZXh0KSksIDAsIDApXG4gICAgbGV0IHBhcnNlZCA9IHZpZXcuc29tZVByb3AoXCJjbGlwYm9hcmRUZXh0UGFyc2VyXCIsIGYgPT4gZih0ZXh0LCAkY29udGV4dCkpXG4gICAgaWYgKHBhcnNlZCkge1xuICAgICAgc2xpY2UgPSBwYXJzZWRcbiAgICB9IGVsc2Uge1xuICAgICAgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgdGV4dC50cmltKCkuc3BsaXQoLyg/Olxcclxcbj98XFxuKSsvKS5mb3JFYWNoKGJsb2NrID0+IHtcbiAgICAgICAgZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpKS50ZXh0Q29udGVudCA9IGJsb2NrXG4gICAgICB9KVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2aWV3LnNvbWVQcm9wKFwidHJhbnNmb3JtUGFzdGVkSFRNTFwiLCBmID0+IHsgaHRtbCA9IGYoaHRtbCkgfSlcbiAgICBkb20gPSByZWFkSFRNTChodG1sKVxuICB9XG5cbiAgbGV0IGNvbnRleHROb2RlID0gZG9tICYmIGRvbS5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtcG0tc2xpY2VdXCIpXG4gIGxldCBzbGljZURhdGEgPSBjb250ZXh0Tm9kZSAmJiAvXihcXGQrKSAoXFxkKykgKC4qKS8uZXhlYyhjb250ZXh0Tm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBtLXNsaWNlXCIpKVxuICBpZiAoIXNsaWNlKSB7XG4gICAgbGV0IHBhcnNlciA9IHZpZXcuc29tZVByb3AoXCJjbGlwYm9hcmRQYXJzZXJcIikgfHwgdmlldy5zb21lUHJvcChcImRvbVBhcnNlclwiKSB8fCBET01QYXJzZXIuZnJvbVNjaGVtYSh2aWV3LnN0YXRlLnNjaGVtYSlcbiAgICBzbGljZSA9IHBhcnNlci5wYXJzZVNsaWNlKGRvbSwge3ByZXNlcnZlV2hpdGVzcGFjZTogISEoYXNUZXh0IHx8IHNsaWNlRGF0YSksIGNvbnRleHQ6ICRjb250ZXh0fSlcbiAgfVxuICBpZiAoc2xpY2VEYXRhKVxuICAgIHNsaWNlID0gYWRkQ29udGV4dChjbG9zZVNsaWNlKHNsaWNlLCArc2xpY2VEYXRhWzFdLCArc2xpY2VEYXRhWzJdKSwgc2xpY2VEYXRhWzNdKVxuICBlbHNlIC8vIEhUTUwgd2Fzbid0IGNyZWF0ZWQgYnkgUHJvc2VNaXJyb3IuIE1ha2Ugc3VyZSB0b3AtbGV2ZWwgc2libGluZ3MgYXJlIGNvaGVyZW50XG4gICAgc2xpY2UgPSBTbGljZS5tYXhPcGVuKG5vcm1hbGl6ZVNpYmxpbmdzKHNsaWNlLmNvbnRlbnQsICRjb250ZXh0KSwgZmFsc2UpXG5cbiAgdmlldy5zb21lUHJvcChcInRyYW5zZm9ybVBhc3RlZFwiLCBmID0+IHsgc2xpY2UgPSBmKHNsaWNlKSB9KVxuICByZXR1cm4gc2xpY2Vcbn1cblxuLy8gVGFrZXMgYSBzbGljZSBwYXJzZWQgd2l0aCBwYXJzZVNsaWNlLCB3aGljaCBtZWFucyB0aGVyZSBoYXNuJ3QgYmVlblxuLy8gYW55IGNvbnRlbnQtZXhwcmVzc2lvbiBjaGVja2luZyBkb25lIG9uIHRoZSB0b3Agbm9kZXMsIHRyaWVzIHRvXG4vLyBmaW5kIGEgcGFyZW50IG5vZGUgaW4gdGhlIGN1cnJlbnQgY29udGV4dCB0aGF0IG1pZ2h0IGZpdCB0aGUgbm9kZXMsXG4vLyBhbmQgaWYgc3VjY2Vzc2Z1bCwgcmVidWlsZHMgdGhlIHNsaWNlIHNvIHRoYXQgaXQgZml0cyBpbnRvIHRoYXQgcGFyZW50LlxuLy9cbi8vIFRoaXMgYWRkcmVzc2VzIHRoZSBwcm9ibGVtIHRoYXQgVHJhbnNmb3JtLnJlcGxhY2UgZXhwZWN0cyBhXG4vLyBjb2hlcmVudCBzbGljZSwgYW5kIHdpbGwgZmFpbCB0byBwbGFjZSBhIHNldCBvZiBzaWJsaW5ncyB0aGF0IGRvbid0XG4vLyBmaXQgYW55d2hlcmUgaW4gdGhlIHNjaGVtYS5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNpYmxpbmdzKGZyYWdtZW50LCAkY29udGV4dCkge1xuICBpZiAoZnJhZ21lbnQuY2hpbGRDb3VudCA8IDIpIHJldHVybiBmcmFnbWVudFxuICBmb3IgKGxldCBkID0gJGNvbnRleHQuZGVwdGg7IGQgPj0gMDsgZC0tKSB7XG4gICAgbGV0IHBhcmVudCA9ICRjb250ZXh0Lm5vZGUoZClcbiAgICBsZXQgbWF0Y2ggPSBwYXJlbnQuY29udGVudE1hdGNoQXQoJGNvbnRleHQuaW5kZXgoZCkpXG4gICAgbGV0IGxhc3RXcmFwLCByZXN1bHQgPSBbXVxuICAgIGZyYWdtZW50LmZvckVhY2gobm9kZSA9PiB7XG4gICAgICBpZiAoIXJlc3VsdCkgcmV0dXJuXG4gICAgICBsZXQgd3JhcCA9IG1hdGNoLmZpbmRXcmFwcGluZyhub2RlLnR5cGUpLCBpbkxhc3RcbiAgICAgIGlmICghd3JhcCkgcmV0dXJuIHJlc3VsdCA9IG51bGxcbiAgICAgIGlmIChpbkxhc3QgPSByZXN1bHQubGVuZ3RoICYmIGxhc3RXcmFwLmxlbmd0aCAmJiBhZGRUb1NpYmxpbmcod3JhcCwgbGFzdFdyYXAsIG5vZGUsIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0sIDApKSB7XG4gICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPSBpbkxhc3RcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gY2xvc2VSaWdodChyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLCBsYXN0V3JhcC5sZW5ndGgpXG4gICAgICAgIGxldCB3cmFwcGVkID0gd2l0aFdyYXBwZXJzKG5vZGUsIHdyYXApXG4gICAgICAgIHJlc3VsdC5wdXNoKHdyYXBwZWQpXG4gICAgICAgIG1hdGNoID0gbWF0Y2gubWF0Y2hUeXBlKHdyYXBwZWQudHlwZSwgd3JhcHBlZC5hdHRycylcbiAgICAgICAgbGFzdFdyYXAgPSB3cmFwXG4gICAgICB9XG4gICAgfSlcbiAgICBpZiAocmVzdWx0KSByZXR1cm4gRnJhZ21lbnQuZnJvbShyZXN1bHQpXG4gIH1cbiAgcmV0dXJuIGZyYWdtZW50XG59XG5cbmZ1bmN0aW9uIHdpdGhXcmFwcGVycyhub2RlLCB3cmFwLCBmcm9tID0gMCkge1xuICBmb3IgKGxldCBpID0gd3JhcC5sZW5ndGggLSAxOyBpID49IGZyb207IGktLSlcbiAgICBub2RlID0gd3JhcFtpXS5jcmVhdGUobnVsbCwgRnJhZ21lbnQuZnJvbShub2RlKSlcbiAgcmV0dXJuIG5vZGVcbn1cblxuLy8gVXNlZCB0byBncm91cCBhZGphY2VudCBub2RlcyB3cmFwcGVkIGluIHNpbWlsYXIgcGFyZW50cyBieVxuLy8gbm9ybWFsaXplU2libGluZ3MgaW50byB0aGUgc2FtZSBwYXJlbnQgbm9kZVxuZnVuY3Rpb24gYWRkVG9TaWJsaW5nKHdyYXAsIGxhc3RXcmFwLCBub2RlLCBzaWJsaW5nLCBkZXB0aCkge1xuICBpZiAoZGVwdGggPCB3cmFwLmxlbmd0aCAmJiBkZXB0aCA8IGxhc3RXcmFwLmxlbmd0aCAmJiB3cmFwW2RlcHRoXSA9PSBsYXN0V3JhcFtkZXB0aF0pIHtcbiAgICBsZXQgaW5uZXIgPSBhZGRUb1NpYmxpbmcod3JhcCwgbGFzdFdyYXAsIG5vZGUsIHNpYmxpbmcubGFzdENoaWxkLCBkZXB0aCArIDEpXG4gICAgaWYgKGlubmVyKSByZXR1cm4gc2libGluZy5jb3B5KHNpYmxpbmcuY29udGVudC5yZXBsYWNlQ2hpbGQoc2libGluZy5jaGlsZENvdW50IC0gMSwgaW5uZXIpKVxuICAgIGxldCBtYXRjaCA9IHNpYmxpbmcuY29udGVudE1hdGNoQXQoc2libGluZy5jaGlsZENvdW50KVxuICAgIGlmIChtYXRjaC5tYXRjaFR5cGUoZGVwdGggPT0gd3JhcC5sZW5ndGggLSAxID8gbm9kZS50eXBlIDogd3JhcFtkZXB0aCArIDFdKSlcbiAgICAgIHJldHVybiBzaWJsaW5nLmNvcHkoc2libGluZy5jb250ZW50LmFwcGVuZChGcmFnbWVudC5mcm9tKHdpdGhXcmFwcGVycyhub2RlLCB3cmFwLCBkZXB0aCArIDEpKSkpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvc2VSaWdodChub2RlLCBkZXB0aCkge1xuICBpZiAoZGVwdGggPT0gMCkgcmV0dXJuIG5vZGVcbiAgbGV0IGZyYWdtZW50ID0gbm9kZS5jb250ZW50LnJlcGxhY2VDaGlsZChub2RlLmNoaWxkQ291bnQgLSAxLCBjbG9zZVJpZ2h0KG5vZGUubGFzdENoaWxkLCBkZXB0aCAtIDEpKVxuICBsZXQgZmlsbCA9IG5vZGUuY29udGVudE1hdGNoQXQobm9kZS5jaGlsZENvdW50KS5maWxsQmVmb3JlKEZyYWdtZW50LmVtcHR5LCB0cnVlKVxuICByZXR1cm4gbm9kZS5jb3B5KGZyYWdtZW50LmFwcGVuZChmaWxsKSlcbn1cblxuZnVuY3Rpb24gY2xvc2VSYW5nZShmcmFnbWVudCwgc2lkZSwgZnJvbSwgdG8sIGRlcHRoLCBvcGVuRW5kKSB7XG4gIGxldCBub2RlID0gc2lkZSA8IDAgPyBmcmFnbWVudC5maXJzdENoaWxkIDogZnJhZ21lbnQubGFzdENoaWxkLCBpbm5lciA9IG5vZGUuY29udGVudFxuICBpZiAoZGVwdGggPCB0byAtIDEpIGlubmVyID0gY2xvc2VSYW5nZShpbm5lciwgc2lkZSwgZnJvbSwgdG8sIGRlcHRoICsgMSwgb3BlbkVuZClcbiAgaWYgKGRlcHRoID49IGZyb20pXG4gICAgaW5uZXIgPSBzaWRlIDwgMCA/IG5vZGUuY29udGVudE1hdGNoQXQoMCkuZmlsbEJlZm9yZShpbm5lciwgZnJhZ21lbnQuY2hpbGRDb3VudCA+IDEgfHwgb3BlbkVuZCA8PSBkZXB0aCkuYXBwZW5kKGlubmVyKVxuICAgICAgOiBpbm5lci5hcHBlbmQobm9kZS5jb250ZW50TWF0Y2hBdChub2RlLmNoaWxkQ291bnQpLmZpbGxCZWZvcmUoRnJhZ21lbnQuZW1wdHksIHRydWUpKVxuICByZXR1cm4gZnJhZ21lbnQucmVwbGFjZUNoaWxkKHNpZGUgPCAwID8gMCA6IGZyYWdtZW50LmNoaWxkQ291bnQgLSAxLCBub2RlLmNvcHkoaW5uZXIpKVxufVxuXG5mdW5jdGlvbiBjbG9zZVNsaWNlKHNsaWNlLCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgaWYgKG9wZW5TdGFydCA8IHNsaWNlLm9wZW5TdGFydClcbiAgICBzbGljZSA9IG5ldyBTbGljZShjbG9zZVJhbmdlKHNsaWNlLmNvbnRlbnQsIC0xLCBvcGVuU3RhcnQsIHNsaWNlLm9wZW5TdGFydCwgMCwgc2xpY2Uub3BlbkVuZCksIG9wZW5TdGFydCwgc2xpY2Uub3BlbkVuZClcbiAgaWYgKG9wZW5FbmQgPCBzbGljZS5vcGVuRW5kKVxuICAgIHNsaWNlID0gbmV3IFNsaWNlKGNsb3NlUmFuZ2Uoc2xpY2UuY29udGVudCwgMSwgb3BlbkVuZCwgc2xpY2Uub3BlbkVuZCwgMCwgMCksIHNsaWNlLm9wZW5TdGFydCwgb3BlbkVuZClcbiAgcmV0dXJuIHNsaWNlXG59XG5cbi8vIFRyaWNrIGZyb20galF1ZXJ5IC0tIHNvbWUgZWxlbWVudHMgbXVzdCBiZSB3cmFwcGVkIGluIG90aGVyXG4vLyBlbGVtZW50cyBmb3IgaW5uZXJIVE1MIHRvIHdvcmsuIEkuZS4gaWYgeW91IGRvIGBkaXYuaW5uZXJIVE1MID1cbi8vIFwiPHRkPi4uPC90ZD5cImAgdGhlIHRhYmxlIGNlbGxzIGFyZSBpZ25vcmVkLlxuY29uc3Qgd3JhcE1hcCA9IHtcbiAgdGhlYWQ6IFtcInRhYmxlXCJdLFxuICB0Ym9keTogW1widGFibGVcIl0sXG4gIHRmb290OiBbXCJ0YWJsZVwiXSxcbiAgY2FwdGlvbjogW1widGFibGVcIl0sXG4gIGNvbGdyb3VwOiBbXCJ0YWJsZVwiXSxcbiAgY29sOiBbXCJ0YWJsZVwiLCBcImNvbGdyb3VwXCJdLFxuICB0cjogW1widGFibGVcIiwgXCJ0Ym9keVwiXSxcbiAgdGQ6IFtcInRhYmxlXCIsIFwidGJvZHlcIiwgXCJ0clwiXSxcbiAgdGg6IFtcInRhYmxlXCIsIFwidGJvZHlcIiwgXCJ0clwiXVxufVxuXG5sZXQgX2RldGFjaGVkRG9jID0gbnVsbFxuZnVuY3Rpb24gZGV0YWNoZWREb2MoKSB7XG4gIHJldHVybiBfZGV0YWNoZWREb2MgfHwgKF9kZXRhY2hlZERvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcInRpdGxlXCIpKVxufVxuXG5mdW5jdGlvbiByZWFkSFRNTChodG1sKSB7XG4gIGxldCBtZXRhcyA9IC8oXFxzKjxtZXRhIFtePl0qPikqLy5leGVjKGh0bWwpXG4gIGlmIChtZXRhcykgaHRtbCA9IGh0bWwuc2xpY2UobWV0YXNbMF0ubGVuZ3RoKVxuICBsZXQgZWx0ID0gZGV0YWNoZWREb2MoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gIGxldCBmaXJzdFRhZyA9IC8oPzo8bWV0YSBbXj5dKj4pKjwoW2Etel1bXj5cXHNdKykvaS5leGVjKGh0bWwpLCB3cmFwLCBkZXB0aCA9IDBcbiAgaWYgKHdyYXAgPSBmaXJzdFRhZyAmJiB3cmFwTWFwW2ZpcnN0VGFnWzFdLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgaHRtbCA9IHdyYXAubWFwKG4gPT4gXCI8XCIgKyBuICsgXCI+XCIpLmpvaW4oXCJcIikgKyBodG1sICsgd3JhcC5tYXAobiA9PiBcIjwvXCIgKyBuICsgXCI+XCIpLnJldmVyc2UoKS5qb2luKFwiXCIpXG4gICAgZGVwdGggPSB3cmFwLmxlbmd0aFxuICB9XG4gIGVsdC5pbm5lckhUTUwgPSBodG1sXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwdGg7IGkrKykgZWx0ID0gZWx0LmZpcnN0Q2hpbGRcbiAgcmV0dXJuIGVsdFxufVxuXG5mdW5jdGlvbiBhZGRDb250ZXh0KHNsaWNlLCBjb250ZXh0KSB7XG4gIGlmICghc2xpY2Uuc2l6ZSkgcmV0dXJuIHNsaWNlXG4gIGxldCBzY2hlbWEgPSBzbGljZS5jb250ZW50LmZpcnN0Q2hpbGQudHlwZS5zY2hlbWEsIGFycmF5XG4gIHRyeSB7IGFycmF5ID0gSlNPTi5wYXJzZShjb250ZXh0KSB9XG4gIGNhdGNoKGUpIHsgcmV0dXJuIHNsaWNlIH1cbiAgbGV0IHtjb250ZW50LCBvcGVuU3RhcnQsIG9wZW5FbmR9ID0gc2xpY2VcbiAgZm9yIChsZXQgaSA9IGFycmF5Lmxlbmd0aCAtIDI7IGkgPj0gMDsgaSAtPSAyKSB7XG4gICAgbGV0IHR5cGUgPSBzY2hlbWEubm9kZXNbYXJyYXlbaV1dXG4gICAgaWYgKCF0eXBlIHx8IHR5cGUuaGFzUmVxdWlyZWRBdHRycygpKSBicmVha1xuICAgIGNvbnRlbnQgPSBGcmFnbWVudC5mcm9tKHR5cGUuY3JlYXRlKGFycmF5W2kgKyAxXSwgY29udGVudCkpXG4gICAgb3BlblN0YXJ0Kys7IG9wZW5FbmQrK1xuICB9XG4gIHJldHVybiBuZXcgU2xpY2UoY29udGVudCwgb3BlblN0YXJ0LCBvcGVuRW5kKVxufVxuIiwiaW1wb3J0IGJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiXG5pbXBvcnQge2RvbUluZGV4LCBpc0VxdWl2YWxlbnRQb3NpdGlvbn0gZnJvbSBcIi4vZG9tXCJcbmltcG9ydCB7aGFzRm9jdXNBbmRTZWxlY3Rpb24sIGhhc1NlbGVjdGlvbiwgc2VsZWN0aW9uVG9ET019IGZyb20gXCIuL3NlbGVjdGlvblwiXG5cbmNvbnN0IG9ic2VydmVPcHRpb25zID0ge1xuICBjaGlsZExpc3Q6IHRydWUsXG4gIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogdHJ1ZSxcbiAgYXR0cmlidXRlczogdHJ1ZSxcbiAgYXR0cmlidXRlT2xkVmFsdWU6IHRydWUsXG4gIHN1YnRyZWU6IHRydWVcbn1cbi8vIElFMTEgaGFzIHZlcnkgYnJva2VuIG11dGF0aW9uIG9ic2VydmVycywgc28gd2UgYWxzbyBsaXN0ZW4gdG8gRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkXG5jb25zdCB1c2VDaGFyRGF0YSA9IGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDw9IDExXG5cbmNsYXNzIFNlbGVjdGlvblN0YXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5hbmNob3JOb2RlID0gdGhpcy5hbmNob3JPZmZzZXQgPSB0aGlzLmZvY3VzTm9kZSA9IHRoaXMuZm9jdXNPZmZzZXQgPSBudWxsXG4gIH1cblxuICBzZXQoc2VsKSB7XG4gICAgdGhpcy5hbmNob3JOb2RlID0gc2VsLmFuY2hvck5vZGU7IHRoaXMuYW5jaG9yT2Zmc2V0ID0gc2VsLmFuY2hvck9mZnNldFxuICAgIHRoaXMuZm9jdXNOb2RlID0gc2VsLmZvY3VzTm9kZTsgdGhpcy5mb2N1c09mZnNldCA9IHNlbC5mb2N1c09mZnNldFxuICB9XG5cbiAgZXEoc2VsKSB7XG4gICAgcmV0dXJuIHNlbC5hbmNob3JOb2RlID09IHRoaXMuYW5jaG9yTm9kZSAmJiBzZWwuYW5jaG9yT2Zmc2V0ID09IHRoaXMuYW5jaG9yT2Zmc2V0ICYmXG4gICAgICBzZWwuZm9jdXNOb2RlID09IHRoaXMuZm9jdXNOb2RlICYmIHNlbC5mb2N1c09mZnNldCA9PSB0aGlzLmZvY3VzT2Zmc2V0XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERPTU9ic2VydmVyIHtcbiAgY29uc3RydWN0b3IodmlldywgaGFuZGxlRE9NQ2hhbmdlKSB7XG4gICAgdGhpcy52aWV3ID0gdmlld1xuICAgIHRoaXMuaGFuZGxlRE9NQ2hhbmdlID0gaGFuZGxlRE9NQ2hhbmdlXG4gICAgdGhpcy5xdWV1ZSA9IFtdXG4gICAgdGhpcy5mbHVzaGluZ1Nvb24gPSBmYWxzZVxuICAgIHRoaXMub2JzZXJ2ZXIgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciAmJlxuICAgICAgbmV3IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKG11dGF0aW9ucyA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXV0YXRpb25zLmxlbmd0aDsgaSsrKSB0aGlzLnF1ZXVlLnB1c2gobXV0YXRpb25zW2ldKVxuICAgICAgICAvLyBJRTExIHdpbGwgc29tZXRpbWVzIChvbiBiYWNrc3BhY2luZyBvdXQgYSBzaW5nbGUgY2hhcmFjdGVyXG4gICAgICAgIC8vIHRleHQgbm9kZSBhZnRlciBhIEJSIG5vZGUpIGNhbGwgdGhlIG9ic2VydmVyIGNhbGxiYWNrXG4gICAgICAgIC8vIGJlZm9yZSBhY3R1YWxseSB1cGRhdGluZyB0aGUgRE9NLCB3aGljaCB3aWxsIGNhdXNlXG4gICAgICAgIC8vIFByb3NlTWlycm9yIHRvIG1pc3MgdGhlIGNoYW5nZSAoc2VlICM5MzApXG4gICAgICAgIGlmIChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMSAmJiBtdXRhdGlvbnMuc29tZShcbiAgICAgICAgICBtID0+IG0udHlwZSA9PSBcImNoaWxkTGlzdFwiICYmIG0ucmVtb3ZlZE5vZGVzLmxlbmd0aCB8fFxuICAgICAgICAgICAgICAgbS50eXBlID09IFwiY2hhcmFjdGVyRGF0YVwiICYmIG0ub2xkVmFsdWUubGVuZ3RoID4gbS50YXJnZXQubm9kZVZhbHVlLmxlbmd0aCkpXG4gICAgICAgICAgdGhpcy5mbHVzaFNvb24oKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhpcy5mbHVzaCgpXG4gICAgICB9KVxuICAgIHRoaXMuY3VycmVudFNlbGVjdGlvbiA9IG5ldyBTZWxlY3Rpb25TdGF0ZVxuICAgIGlmICh1c2VDaGFyRGF0YSkge1xuICAgICAgdGhpcy5vbkNoYXJEYXRhID0gZSA9PiB7XG4gICAgICAgIHRoaXMucXVldWUucHVzaCh7dGFyZ2V0OiBlLnRhcmdldCwgdHlwZTogXCJjaGFyYWN0ZXJEYXRhXCIsIG9sZFZhbHVlOiBlLnByZXZWYWx1ZX0pXG4gICAgICAgIHRoaXMuZmx1c2hTb29uKClcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5vblNlbGVjdGlvbkNoYW5nZSA9IHRoaXMub25TZWxlY3Rpb25DaGFuZ2UuYmluZCh0aGlzKVxuICAgIHRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzID0gZmFsc2VcbiAgfVxuXG4gIGZsdXNoU29vbigpIHtcbiAgICBpZiAoIXRoaXMuZmx1c2hpbmdTb29uKSB7XG4gICAgICB0aGlzLmZsdXNoaW5nU29vbiA9IHRydWVcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5mbHVzaGluZ1Nvb24gPSBmYWxzZTsgdGhpcy5mbHVzaCgpIH0sIDIwKVxuICAgIH1cbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICh0aGlzLm9ic2VydmVyKVxuICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMudmlldy5kb20sIG9ic2VydmVPcHRpb25zKVxuICAgIGlmICh1c2VDaGFyRGF0YSlcbiAgICAgIHRoaXMudmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLCB0aGlzLm9uQ2hhckRhdGEpXG4gICAgdGhpcy5jb25uZWN0U2VsZWN0aW9uKClcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXIpIHtcbiAgICAgIGxldCB0YWtlID0gdGhpcy5vYnNlcnZlci50YWtlUmVjb3JkcygpXG4gICAgICBpZiAodGFrZS5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWtlLmxlbmd0aDsgaSsrKSB0aGlzLnF1ZXVlLnB1c2godGFrZVtpXSlcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5mbHVzaCgpLCAyMClcbiAgICAgIH1cbiAgICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpXG4gICAgfVxuICAgIGlmICh1c2VDaGFyRGF0YSkgdGhpcy52aWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkXCIsIHRoaXMub25DaGFyRGF0YSlcbiAgICB0aGlzLmRpc2Nvbm5lY3RTZWxlY3Rpb24oKVxuICB9XG5cbiAgY29ubmVjdFNlbGVjdGlvbigpIHtcbiAgICB0aGlzLnZpZXcuZG9tLm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKVxuICB9XG5cbiAgZGlzY29ubmVjdFNlbGVjdGlvbigpIHtcbiAgICB0aGlzLnZpZXcuZG9tLm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKVxuICB9XG5cbiAgc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKCkge1xuICAgIHRoaXMuc3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzID0gdHJ1ZVxuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMgPSBmYWxzZSwgNTApXG4gIH1cblxuICBvblNlbGVjdGlvbkNoYW5nZSgpIHtcbiAgICBpZiAoIWhhc0ZvY3VzQW5kU2VsZWN0aW9uKHRoaXMudmlldykpIHJldHVyblxuICAgIGlmICh0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcykgcmV0dXJuIHNlbGVjdGlvblRvRE9NKHRoaXMudmlldylcbiAgICAvLyBEZWxldGlvbnMgb24gSUUxMSBmaXJlIHRoZWlyIGV2ZW50cyBpbiB0aGUgd3Jvbmcgb3JkZXIsIGdpdmluZ1xuICAgIC8vIHVzIGEgc2VsZWN0aW9uIGNoYW5nZSBldmVudCBiZWZvcmUgdGhlIERPTSBjaGFuZ2VzIGFyZVxuICAgIC8vIHJlcG9ydGVkLlxuICAgIGlmIChicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMSAmJiAhdGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5lbXB0eSkge1xuICAgICAgbGV0IHNlbCA9IHRoaXMudmlldy5yb290LmdldFNlbGVjdGlvbigpXG4gICAgICAvLyBTZWxlY3Rpb24uaXNDb2xsYXBzZWQgaXNuJ3QgcmVsaWFibGUgb24gSUVcbiAgICAgIGlmIChzZWwuZm9jdXNOb2RlICYmIGlzRXF1aXZhbGVudFBvc2l0aW9uKHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCwgc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQpKVxuICAgICAgICByZXR1cm4gdGhpcy5mbHVzaFNvb24oKVxuICAgIH1cbiAgICB0aGlzLmZsdXNoKClcbiAgfVxuXG4gIHNldEN1clNlbGVjdGlvbigpIHtcbiAgICB0aGlzLmN1cnJlbnRTZWxlY3Rpb24uc2V0KHRoaXMudmlldy5yb290LmdldFNlbGVjdGlvbigpKVxuICB9XG5cbiAgaWdub3JlU2VsZWN0aW9uQ2hhbmdlKHNlbCkge1xuICAgIGlmIChzZWwucmFuZ2VDb3VudCA9PSAwKSByZXR1cm4gdHJ1ZVxuICAgIGxldCBjb250YWluZXIgPSBzZWwuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lclxuICAgIGxldCBkZXNjID0gdGhpcy52aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MoY29udGFpbmVyKVxuICAgIGlmIChkZXNjICYmIGRlc2MuaWdub3JlTXV0YXRpb24oe3R5cGU6IFwic2VsZWN0aW9uXCIsIHRhcmdldDogY29udGFpbmVyLm5vZGVUeXBlID09IDMgPyBjb250YWluZXIucGFyZW50Tm9kZSA6IGNvbnRhaW5lcn0pKSB7XG4gICAgICB0aGlzLnNldEN1clNlbGVjdGlvbigpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGZsdXNoKCkge1xuICAgIGlmICghdGhpcy52aWV3LmRvY1ZpZXcgfHwgdGhpcy5mbHVzaGluZ1Nvb24pIHJldHVyblxuICAgIGxldCBtdXRhdGlvbnMgPSB0aGlzLm9ic2VydmVyID8gdGhpcy5vYnNlcnZlci50YWtlUmVjb3JkcygpIDogW11cbiAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgIG11dGF0aW9ucyA9IHRoaXMucXVldWUuY29uY2F0KG11dGF0aW9ucylcbiAgICAgIHRoaXMucXVldWUubGVuZ3RoID0gMFxuICAgIH1cblxuICAgIGxldCBzZWwgPSB0aGlzLnZpZXcucm9vdC5nZXRTZWxlY3Rpb24oKVxuICAgIGxldCBuZXdTZWwgPSAhdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMgJiYgIXRoaXMuY3VycmVudFNlbGVjdGlvbi5lcShzZWwpICYmIGhhc1NlbGVjdGlvbih0aGlzLnZpZXcpICYmICF0aGlzLmlnbm9yZVNlbGVjdGlvbkNoYW5nZShzZWwpXG5cbiAgICBsZXQgZnJvbSA9IC0xLCB0byA9IC0xLCB0eXBlT3ZlciA9IGZhbHNlLCBhZGRlZCA9IFtdXG4gICAgaWYgKHRoaXMudmlldy5lZGl0YWJsZSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucmVnaXN0ZXJNdXRhdGlvbihtdXRhdGlvbnNbaV0sIGFkZGVkKVxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgZnJvbSA9IGZyb20gPCAwID8gcmVzdWx0LmZyb20gOiBNYXRoLm1pbihyZXN1bHQuZnJvbSwgZnJvbSlcbiAgICAgICAgICB0byA9IHRvIDwgMCA/IHJlc3VsdC50byA6IE1hdGgubWF4KHJlc3VsdC50bywgdG8pXG4gICAgICAgICAgaWYgKHJlc3VsdC50eXBlT3ZlciAmJiAhdGhpcy52aWV3LmNvbXBvc2luZykgdHlwZU92ZXIgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYnJvd3Nlci5nZWNrbyAmJiBhZGRlZC5sZW5ndGggPiAxKSB7XG4gICAgICBsZXQgYnJzID0gYWRkZWQuZmlsdGVyKG4gPT4gbi5ub2RlTmFtZSA9PSBcIkJSXCIpXG4gICAgICBpZiAoYnJzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgIGxldCBbYSwgYl0gPSBicnNcbiAgICAgICAgaWYgKGEucGFyZW50Tm9kZSAmJiBhLnBhcmVudE5vZGUucGFyZW50Tm9kZSA9PSBiLnBhcmVudE5vZGUpIGIucmVtb3ZlKClcbiAgICAgICAgZWxzZSBhLnJlbW92ZSgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZyb20gPiAtMSB8fCBuZXdTZWwpIHtcbiAgICAgIGlmIChmcm9tID4gLTEpIHtcbiAgICAgICAgdGhpcy52aWV3LmRvY1ZpZXcubWFya0RpcnR5KGZyb20sIHRvKVxuICAgICAgICBjaGVja0NTUyh0aGlzLnZpZXcpXG4gICAgICB9XG4gICAgICB0aGlzLmhhbmRsZURPTUNoYW5nZShmcm9tLCB0bywgdHlwZU92ZXIsIGFkZGVkKVxuICAgICAgaWYgKHRoaXMudmlldy5kb2NWaWV3LmRpcnR5KSB0aGlzLnZpZXcudXBkYXRlU3RhdGUodGhpcy52aWV3LnN0YXRlKVxuICAgICAgZWxzZSBpZiAoIXRoaXMuY3VycmVudFNlbGVjdGlvbi5lcShzZWwpKSBzZWxlY3Rpb25Ub0RPTSh0aGlzLnZpZXcpXG4gICAgfVxuICB9XG5cbiAgcmVnaXN0ZXJNdXRhdGlvbihtdXQsIGFkZGVkKSB7XG4gICAgLy8gSWdub3JlIG11dGF0aW9ucyBpbnNpZGUgbm9kZXMgdGhhdCB3ZXJlIGFscmVhZHkgbm90ZWQgYXMgaW5zZXJ0ZWRcbiAgICBpZiAoYWRkZWQuaW5kZXhPZihtdXQudGFyZ2V0KSA+IC0xKSByZXR1cm4gbnVsbFxuICAgIGxldCBkZXNjID0gdGhpcy52aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MobXV0LnRhcmdldClcbiAgICBpZiAobXV0LnR5cGUgPT0gXCJhdHRyaWJ1dGVzXCIgJiZcbiAgICAgICAgKGRlc2MgPT0gdGhpcy52aWV3LmRvY1ZpZXcgfHwgbXV0LmF0dHJpYnV0ZU5hbWUgPT0gXCJjb250ZW50ZWRpdGFibGVcIiB8fFxuICAgICAgICAgLy8gRmlyZWZveCBzb21ldGltZXMgZmlyZXMgc3B1cmlvdXMgZXZlbnRzIGZvciBudWxsL2VtcHR5IHN0eWxlc1xuICAgICAgICAgKG11dC5hdHRyaWJ1dGVOYW1lID09IFwic3R5bGVcIiAmJiAhbXV0Lm9sZFZhbHVlICYmICFtdXQudGFyZ2V0LmdldEF0dHJpYnV0ZShcInN0eWxlXCIpKSkpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIGlmICghZGVzYyB8fCBkZXNjLmlnbm9yZU11dGF0aW9uKG11dCkpIHJldHVybiBudWxsXG5cbiAgICBpZiAobXV0LnR5cGUgPT0gXCJjaGlsZExpc3RcIikge1xuICAgICAgbGV0IHByZXYgPSBtdXQucHJldmlvdXNTaWJsaW5nLCBuZXh0ID0gbXV0Lm5leHRTaWJsaW5nXG4gICAgICBpZiAoYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTEgJiYgbXV0LmFkZGVkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIElFMTEgZ2l2ZXMgdXMgaW5jb3JyZWN0IG5leHQvcHJldiBzaWJsaW5ncyBmb3Igc29tZVxuICAgICAgICAvLyBpbnNlcnRpb25zLCBzbyBpZiB0aGVyZSBhcmUgYWRkZWQgbm9kZXMsIHJlY29tcHV0ZSB0aG9zZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11dC5hZGRlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IHtwcmV2aW91c1NpYmxpbmcsIG5leHRTaWJsaW5nfSA9IG11dC5hZGRlZE5vZGVzW2ldXG4gICAgICAgICAgaWYgKCFwcmV2aW91c1NpYmxpbmcgfHwgQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChtdXQuYWRkZWROb2RlcywgcHJldmlvdXNTaWJsaW5nKSA8IDApIHByZXYgPSBwcmV2aW91c1NpYmxpbmdcbiAgICAgICAgICBpZiAoIW5leHRTaWJsaW5nIHx8IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwobXV0LmFkZGVkTm9kZXMsIG5leHRTaWJsaW5nKSA8IDApIG5leHQgPSBuZXh0U2libGluZ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgZnJvbU9mZnNldCA9IHByZXYgJiYgcHJldi5wYXJlbnROb2RlID09IG11dC50YXJnZXRcbiAgICAgICAgICA/IGRvbUluZGV4KHByZXYpICsgMSA6IDBcbiAgICAgIGxldCBmcm9tID0gZGVzYy5sb2NhbFBvc0Zyb21ET00obXV0LnRhcmdldCwgZnJvbU9mZnNldCwgLTEpXG4gICAgICBsZXQgdG9PZmZzZXQgPSBuZXh0ICYmIG5leHQucGFyZW50Tm9kZSA9PSBtdXQudGFyZ2V0XG4gICAgICAgICAgPyBkb21JbmRleChuZXh0KSA6IG11dC50YXJnZXQuY2hpbGROb2Rlcy5sZW5ndGhcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXV0LmFkZGVkTm9kZXMubGVuZ3RoOyBpKyspIGFkZGVkLnB1c2gobXV0LmFkZGVkTm9kZXNbaV0pXG4gICAgICBsZXQgdG8gPSBkZXNjLmxvY2FsUG9zRnJvbURPTShtdXQudGFyZ2V0LCB0b09mZnNldCwgMSlcbiAgICAgIHJldHVybiB7ZnJvbSwgdG99XG4gICAgfSBlbHNlIGlmIChtdXQudHlwZSA9PSBcImF0dHJpYnV0ZXNcIikge1xuICAgICAgcmV0dXJuIHtmcm9tOiBkZXNjLnBvc0F0U3RhcnQgLSBkZXNjLmJvcmRlciwgdG86IGRlc2MucG9zQXRFbmQgKyBkZXNjLmJvcmRlcn1cbiAgICB9IGVsc2UgeyAvLyBcImNoYXJhY3RlckRhdGFcIlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZnJvbTogZGVzYy5wb3NBdFN0YXJ0LFxuICAgICAgICB0bzogZGVzYy5wb3NBdEVuZCxcbiAgICAgICAgLy8gQW4gZXZlbnQgd2FzIGdlbmVyYXRlZCBmb3IgYSB0ZXh0IGNoYW5nZSB0aGF0IGRpZG4ndCBjaGFuZ2VcbiAgICAgICAgLy8gYW55IHRleHQuIE1hcmsgdGhlIGRvbSBjaGFuZ2UgdG8gZmFsbCBiYWNrIHRvIGFzc3VtaW5nIHRoZVxuICAgICAgICAvLyBzZWxlY3Rpb24gd2FzIHR5cGVkIG92ZXIgd2l0aCBhbiBpZGVudGljYWwgdmFsdWUgaWYgaXQgY2FuJ3RcbiAgICAgICAgLy8gZmluZCBhbm90aGVyIGNoYW5nZS5cbiAgICAgICAgdHlwZU92ZXI6IG11dC50YXJnZXQubm9kZVZhbHVlID09IG11dC5vbGRWYWx1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5sZXQgY3NzQ2hlY2tlZCA9IGZhbHNlXG5cbmZ1bmN0aW9uIGNoZWNrQ1NTKHZpZXcpIHtcbiAgaWYgKGNzc0NoZWNrZWQpIHJldHVyblxuICBjc3NDaGVja2VkID0gdHJ1ZVxuICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZSh2aWV3LmRvbSkud2hpdGVTcGFjZSA9PSBcIm5vcm1hbFwiKVxuICAgIGNvbnNvbGVbXCJ3YXJuXCJdKFwiUHJvc2VNaXJyb3IgZXhwZWN0cyB0aGUgQ1NTIHdoaXRlLXNwYWNlIHByb3BlcnR5IHRvIGJlIHNldCwgcHJlZmVyYWJseSB0byAncHJlLXdyYXAnLiBJdCBpcyByZWNvbW1lbmRlZCB0byBsb2FkIHN0eWxlL3Byb3NlbWlycm9yLmNzcyBmcm9tIHRoZSBwcm9zZW1pcnJvci12aWV3IHBhY2thZ2UuXCIpXG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbiwgTm9kZVNlbGVjdGlvbiwgVGV4dFNlbGVjdGlvbn0gZnJvbSBcInByb3NlbWlycm9yLXN0YXRlXCJcbmltcG9ydCB7ZHJvcFBvaW50fSBmcm9tIFwicHJvc2VtaXJyb3ItdHJhbnNmb3JtXCJcbmltcG9ydCB7U2xpY2V9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5cbmltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXJcIlxuaW1wb3J0IHtjYXB0dXJlS2V5RG93bn0gZnJvbSBcIi4vY2FwdHVyZWtleXNcIlxuaW1wb3J0IHtyZWFkRE9NQ2hhbmdlfSBmcm9tIFwiLi9kb21jaGFuZ2VcIlxuaW1wb3J0IHtwYXJzZUZyb21DbGlwYm9hcmQsIHNlcmlhbGl6ZUZvckNsaXBib2FyZH0gZnJvbSBcIi4vY2xpcGJvYXJkXCJcbmltcG9ydCB7RE9NT2JzZXJ2ZXJ9IGZyb20gXCIuL2RvbW9ic2VydmVyXCJcbmltcG9ydCB7c2VsZWN0aW9uQmV0d2Vlbiwgc2VsZWN0aW9uVG9ET019IGZyb20gXCIuL3NlbGVjdGlvblwiXG5pbXBvcnQge2tleUV2ZW50fSBmcm9tIFwiLi9kb21cIlxuXG4vLyBBIGNvbGxlY3Rpb24gb2YgRE9NIGV2ZW50cyB0aGF0IG9jY3VyIHdpdGhpbiB0aGUgZWRpdG9yLCBhbmQgY2FsbGJhY2sgZnVuY3Rpb25zXG4vLyB0byBpbnZva2Ugd2hlbiB0aGUgZXZlbnQgZmlyZXMuXG5jb25zdCBoYW5kbGVycyA9IHt9LCBlZGl0SGFuZGxlcnMgPSB7fVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdElucHV0KHZpZXcpIHtcbiAgdmlldy5zaGlmdEtleSA9IGZhbHNlXG4gIHZpZXcubW91c2VEb3duID0gbnVsbFxuICB2aWV3Lmxhc3RLZXlDb2RlID0gbnVsbFxuICB2aWV3Lmxhc3RLZXlDb2RlVGltZSA9IDBcbiAgdmlldy5sYXN0Q2xpY2sgPSB7dGltZTogMCwgeDogMCwgeTogMCwgdHlwZTogXCJcIn1cbiAgdmlldy5sYXN0U2VsZWN0aW9uT3JpZ2luID0gbnVsbFxuICB2aWV3Lmxhc3RTZWxlY3Rpb25UaW1lID0gMFxuXG4gIHZpZXcubGFzdElPU0VudGVyID0gMFxuXG4gIHZpZXcuY29tcG9zaW5nID0gZmFsc2VcbiAgdmlldy5jb21wb3NpbmdUaW1lb3V0ID0gbnVsbFxuICB2aWV3LmNvbXBvc2l0aW9uTm9kZXMgPSBbXVxuICB2aWV3LmNvbXBvc2l0aW9uRW5kZWRBdCA9IC0yZThcblxuICB2aWV3LmRvbU9ic2VydmVyID0gbmV3IERPTU9ic2VydmVyKHZpZXcsIChmcm9tLCB0bywgdHlwZU92ZXIsIGFkZGVkKSA9PiByZWFkRE9NQ2hhbmdlKHZpZXcsIGZyb20sIHRvLCB0eXBlT3ZlciwgYWRkZWQpKVxuICB2aWV3LmRvbU9ic2VydmVyLnN0YXJ0KClcbiAgLy8gVXNlZCBieSBoYWNrcyBsaWtlIHRoZSBiZWZvcmVpbnB1dCBoYW5kbGVyIHRvIGNoZWNrIHdoZXRoZXIgYW55dGhpbmcgaGFwcGVuZWQgaW4gdGhlIERPTVxuICB2aWV3LmRvbUNoYW5nZUNvdW50ID0gMFxuXG4gIHZpZXcuZXZlbnRIYW5kbGVycyA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgZm9yIChsZXQgZXZlbnQgaW4gaGFuZGxlcnMpIHtcbiAgICBsZXQgaGFuZGxlciA9IGhhbmRsZXJzW2V2ZW50XVxuICAgIHZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHZpZXcuZXZlbnRIYW5kbGVyc1tldmVudF0gPSBldmVudCA9PiB7XG4gICAgICBpZiAoZXZlbnRCZWxvbmdzVG9WaWV3KHZpZXcsIGV2ZW50KSAmJiAhcnVuQ3VzdG9tSGFuZGxlcih2aWV3LCBldmVudCkgJiZcbiAgICAgICAgICAodmlldy5lZGl0YWJsZSB8fCAhKGV2ZW50LnR5cGUgaW4gZWRpdEhhbmRsZXJzKSkpXG4gICAgICAgIGhhbmRsZXIodmlldywgZXZlbnQpXG4gICAgfSlcbiAgfVxuICAvLyBPbiBTYWZhcmksIGZvciByZWFzb25zIGJleW9uZCBteSB1bmRlcnN0YW5kaW5nLCBhZGRpbmcgYW4gaW5wdXRcbiAgLy8gZXZlbnQgaGFuZGxlciBtYWtlcyBhbiBpc3N1ZSB3aGVyZSB0aGUgY29tcG9zaXRpb24gdmFuaXNoZXMgd2hlblxuICAvLyB5b3UgcHJlc3MgZW50ZXIgZ28gYXdheS5cbiAgaWYgKGJyb3dzZXIuc2FmYXJpKSB2aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4gbnVsbClcblxuICBlbnN1cmVMaXN0ZW5lcnModmlldylcbn1cblxuZnVuY3Rpb24gc2V0U2VsZWN0aW9uT3JpZ2luKHZpZXcsIG9yaWdpbikge1xuICB2aWV3Lmxhc3RTZWxlY3Rpb25PcmlnaW4gPSBvcmlnaW5cbiAgdmlldy5sYXN0U2VsZWN0aW9uVGltZSA9IERhdGUubm93KClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lJbnB1dCh2aWV3KSB7XG4gIHZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpXG4gIGZvciAobGV0IHR5cGUgaW4gdmlldy5ldmVudEhhbmRsZXJzKVxuICAgIHZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgdmlldy5ldmVudEhhbmRsZXJzW3R5cGVdKVxuICBjbGVhclRpbWVvdXQodmlldy5jb21wb3NpbmdUaW1lb3V0KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlTGlzdGVuZXJzKHZpZXcpIHtcbiAgdmlldy5zb21lUHJvcChcImhhbmRsZURPTUV2ZW50c1wiLCBjdXJyZW50SGFuZGxlcnMgPT4ge1xuICAgIGZvciAobGV0IHR5cGUgaW4gY3VycmVudEhhbmRsZXJzKSBpZiAoIXZpZXcuZXZlbnRIYW5kbGVyc1t0eXBlXSlcbiAgICAgIHZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgdmlldy5ldmVudEhhbmRsZXJzW3R5cGVdID0gZXZlbnQgPT4gcnVuQ3VzdG9tSGFuZGxlcih2aWV3LCBldmVudCkpXG4gIH0pXG59XG5cbmZ1bmN0aW9uIHJ1bkN1c3RvbUhhbmRsZXIodmlldywgZXZlbnQpIHtcbiAgcmV0dXJuIHZpZXcuc29tZVByb3AoXCJoYW5kbGVET01FdmVudHNcIiwgaGFuZGxlcnMgPT4ge1xuICAgIGxldCBoYW5kbGVyID0gaGFuZGxlcnNbZXZlbnQudHlwZV1cbiAgICByZXR1cm4gaGFuZGxlciA/IGhhbmRsZXIodmlldywgZXZlbnQpIHx8IGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgOiBmYWxzZVxuICB9KVxufVxuXG5mdW5jdGlvbiBldmVudEJlbG9uZ3NUb1ZpZXcodmlldywgZXZlbnQpIHtcbiAgaWYgKCFldmVudC5idWJibGVzKSByZXR1cm4gdHJ1ZVxuICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuIGZhbHNlXG4gIGZvciAobGV0IG5vZGUgPSBldmVudC50YXJnZXQ7IG5vZGUgIT0gdmlldy5kb207IG5vZGUgPSBub2RlLnBhcmVudE5vZGUpXG4gICAgaWYgKCFub2RlIHx8IG5vZGUubm9kZVR5cGUgPT0gMTEgfHxcbiAgICAgICAgKG5vZGUucG1WaWV3RGVzYyAmJiBub2RlLnBtVmlld0Rlc2Muc3RvcEV2ZW50KGV2ZW50KSkpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgcmV0dXJuIHRydWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQodmlldywgZXZlbnQpIHtcbiAgaWYgKCFydW5DdXN0b21IYW5kbGVyKHZpZXcsIGV2ZW50KSAmJiBoYW5kbGVyc1tldmVudC50eXBlXSAmJlxuICAgICAgKHZpZXcuZWRpdGFibGUgfHwgIShldmVudC50eXBlIGluIGVkaXRIYW5kbGVycykpKVxuICAgIGhhbmRsZXJzW2V2ZW50LnR5cGVdKHZpZXcsIGV2ZW50KVxufVxuXG5lZGl0SGFuZGxlcnMua2V5ZG93biA9ICh2aWV3LCBldmVudCkgPT4ge1xuICB2aWV3LnNoaWZ0S2V5ID0gZXZlbnQua2V5Q29kZSA9PSAxNiB8fCBldmVudC5zaGlmdEtleVxuICBpZiAoaW5Pck5lYXJDb21wb3NpdGlvbih2aWV3LCBldmVudCkpIHJldHVyblxuICB2aWV3Lmxhc3RLZXlDb2RlID0gZXZlbnQua2V5Q29kZVxuICB2aWV3Lmxhc3RLZXlDb2RlVGltZSA9IERhdGUubm93KClcbiAgLy8gT24gaU9TLCBpZiB3ZSBwcmV2ZW50RGVmYXVsdCBlbnRlciBrZXkgcHJlc3NlcywgdGhlIHZpcnR1YWxcbiAgLy8ga2V5Ym9hcmQgZ2V0cyBjb25mdXNlZC4gU28gdGhlIGhhY2sgaGVyZSBpcyB0byBzZXQgYSBmbGFnIHRoYXRcbiAgLy8gbWFrZXMgdGhlIERPTSBjaGFuZ2UgY29kZSByZWNvZ25pemUgdGhhdCB3aGF0IGp1c3QgaGFwcGVucyBzaG91bGRcbiAgLy8gYmUgcmVwbGFjZWQgYnkgd2hhdGV2ZXIgdGhlIEVudGVyIGtleSBoYW5kbGVycyBkby5cbiAgaWYgKGJyb3dzZXIuaW9zICYmIGV2ZW50LmtleUNvZGUgPT0gMTMgJiYgIWV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50LmFsdEtleSAmJiAhZXZlbnQubWV0YUtleSlcbiAgICB2aWV3Lmxhc3RJT1NFbnRlciA9IERhdGUubm93KClcbiAgZWxzZSBpZiAodmlldy5zb21lUHJvcChcImhhbmRsZUtleURvd25cIiwgZiA9PiBmKHZpZXcsIGV2ZW50KSkgfHwgY2FwdHVyZUtleURvd24odmlldywgZXZlbnQpKVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgZWxzZVxuICAgIHNldFNlbGVjdGlvbk9yaWdpbih2aWV3LCBcImtleVwiKVxufVxuXG5lZGl0SGFuZGxlcnMua2V5dXAgPSAodmlldywgZSkgPT4ge1xuICBpZiAoZS5rZXlDb2RlID09IDE2KSB2aWV3LnNoaWZ0S2V5ID0gZmFsc2Vcbn1cblxuZWRpdEhhbmRsZXJzLmtleXByZXNzID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gIGlmIChpbk9yTmVhckNvbXBvc2l0aW9uKHZpZXcsIGV2ZW50KSB8fCAhZXZlbnQuY2hhckNvZGUgfHxcbiAgICAgIGV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50LmFsdEtleSB8fCBicm93c2VyLm1hYyAmJiBldmVudC5tZXRhS2V5KSByZXR1cm5cblxuICBpZiAodmlldy5zb21lUHJvcChcImhhbmRsZUtleVByZXNzXCIsIGYgPT4gZih2aWV3LCBldmVudCkpKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHJldHVyblxuICB9XG5cbiAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uXG4gIGlmICghKHNlbCBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24pIHx8ICFzZWwuJGZyb20uc2FtZVBhcmVudChzZWwuJHRvKSkge1xuICAgIGxldCB0ZXh0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShldmVudC5jaGFyQ29kZSlcbiAgICBpZiAoIXZpZXcuc29tZVByb3AoXCJoYW5kbGVUZXh0SW5wdXRcIiwgZiA9PiBmKHZpZXcsIHNlbC4kZnJvbS5wb3MsIHNlbC4kdG8ucG9zLCB0ZXh0KSkpXG4gICAgICB2aWV3LmRpc3BhdGNoKHZpZXcuc3RhdGUudHIuaW5zZXJ0VGV4dCh0ZXh0KS5zY3JvbGxJbnRvVmlldygpKVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudENvb3JkcyhldmVudCkgeyByZXR1cm4ge2xlZnQ6IGV2ZW50LmNsaWVudFgsIHRvcDogZXZlbnQuY2xpZW50WX0gfVxuXG5mdW5jdGlvbiBpc05lYXIoZXZlbnQsIGNsaWNrKSB7XG4gIGxldCBkeCA9IGNsaWNrLnggLSBldmVudC5jbGllbnRYLCBkeSA9IGNsaWNrLnkgLSBldmVudC5jbGllbnRZXG4gIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeSA8IDEwMFxufVxuXG5mdW5jdGlvbiBydW5IYW5kbGVyT25Db250ZXh0KHZpZXcsIHByb3BOYW1lLCBwb3MsIGluc2lkZSwgZXZlbnQpIHtcbiAgaWYgKGluc2lkZSA9PSAtMSkgcmV0dXJuIGZhbHNlXG4gIGxldCAkcG9zID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShpbnNpZGUpXG4gIGZvciAobGV0IGkgPSAkcG9zLmRlcHRoICsgMTsgaSA+IDA7IGktLSkge1xuICAgIGlmICh2aWV3LnNvbWVQcm9wKHByb3BOYW1lLCBmID0+IGkgPiAkcG9zLmRlcHRoID8gZih2aWV3LCBwb3MsICRwb3Mubm9kZUFmdGVyLCAkcG9zLmJlZm9yZShpKSwgZXZlbnQsIHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmKHZpZXcsIHBvcywgJHBvcy5ub2RlKGkpLCAkcG9zLmJlZm9yZShpKSwgZXZlbnQsIGZhbHNlKSkpXG4gICAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiB1cGRhdGVTZWxlY3Rpb24odmlldywgc2VsZWN0aW9uLCBvcmlnaW4pIHtcbiAgaWYgKCF2aWV3LmZvY3VzZWQpIHZpZXcuZm9jdXMoKVxuICBsZXQgdHIgPSB2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pXG4gIGlmIChvcmlnaW4gPT0gXCJwb2ludGVyXCIpIHRyLnNldE1ldGEoXCJwb2ludGVyXCIsIHRydWUpXG4gIHZpZXcuZGlzcGF0Y2godHIpXG59XG5cbmZ1bmN0aW9uIHNlbGVjdENsaWNrZWRMZWFmKHZpZXcsIGluc2lkZSkge1xuICBpZiAoaW5zaWRlID09IC0xKSByZXR1cm4gZmFsc2VcbiAgbGV0ICRwb3MgPSB2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKGluc2lkZSksIG5vZGUgPSAkcG9zLm5vZGVBZnRlclxuICBpZiAobm9kZSAmJiBub2RlLmlzQXRvbSAmJiBOb2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShub2RlKSkge1xuICAgIHVwZGF0ZVNlbGVjdGlvbih2aWV3LCBuZXcgTm9kZVNlbGVjdGlvbigkcG9zKSwgXCJwb2ludGVyXCIpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gc2VsZWN0Q2xpY2tlZE5vZGUodmlldywgaW5zaWRlKSB7XG4gIGlmIChpbnNpZGUgPT0gLTEpIHJldHVybiBmYWxzZVxuICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24sIHNlbGVjdGVkTm9kZSwgc2VsZWN0QXRcbiAgaWYgKHNlbCBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24pIHNlbGVjdGVkTm9kZSA9IHNlbC5ub2RlXG5cbiAgbGV0ICRwb3MgPSB2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKGluc2lkZSlcbiAgZm9yIChsZXQgaSA9ICRwb3MuZGVwdGggKyAxOyBpID4gMDsgaS0tKSB7XG4gICAgbGV0IG5vZGUgPSBpID4gJHBvcy5kZXB0aCA/ICRwb3Mubm9kZUFmdGVyIDogJHBvcy5ub2RlKGkpXG4gICAgaWYgKE5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5vZGUpKSB7XG4gICAgICBpZiAoc2VsZWN0ZWROb2RlICYmIHNlbC4kZnJvbS5kZXB0aCA+IDAgJiZcbiAgICAgICAgICBpID49IHNlbC4kZnJvbS5kZXB0aCAmJiAkcG9zLmJlZm9yZShzZWwuJGZyb20uZGVwdGggKyAxKSA9PSBzZWwuJGZyb20ucG9zKVxuICAgICAgICBzZWxlY3RBdCA9ICRwb3MuYmVmb3JlKHNlbC4kZnJvbS5kZXB0aClcbiAgICAgIGVsc2VcbiAgICAgICAgc2VsZWN0QXQgPSAkcG9zLmJlZm9yZShpKVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoc2VsZWN0QXQgIT0gbnVsbCkge1xuICAgIHVwZGF0ZVNlbGVjdGlvbih2aWV3LCBOb2RlU2VsZWN0aW9uLmNyZWF0ZSh2aWV3LnN0YXRlLmRvYywgc2VsZWN0QXQpLCBcInBvaW50ZXJcIilcbiAgICByZXR1cm4gdHJ1ZVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVNpbmdsZUNsaWNrKHZpZXcsIHBvcywgaW5zaWRlLCBldmVudCwgc2VsZWN0Tm9kZSkge1xuICByZXR1cm4gcnVuSGFuZGxlck9uQ29udGV4dCh2aWV3LCBcImhhbmRsZUNsaWNrT25cIiwgcG9zLCBpbnNpZGUsIGV2ZW50KSB8fFxuICAgIHZpZXcuc29tZVByb3AoXCJoYW5kbGVDbGlja1wiLCBmID0+IGYodmlldywgcG9zLCBldmVudCkpIHx8XG4gICAgKHNlbGVjdE5vZGUgPyBzZWxlY3RDbGlja2VkTm9kZSh2aWV3LCBpbnNpZGUpIDogc2VsZWN0Q2xpY2tlZExlYWYodmlldywgaW5zaWRlKSlcbn1cblxuZnVuY3Rpb24gaGFuZGxlRG91YmxlQ2xpY2sodmlldywgcG9zLCBpbnNpZGUsIGV2ZW50KSB7XG4gIHJldHVybiBydW5IYW5kbGVyT25Db250ZXh0KHZpZXcsIFwiaGFuZGxlRG91YmxlQ2xpY2tPblwiLCBwb3MsIGluc2lkZSwgZXZlbnQpIHx8XG4gICAgdmlldy5zb21lUHJvcChcImhhbmRsZURvdWJsZUNsaWNrXCIsIGYgPT4gZih2aWV3LCBwb3MsIGV2ZW50KSlcbn1cblxuZnVuY3Rpb24gaGFuZGxlVHJpcGxlQ2xpY2sodmlldywgcG9zLCBpbnNpZGUsIGV2ZW50KSB7XG4gIHJldHVybiBydW5IYW5kbGVyT25Db250ZXh0KHZpZXcsIFwiaGFuZGxlVHJpcGxlQ2xpY2tPblwiLCBwb3MsIGluc2lkZSwgZXZlbnQpIHx8XG4gICAgdmlldy5zb21lUHJvcChcImhhbmRsZVRyaXBsZUNsaWNrXCIsIGYgPT4gZih2aWV3LCBwb3MsIGV2ZW50KSkgfHxcbiAgICBkZWZhdWx0VHJpcGxlQ2xpY2sodmlldywgaW5zaWRlKVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0VHJpcGxlQ2xpY2sodmlldywgaW5zaWRlKSB7XG4gIGxldCBkb2MgPSB2aWV3LnN0YXRlLmRvY1xuICBpZiAoaW5zaWRlID09IC0xKSB7XG4gICAgaWYgKGRvYy5pbmxpbmVDb250ZW50KSB7XG4gICAgICB1cGRhdGVTZWxlY3Rpb24odmlldywgVGV4dFNlbGVjdGlvbi5jcmVhdGUoZG9jLCAwLCBkb2MuY29udGVudC5zaXplKSwgXCJwb2ludGVyXCIpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGxldCAkcG9zID0gZG9jLnJlc29sdmUoaW5zaWRlKVxuICBmb3IgKGxldCBpID0gJHBvcy5kZXB0aCArIDE7IGkgPiAwOyBpLS0pIHtcbiAgICBsZXQgbm9kZSA9IGkgPiAkcG9zLmRlcHRoID8gJHBvcy5ub2RlQWZ0ZXIgOiAkcG9zLm5vZGUoaSlcbiAgICBsZXQgbm9kZVBvcyA9ICRwb3MuYmVmb3JlKGkpXG4gICAgaWYgKG5vZGUuaW5saW5lQ29udGVudClcbiAgICAgIHVwZGF0ZVNlbGVjdGlvbih2aWV3LCBUZXh0U2VsZWN0aW9uLmNyZWF0ZShkb2MsIG5vZGVQb3MgKyAxLCBub2RlUG9zICsgMSArIG5vZGUuY29udGVudC5zaXplKSwgXCJwb2ludGVyXCIpXG4gICAgZWxzZSBpZiAoTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUobm9kZSkpXG4gICAgICB1cGRhdGVTZWxlY3Rpb24odmlldywgTm9kZVNlbGVjdGlvbi5jcmVhdGUoZG9jLCBub2RlUG9zKSwgXCJwb2ludGVyXCIpXG4gICAgZWxzZVxuICAgICAgY29udGludWVcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIGZvcmNlRE9NRmx1c2godmlldykge1xuICByZXR1cm4gZW5kQ29tcG9zaXRpb24odmlldylcbn1cblxuY29uc3Qgc2VsZWN0Tm9kZU1vZGlmaWVyID0gYnJvd3Nlci5tYWMgPyBcIm1ldGFLZXlcIiA6IFwiY3RybEtleVwiXG5cbmhhbmRsZXJzLm1vdXNlZG93biA9ICh2aWV3LCBldmVudCkgPT4ge1xuICB2aWV3LnNoaWZ0S2V5ID0gZXZlbnQuc2hpZnRLZXlcbiAgbGV0IGZsdXNoZWQgPSBmb3JjZURPTUZsdXNoKHZpZXcpXG4gIGxldCBub3cgPSBEYXRlLm5vdygpLCB0eXBlID0gXCJzaW5nbGVDbGlja1wiXG4gIGlmIChub3cgLSB2aWV3Lmxhc3RDbGljay50aW1lIDwgNTAwICYmIGlzTmVhcihldmVudCwgdmlldy5sYXN0Q2xpY2spICYmICFldmVudFtzZWxlY3ROb2RlTW9kaWZpZXJdKSB7XG4gICAgaWYgKHZpZXcubGFzdENsaWNrLnR5cGUgPT0gXCJzaW5nbGVDbGlja1wiKSB0eXBlID0gXCJkb3VibGVDbGlja1wiXG4gICAgZWxzZSBpZiAodmlldy5sYXN0Q2xpY2sudHlwZSA9PSBcImRvdWJsZUNsaWNrXCIpIHR5cGUgPSBcInRyaXBsZUNsaWNrXCJcbiAgfVxuICB2aWV3Lmxhc3RDbGljayA9IHt0aW1lOiBub3csIHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFksIHR5cGV9XG5cbiAgbGV0IHBvcyA9IHZpZXcucG9zQXRDb29yZHMoZXZlbnRDb29yZHMoZXZlbnQpKVxuICBpZiAoIXBvcykgcmV0dXJuXG5cbiAgaWYgKHR5cGUgPT0gXCJzaW5nbGVDbGlja1wiKVxuICAgIHZpZXcubW91c2VEb3duID0gbmV3IE1vdXNlRG93bih2aWV3LCBwb3MsIGV2ZW50LCBmbHVzaGVkKVxuICBlbHNlIGlmICgodHlwZSA9PSBcImRvdWJsZUNsaWNrXCIgPyBoYW5kbGVEb3VibGVDbGljayA6IGhhbmRsZVRyaXBsZUNsaWNrKSh2aWV3LCBwb3MucG9zLCBwb3MuaW5zaWRlLCBldmVudCkpXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICBlbHNlXG4gICAgc2V0U2VsZWN0aW9uT3JpZ2luKHZpZXcsIFwicG9pbnRlclwiKVxufVxuXG5jbGFzcyBNb3VzZURvd24ge1xuICBjb25zdHJ1Y3Rvcih2aWV3LCBwb3MsIGV2ZW50LCBmbHVzaGVkKSB7XG4gICAgdGhpcy52aWV3ID0gdmlld1xuICAgIHRoaXMuc3RhcnREb2MgPSB2aWV3LnN0YXRlLmRvY1xuICAgIHRoaXMucG9zID0gcG9zXG4gICAgdGhpcy5ldmVudCA9IGV2ZW50XG4gICAgdGhpcy5mbHVzaGVkID0gZmx1c2hlZFxuICAgIHRoaXMuc2VsZWN0Tm9kZSA9IGV2ZW50W3NlbGVjdE5vZGVNb2RpZmllcl1cbiAgICB0aGlzLmFsbG93RGVmYXVsdCA9IGV2ZW50LnNoaWZ0S2V5XG5cbiAgICBsZXQgdGFyZ2V0Tm9kZSwgdGFyZ2V0UG9zXG4gICAgaWYgKHBvcy5pbnNpZGUgPiAtMSkge1xuICAgICAgdGFyZ2V0Tm9kZSA9IHZpZXcuc3RhdGUuZG9jLm5vZGVBdChwb3MuaW5zaWRlKVxuICAgICAgdGFyZ2V0UG9zID0gcG9zLmluc2lkZVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgJHBvcyA9IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUocG9zLnBvcylcbiAgICAgIHRhcmdldE5vZGUgPSAkcG9zLnBhcmVudFxuICAgICAgdGFyZ2V0UG9zID0gJHBvcy5kZXB0aCA/ICRwb3MuYmVmb3JlKCkgOiAwXG4gICAgfVxuXG4gICAgdGhpcy5taWdodERyYWcgPSBudWxsXG5cbiAgICBjb25zdCB0YXJnZXQgPSBmbHVzaGVkID8gbnVsbCA6IGV2ZW50LnRhcmdldFxuICAgIGNvbnN0IHRhcmdldERlc2MgPSB0YXJnZXQgPyB2aWV3LmRvY1ZpZXcubmVhcmVzdERlc2ModGFyZ2V0LCB0cnVlKSA6IG51bGxcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldERlc2MgPyB0YXJnZXREZXNjLmRvbSA6IG51bGxcblxuICAgIGlmICh0YXJnZXROb2RlLnR5cGUuc3BlYy5kcmFnZ2FibGUgJiYgdGFyZ2V0Tm9kZS50eXBlLnNwZWMuc2VsZWN0YWJsZSAhPT0gZmFsc2UgfHxcbiAgICAgICAgdmlldy5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uICYmIHRhcmdldFBvcyA9PSB2aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tKVxuICAgICAgdGhpcy5taWdodERyYWcgPSB7bm9kZTogdGFyZ2V0Tm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogdGFyZ2V0UG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXR0cjogdGhpcy50YXJnZXQgJiYgIXRoaXMudGFyZ2V0LmRyYWdnYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFVuZWRpdGFibGU6IHRoaXMudGFyZ2V0ICYmIGJyb3dzZXIuZ2Vja28gJiYgIXRoaXMudGFyZ2V0Lmhhc0F0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKX1cblxuICAgIGlmICh0aGlzLnRhcmdldCAmJiB0aGlzLm1pZ2h0RHJhZyAmJiAodGhpcy5taWdodERyYWcuYWRkQXR0ciB8fCB0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlKSkge1xuICAgICAgdGhpcy52aWV3LmRvbU9ic2VydmVyLnN0b3AoKVxuICAgICAgaWYgKHRoaXMubWlnaHREcmFnLmFkZEF0dHIpIHRoaXMudGFyZ2V0LmRyYWdnYWJsZSA9IHRydWVcbiAgICAgIGlmICh0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMudGFyZ2V0LnNldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiLCBcImZhbHNlXCIpLCAyMClcbiAgICAgIHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpXG4gICAgfVxuXG4gICAgdmlldy5yb290LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMudXAgPSB0aGlzLnVwLmJpbmQodGhpcykpXG4gICAgdmlldy5yb290LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3ZlID0gdGhpcy5tb3ZlLmJpbmQodGhpcykpXG4gICAgc2V0U2VsZWN0aW9uT3JpZ2luKHZpZXcsIFwicG9pbnRlclwiKVxuICB9XG5cbiAgZG9uZSgpIHtcbiAgICB0aGlzLnZpZXcucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLnVwKVxuICAgIHRoaXMudmlldy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3ZlKVxuICAgIGlmICh0aGlzLm1pZ2h0RHJhZyAmJiB0aGlzLnRhcmdldCkge1xuICAgICAgdGhpcy52aWV3LmRvbU9ic2VydmVyLnN0b3AoKVxuICAgICAgaWYgKHRoaXMubWlnaHREcmFnLmFkZEF0dHIpIHRoaXMudGFyZ2V0LmRyYWdnYWJsZSA9IGZhbHNlXG4gICAgICBpZiAodGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSkgdGhpcy50YXJnZXQucmVtb3ZlQXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpXG4gICAgICB0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKVxuICAgIH1cbiAgICB0aGlzLnZpZXcubW91c2VEb3duID0gbnVsbFxuICB9XG5cbiAgdXAoZXZlbnQpIHtcbiAgICB0aGlzLmRvbmUoKVxuXG4gICAgaWYgKCF0aGlzLnZpZXcuZG9tLmNvbnRhaW5zKGV2ZW50LnRhcmdldC5ub2RlVHlwZSA9PSAzID8gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUgOiBldmVudC50YXJnZXQpKVxuICAgICAgcmV0dXJuXG5cbiAgICBsZXQgcG9zID0gdGhpcy5wb3NcbiAgICBpZiAodGhpcy52aWV3LnN0YXRlLmRvYyAhPSB0aGlzLnN0YXJ0RG9jKSBwb3MgPSB0aGlzLnZpZXcucG9zQXRDb29yZHMoZXZlbnRDb29yZHMoZXZlbnQpKVxuXG4gICAgaWYgKHRoaXMuYWxsb3dEZWZhdWx0IHx8ICFwb3MpIHtcbiAgICAgIHNldFNlbGVjdGlvbk9yaWdpbih0aGlzLnZpZXcsIFwicG9pbnRlclwiKVxuICAgIH0gZWxzZSBpZiAoaGFuZGxlU2luZ2xlQ2xpY2sodGhpcy52aWV3LCBwb3MucG9zLCBwb3MuaW5zaWRlLCBldmVudCwgdGhpcy5zZWxlY3ROb2RlKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH0gZWxzZSBpZiAodGhpcy5mbHVzaGVkIHx8XG4gICAgICAgICAgICAgICAvLyBDaHJvbWUgd2lsbCBzb21ldGltZXMgdHJlYXQgYSBub2RlIHNlbGVjdGlvbiBhcyBhXG4gICAgICAgICAgICAgICAvLyBjdXJzb3IsIGJ1dCBzdGlsbCByZXBvcnQgdGhhdCB0aGUgbm9kZSBpcyBzZWxlY3RlZFxuICAgICAgICAgICAgICAgLy8gd2hlbiBhc2tlZCB0aHJvdWdoIGdldFNlbGVjdGlvbi4gWW91J2xsIHRoZW4gZ2V0IGFcbiAgICAgICAgICAgICAgIC8vIHNpdHVhdGlvbiB3aGVyZSBjbGlja2luZyBhdCB0aGUgcG9pbnQgd2hlcmUgdGhhdFxuICAgICAgICAgICAgICAgLy8gKGhpZGRlbikgY3Vyc29yIGlzIGRvZXNuJ3QgY2hhbmdlIHRoZSBzZWxlY3Rpb24sIGFuZFxuICAgICAgICAgICAgICAgLy8gdGh1cyBkb2Vzbid0IGdldCBhIHJlYWN0aW9uIGZyb20gUHJvc2VNaXJyb3IuIFRoaXNcbiAgICAgICAgICAgICAgIC8vIHdvcmtzIGFyb3VuZCB0aGF0LlxuICAgICAgICAgICAgICAgKGJyb3dzZXIuY2hyb21lICYmICEodGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24pICYmXG4gICAgICAgICAgICAgICAgKHBvcy5wb3MgPT0gdGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tIHx8IHBvcy5wb3MgPT0gdGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi50bykpKSB7XG4gICAgICB1cGRhdGVTZWxlY3Rpb24odGhpcy52aWV3LCBTZWxlY3Rpb24ubmVhcih0aGlzLnZpZXcuc3RhdGUuZG9jLnJlc29sdmUocG9zLnBvcykpLCBcInBvaW50ZXJcIilcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U2VsZWN0aW9uT3JpZ2luKHRoaXMudmlldywgXCJwb2ludGVyXCIpXG4gICAgfVxuICB9XG5cbiAgbW92ZShldmVudCkge1xuICAgIGlmICghdGhpcy5hbGxvd0RlZmF1bHQgJiYgKE1hdGguYWJzKHRoaXMuZXZlbnQueCAtIGV2ZW50LmNsaWVudFgpID4gNCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKHRoaXMuZXZlbnQueSAtIGV2ZW50LmNsaWVudFkpID4gNCkpXG4gICAgICB0aGlzLmFsbG93RGVmYXVsdCA9IHRydWVcbiAgICBzZXRTZWxlY3Rpb25PcmlnaW4odGhpcy52aWV3LCBcInBvaW50ZXJcIilcbiAgfVxufVxuXG5oYW5kbGVycy50b3VjaGRvd24gPSB2aWV3ID0+IHtcbiAgZm9yY2VET01GbHVzaCh2aWV3KVxuICBzZXRTZWxlY3Rpb25PcmlnaW4odmlldywgXCJwb2ludGVyXCIpXG59XG5cbmhhbmRsZXJzLmNvbnRleHRtZW51ID0gdmlldyA9PiBmb3JjZURPTUZsdXNoKHZpZXcpXG5cbmZ1bmN0aW9uIGluT3JOZWFyQ29tcG9zaXRpb24odmlldywgZXZlbnQpIHtcbiAgaWYgKHZpZXcuY29tcG9zaW5nKSByZXR1cm4gdHJ1ZVxuICAvLyBTZWUgaHR0cHM6Ly93d3cuc3R1bS5kZS8yMDE2LzA2LzI0L2hhbmRsaW5nLWltZS1ldmVudHMtaW4tamF2YXNjcmlwdC8uXG4gIC8vIE9uIEphcGFuZXNlIGlucHV0IG1ldGhvZCBlZGl0b3JzIChJTUVzKSwgdGhlIEVudGVyIGtleSBpcyB1c2VkIHRvIGNvbmZpcm0gY2hhcmFjdGVyXG4gIC8vIHNlbGVjdGlvbi4gT24gU2FmYXJpLCB3aGVuIEVudGVyIGlzIHByZXNzZWQsIGNvbXBvc2l0aW9uZW5kIGFuZCBrZXlkb3duIGV2ZW50cyBhcmVcbiAgLy8gZW1pdHRlZC4gVGhlIGtleWRvd24gZXZlbnQgdHJpZ2dlcnMgbmV3bGluZSBpbnNlcnRpb24sIHdoaWNoIHdlIGRvbid0IHdhbnQuXG4gIC8vIFRoaXMgbWV0aG9kIHJldHVybnMgdHJ1ZSBpZiB0aGUga2V5ZG93biBldmVudCBzaG91bGQgYmUgaWdub3JlZC5cbiAgLy8gV2Ugb25seSBpZ25vcmUgaXQgb25jZSwgYXMgcHJlc3NpbmcgRW50ZXIgYSBzZWNvbmQgdGltZSAqc2hvdWxkKiBpbnNlcnQgYSBuZXdsaW5lLlxuICAvLyBGdXJ0aGVybW9yZSwgdGhlIGtleWRvd24gZXZlbnQgdGltZXN0YW1wIG11c3QgYmUgY2xvc2UgdG8gdGhlIGNvbXBvc2l0aW9uRW5kZWRBdCB0aW1lc3RhbXAuXG4gIC8vIFRoaXMgZ3VhcmRzIGFnYWluc3QgdGhlIGNhc2Ugd2hlcmUgY29tcG9zaXRpb25lbmQgaXMgdHJpZ2dlcmVkIHdpdGhvdXQgdGhlIGtleWJvYXJkXG4gIC8vIChlLmcuIGNoYXJhY3RlciBjb25maXJtYXRpb24gbWF5IGJlIGRvbmUgd2l0aCB0aGUgbW91c2UpLCBhbmQga2V5ZG93biBpcyB0cmlnZ2VyZWRcbiAgLy8gYWZ0ZXJ3YXJkcy0gd2Ugd291bGRuJ3Qgd2FudCB0byBpZ25vcmUgdGhlIGtleWRvd24gZXZlbnQgaW4gdGhpcyBjYXNlLlxuICBpZiAoYnJvd3Nlci5zYWZhcmkgJiYgTWF0aC5hYnMoZXZlbnQudGltZVN0YW1wIC0gdmlldy5jb21wb3NpdGlvbkVuZGVkQXQpIDwgNTAwKSB7XG4gICAgdmlldy5jb21wb3NpdGlvbkVuZGVkQXQgPSAtMmU4XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuLy8gRHJvcCBhY3RpdmUgY29tcG9zaXRpb24gYWZ0ZXIgNSBzZWNvbmRzIG9mIGluYWN0aXZpdHkgb24gQW5kcm9pZFxuY29uc3QgdGltZW91dENvbXBvc2l0aW9uID0gYnJvd3Nlci5hbmRyb2lkID8gNTAwMCA6IC0xXG5cbmVkaXRIYW5kbGVycy5jb21wb3NpdGlvbnN0YXJ0ID0gZWRpdEhhbmRsZXJzLmNvbXBvc2l0aW9udXBkYXRlID0gdmlldyA9PiB7XG4gIGlmICghdmlldy5jb21wb3NpbmcpIHtcbiAgICB2aWV3LmRvbU9ic2VydmVyLmZsdXNoKClcbiAgICBsZXQge3N0YXRlfSA9IHZpZXcsICRwb3MgPSBzdGF0ZS5zZWxlY3Rpb24uJGZyb21cbiAgICBpZiAoc3RhdGUuc2VsZWN0aW9uLmVtcHR5ICYmXG4gICAgICAgIChzdGF0ZS5zdG9yZWRNYXJrcyB8fCAoISRwb3MudGV4dE9mZnNldCAmJiAkcG9zLnBhcmVudE9mZnNldCAmJiAkcG9zLm5vZGVCZWZvcmUubWFya3Muc29tZShtID0+IG0udHlwZS5zcGVjLmluY2x1c2l2ZSA9PT0gZmFsc2UpKSkpIHtcbiAgICAgIC8vIE5lZWQgdG8gd3JhcCB0aGUgY3Vyc29yIGluIG1hcmsgbm9kZXMgZGlmZmVyZW50IGZyb20gdGhlIG9uZXMgaW4gdGhlIERPTSBjb250ZXh0XG4gICAgICB2aWV3Lm1hcmtDdXJzb3IgPSB2aWV3LnN0YXRlLnN0b3JlZE1hcmtzIHx8ICRwb3MubWFya3MoKVxuICAgICAgZW5kQ29tcG9zaXRpb24odmlldywgdHJ1ZSlcbiAgICAgIHZpZXcubWFya0N1cnNvciA9IG51bGxcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kQ29tcG9zaXRpb24odmlldylcbiAgICAgIC8vIEluIGZpcmVmb3gsIGlmIHRoZSBjdXJzb3IgaXMgYWZ0ZXIgYnV0IG91dHNpZGUgYSBtYXJrZWQgbm9kZSxcbiAgICAgIC8vIHRoZSBpbnNlcnRlZCB0ZXh0IHdvbid0IGluaGVyaXQgdGhlIG1hcmtzLiBTbyB0aGlzIG1vdmVzIGl0XG4gICAgICAvLyBpbnNpZGUgaWYgbmVjZXNzYXJ5LlxuICAgICAgaWYgKGJyb3dzZXIuZ2Vja28gJiYgc3RhdGUuc2VsZWN0aW9uLmVtcHR5ICYmICRwb3MucGFyZW50T2Zmc2V0ICYmICEkcG9zLnRleHRPZmZzZXQgJiYgJHBvcy5ub2RlQmVmb3JlLm1hcmtzLmxlbmd0aCkge1xuICAgICAgICBsZXQgc2VsID0gdmlldy5yb290LmdldFNlbGVjdGlvbigpXG4gICAgICAgIGZvciAobGV0IG5vZGUgPSBzZWwuZm9jdXNOb2RlLCBvZmZzZXQgPSBzZWwuZm9jdXNPZmZzZXQ7IG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA9PSAxICYmIG9mZnNldCAhPSAwOykge1xuICAgICAgICAgIGxldCBiZWZvcmUgPSBvZmZzZXQgPCAwID8gbm9kZS5sYXN0Q2hpbGQgOiBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV1cbiAgICAgICAgICBpZiAoIWJlZm9yZSkgYnJlYWtcbiAgICAgICAgICBpZiAoYmVmb3JlLm5vZGVUeXBlID09IDMpIHtcbiAgICAgICAgICAgIHNlbC5jb2xsYXBzZShiZWZvcmUsIGJlZm9yZS5ub2RlVmFsdWUubGVuZ3RoKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZSA9IGJlZm9yZVxuICAgICAgICAgICAgb2Zmc2V0ID0gLTFcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmlldy5jb21wb3NpbmcgPSB0cnVlXG4gIH1cbiAgc2NoZWR1bGVDb21wb3NlRW5kKHZpZXcsIHRpbWVvdXRDb21wb3NpdGlvbilcbn1cblxuZWRpdEhhbmRsZXJzLmNvbXBvc2l0aW9uZW5kID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gIGlmICh2aWV3LmNvbXBvc2luZykge1xuICAgIHZpZXcuY29tcG9zaW5nID0gZmFsc2VcbiAgICB2aWV3LmNvbXBvc2l0aW9uRW5kZWRBdCA9IGV2ZW50LnRpbWVTdGFtcFxuICAgIHNjaGVkdWxlQ29tcG9zZUVuZCh2aWV3LCAyMClcbiAgfVxufVxuXG5mdW5jdGlvbiBzY2hlZHVsZUNvbXBvc2VFbmQodmlldywgZGVsYXkpIHtcbiAgY2xlYXJUaW1lb3V0KHZpZXcuY29tcG9zaW5nVGltZW91dClcbiAgaWYgKGRlbGF5ID4gLTEpIHZpZXcuY29tcG9zaW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gZW5kQ29tcG9zaXRpb24odmlldyksIGRlbGF5KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5kQ29tcG9zaXRpb24odmlldywgZm9yY2VVcGRhdGUpIHtcbiAgdmlldy5jb21wb3NpbmcgPSBmYWxzZVxuICB3aGlsZSAodmlldy5jb21wb3NpdGlvbk5vZGVzLmxlbmd0aCA+IDApIHZpZXcuY29tcG9zaXRpb25Ob2Rlcy5wb3AoKS5tYXJrUGFyZW50c0RpcnR5KClcbiAgaWYgKGZvcmNlVXBkYXRlIHx8IHZpZXcuZG9jVmlldy5kaXJ0eSkge1xuICAgIHZpZXcudXBkYXRlU3RhdGUodmlldy5zdGF0ZSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBjYXB0dXJlQ29weSh2aWV3LCBkb20pIHtcbiAgLy8gVGhlIGV4dHJhIHdyYXBwZXIgaXMgc29tZWhvdyBuZWNlc3Nhcnkgb24gSUUvRWRnZSB0byBwcmV2ZW50IHRoZVxuICAvLyBjb250ZW50IGZyb20gYmVpbmcgbWFuZ2xlZCB3aGVuIGl0IGlzIHB1dCBvbnRvIHRoZSBjbGlwYm9hcmRcbiAgbGV0IGRvYyA9IHZpZXcuZG9tLm93bmVyRG9jdW1lbnRcbiAgbGV0IHdyYXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZChkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKSlcbiAgd3JhcC5hcHBlbmRDaGlsZChkb20pXG4gIHdyYXAuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAtMTAwMDBweDsgdG9wOiAxMHB4XCJcbiAgbGV0IHNlbCA9IGdldFNlbGVjdGlvbigpLCByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpXG4gIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhkb20pXG4gIC8vIERvbmUgYmVjYXVzZSBJRSB3aWxsIGZpcmUgYSBzZWxlY3Rpb25jaGFuZ2UgbW92aW5nIHRoZSBzZWxlY3Rpb25cbiAgLy8gdG8gaXRzIHN0YXJ0IHdoZW4gcmVtb3ZlQWxsUmFuZ2VzIGlzIGNhbGxlZCBhbmQgdGhlIGVkaXRvciBzdGlsbFxuICAvLyBoYXMgZm9jdXMgKHdoaWNoIHdpbGwgbWVzcyB1cCB0aGUgZWRpdG9yJ3Mgc2VsZWN0aW9uIHN0YXRlKS5cbiAgdmlldy5kb20uYmx1cigpXG4gIHNlbC5yZW1vdmVBbGxSYW5nZXMoKVxuICBzZWwuYWRkUmFuZ2UocmFuZ2UpXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGRvYy5ib2R5LnJlbW92ZUNoaWxkKHdyYXApXG4gICAgdmlldy5mb2N1cygpXG4gIH0sIDUwKVxufVxuXG4vLyBUaGlzIGlzIHZlcnkgY3J1ZGUsIGJ1dCB1bmZvcnR1bmF0ZWx5IGJvdGggdGhlc2UgYnJvd3NlcnMgX3ByZXRlbmRfXG4vLyB0aGF0IHRoZXkgaGF2ZSBhIGNsaXBib2FyZCBBUEnigJRhbGwgdGhlIG9iamVjdHMgYW5kIG1ldGhvZHMgYXJlXG4vLyB0aGVyZSwgdGhleSBqdXN0IGRvbid0IHdvcmssIGFuZCB0aGV5IGFyZSBoYXJkIHRvIHRlc3QuXG5jb25zdCBicm9rZW5DbGlwYm9hcmRBUEkgPSAoYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPCAxNSkgfHxcbiAgICAgIChicm93c2VyLmlvcyAmJiBicm93c2VyLndlYmtpdF92ZXJzaW9uIDwgNjA0KVxuXG5oYW5kbGVycy5jb3B5ID0gZWRpdEhhbmRsZXJzLmN1dCA9ICh2aWV3LCBlKSA9PiB7XG4gIGxldCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbiwgY3V0ID0gZS50eXBlID09IFwiY3V0XCJcbiAgaWYgKHNlbC5lbXB0eSkgcmV0dXJuXG5cbiAgLy8gSUUgYW5kIEVkZ2UncyBjbGlwYm9hcmQgaW50ZXJmYWNlIGlzIGNvbXBsZXRlbHkgYnJva2VuXG4gIGxldCBkYXRhID0gYnJva2VuQ2xpcGJvYXJkQVBJID8gbnVsbCA6IGUuY2xpcGJvYXJkRGF0YVxuICBsZXQgc2xpY2UgPSBzZWwuY29udGVudCgpLCB7ZG9tLCB0ZXh0fSA9IHNlcmlhbGl6ZUZvckNsaXBib2FyZCh2aWV3LCBzbGljZSlcbiAgaWYgKGRhdGEpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBkYXRhLmNsZWFyRGF0YSgpXG4gICAgZGF0YS5zZXREYXRhKFwidGV4dC9odG1sXCIsIGRvbS5pbm5lckhUTUwpXG4gICAgZGF0YS5zZXREYXRhKFwidGV4dC9wbGFpblwiLCB0ZXh0KVxuICB9IGVsc2Uge1xuICAgIGNhcHR1cmVDb3B5KHZpZXcsIGRvbSlcbiAgfVxuICBpZiAoY3V0KSB2aWV3LmRpc3BhdGNoKHZpZXcuc3RhdGUudHIuZGVsZXRlU2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKS5zZXRNZXRhKFwidWlFdmVudFwiLCBcImN1dFwiKSlcbn1cblxuZnVuY3Rpb24gc2xpY2VTaW5nbGVOb2RlKHNsaWNlKSB7XG4gIHJldHVybiBzbGljZS5vcGVuU3RhcnQgPT0gMCAmJiBzbGljZS5vcGVuRW5kID09IDAgJiYgc2xpY2UuY29udGVudC5jaGlsZENvdW50ID09IDEgPyBzbGljZS5jb250ZW50LmZpcnN0Q2hpbGQgOiBudWxsXG59XG5cbmZ1bmN0aW9uIGNhcHR1cmVQYXN0ZSh2aWV3LCBlKSB7XG4gIGxldCBkb2MgPSB2aWV3LmRvbS5vd25lckRvY3VtZW50XG4gIGxldCBwbGFpblRleHQgPSB2aWV3LnNoaWZ0S2V5IHx8IHZpZXcuc3RhdGUuc2VsZWN0aW9uLiRmcm9tLnBhcmVudC50eXBlLnNwZWMuY29kZVxuICBsZXQgdGFyZ2V0ID0gZG9jLmJvZHkuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZUVsZW1lbnQocGxhaW5UZXh0ID8gXCJ0ZXh0YXJlYVwiIDogXCJkaXZcIikpXG4gIGlmICghcGxhaW5UZXh0KSB0YXJnZXQuY29udGVudEVkaXRhYmxlID0gXCJ0cnVlXCJcbiAgdGFyZ2V0LnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBmaXhlZDsgbGVmdDogLTEwMDAwcHg7IHRvcDogMTBweFwiXG4gIHRhcmdldC5mb2N1cygpXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHZpZXcuZm9jdXMoKVxuICAgIGRvYy5ib2R5LnJlbW92ZUNoaWxkKHRhcmdldClcbiAgICBpZiAocGxhaW5UZXh0KSBkb1Bhc3RlKHZpZXcsIHRhcmdldC52YWx1ZSwgbnVsbCwgZSlcbiAgICBlbHNlIGRvUGFzdGUodmlldywgdGFyZ2V0LnRleHRDb250ZW50LCB0YXJnZXQuaW5uZXJIVE1MLCBlKVxuICB9LCA1MClcbn1cblxuZnVuY3Rpb24gZG9QYXN0ZSh2aWV3LCB0ZXh0LCBodG1sLCBlKSB7XG4gIGxldCBzbGljZSA9IHBhcnNlRnJvbUNsaXBib2FyZCh2aWV3LCB0ZXh0LCBodG1sLCB2aWV3LnNoaWZ0S2V5LCB2aWV3LnN0YXRlLnNlbGVjdGlvbi4kZnJvbSlcbiAgaWYgKHZpZXcuc29tZVByb3AoXCJoYW5kbGVQYXN0ZVwiLCBmID0+IGYodmlldywgZSwgc2xpY2UgfHwgU2xpY2UuZW1wdHkpKSB8fCAhc2xpY2UpIHJldHVyblxuXG4gIGxldCBzaW5nbGVOb2RlID0gc2xpY2VTaW5nbGVOb2RlKHNsaWNlKVxuICBsZXQgdHIgPSBzaW5nbGVOb2RlID8gdmlldy5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aChzaW5nbGVOb2RlLCB2aWV3LnNoaWZ0S2V5KSA6IHZpZXcuc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbihzbGljZSlcbiAgdmlldy5kaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoXCJwYXN0ZVwiLCB0cnVlKS5zZXRNZXRhKFwidWlFdmVudFwiLCBcInBhc3RlXCIpKVxufVxuXG5lZGl0SGFuZGxlcnMucGFzdGUgPSAodmlldywgZSkgPT4ge1xuICBsZXQgZGF0YSA9IGJyb2tlbkNsaXBib2FyZEFQSSA/IG51bGwgOiBlLmNsaXBib2FyZERhdGFcbiAgbGV0IGh0bWwgPSBkYXRhICYmIGRhdGEuZ2V0RGF0YShcInRleHQvaHRtbFwiKSwgdGV4dCA9IGRhdGEgJiYgZGF0YS5nZXREYXRhKFwidGV4dC9wbGFpblwiKVxuICBpZiAoZGF0YSAmJiAoaHRtbCB8fCB0ZXh0IHx8IGRhdGEuZmlsZXMubGVuZ3RoKSkge1xuICAgIGRvUGFzdGUodmlldywgdGV4dCwgaHRtbCwgZSlcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfSBlbHNlIHtcbiAgICBjYXB0dXJlUGFzdGUodmlldywgZSlcbiAgfVxufVxuXG5jbGFzcyBEcmFnZ2luZyB7XG4gIGNvbnN0cnVjdG9yKHNsaWNlLCBtb3ZlKSB7XG4gICAgdGhpcy5zbGljZSA9IHNsaWNlXG4gICAgdGhpcy5tb3ZlID0gbW92ZVxuICB9XG59XG5cbmNvbnN0IGRyYWdDb3B5TW9kaWZpZXIgPSBicm93c2VyLm1hYyA/IFwiYWx0S2V5XCIgOiBcImN0cmxLZXlcIlxuXG5oYW5kbGVycy5kcmFnc3RhcnQgPSAodmlldywgZSkgPT4ge1xuICBsZXQgbW91c2VEb3duID0gdmlldy5tb3VzZURvd25cbiAgaWYgKG1vdXNlRG93bikgbW91c2VEb3duLmRvbmUoKVxuICBpZiAoIWUuZGF0YVRyYW5zZmVyKSByZXR1cm5cblxuICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb25cbiAgbGV0IHBvcyA9IHNlbC5lbXB0eSA/IG51bGwgOiB2aWV3LnBvc0F0Q29vcmRzKGV2ZW50Q29vcmRzKGUpKVxuICBpZiAocG9zICYmIHBvcy5wb3MgPj0gc2VsLmZyb20gJiYgcG9zLnBvcyA8PSAoc2VsIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbiA/IHNlbC50byAtIDE6IHNlbC50bykpIHtcbiAgICAvLyBJbiBzZWxlY3Rpb25cbiAgfSBlbHNlIGlmIChtb3VzZURvd24gJiYgbW91c2VEb3duLm1pZ2h0RHJhZykge1xuICAgIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oTm9kZVNlbGVjdGlvbi5jcmVhdGUodmlldy5zdGF0ZS5kb2MsIG1vdXNlRG93bi5taWdodERyYWcucG9zKSkpXG4gIH0gZWxzZSBpZiAoZS50YXJnZXQgJiYgZS50YXJnZXQubm9kZVR5cGUgPT0gMSkge1xuICAgIGxldCBkZXNjID0gdmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGUudGFyZ2V0LCB0cnVlKVxuICAgIGlmICghZGVzYyB8fCAhZGVzYy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGUgfHwgZGVzYyA9PSB2aWV3LmRvY1ZpZXcpIHJldHVyblxuICAgIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oTm9kZVNlbGVjdGlvbi5jcmVhdGUodmlldy5zdGF0ZS5kb2MsIGRlc2MucG9zQmVmb3JlKSkpXG4gIH1cbiAgbGV0IHNsaWNlID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24uY29udGVudCgpLCB7ZG9tLCB0ZXh0fSA9IHNlcmlhbGl6ZUZvckNsaXBib2FyZCh2aWV3LCBzbGljZSlcbiAgZS5kYXRhVHJhbnNmZXIuY2xlYXJEYXRhKClcbiAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShicm9rZW5DbGlwYm9hcmRBUEkgPyBcIlRleHRcIiA6IFwidGV4dC9odG1sXCIsIGRvbS5pbm5lckhUTUwpXG4gIGlmICghYnJva2VuQ2xpcGJvYXJkQVBJKSBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9wbGFpblwiLCB0ZXh0KVxuICB2aWV3LmRyYWdnaW5nID0gbmV3IERyYWdnaW5nKHNsaWNlLCAhZVtkcmFnQ29weU1vZGlmaWVyXSlcbn1cblxuaGFuZGxlcnMuZHJhZ2VuZCA9IHZpZXcgPT4ge1xuICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB2aWV3LmRyYWdnaW5nID0gbnVsbCwgNTApXG59XG5cbmVkaXRIYW5kbGVycy5kcmFnb3ZlciA9IGVkaXRIYW5kbGVycy5kcmFnZW50ZXIgPSAoXywgZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpXG5cbmVkaXRIYW5kbGVycy5kcm9wID0gKHZpZXcsIGUpID0+IHtcbiAgbGV0IGRyYWdnaW5nID0gdmlldy5kcmFnZ2luZ1xuICB2aWV3LmRyYWdnaW5nID0gbnVsbFxuXG4gIGlmICghZS5kYXRhVHJhbnNmZXIpIHJldHVyblxuXG4gIGxldCBldmVudFBvcyA9IHZpZXcucG9zQXRDb29yZHMoZXZlbnRDb29yZHMoZSkpXG4gIGlmICghZXZlbnRQb3MpIHJldHVyblxuICBsZXQgJG1vdXNlID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShldmVudFBvcy5wb3MpXG4gIGlmICghJG1vdXNlKSByZXR1cm5cbiAgbGV0IHNsaWNlID0gZHJhZ2dpbmcgJiYgZHJhZ2dpbmcuc2xpY2UgfHxcbiAgICAgIHBhcnNlRnJvbUNsaXBib2FyZCh2aWV3LCBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKGJyb2tlbkNsaXBib2FyZEFQSSA/IFwiVGV4dFwiIDogXCJ0ZXh0L3BsYWluXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgIGJyb2tlbkNsaXBib2FyZEFQSSA/IG51bGwgOiBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKFwidGV4dC9odG1sXCIpLCBmYWxzZSwgJG1vdXNlKVxuICBpZiAoIXNsaWNlKSByZXR1cm5cblxuICBlLnByZXZlbnREZWZhdWx0KClcbiAgaWYgKHZpZXcuc29tZVByb3AoXCJoYW5kbGVEcm9wXCIsIGYgPT4gZih2aWV3LCBlLCBzbGljZSwgZHJhZ2dpbmcgJiYgZHJhZ2dpbmcubW92ZSkpKSByZXR1cm5cbiAgbGV0IGluc2VydFBvcyA9IHNsaWNlID8gZHJvcFBvaW50KHZpZXcuc3RhdGUuZG9jLCAkbW91c2UucG9zLCBzbGljZSkgOiAkbW91c2UucG9zXG4gIGlmIChpbnNlcnRQb3MgPT0gbnVsbCkgaW5zZXJ0UG9zID0gJG1vdXNlLnBvc1xuXG4gIGxldCB0ciA9IHZpZXcuc3RhdGUudHJcbiAgaWYgKGRyYWdnaW5nICYmIGRyYWdnaW5nLm1vdmUpIHRyLmRlbGV0ZVNlbGVjdGlvbigpXG5cbiAgbGV0IHBvcyA9IHRyLm1hcHBpbmcubWFwKGluc2VydFBvcylcbiAgbGV0IGlzTm9kZSA9IHNsaWNlLm9wZW5TdGFydCA9PSAwICYmIHNsaWNlLm9wZW5FbmQgPT0gMCAmJiBzbGljZS5jb250ZW50LmNoaWxkQ291bnQgPT0gMVxuICBsZXQgYmVmb3JlSW5zZXJ0ID0gdHIuZG9jXG4gIGlmIChpc05vZGUpXG4gICAgdHIucmVwbGFjZVJhbmdlV2l0aChwb3MsIHBvcywgc2xpY2UuY29udGVudC5maXJzdENoaWxkKVxuICBlbHNlXG4gICAgdHIucmVwbGFjZVJhbmdlKHBvcywgcG9zLCBzbGljZSlcbiAgaWYgKHRyLmRvYy5lcShiZWZvcmVJbnNlcnQpKSByZXR1cm5cblxuICBsZXQgJHBvcyA9IHRyLmRvYy5yZXNvbHZlKHBvcylcbiAgaWYgKGlzTm9kZSAmJiBOb2RlU2VsZWN0aW9uLmlzU2VsZWN0YWJsZShzbGljZS5jb250ZW50LmZpcnN0Q2hpbGQpICYmXG4gICAgICAkcG9zLm5vZGVBZnRlciAmJiAkcG9zLm5vZGVBZnRlci5zYW1lTWFya3VwKHNsaWNlLmNvbnRlbnQuZmlyc3RDaGlsZCkpXG4gICAgdHIuc2V0U2VsZWN0aW9uKG5ldyBOb2RlU2VsZWN0aW9uKCRwb3MpKVxuICBlbHNlXG4gICAgdHIuc2V0U2VsZWN0aW9uKHNlbGVjdGlvbkJldHdlZW4odmlldywgJHBvcywgdHIuZG9jLnJlc29sdmUodHIubWFwcGluZy5tYXAoaW5zZXJ0UG9zKSkpKVxuICB2aWV3LmZvY3VzKClcbiAgdmlldy5kaXNwYXRjaCh0ci5zZXRNZXRhKFwidWlFdmVudFwiLCBcImRyb3BcIikpXG59XG5cbmhhbmRsZXJzLmZvY3VzID0gdmlldyA9PiB7XG4gIGlmICghdmlldy5mb2N1c2VkKSB7XG4gICAgdmlldy5kb21PYnNlcnZlci5zdG9wKClcbiAgICB2aWV3LmRvbS5jbGFzc0xpc3QuYWRkKFwiUHJvc2VNaXJyb3ItZm9jdXNlZFwiKVxuICAgIHZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKVxuICAgIHZpZXcuZm9jdXNlZCA9IHRydWVcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh2aWV3LmRvY1ZpZXcgJiYgdmlldy5oYXNGb2N1cygpICYmICF2aWV3LmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uZXEodmlldy5yb290LmdldFNlbGVjdGlvbigpKSlcbiAgICAgICAgc2VsZWN0aW9uVG9ET00odmlldylcbiAgICB9LCAyMClcbiAgfVxufVxuXG5oYW5kbGVycy5ibHVyID0gdmlldyA9PiB7XG4gIGlmICh2aWV3LmZvY3VzZWQpIHtcbiAgICB2aWV3LmRvbU9ic2VydmVyLnN0b3AoKVxuICAgIHZpZXcuZG9tLmNsYXNzTGlzdC5yZW1vdmUoXCJQcm9zZU1pcnJvci1mb2N1c2VkXCIpXG4gICAgdmlldy5kb21PYnNlcnZlci5zdGFydCgpXG4gICAgdmlldy5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLnNldCh7fSlcbiAgICB2aWV3LmZvY3VzZWQgPSBmYWxzZVxuICB9XG59XG5cbmhhbmRsZXJzLmJlZm9yZWlucHV0ID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gIC8vIFdlIHNob3VsZCBwcm9iYWJseSBkbyBtb3JlIHdpdGggYmVmb3JlaW5wdXQgZXZlbnRzLCBidXQgc3VwcG9ydFxuICAvLyBpcyBzbyBzcG90dHkgdGhhdCBJJ20gc3RpbGwgd2FpdGluZyB0byBzZWUgd2hlcmUgdGhleSBhcmUgZ29pbmcuXG5cbiAgLy8gVmVyeSBzcGVjaWZpYyBoYWNrIHRvIGRlYWwgd2l0aCBiYWNrc3BhY2Ugc29tZXRpbWVzIGZhaWxpbmcgb25cbiAgLy8gQ2hyb21lIEFuZHJvaWQgd2hlbiBhZnRlciBhbiB1bmVkaXRhYmxlIG5vZGUuXG4gIGlmIChicm93c2VyLmNocm9tZSAmJiBicm93c2VyLmFuZHJvaWQgJiYgZXZlbnQuaW5wdXRUeXBlID09IFwiZGVsZXRlQ29udGVudEJhY2t3YXJkXCIpIHtcbiAgICBsZXQge2RvbUNoYW5nZUNvdW50fSA9IHZpZXdcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh2aWV3LmRvbUNoYW5nZUNvdW50ICE9IGRvbUNoYW5nZUNvdW50KSByZXR1cm4gLy8gRXZlbnQgYWxyZWFkeSBoYWQgc29tZSBlZmZlY3RcbiAgICAgIC8vIFRoaXMgYnVnIHRlbmRzIHRvIGNsb3NlIHRoZSB2aXJ0dWFsIGtleWJvYXJkLCBzbyB3ZSByZWZvY3VzXG4gICAgICB2aWV3LmRvbS5ibHVyKClcbiAgICAgIHZpZXcuZm9jdXMoKVxuICAgICAgaWYgKHZpZXcuc29tZVByb3AoXCJoYW5kbGVLZXlEb3duXCIsIGYgPT4gZih2aWV3LCBrZXlFdmVudCg4LCBcIkJhY2tzcGFjZVwiKSkpKSByZXR1cm5cbiAgICAgIGxldCB7JGN1cnNvcn0gPSB2aWV3LnN0YXRlLnNlbGVjdGlvblxuICAgICAgLy8gQ3J1ZGUgYXBwcm94aW1hdGlvbiBvZiBiYWNrc3BhY2UgYmVoYXZpb3Igd2hlbiBubyBjb21tYW5kIGhhbmRsZWQgaXRcbiAgICAgIGlmICgkY3Vyc29yICYmICRjdXJzb3IucG9zID4gMCkgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLmRlbGV0ZSgkY3Vyc29yLnBvcyAtIDEsICRjdXJzb3IucG9zKS5zY3JvbGxJbnRvVmlldygpKVxuICAgIH0sIDUwKVxuICB9XG59XG5cbi8vIE1ha2Ugc3VyZSBhbGwgaGFuZGxlcnMgZ2V0IHJlZ2lzdGVyZWRcbmZvciAobGV0IHByb3AgaW4gZWRpdEhhbmRsZXJzKSBoYW5kbGVyc1twcm9wXSA9IGVkaXRIYW5kbGVyc1twcm9wXVxuIiwiZnVuY3Rpb24gY29tcGFyZU9ianMoYSwgYikge1xuICBpZiAoYSA9PSBiKSByZXR1cm4gdHJ1ZVxuICBmb3IgKGxldCBwIGluIGEpIGlmIChhW3BdICE9PSBiW3BdKSByZXR1cm4gZmFsc2VcbiAgZm9yIChsZXQgcCBpbiBiKSBpZiAoIShwIGluIGEpKSByZXR1cm4gZmFsc2VcbiAgcmV0dXJuIHRydWVcbn1cblxuY2xhc3MgV2lkZ2V0VHlwZSB7XG4gIGNvbnN0cnVjdG9yKHRvRE9NLCBzcGVjKSB7XG4gICAgdGhpcy5zcGVjID0gc3BlYyB8fCBub1NwZWNcbiAgICB0aGlzLnNpZGUgPSB0aGlzLnNwZWMuc2lkZSB8fCAwXG4gICAgdGhpcy50b0RPTSA9IHRvRE9NXG4gIH1cblxuICBtYXAobWFwcGluZywgc3Bhbiwgb2Zmc2V0LCBvbGRPZmZzZXQpIHtcbiAgICBsZXQge3BvcywgZGVsZXRlZH0gPSBtYXBwaW5nLm1hcFJlc3VsdChzcGFuLmZyb20gKyBvbGRPZmZzZXQsIHRoaXMuc2lkZSA8IDAgPyAtMSA6IDEpXG4gICAgcmV0dXJuIGRlbGV0ZWQgPyBudWxsIDogbmV3IERlY29yYXRpb24ocG9zIC0gb2Zmc2V0LCBwb3MgLSBvZmZzZXQsIHRoaXMpXG4gIH1cblxuICB2YWxpZCgpIHsgcmV0dXJuIHRydWUgfVxuXG4gIGVxKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHxcbiAgICAgIChvdGhlciBpbnN0YW5jZW9mIFdpZGdldFR5cGUgJiZcbiAgICAgICAodGhpcy5zcGVjLmtleSAmJiB0aGlzLnNwZWMua2V5ID09IG90aGVyLnNwZWMua2V5IHx8XG4gICAgICAgIHRoaXMudG9ET00gPT0gb3RoZXIudG9ET00gJiYgY29tcGFyZU9ianModGhpcy5zcGVjLCBvdGhlci5zcGVjKSkpXG4gIH1cbn1cblxuY2xhc3MgSW5saW5lVHlwZSB7XG4gIGNvbnN0cnVjdG9yKGF0dHJzLCBzcGVjKSB7XG4gICAgdGhpcy5zcGVjID0gc3BlYyB8fCBub1NwZWNcbiAgICB0aGlzLmF0dHJzID0gYXR0cnNcbiAgfVxuXG4gIG1hcChtYXBwaW5nLCBzcGFuLCBvZmZzZXQsIG9sZE9mZnNldCkge1xuICAgIGxldCBmcm9tID0gbWFwcGluZy5tYXAoc3Bhbi5mcm9tICsgb2xkT2Zmc2V0LCB0aGlzLnNwZWMuaW5jbHVzaXZlU3RhcnQgPyAtMSA6IDEpIC0gb2Zmc2V0XG4gICAgbGV0IHRvID0gbWFwcGluZy5tYXAoc3Bhbi50byArIG9sZE9mZnNldCwgdGhpcy5zcGVjLmluY2x1c2l2ZUVuZCA/IDEgOiAtMSkgLSBvZmZzZXRcbiAgICByZXR1cm4gZnJvbSA+PSB0byA/IG51bGwgOiBuZXcgRGVjb3JhdGlvbihmcm9tLCB0bywgdGhpcylcbiAgfVxuXG4gIHZhbGlkKF8sIHNwYW4pIHsgcmV0dXJuIHNwYW4uZnJvbSA8IHNwYW4udG8gfVxuXG4gIGVxKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHxcbiAgICAgIChvdGhlciBpbnN0YW5jZW9mIElubGluZVR5cGUgJiYgY29tcGFyZU9ianModGhpcy5hdHRycywgb3RoZXIuYXR0cnMpICYmXG4gICAgICAgY29tcGFyZU9ianModGhpcy5zcGVjLCBvdGhlci5zcGVjKSlcbiAgfVxuXG4gIHN0YXRpYyBpcyhzcGFuKSB7IHJldHVybiBzcGFuLnR5cGUgaW5zdGFuY2VvZiBJbmxpbmVUeXBlIH1cbn1cblxuY2xhc3MgTm9kZVR5cGUge1xuICBjb25zdHJ1Y3RvcihhdHRycywgc3BlYykge1xuICAgIHRoaXMuc3BlYyA9IHNwZWMgfHwgbm9TcGVjXG4gICAgdGhpcy5hdHRycyA9IGF0dHJzXG4gIH1cblxuICBtYXAobWFwcGluZywgc3Bhbiwgb2Zmc2V0LCBvbGRPZmZzZXQpIHtcbiAgICBsZXQgZnJvbSA9IG1hcHBpbmcubWFwUmVzdWx0KHNwYW4uZnJvbSArIG9sZE9mZnNldCwgMSlcbiAgICBpZiAoZnJvbS5kZWxldGVkKSByZXR1cm4gbnVsbFxuICAgIGxldCB0byA9IG1hcHBpbmcubWFwUmVzdWx0KHNwYW4udG8gKyBvbGRPZmZzZXQsIC0xKVxuICAgIGlmICh0by5kZWxldGVkIHx8IHRvLnBvcyA8PSBmcm9tLnBvcykgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gbmV3IERlY29yYXRpb24oZnJvbS5wb3MgLSBvZmZzZXQsIHRvLnBvcyAtIG9mZnNldCwgdGhpcylcbiAgfVxuXG4gIHZhbGlkKG5vZGUsIHNwYW4pIHtcbiAgICBsZXQge2luZGV4LCBvZmZzZXR9ID0gbm9kZS5jb250ZW50LmZpbmRJbmRleChzcGFuLmZyb20pXG4gICAgcmV0dXJuIG9mZnNldCA9PSBzcGFuLmZyb20gJiYgb2Zmc2V0ICsgbm9kZS5jaGlsZChpbmRleCkubm9kZVNpemUgPT0gc3Bhbi50b1xuICB9XG5cbiAgZXEob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcyA9PSBvdGhlciB8fFxuICAgICAgKG90aGVyIGluc3RhbmNlb2YgTm9kZVR5cGUgJiYgY29tcGFyZU9ianModGhpcy5hdHRycywgb3RoZXIuYXR0cnMpICYmXG4gICAgICAgY29tcGFyZU9ianModGhpcy5zcGVjLCBvdGhlci5zcGVjKSlcbiAgfVxufVxuXG4vLyA6Oi0gRGVjb3JhdGlvbiBvYmplY3RzIGNhbiBiZSBwcm92aWRlZCB0byB0aGUgdmlldyB0aHJvdWdoIHRoZVxuLy8gW2BkZWNvcmF0aW9uc2AgcHJvcF0oI3ZpZXcuRWRpdG9yUHJvcHMuZGVjb3JhdGlvbnMpLiBUaGV5IGNvbWUgaW5cbi8vIHNldmVyYWwgdmFyaWFudHPigJRzZWUgdGhlIHN0YXRpYyBtZW1iZXJzIG9mIHRoaXMgY2xhc3MgZm9yIGRldGFpbHMuXG5leHBvcnQgY2xhc3MgRGVjb3JhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGZyb20sIHRvLCB0eXBlKSB7XG4gICAgLy8gOjogbnVtYmVyXG4gICAgLy8gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBkZWNvcmF0aW9uLlxuICAgIHRoaXMuZnJvbSA9IGZyb21cbiAgICAvLyA6OiBudW1iZXJcbiAgICAvLyBUaGUgZW5kIHBvc2l0aW9uLiBXaWxsIGJlIHRoZSBzYW1lIGFzIGBmcm9tYCBmb3IgW3dpZGdldFxuICAgIC8vIGRlY29yYXRpb25zXSgjdmlldy5EZWNvcmF0aW9uXndpZGdldCkuXG4gICAgdGhpcy50byA9IHRvXG4gICAgdGhpcy50eXBlID0gdHlwZVxuICB9XG5cbiAgY29weShmcm9tLCB0bykge1xuICAgIHJldHVybiBuZXcgRGVjb3JhdGlvbihmcm9tLCB0bywgdGhpcy50eXBlKVxuICB9XG5cbiAgZXEob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlLmVxKG90aGVyLnR5cGUpICYmIHRoaXMuZnJvbSA9PSBvdGhlci5mcm9tICYmIHRoaXMudG8gPT0gb3RoZXIudG9cbiAgfVxuXG4gIG1hcChtYXBwaW5nLCBvZmZzZXQsIG9sZE9mZnNldCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUubWFwKG1hcHBpbmcsIHRoaXMsIG9mZnNldCwgb2xkT2Zmc2V0KVxuICB9XG5cbiAgLy8gOjogKG51bWJlciwgdW5pb248KHZpZXc6IEVkaXRvclZpZXcsIGdldFBvczogKCkg4oaSIG51bWJlcikg4oaSIGRvbS5Ob2RlLCBkb20uTm9kZT4sID9PYmplY3QpIOKGkiBEZWNvcmF0aW9uXG4gIC8vIENyZWF0ZXMgYSB3aWRnZXQgZGVjb3JhdGlvbiwgd2hpY2ggaXMgYSBET00gbm9kZSB0aGF0J3Mgc2hvd24gaW5cbiAgLy8gdGhlIGRvY3VtZW50IGF0IHRoZSBnaXZlbiBwb3NpdGlvbi4gSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB5b3VcbiAgLy8gZGVsYXkgcmVuZGVyaW5nIHRoZSB3aWRnZXQgYnkgcGFzc2luZyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZVxuICAvLyBjYWxsZWQgd2hlbiB0aGUgd2lkZ2V0IGlzIGFjdHVhbGx5IGRyYXduIGluIGEgdmlldywgYnV0IHlvdSBjYW5cbiAgLy8gYWxzbyBkaXJlY3RseSBwYXNzIGEgRE9NIG5vZGUuIGBnZXRQb3NgIGNhbiBiZSB1c2VkIHRvIGZpbmQgdGhlXG4gIC8vIHdpZGdldCdzIGN1cnJlbnQgZG9jdW1lbnQgcG9zaXRpb24uXG4gIC8vXG4gIC8vICAgc3BlYzo6LSBUaGVzZSBvcHRpb25zIGFyZSBzdXBwb3J0ZWQ6XG4gIC8vXG4gIC8vICAgICBzaWRlOjogP251bWJlclxuICAvLyAgICAgQ29udHJvbHMgd2hpY2ggc2lkZSBvZiB0aGUgZG9jdW1lbnQgcG9zaXRpb24gdGhpcyB3aWRnZXQgaXNcbiAgLy8gICAgIGFzc29jaWF0ZWQgd2l0aC4gV2hlbiBuZWdhdGl2ZSwgaXQgaXMgZHJhd24gYmVmb3JlIGEgY3Vyc29yXG4gIC8vICAgICBhdCBpdHMgcG9zaXRpb24sIGFuZCBjb250ZW50IGluc2VydGVkIGF0IHRoYXQgcG9zaXRpb24gZW5kc1xuICAvLyAgICAgdXAgYWZ0ZXIgdGhlIHdpZGdldC4gV2hlbiB6ZXJvICh0aGUgZGVmYXVsdCkgb3IgcG9zaXRpdmUsIHRoZVxuICAvLyAgICAgd2lkZ2V0IGlzIGRyYXduIGFmdGVyIHRoZSBjdXJzb3IgYW5kIGNvbnRlbnQgaW5zZXJ0ZWQgdGhlcmVcbiAgLy8gICAgIGVuZHMgdXAgYmVmb3JlIHRoZSB3aWRnZXQuXG4gIC8vXG4gIC8vICAgICBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSB3aWRnZXRzIGF0IGEgZ2l2ZW4gcG9zaXRpb24sIHRoZWlyXG4gIC8vICAgICBgc2lkZWAgdmFsdWVzIGRldGVybWluZSB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcHBlYXIuIFRob3NlXG4gIC8vICAgICB3aXRoIGxvd2VyIHZhbHVlcyBhcHBlYXIgZmlyc3QuIFRoZSBvcmRlcmluZyBvZiB3aWRnZXRzIHdpdGhcbiAgLy8gICAgIHRoZSBzYW1lIGBzaWRlYCB2YWx1ZSBpcyB1bnNwZWNpZmllZC5cbiAgLy9cbiAgLy8gICAgIFdoZW4gYG1hcmtzYCBpcyBudWxsLCBgc2lkZWAgYWxzbyBkZXRlcm1pbmVzIHRoZSBtYXJrcyB0aGF0XG4gIC8vICAgICB0aGUgd2lkZ2V0IGlzIHdyYXBwZWQgaW7igJR0aG9zZSBvZiB0aGUgbm9kZSBiZWZvcmUgd2hlblxuICAvLyAgICAgbmVnYXRpdmUsIHRob3NlIG9mIHRoZSBub2RlIGFmdGVyIHdoZW4gcG9zaXRpdmUuXG4gIC8vXG4gIC8vICAgICBtYXJrczo6ID9bTWFya11cbiAgLy8gICAgIFRoZSBwcmVjaXNlIHNldCBvZiBtYXJrcyB0byBkcmF3IGFyb3VuZCB0aGUgd2lkZ2V0LlxuICAvL1xuICAvLyAgICAgc3RvcEV2ZW50OjogPyhldmVudDogZG9tLkV2ZW50KSDihpIgYm9vbFxuICAvLyAgICAgQ2FuIGJlIHVzZWQgdG8gY29udHJvbCB3aGljaCBET00gZXZlbnRzLCB3aGVuIHRoZXkgYnViYmxlIG91dFxuICAvLyAgICAgb2YgdGhpcyB3aWRnZXQsIHRoZSBlZGl0b3IgdmlldyBzaG91bGQgaWdub3JlLlxuICAvL1xuICAvLyAgICAgaWdub3JlU2VsZWN0aW9uOjogP2Jvb2xcbiAgLy8gICAgIFdoZW4gc2V0IChkZWZhdWx0cyB0byBmYWxzZSksIHNlbGVjdGlvbiBjaGFuZ2VzIGluc2lkZSB0aGVcbiAgLy8gICAgIHdpZGdldCBhcmUgaWdub3JlZCwgYW5kIGRvbid0IGNhdXNlIFByb3NlTWlycm9yIHRvIHRyeSBhbmRcbiAgLy8gICAgIHJlLXN5bmMgdGhlIHNlbGVjdGlvbiB3aXRoIGl0cyBzZWxlY3Rpb24gc3RhdGUuXG4gIC8vXG4gIC8vICAgICBrZXk6OiA/c3RyaW5nXG4gIC8vICAgICBXaGVuIGNvbXBhcmluZyBkZWNvcmF0aW9ucyBvZiB0aGlzIHR5cGUgKGluIG9yZGVyIHRvIGRlY2lkZVxuICAvLyAgICAgd2hldGhlciBpdCBuZWVkcyB0byBiZSByZWRyYXduKSwgUHJvc2VNaXJyb3Igd2lsbCBieSBkZWZhdWx0XG4gIC8vICAgICBjb21wYXJlIHRoZSB3aWRnZXQgRE9NIG5vZGUgYnkgaWRlbnRpdHkuIElmIHlvdSBwYXNzIGEga2V5LFxuICAvLyAgICAgdGhhdCBrZXkgd2lsbCBiZSBjb21wYXJlZCBpbnN0ZWFkLCB3aGljaCBjYW4gYmUgdXNlZnVsIHdoZW5cbiAgLy8gICAgIHlvdSBnZW5lcmF0ZSBkZWNvcmF0aW9ucyBvbiB0aGUgZmx5IGFuZCBkb24ndCB3YW50IHRvIHN0b3JlXG4gIC8vICAgICBhbmQgcmV1c2UgRE9NIG5vZGVzLiBNYWtlIHN1cmUgdGhhdCBhbnkgd2lkZ2V0cyB3aXRoIHRoZSBzYW1lXG4gIC8vICAgICBrZXkgYXJlIGludGVyY2hhbmdlYWJsZeKAlGlmIHdpZGdldHMgZGlmZmVyIGluLCBmb3IgZXhhbXBsZSxcbiAgLy8gICAgIHRoZSBiZWhhdmlvciBvZiBzb21lIGV2ZW50IGhhbmRsZXIsIHRoZXkgc2hvdWxkIGdldFxuICAvLyAgICAgZGlmZmVyZW50IGtleXMuXG4gIHN0YXRpYyB3aWRnZXQocG9zLCB0b0RPTSwgc3BlYykge1xuICAgIHJldHVybiBuZXcgRGVjb3JhdGlvbihwb3MsIHBvcywgbmV3IFdpZGdldFR5cGUodG9ET00sIHNwZWMpKVxuICB9XG5cbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCBEZWNvcmF0aW9uQXR0cnMsID9PYmplY3QpIOKGkiBEZWNvcmF0aW9uXG4gIC8vIENyZWF0ZXMgYW4gaW5saW5lIGRlY29yYXRpb24sIHdoaWNoIGFkZHMgdGhlIGdpdmVuIGF0dHJpYnV0ZXMgdG9cbiAgLy8gZWFjaCBpbmxpbmUgbm9kZSBiZXR3ZWVuIGBmcm9tYCBhbmQgYHRvYC5cbiAgLy9cbiAgLy8gICBzcGVjOjotIFRoZXNlIG9wdGlvbnMgYXJlIHJlY29nbml6ZWQ6XG4gIC8vXG4gIC8vICAgICBpbmNsdXNpdmVTdGFydDo6ID9ib29sXG4gIC8vICAgICBEZXRlcm1pbmVzIGhvdyB0aGUgbGVmdCBzaWRlIG9mIHRoZSBkZWNvcmF0aW9uIGlzXG4gIC8vICAgICBbbWFwcGVkXSgjdHJhbnNmb3JtLlBvc2l0aW9uX01hcHBpbmcpIHdoZW4gY29udGVudCBpc1xuICAvLyAgICAgaW5zZXJ0ZWQgZGlyZWN0bHkgYXQgdGhhdCBwb3NpdGlvbi4gQnkgZGVmYXVsdCwgdGhlIGRlY29yYXRpb25cbiAgLy8gICAgIHdvbid0IGluY2x1ZGUgdGhlIG5ldyBjb250ZW50LCBidXQgeW91IGNhbiBzZXQgdGhpcyB0byBgdHJ1ZWBcbiAgLy8gICAgIHRvIG1ha2UgaXQgaW5jbHVzaXZlLlxuICAvL1xuICAvLyAgICAgaW5jbHVzaXZlRW5kOjogP2Jvb2xcbiAgLy8gICAgIERldGVybWluZXMgaG93IHRoZSByaWdodCBzaWRlIG9mIHRoZSBkZWNvcmF0aW9uIGlzIG1hcHBlZC5cbiAgLy8gICAgIFNlZVxuICAvLyAgICAgW2BpbmNsdXNpdmVTdGFydGBdKCN2aWV3LkRlY29yYXRpb25eaW5saW5lXnNwZWMuaW5jbHVzaXZlU3RhcnQpLlxuICBzdGF0aWMgaW5saW5lKGZyb20sIHRvLCBhdHRycywgc3BlYykge1xuICAgIHJldHVybiBuZXcgRGVjb3JhdGlvbihmcm9tLCB0bywgbmV3IElubGluZVR5cGUoYXR0cnMsIHNwZWMpKVxuICB9XG5cbiAgLy8gOjogKG51bWJlciwgbnVtYmVyLCBEZWNvcmF0aW9uQXR0cnMsID9PYmplY3QpIOKGkiBEZWNvcmF0aW9uXG4gIC8vIENyZWF0ZXMgYSBub2RlIGRlY29yYXRpb24uIGBmcm9tYCBhbmQgYHRvYCBzaG91bGQgcG9pbnQgcHJlY2lzZWx5XG4gIC8vIGJlZm9yZSBhbmQgYWZ0ZXIgYSBub2RlIGluIHRoZSBkb2N1bWVudC4gVGhhdCBub2RlLCBhbmQgb25seSB0aGF0XG4gIC8vIG5vZGUsIHdpbGwgcmVjZWl2ZSB0aGUgZ2l2ZW4gYXR0cmlidXRlcy5cbiAgLy9cbiAgLy8gICBzcGVjOjotXG4gIC8vXG4gIC8vICAgT3B0aW9uYWwgaW5mb3JtYXRpb24gdG8gc3RvcmUgd2l0aCB0aGUgZGVjb3JhdGlvbi4gSXRcbiAgLy8gICBpcyBhbHNvIHVzZWQgd2hlbiBjb21wYXJpbmcgZGVjb3JhdG9ycyBmb3IgZXF1YWxpdHkuXG4gIHN0YXRpYyBub2RlKGZyb20sIHRvLCBhdHRycywgc3BlYykge1xuICAgIHJldHVybiBuZXcgRGVjb3JhdGlvbihmcm9tLCB0bywgbmV3IE5vZGVUeXBlKGF0dHJzLCBzcGVjKSlcbiAgfVxuXG4gIC8vIDo6IE9iamVjdFxuICAvLyBUaGUgc3BlYyBwcm92aWRlZCB3aGVuIGNyZWF0aW5nIHRoaXMgZGVjb3JhdGlvbi4gQ2FuIGJlIHVzZWZ1bFxuICAvLyBpZiB5b3UndmUgc3RvcmVkIGV4dHJhIGluZm9ybWF0aW9uIGluIHRoYXQgb2JqZWN0LlxuICBnZXQgc3BlYygpIHsgcmV0dXJuIHRoaXMudHlwZS5zcGVjIH1cbn1cblxuLy8gRGVjb3JhdGlvbkF0dHJzOjogaW50ZXJmYWNlXG4vLyBBIHNldCBvZiBhdHRyaWJ1dGVzIHRvIGFkZCB0byBhIGRlY29yYXRlZCBub2RlLiBNb3N0IHByb3BlcnRpZXNcbi8vIHNpbXBseSBkaXJlY3RseSBjb3JyZXNwb25kIHRvIERPTSBhdHRyaWJ1dGVzIG9mIHRoZSBzYW1lIG5hbWUsXG4vLyB3aGljaCB3aWxsIGJlIHNldCB0byB0aGUgcHJvcGVydHkncyB2YWx1ZS4gVGhlc2UgYXJlIGV4Y2VwdGlvbnM6XG4vL1xuLy8gICBjbGFzczo6ID9zdHJpbmdcbi8vICAgQSBDU1MgY2xhc3MgbmFtZSBvciBhIHNwYWNlLXNlcGFyYXRlZCBzZXQgb2YgY2xhc3MgbmFtZXMgdG8gYmVcbi8vICAgX2FkZGVkXyB0byB0aGUgY2xhc3NlcyB0aGF0IHRoZSBub2RlIGFscmVhZHkgaGFkLlxuLy9cbi8vICAgc3R5bGU6OiA/c3RyaW5nXG4vLyAgIEEgc3RyaW5nIG9mIENTUyB0byBiZSBfYWRkZWRfIHRvIHRoZSBub2RlJ3MgZXhpc3RpbmcgYHN0eWxlYCBwcm9wZXJ0eS5cbi8vXG4vLyAgIG5vZGVOYW1lOjogP3N0cmluZ1xuLy8gICBXaGVuIG5vbi1udWxsLCB0aGUgdGFyZ2V0IG5vZGUgaXMgd3JhcHBlZCBpbiBhIERPTSBlbGVtZW50IG9mXG4vLyAgIHRoaXMgdHlwZSAoYW5kIHRoZSBvdGhlciBhdHRyaWJ1dGVzIGFyZSBhcHBsaWVkIHRvIHRoaXMgZWxlbWVudCkuXG5cbmNvbnN0IG5vbmUgPSBbXSwgbm9TcGVjID0ge31cblxuLy8gOjotIEEgY29sbGVjdGlvbiBvZiBbZGVjb3JhdGlvbnNdKCN2aWV3LkRlY29yYXRpb24pLCBvcmdhbml6ZWQgaW5cbi8vIHN1Y2ggYSB3YXkgdGhhdCB0aGUgZHJhd2luZyBhbGdvcml0aG0gY2FuIGVmZmljaWVudGx5IHVzZSBhbmRcbi8vIGNvbXBhcmUgdGhlbS4gVGhpcyBpcyBhIHBlcnNpc3RlbnQgZGF0YSBzdHJ1Y3R1cmXigJRpdCBpcyBub3Rcbi8vIG1vZGlmaWVkLCB1cGRhdGVzIGNyZWF0ZSBhIG5ldyB2YWx1ZS5cbmV4cG9ydCBjbGFzcyBEZWNvcmF0aW9uU2V0IHtcbiAgY29uc3RydWN0b3IobG9jYWwsIGNoaWxkcmVuKSB7XG4gICAgdGhpcy5sb2NhbCA9IGxvY2FsICYmIGxvY2FsLmxlbmd0aCA/IGxvY2FsIDogbm9uZVxuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGggPyBjaGlsZHJlbiA6IG5vbmVcbiAgfVxuXG4gIC8vIDo6IChOb2RlLCBbRGVjb3JhdGlvbl0pIOKGkiBEZWNvcmF0aW9uU2V0XG4gIC8vIENyZWF0ZSBhIHNldCBvZiBkZWNvcmF0aW9ucywgdXNpbmcgdGhlIHN0cnVjdHVyZSBvZiB0aGUgZ2l2ZW5cbiAgLy8gZG9jdW1lbnQuXG4gIHN0YXRpYyBjcmVhdGUoZG9jLCBkZWNvcmF0aW9ucykge1xuICAgIHJldHVybiBkZWNvcmF0aW9ucy5sZW5ndGggPyBidWlsZFRyZWUoZGVjb3JhdGlvbnMsIGRvYywgMCwgbm9TcGVjKSA6IGVtcHR5XG4gIH1cblxuICAvLyA6OiAoP251bWJlciwgP251bWJlciwgPyhzcGVjOiBPYmplY3QpIOKGkiBib29sKSDihpIgW0RlY29yYXRpb25dXG4gIC8vIEZpbmQgYWxsIGRlY29yYXRpb25zIGluIHRoaXMgc2V0IHdoaWNoIHRvdWNoIHRoZSBnaXZlbiByYW5nZVxuICAvLyAoaW5jbHVkaW5nIGRlY29yYXRpb25zIHRoYXQgc3RhcnQgb3IgZW5kIGRpcmVjdGx5IGF0IHRoZVxuICAvLyBib3VuZGFyaWVzKSBhbmQgbWF0Y2ggdGhlIGdpdmVuIHByZWRpY2F0ZSBvbiB0aGVpciBzcGVjLiBXaGVuXG4gIC8vIGBzdGFydGAgYW5kIGBlbmRgIGFyZSBvbWl0dGVkLCBhbGwgZGVjb3JhdGlvbnMgaW4gdGhlIHNldCBhcmVcbiAgLy8gY29uc2lkZXJlZC4gV2hlbiBgcHJlZGljYXRlYCBpc24ndCBnaXZlbiwgYWxsIGRlY29yYXRpb25zIGFyZVxuICAvLyBhc3N1bWVkIHRvIG1hdGNoLlxuICBmaW5kKHN0YXJ0LCBlbmQsIHByZWRpY2F0ZSkge1xuICAgIGxldCByZXN1bHQgPSBbXVxuICAgIHRoaXMuZmluZElubmVyKHN0YXJ0ID09IG51bGwgPyAwIDogc3RhcnQsIGVuZCA9PSBudWxsID8gMWU5IDogZW5kLCByZXN1bHQsIDAsIHByZWRpY2F0ZSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBmaW5kSW5uZXIoc3RhcnQsIGVuZCwgcmVzdWx0LCBvZmZzZXQsIHByZWRpY2F0ZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sb2NhbC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHNwYW4gPSB0aGlzLmxvY2FsW2ldXG4gICAgICBpZiAoc3Bhbi5mcm9tIDw9IGVuZCAmJiBzcGFuLnRvID49IHN0YXJ0ICYmICghcHJlZGljYXRlIHx8IHByZWRpY2F0ZShzcGFuLnNwZWMpKSlcbiAgICAgICAgcmVzdWx0LnB1c2goc3Bhbi5jb3B5KHNwYW4uZnJvbSArIG9mZnNldCwgc3Bhbi50byArIG9mZnNldCkpXG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0gPCBlbmQgJiYgdGhpcy5jaGlsZHJlbltpICsgMV0gPiBzdGFydCkge1xuICAgICAgICBsZXQgY2hpbGRPZmYgPSB0aGlzLmNoaWxkcmVuW2ldICsgMVxuICAgICAgICB0aGlzLmNoaWxkcmVuW2kgKyAyXS5maW5kSW5uZXIoc3RhcnQgLSBjaGlsZE9mZiwgZW5kIC0gY2hpbGRPZmYsIHJlc3VsdCwgb2Zmc2V0ICsgY2hpbGRPZmYsIHByZWRpY2F0ZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyA6OiAoTWFwcGluZywgTm9kZSwgP09iamVjdCkg4oaSIERlY29yYXRpb25TZXRcbiAgLy8gTWFwIHRoZSBzZXQgb2YgZGVjb3JhdGlvbnMgaW4gcmVzcG9uc2UgdG8gYSBjaGFuZ2UgaW4gdGhlXG4gIC8vIGRvY3VtZW50LlxuICAvL1xuICAvLyAgIG9wdGlvbnM6Oi0gQW4gb3B0aW9uYWwgc2V0IG9mIG9wdGlvbnMuXG4gIC8vXG4gIC8vICAgICBvblJlbW92ZTo6ID8oZGVjb3JhdGlvblNwZWM6IE9iamVjdClcbiAgLy8gICAgIFdoZW4gZ2l2ZW4sIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggZGVjb3JhdGlvblxuICAvLyAgICAgdGhhdCBnZXRzIGRyb3BwZWQgYXMgYSByZXN1bHQgb2YgdGhlIG1hcHBpbmcsIHBhc3NpbmcgdGhlXG4gIC8vICAgICBzcGVjIG9mIHRoYXQgZGVjb3JhdGlvbi5cbiAgbWFwKG1hcHBpbmcsIGRvYywgb3B0aW9ucykge1xuICAgIGlmICh0aGlzID09IGVtcHR5IHx8IG1hcHBpbmcubWFwcy5sZW5ndGggPT0gMCkgcmV0dXJuIHRoaXNcbiAgICByZXR1cm4gdGhpcy5tYXBJbm5lcihtYXBwaW5nLCBkb2MsIDAsIDAsIG9wdGlvbnMgfHwgbm9TcGVjKVxuICB9XG5cbiAgbWFwSW5uZXIobWFwcGluZywgbm9kZSwgb2Zmc2V0LCBvbGRPZmZzZXQsIG9wdGlvbnMpIHtcbiAgICBsZXQgbmV3TG9jYWxcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubG9jYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBtYXBwZWQgPSB0aGlzLmxvY2FsW2ldLm1hcChtYXBwaW5nLCBvZmZzZXQsIG9sZE9mZnNldClcbiAgICAgIGlmIChtYXBwZWQgJiYgbWFwcGVkLnR5cGUudmFsaWQobm9kZSwgbWFwcGVkKSkgKG5ld0xvY2FsIHx8IChuZXdMb2NhbCA9IFtdKSkucHVzaChtYXBwZWQpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLm9uUmVtb3ZlKSBvcHRpb25zLm9uUmVtb3ZlKHRoaXMubG9jYWxbaV0uc3BlYylcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICByZXR1cm4gbWFwQ2hpbGRyZW4odGhpcy5jaGlsZHJlbiwgbmV3TG9jYWwsIG1hcHBpbmcsIG5vZGUsIG9mZnNldCwgb2xkT2Zmc2V0LCBvcHRpb25zKVxuICAgIGVsc2VcbiAgICAgIHJldHVybiBuZXdMb2NhbCA/IG5ldyBEZWNvcmF0aW9uU2V0KG5ld0xvY2FsLnNvcnQoYnlQb3MpKSA6IGVtcHR5XG4gIH1cblxuICAvLyA6OiAoTm9kZSwgW0RlY29yYXRpb25dKSDihpIgRGVjb3JhdGlvblNldFxuICAvLyBBZGQgdGhlIGdpdmVuIGFycmF5IG9mIGRlY29yYXRpb25zIHRvIHRoZSBvbmVzIGluIHRoZSBzZXQsXG4gIC8vIHByb2R1Y2luZyBhIG5ldyBzZXQuIE5lZWRzIGFjY2VzcyB0byB0aGUgY3VycmVudCBkb2N1bWVudCB0b1xuICAvLyBjcmVhdGUgdGhlIGFwcHJvcHJpYXRlIHRyZWUgc3RydWN0dXJlLlxuICBhZGQoZG9jLCBkZWNvcmF0aW9ucykge1xuICAgIGlmICghZGVjb3JhdGlvbnMubGVuZ3RoKSByZXR1cm4gdGhpc1xuICAgIGlmICh0aGlzID09IGVtcHR5KSByZXR1cm4gRGVjb3JhdGlvblNldC5jcmVhdGUoZG9jLCBkZWNvcmF0aW9ucylcbiAgICByZXR1cm4gdGhpcy5hZGRJbm5lcihkb2MsIGRlY29yYXRpb25zLCAwKVxuICB9XG5cbiAgYWRkSW5uZXIoZG9jLCBkZWNvcmF0aW9ucywgb2Zmc2V0KSB7XG4gICAgbGV0IGNoaWxkcmVuLCBjaGlsZEluZGV4ID0gMFxuICAgIGRvYy5mb3JFYWNoKChjaGlsZE5vZGUsIGNoaWxkT2Zmc2V0KSA9PiB7XG4gICAgICBsZXQgYmFzZU9mZnNldCA9IGNoaWxkT2Zmc2V0ICsgb2Zmc2V0LCBmb3VuZFxuICAgICAgaWYgKCEoZm91bmQgPSB0YWtlU3BhbnNGb3JOb2RlKGRlY29yYXRpb25zLCBjaGlsZE5vZGUsIGJhc2VPZmZzZXQpKSkgcmV0dXJuXG5cbiAgICAgIGlmICghY2hpbGRyZW4pIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5zbGljZSgpXG4gICAgICB3aGlsZSAoY2hpbGRJbmRleCA8IGNoaWxkcmVuLmxlbmd0aCAmJiBjaGlsZHJlbltjaGlsZEluZGV4XSA8IGNoaWxkT2Zmc2V0KSBjaGlsZEluZGV4ICs9IDNcbiAgICAgIGlmIChjaGlsZHJlbltjaGlsZEluZGV4XSA9PSBjaGlsZE9mZnNldClcbiAgICAgICAgY2hpbGRyZW5bY2hpbGRJbmRleCArIDJdID0gY2hpbGRyZW5bY2hpbGRJbmRleCArIDJdLmFkZElubmVyKGNoaWxkTm9kZSwgZm91bmQsIGJhc2VPZmZzZXQgKyAxKVxuICAgICAgZWxzZVxuICAgICAgICBjaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCwgMCwgY2hpbGRPZmZzZXQsIGNoaWxkT2Zmc2V0ICsgY2hpbGROb2RlLm5vZGVTaXplLCBidWlsZFRyZWUoZm91bmQsIGNoaWxkTm9kZSwgYmFzZU9mZnNldCArIDEsIG5vU3BlYykpXG4gICAgICBjaGlsZEluZGV4ICs9IDNcbiAgICB9KVxuXG4gICAgbGV0IGxvY2FsID0gbW92ZVNwYW5zKGNoaWxkSW5kZXggPyB3aXRob3V0TnVsbHMoZGVjb3JhdGlvbnMpIDogZGVjb3JhdGlvbnMsIC1vZmZzZXQpXG4gICAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uU2V0KGxvY2FsLmxlbmd0aCA/IHRoaXMubG9jYWwuY29uY2F0KGxvY2FsKS5zb3J0KGJ5UG9zKSA6IHRoaXMubG9jYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuIHx8IHRoaXMuY2hpbGRyZW4pXG4gIH1cblxuICAvLyA6OiAoW0RlY29yYXRpb25dKSDihpIgRGVjb3JhdGlvblNldFxuICAvLyBDcmVhdGUgYSBuZXcgc2V0IHRoYXQgY29udGFpbnMgdGhlIGRlY29yYXRpb25zIGluIHRoaXMgc2V0LCBtaW51c1xuICAvLyB0aGUgb25lcyBpbiB0aGUgZ2l2ZW4gYXJyYXkuXG4gIHJlbW92ZShkZWNvcmF0aW9ucykge1xuICAgIGlmIChkZWNvcmF0aW9ucy5sZW5ndGggPT0gMCB8fCB0aGlzID09IGVtcHR5KSByZXR1cm4gdGhpc1xuICAgIHJldHVybiB0aGlzLnJlbW92ZUlubmVyKGRlY29yYXRpb25zLCAwKVxuICB9XG5cbiAgcmVtb3ZlSW5uZXIoZGVjb3JhdGlvbnMsIG9mZnNldCkge1xuICAgIGxldCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4sIGxvY2FsID0gdGhpcy5sb2NhbFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgIGxldCBmb3VuZCwgZnJvbSA9IGNoaWxkcmVuW2ldICsgb2Zmc2V0LCB0byA9IGNoaWxkcmVuW2kgKyAxXSArIG9mZnNldFxuICAgICAgZm9yIChsZXQgaiA9IDAsIHNwYW47IGogPCBkZWNvcmF0aW9ucy5sZW5ndGg7IGorKykgaWYgKHNwYW4gPSBkZWNvcmF0aW9uc1tqXSkge1xuICAgICAgICBpZiAoc3Bhbi5mcm9tID4gZnJvbSAmJiBzcGFuLnRvIDwgdG8pIHtcbiAgICAgICAgICBkZWNvcmF0aW9uc1tqXSA9IG51bGxcbiAgICAgICAgICA7KGZvdW5kIHx8IChmb3VuZCA9IFtdKSkucHVzaChzcGFuKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWZvdW5kKSBjb250aW51ZVxuICAgICAgaWYgKGNoaWxkcmVuID09IHRoaXMuY2hpbGRyZW4pIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5zbGljZSgpXG4gICAgICBsZXQgcmVtb3ZlZCA9IGNoaWxkcmVuW2kgKyAyXS5yZW1vdmVJbm5lcihmb3VuZCwgZnJvbSArIDEpXG4gICAgICBpZiAocmVtb3ZlZCAhPSBlbXB0eSkge1xuICAgICAgICBjaGlsZHJlbltpICsgMl0gPSByZW1vdmVkXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbi5zcGxpY2UoaSwgMylcbiAgICAgICAgaSAtPSAzXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsb2NhbC5sZW5ndGgpIGZvciAobGV0IGkgPSAwLCBzcGFuOyBpIDwgZGVjb3JhdGlvbnMubGVuZ3RoOyBpKyspIGlmIChzcGFuID0gZGVjb3JhdGlvbnNbaV0pIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbG9jYWwubGVuZ3RoOyBqKyspIGlmIChsb2NhbFtqXS50eXBlLmVxKHNwYW4udHlwZSkpIHtcbiAgICAgICAgaWYgKGxvY2FsID09IHRoaXMubG9jYWwpIGxvY2FsID0gdGhpcy5sb2NhbC5zbGljZSgpXG4gICAgICAgIGxvY2FsLnNwbGljZShqLS0sIDEpXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjaGlsZHJlbiA9PSB0aGlzLmNoaWxkcmVuICYmIGxvY2FsID09IHRoaXMubG9jYWwpIHJldHVybiB0aGlzXG4gICAgcmV0dXJuIGxvY2FsLmxlbmd0aCB8fCBjaGlsZHJlbi5sZW5ndGggPyBuZXcgRGVjb3JhdGlvblNldChsb2NhbCwgY2hpbGRyZW4pIDogZW1wdHlcbiAgfVxuXG4gIGZvckNoaWxkKG9mZnNldCwgbm9kZSkge1xuICAgIGlmICh0aGlzID09IGVtcHR5KSByZXR1cm4gdGhpc1xuICAgIGlmIChub2RlLmlzTGVhZikgcmV0dXJuIERlY29yYXRpb25TZXQuZW1wdHlcblxuICAgIGxldCBjaGlsZCwgbG9jYWxcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpIGlmICh0aGlzLmNoaWxkcmVuW2ldID49IG9mZnNldCkge1xuICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0gPT0gb2Zmc2V0KSBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baSArIDJdXG4gICAgICBicmVha1xuICAgIH1cbiAgICBsZXQgc3RhcnQgPSBvZmZzZXQgKyAxLCBlbmQgPSBzdGFydCArIG5vZGUuY29udGVudC5zaXplXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxvY2FsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZGVjID0gdGhpcy5sb2NhbFtpXVxuICAgICAgaWYgKGRlYy5mcm9tIDwgZW5kICYmIGRlYy50byA+IHN0YXJ0ICYmIChkZWMudHlwZSBpbnN0YW5jZW9mIElubGluZVR5cGUpKSB7XG4gICAgICAgIGxldCBmcm9tID0gTWF0aC5tYXgoc3RhcnQsIGRlYy5mcm9tKSAtIHN0YXJ0LCB0byA9IE1hdGgubWluKGVuZCwgZGVjLnRvKSAtIHN0YXJ0XG4gICAgICAgIGlmIChmcm9tIDwgdG8pIChsb2NhbCB8fCAobG9jYWwgPSBbXSkpLnB1c2goZGVjLmNvcHkoZnJvbSwgdG8pKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobG9jYWwpIHtcbiAgICAgIGxldCBsb2NhbFNldCA9IG5ldyBEZWNvcmF0aW9uU2V0KGxvY2FsLnNvcnQoYnlQb3MpKVxuICAgICAgcmV0dXJuIGNoaWxkID8gbmV3IERlY29yYXRpb25Hcm91cChbbG9jYWxTZXQsIGNoaWxkXSkgOiBsb2NhbFNldFxuICAgIH1cbiAgICByZXR1cm4gY2hpbGQgfHwgZW1wdHlcbiAgfVxuXG4gIGVxKG90aGVyKSB7XG4gICAgaWYgKHRoaXMgPT0gb3RoZXIpIHJldHVybiB0cnVlXG4gICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBEZWNvcmF0aW9uU2V0KSB8fFxuICAgICAgICB0aGlzLmxvY2FsLmxlbmd0aCAhPSBvdGhlci5sb2NhbC5sZW5ndGggfHxcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5sZW5ndGggIT0gb3RoZXIuY2hpbGRyZW4ubGVuZ3RoKSByZXR1cm4gZmFsc2VcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubG9jYWwubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoIXRoaXMubG9jYWxbaV0uZXEob3RoZXIubG9jYWxbaV0pKSByZXR1cm4gZmFsc2VcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpXG4gICAgICBpZiAodGhpcy5jaGlsZHJlbltpXSAhPSBvdGhlci5jaGlsZHJlbltpXSB8fFxuICAgICAgICAgIHRoaXMuY2hpbGRyZW5baSArIDFdICE9IG90aGVyLmNoaWxkcmVuW2kgKyAxXSB8fFxuICAgICAgICAgICF0aGlzLmNoaWxkcmVuW2kgKyAyXS5lcShvdGhlci5jaGlsZHJlbltpICsgMl0pKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgbG9jYWxzKG5vZGUpIHtcbiAgICByZXR1cm4gcmVtb3ZlT3ZlcmxhcCh0aGlzLmxvY2Fsc0lubmVyKG5vZGUpKVxuICB9XG5cbiAgbG9jYWxzSW5uZXIobm9kZSkge1xuICAgIGlmICh0aGlzID09IGVtcHR5KSByZXR1cm4gbm9uZVxuICAgIGlmIChub2RlLmlubGluZUNvbnRlbnQgfHwgIXRoaXMubG9jYWwuc29tZShJbmxpbmVUeXBlLmlzKSkgcmV0dXJuIHRoaXMubG9jYWxcbiAgICBsZXQgcmVzdWx0ID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubG9jYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghKHRoaXMubG9jYWxbaV0udHlwZSBpbnN0YW5jZW9mIElubGluZVR5cGUpKVxuICAgICAgICByZXN1bHQucHVzaCh0aGlzLmxvY2FsW2ldKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cbn1cblxuY29uc3QgZW1wdHkgPSBuZXcgRGVjb3JhdGlvblNldCgpXG5cbi8vIDo6IERlY29yYXRpb25TZXRcbi8vIFRoZSBlbXB0eSBzZXQgb2YgZGVjb3JhdGlvbnMuXG5EZWNvcmF0aW9uU2V0LmVtcHR5ID0gZW1wdHlcblxuRGVjb3JhdGlvblNldC5yZW1vdmVPdmVybGFwID0gcmVtb3ZlT3ZlcmxhcFxuXG4vLyA6LSBBbiBhYnN0cmFjdGlvbiB0aGF0IGFsbG93cyB0aGUgY29kZSBkZWFsaW5nIHdpdGggZGVjb3JhdGlvbnMgdG9cbi8vIHRyZWF0IG11bHRpcGxlIERlY29yYXRpb25TZXQgb2JqZWN0cyBhcyBpZiBpdCB3ZXJlIGEgc2luZ2xlIG9iamVjdFxuLy8gd2l0aCAoYSBzdWJzZXQgb2YpIHRoZSBzYW1lIGludGVyZmFjZS5cbmNsYXNzIERlY29yYXRpb25Hcm91cCB7XG4gIGNvbnN0cnVjdG9yKG1lbWJlcnMpIHtcbiAgICB0aGlzLm1lbWJlcnMgPSBtZW1iZXJzXG4gIH1cblxuICBmb3JDaGlsZChvZmZzZXQsIGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkLmlzTGVhZikgcmV0dXJuIERlY29yYXRpb25TZXQuZW1wdHlcbiAgICBsZXQgZm91bmQgPSBbXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcmVzdWx0ID0gdGhpcy5tZW1iZXJzW2ldLmZvckNoaWxkKG9mZnNldCwgY2hpbGQpXG4gICAgICBpZiAocmVzdWx0ID09IGVtcHR5KSBjb250aW51ZVxuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIERlY29yYXRpb25Hcm91cCkgZm91bmQgPSBmb3VuZC5jb25jYXQocmVzdWx0Lm1lbWJlcnMpXG4gICAgICBlbHNlIGZvdW5kLnB1c2gocmVzdWx0KVxuICAgIH1cbiAgICByZXR1cm4gRGVjb3JhdGlvbkdyb3VwLmZyb20oZm91bmQpXG4gIH1cblxuICBlcShvdGhlcikge1xuICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgRGVjb3JhdGlvbkdyb3VwKSB8fFxuICAgICAgICBvdGhlci5tZW1iZXJzLmxlbmd0aCAhPSB0aGlzLm1lbWJlcnMubGVuZ3RoKSByZXR1cm4gZmFsc2VcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVtYmVycy5sZW5ndGg7IGkrKylcbiAgICAgIGlmICghdGhpcy5tZW1iZXJzW2ldLmVxKG90aGVyLm1lbWJlcnNbaV0pKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgbG9jYWxzKG5vZGUpIHtcbiAgICBsZXQgcmVzdWx0LCBzb3J0ZWQgPSB0cnVlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbWJlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBsb2NhbHMgPSB0aGlzLm1lbWJlcnNbaV0ubG9jYWxzSW5uZXIobm9kZSlcbiAgICAgIGlmICghbG9jYWxzLmxlbmd0aCkgY29udGludWVcbiAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdCA9IGxvY2Fsc1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHNvcnRlZCkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgpXG4gICAgICAgICAgc29ydGVkID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxvY2Fscy5sZW5ndGg7IGorKykgcmVzdWx0LnB1c2gobG9jYWxzW2pdKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0ID8gcmVtb3ZlT3ZlcmxhcChzb3J0ZWQgPyByZXN1bHQgOiByZXN1bHQuc29ydChieVBvcykpIDogbm9uZVxuICB9XG5cbiAgLy8gOiAoW0RlY29yYXRpb25TZXRdKSDihpIgdW5pb248RGVjb3JhdGlvblNldCwgRGVjb3JhdGlvbkdyb3VwPlxuICAvLyBDcmVhdGUgYSBncm91cCBmb3IgdGhlIGdpdmVuIGFycmF5IG9mIGRlY29yYXRpb24gc2V0cywgb3IgcmV0dXJuXG4gIC8vIGEgc2luZ2xlIHNldCB3aGVuIHBvc3NpYmxlLlxuICBzdGF0aWMgZnJvbShtZW1iZXJzKSB7XG4gICAgc3dpdGNoIChtZW1iZXJzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOiByZXR1cm4gZW1wdHlcbiAgICAgIGNhc2UgMTogcmV0dXJuIG1lbWJlcnNbMF1cbiAgICAgIGRlZmF1bHQ6IHJldHVybiBuZXcgRGVjb3JhdGlvbkdyb3VwKG1lbWJlcnMpXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG1hcENoaWxkcmVuKG9sZENoaWxkcmVuLCBuZXdMb2NhbCwgbWFwcGluZywgbm9kZSwgb2Zmc2V0LCBvbGRPZmZzZXQsIG9wdGlvbnMpIHtcbiAgbGV0IGNoaWxkcmVuID0gb2xkQ2hpbGRyZW4uc2xpY2UoKVxuXG4gIC8vIE1hcmsgdGhlIGNoaWxkcmVuIHRoYXQgYXJlIGRpcmVjdGx5IHRvdWNoZWQgYnkgY2hhbmdlcywgYW5kXG4gIC8vIG1vdmUgdGhvc2UgdGhhdCBhcmUgYWZ0ZXIgdGhlIGNoYW5nZXMuXG4gIGxldCBzaGlmdCA9IChvbGRTdGFydCwgb2xkRW5kLCBuZXdTdGFydCwgbmV3RW5kKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgbGV0IGVuZCA9IGNoaWxkcmVuW2kgKyAxXSwgZFNpemVcbiAgICAgIGlmIChlbmQgPT0gLTEgfHwgb2xkU3RhcnQgPiBlbmQgKyBvbGRPZmZzZXQpIGNvbnRpbnVlXG4gICAgICBpZiAob2xkRW5kID49IGNoaWxkcmVuW2ldICsgb2xkT2Zmc2V0KSB7XG4gICAgICAgIGNoaWxkcmVuW2kgKyAxXSA9IC0xXG4gICAgICB9IGVsc2UgaWYgKGRTaXplID0gKG5ld0VuZCAtIG5ld1N0YXJ0KSAtIChvbGRFbmQgLSBvbGRTdGFydCkgKyAob2xkT2Zmc2V0IC0gb2Zmc2V0KSkge1xuICAgICAgICBjaGlsZHJlbltpXSArPSBkU2l6ZVxuICAgICAgICBjaGlsZHJlbltpICsgMV0gKz0gZFNpemVcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXBwaW5nLm1hcHMubGVuZ3RoOyBpKyspIG1hcHBpbmcubWFwc1tpXS5mb3JFYWNoKHNoaWZ0KVxuXG4gIC8vIEZpbmQgdGhlIGNoaWxkIG5vZGVzIHRoYXQgc3RpbGwgY29ycmVzcG9uZCB0byBhIHNpbmdsZSBub2RlLFxuICAvLyByZWN1cnNpdmVseSBjYWxsIG1hcElubmVyIG9uIHRoZW0gYW5kIHVwZGF0ZSB0aGVpciBwb3NpdGlvbnMuXG4gIGxldCBtdXN0UmVidWlsZCA9IGZhbHNlXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpIGlmIChjaGlsZHJlbltpICsgMV0gPT0gLTEpIHsgLy8gVG91Y2hlZCBub2Rlc1xuICAgIGxldCBmcm9tID0gbWFwcGluZy5tYXAoY2hpbGRyZW5baV0gKyBvbGRPZmZzZXQpLCBmcm9tTG9jYWwgPSBmcm9tIC0gb2Zmc2V0XG4gICAgaWYgKGZyb21Mb2NhbCA8IDAgfHwgZnJvbUxvY2FsID49IG5vZGUuY29udGVudC5zaXplKSB7XG4gICAgICBtdXN0UmVidWlsZCA9IHRydWVcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIE11c3QgcmVhZCBvbGRDaGlsZHJlbiBiZWNhdXNlIGNoaWxkcmVuIHdhcyB0YWdnZWQgd2l0aCAtMVxuICAgIGxldCB0byA9IG1hcHBpbmcubWFwKG9sZENoaWxkcmVuW2kgKyAxXSArIG9sZE9mZnNldCwgLTEpLCB0b0xvY2FsID0gdG8gLSBvZmZzZXRcbiAgICBsZXQge2luZGV4LCBvZmZzZXQ6IGNoaWxkT2Zmc2V0fSA9IG5vZGUuY29udGVudC5maW5kSW5kZXgoZnJvbUxvY2FsKVxuICAgIGxldCBjaGlsZE5vZGUgPSBub2RlLm1heWJlQ2hpbGQoaW5kZXgpXG4gICAgaWYgKGNoaWxkTm9kZSAmJiBjaGlsZE9mZnNldCA9PSBmcm9tTG9jYWwgJiYgY2hpbGRPZmZzZXQgKyBjaGlsZE5vZGUubm9kZVNpemUgPT0gdG9Mb2NhbCkge1xuICAgICAgbGV0IG1hcHBlZCA9IGNoaWxkcmVuW2kgKyAyXS5tYXBJbm5lcihtYXBwaW5nLCBjaGlsZE5vZGUsIGZyb20gKyAxLCBjaGlsZHJlbltpXSArIG9sZE9mZnNldCArIDEsIG9wdGlvbnMpXG4gICAgICBpZiAobWFwcGVkICE9IGVtcHR5KSB7XG4gICAgICAgIGNoaWxkcmVuW2ldID0gZnJvbUxvY2FsXG4gICAgICAgIGNoaWxkcmVuW2kgKyAxXSA9IHRvTG9jYWxcbiAgICAgICAgY2hpbGRyZW5baSArIDJdID0gbWFwcGVkXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbltpICsgMV0gPSAtMlxuICAgICAgICBtdXN0UmVidWlsZCA9IHRydWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbXVzdFJlYnVpbGQgPSB0cnVlXG4gICAgfVxuICB9XG5cbiAgLy8gUmVtYWluaW5nIGNoaWxkcmVuIG11c3QgYmUgY29sbGVjdGVkIGFuZCByZWJ1aWx0IGludG8gdGhlIGFwcHJvcHJpYXRlIHN0cnVjdHVyZVxuICBpZiAobXVzdFJlYnVpbGQpIHtcbiAgICBsZXQgZGVjb3JhdGlvbnMgPSBtYXBBbmRHYXRoZXJSZW1haW5pbmdEZWNvcmF0aW9ucyhjaGlsZHJlbiwgb2xkQ2hpbGRyZW4sIG5ld0xvY2FsIHx8IFtdLCBtYXBwaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCwgb2xkT2Zmc2V0LCBvcHRpb25zKVxuICAgIGxldCBidWlsdCA9IGJ1aWxkVHJlZShkZWNvcmF0aW9ucywgbm9kZSwgMCwgb3B0aW9ucylcbiAgICBuZXdMb2NhbCA9IGJ1aWx0LmxvY2FsXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkgKz0gMykgaWYgKGNoaWxkcmVuW2kgKyAxXSA8IDApIHtcbiAgICAgIGNoaWxkcmVuLnNwbGljZShpLCAzKVxuICAgICAgaSAtPSAzXG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IGJ1aWx0LmNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICBsZXQgZnJvbSA9IGJ1aWx0LmNoaWxkcmVuW2ldXG4gICAgICB3aGlsZSAoaiA8IGNoaWxkcmVuLmxlbmd0aCAmJiBjaGlsZHJlbltqXSA8IGZyb20pIGogKz0gM1xuICAgICAgY2hpbGRyZW4uc3BsaWNlKGosIDAsIGJ1aWx0LmNoaWxkcmVuW2ldLCBidWlsdC5jaGlsZHJlbltpICsgMV0sIGJ1aWx0LmNoaWxkcmVuW2kgKyAyXSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IERlY29yYXRpb25TZXQobmV3TG9jYWwgJiYgbmV3TG9jYWwuc29ydChieVBvcyksIGNoaWxkcmVuKVxufVxuXG5mdW5jdGlvbiBtb3ZlU3BhbnMoc3BhbnMsIG9mZnNldCkge1xuICBpZiAoIW9mZnNldCB8fCAhc3BhbnMubGVuZ3RoKSByZXR1cm4gc3BhbnNcbiAgbGV0IHJlc3VsdCA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgc3BhbiA9IHNwYW5zW2ldXG4gICAgcmVzdWx0LnB1c2gobmV3IERlY29yYXRpb24oc3Bhbi5mcm9tICsgb2Zmc2V0LCBzcGFuLnRvICsgb2Zmc2V0LCBzcGFuLnR5cGUpKVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gbWFwQW5kR2F0aGVyUmVtYWluaW5nRGVjb3JhdGlvbnMoY2hpbGRyZW4sIG9sZENoaWxkcmVuLCBkZWNvcmF0aW9ucywgbWFwcGluZywgb2Zmc2V0LCBvbGRPZmZzZXQsIG9wdGlvbnMpIHtcbiAgLy8gR2F0aGVyIGFsbCBkZWNvcmF0aW9ucyBmcm9tIHRoZSByZW1haW5pbmcgbWFya2VkIGNoaWxkcmVuXG4gIGZ1bmN0aW9uIGdhdGhlcihzZXQsIG9sZE9mZnNldCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2V0LmxvY2FsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbWFwcGVkID0gc2V0LmxvY2FsW2ldLm1hcChtYXBwaW5nLCBvZmZzZXQsIG9sZE9mZnNldClcbiAgICAgIGlmIChtYXBwZWQpIGRlY29yYXRpb25zLnB1c2gobWFwcGVkKVxuICAgICAgZWxzZSBpZiAob3B0aW9ucy5vblJlbW92ZSkgb3B0aW9ucy5vblJlbW92ZShzZXQubG9jYWxbaV0uc3BlYylcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXQuY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpXG4gICAgICBnYXRoZXIoc2V0LmNoaWxkcmVuW2kgKyAyXSwgc2V0LmNoaWxkcmVuW2ldICsgb2xkT2Zmc2V0ICsgMSlcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKSBpZiAoY2hpbGRyZW5baSArIDFdID09IC0xKVxuICAgIGdhdGhlcihjaGlsZHJlbltpICsgMl0sIG9sZENoaWxkcmVuW2ldICsgb2xkT2Zmc2V0ICsgMSlcblxuICByZXR1cm4gZGVjb3JhdGlvbnNcbn1cblxuZnVuY3Rpb24gdGFrZVNwYW5zRm9yTm9kZShzcGFucywgbm9kZSwgb2Zmc2V0KSB7XG4gIGlmIChub2RlLmlzTGVhZikgcmV0dXJuIG51bGxcbiAgbGV0IGVuZCA9IG9mZnNldCArIG5vZGUubm9kZVNpemUsIGZvdW5kID0gbnVsbFxuICBmb3IgKGxldCBpID0gMCwgc3BhbjsgaSA8IHNwYW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKChzcGFuID0gc3BhbnNbaV0pICYmIHNwYW4uZnJvbSA+IG9mZnNldCAmJiBzcGFuLnRvIDwgZW5kKSB7XG4gICAgICA7KGZvdW5kIHx8IChmb3VuZCA9IFtdKSkucHVzaChzcGFuKVxuICAgICAgc3BhbnNbaV0gPSBudWxsXG4gICAgfVxuICB9XG4gIHJldHVybiBmb3VuZFxufVxuXG5mdW5jdGlvbiB3aXRob3V0TnVsbHMoYXJyYXkpIHtcbiAgbGV0IHJlc3VsdCA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspXG4gICAgaWYgKGFycmF5W2ldICE9IG51bGwpIHJlc3VsdC5wdXNoKGFycmF5W2ldKVxuICByZXR1cm4gcmVzdWx0XG59XG5cbi8vIDogKFtEZWNvcmF0aW9uXSwgTm9kZSwgbnVtYmVyKSDihpIgRGVjb3JhdGlvblNldFxuLy8gQnVpbGQgdXAgYSB0cmVlIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBzZXQgb2YgZGVjb3JhdGlvbnMuIGBvZmZzZXRgXG4vLyBpcyBhIGJhc2Ugb2Zmc2V0IHRoYXQgc2hvdWxkIGJlIHN1YnRyYWN0ZXQgZnJvbSB0aGUgYGZyb21gIGFuZCBgdG9gXG4vLyBwb3NpdGlvbnMgaW4gdGhlIHNwYW5zIChzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gYWxsb2NhdGUgbmV3IHNwYW5zXG4vLyBmb3IgcmVjdXJzaXZlIGNhbGxzKS5cbmZ1bmN0aW9uIGJ1aWxkVHJlZShzcGFucywgbm9kZSwgb2Zmc2V0LCBvcHRpb25zKSB7XG4gIGxldCBjaGlsZHJlbiA9IFtdLCBoYXNOdWxscyA9IGZhbHNlXG4gIG5vZGUuZm9yRWFjaCgoY2hpbGROb2RlLCBsb2NhbFN0YXJ0KSA9PiB7XG4gICAgbGV0IGZvdW5kID0gdGFrZVNwYW5zRm9yTm9kZShzcGFucywgY2hpbGROb2RlLCBsb2NhbFN0YXJ0ICsgb2Zmc2V0KVxuICAgIGlmIChmb3VuZCkge1xuICAgICAgaGFzTnVsbHMgPSB0cnVlXG4gICAgICBsZXQgc3VidHJlZSA9IGJ1aWxkVHJlZShmb3VuZCwgY2hpbGROb2RlLCBvZmZzZXQgKyBsb2NhbFN0YXJ0ICsgMSwgb3B0aW9ucylcbiAgICAgIGlmIChzdWJ0cmVlICE9IGVtcHR5KVxuICAgICAgICBjaGlsZHJlbi5wdXNoKGxvY2FsU3RhcnQsIGxvY2FsU3RhcnQgKyBjaGlsZE5vZGUubm9kZVNpemUsIHN1YnRyZWUpXG4gICAgfVxuICB9KVxuICBsZXQgbG9jYWxzID0gbW92ZVNwYW5zKGhhc051bGxzID8gd2l0aG91dE51bGxzKHNwYW5zKSA6IHNwYW5zLCAtb2Zmc2V0KS5zb3J0KGJ5UG9zKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2Fscy5sZW5ndGg7IGkrKykgaWYgKCFsb2NhbHNbaV0udHlwZS52YWxpZChub2RlLCBsb2NhbHNbaV0pKSB7XG4gICAgaWYgKG9wdGlvbnMub25SZW1vdmUpIG9wdGlvbnMub25SZW1vdmUobG9jYWxzW2ldLnNwZWMpXG4gICAgbG9jYWxzLnNwbGljZShpLS0sIDEpXG4gIH1cbiAgcmV0dXJuIGxvY2Fscy5sZW5ndGggfHwgY2hpbGRyZW4ubGVuZ3RoID8gbmV3IERlY29yYXRpb25TZXQobG9jYWxzLCBjaGlsZHJlbikgOiBlbXB0eVxufVxuXG4vLyA6IChEZWNvcmF0aW9uLCBEZWNvcmF0aW9uKSDihpIgbnVtYmVyXG4vLyBVc2VkIHRvIHNvcnQgZGVjb3JhdGlvbnMgc28gdGhhdCBvbmVzIHdpdGggYSBsb3cgc3RhcnQgcG9zaXRpb25cbi8vIGNvbWUgZmlyc3QsIGFuZCB3aXRoaW4gYSBzZXQgd2l0aCB0aGUgc2FtZSBzdGFydCBwb3NpdGlvbiwgdGhvc2Vcbi8vIHdpdGggYW4gc21hbGxlciBlbmQgcG9zaXRpb24gY29tZSBmaXJzdC5cbmZ1bmN0aW9uIGJ5UG9zKGEsIGIpIHtcbiAgcmV0dXJuIGEuZnJvbSAtIGIuZnJvbSB8fCBhLnRvIC0gYi50b1xufVxuXG4vLyA6IChbRGVjb3JhdGlvbl0pIOKGkiBbRGVjb3JhdGlvbl1cbi8vIFNjYW4gYSBzb3J0ZWQgYXJyYXkgb2YgZGVjb3JhdGlvbnMgZm9yIHBhcnRpYWxseSBvdmVybGFwcGluZyBzcGFucyxcbi8vIGFuZCBzcGxpdCB0aG9zZSBzbyB0aGF0IG9ubHkgZnVsbHkgb3ZlcmxhcHBpbmcgc3BhbnMgYXJlIGxlZnQgKHRvXG4vLyBtYWtlIHN1YnNlcXVlbnQgcmVuZGVyaW5nIGVhc2llcikuIFdpbGwgcmV0dXJuIHRoZSBpbnB1dCBhcnJheSBpZlxuLy8gbm8gcGFydGlhbGx5IG92ZXJsYXBwaW5nIHNwYW5zIGFyZSBmb3VuZCAodGhlIGNvbW1vbiBjYXNlKS5cbmZ1bmN0aW9uIHJlbW92ZU92ZXJsYXAoc3BhbnMpIHtcbiAgbGV0IHdvcmtpbmcgPSBzcGFuc1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmtpbmcubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgbGV0IHNwYW4gPSB3b3JraW5nW2ldXG4gICAgaWYgKHNwYW4uZnJvbSAhPSBzcGFuLnRvKSBmb3IgKGxldCBqID0gaSArIDE7IGogPCB3b3JraW5nLmxlbmd0aDsgaisrKSB7XG4gICAgICBsZXQgbmV4dCA9IHdvcmtpbmdbal1cbiAgICAgIGlmIChuZXh0LmZyb20gPT0gc3Bhbi5mcm9tKSB7XG4gICAgICAgIGlmIChuZXh0LnRvICE9IHNwYW4udG8pIHtcbiAgICAgICAgICBpZiAod29ya2luZyA9PSBzcGFucykgd29ya2luZyA9IHNwYW5zLnNsaWNlKClcbiAgICAgICAgICAvLyBGb2xsb3dlZCBieSBhIHBhcnRpYWxseSBvdmVybGFwcGluZyBsYXJnZXIgc3Bhbi4gU3BsaXQgdGhhdFxuICAgICAgICAgIC8vIHNwYW4uXG4gICAgICAgICAgd29ya2luZ1tqXSA9IG5leHQuY29weShuZXh0LmZyb20sIHNwYW4udG8pXG4gICAgICAgICAgaW5zZXJ0QWhlYWQod29ya2luZywgaiArIDEsIG5leHQuY29weShzcGFuLnRvLCBuZXh0LnRvKSlcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG5leHQuZnJvbSA8IHNwYW4udG8pIHtcbiAgICAgICAgICBpZiAod29ya2luZyA9PSBzcGFucykgd29ya2luZyA9IHNwYW5zLnNsaWNlKClcbiAgICAgICAgICAvLyBUaGUgZW5kIG9mIHRoaXMgb25lIG92ZXJsYXBzIHdpdGggYSBzdWJzZXF1ZW50IHNwYW4uIFNwbGl0XG4gICAgICAgICAgLy8gdGhpcyBvbmUuXG4gICAgICAgICAgd29ya2luZ1tpXSA9IHNwYW4uY29weShzcGFuLmZyb20sIG5leHQuZnJvbSlcbiAgICAgICAgICBpbnNlcnRBaGVhZCh3b3JraW5nLCBqLCBzcGFuLmNvcHkobmV4dC5mcm9tLCBzcGFuLnRvKSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gd29ya2luZ1xufVxuXG5mdW5jdGlvbiBpbnNlcnRBaGVhZChhcnJheSwgaSwgZGVjbykge1xuICB3aGlsZSAoaSA8IGFycmF5Lmxlbmd0aCAmJiBieVBvcyhkZWNvLCBhcnJheVtpXSkgPiAwKSBpKytcbiAgYXJyYXkuc3BsaWNlKGksIDAsIGRlY28pXG59XG5cbi8vIDogKEVkaXRvclZpZXcpIOKGkiB1bmlvbjxEZWNvcmF0aW9uU2V0LCBEZWNvcmF0aW9uR3JvdXA+XG4vLyBHZXQgdGhlIGRlY29yYXRpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBwcm9wcyBvZiBhIHZpZXcuXG5leHBvcnQgZnVuY3Rpb24gdmlld0RlY29yYXRpb25zKHZpZXcpIHtcbiAgbGV0IGZvdW5kID0gW11cbiAgdmlldy5zb21lUHJvcChcImRlY29yYXRpb25zXCIsIGYgPT4ge1xuICAgIGxldCByZXN1bHQgPSBmKHZpZXcuc3RhdGUpXG4gICAgaWYgKHJlc3VsdCAmJiByZXN1bHQgIT0gZW1wdHkpIGZvdW5kLnB1c2gocmVzdWx0KVxuICB9KVxuICBpZiAodmlldy5jdXJzb3JXcmFwcGVyKVxuICAgIGZvdW5kLnB1c2goRGVjb3JhdGlvblNldC5jcmVhdGUodmlldy5zdGF0ZS5kb2MsIFt2aWV3LmN1cnNvcldyYXBwZXIuZGVjb10pKVxuICByZXR1cm4gRGVjb3JhdGlvbkdyb3VwLmZyb20oZm91bmQpXG59XG4iLCJpbXBvcnQge05vZGVTZWxlY3Rpb259IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiXG5cbmltcG9ydCB7c2Nyb2xsUmVjdEludG9WaWV3LCBwb3NBdENvb3JkcywgY29vcmRzQXRQb3MsIGVuZE9mVGV4dGJsb2NrLCBzdG9yZVNjcm9sbFBvcyxcbiAgICAgICAgcmVzZXRTY3JvbGxQb3MsIGZvY3VzUHJldmVudFNjcm9sbH0gZnJvbSBcIi4vZG9tY29vcmRzXCJcbmltcG9ydCB7ZG9jVmlld0Rlc2N9IGZyb20gXCIuL3ZpZXdkZXNjXCJcbmltcG9ydCB7aW5pdElucHV0LCBkZXN0cm95SW5wdXQsIGRpc3BhdGNoRXZlbnQsIGVuc3VyZUxpc3RlbmVyc30gZnJvbSBcIi4vaW5wdXRcIlxuaW1wb3J0IHtzZWxlY3Rpb25Ub0RPTSwgYW5jaG9ySW5SaWdodFBsYWNlLCBzeW5jTm9kZVNlbGVjdGlvbn0gZnJvbSBcIi4vc2VsZWN0aW9uXCJcbmltcG9ydCB7RGVjb3JhdGlvbiwgdmlld0RlY29yYXRpb25zfSBmcm9tIFwiLi9kZWNvcmF0aW9uXCJcbmltcG9ydCBicm93c2VyIGZyb20gXCIuL2Jyb3dzZXJcIlxuXG5leHBvcnQge0RlY29yYXRpb24sIERlY29yYXRpb25TZXR9IGZyb20gXCIuL2RlY29yYXRpb25cIlxuXG4vLyBFeHBvcnRlZCBmb3IgdGVzdGluZ1xuZXhwb3J0IHtzZXJpYWxpemVGb3JDbGlwYm9hcmQgYXMgX19zZXJpYWxpemVGb3JDbGlwYm9hcmQsIHBhcnNlRnJvbUNsaXBib2FyZCBhcyBfX3BhcnNlRnJvbUNsaXBib2FyZH0gZnJvbSBcIi4vY2xpcGJvYXJkXCJcbmV4cG9ydCB7ZW5kQ29tcG9zaXRpb24gYXMgX19lbmRDb21wb3NpdGlvbn0gZnJvbSBcIi4vaW5wdXRcIlxuXG4vLyA6Oi0gQW4gZWRpdG9yIHZpZXcgbWFuYWdlcyB0aGUgRE9NIHN0cnVjdHVyZSB0aGF0IHJlcHJlc2VudHMgYW5cbi8vIGVkaXRhYmxlIGRvY3VtZW50LiBJdHMgc3RhdGUgYW5kIGJlaGF2aW9yIGFyZSBkZXRlcm1pbmVkIGJ5IGl0c1xuLy8gW3Byb3BzXSgjdmlldy5EaXJlY3RFZGl0b3JQcm9wcykuXG5leHBvcnQgY2xhc3MgRWRpdG9yVmlldyB7XG4gIC8vIDo6ICg/dW5pb248ZG9tLk5vZGUsIChkb20uTm9kZSksIHttb3VudDogZG9tLk5vZGV9PiwgRGlyZWN0RWRpdG9yUHJvcHMpXG4gIC8vIENyZWF0ZSBhIHZpZXcuIGBwbGFjZWAgbWF5IGJlIGEgRE9NIG5vZGUgdGhhdCB0aGUgZWRpdG9yIHNob3VsZFxuICAvLyBiZSBhcHBlbmRlZCB0bywgYSBmdW5jdGlvbiB0aGF0IHdpbGwgcGxhY2UgaXQgaW50byB0aGUgZG9jdW1lbnQsXG4gIC8vIG9yIGFuIG9iamVjdCB3aG9zZSBgbW91bnRgIHByb3BlcnR5IGhvbGRzIHRoZSBub2RlIHRvIHVzZSBhcyB0aGVcbiAgLy8gZG9jdW1lbnQgY29udGFpbmVyLiBJZiBpdCBpcyBgbnVsbGAsIHRoZSBlZGl0b3Igd2lsbCBub3QgYmUgYWRkZWRcbiAgLy8gdG8gdGhlIGRvY3VtZW50LlxuICBjb25zdHJ1Y3RvcihwbGFjZSwgcHJvcHMpIHtcbiAgICB0aGlzLl9wcm9wcyA9IHByb3BzXG4gICAgLy8gOjogRWRpdG9yU3RhdGVcbiAgICAvLyBUaGUgdmlldydzIGN1cnJlbnQgW3N0YXRlXSgjc3RhdGUuRWRpdG9yU3RhdGUpLlxuICAgIHRoaXMuc3RhdGUgPSBwcm9wcy5zdGF0ZVxuXG4gICAgdGhpcy5kaXNwYXRjaCA9IHRoaXMuZGlzcGF0Y2guYmluZCh0aGlzKVxuXG4gICAgdGhpcy5fcm9vdCA9IG51bGxcbiAgICB0aGlzLmZvY3VzZWQgPSBmYWxzZVxuXG4gICAgLy8gOjogZG9tLkVsZW1lbnRcbiAgICAvLyBBbiBlZGl0YWJsZSBET00gbm9kZSBjb250YWluaW5nIHRoZSBkb2N1bWVudC4gKFlvdSBwcm9iYWJseVxuICAgIC8vIHNob3VsZCBub3QgZGlyZWN0bHkgaW50ZXJmZXJlIHdpdGggaXRzIGNvbnRlbnQuKVxuICAgIHRoaXMuZG9tID0gKHBsYWNlICYmIHBsYWNlLm1vdW50KSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgaWYgKHBsYWNlKSB7XG4gICAgICBpZiAocGxhY2UuYXBwZW5kQ2hpbGQpIHBsYWNlLmFwcGVuZENoaWxkKHRoaXMuZG9tKVxuICAgICAgZWxzZSBpZiAocGxhY2UuYXBwbHkpIHBsYWNlKHRoaXMuZG9tKVxuICAgICAgZWxzZSBpZiAocGxhY2UubW91bnQpIHRoaXMubW91bnRlZCA9IHRydWVcbiAgICB9XG5cbiAgICAvLyA6OiBib29sXG4gICAgLy8gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGVkaXRvciBpcyBjdXJyZW50bHkgW2VkaXRhYmxlXSgjdmlldy5FZGl0b3JQcm9wcy5lZGl0YWJsZSkuXG4gICAgdGhpcy5lZGl0YWJsZSA9IGdldEVkaXRhYmxlKHRoaXMpXG4gICAgdGhpcy5tYXJrQ3Vyc29yID0gbnVsbFxuICAgIHRoaXMuY3Vyc29yV3JhcHBlciA9IG51bGxcbiAgICB1cGRhdGVDdXJzb3JXcmFwcGVyKHRoaXMpXG4gICAgdGhpcy5ub2RlVmlld3MgPSBidWlsZE5vZGVWaWV3cyh0aGlzKVxuICAgIHRoaXMuZG9jVmlldyA9IGRvY1ZpZXdEZXNjKHRoaXMuc3RhdGUuZG9jLCBjb21wdXRlRG9jRGVjbyh0aGlzKSwgdmlld0RlY29yYXRpb25zKHRoaXMpLCB0aGlzLmRvbSwgdGhpcylcblxuICAgIHRoaXMubGFzdFNlbGVjdGVkVmlld0Rlc2MgPSBudWxsXG4gICAgLy8gOjogP3tzbGljZTogU2xpY2UsIG1vdmU6IGJvb2x9XG4gICAgLy8gV2hlbiBlZGl0b3IgY29udGVudCBpcyBiZWluZyBkcmFnZ2VkLCB0aGlzIG9iamVjdCBjb250YWluc1xuICAgIC8vIGluZm9ybWF0aW9uIGFib3V0IHRoZSBkcmFnZ2VkIHNsaWNlIGFuZCB3aGV0aGVyIGl0IGlzIGJlaW5nXG4gICAgLy8gY29waWVkIG9yIG1vdmVkLiBBdCBhbnkgb3RoZXIgdGltZSwgaXQgaXMgbnVsbC5cbiAgICB0aGlzLmRyYWdnaW5nID0gbnVsbFxuXG4gICAgaW5pdElucHV0KHRoaXMpXG5cbiAgICB0aGlzLnBsdWdpblZpZXdzID0gW11cbiAgICB0aGlzLnVwZGF0ZVBsdWdpblZpZXdzKClcbiAgfVxuXG4gIC8vIGNvbXBvc2luZzo6IGJvb2xlYW5cbiAgLy8gSG9sZHMgYHRydWVgIHdoZW4gYVxuICAvLyBbY29tcG9zaXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvTW96aWxsYS9JTUVfaGFuZGxpbmdfZ3VpZGUpXG4gIC8vIGlzIGFjdGl2ZS5cblxuICAvLyA6OiBEaXJlY3RFZGl0b3JQcm9wc1xuICAvLyBUaGUgdmlldydzIGN1cnJlbnQgW3Byb3BzXSgjdmlldy5FZGl0b3JQcm9wcykuXG4gIGdldCBwcm9wcygpIHtcbiAgICBpZiAodGhpcy5fcHJvcHMuc3RhdGUgIT0gdGhpcy5zdGF0ZSkge1xuICAgICAgbGV0IHByZXYgPSB0aGlzLl9wcm9wc1xuICAgICAgdGhpcy5fcHJvcHMgPSB7fVxuICAgICAgZm9yIChsZXQgbmFtZSBpbiBwcmV2KSB0aGlzLl9wcm9wc1tuYW1lXSA9IHByZXZbbmFtZV1cbiAgICAgIHRoaXMuX3Byb3BzLnN0YXRlID0gdGhpcy5zdGF0ZVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcHJvcHNcbiAgfVxuXG4gIC8vIDo6IChEaXJlY3RFZGl0b3JQcm9wcylcbiAgLy8gVXBkYXRlIHRoZSB2aWV3J3MgcHJvcHMuIFdpbGwgaW1tZWRpYXRlbHkgY2F1c2UgYW4gdXBkYXRlIHRvXG4gIC8vIHRoZSBET00uXG4gIHVwZGF0ZShwcm9wcykge1xuICAgIGlmIChwcm9wcy5oYW5kbGVET01FdmVudHMgIT0gdGhpcy5fcHJvcHMuaGFuZGxlRE9NRXZlbnRzKSBlbnN1cmVMaXN0ZW5lcnModGhpcylcbiAgICB0aGlzLl9wcm9wcyA9IHByb3BzXG4gICAgdGhpcy51cGRhdGVTdGF0ZUlubmVyKHByb3BzLnN0YXRlLCB0cnVlKVxuICB9XG5cbiAgLy8gOjogKERpcmVjdEVkaXRvclByb3BzKVxuICAvLyBVcGRhdGUgdGhlIHZpZXcgYnkgdXBkYXRpbmcgZXhpc3RpbmcgcHJvcHMgb2JqZWN0IHdpdGggdGhlIG9iamVjdFxuICAvLyBnaXZlbiBhcyBhcmd1bWVudC4gRXF1aXZhbGVudCB0byBgdmlldy51cGRhdGUoT2JqZWN0LmFzc2lnbih7fSxcbiAgLy8gdmlldy5wcm9wcywgcHJvcHMpKWAuXG4gIHNldFByb3BzKHByb3BzKSB7XG4gICAgbGV0IHVwZGF0ZWQgPSB7fVxuICAgIGZvciAobGV0IG5hbWUgaW4gdGhpcy5fcHJvcHMpIHVwZGF0ZWRbbmFtZV0gPSB0aGlzLl9wcm9wc1tuYW1lXVxuICAgIHVwZGF0ZWQuc3RhdGUgPSB0aGlzLnN0YXRlXG4gICAgZm9yIChsZXQgbmFtZSBpbiBwcm9wcykgdXBkYXRlZFtuYW1lXSA9IHByb3BzW25hbWVdXG4gICAgdGhpcy51cGRhdGUodXBkYXRlZClcbiAgfVxuXG4gIC8vIDo6IChFZGl0b3JTdGF0ZSlcbiAgLy8gVXBkYXRlIHRoZSBlZGl0b3IncyBgc3RhdGVgIHByb3AsIHdpdGhvdXQgdG91Y2hpbmcgYW55IG9mIHRoZVxuICAvLyBvdGhlciBwcm9wcy5cbiAgdXBkYXRlU3RhdGUoc3RhdGUpIHtcbiAgICB0aGlzLnVwZGF0ZVN0YXRlSW5uZXIoc3RhdGUsIHRoaXMuc3RhdGUucGx1Z2lucyAhPSBzdGF0ZS5wbHVnaW5zKVxuICB9XG5cbiAgdXBkYXRlU3RhdGVJbm5lcihzdGF0ZSwgcmVjb25maWd1cmVkKSB7XG4gICAgbGV0IHByZXYgPSB0aGlzLnN0YXRlLCByZWRyYXcgPSBmYWxzZVxuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZVxuICAgIGlmIChyZWNvbmZpZ3VyZWQpIHtcbiAgICAgIGxldCBub2RlVmlld3MgPSBidWlsZE5vZGVWaWV3cyh0aGlzKVxuICAgICAgaWYgKGNoYW5nZWROb2RlVmlld3Mobm9kZVZpZXdzLCB0aGlzLm5vZGVWaWV3cykpIHtcbiAgICAgICAgdGhpcy5ub2RlVmlld3MgPSBub2RlVmlld3NcbiAgICAgICAgcmVkcmF3ID0gdHJ1ZVxuICAgICAgfVxuICAgICAgZW5zdXJlTGlzdGVuZXJzKHRoaXMpXG4gICAgfVxuXG4gICAgdGhpcy5lZGl0YWJsZSA9IGdldEVkaXRhYmxlKHRoaXMpXG4gICAgdXBkYXRlQ3Vyc29yV3JhcHBlcih0aGlzKVxuICAgIGxldCBpbm5lckRlY28gPSB2aWV3RGVjb3JhdGlvbnModGhpcyksIG91dGVyRGVjbyA9IGNvbXB1dGVEb2NEZWNvKHRoaXMpXG5cbiAgICBsZXQgc2Nyb2xsID0gcmVjb25maWd1cmVkID8gXCJyZXNldFwiXG4gICAgICAgIDogc3RhdGUuc2Nyb2xsVG9TZWxlY3Rpb24gPiBwcmV2LnNjcm9sbFRvU2VsZWN0aW9uID8gXCJ0byBzZWxlY3Rpb25cIiA6IFwicHJlc2VydmVcIlxuICAgIGxldCB1cGRhdGVEb2MgPSByZWRyYXcgfHwgIXRoaXMuZG9jVmlldy5tYXRjaGVzTm9kZShzdGF0ZS5kb2MsIG91dGVyRGVjbywgaW5uZXJEZWNvKVxuICAgIGxldCB1cGRhdGVTZWwgPSB1cGRhdGVEb2MgfHwgIXN0YXRlLnNlbGVjdGlvbi5lcShwcmV2LnNlbGVjdGlvbilcbiAgICBsZXQgb2xkU2Nyb2xsUG9zID0gc2Nyb2xsID09IFwicHJlc2VydmVcIiAmJiB1cGRhdGVTZWwgJiYgdGhpcy5kb20uc3R5bGUub3ZlcmZsb3dBbmNob3IgPT0gbnVsbCAmJiBzdG9yZVNjcm9sbFBvcyh0aGlzKVxuXG4gICAgaWYgKHVwZGF0ZVNlbCkge1xuICAgICAgdGhpcy5kb21PYnNlcnZlci5zdG9wKClcbiAgICAgIC8vIFdvcmsgYXJvdW5kIGFuIGlzc3VlIGluIENocm9tZSwgSUUsIGFuZCBFZGdlIHdoZXJlIGNoYW5naW5nXG4gICAgICAvLyB0aGUgRE9NIGFyb3VuZCBhbiBhY3RpdmUgc2VsZWN0aW9uIHB1dHMgaXQgaW50byBhIGJyb2tlblxuICAgICAgLy8gc3RhdGUgd2hlcmUgdGhlIHRoaW5nIHRoZSB1c2VyIHNlZXMgZGlmZmVycyBmcm9tIHRoZVxuICAgICAgLy8gc2VsZWN0aW9uIHJlcG9ydGVkIGJ5IHRoZSBTZWxlY3Rpb24gb2JqZWN0ICgjNzEwLCAjOTczLFxuICAgICAgLy8gIzEwMTEsICMxMDEzKS5cbiAgICAgIGxldCBmb3JjZVNlbFVwZGF0ZSA9IHVwZGF0ZURvYyAmJiAoYnJvd3Nlci5pZSB8fCBicm93c2VyLmNocm9tZSkgJiZcbiAgICAgICAgICAhcHJldi5zZWxlY3Rpb24uZW1wdHkgJiYgIXN0YXRlLnNlbGVjdGlvbi5lbXB0eSAmJiBzZWxlY3Rpb25Db250ZXh0Q2hhbmdlZChwcmV2LnNlbGVjdGlvbiwgc3RhdGUuc2VsZWN0aW9uKVxuICAgICAgaWYgKHVwZGF0ZURvYykge1xuICAgICAgICBpZiAocmVkcmF3IHx8ICF0aGlzLmRvY1ZpZXcudXBkYXRlKHN0YXRlLmRvYywgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHRoaXMpKSB7XG4gICAgICAgICAgdGhpcy5kb2NWaWV3LmRlc3Ryb3koKVxuICAgICAgICAgIHRoaXMuZG9jVmlldyA9IGRvY1ZpZXdEZXNjKHN0YXRlLmRvYywgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHRoaXMuZG9tLCB0aGlzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBXb3JrIGFyb3VuZCBmb3IgYW4gaXNzdWUgd2hlcmUgYW4gdXBkYXRlIGFycml2aW5nIHJpZ2h0IGJldHdlZW5cbiAgICAgIC8vIGEgRE9NIHNlbGVjdGlvbiBjaGFuZ2UgYW5kIHRoZSBcInNlbGVjdGlvbmNoYW5nZVwiIGV2ZW50IGZvciBpdFxuICAgICAgLy8gY2FuIGNhdXNlIGEgc3B1cmlvdXMgRE9NIHNlbGVjdGlvbiB1cGRhdGUsIGRpc3J1cHRpbmcgbW91c2VcbiAgICAgIC8vIGRyYWcgc2VsZWN0aW9uLlxuICAgICAgaWYgKGZvcmNlU2VsVXBkYXRlIHx8XG4gICAgICAgICAgISh0aGlzLm1vdXNlRG93biAmJiB0aGlzLmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb24uZXEodGhpcy5yb290LmdldFNlbGVjdGlvbigpKSAmJiBhbmNob3JJblJpZ2h0UGxhY2UodGhpcykpKSB7XG4gICAgICAgIHNlbGVjdGlvblRvRE9NKHRoaXMsIGZvcmNlU2VsVXBkYXRlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3luY05vZGVTZWxlY3Rpb24odGhpcywgc3RhdGUuc2VsZWN0aW9uKVxuICAgICAgICB0aGlzLmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpXG4gICAgICB9XG4gICAgICB0aGlzLmRvbU9ic2VydmVyLnN0YXJ0KClcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVBsdWdpblZpZXdzKHByZXYpXG5cbiAgICBpZiAoc2Nyb2xsID09IFwicmVzZXRcIikge1xuICAgICAgdGhpcy5kb20uc2Nyb2xsVG9wID0gMFxuICAgIH0gZWxzZSBpZiAoc2Nyb2xsID09IFwidG8gc2VsZWN0aW9uXCIpIHtcbiAgICAgIGxldCBzdGFydERPTSA9IHRoaXMucm9vdC5nZXRTZWxlY3Rpb24oKS5mb2N1c05vZGVcbiAgICAgIGlmICh0aGlzLnNvbWVQcm9wKFwiaGFuZGxlU2Nyb2xsVG9TZWxlY3Rpb25cIiwgZiA9PiBmKHRoaXMpKSlcbiAgICAgICAge30gLy8gSGFuZGxlZFxuICAgICAgZWxzZSBpZiAoc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbilcbiAgICAgICAgc2Nyb2xsUmVjdEludG9WaWV3KHRoaXMsIHRoaXMuZG9jVmlldy5kb21BZnRlclBvcyhzdGF0ZS5zZWxlY3Rpb24uZnJvbSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHN0YXJ0RE9NKVxuICAgICAgZWxzZVxuICAgICAgICBzY3JvbGxSZWN0SW50b1ZpZXcodGhpcywgdGhpcy5jb29yZHNBdFBvcyhzdGF0ZS5zZWxlY3Rpb24uaGVhZCksIHN0YXJ0RE9NKVxuICAgIH0gZWxzZSBpZiAob2xkU2Nyb2xsUG9zKSB7XG4gICAgICByZXNldFNjcm9sbFBvcyhvbGRTY3JvbGxQb3MpXG4gICAgfVxuICB9XG5cbiAgZGVzdHJveVBsdWdpblZpZXdzKCkge1xuICAgIGxldCB2aWV3XG4gICAgd2hpbGUgKHZpZXcgPSB0aGlzLnBsdWdpblZpZXdzLnBvcCgpKSBpZiAodmlldy5kZXN0cm95KSB2aWV3LmRlc3Ryb3koKVxuICB9XG5cbiAgdXBkYXRlUGx1Z2luVmlld3MocHJldlN0YXRlKSB7XG4gICAgaWYgKCFwcmV2U3RhdGUgfHwgcHJldlN0YXRlLnBsdWdpbnMgIT0gdGhpcy5zdGF0ZS5wbHVnaW5zKSB7XG4gICAgICB0aGlzLmRlc3Ryb3lQbHVnaW5WaWV3cygpXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGUucGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcGx1Z2luID0gdGhpcy5zdGF0ZS5wbHVnaW5zW2ldXG4gICAgICAgIGlmIChwbHVnaW4uc3BlYy52aWV3KSB0aGlzLnBsdWdpblZpZXdzLnB1c2gocGx1Z2luLnNwZWMudmlldyh0aGlzKSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBsdWdpblZpZXdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBwbHVnaW5WaWV3ID0gdGhpcy5wbHVnaW5WaWV3c1tpXVxuICAgICAgICBpZiAocGx1Z2luVmlldy51cGRhdGUpIHBsdWdpblZpZXcudXBkYXRlKHRoaXMsIHByZXZTdGF0ZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyA6OiAoc3RyaW5nLCA/KHByb3A6ICopIOKGkiAqKSDihpIgKlxuICAvLyBHb2VzIG92ZXIgdGhlIHZhbHVlcyBvZiBhIHByb3AsIGZpcnN0IHRob3NlIHByb3ZpZGVkIGRpcmVjdGx5LFxuICAvLyB0aGVuIHRob3NlIGZyb20gcGx1Z2lucyAoaW4gb3JkZXIpLCBhbmQgY2FsbHMgYGZgIGV2ZXJ5IHRpbWUgYVxuICAvLyBub24tdW5kZWZpbmVkIHZhbHVlIGlzIGZvdW5kLiBXaGVuIGBmYCByZXR1cm5zIGEgdHJ1dGh5IHZhbHVlLFxuICAvLyB0aGF0IGlzIGltbWVkaWF0ZWx5IHJldHVybmVkLiBXaGVuIGBmYCBpc24ndCBwcm92aWRlZCwgaXQgaXNcbiAgLy8gdHJlYXRlZCBhcyB0aGUgaWRlbnRpdHkgZnVuY3Rpb24gKHRoZSBwcm9wIHZhbHVlIGlzIHJldHVybmVkXG4gIC8vIGRpcmVjdGx5KS5cbiAgc29tZVByb3AocHJvcE5hbWUsIGYpIHtcbiAgICBsZXQgcHJvcCA9IHRoaXMuX3Byb3BzICYmIHRoaXMuX3Byb3BzW3Byb3BOYW1lXSwgdmFsdWVcbiAgICBpZiAocHJvcCAhPSBudWxsICYmICh2YWx1ZSA9IGYgPyBmKHByb3ApIDogcHJvcCkpIHJldHVybiB2YWx1ZVxuICAgIGxldCBwbHVnaW5zID0gdGhpcy5zdGF0ZS5wbHVnaW5zXG4gICAgaWYgKHBsdWdpbnMpIGZvciAobGV0IGkgPSAwOyBpIDwgcGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHByb3AgPSBwbHVnaW5zW2ldLnByb3BzW3Byb3BOYW1lXVxuICAgICAgaWYgKHByb3AgIT0gbnVsbCAmJiAodmFsdWUgPSBmID8gZihwcm9wKSA6IHByb3ApKSByZXR1cm4gdmFsdWVcbiAgICB9XG4gIH1cblxuICAvLyA6OiAoKSDihpIgYm9vbFxuICAvLyBRdWVyeSB3aGV0aGVyIHRoZSB2aWV3IGhhcyBmb2N1cy5cbiAgaGFzRm9jdXMoKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5hY3RpdmVFbGVtZW50ID09IHRoaXMuZG9tXG4gIH1cblxuICAvLyA6OiAoKVxuICAvLyBGb2N1cyB0aGUgZWRpdG9yLlxuICBmb2N1cygpIHtcbiAgICB0aGlzLmRvbU9ic2VydmVyLnN0b3AoKVxuICAgIGlmICh0aGlzLmVkaXRhYmxlKSBmb2N1c1ByZXZlbnRTY3JvbGwodGhpcy5kb20pXG4gICAgc2VsZWN0aW9uVG9ET00odGhpcylcbiAgICB0aGlzLmRvbU9ic2VydmVyLnN0YXJ0KClcbiAgfVxuXG4gIC8vIDo6IHVuaW9uPGRvbS5Eb2N1bWVudCwgZG9tLkRvY3VtZW50RnJhZ21lbnQ+XG4gIC8vIEdldCB0aGUgZG9jdW1lbnQgcm9vdCBpbiB3aGljaCB0aGUgZWRpdG9yIGV4aXN0cy4gVGhpcyB3aWxsXG4gIC8vIHVzdWFsbHkgYmUgdGhlIHRvcC1sZXZlbCBgZG9jdW1lbnRgLCBidXQgbWlnaHQgYmUgYSBbc2hhZG93XG4gIC8vIERPTV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvV2ViX0NvbXBvbmVudHMvU2hhZG93X0RPTSlcbiAgLy8gcm9vdCBpZiB0aGUgZWRpdG9yIGlzIGluc2lkZSBvbmUuXG4gIGdldCByb290KCkge1xuICAgIGxldCBjYWNoZWQgPSB0aGlzLl9yb290XG4gICAgaWYgKGNhY2hlZCA9PSBudWxsKSBmb3IgKGxldCBzZWFyY2ggPSB0aGlzLmRvbS5wYXJlbnROb2RlOyBzZWFyY2g7IHNlYXJjaCA9IHNlYXJjaC5wYXJlbnROb2RlKSB7XG4gICAgICBpZiAoc2VhcmNoLm5vZGVUeXBlID09IDkgfHwgKHNlYXJjaC5ub2RlVHlwZSA9PSAxMSAmJiBzZWFyY2guaG9zdCkpIHtcbiAgICAgICAgaWYgKCFzZWFyY2guZ2V0U2VsZWN0aW9uKSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc2VhcmNoKS5nZXRTZWxlY3Rpb24gPSAoKSA9PiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKVxuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdCA9IHNlYXJjaFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2FjaGVkIHx8IGRvY3VtZW50XG4gIH1cblxuICAvLyA6OiAoe2xlZnQ6IG51bWJlciwgdG9wOiBudW1iZXJ9KSDihpIgP3twb3M6IG51bWJlciwgaW5zaWRlOiBudW1iZXJ9XG4gIC8vIEdpdmVuIGEgcGFpciBvZiB2aWV3cG9ydCBjb29yZGluYXRlcywgcmV0dXJuIHRoZSBkb2N1bWVudFxuICAvLyBwb3NpdGlvbiB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZW0uIE1heSByZXR1cm4gbnVsbCBpZiB0aGUgZ2l2ZW5cbiAgLy8gY29vcmRpbmF0ZXMgYXJlbid0IGluc2lkZSBvZiB0aGUgZWRpdG9yLiBXaGVuIGFuIG9iamVjdCBpc1xuICAvLyByZXR1cm5lZCwgaXRzIGBwb3NgIHByb3BlcnR5IGlzIHRoZSBwb3NpdGlvbiBuZWFyZXN0IHRvIHRoZVxuICAvLyBjb29yZGluYXRlcywgYW5kIGl0cyBgaW5zaWRlYCBwcm9wZXJ0eSBob2xkcyB0aGUgcG9zaXRpb24gb2YgdGhlXG4gIC8vIGlubmVyIG5vZGUgdGhhdCB0aGUgcG9zaXRpb24gZmFsbHMgaW5zaWRlIG9mLCBvciAtMSBpZiBpdCBpcyBhdFxuICAvLyB0aGUgdG9wIGxldmVsLCBub3QgaW4gYW55IG5vZGUuXG4gIHBvc0F0Q29vcmRzKGNvb3Jkcykge1xuICAgIHJldHVybiBwb3NBdENvb3Jkcyh0aGlzLCBjb29yZHMpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIge2xlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlciwgdG9wOiBudW1iZXIsIGJvdHRvbTogbnVtYmVyfVxuICAvLyBSZXR1cm5zIHRoZSB2aWV3cG9ydCByZWN0YW5nbGUgYXQgYSBnaXZlbiBkb2N1bWVudCBwb3NpdGlvbi4gYGxlZnRgXG4gIC8vIGFuZCBgcmlnaHRgIHdpbGwgYmUgdGhlIHNhbWUgbnVtYmVyLCBhcyB0aGlzIHJldHVybnMgYSBmbGF0XG4gIC8vIGN1cnNvci1pc2ggcmVjdGFuZ2xlLlxuICBjb29yZHNBdFBvcyhwb3MpIHtcbiAgICByZXR1cm4gY29vcmRzQXRQb3ModGhpcywgcG9zKVxuICB9XG5cbiAgLy8gOjogKG51bWJlcikg4oaSIHtub2RlOiBkb20uTm9kZSwgb2Zmc2V0OiBudW1iZXJ9XG4gIC8vIEZpbmQgdGhlIERPTSBwb3NpdGlvbiB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBkb2N1bWVudFxuICAvLyBwb3NpdGlvbi4gTm90ZSB0aGF0IHlvdSBzaG91bGQgKipub3QqKiBtdXRhdGUgdGhlIGVkaXRvcidzXG4gIC8vIGludGVybmFsIERPTSwgb25seSBpbnNwZWN0IGl0IChhbmQgZXZlbiB0aGF0IGlzIHVzdWFsbHkgbm90XG4gIC8vIG5lY2Vzc2FyeSkuXG4gIGRvbUF0UG9zKHBvcykge1xuICAgIHJldHVybiB0aGlzLmRvY1ZpZXcuZG9tRnJvbVBvcyhwb3MpXG4gIH1cblxuICAvLyA6OiAobnVtYmVyKSDihpIgP2RvbS5Ob2RlXG4gIC8vIEZpbmQgdGhlIERPTSBub2RlIHRoYXQgcmVwcmVzZW50cyB0aGUgZG9jdW1lbnQgbm9kZSBhZnRlciB0aGVcbiAgLy8gZ2l2ZW4gcG9zaXRpb24uIE1heSByZXR1cm4gYG51bGxgIHdoZW4gdGhlIHBvc2l0aW9uIGRvZXNuJ3QgcG9pbnRcbiAgLy8gaW4gZnJvbnQgb2YgYSBub2RlIG9yIGlmIHRoZSBub2RlIGlzIGluc2lkZSBhbiBvcGFxdWUgbm9kZSB2aWV3LlxuICAvL1xuICAvLyBUaGlzIGlzIGludGVuZGVkIHRvIGJlIGFibGUgdG8gY2FsbCB0aGluZ3MgbGlrZVxuICAvLyBgZ2V0Qm91bmRpbmdDbGllbnRSZWN0YCBvbiB0aGF0IERPTSBub2RlLiBEbyAqKm5vdCoqIG11dGF0ZSB0aGVcbiAgLy8gZWRpdG9yIERPTSBkaXJlY3RseSwgb3IgYWRkIHN0eWxpbmcgdGhpcyB3YXksIHNpbmNlIHRoYXQgd2lsbCBiZVxuICAvLyBpbW1lZGlhdGVseSBvdmVycmlkZW4gYnkgdGhlIGVkaXRvciBhcyBpdCByZWRyYXdzIHRoZSBub2RlLlxuICBub2RlRE9NKHBvcykge1xuICAgIGxldCBkZXNjID0gdGhpcy5kb2NWaWV3LmRlc2NBdChwb3MpXG4gICAgcmV0dXJuIGRlc2MgPyBkZXNjLm5vZGVET00gOiBudWxsXG4gIH1cblxuICAvLyA6OiAoZG9tLk5vZGUsIG51bWJlciwgP251bWJlcikg4oaSIG51bWJlclxuICAvLyBGaW5kIHRoZSBkb2N1bWVudCBwb3NpdGlvbiB0aGF0IGNvcnJlc3BvbmRzIHRvIGEgZ2l2ZW4gRE9NXG4gIC8vIHBvc2l0aW9uLiAoV2hlbmV2ZXIgcG9zc2libGUsIGl0IGlzIHByZWZlcmFibGUgdG8gaW5zcGVjdCB0aGVcbiAgLy8gZG9jdW1lbnQgc3RydWN0dXJlIGRpcmVjdGx5LCByYXRoZXIgdGhhbiBwb2tpbmcgYXJvdW5kIGluIHRoZVxuICAvLyBET00sIGJ1dCBzb21ldGltZXPigJRmb3IgZXhhbXBsZSB3aGVuIGludGVycHJldGluZyBhbiBldmVudFxuICAvLyB0YXJnZXTigJR5b3UgZG9uJ3QgaGF2ZSBhIGNob2ljZS4pXG4gIC8vXG4gIC8vIFRoZSBgYmlhc2AgcGFyYW1ldGVyIGNhbiBiZSB1c2VkIHRvIGluZmx1ZW5jZSB3aGljaCBzaWRlIG9mIGEgRE9NXG4gIC8vIG5vZGUgdG8gdXNlIHdoZW4gdGhlIHBvc2l0aW9uIGlzIGluc2lkZSBhIGxlYWYgbm9kZS5cbiAgcG9zQXRET00obm9kZSwgb2Zmc2V0LCBiaWFzID0gLTEpIHtcbiAgICBsZXQgcG9zID0gdGhpcy5kb2NWaWV3LnBvc0Zyb21ET00obm9kZSwgb2Zmc2V0LCBiaWFzKVxuICAgIGlmIChwb3MgPT0gbnVsbCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJET00gcG9zaXRpb24gbm90IGluc2lkZSB0aGUgZWRpdG9yXCIpXG4gICAgcmV0dXJuIHBvc1xuICB9XG5cbiAgLy8gOjogKHVuaW9uPFwidXBcIiwgXCJkb3duXCIsIFwibGVmdFwiLCBcInJpZ2h0XCIsIFwiZm9yd2FyZFwiLCBcImJhY2t3YXJkXCI+LCA/RWRpdG9yU3RhdGUpIOKGkiBib29sXG4gIC8vIEZpbmQgb3V0IHdoZXRoZXIgdGhlIHNlbGVjdGlvbiBpcyBhdCB0aGUgZW5kIG9mIGEgdGV4dGJsb2NrIHdoZW5cbiAgLy8gbW92aW5nIGluIGEgZ2l2ZW4gZGlyZWN0aW9uLiBXaGVuLCBmb3IgZXhhbXBsZSwgZ2l2ZW4gYFwibGVmdFwiYCxcbiAgLy8gaXQgd2lsbCByZXR1cm4gdHJ1ZSBpZiBtb3ZpbmcgbGVmdCBmcm9tIHRoZSBjdXJyZW50IGN1cnNvclxuICAvLyBwb3NpdGlvbiB3b3VsZCBsZWF2ZSB0aGF0IHBvc2l0aW9uJ3MgcGFyZW50IHRleHRibG9jay4gV2lsbCBhcHBseVxuICAvLyB0byB0aGUgdmlldydzIGN1cnJlbnQgc3RhdGUgYnkgZGVmYXVsdCwgYnV0IGl0IGlzIHBvc3NpYmxlIHRvXG4gIC8vIHBhc3MgYSBkaWZmZXJlbnQgc3RhdGUuXG4gIGVuZE9mVGV4dGJsb2NrKGRpciwgc3RhdGUpIHtcbiAgICByZXR1cm4gZW5kT2ZUZXh0YmxvY2sodGhpcywgc3RhdGUgfHwgdGhpcy5zdGF0ZSwgZGlyKVxuICB9XG5cbiAgLy8gOjogKClcbiAgLy8gUmVtb3ZlcyB0aGUgZWRpdG9yIGZyb20gdGhlIERPTSBhbmQgZGVzdHJveXMgYWxsIFtub2RlXG4gIC8vIHZpZXdzXSgjdmlldy5Ob2RlVmlldykuXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKCF0aGlzLmRvY1ZpZXcpIHJldHVyblxuICAgIGRlc3Ryb3lJbnB1dCh0aGlzKVxuICAgIHRoaXMuZGVzdHJveVBsdWdpblZpZXdzKClcbiAgICBpZiAodGhpcy5tb3VudGVkKSB7XG4gICAgICB0aGlzLmRvY1ZpZXcudXBkYXRlKHRoaXMuc3RhdGUuZG9jLCBbXSwgdmlld0RlY29yYXRpb25zKHRoaXMpLCB0aGlzKVxuICAgICAgdGhpcy5kb20udGV4dENvbnRlbnQgPSBcIlwiXG4gICAgfSBlbHNlIGlmICh0aGlzLmRvbS5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tKVxuICAgIH1cbiAgICB0aGlzLmRvY1ZpZXcuZGVzdHJveSgpXG4gICAgdGhpcy5kb2NWaWV3ID0gbnVsbFxuICB9XG5cbiAgLy8gVXNlZCBmb3IgdGVzdGluZy5cbiAgZGlzcGF0Y2hFdmVudChldmVudCkge1xuICAgIHJldHVybiBkaXNwYXRjaEV2ZW50KHRoaXMsIGV2ZW50KVxuICB9XG5cbiAgLy8gOjogKFRyYW5zYWN0aW9uKVxuICAvLyBEaXNwYXRjaCBhIHRyYW5zYWN0aW9uLiBXaWxsIGNhbGxcbiAgLy8gW2BkaXNwYXRjaFRyYW5zYWN0aW9uYF0oI3ZpZXcuRGlyZWN0RWRpdG9yUHJvcHMuZGlzcGF0Y2hUcmFuc2FjdGlvbilcbiAgLy8gd2hlbiBnaXZlbiwgYW5kIG90aGVyd2lzZSBkZWZhdWx0cyB0byBhcHBseWluZyB0aGUgdHJhbnNhY3Rpb24gdG9cbiAgLy8gdGhlIGN1cnJlbnQgc3RhdGUgYW5kIGNhbGxpbmdcbiAgLy8gW2B1cGRhdGVTdGF0ZWBdKCN2aWV3LkVkaXRvclZpZXcudXBkYXRlU3RhdGUpIHdpdGggdGhlIHJlc3VsdC5cbiAgLy8gVGhpcyBtZXRob2QgaXMgYm91bmQgdG8gdGhlIHZpZXcgaW5zdGFuY2UsIHNvIHRoYXQgaXQgY2FuIGJlXG4gIC8vIGVhc2lseSBwYXNzZWQgYXJvdW5kLlxuICBkaXNwYXRjaCh0cikge1xuICAgIGxldCBkaXNwYXRjaFRyYW5zYWN0aW9uID0gdGhpcy5fcHJvcHMuZGlzcGF0Y2hUcmFuc2FjdGlvblxuICAgIGlmIChkaXNwYXRjaFRyYW5zYWN0aW9uKSBkaXNwYXRjaFRyYW5zYWN0aW9uLmNhbGwodGhpcywgdHIpXG4gICAgZWxzZSB0aGlzLnVwZGF0ZVN0YXRlKHRoaXMuc3RhdGUuYXBwbHkodHIpKVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVEb2NEZWNvKHZpZXcpIHtcbiAgbGV0IGF0dHJzID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICBhdHRycy5jbGFzcyA9IFwiUHJvc2VNaXJyb3JcIlxuICBhdHRycy5jb250ZW50ZWRpdGFibGUgPSBTdHJpbmcodmlldy5lZGl0YWJsZSlcblxuICB2aWV3LnNvbWVQcm9wKFwiYXR0cmlidXRlc1wiLCB2YWx1ZSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcImZ1bmN0aW9uXCIpIHZhbHVlID0gdmFsdWUodmlldy5zdGF0ZSlcbiAgICBpZiAodmFsdWUpIGZvciAobGV0IGF0dHIgaW4gdmFsdWUpIHtcbiAgICAgIGlmIChhdHRyID09IFwiY2xhc3NcIilcbiAgICAgICAgYXR0cnMuY2xhc3MgKz0gXCIgXCIgKyB2YWx1ZVthdHRyXVxuICAgICAgZWxzZSBpZiAoIWF0dHJzW2F0dHJdICYmIGF0dHIgIT0gXCJjb250ZW50ZWRpdGFibGVcIiAmJiBhdHRyICE9IFwibm9kZU5hbWVcIilcbiAgICAgICAgYXR0cnNbYXR0cl0gPSBTdHJpbmcodmFsdWVbYXR0cl0pXG4gICAgfVxuICB9KVxuXG4gIHJldHVybiBbRGVjb3JhdGlvbi5ub2RlKDAsIHZpZXcuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZSwgYXR0cnMpXVxufVxuXG5mdW5jdGlvbiB1cGRhdGVDdXJzb3JXcmFwcGVyKHZpZXcpIHtcbiAgbGV0IHskaGVhZCwgJGFuY2hvciwgdmlzaWJsZX0gPSB2aWV3LnN0YXRlLnNlbGVjdGlvblxuICBpZiAodmlldy5tYXJrQ3Vyc29yKSB7XG4gICAgbGV0IGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIilcbiAgICBkb20uc2V0QXR0cmlidXRlKFwibWFyay1wbGFjZWhvbGRlclwiLCBcInRydWVcIilcbiAgICB2aWV3LmN1cnNvcldyYXBwZXIgPSB7ZG9tLCBkZWNvOiBEZWNvcmF0aW9uLndpZGdldCgkaGVhZC5wb3MsIGRvbSwge3JhdzogdHJ1ZSwgbWFya3M6IHZpZXcubWFya0N1cnNvcn0pfVxuICB9IGVsc2UgaWYgKHZpc2libGUgfHwgJGhlYWQucG9zICE9ICRhbmNob3IucG9zKSB7XG4gICAgdmlldy5jdXJzb3JXcmFwcGVyID0gbnVsbFxuICB9IGVsc2Uge1xuICAgIGxldCBkb21cbiAgICBpZiAoIXZpZXcuY3Vyc29yV3JhcHBlciB8fCB2aWV3LmN1cnNvcldyYXBwZXIuZG9tLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICBkb20uc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcbiAgICAgIGRvbS5zdHlsZS5sZWZ0ID0gXCItMTAwMDAwcHhcIlxuICAgIH0gZWxzZSBpZiAodmlldy5jdXJzb3JXcmFwcGVyLmRlY28ucG9zICE9ICRoZWFkLnBvcykge1xuICAgICAgZG9tID0gdmlldy5jdXJzb3JXcmFwcGVyLmRvbVxuICAgIH1cbiAgICBpZiAoZG9tKVxuICAgICAgdmlldy5jdXJzb3JXcmFwcGVyID0ge2RvbSwgZGVjbzogRGVjb3JhdGlvbi53aWRnZXQoJGhlYWQucG9zLCBkb20sIHtyYXc6IHRydWV9KX1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRFZGl0YWJsZSh2aWV3KSB7XG4gIHJldHVybiAhdmlldy5zb21lUHJvcChcImVkaXRhYmxlXCIsIHZhbHVlID0+IHZhbHVlKHZpZXcuc3RhdGUpID09PSBmYWxzZSlcbn1cblxuZnVuY3Rpb24gc2VsZWN0aW9uQ29udGV4dENoYW5nZWQoc2VsMSwgc2VsMikge1xuICBsZXQgZGVwdGggPSBNYXRoLm1pbihzZWwxLiRhbmNob3Iuc2hhcmVkRGVwdGgoc2VsMS5oZWFkKSwgc2VsMi4kYW5jaG9yLnNoYXJlZERlcHRoKHNlbDIuaGVhZCkpXG4gIHJldHVybiBzZWwxLiRhbmNob3Iubm9kZShkZXB0aCkgIT0gc2VsMi4kYW5jaG9yLm5vZGUoZGVwdGgpXG59XG5cbmZ1bmN0aW9uIGJ1aWxkTm9kZVZpZXdzKHZpZXcpIHtcbiAgbGV0IHJlc3VsdCA9IHt9XG4gIHZpZXcuc29tZVByb3AoXCJub2RlVmlld3NcIiwgb2JqID0+IHtcbiAgICBmb3IgKGxldCBwcm9wIGluIG9iaikgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBwcm9wKSlcbiAgICAgIHJlc3VsdFtwcm9wXSA9IG9ialtwcm9wXVxuICB9KVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIGNoYW5nZWROb2RlVmlld3MoYSwgYikge1xuICBsZXQgbkEgPSAwLCBuQiA9IDBcbiAgZm9yIChsZXQgcHJvcCBpbiBhKSB7XG4gICAgaWYgKGFbcHJvcF0gIT0gYltwcm9wXSkgcmV0dXJuIHRydWVcbiAgICBuQSsrXG4gIH1cbiAgZm9yIChsZXQgXyBpbiBiKSBuQisrXG4gIHJldHVybiBuQSAhPSBuQlxufVxuXG4vLyBFZGl0b3JQcm9wczo6IGludGVyZmFjZVxuLy9cbi8vIFByb3BzIGFyZSBjb25maWd1cmF0aW9uIHZhbHVlcyB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gYW4gZWRpdG9yIHZpZXdcbi8vIG9yIGluY2x1ZGVkIGluIGEgcGx1Z2luLiBUaGlzIGludGVyZmFjZSBsaXN0cyB0aGUgc3VwcG9ydGVkIHByb3BzLlxuLy9cbi8vIFRoZSB2YXJpb3VzIGV2ZW50LWhhbmRsaW5nIGZ1bmN0aW9ucyBtYXkgYWxsIHJldHVybiBgdHJ1ZWAgdG9cbi8vIGluZGljYXRlIHRoYXQgdGhleSBoYW5kbGVkIHRoZSBnaXZlbiBldmVudC4gVGhlIHZpZXcgd2lsbCB0aGVuIHRha2Vcbi8vIGNhcmUgdG8gY2FsbCBgcHJldmVudERlZmF1bHRgIG9uIHRoZSBldmVudCwgZXhjZXB0IHdpdGhcbi8vIGBoYW5kbGVET01FdmVudHNgLCB3aGVyZSB0aGUgaGFuZGxlciBpdHNlbGYgaXMgcmVzcG9uc2libGUgZm9yIHRoYXQuXG4vL1xuLy8gSG93IGEgcHJvcCBpcyByZXNvbHZlZCBkZXBlbmRzIG9uIHRoZSBwcm9wLiBIYW5kbGVyIGZ1bmN0aW9ucyBhcmVcbi8vIGNhbGxlZCBvbmUgYXQgYSB0aW1lLCBzdGFydGluZyB3aXRoIHRoZSBiYXNlIHByb3BzIGFuZCB0aGVuXG4vLyBzZWFyY2hpbmcgdGhyb3VnaCB0aGUgcGx1Z2lucyAoaW4gb3JkZXIgb2YgYXBwZWFyYW5jZSkgdW50aWwgb25lIG9mXG4vLyB0aGVtIHJldHVybnMgdHJ1ZS4gRm9yIHNvbWUgcHJvcHMsIHRoZSBmaXJzdCBwbHVnaW4gdGhhdCB5aWVsZHMgYVxuLy8gdmFsdWUgZ2V0cyBwcmVjZWRlbmNlLlxuLy9cbi8vICAgaGFuZGxlRE9NRXZlbnRzOjogP09iamVjdDwodmlldzogRWRpdG9yVmlldywgZXZlbnQ6IGRvbS5FdmVudCkg4oaSIGJvb2w+XG4vLyAgIENhbiBiZSBhbiBvYmplY3QgbWFwcGluZyBET00gZXZlbnQgdHlwZSBuYW1lcyB0byBmdW5jdGlvbnMgdGhhdFxuLy8gICBoYW5kbGUgdGhlbS4gU3VjaCBmdW5jdGlvbnMgd2lsbCBiZSBjYWxsZWQgYmVmb3JlIGFueSBoYW5kbGluZ1xuLy8gICBQcm9zZU1pcnJvciBkb2VzIG9mIGV2ZW50cyBmaXJlZCBvbiB0aGUgZWRpdGFibGUgRE9NIGVsZW1lbnQuXG4vLyAgIENvbnRyYXJ5IHRvIHRoZSBvdGhlciBldmVudCBoYW5kbGluZyBwcm9wcywgd2hlbiByZXR1cm5pbmcgdHJ1ZVxuLy8gICBmcm9tIHN1Y2ggYSBmdW5jdGlvbiwgeW91IGFyZSByZXNwb25zaWJsZSBmb3IgY2FsbGluZ1xuLy8gICBgcHJldmVudERlZmF1bHRgIHlvdXJzZWxmIChvciBub3QsIGlmIHlvdSB3YW50IHRvIGFsbG93IHRoZVxuLy8gICBkZWZhdWx0IGJlaGF2aW9yKS5cbi8vXG4vLyAgIGhhbmRsZUtleURvd246OiA/KHZpZXc6IEVkaXRvclZpZXcsIGV2ZW50OiBkb20uS2V5Ym9hcmRFdmVudCkg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIHdoZW4gdGhlIGVkaXRvciByZWNlaXZlcyBhIGBrZXlkb3duYCBldmVudC5cbi8vXG4vLyAgIGhhbmRsZUtleVByZXNzOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBldmVudDogZG9tLktleWJvYXJkRXZlbnQpIOKGkiBib29sXG4vLyAgIEhhbmRsZXIgZm9yIGBrZXlwcmVzc2AgZXZlbnRzLlxuLy9cbi8vICAgaGFuZGxlVGV4dElucHV0OjogPyh2aWV3OiBFZGl0b3JWaWV3LCBmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIsIHRleHQ6IHN0cmluZykg4oaSIGJvb2xcbi8vICAgV2hlbmV2ZXIgdGhlIHVzZXIgZGlyZWN0bHkgaW5wdXQgdGV4dCwgdGhpcyBoYW5kbGVyIGlzIGNhbGxlZFxuLy8gICBiZWZvcmUgdGhlIGlucHV0IGlzIGFwcGxpZWQuIElmIGl0IHJldHVybnMgYHRydWVgLCB0aGUgZGVmYXVsdFxuLy8gICBiZWhhdmlvciBvZiBhY3R1YWxseSBpbnNlcnRpbmcgdGhlIHRleHQgaXMgc3VwcHJlc3NlZC5cbi8vXG4vLyAgIGhhbmRsZUNsaWNrT246OiA/KHZpZXc6IEVkaXRvclZpZXcsIHBvczogbnVtYmVyLCBub2RlOiBOb2RlLCBub2RlUG9zOiBudW1iZXIsIGV2ZW50OiBkb20uTW91c2VFdmVudCwgZGlyZWN0OiBib29sKSDihpIgYm9vbFxuLy8gICBDYWxsZWQgZm9yIGVhY2ggbm9kZSBhcm91bmQgYSBjbGljaywgZnJvbSB0aGUgaW5zaWRlIG91dC4gVGhlXG4vLyAgIGBkaXJlY3RgIGZsYWcgd2lsbCBiZSB0cnVlIGZvciB0aGUgaW5uZXIgbm9kZS5cbi8vXG4vLyAgIGhhbmRsZUNsaWNrOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBwb3M6IG51bWJlciwgZXZlbnQ6IGRvbS5Nb3VzZUV2ZW50KSDihpIgYm9vbFxuLy8gICBDYWxsZWQgd2hlbiB0aGUgZWRpdG9yIGlzIGNsaWNrZWQsIGFmdGVyIGBoYW5kbGVDbGlja09uYCBoYW5kbGVyc1xuLy8gICBoYXZlIGJlZW4gY2FsbGVkLlxuLy9cbi8vICAgaGFuZGxlRG91YmxlQ2xpY2tPbjo6ID8odmlldzogRWRpdG9yVmlldywgcG9zOiBudW1iZXIsIG5vZGU6IE5vZGUsIG5vZGVQb3M6IG51bWJlciwgZXZlbnQ6IGRvbS5Nb3VzZUV2ZW50LCBkaXJlY3Q6IGJvb2wpIOKGkiBib29sXG4vLyAgIENhbGxlZCBmb3IgZWFjaCBub2RlIGFyb3VuZCBhIGRvdWJsZSBjbGljay5cbi8vXG4vLyAgIGhhbmRsZURvdWJsZUNsaWNrOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBwb3M6IG51bWJlciwgZXZlbnQ6IGRvbS5Nb3VzZUV2ZW50KSDihpIgYm9vbFxuLy8gICBDYWxsZWQgd2hlbiB0aGUgZWRpdG9yIGlzIGRvdWJsZS1jbGlja2VkLCBhZnRlciBgaGFuZGxlRG91YmxlQ2xpY2tPbmAuXG4vL1xuLy8gICBoYW5kbGVUcmlwbGVDbGlja09uOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBwb3M6IG51bWJlciwgbm9kZTogTm9kZSwgbm9kZVBvczogbnVtYmVyLCBldmVudDogZG9tLk1vdXNlRXZlbnQsIGRpcmVjdDogYm9vbCkg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIGZvciBlYWNoIG5vZGUgYXJvdW5kIGEgdHJpcGxlIGNsaWNrLlxuLy9cbi8vICAgaGFuZGxlVHJpcGxlQ2xpY2s6OiA/KHZpZXc6IEVkaXRvclZpZXcsIHBvczogbnVtYmVyLCBldmVudDogZG9tLk1vdXNlRXZlbnQpIOKGkiBib29sXG4vLyAgIENhbGxlZCB3aGVuIHRoZSBlZGl0b3IgaXMgdHJpcGxlLWNsaWNrZWQsIGFmdGVyIGBoYW5kbGVUcmlwbGVDbGlja09uYC5cbi8vXG4vLyAgIGhhbmRsZVBhc3RlOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBldmVudDogZG9tLkV2ZW50LCBzbGljZTogU2xpY2UpIOKGkiBib29sXG4vLyAgIENhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIHRoZSBiZWhhdmlvciBvZiBwYXN0aW5nLiBgc2xpY2VgIGlzIHRoZVxuLy8gICBwYXN0ZWQgY29udGVudCBwYXJzZWQgYnkgdGhlIGVkaXRvciwgYnV0IHlvdSBjYW4gZGlyZWN0bHkgYWNjZXNzXG4vLyAgIHRoZSBldmVudCB0byBnZXQgYXQgdGhlIHJhdyBjb250ZW50LlxuLy9cbi8vICAgaGFuZGxlRHJvcDo6ID8odmlldzogRWRpdG9yVmlldywgZXZlbnQ6IGRvbS5FdmVudCwgc2xpY2U6IFNsaWNlLCBtb3ZlZDogYm9vbCkg4oaSIGJvb2xcbi8vICAgQ2FsbGVkIHdoZW4gc29tZXRoaW5nIGlzIGRyb3BwZWQgb24gdGhlIGVkaXRvci4gYG1vdmVkYCB3aWxsIGJlXG4vLyAgIHRydWUgaWYgdGhpcyBkcm9wIG1vdmVzIGZyb20gdGhlIGN1cnJlbnQgc2VsZWN0aW9uICh3aGljaCBzaG91bGRcbi8vICAgdGh1cyBiZSBkZWxldGVkKS5cbi8vXG4vLyAgIGhhbmRsZVNjcm9sbFRvU2VsZWN0aW9uOjogPyh2aWV3OiBFZGl0b3JWaWV3KSDihpIgYm9vbFxuLy8gICBDYWxsZWQgd2hlbiB0aGUgdmlldywgYWZ0ZXIgdXBkYXRpbmcgaXRzIHN0YXRlLCB0cmllcyB0byBzY3JvbGxcbi8vICAgdGhlIHNlbGVjdGlvbiBpbnRvIHZpZXcuIEEgaGFuZGxlciBmdW5jdGlvbiBtYXkgcmV0dXJuIGZhbHNlIHRvXG4vLyAgIGluZGljYXRlIHRoYXQgaXQgZGlkIG5vdCBoYW5kbGUgdGhlIHNjcm9sbGluZyBhbmQgZnVydGhlclxuLy8gICBoYW5kbGVycyBvciB0aGUgZGVmYXVsdCBiZWhhdmlvciBzaG91bGQgYmUgdHJpZWQuXG4vL1xuLy8gICBjcmVhdGVTZWxlY3Rpb25CZXR3ZWVuOjogPyh2aWV3OiBFZGl0b3JWaWV3LCBhbmNob3I6IFJlc29sdmVkUG9zLCBoZWFkOiBSZXNvbHZlZFBvcykg4oaSID9TZWxlY3Rpb25cbi8vICAgQ2FuIGJlIHVzZWQgdG8gb3ZlcnJpZGUgdGhlIHdheSBhIHNlbGVjdGlvbiBpcyBjcmVhdGVkIHdoZW5cbi8vICAgcmVhZGluZyBhIERPTSBzZWxlY3Rpb24gYmV0d2VlbiB0aGUgZ2l2ZW4gYW5jaG9yIGFuZCBoZWFkLlxuLy9cbi8vICAgZG9tUGFyc2VyOjogP0RPTVBhcnNlclxuLy8gICBUaGUgW3BhcnNlcl0oI21vZGVsLkRPTVBhcnNlcikgdG8gdXNlIHdoZW4gcmVhZGluZyBlZGl0b3IgY2hhbmdlc1xuLy8gICBmcm9tIHRoZSBET00uIERlZmF1bHRzIHRvIGNhbGxpbmdcbi8vICAgW2BET01QYXJzZXIuZnJvbVNjaGVtYWBdKCNtb2RlbC5ET01QYXJzZXJeZnJvbVNjaGVtYSkgb24gdGhlXG4vLyAgIGVkaXRvcidzIHNjaGVtYS5cbi8vXG4vLyAgIHRyYW5zZm9ybVBhc3RlZEhUTUw6OiA/KGh0bWw6IHN0cmluZykg4oaSIHN0cmluZ1xuLy8gICBDYW4gYmUgdXNlZCB0byB0cmFuc2Zvcm0gcGFzdGVkIEhUTUwgdGV4dCwgX2JlZm9yZV8gaXQgaXMgcGFyc2VkLFxuLy8gICBmb3IgZXhhbXBsZSB0byBjbGVhbiBpdCB1cC5cbi8vXG4vLyAgIGNsaXBib2FyZFBhcnNlcjo6ID9ET01QYXJzZXJcbi8vICAgVGhlIFtwYXJzZXJdKCNtb2RlbC5ET01QYXJzZXIpIHRvIHVzZSB3aGVuIHJlYWRpbmcgY29udGVudCBmcm9tXG4vLyAgIHRoZSBjbGlwYm9hcmQuIFdoZW4gbm90IGdpdmVuLCB0aGUgdmFsdWUgb2YgdGhlXG4vLyAgIFtgZG9tUGFyc2VyYF0oI3ZpZXcuRWRpdG9yUHJvcHMuZG9tUGFyc2VyKSBwcm9wIGlzIHVzZWQuXG4vL1xuLy8gICB0cmFuc2Zvcm1QYXN0ZWRUZXh0OjogPyh0ZXh0OiBzdHJpbmcpIOKGkiBzdHJpbmdcbi8vICAgVHJhbnNmb3JtIHBhc3RlZCBwbGFpbiB0ZXh0LlxuLy9cbi8vICAgY2xpcGJvYXJkVGV4dFBhcnNlcjo6ID8odGV4dDogc3RyaW5nLCAkY29udGV4dDogUmVzb2x2ZWRQb3MpIOKGkiBTbGljZVxuLy8gICBBIGZ1bmN0aW9uIHRvIHBhcnNlIHRleHQgZnJvbSB0aGUgY2xpcGJvYXJkIGludG8gYSBkb2N1bWVudFxuLy8gICBzbGljZS4gQ2FsbGVkIGFmdGVyXG4vLyAgIFtgdHJhbnNmb3JtUGFzdGVkVGV4dGBdKCN2aWV3LkVkaXRvclByb3BzLnRyYW5zZm9ybVBhc3RlZFRleHQpLlxuLy8gICBUaGUgZGVmYXVsdCBiZWhhdmlvciBpcyB0byBzcGxpdCB0aGUgdGV4dCBpbnRvIGxpbmVzLCB3cmFwIHRoZW1cbi8vICAgaW4gYDxwPmAgdGFncywgYW5kIGNhbGxcbi8vICAgW2BjbGlwYm9hcmRQYXJzZXJgXSgjdmlldy5FZGl0b3JQcm9wcy5jbGlwYm9hcmRQYXJzZXIpIG9uIGl0LlxuLy9cbi8vICAgdHJhbnNmb3JtUGFzdGVkOjogPyhTbGljZSkg4oaSIFNsaWNlXG4vLyAgIENhbiBiZSB1c2VkIHRvIHRyYW5zZm9ybSBwYXN0ZWQgY29udGVudCBiZWZvcmUgaXQgaXMgYXBwbGllZCB0b1xuLy8gICB0aGUgZG9jdW1lbnQuXG4vL1xuLy8gICBub2RlVmlld3M6OiA/T2JqZWN0PChub2RlOiBOb2RlLCB2aWV3OiBFZGl0b3JWaWV3LCBnZXRQb3M6ICgpIOKGkiBudW1iZXIsIGRlY29yYXRpb25zOiBbRGVjb3JhdGlvbl0pIOKGkiBOb2RlVmlldz5cbi8vICAgQWxsb3dzIHlvdSB0byBwYXNzIGN1c3RvbSByZW5kZXJpbmcgYW5kIGJlaGF2aW9yIGxvZ2ljIGZvciBub2Rlc1xuLy8gICBhbmQgbWFya3MuIFNob3VsZCBtYXAgbm9kZSBhbmQgbWFyayBuYW1lcyB0byBjb25zdHJ1Y3RvclxuLy8gICBmdW5jdGlvbnMgdGhhdCBwcm9kdWNlIGEgW2BOb2RlVmlld2BdKCN2aWV3Lk5vZGVWaWV3KSBvYmplY3Rcbi8vICAgaW1wbGVtZW50aW5nIHRoZSBub2RlJ3MgZGlzcGxheSBiZWhhdmlvci4gRm9yIG5vZGVzLCB0aGUgdGhpcmRcbi8vICAgYXJndW1lbnQgYGdldFBvc2AgaXMgYSBmdW5jdGlvbiB0aGF0IGNhbiBiZSBjYWxsZWQgdG8gZ2V0IHRoZVxuLy8gICBub2RlJ3MgY3VycmVudCBwb3NpdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWZ1bCB3aGVuIGNyZWF0aW5nXG4vLyAgIHRyYW5zYWN0aW9ucyB0byB1cGRhdGUgaXQuIEZvciBtYXJrcywgdGhlIHRoaXJkIGFyZ3VtZW50IGlzIGFcbi8vICAgYm9vbGVhbiB0aGF0IGluZGljYXRlcyB3aGV0aGVyIHRoZSBtYXJrJ3MgY29udGVudCBpcyBpbmxpbmUuXG4vL1xuLy8gICBgZGVjb3JhdGlvbnNgIGlzIGFuIGFycmF5IG9mIG5vZGUgb3IgaW5saW5lIGRlY29yYXRpb25zIHRoYXQgYXJlXG4vLyAgIGFjdGl2ZSBhcm91bmQgdGhlIG5vZGUuIFRoZXkgYXJlIGF1dG9tYXRpY2FsbHkgZHJhd24gaW4gdGhlXG4vLyAgIG5vcm1hbCB3YXksIGFuZCB5b3Ugd2lsbCB1c3VhbGx5IGp1c3Qgd2FudCB0byBpZ25vcmUgdGhpcywgYnV0XG4vLyAgIHRoZXkgY2FuIGFsc28gYmUgdXNlZCBhcyBhIHdheSB0byBwcm92aWRlIGNvbnRleHQgaW5mb3JtYXRpb24gdG9cbi8vICAgdGhlIG5vZGUgdmlldyB3aXRob3V0IGFkZGluZyBpdCB0byB0aGUgZG9jdW1lbnQgaXRzZWxmLlxuLy9cbi8vICAgY2xpcGJvYXJkU2VyaWFsaXplcjo6ID9ET01TZXJpYWxpemVyXG4vLyAgIFRoZSBET00gc2VyaWFsaXplciB0byB1c2Ugd2hlbiBwdXR0aW5nIGNvbnRlbnQgb250byB0aGVcbi8vICAgY2xpcGJvYXJkLiBJZiBub3QgZ2l2ZW4sIHRoZSByZXN1bHQgb2Zcbi8vICAgW2BET01TZXJpYWxpemVyLmZyb21TY2hlbWFgXSgjbW9kZWwuRE9NU2VyaWFsaXplcl5mcm9tU2NoZW1hKVxuLy8gICB3aWxsIGJlIHVzZWQuXG4vL1xuLy8gICBjbGlwYm9hcmRUZXh0U2VyaWFsaXplcjo6ID8oU2xpY2UpIOKGkiBzdHJpbmdcbi8vICAgQSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHRvIGdldCB0aGUgdGV4dCBmb3IgdGhlIGN1cnJlbnRcbi8vICAgc2VsZWN0aW9uIHdoZW4gY29weWluZyB0ZXh0IHRvIHRoZSBjbGlwYm9hcmQuIEJ5IGRlZmF1bHQsIHRoZVxuLy8gICBlZGl0b3Igd2lsbCB1c2UgW2B0ZXh0QmV0d2VlbmBdKCNtb2RlbC5Ob2RlLnRleHRCZXR3ZWVuKSBvbiB0aGVcbi8vICAgc2VsZWN0ZWQgcmFuZ2UuXG4vL1xuLy8gICBkZWNvcmF0aW9uczo6ID8oc3RhdGU6IEVkaXRvclN0YXRlKSDihpIgP0RlY29yYXRpb25TZXRcbi8vICAgQSBzZXQgb2YgW2RvY3VtZW50IGRlY29yYXRpb25zXSgjdmlldy5EZWNvcmF0aW9uKSB0byBzaG93IGluIHRoZVxuLy8gICB2aWV3LlxuLy9cbi8vICAgZWRpdGFibGU6OiA/KHN0YXRlOiBFZGl0b3JTdGF0ZSkg4oaSIGJvb2xcbi8vICAgV2hlbiB0aGlzIHJldHVybnMgZmFsc2UsIHRoZSBjb250ZW50IG9mIHRoZSB2aWV3IGlzIG5vdCBkaXJlY3RseVxuLy8gICBlZGl0YWJsZS5cbi8vXG4vLyAgIGF0dHJpYnV0ZXM6OiA/dW5pb248T2JqZWN0PHN0cmluZz4sIChFZGl0b3JTdGF0ZSkg4oaSID9PYmplY3Q8c3RyaW5nPj5cbi8vICAgQ29udHJvbCB0aGUgRE9NIGF0dHJpYnV0ZXMgb2YgdGhlIGVkaXRhYmxlIGVsZW1lbnQuIE1heSBiZSBlaXRoZXJcbi8vICAgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24gZ29pbmcgZnJvbSBhbiBlZGl0b3Igc3RhdGUgdG8gYW4gb2JqZWN0LlxuLy8gICBCeSBkZWZhdWx0LCB0aGUgZWxlbWVudCB3aWxsIGdldCBhIGNsYXNzIGBcIlByb3NlTWlycm9yXCJgLCBhbmRcbi8vICAgd2lsbCBoYXZlIGl0cyBgY29udGVudEVkaXRhYmxlYCBhdHRyaWJ1dGUgZGV0ZXJtaW5lZCBieSB0aGVcbi8vICAgW2BlZGl0YWJsZWAgcHJvcF0oI3ZpZXcuRWRpdG9yUHJvcHMuZWRpdGFibGUpLiBBZGRpdGlvbmFsIGNsYXNzZXNcbi8vICAgcHJvdmlkZWQgaGVyZSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjbGFzcy4gRm9yIG90aGVyIGF0dHJpYnV0ZXMsXG4vLyAgIHRoZSB2YWx1ZSBwcm92aWRlZCBmaXJzdCAoYXMgaW5cbi8vICAgW2Bzb21lUHJvcGBdKCN2aWV3LkVkaXRvclZpZXcuc29tZVByb3ApKSB3aWxsIGJlIHVzZWQuXG4vL1xuLy8gICBzY3JvbGxUaHJlc2hvbGQ6OiA/dW5pb248bnVtYmVyLCB7dG9wOiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCBsZWZ0OiBudW1iZXJ9PlxuLy8gICBEZXRlcm1pbmVzIHRoZSBkaXN0YW5jZSAoaW4gcGl4ZWxzKSBiZXR3ZWVuIHRoZSBjdXJzb3IgYW5kIHRoZVxuLy8gICBlbmQgb2YgdGhlIHZpc2libGUgdmlld3BvcnQgYXQgd2hpY2ggcG9pbnQsIHdoZW4gc2Nyb2xsaW5nIHRoZVxuLy8gICBjdXJzb3IgaW50byB2aWV3LCBzY3JvbGxpbmcgdGFrZXMgcGxhY2UuIERlZmF1bHRzIHRvIDAuXG4vL1xuLy8gICBzY3JvbGxNYXJnaW46OiA/dW5pb248bnVtYmVyLCB7dG9wOiBudW1iZXIsIHJpZ2h0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCBsZWZ0OiBudW1iZXJ9PlxuLy8gICBEZXRlcm1pbmVzIHRoZSBleHRyYSBzcGFjZSAoaW4gcGl4ZWxzKSB0aGF0IGlzIGxlZnQgYWJvdmUgb3Jcbi8vICAgYmVsb3cgdGhlIGN1cnNvciB3aGVuIGl0IGlzIHNjcm9sbGVkIGludG8gdmlldy4gRGVmYXVsdHMgdG8gNS5cblxuLy8gRGlyZWN0RWRpdG9yUHJvcHM6OiBpbnRlcmZhY2UgZXh0ZW5kcyBFZGl0b3JQcm9wc1xuLy9cbi8vIFRoZSBwcm9wcyBvYmplY3QgZ2l2ZW4gZGlyZWN0bHkgdG8gdGhlIGVkaXRvciB2aWV3IHN1cHBvcnRzIHR3b1xuLy8gZmllbGRzIHRoYXQgY2FuJ3QgYmUgdXNlZCBpbiBwbHVnaW5zOlxuLy9cbi8vICAgc3RhdGU6OiBFZGl0b3JTdGF0ZVxuLy8gICBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZWRpdG9yLlxuLy9cbi8vICAgZGlzcGF0Y2hUcmFuc2FjdGlvbjo6ID8odHI6IFRyYW5zYWN0aW9uKVxuLy8gICBUaGUgY2FsbGJhY2sgb3ZlciB3aGljaCB0byBzZW5kIHRyYW5zYWN0aW9ucyAoc3RhdGUgdXBkYXRlcylcbi8vICAgcHJvZHVjZWQgYnkgdGhlIHZpZXcuIElmIHlvdSBzcGVjaWZ5IHRoaXMsIHlvdSBwcm9iYWJseSB3YW50IHRvXG4vLyAgIG1ha2Ugc3VyZSB0aGlzIGVuZHMgdXAgY2FsbGluZyB0aGUgdmlldydzXG4vLyAgIFtgdXBkYXRlU3RhdGVgXSgjdmlldy5FZGl0b3JWaWV3LnVwZGF0ZVN0YXRlKSBtZXRob2Qgd2l0aCBhIG5ld1xuLy8gICBzdGF0ZSB0aGF0IGhhcyB0aGUgdHJhbnNhY3Rpb25cbi8vICAgW2FwcGxpZWRdKCNzdGF0ZS5FZGl0b3JTdGF0ZS5hcHBseSkuIFRoZSBjYWxsYmFjayB3aWxsIGJlIGJvdW5kIHRvIGhhdmVcbi8vICAgdGhlIHZpZXcgaW5zdGFuY2UgYXMgaXRzIGB0aGlzYCBiaW5kaW5nLlxuIiwidmFyIEdPT0RfTEVBRl9TSVpFID0gMjAwO1xuXG4vLyA6OiBjbGFzczxUPiBBIHJvcGUgc2VxdWVuY2UgaXMgYSBwZXJzaXN0ZW50IHNlcXVlbmNlIGRhdGEgc3RydWN0dXJlXG4vLyB0aGF0IHN1cHBvcnRzIGFwcGVuZGluZywgcHJlcGVuZGluZywgYW5kIHNsaWNpbmcgd2l0aG91dCBkb2luZyBhXG4vLyBmdWxsIGNvcHkuIEl0IGlzIHJlcHJlc2VudGVkIGFzIGEgbW9zdGx5LWJhbGFuY2VkIHRyZWUuXG52YXIgUm9wZVNlcXVlbmNlID0gZnVuY3Rpb24gUm9wZVNlcXVlbmNlICgpIHt9O1xuXG5Sb3BlU2VxdWVuY2UucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZCAob3RoZXIpIHtcbiAgaWYgKCFvdGhlci5sZW5ndGgpIHsgcmV0dXJuIHRoaXMgfVxuICBvdGhlciA9IFJvcGVTZXF1ZW5jZS5mcm9tKG90aGVyKTtcblxuICByZXR1cm4gKCF0aGlzLmxlbmd0aCAmJiBvdGhlcikgfHxcbiAgICAob3RoZXIubGVuZ3RoIDwgR09PRF9MRUFGX1NJWkUgJiYgdGhpcy5sZWFmQXBwZW5kKG90aGVyKSkgfHxcbiAgICAodGhpcy5sZW5ndGggPCBHT09EX0xFQUZfU0laRSAmJiBvdGhlci5sZWFmUHJlcGVuZCh0aGlzKSkgfHxcbiAgICB0aGlzLmFwcGVuZElubmVyKG90aGVyKVxufTtcblxuLy8gOjogKHVuaW9uPFtUXSwgUm9wZVNlcXVlbmNlPFQ+Pikg4oaSIFJvcGVTZXF1ZW5jZTxUPlxuLy8gUHJlcGVuZCBhbiBhcnJheSBvciBvdGhlciByb3BlIHRvIHRoaXMgb25lLCByZXR1cm5pbmcgYSBuZXcgcm9wZS5cblJvcGVTZXF1ZW5jZS5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIHByZXBlbmQgKG90aGVyKSB7XG4gIGlmICghb3RoZXIubGVuZ3RoKSB7IHJldHVybiB0aGlzIH1cbiAgcmV0dXJuIFJvcGVTZXF1ZW5jZS5mcm9tKG90aGVyKS5hcHBlbmQodGhpcylcbn07XG5cblJvcGVTZXF1ZW5jZS5wcm90b3R5cGUuYXBwZW5kSW5uZXIgPSBmdW5jdGlvbiBhcHBlbmRJbm5lciAob3RoZXIpIHtcbiAgcmV0dXJuIG5ldyBBcHBlbmQodGhpcywgb3RoZXIpXG59O1xuXG4vLyA6OiAoP251bWJlciwgP251bWJlcikg4oaSIFJvcGVTZXF1ZW5jZTxUPlxuLy8gQ3JlYXRlIGEgcm9wZSByZXBlc2VudGluZyBhIHN1Yi1zZXF1ZW5jZSBvZiB0aGlzIHJvcGUuXG5Sb3BlU2VxdWVuY2UucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKGZyb20sIHRvKSB7XG4gICAgaWYgKCBmcm9tID09PSB2b2lkIDAgKSBmcm9tID0gMDtcbiAgICBpZiAoIHRvID09PSB2b2lkIDAgKSB0byA9IHRoaXMubGVuZ3RoO1xuXG4gIGlmIChmcm9tID49IHRvKSB7IHJldHVybiBSb3BlU2VxdWVuY2UuZW1wdHkgfVxuICByZXR1cm4gdGhpcy5zbGljZUlubmVyKE1hdGgubWF4KDAsIGZyb20pLCBNYXRoLm1pbih0aGlzLmxlbmd0aCwgdG8pKVxufTtcblxuLy8gOjogKG51bWJlcikg4oaSIFRcbi8vIFJldHJpZXZlIHRoZSBlbGVtZW50IGF0IHRoZSBnaXZlbiBwb3NpdGlvbiBmcm9tIHRoaXMgcm9wZS5cblJvcGVTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpKSB7XG4gIGlmIChpIDwgMCB8fCBpID49IHRoaXMubGVuZ3RoKSB7IHJldHVybiB1bmRlZmluZWQgfVxuICByZXR1cm4gdGhpcy5nZXRJbm5lcihpKVxufTtcblxuLy8gOjogKChlbGVtZW50OiBULCBpbmRleDogbnVtYmVyKSDihpIgP2Jvb2wsID9udW1iZXIsID9udW1iZXIpXG4vLyBDYWxsIHRoZSBnaXZlbiBmdW5jdGlvbiBmb3IgZWFjaCBlbGVtZW50IGJldHdlZW4gdGhlIGdpdmVuXG4vLyBpbmRpY2VzLiBUaGlzIHRlbmRzIHRvIGJlIG1vcmUgZWZmaWNpZW50IHRoYW4gbG9vcGluZyBvdmVyIHRoZVxuLy8gaW5kaWNlcyBhbmQgY2FsbGluZyBgZ2V0YCwgYmVjYXVzZSBpdCBkb2Vzbid0IGhhdmUgdG8gZGVzY2VuZCB0aGVcbi8vIHRyZWUgZm9yIGV2ZXJ5IGVsZW1lbnQuXG5Sb3BlU2VxdWVuY2UucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoIChmLCBmcm9tLCB0bykge1xuICAgIGlmICggZnJvbSA9PT0gdm9pZCAwICkgZnJvbSA9IDA7XG4gICAgaWYgKCB0byA9PT0gdm9pZCAwICkgdG8gPSB0aGlzLmxlbmd0aDtcblxuICBpZiAoZnJvbSA8PSB0bylcbiAgICB7IHRoaXMuZm9yRWFjaElubmVyKGYsIGZyb20sIHRvLCAwKTsgfVxuICBlbHNlXG4gICAgeyB0aGlzLmZvckVhY2hJbnZlcnRlZElubmVyKGYsIGZyb20sIHRvLCAwKTsgfVxufTtcblxuLy8gOjogKChlbGVtZW50OiBULCBpbmRleDogbnVtYmVyKSDihpIgVSwgP251bWJlciwgP251bWJlcikg4oaSIFtVXVxuLy8gTWFwIHRoZSBnaXZlbiBmdW5jdGlvbnMgb3ZlciB0aGUgZWxlbWVudHMgb2YgdGhlIHJvcGUsIHByb2R1Y2luZ1xuLy8gYSBmbGF0IGFycmF5LlxuUm9wZVNlcXVlbmNlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKGYsIGZyb20sIHRvKSB7XG4gICAgaWYgKCBmcm9tID09PSB2b2lkIDAgKSBmcm9tID0gMDtcbiAgICBpZiAoIHRvID09PSB2b2lkIDAgKSB0byA9IHRoaXMubGVuZ3RoO1xuXG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbHQsIGkpIHsgcmV0dXJuIHJlc3VsdC5wdXNoKGYoZWx0LCBpKSk7IH0sIGZyb20sIHRvKTtcbiAgcmV0dXJuIHJlc3VsdFxufTtcblxuLy8gOjogKD91bmlvbjxbVF0sIFJvcGVTZXF1ZW5jZTxUPj4pIOKGkiBSb3BlU2VxdWVuY2U8VD5cbi8vIENyZWF0ZSBhIHJvcGUgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiBhcnJheSwgb3IgcmV0dXJuIHRoZSByb3BlXG4vLyBpdHNlbGYgaWYgYSByb3BlIHdhcyBnaXZlbi5cblJvcGVTZXF1ZW5jZS5mcm9tID0gZnVuY3Rpb24gZnJvbSAodmFsdWVzKSB7XG4gIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBSb3BlU2VxdWVuY2UpIHsgcmV0dXJuIHZhbHVlcyB9XG4gIHJldHVybiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aCA/IG5ldyBMZWFmKHZhbHVlcykgOiBSb3BlU2VxdWVuY2UuZW1wdHlcbn07XG5cbnZhciBMZWFmID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUm9wZVNlcXVlbmNlKSB7XG4gIGZ1bmN0aW9uIExlYWYodmFsdWVzKSB7XG4gICAgUm9wZVNlcXVlbmNlLmNhbGwodGhpcyk7XG4gICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gIH1cblxuICBpZiAoIFJvcGVTZXF1ZW5jZSApIExlYWYuX19wcm90b19fID0gUm9wZVNlcXVlbmNlO1xuICBMZWFmLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFJvcGVTZXF1ZW5jZSAmJiBSb3BlU2VxdWVuY2UucHJvdG90eXBlICk7XG4gIExlYWYucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGVhZjtcblxuICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBsZW5ndGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZGVwdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICBMZWFmLnByb3RvdHlwZS5mbGF0dGVuID0gZnVuY3Rpb24gZmxhdHRlbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVzXG4gIH07XG5cbiAgTGVhZi5wcm90b3R5cGUuc2xpY2VJbm5lciA9IGZ1bmN0aW9uIHNsaWNlSW5uZXIgKGZyb20sIHRvKSB7XG4gICAgaWYgKGZyb20gPT0gMCAmJiB0byA9PSB0aGlzLmxlbmd0aCkgeyByZXR1cm4gdGhpcyB9XG4gICAgcmV0dXJuIG5ldyBMZWFmKHRoaXMudmFsdWVzLnNsaWNlKGZyb20sIHRvKSlcbiAgfTtcblxuICBMZWFmLnByb3RvdHlwZS5nZXRJbm5lciA9IGZ1bmN0aW9uIGdldElubmVyIChpKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVzW2ldXG4gIH07XG5cbiAgTGVhZi5wcm90b3R5cGUuZm9yRWFjaElubmVyID0gZnVuY3Rpb24gZm9yRWFjaElubmVyIChmLCBmcm9tLCB0bywgc3RhcnQpIHtcbiAgICBmb3IgKHZhciBpID0gZnJvbTsgaSA8IHRvOyBpKyspXG4gICAgICB7IGlmIChmKHRoaXMudmFsdWVzW2ldLCBzdGFydCArIGkpID09PSBmYWxzZSkgeyByZXR1cm4gZmFsc2UgfSB9XG4gIH07XG5cbiAgTGVhZi5wcm90b3R5cGUuZm9yRWFjaEludmVydGVkSW5uZXIgPSBmdW5jdGlvbiBmb3JFYWNoSW52ZXJ0ZWRJbm5lciAoZiwgZnJvbSwgdG8sIHN0YXJ0KSB7XG4gICAgZm9yICh2YXIgaSA9IGZyb20gLSAxOyBpID49IHRvOyBpLS0pXG4gICAgICB7IGlmIChmKHRoaXMudmFsdWVzW2ldLCBzdGFydCArIGkpID09PSBmYWxzZSkgeyByZXR1cm4gZmFsc2UgfSB9XG4gIH07XG5cbiAgTGVhZi5wcm90b3R5cGUubGVhZkFwcGVuZCA9IGZ1bmN0aW9uIGxlYWZBcHBlbmQgKG90aGVyKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoICsgb3RoZXIubGVuZ3RoIDw9IEdPT0RfTEVBRl9TSVpFKVxuICAgICAgeyByZXR1cm4gbmV3IExlYWYodGhpcy52YWx1ZXMuY29uY2F0KG90aGVyLmZsYXR0ZW4oKSkpIH1cbiAgfTtcblxuICBMZWFmLnByb3RvdHlwZS5sZWFmUHJlcGVuZCA9IGZ1bmN0aW9uIGxlYWZQcmVwZW5kIChvdGhlcikge1xuICAgIGlmICh0aGlzLmxlbmd0aCArIG90aGVyLmxlbmd0aCA8PSBHT09EX0xFQUZfU0laRSlcbiAgICAgIHsgcmV0dXJuIG5ldyBMZWFmKG90aGVyLmZsYXR0ZW4oKS5jb25jYXQodGhpcy52YWx1ZXMpKSB9XG4gIH07XG5cbiAgcHJvdG90eXBlQWNjZXNzb3JzLmxlbmd0aC5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnZhbHVlcy5sZW5ndGggfTtcblxuICBwcm90b3R5cGVBY2Nlc3NvcnMuZGVwdGguZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gMCB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBMZWFmLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgcmV0dXJuIExlYWY7XG59KFJvcGVTZXF1ZW5jZSkpO1xuXG4vLyA6OiBSb3BlU2VxdWVuY2Vcbi8vIFRoZSBlbXB0eSByb3BlIHNlcXVlbmNlLlxuUm9wZVNlcXVlbmNlLmVtcHR5ID0gbmV3IExlYWYoW10pO1xuXG52YXIgQXBwZW5kID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUm9wZVNlcXVlbmNlKSB7XG4gIGZ1bmN0aW9uIEFwcGVuZChsZWZ0LCByaWdodCkge1xuICAgIFJvcGVTZXF1ZW5jZS5jYWxsKHRoaXMpO1xuICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgIHRoaXMubGVuZ3RoID0gbGVmdC5sZW5ndGggKyByaWdodC5sZW5ndGg7XG4gICAgdGhpcy5kZXB0aCA9IE1hdGgubWF4KGxlZnQuZGVwdGgsIHJpZ2h0LmRlcHRoKSArIDE7XG4gIH1cblxuICBpZiAoIFJvcGVTZXF1ZW5jZSApIEFwcGVuZC5fX3Byb3RvX18gPSBSb3BlU2VxdWVuY2U7XG4gIEFwcGVuZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBSb3BlU2VxdWVuY2UgJiYgUm9wZVNlcXVlbmNlLnByb3RvdHlwZSApO1xuICBBcHBlbmQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQXBwZW5kO1xuXG4gIEFwcGVuZC5wcm90b3R5cGUuZmxhdHRlbiA9IGZ1bmN0aW9uIGZsYXR0ZW4gKCkge1xuICAgIHJldHVybiB0aGlzLmxlZnQuZmxhdHRlbigpLmNvbmNhdCh0aGlzLnJpZ2h0LmZsYXR0ZW4oKSlcbiAgfTtcblxuICBBcHBlbmQucHJvdG90eXBlLmdldElubmVyID0gZnVuY3Rpb24gZ2V0SW5uZXIgKGkpIHtcbiAgICByZXR1cm4gaSA8IHRoaXMubGVmdC5sZW5ndGggPyB0aGlzLmxlZnQuZ2V0KGkpIDogdGhpcy5yaWdodC5nZXQoaSAtIHRoaXMubGVmdC5sZW5ndGgpXG4gIH07XG5cbiAgQXBwZW5kLnByb3RvdHlwZS5mb3JFYWNoSW5uZXIgPSBmdW5jdGlvbiBmb3JFYWNoSW5uZXIgKGYsIGZyb20sIHRvLCBzdGFydCkge1xuICAgIHZhciBsZWZ0TGVuID0gdGhpcy5sZWZ0Lmxlbmd0aDtcbiAgICBpZiAoZnJvbSA8IGxlZnRMZW4gJiZcbiAgICAgICAgdGhpcy5sZWZ0LmZvckVhY2hJbm5lcihmLCBmcm9tLCBNYXRoLm1pbih0bywgbGVmdExlbiksIHN0YXJ0KSA9PT0gZmFsc2UpXG4gICAgICB7IHJldHVybiBmYWxzZSB9XG4gICAgaWYgKHRvID4gbGVmdExlbiAmJlxuICAgICAgICB0aGlzLnJpZ2h0LmZvckVhY2hJbm5lcihmLCBNYXRoLm1heChmcm9tIC0gbGVmdExlbiwgMCksIE1hdGgubWluKHRoaXMubGVuZ3RoLCB0bykgLSBsZWZ0TGVuLCBzdGFydCArIGxlZnRMZW4pID09PSBmYWxzZSlcbiAgICAgIHsgcmV0dXJuIGZhbHNlIH1cbiAgfTtcblxuICBBcHBlbmQucHJvdG90eXBlLmZvckVhY2hJbnZlcnRlZElubmVyID0gZnVuY3Rpb24gZm9yRWFjaEludmVydGVkSW5uZXIgKGYsIGZyb20sIHRvLCBzdGFydCkge1xuICAgIHZhciBsZWZ0TGVuID0gdGhpcy5sZWZ0Lmxlbmd0aDtcbiAgICBpZiAoZnJvbSA+IGxlZnRMZW4gJiZcbiAgICAgICAgdGhpcy5yaWdodC5mb3JFYWNoSW52ZXJ0ZWRJbm5lcihmLCBmcm9tIC0gbGVmdExlbiwgTWF0aC5tYXgodG8sIGxlZnRMZW4pIC0gbGVmdExlbiwgc3RhcnQgKyBsZWZ0TGVuKSA9PT0gZmFsc2UpXG4gICAgICB7IHJldHVybiBmYWxzZSB9XG4gICAgaWYgKHRvIDwgbGVmdExlbiAmJlxuICAgICAgICB0aGlzLmxlZnQuZm9yRWFjaEludmVydGVkSW5uZXIoZiwgTWF0aC5taW4oZnJvbSwgbGVmdExlbiksIHRvLCBzdGFydCkgPT09IGZhbHNlKVxuICAgICAgeyByZXR1cm4gZmFsc2UgfVxuICB9O1xuXG4gIEFwcGVuZC5wcm90b3R5cGUuc2xpY2VJbm5lciA9IGZ1bmN0aW9uIHNsaWNlSW5uZXIgKGZyb20sIHRvKSB7XG4gICAgaWYgKGZyb20gPT0gMCAmJiB0byA9PSB0aGlzLmxlbmd0aCkgeyByZXR1cm4gdGhpcyB9XG4gICAgdmFyIGxlZnRMZW4gPSB0aGlzLmxlZnQubGVuZ3RoO1xuICAgIGlmICh0byA8PSBsZWZ0TGVuKSB7IHJldHVybiB0aGlzLmxlZnQuc2xpY2UoZnJvbSwgdG8pIH1cbiAgICBpZiAoZnJvbSA+PSBsZWZ0TGVuKSB7IHJldHVybiB0aGlzLnJpZ2h0LnNsaWNlKGZyb20gLSBsZWZ0TGVuLCB0byAtIGxlZnRMZW4pIH1cbiAgICByZXR1cm4gdGhpcy5sZWZ0LnNsaWNlKGZyb20sIGxlZnRMZW4pLmFwcGVuZCh0aGlzLnJpZ2h0LnNsaWNlKDAsIHRvIC0gbGVmdExlbikpXG4gIH07XG5cbiAgQXBwZW5kLnByb3RvdHlwZS5sZWFmQXBwZW5kID0gZnVuY3Rpb24gbGVhZkFwcGVuZCAob3RoZXIpIHtcbiAgICB2YXIgaW5uZXIgPSB0aGlzLnJpZ2h0LmxlYWZBcHBlbmQob3RoZXIpO1xuICAgIGlmIChpbm5lcikgeyByZXR1cm4gbmV3IEFwcGVuZCh0aGlzLmxlZnQsIGlubmVyKSB9XG4gIH07XG5cbiAgQXBwZW5kLnByb3RvdHlwZS5sZWFmUHJlcGVuZCA9IGZ1bmN0aW9uIGxlYWZQcmVwZW5kIChvdGhlcikge1xuICAgIHZhciBpbm5lciA9IHRoaXMubGVmdC5sZWFmUHJlcGVuZChvdGhlcik7XG4gICAgaWYgKGlubmVyKSB7IHJldHVybiBuZXcgQXBwZW5kKGlubmVyLCB0aGlzLnJpZ2h0KSB9XG4gIH07XG5cbiAgQXBwZW5kLnByb3RvdHlwZS5hcHBlbmRJbm5lciA9IGZ1bmN0aW9uIGFwcGVuZElubmVyIChvdGhlcikge1xuICAgIGlmICh0aGlzLmxlZnQuZGVwdGggPj0gTWF0aC5tYXgodGhpcy5yaWdodC5kZXB0aCwgb3RoZXIuZGVwdGgpICsgMSlcbiAgICAgIHsgcmV0dXJuIG5ldyBBcHBlbmQodGhpcy5sZWZ0LCBuZXcgQXBwZW5kKHRoaXMucmlnaHQsIG90aGVyKSkgfVxuICAgIHJldHVybiBuZXcgQXBwZW5kKHRoaXMsIG90aGVyKVxuICB9O1xuXG4gIHJldHVybiBBcHBlbmQ7XG59KFJvcGVTZXF1ZW5jZSkpO1xuXG52YXIgcm9wZVNlcXVlbmNlID0gUm9wZVNlcXVlbmNlO1xuXG5leHBvcnQgZGVmYXVsdCByb3BlU2VxdWVuY2U7XG4iLCJpbXBvcnQgUm9wZVNlcXVlbmNlIGZyb20gXCJyb3BlLXNlcXVlbmNlXCJcbmltcG9ydCB7TWFwcGluZ30gZnJvbSBcInByb3NlbWlycm9yLXRyYW5zZm9ybVwiXG5pbXBvcnQge1BsdWdpbiwgUGx1Z2luS2V5fSBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIlxuXG4vLyBQcm9zZU1pcnJvcidzIGhpc3RvcnkgaXNuJ3Qgc2ltcGx5IGEgd2F5IHRvIHJvbGwgYmFjayB0byBhIHByZXZpb3VzXG4vLyBzdGF0ZSwgYmVjYXVzZSBQcm9zZU1pcnJvciBzdXBwb3J0cyBhcHBseWluZyBjaGFuZ2VzIHdpdGhvdXQgYWRkaW5nXG4vLyB0aGVtIHRvIHRoZSBoaXN0b3J5IChmb3IgZXhhbXBsZSBkdXJpbmcgY29sbGFib3JhdGlvbikuXG4vL1xuLy8gVG8gdGhpcyBlbmQsIGVhY2ggJ0JyYW5jaCcgKG9uZSBmb3IgdGhlIHVuZG8gaGlzdG9yeSBhbmQgb25lIGZvclxuLy8gdGhlIHJlZG8gaGlzdG9yeSkga2VlcHMgYW4gYXJyYXkgb2YgJ0l0ZW1zJywgd2hpY2ggY2FuIG9wdGlvbmFsbHlcbi8vIGhvbGQgYSBzdGVwIChhbiBhY3R1YWwgdW5kb2FibGUgY2hhbmdlKSwgYW5kIGFsd2F5cyBob2xkIGEgcG9zaXRpb25cbi8vIG1hcCAod2hpY2ggaXMgbmVlZGVkIHRvIG1vdmUgY2hhbmdlcyBiZWxvdyB0aGVtIHRvIGFwcGx5IHRvIHRoZVxuLy8gY3VycmVudCBkb2N1bWVudCkuXG4vL1xuLy8gQW4gaXRlbSB0aGF0IGhhcyBib3RoIGEgc3RlcCBhbmQgYSBzZWxlY3Rpb24gYm9va21hcmsgaXMgdGhlIHN0YXJ0XG4vLyBvZiBhbiAnZXZlbnQnIOKAlCBhIGdyb3VwIG9mIGNoYW5nZXMgdGhhdCB3aWxsIGJlIHVuZG9uZSBvciByZWRvbmUgYXRcbi8vIG9uY2UuIChJdCBzdG9yZXMgb25seSB0aGUgYm9va21hcmssIHNpbmNlIHRoYXQgd2F5IHdlIGRvbid0IGhhdmUgdG9cbi8vIHByb3ZpZGUgYSBkb2N1bWVudCB1bnRpbCB0aGUgc2VsZWN0aW9uIGlzIGFjdHVhbGx5IGFwcGxpZWQsIHdoaWNoXG4vLyBpcyB1c2VmdWwgd2hlbiBjb21wcmVzc2luZy4pXG5cbi8vIFVzZWQgdG8gc2NoZWR1bGUgaGlzdG9yeSBjb21wcmVzc2lvblxuY29uc3QgbWF4X2VtcHR5X2l0ZW1zID0gNTAwXG5cbmNsYXNzIEJyYW5jaCB7XG4gIGNvbnN0cnVjdG9yKGl0ZW1zLCBldmVudENvdW50KSB7XG4gICAgdGhpcy5pdGVtcyA9IGl0ZW1zXG4gICAgdGhpcy5ldmVudENvdW50ID0gZXZlbnRDb3VudFxuICB9XG5cbiAgLy8gOiAoRWRpdG9yU3RhdGUsIGJvb2wpIOKGkiA/e3RyYW5zZm9ybTogVHJhbnNmb3JtLCBzZWxlY3Rpb246ID9TZWxlY3Rpb25Cb29rbWFyaywgcmVtYWluaW5nOiBCcmFuY2h9XG4gIC8vIFBvcCB0aGUgbGF0ZXN0IGV2ZW50IG9mZiB0aGUgYnJhbmNoJ3MgaGlzdG9yeSBhbmQgYXBwbHkgaXRcbiAgLy8gdG8gYSBkb2N1bWVudCB0cmFuc2Zvcm0uXG4gIHBvcEV2ZW50KHN0YXRlLCBwcmVzZXJ2ZUl0ZW1zKSB7XG4gICAgaWYgKHRoaXMuZXZlbnRDb3VudCA9PSAwKSByZXR1cm4gbnVsbFxuXG4gICAgbGV0IGVuZCA9IHRoaXMuaXRlbXMubGVuZ3RoXG4gICAgZm9yICg7OyBlbmQtLSkge1xuICAgICAgbGV0IG5leHQgPSB0aGlzLml0ZW1zLmdldChlbmQgLSAxKVxuICAgICAgaWYgKG5leHQuc2VsZWN0aW9uKSB7IC0tZW5kOyBicmVhayB9XG4gICAgfVxuXG4gICAgbGV0IHJlbWFwLCBtYXBGcm9tXG4gICAgaWYgKHByZXNlcnZlSXRlbXMpIHtcbiAgICAgIHJlbWFwID0gdGhpcy5yZW1hcHBpbmcoZW5kLCB0aGlzLml0ZW1zLmxlbmd0aClcbiAgICAgIG1hcEZyb20gPSByZW1hcC5tYXBzLmxlbmd0aFxuICAgIH1cbiAgICBsZXQgdHJhbnNmb3JtID0gc3RhdGUudHJcbiAgICBsZXQgc2VsZWN0aW9uLCByZW1haW5pbmdcbiAgICBsZXQgYWRkQWZ0ZXIgPSBbXSwgYWRkQmVmb3JlID0gW11cblxuICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xuICAgICAgaWYgKCFpdGVtLnN0ZXApIHtcbiAgICAgICAgaWYgKCFyZW1hcCkge1xuICAgICAgICAgIHJlbWFwID0gdGhpcy5yZW1hcHBpbmcoZW5kLCBpICsgMSlcbiAgICAgICAgICBtYXBGcm9tID0gcmVtYXAubWFwcy5sZW5ndGhcbiAgICAgICAgfVxuICAgICAgICBtYXBGcm9tLS1cbiAgICAgICAgYWRkQmVmb3JlLnB1c2goaXRlbSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChyZW1hcCkge1xuICAgICAgICBhZGRCZWZvcmUucHVzaChuZXcgSXRlbShpdGVtLm1hcCkpXG4gICAgICAgIGxldCBzdGVwID0gaXRlbS5zdGVwLm1hcChyZW1hcC5zbGljZShtYXBGcm9tKSksIG1hcFxuXG4gICAgICAgIGlmIChzdGVwICYmIHRyYW5zZm9ybS5tYXliZVN0ZXAoc3RlcCkuZG9jKSB7XG4gICAgICAgICAgbWFwID0gdHJhbnNmb3JtLm1hcHBpbmcubWFwc1t0cmFuc2Zvcm0ubWFwcGluZy5tYXBzLmxlbmd0aCAtIDFdXG4gICAgICAgICAgYWRkQWZ0ZXIucHVzaChuZXcgSXRlbShtYXAsIG51bGwsIG51bGwsIGFkZEFmdGVyLmxlbmd0aCArIGFkZEJlZm9yZS5sZW5ndGgpKVxuICAgICAgICB9XG4gICAgICAgIG1hcEZyb20tLVxuICAgICAgICBpZiAobWFwKSByZW1hcC5hcHBlbmRNYXAobWFwLCBtYXBGcm9tKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNmb3JtLm1heWJlU3RlcChpdGVtLnN0ZXApXG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLnNlbGVjdGlvbikge1xuICAgICAgICBzZWxlY3Rpb24gPSByZW1hcCA/IGl0ZW0uc2VsZWN0aW9uLm1hcChyZW1hcC5zbGljZShtYXBGcm9tKSkgOiBpdGVtLnNlbGVjdGlvblxuICAgICAgICByZW1haW5pbmcgPSBuZXcgQnJhbmNoKHRoaXMuaXRlbXMuc2xpY2UoMCwgZW5kKS5hcHBlbmQoYWRkQmVmb3JlLnJldmVyc2UoKS5jb25jYXQoYWRkQWZ0ZXIpKSwgdGhpcy5ldmVudENvdW50IC0gMSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSwgdGhpcy5pdGVtcy5sZW5ndGgsIDApXG5cbiAgICByZXR1cm4ge3JlbWFpbmluZywgdHJhbnNmb3JtLCBzZWxlY3Rpb259XG4gIH1cblxuICAvLyA6IChUcmFuc2Zvcm0sID9TZWxlY3Rpb25Cb29rbWFyaywgT2JqZWN0KSDihpIgQnJhbmNoXG4gIC8vIENyZWF0ZSBhIG5ldyBicmFuY2ggd2l0aCB0aGUgZ2l2ZW4gdHJhbnNmb3JtIGFkZGVkLlxuICBhZGRUcmFuc2Zvcm0odHJhbnNmb3JtLCBzZWxlY3Rpb24sIGhpc3RPcHRpb25zLCBwcmVzZXJ2ZUl0ZW1zKSB7XG4gICAgbGV0IG5ld0l0ZW1zID0gW10sIGV2ZW50Q291bnQgPSB0aGlzLmV2ZW50Q291bnRcbiAgICBsZXQgb2xkSXRlbXMgPSB0aGlzLml0ZW1zLCBsYXN0SXRlbSA9ICFwcmVzZXJ2ZUl0ZW1zICYmIG9sZEl0ZW1zLmxlbmd0aCA/IG9sZEl0ZW1zLmdldChvbGRJdGVtcy5sZW5ndGggLSAxKSA6IG51bGxcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhbnNmb3JtLnN0ZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgc3RlcCA9IHRyYW5zZm9ybS5zdGVwc1tpXS5pbnZlcnQodHJhbnNmb3JtLmRvY3NbaV0pXG4gICAgICBsZXQgaXRlbSA9IG5ldyBJdGVtKHRyYW5zZm9ybS5tYXBwaW5nLm1hcHNbaV0sIHN0ZXAsIHNlbGVjdGlvbiksIG1lcmdlZFxuICAgICAgaWYgKG1lcmdlZCA9IGxhc3RJdGVtICYmIGxhc3RJdGVtLm1lcmdlKGl0ZW0pKSB7XG4gICAgICAgIGl0ZW0gPSBtZXJnZWRcbiAgICAgICAgaWYgKGkpIG5ld0l0ZW1zLnBvcCgpXG4gICAgICAgIGVsc2Ugb2xkSXRlbXMgPSBvbGRJdGVtcy5zbGljZSgwLCBvbGRJdGVtcy5sZW5ndGggLSAxKVxuICAgICAgfVxuICAgICAgbmV3SXRlbXMucHVzaChpdGVtKVxuICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICBldmVudENvdW50KytcbiAgICAgICAgc2VsZWN0aW9uID0gbnVsbFxuICAgICAgfVxuICAgICAgaWYgKCFwcmVzZXJ2ZUl0ZW1zKSBsYXN0SXRlbSA9IGl0ZW1cbiAgICB9XG4gICAgbGV0IG92ZXJmbG93ID0gZXZlbnRDb3VudCAtIGhpc3RPcHRpb25zLmRlcHRoXG4gICAgaWYgKG92ZXJmbG93ID4gREVQVEhfT1ZFUkZMT1cpIHtcbiAgICAgIG9sZEl0ZW1zID0gY3V0T2ZmRXZlbnRzKG9sZEl0ZW1zLCBvdmVyZmxvdylcbiAgICAgIGV2ZW50Q291bnQgLT0gb3ZlcmZsb3dcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCcmFuY2gob2xkSXRlbXMuYXBwZW5kKG5ld0l0ZW1zKSwgZXZlbnRDb3VudClcbiAgfVxuXG4gIHJlbWFwcGluZyhmcm9tLCB0bykge1xuICAgIGxldCBtYXBzID0gbmV3IE1hcHBpbmdcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcbiAgICAgIGxldCBtaXJyb3JQb3MgPSBpdGVtLm1pcnJvck9mZnNldCAhPSBudWxsICYmIGkgLSBpdGVtLm1pcnJvck9mZnNldCA+PSBmcm9tXG4gICAgICAgICAgPyBtYXBzLm1hcHMubGVuZ3RoIC0gaXRlbS5taXJyb3JPZmZzZXQgOiBudWxsXG4gICAgICBtYXBzLmFwcGVuZE1hcChpdGVtLm1hcCwgbWlycm9yUG9zKVxuICAgIH0sIGZyb20sIHRvKVxuICAgIHJldHVybiBtYXBzXG4gIH1cblxuICBhZGRNYXBzKGFycmF5KSB7XG4gICAgaWYgKHRoaXMuZXZlbnRDb3VudCA9PSAwKSByZXR1cm4gdGhpc1xuICAgIHJldHVybiBuZXcgQnJhbmNoKHRoaXMuaXRlbXMuYXBwZW5kKGFycmF5Lm1hcChtYXAgPT4gbmV3IEl0ZW0obWFwKSkpLCB0aGlzLmV2ZW50Q291bnQpXG4gIH1cblxuICAvLyA6IChUcmFuc2Zvcm0sIG51bWJlcilcbiAgLy8gV2hlbiB0aGUgY29sbGFiIG1vZHVsZSByZWNlaXZlcyByZW1vdGUgY2hhbmdlcywgdGhlIGhpc3RvcnkgaGFzXG4gIC8vIHRvIGtub3cgYWJvdXQgdGhvc2UsIHNvIHRoYXQgaXQgY2FuIGFkanVzdCB0aGUgc3RlcHMgdGhhdCB3ZXJlXG4gIC8vIHJlYmFzZWQgb24gdG9wIG9mIHRoZSByZW1vdGUgY2hhbmdlcywgYW5kIGluY2x1ZGUgdGhlIHBvc2l0aW9uXG4gIC8vIG1hcHMgZm9yIHRoZSByZW1vdGUgY2hhbmdlcyBpbiBpdHMgYXJyYXkgb2YgaXRlbXMuXG4gIHJlYmFzZWQocmViYXNlZFRyYW5zZm9ybSwgcmViYXNlZENvdW50KSB7XG4gICAgaWYgKCF0aGlzLmV2ZW50Q291bnQpIHJldHVybiB0aGlzXG5cbiAgICBsZXQgcmViYXNlZEl0ZW1zID0gW10sIHN0YXJ0ID0gTWF0aC5tYXgoMCwgdGhpcy5pdGVtcy5sZW5ndGggLSByZWJhc2VkQ291bnQpXG5cbiAgICBsZXQgbWFwcGluZyA9IHJlYmFzZWRUcmFuc2Zvcm0ubWFwcGluZ1xuICAgIGxldCBuZXdVbnRpbCA9IHJlYmFzZWRUcmFuc2Zvcm0uc3RlcHMubGVuZ3RoXG4gICAgbGV0IGV2ZW50Q291bnQgPSB0aGlzLmV2ZW50Q291bnRcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB7IGlmIChpdGVtLnNlbGVjdGlvbikgZXZlbnRDb3VudC0tIH0sIHN0YXJ0KVxuXG4gICAgbGV0IGlSZWJhc2VkID0gcmViYXNlZENvdW50XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgbGV0IHBvcyA9IG1hcHBpbmcuZ2V0TWlycm9yKC0taVJlYmFzZWQpXG4gICAgICBpZiAocG9zID09IG51bGwpIHJldHVyblxuICAgICAgbmV3VW50aWwgPSBNYXRoLm1pbihuZXdVbnRpbCwgcG9zKVxuICAgICAgbGV0IG1hcCA9IG1hcHBpbmcubWFwc1twb3NdXG4gICAgICBpZiAoaXRlbS5zdGVwKSB7XG4gICAgICAgIGxldCBzdGVwID0gcmViYXNlZFRyYW5zZm9ybS5zdGVwc1twb3NdLmludmVydChyZWJhc2VkVHJhbnNmb3JtLmRvY3NbcG9zXSlcbiAgICAgICAgbGV0IHNlbGVjdGlvbiA9IGl0ZW0uc2VsZWN0aW9uICYmIGl0ZW0uc2VsZWN0aW9uLm1hcChtYXBwaW5nLnNsaWNlKGlSZWJhc2VkICsgMSwgcG9zKSlcbiAgICAgICAgaWYgKHNlbGVjdGlvbikgZXZlbnRDb3VudCsrXG4gICAgICAgIHJlYmFzZWRJdGVtcy5wdXNoKG5ldyBJdGVtKG1hcCwgc3RlcCwgc2VsZWN0aW9uKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlYmFzZWRJdGVtcy5wdXNoKG5ldyBJdGVtKG1hcCkpXG4gICAgICB9XG4gICAgfSwgc3RhcnQpXG5cbiAgICBsZXQgbmV3TWFwcyA9IFtdXG4gICAgZm9yIChsZXQgaSA9IHJlYmFzZWRDb3VudDsgaSA8IG5ld1VudGlsOyBpKyspXG4gICAgICBuZXdNYXBzLnB1c2gobmV3IEl0ZW0obWFwcGluZy5tYXBzW2ldKSlcbiAgICBsZXQgaXRlbXMgPSB0aGlzLml0ZW1zLnNsaWNlKDAsIHN0YXJ0KS5hcHBlbmQobmV3TWFwcykuYXBwZW5kKHJlYmFzZWRJdGVtcylcbiAgICBsZXQgYnJhbmNoID0gbmV3IEJyYW5jaChpdGVtcywgZXZlbnRDb3VudClcblxuICAgIGlmIChicmFuY2guZW1wdHlJdGVtQ291bnQoKSA+IG1heF9lbXB0eV9pdGVtcylcbiAgICAgIGJyYW5jaCA9IGJyYW5jaC5jb21wcmVzcyh0aGlzLml0ZW1zLmxlbmd0aCAtIHJlYmFzZWRJdGVtcy5sZW5ndGgpXG4gICAgcmV0dXJuIGJyYW5jaFxuICB9XG5cbiAgZW1wdHlJdGVtQ291bnQoKSB7XG4gICAgbGV0IGNvdW50ID0gMFxuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpdGVtID0+IHsgaWYgKCFpdGVtLnN0ZXApIGNvdW50KysgfSlcbiAgICByZXR1cm4gY291bnRcbiAgfVxuXG4gIC8vIENvbXByZXNzaW5nIGEgYnJhbmNoIG1lYW5zIHJld3JpdGluZyBpdCB0byBwdXNoIHRoZSBhaXIgKG1hcC1vbmx5XG4gIC8vIGl0ZW1zKSBvdXQuIER1cmluZyBjb2xsYWJvcmF0aW9uLCB0aGVzZSBuYXR1cmFsbHkgYWNjdW11bGF0ZVxuICAvLyBiZWNhdXNlIGVhY2ggcmVtb3RlIGNoYW5nZSBhZGRzIG9uZS4gVGhlIGB1cHRvYCBhcmd1bWVudCBpcyB1c2VkXG4gIC8vIHRvIGVuc3VyZSB0aGF0IG9ubHkgdGhlIGl0ZW1zIGJlbG93IGEgZ2l2ZW4gbGV2ZWwgYXJlIGNvbXByZXNzZWQsXG4gIC8vIGJlY2F1c2UgYHJlYmFzZWRgIHJlbGllcyBvbiBhIGNsZWFuLCB1bnRvdWNoZWQgc2V0IG9mIGl0ZW1zIGluXG4gIC8vIG9yZGVyIHRvIGFzc29jaWF0ZSBvbGQgaXRlbXMgd2l0aCByZWJhc2VkIHN0ZXBzLlxuICBjb21wcmVzcyh1cHRvID0gdGhpcy5pdGVtcy5sZW5ndGgpIHtcbiAgICBsZXQgcmVtYXAgPSB0aGlzLnJlbWFwcGluZygwLCB1cHRvKSwgbWFwRnJvbSA9IHJlbWFwLm1hcHMubGVuZ3RoXG4gICAgbGV0IGl0ZW1zID0gW10sIGV2ZW50cyA9IDBcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcbiAgICAgIGlmIChpID49IHVwdG8pIHtcbiAgICAgICAgaXRlbXMucHVzaChpdGVtKVxuICAgICAgICBpZiAoaXRlbS5zZWxlY3Rpb24pIGV2ZW50cysrXG4gICAgICB9IGVsc2UgaWYgKGl0ZW0uc3RlcCkge1xuICAgICAgICBsZXQgc3RlcCA9IGl0ZW0uc3RlcC5tYXAocmVtYXAuc2xpY2UobWFwRnJvbSkpLCBtYXAgPSBzdGVwICYmIHN0ZXAuZ2V0TWFwKClcbiAgICAgICAgbWFwRnJvbS0tXG4gICAgICAgIGlmIChtYXApIHJlbWFwLmFwcGVuZE1hcChtYXAsIG1hcEZyb20pXG4gICAgICAgIGlmIChzdGVwKSB7XG4gICAgICAgICAgbGV0IHNlbGVjdGlvbiA9IGl0ZW0uc2VsZWN0aW9uICYmIGl0ZW0uc2VsZWN0aW9uLm1hcChyZW1hcC5zbGljZShtYXBGcm9tKSlcbiAgICAgICAgICBpZiAoc2VsZWN0aW9uKSBldmVudHMrK1xuICAgICAgICAgIGxldCBuZXdJdGVtID0gbmV3IEl0ZW0obWFwLmludmVydCgpLCBzdGVwLCBzZWxlY3Rpb24pLCBtZXJnZWQsIGxhc3QgPSBpdGVtcy5sZW5ndGggLSAxXG4gICAgICAgICAgaWYgKG1lcmdlZCA9IGl0ZW1zLmxlbmd0aCAmJiBpdGVtc1tsYXN0XS5tZXJnZShuZXdJdGVtKSlcbiAgICAgICAgICAgIGl0ZW1zW2xhc3RdID0gbWVyZ2VkXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgaXRlbXMucHVzaChuZXdJdGVtKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGl0ZW0ubWFwKSB7XG4gICAgICAgIG1hcEZyb20tLVxuICAgICAgfVxuICAgIH0sIHRoaXMuaXRlbXMubGVuZ3RoLCAwKVxuICAgIHJldHVybiBuZXcgQnJhbmNoKFJvcGVTZXF1ZW5jZS5mcm9tKGl0ZW1zLnJldmVyc2UoKSksIGV2ZW50cylcbiAgfVxufVxuXG5CcmFuY2guZW1wdHkgPSBuZXcgQnJhbmNoKFJvcGVTZXF1ZW5jZS5lbXB0eSwgMClcblxuZnVuY3Rpb24gY3V0T2ZmRXZlbnRzKGl0ZW1zLCBuKSB7XG4gIGxldCBjdXRQb2ludFxuICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgaWYgKGl0ZW0uc2VsZWN0aW9uICYmIChuLS0gPT0gMCkpIHtcbiAgICAgIGN1dFBvaW50ID0gaVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9KVxuICByZXR1cm4gaXRlbXMuc2xpY2UoY3V0UG9pbnQpXG59XG5cbmNsYXNzIEl0ZW0ge1xuICBjb25zdHJ1Y3RvcihtYXAsIHN0ZXAsIHNlbGVjdGlvbiwgbWlycm9yT2Zmc2V0KSB7XG4gICAgLy8gVGhlIChmb3J3YXJkKSBzdGVwIG1hcCBmb3IgdGhpcyBpdGVtLlxuICAgIHRoaXMubWFwID0gbWFwXG4gICAgLy8gVGhlIGludmVydGVkIHN0ZXBcbiAgICB0aGlzLnN0ZXAgPSBzdGVwXG4gICAgLy8gSWYgdGhpcyBpcyBub24tbnVsbCwgdGhpcyBpdGVtIGlzIHRoZSBzdGFydCBvZiBhIGdyb3VwLCBhbmRcbiAgICAvLyB0aGlzIHNlbGVjdGlvbiBpcyB0aGUgc3RhcnRpbmcgc2VsZWN0aW9uIGZvciB0aGUgZ3JvdXAgKHRoZSBvbmVcbiAgICAvLyB0aGF0IHdhcyBhY3RpdmUgYmVmb3JlIHRoZSBmaXJzdCBzdGVwIHdhcyBhcHBsaWVkKVxuICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uXG4gICAgLy8gSWYgdGhpcyBpdGVtIGlzIHRoZSBpbnZlcnNlIG9mIGEgcHJldmlvdXMgbWFwcGluZyBvbiB0aGUgc3RhY2ssXG4gICAgLy8gdGhpcyBwb2ludHMgYXQgdGhlIGludmVyc2UncyBvZmZzZXRcbiAgICB0aGlzLm1pcnJvck9mZnNldCA9IG1pcnJvck9mZnNldFxuICB9XG5cbiAgbWVyZ2Uob3RoZXIpIHtcbiAgICBpZiAodGhpcy5zdGVwICYmIG90aGVyLnN0ZXAgJiYgIW90aGVyLnNlbGVjdGlvbikge1xuICAgICAgbGV0IHN0ZXAgPSBvdGhlci5zdGVwLm1lcmdlKHRoaXMuc3RlcClcbiAgICAgIGlmIChzdGVwKSByZXR1cm4gbmV3IEl0ZW0oc3RlcC5nZXRNYXAoKS5pbnZlcnQoKSwgc3RlcCwgdGhpcy5zZWxlY3Rpb24pXG4gICAgfVxuICB9XG59XG5cbi8vIFRoZSB2YWx1ZSBvZiB0aGUgc3RhdGUgZmllbGQgdGhhdCB0cmFja3MgdW5kby9yZWRvIGhpc3RvcnkgZm9yIHRoYXRcbi8vIHN0YXRlLiBXaWxsIGJlIHN0b3JlZCBpbiB0aGUgcGx1Z2luIHN0YXRlIHdoZW4gdGhlIGhpc3RvcnkgcGx1Z2luXG4vLyBpcyBhY3RpdmUuXG5leHBvcnQgY2xhc3MgSGlzdG9yeVN0YXRlIHtcbiAgY29uc3RydWN0b3IoZG9uZSwgdW5kb25lLCBwcmV2UmFuZ2VzLCBwcmV2VGltZSkge1xuICAgIHRoaXMuZG9uZSA9IGRvbmVcbiAgICB0aGlzLnVuZG9uZSA9IHVuZG9uZVxuICAgIHRoaXMucHJldlJhbmdlcyA9IHByZXZSYW5nZXNcbiAgICB0aGlzLnByZXZUaW1lID0gcHJldlRpbWVcbiAgfVxufVxuXG5jb25zdCBERVBUSF9PVkVSRkxPVyA9IDIwXG5cbi8vIDogKEhpc3RvcnlTdGF0ZSwgRWRpdG9yU3RhdGUsIFRyYW5zYWN0aW9uLCBPYmplY3QpXG4vLyBSZWNvcmQgYSB0cmFuc2Zvcm1hdGlvbiBpbiB1bmRvIGhpc3RvcnkuXG5mdW5jdGlvbiBhcHBseVRyYW5zYWN0aW9uKGhpc3RvcnksIHN0YXRlLCB0ciwgb3B0aW9ucykge1xuICBsZXQgaGlzdG9yeVRyID0gdHIuZ2V0TWV0YShoaXN0b3J5S2V5KSwgcmViYXNlZFxuICBpZiAoaGlzdG9yeVRyKSByZXR1cm4gaGlzdG9yeVRyLmhpc3RvcnlTdGF0ZVxuXG4gIGlmICh0ci5nZXRNZXRhKGNsb3NlSGlzdG9yeUtleSkpIGhpc3RvcnkgPSBuZXcgSGlzdG9yeVN0YXRlKGhpc3RvcnkuZG9uZSwgaGlzdG9yeS51bmRvbmUsIG51bGwsIDApXG5cbiAgbGV0IGFwcGVuZGVkID0gdHIuZ2V0TWV0YShcImFwcGVuZGVkVHJhbnNhY3Rpb25cIilcblxuICBpZiAodHIuc3RlcHMubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm4gaGlzdG9yeVxuICB9IGVsc2UgaWYgKGFwcGVuZGVkICYmIGFwcGVuZGVkLmdldE1ldGEoaGlzdG9yeUtleSkpIHtcbiAgICBpZiAoYXBwZW5kZWQuZ2V0TWV0YShoaXN0b3J5S2V5KS5yZWRvKVxuICAgICAgcmV0dXJuIG5ldyBIaXN0b3J5U3RhdGUoaGlzdG9yeS5kb25lLmFkZFRyYW5zZm9ybSh0ciwgbnVsbCwgb3B0aW9ucywgbXVzdFByZXNlcnZlSXRlbXMoc3RhdGUpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkudW5kb25lLCByYW5nZXNGb3IodHIubWFwcGluZy5tYXBzW3RyLnN0ZXBzLmxlbmd0aCAtIDFdKSwgaGlzdG9yeS5wcmV2VGltZSlcbiAgICBlbHNlXG4gICAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShoaXN0b3J5LmRvbmUsIGhpc3RvcnkudW5kb25lLmFkZFRyYW5zZm9ybSh0ciwgbnVsbCwgb3B0aW9ucywgbXVzdFByZXNlcnZlSXRlbXMoc3RhdGUpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsIGhpc3RvcnkucHJldlRpbWUpXG4gIH0gZWxzZSBpZiAodHIuZ2V0TWV0YShcImFkZFRvSGlzdG9yeVwiKSAhPT0gZmFsc2UgJiYgIShhcHBlbmRlZCAmJiBhcHBlbmRlZC5nZXRNZXRhKFwiYWRkVG9IaXN0b3J5XCIpID09PSBmYWxzZSkpIHtcbiAgICAvLyBHcm91cCB0cmFuc2Zvcm1zIHRoYXQgb2NjdXIgaW4gcXVpY2sgc3VjY2Vzc2lvbiBpbnRvIG9uZSBldmVudC5cbiAgICBsZXQgbmV3R3JvdXAgPSBoaXN0b3J5LnByZXZUaW1lID09IDAgfHwgIWFwcGVuZGVkICYmIChoaXN0b3J5LnByZXZUaW1lIDwgKHRyLnRpbWUgfHwgMCkgLSBvcHRpb25zLm5ld0dyb3VwRGVsYXkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNBZGphY2VudFRvKHRyLCBoaXN0b3J5LnByZXZSYW5nZXMpKVxuICAgIGxldCBwcmV2UmFuZ2VzID0gYXBwZW5kZWQgPyBtYXBSYW5nZXMoaGlzdG9yeS5wcmV2UmFuZ2VzLCB0ci5tYXBwaW5nKSA6IHJhbmdlc0Zvcih0ci5tYXBwaW5nLm1hcHNbdHIuc3RlcHMubGVuZ3RoIC0gMV0pXG4gICAgcmV0dXJuIG5ldyBIaXN0b3J5U3RhdGUoaGlzdG9yeS5kb25lLmFkZFRyYW5zZm9ybSh0ciwgbmV3R3JvdXAgPyBzdGF0ZS5zZWxlY3Rpb24uZ2V0Qm9va21hcmsoKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLCBtdXN0UHJlc2VydmVJdGVtcyhzdGF0ZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJyYW5jaC5lbXB0eSwgcHJldlJhbmdlcywgdHIudGltZSlcbiAgfSBlbHNlIGlmIChyZWJhc2VkID0gdHIuZ2V0TWV0YShcInJlYmFzZWRcIikpIHtcbiAgICAvLyBVc2VkIGJ5IHRoZSBjb2xsYWIgbW9kdWxlIHRvIHRlbGwgdGhlIGhpc3RvcnkgdGhhdCBzb21lIG9mIGl0c1xuICAgIC8vIGNvbnRlbnQgaGFzIGJlZW4gcmViYXNlZC5cbiAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShoaXN0b3J5LmRvbmUucmViYXNlZCh0ciwgcmViYXNlZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS51bmRvbmUucmViYXNlZCh0ciwgcmViYXNlZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwUmFuZ2VzKGhpc3RvcnkucHJldlJhbmdlcywgdHIubWFwcGluZyksIGhpc3RvcnkucHJldlRpbWUpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBIaXN0b3J5U3RhdGUoaGlzdG9yeS5kb25lLmFkZE1hcHModHIubWFwcGluZy5tYXBzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LnVuZG9uZS5hZGRNYXBzKHRyLm1hcHBpbmcubWFwcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwUmFuZ2VzKGhpc3RvcnkucHJldlJhbmdlcywgdHIubWFwcGluZyksIGhpc3RvcnkucHJldlRpbWUpXG4gIH1cbn1cblxuZnVuY3Rpb24gaXNBZGphY2VudFRvKHRyYW5zZm9ybSwgcHJldlJhbmdlcykge1xuICBpZiAoIXByZXZSYW5nZXMpIHJldHVybiBmYWxzZVxuICBpZiAoIXRyYW5zZm9ybS5kb2NDaGFuZ2VkKSByZXR1cm4gdHJ1ZVxuICBsZXQgYWRqYWNlbnQgPSBmYWxzZVxuICB0cmFuc2Zvcm0ubWFwcGluZy5tYXBzWzBdLmZvckVhY2goKHN0YXJ0LCBlbmQpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZSYW5nZXMubGVuZ3RoOyBpICs9IDIpXG4gICAgICBpZiAoc3RhcnQgPD0gcHJldlJhbmdlc1tpICsgMV0gJiYgZW5kID49IHByZXZSYW5nZXNbaV0pXG4gICAgICAgIGFkamFjZW50ID0gdHJ1ZVxuICB9KVxuICByZXR1cm4gYWRqYWNlbnRcbn1cblxuZnVuY3Rpb24gcmFuZ2VzRm9yKG1hcCkge1xuICBsZXQgcmVzdWx0ID0gW11cbiAgbWFwLmZvckVhY2goKF9mcm9tLCBfdG8sIGZyb20sIHRvKSA9PiByZXN1bHQucHVzaChmcm9tLCB0bykpXG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gbWFwUmFuZ2VzKHJhbmdlcywgbWFwcGluZykge1xuICBpZiAoIXJhbmdlcykgcmV0dXJuIG51bGxcbiAgbGV0IHJlc3VsdCA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgbGV0IGZyb20gPSBtYXBwaW5nLm1hcChyYW5nZXNbaV0sIDEpLCB0byA9IG1hcHBpbmcubWFwKHJhbmdlc1tpICsgMV0sIC0xKVxuICAgIGlmIChmcm9tIDw9IHRvKSByZXN1bHQucHVzaChmcm9tLCB0bylcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cbi8vIDogKEhpc3RvcnlTdGF0ZSwgRWRpdG9yU3RhdGUsICh0cjogVHJhbnNhY3Rpb24pLCBib29sKVxuLy8gQXBwbHkgdGhlIGxhdGVzdCBldmVudCBmcm9tIG9uZSBicmFuY2ggdG8gdGhlIGRvY3VtZW50IGFuZCBzaGlmdCB0aGUgZXZlbnRcbi8vIG9udG8gdGhlIG90aGVyIGJyYW5jaC5cbmZ1bmN0aW9uIGhpc3RUcmFuc2FjdGlvbihoaXN0b3J5LCBzdGF0ZSwgZGlzcGF0Y2gsIHJlZG8pIHtcbiAgbGV0IHByZXNlcnZlSXRlbXMgPSBtdXN0UHJlc2VydmVJdGVtcyhzdGF0ZSksIGhpc3RPcHRpb25zID0gaGlzdG9yeUtleS5nZXQoc3RhdGUpLnNwZWMuY29uZmlnXG4gIGxldCBwb3AgPSAocmVkbyA/IGhpc3RvcnkudW5kb25lIDogaGlzdG9yeS5kb25lKS5wb3BFdmVudChzdGF0ZSwgcHJlc2VydmVJdGVtcylcbiAgaWYgKCFwb3ApIHJldHVyblxuXG4gIGxldCBzZWxlY3Rpb24gPSBwb3Auc2VsZWN0aW9uLnJlc29sdmUocG9wLnRyYW5zZm9ybS5kb2MpXG4gIGxldCBhZGRlZCA9IChyZWRvID8gaGlzdG9yeS5kb25lIDogaGlzdG9yeS51bmRvbmUpLmFkZFRyYW5zZm9ybShwb3AudHJhbnNmb3JtLCBzdGF0ZS5zZWxlY3Rpb24uZ2V0Qm9va21hcmsoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RPcHRpb25zLCBwcmVzZXJ2ZUl0ZW1zKVxuXG4gIGxldCBuZXdIaXN0ID0gbmV3IEhpc3RvcnlTdGF0ZShyZWRvID8gYWRkZWQgOiBwb3AucmVtYWluaW5nLCByZWRvID8gcG9wLnJlbWFpbmluZyA6IGFkZGVkLCBudWxsLCAwKVxuICBkaXNwYXRjaChwb3AudHJhbnNmb3JtLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pLnNldE1ldGEoaGlzdG9yeUtleSwge3JlZG8sIGhpc3RvcnlTdGF0ZTogbmV3SGlzdH0pLnNjcm9sbEludG9WaWV3KCkpXG59XG5cbmxldCBjYWNoZWRQcmVzZXJ2ZUl0ZW1zID0gZmFsc2UsIGNhY2hlZFByZXNlcnZlSXRlbXNQbHVnaW5zID0gbnVsbFxuLy8gQ2hlY2sgd2hldGhlciBhbnkgcGx1Z2luIGluIHRoZSBnaXZlbiBzdGF0ZSBoYXMgYVxuLy8gYGhpc3RvcnlQcmVzZXJ2ZUl0ZW1zYCBwcm9wZXJ0eSBpbiBpdHMgc3BlYywgaW4gd2hpY2ggY2FzZSB3ZSBtdXN0XG4vLyBwcmVzZXJ2ZSBzdGVwcyBleGFjdGx5IGFzIHRoZXkgY2FtZSBpbiwgc28gdGhhdCB0aGV5IGNhbiBiZVxuLy8gcmViYXNlZC5cbmZ1bmN0aW9uIG11c3RQcmVzZXJ2ZUl0ZW1zKHN0YXRlKSB7XG4gIGxldCBwbHVnaW5zID0gc3RhdGUucGx1Z2luc1xuICBpZiAoY2FjaGVkUHJlc2VydmVJdGVtc1BsdWdpbnMgIT0gcGx1Z2lucykge1xuICAgIGNhY2hlZFByZXNlcnZlSXRlbXMgPSBmYWxzZVxuICAgIGNhY2hlZFByZXNlcnZlSXRlbXNQbHVnaW5zID0gcGx1Z2luc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGx1Z2lucy5sZW5ndGg7IGkrKykgaWYgKHBsdWdpbnNbaV0uc3BlYy5oaXN0b3J5UHJlc2VydmVJdGVtcykge1xuICAgICAgY2FjaGVkUHJlc2VydmVJdGVtcyA9IHRydWVcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIHJldHVybiBjYWNoZWRQcmVzZXJ2ZUl0ZW1zXG59XG5cbi8vIDo6IChUcmFuc2FjdGlvbikg4oaSIFRyYW5zYWN0aW9uXG4vLyBTZXQgYSBmbGFnIG9uIHRoZSBnaXZlbiB0cmFuc2FjdGlvbiB0aGF0IHdpbGwgcHJldmVudCBmdXJ0aGVyIHN0ZXBzXG4vLyBmcm9tIGJlaW5nIGFwcGVuZGVkIHRvIGFuIGV4aXN0aW5nIGhpc3RvcnkgZXZlbnQgKHNvIHRoYXQgdGhleVxuLy8gcmVxdWlyZSBhIHNlcGFyYXRlIHVuZG8gY29tbWFuZCB0byB1bmRvKS5cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZUhpc3RvcnkodHIpIHtcbiAgcmV0dXJuIHRyLnNldE1ldGEoY2xvc2VIaXN0b3J5S2V5LCB0cnVlKVxufVxuXG5jb25zdCBoaXN0b3J5S2V5ID0gbmV3IFBsdWdpbktleShcImhpc3RvcnlcIilcbmNvbnN0IGNsb3NlSGlzdG9yeUtleSA9IG5ldyBQbHVnaW5LZXkoXCJjbG9zZUhpc3RvcnlcIilcblxuLy8gOjogKD9PYmplY3QpIOKGkiBQbHVnaW5cbi8vIFJldHVybnMgYSBwbHVnaW4gdGhhdCBlbmFibGVzIHRoZSB1bmRvIGhpc3RvcnkgZm9yIGFuIGVkaXRvci4gVGhlXG4vLyBwbHVnaW4gd2lsbCB0cmFjayB1bmRvIGFuZCByZWRvIHN0YWNrcywgd2hpY2ggY2FuIGJlIHVzZWQgd2l0aCB0aGVcbi8vIFtgdW5kb2BdKCNoaXN0b3J5LnVuZG8pIGFuZCBbYHJlZG9gXSgjaGlzdG9yeS5yZWRvKSBjb21tYW5kcy5cbi8vXG4vLyBZb3UgY2FuIHNldCBhbiBgXCJhZGRUb0hpc3RvcnlcImAgW21ldGFkYXRhXG4vLyBwcm9wZXJ0eV0oI3N0YXRlLlRyYW5zYWN0aW9uLnNldE1ldGEpIG9mIGBmYWxzZWAgb24gYSB0cmFuc2FjdGlvblxuLy8gdG8gcHJldmVudCBpdCBmcm9tIGJlaW5nIHJvbGxlZCBiYWNrIGJ5IHVuZG8uXG4vL1xuLy8gICBjb25maWc6Oi1cbi8vICAgU3VwcG9ydHMgdGhlIGZvbGxvd2luZyBjb25maWd1cmF0aW9uIG9wdGlvbnM6XG4vL1xuLy8gICAgIGRlcHRoOjogP251bWJlclxuLy8gICAgIFRoZSBhbW91bnQgb2YgaGlzdG9yeSBldmVudHMgdGhhdCBhcmUgY29sbGVjdGVkIGJlZm9yZSB0aGVcbi8vICAgICBvbGRlc3QgZXZlbnRzIGFyZSBkaXNjYXJkZWQuIERlZmF1bHRzIHRvIDEwMC5cbi8vXG4vLyAgICAgbmV3R3JvdXBEZWxheTo6ID9udW1iZXJcbi8vICAgICBUaGUgZGVsYXkgYmV0d2VlbiBjaGFuZ2VzIGFmdGVyIHdoaWNoIGEgbmV3IGdyb3VwIHNob3VsZCBiZVxuLy8gICAgIHN0YXJ0ZWQuIERlZmF1bHRzIHRvIDUwMCAobWlsbGlzZWNvbmRzKS4gTm90ZSB0aGF0IHdoZW4gY2hhbmdlc1xuLy8gICAgIGFyZW4ndCBhZGphY2VudCwgYSBuZXcgZ3JvdXAgaXMgYWx3YXlzIHN0YXJ0ZWQuXG5leHBvcnQgZnVuY3Rpb24gaGlzdG9yeShjb25maWcpIHtcbiAgY29uZmlnID0ge2RlcHRoOiBjb25maWcgJiYgY29uZmlnLmRlcHRoIHx8IDEwMCxcbiAgICAgICAgICAgIG5ld0dyb3VwRGVsYXk6IGNvbmZpZyAmJiBjb25maWcubmV3R3JvdXBEZWxheSB8fCA1MDB9XG4gIHJldHVybiBuZXcgUGx1Z2luKHtcbiAgICBrZXk6IGhpc3RvcnlLZXksXG5cbiAgICBzdGF0ZToge1xuICAgICAgaW5pdCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIaXN0b3J5U3RhdGUoQnJhbmNoLmVtcHR5LCBCcmFuY2guZW1wdHksIG51bGwsIDApXG4gICAgICB9LFxuICAgICAgYXBwbHkodHIsIGhpc3QsIHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBhcHBseVRyYW5zYWN0aW9uKGhpc3QsIHN0YXRlLCB0ciwgY29uZmlnKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBjb25maWdcbiAgfSlcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBBIGNvbW1hbmQgZnVuY3Rpb24gdGhhdCB1bmRvZXMgdGhlIGxhc3QgY2hhbmdlLCBpZiBhbnkuXG5leHBvcnQgZnVuY3Rpb24gdW5kbyhzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgbGV0IGhpc3QgPSBoaXN0b3J5S2V5LmdldFN0YXRlKHN0YXRlKVxuICBpZiAoIWhpc3QgfHwgaGlzdC5kb25lLmV2ZW50Q291bnQgPT0gMCkgcmV0dXJuIGZhbHNlXG4gIGlmIChkaXNwYXRjaCkgaGlzdFRyYW5zYWN0aW9uKGhpc3QsIHN0YXRlLCBkaXNwYXRjaCwgZmFsc2UpXG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gQSBjb21tYW5kIGZ1bmN0aW9uIHRoYXQgcmVkb2VzIHRoZSBsYXN0IHVuZG9uZSBjaGFuZ2UsIGlmIGFueS5cbmV4cG9ydCBmdW5jdGlvbiByZWRvKHN0YXRlLCBkaXNwYXRjaCkge1xuICBsZXQgaGlzdCA9IGhpc3RvcnlLZXkuZ2V0U3RhdGUoc3RhdGUpXG4gIGlmICghaGlzdCB8fCBoaXN0LnVuZG9uZS5ldmVudENvdW50ID09IDApIHJldHVybiBmYWxzZVxuICBpZiAoZGlzcGF0Y2gpIGhpc3RUcmFuc2FjdGlvbihoaXN0LCBzdGF0ZSwgZGlzcGF0Y2gsIHRydWUpXG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSkg4oaSIG51bWJlclxuLy8gVGhlIGFtb3VudCBvZiB1bmRvYWJsZSBldmVudHMgYXZhaWxhYmxlIGluIGEgZ2l2ZW4gc3RhdGUuXG5leHBvcnQgZnVuY3Rpb24gdW5kb0RlcHRoKHN0YXRlKSB7XG4gIGxldCBoaXN0ID0gaGlzdG9yeUtleS5nZXRTdGF0ZShzdGF0ZSlcbiAgcmV0dXJuIGhpc3QgPyBoaXN0LmRvbmUuZXZlbnRDb3VudCA6IDBcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlKSDihpIgbnVtYmVyXG4vLyBUaGUgYW1vdW50IG9mIHJlZG9hYmxlIGV2ZW50cyBhdmFpbGFibGUgaW4gYSBnaXZlbiBlZGl0b3Igc3RhdGUuXG5leHBvcnQgZnVuY3Rpb24gcmVkb0RlcHRoKHN0YXRlKSB7XG4gIGxldCBoaXN0ID0gaGlzdG9yeUtleS5nZXRTdGF0ZShzdGF0ZSlcbiAgcmV0dXJuIGhpc3QgPyBoaXN0LnVuZG9uZS5ldmVudENvdW50IDogMFxufVxuIiwiaW1wb3J0IHtQbHVnaW59IGZyb20gXCJwcm9zZW1pcnJvci1zdGF0ZVwiXG5cbi8vIDo6LSBJbnB1dCBydWxlcyBhcmUgcmVndWxhciBleHByZXNzaW9ucyBkZXNjcmliaW5nIGEgcGllY2Ugb2YgdGV4dFxuLy8gdGhhdCwgd2hlbiB0eXBlZCwgY2F1c2VzIHNvbWV0aGluZyB0byBoYXBwZW4uIFRoaXMgbWlnaHQgYmVcbi8vIGNoYW5naW5nIHR3byBkYXNoZXMgaW50byBhbiBlbWRhc2gsIHdyYXBwaW5nIGEgcGFyYWdyYXBoIHN0YXJ0aW5nXG4vLyB3aXRoIGBcIj4gXCJgIGludG8gYSBibG9ja3F1b3RlLCBvciBzb21ldGhpbmcgZW50aXJlbHkgZGlmZmVyZW50LlxuZXhwb3J0IGNsYXNzIElucHV0UnVsZSB7XG4gIC8vIDo6IChSZWdFeHAsIHVuaW9uPHN0cmluZywgKHN0YXRlOiBFZGl0b3JTdGF0ZSwgbWF0Y2g6IFtzdHJpbmddLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikg4oaSID9UcmFuc2FjdGlvbj4pXG4gIC8vIENyZWF0ZSBhbiBpbnB1dCBydWxlLiBUaGUgcnVsZSBhcHBsaWVzIHdoZW4gdGhlIHVzZXIgdHlwZWRcbiAgLy8gc29tZXRoaW5nIGFuZCB0aGUgdGV4dCBkaXJlY3RseSBpbiBmcm9udCBvZiB0aGUgY3Vyc29yIG1hdGNoZXNcbiAgLy8gYG1hdGNoYCwgd2hpY2ggc2hvdWxkIHByb2JhYmx5IGVuZCB3aXRoIGAkYC5cbiAgLy9cbiAgLy8gVGhlIGBoYW5kbGVyYCBjYW4gYmUgYSBzdHJpbmcsIGluIHdoaWNoIGNhc2UgdGhlIG1hdGNoZWQgdGV4dCwgb3JcbiAgLy8gdGhlIGZpcnN0IG1hdGNoZWQgZ3JvdXAgaW4gdGhlIHJlZ2V4cCwgaXMgcmVwbGFjZWQgYnkgdGhhdFxuICAvLyBzdHJpbmcuXG4gIC8vXG4gIC8vIE9yIGEgaXQgY2FuIGJlIGEgZnVuY3Rpb24sIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIG1hdGNoXG4gIC8vIGFycmF5IHByb2R1Y2VkIGJ5XG4gIC8vIFtgUmVnRXhwLmV4ZWNgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9SZWdFeHAvZXhlYyksXG4gIC8vIGFzIHdlbGwgYXMgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIG1hdGNoZWQgcmFuZ2UsIGFuZCB3aGljaCBjYW5cbiAgLy8gcmV0dXJuIGEgW3RyYW5zYWN0aW9uXSgjc3RhdGUuVHJhbnNhY3Rpb24pIHRoYXQgZGVzY3JpYmVzIHRoZVxuICAvLyBydWxlJ3MgZWZmZWN0LCBvciBudWxsIHRvIGluZGljYXRlIHRoZSBpbnB1dCB3YXMgbm90IGhhbmRsZWQuXG4gIGNvbnN0cnVjdG9yKG1hdGNoLCBoYW5kbGVyKSB7XG4gICAgdGhpcy5tYXRjaCA9IG1hdGNoXG4gICAgdGhpcy5oYW5kbGVyID0gdHlwZW9mIGhhbmRsZXIgPT0gXCJzdHJpbmdcIiA/IHN0cmluZ0hhbmRsZXIoaGFuZGxlcikgOiBoYW5kbGVyXG4gIH1cbn1cblxuZnVuY3Rpb24gc3RyaW5nSGFuZGxlcihzdHJpbmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlLCBtYXRjaCwgc3RhcnQsIGVuZCkge1xuICAgIGxldCBpbnNlcnQgPSBzdHJpbmdcbiAgICBpZiAobWF0Y2hbMV0pIHtcbiAgICAgIGxldCBvZmZzZXQgPSBtYXRjaFswXS5sYXN0SW5kZXhPZihtYXRjaFsxXSlcbiAgICAgIGluc2VydCArPSBtYXRjaFswXS5zbGljZShvZmZzZXQgKyBtYXRjaFsxXS5sZW5ndGgpXG4gICAgICBzdGFydCArPSBvZmZzZXRcbiAgICAgIGxldCBjdXRPZmYgPSBzdGFydCAtIGVuZFxuICAgICAgaWYgKGN1dE9mZiA+IDApIHtcbiAgICAgICAgaW5zZXJ0ID0gbWF0Y2hbMF0uc2xpY2Uob2Zmc2V0IC0gY3V0T2ZmLCBvZmZzZXQpICsgaW5zZXJ0XG4gICAgICAgIHN0YXJ0ID0gZW5kXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZS50ci5pbnNlcnRUZXh0KGluc2VydCwgc3RhcnQsIGVuZClcbiAgfVxufVxuXG5jb25zdCBNQVhfTUFUQ0ggPSA1MDBcblxuLy8gOjogKGNvbmZpZzoge3J1bGVzOiBbSW5wdXRSdWxlXX0pIOKGkiBQbHVnaW5cbi8vIENyZWF0ZSBhbiBpbnB1dCBydWxlcyBwbHVnaW4uIFdoZW4gZW5hYmxlZCwgaXQgd2lsbCBjYXVzZSB0ZXh0XG4vLyBpbnB1dCB0aGF0IG1hdGNoZXMgYW55IG9mIHRoZSBnaXZlbiBydWxlcyB0byB0cmlnZ2VyIHRoZSBydWxlJ3Ncbi8vIGFjdGlvbi5cbmV4cG9ydCBmdW5jdGlvbiBpbnB1dFJ1bGVzKHtydWxlc30pIHtcbiAgbGV0IHBsdWdpbiA9IG5ldyBQbHVnaW4oe1xuICAgIHN0YXRlOiB7XG4gICAgICBpbml0KCkgeyByZXR1cm4gbnVsbCB9LFxuICAgICAgYXBwbHkodHIsIHByZXYpIHtcbiAgICAgICAgbGV0IHN0b3JlZCA9IHRyLmdldE1ldGEodGhpcylcbiAgICAgICAgaWYgKHN0b3JlZCkgcmV0dXJuIHN0b3JlZFxuICAgICAgICByZXR1cm4gdHIuc2VsZWN0aW9uU2V0IHx8IHRyLmRvY0NoYW5nZWQgPyBudWxsIDogcHJldlxuICAgICAgfVxuICAgIH0sXG5cbiAgICBwcm9wczoge1xuICAgICAgaGFuZGxlVGV4dElucHV0KHZpZXcsIGZyb20sIHRvLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBydW4odmlldywgZnJvbSwgdG8sIHRleHQsIHJ1bGVzLCBwbHVnaW4pXG4gICAgICB9LFxuICAgICAgaGFuZGxlRE9NRXZlbnRzOiB7XG4gICAgICAgIGNvbXBvc2l0aW9uZW5kOiAodmlldykgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHskY3Vyc29yfSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uXG4gICAgICAgICAgICBpZiAoJGN1cnNvcikgcnVuKHZpZXcsICRjdXJzb3IucG9zLCAkY3Vyc29yLnBvcywgXCJcIiwgcnVsZXMsIHBsdWdpbilcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGlzSW5wdXRSdWxlczogdHJ1ZVxuICB9KVxuICByZXR1cm4gcGx1Z2luXG59XG5cbmZ1bmN0aW9uIHJ1bih2aWV3LCBmcm9tLCB0bywgdGV4dCwgcnVsZXMsIHBsdWdpbikge1xuICBpZiAodmlldy5jb21wb3NpbmcpIHJldHVybiBmYWxzZVxuICBsZXQgc3RhdGUgPSB2aWV3LnN0YXRlLCAkZnJvbSA9IHN0YXRlLmRvYy5yZXNvbHZlKGZyb20pXG4gIGlmICgkZnJvbS5wYXJlbnQudHlwZS5zcGVjLmNvZGUpIHJldHVybiBmYWxzZVxuICBsZXQgdGV4dEJlZm9yZSA9ICRmcm9tLnBhcmVudC50ZXh0QmV0d2VlbihNYXRoLm1heCgwLCAkZnJvbS5wYXJlbnRPZmZzZXQgLSBNQVhfTUFUQ0gpLCAkZnJvbS5wYXJlbnRPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsIFwiXFx1ZmZmY1wiKSArIHRleHRcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBtYXRjaCA9IHJ1bGVzW2ldLm1hdGNoLmV4ZWModGV4dEJlZm9yZSlcbiAgICBsZXQgdHIgPSBtYXRjaCAmJiBydWxlc1tpXS5oYW5kbGVyKHN0YXRlLCBtYXRjaCwgZnJvbSAtIChtYXRjaFswXS5sZW5ndGggLSB0ZXh0Lmxlbmd0aCksIHRvKVxuICAgIGlmICghdHIpIGNvbnRpbnVlXG4gICAgdmlldy5kaXNwYXRjaCh0ci5zZXRNZXRhKHBsdWdpbiwge3RyYW5zZm9ybTogdHIsIGZyb20sIHRvLCB0ZXh0fSkpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIFRoaXMgaXMgYSBjb21tYW5kIHRoYXQgd2lsbCB1bmRvIGFuIGlucHV0IHJ1bGUsIGlmIGFwcGx5aW5nIHN1Y2ggYVxuLy8gcnVsZSB3YXMgdGhlIGxhc3QgdGhpbmcgdGhhdCB0aGUgdXNlciBkaWQuXG5leHBvcnQgZnVuY3Rpb24gdW5kb0lucHV0UnVsZShzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgbGV0IHBsdWdpbnMgPSBzdGF0ZS5wbHVnaW5zXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBwbHVnaW4gPSBwbHVnaW5zW2ldLCB1bmRvYWJsZVxuICAgIGlmIChwbHVnaW4uc3BlYy5pc0lucHV0UnVsZXMgJiYgKHVuZG9hYmxlID0gcGx1Z2luLmdldFN0YXRlKHN0YXRlKSkpIHtcbiAgICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgICBsZXQgdHIgPSBzdGF0ZS50ciwgdG9VbmRvID0gdW5kb2FibGUudHJhbnNmb3JtXG4gICAgICAgIGZvciAobGV0IGogPSB0b1VuZG8uc3RlcHMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pXG4gICAgICAgICAgdHIuc3RlcCh0b1VuZG8uc3RlcHNbal0uaW52ZXJ0KHRvVW5kby5kb2NzW2pdKSlcbiAgICAgICAgbGV0IG1hcmtzID0gdHIuZG9jLnJlc29sdmUodW5kb2FibGUuZnJvbSkubWFya3MoKVxuICAgICAgICBkaXNwYXRjaCh0ci5yZXBsYWNlV2l0aCh1bmRvYWJsZS5mcm9tLCB1bmRvYWJsZS50bywgc3RhdGUuc2NoZW1hLnRleHQodW5kb2FibGUudGV4dCwgbWFya3MpKSlcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuIiwiaW1wb3J0IHtJbnB1dFJ1bGV9IGZyb20gXCIuL2lucHV0cnVsZXNcIlxuXG4vLyA6OiBJbnB1dFJ1bGUgQ29udmVydHMgZG91YmxlIGRhc2hlcyB0byBhbiBlbWRhc2guXG5leHBvcnQgY29uc3QgZW1EYXNoID0gbmV3IElucHV0UnVsZSgvLS0kLywgXCLigJRcIilcbi8vIDo6IElucHV0UnVsZSBDb252ZXJ0cyB0aHJlZSBkb3RzIHRvIGFuIGVsbGlwc2lzIGNoYXJhY3Rlci5cbmV4cG9ydCBjb25zdCBlbGxpcHNpcyA9IG5ldyBJbnB1dFJ1bGUoL1xcLlxcLlxcLiQvLCBcIuKAplwiKVxuLy8gOjogSW5wdXRSdWxlIOKAnFNtYXJ04oCdIG9wZW5pbmcgZG91YmxlIHF1b3Rlcy5cbmV4cG9ydCBjb25zdCBvcGVuRG91YmxlUXVvdGUgPSBuZXcgSW5wdXRSdWxlKC8oPzpefFtcXHNcXHtcXFtcXChcXDwnXCJcXHUyMDE4XFx1MjAxQ10pKFwiKSQvLCBcIuKAnFwiKVxuLy8gOjogSW5wdXRSdWxlIOKAnFNtYXJ04oCdIGNsb3NpbmcgZG91YmxlIHF1b3Rlcy5cbmV4cG9ydCBjb25zdCBjbG9zZURvdWJsZVF1b3RlID0gbmV3IElucHV0UnVsZSgvXCIkLywgXCLigJ1cIilcbi8vIDo6IElucHV0UnVsZSDigJxTbWFydOKAnSBvcGVuaW5nIHNpbmdsZSBxdW90ZXMuXG5leHBvcnQgY29uc3Qgb3BlblNpbmdsZVF1b3RlID0gbmV3IElucHV0UnVsZSgvKD86XnxbXFxzXFx7XFxbXFwoXFw8J1wiXFx1MjAxOFxcdTIwMUNdKSgnKSQvLCBcIuKAmFwiKVxuLy8gOjogSW5wdXRSdWxlIOKAnFNtYXJ04oCdIGNsb3Npbmcgc2luZ2xlIHF1b3Rlcy5cbmV4cG9ydCBjb25zdCBjbG9zZVNpbmdsZVF1b3RlID0gbmV3IElucHV0UnVsZSgvJyQvLCBcIuKAmVwiKVxuXG4vLyA6OiBbSW5wdXRSdWxlXSBTbWFydC1xdW90ZSByZWxhdGVkIGlucHV0IHJ1bGVzLlxuZXhwb3J0IGNvbnN0IHNtYXJ0UXVvdGVzID0gW29wZW5Eb3VibGVRdW90ZSwgY2xvc2VEb3VibGVRdW90ZSwgb3BlblNpbmdsZVF1b3RlLCBjbG9zZVNpbmdsZVF1b3RlXVxuIiwiaW1wb3J0IHtmaW5kV3JhcHBpbmcsIGxpZnRUYXJnZXQsIGNhblNwbGl0LCBSZXBsYWNlQXJvdW5kU3RlcH0gZnJvbSBcInByb3NlbWlycm9yLXRyYW5zZm9ybVwiXG5pbXBvcnQge1NsaWNlLCBGcmFnbWVudCwgTm9kZVJhbmdlfSBmcm9tIFwicHJvc2VtaXJyb3ItbW9kZWxcIlxuXG5jb25zdCBvbERPTSA9IFtcIm9sXCIsIDBdLCB1bERPTSA9IFtcInVsXCIsIDBdLCBsaURPTSA9IFtcImxpXCIsIDBdXG5cbi8vIDo6IE5vZGVTcGVjXG4vLyBBbiBvcmRlcmVkIGxpc3QgW25vZGUgc3BlY10oI21vZGVsLk5vZGVTcGVjKS4gSGFzIGEgc2luZ2xlXG4vLyBhdHRyaWJ1dGUsIGBvcmRlcmAsIHdoaWNoIGRldGVybWluZXMgdGhlIG51bWJlciBhdCB3aGljaCB0aGUgbGlzdFxuLy8gc3RhcnRzIGNvdW50aW5nLCBhbmQgZGVmYXVsdHMgdG8gMS4gUmVwcmVzZW50ZWQgYXMgYW4gYDxvbD5gXG4vLyBlbGVtZW50LlxuZXhwb3J0IGNvbnN0IG9yZGVyZWRMaXN0ID0ge1xuICBhdHRyczoge29yZGVyOiB7ZGVmYXVsdDogMX19LFxuICBwYXJzZURPTTogW3t0YWc6IFwib2xcIiwgZ2V0QXR0cnMoZG9tKSB7XG4gICAgcmV0dXJuIHtvcmRlcjogZG9tLmhhc0F0dHJpYnV0ZShcInN0YXJ0XCIpID8gK2RvbS5nZXRBdHRyaWJ1dGUoXCJzdGFydFwiKSA6IDF9XG4gIH19XSxcbiAgdG9ET00obm9kZSkge1xuICAgIHJldHVybiBub2RlLmF0dHJzLm9yZGVyID09IDEgPyBvbERPTSA6IFtcIm9sXCIsIHtzdGFydDogbm9kZS5hdHRycy5vcmRlcn0sIDBdXG4gIH1cbn1cblxuLy8gOjogTm9kZVNwZWNcbi8vIEEgYnVsbGV0IGxpc3Qgbm9kZSBzcGVjLCByZXByZXNlbnRlZCBpbiB0aGUgRE9NIGFzIGA8dWw+YC5cbmV4cG9ydCBjb25zdCBidWxsZXRMaXN0ID0ge1xuICBwYXJzZURPTTogW3t0YWc6IFwidWxcIn1dLFxuICB0b0RPTSgpIHsgcmV0dXJuIHVsRE9NIH1cbn1cblxuLy8gOjogTm9kZVNwZWNcbi8vIEEgbGlzdCBpdGVtIChgPGxpPmApIHNwZWMuXG5leHBvcnQgY29uc3QgbGlzdEl0ZW0gPSB7XG4gIHBhcnNlRE9NOiBbe3RhZzogXCJsaVwifV0sXG4gIHRvRE9NKCkgeyByZXR1cm4gbGlET00gfSxcbiAgZGVmaW5pbmc6IHRydWVcbn1cblxuZnVuY3Rpb24gYWRkKG9iaiwgcHJvcHMpIHtcbiAgbGV0IGNvcHkgPSB7fVxuICBmb3IgKGxldCBwcm9wIGluIG9iaikgY29weVtwcm9wXSA9IG9ialtwcm9wXVxuICBmb3IgKGxldCBwcm9wIGluIHByb3BzKSBjb3B5W3Byb3BdID0gcHJvcHNbcHJvcF1cbiAgcmV0dXJuIGNvcHlcbn1cblxuLy8gOjogKE9yZGVyZWRNYXA8Tm9kZVNwZWM+LCBzdHJpbmcsID9zdHJpbmcpIOKGkiBPcmRlcmVkTWFwPE5vZGVTcGVjPlxuLy8gQ29udmVuaWVuY2UgZnVuY3Rpb24gZm9yIGFkZGluZyBsaXN0LXJlbGF0ZWQgbm9kZSB0eXBlcyB0byBhIG1hcFxuLy8gc3BlY2lmeWluZyB0aGUgbm9kZXMgZm9yIGEgc2NoZW1hLiBBZGRzXG4vLyBbYG9yZGVyZWRMaXN0YF0oI3NjaGVtYS1saXN0Lm9yZGVyZWRMaXN0KSBhcyBgXCJvcmRlcmVkX2xpc3RcImAsXG4vLyBbYGJ1bGxldExpc3RgXSgjc2NoZW1hLWxpc3QuYnVsbGV0TGlzdCkgYXMgYFwiYnVsbGV0X2xpc3RcImAsIGFuZFxuLy8gW2BsaXN0SXRlbWBdKCNzY2hlbWEtbGlzdC5saXN0SXRlbSkgYXMgYFwibGlzdF9pdGVtXCJgLlxuLy9cbi8vIGBpdGVtQ29udGVudGAgZGV0ZXJtaW5lcyB0aGUgY29udGVudCBleHByZXNzaW9uIGZvciB0aGUgbGlzdCBpdGVtcy5cbi8vIElmIHlvdSB3YW50IHRoZSBjb21tYW5kcyBkZWZpbmVkIGluIHRoaXMgbW9kdWxlIHRvIGFwcGx5IHRvIHlvdXJcbi8vIGxpc3Qgc3RydWN0dXJlLCBpdCBzaG91bGQgaGF2ZSBhIHNoYXBlIGxpa2UgYFwicGFyYWdyYXBoIGJsb2NrKlwiYCBvclxuLy8gYFwicGFyYWdyYXBoIChvcmRlcmVkX2xpc3QgfCBidWxsZXRfbGlzdCkqXCJgLiBgbGlzdEdyb3VwYCBjYW4gYmVcbi8vIGdpdmVuIHRvIGFzc2lnbiBhIGdyb3VwIG5hbWUgdG8gdGhlIGxpc3Qgbm9kZSB0eXBlcywgZm9yIGV4YW1wbGVcbi8vIGBcImJsb2NrXCJgLlxuZXhwb3J0IGZ1bmN0aW9uIGFkZExpc3ROb2Rlcyhub2RlcywgaXRlbUNvbnRlbnQsIGxpc3RHcm91cCkge1xuICByZXR1cm4gbm9kZXMuYXBwZW5kKHtcbiAgICBvcmRlcmVkX2xpc3Q6IGFkZChvcmRlcmVkTGlzdCwge2NvbnRlbnQ6IFwibGlzdF9pdGVtK1wiLCBncm91cDogbGlzdEdyb3VwfSksXG4gICAgYnVsbGV0X2xpc3Q6IGFkZChidWxsZXRMaXN0LCB7Y29udGVudDogXCJsaXN0X2l0ZW0rXCIsIGdyb3VwOiBsaXN0R3JvdXB9KSxcbiAgICBsaXN0X2l0ZW06IGFkZChsaXN0SXRlbSwge2NvbnRlbnQ6IGl0ZW1Db250ZW50fSlcbiAgfSlcbn1cblxuLy8gOjogKE5vZGVUeXBlLCA/T2JqZWN0KSDihpIgKHN0YXRlOiBFZGl0b3JTdGF0ZSwgZGlzcGF0Y2g6ID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIFJldHVybnMgYSBjb21tYW5kIGZ1bmN0aW9uIHRoYXQgd3JhcHMgdGhlIHNlbGVjdGlvbiBpbiBhIGxpc3Qgd2l0aFxuLy8gdGhlIGdpdmVuIHR5cGUgYW4gYXR0cmlidXRlcy4gSWYgYGRpc3BhdGNoYCBpcyBudWxsLCBvbmx5IHJldHVybiBhXG4vLyB2YWx1ZSB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoaXMgaXMgcG9zc2libGUsIGJ1dCBkb24ndCBhY3R1YWxseVxuLy8gcGVyZm9ybSB0aGUgY2hhbmdlLlxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBJbkxpc3QobGlzdFR5cGUsIGF0dHJzKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICBsZXQgeyRmcm9tLCAkdG99ID0gc3RhdGUuc2VsZWN0aW9uXG4gICAgbGV0IHJhbmdlID0gJGZyb20uYmxvY2tSYW5nZSgkdG8pLCBkb0pvaW4gPSBmYWxzZSwgb3V0ZXJSYW5nZSA9IHJhbmdlXG4gICAgaWYgKCFyYW5nZSkgcmV0dXJuIGZhbHNlXG4gICAgLy8gVGhpcyBpcyBhdCB0aGUgdG9wIG9mIGFuIGV4aXN0aW5nIGxpc3QgaXRlbVxuICAgIGlmIChyYW5nZS5kZXB0aCA+PSAyICYmICRmcm9tLm5vZGUocmFuZ2UuZGVwdGggLSAxKS50eXBlLmNvbXBhdGlibGVDb250ZW50KGxpc3RUeXBlKSAmJiByYW5nZS5zdGFydEluZGV4ID09IDApIHtcbiAgICAgIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIHRoaXMgaXMgdGhlIHRvcCBvZiB0aGUgbGlzdFxuICAgICAgaWYgKCRmcm9tLmluZGV4KHJhbmdlLmRlcHRoIC0gMSkgPT0gMCkgcmV0dXJuIGZhbHNlXG4gICAgICBsZXQgJGluc2VydCA9IHN0YXRlLmRvYy5yZXNvbHZlKHJhbmdlLnN0YXJ0IC0gMilcbiAgICAgIG91dGVyUmFuZ2UgPSBuZXcgTm9kZVJhbmdlKCRpbnNlcnQsICRpbnNlcnQsIHJhbmdlLmRlcHRoKVxuICAgICAgaWYgKHJhbmdlLmVuZEluZGV4IDwgcmFuZ2UucGFyZW50LmNoaWxkQ291bnQpXG4gICAgICAgIHJhbmdlID0gbmV3IE5vZGVSYW5nZSgkZnJvbSwgc3RhdGUuZG9jLnJlc29sdmUoJHRvLmVuZChyYW5nZS5kZXB0aCkpLCByYW5nZS5kZXB0aClcbiAgICAgIGRvSm9pbiA9IHRydWVcbiAgICB9XG4gICAgbGV0IHdyYXAgPSBmaW5kV3JhcHBpbmcob3V0ZXJSYW5nZSwgbGlzdFR5cGUsIGF0dHJzLCByYW5nZSlcbiAgICBpZiAoIXdyYXApIHJldHVybiBmYWxzZVxuICAgIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goZG9XcmFwSW5MaXN0KHN0YXRlLnRyLCByYW5nZSwgd3JhcCwgZG9Kb2luLCBsaXN0VHlwZSkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIGRvV3JhcEluTGlzdCh0ciwgcmFuZ2UsIHdyYXBwZXJzLCBqb2luQmVmb3JlLCBsaXN0VHlwZSkge1xuICBsZXQgY29udGVudCA9IEZyYWdtZW50LmVtcHR5XG4gIGZvciAobGV0IGkgPSB3cmFwcGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICBjb250ZW50ID0gRnJhZ21lbnQuZnJvbSh3cmFwcGVyc1tpXS50eXBlLmNyZWF0ZSh3cmFwcGVyc1tpXS5hdHRycywgY29udGVudCkpXG5cbiAgdHIuc3RlcChuZXcgUmVwbGFjZUFyb3VuZFN0ZXAocmFuZ2Uuc3RhcnQgLSAoam9pbkJlZm9yZSA/IDIgOiAwKSwgcmFuZ2UuZW5kLCByYW5nZS5zdGFydCwgcmFuZ2UuZW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2xpY2UoY29udGVudCwgMCwgMCksIHdyYXBwZXJzLmxlbmd0aCwgdHJ1ZSkpXG5cbiAgbGV0IGZvdW5kID0gMFxuICBmb3IgKGxldCBpID0gMDsgaSA8IHdyYXBwZXJzLmxlbmd0aDsgaSsrKSBpZiAod3JhcHBlcnNbaV0udHlwZSA9PSBsaXN0VHlwZSkgZm91bmQgPSBpICsgMVxuICBsZXQgc3BsaXREZXB0aCA9IHdyYXBwZXJzLmxlbmd0aCAtIGZvdW5kXG5cbiAgbGV0IHNwbGl0UG9zID0gcmFuZ2Uuc3RhcnQgKyB3cmFwcGVycy5sZW5ndGggLSAoam9pbkJlZm9yZSA/IDIgOiAwKSwgcGFyZW50ID0gcmFuZ2UucGFyZW50XG4gIGZvciAobGV0IGkgPSByYW5nZS5zdGFydEluZGV4LCBlID0gcmFuZ2UuZW5kSW5kZXgsIGZpcnN0ID0gdHJ1ZTsgaSA8IGU7IGkrKywgZmlyc3QgPSBmYWxzZSkge1xuICAgIGlmICghZmlyc3QgJiYgY2FuU3BsaXQodHIuZG9jLCBzcGxpdFBvcywgc3BsaXREZXB0aCkpIHtcbiAgICAgIHRyLnNwbGl0KHNwbGl0UG9zLCBzcGxpdERlcHRoKVxuICAgICAgc3BsaXRQb3MgKz0gMiAqIHNwbGl0RGVwdGhcbiAgICB9XG4gICAgc3BsaXRQb3MgKz0gcGFyZW50LmNoaWxkKGkpLm5vZGVTaXplXG4gIH1cbiAgcmV0dXJuIHRyXG59XG5cbi8vIDo6IChOb2RlVHlwZSkg4oaSIChzdGF0ZTogRWRpdG9yU3RhdGUsIGRpc3BhdGNoOiA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBCdWlsZCBhIGNvbW1hbmQgdGhhdCBzcGxpdHMgYSBub24tZW1wdHkgdGV4dGJsb2NrIGF0IHRoZSB0b3AgbGV2ZWxcbi8vIG9mIGEgbGlzdCBpdGVtIGJ5IGFsc28gc3BsaXR0aW5nIHRoYXQgbGlzdCBpdGVtLlxuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0TGlzdEl0ZW0oaXRlbVR5cGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlLCBkaXNwYXRjaCkge1xuICAgIGxldCB7JGZyb20sICR0bywgbm9kZX0gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgICBpZiAoKG5vZGUgJiYgbm9kZS5pc0Jsb2NrKSB8fCAkZnJvbS5kZXB0aCA8IDIgfHwgISRmcm9tLnNhbWVQYXJlbnQoJHRvKSkgcmV0dXJuIGZhbHNlXG4gICAgbGV0IGdyYW5kUGFyZW50ID0gJGZyb20ubm9kZSgtMSlcbiAgICBpZiAoZ3JhbmRQYXJlbnQudHlwZSAhPSBpdGVtVHlwZSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKCRmcm9tLnBhcmVudC5jb250ZW50LnNpemUgPT0gMCkge1xuICAgICAgLy8gSW4gYW4gZW1wdHkgYmxvY2suIElmIHRoaXMgaXMgYSBuZXN0ZWQgbGlzdCwgdGhlIHdyYXBwaW5nXG4gICAgICAvLyBsaXN0IGl0ZW0gc2hvdWxkIGJlIHNwbGl0LiBPdGhlcndpc2UsIGJhaWwgb3V0IGFuZCBsZXQgbmV4dFxuICAgICAgLy8gY29tbWFuZCBoYW5kbGUgbGlmdGluZy5cbiAgICAgIGlmICgkZnJvbS5kZXB0aCA9PSAyIHx8ICRmcm9tLm5vZGUoLTMpLnR5cGUgIT0gaXRlbVR5cGUgfHxcbiAgICAgICAgICAkZnJvbS5pbmRleCgtMikgIT0gJGZyb20ubm9kZSgtMikuY2hpbGRDb3VudCAtIDEpIHJldHVybiBmYWxzZVxuICAgICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICAgIGxldCB3cmFwID0gRnJhZ21lbnQuZW1wdHksIGtlZXBJdGVtID0gJGZyb20uaW5kZXgoLTEpID4gMFxuICAgICAgICAvLyBCdWlsZCBhIGZyYWdtZW50IGNvbnRhaW5pbmcgZW1wdHkgdmVyc2lvbnMgb2YgdGhlIHN0cnVjdHVyZVxuICAgICAgICAvLyBmcm9tIHRoZSBvdXRlciBsaXN0IGl0ZW0gdG8gdGhlIHBhcmVudCBub2RlIG9mIHRoZSBjdXJzb3JcbiAgICAgICAgZm9yIChsZXQgZCA9ICRmcm9tLmRlcHRoIC0gKGtlZXBJdGVtID8gMSA6IDIpOyBkID49ICRmcm9tLmRlcHRoIC0gMzsgZC0tKVxuICAgICAgICAgIHdyYXAgPSBGcmFnbWVudC5mcm9tKCRmcm9tLm5vZGUoZCkuY29weSh3cmFwKSlcbiAgICAgICAgLy8gQWRkIGEgc2Vjb25kIGxpc3QgaXRlbSB3aXRoIGFuIGVtcHR5IGRlZmF1bHQgc3RhcnQgbm9kZVxuICAgICAgICB3cmFwID0gd3JhcC5hcHBlbmQoRnJhZ21lbnQuZnJvbShpdGVtVHlwZS5jcmVhdGVBbmRGaWxsKCkpKVxuICAgICAgICBsZXQgdHIgPSBzdGF0ZS50ci5yZXBsYWNlKCRmcm9tLmJlZm9yZShrZWVwSXRlbSA/IG51bGwgOiAtMSksICRmcm9tLmFmdGVyKC0zKSwgbmV3IFNsaWNlKHdyYXAsIGtlZXBJdGVtID8gMyA6IDIsIDIpKVxuICAgICAgICB0ci5zZXRTZWxlY3Rpb24oc3RhdGUuc2VsZWN0aW9uLmNvbnN0cnVjdG9yLm5lYXIodHIuZG9jLnJlc29sdmUoJGZyb20ucG9zICsgKGtlZXBJdGVtID8gMyA6IDIpKSkpXG4gICAgICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpXG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICBsZXQgbmV4dFR5cGUgPSAkdG8ucG9zID09ICRmcm9tLmVuZCgpID8gZ3JhbmRQYXJlbnQuY29udGVudE1hdGNoQXQoMCkuZGVmYXVsdFR5cGUgOiBudWxsXG4gICAgbGV0IHRyID0gc3RhdGUudHIuZGVsZXRlKCRmcm9tLnBvcywgJHRvLnBvcylcbiAgICBsZXQgdHlwZXMgPSBuZXh0VHlwZSAmJiBbbnVsbCwge3R5cGU6IG5leHRUeXBlfV1cbiAgICBpZiAoIWNhblNwbGl0KHRyLmRvYywgJGZyb20ucG9zLCAyLCB0eXBlcykpIHJldHVybiBmYWxzZVxuICAgIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2godHIuc3BsaXQoJGZyb20ucG9zLCAyLCB0eXBlcykuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbi8vIDo6IChOb2RlVHlwZSkg4oaSIChzdGF0ZTogRWRpdG9yU3RhdGUsIGRpc3BhdGNoOiA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBDcmVhdGUgYSBjb21tYW5kIHRvIGxpZnQgdGhlIGxpc3QgaXRlbSBhcm91bmQgdGhlIHNlbGVjdGlvbiB1cCBpbnRvXG4vLyBhIHdyYXBwaW5nIGxpc3QuXG5leHBvcnQgZnVuY3Rpb24gbGlmdExpc3RJdGVtKGl0ZW1UeXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICBsZXQgeyRmcm9tLCAkdG99ID0gc3RhdGUuc2VsZWN0aW9uXG4gICAgbGV0IHJhbmdlID0gJGZyb20uYmxvY2tSYW5nZSgkdG8sIG5vZGUgPT4gbm9kZS5jaGlsZENvdW50ICYmIG5vZGUuZmlyc3RDaGlsZC50eXBlID09IGl0ZW1UeXBlKVxuICAgIGlmICghcmFuZ2UpIHJldHVybiBmYWxzZVxuICAgIGlmICghZGlzcGF0Y2gpIHJldHVybiB0cnVlXG4gICAgaWYgKCRmcm9tLm5vZGUocmFuZ2UuZGVwdGggLSAxKS50eXBlID09IGl0ZW1UeXBlKSAvLyBJbnNpZGUgYSBwYXJlbnQgbGlzdFxuICAgICAgcmV0dXJuIGxpZnRUb091dGVyTGlzdChzdGF0ZSwgZGlzcGF0Y2gsIGl0ZW1UeXBlLCByYW5nZSlcbiAgICBlbHNlIC8vIE91dGVyIGxpc3Qgbm9kZVxuICAgICAgcmV0dXJuIGxpZnRPdXRPZkxpc3Qoc3RhdGUsIGRpc3BhdGNoLCByYW5nZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBsaWZ0VG9PdXRlckxpc3Qoc3RhdGUsIGRpc3BhdGNoLCBpdGVtVHlwZSwgcmFuZ2UpIHtcbiAgbGV0IHRyID0gc3RhdGUudHIsIGVuZCA9IHJhbmdlLmVuZCwgZW5kT2ZMaXN0ID0gcmFuZ2UuJHRvLmVuZChyYW5nZS5kZXB0aClcbiAgaWYgKGVuZCA8IGVuZE9mTGlzdCkge1xuICAgIC8vIFRoZXJlIGFyZSBzaWJsaW5ncyBhZnRlciB0aGUgbGlmdGVkIGl0ZW1zLCB3aGljaCBtdXN0IGJlY29tZVxuICAgIC8vIGNoaWxkcmVuIG9mIHRoZSBsYXN0IGl0ZW1cbiAgICB0ci5zdGVwKG5ldyBSZXBsYWNlQXJvdW5kU3RlcChlbmQgLSAxLCBlbmRPZkxpc3QsIGVuZCwgZW5kT2ZMaXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTbGljZShGcmFnbWVudC5mcm9tKGl0ZW1UeXBlLmNyZWF0ZShudWxsLCByYW5nZS5wYXJlbnQuY29weSgpKSksIDEsIDApLCAxLCB0cnVlKSlcbiAgICByYW5nZSA9IG5ldyBOb2RlUmFuZ2UodHIuZG9jLnJlc29sdmUocmFuZ2UuJGZyb20ucG9zKSwgdHIuZG9jLnJlc29sdmUoZW5kT2ZMaXN0KSwgcmFuZ2UuZGVwdGgpXG4gIH1cbiAgZGlzcGF0Y2godHIubGlmdChyYW5nZSwgbGlmdFRhcmdldChyYW5nZSkpLnNjcm9sbEludG9WaWV3KCkpXG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIGxpZnRPdXRPZkxpc3Qoc3RhdGUsIGRpc3BhdGNoLCByYW5nZSkge1xuICBsZXQgdHIgPSBzdGF0ZS50ciwgbGlzdCA9IHJhbmdlLnBhcmVudFxuICAvLyBNZXJnZSB0aGUgbGlzdCBpdGVtcyBpbnRvIGEgc2luZ2xlIGJpZyBpdGVtXG4gIGZvciAobGV0IHBvcyA9IHJhbmdlLmVuZCwgaSA9IHJhbmdlLmVuZEluZGV4IC0gMSwgZSA9IHJhbmdlLnN0YXJ0SW5kZXg7IGkgPiBlOyBpLS0pIHtcbiAgICBwb3MgLT0gbGlzdC5jaGlsZChpKS5ub2RlU2l6ZVxuICAgIHRyLmRlbGV0ZShwb3MgLSAxLCBwb3MgKyAxKVxuICB9XG4gIGxldCAkc3RhcnQgPSB0ci5kb2MucmVzb2x2ZShyYW5nZS5zdGFydCksIGl0ZW0gPSAkc3RhcnQubm9kZUFmdGVyXG4gIGxldCBhdFN0YXJ0ID0gcmFuZ2Uuc3RhcnRJbmRleCA9PSAwLCBhdEVuZCA9IHJhbmdlLmVuZEluZGV4ID09IGxpc3QuY2hpbGRDb3VudFxuICBsZXQgcGFyZW50ID0gJHN0YXJ0Lm5vZGUoLTEpLCBpbmRleEJlZm9yZSA9ICRzdGFydC5pbmRleCgtMSlcbiAgaWYgKCFwYXJlbnQuY2FuUmVwbGFjZShpbmRleEJlZm9yZSArIChhdFN0YXJ0ID8gMCA6IDEpLCBpbmRleEJlZm9yZSArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jb250ZW50LmFwcGVuZChhdEVuZCA/IEZyYWdtZW50LmVtcHR5IDogRnJhZ21lbnQuZnJvbShsaXN0KSkpKVxuICAgIHJldHVybiBmYWxzZVxuICBsZXQgc3RhcnQgPSAkc3RhcnQucG9zLCBlbmQgPSBzdGFydCArIGl0ZW0ubm9kZVNpemVcbiAgLy8gU3RyaXAgb2ZmIHRoZSBzdXJyb3VuZGluZyBsaXN0LiBBdCB0aGUgc2lkZXMgd2hlcmUgd2UncmUgbm90IGF0XG4gIC8vIHRoZSBlbmQgb2YgdGhlIGxpc3QsIHRoZSBleGlzdGluZyBsaXN0IGlzIGNsb3NlZC4gQXQgc2lkZXMgd2hlcmVcbiAgLy8gdGhpcyBpcyB0aGUgZW5kLCBpdCBpcyBvdmVyd3JpdHRlbiB0byBpdHMgZW5kLlxuICB0ci5zdGVwKG5ldyBSZXBsYWNlQXJvdW5kU3RlcChzdGFydCAtIChhdFN0YXJ0ID8gMSA6IDApLCBlbmQgKyAoYXRFbmQgPyAxIDogMCksIHN0YXJ0ICsgMSwgZW5kIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNsaWNlKChhdFN0YXJ0ID8gRnJhZ21lbnQuZW1wdHkgOiBGcmFnbWVudC5mcm9tKGxpc3QuY29weShGcmFnbWVudC5lbXB0eSkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChhdEVuZCA/IEZyYWdtZW50LmVtcHR5IDogRnJhZ21lbnQuZnJvbShsaXN0LmNvcHkoRnJhZ21lbnQuZW1wdHkpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdFN0YXJ0ID8gMCA6IDEsIGF0RW5kID8gMCA6IDEpLCBhdFN0YXJ0ID8gMCA6IDEpKVxuICBkaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoTm9kZVR5cGUpIOKGkiAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaDogPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gQ3JlYXRlIGEgY29tbWFuZCB0byBzaW5rIHRoZSBsaXN0IGl0ZW0gYXJvdW5kIHRoZSBzZWxlY3Rpb24gZG93blxuLy8gaW50byBhbiBpbm5lciBsaXN0LlxuZXhwb3J0IGZ1bmN0aW9uIHNpbmtMaXN0SXRlbShpdGVtVHlwZSkge1xuICByZXR1cm4gZnVuY3Rpb24oc3RhdGUsIGRpc3BhdGNoKSB7XG4gICAgbGV0IHskZnJvbSwgJHRvfSA9IHN0YXRlLnNlbGVjdGlvblxuICAgIGxldCByYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoJHRvLCBub2RlID0+IG5vZGUuY2hpbGRDb3VudCAmJiBub2RlLmZpcnN0Q2hpbGQudHlwZSA9PSBpdGVtVHlwZSlcbiAgICBpZiAoIXJhbmdlKSByZXR1cm4gZmFsc2VcbiAgICBsZXQgc3RhcnRJbmRleCA9IHJhbmdlLnN0YXJ0SW5kZXhcbiAgICBpZiAoc3RhcnRJbmRleCA9PSAwKSByZXR1cm4gZmFsc2VcbiAgICBsZXQgcGFyZW50ID0gcmFuZ2UucGFyZW50LCBub2RlQmVmb3JlID0gcGFyZW50LmNoaWxkKHN0YXJ0SW5kZXggLSAxKVxuICAgIGlmIChub2RlQmVmb3JlLnR5cGUgIT0gaXRlbVR5cGUpIHJldHVybiBmYWxzZVxuXG4gICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICBsZXQgbmVzdGVkQmVmb3JlID0gbm9kZUJlZm9yZS5sYXN0Q2hpbGQgJiYgbm9kZUJlZm9yZS5sYXN0Q2hpbGQudHlwZSA9PSBwYXJlbnQudHlwZVxuICAgICAgbGV0IGlubmVyID0gRnJhZ21lbnQuZnJvbShuZXN0ZWRCZWZvcmUgPyBpdGVtVHlwZS5jcmVhdGUoKSA6IG51bGwpXG4gICAgICBsZXQgc2xpY2UgPSBuZXcgU2xpY2UoRnJhZ21lbnQuZnJvbShpdGVtVHlwZS5jcmVhdGUobnVsbCwgRnJhZ21lbnQuZnJvbShwYXJlbnQudHlwZS5jcmVhdGUobnVsbCwgaW5uZXIpKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5lc3RlZEJlZm9yZSA/IDMgOiAxLCAwKVxuICAgICAgbGV0IGJlZm9yZSA9IHJhbmdlLnN0YXJ0LCBhZnRlciA9IHJhbmdlLmVuZFxuICAgICAgZGlzcGF0Y2goc3RhdGUudHIuc3RlcChuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoYmVmb3JlIC0gKG5lc3RlZEJlZm9yZSA/IDMgOiAxKSwgYWZ0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmUsIGFmdGVyLCBzbGljZSwgMSwgdHJ1ZSkpXG4gICAgICAgICAgICAgICAuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuIiwiaW1wb3J0IHtTY2hlbWF9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5cbmNvbnN0IHBET00gPSBbXCJwXCIsIDBdLCBibG9ja3F1b3RlRE9NID0gW1wiYmxvY2txdW90ZVwiLCAwXSwgaHJET00gPSBbXCJoclwiXSxcbiAgICAgIHByZURPTSA9IFtcInByZVwiLCBbXCJjb2RlXCIsIDBdXSwgYnJET00gPSBbXCJiclwiXVxuXG4vLyA6OiBPYmplY3Rcbi8vIFtTcGVjc10oI21vZGVsLk5vZGVTcGVjKSBmb3IgdGhlIG5vZGVzIGRlZmluZWQgaW4gdGhpcyBzY2hlbWEuXG5leHBvcnQgY29uc3Qgbm9kZXMgPSB7XG4gIC8vIDo6IE5vZGVTcGVjIFRoZSB0b3AgbGV2ZWwgZG9jdW1lbnQgbm9kZS5cbiAgZG9jOiB7XG4gICAgY29udGVudDogXCJibG9jaytcIlxuICB9LFxuXG4gIC8vIDo6IE5vZGVTcGVjIEEgcGxhaW4gcGFyYWdyYXBoIHRleHRibG9jay4gUmVwcmVzZW50ZWQgaW4gdGhlIERPTVxuICAvLyBhcyBhIGA8cD5gIGVsZW1lbnQuXG4gIHBhcmFncmFwaDoge1xuICAgIGNvbnRlbnQ6IFwiaW5saW5lKlwiLFxuICAgIGdyb3VwOiBcImJsb2NrXCIsXG4gICAgcGFyc2VET006IFt7dGFnOiBcInBcIn1dLFxuICAgIHRvRE9NKCkgeyByZXR1cm4gcERPTSB9XG4gIH0sXG5cbiAgLy8gOjogTm9kZVNwZWMgQSBibG9ja3F1b3RlIChgPGJsb2NrcXVvdGU+YCkgd3JhcHBpbmcgb25lIG9yIG1vcmUgYmxvY2tzLlxuICBibG9ja3F1b3RlOiB7XG4gICAgY29udGVudDogXCJibG9jaytcIixcbiAgICBncm91cDogXCJibG9ja1wiLFxuICAgIGRlZmluaW5nOiB0cnVlLFxuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJibG9ja3F1b3RlXCJ9XSxcbiAgICB0b0RPTSgpIHsgcmV0dXJuIGJsb2NrcXVvdGVET00gfVxuICB9LFxuXG4gIC8vIDo6IE5vZGVTcGVjIEEgaG9yaXpvbnRhbCBydWxlIChgPGhyPmApLlxuICBob3Jpem9udGFsX3J1bGU6IHtcbiAgICBncm91cDogXCJibG9ja1wiLFxuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJoclwifV0sXG4gICAgdG9ET00oKSB7IHJldHVybiBockRPTSB9XG4gIH0sXG5cbiAgLy8gOjogTm9kZVNwZWMgQSBoZWFkaW5nIHRleHRibG9jaywgd2l0aCBhIGBsZXZlbGAgYXR0cmlidXRlIHRoYXRcbiAgLy8gc2hvdWxkIGhvbGQgdGhlIG51bWJlciAxIHRvIDYuIFBhcnNlZCBhbmQgc2VyaWFsaXplZCBhcyBgPGgxPmAgdG9cbiAgLy8gYDxoNj5gIGVsZW1lbnRzLlxuICBoZWFkaW5nOiB7XG4gICAgYXR0cnM6IHtsZXZlbDoge2RlZmF1bHQ6IDF9fSxcbiAgICBjb250ZW50OiBcImlubGluZSpcIixcbiAgICBncm91cDogXCJibG9ja1wiLFxuICAgIGRlZmluaW5nOiB0cnVlLFxuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJoMVwiLCBhdHRyczoge2xldmVsOiAxfX0sXG4gICAgICAgICAgICAgICB7dGFnOiBcImgyXCIsIGF0dHJzOiB7bGV2ZWw6IDJ9fSxcbiAgICAgICAgICAgICAgIHt0YWc6IFwiaDNcIiwgYXR0cnM6IHtsZXZlbDogM319LFxuICAgICAgICAgICAgICAge3RhZzogXCJoNFwiLCBhdHRyczoge2xldmVsOiA0fX0sXG4gICAgICAgICAgICAgICB7dGFnOiBcImg1XCIsIGF0dHJzOiB7bGV2ZWw6IDV9fSxcbiAgICAgICAgICAgICAgIHt0YWc6IFwiaDZcIiwgYXR0cnM6IHtsZXZlbDogNn19XSxcbiAgICB0b0RPTShub2RlKSB7IHJldHVybiBbXCJoXCIgKyBub2RlLmF0dHJzLmxldmVsLCAwXSB9XG4gIH0sXG5cbiAgLy8gOjogTm9kZVNwZWMgQSBjb2RlIGxpc3RpbmcuIERpc2FsbG93cyBtYXJrcyBvciBub24tdGV4dCBpbmxpbmVcbiAgLy8gbm9kZXMgYnkgZGVmYXVsdC4gUmVwcmVzZW50ZWQgYXMgYSBgPHByZT5gIGVsZW1lbnQgd2l0aCBhXG4gIC8vIGA8Y29kZT5gIGVsZW1lbnQgaW5zaWRlIG9mIGl0LlxuICBjb2RlX2Jsb2NrOiB7XG4gICAgY29udGVudDogXCJ0ZXh0KlwiLFxuICAgIG1hcmtzOiBcIlwiLFxuICAgIGdyb3VwOiBcImJsb2NrXCIsXG4gICAgY29kZTogdHJ1ZSxcbiAgICBkZWZpbmluZzogdHJ1ZSxcbiAgICBwYXJzZURPTTogW3t0YWc6IFwicHJlXCIsIHByZXNlcnZlV2hpdGVzcGFjZTogXCJmdWxsXCJ9XSxcbiAgICB0b0RPTSgpIHsgcmV0dXJuIHByZURPTSB9XG4gIH0sXG5cbiAgLy8gOjogTm9kZVNwZWMgVGhlIHRleHQgbm9kZS5cbiAgdGV4dDoge1xuICAgIGdyb3VwOiBcImlubGluZVwiXG4gIH0sXG5cbiAgLy8gOjogTm9kZVNwZWMgQW4gaW5saW5lIGltYWdlIChgPGltZz5gKSBub2RlLiBTdXBwb3J0cyBgc3JjYCxcbiAgLy8gYGFsdGAsIGFuZCBgaHJlZmAgYXR0cmlidXRlcy4gVGhlIGxhdHRlciB0d28gZGVmYXVsdCB0byB0aGUgZW1wdHlcbiAgLy8gc3RyaW5nLlxuICBpbWFnZToge1xuICAgIGlubGluZTogdHJ1ZSxcbiAgICBhdHRyczoge1xuICAgICAgc3JjOiB7fSxcbiAgICAgIGFsdDoge2RlZmF1bHQ6IG51bGx9LFxuICAgICAgdGl0bGU6IHtkZWZhdWx0OiBudWxsfVxuICAgIH0sXG4gICAgZ3JvdXA6IFwiaW5saW5lXCIsXG4gICAgZHJhZ2dhYmxlOiB0cnVlLFxuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJpbWdbc3JjXVwiLCBnZXRBdHRycyhkb20pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNyYzogZG9tLmdldEF0dHJpYnV0ZShcInNyY1wiKSxcbiAgICAgICAgdGl0bGU6IGRvbS5nZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiKSxcbiAgICAgICAgYWx0OiBkb20uZ2V0QXR0cmlidXRlKFwiYWx0XCIpXG4gICAgICB9XG4gICAgfX1dLFxuICAgIHRvRE9NKG5vZGUpIHsgbGV0IHtzcmMsIGFsdCwgdGl0bGV9ID0gbm9kZS5hdHRyczsgcmV0dXJuIFtcImltZ1wiLCB7c3JjLCBhbHQsIHRpdGxlfV0gfVxuICB9LFxuXG4gIC8vIDo6IE5vZGVTcGVjIEEgaGFyZCBsaW5lIGJyZWFrLCByZXByZXNlbnRlZCBpbiB0aGUgRE9NIGFzIGA8YnI+YC5cbiAgaGFyZF9icmVhazoge1xuICAgIGlubGluZTogdHJ1ZSxcbiAgICBncm91cDogXCJpbmxpbmVcIixcbiAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICBwYXJzZURPTTogW3t0YWc6IFwiYnJcIn1dLFxuICAgIHRvRE9NKCkgeyByZXR1cm4gYnJET00gfVxuICB9XG59XG5cbmNvbnN0IGVtRE9NID0gW1wiZW1cIiwgMF0sIHN0cm9uZ0RPTSA9IFtcInN0cm9uZ1wiLCAwXSwgY29kZURPTSA9IFtcImNvZGVcIiwgMF1cblxuLy8gOjogT2JqZWN0IFtTcGVjc10oI21vZGVsLk1hcmtTcGVjKSBmb3IgdGhlIG1hcmtzIGluIHRoZSBzY2hlbWEuXG5leHBvcnQgY29uc3QgbWFya3MgPSB7XG4gIC8vIDo6IE1hcmtTcGVjIEEgbGluay4gSGFzIGBocmVmYCBhbmQgYHRpdGxlYCBhdHRyaWJ1dGVzLiBgdGl0bGVgXG4gIC8vIGRlZmF1bHRzIHRvIHRoZSBlbXB0eSBzdHJpbmcuIFJlbmRlcmVkIGFuZCBwYXJzZWQgYXMgYW4gYDxhPmBcbiAgLy8gZWxlbWVudC5cbiAgbGluazoge1xuICAgIGF0dHJzOiB7XG4gICAgICBocmVmOiB7fSxcbiAgICAgIHRpdGxlOiB7ZGVmYXVsdDogbnVsbH1cbiAgICB9LFxuICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgcGFyc2VET006IFt7dGFnOiBcImFbaHJlZl1cIiwgZ2V0QXR0cnMoZG9tKSB7XG4gICAgICByZXR1cm4ge2hyZWY6IGRvbS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLCB0aXRsZTogZG9tLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpfVxuICAgIH19XSxcbiAgICB0b0RPTShub2RlKSB7IGxldCB7aHJlZiwgdGl0bGV9ID0gbm9kZS5hdHRyczsgcmV0dXJuIFtcImFcIiwge2hyZWYsIHRpdGxlfSwgMF0gfVxuICB9LFxuXG4gIC8vIDo6IE1hcmtTcGVjIEFuIGVtcGhhc2lzIG1hcmsuIFJlbmRlcmVkIGFzIGFuIGA8ZW0+YCBlbGVtZW50LlxuICAvLyBIYXMgcGFyc2UgcnVsZXMgdGhhdCBhbHNvIG1hdGNoIGA8aT5gIGFuZCBgZm9udC1zdHlsZTogaXRhbGljYC5cbiAgZW06IHtcbiAgICBwYXJzZURPTTogW3t0YWc6IFwiaVwifSwge3RhZzogXCJlbVwifSwge3N0eWxlOiBcImZvbnQtc3R5bGU9aXRhbGljXCJ9XSxcbiAgICB0b0RPTSgpIHsgcmV0dXJuIGVtRE9NIH1cbiAgfSxcblxuICAvLyA6OiBNYXJrU3BlYyBBIHN0cm9uZyBtYXJrLiBSZW5kZXJlZCBhcyBgPHN0cm9uZz5gLCBwYXJzZSBydWxlc1xuICAvLyBhbHNvIG1hdGNoIGA8Yj5gIGFuZCBgZm9udC13ZWlnaHQ6IGJvbGRgLlxuICBzdHJvbmc6IHtcbiAgICBwYXJzZURPTTogW3t0YWc6IFwic3Ryb25nXCJ9LFxuICAgICAgICAgICAgICAgLy8gVGhpcyB3b3JrcyBhcm91bmQgYSBHb29nbGUgRG9jcyBtaXNiZWhhdmlvciB3aGVyZVxuICAgICAgICAgICAgICAgLy8gcGFzdGVkIGNvbnRlbnQgd2lsbCBiZSBpbmV4cGxpY2FibHkgd3JhcHBlZCBpbiBgPGI+YFxuICAgICAgICAgICAgICAgLy8gdGFncyB3aXRoIGEgZm9udC13ZWlnaHQgbm9ybWFsLlxuICAgICAgICAgICAgICAge3RhZzogXCJiXCIsIGdldEF0dHJzOiBub2RlID0+IG5vZGUuc3R5bGUuZm9udFdlaWdodCAhPSBcIm5vcm1hbFwiICYmIG51bGx9LFxuICAgICAgICAgICAgICAge3N0eWxlOiBcImZvbnQtd2VpZ2h0XCIsIGdldEF0dHJzOiB2YWx1ZSA9PiAvXihib2xkKGVyKT98WzUtOV1cXGR7Mix9KSQvLnRlc3QodmFsdWUpICYmIG51bGx9XSxcbiAgICB0b0RPTSgpIHsgcmV0dXJuIHN0cm9uZ0RPTSB9XG4gIH0sXG5cbiAgLy8gOjogTWFya1NwZWMgQ29kZSBmb250IG1hcmsuIFJlcHJlc2VudGVkIGFzIGEgYDxjb2RlPmAgZWxlbWVudC5cbiAgY29kZToge1xuICAgIHBhcnNlRE9NOiBbe3RhZzogXCJjb2RlXCJ9XSxcbiAgICB0b0RPTSgpIHsgcmV0dXJuIGNvZGVET00gfVxuICB9XG59XG5cbi8vIDo6IFNjaGVtYVxuLy8gVGhpcyBzY2hlbWEgcm91Z2hseSBjb3JyZXNwb25kcyB0byB0aGUgZG9jdW1lbnQgc2NoZW1hIHVzZWQgYnlcbi8vIFtDb21tb25NYXJrXShodHRwOi8vY29tbW9ubWFyay5vcmcvKSwgbWludXMgdGhlIGxpc3QgZWxlbWVudHMsXG4vLyB3aGljaCBhcmUgZGVmaW5lZCBpbiB0aGUgW2Bwcm9zZW1pcnJvci1zY2hlbWEtbGlzdGBdKCNzY2hlbWEtbGlzdClcbi8vIG1vZHVsZS5cbi8vXG4vLyBUbyByZXVzZSBlbGVtZW50cyBmcm9tIHRoaXMgc2NoZW1hLCBleHRlbmQgb3IgcmVhZCBmcm9tIGl0c1xuLy8gYHNwZWMubm9kZXNgIGFuZCBgc3BlYy5tYXJrc2AgW3Byb3BlcnRpZXNdKCNtb2RlbC5TY2hlbWEuc3BlYykuXG5leHBvcnQgY29uc3Qgc2NoZW1hID0gbmV3IFNjaGVtYSh7bm9kZXMsIG1hcmtzfSlcbiIsImltcG9ydCB7IGJ1bGxldExpc3QsIGxpc3RJdGVtLCBvcmRlcmVkTGlzdCB9IGZyb20gJ3Byb3NlbWlycm9yLXNjaGVtYS1saXN0JztcbmltcG9ydCB7IG1hcmtzIH0gZnJvbSAncHJvc2VtaXJyb3Itc2NoZW1hLWJhc2ljJztcbmltcG9ydCBPcmRlcmVkTWFwIGZyb20gJ29yZGVyZWRtYXAnO1xuXG5pbXBvcnQge1xuICBET01PdXRwdXRTcGVjQXJyYXksXG4gIE5vZGVTcGVjLFxuICBTY2hlbWEsXG59IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJztcblxuY29uc3QgRURJVE9SX0NMUyA9ICdzbi1lZGl0b3InO1xuXG5jb25zdCBkb2NTcGVjOiBOb2RlU3BlYyA9IHtcbiAgY29udGVudDogJ2Jsb2NrKycsXG4gIHRvRE9NKG5vZGUpIHtcbiAgICByZXR1cm4gW1xuICAgICAgJ21haW4nLFxuICAgICAgeyAnY2xhc3MnOiBFRElUT1JfQ0xTIH0sXG4gICAgICAwLFxuICAgIF07XG4gIH0sXG4gIHBhcnNlRE9NOiBbXG4gICAge1xuICAgICAgdGFnOiAnbWFpbicsXG4gICAgfSxcbiAgXSxcbn07XG5cbmNvbnN0IGhlYWRpbmcxU3BlYzogTm9kZVNwZWMgPSB7XG4gIGNvbnRlbnQ6ICdpbmxpbmUqJyxcbiAgZGVmaW5pbmc6IHRydWUsXG4gIGdyb3VwOiAnYmxvY2snLFxuICB0b0RPTShub2RlKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdoMScsXG4gICAgICB7ICdjbGFzcyc6IEVESVRPUl9DTFMgfSxcbiAgICAgIDAsXG4gICAgXTtcbiAgfSxcbiAgcGFyc2VET006IFtcbiAgICB7XG4gICAgICB0YWc6ICdoMScsXG4gICAgfSxcbiAgXSxcbn07XG5cbmNvbnN0IGhlYWRpbmcyU3BlYzogTm9kZVNwZWMgPSB7XG4gIGNvbnRlbnQ6ICdpbmxpbmUqJyxcbiAgZGVmaW5pbmc6IHRydWUsXG4gIGdyb3VwOiAnYmxvY2snLFxuICB0b0RPTShub2RlKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdoMicsXG4gICAgICB7ICdjbGFzcyc6IEVESVRPUl9DTFMgfSxcbiAgICAgIDBcbiAgICBdO1xuICB9LFxuICBwYXJzZURPTTogW3sgdGFnOiAnaDInIH1dLFxufTtcblxuY29uc3QgcGFyYWdyYXBoU3BlYzogTm9kZVNwZWMgPSB7XG4gIGNvbnRlbnQ6ICdpbmxpbmUqJyxcbiAgZ3JvdXA6ICdibG9jaycsXG4gIG1hcmtzOiAnXycsXG4gIHRvRE9NKG5vZGUpIHtcbiAgICByZXR1cm4gW1xuICAgICAgJ3AnLFxuICAgICAgeyAnY2xhc3MnOiBFRElUT1JfQ0xTIH0sXG4gICAgICAwLFxuICAgIF07XG4gIH0sXG4gIHBhcnNlRE9NOiBbeyB0YWc6ICdwJyB9XSxcbn07XG5cbmNvbnN0IGNoZWNrbGlzdEl0ZW1TcGVjOiBOb2RlU3BlYyA9IHtcbiAgYXR0cnM6IHtcbiAgICBjaGVja2VkOiB7XG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuICB9LFxuICBjb250ZW50OiAnaW5saW5lKicsXG4gIGRlZmluaW5nOiB0cnVlLFxuICBncm91cDogJ2Jsb2NrJyxcbiAgbWFya3M6ICdfJyxcbiAgdG9ET00obm9kZSkge1xuICAgIHJldHVybiBbXG4gICAgICAnZGl2JyxcbiAgICAgIHsgJ2NsYXNzJzogJ2NoZWNrbGlzdC1pdGVtJyB9LFxuICAgICAgW1xuICAgICAgICAnaW5wdXQnLFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgICAuLi4obm9kZS5hdHRycy5jaGVja2VkICYmIHsgY2hlY2tlZDogJ3RydWUnIH0pLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ3AnLFxuICAgICAgICAwXG4gICAgICBdLFxuICAgIF07XG4gIH0sXG4gIHBhcnNlRE9NOiBbe1xuICAgIGNvbnRlbnRFbGVtZW50OiAncCcsXG4gICAgdGFnOiAnZGl2LmNoZWNrbGlzdC1pdGVtJyxcbiAgICBnZXRBdHRycyhub2RlKSB7XG4gICAgICAvLyBXaWxsIGJlIHR5cGUgTm9kZSB3aGVuIHBhcnNlRE9NIHN1cHBsaWVzIGEgJ3RhZycgcnVsZVxuICAgICAgY29uc3QgaW5wdXQgPSAobm9kZSBhcyBIVE1MRWxlbWVudCkucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNoZWNrZWQ6ICEhKGlucHV0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQsXG4gICAgICB9O1xuICAgIH0sXG4gIH1dLFxufTtcblxuY29uc3QgdGV4dFNwZWM6IE5vZGVTcGVjID0ge1xuICBncm91cDogJ2lubGluZScsXG59O1xuXG5jb25zdCBzcGVjID0ge1xuICBub2Rlczoge1xuICAgIGRvYzogZG9jU3BlYyxcbiAgICAvLyBPcmRlciBtYXR0ZXJzIGhlcmUuIHBtIGFwcGFyZW50bHkgaW5zZXJ0cyB0aGUgZmlyc3QgdmFsaWQgbm9kZSBvbiBlbnRlci5cbiAgICBwYXJhZ3JhcGg6IHBhcmFncmFwaFNwZWMsXG4gICAgY2hlY2tsaXN0X2l0ZW06IGNoZWNrbGlzdEl0ZW1TcGVjLFxuICAgIHVub3JkZXJlZF9saXN0OiB7XG4gICAgICAuLi5idWxsZXRMaXN0LFxuICAgICAgY29udGVudDogJ2xpc3RfaXRlbSsnLFxuICAgICAgZ3JvdXA6ICdibG9jaycsXG4gICAgfSxcbiAgICBvcmRlcmVkX2xpc3Q6IHtcbiAgICAgIC4uLm9yZGVyZWRMaXN0LFxuICAgICAgY29udGVudDogJ2xpc3RfaXRlbSsnLFxuICAgICAgZ3JvdXA6ICdibG9jaycsXG4gICAgfSxcbiAgICBsaXN0X2l0ZW06IHtcbiAgICAgIC4uLmxpc3RJdGVtLFxuICAgICAgY29udGVudDogJ3BhcmFncmFwaCsnLFxuICAgIH0sXG4gICAgaGVhZGluZzE6IGhlYWRpbmcxU3BlYyxcbiAgICBoZWFkaW5nMjogaGVhZGluZzJTcGVjLFxuICAgIHRleHQ6IHRleHRTcGVjLFxuICB9LFxuICBtYXJrczoge1xuICAgIGxpbms6IHtcbiAgICAgIC4uLm1hcmtzLmxpbmssXG4gICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgIH0sXG4gICAgZW06IHtcbiAgICAgIC4uLm1hcmtzLmVtLFxuICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICB9LFxuICAgIHN0cm9uZzoge1xuICAgICAgLi4ubWFya3Muc3Ryb25nLFxuICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICB9LFxuICAgIGNvZGU6IHtcbiAgICAgIC4uLm1hcmtzLmNvZGUsXG4gICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgIH0sXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3Qgc2NoZW1hID0gbmV3IFNjaGVtYShzcGVjKTtcbiIsImltcG9ydCB7XG4gIGlucHV0UnVsZXMsXG4gIHNtYXJ0UXVvdGVzLFxuICBlbGxpcHNpcyxcbiAgdGV4dGJsb2NrVHlwZUlucHV0UnVsZSxcbiAgSW5wdXRSdWxlLFxufSBmcm9tICdwcm9zZW1pcnJvci1pbnB1dHJ1bGVzJztcbmltcG9ydCB7IFBsdWdpbiwgU2VsZWN0aW9uIH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnO1xuaW1wb3J0IHsgTWFya1R5cGUsIE5vZGVUeXBlIH0gZnJvbSAncHJvc2VtaXJyb3ItbW9kZWwnO1xuaW1wb3J0IHsgc2NoZW1hIH0gZnJvbSAnLi9zY2hlbWEnO1xuXG5mdW5jdGlvbiBtYXJrV3JhcHBpbmdSdWxlKGM6IHN0cmluZywgbWFya1R5cGU6IE1hcmtUeXBlKSB7XG4gIHJldHVybiBuZXcgSW5wdXRSdWxlKG5ldyBSZWdFeHAoYCR7Y30oLio/KSR7Y31gKSwgKHN0YXRlLCBtYXRjaCwgc3RhcnQsIGVuZCkgPT4ge1xuICAgIGNvbnN0IFtfLCB0ZXh0XSA9IG1hdGNoO1xuICAgIGNvbnN0IHsgdHIgfSA9IHN0YXRlO1xuICAgIGlmICghdGV4dCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGV4aXN0aW5nTWFya3MgPSBzdGF0ZS5kb2MucmVzb2x2ZShzdGFydCkubWFya3NBY3Jvc3Moc3RhdGUuZG9jLnJlc29sdmUoZW5kKSk7XG4gICAgcmV0dXJuIHRyLnJlcGxhY2VSYW5nZVdpdGgoc3RhcnQsIGVuZCwgc2NoZW1hLnRleHQodGV4dCwgW1xuICAgICAgLi4uZXhpc3RpbmdNYXJrcyxcbiAgICAgIG1hcmtUeXBlLmNyZWF0ZSgpLFxuICAgIF0pKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxpc3RUeXBlUnVsZShwcmVmaXg6IHN0cmluZywgbGlzdFR5cGU6IE5vZGVUeXBlKTogSW5wdXRSdWxlIHtcbiAgcmV0dXJuIG5ldyBJbnB1dFJ1bGUobmV3IFJlZ0V4cChgXiR7cHJlZml4fWApLCAoc3RhdGUsIG1hdGNoLCBzdGFydCwgZW5kKSA9PiB7XG4gICAgY29uc3QgeyAkZnJvbSB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIGlmICgkZnJvbS5kZXB0aCA+IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IHRyIH0gPSBzdGF0ZTtcbiAgICB0ci5yZXBsYWNlUmFuZ2VXaXRoKHN0YXJ0LCBlbmQsIGxpc3RUeXBlLmNyZWF0ZUFuZEZpbGwoKSlcbiAgICB0ci5zZXRTZWxlY3Rpb24oU2VsZWN0aW9uLm5lYXIodHIuZG9jLnJlc29sdmUoc3RhcnQpKSk7XG4gICAgcmV0dXJuIHRyO1xuICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IGlucHV0UnVsZXNQbHVnaW4gPSBpbnB1dFJ1bGVzKHtcbiAgcnVsZXM6IFtcbiAgICAuLi5zbWFydFF1b3RlcyxcbiAgICBlbGxpcHNpcyxcbiAgICB0ZXh0YmxvY2tUeXBlSW5wdXRSdWxlKC9eIyAvLCBzY2hlbWEubm9kZXMuaGVhZGluZzIpLFxuICAgIG1hcmtXcmFwcGluZ1J1bGUoJ2AnLCBzY2hlbWEubWFya3MuY29kZSksXG4gICAgbWFya1dyYXBwaW5nUnVsZSgnXFxcXCpcXFxcKicsIHNjaGVtYS5tYXJrcy5zdHJvbmcpLFxuICAgIG1hcmtXcmFwcGluZ1J1bGUoJ1xcXFwqJywgc2NoZW1hLm1hcmtzLmVtKSxcbiAgICBsaXN0VHlwZVJ1bGUoJzEuICcsIHNjaGVtYS5ub2Rlcy5vcmRlcmVkX2xpc3QpLFxuICAgIGxpc3RUeXBlUnVsZSgnLSAnLCBzY2hlbWEubm9kZXMudW5vcmRlcmVkX2xpc3QpLFxuICBdLFxufSk7XG4iLCJpbXBvcnQge0lucHV0UnVsZX0gZnJvbSBcIi4vaW5wdXRydWxlc1wiXG5pbXBvcnQge2ZpbmRXcmFwcGluZywgY2FuSm9pbn0gZnJvbSBcInByb3NlbWlycm9yLXRyYW5zZm9ybVwiXG5cbi8vIDo6IChSZWdFeHAsIE5vZGVUeXBlLCA/dW5pb248T2JqZWN0LCAoW3N0cmluZ10pIOKGkiA/T2JqZWN0PiwgPyhbc3RyaW5nXSwgTm9kZSkg4oaSIGJvb2wpIOKGkiBJbnB1dFJ1bGVcbi8vIEJ1aWxkIGFuIGlucHV0IHJ1bGUgZm9yIGF1dG9tYXRpY2FsbHkgd3JhcHBpbmcgYSB0ZXh0YmxvY2sgd2hlbiBhXG4vLyBnaXZlbiBzdHJpbmcgaXMgdHlwZWQuIFRoZSBgcmVnZXhwYCBhcmd1bWVudCBpc1xuLy8gZGlyZWN0bHkgcGFzc2VkIHRocm91Z2ggdG8gdGhlIGBJbnB1dFJ1bGVgIGNvbnN0cnVjdG9yLiBZb3UnbGxcbi8vIHByb2JhYmx5IHdhbnQgdGhlIHJlZ2V4cCB0byBzdGFydCB3aXRoIGBeYCwgc28gdGhhdCB0aGUgcGF0dGVybiBjYW5cbi8vIG9ubHkgb2NjdXIgYXQgdGhlIHN0YXJ0IG9mIGEgdGV4dGJsb2NrLlxuLy9cbi8vIGBub2RlVHlwZWAgaXMgdGhlIHR5cGUgb2Ygbm9kZSB0byB3cmFwIGluLiBJZiBpdCBuZWVkcyBhdHRyaWJ1dGVzLFxuLy8geW91IGNhbiBlaXRoZXIgcGFzcyB0aGVtIGRpcmVjdGx5LCBvciBwYXNzIGEgZnVuY3Rpb24gdGhhdCB3aWxsXG4vLyBjb21wdXRlIHRoZW0gZnJvbSB0aGUgcmVndWxhciBleHByZXNzaW9uIG1hdGNoLlxuLy9cbi8vIEJ5IGRlZmF1bHQsIGlmIHRoZXJlJ3MgYSBub2RlIHdpdGggdGhlIHNhbWUgdHlwZSBhYm92ZSB0aGUgbmV3bHlcbi8vIHdyYXBwZWQgbm9kZSwgdGhlIHJ1bGUgd2lsbCB0cnkgdG8gW2pvaW5dKCN0cmFuc2Zvcm0uVHJhbnNmb3JtLmpvaW4pIHRob3NlXG4vLyB0d28gbm9kZXMuIFlvdSBjYW4gcGFzcyBhIGpvaW4gcHJlZGljYXRlLCB3aGljaCB0YWtlcyBhIHJlZ3VsYXJcbi8vIGV4cHJlc3Npb24gbWF0Y2ggYW5kIHRoZSBub2RlIGJlZm9yZSB0aGUgd3JhcHBlZCBub2RlLCBhbmQgY2FuXG4vLyByZXR1cm4gYSBib29sZWFuIHRvIGluZGljYXRlIHdoZXRoZXIgYSBqb2luIHNob3VsZCBoYXBwZW4uXG5leHBvcnQgZnVuY3Rpb24gd3JhcHBpbmdJbnB1dFJ1bGUocmVnZXhwLCBub2RlVHlwZSwgZ2V0QXR0cnMsIGpvaW5QcmVkaWNhdGUpIHtcbiAgcmV0dXJuIG5ldyBJbnB1dFJ1bGUocmVnZXhwLCAoc3RhdGUsIG1hdGNoLCBzdGFydCwgZW5kKSA9PiB7XG4gICAgbGV0IGF0dHJzID0gZ2V0QXR0cnMgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGdldEF0dHJzKG1hdGNoKSA6IGdldEF0dHJzXG4gICAgbGV0IHRyID0gc3RhdGUudHIuZGVsZXRlKHN0YXJ0LCBlbmQpXG4gICAgbGV0ICRzdGFydCA9IHRyLmRvYy5yZXNvbHZlKHN0YXJ0KSwgcmFuZ2UgPSAkc3RhcnQuYmxvY2tSYW5nZSgpLCB3cmFwcGluZyA9IHJhbmdlICYmIGZpbmRXcmFwcGluZyhyYW5nZSwgbm9kZVR5cGUsIGF0dHJzKVxuICAgIGlmICghd3JhcHBpbmcpIHJldHVybiBudWxsXG4gICAgdHIud3JhcChyYW5nZSwgd3JhcHBpbmcpXG4gICAgbGV0IGJlZm9yZSA9IHRyLmRvYy5yZXNvbHZlKHN0YXJ0IC0gMSkubm9kZUJlZm9yZVxuICAgIGlmIChiZWZvcmUgJiYgYmVmb3JlLnR5cGUgPT0gbm9kZVR5cGUgJiYgY2FuSm9pbih0ci5kb2MsIHN0YXJ0IC0gMSkgJiZcbiAgICAgICAgKCFqb2luUHJlZGljYXRlIHx8IGpvaW5QcmVkaWNhdGUobWF0Y2gsIGJlZm9yZSkpKVxuICAgICAgdHIuam9pbihzdGFydCAtIDEpXG4gICAgcmV0dXJuIHRyXG4gIH0pXG59XG5cbi8vIDo6IChSZWdFeHAsIE5vZGVUeXBlLCA/dW5pb248T2JqZWN0LCAoW3N0cmluZ10pIOKGkiA/T2JqZWN0Pikg4oaSIElucHV0UnVsZVxuLy8gQnVpbGQgYW4gaW5wdXQgcnVsZSB0aGF0IGNoYW5nZXMgdGhlIHR5cGUgb2YgYSB0ZXh0YmxvY2sgd2hlbiB0aGVcbi8vIG1hdGNoZWQgdGV4dCBpcyB0eXBlZCBpbnRvIGl0LiBZb3UnbGwgdXN1YWxseSB3YW50IHRvIHN0YXJ0IHlvdXJcbi8vIHJlZ2V4cCB3aXRoIGBeYCB0byB0aGF0IGl0IGlzIG9ubHkgbWF0Y2hlZCBhdCB0aGUgc3RhcnQgb2YgYVxuLy8gdGV4dGJsb2NrLiBUaGUgb3B0aW9uYWwgYGdldEF0dHJzYCBwYXJhbWV0ZXIgY2FuIGJlIHVzZWQgdG8gY29tcHV0ZVxuLy8gdGhlIG5ldyBub2RlJ3MgYXR0cmlidXRlcywgYW5kIHdvcmtzIHRoZSBzYW1lIGFzIGluIHRoZVxuLy8gYHdyYXBwaW5nSW5wdXRSdWxlYCBmdW5jdGlvbi5cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0YmxvY2tUeXBlSW5wdXRSdWxlKHJlZ2V4cCwgbm9kZVR5cGUsIGdldEF0dHJzKSB7XG4gIHJldHVybiBuZXcgSW5wdXRSdWxlKHJlZ2V4cCwgKHN0YXRlLCBtYXRjaCwgc3RhcnQsIGVuZCkgPT4ge1xuICAgIGxldCAkc3RhcnQgPSBzdGF0ZS5kb2MucmVzb2x2ZShzdGFydClcbiAgICBsZXQgYXR0cnMgPSBnZXRBdHRycyBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gZ2V0QXR0cnMobWF0Y2gpIDogZ2V0QXR0cnNcbiAgICBpZiAoISRzdGFydC5ub2RlKC0xKS5jYW5SZXBsYWNlV2l0aCgkc3RhcnQuaW5kZXgoLTEpLCAkc3RhcnQuaW5kZXhBZnRlcigtMSksIG5vZGVUeXBlKSkgcmV0dXJuIG51bGxcbiAgICByZXR1cm4gc3RhdGUudHJcbiAgICAgIC5kZWxldGUoc3RhcnQsIGVuZClcbiAgICAgIC5zZXRCbG9ja1R5cGUoc3RhcnQsIHN0YXJ0LCBub2RlVHlwZSwgYXR0cnMpXG4gIH0pXG59XG4iLCJpbXBvcnQge2pvaW5Qb2ludCwgY2FuSm9pbiwgZmluZFdyYXBwaW5nLCBsaWZ0VGFyZ2V0LCBjYW5TcGxpdCwgUmVwbGFjZUFyb3VuZFN0ZXB9IGZyb20gXCJwcm9zZW1pcnJvci10cmFuc2Zvcm1cIlxuaW1wb3J0IHtTbGljZSwgRnJhZ21lbnR9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiXG5pbXBvcnQge1NlbGVjdGlvbiwgVGV4dFNlbGVjdGlvbiwgTm9kZVNlbGVjdGlvbiwgQWxsU2VsZWN0aW9ufSBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIlxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIERlbGV0ZSB0aGUgc2VsZWN0aW9uLCBpZiB0aGVyZSBpcyBvbmUuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlU2VsZWN0aW9uKHN0YXRlLCBkaXNwYXRjaCkge1xuICBpZiAoc3RhdGUuc2VsZWN0aW9uLmVtcHR5KSByZXR1cm4gZmFsc2VcbiAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5kZWxldGVTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSwgP0VkaXRvclZpZXcpIOKGkiBib29sXG4vLyBJZiB0aGUgc2VsZWN0aW9uIGlzIGVtcHR5IGFuZCBhdCB0aGUgc3RhcnQgb2YgYSB0ZXh0YmxvY2ssIHRyeSB0b1xuLy8gcmVkdWNlIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoYXQgYmxvY2sgYW5kIHRoZSBvbmUgYmVmb3JlIGl04oCUaWZcbi8vIHRoZXJlJ3MgYSBibG9jayBkaXJlY3RseSBiZWZvcmUgaXQgdGhhdCBjYW4gYmUgam9pbmVkLCBqb2luIHRoZW0uXG4vLyBJZiBub3QsIHRyeSB0byBtb3ZlIHRoZSBzZWxlY3RlZCBibG9jayBjbG9zZXIgdG8gdGhlIG5leHQgb25lIGluXG4vLyB0aGUgZG9jdW1lbnQgc3RydWN0dXJlIGJ5IGxpZnRpbmcgaXQgb3V0IG9mIGl0cyBwYXJlbnQgb3IgbW92aW5nIGl0XG4vLyBpbnRvIGEgcGFyZW50IG9mIHRoZSBwcmV2aW91cyBibG9jay4gV2lsbCB1c2UgdGhlIHZpZXcgZm9yIGFjY3VyYXRlXG4vLyAoYmlkaS1hd2FyZSkgc3RhcnQtb2YtdGV4dGJsb2NrIGRldGVjdGlvbiBpZiBnaXZlbi5cbmV4cG9ydCBmdW5jdGlvbiBqb2luQmFja3dhcmQoc3RhdGUsIGRpc3BhdGNoLCB2aWV3KSB7XG4gIGxldCB7JGN1cnNvcn0gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKCEkY3Vyc29yIHx8ICh2aWV3ID8gIXZpZXcuZW5kT2ZUZXh0YmxvY2soXCJiYWNrd2FyZFwiLCBzdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJGN1cnNvci5wYXJlbnRPZmZzZXQgPiAwKSlcbiAgICByZXR1cm4gZmFsc2VcblxuICBsZXQgJGN1dCA9IGZpbmRDdXRCZWZvcmUoJGN1cnNvcilcblxuICAvLyBJZiB0aGVyZSBpcyBubyBub2RlIGJlZm9yZSB0aGlzLCB0cnkgdG8gbGlmdFxuICBpZiAoISRjdXQpIHtcbiAgICBsZXQgcmFuZ2UgPSAkY3Vyc29yLmJsb2NrUmFuZ2UoKSwgdGFyZ2V0ID0gcmFuZ2UgJiYgbGlmdFRhcmdldChyYW5nZSlcbiAgICBpZiAodGFyZ2V0ID09IG51bGwpIHJldHVybiBmYWxzZVxuICAgIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIubGlmdChyYW5nZSwgdGFyZ2V0KS5zY3JvbGxJbnRvVmlldygpKVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBsZXQgYmVmb3JlID0gJGN1dC5ub2RlQmVmb3JlXG4gIC8vIEFwcGx5IHRoZSBqb2luaW5nIGFsZ29yaXRobVxuICBpZiAoIWJlZm9yZS50eXBlLnNwZWMuaXNvbGF0aW5nICYmIGRlbGV0ZUJhcnJpZXIoc3RhdGUsICRjdXQsIGRpc3BhdGNoKSlcbiAgICByZXR1cm4gdHJ1ZVxuXG4gIC8vIElmIHRoZSBub2RlIGJlbG93IGhhcyBubyBjb250ZW50IGFuZCB0aGUgbm9kZSBhYm92ZSBpc1xuICAvLyBzZWxlY3RhYmxlLCBkZWxldGUgdGhlIG5vZGUgYmVsb3cgYW5kIHNlbGVjdCB0aGUgb25lIGFib3ZlLlxuICBpZiAoJGN1cnNvci5wYXJlbnQuY29udGVudC5zaXplID09IDAgJiZcbiAgICAgICh0ZXh0YmxvY2tBdChiZWZvcmUsIFwiZW5kXCIpIHx8IE5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKGJlZm9yZSkpKSB7XG4gICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICBsZXQgdHIgPSBzdGF0ZS50ci5kZWxldGVSYW5nZSgkY3Vyc29yLmJlZm9yZSgpLCAkY3Vyc29yLmFmdGVyKCkpXG4gICAgICB0ci5zZXRTZWxlY3Rpb24odGV4dGJsb2NrQXQoYmVmb3JlLCBcImVuZFwiKSA/IFNlbGVjdGlvbi5maW5kRnJvbSh0ci5kb2MucmVzb2x2ZSh0ci5tYXBwaW5nLm1hcCgkY3V0LnBvcywgLTEpKSwgLTEpXG4gICAgICAgICAgICAgICAgICAgICAgOiBOb2RlU2VsZWN0aW9uLmNyZWF0ZSh0ci5kb2MsICRjdXQucG9zIC0gYmVmb3JlLm5vZGVTaXplKSlcbiAgICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvLyBJZiB0aGUgbm9kZSBiZWZvcmUgaXMgYW4gYXRvbSwgZGVsZXRlIGl0XG4gIGlmIChiZWZvcmUuaXNBdG9tICYmICRjdXQuZGVwdGggPT0gJGN1cnNvci5kZXB0aCAtIDEpIHtcbiAgICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLmRlbGV0ZSgkY3V0LnBvcyAtIGJlZm9yZS5ub2RlU2l6ZSwgJGN1dC5wb3MpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiB0ZXh0YmxvY2tBdChub2RlLCBzaWRlKSB7XG4gIGZvciAoOyBub2RlOyBub2RlID0gKHNpZGUgPT0gXCJzdGFydFwiID8gbm9kZS5maXJzdENoaWxkIDogbm9kZS5sYXN0Q2hpbGQpKVxuICAgIGlmIChub2RlLmlzVGV4dGJsb2NrKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gZmFsc2Vcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbiksID9FZGl0b3JWaWV3KSDihpIgYm9vbFxuLy8gV2hlbiB0aGUgc2VsZWN0aW9uIGlzIGVtcHR5IGFuZCBhdCB0aGUgc3RhcnQgb2YgYSB0ZXh0YmxvY2ssIHNlbGVjdFxuLy8gdGhlIG5vZGUgYmVmb3JlIHRoYXQgdGV4dGJsb2NrLCBpZiBwb3NzaWJsZS4gVGhpcyBpcyBpbnRlbmRlZCB0byBiZVxuLy8gYm91bmQgdG8ga2V5cyBsaWtlIGJhY2tzcGFjZSwgYWZ0ZXJcbi8vIFtgam9pbkJhY2t3YXJkYF0oI2NvbW1hbmRzLmpvaW5CYWNrd2FyZCkgb3Igb3RoZXIgZGVsZXRpbmdcbi8vIGNvbW1hbmRzLCBhcyBhIGZhbGwtYmFjayBiZWhhdmlvciB3aGVuIHRoZSBzY2hlbWEgZG9lc24ndCBhbGxvd1xuLy8gZGVsZXRpb24gYXQgdGhlIHNlbGVjdGVkIHBvaW50LlxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdE5vZGVCYWNrd2FyZChzdGF0ZSwgZGlzcGF0Y2gsIHZpZXcpIHtcbiAgbGV0IHskY3Vyc29yfSA9IHN0YXRlLnNlbGVjdGlvblxuICBpZiAoISRjdXJzb3IgfHwgKHZpZXcgPyAhdmlldy5lbmRPZlRleHRibG9jayhcImJhY2t3YXJkXCIsIHN0YXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAkY3Vyc29yLnBhcmVudE9mZnNldCA+IDApKVxuICAgIHJldHVybiBmYWxzZVxuXG4gIGxldCAkY3V0ID0gZmluZEN1dEJlZm9yZSgkY3Vyc29yKSwgbm9kZSA9ICRjdXQgJiYgJGN1dC5ub2RlQmVmb3JlXG4gIGlmICghbm9kZSB8fCAhTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUobm9kZSkpIHJldHVybiBmYWxzZVxuICBpZiAoZGlzcGF0Y2gpXG4gICAgZGlzcGF0Y2goc3RhdGUudHIuc2V0U2VsZWN0aW9uKE5vZGVTZWxlY3Rpb24uY3JlYXRlKHN0YXRlLmRvYywgJGN1dC5wb3MgLSBub2RlLm5vZGVTaXplKSkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gZmluZEN1dEJlZm9yZSgkcG9zKSB7XG4gIGlmICghJHBvcy5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZykgZm9yIChsZXQgaSA9ICRwb3MuZGVwdGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmICgkcG9zLmluZGV4KGkpID4gMCkgcmV0dXJuICRwb3MuZG9jLnJlc29sdmUoJHBvcy5iZWZvcmUoaSArIDEpKVxuICAgIGlmICgkcG9zLm5vZGUoaSkudHlwZS5zcGVjLmlzb2xhdGluZykgYnJlYWtcbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSwgP0VkaXRvclZpZXcpIOKGkiBib29sXG4vLyBJZiB0aGUgc2VsZWN0aW9uIGlzIGVtcHR5IGFuZCB0aGUgY3Vyc29yIGlzIGF0IHRoZSBlbmQgb2YgYVxuLy8gdGV4dGJsb2NrLCB0cnkgdG8gcmVkdWNlIG9yIHJlbW92ZSB0aGUgYm91bmRhcnkgYmV0d2VlbiB0aGF0IGJsb2NrXG4vLyBhbmQgdGhlIG9uZSBhZnRlciBpdCwgZWl0aGVyIGJ5IGpvaW5pbmcgdGhlbSBvciBieSBtb3ZpbmcgdGhlIG90aGVyXG4vLyBibG9jayBjbG9zZXIgdG8gdGhpcyBvbmUgaW4gdGhlIHRyZWUgc3RydWN0dXJlLiBXaWxsIHVzZSB0aGUgdmlld1xuLy8gZm9yIGFjY3VyYXRlIHN0YXJ0LW9mLXRleHRibG9jayBkZXRlY3Rpb24gaWYgZ2l2ZW4uXG5leHBvcnQgZnVuY3Rpb24gam9pbkZvcndhcmQoc3RhdGUsIGRpc3BhdGNoLCB2aWV3KSB7XG4gIGxldCB7JGN1cnNvcn0gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKCEkY3Vyc29yIHx8ICh2aWV3ID8gIXZpZXcuZW5kT2ZUZXh0YmxvY2soXCJmb3J3YXJkXCIsIHN0YXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAkY3Vyc29yLnBhcmVudE9mZnNldCA8ICRjdXJzb3IucGFyZW50LmNvbnRlbnQuc2l6ZSkpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgbGV0ICRjdXQgPSBmaW5kQ3V0QWZ0ZXIoJGN1cnNvcilcblxuICAvLyBJZiB0aGVyZSBpcyBubyBub2RlIGFmdGVyIHRoaXMsIHRoZXJlJ3Mgbm90aGluZyB0byBkb1xuICBpZiAoISRjdXQpIHJldHVybiBmYWxzZVxuXG4gIGxldCBhZnRlciA9ICRjdXQubm9kZUFmdGVyXG4gIC8vIFRyeSB0aGUgam9pbmluZyBhbGdvcml0aG1cbiAgaWYgKGRlbGV0ZUJhcnJpZXIoc3RhdGUsICRjdXQsIGRpc3BhdGNoKSkgcmV0dXJuIHRydWVcblxuICAvLyBJZiB0aGUgbm9kZSBhYm92ZSBoYXMgbm8gY29udGVudCBhbmQgdGhlIG5vZGUgYmVsb3cgaXNcbiAgLy8gc2VsZWN0YWJsZSwgZGVsZXRlIHRoZSBub2RlIGFib3ZlIGFuZCBzZWxlY3QgdGhlIG9uZSBiZWxvdy5cbiAgaWYgKCRjdXJzb3IucGFyZW50LmNvbnRlbnQuc2l6ZSA9PSAwICYmXG4gICAgICAodGV4dGJsb2NrQXQoYWZ0ZXIsIFwic3RhcnRcIikgfHwgTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUoYWZ0ZXIpKSkge1xuICAgIGlmIChkaXNwYXRjaCkge1xuICAgICAgbGV0IHRyID0gc3RhdGUudHIuZGVsZXRlUmFuZ2UoJGN1cnNvci5iZWZvcmUoKSwgJGN1cnNvci5hZnRlcigpKVxuICAgICAgdHIuc2V0U2VsZWN0aW9uKHRleHRibG9ja0F0KGFmdGVyLCBcInN0YXJ0XCIpID8gU2VsZWN0aW9uLmZpbmRGcm9tKHRyLmRvYy5yZXNvbHZlKHRyLm1hcHBpbmcubWFwKCRjdXQucG9zKSksIDEpXG4gICAgICAgICAgICAgICAgICAgICAgOiBOb2RlU2VsZWN0aW9uLmNyZWF0ZSh0ci5kb2MsIHRyLm1hcHBpbmcubWFwKCRjdXQucG9zKSkpXG4gICAgICBkaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gSWYgdGhlIG5leHQgbm9kZSBpcyBhbiBhdG9tLCBkZWxldGUgaXRcbiAgaWYgKGFmdGVyLmlzQXRvbSAmJiAkY3V0LmRlcHRoID09ICRjdXJzb3IuZGVwdGggLSAxKSB7XG4gICAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5kZWxldGUoJGN1dC5wb3MsICRjdXQucG9zICsgYWZ0ZXIubm9kZVNpemUpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSwgP0VkaXRvclZpZXcpIOKGkiBib29sXG4vLyBXaGVuIHRoZSBzZWxlY3Rpb24gaXMgZW1wdHkgYW5kIGF0IHRoZSBlbmQgb2YgYSB0ZXh0YmxvY2ssIHNlbGVjdFxuLy8gdGhlIG5vZGUgY29taW5nIGFmdGVyIHRoYXQgdGV4dGJsb2NrLCBpZiBwb3NzaWJsZS4gVGhpcyBpcyBpbnRlbmRlZFxuLy8gdG8gYmUgYm91bmQgdG8ga2V5cyBsaWtlIGRlbGV0ZSwgYWZ0ZXJcbi8vIFtgam9pbkZvcndhcmRgXSgjY29tbWFuZHMuam9pbkZvcndhcmQpIGFuZCBzaW1pbGFyIGRlbGV0aW5nXG4vLyBjb21tYW5kcywgdG8gcHJvdmlkZSBhIGZhbGwtYmFjayBiZWhhdmlvciB3aGVuIHRoZSBzY2hlbWEgZG9lc24ndFxuLy8gYWxsb3cgZGVsZXRpb24gYXQgdGhlIHNlbGVjdGVkIHBvaW50LlxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdE5vZGVGb3J3YXJkKHN0YXRlLCBkaXNwYXRjaCwgdmlldykge1xuICBsZXQgeyRjdXJzb3J9ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGlmICghJGN1cnNvciB8fCAodmlldyA/ICF2aWV3LmVuZE9mVGV4dGJsb2NrKFwiZm9yd2FyZFwiLCBzdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJGN1cnNvci5wYXJlbnRPZmZzZXQgPCAkY3Vyc29yLnBhcmVudC5jb250ZW50LnNpemUpKVxuICAgIHJldHVybiBmYWxzZVxuXG4gIGxldCAkY3V0ID0gZmluZEN1dEFmdGVyKCRjdXJzb3IpLCBub2RlID0gJGN1dCAmJiAkY3V0Lm5vZGVBZnRlclxuICBpZiAoIW5vZGUgfHwgIU5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5vZGUpKSByZXR1cm4gZmFsc2VcbiAgaWYgKGRpc3BhdGNoKVxuICAgIGRpc3BhdGNoKHN0YXRlLnRyLnNldFNlbGVjdGlvbihOb2RlU2VsZWN0aW9uLmNyZWF0ZShzdGF0ZS5kb2MsICRjdXQucG9zKSkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gZmluZEN1dEFmdGVyKCRwb3MpIHtcbiAgaWYgKCEkcG9zLnBhcmVudC50eXBlLnNwZWMuaXNvbGF0aW5nKSBmb3IgKGxldCBpID0gJHBvcy5kZXB0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGV0IHBhcmVudCA9ICRwb3Mubm9kZShpKVxuICAgIGlmICgkcG9zLmluZGV4KGkpICsgMSA8IHBhcmVudC5jaGlsZENvdW50KSByZXR1cm4gJHBvcy5kb2MucmVzb2x2ZSgkcG9zLmFmdGVyKGkgKyAxKSlcbiAgICBpZiAocGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpIGJyZWFrXG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBKb2luIHRoZSBzZWxlY3RlZCBibG9jayBvciwgaWYgdGhlcmUgaXMgYSB0ZXh0IHNlbGVjdGlvbiwgdGhlXG4vLyBjbG9zZXN0IGFuY2VzdG9yIGJsb2NrIG9mIHRoZSBzZWxlY3Rpb24gdGhhdCBjYW4gYmUgam9pbmVkLCB3aXRoXG4vLyB0aGUgc2libGluZyBhYm92ZSBpdC5cbmV4cG9ydCBmdW5jdGlvbiBqb2luVXAoc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGxldCBzZWwgPSBzdGF0ZS5zZWxlY3Rpb24sIG5vZGVTZWwgPSBzZWwgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uLCBwb2ludFxuICBpZiAobm9kZVNlbCkge1xuICAgIGlmIChzZWwubm9kZS5pc1RleHRibG9jayB8fCAhY2FuSm9pbihzdGF0ZS5kb2MsIHNlbC5mcm9tKSkgcmV0dXJuIGZhbHNlXG4gICAgcG9pbnQgPSBzZWwuZnJvbVxuICB9IGVsc2Uge1xuICAgIHBvaW50ID0gam9pblBvaW50KHN0YXRlLmRvYywgc2VsLmZyb20sIC0xKVxuICAgIGlmIChwb2ludCA9PSBudWxsKSByZXR1cm4gZmFsc2VcbiAgfVxuICBpZiAoZGlzcGF0Y2gpIHtcbiAgICBsZXQgdHIgPSBzdGF0ZS50ci5qb2luKHBvaW50KVxuICAgIGlmIChub2RlU2VsKSB0ci5zZXRTZWxlY3Rpb24oTm9kZVNlbGVjdGlvbi5jcmVhdGUodHIuZG9jLCBwb2ludCAtIHN0YXRlLmRvYy5yZXNvbHZlKHBvaW50KS5ub2RlQmVmb3JlLm5vZGVTaXplKSlcbiAgICBkaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpKVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gSm9pbiB0aGUgc2VsZWN0ZWQgYmxvY2ssIG9yIHRoZSBjbG9zZXN0IGFuY2VzdG9yIG9mIHRoZSBzZWxlY3Rpb25cbi8vIHRoYXQgY2FuIGJlIGpvaW5lZCwgd2l0aCB0aGUgc2libGluZyBhZnRlciBpdC5cbmV4cG9ydCBmdW5jdGlvbiBqb2luRG93bihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgbGV0IHNlbCA9IHN0YXRlLnNlbGVjdGlvbiwgcG9pbnRcbiAgaWYgKHNlbCBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24pIHtcbiAgICBpZiAoc2VsLm5vZGUuaXNUZXh0YmxvY2sgfHwgIWNhbkpvaW4oc3RhdGUuZG9jLCBzZWwudG8pKSByZXR1cm4gZmFsc2VcbiAgICBwb2ludCA9IHNlbC50b1xuICB9IGVsc2Uge1xuICAgIHBvaW50ID0gam9pblBvaW50KHN0YXRlLmRvYywgc2VsLnRvLCAxKVxuICAgIGlmIChwb2ludCA9PSBudWxsKSByZXR1cm4gZmFsc2VcbiAgfVxuICBpZiAoZGlzcGF0Y2gpXG4gICAgZGlzcGF0Y2goc3RhdGUudHIuam9pbihwb2ludCkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBMaWZ0IHRoZSBzZWxlY3RlZCBibG9jaywgb3IgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgYmxvY2sgb2YgdGhlXG4vLyBzZWxlY3Rpb24gdGhhdCBjYW4gYmUgbGlmdGVkLCBvdXQgb2YgaXRzIHBhcmVudCBub2RlLlxuZXhwb3J0IGZ1bmN0aW9uIGxpZnQoc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGxldCB7JGZyb20sICR0b30gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgbGV0IHJhbmdlID0gJGZyb20uYmxvY2tSYW5nZSgkdG8pLCB0YXJnZXQgPSByYW5nZSAmJiBsaWZ0VGFyZ2V0KHJhbmdlKVxuICBpZiAodGFyZ2V0ID09IG51bGwpIHJldHVybiBmYWxzZVxuICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLmxpZnQocmFuZ2UsIHRhcmdldCkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBJZiB0aGUgc2VsZWN0aW9uIGlzIGluIGEgbm9kZSB3aG9zZSB0eXBlIGhhcyBhIHRydXRoeVxuLy8gW2Bjb2RlYF0oI21vZGVsLk5vZGVTcGVjLmNvZGUpIHByb3BlcnR5IGluIGl0cyBzcGVjLCByZXBsYWNlIHRoZVxuLy8gc2VsZWN0aW9uIHdpdGggYSBuZXdsaW5lIGNoYXJhY3Rlci5cbmV4cG9ydCBmdW5jdGlvbiBuZXdsaW5lSW5Db2RlKHN0YXRlLCBkaXNwYXRjaCkge1xuICBsZXQgeyRoZWFkLCAkYW5jaG9yfSA9IHN0YXRlLnNlbGVjdGlvblxuICBpZiAoISRoZWFkLnBhcmVudC50eXBlLnNwZWMuY29kZSB8fCAhJGhlYWQuc2FtZVBhcmVudCgkYW5jaG9yKSkgcmV0dXJuIGZhbHNlXG4gIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIuaW5zZXJ0VGV4dChcIlxcblwiKS5zY3JvbGxJbnRvVmlldygpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0QmxvY2tBdChtYXRjaCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdGNoLmVkZ2VDb3VudDsgaSsrKSB7XG4gICAgbGV0IHt0eXBlfSA9IG1hdGNoLmVkZ2UoaSlcbiAgICBpZiAodHlwZS5pc1RleHRibG9jayAmJiAhdHlwZS5oYXNSZXF1aXJlZEF0dHJzKCkpIHJldHVybiB0eXBlXG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBXaGVuIHRoZSBzZWxlY3Rpb24gaXMgaW4gYSBub2RlIHdpdGggYSB0cnV0aHlcbi8vIFtgY29kZWBdKCNtb2RlbC5Ob2RlU3BlYy5jb2RlKSBwcm9wZXJ0eSBpbiBpdHMgc3BlYywgY3JlYXRlIGFcbi8vIGRlZmF1bHQgYmxvY2sgYWZ0ZXIgdGhlIGNvZGUgYmxvY2ssIGFuZCBtb3ZlIHRoZSBjdXJzb3IgdGhlcmUuXG5leHBvcnQgZnVuY3Rpb24gZXhpdENvZGUoc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGxldCB7JGhlYWQsICRhbmNob3J9ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGlmICghJGhlYWQucGFyZW50LnR5cGUuc3BlYy5jb2RlIHx8ICEkaGVhZC5zYW1lUGFyZW50KCRhbmNob3IpKSByZXR1cm4gZmFsc2VcbiAgbGV0IGFib3ZlID0gJGhlYWQubm9kZSgtMSksIGFmdGVyID0gJGhlYWQuaW5kZXhBZnRlcigtMSksIHR5cGUgPSBkZWZhdWx0QmxvY2tBdChhYm92ZS5jb250ZW50TWF0Y2hBdChhZnRlcikpXG4gIGlmICghYWJvdmUuY2FuUmVwbGFjZVdpdGgoYWZ0ZXIsIGFmdGVyLCB0eXBlKSkgcmV0dXJuIGZhbHNlXG4gIGlmIChkaXNwYXRjaCkge1xuICAgIGxldCBwb3MgPSAkaGVhZC5hZnRlcigpLCB0ciA9IHN0YXRlLnRyLnJlcGxhY2VXaXRoKHBvcywgcG9zLCB0eXBlLmNyZWF0ZUFuZEZpbGwoKSlcbiAgICB0ci5zZXRTZWxlY3Rpb24oU2VsZWN0aW9uLm5lYXIodHIuZG9jLnJlc29sdmUocG9zKSwgMSkpXG4gICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIElmIGEgYmxvY2sgbm9kZSBpcyBzZWxlY3RlZCwgY3JlYXRlIGFuIGVtcHR5IHBhcmFncmFwaCBiZWZvcmUgKGlmXG4vLyBpdCBpcyBpdHMgcGFyZW50J3MgZmlyc3QgY2hpbGQpIG9yIGFmdGVyIGl0LlxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhcmFncmFwaE5lYXIoc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGxldCB7JGZyb20sICR0b30gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgaWYgKCRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50IHx8ICR0by5wYXJlbnQuaW5saW5lQ29udGVudCkgcmV0dXJuIGZhbHNlXG4gIGxldCB0eXBlID0gZGVmYXVsdEJsb2NrQXQoJGZyb20ucGFyZW50LmNvbnRlbnRNYXRjaEF0KCR0by5pbmRleEFmdGVyKCkpKVxuICBpZiAoIXR5cGUgfHwgIXR5cGUuaXNUZXh0YmxvY2spIHJldHVybiBmYWxzZVxuICBpZiAoZGlzcGF0Y2gpIHtcbiAgICBsZXQgc2lkZSA9ICghJGZyb20ucGFyZW50T2Zmc2V0ICYmICR0by5pbmRleCgpIDwgJHRvLnBhcmVudC5jaGlsZENvdW50ID8gJGZyb20gOiAkdG8pLnBvc1xuICAgIGxldCB0ciA9IHN0YXRlLnRyLmluc2VydChzaWRlLCB0eXBlLmNyZWF0ZUFuZEZpbGwoKSlcbiAgICB0ci5zZXRTZWxlY3Rpb24oVGV4dFNlbGVjdGlvbi5jcmVhdGUodHIuZG9jLCBzaWRlICsgMSkpXG4gICAgZGlzcGF0Y2godHIuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIElmIHRoZSBjdXJzb3IgaXMgaW4gYW4gZW1wdHkgdGV4dGJsb2NrIHRoYXQgY2FuIGJlIGxpZnRlZCwgbGlmdCB0aGVcbi8vIGJsb2NrLlxuZXhwb3J0IGZ1bmN0aW9uIGxpZnRFbXB0eUJsb2NrKHN0YXRlLCBkaXNwYXRjaCkge1xuICBsZXQgeyRjdXJzb3J9ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGlmICghJGN1cnNvciB8fCAkY3Vyc29yLnBhcmVudC5jb250ZW50LnNpemUpIHJldHVybiBmYWxzZVxuICBpZiAoJGN1cnNvci5kZXB0aCA+IDEgJiYgJGN1cnNvci5hZnRlcigpICE9ICRjdXJzb3IuZW5kKC0xKSkge1xuICAgIGxldCBiZWZvcmUgPSAkY3Vyc29yLmJlZm9yZSgpXG4gICAgaWYgKGNhblNwbGl0KHN0YXRlLmRvYywgYmVmb3JlKSkge1xuICAgICAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5zcGxpdChiZWZvcmUpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuICBsZXQgcmFuZ2UgPSAkY3Vyc29yLmJsb2NrUmFuZ2UoKSwgdGFyZ2V0ID0gcmFuZ2UgJiYgbGlmdFRhcmdldChyYW5nZSlcbiAgaWYgKHRhcmdldCA9PSBudWxsKSByZXR1cm4gZmFsc2VcbiAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5saWZ0KHJhbmdlLCB0YXJnZXQpLnNjcm9sbEludG9WaWV3KCkpXG4gIHJldHVybiB0cnVlXG59XG5cbi8vIDo6IChFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gU3BsaXQgdGhlIHBhcmVudCBibG9jayBvZiB0aGUgc2VsZWN0aW9uLiBJZiB0aGUgc2VsZWN0aW9uIGlzIGEgdGV4dFxuLy8gc2VsZWN0aW9uLCBhbHNvIGRlbGV0ZSBpdHMgY29udGVudC5cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdEJsb2NrKHN0YXRlLCBkaXNwYXRjaCkge1xuICBsZXQgeyRmcm9tLCAkdG99ID0gc3RhdGUuc2VsZWN0aW9uXG4gIGlmIChzdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uICYmIHN0YXRlLnNlbGVjdGlvbi5ub2RlLmlzQmxvY2spIHtcbiAgICBpZiAoISRmcm9tLnBhcmVudE9mZnNldCB8fCAhY2FuU3BsaXQoc3RhdGUuZG9jLCAkZnJvbS5wb3MpKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLnNwbGl0KCRmcm9tLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgaWYgKCEkZnJvbS5wYXJlbnQuaXNCbG9jaykgcmV0dXJuIGZhbHNlXG5cbiAgaWYgKGRpc3BhdGNoKSB7XG4gICAgbGV0IGF0RW5kID0gJHRvLnBhcmVudE9mZnNldCA9PSAkdG8ucGFyZW50LmNvbnRlbnQuc2l6ZVxuICAgIGxldCB0ciA9IHN0YXRlLnRyXG4gICAgaWYgKHN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24pIHRyLmRlbGV0ZVNlbGVjdGlvbigpXG4gICAgbGV0IGRlZmx0ID0gJGZyb20uZGVwdGggPT0gMCA/IG51bGwgOiBkZWZhdWx0QmxvY2tBdCgkZnJvbS5ub2RlKC0xKS5jb250ZW50TWF0Y2hBdCgkZnJvbS5pbmRleEFmdGVyKC0xKSkpXG4gICAgbGV0IHR5cGVzID0gYXRFbmQgJiYgZGVmbHQgPyBbe3R5cGU6IGRlZmx0fV0gOiBudWxsXG4gICAgbGV0IGNhbiA9IGNhblNwbGl0KHRyLmRvYywgdHIubWFwcGluZy5tYXAoJGZyb20ucG9zKSwgMSwgdHlwZXMpXG4gICAgaWYgKCF0eXBlcyAmJiAhY2FuICYmIGNhblNwbGl0KHRyLmRvYywgdHIubWFwcGluZy5tYXAoJGZyb20ucG9zKSwgMSwgZGVmbHQgJiYgW3t0eXBlOiBkZWZsdH1dKSkge1xuICAgICAgdHlwZXMgPSBbe3R5cGU6IGRlZmx0fV1cbiAgICAgIGNhbiA9IHRydWVcbiAgICB9XG4gICAgaWYgKGNhbikge1xuICAgICAgdHIuc3BsaXQodHIubWFwcGluZy5tYXAoJGZyb20ucG9zKSwgMSwgdHlwZXMpXG4gICAgICBpZiAoIWF0RW5kICYmICEkZnJvbS5wYXJlbnRPZmZzZXQgJiYgJGZyb20ucGFyZW50LnR5cGUgIT0gZGVmbHQgJiZcbiAgICAgICAgICAkZnJvbS5ub2RlKC0xKS5jYW5SZXBsYWNlKCRmcm9tLmluZGV4KC0xKSwgJGZyb20uaW5kZXhBZnRlcigtMSksIEZyYWdtZW50LmZyb20oZGVmbHQuY3JlYXRlKCksICRmcm9tLnBhcmVudCkpKVxuICAgICAgICB0ci5zZXROb2RlTWFya3VwKHRyLm1hcHBpbmcubWFwKCRmcm9tLmJlZm9yZSgpKSwgZGVmbHQpXG4gICAgfVxuICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBBY3RzIGxpa2UgW2BzcGxpdEJsb2NrYF0oI2NvbW1hbmRzLnNwbGl0QmxvY2spLCBidXQgd2l0aG91dFxuLy8gcmVzZXR0aW5nIHRoZSBzZXQgb2YgYWN0aXZlIG1hcmtzIGF0IHRoZSBjdXJzb3IuXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRCbG9ja0tlZXBNYXJrcyhzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHNwbGl0QmxvY2soc3RhdGUsIGRpc3BhdGNoICYmICh0ciA9PiB7XG4gICAgbGV0IG1hcmtzID0gc3RhdGUuc3RvcmVkTWFya3MgfHwgKHN0YXRlLnNlbGVjdGlvbi4kdG8ucGFyZW50T2Zmc2V0ICYmIHN0YXRlLnNlbGVjdGlvbi4kZnJvbS5tYXJrcygpKVxuICAgIGlmIChtYXJrcykgdHIuZW5zdXJlTWFya3MobWFya3MpXG4gICAgZGlzcGF0Y2godHIpXG4gIH0pKVxufVxuXG4vLyA6OiAoRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIE1vdmUgdGhlIHNlbGVjdGlvbiB0byB0aGUgbm9kZSB3cmFwcGluZyB0aGUgY3VycmVudCBzZWxlY3Rpb24sIGlmXG4vLyBhbnkuIChXaWxsIG5vdCBzZWxlY3QgdGhlIGRvY3VtZW50IG5vZGUuKVxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdFBhcmVudE5vZGUoc3RhdGUsIGRpc3BhdGNoKSB7XG4gIGxldCB7JGZyb20sIHRvfSA9IHN0YXRlLnNlbGVjdGlvbiwgcG9zXG4gIGxldCBzYW1lID0gJGZyb20uc2hhcmVkRGVwdGgodG8pXG4gIGlmIChzYW1lID09IDApIHJldHVybiBmYWxzZVxuICBwb3MgPSAkZnJvbS5iZWZvcmUoc2FtZSlcbiAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5zZXRTZWxlY3Rpb24oTm9kZVNlbGVjdGlvbi5jcmVhdGUoc3RhdGUuZG9jLCBwb3MpKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuLy8gOjogKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBTZWxlY3QgdGhlIHdob2xlIGRvY3VtZW50LlxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdEFsbChzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgaWYgKGRpc3BhdGNoKSBkaXNwYXRjaChzdGF0ZS50ci5zZXRTZWxlY3Rpb24obmV3IEFsbFNlbGVjdGlvbihzdGF0ZS5kb2MpKSlcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gam9pbk1heWJlQ2xlYXIoc3RhdGUsICRwb3MsIGRpc3BhdGNoKSB7XG4gIGxldCBiZWZvcmUgPSAkcG9zLm5vZGVCZWZvcmUsIGFmdGVyID0gJHBvcy5ub2RlQWZ0ZXIsIGluZGV4ID0gJHBvcy5pbmRleCgpXG4gIGlmICghYmVmb3JlIHx8ICFhZnRlciB8fCAhYmVmb3JlLnR5cGUuY29tcGF0aWJsZUNvbnRlbnQoYWZ0ZXIudHlwZSkpIHJldHVybiBmYWxzZVxuICBpZiAoIWJlZm9yZS5jb250ZW50LnNpemUgJiYgJHBvcy5wYXJlbnQuY2FuUmVwbGFjZShpbmRleCAtIDEsIGluZGV4KSkge1xuICAgIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIuZGVsZXRlKCRwb3MucG9zIC0gYmVmb3JlLm5vZGVTaXplLCAkcG9zLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIGlmICghJHBvcy5wYXJlbnQuY2FuUmVwbGFjZShpbmRleCwgaW5kZXggKyAxKSB8fCAhKGFmdGVyLmlzVGV4dGJsb2NrIHx8IGNhbkpvaW4oc3RhdGUuZG9jLCAkcG9zLnBvcykpKVxuICAgIHJldHVybiBmYWxzZVxuICBpZiAoZGlzcGF0Y2gpXG4gICAgZGlzcGF0Y2goc3RhdGUudHJcbiAgICAgICAgICAgICAuY2xlYXJJbmNvbXBhdGlibGUoJHBvcy5wb3MsIGJlZm9yZS50eXBlLCBiZWZvcmUuY29udGVudE1hdGNoQXQoYmVmb3JlLmNoaWxkQ291bnQpKVxuICAgICAgICAgICAgIC5qb2luKCRwb3MucG9zKVxuICAgICAgICAgICAgIC5zY3JvbGxJbnRvVmlldygpKVxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBkZWxldGVCYXJyaWVyKHN0YXRlLCAkY3V0LCBkaXNwYXRjaCkge1xuICBsZXQgYmVmb3JlID0gJGN1dC5ub2RlQmVmb3JlLCBhZnRlciA9ICRjdXQubm9kZUFmdGVyLCBjb25uLCBtYXRjaFxuICBpZiAoYmVmb3JlLnR5cGUuc3BlYy5pc29sYXRpbmcgfHwgYWZ0ZXIudHlwZS5zcGVjLmlzb2xhdGluZykgcmV0dXJuIGZhbHNlXG4gIGlmIChqb2luTWF5YmVDbGVhcihzdGF0ZSwgJGN1dCwgZGlzcGF0Y2gpKSByZXR1cm4gdHJ1ZVxuXG4gIGlmICgkY3V0LnBhcmVudC5jYW5SZXBsYWNlKCRjdXQuaW5kZXgoKSwgJGN1dC5pbmRleCgpICsgMSkgJiZcbiAgICAgIChjb25uID0gKG1hdGNoID0gYmVmb3JlLmNvbnRlbnRNYXRjaEF0KGJlZm9yZS5jaGlsZENvdW50KSkuZmluZFdyYXBwaW5nKGFmdGVyLnR5cGUpKSAmJlxuICAgICAgbWF0Y2gubWF0Y2hUeXBlKGNvbm5bMF0gfHwgYWZ0ZXIudHlwZSkudmFsaWRFbmQpIHtcbiAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgIGxldCBlbmQgPSAkY3V0LnBvcyArIGFmdGVyLm5vZGVTaXplLCB3cmFwID0gRnJhZ21lbnQuZW1wdHlcbiAgICAgIGZvciAobGV0IGkgPSBjb25uLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICB3cmFwID0gRnJhZ21lbnQuZnJvbShjb25uW2ldLmNyZWF0ZShudWxsLCB3cmFwKSlcbiAgICAgIHdyYXAgPSBGcmFnbWVudC5mcm9tKGJlZm9yZS5jb3B5KHdyYXApKVxuICAgICAgbGV0IHRyID0gc3RhdGUudHIuc3RlcChuZXcgUmVwbGFjZUFyb3VuZFN0ZXAoJGN1dC5wb3MgLSAxLCBlbmQsICRjdXQucG9zLCBlbmQsIG5ldyBTbGljZSh3cmFwLCAxLCAwKSwgY29ubi5sZW5ndGgsIHRydWUpKVxuICAgICAgbGV0IGpvaW5BdCA9IGVuZCArIDIgKiBjb25uLmxlbmd0aFxuICAgICAgaWYgKGNhbkpvaW4odHIuZG9jLCBqb2luQXQpKSB0ci5qb2luKGpvaW5BdClcbiAgICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBsZXQgc2VsQWZ0ZXIgPSBTZWxlY3Rpb24uZmluZEZyb20oJGN1dCwgMSlcbiAgbGV0IHJhbmdlID0gc2VsQWZ0ZXIgJiYgc2VsQWZ0ZXIuJGZyb20uYmxvY2tSYW5nZShzZWxBZnRlci4kdG8pLCB0YXJnZXQgPSByYW5nZSAmJiBsaWZ0VGFyZ2V0KHJhbmdlKVxuICBpZiAodGFyZ2V0ICE9IG51bGwgJiYgdGFyZ2V0ID49ICRjdXQuZGVwdGgpIHtcbiAgICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLmxpZnQocmFuZ2UsIHRhcmdldCkuc2Nyb2xsSW50b1ZpZXcoKSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIFBhcmFtZXRlcml6ZWQgY29tbWFuZHNcblxuLy8gOjogKE5vZGVUeXBlLCA/T2JqZWN0KSDihpIgKHN0YXRlOiBFZGl0b3JTdGF0ZSwgZGlzcGF0Y2g6ID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIFdyYXAgdGhlIHNlbGVjdGlvbiBpbiBhIG5vZGUgb2YgdGhlIGdpdmVuIHR5cGUgd2l0aCB0aGUgZ2l2ZW5cbi8vIGF0dHJpYnV0ZXMuXG5leHBvcnQgZnVuY3Rpb24gd3JhcEluKG5vZGVUeXBlLCBhdHRycykge1xuICByZXR1cm4gZnVuY3Rpb24oc3RhdGUsIGRpc3BhdGNoKSB7XG4gICAgbGV0IHskZnJvbSwgJHRvfSA9IHN0YXRlLnNlbGVjdGlvblxuICAgIGxldCByYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoJHRvKSwgd3JhcHBpbmcgPSByYW5nZSAmJiBmaW5kV3JhcHBpbmcocmFuZ2UsIG5vZGVUeXBlLCBhdHRycylcbiAgICBpZiAoIXdyYXBwaW5nKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoZGlzcGF0Y2gpIGRpc3BhdGNoKHN0YXRlLnRyLndyYXAocmFuZ2UsIHdyYXBwaW5nKS5zY3JvbGxJbnRvVmlldygpKVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuLy8gOjogKE5vZGVUeXBlLCA/T2JqZWN0KSDihpIgKHN0YXRlOiBFZGl0b3JTdGF0ZSwgZGlzcGF0Y2g6ID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2xcbi8vIFJldHVybnMgYSBjb21tYW5kIHRoYXQgdHJpZXMgdG8gc2V0IHRoZSBzZWxlY3RlZCB0ZXh0YmxvY2tzIHRvIHRoZVxuLy8gZ2l2ZW4gbm9kZSB0eXBlIHdpdGggdGhlIGdpdmVuIGF0dHJpYnV0ZXMuXG5leHBvcnQgZnVuY3Rpb24gc2V0QmxvY2tUeXBlKG5vZGVUeXBlLCBhdHRycykge1xuICByZXR1cm4gZnVuY3Rpb24oc3RhdGUsIGRpc3BhdGNoKSB7XG4gICAgbGV0IHtmcm9tLCB0b30gPSBzdGF0ZS5zZWxlY3Rpb25cbiAgICBsZXQgYXBwbGljYWJsZSA9IGZhbHNlXG4gICAgc3RhdGUuZG9jLm5vZGVzQmV0d2Vlbihmcm9tLCB0bywgKG5vZGUsIHBvcykgPT4ge1xuICAgICAgaWYgKGFwcGxpY2FibGUpIHJldHVybiBmYWxzZVxuICAgICAgaWYgKCFub2RlLmlzVGV4dGJsb2NrIHx8IG5vZGUuaGFzTWFya3VwKG5vZGVUeXBlLCBhdHRycykpIHJldHVyblxuICAgICAgaWYgKG5vZGUudHlwZSA9PSBub2RlVHlwZSkge1xuICAgICAgICBhcHBsaWNhYmxlID0gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0ICRwb3MgPSBzdGF0ZS5kb2MucmVzb2x2ZShwb3MpLCBpbmRleCA9ICRwb3MuaW5kZXgoKVxuICAgICAgICBhcHBsaWNhYmxlID0gJHBvcy5wYXJlbnQuY2FuUmVwbGFjZVdpdGgoaW5kZXgsIGluZGV4ICsgMSwgbm9kZVR5cGUpXG4gICAgICB9XG4gICAgfSlcbiAgICBpZiAoIWFwcGxpY2FibGUpIHJldHVybiBmYWxzZVxuICAgIGlmIChkaXNwYXRjaCkgZGlzcGF0Y2goc3RhdGUudHIuc2V0QmxvY2tUeXBlKGZyb20sIHRvLCBub2RlVHlwZSwgYXR0cnMpLnNjcm9sbEludG9WaWV3KCkpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXJrQXBwbGllcyhkb2MsIHJhbmdlcywgdHlwZSkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCB7JGZyb20sICR0b30gPSByYW5nZXNbaV1cbiAgICBsZXQgY2FuID0gJGZyb20uZGVwdGggPT0gMCA/IGRvYy50eXBlLmFsbG93c01hcmtUeXBlKHR5cGUpIDogZmFsc2VcbiAgICBkb2Mubm9kZXNCZXR3ZWVuKCRmcm9tLnBvcywgJHRvLnBvcywgbm9kZSA9PiB7XG4gICAgICBpZiAoY2FuKSByZXR1cm4gZmFsc2VcbiAgICAgIGNhbiA9IG5vZGUuaW5saW5lQ29udGVudCAmJiBub2RlLnR5cGUuYWxsb3dzTWFya1R5cGUodHlwZSlcbiAgICB9KVxuICAgIGlmIChjYW4pIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8vIDo6IChNYXJrVHlwZSwgP09iamVjdCkg4oaSIChzdGF0ZTogRWRpdG9yU3RhdGUsIGRpc3BhdGNoOiA/KHRyOiBUcmFuc2FjdGlvbikpIOKGkiBib29sXG4vLyBDcmVhdGUgYSBjb21tYW5kIGZ1bmN0aW9uIHRoYXQgdG9nZ2xlcyB0aGUgZ2l2ZW4gbWFyayB3aXRoIHRoZVxuLy8gZ2l2ZW4gYXR0cmlidXRlcy4gV2lsbCByZXR1cm4gYGZhbHNlYCB3aGVuIHRoZSBjdXJyZW50IHNlbGVjdGlvblxuLy8gZG9lc24ndCBzdXBwb3J0IHRoYXQgbWFyay4gVGhpcyB3aWxsIHJlbW92ZSB0aGUgbWFyayBpZiBhbnkgbWFya3Ncbi8vIG9mIHRoYXQgdHlwZSBleGlzdCBpbiB0aGUgc2VsZWN0aW9uLCBvciBhZGQgaXQgb3RoZXJ3aXNlLiBJZiB0aGVcbi8vIHNlbGVjdGlvbiBpcyBlbXB0eSwgdGhpcyBhcHBsaWVzIHRvIHRoZSBbc3RvcmVkXG4vLyBtYXJrc10oI3N0YXRlLkVkaXRvclN0YXRlLnN0b3JlZE1hcmtzKSBpbnN0ZWFkIG9mIGEgcmFuZ2Ugb2YgdGhlXG4vLyBkb2N1bWVudC5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVNYXJrKG1hcmtUeXBlLCBhdHRycykge1xuICByZXR1cm4gZnVuY3Rpb24oc3RhdGUsIGRpc3BhdGNoKSB7XG4gICAgbGV0IHtlbXB0eSwgJGN1cnNvciwgcmFuZ2VzfSA9IHN0YXRlLnNlbGVjdGlvblxuICAgIGlmICgoZW1wdHkgJiYgISRjdXJzb3IpIHx8ICFtYXJrQXBwbGllcyhzdGF0ZS5kb2MsIHJhbmdlcywgbWFya1R5cGUpKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgIGlmICgkY3Vyc29yKSB7XG4gICAgICAgIGlmIChtYXJrVHlwZS5pc0luU2V0KHN0YXRlLnN0b3JlZE1hcmtzIHx8ICRjdXJzb3IubWFya3MoKSkpXG4gICAgICAgICAgZGlzcGF0Y2goc3RhdGUudHIucmVtb3ZlU3RvcmVkTWFyayhtYXJrVHlwZSkpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBkaXNwYXRjaChzdGF0ZS50ci5hZGRTdG9yZWRNYXJrKG1hcmtUeXBlLmNyZWF0ZShhdHRycykpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGhhcyA9IGZhbHNlLCB0ciA9IHN0YXRlLnRyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyAhaGFzICYmIGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQgeyRmcm9tLCAkdG99ID0gcmFuZ2VzW2ldXG4gICAgICAgICAgaGFzID0gc3RhdGUuZG9jLnJhbmdlSGFzTWFyaygkZnJvbS5wb3MsICR0by5wb3MsIG1hcmtUeXBlKVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IHskZnJvbSwgJHRvfSA9IHJhbmdlc1tpXVxuICAgICAgICAgIGlmIChoYXMpIHRyLnJlbW92ZU1hcmsoJGZyb20ucG9zLCAkdG8ucG9zLCBtYXJrVHlwZSlcbiAgICAgICAgICBlbHNlIHRyLmFkZE1hcmsoJGZyb20ucG9zLCAkdG8ucG9zLCBtYXJrVHlwZS5jcmVhdGUoYXR0cnMpKVxuICAgICAgICB9XG4gICAgICAgIGRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuZnVuY3Rpb24gd3JhcERpc3BhdGNoRm9ySm9pbihkaXNwYXRjaCwgaXNKb2luYWJsZSkge1xuICByZXR1cm4gdHIgPT4ge1xuICAgIGlmICghdHIuaXNHZW5lcmljKSByZXR1cm4gZGlzcGF0Y2godHIpXG5cbiAgICBsZXQgcmFuZ2VzID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyLm1hcHBpbmcubWFwcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG1hcCA9IHRyLm1hcHBpbmcubWFwc1tpXVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByYW5nZXMubGVuZ3RoOyBqKyspXG4gICAgICAgIHJhbmdlc1tqXSA9IG1hcC5tYXAocmFuZ2VzW2pdKVxuICAgICAgbWFwLmZvckVhY2goKF9zLCBfZSwgZnJvbSwgdG8pID0+IHJhbmdlcy5wdXNoKGZyb20sIHRvKSlcbiAgICB9XG5cbiAgICAvLyBGaWd1cmUgb3V0IHdoaWNoIGpvaW5hYmxlIHBvaW50cyBleGlzdCBpbnNpZGUgdGhvc2UgcmFuZ2VzLFxuICAgIC8vIGJ5IGNoZWNraW5nIGFsbCBub2RlIGJvdW5kYXJpZXMgaW4gdGhlaXIgcGFyZW50IG5vZGVzLlxuICAgIGxldCBqb2luYWJsZSA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIGxldCBmcm9tID0gcmFuZ2VzW2ldLCB0byA9IHJhbmdlc1tpICsgMV1cbiAgICAgIGxldCAkZnJvbSA9IHRyLmRvYy5yZXNvbHZlKGZyb20pLCBkZXB0aCA9ICRmcm9tLnNoYXJlZERlcHRoKHRvKSwgcGFyZW50ID0gJGZyb20ubm9kZShkZXB0aClcbiAgICAgIGZvciAobGV0IGluZGV4ID0gJGZyb20uaW5kZXhBZnRlcihkZXB0aCksIHBvcyA9ICRmcm9tLmFmdGVyKGRlcHRoICsgMSk7IHBvcyA8PSB0bzsgKytpbmRleCkge1xuICAgICAgICBsZXQgYWZ0ZXIgPSBwYXJlbnQubWF5YmVDaGlsZChpbmRleClcbiAgICAgICAgaWYgKCFhZnRlcikgYnJlYWtcbiAgICAgICAgaWYgKGluZGV4ICYmIGpvaW5hYmxlLmluZGV4T2YocG9zKSA9PSAtMSkge1xuICAgICAgICAgIGxldCBiZWZvcmUgPSBwYXJlbnQuY2hpbGQoaW5kZXggLSAxKVxuICAgICAgICAgIGlmIChiZWZvcmUudHlwZSA9PSBhZnRlci50eXBlICYmIGlzSm9pbmFibGUoYmVmb3JlLCBhZnRlcikpXG4gICAgICAgICAgICBqb2luYWJsZS5wdXNoKHBvcylcbiAgICAgICAgfVxuICAgICAgICBwb3MgKz0gYWZ0ZXIubm9kZVNpemVcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gSm9pbiB0aGUgam9pbmFibGUgcG9pbnRzXG4gICAgam9pbmFibGUuc29ydCgoYSwgYikgPT4gYSAtIGIpXG4gICAgZm9yIChsZXQgaSA9IGpvaW5hYmxlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBpZiAoY2FuSm9pbih0ci5kb2MsIGpvaW5hYmxlW2ldKSkgdHIuam9pbihqb2luYWJsZVtpXSlcbiAgICB9XG4gICAgZGlzcGF0Y2godHIpXG4gIH1cbn1cblxuLy8gOjogKChzdGF0ZTogRWRpdG9yU3RhdGUsID8odHI6IFRyYW5zYWN0aW9uKSkg4oaSIGJvb2wsIHVuaW9uPChiZWZvcmU6IE5vZGUsIGFmdGVyOiBOb2RlKSDihpIgYm9vbCwgW3N0cmluZ10+KSDihpIgKHN0YXRlOiBFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pKSDihpIgYm9vbFxuLy8gV3JhcCBhIGNvbW1hbmQgc28gdGhhdCwgd2hlbiBpdCBwcm9kdWNlcyBhIHRyYW5zZm9ybSB0aGF0IGNhdXNlc1xuLy8gdHdvIGpvaW5hYmxlIG5vZGVzIHRvIGVuZCB1cCBuZXh0IHRvIGVhY2ggb3RoZXIsIHRob3NlIGFyZSBqb2luZWQuXG4vLyBOb2RlcyBhcmUgY29uc2lkZXJlZCBqb2luYWJsZSB3aGVuIHRoZXkgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYW5kXG4vLyB3aGVuIHRoZSBgaXNKb2luYWJsZWAgcHJlZGljYXRlIHJldHVybnMgdHJ1ZSBmb3IgdGhlbSBvciwgaWYgYW5cbi8vIGFycmF5IG9mIHN0cmluZ3Mgd2FzIHBhc3NlZCwgaWYgdGhlaXIgbm9kZSB0eXBlIG5hbWUgaXMgaW4gdGhhdFxuLy8gYXJyYXkuXG5leHBvcnQgZnVuY3Rpb24gYXV0b0pvaW4oY29tbWFuZCwgaXNKb2luYWJsZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShpc0pvaW5hYmxlKSkge1xuICAgIGxldCB0eXBlcyA9IGlzSm9pbmFibGVcbiAgICBpc0pvaW5hYmxlID0gbm9kZSA9PiB0eXBlcy5pbmRleE9mKG5vZGUudHlwZS5uYW1lKSA+IC0xXG4gIH1cbiAgcmV0dXJuIChzdGF0ZSwgZGlzcGF0Y2gpID0+IGNvbW1hbmQoc3RhdGUsIGRpc3BhdGNoICYmIHdyYXBEaXNwYXRjaEZvckpvaW4oZGlzcGF0Y2gsIGlzSm9pbmFibGUpKVxufVxuXG4vLyA6OiAoLi4uWyhFZGl0b3JTdGF0ZSwgPyh0cjogVHJhbnNhY3Rpb24pLCA/RWRpdG9yVmlldykg4oaSIGJvb2xdKSDihpIgKEVkaXRvclN0YXRlLCA/KHRyOiBUcmFuc2FjdGlvbiksID9FZGl0b3JWaWV3KSDihpIgYm9vbFxuLy8gQ29tYmluZSBhIG51bWJlciBvZiBjb21tYW5kIGZ1bmN0aW9ucyBpbnRvIGEgc2luZ2xlIGZ1bmN0aW9uICh3aGljaFxuLy8gY2FsbHMgdGhlbSBvbmUgYnkgb25lIHVudGlsIG9uZSByZXR1cm5zIHRydWUpLlxuZXhwb3J0IGZ1bmN0aW9uIGNoYWluQ29tbWFuZHMoLi4uY29tbWFuZHMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlLCBkaXNwYXRjaCwgdmlldykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tbWFuZHMubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoY29tbWFuZHNbaV0oc3RhdGUsIGRpc3BhdGNoLCB2aWV3KSkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5sZXQgYmFja3NwYWNlID0gY2hhaW5Db21tYW5kcyhkZWxldGVTZWxlY3Rpb24sIGpvaW5CYWNrd2FyZCwgc2VsZWN0Tm9kZUJhY2t3YXJkKVxubGV0IGRlbCA9IGNoYWluQ29tbWFuZHMoZGVsZXRlU2VsZWN0aW9uLCBqb2luRm9yd2FyZCwgc2VsZWN0Tm9kZUZvcndhcmQpXG5cbi8vIDo6IE9iamVjdFxuLy8gQSBiYXNpYyBrZXltYXAgY29udGFpbmluZyBiaW5kaW5ncyBub3Qgc3BlY2lmaWMgdG8gYW55IHNjaGVtYS5cbi8vIEJpbmRzIHRoZSBmb2xsb3dpbmcga2V5cyAod2hlbiBtdWx0aXBsZSBjb21tYW5kcyBhcmUgbGlzdGVkLCB0aGV5XG4vLyBhcmUgY2hhaW5lZCB3aXRoIFtgY2hhaW5Db21tYW5kc2BdKCNjb21tYW5kcy5jaGFpbkNvbW1hbmRzKSk6XG4vL1xuLy8gKiAqKkVudGVyKiogdG8gYG5ld2xpbmVJbkNvZGVgLCBgY3JlYXRlUGFyYWdyYXBoTmVhcmAsIGBsaWZ0RW1wdHlCbG9ja2AsIGBzcGxpdEJsb2NrYFxuLy8gKiAqKk1vZC1FbnRlcioqIHRvIGBleGl0Q29kZWBcbi8vICogKipCYWNrc3BhY2UqKiBhbmQgKipNb2QtQmFja3NwYWNlKiogdG8gYGRlbGV0ZVNlbGVjdGlvbmAsIGBqb2luQmFja3dhcmRgLCBgc2VsZWN0Tm9kZUJhY2t3YXJkYFxuLy8gKiAqKkRlbGV0ZSoqIGFuZCAqKk1vZC1EZWxldGUqKiB0byBgZGVsZXRlU2VsZWN0aW9uYCwgYGpvaW5Gb3J3YXJkYCwgYHNlbGVjdE5vZGVGb3J3YXJkYFxuLy8gKiAqKk1vZC1EZWxldGUqKiB0byBgZGVsZXRlU2VsZWN0aW9uYCwgYGpvaW5Gb3J3YXJkYCwgYHNlbGVjdE5vZGVGb3J3YXJkYFxuLy8gKiAqKk1vZC1hKiogdG8gYHNlbGVjdEFsbGBcbmV4cG9ydCBsZXQgcGNCYXNlS2V5bWFwID0ge1xuICBcIkVudGVyXCI6IGNoYWluQ29tbWFuZHMobmV3bGluZUluQ29kZSwgY3JlYXRlUGFyYWdyYXBoTmVhciwgbGlmdEVtcHR5QmxvY2ssIHNwbGl0QmxvY2spLFxuICBcIk1vZC1FbnRlclwiOiBleGl0Q29kZSxcbiAgXCJCYWNrc3BhY2VcIjogYmFja3NwYWNlLFxuICBcIk1vZC1CYWNrc3BhY2VcIjogYmFja3NwYWNlLFxuICBcIkRlbGV0ZVwiOiBkZWwsXG4gIFwiTW9kLURlbGV0ZVwiOiBkZWwsXG4gIFwiTW9kLWFcIjogc2VsZWN0QWxsXG59XG5cbi8vIDo6IE9iamVjdFxuLy8gQSBjb3B5IG9mIGBwY0Jhc2VLZXltYXBgIHRoYXQgYWxzbyBiaW5kcyAqKkN0cmwtaCoqIGxpa2UgQmFja3NwYWNlLFxuLy8gKipDdHJsLWQqKiBsaWtlIERlbGV0ZSwgKipBbHQtQmFja3NwYWNlKiogbGlrZSBDdHJsLUJhY2tzcGFjZSwgYW5kXG4vLyAqKkN0cmwtQWx0LUJhY2tzcGFjZSoqLCAqKkFsdC1EZWxldGUqKiwgYW5kICoqQWx0LWQqKiBsaWtlXG4vLyBDdHJsLURlbGV0ZS5cbmV4cG9ydCBsZXQgbWFjQmFzZUtleW1hcCA9IHtcbiAgXCJDdHJsLWhcIjogcGNCYXNlS2V5bWFwW1wiQmFja3NwYWNlXCJdLFxuICBcIkFsdC1CYWNrc3BhY2VcIjogcGNCYXNlS2V5bWFwW1wiTW9kLUJhY2tzcGFjZVwiXSxcbiAgXCJDdHJsLWRcIjogcGNCYXNlS2V5bWFwW1wiRGVsZXRlXCJdLFxuICBcIkN0cmwtQWx0LUJhY2tzcGFjZVwiOiBwY0Jhc2VLZXltYXBbXCJNb2QtRGVsZXRlXCJdLFxuICBcIkFsdC1EZWxldGVcIjogcGNCYXNlS2V5bWFwW1wiTW9kLURlbGV0ZVwiXSxcbiAgXCJBbHQtZFwiOiBwY0Jhc2VLZXltYXBbXCJNb2QtRGVsZXRlXCJdXG59XG5mb3IgKGxldCBrZXkgaW4gcGNCYXNlS2V5bWFwKSBtYWNCYXNlS2V5bWFwW2tleV0gPSBwY0Jhc2VLZXltYXBba2V5XVxuXG4vLyBkZWNsYXJlIGdsb2JhbDogb3MsIG5hdmlnYXRvclxuY29uc3QgbWFjID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiID8gL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pXG4gICAgICAgICAgOiB0eXBlb2Ygb3MgIT0gXCJ1bmRlZmluZWRcIiA/IG9zLnBsYXRmb3JtKCkgPT0gXCJkYXJ3aW5cIiA6IGZhbHNlXG5cbi8vIDo6IE9iamVjdFxuLy8gRGVwZW5kaW5nIG9uIHRoZSBkZXRlY3RlZCBwbGF0Zm9ybSwgdGhpcyB3aWxsIGhvbGRcbi8vIFtgcGNCYXNla2V5bWFwYF0oI2NvbW1hbmRzLnBjQmFzZUtleW1hcCkgb3Jcbi8vIFtgbWFjQmFzZUtleW1hcGBdKCNjb21tYW5kcy5tYWNCYXNlS2V5bWFwKS5cbmV4cG9ydCBsZXQgYmFzZUtleW1hcCA9IG1hYyA/IG1hY0Jhc2VLZXltYXAgOiBwY0Jhc2VLZXltYXBcbiIsImltcG9ydCB7XG4gIFBsdWdpbixcbiAgRWRpdG9yU3RhdGUsXG4gIFNlbGVjdGlvbixcbiAgVGV4dFNlbGVjdGlvbixcbiAgVHJhbnNhY3Rpb24sXG59IGZyb20gJ3Byb3NlbWlycm9yLXN0YXRlJztcbmltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdwcm9zZW1pcnJvci12aWV3JztcbmltcG9ydCB7IGxpZnRMaXN0SXRlbSwgd3JhcEluTGlzdCB9IGZyb20gJ3Byb3NlbWlycm9yLXNjaGVtYS1saXN0JztcbmltcG9ydCB7XG4gIE1hcmtUeXBlLFxuICBOb2RlUmFuZ2UsXG4gIE5vZGVUeXBlLFxuICBSZXNvbHZlZFBvcyxcbiAgU2NoZW1hLFxufSBmcm9tICdwcm9zZW1pcnJvci1tb2RlbCc7XG5pbXBvcnQgeyBSZW1vdmVNYXJrU3RlcCwgZmluZFdyYXBwaW5nIH0gZnJvbSAncHJvc2VtaXJyb3ItdHJhbnNmb3JtJztcbmltcG9ydCB7IHVuZG8sIHJlZG8gfSBmcm9tICdwcm9zZW1pcnJvci1oaXN0b3J5JztcbmltcG9ydCB7IHRvZ2dsZU1hcmsgfSBmcm9tICdwcm9zZW1pcnJvci1jb21tYW5kcyc7XG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5pbXBvcnQge1xuICBjaGFpbkNvbW1hbmRzLFxuICBzZWxlY3RQYXJlbnROb2RlLFxuICBzZXRCbG9ja1R5cGUsXG4gIHdyYXBJbixcbn0gZnJvbSAncHJvc2VtaXJyb3ItY29tbWFuZHMnO1xuXG5jb25zdCBBUFBMWV9GT1JNQVRfQVRUUiA9ICdkYXRhLWZvcm1hdCc7XG5cbnR5cGUgQ29tbWFuZCA9IHR5cGVvZiBzZWxlY3RQYXJlbnROb2RlO1xuXG5jb25zdCB0b2dnbGVDaGVja2xpc3RJdGVtU3RhdGU6IENvbW1hbmQgPSBmdW5jdGlvbiAoXG4gIHN0YXRlOiBFZGl0b3JTdGF0ZSxcbiAgZGlzcGF0Y2g6IEVkaXRvclZpZXdbJ2Rpc3BhdGNoJ10sXG4pIHtcbiAgY29uc3QgeyAkZnJvbSwgJHRvIH0gPSBzdGF0ZS5zZWxlY3Rpb247XG5cbiAgY29uc3QgYmxvY2tSYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoJHRvKTtcblxuICBsZXQgaGFzQ2hlY2tlZCA9IGZhbHNlO1xuICBmb3IgKFxuICAgIGxldCBpbmRleCA9IGJsb2NrUmFuZ2Uuc3RhcnRJbmRleCwgY2hpbGQgPSBibG9ja1JhbmdlLnBhcmVudC5jaGlsZChpbmRleCk7XG4gICAgaW5kZXggPCBibG9ja1JhbmdlLmVuZEluZGV4O1xuICAgIGluZGV4ICs9IDFcbiAgKSB7XG4gICAgaWYgKGNoaWxkLnR5cGUgIT09IHNjaGVtYS5ub2Rlcy5jaGVja2xpc3RfaXRlbSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY2hpbGQuYXR0cnMuY2hlY2tlZCkge1xuICAgICAgaGFzQ2hlY2tlZCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoIWRpc3BhdGNoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBjb25zdCB7IHRyIH0gPSBzdGF0ZTtcbiAgZm9yIChcbiAgICBsZXQgaW5kZXggPSBibG9ja1JhbmdlLnN0YXJ0SW5kZXgsXG4gICAgICBjaGlsZCA9IGJsb2NrUmFuZ2UucGFyZW50LmNoaWxkKGluZGV4KSxcbiAgICAgIHBvcyA9IGJsb2NrUmFuZ2Uuc3RhcnQ7XG4gICAgaW5kZXggPCBibG9ja1JhbmdlLmVuZEluZGV4O1xuICAgIGluZGV4ICs9IDFcbiAgKSB7XG4gICAgdHIuc2V0Tm9kZU1hcmt1cChwb3MsIHVuZGVmaW5lZCwgeyBjaGVja2VkOiBoYXNDaGVja2VkID8gZmFsc2UgOiB0cnVlIH0pO1xuICAgIHBvcyArPSBjaGlsZC5ub2RlU2l6ZTtcbiAgfVxuXG4gIGRpc3BhdGNoKHRyKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG50eXBlIG1vZGFsQ29uZmlybUhhbmRsZXIgPSAocGFyYW1zOiB7IHRleHQ6IHN0cmluZzsgdXJsOiBzdHJpbmcgfSkgPT4gdm9pZDtcblxuY2xhc3MgTGlua01vZGFsIHtcbiAgcHJpdmF0ZSBlbDogRWxlbWVudDtcbiAgcHJpdmF0ZSBmcmFtZUVsOiBFbGVtZW50O1xuICBwcml2YXRlIHRleHQ6IHN0cmluZztcbiAgcHJpdmF0ZSB1cmw6IHN0cmluZztcbiAgcHJpdmF0ZSBvbkNvbmZpcm06IG1vZGFsQ29uZmlybUhhbmRsZXI7XG4gIHByaXZhdGUgb25DbGVhcj86ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgc2hvd0NscyA9ICdhY3RpdmUnO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGVsOiBFbGVtZW50LFxuICAgIHtcbiAgICAgIG9uQ29uZmlybSxcbiAgICAgIG9uQ2xlYXIsXG4gICAgICB0ZXh0LFxuICAgICAgdXJsLFxuICAgIH06IHtcbiAgICAgIG9uQ2xlYXI/OiAoKSA9PiB2b2lkO1xuICAgICAgb25Db25maXJtOiBtb2RhbENvbmZpcm1IYW5kbGVyO1xuICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgdXJsOiBzdHJpbmc7XG4gICAgfSxcbiAgKSB7XG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMudGV4dElucHV0LnZhbHVlID0gdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnVybElucHV0LnZhbHVlID0gdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy51cmxPcGVuTGluay5ocmVmID0gdXJsO1xuICAgIHRoaXMub25Db25maXJtID0gb25Db25maXJtO1xuICAgIHRoaXMub25DbGVhciA9IG9uQ2xlYXI7XG4gICAgdGhpcy5mcmFtZUVsID0gZWwucXVlcnlTZWxlY3RvcignI2ZyYW1lJyk7XG5cbiAgICBpZiAob25DbGVhcikge1xuICAgICAgdGhpcy5jbGVhckJ0bi5jbGFzc0xpc3QuYWRkKHRoaXMuc2hvd0Nscyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xlYXJCdG4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnNob3dDbHMpO1xuICAgIH1cblxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCh0aGlzLnNob3dDbHMpO1xuICAgIHRoaXMuY29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ29uZmlybSk7XG4gICAgdGhpcy5jYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNhbmNlbCk7XG4gICAgdGhpcy5jbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xlYXIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUdsb2JhbEtleWRvd24pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVHbG9iYWxDbGljayk7XG4gICAgdGhpcy51cmxJbnB1dC5mb2N1cygpO1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgdGhpcy5jb25maXJtQnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDb25maXJtKTtcbiAgICB0aGlzLmNhbmNlbEJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2FuY2VsKTtcbiAgICB0aGlzLmNsZWFyQnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGVhcik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlR2xvYmFsS2V5ZG93bik7XG4gICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2hvd0Nscyk7XG4gIH07XG5cbiAgcHJpdmF0ZSBoYW5kbGVDb25maXJtID0gKCkgPT4ge1xuICAgIHRoaXMub25Db25maXJtKHtcbiAgICAgIHRleHQ6IHRoaXMudGV4dElucHV0LnZhbHVlLFxuICAgICAgdXJsOiB0aGlzLnVybElucHV0LnZhbHVlLFxuICAgIH0pO1xuXG4gICAgdGhpcy5kZXN0cm95KCk7XG4gIH07XG5cbiAgcHJpdmF0ZSBoYW5kbGVDbGVhciA9ICgpID0+IHtcbiAgICB0aGlzLm9uQ2xlYXIoKTtcbiAgICB0aGlzLmRlc3Ryb3koKTtcbiAgfTtcblxuICBwcml2YXRlIGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICB0aGlzLmRlc3Ryb3koKTtcbiAgfTtcblxuICBwcml2YXRlIGhhbmRsZUdsb2JhbEtleWRvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGNvbnN0IGlzRW50ZXIgPSBlLndoaWNoID09PSAxMztcbiAgICBpZiAoXG4gICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLnRleHRJbnB1dCB8fFxuICAgICAgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMudXJsSW5wdXQgJiYgaXNFbnRlcilcbiAgICApIHtcbiAgICAgIHRoaXMuaGFuZGxlQ29uZmlybSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpc0VzYyA9IGUud2hpY2ggPT09IDI3O1xuICAgIGlmIChlLndoaWNoID09PSAyNykge1xuICAgICAgdGhpcy5oYW5kbGVDYW5jZWwoKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBoYW5kbGVHbG9iYWxDbGljayA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMuZnJhbWVFbC5jb250YWlucyhlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICB9XG4gIH07XG5cbiAgZ2V0IHRleHRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCN0ZXh0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgfVxuXG4gIGdldCB1cmxJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCN1cmwnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICB9XG5cbiAgZ2V0IHVybE9wZW5MaW5rKCkge1xuICAgIHJldHVybiB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsW2Zvcj11cmxdIGEnKSBhcyBIVE1MQW5jaG9yRWxlbWVudDtcbiAgfVxuXG4gIGdldCBjb25maXJtQnRuKCkge1xuICAgIHJldHVybiB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiNjb25maXJtJyk7XG4gIH1cblxuICBnZXQgY2FuY2VsQnRuKCkge1xuICAgIHJldHVybiB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiNjYW5jZWwnKTtcbiAgfVxuXG4gIGdldCBjbGVhckJ0bigpIHtcbiAgICByZXR1cm4gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdidXR0b24jY2xlYXInKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9vbGJhclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHByaXZhdGUgdmlldzogRWRpdG9yVmlldztcbiAgcHJpdmF0ZSBtb2RhbEVsOiBFbGVtZW50O1xuICBwcml2YXRlIHRvb2xiYXJFbDogRWxlbWVudDtcbiAgcHJpdmF0ZSBtb2RhbDogTGlua01vZGFsO1xuXG4gIHByaXZhdGUgc3dhcFRleHRCbG9jayA9IChub2RlVHlwZTogTm9kZVR5cGUpID0+IHtcbiAgICBsZXQgeyBkaXNwYXRjaCwgc3RhdGUgfSA9IHRoaXMudmlldztcbiAgICBsZXQgeyB0ciB9ID0gc3RhdGU7XG4gICAgY29uc3QgeyAkZnJvbSwgJHRvLCBmcm9tLCB0byB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIGlmIChub2RlVHlwZSAhPT0gc2NoZW1hLm5vZGVzLnVub3JkZXJlZF9saXN0KSB7XG4gICAgICBsaWZ0TGlzdEl0ZW0oc2NoZW1hLm5vZGVzLmxpc3RfaXRlbSkoc3RhdGUsIGRpc3BhdGNoKTtcbiAgICB9XG4gICAgKHsgZGlzcGF0Y2gsIHN0YXRlIH0gPSB0aGlzLnZpZXcpO1xuICAgICh7IHRyIH0gPSBzdGF0ZSk7XG4gICAgdHIuc2V0QmxvY2tUeXBlKGZyb20sIHRvLCBub2RlVHlwZSk7XG4gICAgZGlzcGF0Y2godHIpO1xuICAgIHRoaXMudmlldy5mb2N1cygpO1xuICB9O1xuXG4gIHByaXZhdGUgcHJvbW90ZUhlYWRpbmcgPSAoc3RhdGU6IEVkaXRvclN0YXRlLCBkaXNwYXRjaCkgPT4ge1xuICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBzdGF0ZTtcbiAgICBpZiAoIXNlbGVjdGlvbi5lbXB0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICAkZnJvbToge1xuICAgICAgICBwYXJlbnQ6IHsgdHlwZSB9LFxuICAgICAgfSxcbiAgICB9ID0gc2VsZWN0aW9uO1xuICAgIGxldCBuZXh0VHlwZTogTm9kZVR5cGU7XG4gICAgaWYgKHR5cGUgPT09IHNjaGVtYS5ub2Rlcy5oZWFkaW5nMikge1xuICAgICAgbmV4dFR5cGUgPSBzY2hlbWEubm9kZXMuaGVhZGluZzE7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBzY2hlbWEubm9kZXMuaGVhZGluZzEpIHtcbiAgICAgIG5leHRUeXBlID0gc2NoZW1hLm5vZGVzLnBhcmFncmFwaDtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dFR5cGUgPSBzY2hlbWEubm9kZXMuaGVhZGluZzI7XG4gICAgfVxuICAgIHRoaXMuc3dhcFRleHRCbG9jayhuZXh0VHlwZSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB0b2dnbGVMaXN0ID0gKGxpc3RUeXBlOiBOb2RlVHlwZSwgaXRlbVR5cGU6IE5vZGVUeXBlKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc3RhdGU6IHtcbiAgICAgICAgc2VsZWN0aW9uOiB7ICRmcm9tLCAkdG8gfSxcbiAgICAgICAgdHIsXG4gICAgICB9LFxuICAgIH0gPSB0aGlzLnZpZXc7XG5cbiAgICBjb25zdCBsaXN0QmxvY2tSYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoXG4gICAgICAkdG8sXG4gICAgICAobm9kZSkgPT4gbm9kZS50eXBlID09PSBsaXN0VHlwZSxcbiAgICApO1xuICAgIGlmIChsaXN0QmxvY2tSYW5nZSkge1xuICAgICAgY29uc3QgeyBkaXNwYXRjaCwgc3RhdGUgfSA9IHRoaXMudmlldztcbiAgICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaXMgZW50aXJlbHkgd2l0aGluIGEgbGlzdCBsaWZ0IHRoZSBzZWxlY3RlZCBpdGVtcyBvdXRcbiAgICAgIGxpZnRMaXN0SXRlbShpdGVtVHlwZSkoc3RhdGUsIGRpc3BhdGNoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYmxvY2tSYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoJHRvKTtcbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBpbmRleCA9IGJsb2NrUmFuZ2Uuc3RhcnRJbmRleDtcbiAgICAgICAgaW5kZXggPCBibG9ja1JhbmdlLmVuZEluZGV4O1xuICAgICAgICBpbmRleCArPSAxXG4gICAgICApIHtcbiAgICAgICAgaWYgKGJsb2NrUmFuZ2UucGFyZW50LmNoaWxkKGluZGV4KS50eXBlID09PSBsaXN0VHlwZSkge1xuICAgICAgICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaXMgcGFydGlhbGx5IGluc2lkZSBhIGxpc3QsIGRvIG5vdGhpbmdcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaXMgZW50aXJlbHkgb3V0c2lkZSBhIGxpc3QsIGNvbnZlcnQgZXZlcnl0aGluZyB0byBhIHBhcmFncmFwaFxuICAgICAgLy8gc28gaXQgY2FuIHN1YnNlcXVlbnRseSBiZWNvbWUgYSBsaXN0XG4gICAgICB0aGlzLnN3YXBUZXh0QmxvY2soc2NoZW1hLm5vZGVzLnBhcmFncmFwaCk7XG4gICAgICBjb25zdCB7IGRpc3BhdGNoLCBzdGF0ZSB9ID0gdGhpcy52aWV3O1xuICAgICAgd3JhcEluTGlzdChsaXN0VHlwZSkoc3RhdGUsIGRpc3BhdGNoKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSB0b2dnbGVDaGVja2xpc3RJdGVtID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZGlzcGF0Y2gsIHN0YXRlIH0gPSB0aGlzLnZpZXc7XG4gICAgY29uc3QgeyBkb2MsIHRyIH0gPSBzdGF0ZTtcbiAgICBjb25zdCB7ICRmcm9tLCAkdG8gfSA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgICBjb25zdCBibG9ja1JhbmdlID0gJGZyb20uYmxvY2tSYW5nZSgkdG8pO1xuXG4gICAgZm9yIChcbiAgICAgIGxldCBpbmRleCA9IGJsb2NrUmFuZ2Uuc3RhcnRJbmRleDtcbiAgICAgIGluZGV4IDwgYmxvY2tSYW5nZS5lbmRJbmRleDtcbiAgICAgIGluZGV4ICs9IDFcbiAgICApIHtcbiAgICAgIGlmIChibG9ja1JhbmdlLnBhcmVudC5jaGlsZChpbmRleCkudHlwZSA9PT0gc2NoZW1hLm5vZGVzLmNoZWNrbGlzdF9pdGVtKSB7XG4gICAgICAgIHRoaXMuc3dhcFRleHRCbG9jayhzY2hlbWEubm9kZXMucGFyYWdyYXBoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnN3YXBUZXh0QmxvY2soc2NoZW1hLm5vZGVzLmNoZWNrbGlzdF9pdGVtKTtcbiAgfTtcblxuICBwcml2YXRlIGFjdGl2YXRlTGlua01vZGFsOiBDb21tYW5kID0gKHN0YXRlLCBkaXNwYXRjaCkgPT4ge1xuICAgIGNvbnN0IHsgZG9jLCBzZWxlY3Rpb24gfSA9IHN0YXRlO1xuICAgIGNvbnN0IHsgJGZyb20sICR0byB9ID0gc2VsZWN0aW9uO1xuICAgIGNvbnN0IGxpbmtNYXJrQXRTdGFydCA9ICRmcm9tXG4gICAgICAubWFya3MoKVxuICAgICAgLmZpbmQoKG1hcmspID0+IG1hcmsudHlwZSA9PT0gc2NoZW1hLm1hcmtzLmxpbmspO1xuICAgIGNvbnN0IGxpbmtNYXJrQXRFbmQgPSAkdG9cbiAgICAgIC5tYXJrcygpXG4gICAgICAuZmluZCgobWFyaykgPT4gbWFyay50eXBlID09PSBzY2hlbWEubWFya3MubGluayk7XG4gICAgY29uc3Qgc2VsZWN0aW9uSXNJbnNpZGVMaW5rID0gbGlua01hcmtBdFN0YXJ0ICYmIGxpbmtNYXJrQXRFbmQ7XG5cbiAgICBpZiAoc2VsZWN0aW9uLmVtcHR5ICYmICFzZWxlY3Rpb25Jc0luc2lkZUxpbmspIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGxpbmtNYXJrQXRTdGFydCAhPT0gbGlua01hcmtBdEVuZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWRpc3BhdGNoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXJrID0gbGlua01hcmtBdFN0YXJ0O1xuICAgIGxldCBlbmQsIHN0YXJ0LCB0ZXh0LCB1cmw7XG4gICAgaWYgKG1hcmspIHtcbiAgICAgIGNvbnN0IHRleHROb2RlID0gJGZyb20ucGFyZW50Lm5vZGVBdChcbiAgICAgICAgJGZyb20ucGFyZW50T2Zmc2V0IC0gJGZyb20udGV4dE9mZnNldCxcbiAgICAgICk7XG4gICAgICBzdGFydCA9ICRmcm9tLnBvcyAtICRmcm9tLnRleHRPZmZzZXQ7XG4gICAgICBlbmQgPSBzdGFydCArIHRleHROb2RlLm5vZGVTaXplO1xuICAgICAgdGV4dCA9IHRleHROb2RlLnRleHQ7XG4gICAgICB1cmwgPSBtYXJrLmF0dHJzLmhyZWY7XG4gICAgICBjb25zdCBuZXdTZWxlY3Rpb24gPSBuZXcgVGV4dFNlbGVjdGlvbihcbiAgICAgICAgZG9jLnJlc29sdmUoc3RhcnQpLFxuICAgICAgICBkb2MucmVzb2x2ZShlbmQpLFxuICAgICAgKTtcbiAgICAgIGRpc3BhdGNoKHN0YXRlLnRyLnNldFNlbGVjdGlvbihuZXdTZWxlY3Rpb24pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kID0gJHRvLnBvcztcbiAgICAgIHN0YXJ0ID0gJGZyb20ucG9zO1xuICAgICAgdGV4dCA9IHN0YXRlLmRvYy50ZXh0QmV0d2VlbigkZnJvbS5wb3MsICR0by5wb3MpO1xuICAgICAgdXJsID0gJyc7XG4gICAgfVxuXG4gICAgY29uc3Qgb25DbGVhciA9XG4gICAgICBtYXJrICYmXG4gICAgICAoKCkgPT5cbiAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKFxuICAgICAgICAgIHRoaXMudmlldy5zdGF0ZS50ci5zdGVwKG5ldyBSZW1vdmVNYXJrU3RlcChzdGFydCwgZW5kLCBtYXJrKSksXG4gICAgICAgICkpO1xuXG4gICAgdGhpcy5tb2RhbCA9IG5ldyBMaW5rTW9kYWwodGhpcy5tb2RhbEVsLCB7XG4gICAgICBvbkNsZWFyLFxuICAgICAgb25Db25maXJtOiAoeyB0ZXh0LCB1cmwgfSkgPT4ge1xuICAgICAgICBjb25zdCBtYXJrID0gc2NoZW1hLm1hcmtzLmxpbmsuY3JlYXRlKHsgaHJlZjogdXJsIH0pO1xuICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IHNjaGVtYS50ZXh0KHRleHQsIFttYXJrXSk7XG4gICAgICAgIHRoaXMudmlldy5kaXNwYXRjaChcbiAgICAgICAgICB0aGlzLnZpZXcuc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbldpdGgodGV4dE5vZGUsIGZhbHNlKSxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB0ZXh0LFxuICAgICAgdXJsLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgcHJpdmF0ZSB0b2dnbGVNYXJrID0gKG1hcms6IE1hcmtUeXBlKSA9PiB7XG4gICAgdG9nZ2xlTWFyayhtYXJrKSh0aGlzLnZpZXcuc3RhdGUsIHRoaXMudmlldy5kaXNwYXRjaCk7XG4gICAgdGhpcy52aWV3LmZvY3VzKCk7XG4gIH07XG5cbiAgY29uc3RydWN0b3IodG9vbGJhckVsOiBFbGVtZW50LCBtb2RhbEVsOiBFbGVtZW50KSB7XG4gICAgc3VwZXIoe1xuICAgICAgdmlldzogKHZpZXdJbnN0YW5jZSkgPT4ge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3SW5zdGFuY2U7XG4gICAgICAgIHRoaXMubW9kYWxFbCA9IG1vZGFsRWw7XG4gICAgICAgIHRoaXMudG9vbGJhckVsID0gdG9vbGJhckVsO1xuXG4gICAgICAgIHRvb2xiYXJFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlVG9vbGJhckNsaWNrKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgICAgICAgIHRvb2xiYXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlVG9vbGJhckNsaWNrKTtcbiAgICAgICAgICAgIHRoaXMudW5oaWdobGlnaHRTZWxlY3RlZEF0dHJzKCk7XG4gICAgICAgICAgICB0aGlzLm1vZGFsPy5kZXN0cm95KCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB1cGRhdGU6ICh2aWV3LCBwcmV2aW91c1N0YXRlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVuaGlnaGxpZ2h0U2VsZWN0ZWRBdHRycygpO1xuICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRTZWxlY3RlZEF0dHJzKHZpZXcuc3RhdGUpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgaGFuZGxlS2V5RG93bjogKHZpZXcsIGUpID0+IHtcbiAgICAgICAgICBjb25zdCBpc1QgPSBlLndoaWNoID09PSA4NDtcbiAgICAgICAgICBjb25zdCBoYXNDdHJsID0gZS5jdHJsS2V5O1xuICAgICAgICAgIGlmIChpc1QgJiYgaGFzQ3RybCkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVDaGVja2xpc3RJdGVtKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpczcgPSBlLndoaWNoID09PSA1NTtcbiAgICAgICAgICBjb25zdCBoYXNNb2QgPSBlLm1ldGFLZXk7XG4gICAgICAgICAgaWYgKGlzNyAmJiBoYXNNb2QpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTGlzdChcbiAgICAgICAgICAgICAgc2NoZW1hLm5vZGVzLnVub3JkZXJlZF9saXN0LFxuICAgICAgICAgICAgICBzY2hlbWEubm9kZXMubGlzdF9pdGVtLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzVSA9IGUud2hpY2ggPT09IDg1O1xuICAgICAgICAgIGlmIChpc1UgJiYgaGFzQ3RybCkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVMaXN0KFxuICAgICAgICAgICAgICBzY2hlbWEubm9kZXMudW5vcmRlcmVkX2xpc3QsXG4gICAgICAgICAgICAgIHNjaGVtYS5ub2Rlcy5saXN0X2l0ZW0sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNPID0gZS53aGljaCA9PT0gNzk7XG4gICAgICAgICAgaWYgKGlzTyAmJiBoYXNDdHJsKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxpc3Qoc2NoZW1hLm5vZGVzLm9yZGVyZWRfbGlzdCwgc2NoZW1hLm5vZGVzLmxpc3RfaXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpc1BsdXMgPSBlLndoaWNoID09PSAxODc7XG4gICAgICAgICAgaWYgKGlzUGx1cyAmJiBoYXNDdHJsKSB7XG4gICAgICAgICAgICB0aGlzLnByb21vdGVIZWFkaW5nKHRoaXMudmlldy5zdGF0ZSwgdGhpcy52aWV3LmRpc3BhdGNoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzSiA9IGUud2hpY2ggPT09IDc0O1xuICAgICAgICAgIGlmIChpc0ogJiYgaGFzQ3RybCkge1xuICAgICAgICAgICAgdGhpcy5zd2FwVGV4dEJsb2NrKHNjaGVtYS5ub2Rlcy5wYXJhZ3JhcGgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNTcGFjZSA9IGUud2hpY2ggPT09IDMyO1xuICAgICAgICAgIGlmIChoYXNDdHJsICYmIGlzU3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0b2dnbGVDaGVja2xpc3RJdGVtU3RhdGUoXG4gICAgICAgICAgICAgIHRoaXMudmlldy5zdGF0ZSxcbiAgICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpc1ogPSBlLndoaWNoID09PSA5MDtcbiAgICAgICAgICBpZiAoaGFzTW9kICYmIGlzWikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZG8odGhpcy52aWV3LnN0YXRlLCB0aGlzLnZpZXcuZGlzcGF0Y2gpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzWSA9IGUud2hpY2ggPT09IDg5O1xuICAgICAgICAgIGlmIChoYXNNb2QgJiYgaXNZKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVkbyh0aGlzLnZpZXcuc3RhdGUsIHRoaXMudmlldy5kaXNwYXRjaCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNJID0gZS53aGljaCA9PT0gNzM7XG4gICAgICAgICAgaWYgKGhhc01vZCAmJiBpc0kpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTWFyayhzY2hlbWEubWFya3MuZW0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNCID0gZS53aGljaCA9PT0gNjY7XG4gICAgICAgICAgaWYgKGhhc01vZCAmJiBpc0IpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTWFyayhzY2hlbWEubWFya3Muc3Ryb25nKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzUHJpbWUgPSBlLndoaWNoID09PSAyMjI7XG4gICAgICAgICAgaWYgKGhhc01vZCAmJiBpc1ByaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZU1hcmsoc2NoZW1hLm1hcmtzLmNvZGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNLID0gZS53aGljaCA9PT0gNzU7XG4gICAgICAgICAgaWYgKGhhc01vZCAmJiBpc0spIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVMaW5rTW9kYWwodGhpcy52aWV3LnN0YXRlLCB0aGlzLnZpZXcuZGlzcGF0Y2gpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHVuaGlnaGxpZ2h0U2VsZWN0ZWRBdHRycyA9ICgpID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZEJ0bnMgPSB0aGlzLnRvb2xiYXJFbC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKTtcbiAgICBzZWxlY3RlZEJ0bnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICBoaWdobGlnaHRTZWxlY3RlZEF0dHJzID0gKHN0YXRlOiBFZGl0b3JTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkQXR0cnMgPSB0aGlzLmdldFNlbGVjdGVkRm9ybWF0QXR0cnMoc3RhdGUpO1xuICAgIGlmIChzZWxlY3RlZEF0dHJzKSB7XG4gICAgICBzZWxlY3RlZEF0dHJzLmZvckVhY2goKGF0dHIpID0+IHtcbiAgICAgICAgY29uc3QgYnRuID0gdGhpcy50b29sYmFyRWwucXVlcnlTZWxlY3RvcihgW2RhdGEtZm9ybWF0PSR7YXR0cn1dYCk7XG4gICAgICAgIGlmIChidG4pIHtcbiAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGdldFNlbGVjdGVkRm9ybWF0QW5kTWFya3MgPSAoc3RhdGU6IEVkaXRvclN0YXRlKSA9PiB7XG4gICAgaWYgKCFzdGF0ZS5zZWxlY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGNvbnN0IHsgJGZyb20sICR0bywgY29udGVudCB9ID0gc3RhdGUuc2VsZWN0aW9uO1xuICAgIGNvbnN0IGJsb2NrUmFuZ2UgPSAkZnJvbS5ibG9ja1JhbmdlKFxuICAgICAgJHRvLFxuICAgICAgKG5vZGUpID0+IG5vZGUudHlwZSAhPT0gc2NoZW1hLm5vZGVzLmxpc3RfaXRlbSxcbiAgICApO1xuXG4gICAgbGV0IHNlbGVjdGVkID0gbnVsbDtcbiAgICBmb3IgKFxuICAgICAgbGV0IGluZGV4ID0gYmxvY2tSYW5nZS5zdGFydEluZGV4O1xuICAgICAgaW5kZXggPCBibG9ja1JhbmdlLmVuZEluZGV4O1xuICAgICAgaW5kZXggKz0gMVxuICAgICkge1xuICAgICAgY29uc3QgY2hpbGQgPSBibG9ja1JhbmdlLnBhcmVudC5jaGlsZChpbmRleCk7XG4gICAgICBjb25zdCBjdXJyZW50VHlwZSA9XG4gICAgICAgIGNoaWxkLnR5cGUgPT09IHNjaGVtYS5ub2Rlcy5saXN0X2l0ZW1cbiAgICAgICAgICA/IGJsb2NrUmFuZ2UucGFyZW50LnR5cGVcbiAgICAgICAgICA6IGNoaWxkLnR5cGU7XG5cbiAgICAgIGlmIChzZWxlY3RlZCA9PT0gbnVsbCkge1xuICAgICAgICBzZWxlY3RlZCA9IGN1cnJlbnRUeXBlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzZWxlY3RlZCAhPT0gY3VycmVudFR5cGUpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnB1c2goc2VsZWN0ZWQpO1xuXG4gICAgY29uc3QgbWFya3MgPSAkZnJvbS5tYXJrc0Fjcm9zcygkdG8pO1xuICAgIGlmIChtYXJrcykge1xuICAgICAgcmVzdWx0LnB1c2goLi4ubWFya3MubWFwKChtYXJrKSA9PiBtYXJrLnR5cGUpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGdldFNlbGVjdGVkRm9ybWF0QXR0cnMgPSAoc3RhdGU6IEVkaXRvclN0YXRlKSA9PiB7XG4gICAgY29uc3QgW25vZGVUeXBlLCAuLi5tYXJrVHlwZXNdID0gdGhpcy5nZXRTZWxlY3RlZEZvcm1hdEFuZE1hcmtzKHN0YXRlKTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGxldCBhY3RpdmVCdG5BdHRyID0gbnVsbDtcbiAgICBzd2l0Y2ggKG5vZGVUeXBlKSB7XG4gICAgICBjYXNlIHNjaGVtYS5ub2Rlcy5oZWFkaW5nMTpcbiAgICAgIGNhc2Ugc2NoZW1hLm5vZGVzLmhlYWRpbmcyOiB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCdoZWFkaW5nJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBzY2hlbWEubm9kZXMucGFyYWdyYXBoOiB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCdwYXJhZ3JhcGgnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIHNjaGVtYS5ub2Rlcy51bm9yZGVyZWRfbGlzdDoge1xuICAgICAgICByZXN1bHQucHVzaCgndW5vcmRlcmVkX2xpc3QnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIHNjaGVtYS5ub2Rlcy5vcmRlcmVkX2xpc3Q6IHtcbiAgICAgICAgcmVzdWx0LnB1c2goJ29yZGVyZWRfbGlzdCcpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2Ugc2NoZW1hLm5vZGVzLmNoZWNrbGlzdF9pdGVtOiB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCdjaGVja2xpc3RfaXRlbScpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgcmVzdWx0LnB1c2gobnVsbCk7XG4gICAgICB9XG4gICAgfVxuICAgIG1hcmtUeXBlcy5mb3JFYWNoKChtYXJrVHlwZSkgPT4ge1xuICAgICAgc3dpdGNoIChtYXJrVHlwZSkge1xuICAgICAgICBjYXNlIHNjaGVtYS5tYXJrcy5saW5rOiB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goJ2xpbmsnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIHNjaGVtYS5tYXJrcy5lbToge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKCdlbScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2Ugc2NoZW1hLm1hcmtzLnN0cm9uZzoge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKCdzdHJvbmcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIHNjaGVtYS5tYXJrcy5jb2RlOiB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goJ2NvZGUnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBoYW5kbGVUb29sYmFyQ2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IGJ1dHRvbiA9IHRhcmdldC5jbG9zZXN0KGBbJHtBUFBMWV9GT1JNQVRfQVRUUn1dYCk7XG4gICAgaWYgKGJ1dHRvbikge1xuICAgICAgdGhpcy5hcHBseUZvcm1hdChidXR0b24uZ2V0QXR0cmlidXRlKEFQUExZX0ZPUk1BVF9BVFRSKSk7XG4gICAgfVxuICB9O1xuXG4gIGFwcGx5Rm9ybWF0ID0gKGRhdGFGb3JtYXRTdHI6IHN0cmluZykgPT4ge1xuICAgIHN3aXRjaCAoZGF0YUZvcm1hdFN0cikge1xuICAgICAgY2FzZSAndW5kbyc6IHtcbiAgICAgICAgdW5kbyh0aGlzLnZpZXcuc3RhdGUsIHRoaXMudmlldy5kaXNwYXRjaCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAncmVkbyc6IHtcbiAgICAgICAgcmVkbyh0aGlzLnZpZXcuc3RhdGUsIHRoaXMudmlldy5kaXNwYXRjaCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAncGFyYWdyYXBoJzoge1xuICAgICAgICB0aGlzLnN3YXBUZXh0QmxvY2soc2NoZW1hLm5vZGVzLnBhcmFncmFwaCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnaGVhZGluZyc6IHtcbiAgICAgICAgdGhpcy5wcm9tb3RlSGVhZGluZyh0aGlzLnZpZXcuc3RhdGUsIHRoaXMudmlldy5kaXNwYXRjaCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAndW5vcmRlcmVkX2xpc3QnOiB7XG4gICAgICAgIHRoaXMudG9nZ2xlTGlzdChzY2hlbWEubm9kZXMudW5vcmRlcmVkX2xpc3QsIHNjaGVtYS5ub2Rlcy5saXN0X2l0ZW0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ29yZGVyZWRfbGlzdCc6IHtcbiAgICAgICAgdGhpcy50b2dnbGVMaXN0KHNjaGVtYS5ub2Rlcy5vcmRlcmVkX2xpc3QsIHNjaGVtYS5ub2Rlcy5saXN0X2l0ZW0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2NoZWNrbGlzdF9pdGVtJzoge1xuICAgICAgICB0aGlzLnRvZ2dsZUNoZWNrbGlzdEl0ZW0oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdzdHJvbmcnOlxuICAgICAgY2FzZSAnZW0nOlxuICAgICAgY2FzZSAnY29kZSc6IHtcbiAgICAgICAgdGhpcy50b2dnbGVNYXJrKHNjaGVtYS5tYXJrc1tkYXRhRm9ybWF0U3RyXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnbGluayc6IHtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZUxpbmtNb2RhbCh0aGlzLnZpZXcuc3RhdGUsIHRoaXMudmlldy5kaXNwYXRjaCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuIiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG4vLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uIEFsc28sXG4vLyBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gKG1zQ3J5cHRvKSBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSB8fCB0eXBlb2YgbXNDcnlwdG8gIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcbnZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDsgLy8gam9pbiB1c2VkIHRvIGZpeCBtZW1vcnkgaXNzdWUgY2F1c2VkIGJ5IGNvbmNhdGVuYXRpb246IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMxNzUjYzRcblxuICByZXR1cm4gW2J0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJywgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLCBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJywgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXV0uam9pbignJyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJ5dGVzVG9VdWlkOyIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IGJ5dGVzVG9VdWlkIGZyb20gJy4vYnl0ZXNUb1V1aWQuanMnO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ3N0cmluZycpIHtcbiAgICBidWYgPSBvcHRpb25zID09PSAnYmluYXJ5JyA/IG5ldyBBcnJheSgxNikgOiBudWxsO1xuICAgIG9wdGlvbnMgPSBudWxsO1xuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7IiwiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBET01QYXJzZXIgfSBmcm9tICdwcm9zZW1pcnJvci1tb2RlbCc7XG5pbXBvcnQgQ29tcG9uZW50TWFuYWdlciBmcm9tICdzbi1jb21wb25lbnRzLWFwaSc7XG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5cbmNvbnN0IFNOX0lURU1fU0FWRV9LRVkgPSAnY29tLmR5bGFub25lbHNvbi5zbi1lZGl0b3InO1xuXG5mdW5jdGlvbiBnZXROYW1lc3BhY2VkQ29udGVudChpdGVtOiBJdGVtKSB7XG4gIGNvbnN0IHJlc3VsdCA9IGl0ZW1cbiAgICAmJiBpdGVtLmNvbnRlbnRcbiAgICAmJiBpdGVtLmNvbnRlbnRbU05fSVRFTV9TQVZFX0tFWV07XG4gIHJldHVybiByZXN1bHQgfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0VXVpZChpdGVtOiBJdGVtKSB7XG4gIGlmIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0udXVpZDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0RG9jKGl0ZW06IEl0ZW0pIHtcbiAgY29uc3QgY29udGVudCA9IGdldE5hbWVzcGFjZWRDb250ZW50KGl0ZW0pO1xuICBpZiAoY29udGVudCAmJiBjb250ZW50LmRvYykge1xuICAgIHJldHVybiBjb250ZW50LmRvYztcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0TGFzdFNhdmVkQnkoaXRlbTogSXRlbSkge1xuICBjb25zdCBjb250ZW50ID0gZ2V0TmFtZXNwYWNlZENvbnRlbnQoaXRlbSk7XG4gIGlmIChjb250ZW50ICYmIGNvbnRlbnQubGFzdFNhdmVkQnkpIHtcbiAgICByZXR1cm4gY29udGVudC5sYXN0U2F2ZWRCeTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuY2xhc3MgQ2xpZW50IHtcbiAgc3RhdGljIFNOX0lURU1fU0FWRV9LRVkgPSAnY29tLmR5bGFub25lbHNvbi5zbi1lZGl0b3InO1xuXG4gIHByaXZhdGUgc3RhdGljIGl0ZW1TZWxlY3RvcnMgPSB7XG4gIH1cblxuICBwcml2YXRlIF9pdGVtOiBJdGVtID0gbnVsbDtcblxuICBwcml2YXRlIF9yZWFkeTogUHJvbWlzZTx2b2lkPjtcblxuICBwcml2YXRlIF9pZDogc3RyaW5nO1xuXG4gIHByaXZhdGUgX2xpc3RlbmVyczogKCh7fSkgPT4gdm9pZClbXTtcblxuICBwcml2YXRlIGNvbXBvbmVudE1hbmFnZXI6IENvbXBvbmVudE1hbmFnZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5faWQgPSB1dWlkdjQoKTtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSBbXTtcblxuICAgIGxldCByZXNvbHZlQ2xpZW50UmVhZHk7XG4gICAgdGhpcy5fcmVhZHkgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsgcmVzb2x2ZUNsaWVudFJlYWR5ID0gcmVzb2x2ZTsgfSk7XG5cbiAgICB0aGlzLmNvbXBvbmVudE1hbmFnZXIgPSBuZXcgQ29tcG9uZW50TWFuYWdlcihcbiAgICAgIFt7IG5hbWU6ICdzdHJlYW0tY29udGV4dC1pdGVtJyB9XSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5jb21wb25lbnRNYW5hZ2VyLnN0cmVhbUNvbnRleHRJdGVtKGl0ZW0gPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ3N0cmVhbUNvbnRleHRJdGVtIHVwZGF0ZTonLCBpdGVtKTtcblxuICAgICAgICAgIGNvbnN0IGNhbGxMaXN0ZW5lcnMgPSB0aGlzLnNob3VsZENhbGxMaXN0ZW5lcnMoaXRlbSwgdGhpcy5faXRlbSk7XG5cbiAgICAgICAgICB0aGlzLl9pdGVtID0gaXRlbTtcblxuICAgICAgICAgIGlmIChjYWxsTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XG4gICAgICAgICAgICAgIGxpc3RlbmVyKGl0ZW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzb2x2ZUNsaWVudFJlYWR5KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBnZXQgbGF0ZXN0RG9jKCkge1xuICAgIHJldHVybiBnZXREb2ModGhpcy5faXRlbSk7XG4gIH1cblxuICBvblVwZGF0ZShjYWxsYmFjazogKHt9KSA9PiB2b2lkKSB7XG4gICAgdGhpcy5fbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnMuZmlsdGVyKGxpc3RlbmVyID0+IGxpc3RlbmVyICE9PSBjYWxsYmFjayk7XG4gICAgfVxuICB9XG5cbiAgcmVhZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYWR5O1xuICB9XG5cbiAgc2F2ZU5vdGUoanNvbkRvYykge1xuICAgIGNvbnN0IHRvU2F2ZSA9IHtcbiAgICAgIC4uLnRoaXMuX2l0ZW0sXG4gICAgICBjb250ZW50OiB7XG4gICAgICAgIC4uLnRoaXMuX2l0ZW0uY29udGVudCxcbiAgICAgICAgW1NOX0lURU1fU0FWRV9LRVldOiB7XG4gICAgICAgICAgZG9jOiBqc29uRG9jLFxuICAgICAgICAgIGxhc3RTYXZlZEJ5OiB0aGlzLl9pZCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICB0aGlzLmNvbXBvbmVudE1hbmFnZXIuc2F2ZUl0ZW1XaXRoUHJlc2F2ZSh0b1NhdmUpO1xuICB9XG5cbiAgc2hvdWxkQ2FsbExpc3RlbmVycyA9IChuZXh0SXRlbSwgcHJldmlvdXNJdGVtKSA9PiB7XG4gICAgaWYgKG5leHRJdGVtLmlzTWV0YWRhdGFVcGRhdGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGdldFV1aWQobmV4dEl0ZW0pICE9PSBnZXRVdWlkKHByZXZpb3VzSXRlbSlcbiAgICAgIHx8IGdldExhc3RTYXZlZEJ5KG5leHRJdGVtKSAhPT0gdGhpcy5faWQ7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNsaWVudCA9IG5ldyBDbGllbnQoKTtcbiIsImltcG9ydCB7IHNjaGVtYSB9IGZyb20gJy4vc2NoZW1hJztcbmltcG9ydCB7IEVkaXRvclByb3BzIH0gZnJvbSAncHJvc2VtaXJyb3Itdmlldyc7XG5pbXBvcnQgeyBDaGVja0JveE91dGxpbmUsIENoZWNrQm94IH0gZnJvbSAnLi9hc3NldHMnO1xuXG5jb25zdCBDSEVDS0JPWF9DSEVDS0VEX0NMQVNTTkFNRSA9ICdpcy1jaGVja2VkJztcblxuZXhwb3J0IGNvbnN0IG5vZGVWaWV3czogRWRpdG9yUHJvcHM8dHlwZW9mIHNjaGVtYT5bJ25vZGVWaWV3cyddID0ge1xuICBjaGVja2xpc3RfaXRlbShub2RlLCB2aWV3LCBnZXRQb3MpIHtcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgnY2hlY2tsaXN0LWl0ZW0nKTtcblxuICAgIGNvbnN0IGlucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaW5wdXREaXYuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgICBpZiAobm9kZS5hdHRycy5jaGVja2VkKSB7XG4gICAgICBpbnB1dERpdi5jbGFzc0xpc3QuYWRkKENIRUNLQk9YX0NIRUNLRURfQ0xBU1NOQU1FKTtcbiAgICAgIGlucHV0RGl2LmlubmVySFRNTCA9IENoZWNrQm94O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dERpdi5pbm5lckhUTUwgPSBDaGVja0JveE91dGxpbmU7XG4gICAgfVxuICAgIGlucHV0RGl2LmNvbnRlbnRFZGl0YWJsZSA9ICdmYWxzZSc7XG5cbiAgICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuXG4gICAgZGl2LmFwcGVuZENoaWxkKGlucHV0RGl2KTtcbiAgICBkaXYuYXBwZW5kQ2hpbGQocCk7XG5cbiAgICBjb25zdCBmb2N1c0hhbmRsZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVsYXRlZFRhcmdldCwgdGFyZ2V0IH0gPSBldmVudDtcbiAgICAgIGlmIChyZWxhdGVkVGFyZ2V0ICE9PSBpbnB1dERpdikge1xuICAgICAgICAvLyBJbnB1dCBpcyB0YWtpbmcgZm9jdXNcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB2aWV3SGFzRm9jdXMgPSB0YXJnZXQgPT09IHZpZXcuZG9tO1xuICAgICAgaWYgKHZpZXdIYXNGb2N1cykge1xuICAgICAgICAvLyBUaGUgdmlldyB3YXMgZm9jdXNlZCBiZWZvcmUgdGhlIGlucHV0XG4gICAgICAgIHZpZXcuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY2xpY2tIYW5kbGVyID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoaW5wdXREaXYuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjaGVja2VkID0gaW5wdXREaXYuY2xhc3NMaXN0LmNvbnRhaW5zKENIRUNLQk9YX0NIRUNLRURfQ0xBU1NOQU1FKTtcbiAgICAgIGNvbnN0IHsgdHIgfSA9IHZpZXcuc3RhdGU7XG4gICAgICBjb25zdCBwb3MgPSAoZ2V0UG9zIGFzICgpID0+IG51bWJlcikoKTtcbiAgICAgIHRyLnNldE5vZGVNYXJrdXAocG9zLCB1bmRlZmluZWQsIHsgY2hlY2tlZDogIWNoZWNrZWQgfSlcbiAgICAgIHZpZXcuZGlzcGF0Y2godHIpO1xuICAgIH07XG5cbiAgICB2aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZm9jdXNIYW5kbGVyKTtcbiAgICB2aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsaWNrSGFuZGxlcik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZG9tOiBkaXYsXG4gICAgICBjb250ZW50RE9NOiBwLFxuICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgdmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIGZvY3VzSGFuZGxlcik7XG4gICAgICAgIHZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tIYW5kbGVyKTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfSxcbn07XG4iLCJ2YXIgYmFzZSA9IHtcbiAgODogXCJCYWNrc3BhY2VcIixcbiAgOTogXCJUYWJcIixcbiAgMTA6IFwiRW50ZXJcIixcbiAgMTI6IFwiTnVtTG9ja1wiLFxuICAxMzogXCJFbnRlclwiLFxuICAxNjogXCJTaGlmdFwiLFxuICAxNzogXCJDb250cm9sXCIsXG4gIDE4OiBcIkFsdFwiLFxuICAyMDogXCJDYXBzTG9ja1wiLFxuICAyNzogXCJFc2NhcGVcIixcbiAgMzI6IFwiIFwiLFxuICAzMzogXCJQYWdlVXBcIixcbiAgMzQ6IFwiUGFnZURvd25cIixcbiAgMzU6IFwiRW5kXCIsXG4gIDM2OiBcIkhvbWVcIixcbiAgMzc6IFwiQXJyb3dMZWZ0XCIsXG4gIDM4OiBcIkFycm93VXBcIixcbiAgMzk6IFwiQXJyb3dSaWdodFwiLFxuICA0MDogXCJBcnJvd0Rvd25cIixcbiAgNDQ6IFwiUHJpbnRTY3JlZW5cIixcbiAgNDU6IFwiSW5zZXJ0XCIsXG4gIDQ2OiBcIkRlbGV0ZVwiLFxuICA1OTogXCI7XCIsXG4gIDYxOiBcIj1cIixcbiAgOTE6IFwiTWV0YVwiLFxuICA5MjogXCJNZXRhXCIsXG4gIDEwNjogXCIqXCIsXG4gIDEwNzogXCIrXCIsXG4gIDEwODogXCIsXCIsXG4gIDEwOTogXCItXCIsXG4gIDExMDogXCIuXCIsXG4gIDExMTogXCIvXCIsXG4gIDE0NDogXCJOdW1Mb2NrXCIsXG4gIDE0NTogXCJTY3JvbGxMb2NrXCIsXG4gIDE2MDogXCJTaGlmdFwiLFxuICAxNjE6IFwiU2hpZnRcIixcbiAgMTYyOiBcIkNvbnRyb2xcIixcbiAgMTYzOiBcIkNvbnRyb2xcIixcbiAgMTY0OiBcIkFsdFwiLFxuICAxNjU6IFwiQWx0XCIsXG4gIDE3MzogXCItXCIsXG4gIDE4NjogXCI7XCIsXG4gIDE4NzogXCI9XCIsXG4gIDE4ODogXCIsXCIsXG4gIDE4OTogXCItXCIsXG4gIDE5MDogXCIuXCIsXG4gIDE5MTogXCIvXCIsXG4gIDE5MjogXCJgXCIsXG4gIDIxOTogXCJbXCIsXG4gIDIyMDogXCJcXFxcXCIsXG4gIDIyMTogXCJdXCIsXG4gIDIyMjogXCInXCIsXG4gIDIyOTogXCJxXCJcbn07XG52YXIgYmFzZV8xID0gYmFzZTtcblxudmFyIHNoaWZ0ID0ge1xuICA0ODogXCIpXCIsXG4gIDQ5OiBcIiFcIixcbiAgNTA6IFwiQFwiLFxuICA1MTogXCIjXCIsXG4gIDUyOiBcIiRcIixcbiAgNTM6IFwiJVwiLFxuICA1NDogXCJeXCIsXG4gIDU1OiBcIiZcIixcbiAgNTY6IFwiKlwiLFxuICA1NzogXCIoXCIsXG4gIDU5OiBcIjtcIixcbiAgNjE6IFwiK1wiLFxuICAxNzM6IFwiX1wiLFxuICAxODY6IFwiOlwiLFxuICAxODc6IFwiK1wiLFxuICAxODg6IFwiPFwiLFxuICAxODk6IFwiX1wiLFxuICAxOTA6IFwiPlwiLFxuICAxOTE6IFwiP1wiLFxuICAxOTI6IFwiflwiLFxuICAyMTk6IFwie1wiLFxuICAyMjA6IFwifFwiLFxuICAyMjE6IFwifVwiLFxuICAyMjI6IFwiXFxcIlwiLFxuICAyMjk6IFwiUVwiXG59O1xudmFyIHNoaWZ0XzEgPSBzaGlmdDtcblxudmFyIGNocm9tZSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAvQ2hyb21lXFwvKFxcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xudmFyIHNhZmFyaSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvcik7XG52YXIgZ2Vja28gPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgJiYgL0dlY2tvXFwvXFxkKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbnZhciBtYWMgPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgJiYgL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xudmFyIGllID0gdHlwZW9mIG5hdmlnYXRvciAhPSBcInVuZGVmaW5lZFwiICYmIC9NU0lFIFxcZHxUcmlkZW50XFwvKD86WzctOV18XFxkezIsfSlcXC4uKnJ2OihcXGQrKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtcbnZhciBicm9rZW5Nb2RpZmllck5hbWVzID0gY2hyb21lICYmIChtYWMgfHwgK2Nocm9tZVsxXSA8IDU3KSB8fCBnZWNrbyAmJiBtYWM7XG5cbi8vIEZpbGwgaW4gdGhlIGRpZ2l0IGtleXNcbmZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykgYmFzZVs0OCArIGldID0gYmFzZVs5NiArIGldID0gU3RyaW5nKGkpO1xuXG4vLyBUaGUgZnVuY3Rpb24ga2V5c1xuZm9yICh2YXIgaSA9IDE7IGkgPD0gMjQ7IGkrKykgYmFzZVtpICsgMTExXSA9IFwiRlwiICsgaTtcblxuLy8gQW5kIHRoZSBhbHBoYWJldGljIGtleXNcbmZvciAodmFyIGkgPSA2NTsgaSA8PSA5MDsgaSsrKSB7XG4gIGJhc2VbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkgKyAzMik7XG4gIHNoaWZ0W2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZShpKTtcbn1cblxuLy8gRm9yIGVhY2ggY29kZSB0aGF0IGRvZXNuJ3QgaGF2ZSBhIHNoaWZ0LWVxdWl2YWxlbnQsIGNvcHkgdGhlIGJhc2UgbmFtZVxuZm9yICh2YXIgY29kZSBpbiBiYXNlKSBpZiAoIXNoaWZ0Lmhhc093blByb3BlcnR5KGNvZGUpKSBzaGlmdFtjb2RlXSA9IGJhc2VbY29kZV07XG5cbnZhciBrZXlOYW1lID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgLy8gRG9uJ3QgdHJ1c3QgZXZlbnQua2V5IGluIENocm9tZSB3aGVuIHRoZXJlIGFyZSBtb2RpZmllcnMgdW50aWxcbiAgLy8gdGhleSBmaXggaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NjMzODM4XG4gIHZhciBpZ25vcmVLZXkgPSBicm9rZW5Nb2RpZmllck5hbWVzICYmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5tZXRhS2V5KSB8fFxuICAgIChzYWZhcmkgfHwgaWUpICYmIGV2ZW50LnNoaWZ0S2V5ICYmIGV2ZW50LmtleSAmJiBldmVudC5rZXkubGVuZ3RoID09IDE7XG4gIHZhciBuYW1lID0gKCFpZ25vcmVLZXkgJiYgZXZlbnQua2V5KSB8fFxuICAgIChldmVudC5zaGlmdEtleSA/IHNoaWZ0IDogYmFzZSlbZXZlbnQua2V5Q29kZV0gfHxcbiAgICBldmVudC5rZXkgfHwgXCJVbmlkZW50aWZpZWRcIjtcbiAgLy8gRWRnZSBzb21ldGltZXMgcHJvZHVjZXMgd3JvbmcgbmFtZXMgKElzc3VlICMzKVxuICBpZiAobmFtZSA9PSBcIkVzY1wiKSBuYW1lID0gXCJFc2NhcGVcIjtcbiAgaWYgKG5hbWUgPT0gXCJEZWxcIikgbmFtZSA9IFwiRGVsZXRlXCI7XG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vaXNzdWVzLzg4NjA1NzEvXG4gIGlmIChuYW1lID09IFwiTGVmdFwiKSBuYW1lID0gXCJBcnJvd0xlZnRcIjtcbiAgaWYgKG5hbWUgPT0gXCJVcFwiKSBuYW1lID0gXCJBcnJvd1VwXCI7XG4gIGlmIChuYW1lID09IFwiUmlnaHRcIikgbmFtZSA9IFwiQXJyb3dSaWdodFwiO1xuICBpZiAobmFtZSA9PSBcIkRvd25cIikgbmFtZSA9IFwiQXJyb3dEb3duXCI7XG4gIHJldHVybiBuYW1lXG59O1xuXG52YXIgdzNjS2V5bmFtZSA9IHtcblx0YmFzZTogYmFzZV8xLFxuXHRzaGlmdDogc2hpZnRfMSxcblx0a2V5TmFtZToga2V5TmFtZVxufTtcblxuZXhwb3J0IGRlZmF1bHQgdzNjS2V5bmFtZTtcbmV4cG9ydCB7IGJhc2VfMSBhcyBiYXNlLCBrZXlOYW1lLCBzaGlmdF8xIGFzIHNoaWZ0IH07XG4iLCJpbXBvcnQge2Jhc2UsIGtleU5hbWV9IGZyb20gXCJ3M2Mta2V5bmFtZVwiXG5pbXBvcnQge1BsdWdpbn0gZnJvbSBcInByb3NlbWlycm9yLXN0YXRlXCJcblxuLy8gZGVjbGFyZSBnbG9iYWw6IG5hdmlnYXRvclxuXG5jb25zdCBtYWMgPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgPyAvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkgOiBmYWxzZVxuXG5mdW5jdGlvbiBub3JtYWxpemVLZXlOYW1lKG5hbWUpIHtcbiAgbGV0IHBhcnRzID0gbmFtZS5zcGxpdCgvLSg/ISQpLyksIHJlc3VsdCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdXG4gIGlmIChyZXN1bHQgPT0gXCJTcGFjZVwiKSByZXN1bHQgPSBcIiBcIlxuICBsZXQgYWx0LCBjdHJsLCBzaGlmdCwgbWV0YVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGxldCBtb2QgPSBwYXJ0c1tpXVxuICAgIGlmICgvXihjbWR8bWV0YXxtKSQvaS50ZXN0KG1vZCkpIG1ldGEgPSB0cnVlXG4gICAgZWxzZSBpZiAoL15hKGx0KT8kL2kudGVzdChtb2QpKSBhbHQgPSB0cnVlXG4gICAgZWxzZSBpZiAoL14oY3xjdHJsfGNvbnRyb2wpJC9pLnRlc3QobW9kKSkgY3RybCA9IHRydWVcbiAgICBlbHNlIGlmICgvXnMoaGlmdCk/JC9pLnRlc3QobW9kKSkgc2hpZnQgPSB0cnVlXG4gICAgZWxzZSBpZiAoL15tb2QkL2kudGVzdChtb2QpKSB7IGlmIChtYWMpIG1ldGEgPSB0cnVlOyBlbHNlIGN0cmwgPSB0cnVlIH1cbiAgICBlbHNlIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBtb2RpZmllciBuYW1lOiBcIiArIG1vZClcbiAgfVxuICBpZiAoYWx0KSByZXN1bHQgPSBcIkFsdC1cIiArIHJlc3VsdFxuICBpZiAoY3RybCkgcmVzdWx0ID0gXCJDdHJsLVwiICsgcmVzdWx0XG4gIGlmIChtZXRhKSByZXN1bHQgPSBcIk1ldGEtXCIgKyByZXN1bHRcbiAgaWYgKHNoaWZ0KSByZXN1bHQgPSBcIlNoaWZ0LVwiICsgcmVzdWx0XG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplKG1hcCkge1xuICBsZXQgY29weSA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgZm9yIChsZXQgcHJvcCBpbiBtYXApIGNvcHlbbm9ybWFsaXplS2V5TmFtZShwcm9wKV0gPSBtYXBbcHJvcF1cbiAgcmV0dXJuIGNvcHlcbn1cblxuZnVuY3Rpb24gbW9kaWZpZXJzKG5hbWUsIGV2ZW50LCBzaGlmdCkge1xuICBpZiAoZXZlbnQuYWx0S2V5KSBuYW1lID0gXCJBbHQtXCIgKyBuYW1lXG4gIGlmIChldmVudC5jdHJsS2V5KSBuYW1lID0gXCJDdHJsLVwiICsgbmFtZVxuICBpZiAoZXZlbnQubWV0YUtleSkgbmFtZSA9IFwiTWV0YS1cIiArIG5hbWVcbiAgaWYgKHNoaWZ0ICE9PSBmYWxzZSAmJiBldmVudC5zaGlmdEtleSkgbmFtZSA9IFwiU2hpZnQtXCIgKyBuYW1lXG4gIHJldHVybiBuYW1lXG59XG5cbi8vIDo6IChPYmplY3QpIOKGkiBQbHVnaW5cbi8vIENyZWF0ZSBhIGtleW1hcCBwbHVnaW4gZm9yIHRoZSBnaXZlbiBzZXQgb2YgYmluZGluZ3MuXG4vL1xuLy8gQmluZGluZ3Mgc2hvdWxkIG1hcCBrZXkgbmFtZXMgdG8gW2NvbW1hbmRdKCNjb21tYW5kcyktc3R5bGVcbi8vIGZ1bmN0aW9ucywgd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2l0aCBgKEVkaXRvclN0YXRlLCBkaXNwYXRjaCxcbi8vIEVkaXRvclZpZXcpYCBhcmd1bWVudHMsIGFuZCBzaG91bGQgcmV0dXJuIHRydWUgd2hlbiB0aGV5J3ZlIGhhbmRsZWRcbi8vIHRoZSBrZXkuIE5vdGUgdGhhdCB0aGUgdmlldyBhcmd1bWVudCBpc24ndCBwYXJ0IG9mIHRoZSBjb21tYW5kXG4vLyBwcm90b2NvbCwgYnV0IGNhbiBiZSB1c2VkIGFzIGFuIGVzY2FwZSBoYXRjaCBpZiBhIGJpbmRpbmcgbmVlZHMgdG9cbi8vIGRpcmVjdGx5IGludGVyYWN0IHdpdGggdGhlIFVJLlxuLy9cbi8vIEtleSBuYW1lcyBtYXkgYmUgc3RyaW5ncyBsaWtlIGBcIlNoaWZ0LUN0cmwtRW50ZXJcImDigJRhIGtleVxuLy8gaWRlbnRpZmllciBwcmVmaXhlZCB3aXRoIHplcm8gb3IgbW9yZSBtb2RpZmllcnMuIEtleSBpZGVudGlmaWVyc1xuLy8gYXJlIGJhc2VkIG9uIHRoZSBzdHJpbmdzIHRoYXQgY2FuIGFwcGVhciBpblxuLy8gW2BLZXlFdmVudC5rZXlgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudC9rZXkpLlxuLy8gVXNlIGxvd2VyY2FzZSBsZXR0ZXJzIHRvIHJlZmVyIHRvIGxldHRlciBrZXlzIChvciB1cHBlcmNhc2UgbGV0dGVyc1xuLy8gaWYgeW91IHdhbnQgc2hpZnQgdG8gYmUgaGVsZCkuIFlvdSBtYXkgdXNlIGBcIlNwYWNlXCJgIGFzIGFuIGFsaWFzXG4vLyBmb3IgdGhlIGBcIiBcImAgbmFtZS5cbi8vXG4vLyBNb2RpZmllcnMgY2FuIGJlIGdpdmVuIGluIGFueSBvcmRlci4gYFNoaWZ0LWAgKG9yIGBzLWApLCBgQWx0LWAgKG9yXG4vLyBgYS1gKSwgYEN0cmwtYCAob3IgYGMtYCBvciBgQ29udHJvbC1gKSBhbmQgYENtZC1gIChvciBgbS1gIG9yXG4vLyBgTWV0YS1gKSBhcmUgcmVjb2duaXplZC4gRm9yIGNoYXJhY3RlcnMgdGhhdCBhcmUgY3JlYXRlZCBieSBob2xkaW5nXG4vLyBzaGlmdCwgdGhlIGBTaGlmdC1gIHByZWZpeCBpcyBpbXBsaWVkLCBhbmQgc2hvdWxkIG5vdCBiZSBhZGRlZFxuLy8gZXhwbGljaXRseS5cbi8vXG4vLyBZb3UgY2FuIHVzZSBgTW9kLWAgYXMgYSBzaG9ydGhhbmQgZm9yIGBDbWQtYCBvbiBNYWMgYW5kIGBDdHJsLWAgb25cbi8vIG90aGVyIHBsYXRmb3Jtcy5cbi8vXG4vLyBZb3UgY2FuIGFkZCBtdWx0aXBsZSBrZXltYXAgcGx1Z2lucyB0byBhbiBlZGl0b3IuIFRoZSBvcmRlciBpblxuLy8gd2hpY2ggdGhleSBhcHBlYXIgZGV0ZXJtaW5lcyB0aGVpciBwcmVjZWRlbmNlICh0aGUgb25lcyBlYXJseSBpblxuLy8gdGhlIGFycmF5IGdldCB0byBkaXNwYXRjaCBmaXJzdCkuXG5leHBvcnQgZnVuY3Rpb24ga2V5bWFwKGJpbmRpbmdzKSB7XG4gIHJldHVybiBuZXcgUGx1Z2luKHtwcm9wczoge2hhbmRsZUtleURvd246IGtleWRvd25IYW5kbGVyKGJpbmRpbmdzKX19KVxufVxuXG4vLyA6OiAoT2JqZWN0KSDihpIgKHZpZXc6IEVkaXRvclZpZXcsIGV2ZW50OiBkb20uRXZlbnQpIOKGkiBib29sXG4vLyBHaXZlbiBhIHNldCBvZiBiaW5kaW5ncyAodXNpbmcgdGhlIHNhbWUgZm9ybWF0IGFzXG4vLyBbYGtleW1hcGBdKCNrZXltYXAua2V5bWFwKSwgcmV0dXJuIGEgW2tleWRvd25cbi8vIGhhbmRsZXJdKCN2aWV3LkVkaXRvclByb3BzLmhhbmRsZUtleURvd24pIHRoYXQgaGFuZGxlcyB0aGVtLlxuZXhwb3J0IGZ1bmN0aW9uIGtleWRvd25IYW5kbGVyKGJpbmRpbmdzKSB7XG4gIGxldCBtYXAgPSBub3JtYWxpemUoYmluZGluZ3MpXG4gIHJldHVybiBmdW5jdGlvbih2aWV3LCBldmVudCkge1xuICAgIGxldCBuYW1lID0ga2V5TmFtZShldmVudCksIGlzQ2hhciA9IG5hbWUubGVuZ3RoID09IDEgJiYgbmFtZSAhPSBcIiBcIiwgYmFzZU5hbWVcbiAgICBsZXQgZGlyZWN0ID0gbWFwW21vZGlmaWVycyhuYW1lLCBldmVudCwgIWlzQ2hhcildXG4gICAgaWYgKGRpcmVjdCAmJiBkaXJlY3Qodmlldy5zdGF0ZSwgdmlldy5kaXNwYXRjaCwgdmlldykpIHJldHVybiB0cnVlXG4gICAgaWYgKGlzQ2hhciAmJiAoZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpICYmXG4gICAgICAgIChiYXNlTmFtZSA9IGJhc2VbZXZlbnQua2V5Q29kZV0pICYmIGJhc2VOYW1lICE9IG5hbWUpIHtcbiAgICAgIGxldCBmcm9tQ29kZSA9IG1hcFttb2RpZmllcnMoYmFzZU5hbWUsIGV2ZW50LCB0cnVlKV1cbiAgICAgIGlmIChmcm9tQ29kZSAmJiBmcm9tQ29kZSh2aWV3LnN0YXRlLCB2aWV3LmRpc3BhdGNoLCB2aWV3KSkgcmV0dXJuIHRydWVcbiAgICB9IGVsc2UgaWYgKGlzQ2hhciAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgbGV0IHdpdGhTaGlmdCA9IG1hcFttb2RpZmllcnMobmFtZSwgZXZlbnQsIHRydWUpXVxuICAgICAgaWYgKHdpdGhTaGlmdCAmJiB3aXRoU2hpZnQodmlldy5zdGF0ZSwgdmlldy5kaXNwYXRjaCwgdmlldykpIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG4iLCJpbXBvcnQgeyBFZGl0b3JTdGF0ZSwgUGx1Z2luIH0gZnJvbSAncHJvc2VtaXJyb3Itc3RhdGUnO1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ3Byb3NlbWlycm9yLXZpZXcnO1xuaW1wb3J0IHsgYmFzZUtleW1hcCB9IGZyb20gJ3Byb3NlbWlycm9yLWNvbW1hbmRzJztcbmltcG9ydCB7IGtleW1hcCB9IGZyb20gJ3Byb3NlbWlycm9yLWtleW1hcCc7XG5pbXBvcnQgeyBsaWZ0TGlzdEl0ZW0sIHNpbmtMaXN0SXRlbSwgc3BsaXRMaXN0SXRlbSB9IGZyb20gJ3Byb3NlbWlycm9yLXNjaGVtYS1saXN0JztcbmltcG9ydCB7IHNjaGVtYSB9IGZyb20gJy4vc2NoZW1hJztcblxuZXhwb3J0IGNvbnN0IGtleW1hcFBsdWdpbnM6IFBsdWdpbltdID0gW1xuICBrZXltYXAoe1xuICAgIEVudGVyOiBzcGxpdExpc3RJdGVtKHNjaGVtYS5ub2Rlcy5saXN0X2l0ZW0pLFxuICB9KSxcbiAga2V5bWFwKHtcbiAgICBFbnRlcihzdGF0ZSwgZGlzcGF0Y2gpIHtcbiAgICAgIGNvbnN0IHsgc2VsZWN0aW9uOiB7ICRmcm9tLCBmcm9tIH0sIHRyIH0gPSBzdGF0ZTtcbiAgICAgIGlmICgkZnJvbS5wYXJlbnQudHlwZSAhPT0gc2NoZW1hLm5vZGVzLmNoZWNrbGlzdF9pdGVtKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRyLmRlbGV0ZVNlbGVjdGlvbigpO1xuICAgICAgY29uc3QgbmV4dCRGcm9tID0gdHIuZG9jLnJlc29sdmUoZnJvbSk7XG4gICAgICBpZiAobmV4dCRGcm9tLnBhcmVudC5ub2RlU2l6ZSA9PT0gMil7XG4gICAgICAgIGNvbnN0IG5leHRGcm9tID0gbmV4dCRGcm9tLnBvcztcbiAgICAgICAgLy8gVGhlIG5vZGUgaXMgZW1wdHlcbiAgICAgICAgdHIucmVwbGFjZVdpdGgobmV4dEZyb20gLSAxLCBuZXh0RnJvbSArIDEsIHNjaGVtYS5ub2Rlcy5wYXJhZ3JhcGguY3JlYXRlQW5kRmlsbCgpKTtcbiAgICAgICAgZGlzcGF0Y2godHIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRyLnNwbGl0KGZyb20sIHVuZGVmaW5lZCwgW3tcbiAgICAgICAgdHlwZTogc2NoZW1hLm5vZGVzLmNoZWNrbGlzdF9pdGVtLFxuICAgICAgICBhdHRyczogeyBjaGVja2VkOiBmYWxzZSB9XG4gICAgICB9XSk7XG4gICAgICBkaXNwYXRjaCh0cik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICB9KSxcbiAga2V5bWFwKGJhc2VLZXltYXApLFxuXTtcbiIsImltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IENvbXBvbmVudE1hbmFnZXIgZnJvbSAnc24tY29tcG9uZW50cy1hcGknO1xuaW1wb3J0IHsgYmFzZUtleW1hcCB9IGZyb20gJ3Byb3NlbWlycm9yLWNvbW1hbmRzJztcbmltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdwcm9zZW1pcnJvci12aWV3JztcbmltcG9ydCB7IEVkaXRvclN0YXRlLCBQbHVnaW4gfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSc7XG5pbXBvcnQgeyBoaXN0b3J5IH0gZnJvbSAncHJvc2VtaXJyb3ItaGlzdG9yeSc7XG5pbXBvcnQgeyBpbnB1dFJ1bGVzUGx1Z2luIH0gZnJvbSAnLi9pbnB1dFJ1bGVzJztcbmltcG9ydCB7IFRvb2xiYXJQbHVnaW4gfSBmcm9tICcuL1Rvb2xiYXJQbHVnaW4nO1xuaW1wb3J0IHsgc2NoZW1hIH0gZnJvbSAnLi9zY2hlbWEnO1xuaW1wb3J0IHsgY2xpZW50IH0gZnJvbSAnLi9jbGllbnQnO1xuaW1wb3J0IHsgbm9kZVZpZXdzIH0gZnJvbSAnLi9ub2RlVmlld3MnO1xuaW1wb3J0IHsga2V5bWFwUGx1Z2lucyB9IGZyb20gJy4va2V5bWFwcyc7XG5cbmludGVyZmFjZSBBcHBXaW5kb3cgZXh0ZW5kcyBXaW5kb3cge1xuICB2aWV3OiBFZGl0b3JWaWV3O1xufVxuXG5kZWNsYXJlIGNvbnN0IHdpbmRvdzogQXBwV2luZG93O1xuXG5mdW5jdGlvbiBnZXREb2NGb3JOZXdFZGl0b3JTdGF0ZSgpIHtcbiAgcmV0dXJuIGNsaWVudC5sYXRlc3REb2NcbiAgICA/IHNjaGVtYS5ub2RlRnJvbUpTT04oY2xpZW50LmxhdGVzdERvYylcbiAgICA6IHNjaGVtYS50b3BOb2RlVHlwZS5jcmVhdGVBbmRGaWxsKCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGluaXQoKSB7XG4gIGF3YWl0IGNsaWVudC5yZWFkeSgpO1xuXG4gIGNvbnN0IHZpZXcgPSAod2luZG93LnZpZXcgPSBuZXcgRWRpdG9yVmlldyhcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWRpdG9yJyksXG4gICAge1xuICAgICAgc3RhdGU6IEVkaXRvclN0YXRlLmNyZWF0ZSh7XG4gICAgICAgIGRvYzogZ2V0RG9jRm9yTmV3RWRpdG9yU3RhdGUoKSxcbiAgICAgICAgcGx1Z2luczogW1xuICAgICAgICAgIC4uLmtleW1hcFBsdWdpbnMsXG4gICAgICAgICAgbmV3IFRvb2xiYXJQbHVnaW4oXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9vbGJhcicpLFxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpbmstbW9kYWwnKSxcbiAgICAgICAgICApLFxuICAgICAgICAgIG5ldyBQbHVnaW4oe1xuICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgbm9kZVZpZXdzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBpbnB1dFJ1bGVzUGx1Z2luLFxuICAgICAgICAgIGhpc3RvcnkoKSxcbiAgICAgICAgXSxcbiAgICAgIH0pLFxuICAgICAgZGlzcGF0Y2hUcmFuc2FjdGlvbih0cikge1xuICAgICAgICBjb25zdCBuZXh0ID0gdmlldy5zdGF0ZS5hcHBseSh0cik7XG4gICAgICAgIHZpZXcudXBkYXRlU3RhdGUobmV4dCk7XG4gICAgICAgIGNsaWVudC5zYXZlTm90ZShuZXh0LmRvYy50b0pTT04oKSk7XG4gICAgICB9LFxuICAgIH0sXG4gICkpO1xuXG4gIGNsaWVudC5vblVwZGF0ZSgoZG9jKSA9PiB7XG4gICAgY29uc3QgcGx1Z2lucyA9IHZpZXcuc3RhdGUucGx1Z2lucy5maWx0ZXIocGx1Z2luID0+IChwbHVnaW4gaW5zdGFuY2VvZiBUb29sYmFyUGx1Z2luKSA9PT0gZmFsc2UpO1xuXG4gICAgdmlldy5zZXRQcm9wcyh7XG4gICAgICBzdGF0ZTogRWRpdG9yU3RhdGUuY3JlYXRlKHtcbiAgICAgICAgZG9jOiBnZXREb2NGb3JOZXdFZGl0b3JTdGF0ZSgpLFxuICAgICAgICBwbHVnaW5zOiBbLi4ucGx1Z2lucywgbmV3IFRvb2xiYXJQbHVnaW4oXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rvb2xiYXInKSxcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGluay1tb2RhbCcpLFxuICAgICAgICApXSxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9KTtcbn1cblxuaW5pdCgpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==